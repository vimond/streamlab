/*! For license information please see 2.d8c7c152.chunk.js.LICENSE.txt */
(this.webpackJsonpstreamlab=this.webpackJsonpstreamlab||[]).push([[2],[function(e,t,r){"use strict";e.exports=r(207)},function(e,t,r){e.exports=r(214)()},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return c}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}function c(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(58);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return h})),r.d(t,"a",(function(){return g}));var n=r(26),i=r.n(n),a=function(e,t){var r=i()({},e,t);for(var n in e){var a;e[n]&&"object"===typeof t[n]&&i()(r,((a={})[n]=i()(e[n],t[n]),a))}return r},o={breakpoints:[40,52,64].map((function(e){return e+"em"}))},s=function(e){return"@media screen and (min-width: "+e+")"},l=function(e,t){return u(t,e,e)},u=function(e,t,r,n,i){for(t=t&&t.split?t.split("."):[t],n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e},c=function e(t){var r={},n=function(e){var n={},l=!1,c=e.theme&&e.theme.disableStyledSystemCache;for(var p in e)if(t[p]){var h=t[p],g=e[p],m=u(e.theme,h.scale,h.defaults);if("object"!==typeof g)i()(n,h(g,m,e));else{if(r.breakpoints=!c&&r.breakpoints||u(e.theme,"breakpoints",o.breakpoints),Array.isArray(g)){r.media=!c&&r.media||[null].concat(r.breakpoints.map(s)),n=a(n,d(r.media,h,m,g,e));continue}null!==g&&(n=a(n,f(r.breakpoints,h,m,g,e)),l=!0)}}return l&&(n=function(e){var t={};return Object.keys(e).sort((function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})})).forEach((function(r){t[r]=e[r]})),t}(n)),n};n.config=t,n.propNames=Object.keys(t),n.cache=r;var l=Object.keys(t).filter((function(e){return"config"!==e}));return l.length>1&&l.forEach((function(r){var i;n[r]=e(((i={})[r]=t[r],i))})),n},d=function(e,t,r,n,a){var o={};return n.slice(0,e.length).forEach((function(n,s){var l,u=e[s],c=t(n,r,a);u?i()(o,((l={})[u]=i()({},o[u],c),l)):i()(o,c)})),o},f=function(e,t,r,n,a){var o={};for(var l in n){var u=e[l],c=t(n[l],r,a);if(u){var d,f=s(u);i()(o,((d={})[f]=i()({},o[f],c),d))}else i()(o,c)}return o},p=function(e){var t=e.properties,r=e.property,n=e.scale,i=e.transform,a=void 0===i?l:i,o=e.defaultScale;t=t||[r];var s=function(e,r,n){var i={},o=a(e,r,n);if(null!==o)return t.forEach((function(e){i[e]=o})),i};return s.scale=n,s.defaults=o,s},h=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(r){var n=e[r];t[r]=!0!==n?"function"!==typeof n?p(n):n:p({property:r,scale:r})})),c(t)},g=function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){t&&t.config&&i()(e,t.config)}));var a=c(e);return a}},function(e,t,r){"use strict";function n(e){return"number"===typeof e}r.d(t,"f",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"i",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"h",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return d}));function i(e){return Array.isArray(e)}function a(e){return"function"===typeof e}var o=function(e){return"undefined"===typeof e||void 0===e},s=function(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)&&!i(e)},l=function(e){return s(e)&&0===Object.keys(e).length};function u(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return e&&s(e)&&s(e.target)}var d=!1},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return k}));var n=r(0),i=r.n(n),a=(r(1),i.a.createContext(null));var o=function(e){e()},s={notify:function(){}};function l(){var e=o,t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=l())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var c=function(e){var t=e.store,r=e.context,o=e.children,s=Object(n.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=Object(n.useMemo)((function(){return t.getState()}),[t]);Object(n.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,l]);var c=r||a;return i.a.createElement(c.Provider,{value:s},o)},d=(r(24),r(44),r(59),r(107),"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect);r(33);function f(){return Object(n.useContext)(a)}function p(e){void 0===e&&(e=a);var t=e===a?f:function(){return Object(n.useContext)(e)};return function(){return t().store}}var h=p();function g(e){void 0===e&&(e=a);var t=e===a?h:p(e);return function(){return t().dispatch}}var m=g(),v=function(e,t){return e===t};function y(e){void 0===e&&(e=a);var t=e===a?f:function(){return Object(n.useContext)(e)};return function(e,r){void 0===r&&(r=v);var i=t();return function(e,t,r,i){var a,o=Object(n.useReducer)((function(e){return e+1}),0)[1],s=Object(n.useMemo)((function(){return new u(r,i)}),[r,i]),l=Object(n.useRef)(),c=Object(n.useRef)(),f=Object(n.useRef)();try{a=e!==c.current||l.current?e(r.getState()):f.current}catch(p){throw l.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),p}return d((function(){c.current=e,f.current=a,l.current=void 0})),d((function(){function e(){try{var e=c.current(r.getState());if(t(e,f.current))return;f.current=e}catch(p){l.current=p}o({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription)}}var b,k=y(),_=r(57);b=_.unstable_batchedUpdates,o=b},function(e,t,r){"use strict";var n=r(96);Object.defineProperty(t,"__esModule",{value:!0}),t.prefixClassNames=i,t.hydrateClassNames=function(e){var t=e.classes,r=e.selectClasses,o=e.classNames,s=e.classNamePrefix;if(t&&r){var l=r(t);return Array.isArray(l)?l.filter(a).join(" "):l}if(o)return i.apply(void 0,[s].concat(n(o)))},t.getBoundingEventCoordinates=function(e,t){var r,n=(t||e.currentTarget).getBoundingClientRect();r=e.touches&&e.touches.length>0?e.touches[0]:e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e;return{x:Math.max(0,Math.min(r.pageX-n.left,n.width)),y:Math.max(0,Math.min(r.pageY-n.top,n.height)),width:n.width,height:n.height}},t.getKeyboardShortcutBlocker=function(e){return function(t){e.indexOf(t.key)>=0&&(t.preventDefault(),t.stopPropagation())}},t.deepClone=l,t.override=function e(t,r){var n=l(t);if(r){var i=r;Object.getOwnPropertyNames(i).forEach((function(t){s(i[t])?s(n[t])?n[t]=e(n[t],i[t]):n[t]=l(i[t]):n[t]=i[t]}))}return n},t.getIntervalRunner=t.formatClockTime=t.formatTime=t.formatTimeComponent=t.isShallowEqual=t.isObject=t.isDifferent=t.defaultClassNamePrefix=void 0;function i(e){for(var t=null==e?"":e,r=[],n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];for(var o=0;o<i.length;o++)i[o]&&r.push(t+i[o]);return r.join(" ")}t.defaultClassNamePrefix="replay-";var a=function(e){return e};var o=function(e,t){return e!==t&&(!(e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime())&&!(Number.isNaN(e)&&Number.isNaN(t)))};t.isDifferent=o;var s=function(e){return null!=e&&e.constructor==={}.constructor};t.isObject=s;function l(e){if(null==e)return{};var t={},r=e;return Object.keys(e).forEach((function(e){s(r[e])?t[e]=l(r[e]):t[e]=r[e]})),t}t.isShallowEqual=function(e,t){if(e===t)return!0;if(s(e)&&s(t)){var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&(!(r.filter((function(r){return o(e[r],t[r])})).length>0)&&0===n.filter((function(r){return o(t[r],e[r])})).length)}if(Array.isArray(e)&&Array.isArray(t)&&e.length===t.length){for(var i=e.length;i--;)if(e[i]!==t[i])return!1;return!0}return!1};var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r&&0===e?"":e<10&&n?"0".concat(e).concat(t):"".concat(e).concat(t)};t.formatTimeComponent=u;t.formatTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=Math.round(e),n="";"number"!==typeof e||isNaN(e)||e===1/0?r=0:r<0&&(r=-r,n=t);var i=Math.floor(r/86400),a=86400*i,o=Math.floor((r-a)/3600),s=a+3600*o,l=Math.floor((r-s)/60),c=r-s-60*l;return n+u(i,".",!0,!1)+u(o,":",0===i)+u(l,":",!1)+u(c)};t.formatClockTime=function(e){var t=e instanceof Date&&!isNaN(e.getTime()),r=0,n=0,i=0;return t&&null!=e&&(r=t?e.getHours():0,n=t?e.getMinutes():0,i=t?e.getSeconds():0),u(r,":",!1)+u(n,":",!1)+u(i)};t.getIntervalRunner=function(e,t){var r=null;return{start:function(){r||(r=setInterval(e,1e3*t))},stop:function(){r&&(clearInterval(r),r=null)}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return v})),r.d(t,"j",(function(){return y})),r.d(t,"k",(function(){return w})),r.d(t,"l",(function(){return S})),r.d(t,"o",(function(){return x})),r.d(t,"p",(function(){return O})),r.d(t,"s",(function(){return C})),r.d(t,"t",(function(){return M})),r.d(t,"u",(function(){return R})),r.d(t,"v",(function(){return D})),r.d(t,"w",(function(){return L})),r.d(t,"x",(function(){return N})),r.d(t,"C",(function(){return B})),r.d(t,"D",(function(){return F})),r.d(t,"q",(function(){return V})),r.d(t,"r",(function(){return $})),r.d(t,"m",(function(){return K})),r.d(t,"n",(function(){return H})),r.d(t,"A",(function(){return Z})),r.d(t,"B",(function(){return q})),r.d(t,"y",(function(){return Y})),r.d(t,"z",(function(){return Q}));var n=r(6),i={bg:{property:"background",scale:"colors"},bgColor:{property:"backgroundColor",scale:"colors"},background:{property:"background",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundBlendMode:!0,bgImage:{property:"backgroundImage"},bgImg:{property:"backgroundImage"},bgBlendMode:{property:"backgroundBlendMode"},bgSize:{property:"backgroundSize"},bgPosition:{property:"backgroundPosition"},bgPos:{property:"backgroundPosition"},bgRepeat:{property:"backgroundRepeat"},bgAttachment:{property:"backgroundAttachment"}},a=Object(n.c)(i),o=Object(n.b)(i),s={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},rounded:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},roundedTopLeft:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},roundedTopRight:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},roundedBottomLeft:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},roundedBottomRight:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"},borderTopWidth:{property:"borderTopWidth",scale:"borderWidths"},borderTopColor:{property:"borderTopColor",scale:"colors"},borderTopStyle:{property:"borderTopStyle",scale:"borderStyles"},borderBottomWidth:{property:"borderBottomWidth",scale:"borderWidths"},borderBottomColor:{property:"borderBottomColor",scale:"colors"},borderBottomStyle:{property:"borderBottomStyle",scale:"borderStyles"},borderLeftWidth:{property:"borderLeftWidth",scale:"borderWidths"},borderLeftColor:{property:"borderLeftColor",scale:"colors"},borderLeftStyle:{property:"borderLeftStyle",scale:"borderStyles"},borderRightWidth:{property:"borderRightWidth",scale:"borderWidths"},borderRightColor:{property:"borderRightColor",scale:"colors"},borderRightStyle:{property:"borderRightStyle",scale:"borderStyles"},borderTopRadius:{properties:["borderTopLeftRadius","borderTopRightRadius"],scale:"radii"},roundedTop:{properties:["borderTopLeftRadius","borderTopRightRadius"],scale:"radii"},borderBottomRadius:{properties:["borderBottomLeftRadius","borderBottomRightRadius"],scale:"radii"},roundedBottom:{properties:["borderBottomLeftRadius","borderBottomRightRadius"],scale:"radii"},borderLeftRadius:{properties:["borderTopLeftRadius","borderBottomLeftRadius"],scale:"radii"},roundedLeft:{properties:["borderTopLeftRadius","borderBottomLeftRadius"],scale:"radii"},borderRightRadius:{properties:["borderTopRightRadius","borderBottomRightRadius"],scale:"radii"},roundedRight:{properties:["borderTopRightRadius","borderBottomRightRadius"],scale:"radii"}},l=Object(n.c)(s),u=Object(n.b)(s),c={color:{property:"color",scale:"colors"},textColor:{property:"color",scale:"colors"},opacity:!0,fill:{property:"fill",scale:"colors"},stroke:{property:"stroke",scale:"colors"}},d=Object(n.c)(c),f=Object(n.b)(c),p={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:{property:"flexBasis",scale:"sizes"},justifySelf:!0,alignSelf:!0,order:!0,flexDir:{property:"flexDirection"}},h=Object(n.c)(p),g=Object(n.b)(p),m={gridGap:{property:"gridGap",scale:"space"},gridColumnGap:{property:"gridColumnGap",scale:"space"},gridRowGap:{property:"gridRowGap",scale:"space"},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0,placeItems:!0},v=Object(n.c)(m),y=Object(n.b)(m),b=r(7),k=r(46);function _(e,t){var r=!Object(b.f)(e)||e>1?e:100*e+"%";return Object(k.c)(t,e,r)}var E={width:{property:"width",scale:"sizes",transform:_},w:{property:"width",scale:"sizes",transform:_},height:{property:"height",scale:"sizes"},h:{property:"height",scale:"sizes"},boxSize:{properties:["width","height"],scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minW:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},minH:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxW:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},maxH:{property:"maxHeight",scale:"sizes"},d:{property:"display"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0,boxSizing:!0},w=Object(n.c)(E),S=Object(n.b)(E),T={animation:!0,appearance:!0,visibility:!0,userSelect:!0,pointerEvents:!0,cursor:!0,resize:!0,objectFit:!0,objectPosition:!0,float:!0,willChange:!0},x=Object(n.c)(T),O=Object(n.b)(T),P=r(23),A={position:!0,pos:{property:"position"},zIndex:{property:"zIndex",scale:"zIndices"},inset:{properties:["left","top","bottom","right"],scale:"space",transform:P.positiveOrNegative},insetX:{properties:["left","right"],scale:"space",transform:P.positiveOrNegative},insetY:{properties:["top","bottom"],scale:"space",transform:P.positiveOrNegative},top:{property:"top",scale:"space",transform:P.positiveOrNegative},right:{property:"right",scale:"space",transform:P.positiveOrNegative},bottom:{property:"bottom",scale:"space",transform:P.positiveOrNegative},left:{property:"left",scale:"space",transform:P.positiveOrNegative}},C=Object(n.c)(A),M=Object(n.b)(A),I={boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"},shadow:{property:"boxShadow",scale:"shadows"}},R=Object(n.c)(I),D=Object(n.b)(I),j={margin:{property:"margin",transform:P.positiveOrNegative,scale:"space"},m:{property:"margin",transform:P.positiveOrNegative,scale:"space"},marginTop:{property:"marginTop",transform:P.positiveOrNegative,scale:"space"},mt:{property:"marginTop",transform:P.positiveOrNegative,scale:"space"},marginRight:{property:"marginRight",transform:P.positiveOrNegative,scale:"space"},mr:{property:"marginRight",transform:P.positiveOrNegative,scale:"space"},marginBottom:{property:"marginBottom",transform:P.positiveOrNegative,scale:"space"},mb:{property:"marginBottom",transform:P.positiveOrNegative,scale:"space"},marginLeft:{property:"marginLeft",transform:P.positiveOrNegative,scale:"space"},ml:{property:"marginLeft",transform:P.positiveOrNegative,scale:"space"},marginX:{properties:["marginLeft","marginRight"],transform:P.positiveOrNegative,scale:"space"},mx:{properties:["marginLeft","marginRight"],transform:P.positiveOrNegative,scale:"space"},marginY:{properties:["marginTop","marginBottom"],transform:P.positiveOrNegative,scale:"space"},my:{properties:["marginTop","marginBottom"],transform:P.positiveOrNegative,scale:"space"},padding:{property:"padding",scale:"space"},p:{property:"padding",scale:"space"},paddingTop:{property:"paddingTop",scale:"space"},pt:{property:"paddingTop",scale:"space"},paddingRight:{property:"paddingRight",scale:"space"},pr:{property:"paddingRight",scale:"space"},paddingBottom:{property:"paddingBottom",scale:"space"},pb:{property:"paddingBottom",scale:"space"},paddingLeft:{property:"paddingLeft",scale:"space"},pl:{property:"paddingLeft",scale:"space"},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space"},px:{properties:["paddingLeft","paddingRight"],scale:"space"},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space"},py:{properties:["paddingTop","paddingBottom"],scale:"space"}},L=Object(n.c)(j),N=Object(n.b)(j),U={fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes"},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,textDecoration:!0,textDecor:{property:"textDecoration"}},B=Object(n.c)(U),F=Object(n.b)(U),z={outline:!0,outlineOffset:!0,outlineColor:{property:"outlineColor",scale:"colors"}},V=Object(n.c)(z),$=Object(n.b)(z),W={listStyleType:!0,listStylePosition:!0,listStylePos:{property:"listStylePosition"},listStyleImage:!0,listStyleImg:{property:"listStyleImage"}},K=Object(n.c)(W),H=Object(n.b)(W),G={transition:!0,transitionDuration:{property:"transitionDuration",scale:"transition.duration"},transitionProperty:{property:"transitionProperty",scale:"transition.property"},transitionTimingFunction:{property:"transitionTimingFunction",scale:"transition.easing"}},Z=Object(n.c)(G),q=Object(n.b)(G),X={transform:!0,transformOrigin:!0},Y=Object(n.c)(X),Q=Object(n.b)(X)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){var n=r(95);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(133),i=r(134),a=r(226);e.exports=function(e){return function(){var t,r=n(e);if(i()){var o=n(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return a(this,t)}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},,function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";var n;r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return d}));try{n=window}catch(f){}var i=function(e){var t,r;return null!=(t=null==e||null==(r=e.ownerDocument)?void 0:r.defaultView)?t:n};var a=function(){var e=i();return Boolean("undefined"!==typeof e&&e.document&&e.document.createElement)}();function o(e){var t=e.key,r=e.keyCode;return r>=37&&r<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}var s=function(e){return e?"":void 0},l=function(e){return!!e||void 0},u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")};function c(e){var t=function(e){return(null==e?void 0:e.ownerDocument)||a?document:null}(e);return null==t?void 0:t.activeElement}function d(e,t){return e===t||e.contains(t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return fa})),r.d(t,"b",(function(){return oa})),r.d(t,"c",(function(){return jn}));var n=r(3);var i=0,a="undefined"!==typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),r=Math.max(0,16.7-(t-i));i=t+r,setTimeout((function(){return e(i)}),r)},o=1/60*1e3,s=!0,l=!1,u=!1,c={delta:0,timestamp:0},d=["read","update","preRender","render","postRender"],f=function(e){return l=e},p=d.reduce((function(e,t){return e[t]=function(e){var t=[],r=[],n=0,i=!1,a=0,o=new WeakSet,s=new WeakSet,l={cancel:function(e){var t=r.indexOf(e);o.add(e),-1!==t&&r.splice(t,1)},process:function(u){var c,d;if(i=!0,t=(c=[r,t])[0],(r=c[1]).length=0,n=t.length)for(a=0;a<n;a++)(d=t[a])(u),!0!==s.has(d)||o.has(d)||(l.schedule(d),e(!0));i=!1},schedule:function(e,a,l){void 0===a&&(a=!1),void 0===l&&(l=!1);var u=l&&i,c=u?t:r;o.delete(e),a&&s.add(e),-1===c.indexOf(e)&&(c.push(e),u&&(n=t.length))}};return l}(f),e}),{}),h=d.reduce((function(e,t){var r=p[t];return e[t]=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),l||y(),r.schedule(e,t,n),e},e}),{}),g=d.reduce((function(e,t){return e[t]=p[t].cancel,e}),{}),m=function(e){return p[e].process(c)},v=function e(t){l=!1,c.delta=s?o:Math.max(Math.min(t-c.timestamp,40),1),s||(o=c.delta),c.timestamp=t,u=!0,d.forEach(m),u=!1,l&&(s=!1,a(e))},y=function(){l=!0,s=!0,u||a(v)},b=function(){return c},k=h,_=function(e,t){return function(r){return Math.max(Math.min(r,t),e)}},E=function(e){return e%1?Number(e.toFixed(5)):e},w=/(-)?(\d[\d\.]*)/g,S=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,T=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,x={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},O=Object(n.a)(Object(n.a)({},x),{transform:_(0,1)}),P=Object(n.a)(Object(n.a)({},x),{default:1}),A=function(e){return{test:function(t){return"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},C=A("deg"),M=A("%"),I=A("px"),R=A("vh"),D=A("vw"),j=Object(n.a)(Object(n.a)({},M),{parse:function(e){return M.parse(e)/100},transform:function(e){return M.transform(100*e)}}),L=_(0,255),N=function(e){return void 0!==e.red},U=function(e){return void 0!==e.hue};var B=function(e){return function(t){if("string"!==typeof t)return t;for(var r={},n=function(e){return e.substring(e.indexOf("(")+1,e.lastIndexOf(")"))}(t).replace(/(,|\/)/g," ").split(/ \s*/),i=0;i<4;i++)r[e[i]]=void 0!==n[i]?parseFloat(n[i]):1;return r}},F=Object(n.a)(Object(n.a)({},x),{transform:function(e){return Math.round(L(e))}});function z(e,t){return e.startsWith(t)&&T.test(e)}var V={test:function(e){return"string"===typeof e?z(e,"rgb"):N(e)},parse:B(["red","green","blue","alpha"]),transform:function(e){var t=e.red,r=e.green,n=e.blue,i=e.alpha,a=void 0===i?1:i;return function(e){var t=e.red,r=e.green,n=e.blue,i=e.alpha;return"rgba("+t+", "+r+", "+n+", "+(void 0===i?1:i)+")"}({red:F.transform(t),green:F.transform(r),blue:F.transform(n),alpha:E(O.transform(a))})}},$={test:function(e){return"string"===typeof e?z(e,"hsl"):U(e)},parse:B(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,i=e.alpha,a=void 0===i?1:i;return function(e){var t=e.hue,r=e.saturation,n=e.lightness,i=e.alpha;return"hsla("+t+", "+r+", "+n+", "+(void 0===i?1:i)+")"}({hue:Math.round(t),saturation:M.transform(E(r)),lightness:M.transform(E(n)),alpha:E(O.transform(a))})}},W=Object(n.a)(Object(n.a)({},V),{test:function(e){return"string"===typeof e&&z(e,"#")},parse:function(e){var t="",r="",n="";return e.length>4?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),t+=t,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),K={test:function(e){return"string"===typeof e&&T.test(e)||N(e)||U(e)},parse:function(e){return V.test(e)?V.parse(e):$.test(e)?$.parse(e):W.test(e)?W.parse(e):e},transform:function(e){return N(e)?V.transform(e):U(e)?$.transform(e):e}},H=function(e){return"number"===typeof e?0:e},G={test:function(e){if("string"!==typeof e||!isNaN(e))return!1;var t=0,r=e.match(w),n=e.match(S);return r&&(t+=r.length),n&&(t+=n.length),t>0},parse:function(e){var t=e,r=[],n=t.match(S);n&&(t=t.replace(S,"${c}"),r.push.apply(r,n.map(K.parse)));var i=t.match(w);return i&&r.push.apply(r,i.map(x.parse)),r},createTransformer:function(e){var t=e,r=0,n=e.match(S),i=n?n.length:0;if(n)for(var a=0;a<i;a++)t=t.replace(n[a],"${c}"),r++;var o=t.match(w),s=o?o.length:0;if(o)for(a=0;a<s;a++)t=t.replace(o[a],"${n}"),r++;return function(e){for(var n=t,a=0;a<r;a++)n=n.replace(a<i?"${c}":"${n}",a<i?K.transform(e[a]):E(e[a]));return n}},getAnimatableNone:function(e){var t=G.parse(e);return G.createTransformer(e)(t.map(H))}},Z=function(e,t,r){return Math.min(Math.max(r,e),t)};function q(e){var t,r,n=e.duration,i=void 0===n?800:n,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,l=void 0===s?0:s,u=e.mass,c=void 0===u?1:u,d=1-o;d=Z(.05,1,d),i=Z(.01,10,i/1e3),d<1?(t=function(e){var t=e*d,r=t*i;return.001-(t-l)/X(e,d)*Math.exp(-r)},r=function(e){var r=e*d*i,n=r*l+l,a=Math.pow(d,2)*Math.pow(e,2)*i,o=Math.exp(-r),s=X(Math.pow(e,2),d);return(.001-t(e)>0?-1:1)*((n-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-l)*i+1)-.001},r=function(e){return Math.exp(-e*i)*(i*i*(l-e))});var f=function(e,t,r){for(var n=r,i=1;i<12;i++)n-=e(n)/t(n);return n}(t,r,5/i);if(isNaN(f))return{stiffness:100,damping:10};var p=Math.pow(f,2)*c;return{stiffness:p,damping:2*d*Math.sqrt(c*p)}}function X(e,t){return e*Math.sqrt(1-t*t)}var Y=["duration","bounce"],Q=["stiffness","damping","mass"];function J(e,t){return t.some((function(t){return void 0!==e[t]}))}function ee(e){var t=e.from,r=void 0===t?0:t,i=e.to,a=void 0===i?1:i,o=e.restSpeed,s=void 0===o?2:o,l=e.restDelta,u=Object(n.d)(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:r},d=function(e){var t=Object(n.a)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!J(e,Q)&&J(e,Y)){var r=q(e);(t=Object(n.a)(Object(n.a)(Object(n.a)({},t),r),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=d.stiffness,p=d.damping,h=d.mass,g=d.velocity,m=d.isResolvedFromDuration,v=te,y=te;function b(){var e=g?-g/1e3:0,t=a-r,n=p/(2*Math.sqrt(f*h)),i=Math.sqrt(f/h)/1e3;if(null!==l&&void 0!==l||(l=Math.abs(a-r)<=1?.01:.4),n<1){var o=X(i,n);v=function(r){var s=Math.exp(-n*i*r);return a-s*((e+n*i*t)/o*Math.sin(o*r)+t*Math.cos(o*r))},y=function(r){var a=Math.exp(-n*i*r);return n*i*a*(Math.sin(o*r)*(e+n*i*t)/o+t*Math.cos(o*r))-a*(Math.cos(o*r)*(e+n*i*t)-o*t*Math.sin(o*r))}}else if(1===n)v=function(r){return a-Math.exp(-i*r)*(t+(e+i*t)*r)};else{var s=i*Math.sqrt(n*n-1);v=function(r){var o=Math.exp(-n*i*r),l=Math.min(s*r,300);return a-o*((e+n*i*t)*Math.sinh(l)+s*t*Math.cosh(l))/s}}}return b(),{next:function(e){var t=v(e);if(m)c.done=e>=u.duration;else{var r=1e3*y(e),n=Math.abs(r)<=s,i=Math.abs(a-t)<=l;c.done=n&&i}return c.value=c.done?a:t,c},flipTarget:function(){var e;g=-g,r=(e=[a,r])[0],a=e[1],b()}}}ee.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var te=function(e){return 0},re=function(e,t,r){var n=t-e;return 0===n?1:(r-e)/n},ne=function(e,t,r){return-r*e+r*t+e},ie=function(e,t,r){var n=e*e,i=t*t;return Math.sqrt(Math.max(0,r*(i-n)+n))},ae=[W,V,$],oe=function(e){return ae.find((function(t){return t.test(e)}))},se=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},le=function(e,t){var r=oe(e),i=oe(t);se(e),se(t),r.transform,i.transform;var a=r.parse(e),o=i.parse(t),s=Object(n.a)({},a),l=r===$?ne:ie;return function(e){for(var t in s)"alpha"!==t&&(s[t]=l(a[t],o[t],e));return s.alpha=ne(a.alpha,o.alpha,e),r.transform(s)}},ue=function(e){return"number"===typeof e},ce=function(e,t){return function(r){return t(e(r))}},de=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(ce)};function fe(e,t){return ue(e)?function(r){return ne(e,t,r)}:K.test(e)?le(e,t):me(e,t)}var pe=function(e,t){var r=Object(n.f)(e),i=r.length,a=e.map((function(e,r){return fe(e,t[r])}));return function(e){for(var t=0;t<i;t++)r[t]=a[t](e);return r}},he=function(e,t){var r=Object(n.a)(Object(n.a)({},e),t),i={};for(var a in r)void 0!==e[a]&&void 0!==t[a]&&(i[a]=fe(e[a],t[a]));return function(e){for(var t in i)r[t]=i[t](e);return r}};function ge(e){for(var t=G.parse(e),r=t.length,n=0,i=0,a=0,o=0;o<r;o++)n||"number"===typeof t[o]?n++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:n,numRGB:i,numHSL:a}}var me=function(e,t){var r=G.createTransformer(t),n=ge(e),i=ge(t);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&(n.numNumbers,i.numNumbers),de(pe(n.parsed,i.parsed),r)},ve=function(e,t){return function(r){return ne(e,t,r)}};function ye(e,t,r){for(var n,i=[],a=r||("number"===typeof(n=e[0])?ve:"string"===typeof n?K.test(n)?le:me:Array.isArray(n)?pe:"object"===typeof n?he:void 0),o=e.length-1,s=0;s<o;s++){var l=a(e[s],e[s+1]);if(t){var u=Array.isArray(t)?t[s]:t;l=de(u,l)}i.push(l)}return i}function be(e,t,r){var n=void 0===r?{}:r,i=n.clamp,a=void 0===i||i,o=n.ease,s=n.mixer,l=e.length;t.length,!o||!Array.isArray(o)||o.length,e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=ye(t,o,s),c=2===l?function(e,t){var r=e[0],n=e[1],i=t[0];return function(e){return i(re(r,n,e))}}(e,u):function(e,t){var r=e.length,n=r-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[n]&&(a=n-1,o=!0),!o){for(var s=1;s<r&&!(e[s]>i||s===n);s++);a=s-1}var l=re(e[a],e[a+1],i);return t[a](l)}}(e,u);return a?function(t){return c(Z(e[0],e[l-1],t))}:c}var ke=function(e){return function(t){return 1-e(1-t)}},_e=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Ee=function(e){return function(t){return t*t*((e+1)*t-e)}},we=function(e){var t=Ee(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},Se=function(e){return e},Te=function(e){return function(t){return Math.pow(t,e)}}(2),xe=ke(Te),Oe=_e(Te),Pe=function(e){return 1-Math.sin(Math.acos(e))},Ae=ke(Pe),Ce=_e(Ae),Me=Ee(1.525),Ie=ke(Me),Re=_e(Me),De=we(1.525),je=function(e){if(1===e||0===e)return e;var t=e*e;return e<4/11?7.5625*t:e<8/11?9.075*t-9.9*e+3.4:e<.9?4356/361*t-35442/1805*e+16061/1805:10.8*e*e-20.52*e+10.72},Le=ke(je);function Ne(e,t){return e.map((function(){return t||Oe})).splice(0,e.length-1)}function Ue(e){var t=e.from,r=void 0===t?0:t,n=e.to,i=void 0===n?1:n,a=e.ease,o=e.offset,s=e.duration,l=void 0===s?300:s,u={done:!1,value:r},c=Array.isArray(i)?i:[r,i],d=function(e,t){return e.map((function(e){return e*t}))}(null!==o&&void 0!==o?o:function(e){var t=e.length;return e.map((function(e,r){return 0!==r?r/(t-1):0}))}(c),l);function f(){return be(d,c,{ease:Array.isArray(a)?a:Ne(c,a)})}var p=f();return{next:function(e){return u.value=p(e),u.done=e>=l,u},flipTarget:function(){c.reverse(),p=f()}}}var Be={keyframes:Ue,spring:ee,decay:function(e){var t=e.velocity,r=void 0===t?0:t,n=e.from,i=void 0===n?0:n,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,l=void 0===s?350:s,u=e.restDelta,c=void 0===u?.5:u,d=e.modifyTarget,f={done:!1,value:i},p=o*r,h=i+p,g=void 0===d?h:d(h);return g!==h&&(p=g-i),{next:function(e){var t=-p*Math.exp(-e/l);return f.done=!(t>c||t<-c),f.value=f.done?g:g+t,f},flipTarget:function(){}}}};function Fe(e,t,r){return void 0===r&&(r=0),e-t-r}var ze=function(e){var t=function(t){var r=t.delta;return e(r)};return{start:function(){return k.update(t,!0,!0)},stop:function(){return g.update(t)}}};function Ve(e){var t,r,i,a,o,s=e.from,l=e.autoplay,u=void 0===l||l,c=e.driver,d=void 0===c?ze:c,f=e.elapsed,p=void 0===f?0:f,h=e.repeat,g=void 0===h?0:h,m=e.repeatType,v=void 0===m?"loop":m,y=e.repeatDelay,b=void 0===y?0:y,k=e.onPlay,_=e.onStop,E=e.onComplete,w=e.onRepeat,S=e.onUpdate,T=Object(n.d)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),x=T.to,O=0,P=T.duration,A=!1,C=!0,M=function(e){if(Array.isArray(e.to))return Ue;if(Be[e.type])return Be[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Ue:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?ee:Ue}(T);(null===(r=(t=M).needsInterpolation)||void 0===r?void 0:r.call(t,s,x))&&(o=be([0,100],[s,x],{clamp:!1}),s=0,x=100);var I=M(Object(n.a)(Object(n.a)({},T),{from:s,to:x}));function R(){O++,"reverse"===v?p=function(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n=!0),n?Fe(t+-e,t,r):t-(e-t)+r}(p,P,b,C=O%2===0):(p=Fe(p,P,b),"mirror"===v&&I.flipTarget()),A=!1,w&&w()}function D(e){if(C||(e=-e),p+=e,!A){var t=I.next(Math.max(0,p));a=t.value,o&&(a=o(a)),A=C?t.done:p<=0}null===S||void 0===S||S(a),A&&(0===O&&(null!==P&&void 0!==P||(P=p)),O<g?function(e,t,r,n){return n?e>=t+r:e<=-r}(p,P,b,C)&&R():(i.stop(),E&&E()))}return u&&(null===k||void 0===k||k(),(i=d(D)).start()),{stop:function(){null===_||void 0===_||_(),i.stop()}}}function $e(e,t){return t?e*(1e3/t):0}var We=function(e){return e},Ke=function(e){return void 0===e&&(e=We),function(t,r,n){var i=r-n,a=-(0-t+1)*(0-e(Math.abs(i)));return i<=0?r+a:r-a}},He=(Math.sqrt,function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")}),Ge=function(e){return He(e)&&e.hasOwnProperty("z")},Ze=function(e,t){return Math.abs(e-t)};function qe(e,t){if(ue(e)&&ue(t))return Ze(e,t);if(He(e)&&He(t)){var r=Ze(e.x,t.x),n=Ze(e.y,t.y),i=Ge(e)&&Ge(t)?Ze(e.z,t.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(i,2))}}var Xe=function(e,t){return 1-3*t+3*e},Ye=function(e,t){return 3*t-6*e},Qe=function(e){return 3*e},Je=function(e,t,r){return((Xe(t,r)*e+Ye(t,r))*e+Qe(t))*e},et=function(e,t,r){return 3*Xe(t,r)*e*e+2*Ye(t,r)*e+Qe(t)};function tt(e,t,r,n){if(e===t&&r===n)return Se;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=Je(.1*a,e,r);function o(t){for(var n=0,a=1;10!==a&&i[a]<=t;++a)n+=.1;--a;var o=n+.1*((t-i[a])/(i[a+1]-i[a])),s=et(o,e,r);return s>=.001?function(e,t,r,n){for(var i=0;i<8;++i){var a=et(t,r,n);if(0===a)return t;t-=(Je(t,r,n)-e)/a}return t}(t,o,e,r):0===s?o:function(e,t,r,n,i){var a,o,s=0;do{(a=Je(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,n,n+.1,e,r)}return function(e){return 0===e||1===e?e:Je(o(e),t,n)}}var rt=r(0),nt=r.n(rt),it=function(e){return"object"===typeof e&&e.hasOwnProperty("current")},at=function(){function e(){this.subscriptions=new Set}return e.prototype.add=function(e){var t=this;return this.subscriptions.add(e),function(){t.subscriptions.delete(e)}},e.prototype.notify=function(e,t,r){var i,a;if(this.subscriptions.size)try{for(var o=Object(n.g)(this.subscriptions),s=o.next();!s.done;s=o.next()){(0,s.value)(e,t,r)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}},e.prototype.clear=function(){this.subscriptions.clear()},e}(),ot=function(){function e(e){var t,r=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new at,this.renderSubscribers=new at,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),r.prev=r.current,r.current=e,r.prev!==r.current&&r.updateSubscribers.notify(r.current),t&&r.renderSubscribers.notify(r.current);var n=b(),i=n.delta,a=n.timestamp;r.lastUpdated!==a&&(r.timeDelta=i,r.lastUpdated=a,k.postRender(r.scheduleVelocityCheck))},this.scheduleVelocityCheck=function(){return k.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current)},this.set(e,!1),this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?$e(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(r){t.stopAnimation=e(r)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function st(e){return new ot(e)}var lt=function(e){return 1e3*e},ut={linear:Se,easeIn:Te,easeInOut:Oe,easeOut:xe,circIn:Pe,circInOut:Ce,circOut:Ae,backIn:Me,backInOut:Re,backOut:Ie,anticipate:De,bounceIn:Le,bounceInOut:function(e){return e<.5?.5*(1-je(1-2*e)):.5*je(2*e-1)+.5},bounceOut:je},ct=function(e){if(Array.isArray(e)){e.length;var t=Object(n.c)(e,4);return tt(t[0],t[1],t[2],t[3])}return"string"===typeof e?ut[e]:e},dt=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!G.test(t)||t.startsWith("url(")))},ft=function(e){return Array.isArray(e)},pt=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},ht=function(e){return{type:"spring",stiffness:550,damping:0===e?100:30,restDelta:.01,restSpeed:10}},gt=function(){return{type:"keyframes",ease:"linear",duration:.3}},mt=function(e){return{type:"keyframes",duration:.8,values:e}},vt={x:pt,y:pt,z:pt,rotate:pt,rotateX:pt,rotateY:pt,rotateZ:pt,scaleX:ht,scaleY:ht,scale:ht,opacity:gt,backgroundColor:gt,color:gt,default:ht};function yt(e){var t=e.yoyo,r=e.loop,i=e.flip,a=e.ease,o=e.times,s=Object(n.d)(e,["yoyo","loop","flip","ease","times"]),l=Object(n.a)({},s);return o&&(l.offset=o),s.duration&&(l.duration=lt(s.duration)),s.repeatDelay&&(l.repeatDelay=lt(s.repeatDelay)),a&&(l.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(a)?a.map(ct):ct(a)),"tween"===s.type&&(l.type="keyframes"),t?l.repeatType="reverse":r?l.repeatType="loop":i&&(l.repeatType="mirror"),l.repeat=r||t||i||s.repeat,"spring"!==s.type&&(l.type="keyframes"),l}function bt(e,t,r){var i;return Array.isArray(t.to)&&(null!==(i=e.duration)&&void 0!==i||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Object(n.e)(e.to),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=Object(n.d)(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Object(n.a)(Object(n.a)({},e),function(e,t){var r;return r=ft(t)?mt:vt[e]||vt.default,Object(n.a)({to:t},r(t))}(r,t.to))),Object(n.a)(Object(n.a)({},t),yt(e))}function kt(e,t,r,i,a){var o,s=function(e,t){return e[t]||e.default||e}(i,e),l=null!==(o=s.from)&&void 0!==o?o:t.get(),u=dt(e,r);"none"===l&&u&&"string"===typeof r&&(l=G.getAnimatableNone(r));var c=dt(e,l);return c&&u&&!1!==s.type?function(){var i={from:l,to:r,velocity:t.getVelocity(),onComplete:a,onUpdate:function(e){return t.set(e)}};return"inertia"===s.type||"decay"===s.type?function(e){var t,r=e.from,i=void 0===r?0:r,a=e.velocity,o=void 0===a?0:a,s=e.min,l=e.max,u=e.power,c=void 0===u?.8:u,d=e.timeConstant,f=void 0===d?750:d,p=e.bounceStiffness,h=void 0===p?500:p,g=e.bounceDamping,m=void 0===g?10:g,v=e.restDelta,y=void 0===v?1:v,k=e.modifyTarget,_=e.driver,E=e.onUpdate,w=e.onComplete;function S(e){return void 0!==s&&e<s||void 0!==l&&e>l}function T(e){return void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l}function x(e){null===t||void 0===t||t.stop(),t=Ve(Object(n.a)(Object(n.a)({},e),{driver:_,onUpdate:function(t){var r;null===E||void 0===E||E(t),null===(r=e.onUpdate)||void 0===r||r.call(e,t)},onComplete:w}))}function O(e){x(Object(n.a)({type:"spring",stiffness:h,damping:m,restDelta:y},e))}if(S(i))O({from:i,velocity:o,to:T(i)});else{var P=c*o+i;"undefined"!==typeof k&&(P=k(P));var A,C,M=T(P),I=M===s?-1:1;x({type:"decay",from:i,velocity:o,timeConstant:f,power:c,restDelta:y,modifyTarget:k,onUpdate:S(P)?function(e){A=C,C=e,o=$e(e-A,b().delta),(1===I&&e>M||-1===I&&e<M)&&O({from:e,to:M,velocity:o})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(Object(n.a)(Object(n.a)({},i),s)):Ve(Object(n.a)(Object(n.a)({},bt(s,i,e)),{onUpdate:function(e){var t;i.onUpdate(e),null===(t=s.onUpdate)||void 0===t||t.call(s,e)},onComplete:function(){var e;i.onComplete(),null===(e=s.onComplete)||void 0===e||e.call(s)}}))}:function(){var e;return t.set(r),a(),null===(e=null===s||void 0===s?void 0:s.onComplete)||void 0===e||e.call(s),{stop:function(){}}}}function _t(e,t,r,n){return void 0===n&&(n={}),t.start((function(i){var a,o,s=kt(e,t,r,n,i),l=function(e,t){var r,n,i,a,o;return null!==(o=null!==(a=null!==(n=null===(r=e[t])||void 0===r?void 0:r.delay)&&void 0!==n?n:null===(i=e.default)||void 0===i?void 0:i.delay)&&void 0!==a?a:e.delay)&&void 0!==o?o:0}(n,e),u=function(){return o=s()};return l?a=setTimeout(u,lt(l)):u(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var Et=function(e){return ft(e)?e[e.length-1]||0:e},wt=Object(n.a)(Object(n.a)({},x),{transform:Math.round}),St={color:K,backgroundColor:K,outlineColor:K,fill:K,stroke:K,borderColor:K,borderTopColor:K,borderRightColor:K,borderBottomColor:K,borderLeftColor:K,borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,size:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,rotate:C,rotateX:C,rotateY:C,rotateZ:C,scale:P,scaleX:P,scaleY:P,scaleZ:P,skew:C,skewX:C,skewY:C,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:O,originX:j,originY:j,originZ:I,zIndex:wt,fillOpacity:O,strokeOpacity:O,numOctaves:wt},Tt=[x,I,M,C,D,R,{test:function(e){return"auto"===e},parse:function(e){return e}}],xt=function(e){return function(t){return t.test(e)}},Ot=function(e){return Tt.find(xt(e))},Pt=Object(n.e)(Tt,[K,G]),At=function(e){return Pt.find(xt(e))},Ct=function(e){return St[e]},Mt=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function It(e){return Array.isArray(e)}function Rt(e){return"string"===typeof e||It(e)}function Dt(e,t,r){var i={};return t?(i=function(e){return"function"===typeof e}(t)?t(null!==r&&void 0!==r?r:e.getVariantPayload(),function(e){var t={};return e.forEachValue((function(e,r){return t[r]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,r){return t[r]=e.getVelocity()})),t}(e)):t,Object(n.a)({transition:e.getDefaultTransition()},i)):i}function jt(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,st(r))}function Lt(e,t,r){var i=(void 0===r?{}:r).priority,a=e.makeTargetAnimatable(Dt(e,t),!1),o=a.transitionEnd,s=void 0===o?{}:o,l=(a.transition,Object(n.d)(a,["transitionEnd","transition"]));for(var u in l=Object(n.a)(Object(n.a)({},l),s)){var c=Et(l[u]);jt(e,u,c),i||(e.baseTarget[u]=c)}}function Nt(e,t){Object(n.e)(t).reverse().forEach((function(r){var n;Lt(e,e.getVariant(r)),null===(n=e.variantChildren)||void 0===n||n.forEach((function(e){Nt(e,t)}))}))}function Ut(e,t){return Array.isArray(t)?Nt(e,t):"string"===typeof t?Nt(e,[t]):void Lt(e,t)}function Bt(e,t,r){var n,i,a,o=Object.keys(t).filter((function(t){return!e.hasValue(t)})),s=o.length;if(s)for(var l=0;l<s;l++){var u=o[l],c=t[u],d=null;if(Array.isArray(c)&&(d=c[0]),null===d){var f=null!==(n=r[u])&&void 0!==n?n:e.readNativeValue(u);d=void 0!==f?f:t[u]}"string"===typeof d&&/^\-?\d*\.?\d+$/.test(d)?d=parseFloat(d):!At(d)&&G.test(c)&&(d=G.getAnimatableNone(c)),e.addValue(u,st(d)),null!==(i=(a=r)[u])&&void 0!==i||(a[u]=d),e.baseTarget[u]=d}}function Ft(e,t){if(t)return(t[e]||t.default||t).from}function zt(e,t,r){var n,i,a={};for(var o in e)a[o]=null!==(n=Ft(o,t))&&void 0!==n?n:null===(i=r.getValue(o))||void 0===i?void 0:i.get();return a}function Vt(e,t,r){var i;return void 0===r&&(r={}),r.priority&&e.activeOverrides.add(r.priority),e.resetIsAnimating(r.priority),i=It(t)?function(e,t,r){var i=Object(n.e)(t).reverse().map((function(t){return $t(e,t,r)}));return Promise.all(i)}(e,t,r):Rt(t)?$t(e,t,r):Wt(e,t,r),e.onAnimationStart(),i.then((function(){return e.onAnimationComplete()}))}function $t(e,t,r){var i,a=r&&r.priority||0,o=e.getVariant(t),s=Dt(e,o,r&&r.custom),l=s.transition||{},u=o?function(){return Wt(e,s,r)}:function(){return Promise.resolve()},c=(null===(i=e.variantChildrenOrder)||void 0===i?void 0:i.size)?function(n){void 0===n&&(n=0);var i=l.delayChildren;return function(e,t,r,n,i,a,o){void 0===r&&(r=0);void 0===n&&(n=0);void 0===i&&(i=1);void 0===a&&(a=0);var s=[],l=(e.variantChildrenOrder.size-1)*n,u=1===i?function(e){return e*n}:function(e){return l-e*n};return Array.from(e.variantChildrenOrder).forEach((function(e,n){var i=$t(e,t,{priority:a,delay:r+u(n),custom:o});s.push(i)})),Promise.all(s)}(e,t,(void 0===i?0:i)+n,l.staggerChildren,l.staggerDirection,a,null===r||void 0===r?void 0:r.custom)}:function(){return Promise.resolve()},d=l.when;if(d){var f=Object(n.c)("beforeChildren"===d?[u,c]:[c,u],2),p=f[0],h=f[1];return p().then(h)}return Promise.all([u(),c(null===r||void 0===r?void 0:r.delay)])}function Wt(e,t,r){var i=void 0===r?{}:r,a=i.delay,o=void 0===a?0:a,s=i.priority,l=void 0===s?0:s,u=i.transitionOverride,c=i.custom,d=Dt(e,t,c);u&&(d.transition=u);var f=e.makeTargetAnimatable(d),p=f.transitionEnd,h=f.transition,g=Object(n.d)(f,["transitionEnd","transition"]);l&&(e.resolvedOverrides[l]=g);var m=[];for(var v in g){var y=e.getValue(v);if(y&&g&&void 0!==g[v]){var b=g[v];l||(e.baseTarget[v]=Et(b)),e.isAnimating.has(v)||(e.isAnimating.add(v),m.push(_t(v,y,b,Object(n.a)({delay:o},h))))}}var k=Promise.all(m);return p?k.then((function(){return Lt(e,p,{priority:l})})):k}function Kt(e,t,r){var n;e.overrides[r]=t,null===(n=e.variantChildren)||void 0===n||n.forEach((function(e){Kt(e,t,r)}))}function Ht(e,t){var r=e.overrides[t];if(r)return Vt(e,r,{priority:t})}function Gt(e,t){var r;if(null===(r=e.variantChildrenOrder)||void 0===r||r.forEach((function(e){Gt(e,t)})),e.overrides[t]){e.activeOverrides.delete(t);var n=Zt(e);if(e.resetIsAnimating(),n)e.overrides[n]&&Ht(e,n);var i=e.resolvedOverrides[t];if(i){var a={};for(var o in e.baseTarget)void 0!==i[o]&&(a[o]=e.baseTarget[o]);e.onAnimationStart(),Wt(e,a).then((function(){e.onAnimationComplete()}))}}}function Zt(e){return e.activeOverrides.size?Math.max.apply(Math,Object(n.e)(Array.from(e.activeOverrides))):0}var qt=function(){function e(e,t){var r=this;this.children=new Set,this.baseTarget={},this.overrides=[],this.resolvedOverrides=[],this.activeOverrides=new Set,this.isAnimating=new Set,this.latest={},this.values=new Map,this.valueSubscriptions=new Map,this.config={},this.isMounted=!1,this.update=function(){return r.config.onUpdate(r.latest)},this.triggerRender=function(){return r.render()},this.ref=function(e){e?r.mount(e):r.unmount(),r.externalRef&&("function"===typeof r.externalRef?r.externalRef(e):it(r.externalRef)&&(r.externalRef.current=e))},this.parent=e,this.rootParent=e?e.rootParent:this,this.treePath=e?Object(n.e)(e.treePath,[e]):[],this.depth=e?e.depth+1:0,this.externalRef=t}return e.prototype.getVariantPayload=function(){return this.config.custom},e.prototype.getVariant=function(e){var t;return null===(t=this.config.variants)||void 0===t?void 0:t[e]},e.prototype.addVariantChild=function(e){this.variantChildren||(this.variantChildren=new Set),this.variantChildren.add(e)},e.prototype.addVariantChildOrder=function(e){this.variantChildrenOrder||(this.variantChildrenOrder=new Set),this.variantChildrenOrder.add(e)},e.prototype.onAnimationStart=function(){var e,t;null===(t=(e=this.config).onAnimationStart)||void 0===t||t.call(e)},e.prototype.onAnimationComplete=function(){var e,t;this.isMounted&&(null===(t=(e=this.config).onAnimationComplete)||void 0===t||t.call(e))},e.prototype.getDefaultTransition=function(){return this.config.transition},e.prototype.resetIsAnimating=function(e){var t;void 0===e&&(e=0),this.isAnimating.clear(),e<Zt(this)&&this.checkOverrideIsAnimating(e),null===(t=this.variantChildren)||void 0===t||t.forEach((function(t){return t.resetIsAnimating(e)}))},e.prototype.checkOverrideIsAnimating=function(e){for(var t=this.overrides.length,r=e+1;r<t;r++){var n=this.resolvedOverrides[r];if(n)for(var i in n)this.isAnimating.add(i)}},e.prototype.subscribe=function(e){var t=this;return this.children.add(e),function(){return t.children.delete(e)}},e.prototype.hasValue=function(e){return this.values.has(e)},e.prototype.addValue=function(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.setSingleStaticValue(e,t.get()),this.subscribeToValue(e,t)},e.prototype.removeValue=function(e){var t;null===(t=this.valueSubscriptions.get(e))||void 0===t||t(),this.valueSubscriptions.delete(e),this.values.delete(e),delete this.latest[e]},e.prototype.getValue=function(e,t){var r=this.values.get(e);return void 0===r&&void 0!==t&&(r=new ot(t),this.addValue(e,r)),r},e.prototype.forEachValue=function(e){this.values.forEach(e)},e.prototype.getInstance=function(){return this.element},e.prototype.updateConfig=function(e){void 0===e&&(e={}),this.config=Object(n.a)({},e)},e.prototype.setSingleStaticValue=function(e,t){this.latest[e]=t},e.prototype.setStaticValues=function(e,t){if("string"===typeof e)this.setSingleStaticValue(e,t);else for(var r in e)this.setSingleStaticValue(r,e[r])},e.prototype.scheduleRender=function(){k.render(this.triggerRender,!1,!0)},e.prototype.scheduleUpdateLayoutDelta=function(){k.preRender(this.rootParent.updateLayoutDelta,!1,!0)},e.prototype.subscribeToValue=function(e,t){var r=this,n=t.onChange((function(t){r.setSingleStaticValue(e,t),r.element&&r.config.onUpdate&&k.update(r.update,!1,!0)})),i=t.onRenderRequest((function(){r.element&&r.scheduleRender()}));this.valueSubscriptions.set(e,(function(){n(),i()}))},e.prototype.mount=function(e){this.parent&&(this.removeFromParent=this.parent.subscribe(this)),this.element=this.current=e},e.prototype.unmount=function(){var e=this;this.forEachValue((function(t,r){return e.removeValue(r)})),g.update(this.update),g.render(this.render),this.removeFromParent&&this.removeFromParent()},e}();function Xt(e){return e}function Yt(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Qt(e){return{x:Object(n.a)({},e.x),y:Object(n.a)({},e.y)}}var Jt={translate:0,scale:1,origin:0,originPoint:0};function er(){return{x:Object(n.a)({},Jt),y:Object(n.a)({},Jt)}}var tr=["","X","Y","Z"],rr=new Set,nr=["transformPerspective","x","y","z"];function ir(e,t){return nr.indexOf(e)-nr.indexOf(t)}["perspective","translate","scale","rotate","skew"].forEach((function(e){var t=new Set(["rotate","skew"]).has(e);tr.forEach((function(r){var n=e+r;nr.push(n),t&&rr.add(n)}))}));var ar=new Set(nr);function or(e){return ar.has(e)}var sr=new Set(["originX","originY","originZ"]);function lr(e){return sr.has(e)}var ur={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function cr(e,t){var r=e.x,n=e.y;return"translate3d("+r.translate/t.x+"px, "+n.translate/t.y+"px, 0) scale("+r.scale+", "+n.scale+")"}var dr=cr(er(),{x:1,y:1});function fr(e){return e.startsWith("--")}function pr(e){return"string"===typeof e&&e.startsWith("var(--")}var hr=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gr(e,t,r){void 0===r&&(r=1);var i=Object(n.c)(function(e){var t=hr.exec(e);if(!t)return[,];var r=Object(n.c)(t,3);return[r[1],r[2]]}(e),2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():pr(o)?gr(o,t,r+1):o}}function mr(e,t){return e/(t.max-t.min)*100}var vr={process:function(e,t){if("string"===typeof e){if(!I.test(e))return e;e=parseFloat(e)}return mr(e,t.x)+"% "+mr(e,t.y)+"%"}},yr={borderRadius:Object(n.a)(Object(n.a)({},vr),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomLeftRadius:vr,borderBottomRightRadius:vr,boxShadow:{process:function(e,t,r,n){var i=e,a=e.includes("var("),o=[];a&&(e=e.replace(hr,(function(e){return o.push(e),"_$css"})));var s=G.parse(e);if(s.length>5)return i;var l=G.createTransformer(e),u="number"!==typeof s[0]?1:0,c=r.x.scale*n.x,d=r.y.scale*n.y;s[0+u]/=c,s[1+u]/=d;var f=ne(c,d,.5);"number"===typeof s[2+u]&&(s[2+u]/=f),"number"===typeof s[3+u]&&(s[3+u]/=f);var p=l(s);if(a){var h=0;p=p.replace("_$css",(function(){var e=o[h];return h++,e}))}return p}}};function br(e,t,r,n,i,a,o,s,l,u,c,d){var f=o.enableHardwareAcceleration,p=o.transformTemplate,h=o.allowTransformNone;a.length=0;var g=!1,m=!1,v=!0;for(var y in e){var b=e[y],k=Ct(y),_=Mt(b,k);if(or(y)){if(g=!0,n[y]=_,a.push(y),!v)continue;b!==(void 0!==k.default?k.default:0)&&(v=!1)}else if(lr(y))i[y]=_,m=!0;else if("transform"!==y||"function"!==typeof b){var E=fr(y)?r:t;if(s&&yr[y]){var w=yr[y].process(b,d,l,c),S=yr[y].applyTo;if(S)for(var T=S.length,x=0;x<T;x++)E[S[x]]=w;else E[y]=w}else E[y]=_}}s?(t.transform=cr(u,c),t.transform===dr&&(t.transform=""),g&&(t.transform+=" "+function(e,t){var r="";t.sort(ir);for(var n=t.length,i=0;i<n;i++){var a=t[i];rr.has(a)&&(r+=a+"("+e[a]+") ")}return r}(n,a),t.transform=t.transform.trim()),p&&(t.transform=p(n,t.transform)),t.transformOrigin=function(e){var t=e.x,r=e.y;return 100*t.origin+"% "+100*r.origin+"% 0"}(u)):(g&&(t.transform=function(e,t,r,n,i,a){void 0===i&&(i=!0),void 0===a&&(a=!0);var o="";t.sort(ir);for(var s=!1,l=t.length,u=0;u<l;u++){var c=t[u];o+=(ur[c]||c)+"("+e[c]+") ","z"===c&&(s=!0)}return!s&&i?o+="translateZ(0)":o=o.trim(),r?o=r(e,n?"":o):a&&n&&(o="none"),o}(n,a,p,v,f,h)),m&&(t.transformOrigin=function(e){var t=e.originX,r=void 0===t?"50%":t,n=e.originY,i=void 0===n?"50%":n,a=e.originZ;return r+" "+i+" "+(void 0===a?0:a)}(i)))}function kr(e,t){e.min=t.min,e.max=t.max}function _r(e,t,r){return r+t*(e-r)}function Er(e,t,r,n,i){return void 0!==i&&(e=_r(e,i,n)),_r(e,r,n)+t}function wr(e,t,r,n,i){void 0===t&&(t=0),void 0===r&&(r=1),e.min=Er(e.min,t,r,n,i),e.max=Er(e.max,t,r,n,i)}function Sr(e,t){var r=t.x,n=t.y;wr(e.x,r.translate,r.scale,r.originPoint),wr(e.y,n.translate,n.scale,n.originPoint)}function Tr(e,t,r,i){var a=Object(n.c)(i,3),o=a[0],s=a[1],l=a[2];e.min=t.min,e.max=t.max;var u=void 0!==r[l]?r[l]:.5,c=ne(t.min,t.max,u);wr(e,r[o],r[s],c,r.scale)}var xr=["x","scaleX","originX"],Or=["y","scaleY","originY"];function Pr(e,t,r,n,i){return e=_r(e-=t,1/r,n),void 0!==i&&(e=_r(e,1/i,n)),e}function Ar(e,t,r){var i=Object(n.c)(r,3),a=i[0],o=i[1],s=i[2];!function(e,t,r,n,i){void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=.5);var a=ne(e.min,e.max,n)-t;e.min=Pr(e.min,t,r,a,i),e.max=Pr(e.max,t,r,a,i)}(e,t[a],t[o],t[s],t.scale)}function Cr(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=.01),qe(e,t)<r}function Mr(e){return e.max-e.min}function Ir(e,t){var r=.5,n=Mr(e),i=Mr(t);return i>n?r=re(t.min,t.max-n,e.min):n>i&&(r=re(e.min,e.max-i,t.min)),Z(0,1,r)}function Rr(e,t,r,n){e.origin=void 0===n?Ir(t,r):n,e.originPoint=ne(t.min,t.max,e.origin),e.scale=Mr(r)/Mr(t),Cr(e.scale,1,1e-4)&&(e.scale=1),e.translate=ne(r.min,r.max,e.origin)-e.originPoint,Cr(e.translate)&&(e.translate=0)}function Dr(e,t,r,n){Rr(e.x,t.x,r.x,n),Rr(e.y,t.y,r.y,n)}function jr(e){return[e("x"),e("y")]}function Lr(e,t){return Yt(function(e,t){var r=e.top,n=e.left,i=e.bottom,a=e.right;void 0===t&&(t=Xt);var o=t({x:n,y:r}),s=t({x:a,y:i});return{top:o.y,left:o.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}var Nr,Ur=new Set(["width","height","top","left","right","bottom","x","y"]),Br=function(e){return Ur.has(e)},Fr=function(e,t){e.set(t,!1),e.set(t)},zr=function(e){return e===x||e===I};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Nr||(Nr={}));var Vr=function(e,t){return parseFloat(e.split(", ")[t])},$r=function(e,t){return function(r,n){var i=n.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return Vr(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?Vr(o[1],e):0}},Wr=new Set(["x","y","z"]),Kr=nr.filter((function(e){return!Wr.has(e)}));var Hr={width:function(e){var t=e.x;return t.max-t.min},height:function(e){var t=e.y;return t.max-t.min},top:function(e,t){var r=t.top;return parseFloat(r)},left:function(e,t){var r=t.left;return parseFloat(r)},bottom:function(e,t){var r=e.y,n=t.top;return parseFloat(n)+(r.max-r.min)},right:function(e,t){var r=e.x,n=t.left;return parseFloat(n)+(r.max-r.min)},x:$r(4,13),y:$r(5,14)},Gr=function(e,t,r,i){void 0===r&&(r={}),void 0===i&&(i={}),t=Object(n.a)({},t),i=Object(n.a)({},i);var a=Object.keys(t).filter(Br),o=[],s=!1,l=[];if(a.forEach((function(n){var a=e.getValue(n);if(e.hasValue(n)){var u,c=r[n],d=t[n],f=Ot(c);if(ft(d))for(var p=d.length,h=null===d[0]?1:0;h<p;h++)u?Ot(d[h]):(u=Ot(d[h]))===f||zr(f)&&zr(u);else u=Ot(d);if(f!==u)if(zr(f)&&zr(u)){var g=a.get();"string"===typeof g&&a.set(parseFloat(g)),"string"===typeof d?t[n]=parseFloat(d):Array.isArray(d)&&u===I&&(t[n]=d.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===c||0===d)?0===c?a.set(u.transform(c)):t[n]=f.transform(d):(s||(o=function(e){var t=[];return Kr.forEach((function(r){var n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),s=!0),l.push(n),i[n]=void 0!==i[n]?i[n]:t[n],Fr(a,d))}})),l.length){var u=function(e,t,r){var n=t.getBoundingBox(),i=t.getComputedStyle(),a=i.display,o={top:i.top,left:i.left,bottom:i.bottom,right:i.right,transform:i.transform};"none"===a&&t.setStaticValues("display",e.display||"block"),t.render();var s=t.getBoundingBox();return r.forEach((function(r){var a=t.getValue(r);Fr(a,Hr[r](n,o)),e[r]=Hr[r](s,i)})),e}(t,e,l);return o.length&&o.forEach((function(t){var r=Object(n.c)(t,2),i=r[0],a=r[1];e.getValue(i).set(a)})),e.render(),{target:u,transitionEnd:i}}return{target:t,transitionEnd:i}};function Zr(e,t,r,n){return function(e){return Object.keys(e).some(Br)}(t)?Gr(e,t,r,n):{target:t,transitionEnd:n}}var qr=function(e,t,r,i){var a=function(e,t,r){var i,a=Object(n.d)(t,[]),o=e.getInstance();if(!(o instanceof HTMLElement))return{target:a,transitionEnd:r};for(var s in r&&(r=Object(n.a)({},r)),e.forEachValue((function(e){var t=e.get();if(pr(t)){var r=gr(t,o);r&&e.set(r)}})),a){var l=a[s];if(pr(l)){var u=gr(l,o);u&&(a[s]=u,r&&(null!==(i=r[s])&&void 0!==i||(r[s]=l)))}}return{target:a,transitionEnd:r}}(e,t,i);return Zr(e,t=a.target,r,i=a.transitionEnd)},Xr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultConfig={enableHardwareAcceleration:!0,allowTransformNone:!0},t.style={},t.reactStyle={},t.vars={},t.transform={},t.transformOrigin={},t.transformKeys=[],t.config=t.defaultConfig,t.isLayoutProjectionEnabled=!1,t.layoutUpdateListeners=new at,t.layoutMeasureListeners=new at,t.viewportBoxUpdateListeners=new at,t.hasViewportBoxUpdated=!1,t.targetBoxFinal={x:{min:0,max:1},y:{min:0,max:1}},t.treeScale={x:1,y:1},t.prevTreeScale={x:1,y:1},t.delta=er(),t.deltaFinal=er(),t.deltaTransform=dr,t.stopLayoutAxisAnimation={x:function(){},y:function(){}},t.isTargetBoxLocked=!1,t.axisProgress={x:st(0),y:st(0)},t.updateLayoutDelta=function(){t.isLayoutProjectionEnabled&&t.box&&t.updateLayoutDeltas(),t.children.forEach(Yr)},t}return Object(n.b)(t,e),t.prototype.removeValue=function(t){e.prototype.removeValue.call(this,t),delete this.vars[t],delete this.style[t]},t.prototype.clean=function(){this.style={},this.vars={},this.transform={}},t.prototype.updateConfig=function(e){void 0===e&&(e={}),this.config=Object(n.a)(Object(n.a)({},this.defaultConfig),e)},t.prototype.read=function(e){return this.getComputedStyle()[e]||0},t.prototype.addValue=function(t,r){e.prototype.addValue.call(this,t,r),t.startsWith("rotate")&&(this.layoutOrigin=.5)},t.prototype.readNativeValue=function(e){if(or(e)){var t=Ct(e);return t&&t.default||0}return this.read(e)},t.prototype.makeTargetAnimatable=function(e,t){void 0===t&&(t=!0);var r=e.transition,i=e.transitionEnd,a=Object(n.d)(e,["transition","transitionEnd"]),o=this.config.transformValues,s=zt(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),t){Bt(this,a,s);var l=qr(this,a,s,i);i=l.transitionEnd,a=l.target}return Object(n.a)({transition:r,transitionEnd:i},a)},t.prototype.enableLayoutProjection=function(){this.isLayoutProjectionEnabled=!0},t.prototype.hide=function(){!1!==this.isVisible&&(this.isVisible=!1,this.scheduleRender())},t.prototype.show=function(){!0!==this.isVisible&&(this.isVisible=!0,this.scheduleRender())},t.prototype.onLayoutUpdate=function(e){return this.layoutUpdateListeners.add(e)},t.prototype.onLayoutMeasure=function(e){return this.layoutMeasureListeners.add(e)},t.prototype.onViewportBoxUpdate=function(e){return this.viewportBoxUpdateListeners.add(e)},t.prototype.layoutReady=function(e){this.layoutUpdateListeners.notify(this.box,this.prevViewportBox||this.box,e)},t.prototype.getBoundingBox=function(){var e=this.config.transformPagePoint;return Lr(this.element,e)},t.prototype.getBoundingBoxWithoutTransforms=function(){var e,t,r=this.getBoundingBox();return e=r,t=this.latest,Ar(e.x,t,xr),Ar(e.y,t,Or),r},t.prototype.getComputedStyle=function(){return window.getComputedStyle(this.element)},t.prototype.snapshotBoundingBox=function(){this.prevViewportBox=this.getBoundingBoxWithoutTransforms(),this.rebaseTargetBox(!1,this.prevViewportBox)},t.prototype.rebaseTargetBox=function(e,t){var r=this;void 0===e&&(e=!1),void 0===t&&(t=this.box);var n=this.axisProgress,i=n.x,a=n.y,o=this.box&&!this.isTargetBoxLocked&&!i.isAnimating()&&!a.isAnimating();(e||o)&&jr((function(e){var n=t[e],i=n.min,a=n.max;r.setAxisTarget(e,i,a)}))},t.prototype.measureLayout=function(){var e=this;this.box=this.getBoundingBox(),this.boxCorrected=Qt(this.box),this.targetBox||(this.targetBox=Qt(this.box)),this.layoutMeasureListeners.notify(this.box,this.prevViewportBox||this.box),k.update((function(){return e.rebaseTargetBox()}))},t.prototype.lockTargetBox=function(){this.isTargetBoxLocked=!0},t.prototype.unlockTargetBox=function(){this.stopLayoutAnimation(),this.isTargetBoxLocked=!1},t.prototype.resetTransform=function(){var e=this.config.transformTemplate;this.element.style.transform=e?e({},""):"none",this.scheduleRender()},t.prototype.setAxisTarget=function(e,t,r){var n=this.targetBox[e];n.min=t,n.max=r,this.hasViewportBoxUpdated=!0,this.rootParent.scheduleUpdateLayoutDelta()},t.prototype.startLayoutAxisAnimation=function(e,t){var r,n=this,i=this.axisProgress[e],a=this.targetBox[e],o=a.min,s=a.max-o;return i.clearListeners(),i.set(o),i.set(o),i.onChange((function(t){return n.setAxisTarget(e,t,t+s)})),null===(r=this.animateMotionValue)||void 0===r?void 0:r.call(this,e,i,0,t)},t.prototype.stopLayoutAnimation=function(){var e=this;jr((function(t){return e.axisProgress[t].stop()}))},t.prototype.updateLayoutDeltas=function(){var e,t,r,n,i;e=this.boxCorrected,t=this.box,kr(e.x,t.x),kr(e.y,t.y),this.parent&&(this.prevTreeScale.x=this.treeScale.x,this.prevTreeScale.y=this.treeScale.y,r=this.treeScale,n=this.parent.treeScale,i=this.parent.delta,r.x=n.x*i.x.scale,r.y=n.y*i.y.scale),function(e,t){for(var r=t.length,n=0;n<r;n++)Sr(e,t[n].delta)}(this.boxCorrected,this.treePath),Dr(this.delta,this.boxCorrected,this.targetBox,this.layoutOrigin),this.hasViewportBoxUpdated&&this.viewportBoxUpdateListeners.notify(this.targetBox,this.delta),this.hasViewportBoxUpdated=!1;var a=cr(this.delta,this.treeScale);a===this.deltaTransform&&this.prevTreeScale.x===this.treeScale.x&&this.prevTreeScale.y===this.treeScale.y||this.scheduleRender(),this.deltaTransform=a},t.prototype.updateTransformDeltas=function(){var e,t,r;this.isLayoutProjectionEnabled&&this.box&&(e=this.targetBoxFinal,t=this.targetBox,r=this.latest,Tr(e.x,t.x,r,xr),Tr(e.y,t.y,r,Or),Dr(this.deltaFinal,this.boxCorrected,this.targetBoxFinal,this.layoutOrigin))},t.prototype.build=function(){this.updateTransformDeltas(),void 0!==this.isVisible&&(this.style.visibility=this.isVisible?"visible":"hidden"),br(this.latest,this.style,this.vars,this.transform,this.transformOrigin,this.transformKeys,this.config,this.isLayoutProjectionEnabled&&!!this.box,this.delta,this.deltaFinal,this.treeScale,this.targetBoxFinal)},t.prototype.render=function(){for(var e in this.build(),Object.assign(this.element.style,this.style),this.vars)this.element.style.setProperty(e,this.vars[e])},t}(qt),Yr=function(e){return e.updateLayoutDelta()};function Qr(e){var t=Object(rt.useRef)(null);return null===t.current&&(t.current=e()),t.current}function Jr(e,t,r){return"string"===typeof e?e:I.transform(t+r*e)}var en=function(e,t){return I.transform(e*t)},tn={offset:"stroke-dashoffset",array:"stroke-dasharray"},rn={offset:"strokeDashoffset",array:"strokeDasharray"};var nn={x:0,y:0,width:0,height:0};function an(e,t,r,i,a,o,s,l,u,c,d,f,p,h,g){var m=e.attrX,v=e.attrY,y=e.originX,b=e.originY,k=e.pathLength,_=e.pathSpacing,E=void 0===_?1:_,w=e.pathOffset,S=void 0===w?0:w;return br(Object(n.d)(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),i,r,a,o,s,l,d,f,p,h,g),i.transform&&(t.transform=i.transform,delete i.transform),(void 0!==y||void 0!==b||t.transform)&&(t.transformOrigin=function(e,t,r){return Jr(t,e.x,e.width)+" "+Jr(r,e.y,e.height)}(u||nn,void 0!==y?y:.5,void 0!==b?b:.5)),void 0!==m&&(i.x=m),void 0!==v&&(i.y=v),void 0!==c&&void 0!==k&&function(e,t,r,n,i,a){void 0===n&&(n=1),void 0===i&&(i=0),void 0===a&&(a=!0);var o=a?tn:rn;e[o.offset]=en(-i,t);var s=en(r,t),l=en(n,t);e[o.array]=s+" "+l}(i,c,k,E,S,!1),i}var on=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox"]),sn=/([a-z])([A-Z])/g,ln=function(e){return e.replace(sn,"$1-$2").toLowerCase()},un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attrs={},t.defaultConfig={enableHardwareAcceleration:!1},t.config=t.defaultConfig,t}return Object(n.b)(t,e),t.prototype.mount=function(t){e.prototype.mount.call(this,t),this.measure()},t.prototype.measure=function(){try{this.dimensions="function"===typeof this.element.getBBox?this.element.getBBox():this.element.getBoundingClientRect()}catch(e){this.dimensions={x:0,y:0,width:0,height:0}}"path"===this.element.tagName&&(this.totalPathLength=this.element.getTotalLength())},t.prototype.clean=function(){e.prototype.clean.call(this),this.attrs={}},t.prototype.read=function(e){return e=on.has(e)?e:ln(e),this.element.getAttribute(e)},t.prototype.build=function(){this.updateTransformDeltas(),an(this.latest,this.style,this.vars,this.attrs,this.transform,this.transformOrigin,this.transformKeys,this.config,this.dimensions,this.totalPathLength,this.isLayoutProjectionEnabled&&!!this.box,this.delta,this.deltaFinal,this.treeScale,this.targetBoxFinal)},t.prototype.render=function(){for(var t in e.prototype.render.call(this),this.attrs)this.element.setAttribute(on.has(t)?t:ln(t),this.attrs[t])},t}(Xr);var cn=new Set(["animate","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use","view"]);function dn(e){return"string"===typeof e&&cn.has(e)}var fn=Object(rt.createContext)(null),pn=Object(rt.createContext)({variantContext:{}});function hn(){return Object(rt.useContext)(pn).variantContext}function gn(){return Object(rt.useContext)(pn).visualElement}var mn=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","onLayoutAnimationComplete","onViewportBoxUpdate","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileHover","whileTap","onHoverEnd","onHoverStart"]);function vn(e){return mn.has(e)}var yn=function(e){return!vn(e)};try{var bn=r(217).default;yn=function(e){return e.startsWith("on")?!vn(e):bn(e)}}catch(ka){}var kn=function(e){return e instanceof ot};function _n(e,t){var r=t.layout,n=t.layoutId;return or(e)||lr(e)||(r||void 0!==n)&&!!yr[e]}function En(e,t,r,n,i){for(var a in void 0===n&&(n=!1),n&&(e.reactStyle={}),r){var o=r[a],s=!1;if(kn(o))Tn.has(a)||(e.addValue(a,o),s=!0);else if(_n(a,i)){if(e.hasValue(a)){if(o!==t[a]){if(kn(t[a]))e.addValue(a,st(o));else e.getValue(a).set(o)}}else e.addValue(a,st(o));s=!0}else n&&(e.reactStyle[a]=o);s&&(t[a]=o)}}var wn,Sn,Tn=new Set([]),xn=function(){return{}},On=Object(rt.createContext)({transformPagePoint:function(e){return e},features:[],isStatic:!1});function Pn(e){var t=e.animate,r=e.variants,n=e.inherit;return void 0===n?!!r&&!t:n}!function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"}(wn||(wn={})),function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(Sn||(Sn={}));var An={measureLayout:function(e){return e.measureLayout()},layoutReady:function(e){return e.layoutReady()}},Cn=function(e,t){return e.depth-t.depth};function Mn(){var e=new Set;return{add:function(t){return e.add(t)},flush:function(t){var r=void 0===t?An:t,n=r.measureLayout,i=r.layoutReady,a=Array.from(e).sort(Cn);a.forEach((function(e){return e.resetTransform()})),a.forEach(n),a.forEach(i),a.forEach((function(e){e.isPresent&&(e.presence=wn.Present)})),e.clear()}}}function In(e){return!!e.forceUpdate}var Rn=Object(rt.createContext)(Mn()),Dn="undefined"!==typeof window?rt.useLayoutEffect:rt.useEffect;function jn(){var e=Object(rt.useContext)(fn);if(null===e)return[!0,null];var t=e.isPresent,r=e.onExitComplete,n=e.register,i=Bn();Object(rt.useEffect)((function(){return n(i)}),[]);return!t&&r?[!1,function(){return null===r||void 0===r?void 0:r(i)}]:[!0]}function Ln(e){return null===e||e.isPresent}var Nn=0,Un=function(){return Nn++},Bn=function(){return Qr(Un)};function Fn(e,t){void 0===t&&(t=!1);var r=Object(rt.useRef)(!0);(!t||t&&r.current)&&e(),r.current=!1}function zn(e){return"string"===typeof e||Array.isArray(e)}function Vn(e){return"object"===typeof e&&"function"===typeof e.start}function $n(e,t){var r=t.defaultFeatures,i=t.useVisualElement,a=t.render;return Object(rt.forwardRef)((function(t,o){var s=Object(rt.useContext)(On).isStatic,l=i(e,t,s,o);!function(e,t){var r=Qr(xn);for(var n in r){var i=_n(n,t),a=void 0!==t[n],o=t.style&&void 0!==t.style[n],s=a&&kn(t[n]),l=o&&kn(t.style[n]);(i&&!a&&!o||!i&&!s&&!l)&&(e.removeValue(n),delete r[n])}En(e,r,t,!1,t),t.style&&En(e,r,t.style,!0,t),t.transformValues&&(e.reactStyle=t.transformValues(e.reactStyle))}(l,t);var u=function(e,t,r){var n,i,a=t.variants,o=t.initial,s=t.animate,l=t.whileTap,u=t.whileHover,c=hn(),d=c.parent,f=c.initial,p=c.animate,h=Object(rt.useContext)(fn),g=zn(s)||zn(l)||zn(u)||Vn(s),m=a||g;!1!==(o=null!==(n=null===h||void 0===h?void 0:h.initial)&&void 0!==n?n:o)||Vn(s)||(o=s);var v=Object(rt.useMemo)((function(){return{parent:m?e:d,initial:zn(o)?o:f,animate:zn(s)?s:p}}),[r?o:null]);return Fn((function(){var t=o||f;t&&Ut(e,t)}),!r),m&&!g&&(null===d||void 0===d||d.addVariantChild(e)),Ln(h)&&(null===(i=e.variantChildrenOrder)||void 0===i||i.clear()),Object(rt.useEffect)((function(){m&&(null===d||void 0===d||d.addVariantChildOrder(e))})),Object(rt.useEffect)((function(){return e.isMounted=!0,function(){var t;e.isMounted=!1,null===(t=null===d||void 0===d?void 0:d.variantChildren)||void 0===t||t.delete(e)}}),[]),Fn((function(){e.forEachValue((function(t,r){e.baseTarget[r]=t.get()}))}),!0),v}(l,t,s),c=function(e,t,r,i){var a=Object(rt.useContext)(On);if(t||"undefined"===typeof window)return null;for(var o=Object(n.e)(e,a.features),s=o.length,l=[],u=0;u<s;u++){var c=o[u],d=c.shouldRender,f=c.key,p=c.getComponent;if(d(i)){var h=p(i);h&&l.push(Object(rt.createElement)(h,Object(n.a)({key:f},i,{visualElement:r,inherit:Pn(i)})))}}return l}(r,s,l,t),d=Object(rt.useMemo)((function(){return{visualElement:l,variantContext:u}}),[l,u]),f=a(e,t,l);return function(e){var t=Object(rt.useContext)(Rn);Dn((function(){return function(){In(t)&&t.remove(e)}}),[])}(l),Object(rt.createElement)(rt.Fragment,null,Object(rt.createElement)(pn.Provider,{value:d},f),c)}))}function Wn(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Kn=Wn("dragHorizontal"),Hn=Wn("dragVertical");function Gn(e){var t=!1;if("y"===e)t=Hn();else if("x"===e)t=Kn();else{var r=Kn(),n=Hn();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function Zn(e,t,r,n){return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r,n)}}function qn(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Xn(e){return!!e.touches}var Yn={pageX:0,pageY:0};function Qn(e,t){void 0===t&&(t="page");var r=e.touches[0]||e.changedTouches[0]||Yn;return{x:r[t+"X"],y:r[t+"Y"]}}function Jn(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function ei(e,t){return void 0===t&&(t="page"),{point:Xn(e)?Qn(e,t):Jn(e,t)}}function ti(e){return ei(e,"client")}var ri=function(e,t){void 0===t&&(t=!1);var r,n=function(t){return e(t,ei(t))};return t?(r=n,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&r(e)}):n},ni="undefined"!==typeof window,ii={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ai={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function oi(e){return ni&&null===window.onpointerdown?e:ni&&null===window.ontouchstart?ai[e]:ni&&null===window.onmousedown?ii[e]:e}function si(e,t,r,n){return Zn(e,oi(t),ri(r,"pointerdown"===t),n)}function li(e,t,r,n){return function(e,t,r,n){Object(rt.useEffect)((function(){var i=e.current;if(r&&i)return Zn(i,t,r,n)}),[e,t,r,n])}(e,oi(t),r&&ri(r,"pointerdown"===t),n)}var ui=function(){function e(e,t,r){var i=this,a=(void 0===r?{}:r).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var e=fi(i.lastMoveEventInfo,i.history),t=null!==i.startEvent,r=qe(e.offset,{x:0,y:0})>=3;if(t||r){var a=e.point,o=b().timestamp;i.history.push(Object(n.a)(Object(n.a)({},a),{timestamp:o}));var s=i.handlers,l=s.onStart,u=s.onMove;t||(l&&l(i.lastMoveEvent,e),i.startEvent=i.lastMoveEvent),u&&u(i.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){i.lastMoveEvent=e,i.lastMoveEventInfo=ci(t,i.transformPagePoint),qn(e)&&0===e.buttons?i.handlePointerUp(e,t):k.update(i.updatePoint,!0)},this.handlePointerUp=function(e,t){i.end();var r=i.handlers.onEnd;if(r){var n=fi(ci(t,i.transformPagePoint),i.history);r&&r(e,n)}},!(Xn(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=a;var o=ci(ei(e),this.transformPagePoint),s=o.point,l=b().timestamp;this.history=[Object(n.a)(Object(n.a)({},s),{timestamp:l})];var u=t.onSessionStart;u&&u(e,fi(o,this.history)),this.removeListeners=de(si(window,"pointermove",this.handlePointerMove),si(window,"pointerup",this.handlePointerUp),si(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),g.update(this.updatePoint)},e}();function ci(e,t){return t?{point:t(e.point)}:e}function di(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fi(e,t){var r=e.point;return{point:r,delta:di(r,hi(t)),offset:di(r,pi(t)),velocity:gi(t,.1)}}function pi(e){return e[0]}function hi(e){return e[e.length-1]}function gi(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,i=hi(e);r>=0&&(n=e[r],!(i.timestamp-n.timestamp>lt(t)));)r--;if(!n)return{x:0,y:0};var a=(i.timestamp-n.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mi(e,t,r){var n=t.min,i=t.max;return void 0!==n&&e<n?e=r?ne(n,e,r):Math.max(e,n):void 0!==i&&e>i&&(e=r?ne(i,e,r):Math.min(e,i)),e}function vi(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function yi(e,t){var r,i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&(i=(r=Object(n.c)([a,i],2))[0],a=r[1]),{min:e.min+i,max:e.min+a}}var bi,ki=new WeakMap,_i=function(){function e(e){var t=e.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=t,this.visualElement.enableLayoutProjection(),ki.set(t,this)}return e.prototype.start=function(e,t){var r=this,n=void 0===t?{}:t,i=n.snapToCursor,a=void 0!==i&&i,o=n.cursorProgress;a&&this.snapToCursor(e);var s=this.props.transformPagePoint;this.panSession=new ui(e,{onSessionStart:function(){r.stopMotion()},onStart:function(e,t){var n,i,a=r.props,s=a.drag,l=a.dragPropagation;if(!s||l||(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=Gn(s),r.openGlobalLock)){r.prepareBoundingBox(),r.visualElement.lockTargetBox(),r.resolveDragConstraints();var u=ti(e).point;jr((function(e){var t=r.visualElement.targetBox[e],n=t.min,i=t.max;r.cursorProgress[e]=o?o[e]:re(n,i,u[e]);var a=r.getAxisMotionValue(e);a&&(r.originPoint[e]=a.get())})),r.isDragging=!0,r.currentDirection=null,null===(i=(n=r.props).onDragStart)||void 0===i||i.call(n,e,t)}},onMove:function(e,t){var n,i,a,o,s=r.props,l=s.dragPropagation,u=s.dragDirectionLock;if(l||r.openGlobalLock){var c=t.offset;if(u&&null===r.currentDirection)return r.currentDirection=function(e,t){void 0===t&&(t=10);var r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(c),void(null!==r.currentDirection&&(null===(i=(n=r.props).onDirectionLock)||void 0===i||i.call(n,r.currentDirection)));r.updateAxis("x",e,c),r.updateAxis("y",e,c),null===(o=(a=r.props).onDrag)||void 0===o||o.call(a,e,t),bi=e}},onEnd:function(e,t){return r.stop(e,t)}},{transformPagePoint:s})},e.prototype.prepareBoundingBox=function(){var e=this.visualElement.getInstance(),t=e.style.transform;this.visualElement.resetTransform(),this.visualElement.measureLayout(),e.style.transform=t,this.visualElement.rebaseTargetBox(!0,this.visualElement.getBoundingBoxWithoutTransforms())},e.prototype.resolveDragConstraints=function(){var e=this,t=this.props.dragConstraints;this.constraints=!!t&&(it(t)?this.resolveRefConstraints(this.visualElement.box,t):function(e,t){var r=t.top,n=t.left,i=t.bottom,a=t.right;return{x:vi(e.x,n,a),y:vi(e.y,r,i)}}(this.visualElement.box,t)),this.constraints&&!this.hasMutatedConstraints&&jr((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(e.visualElement.box[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(e,t){var r=this.props,n=r.onMeasureDragConstraints,i=r.transformPagePoint,a=t.current;this.constraintsBox=Lr(a,i);var o=function(e,t){return{x:yi(e.x,t.x),y:yi(e.y,t.y)}}(e,this.constraintsBox);if(n){var s=n(function(e){var t=e.x,r=e.y;return{top:r.min,bottom:r.max,left:t.min,right:t.max}}(o));this.hasMutatedConstraints=!!s,s&&(o=Yt(s))}return o},e.prototype.cancelDrag=function(){this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null)},e.prototype.stop=function(e,t){var r;this.visualElement.unlockTargetBox(),null===(r=this.panSession)||void 0===r||r.end(),this.panSession=null;var n=this.isDragging;if(this.cancelDrag(),n){var i=this.props,a=i.dragMomentum,o=i.dragElastic,s=i.onDragEnd;if(a||o){var l=t.velocity;this.animateDragEnd(l)}null===s||void 0===s||s(e,t)}},e.prototype.snapToCursor=function(e){var t=this;this.prepareBoundingBox(),jr((function(r){var n=t.getAxisMotionValue(r);if(n){var i=ti(e).point,a=t.visualElement.box,o=a[r].max-a[r].min,s=a[r].min+o/2,l=i[r]-s;t.originPoint[r]=i[r],n.set(l)}else t.cursorProgress[r]=.5,t.updateVisualElementAxis(r,e)}))},e.prototype.updateAxis=function(e,t,r){if(Ei(e,this.props.drag,this.currentDirection))return this.getAxisMotionValue(e)?this.updateAxisMotionValue(e,r):this.updateVisualElementAxis(e,t)},e.prototype.updateAxisMotionValue=function(e,t){var r=this.getAxisMotionValue(e);if(t&&r){var n=this.props.dragElastic,i=this.originPoint[e]+t[e],a=this.constraints?mi(i,this.constraints[e],n):i;r.set(a)}},e.prototype.updateVisualElementAxis=function(e,t){var r,n=this.props.dragElastic,i=this.visualElement.box[e],a=i.max-i.min,o=this.cursorProgress[e],s=function(e,t,r,n,i){var a=e-t*r;return n?mi(a,n,i):a}(ti(t).point[e],a,o,null===(r=this.constraints)||void 0===r?void 0:r[e],n);this.visualElement.setAxisTarget(e,s,s+a)},e.prototype.updateProps=function(e){var t=e.drag,r=void 0!==t&&t,i=e.dragDirectionLock,a=void 0!==i&&i,o=e.dragPropagation,s=void 0!==o&&o,l=e.dragConstraints,u=void 0!==l&&l,c=e.dragElastic,d=void 0===c?.35:c,f=e.dragMomentum,p=void 0===f||f,h=Object(n.d)(e,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=Object(n.a)({drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:u,dragElastic:d,dragMomentum:p},h)},e.prototype.getAxisMotionValue=function(e){var t=this.props,r=t.layout,n=t.layoutId,i="_drag"+e.toUpperCase();return this.props[i]?this.props[i]:r||void 0!==n?void 0:this.visualElement.getValue(e,0)},e.prototype.animateDragEnd=function(e){var t=this,r=this.props,i=r.drag,a=r.dragMomentum,o=r.dragElastic,s=r.dragTransition,l=jr((function(r){if(Ei(r,i,t.currentDirection)){var l=t.constraints?t.constraints[r]:{},u=o?200:1e6,c=o?40:1e7,d=Object(n.a)(Object(n.a)({type:"inertia",velocity:a?e[r]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10},s),l);return t.getAxisMotionValue(r)?t.startAxisValueAnimation(r,d):t.visualElement.startLayoutAxisAnimation(r,d)}}));return Promise.all(l).then((function(){var e,r;null===(r=(e=t.props).onDragTransitionEnd)||void 0===r||r.call(e)}))},e.prototype.stopMotion=function(){var e=this;jr((function(t){var r=e.getAxisMotionValue(t);r?r.stop():e.visualElement.stopLayoutAnimation()}))},e.prototype.startAxisValueAnimation=function(e,t){var r=this.getAxisMotionValue(e);if(r){var n=r.get();return r.set(n),r.set(n),_t(e,r,0,t)}},e.prototype.scalePoint=function(){var e=this,t=this.props,r=t.drag,n=t.dragConstraints;if(it(n)&&this.constraintsBox){this.stopMotion();var i={x:0,y:0};jr((function(t){i[t]=Ir(e.visualElement.targetBox[t],e.constraintsBox[t])})),this.prepareBoundingBox(),this.resolveDragConstraints(),jr((function(t){if(Ei(t,r,null)){var n=function(e,t,r){var n=e.max-e.min,i=ne(t.min,t.max-n,r);return{min:i,max:i+n}}(e.visualElement.targetBox[t],e.constraintsBox[t],i[t]),a=n.min,o=n.max;e.visualElement.setAxisTarget(t,a,o)}}))}},e.prototype.mount=function(e){var t=this,r=si(e.getInstance(),"pointerdown",(function(e){var r=t.props,n=r.drag,i=r.dragListener;n&&(void 0===i||i)&&t.start(e)})),n=Zn(window,"resize",(function(){t.scalePoint()})),i=e.onLayoutUpdate((function(){t.isDragging&&t.resolveDragConstraints()})),a=e.prevSnapshot;return(null===a||void 0===a?void 0:a.isDragging)&&this.start(bi,{cursorProgress:a.cursorProgress}),function(){null===r||void 0===r||r(),null===n||void 0===n||n(),null===i||void 0===i||i(),t.cancelDrag()}},e}();function Ei(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}var wi=function(e){return function(t){return e(t),null}},Si=wi((function(e){var t=e.visualElement;return function(e,t){var r=e.dragControls,i=Object(rt.useContext)(On).transformPagePoint,a=Qr((function(){return new _i({visualElement:t})}));a.updateProps(Object(n.a)(Object(n.a)({},e),{transformPagePoint:i})),Object(rt.useEffect)((function(){return r&&r.subscribe(a)}),[a]),Object(rt.useEffect)((function(){return a.mount(t)}),[])}(Object(n.d)(e,["visualElement"]),t)})),Ti={key:"drag",shouldRender:function(e){return!!e.drag||!!e.dragControls},getComponent:function(){return Si}};function xi(e){return Object(rt.useEffect)((function(){return function(){return e()}}),[])}var Oi=["whileHover","whileTap","whileDrag"],Pi=function(e){return Oi.indexOf(e)+1},Ai=Pi("whileTap");var Ci=Pi("whileHover"),Mi=function(e){return function(t,r){qn(t)&&e(t,r)}};function Ii(e,t){!function(e,t){var r=e.onPan,n=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=r||n||i||a,s=Object(rt.useRef)(null),l=Object(rt.useContext)(On).transformPagePoint,u={onSessionStart:a,onStart:n,onMove:r,onEnd:function(e,t){s.current=null,i&&i(e,t)}};Object(rt.useEffect)((function(){null!==s.current&&s.current.updateHandlers(u)})),li(t,"pointerdown",o&&function(e){s.current=new ui(e,u,{transformPagePoint:l})}),xi((function(){return s.current&&s.current.end()}))}(e,t),function(e,t){var r=e.onTap,n=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=r||n||i||a,s=Object(rt.useRef)(!1),l=Object(rt.useRef)(null);function u(){var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}a&&Kt(t,a,Ai);var c=Object(rt.useRef)(null);c.current=function(e,n){var o=t.getInstance();if(u(),s.current&&o){s.current=!1,a&&Gt(t,Ai);var l=Gn(!0);l&&(l(),!function e(t,r){return!!r&&(t===r||e(t,r.parentElement))}(o,e.target)?null===i||void 0===i||i(e,n):null===r||void 0===r||r(e,n))}},li(t,"pointerdown",o?function(e,r){u(),l.current=de(si(window,"pointerup",(function(e,t){var r;return null===(r=c.current)||void 0===r?void 0:r.call(c,e,t)})),si(window,"pointercancel",(function(e,t){var r;return null===(r=c.current)||void 0===r?void 0:r.call(c,e,t)}))),t.getInstance()&&!s.current&&(s.current=!0,null===n||void 0===n||n(e,r),a&&Ht(t,Ai))}:void 0),xi(u)}(e,t),function(e,t){var r=e.whileHover,n=e.onHoverStart,i=e.onHoverEnd;r&&Kt(t,r,Ci),li(t,"pointerenter",Mi((function(e,i){null===n||void 0===n||n(e,i),r&&Ht(t,Ci)}))),li(t,"pointerleave",Mi((function(e,n){null===i||void 0===i||i(e,n),r&&Gt(t,Ci)})))}(e,t)}var Ri=["onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileTap","whileHover","onHoverStart","onHoverEnd"],Di=wi((function(e){var t=e.visualElement;Ii(Object(n.d)(e,["visualElement"]),t)})),ji={key:"gestures",shouldRender:function(e){return Ri.some((function(t){return e.hasOwnProperty(t)}))},getComponent:function(){return Di}},Li=function(){function e(){this.hasMounted=!1,this.pendingAnimations=[],this.subscribers=new Set}return e.prototype.subscribe=function(e){var t=this;return this.subscribers.add(e),function(){return t.subscribers.delete(e)}},e.prototype.start=function(e,t){var r=this;if(this.hasMounted){var n=[];return this.subscribers.forEach((function(r){var i=Vt(r,e,{transitionOverride:t});n.push(i)})),Promise.all(n)}return new Promise((function(n){r.pendingAnimations.push({animation:[e,t],resolve:n})}))},e.prototype.set=function(e){return this.hasMounted,this.subscribers.forEach((function(t){Ut(t,e)}))},e.prototype.stop=function(){this.subscribers.forEach((function(e){!function(e){e.forEachValue((function(e){return e.stop()}))}(e)}))},e.prototype.mount=function(){var e=this;this.hasMounted=!0,this.pendingAnimations.forEach((function(t){var r=t.animation,i=t.resolve;e.start.apply(e,Object(n.e)(r)).then(i)}))},e.prototype.unmount=function(){this.hasMounted=!1,this.stop()},e}(),Ni=wi((function(e){var t=e.animate,r=e.exit,i=e.visualElement,a=Object(n.c)(jn(),2),o=a[0],s=a[1],l=Object(rt.useContext)(fn),u=Object(rt.useRef)(!1),c=void 0!==(null===l||void 0===l?void 0:l.custom)?l.custom:e.custom;Object(rt.useEffect)((function(){o?!u.current||!t||"boolean"===typeof t||t instanceof Li||Vt(i,t):(!u.current&&r&&Vt(i,r,{custom:c}).then(s),u.current=!0),o&&(u.current=!1)}),[t,c,r,o,s,e])})),Ui={key:"exit",shouldRender:function(e){return!!e.exit&&!Pn(e)},getComponent:function(){return Ni}};function Bi(e,t){void 0===t&&(t=!1);e.transition;var r=e.transitionEnd,i=Object(n.d)(e,["transition","transitionEnd"]);return t?Object(n.a)(Object(n.a)({},i),r):i}var Fi=function(e){var t,r=e instanceof ot?e.get():e;return Array.from(new Set((t=r)?Array.isArray(t)?t:[t]:[]))};var zi={shouldRender:function(e){return void 0!==e.animate&&!Rt(e.animate)&&!Vn(e.animate)},Component:wi((function(e){var t=e.animate;return function(e,t,r){var i=Object(rt.useRef)(!0),a=Object(rt.useRef)(null);a.current||(a.current=Bi(t,!0)),Object(rt.useEffect)((function(){var o,s,l={},u=Bi(t),c=Bi(t,!0);for(var d in u){var f=i.current&&(!e.hasValue(d)||e.getValue(d).get()!==c[d]),p=null!==c[d],h=(o=a.current[d],void 0!==(s=c[d])&&(Array.isArray(o)&&Array.isArray(s)?!function(e,t){if(null===t)return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}(s,o):o!==s));p&&(h||f)&&(l[d]=u[d])}i.current=!1,a.current=Object(n.a)(Object(n.a)({},a.current),c),Object.keys(l).length&&Vt(e,Object(n.a)(Object(n.a)({},l),{transition:t.transition||r,transitionEnd:t.transitionEnd}))}),[t])}(e.visualElement,t,e.transition)}))},Vi={shouldRender:function(e){return e.variants&&!Vn(e.animate)||Rt(e.animate)},Component:wi((function(e){var t=e.animate,r=e.inherit,n=void 0===r||r;return function(e,t,r,n){var i,a=Fi(r),o=hn(),s=null===(i=o.parent)||void 0===i?void 0:i.isMounted,l=Object(rt.useRef)(!1);Object(rt.useEffect)((function(){var r,i,u=!1;n?(u=!!s,a=Fi(o.animate)):u=l.current||(r=Fi(t),i=a,r.join(",")!==i.join(",")),u&&Vt(e,a),l.current=!0}),[a.join(",")])}(e.visualElement,e.initial,t,n)}))},$i={shouldRender:function(e){return Vn(e.animate)},Component:wi((function(e){var t=e.animate;return function(e,t){var r=Object(rt.useMemo)((function(){return t.subscribe(e)}),[t]);xi((function(){return null===r||void 0===r?void 0:r()}))}(e.visualElement,t)}))},Wi={key:"animation",shouldRender:function(){return!0},getComponent:function(e){return zi.shouldRender(e)?zi.Component:Vi.shouldRender(e)?Vi.Component:$i.shouldRender(e)?$i.Component:void 0}};var Ki=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameTarget={x:{min:0,max:0},y:{min:0,max:0}},t.stopAxisAnimation={x:void 0,y:void 0},t.animate=function(e,r,i){void 0===i&&(i={});var a=i.originBox,o=i.targetBox,s=i.visibilityAction,l=i.shouldStackAnimate,u=Object(n.d)(i,["originBox","targetBox","visibilityAction","shouldStackAnimate"]),c=t.props,d=c.visualElement,f=c.layout;if(!1===l)return t.safeToRemove();var p=Gi(r=a||r,e=o||e),h=jr((function(n){if("position"===f){var i=e[n].max-e[n].min;r[n].max=r[n].min+i}if(!d.isTargetBoxLocked)return void 0===s?p?t.animateAxis(n,e[n],r[n],u):d.setAxisTarget(n,e[n].min,e[n].max):void(s===Sn.Hide?d.hide():d.show())}));return d.render(),Promise.all(h).then((function(){var e,r;null===(r=(e=t.props).onLayoutAnimationComplete)||void 0===r||r.call(e),d.isPresent?d.presence=wn.Present:t.safeToRemove()}))},t}return Object(n.b)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.visualElement;t.animateMotionValue=_t,t.enableLayoutProjection(),this.unsubLayoutReady=t.onLayoutUpdate(this.animate),t.updateConfig(Object(n.a)(Object(n.a)({},t.config),{safeToRemove:function(){return e.safeToRemove()}}))},t.prototype.componentWillUnmount=function(){var e=this;this.unsubLayoutReady(),jr((function(t){var r,n;return null===(n=(r=e.stopAxisAnimation)[t])||void 0===n?void 0:n.call(r)}))},t.prototype.animateAxis=function(e,t,r,n){var i,a,o=void 0===n?{}:n,s=o.transition,l=o.crossfadeOpacity;null===(a=(i=this.stopAxisAnimation)[e])||void 0===a||a.call(i);var u,c=this.props.visualElement,d=this.frameTarget[e],f=c.axisProgress[e];f.clearListeners(),f.set(0),f.set(0),l&&(u=this.createCrossfadeAnimation(l),c.show());var p=function(){var n=f.get()/1e3;!function(e,t,r,n){e.min=ne(t.min,r.min,n),e.max=ne(t.max,r.max,n)}(d,r,t,n),c.setAxisTarget(e,d.min,d.max),null===u||void 0===u||u(n)};p(),c.updateLayoutDelta();var h=f.onChange(p),g=_t("x"===e?"layoutX":"layoutY",f,1e3,s||this.props.transition||qi).then(h);return this.stopAxisAnimation[e]=function(){f.stop(),h()},g},t.prototype.createCrossfadeAnimation=function(e){var t=this.props.visualElement.getValue("opacity",0);return function(r){t.set(Yi(ne(0,1,r))),e.set(Qi(ne(1,0,r)))}},t.prototype.safeToRemove=function(){var e,t;null===(t=(e=this.props).safeToRemove)||void 0===t||t.call(e)},t.prototype.render=function(){return null},t}(rt.Component);function Hi(e){var t=Object(n.c)(jn(),2)[1];return Object(rt.createElement)(Ki,Object(n.a)({},e,{safeToRemove:t}))}function Gi(e,t){return Zi(e.x,t.x)||Zi(e.y,t.y)}function Zi(e,t){return e.min!==t.min||e.max!==t.max}var qi={duration:.45,ease:[.4,0,.1,1]};function Xi(e,t,r){return function(n){return n<e?0:n>t?1:r(re(e,t,n))}}var Yi=Xi(0,.5,Ae),Qi=Xi(.5,.95,Se),Ji={key:"animate-layout",shouldRender:function(e){return!!e.layout||!!e.layoutId},getComponent:function(){return Hi}},ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.syncLayout,r=e.visualElement;In(t)&&t.register(r)},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.syncLayout,r=e.visualElement;return In(t)?t.syncUpdate():(r.snapshotBoundingBox(),t.add(r)),null},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.syncLayout,r=e.visualElement;In(t)||t.flush(),r.rebaseTargetBox()},t.prototype.render=function(){return null},t}(nt.a.Component);function ta(e){var t=Object(rt.useContext)(Rn);return nt.a.createElement(ea,Object(n.a)({},e,{syncLayout:t}))}var ra={key:"measure-layout",shouldRender:function(e){return!!e.drag||!!e.layout||!!e.layoutId},getComponent:function(){return ta}},na=[ra,Wi,Ti,ji,Ui,Ji],ia={useVisualElement:function(e,t,r,i){var a=gn(),o=Qr((function(){return new(dn(e)?un:Xr)(a,i)}));o.updateConfig(Object(n.a)(Object(n.a)(Object(n.a)({},o.config),{enableHardwareAcceleration:!r}),t)),o.layoutId=t.layoutId;var s=Object(rt.useContext)(fn),l=null===s||s.isPresent;o.isPresent=void 0!==t.isPresent?t.isPresent:l;var u=null===s||void 0===s?void 0:s.id;return o.isPresenceRoot=!a||a.presenceId!==u,Object(rt.useEffect)((function(){if(t.onViewportBoxUpdate)return o.onViewportBoxUpdate(t.onViewportBoxUpdate)}),[t.onViewportBoxUpdate]),o},render:function(e,t,r){var i="string"===typeof e?function(e){var t={};for(var r in e)yn(r)&&(t[r]=e[r]);return t}(t):t;r.clean(),r.build();var a=dn(e)?function(e){return Object(n.a)(Object(n.a)({},e.attrs),{style:Object(n.a)({},e.reactStyle)})}(r):function(e,t){var r=t.drag,i={style:Object(n.a)(Object(n.a)(Object(n.a)({},e.reactStyle),e.style),e.vars)};return r&&(i.draggable=!1,i.style.userSelect="none",i.style.touchAction=!0===r?"none":"pan-"+("x"===r?"y":"x")),i}(r,t);return Object(rt.createElement)(e,Object(n.a)(Object(n.a)(Object(n.a)({},i),{ref:r.ref}),a))}};function aa(e){var t=Object(n.a)(Object(n.a)({},ia),{defaultFeatures:e});var r=new Map;return new Proxy({custom:function(e){return $n(e,t)}},{get:function(e,n){return"custom"===n?e.custom:(r.has(n)||r.set(n,$n(n,t)),r.get(n))}})}var oa=aa(na);var sa=0;function la(){var e=sa;return sa++,e}var ua=function(e){var t=e.children,r=e.initial,n=e.isPresent,i=e.onExitComplete,a=e.custom,o=e.presenceAffectsLayout,s=Qr(ca),l=Qr(la),u=Object(rt.useMemo)((function(){return{id:l,initial:r,isPresent:n,custom:a,onExitComplete:function(e){s.set(e,!0);var t=!0;s.forEach((function(e){e||(t=!1)})),t&&(null===i||void 0===i||i())},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}}),o?void 0:[n]);return Object(rt.useMemo)((function(){s.forEach((function(e,t){return s.set(t,!1)}))}),[n]),Object(rt.createElement)(fn.Provider,{value:u},t)};function ca(){return new Map}function da(e){return e.key||""}var fa=function(e){var t=e.children,r=e.custom,i=e.initial,a=void 0===i||i,o=e.onExitComplete,s=e.exitBeforeEnter,l=e.presenceAffectsLayout,u=void 0===l||l,c=function(){var e=Object(rt.useRef)(!1),t=Object(n.c)(Object(rt.useState)(0),2),r=t[0],i=t[1];return xi((function(){return e.current=!0})),Object(rt.useCallback)((function(){!e.current&&i(r+1)}),[r])}(),d=Object(rt.useContext)(Rn);In(d)&&(c=d.forceUpdate);var f=Object(rt.useRef)(!0),p=function(e){var t=[];return rt.Children.forEach(e,(function(e){Object(rt.isValidElement)(e)&&t.push(e)})),t}(t),h=Object(rt.useRef)(p),g=Object(rt.useRef)(new Map).current,m=Object(rt.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var r=da(e);t.set(r,e)}))}(p,g),f.current)return f.current=!1,Object(rt.createElement)(rt.Fragment,null,p.map((function(e){return Object(rt.createElement)(ua,{key:da(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:u},e)})));for(var v=Object(n.e)(p),y=h.current.map(da),b=p.map(da),k=y.length,_=0;_<k;_++){var E=y[_];-1===b.indexOf(E)?m.add(E):m.delete(E)}return s&&m.size&&(v=[]),m.forEach((function(e){if(-1===b.indexOf(e)){var t=g.get(e);if(t){var n=y.indexOf(e);v.splice(n,0,Object(rt.createElement)(ua,{key:da(t),isPresent:!1,onExitComplete:function(){g.delete(e),m.delete(e);var t=h.current.findIndex((function(t){return t.key===e}));h.current.splice(t,1),m.size||(h.current=p,c(),o&&o())},custom:r,presenceAffectsLayout:u},t))}}})),v=v.map((function(e){var t=e.key;return m.has(t)?e:Object(rt.createElement)(ua,{key:da(e),isPresent:!0,presenceAffectsLayout:u},e)})),h.current=v,Object(rt.createElement)(rt.Fragment,null,m.size?v:v.map((function(e){return Object(rt.cloneElement)(e)})))};function pa(e,t){return t&&e!==t.lead?{visibilityAction:Sn.Hide}:t&&e.presence!==wn.Entering&&e===t.lead&&t.lead!==t.prevLead?{visibilityAction:Sn.Show}:(e.presence===wn.Entering?r=null===t||void 0===t?void 0:t.getFollowOrigin():e.presence===wn.Exiting&&(n=null===t||void 0===t?void 0:t.getFollowTarget()),{originBox:r,targetBox:n});var r,n}function ha(e,t){var r,n,i,a={},o=t&&t.lead,s=null===o||void 0===o?void 0:o.presence;return t&&e===o?e.presence===wn.Entering?a.originBox=t.getFollowOrigin():e.presence===wn.Exiting&&(a.targetBox=t.getFollowTarget()):t&&e===t.follow&&(a.transition=t.getLeadTransition(),s===wn.Entering?a.targetBox=t.getLeadTarget():s===wn.Exiting&&(a.originBox=t.getLeadOrigin())),(null===(r=null===t||void 0===t?void 0:t.follow)||void 0===r?void 0:r.isPresenceRoot)||(null===o||void 0===o?void 0:o.isPresenceRoot)?(t&&e!==o?t&&e===t.follow?o&&s!==wn.Entering&&s===wn.Exiting&&(a.crossfadeOpacity=null===(i=null===t||void 0===t?void 0:t.lead)||void 0===i?void 0:i.getValue("opacity",1)):a.visibilityAction=Sn.Hide:e.presence===wn.Entering&&(a.crossfadeOpacity=null===(n=null===t||void 0===t?void 0:t.follow)||void 0===n?void 0:n.getValue("opacity",0)),a):a}var ga=function(){function e(){this.order=[],this.hasChildren=!1}return e.prototype.add=function(e){var t;if(this.order.push(e),this.snapshot){e.prevSnapshot=this.snapshot,e.prevViewportBox=this.snapshot.boundingBox;var r=this.snapshot.latestMotionValues;for(var n in r)e.hasValue(n)?null===(t=e.getValue(n))||void 0===t||t.set(r[n]):e.addValue(n,st(r[n]))}this.hasChildren=!0},e.prototype.remove=function(e){var t=this.order.findIndex((function(t){return e===t}));-1!==t&&this.order.splice(t,1)},e.prototype.updateLeadAndFollow=function(){this.prevLead=this.lead,this.prevFollow=this.follow;var e=Object(n.c)(function(e,t){for(var r=Object(n.c)(t,2),i=r[0],a=r[1],o=void 0,s=0,l=void 0,u=e.length,c=!1,d=u-1;d>=0;d--){var f=e[d];if(d===u-1&&(c=f.isPresent),c)o=f;else{var p=e[d-1];p&&p.isPresent&&(o=f)}if(o){s=d;break}}if(o||(o=e[0]),l=e[s-1],o)for(d=s-1;d>=0;d--){if((f=e[d]).isPresent){l=f;break}}return o!==i&&!c&&l===a&&e.find((function(e){return e===i}))&&(o=i),[o,l]}(this.order,[this.lead,this.follow]),2),t=e[0],r=e[1];this.lead=t,this.follow=r},e.prototype.updateSnapshot=function(){if(this.lead){var e={boundingBox:this.lead.prevViewportBox,latestMotionValues:{}};this.lead.forEachValue((function(t,r){var n=t.get();or(n)||(e.latestMotionValues[r]=n)}));var t=ki.get(this.lead);t&&t.isDragging&&(e.isDragging=!0,e.cursorProgress=t.cursorProgress),this.snapshot=e}},e.prototype.isLeadPresent=function(){var e;return this.lead&&(null===(e=this.lead)||void 0===e?void 0:e.presence)!==wn.Exiting},e.prototype.getFollowOrigin=function(){var e;return this.follow?this.follow.prevViewportBox:null===(e=this.snapshot)||void 0===e?void 0:e.boundingBox},e.prototype.getFollowTarget=function(){var e;return null===(e=this.follow)||void 0===e?void 0:e.box},e.prototype.getLeadOrigin=function(){var e;return null===(e=this.lead)||void 0===e?void 0:e.prevViewportBox},e.prototype.getLeadTarget=function(){var e;return null===(e=this.lead)||void 0===e?void 0:e.box},e.prototype.getLeadTransition=function(){var e;return null===(e=this.lead)||void 0===e?void 0:e.config.transition},e}();!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.children=new Set,t.stacks=new Map,t.hasMounted=!1,t.updateScheduled=!1,t.renderScheduled=!1,t.syncContext=Object(n.a)(Object(n.a)({},Mn()),{syncUpdate:function(e){return t.scheduleUpdate(e)},forceUpdate:function(){t.syncContext=Object(n.a)({},t.syncContext),t.scheduleUpdate(!0)},register:function(e){return t.addChild(e)},remove:function(e){return t.removeChild(e)}}),t}Object(n.b)(t,e),t.prototype.componentDidMount=function(){this.hasMounted=!0,this.updateStacks()},t.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},t.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},t.prototype.startLayoutAnimation=function(){var e=this;this.renderScheduled=this.updateScheduled=!1;var t=this.props.type;this.children.forEach((function(e){e.isPresent?e.presence!==wn.Entering&&(e.presence=e.presence===wn.Exiting?wn.Entering:wn.Present):e.presence=wn.Exiting})),this.updateStacks();var r="crossfade"===t?ha:pa,n={measureLayout:function(e){return e.measureLayout()},layoutReady:function(t){var n=t.layoutId;t.layoutReady(r(t,e.getStack(n)))}};this.children.forEach((function(t){return e.syncContext.add(t)})),this.syncContext.flush(n),this.stacks.forEach((function(e){return e.snapshot=void 0}))},t.prototype.updateStacks=function(){this.stacks.forEach((function(e){return e.updateLeadAndFollow()}))},t.prototype.scheduleUpdate=function(e){void 0===e&&(e=!1),!e&&this.updateScheduled||(this.updateScheduled=!0,this.children.forEach((function(e){return e.snapshotBoundingBox()})),this.stacks.forEach((function(e){return e.updateSnapshot()})),!e&&this.renderScheduled||(this.renderScheduled=!0,this.forceUpdate()))},t.prototype.addChild=function(e){this.children.add(e),this.addToStack(e),e.presence=this.hasMounted?wn.Entering:wn.Present},t.prototype.removeChild=function(e){this.scheduleUpdate(),this.children.delete(e),this.removeFromStack(e)},t.prototype.addToStack=function(e){var t=this.getStack(e.layoutId);null===t||void 0===t||t.add(e)},t.prototype.removeFromStack=function(e){var t=this.getStack(e.layoutId);null===t||void 0===t||t.remove(e)},t.prototype.getStack=function(e){if(void 0!==e)return!this.stacks.has(e)&&this.stacks.set(e,new ga),this.stacks.get(e)},t.prototype.render=function(){return Object(rt.createElement)(Rn.Provider,{value:this.syncContext},this.props.children)}}(rt.Component);function ma(){return{scrollX:st(0),scrollY:st(0),scrollXProgress:st(0),scrollYProgress:st(0)}}ma();var va=st(null);if("undefined"!==typeof window)if(window.matchMedia){var ya=window.matchMedia("(prefers-reduced-motion)"),ba=function(){return va.set(ya.matches)};ya.addListener(ba),ba()}else va.set(!1);!function(){function e(){this.componentControls=new Set}e.prototype.subscribe=function(e){var t=this;return this.componentControls.add(e),function(){return t.componentControls.delete(e)}},e.prototype.start=function(e,t){this.componentControls.forEach((function(r){r.start(e.nativeEvent||e,t)}))},e.prototype.updateConstraints=function(){this.componentControls.forEach((function(e){e.prepareBoundingBox(),e.resolveDragConstraints()}))}}();!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialState={},t}Object(n.b)(t,e),t.prototype.updateLayoutDelta=function(){},t.prototype.build=function(){},t.prototype.clean=function(){},t.prototype.makeTargetAnimatable=function(e){var t=e.transition,r=e.transitionEnd,i=Object(n.d)(e,["transition","transitionEnd"]);return Bt(this,i,zt(i,t||{},this)),Object(n.a)({transition:t,transitionEnd:r},i)},t.prototype.getBoundingBox=function(){return{x:{min:0,max:0},y:{min:0,max:0}}},t.prototype.readNativeValue=function(e){return this.initialState[e]||0},t.prototype.render=function(){this.build()}}(qt)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function i(e){return n.forwardRef(e)}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r(55),i=r(46),a=r(7),o=(r(129),r(0)),s=r(54),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=Object(s.a)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=r(24),d=r(36),f=r(37),p=r(45),h=u,g=function(e){return"theme"!==e},m=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:g},v=function(e,t,r){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},y=function e(t,r){var n,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==r&&(n=r.label,i=r.target);var l=v(t,r,a),u=l||m(s),h=!u("as");return function(){var g=arguments,y=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&y.push("label:"+n+";"),null==g[0]||void 0===g[0].raw)y.push.apply(y,g);else{0,y.push(g[0][0]);for(var b=g.length,k=1;k<b;k++)y.push(g[k],g[0][k])}var _=Object(d.e)((function(e,t,r){var n=h&&e.as||s,a="",c=[],g=e;if(null==e.theme){for(var v in g={},e)g[v]=e[v];g.theme=Object(o.useContext)(d.b)}"string"===typeof e.className?a=Object(f.a)(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var b=Object(p.a)(y.concat(c),t.registered,g);Object(f.b)(t,b,"string"===typeof n);a+=t.key+"-"+b.name,void 0!==i&&(a+=" "+i);var k=h&&void 0===l?m(n):u,_={};for(var E in e)h&&"as"===E||k(E)&&(_[E]=e[E]);return _.className=a,_.ref=r,Object(o.createElement)(n,_)}));return _.displayName=void 0!==n?n:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=s,_.__emotion_styles=y,_.__emotion_forwardProp=l,Object.defineProperty(_,"toString",{value:function(){return"."+i}}),_.withComponent=function(t,n){return e(t,Object(c.a)({},r,{},n,{shouldForwardProp:v(_,n,!0)})).apply(void 0,y)},_}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));var b=y,k=r(25),_=new Set([].concat(Object(k.a)(n.propNames),["textStyle","layerStyle","apply","isTruncated","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),E=new Set(["htmlWidth","htmlHeight","htmlSize"]),w=function(e){return E.has(e)||!_.has(e)},S=r(39);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var O=n.propNames.reduce((function(e,t){return"object"!==typeof t&&"function"!==typeof t&&(e[t]=t),e}),{});var P=function(e,t){var r=null!=t?t:{},o=r.baseStyle,s=T({},x(r,["baseStyle"]),{shouldForwardProp:w});return b(e,s)(function(e){var t=e.baseStyle;return function(e){var r=e.theme,o=e.layerStyle,s=e.textStyle,l=e.apply,u=e.noOfLines,c=e.isTruncated,d=e.css,f=e.__css,p=e.sx,h=x(e,["theme","layerStyle","textStyle","apply","noOfLines","isTruncated","css","__css","sx"]),g=Object(i.c)(r,"layerStyles."+o,{}),m=Object(i.c)(r,"textStyles."+s,{}),v=Object(i.f)(h,(function(e,t){return t in O})),y={};null!=u?y={overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:u}:c&&(y={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"});var b=Object(i.e)({},f,t,{apply:l},g,m,y,v,p),k=Object(n.css)(b)(e.theme);return Object(i.e)(k,Object(a.d)(d)?d(r):d)}}({baseStyle:o}))};S.a.forEach((function(e){P[e]=P(e)}))},function(e,t,r){"use strict";var n=r(122);r.d(t,"positiveOrNegative",(function(){return n.a}));r(123)},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(70);var i=r(58);function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,l=o(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(l[c]=r[c]);if(n){s=n(r);for(var d=0;d<s.length;d++)a.call(r,s[d])&&(l[s[d]]=r[s[d]])}}return l}},function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return u}));var n=r(7);function i(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Object(n.d)(e)?e.apply(void 0,r):e}function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.some((function(t){return null==t||t(e),null==e?void 0:e.defaultPrevented}))}}function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach((function(t){null==t||t(e)}))}}function s(e){var t;return function(){if(e){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t=e.apply(this,n),e=null}return t}}var l=function(){},u=s((function(e){var t=e.condition,r=e.message;t&&n.a&&console.warn(r)}));s((function(e){var t=e.condition,r=e.message;t&&n.a&&console.error(r)}))},function(e,t,r){var n=r(228),i=r(229),a=r(135),o=r(230);e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]}},function(e,t,r){"use strict";var n=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t]=e[t].concat(r)},this.off=function(t,r){var n;return!!e[t]&&(n=e[t].indexOf(r),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var r,n,i,a;if(r=e[t])if(2===arguments.length)for(i=r.length,n=0;n<i;++n)r[n].call(this,arguments[1]);else{for(a=[],n=arguments.length,n=1;n<arguments.length;++n)a.push(arguments[n]);for(i=r.length,n=0;n<i;++n)r[n].apply(this,a)}},this.dispose=function(){e={}}}};n.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},n.prototype.partialFlush=function(e){this.trigger("partialdone",e)},n.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},n.prototype.reset=function(e){this.trigger("reset",e)},e.exports=n},,,function(e,t,r){"use strict";r.r(t),r.d(t,"__DO_NOT_USE__ActionTypes",(function(){return a})),r.d(t,"applyMiddleware",(function(){return m})),r.d(t,"bindActionCreators",(function(){return d})),r.d(t,"combineReducers",(function(){return u})),r.d(t,"compose",(function(){return g})),r.d(t,"createStore",(function(){return s}));var n=r(109),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var i;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,c=[],d=c,f=!1;function p(){d===c&&(d=c.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function g(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var r=d.indexOf(e);d.splice(r,1),c=null}}}function m(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=l(u,e)}finally{f=!1}for(var t=c=d,r=0;r<t.length;r++){(0,t[r])()}return e}function v(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,m({type:a.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(h())}return r(),{unsubscribe:t(r)}}})[n.a]=function(){return this},e}return m({type:a.INIT}),(i={dispatch:m,subscribe:g,getState:h,replaceReducer:v})[n.a]=y,i}function l(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];0,"function"===typeof e[i]&&(r[i]=e[i])}var o,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof r(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(u){o=u}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var n=!1,i={},a=0;a<s.length;a++){var u=s[a],c=r[u],d=e[u],f=c(d,t);if("undefined"===typeof f){var p=l(u,t);throw new Error(p)}i[u]=f,n=n||f!==d}return(n=n||s.length!==Object.keys(e).length)?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"===typeof e)return c(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var i=e[n];"function"===typeof i&&(r[n]=c(i,t))}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return h({},r,{dispatch:n=g.apply(void 0,a)(r.dispatch)})}}}},function(e,t,r){var n;!function(i){var a=/^\s+/,o=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,d=i.random;function f(e,t){if(t=t||{},(e=e||"")instanceof f)return e;if(!(this instanceof f))return new f(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,s=null,l=null,d=!1,f=!1;"string"==typeof e&&(e=function(e){e=e.replace(a,"").replace(o,"").toLowerCase();var t,r=!1;if(C[e])e=C[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=F.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=F.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=F.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=F.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=F.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=F.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=F.hex8.exec(e))return{r:j(t[1]),g:j(t[2]),b:j(t[3]),a:B(t[4]),format:r?"name":"hex8"};if(t=F.hex6.exec(e))return{r:j(t[1]),g:j(t[2]),b:j(t[3]),format:r?"name":"hex"};if(t=F.hex4.exec(e))return{r:j(t[1]+""+t[1]),g:j(t[2]+""+t[2]),b:j(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=F.hex3.exec(e))return{r:j(t[1]+""+t[1]),g:j(t[2]+""+t[2]),b:j(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(p=e.r,h=e.g,g=e.b,t={r:255*R(p,255),g:255*R(h,255),b:255*R(g,255)},d=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(n=N(e.s),s=N(e.v),t=function(e,t,r){e=6*R(e,360),t=R(t,100),r=R(r,100);var n=i.floor(e),a=e-n,o=r*(1-t),s=r*(1-a*t),l=r*(1-(1-a)*t),u=n%6;return{r:255*[r,s,o,o,l,r][u],g:255*[l,r,r,s,o,o][u],b:255*[o,o,l,r,r,s][u]}}(e.h,n,s),d=!0,f="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(n=N(e.s),l=N(e.l),t=function(e,t,r){var n,i,a;function o(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=R(e,360),t=R(t,100),r=R(r,100),0===t)n=i=a=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*a}}(e.h,n,l),d=!0,f="hsl"),e.hasOwnProperty("a")&&(r=e.a));var p,h,g;return r=I(r),{ok:d,format:e.format||f,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=l(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=r.ok,this._tc_id=s++}function p(e,t,r){e=R(e,255),t=R(t,255),r=R(r,255);var n,i,a=c(e,t,r),o=u(e,t,r),s=(a+o)/2;if(a==o)n=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,l:s}}function h(e,t,r){e=R(e,255),t=R(t,255),r=R(r,255);var n,i,a=c(e,t,r),o=u(e,t,r),s=a,l=a-o;if(i=0===a?0:l/a,a==o)n=0;else{switch(a){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,v:s}}function g(e,t,r,n){var i=[L(l(e).toString(16)),L(l(t).toString(16)),L(l(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,r,n){return[L(U(n)),L(l(e).toString(16)),L(l(t).toString(16)),L(l(r).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var r=f(e).toHsl();return r.s-=t/100,r.s=D(r.s),f(r)}function y(e,t){t=0===t?0:t||10;var r=f(e).toHsl();return r.s+=t/100,r.s=D(r.s),f(r)}function b(e){return f(e).desaturate(100)}function k(e,t){t=0===t?0:t||10;var r=f(e).toHsl();return r.l+=t/100,r.l=D(r.l),f(r)}function _(e,t){t=0===t?0:t||10;var r=f(e).toRgb();return r.r=c(0,u(255,r.r-l(-t/100*255))),r.g=c(0,u(255,r.g-l(-t/100*255))),r.b=c(0,u(255,r.b-l(-t/100*255))),f(r)}function E(e,t){t=0===t?0:t||10;var r=f(e).toHsl();return r.l-=t/100,r.l=D(r.l),f(r)}function w(e,t){var r=f(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,f(r)}function S(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function T(e){var t=f(e).toHsl(),r=t.h;return[f(e),f({h:(r+120)%360,s:t.s,l:t.l}),f({h:(r+240)%360,s:t.s,l:t.l})]}function x(e){var t=f(e).toHsl(),r=t.h;return[f(e),f({h:(r+90)%360,s:t.s,l:t.l}),f({h:(r+180)%360,s:t.s,l:t.l}),f({h:(r+270)%360,s:t.s,l:t.l})]}function O(e){var t=f(e).toHsl(),r=t.h;return[f(e),f({h:(r+72)%360,s:t.s,l:t.l}),f({h:(r+216)%360,s:t.s,l:t.l})]}function P(e,t,r){t=t||6,r=r||30;var n=f(e).toHsl(),i=360/r,a=[f(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(f(n));return a}function A(e,t){t=t||6;for(var r=f(e).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/t;t--;)o.push(f({h:n,s:i,v:a})),a=(a+s)%1;return o}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,i){var a=[L(l(e).toString(16)),L(l(t).toString(16)),L(l(r).toString(16)),L(U(n))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*R(this._r,255))+"%",g:l(100*R(this._g,255))+"%",b:l(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%)":"rgba("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=f(e);r="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:N(e[n]));e=r}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:d(),g:d(),b:d()})},f.mix=function(e,t,r){r=0===r?0:r||50;var n=f(e).toRgb(),i=f(t).toRgb(),a=r/100;return f({r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a})},f.readability=function(e,t){var r=f(e),n=f(t);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},f.isReadable=function(e,t,r){var n,i,a=f.readability(e,t);switch(i=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},f.mostReadable=function(e,t,r){var n,i,a,o,s=null,l=0;i=(r=r||{}).includeFallbackColors,a=r.level,o=r.size;for(var u=0;u<t.length;u++)(n=f.readability(e,t[u]))>l&&(l=n,s=f(t[u]));return f.isReadable(e,s,{level:a,size:o})||!i?s:(r.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],r))};var C=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=f.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(C);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,c(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function D(e){return u(1,c(0,e))}function j(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function N(e){return e<=1&&(e=100*e+"%"),e}function U(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return j(e)/255}var F=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function z(e){return!!F.CSS_UNIT.exec(e)}e.exports?e.exports=f:void 0===(n=function(){return f}.call(t,r,t,e))||(e.exports=n)}(Math)},function(e,t,r){"use strict";var n=r(11),i=r(17),a=r(12),o=r(13),s=r(162);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackError=void 0;var u=function(e){a(r,e);var t=o(r);function r(e,a,o){var s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"FATAL",c=arguments.length>4?arguments[4]:void 0;return n(this,r),s=t.call(this,o),l(i(s),"code",void 0),l(i(s),"severity",void 0),l(i(s),"technology",void 0),l(i(s),"sourceError",void 0),s.code=e,s.severity=u,s.technology=a,s.sourceError=c,s}return r}(s(Error));t.PlaybackError=u},function(e,t,r){"use strict";r.d(t,"b",(function(){return se})),r.d(t,"c",(function(){return ue})),r.d(t,"e",(function(){return oe})),r.d(t,"a",(function(){return de})),r.d(t,"d",(function(){return pe}));var n=r(0);var i=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(a){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),a="-ms-",o="-moz-",s="-webkit-",l="comm",u="rule",c="decl",d=Math.abs,f=String.fromCharCode;function p(e){return e.trim()}function h(e,t,r){return e.replace(t,r)}function g(e,t){return 0|e.charCodeAt(t)}function m(e,t,r){return e.slice(t,r)}function v(e){return e.length}function y(e){return e.length}function b(e,t){return t.push(e),e}function k(e,t){return e.map(t).join("")}var _=1,E=1,w=0,S=0,T=0,x="";function O(e,t,r,n,i,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:_,column:E,length:o,return:""}}function P(e,t,r){return O(e,t.root,t.parent,r,t.props,t.children,0)}function A(){return T=S<w?g(x,S++):0,E++,10===T&&(E=1,_++),T}function C(){return g(x,S)}function M(){return S}function I(e,t){return m(x,e,t)}function R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(e){return _=E=1,w=v(x=e),S=0,[]}function j(e){return x="",e}function L(e){return p(I(S-1,function e(t){for(;A();)switch(T){case t:return S;case 34:case 39:return e(34===t||39===t?t:T);case 40:41===t&&e(t);break;case 92:A()}return S}(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(T=C())&&T<33;)A();return R(e)>2||R(T)>3?"":" "}function U(e,t){for(;A()&&e+T!==57&&(e+T!==84||47!==C()););return"/*"+I(t,S-1)+"*"+f(47===e?e:A())}function B(e){for(;!R(C());)A();return I(e,S)}function F(e){return j(function e(t,r,n,i,a,o,s,l,u){var c=0,d=0,p=s,g=0,m=0,y=0,k=1,_=1,E=1,w=0,S="",T=a,x=o,O=i,P=S;for(;_;)switch(y=w,w=A()){case 34:case 39:case 91:case 40:P+=L(w);break;case 9:case 10:case 13:case 32:P+=N(y);break;case 47:switch(C()){case 42:case 47:b(V(U(A(),M()),r,n),u);break;default:P+="/"}break;case 123*k:l[c++]=v(P)*E;case 125*k:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+d:m>0&&b(m>32?$(P+";",i,n,p-1):$(h(P," ","")+";",i,n,p-2),u);break;case 59:P+=";";default:if(b(O=z(P,r,n,c,d,a,l,S,T=[],x=[],p),o),123===w)if(0===d)e(P,r,O,O,T,o,p,l,x);else switch(g){case 100:case 109:case 115:e(t,O,O,i&&b(z(t,O,O,0,0,a,l,S,a,T=[],p),x),a,x,p,l,i?T:x);break;default:e(P,O,O,O,[""],x,p,l,x)}}c=d=m=0,k=E=1,S=P="",p=s;break;case 58:p=1+v(P),m=y;default:switch(P+=f(w),w*k){case 38:E=d>0?1:(P+="\f",-1);break;case 44:l[c++]=(v(P)-1)*E,E=1;break;case 64:45===C()&&(P+=L(A())),g=C(),d=v(S=P+=B(M())),w++;break;case 45:45===y&&2==v(P)&&(k=0)}}return o}("",null,null,null,[""],e=D(e),0,[0],e))}function z(e,t,r,n,i,a,o,s,l,c,f){for(var g=i-1,v=0===i?a:[""],b=y(v),k=0,_=0,E=0;k<n;++k)for(var w=0,S=m(e,g+1,g=d(_=o[k])),T=e;w<b;++w)(T=p(_>0?v[w]+" "+S:h(S,/&\f/g,v[w])))&&(l[E++]=T);return O(e,t,r,0===i?u:s,l,c,f)}function V(e,t,r){return O(e,t,r,l,f(T),m(e,2,-2),0)}function $(e,t,r,n){return O(e,t,r,c,m(e,0,n),m(e,n+1,-1),n)}function W(e,t){switch(function(e,t){return(((t<<2^g(e,0))<<2^g(e,1))<<2^g(e,2))<<2^g(e,3)}(e,t)){case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return s+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return s+e+o+e+a+e+e;case 6828:case 4268:return s+e+a+e+e;case 6165:return s+e+a+"flex-"+e+e;case 5187:return s+e+h(e,/(\w+).+(:[^]+)/,s+"box-$1$2"+a+"flex-$1$2")+e;case 5443:return s+e+a+"flex-item-"+h(e,/flex-|-self/,"")+e;case 4675:return s+e+a+"flex-line-pack"+h(e,/align-content|flex-|-self/,"")+e;case 5548:return s+e+a+h(e,"shrink","negative")+e;case 5292:return s+e+a+h(e,"basis","preferred-size")+e;case 6060:return s+"box-"+h(e,"-grow","")+s+e+a+h(e,"grow","positive")+e;case 4554:return s+h(e,/([^-])(transform)/g,"$1"+s+"$2")+e;case 6187:return h(h(h(e,/(zoom-|grab)/,s+"$1"),/(image-set)/,s+"$1"),e,"")+e;case 5495:case 3959:return h(e,/(image-set\([^]*)/,s+"$1$`$1");case 4968:return h(h(e,/(.+:)(flex-)?(.*)/,s+"box-pack:$3"+a+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+s+e+e;case 4095:case 3583:case 4068:case 2532:return h(e,/(.+)-inline(.+)/,s+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(v(e)-1-t>6)switch(g(e,t+1)){case 109:return h(e,/(.+:)(.+)-([^]+)/,"$1"+s+"$2-$3$1"+o+"$2-$3")+e;case 102:return h(e,/(.+:)(.+)-([^]+)/,"$1"+s+"$2-$3$1"+o+"$3")+e;case 115:return W(h(e,"stretch","fill-available"),t)+e}break;case 4949:if(115!==g(e,t+1))break;case 6444:switch(g(e,v(e)-3-(~function(e,t){return e.indexOf(t)}(e,"!important")&&10))){case 107:case 111:return h(e,e,s+e)+e;case 101:return h(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+s+(45===g(e,14)?"inline-":"")+"box$3$1"+s+"$2$3$1"+a+"$2box$3")+e}break;case 5936:switch(g(e,t+11)){case 114:return s+e+a+h(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return s+e+a+h(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return s+e+a+h(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return s+e+a+e+e}return e}function K(e,t){for(var r="",n=y(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function H(e,t,r,n){switch(e.type){case"@import":case c:return e.return=e.return||e.value;case l:return"";case u:e.value=e.props.join(",")}return v(r=K(e.children,n))?e.return=e.value+"{"+r+"}":""}function G(e){return function(t){t.root||(t=t.return)&&e(t)}}var Z=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}},q=(r(54),function(e,t){return j(function(e,t){var r=-1,n=44;do{switch(R(n)){case 0:38===n&&12===C()&&(t[r]=1),e[r]+=B(S-1);break;case 2:e[r]+=L(n);break;case 4:if(44===n){e[++r]=58===C()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=f(n)}}while(n=A());return e}(D(e),t))}),X=new WeakMap,Y=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)r=r.parent;if((1!==e.props.length||58===t.charCodeAt(0)||X.get(r))&&!n){X.set(e,!0);for(var i=[],a=q(t,i),o=r.props,s=0,l=0;s<a.length;s++)for(var u=0;u<o.length;u++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[u]):o[u]+" "+a[s]}}},Q=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},J=[function(e,t,r,n){if(!e.return)switch(e.type){case c:e.return=W(e.value,e.length);break;case"@keyframes":return K([P(h(e.value,"@","@"+s),e,"")],n);case u:if(e.length)return k(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return K([P(h(t,/:(read-\w+)/,":-moz-$1"),e,"")],n);case"::placeholder":return K([P(h(t,/:(plac\w+)/,":"+s+"input-$1"),e,""),P(h(t,/:(plac\w+)/,":-moz-$1"),e,""),P(h(t,/:(plac\w+)/,a+"input-$1"),e,"")],n)}return""}))}}],ee=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){document.head.appendChild(e),e.setAttribute("data-s","")}))}var n=e.stylisPlugins||J;var a,o,s={},l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion]"),(function(e){var r=e.getAttribute("data-emotion").split(" ");if(r[0]===t){for(var n=1;n<r.length;n++)s[r[n]]=!0;l.push(e)}}));var u=[Y,Q];var c,d=[H,G((function(e){c.insert(e)}))],f=function(e){var t=y(e);return function(r,n,i,a){for(var o="",s=0;s<t;s++)o+=e[s](r,n,i,a)||"";return o}}(u.concat(n,d));o=function(e,t,r,n){c=r,K(F(e?e+"{"+t.styles+"}":t.styles),f),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new i({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:s,registered:{},insert:o};return p.sheet.hydrate(l),p},te=r(24),re=(r(59),r(37)),ne=r(45),ie=Object.prototype.hasOwnProperty,ae=Object(n.createContext)("undefined"!==typeof HTMLElement?ee({key:"css"}):null),oe=(ae.Provider,function(e){return Object(n.forwardRef)((function(t,r){var i=Object(n.useContext)(ae);return e(t,i,r)}))}),se=Object(n.createContext)({}),le=Z((function(e){return Z((function(t){return function(e,t){return"function"===typeof t?t(e):Object(te.a)({},e,{},t)}(e,t)}))})),ue=function(e){var t=Object(n.useContext)(se);return e.theme!==t&&(t=le(t)(e.theme)),Object(n.createElement)(se.Provider,{value:t},e.children)};var ce="__EMOTION_TYPE_PLEASE_DO_NOT_USE__";oe((function(e,t,r){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[ce],o=[i],s="";"string"===typeof e.className?s=Object(re.a)(t.registered,o,e.className):null!=e.className&&(s=e.className+" ");var l=Object(ne.a)(o,void 0,"function"===typeof i||Array.isArray(i)?Object(n.useContext)(se):void 0);Object(re.b)(t,l,"string"===typeof a);s+=t.key+"-"+l.name;var u={};for(var c in e)ie.call(e,c)&&"css"!==c&&c!==ce&&(u[c]=e[c]);return u.ref=r,u.className=s,Object(n.createElement)(a,u)}));r(129);var de=oe((function(e,t){var r=e.styles,a=Object(ne.a)([r],void 0,"function"===typeof r||Array.isArray(r)?Object(n.useContext)(se):void 0),o=Object(n.useRef)();return Object(n.useLayoutEffect)((function(){var e=t.key+"-global",r=new i({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),n=document.querySelector('style[data-emotion="'+e+" "+a.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==n&&r.hydrate([n]),o.current=r,function(){r.flush()}}),[t]),Object(n.useLayoutEffect)((function(){void 0!==a.next&&Object(re.b)(t,a.next,!0);var e=o.current;if(e.tags.length){var r=e.tags[e.tags.length-1].nextElementSibling;e.before=r,e.flush()}t.insert("",a,e,!1)}),[t,a.name]),null}));function fe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(ne.a)(t)}var pe=function(){var e=fe.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var i=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n=r(46),i=(r(7),["a","b","article","aside","blockquote","button","caption","cite","circle","code","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","img","input","kbd","label","li","mark","nav","ol","p","path","pre","q","rect","s","svg","section","select","strong","small","span","sub","sup","table","tbody","td","textarea","tfoot","th","thead","tr","ul"]);function a(e){return Object(n.h)(e,["styleConfig","size","variant","colorScheme"])}},function(e,t,r){var n;"undefined"!==typeof window&&(n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new o(r,n||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=new Array(a);n<a;n++)o[n]=r[n].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,a),!0;case 6:return c.fn.call(c.context,t,r,n,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,r){!function(t){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,n=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},"./node_modules/webworkify-webpack/index.js":function(e,t,r){function n(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var n=r(r.s=ENTRY_MODULE);return n.default||n}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,n){var a={};a[n]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var l,u=s[1],c=new RegExp("(\\\\n|\\W)"+i(u)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(o);)"dll-reference"!==l[3]&&a[n].push(l[3]);for(c=new RegExp("\\("+i(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(o);)e[l[2]]||(a[n].push(l[1]),e[l[2]]=r(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var d,f=Object.keys(a),p=0;p<f.length;p++)for(var h=0;h<a[f[p]].length;h++)d=a[f[p]][h],isNaN(1*d)||(a[f[p]][h]=1*a[f[p]][h]);return a}function o(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:r.m},s=t.all?{main:Object.keys(i.main)}:function(e,t){for(var r={main:[t]},n={main:[]},i={main:{}};o(r);)for(var s=Object.keys(r),l=0;l<s.length;l++){var u=s[l],c=r[u].pop();if(i[u]=i[u]||{},!i[u][c]&&e[u][c]){i[u][c]=!0,n[u]=n[u]||[],n[u].push(c);for(var d=a(e,e[u][c],u),f=Object.keys(d),p=0;p<f.length;p++)r[f[p]]=r[f[p]]||[],r[f[p]]=r[f[p]].concat(d[f[p]])}}return n}(i,e),l="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(c);return d.objectURL=c,d}},"./src/crypt/decrypter.js":function(e,t,r){"use strict";r.r(t);var n=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),i=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),a=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},t.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),p=0,h=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=h^h<<1^h<<2^h<<3^h<<4;m=m>>>8^255&m^99,e[p]=m,t[m]=p;var v=f[p],y=f[v],b=f[y],k=257*f[m]^16843008*m;n[p]=k<<24|k>>>8,i[p]=k<<16|k>>>16,a[p]=k<<8|k>>>24,o[p]=k,k=16843009*b^65537*y^257*v^16843008*p,l[m]=k<<24|k>>>8,u[m]=k<<16|k>>>16,c[m]=k<<8|k>>>24,d[m]=k,p?(p=v^f[f[f[b^v]]],h^=f[f[h]]):p=h=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,p=this.rcon,h=this.invSubMix,g=h[0],m=h[1],v=h[2],y=h[3];for(a=0;a<u;a++)a<i?s=c[a]=t[a]:(l=s,a%i===0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=p[a/i|0]<<24):i>6&&a%i===4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[a]=s=(c[a-i]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?l:g[f[l>>>24]]^m[f[l>>>16&255]]^v[f[l>>>8&255]]^y[f[255&l]],d[o]=d[o]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,r,n){for(var i,a,o,s,l,u,c,d,f,p,h,g,m,v,y=this.keySize+6,b=this.invKeySchedule,k=this.invSBox,_=this.invSubMix,E=_[0],w=_[1],S=_[2],T=_[3],x=this.uint8ArrayToUint32Array_(r),O=x[0],P=x[1],A=x[2],C=x[3],M=new Int32Array(e),I=new Int32Array(M.length),R=this.networkToHostOrderSwap;t<M.length;){for(f=R(M[t]),p=R(M[t+1]),h=R(M[t+2]),g=R(M[t+3]),l=f^b[0],u=g^b[1],c=h^b[2],d=p^b[3],m=4,v=1;v<y;v++)i=E[l>>>24]^w[u>>16&255]^S[c>>8&255]^T[255&d]^b[m],a=E[u>>>24]^w[c>>16&255]^S[d>>8&255]^T[255&l]^b[m+1],o=E[c>>>24]^w[d>>16&255]^S[l>>8&255]^T[255&u]^b[m+2],s=E[d>>>24]^w[l>>16&255]^S[u>>8&255]^T[255&c]^b[m+3],l=i,u=a,c=o,d=s,m+=4;i=k[l>>>24]<<24^k[u>>16&255]<<16^k[c>>8&255]<<8^k[255&d]^b[m],a=k[u>>>24]<<24^k[c>>16&255]<<16^k[d>>8&255]<<8^k[255&l]^b[m+1],o=k[c>>>24]<<24^k[d>>16&255]<<16^k[l>>8&255]<<8^k[255&u]^b[m+2],s=k[d>>>24]<<24^k[l>>16&255]<<16^k[u>>8&255]<<8^k[255&c]^b[m+3],m+=3,I[t]=R(i^O),I[t+1]=R(s^P),I[t+2]=R(o^A),I[t+3]=R(a^C),O=f,P=p,A=h,C=g,t+=4}return n?function(e){var t=e.byteLength,r=t&&new DataView(e).getUint8(t-1);return r?e.slice(0,t-r):e}(I.buffer):I.buffer},t.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),o=r("./src/errors.ts"),s=r("./src/utils/logger.js"),l=r("./src/events.js"),u=r("./src/utils/get-self-scope.js"),c=Object(u.getSelfScope)(),d=function(){function e(e,t,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var a=c.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(o){}this.disableWebCrypto=!this.subtle}var t=e.prototype;return t.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.decrypt=function(e,t,r,o){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new a),u.expandKey(t),o(u.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new i(c,t)),this.fastAesKey.expandKey().then((function(i){new n(c,r).decrypt(e,i).catch((function(n){l.onWebCryptoError(n,e,t,r,o)})).then((function(e){o(e)}))})).catch((function(n){l.onWebCryptoError(n,e,t,r,o)}))}},t.onWebCryptoError=function(e,t,r,n,i){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,n,i)):(s.logger.error("decrypting error : "+e.message),this.observer.trigger(l.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},t.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=d},"./src/demux/demuxer-inline.js":function(e,t,r){"use strict";r.r(t);var n=r("./src/events.js"),i=r("./src/errors.ts"),a=r("./src/crypt/decrypter.js"),o=r("./src/polyfills/number.js"),s=r("./src/utils/logger.js"),l=r("./src/utils/get-self-scope.js");function u(e,t){return 255===e[t]&&240===(246&e[t+1])}function c(e,t){return 1&e[t+1]?7:9}function d(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function f(e,t){return!!(t+1<e.length&&u(e,t))}function p(e,t){if(f(e,t)){var r=c(e,t);if(t+r>=e.length)return!1;var n=d(e,t);if(n<=r)return!1;var i=t+n;if(i===e.length||i+1<e.length&&u(e,i))return!0}return!1}function h(e,t,r,a,o){if(!e.samplerate){var l=function(e,t,r,a){var o,l,u,c,d,f=navigator.userAgent.toLowerCase(),p=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&t[r+2])>>>6),!((l=(60&t[r+2])>>>2)>h.length-1))return c=(1&t[r+2])<<2,c|=(192&t[r+3])>>>6,s.logger.log("manifest codec:"+a+",ADTS data:type:"+o+",sampleingIndex:"+l+"["+h[l]+"Hz],channelConfig:"+c),/firefox/i.test(f)?l>=6?(o=5,d=new Array(4),u=l-3):(o=2,d=new Array(2),u=l):-1!==f.indexOf("android")?(o=2,d=new Array(2),u=l):(o=5,d=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&l>=6?u=l-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(l>=6&&1===c||/vivaldi/i.test(f))||!a&&1===c)&&(o=2,d=new Array(2)),u=l)),d[0]=o<<3,d[0]|=(14&l)>>1,d[1]|=(1&l)<<7,d[1]|=c<<3,5===o&&(d[1]|=(14&u)>>1,d[2]=(1&u)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:h[l],channelCount:c,codec:"mp4a.40."+o,manifestCodec:p};e.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}(t,r,a,o);e.config=l.config,e.samplerate=l.samplerate,e.channelCount=l.channelCount,e.codec=l.codec,e.manifestCodec=l.manifestCodec,s.logger.log("parsed codec:"+e.codec+",rate:"+l.samplerate+",nb channel:"+l.channelCount)}}function g(e){return 9216e4/e}function m(e,t,r,n,i){var a=function(e,t,r,n,i){var a,o,s=e.length;if(a=c(e,t),o=d(e,t),(o-=a)>0&&t+a+o<=s)return{headerLength:a,frameLength:o,stamp:r+n*i}}(t,r,n,i,g(e.samplerate));if(a){var o=a.stamp,s=a.headerLength,l=a.frameLength,u={unit:t.subarray(r+s,r+s+l),pts:o,dts:o};return e.samples.push(u),{sample:u,length:l+s}}}var v=r("./src/demux/id3.js"),y=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=(v.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(p(e,t))return s.logger.log("ADTS sync word found !"),!0;return!1},t.append=function(e,t,r,n){for(var i=this._audioTrack,a=v.default.getID3Data(e,0)||[],l=v.default.getTimeStamp(a),u=Object(o.isFiniteNumber)(l)?90*l:9e4*t,c=0,d=u,p=e.length,g=a.length,y=[{pts:d,dts:d,data:a}];g<p-1;)if(f(e,g)&&g+5<p){h(i,this.observer,e,g,i.manifestCodec);var b=m(i,e,g,u,c);if(!b){s.logger.log("Unable to parse AAC frame");break}g+=b.length,d=b.sample.pts,c++}else v.default.isHeader(e,g)?(a=v.default.getID3Data(e,g),y.push({pts:d,dts:d,data:a}),g+=a.length):g++;this.remuxer.remux(i,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},t,r,n)},t.destroy=function(){},e}(),b=r("./src/demux/mp4demuxer.js"),k={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,n,i){if(!(r+24>t.length)){var a=this.parseHeader(t,r);if(a&&r+a.frameLength<=t.length){var o=n+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(r,r+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),{sample:s,length:a.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3,o=e[t+2]>>1&1;if(1!==r&&0!==i&&15!==i&&3!==a){var s=3===r?3-n:3===n?3:4,l=1e3*k.BitratesMap[14*s+i-1],u=3===r?0:2===r?1:2,c=k.SamplingRateMap[3*u+a],d=e[t+3]>>6===3?1:2,f=k.SamplesCoefficients[r][n],p=k.BytesInSlot[n],h=8*f*p;return{sampleRate:c,channelCount:d,frameLength:parseInt(f*l/c+o,10)*p,samplesPerFrame:h}}},isHeaderPattern:function(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),n=4;r&&r.frameLength&&(n=r.frameLength);var i=t+n;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}},_=k,E=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&s.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){var t,r=8,n=8;for(t=0;t<e;t++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n},t.readSPS=function(){var e,t,r,n,i,a,o,s=0,l=0,u=0,c=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),p=this.readUEG.bind(this),h=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),e=d(),f(5),g(3),d(),v(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=p();if(3===b&&g(1),v(),v(),g(1),h())for(a=3!==b?8:12,o=0;o<a;o++)h()&&y(o<6?16:64)}v();var k=p();if(0===k)p();else if(1===k)for(g(1),m(),m(),t=p(),o=0;o<t;o++)m();v(),g(1),r=p(),n=p(),0===(i=f(1))&&g(1),g(1),h()&&(s=p(),l=p(),u=p(),c=p());var _=[1,1];if(h()&&h())switch(d()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-i)*(n+1)*16-(i?2:4)*(u+c),pixelRatio:_}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),w=function(){function e(e,t,r,n){this.decryptdata=r,this.discardEPB=n,this.decrypter=new a.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},t.decryptAacSample=function(e,t,r,n){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){a=new Uint8Array(a),i.set(a,16),n||s.decryptAacSamples(e,t+1,r)}))},t.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,n),!n)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<=e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},t.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,n=32;n<=e.length-16;n+=160,r+=16)e.set(t.subarray(r,r+16),n);return e},t.decryptAvcSample=function(e,t,r,n,i,a){var o=this.discardEPB(i.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,(function(s){i.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(e,t,r+1,n)}))},t.decryptAvcSamples=function(e,t,r,n){for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;!(r>=i.length);r++){var a=i[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,n,a,o),!o)return}}}},e}(),S={video:1,audio:2,id3:3,text:4},T=function(){function e(e,t,r,n){this.observer=e,this.config=r,this.typeSupported=n,this.remuxer=t,this.sampleAes=null,this.pmtUnknownTypes={}}var t=e.prototype;return t.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new w(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0)&&(r&&s.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:S[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},t.resetInitSegment=function(t,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=e.createTrack("video",i),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3",i),this._txtTrack=e.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=n,this._duration=i},t.resetTimeStamp=function(){},t.append=function(t,r,a,o){var l,u,c,d,f,p=t.length,h=!1;this.pmtUnknownTypes={},this.contiguous=a;var g=this.pmtParsed,m=this._avcTrack,v=this._audioTrack,y=this._id3Track,b=m.pid,k=v.pid,_=y.pid,E=this._pmtId,w=m.pesData,S=v.pesData,T=y.pesData,x=this._parsePAT,O=this._parsePMT.bind(this),P=this._parsePES,A=this._parseAVCPES.bind(this),C=this._parseAACPES.bind(this),M=this._parseMPEGPES.bind(this),I=this._parseID3PES.bind(this),R=e._syncOffset(t);for(p-=(p+R)%188,l=R;l<p;l+=188)if(71===t[l]){if(u=!!(64&t[l+1]),c=((31&t[l+1])<<8)+t[l+2],(48&t[l+3])>>4>1){if((d=l+5+t[l+4])===l+188)continue}else d=l+4;switch(c){case b:u&&(w&&(f=P(w))&&A(f,!1),w={data:[],size:0}),w&&(w.data.push(t.subarray(d,l+188)),w.size+=l+188-d);break;case k:u&&(S&&(f=P(S))&&(v.isAAC?C(f):M(f)),S={data:[],size:0}),S&&(S.data.push(t.subarray(d,l+188)),S.size+=l+188-d);break;case _:u&&(T&&(f=P(T))&&I(f),T={data:[],size:0}),T&&(T.data.push(t.subarray(d,l+188)),T.size+=l+188-d);break;case 0:u&&(d+=t[d]+1),E=this._pmtId=x(t,d);break;case E:u&&(d+=t[d]+1);var D=O(t,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=D.avc)>0&&(m.pid=b),(k=D.audio)>0&&(v.pid=k,v.isAAC=D.isAAC),(_=D.id3)>0&&(y.pid=_),h&&!g&&(s.logger.log("reparse from beginning"),h=!1,l=R-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});w&&(f=P(w))?(A(f,!0),m.pesData=null):m.pesData=w,S&&(f=P(S))?(v.isAAC?C(f):M(f),v.pesData=null):(S&&S.size&&s.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=S),T&&(f=P(T))?(I(f),y.pesData=null):y.pesData=T,null==this.sampleAes?this.remuxer.remux(v,m,y,this._txtTrack,r,a,o):this.decryptAndRemux(v,m,y,this._txtTrack,r,a,o)},t.decryptAndRemux=function(e,t,r,n,i,a,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){s.decryptAndRemuxAvc(e,t,r,n,i,a,o)}))}else this.decryptAndRemuxAvc(e,t,r,n,i,a,o)},t.decryptAndRemuxAvc=function(e,t,r,n,i,a,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){s.remuxer.remux(e,t,r,n,i,a,o)}))}else this.remuxer.remux(e,t,r,n,i,a,o)},t.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},t._trackUnknownPmt=function(e,t,r){var n=this.pmtUnknownTypes[e]||0;return 0===n&&(this.pmtUnknownTypes[e]=0,t.call(s.logger,r)),this.pmtUnknownTypes[e]++,n},t._parsePMT=function(e,t,r,n){var i,a,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(a=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!n){this._trackUnknownPmt(e[t],s.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!n){this._trackUnknownPmt(e[t],s.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:r?-1===o.audio&&(o.audio=a,o.isAAC=!1):this._trackUnknownPmt(e[t],s.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(e[t],s.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(e[t],s.logger.log,"Unknown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o},t._parsePES=function(e){var t,r,n,i,a,o,l,u,c=0,d=e.data;if(!e||0===e.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((t=d[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;if(192&(r=t[7])&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&r?o-(l=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(s.logger.warn(Math.round((o-l)/9e4)+"s delta between PTS and DTS, align them"),o=l):l=o),u=(i=t[8])+9,e.size<=u)return null;e.size-=u,a=new Uint8Array(e.size);for(var p=0,h=d.length;p<h;p++){var g=(t=d[p]).byteLength;if(u){if(u>g){u-=g;continue}t=t.subarray(u),g-=u,u=0}a.set(t,c),c+=g}return n&&(n-=i+3),{data:a,pts:o,dts:l,len:n}}return null},t.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,n=r.length;if(isNaN(e.pts)){if(!n)return void t.dropped++;var i=r[n-1];e.pts=i.pts,e.dts=i.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(n||this.contiguous)?(e.id=n,r.push(e)):t.dropped++}e.debug.length&&s.logger.log(e.pts+"/"+e.dts+":"+e.debug)},t._parseAVCPES=function(e,t){var r,n,i,a=this,o=this._avcTrack,s=this._parseAVCNALu(e.data),l=this.avcSample,u=!1,c=this.pushAccesUnit.bind(this),d=function(e,t,r,n){return{key:e,pts:t,dts:r,units:[],debug:n}};e.data=null,l&&s.length&&!o.audFound&&(c(l,o),l=this.avcSample=d(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:n=!0,l||(l=a.avcSample=d(!0,e.pts,e.dts,"")),l.frame=!0;var s=t.data;if(u&&s.length>4){var f=new E(s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(l.key=!0)}break;case 5:n=!0,l||(l=a.avcSample=d(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0,(r=new E(a.discardEPB(t.data))).readUByte();for(var p=0,h=0,g=!1,m=0;!g&&r.bytesAvailable>1;){p=0;do{p+=m=r.readUByte()}while(255===m);h=0;do{h+=m=r.readUByte()}while(255===m);if(4===p&&0!==r.bytesAvailable){if(g=!0,181===r.readUByte()&&49===r.readUShort()&&1195456820===r.readUInt()&&3===r.readUByte()){var y=r.readUByte(),b=31&y,k=[y,r.readUByte()];for(i=0;i<b;i++)k.push(r.readUByte()),k.push(r.readUByte()),k.push(r.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:k})}}else if(5===p&&0!==r.bytesAvailable){if(g=!0,h>16){var _=[];for(i=0;i<16;i++)_.push(r.readUByte().toString(16)),3!==i&&5!==i&&7!==i&&9!==i||_.push("-");var w=h-16,S=new Uint8Array(w);for(i=0;i<w;i++)S[i]=r.readUByte();a._insertSampleInOrder(a._txtTrack.samples,{pts:e.pts,payloadType:p,uuid:_.join(""),userDataBytes:S,userData:Object(v.utf8ArrayToStr)(S.buffer)})}}else if(h<r.bytesAvailable)for(i=0;i<h;i++)r.readUByte()}break;case 7:if(n=!0,u=!0,!o.sps){var T=(r=new E(t.data)).readSPS();o.width=T.width,o.height=T.height,o.pixelRatio=T.pixelRatio,o.sps=[t.data],o.duration=a._duration;var x=t.data.subarray(1,4),O="avc1.";for(i=0;i<3;i++){var P=x[i].toString(16);P.length<2&&(P="0"+P),O+=P}o.codec=O}break;case 8:n=!0,o.pps||(o.pps=[t.data]);break;case 9:n=!1,o.audFound=!0,l&&c(l,o),l=a.avcSample=d(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&n&&l.units.push(t)})),t&&l&&(c(l,o),this.avcSample=null)},t._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var n=r-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)},t._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var n=t.units;e=n[n.length-1]}return e},t._parseAVCNALu=function(e){var t,r,n,i,a=0,o=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],d=-1;for(-1===l&&(d=0,i=31&e[0],l=0,a=1);a<o;)if(t=e[a++],l)if(1!==l)if(t)if(1===t){if(d>=0)n={data:e.subarray(d,a-l-1),type:i},c.push(n);else{var f=this._getLastNalUnit();if(f&&(u&&a<=4-u&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-u)),(r=a-l-1)>0)){var p=new Uint8Array(f.data.byteLength+r);p.set(f.data,0),p.set(e.subarray(0,r),f.data.byteLength),f.data=p}}a<o?(d=a,i=31&e[a],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;if(d>=0&&l>=0&&(n={data:e.subarray(d,o),type:i,state:l},c.push(n)),0===c.length){var h=this._getLastNalUnit();if(h){var g=new Uint8Array(h.data.byteLength+e.byteLength);g.set(h.data,0),g.set(e,h.data.byteLength),h.data=g}}return s.naluState=l,c},t.discardEPB=function(e){for(var t,r,n=e.byteLength,i=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r},t._parseAACPES=function(e){var t,r,a,o,l,u,c,d=this._audioTrack,p=e.data,v=e.pts,y=this.aacOverFlow,b=this.aacLastPTS;if(y){var k=new Uint8Array(y.byteLength+p.byteLength);k.set(y,0),k.set(p,y.byteLength),p=k}for(a=0,l=p.length;a<l-1&&!f(p,a);a++);if(!a||(a<l-1?(u="AAC PES did not start with ADTS header,offset:"+a,c=!1):(u="no ADTS header found in AAC PES",c=!0),s.logger.warn("parsing error:"+u),this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:c,reason:u}),!c)){if(h(d,this.observer,p,a,this.audioCodec),r=0,t=g(d.samplerate),y&&b){var _=b+t;Math.abs(_-v)>1&&(s.logger.log("AAC: align PTS for overlapping frames by "+Math.round((_-v)/90)),v=_)}for(;a<l;){if(f(p,a)){if(a+5<l){var E=m(d,p,a,v,r);if(E){a+=E.length,o=E.sample.pts,r++;continue}}break}a++}y=a<l?p.subarray(a,l):null,this.aacOverFlow=y,this.aacLastPTS=o}},t._parseMPEGPES=function(e){for(var t=e.data,r=t.length,n=0,i=0,a=e.pts;i<r;)if(_.isHeader(t,i)){var o=_.appendFrame(this._audioTrack,t,i,a,n);if(!o)break;i+=o.length,n++}else i++},t._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),x=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){var t,r,n=v.default.getID3Data(e,0);if(n&&void 0!==v.default.getTimeStamp(n))for(t=n.length,r=Math.min(e.length-1,t+100);t<r;t++)if(_.probe(e,t))return s.logger.log("MPEG Audio sync word found !"),!0;return!1},t.append=function(e,t,r,n){for(var i=v.default.getID3Data(e,0)||[],a=v.default.getTimeStamp(i),o=void 0!==a?90*a:9e4*t,s=i.length,l=e.length,u=0,c=0,d=this._audioTrack,f=[{pts:o,dts:o,data:i}];s<l;)if(_.isHeader(e,s)){var p=_.appendFrame(d,e,s,o,u);if(!p)break;s+=p.length,c=p.sample.pts,u++}else v.default.isHeader(e,s)?(i=v.default.getID3Data(e,s),f.push({pts:c,dts:c,data:i}),s+=i.length):s++;this.remuxer.remux(d,{samples:[]},{samples:f,inputTimeScale:9e4},{samples:[]},t,r,n)},t.destroy=function(){},e}(),O=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),P=Math.pow(2,32)-1,A=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,a=i;i--;)n+=r[i].byteLength;for((t=new Uint8Array(n))[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),i=0,n=8;i<a;i++)t.set(r[i],n),n+=r[i].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(P+1)),i=Math.floor(r%(P+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(P+1)),i=Math.floor(r%(P+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var r,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,i,a=[],o=[];for(r=0;r<t.sps.length;r++)i=(n=t.sps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)i=(n=t.pps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,a=t.height,o=Math.floor(n/(P+1)),s=Math.floor(n%(P+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),i=t.id,a=Math.floor(r/(P+1)),o=Math.floor(r%(P+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,i,a,o,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(r+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)a=(i=u[n]).duration,o=i.size,s=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var r,n=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+n.byteLength)).set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();function C(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=e*t*r;return n?Math.round(i):i}function M(e,t){return void 0===t&&(t=!1),C(e,1e3,1/9e4,t)}function I(e,t){return void 0===t&&(t=1),C(e,9e4,1/t)}var R=I(10),D=I(.2),j=null;function L(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}var N,U=function(){function e(e,t,r,n){if(this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,null===j){var i=navigator.userAgent.match(/Chrome\/(\d+)/i);j=i?parseInt(i[1]):0}}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},t.resetInitSegment=function(){this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,r=e.reduce((function(e,r){var n=r.pts-e;return n<-4294967296?(t=!0,L(e,r.pts)):n>0?e:r.pts}),e[0].pts);return t&&s.logger.debug("PTS rollover detected"),r},t.remux=function(e,t,r,i,a,o,l){if(this.ISGenerated||this.generateIS(e,t,a),this.ISGenerated){var u=e.samples.length,c=t.samples.length,d=a,f=a;if(u&&c){var p=this.getVideoStartPts(t.samples),h=(L(e.samples[0].pts,p)-p)/t.inputTimeScale;d+=Math.max(0,h),f+=Math.max(0,-h)}if(u){e.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,a));var g,m=this.remuxAudio(e,d,o,l);c&&(m&&(g=m.endPTS-m.startPTS),t.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,a)),this.remuxVideo(t,f,o,g))}else if(c){var v=this.remuxVideo(t,f,o,0,l);v&&e.codec&&this.remuxEmptyAudio(e,d,o,v)}}r.samples.length&&this.remuxID3(r,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(n.default.FRAG_PARSED)},t.generateIS=function(e,t,r){var a,o,l=this.observer,u=e.samples,c=t.samples,d=this.typeSupported,f="audio/mp4",p={},h={tracks:p},g=void 0===this._initPTS;if(g&&(a=o=1/0),e.config&&u.length&&(e.timescale=e.samplerate,s.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(d.mpeg?(f="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3")),p.audio={container:f,codec:e.codec,initSegment:!e.isAAC&&d.mpeg?new Uint8Array:A.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(a=o=u[0].pts-Math.round(e.inputTimeScale*r))),t.sps&&t.pps&&c.length){var m=t.inputTimeScale;if(t.timescale=m,p.video={container:"video/mp4",codec:t.codec,initSegment:A.initSegment([t]),metadata:{width:t.width,height:t.height}},g){var v=this.getVideoStartPts(c),y=Math.round(m*r);o=Math.min(o,L(c[0].dts,v)-y),a=Math.min(a,v-y),this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:a})}}else g&&p.audio&&this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:a});Object.keys(p).length?(l.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,g&&(this._initPTS=a,this._initDTS=o)):l.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.remuxVideo=function(e,t,r,a){var o,l,u,c,d,f=e.timescale,p=e.samples,h=[],g=p.length,m=this._initPTS,v=8,y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,k=0,_=!1,E=this.nextAvcDts;if(0!==g){r||(E=t*f-(p[0].pts-L(p[0].dts,p[0].pts)));for(var w=0;w<g;w++){var S=p[w];S.pts=L(S.pts-m,E),S.dts=L(S.dts-m,E),S.dts>S.pts&&(k=Math.max(Math.min(k,S.pts-S.dts),-1*D)),S.dts<p[w>0?w-1:w].dts&&(_=!0)}_&&p.sort((function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n||e.id-t.id})),c=p[0].dts,d=p[g-1].dts;var T=Math.round((d-c)/(g-1));if(k<0){if(k<-2*T){s.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+M(-T,!0)+" ms");for(var x=k,O=0;O<g;O++)p[O].dts=x=Math.max(x,p[O].pts-T),p[O].pts=Math.max(x,p[O].pts)}else{s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+M(k,!0)+" ms to overcome this issue");for(var P=0;P<g;P++)p[P].dts=p[P].dts+k}c=p[0].dts,d=p[g-1].dts}if(r){var C=c-E,I=C>T;if(I||C<-1){I?s.logger.warn("AVC: "+M(C,!0)+" ms ("+C+"dts) hole between fragments detected, filling it"):s.logger.warn("AVC: "+M(-C,!0)+" ms ("+C+"dts) overlapping between fragments detected"),c=E;var R=p[0].pts-C;p[0].dts=c,p[0].pts=R,s.logger.log("Video: First PTS/DTS adjusted: "+M(R,!0)+"/"+M(c,!0)+", delta: "+M(C,!0)+" ms")}}j&&j<75&&(c=Math.max(0,c));for(var N=0,U=0,B=0;B<g;B++){for(var F=p[B],z=F.units,V=z.length,$=0,W=0;W<V;W++)$+=z[W].data.length;U+=$,N+=V,F.length=$,F.dts=Math.max(F.dts,c),F.pts=Math.max(F.pts,F.dts,0),y=Math.min(F.pts,y),b=Math.max(F.pts,b)}d=p[g-1].dts;var K=U+4*N+8;try{l=new Uint8Array(K)}catch(de){return void this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MUX_ERROR,details:i.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:K,reason:"fail allocating video mdat "+K})}var H=new DataView(l.buffer);H.setUint32(0,K),l.set(A.types.mdat,4);for(var G=0;G<g;G++){for(var Z,q=p[G],X=q.units,Y=0,Q=0,J=X.length;Q<J;Q++){var ee=X[Q],te=ee.data,re=ee.data.byteLength;H.setUint32(v,re),v+=4,l.set(te,v),v+=re,Y+=4+re}if(G<g-1)o=p[G+1].dts-q.dts;else{var ne=this.config,ie=q.dts-p[G>0?G-1:G].dts;if(ne.stretchShortVideoTrack){var ae=ne.maxBufferHole,oe=Math.floor(ae*f),se=(a?y+a*f:this.nextAudioPts)-q.pts;se>oe?((o=se-ie)<0&&(o=ie),s.logger.log("It is approximately "+M(se,!1)+" ms to the next segment; using duration "+M(o,!1)+" ms for the last video frame.")):o=ie}else o=ie}Z=Math.round(q.pts-q.dts),h.push({size:Y,duration:o,cts:Z,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:q.key?2:1,isNonSync:q.key?0:1}})}this.nextAvcDts=d+o;var le=e.dropped;if(e.nbNalu=0,e.dropped=0,h.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ue=h[0].flags;ue.dependsOn=2,ue.isNonSync=0}e.samples=h,u=A.moof(e.sequenceNumber++,c,e),e.samples=[];var ce={data1:u,data2:l,startPTS:y/f,endPTS:(b+o)/f,startDTS:c/f,endDTS:this.nextAvcDts/f,type:"video",hasAudio:!1,hasVideo:!0,nb:h.length,dropped:le};return this.observer.trigger(n.default.FRAG_PARSING_DATA,ce),ce}},t.remuxAudio=function(e,t,r,a){var o,l,u,c,d,f,p=e.inputTimeScale,h=e.timescale,g=p/h,m=(e.isAAC?1024:1152)*g,v=this._initPTS,y=!e.isAAC&&this.typeSupported.mpeg,b=y?0:8,k=e.samples,_=[],E=this.nextAudioPts;if(r|=k.length&&E&&(a&&Math.abs(t-E/p)<.1||Math.abs(k[0].pts-E-v)<20*m),k.forEach((function(e){e.pts=e.dts=L(e.pts-v,t*p)})),0!==(k=k.filter((function(e){return e.pts>=0}))).length){if(r||(E=a?Math.max(0,t*p):k[0].pts),e.isAAC)for(var w=this.config.maxAudioFramesDrift,S=0,T=E;S<k.length;){var x=k[S],P=x.pts,C=P-T;if(C<=-w*m)r||S>0?(s.logger.warn("Dropping 1 audio frame @ "+M(T,!0)/1e3+"s due to "+M(C,!0)+" ms overlap."),k.splice(S,1)):(s.logger.warn("Audio frame @ "+M(P,!0)/1e3+"s overlaps nextAudioPts by "+M(C,!0)+" ms."),T=P+m,S++);else if(C>=w*m&&C<R&&T){var I=Math.round(C/m);s.logger.warn("Injecting "+I+" audio frames @ "+M(T,!0)/1e3+"s due to "+M(C,!0)+" ms gap.");for(var D=0;D<I;D++){var j=Math.max(T,0);(l=O.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),l=x.unit.subarray()),k.splice(S,0,{unit:l,pts:j,dts:j}),T+=m,S++}x.pts=x.dts=T,T+=m,S++}else Math.abs(C),x.pts=x.dts=T,T+=m,S++}for(var N=k.length,U=0;N--;)U+=k[N].unit.byteLength;for(var B=0,F=k.length;B<F;B++){var z=k[B],V=z.unit,$=z.pts;if(void 0!==f&&o)o.duration=Math.round(($-f)/g);else{var W=$-E,K=0;if(r&&e.isAAC&&W){if(W>0&&W<R)K=Math.round(($-E)/m),s.logger.log(M(W,!0)+" ms hole between AAC samples detected,filling it"),K>0&&((l=O.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(l=V.subarray()),U+=K*l.length);else if(W<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+M(E,!0)+" ms / "+M($,!0)+" ms / "+M(-W,!0)+" ms"),U-=V.byteLength;continue}$=E}if(d=$,!(U>0))return;U+=b;try{u=new Uint8Array(U)}catch(Q){return void this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MUX_ERROR,details:i.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating audio mdat "+U})}y||(new DataView(u.buffer).setUint32(0,U),u.set(A.types.mdat,4));for(var H=0;H<K;H++)(l=O.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),l=V.subarray()),u.set(l,b),b+=l.byteLength,o={size:l.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(o)}u.set(V,b);var G=V.byteLength;b+=G,o={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(o),f=$}var Z=0;if((N=_.length)>=2&&(Z=_[N-2].duration,o.duration=Z),N){this.nextAudioPts=E=f+g*Z,e.samples=_,c=y?new Uint8Array:A.moof(e.sequenceNumber++,d/g,e),e.samples=[];var q=d/p,X=E/p,Y={data1:c,data2:u,startPTS:q,endPTS:X,startDTS:q,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:N};return this.observer.trigger(n.default.FRAG_PARSING_DATA,Y),Y}return null}},t.remuxEmptyAudio=function(e,t,r,n){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),o=this.nextAudioPts,l=(void 0!==o?o:n.startDTS*i)+this._initDTS,u=n.endDTS*i+this._initDTS,c=1024*a,d=Math.ceil((u-l)/c),f=O.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.logger.warn("remux empty Audio"),f){for(var p=[],h=0;h<d;h++){var g=l+h*c;p.push({unit:f,pts:g,dts:g})}e.samples=p,this.remuxAudio(e,t,r)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.remuxID3=function(e,t){var r=e.samples.length;if(r){for(var i=e.inputTimeScale,a=this._initPTS,o=this._initDTS,s=0;s<r;s++){var l=e.samples[s];l.pts=L(l.pts-a,t*i)/i,l.dts=L(l.dts-o,t*i)/i}this.observer.trigger(n.default.FRAG_PARSING_METADATA,{samples:e.samples}),e.samples=[]}},t.remuxText=function(e,t){var r=e.samples.length,i=e.inputTimeScale,a=this._initPTS;if(r){for(var o=0;o<r;o++){var s=e.samples[o];s.pts=L(s.pts-a,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts})),this.observer.trigger(n.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e}(),B=function(){function e(e){this.observer=e}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.remux=function(e,t,r,i,a,o,s,l){var u=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),u.trigger(n.default.FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(n.default.FRAG_PARSED)},e}(),F=Object(l.getSelfScope)();try{N=F.performance.now.bind(F.performance)}catch(V){s.logger.debug("Unable to use Performance API on this environment"),N=F.Date.now}var z=function(){function e(e,t,r,n){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n}var t=e.prototype;return t.destroy=function(){var e=this.demuxer;e&&e.destroy()},t.push=function(e,t,r,i,o,s,l,u,c,d,f,p){var h=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var g=this.decrypter;null==g&&(g=this.decrypter=new a.default(this.observer,this.config));var m=N();g.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var a=N();h.observer.trigger(n.default.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:a}}),h.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,o,s,l,u,c,d,f,p)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,o,s,l,u,c,d,f,p)},t.pushDecrypted=function(e,t,r,a,o,s,l,u,c,d,f,p){var h=this.demuxer,g=this.remuxer;if(!h||l||u){for(var m,v=this.observer,k=this.typeSupported,_=this.config,E=[{demux:T,remux:U},{demux:b.default,remux:B},{demux:y,remux:U},{demux:x,remux:U}],w=0,S=E.length;w<S&&!(m=E[w]).demux.probe(e);w++);if(!m)return void v.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});g&&g instanceof m.remux||(g=new m.remux(v,_,k,this.vendor)),h&&h instanceof m.demux||(h=new m.demux(v,g,_,k),this.probe=m.demux.probe),this.demuxer=h,this.remuxer=g}(l||u)&&(h.resetInitSegment(r,a,o,d),g.resetInitSegment()),l&&(h.resetTimeStamp(p),g.resetTimeStamp(p)),"function"===typeof h.setDecryptData&&h.setDecryptData(t),h.append(e,s,c,f)},e}();t.default=z},"./src/demux/demuxer-worker.js":function(e,t,r){"use strict";r.r(t);var n=r("./src/demux/demuxer-inline.js"),i=r("./src/events.js"),a=r("./src/utils/logger.js"),o=r("./node_modules/eventemitter3/index.js");t.default=function(e){var t=new o.EventEmitter;t.trigger=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(n))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new n.default(t,o.typeSupported,s,o.vendor),Object(a.enableLogs)(s.debug),r("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}})),t.on(i.default.FRAG_DECRYPTED,r),t.on(i.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(i.default.FRAG_PARSED,r),t.on(i.default.ERROR,r),t.on(i.default.FRAG_PARSING_METADATA,r),t.on(i.default.FRAG_PARSING_USERDATA,r),t.on(i.default.INIT_PTS_FOUND,r),t.on(i.default.FRAG_PARSING_DATA,(function(t,r){var n=[],i={event:t,data:r};r.data1&&(i.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(i.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),e.postMessage(i,n)}))}},"./src/demux/id3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"utf8ArrayToStr",(function(){return s}));var n,i=r("./src/utils/get-self-scope.js"),a=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var n=r,i=0;e.isHeader(t,r);)i+=10,i+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(i+=10),r+=i;if(i>0)return t.subarray(n,n+i)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),n=0;n<r.length;n++){var i=r[n];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),n=e._readSize(t,4);return{type:r,size:n,data:t.subarray(10,10+n)}},e.getID3Frames=function(t){for(var r=0,n=[];e.isHeader(t,r);){for(var i=e._readSize(t,r+6),a=(r+=10)+i;r+8<a;){var o=e._getFrameData(t.subarray(r)),s=e._decodeFrame(o);s&&n.push(s),r+=o.size+10}e.isFooter(t,r)&&(r+=10)}return n},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):e._decodeTextFrame(t)},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:n.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,n=e._utf8ArrayToStr(t.data.subarray(r),!0);r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,n=e._utf8ArrayToStr(t.data.subarray(r),!0);r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);var r=o();if(r){var n=r.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}for(var a,s,l,u=e.length,c="",d=0;d<u;){if(0===(a=e[d++])&&t)return c;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(a);break;case 12:case 13:s=e[d++],c+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=e[d++],l=e[d++],c+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&l)<<0)}}return c},e}();function o(){var e=Object(i.getSelfScope)();return n||"undefined"===typeof e.TextDecoder||(n=new e.TextDecoder("utf-8")),n}var s=a._utf8ArrayToStr;t.default=a},"./src/demux/mp4demuxer.js":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/logger.js"),i=r("./src/events.js"),a=Math.pow(2,32)-1,o=function(){function e(e,t){this.observer=e,this.remuxer=t}var t=e.prototype;return t.resetTimeStamp=function(e){this.initPTS=e},t.resetInitSegment=function(t,r,n,a){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:a?t:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:a?t:null}),o.video&&(s.video={container:"video/mp4",codec:n,initSegment:a?t:null})),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),n&&(this.videoCodec=n)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var n,i,a,o,s,l,u=[];if(t.data?(s=t.start,a=t.end,t=t.data):(s=0,a=t.byteLength),!r.length)return null;for(n=s;n<a;)l=(i=e.readUint32(t,n))>1?n+i:a,e.bin2str(t.subarray(n+4,n+8))===r[0]&&(1===r.length?u.push({data:t,start:n+8,end:l}):(o=e.findBox({data:t,start:n+8,end:l},r.slice(1))).length&&(u=u.concat(o))),n=l;return u},e.parseSegmentIndex=function(t){var r,n=e.findBox(t,["moov"])[0],i=n?n.end:null,a=0,o=e.findBox(t,["sidx"]);if(!o||!o[0])return null;r=[];var s=(o=o[0]).data[0];a=0===s?8:16;var l=e.readUint32(o,a);a+=4,a+=0===s?8:16,a+=2;var u=o.end+0,c=e.readUint16(o,a);a+=2;for(var d=0;d<c;d++){var f=a,p=e.readUint32(o,f);f+=4;var h=2147483647&p;if(1===(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=e.readUint32(o,f);f+=4,r.push({referenceSize:h,subsegmentDuration:g,info:{duration:g/l,start:u,end:u+h-1}}),u+=h,a=f+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:c,references:r,moovEndOffset:i}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var a=i.data[i.start],o=0===a?12:20,s=e.readUint32(i,o),l=e.findBox(t,["mdia","mdhd"])[0];if(l){o=0===(a=l.data[l.start])?12:20;var u=e.readUint32(l,o),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var d={soun:"audio",vide:"video"}[e.bin2str(c.data.subarray(c.start+8,c.start+12))];if(d){var f=e.findBox(t,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var p=e.bin2str(f.data.subarray(f.start+12,f.start+16));n.logger.log("MP4Demuxer:"+d+":"+p+" found")}r[s]={timescale:u,type:d},r[d]={timescale:u,id:s}}}}}})),r},e.getStartDTS=function(t,r){var n,i,a;return n=e.findBox(r,["moof","traf"]),i=[].concat.apply([],n.map((function(r){return e.findBox(r,["tfhd"]).map((function(n){var i,a;return i=e.readUint32(n,4),a=t[i].timescale||9e4,e.findBox(r,["tfdt"]).map((function(t){var r,n;return r=t.data[t.start],n=e.readUint32(t,4),1===r&&(n*=Math.pow(2,32),n+=e.readUint32(t,8)),n}))[0]/a}))}))),a=Math.min.apply(null,i),isFinite(a)?a:0},e.offsetStartDTS=function(t,r,n){e.findBox(r,["moof","traf"]).map((function(r){return e.findBox(r,["tfhd"]).map((function(i){var o=e.readUint32(i,4),s=t[o].timescale||9e4;e.findBox(r,["tfdt"]).map((function(t){var r=t.data[t.start],i=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,i-n*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=n*s,i=Math.max(i,0);var o=Math.floor(i/(a+1)),l=Math.floor(i%(a+1));e.writeUint32(t,4,o),e.writeUint32(t,8,l)}}))}))}))},t.append=function(t,r,n,a){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(o,t);this.initPTS=l=u-r,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(o,t,l),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,n,a,t)},t.destroy=function(){},e}();t.default=o},"./src/errors.ts":function(e,t,r){"use strict";var n,i;r.r(t),r.d(t,"ErrorTypes",(function(){return n})),r.d(t,"ErrorDetails",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(n||(n={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException"}(i||(i={}))},"./src/events.js":function(e,t,r){"use strict";r.r(t),t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},"./src/hls.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return ar}));var n={};r.r(n),r.d(n,"newCue",(function(){return pt}));var i,a,o=r("./node_modules/url-toolkit/src/url-toolkit.js"),s=r("./src/errors.ts"),l=r("./src/polyfills/number.js"),u=r("./src/events.js"),c=r("./src/utils/logger.js"),d={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},f=function(){function e(e){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=e,this.onEvent=this.onEvent.bind(this);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){},t.onHandlerDestroyed=function(){},t.isEventHandler=function(){return"object"===typeof this.handledEvents&&this.handledEvents.length&&"function"===typeof this.onEvent},t.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(d[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},t.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},t.onEvent=function(e,t){this.onEventGeneric(e,t)},t.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!==typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(r){c.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:r})}},e}();!function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(i||(i={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(a||(a={}));var p=r("./src/demux/mp4demuxer.js");function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g,m=function(){function e(e,t){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=e,this.reluri=t}var t,r,n;return t=e,(r=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(o.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&h(t.prototype,r),n&&h(t,n),e}();function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.AUDIO="audio",e.VIDEO="video"}(g||(g={}));var y=function(){function e(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((e={})[g.AUDIO]=!1,e[g.VIDEO]=!1,e),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var t,r,n,i=e.prototype;return i.setByteRange=function(e,t){var r=e.split("@",2),n=[];1===r.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},i.addElementaryStream=function(e){this._elementaryStreams[e]=!0},i.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},i.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},i.setDecryptDataFromLevelKey=function(e,t){var r=e;return(null===e||void 0===e?void 0:e.method)&&e.uri&&!e.iv&&((r=new m(e.baseuri,e.reluri)).method=e.method,r.iv=this.createInitializationVector(t)),r},t=e,(r=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!==typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&c.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(l.isFiniteNumber)(this.programDateTime))return null;var e=Object(l.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&v(t.prototype,r),n&&v(t,n),e}();function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=function(){function e(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}var t,r,n;return t=e,(r=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(l.isFiniteNumber)(this.fragments[0].programDateTime))}}])&&b(t.prototype,r),n&&b(t,n),e}(),_=/^(\d+)x(\d+)$/,E=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,w=function(){function e(t){for(var r in"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&(this[r]=t[r])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.enumeratedString=function(e){return this[e]},t.decimalResolution=function(e){var t=_.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(E.lastIndex=0;null!==(t=E.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r},e}(),S={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function T(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var x=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,O=/#EXT-X-MEDIA:(.*)/g,P=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),A=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,C=/\.(mp4|m4s|m4v|m4a)$/i,M=function(){function e(){}return e.findGroup=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return o.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,r){var n,i=[],a={},o=!1;function s(e,t){["video","audio"].forEach((function(r){var n=e.filter((function(e){return function(e,t){var r=S[t];return!!r&&!0===r[e.slice(0,4)]}(e,r)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}for(x.lastIndex=0;null!=(n=x.exec(t));)if(n[1]){var l={},u=l.attrs=new w(n[1]);l.url=e.resolve(n[2],r);var c=u.decimalResolution("RESOLUTION");c&&(l.width=c.width,l.height=c.height),l.bitrate=u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),l.name=u.NAME,s([].concat((u.CODECS||"").split(/[ ,]+/)),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=e.convertAVC1ToAVCOTI(l.videoCodec)),i.push(l)}else if(n[3]){var d=new w(n[3]);d["DATA-ID"]&&(o=!0,a[d["DATA-ID"]]=d)}return{levels:i,sessionData:o?a:null}},e.parseMasterPlaylistMedia=function(t,r,n,i){var a;void 0===i&&(i=[]);var o=[],s=0;for(O.lastIndex=0;null!==(a=O.exec(t));){var l=new w(a[1]);if(l.TYPE===n){var u={attrs:l,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE,type:n,default:"YES"===l.DEFAULT,autoselect:"YES"===l.AUTOSELECT,forced:"YES"===l.FORCED,lang:l.LANGUAGE};if(l.URI&&(u.url=e.resolve(l.URI,r)),i.length){var c=e.findGroup(i,u.groupId);u.audioCodec=c?c.codec:i[0].codec}o.push(u)}}return o},e.parseLevelPlaylist=function(e,t,r,n,i){var a,o,s,u=0,d=0,f=new k(t),p=0,h=null,g=new y,v=null;for(P.lastIndex=0;null!==(a=P.exec(e));){var b=a[1];if(b){g.duration=parseFloat(b);var _=(" "+a[2]).slice(1);g.title=_||null,g.tagList.push(_?["INF",b,_]:["INF",b])}else if(a[3]){if(Object(l.isFiniteNumber)(g.duration)){var E=u++;g.type=n,g.start=d,s&&(g.levelkey=s),g.sn=E,g.level=r,g.cc=p,g.urlId=i,g.baseurl=t,g.relurl=(" "+a[3]).slice(1),I(g,h),f.fragments.push(g),h=g,d+=g.duration,g=new y}}else if(a[4]){var S=(" "+a[4]).slice(1);h?g.setByteRange(S,h):g.setByteRange(S)}else if(a[5])g.rawProgramDateTime=(" "+a[5]).slice(1),g.tagList.push(["PROGRAM-DATE-TIME",g.rawProgramDateTime]),null===v&&(v=f.fragments.length);else{if(!(a=a[0].match(A))){c.logger.warn("No matches on slow regex match for level playlist!");continue}for(o=1;o<a.length&&"undefined"===typeof a[o];o++);var T=(" "+a[o+1]).slice(1),x=(" "+a[o+2]).slice(1);switch(a[o]){case"#":g.tagList.push(x?[T,x]:[T]);break;case"PLAYLIST-TYPE":f.type=T.toUpperCase();break;case"MEDIA-SEQUENCE":u=f.startSN=parseInt(T);break;case"TARGETDURATION":f.targetduration=parseFloat(T);break;case"VERSION":f.version=parseInt(T);break;case"EXTM3U":break;case"ENDLIST":f.live=!1;break;case"DIS":p++,g.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":p=parseInt(T);break;case"KEY":var O=new w(T),M=O.enumeratedString("METHOD"),R=O.URI,D=O.hexadecimalInteger("IV");if("com.apple.streamingkeydelivery"===(O.KEYFORMAT||"identity")){c.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}M&&(s=new m(t,R),R&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(M)>=0&&(s.method=M,s.key=null,s.iv=D));break;case"START":var j=new w(T).decimalFloatingPoint("TIME-OFFSET");Object(l.isFiniteNumber)(j)&&(f.startTimeOffset=j);break;case"MAP":var L=new w(T);g.relurl=L.URI,L.BYTERANGE&&g.setByteRange(L.BYTERANGE),g.baseurl=t,g.level=r,g.type=n,g.sn="initSegment",f.initSegment=g,(g=new y).rawProgramDateTime=f.initSegment.rawProgramDateTime;break;default:c.logger.warn("line parsed but not handled: "+a)}}}return(g=h)&&!g.relurl&&(f.fragments.pop(),d-=g.duration),f.totalduration=d,f.averagetargetduration=d/f.fragments.length,f.endSN=u-1,f.startCC=f.fragments[0]?f.fragments[0].cc:0,f.endCC=p,!f.initSegment&&f.fragments.length&&f.fragments.every((function(e){return C.test(e.relurl)}))&&(c.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(g=new y).relurl=f.fragments[0].relurl,g.baseurl=t,g.level=r,g.type=n,g.sn="initSegment",f.initSegment=g,f.needSidxRanges=!0),v&&function(e,t){for(var r=e[t],n=t-1;n>=0;n--){var i=e[n];i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(f.fragments,v),f},e}();function I(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):(null===t||void 0===t?void 0:t.programDateTime)&&(e.programDateTime=t.endProgramDateTime),Object(l.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}var R=window.performance,D=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MANIFEST_LOADING,u.default.LEVEL_LOADING,u.default.AUDIO_TRACK_LOADING,u.default.SUBTITLE_TRACK_LOADING)||this).loaders={},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.canHaveQualityLevels=function(e){return e!==i.AUDIO_TRACK&&e!==i.SUBTITLE_TRACK},n.mapContextToLevelType=function(e){switch(e.type){case i.AUDIO_TRACK:return a.AUDIO;case i.SUBTITLE_TRACK:return a.SUBTITLE;default:return a.MAIN}},n.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r};var o=n.prototype;return o.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=new(r||n)(t);return e.loader=i,this.loaders[e.type]=i,i},o.getInternalLoader=function(e){return this.loaders[e.type]},o.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},o.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},o.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},o.onManifestLoading=function(e){this.load({url:e.url,type:i.MANIFEST,level:0,id:null,responseType:"text"})},o.onLevelLoading=function(e){this.load({url:e.url,type:i.LEVEL,level:e.level,id:e.id,responseType:"text"})},o.onAudioTrackLoading=function(e){this.load({url:e.url,type:i.AUDIO_TRACK,level:null,id:e.id,responseType:"text"})},o.onSubtitleTrackLoading=function(e){this.load({url:e.url,type:i.SUBTITLE_TRACK,level:null,id:e.id,responseType:"text"})},o.load=function(e){var t=this.hls.config;c.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var r,n,a,o,s=this.getInternalLoader(e);if(s){var l=s.context;if(l&&l.url===e.url)return c.logger.trace("playlist request ongoing"),!1;c.logger.warn("aborting previous loader for type: "+e.type),s.abort()}switch(e.type){case i.MANIFEST:r=t.manifestLoadingMaxRetry,n=t.manifestLoadingTimeOut,a=t.manifestLoadingRetryDelay,o=t.manifestLoadingMaxRetryTimeout;break;case i.LEVEL:r=0,o=0,a=0,n=t.levelLoadingTimeOut;break;default:r=t.levelLoadingMaxRetry,n=t.levelLoadingTimeOut,a=t.levelLoadingRetryDelay,o=t.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(e);var u={timeout:n,maxRetry:r,retryDelay:a,maxRetryDelay:o},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return c.logger.debug("Calling internal loader delegate for URL: "+e.url),s.load(e,u,d),!0},o.loadsuccess=function(e,t,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,n);if(this.resetInternalLoader(r.type),"string"!==typeof e.data)throw new Error('expected responseType of "text" for PlaylistLoader');var i=e.data;t.tload=R.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,n):this._handleMasterPlaylist(e,t,r,n):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",n)},o.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},o.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},o._handleMasterPlaylist=function(e,t,r,i){var a=this.hls,o=e.data,s=n.getResponseUrl(e,r),l=M.parseMasterPlaylist(o,s),d=l.levels,f=l.sessionData;if(d.length){var p=d.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),h=M.parseMasterPlaylistMedia(o,s,"AUDIO",p),g=M.parseMasterPlaylistMedia(o,s,"SUBTITLES"),m=M.parseMasterPlaylistMedia(o,s,"CLOSED-CAPTIONS");if(h.length){var v=!1;h.forEach((function(e){e.url||(v=!0)})),!1===v&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(c.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}a.trigger(u.default.MANIFEST_LOADED,{levels:d,audioTracks:h,subtitles:g,captions:m,url:s,stats:t,networkDetails:i,sessionData:f})}else this._handleManifestParsingError(e,r,"no level found in manifest",i)},o._handleTrackOrLevelPlaylist=function(e,t,r,a){var o=this.hls,c=r.id,d=r.level,f=r.type,p=n.getResponseUrl(e,r),h=Object(l.isFiniteNumber)(c)?c:0,g=Object(l.isFiniteNumber)(d)?d:h,m=n.mapContextToLevelType(r),v=M.parseLevelPlaylist(e.data,p,g,m,h);if(v.tload=t.tload,v.fragments.length){if(f===i.MANIFEST){var y={url:p,details:v};o.trigger(u.default.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:p,stats:t,networkDetails:a,sessionData:null})}if(t.tparsed=R.now(),v.needSidxRanges){var b=v.initSegment.url;this.load({url:b,isSidxRequest:!0,type:f,level:d,levelDetails:v,id:c,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=v,this._handlePlaylistLoaded(e,t,r,a)}else o.trigger(u.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:p,reason:"no fragments found in level",level:"number"===typeof r.level?r.level:void 0})},o._handleSidxRequest=function(e,t){if("string"===typeof e.data)throw new Error("sidx request must be made with responseType of array buffer");var r=p.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var n=r.references,i=t.levelDetails;n.forEach((function(e,t){var r=e.info;if(i){var n=i.fragments[t];0===n.byteRange.length&&n.setByteRange(String(1+r.end-r.start)+"@"+String(r.start))}})),i&&i.initSegment.setByteRange(String(r.moovEndOffset)+"@0")}},o._handleManifestParsingError=function(e,t,r,n){this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:n})},o._handleNetworkError=function(e,t,r,n){var a,o;void 0===r&&(r=!1),void 0===n&&(n=null),c.logger.info("A network error occured while loading a "+e.type+"-type playlist");var l=this.getInternalLoader(e);switch(e.type){case i.MANIFEST:a=r?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,o=!0;break;case i.LEVEL:a=r?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,o=!1;break;case i.AUDIO_TRACK:a=r?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}l&&(l.abort(),this.resetInternalLoader(e.type));var d={type:s.ErrorTypes.NETWORK_ERROR,details:a,fatal:o,url:e.url,loader:l,context:e,networkDetails:t};n&&(d.response=n),this.hls.trigger(u.default.ERROR,d)},o._handlePlaylistLoaded=function(e,t,r,a){var o=r.type,s=r.level,l=r.id,c=r.levelDetails;if(c&&c.targetduration)if(n.canHaveQualityLevels(r.type))this.hls.trigger(u.default.LEVEL_LOADED,{details:c,level:s||0,id:l||0,stats:t,networkDetails:a});else switch(o){case i.AUDIO_TRACK:this.hls.trigger(u.default.AUDIO_TRACK_LOADED,{details:c,id:l,stats:t,networkDetails:a});break;case i.SUBTITLE_TRACK:this.hls.trigger(u.default.SUBTITLE_TRACK_LOADED,{details:c,id:l,stats:t,networkDetails:a})}else this._handleManifestParsingError(e,r,"invalid target duration",a)},n}(f),j=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FRAG_LOADING)||this).loaders={},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){var t=this.loaders;for(var r in t){var n=t[r];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.onFragLoading=function(e){var t=e.frag,r=t.type,n=this.loaders,i=this.hls.config,a=i.fLoader,o=i.loader;t.loaded=0;var s,u,d,f=n[r];f&&(c.logger.warn("abort previous fragment loader for type: "+r),f.abort()),f=n[r]=t.loader=i.fLoader?new a(i):new o(i),s={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var p=t.byteRangeStartOffset,h=t.byteRangeEndOffset;Object(l.isFiniteNumber)(p)&&Object(l.isFiniteNumber)(h)&&(s.rangeStart=p,s.rangeEnd=h),u={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(s,u,d)},i.loadsuccess=function(e,t,r,n){void 0===n&&(n=null);var i=e.data,a=r.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(u.default.FRAG_LOADED,{payload:i,frag:a,stats:t,networkDetails:n})},i.loaderror=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},i.loadtimeout=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},i.loadprogress=function(e,t,r,n){void 0===n&&(n=null);var i=t.frag;i.loaded=e.loaded,this.hls.trigger(u.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:n})},n}(f),L=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.KEY_LOADING)||this).loaders={},r.decryptkey=null,r.decrypturl=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){for(var t in this.loaders){var r=this.loaders[t];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.onKeyLoading=function(e){var t=e.frag,r=t.type,n=this.loaders[r];if(t.decryptdata){var i=t.decryptdata.uri;if(i!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;if(n&&(c.logger.warn("abort previous key loader for type:"+r),n.abort()),!i)return void c.logger.warn("key uri is falsy");t.loader=this.loaders[r]=new a.loader(a),this.decrypturl=i,this.decryptkey=null;var o={url:i,frag:t,responseType:"arraybuffer"},s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};t.loader.load(o,s,l)}else this.decryptkey&&(t.decryptdata.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))}else c.logger.warn("Missing decryption data on fragment in onKeyLoading")},i.loadsuccess=function(e,t,r){var n=r.frag;n.decryptdata?(this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,delete this.loaders[n.type],this.hls.trigger(u.default.KEY_LOADED,{frag:n})):c.logger.error("after key load, decryptdata unset")},i.loaderror=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},i.loadtimeout=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},n}(f),N="NOT_LOADED",U="APPENDING",B="PARTIAL",F="OK",z=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.BUFFER_APPENDED,u.default.FRAG_BUFFERED,u.default.FRAG_LOADED)||this).bufferPadding=.2,r.fragments=Object.create(null),r.timeRanges=Object.create(null),r.config=t.config,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,f.prototype.destroy.call(this),e.prototype.destroy.call(this)},i.getBufferedFrag=function(e,t){var r=this.fragments,n=Object.keys(r).filter((function(n){var i=r[n];if(i.body.type!==t)return!1;if(!i.buffered)return!1;var a=i.body;return a.startPTS<=e&&e<=a.endPTS}));if(0===n.length)return null;var i=n.pop();return r[i].body},i.detectEvictedFragments=function(e,t){var r=this;Object.keys(this.fragments).forEach((function(n){var i=r.fragments[n];if(i&&i.buffered){var a=i.range[e];if(a)for(var o=a.time,s=0;s<o.length;s++){var l=o[s];if(!r.isTimeBuffered(l.startPTS,l.endPTS,t)){r.removeFragment(i.body);break}}}}))},i.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),n=this.fragments[r];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach((function(r){if(e.hasElementaryStream(r)){var i=t.timeRanges[r];n.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,i)}})))},i.getBufferedTimes=function(e,t,r){for(var n,i,a=[],o=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,i=r.end(s)+this.bufferPadding,e>=n&&t<=i){a.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))});break}if(e<i&&t>n)a.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))}),o=!0;else if(t<=n)break}return{time:a,partial:o}},i.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},i.getPartialFragment=function(e){var t,r,n,i=this,a=null,o=0;return Object.keys(this.fragments).forEach((function(s){var l=i.fragments[s];i.isPartial(l)&&(r=l.body.startPTS-i.bufferPadding,n=l.body.endPTS+i.bufferPadding,e>=r&&e<=n&&(t=Math.min(e-r,n-e),o<=t&&(a=l.body,o=t)))})),a},i.getState=function(e){var t=this.getFragmentKey(e),r=this.fragments[t],n=N;return void 0!==r&&(n=r.buffered?!0===this.isPartial(r)?B:F:U),n},i.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},i.isTimeBuffered=function(e,t,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},i.onFragLoaded=function(e){var t=e.frag;Object(l.isFiniteNumber)(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},i.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)}))},i.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},i.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},i.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},i.removeAllFragments=function(){this.fragments=Object.create(null)},n}(f),V={search:function(e,t){for(var r=0,n=e.length-1,i=null,a=null;r<=n;){var o=t(a=e[i=(r+n)/2|0]);if(o>0)r=i+1;else{if(!(o<0))return a;n=i-1}}return null}},$=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,n=0;n<r.length;n++)if(t>=r.start(n)&&t<=r.end(n))return!0}catch(i){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var n,i=e.buffered,a=[];for(n=0;n<i.length;n++)a.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(a,t,r)}}catch(o){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){e.sort((function(e,t){var r=e.start-t.start;return r||t.end-e.end}));var n=[];if(r)for(var i=0;i<e.length;i++){var a=n.length;if(a){var o=n[a-1].end;e[i].start-o<r?e[i].end>o&&(n[a-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var s,l=0,u=t,c=t,d=0;d<n.length;d++){var f=n[d].start,p=n[d].end;if(t+r>=f&&t<p)u=f,l=(c=p)-t;else if(t+r<f){s=f;break}}return{len:l,start:u,end:c,nextStart:s}},e}(),W=r("./node_modules/eventemitter3/index.js"),K=r("./node_modules/webworkify-webpack/index.js"),H=r("./src/demux/demuxer-inline.js");function G(){return window.MediaSource||window.WebKitMediaSource}var Z=r("./src/utils/get-self-scope.js"),q=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.trigger=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.emit.apply(this,[e,e].concat(r))},n}(W.EventEmitter),X=Object(Z.getSelfScope)(),Y=G()||{isTypeSupported:function(){return!1}},Q=function(){function e(e,t){var r=this;this.hls=e,this.id=t;var n=this.observer=new q,i=e.config,a=function(t,n){(n=n||{}).frag=r.frag,n.id=r.id,e.trigger(t,n)};n.on(u.default.FRAG_DECRYPTED,a),n.on(u.default.FRAG_PARSING_INIT_SEGMENT,a),n.on(u.default.FRAG_PARSING_DATA,a),n.on(u.default.FRAG_PARSED,a),n.on(u.default.ERROR,a),n.on(u.default.FRAG_PARSING_METADATA,a),n.on(u.default.FRAG_PARSING_USERDATA,a),n.on(u.default.INIT_PTS_FOUND,a);var o={mp4:Y.isTypeSupported("video/mp4"),mpeg:Y.isTypeSupported("audio/mpeg"),mp3:Y.isTypeSupported('audio/mp4; codecs="mp3"')},l=navigator.vendor;if(i.enableWorker&&"undefined"!==typeof Worker){var d;c.logger.log("demuxing in webworker");try{d=this.w=K("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),d.addEventListener("message",this.onwmsg),d.onerror=function(t){e.trigger(u.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},d.postMessage({cmd:"init",typeSupported:o,vendor:l,id:t,config:JSON.stringify(i)})}catch(f){c.logger.warn("Error in worker:",f),c.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),d&&X.URL.revokeObjectURL(d.objectURL),this.demuxer=new H.default(n,o,i,l),this.w=void 0}}else this.demuxer=new H.default(n,o,i,l)}var t=e.prototype;return t.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.push=function(e,t,r,n,i,a,o,s){var u=this.w,d=Object(l.isFiniteNumber)(i.startPTS)?i.startPTS:i.start,f=i.decryptdata,p=this.frag,h=!(p&&i.cc===p.cc),g=!(p&&i.level===p.level),m=p&&i.sn===p.sn+1,v=!g&&m;if(h&&c.logger.log(this.id+":discontinuity detected"),g&&c.logger.log(this.id+":switch detected"),this.frag=i,u)u.postMessage({cmd:"demux",data:e,decryptdata:f,initSegment:t,audioCodec:r,videoCodec:n,timeOffset:d,discontinuity:h,trackSwitch:g,contiguous:v,duration:a,accurateTimeOffset:o,defaultInitPTS:s},e instanceof ArrayBuffer?[e]:[]);else{var y=this.demuxer;y&&y.push(e,f,t,r,n,d,h,g,v,a,o,s)}},t.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":X.URL.revokeObjectURL(this.w.objectURL);break;case u.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},e}();function J(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}}function ee(e,t,r){var n=e[t],i=e[r],a=i.startPTS;if(Object(l.isFiniteNumber)(a))r>t?(n.duration=a-n.start,n.duration<0&&c.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(i.duration=n.start-a,i.duration<0&&c.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"));else if(r>t){var o=n.cc===i.cc;i.start=n.start+(o&&n.minEndPTS?n.minEndPTS-n.start:n.duration)}else i.start=Math.max(n.start-i.duration,0)}function te(e,t,r,n,i,a){var o=r,s=n;if(Object(l.isFiniteNumber)(t.startPTS)){var u=Math.abs(t.startPTS-r);Object(l.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(u,t.deltaPTS):t.deltaPTS=u,o=Math.max(r,t.startPTS),r=Math.min(r,t.startPTS),s=Math.min(n,t.endPTS),n=Math.max(n,t.endPTS),i=Math.min(i,t.startDTS),a=Math.max(a,t.endDTS)}var c=r-t.start;t.start=t.startPTS=r,t.maxStartPTS=o,t.endPTS=n,t.minEndPTS=s,t.startDTS=i,t.endDTS=a,t.duration=n-r;var d,f,p,h=t.sn;if(!e||h<e.startSN||h>e.endSN)return 0;for(d=h-e.startSN,(f=e.fragments)[d]=t,p=d;p>0;p--)ee(f,p,p-1);for(p=d;p<f.length-1;p++)ee(f,p,p+1);return e.PTSKnown=!0,c}function re(e,t){t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment);var r,n=0;if(ne(e,t,(function(e,i){n=e.cc-i.cc,Object(l.isFiniteNumber)(e.startPTS)&&(i.start=i.startPTS=e.startPTS,i.endPTS=e.endPTS,i.duration=e.duration,i.backtracked=e.backtracked,i.dropped=e.dropped,r=i),t.PTSKnown=!0})),t.PTSKnown){if(n){c.logger.log("discontinuity sliding from playlist, take drift into account");for(var i=t.fragments,a=0;a<i.length;a++)i[a].cc+=n}r?te(t,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):function(e,t){var r=t.startSN-e.startSN,n=e.fragments,i=t.fragments;if(!(r<0||r>n.length))for(var a=0;a<i.length;a++)i[a].start+=n[r].start}(e,t),t.PTSKnown=e.PTSKnown}}function ne(e,t,r){if(e&&t)for(var n=Math.max(e.startSN,t.startSN)-t.startSN,i=Math.min(e.endSN,t.endSN)-t.startSN,a=t.startSN-e.startSN,o=n;o<=i;o++){var s=e.fragments[a+o],l=t.fragments[o];if(!s||!l)break;r(s,l,o)}}function ie(e,t,r){var n=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),i=n/2;return e&&t.endSN===e.endSN&&(n=i),r&&(n=Math.max(i,n-(window.performance.now()-r))),Math.round(n)}var ae={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}};function oe(e,t){t.fragments.forEach((function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}})),t.PTSKnown=!0}function se(e,t,r){!function(e,t,r){if(function(e,t,r){var n=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(n=!0),n}(e,r,t)){var n=function(e,t){var r=e.fragments,n=t.fragments;if(n.length&&r.length){var i=function(e,t){for(var r=null,n=0;n<e.length;n+=1){var i=e[n];if(i&&i.cc===t){r=i;break}}return r}(r,n[0].cc);if(i&&(!i||i.startPTS))return i;c.logger.log("No frag in previous level to align on")}else c.logger.log("No fragments to align")}(r.details,t);n&&(c.logger.log("Adjusting PTS using last level due to CC increase within current level"),oe(n.start,t))}}(e,r,t),!r.PTSKnown&&t&&function(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var r=t.fragments[0].programDateTime,n=(e.fragments[0].programDateTime-r)/1e3+t.fragments[0].start;Object(l.isFiniteNumber)(n)&&(c.logger.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),oe(n,e))}}(r,t.details)}function le(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!Object(l.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;r=r||0;for(var n=0;n<e.length;++n){var i=e[n];if(de(t,r,i))return i}return null}function ue(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=null;if(e?i=t[e.sn-t[0].sn+1]:0===r&&0===t[0].start&&(i=t[0]),i&&0===ce(r,n,i))return i;var a=V.search(t,ce.bind(null,r,n));return a||i}function ce(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function de(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>e}var fe=function(){function e(e,t,r,n){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var t=e.prototype;return t.poll=function(e){var t=this.config,r=this.media,n=this.stalled,i=r.currentTime,a=r.seeking,o=this.seeking&&!a,s=!this.seeking&&a;if(this.seeking=a,i===e){if((s||o)&&(this.stalled=null),!r.paused&&!r.ended&&0!==r.playbackRate&&r.buffered.length){var l=$.bufferInfo(r,i,0),u=l.len>0,d=l.nextStart||0;if(u||d){if(a){var f=l.len>2,p=!d||d-i>2&&!this.fragmentTracker.getPartialFragment(i);if(f||p)return;this.moved=!1}if(!this.moved&&this.stalled){var h=Math.max(d,l.start||0)-i;if(h>0&&h<=2)return void this._trySkipBufferHole(null)}var g=self.performance.now();if(null!==n){var m=g-n;!a&&m>=250&&this._reportStall(l.len);var v=$.bufferInfo(r,i,t.maxBufferHole);this._tryFixBufferStall(v,m)}else this.stalled=g}}}else if(this.moved=!0,null!==n){if(this.stallReported){var y=self.performance.now()-n;c.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(y)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,a=n.getPartialFragment(i);a&&this._trySkipBufferHole(a)||e.len>r.maxBufferHole&&t>1e3*r.highBufferWatchdogPeriod&&(c.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,c.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,r=this.hls,n=this.media,i=n.currentTime,a=0,o=0;o<n.buffered.length;o++){var l=n.buffered.start(o);if(i+t.maxBufferHole>=a&&i<l){var d=Math.max(l+.05,n.currentTime+.1);return c.logger.warn("skipping hole, adjusting currentTime from "+i+" to "+d),this.moved=!0,this.stalled=null,n.currentTime=d,e&&r.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+d,frag:e}),d}a=n.buffered.end(o)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=r.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<e.nudgeMaxRetry){var a=n+i*e.nudgeOffset;c.logger.warn("Nudging 'currentTime' from "+n+" to "+a),r.currentTime=a,t.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else c.logger.error("Playhead still not moving while enough data buffered @"+n+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var he=function(e){var t,r;function n(t){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(r=e.call.apply(e,[this,t].concat(i))||this)._boundTick=void 0,r._tickTimer=null,r._tickInterval=null,r._tickCallCount=0,r._boundTick=r.tick.bind(pe(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},i.doTick=function(){},n}(f),ge="STOPPED",me="STARTING",ve="IDLE",ye="PAUSED",be="KEY_LOADING",ke="FRAG_LOADING",_e="FRAG_LOADING_WAITING_RETRY",Ee="WAITING_TRACK",we="PARSING",Se="PARSED",Te="BUFFER_FLUSHING",xe="ENDED",Oe="ERROR",Pe="WAITING_INIT_PTS",Ae="WAITING_LEVEL",Ce=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.doTick=function(){},i.startLoad=function(){},i.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ge},i._streamEnded=function(e,t){var r=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var i=n.getState(r);return i===B||i===F}return!1},i.onMediaSeeking=function(){var e=this.config,t=this.media,r=this.mediaBuffer,n=this.state,i=t?t.currentTime:null,a=$.bufferInfo(r||t,i,this.config.maxBufferHole);if(c.logger.log("media seeking to "+(Object(l.isFiniteNumber)(i)?i.toFixed(3):i)),n===ke){var o=this.fragCurrent;if(0===a.len&&o){var s=e.maxFragLookUpTolerance,u=o.start-s,d=o.start+o.duration+s;i<u||i>d?(o.loader&&(c.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ve):c.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else n===xe&&(0===a.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=ve);t&&(this.lastCurrentTime=i),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=i),this.tick()},i.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},i.onHandlerDestroyed=function(){this.state=ge,this.fragmentTracker=null},i.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},n}(he);function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ie,Re=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.MANIFEST_LOADING,u.default.MANIFEST_PARSED,u.default.LEVEL_LOADED,u.default.LEVELS_UPDATED,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.FRAG_LOAD_EMERGENCY_ABORTED,u.default.FRAG_PARSING_INIT_SEGMENT,u.default.FRAG_PARSING_DATA,u.default.FRAG_PARSED,u.default.ERROR,u.default.AUDIO_TRACK_SWITCHING,u.default.AUDIO_TRACK_SWITCHED,u.default.BUFFER_CREATED,u.default.BUFFER_APPENDED,u.default.BUFFER_FLUSHED)||this).fragmentTracker=r,n.config=t.config,n.audioCodecSwap=!1,n._state=ge,n.stallReported=!1,n.gapController=null,n.altAudio=!1,n.audioOnly=!1,n.bitrateTest=!1,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,o,d,f=n.prototype;return f.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(c.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=ve,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=ge},f.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},f.doTick=function(){switch(this.state){case Te:this.fragLoadError=0;break;case ve:this._doTickIdle();break;case Ae:var e=this.levels[this.level];e&&e.details&&(this.state=ve);break;case _e:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(c.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ve)}this._checkBuffer(),this._checkFragmentChanged()},f._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch))if(this.altAudio&&this.audioOnly)this.demuxer.frag=null;else{var n;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,a=this.levels[i];if(a){var o,s=a.bitrate;o=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,o=Math.min(o,t.maxMaxBufferLength);var l=n<t.maxBufferHole?Math.max(2,t.maxBufferHole):t.maxBufferHole,d=$.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,l),f=d.len;if(!(f>=o)){c.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var p=a.details;if(!p||p.live&&this.levelLastLoaded!==i)this.state=Ae;else{if(this._streamEnded(d,p)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(u.default.BUFFER_EOS,h),void(this.state=xe)}this._fetchPayloadOrEos(n,d,p)}}}}},f._fetchPayloadOrEos=function(e,t,r){var n=this.fragPrevious,i=(this.level,r.fragments),a=i.length;if(0!==a){var o,s=i[0].start,l=i[a-1].start+i[a-1].duration,u=t.end;if(r.initSegment&&!r.initSegment.data)o=r.initSegment;else if(r.live){var d=this.config.initialLiveManifestSize;if(a<d)return void c.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(o=this._ensureFragmentAtLivePoint(r,u,s,l,n,i)))return}else u<s&&(o=i[0]);o||(o=this._findFragment(s,n,a,i,u,l,r)),o&&(o.encrypted?this._loadKey(o,r):this._loadFragment(o,r,e,u))}},f._ensureFragmentAtLivePoint=function(e,t,r,n,i,a){var o,s=this.hls.config,u=this.media,d=1/0;if(void 0!==s.liveMaxLatencyDuration?d=s.liveMaxLatencyDuration:Object(l.isFiniteNumber)(s.liveMaxLatencyDurationCount)&&(d=s.liveMaxLatencyDurationCount*e.targetduration),t<Math.max(r-s.maxFragLookUpTolerance,n-d)){var f=this.liveSyncPosition=this.computeLivePosition(r,e);t=f,u&&!u.paused&&u.readyState&&u.duration>f&&f>u.currentTime&&(c.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),u.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>n&&u&&u.readyState)return null;if(this.startFragRequested&&!e.PTSKnown&&i)if(e.hasProgramDateTime)c.logger.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),o=le(a,i.endProgramDateTime,s.maxFragLookUpTolerance);else{var p=i.sn+1;if(p>=e.startSN&&p<=e.endSN){var h=a[p-e.startSN];i.cc===h.cc&&(o=h,c.logger.log("live playlist, switching playlist, load frag with next SN: "+o.sn))}o||(o=V.search(a,(function(e){return i.cc-e.cc})))&&c.logger.log("live playlist, switching playlist, load frag with same CC: "+o.sn)}return o},f._findFragment=function(e,t,r,n,i,a,o){var s,l=this.hls.config;if(s=i<a?ue(t,n,i,i>a-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance):n[r-1]){var u=s.sn-o.startSN,d=t&&s.level===t.level,f=n[u-1],p=n[u+1];if(t&&s.sn===t.sn)if(d&&!s.backtracked)if(s.sn<o.endSN){var h=t.deltaPTS;h&&h>l.maxBufferHole&&t.dropped&&u?(s=f,c.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=p,this.fragmentTracker.getState(s)!==F&&c.logger.log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(p&&p.backtracked?(c.logger.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(c.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,f?(s=f).backtracked=!0:u&&(s=null)))}return s},f._loadKey=function(e,t){c.logger.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], level "+this.level),this.state=be,this.hls.trigger(u.default.KEY_LOADING,{frag:e})},f._loadFragment=function(e,t,r,n){var i=this.fragmentTracker.getState(e);this.fragCurrent=e,"initSegment"!==e.sn&&(this.startFragRequested=!0),Object(l.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||i===N||i===B?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,c.logger.log("Loading "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(r.toFixed(3))+", bufferEnd: "+parseFloat(n.toFixed(3))),this.hls.trigger(u.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new Q(this.hls,"main")),this.state=ke):i===U&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},f.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,a.MAIN)},f.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},f._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),$.isBuffered(r,t)?e=this.getBufferedFrag(t):$.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var n=e;if(n!==this.fragPlaying){this.hls.trigger(u.default.FRAG_CHANGED,{frag:n});var i=n.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(u.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=n}}},f.immediateLevelSwitch=function(){if(c.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e,t=this.media;t?(e=t.paused)||t.pause():e=!0,this.previouslyPaused=e}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},f.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,e.currentTime>0&&$.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},f.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,r=this.getBufferedFrag(e.currentTime);if(r&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)t=0;else{var n=this.hls.nextLoadLevel,i=this.levels[n],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*i.bitrate/(1e3*a)+1:0}var o=this.getBufferedFrag(e.currentTime+t);if(o){var s=this.followingBufferedFrag(o);if(s){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null;var u=Math.max(o.endPTS,s.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,s.duration));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}},f.flushMainBuffer=function(e,t){this.state=Te;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(u.default.BUFFER_FLUSHING,r)},f.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new fe(r,t,this.fragmentTracker,this.hls)},f.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(c.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},f.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;Object(l.isFiniteNumber)(t)&&c.logger.log("media seeked to "+t.toFixed(3)),this.tick()},f.onManifestLoading=function(){c.logger.log("trigger BUFFER_RESET"),this.hls.trigger(u.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},f.onManifestParsed=function(e){var t,r=!1,n=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&c.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=e.altAudio,this.levels=e.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},f.onLevelLoaded=function(e){var t=e.details,r=e.level,n=this.levels[this.levelLastLoaded],i=this.levels[r],a=t.totalduration,o=0;if(c.logger.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+a),t.live||i.details&&i.details.live){var s=i.details;s&&t.fragments.length>0?(re(s,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),t.PTSKnown&&Object(l.isFiniteNumber)(o)?c.logger.log("live playlist sliding:"+o.toFixed(3)):(c.logger.log("live playlist - outdated PTS, unknown sliding"),se(this.fragPrevious,n,t))):(c.logger.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,se(this.fragPrevious,n,t))}else t.PTSKnown=!1;if(i.details=t,this.levelLastLoaded=r,this.hls.trigger(u.default.LEVEL_UPDATED,{details:t,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=t.startTimeOffset;Object(l.isFiniteNumber)(d)?(d<0&&(c.logger.log("negative start time offset "+d+", count from end of last fragment"),d=o+a+d),c.logger.log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d):t.live?(this.startPosition=this.computeLivePosition(o,t),c.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===Ae&&(this.state=ve),this.tick()},f.onKeyLoaded=function(){this.state===be&&(this.state=ve,this.tick())},f.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,n=this.levels,i=this.media,a=e.frag;if(this.state===ke&&t&&"main"===a.type&&a.level===t.level&&a.sn===t.sn){var o=e.stats,s=n[t.level],l=s.details;if(this.bitrateTest=!1,this.stats=o,c.logger.log("Loaded "+t.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+t.level),a.bitrateTest&&r.nextLoadLevel)this.state=ve,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),r.trigger(u.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=ve,o.tparsed=o.tbuffered=window.performance.now(),l.initSegment.data=e.payload,r.trigger(u.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else{c.logger.log("Parsing "+t.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+t.level+", cc "+t.cc),this.state=we,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var d=!(i&&i.seeking)&&(l.PTSKnown||!l.live),f=l.initSegment?l.initSegment.data:[],p=this._getAudioCodec(s);(this.demuxer=this.demuxer||new Q(this.hls,"main")).push(e.payload,f,p,s.videoCodec,t,l.totalduration,d)}}this.fragLoadError=0},f.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===we){var n,i,a=e.tracks;if(this.audioOnly=a.audio&&!a.video,this.altAudio&&!this.audioOnly&&delete a.audio,i=a.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(c.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(o="mp4a.40.2",c.logger.log("Android: force audio codec to "+o)),i.levelCodec=o,i.id=e.id}for(n in(i=a.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(u.default.BUFFER_CODECS,a),a){i=a[n],c.logger.log("main track:"+n+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var l=i.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(u.default.BUFFER_APPENDING,{type:n,data:l,parent:"main",content:"initSegment"}))}this.tick()}},f.onFragParsingData=function(e){var t=this,r=this.fragCurrent,n=e.frag;if(r&&"main"===e.id&&n.sn===r.sn&&n.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===we){var i=this.levels[this.level],a=r;if(Object(l.isFiniteNumber)(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),!0===e.hasAudio&&a.addElementaryStream(g.AUDIO),!0===e.hasVideo&&a.addElementaryStream(g.VIDEO),c.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)c.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=i.details;if(!o||a.sn!==o.startSN)return c.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=ve,this.fragPrevious=a,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();c.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var s=te(i.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),d=this.hls;d.trigger(u.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:s,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(r){r&&r.length&&t.state===we&&(t.appended=!0,t.pendingBuffering=!0,d.trigger(u.default.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))})),this.tick()}},f.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===we&&(this.stats.tparsed=window.performance.now(),this.state=Se,this._checkAppendedParsed())},f.onAudioTrackSwitching=function(e){var t=this.altAudio,r=!!e.url,n=e.id;if(!r){if(this.mediaBuffer!==this.media){c.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(c.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ve}var a=this.hls;t&&a.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:n})}},f.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(c.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},f.onBufferCreated=function(e){var t,r,n=e.tracks,i=!1;for(var a in n){var o=n[a];"main"===o.id?(r=a,t=o,"video"===a&&(this.videoBuffer=n[a].buffer)):i=!0}i&&t?(c.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},f.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==we&&t!==Se||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},f._checkAppendedParsed=function(){if(this.state===Se&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;c.logger.log("main buffered : "+ae.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(u.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=ve}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},f.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var r=!!this.media&&$.isBuffered(this.media,this.media.currentTime)&&$.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);c.logger.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=_e}else c.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Oe;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Oe&&(e.fatal?(this.state=Oe,c.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==Ae||(this.state=ve));break;case s.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==we&&this.state!==Se||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ve):(c.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},f._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,c.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},f._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},f.onFragLoadEmergencyAborted=function(){this.state=ve,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},f.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;if(e){var t=this.audioOnly?g.AUDIO:g.VIDEO;this.fragmentTracker.detectEvictedFragments(t,e.buffered)}this.state=ve,this.fragPrevious=null},f.onLevelsUpdated=function(e){this.levels=e.levels},f.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},f._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=this.startPosition;if(t!==r&&r>=0){if(e.seeking)return void c.logger.log("could not seek to "+r+", already seeking at "+t);var n=(e.buffered.length?e.buffered.start(0):0)-r;n>0&&n<this.config.maxBufferHole&&(c.logger.log("adjusting start position by "+n+" to match buffer start"),r+=n,this.startPosition=r),c.logger.log("seek to target start position "+r+" from current time "+t+". ready state "+e.readyState),e.currentTime=r}},f._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(c.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},i=n,(o=[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,c.logger.log("main stream-controller: "+t+"->"+e),this.hls.trigger(u.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}])&&Me(i.prototype,o),d&&Me(i,d),n}(Ce);function De(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var je=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.AUDIO_TRACK_SWITCHED,u.default.FRAG_LOADED,u.default.ERROR)||this).canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,Ie=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,o,l=n.prototype;return l.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},l.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},l.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},l.stopLoad=function(){this.canload=!1},l.onManifestLoaded=function(e){var t,r=[],n=[],i={},a=null,o=!1,l=!1;if(e.levels.forEach((function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,o=o||!!e.videoCodec,l=l||!!e.audioCodec,Ie&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(a=i[e.bitrate])?a.url.push(e.url):(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&J(a||e,"audio",t.AUDIO),t.SUBTITLES&&J(a||e,"text",t.SUBTITLES))})),o&&l&&(r=r.filter((function(e){return!!e.videoCodec}))),r=r.filter((function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||T(t,"audio"))&&(!r||T(r,"video"))})),e.audioTracks&&(n=e.audioTracks.filter((function(e){return!e.audioCodec||T(e.audioCodec,"audio")}))).forEach((function(e,t){e.id=t})),r.length>0){t=r[0].bitrate,r.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=r;for(var d=0;d<r.length;d++)if(r[d].bitrate===t){this._firstLevel=d,c.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}var f=l&&!o;this.hls.trigger(u.default.MANIFEST_PARSED,{levels:r,audioTracks:n,firstLevel:this._firstLevel,stats:e.stats,audio:l,video:o,altAudio:!f&&n.some((function(e){return!!e.url}))})}else this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},l.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){c.logger.log("switching to level "+e),this.currentLevelIndex=e;var n=t[e];n.level=e,r.trigger(u.default.LEVEL_SWITCHING,n)}var i=t[e],a=i.details;if(!a||a.live){var o=i.urlId;r.trigger(u.default.LEVEL_LOADING,{url:i.url[o],level:e,id:o})}}else r.trigger(u.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},l.onError=function(e){if(e.fatal)e.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,n=!1;switch(e.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,n=!0;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case s.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,n)}},l.recoverLevel=function(e,t,r,n){var i,a,o,s=this,l=this.hls.config,u=e.details,d=this._levels[t];if(d.loadError++,d.fragmentError=n,r){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return c.logger.error("level controller, cannot recover from "+u+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),a),e.levelRetry=!0,this.levelRetryCount++,c.logger.warn("level controller, "+u+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(r||n)&&((i=d.url.length)>1&&d.loadError<i?(d.urlId=(d.urlId+1)%i,d.details=void 0,c.logger.warn("level controller, "+u+" for level "+t+": switching to redundant URL-id "+d.urlId)):-1===this.manualLevelIndex?(o=0===t?this._levels.length-1:t-1,c.logger.warn("level controller, "+u+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):n&&(c.logger.warn("level controller, "+u+": reload a fragment"),this.currentLevelIndex=null))},l.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},l.onLevelLoaded=function(e){var t=this,r=e.level,n=e.details;if(r===this.currentLevelIndex){var i=this._levels[r];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),n.live){var a=ie(i.details,n,e.stats.trequest);c.logger.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),a)}else this.clearTimer()}},l.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=0;i<r.audioGroupIds.length;i++)if(r.audioGroupIds[i]===t){n=i;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},l.loadLevel=function(){if(c.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"===typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,n=e.url[r];c.logger.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(u.default.LEVEL_LOADING,{url:n,level:t,id:r})}}},l.removeLevel=function(e,t){var r=this.levels.filter((function(r,n){return n!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter((function(e,r){return r!==t})),r.urlId=0,!0)})).map((function(e,t){var r=e.details;return r&&r.fragments&&r.fragments.forEach((function(e){e.level=t})),e}));this._levels=r,this.hls.trigger(u.default.LEVELS_UPDATED,{levels:r})},i=n,(a=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&De(i.prototype,a),o&&De(i,o),n}(f),Le=r("./src/demux/id3.js");function Ne(e,t){var r;try{r=new Event("addtrack")}catch(n){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}function Ue(e){if(null===e||void 0===e?void 0:e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}var Be=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.FRAG_PARSING_METADATA,u.default.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,r.media=void 0,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){f.prototype.destroy.call(this)},i.onMediaAttached=function(e){this.media=e.media,this.media},i.onMediaDetaching=function(){Ue(this.id3Track),this.id3Track=void 0,this.media=void 0},i.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return Ne(r,this.media),r}return this.media.addTextTrack("metadata","id3")},i.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<r.length;i++){var a=Le.default.getID3Frames(r[i].data);if(a){var o=Math.max(r[i].pts,0),s=i<r.length-1?r[i+1].pts:t.endPTS;s||(s=t.start+t.duration),s-o<=0&&(s=o+.25);for(var l=0;l<a.length;l++){var u=a[l];if(!Le.default.isTimeStampFrame(u)){var c=new n(o,s,"");c.value=u,this.id3Track.addCue(c)}}}}},i.onLiveBackBufferReached=function(e){var t=e.bufferEnd,r=this.id3Track;if(r&&r.cues&&r.cues.length){var n=function(e,t){if(t<e[0].endTime)return e[0];if(t>e[e.length-1].endTime)return e[e.length-1];for(var r=0,n=e.length-1;r<=n;){var i=Math.floor((n+r)/2);if(t<e[i].endTime)n=i-1;else{if(!(t>e[i].endTime))return e[i];r=i+1}}return e[r].endTime-t<t-e[n].endTime?e[r]:e[n]}(r.cues,t);if(n)for(;r.cues[0]!==n;)r.removeCue(r.cues[0])}},n}(f),Fe=function(){function e(e){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}var t=e.prototype;return t.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),ze=function(){function e(e,t,r,n){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=e,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Fe(t),this.fast_=new Fe(r)}var t=e.prototype;return t.sample=function(e,t){var r=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $e=window.performance,We=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR)||this).lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=t,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,o,d=n.prototype;return d.destroy=function(){this.clearTimer(),f.prototype.destroy.call(this)},d.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r,n,i=this.hls,a=i.config,o=t.level;i.levels[o].details.live?(r=a.abrEwmaFastLive,n=a.abrEwmaSlowLive):(r=a.abrEwmaFastVoD,n=a.abrEwmaSlowVoD),this._bwEstimator=new ze(i,n,r,a.abrEwmaDefaultEstimate)}},d._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var n=r.loader;if(!n||n.stats&&n.stats.aborted)return c.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var i=n.stats;if(t&&i&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var a=$e.now()-i.trequest,o=Math.abs(t.playbackRate);if(a>500*r.duration/o){var s=e.levels,l=Math.max(1,i.bw?i.bw/8:1e3*i.loaded/a),d=s[r.level];if(!d)return;var f=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,p=i.total?i.total:Math.max(i.loaded,Math.round(r.duration*f/8)),h=t.currentTime,g=(p-i.loaded)/l,m=($.bufferInfo(t,h,e.config.maxBufferHole).end-h)/o;if(m<2*r.duration/o&&g>m){var v,y=e.minAutoLevel;for(v=r.level-1;v>y;v--){var b=s[v].realBitrate?Math.max(s[v].realBitrate,s[v].bitrate):s[v].bitrate;if(r.duration*b/(6.4*l)<m)break}void 0<g&&(c.logger.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+g.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=v,this._bwEstimator.sample(a,i.loaded),n.abort(),this.clearTimer(),e.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:i}))}}}}},d.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&Object(l.isFiniteNumber)(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[t.level],n=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,i=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:n,duration:i},r.realBitrate=Math.round(8*n/i)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},d.onFragBuffered=function(e){var t=e.stats,r=e.frag;if(!0!==t.aborted&&"main"===r.type&&Object(l.isFiniteNumber)(r.sn)&&(!r.bitrateTest||t.tload===t.tbuffered)){var n=t.tparsed-t.trequest;c.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(n,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},d.onError=function(e){switch(e.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},d.clearTimer=function(){clearInterval(this.timer),this.timer=null},d._findBestLevel=function(e,t,r,n,i,a,o,s,l){for(var u=i;u>=n;u--){var d=l[u];if(d){var f=d.details,p=f?f.totalduration/f.fragments.length:t,h=!!f&&f.live,g=void 0;g=u<=e?o*r:s*r;var m=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,v=m*p/g;if(c.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(g)+"/"+m+"/"+p+"/"+a+"/"+v),g>m&&(!v||h&&!this.bitrateTestDelay||v<a))return u}}return-1},i=n,(a=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(-1!==e&&(!t||!t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,n=e.config,i=e.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,u=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,f=($.bufferInfo(a,l,n.maxBufferHole).end-l)/u,p=this._findBestLevel(o,s,d,i,t,f,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(p>=0)return p;c.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,g=n.abrBandWidthFactor,m=n.abrBandWidthUpFactor;if(0===f){var v=this.bitrateTestDelay;v&&(h=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-v,c.logger.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),g=m=1)}return p=this._findBestLevel(o,s,d,i,t,f+h,g,m,r),Math.max(p,0)}}])&&Ve(i.prototype,a),o&&Ve(i,o),n}(f),Ke=G(),He=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_PTS_UPDATED,u.default.LEVEL_UPDATED)||this)._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r._needsFlush=!1,r._needsEos=!1,r.config=void 0,r.audioTimestampOffset=void 0,r.bufferCodecEventsExpected=0,r._bufferCodecEventsTotal=0,r.media=null,r.mediaSource=null,r.segments=[],r.parent=void 0,r.appending=!1,r.appended=0,r.appendError=0,r.flushBufferCounter=0,r.tracks={},r.pendingTracks={},r.sourceBuffer={},r.flushRange=[],r._onMediaSourceOpen=function(){c.logger.log("media source opened"),r.hls.trigger(u.default.MEDIA_ATTACHED,{media:r.media});var e=r.mediaSource;e&&e.removeEventListener("sourceopen",r._onMediaSourceOpen),r.checkPendingTracks()},r._onMediaSourceClose=function(){c.logger.log("media source closed")},r._onMediaSourceEnded=function(){c.logger.log("media source ended")},r._onSBUpdateEnd=function(){if(r.audioTimestampOffset&&r.sourceBuffer.audio){var e=r.sourceBuffer.audio;c.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+r.audioTimestampOffset),e.timestampOffset=r.audioTimestampOffset,delete r.audioTimestampOffset}r._needsFlush&&r.doFlush(),r._needsEos&&r.checkEos(),r.appending=!1;var t=r.parent,n=r.segments.reduce((function(e,r){return r.parent===t?e+1:e}),0),i={},a=r.sourceBuffer;for(var o in a){var s=a[o];if(!s)throw Error("handling source buffer update end error: source buffer for "+o+" uninitilized and unable to update buffered TimeRanges.");i[o]=s.buffered}r.hls.trigger(u.default.BUFFER_APPENDED,{parent:t,pending:n,timeRanges:i}),r._needsFlush||r.doAppending(),r.updateMediaElementDuration(),0===n&&r.flushLiveBackBuffer()},r._onSBUpdateError=function(e){c.logger.error("sourceBuffer error:",e),r.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.config=t.config,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){f.prototype.destroy.call(this)},i.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(!n)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(n.timestampOffset-e.start)>.1){var i=n.updating;try{n.abort()}catch(a){c.logger.warn("can not abort audio buffer: "+a)}i?this.audioTimestampOffset=e.start:(c.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}},i.onManifestParsed=function(e){var t=2;(e.audio&&!e.video||!e.altAudio)&&(t=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=t,c.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},i.onMediaAttaching=function(e){var t=this.media=e.media;if(t&&Ke){var r=this.mediaSource=new Ke;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},i.onMediaDetaching=function(){c.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(t){c.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):c.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(u.default.MEDIA_DETACHED)},i.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},i.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{r&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this._onSBUpdateEnd),r.removeEventListener("error",this._onSBUpdateError))}catch(n){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},i.onBufferCodecs=function(e){var t=this;Object.keys(this.sourceBuffer).length||(Object.keys(e).forEach((function(r){t.pendingTracks[r]=e[r]})),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},i.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(var n in e)if(!t[n]){var i=e[n];if(!i)throw Error("source buffer exists for track "+n+", however track does not");var a=i.levelCodec||i.codec,o=i.container+";codecs="+a;c.logger.log("creating sourceBuffer("+o+")");try{var l=t[n]=r.addSourceBuffer(o);l.addEventListener("updateend",this._onSBUpdateEnd),l.addEventListener("error",this._onSBUpdateError),this.tracks[n]={buffer:l,codec:a,id:i.id,container:i.container,levelCodec:i.levelCodec}}catch(d){c.logger.error("error while trying to add sourceBuffer:"+d.message),this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:d,mimeType:o})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:this.tracks})},i.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},i.onBufferEos=function(e){for(var t in this.sourceBuffer)if(!e.type||e.type===t){var r=this.sourceBuffer[t];r&&!r.ended&&(r.ended=!0,c.logger.log(t+" sourceBuffer now EOS"))}this.checkEos()},i.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var n=e[r];if(n){if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}}c.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(i){c.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},i.onBufferFlushing=function(e){e.type?this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}):(this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"video"}),this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},i.flushLiveBackBuffer=function(){if(this._live){var e=this.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))if(this.media)for(var t=this.media.currentTime,r=this.sourceBuffer,n=Object.keys(r),i=t-Math.max(e,this._levelTargetDuration),a=n.length-1;a>=0;a--){var o=n[a],s=r[o];if(s){var l=s.buffered;l.length>0&&i>l.start(0)&&this.removeBufferRange(o,s,0,i)&&this.hls.trigger(u.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i})}}else c.logger.error("flushLiveBackBuffer called without attaching media")}},i.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},i.updateMediaElementDuration=function(){var e,t=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer){var n=this.sourceBuffer[r];if(n&&!0===n.updating)return}e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(c.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!Object(l.isFiniteNumber)(e))&&(c.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},i.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var n in r){var i=r[n];i&&(t+=i.buffered.length)}}catch(a){c.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(u.default.BUFFER_FLUSHED)}},i.doAppending=function(){var e=this.config,t=this.hls,r=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(!this.media||this.media.error)return this.segments=[],void c.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var i=r.shift();if(i)try{var a=n[i.type];if(!a)return void this._onSBUpdateEnd();if(a.updating)return void r.unshift(i);a.ended=!1,this.parent=i.parent,a.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0}catch(l){c.logger.error("error while trying to append buffer:"+l.message),r.unshift(i);var o={type:s.ErrorTypes.MEDIA_ERROR,parent:i.parent,details:"",fatal:!1};22===l.code?(this.segments=[],o.details=s.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,o.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.appendErrorMaxRetry&&(c.logger.log("fail "+e.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],o.fatal=!0)),t.trigger(u.default.ERROR,o)}}}},i.flushBuffer=function(e,t,r){var n=this.sourceBuffer;if(!Object.keys(n).length)return!0;var i="null";if(this.media&&(i=this.media.currentTime.toFixed(3)),c.logger.log("flushBuffer,pos/start/end: "+i+"/"+e+"/"+t),this.flushBufferCounter>=this.appended)return c.logger.warn("abort flushing too many retries"),!0;var a=n[r];if(a){if(a.ended=!1,a.updating)return c.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(r,a,e,t))return this.flushBufferCounter++,!1}return c.logger.log("buffer flushed"),!0},i.removeBufferRange=function(e,t,r,n){try{for(var i=0;i<t.buffered.length;i++){var a=t.buffered.start(i),o=t.buffered.end(i),s=Math.max(a,r),l=Math.min(o,n);if(Math.min(l,o)-s>.5){var u="null";return this.media&&(u=this.media.currentTime.toString()),c.logger.log("sb remove "+e+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+u),t.remove(s,l),!0}}}catch(d){c.logger.warn("removeBufferRange failed",d)}return!1},n}(f);function Ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ze=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FPS_DROP_LEVEL_CAPPING,u.default.MEDIA_ATTACHING,u.default.MANIFEST_PARSED,u.default.LEVELS_UPDATED,u.default.BUFFER_CODECS,u.default.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r.clientRect=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,o,s=n.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},s.onFpsDropLevelCapping=function(e){n.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},s.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},s.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onLevelsUpdated=function(e){this.levels=e.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},s.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,i){return n.isLevelAllowed(i,t.restrictedLevels)&&i<=e}));return this.clientRect=null,n.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},s.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,t.width||t.height||(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t},n.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},n.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var n,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=r)&&(n=s,!(i=e[o+1])||n.width!==i.width||n.height!==i.height)){a=o;break}}return a},i=n,o=[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(t){}return e}}],(a=[{key:"mediaWidth",get:function(){return this.getDimensions().width*n.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*n.contentScaleFactor}}])&&Ge(i.prototype,a),o&&Ge(i,o),n}(f),qe=window.performance,Xe=function(e){var t,r;function n(t){return e.call(this,t,u.default.MEDIA_ATTACHING)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},i.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"===typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},i.checkFPS=function(e,t,r){var n=qe.now();if(t){if(this.lastTime){var i=n-this.lastTime,a=r-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*a/i,l=this.hls;if(l.trigger(u.default.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:r}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var d=l.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=d)&&(d-=1,l.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:l.currentLevel}),l.autoLevelCapping=d,l.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},i.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},n}(f),Ye=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}var t=e.prototype;return t.destroy=function(){this.abort(),this.loader=null},t.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e,t=this.context;e=this.loader=new window.XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(e,t.url)}catch(i){e.open("GET",t.url,!0),n(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(i){return void this.callbacks.onError({code:e.status,text:i.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},t.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,n=this.stats,i=this.context,a=this.config;if(!n.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(window.performance.now(),n.trequest)),4===r){var o=t.status;if(o>=200&&o<300){var s,l;n.tload=Math.max(n.tfirst,window.performance.now()),l="arraybuffer"===i.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=l;var u={url:t.responseURL,data:s};this.callbacks.onSuccess(u,n,i,t)}else n.retry>=a.maxRetry||o>=400&&o<499?(c.logger.error(o+" while loading "+i.url),this.callbacks.onError({code:o,text:t.statusText},i,t)):(c.logger.warn(o+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},t.loadtimeout=function(){c.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,t)},e}();function Qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Je=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MANIFEST_LOADING,u.default.MANIFEST_PARSED,u.default.AUDIO_TRACK_LOADED,u.default.AUDIO_TRACK_SWITCHED,u.default.LEVEL_LOADED,u.default.ERROR)||this)._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,o,l=n.prototype;return l.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},l.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(u.default.AUDIO_TRACKS_UPDATED,{audioTracks:t}),this._selectAudioGroup(this.hls.nextLoadLevel)},l.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)c.logger.warn("Invalid audio track id:",e.id);else{if(c.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},l.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},l.onLevelLoaded=function(e){this._selectAudioGroup(e.level)},l.onError=function(e){e.type===s.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(c.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},l._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)c.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)c.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];c.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var r=t.url,n=t.type,i=t.id;this.hls.trigger(u.default.AUDIO_TRACK_SWITCHING,{id:i,type:n,url:r}),this._loadTrackDetailsIfNeeded(t)}},l.doTick=function(){this._updateTrack(this._trackId)},l._selectAudioGroup=function(e){var t=this.hls.levels[e];if(t&&t.audioGroupIds){var r=t.audioGroupIds[t.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},l._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var r=this.tracks[this._trackId],n=null;if(r&&(n=r.name),this._selectDefaultTrack){var i=t.filter((function(e){return e.default}));i.length?t=i:c.logger.warn("No default audio tracks defined")}var a=!1,o=function(){t.forEach((function(t){a||e.audioGroupId&&t.groupId!==e.audioGroupId||n&&n!==t.name||(e._setAudioTrack(t.id),a=!0)}))};o(),a||(n=null,o()),a||(c.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},l._needsTrackLoading=function(e){var t=e.details,r=e.url;return!(t&&!t.live)&&!!r},l._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,r=e.id;c.logger.log("loading audio-track playlist for id: "+r),this.hls.trigger(u.default.AUDIO_TRACK_LOADING,{url:t,id:r})}},l._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,c.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},l._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],r=t.name,n=t.language,i=t.groupId;c.logger.warn("Loading failed on audio track id: "+e+", group-id: "+i+', name/language: "'+r+'" / "'+n+'"');for(var a=e,o=0;o<this.tracks.length;o++)if(!this.trackIdBlacklist[o]&&this.tracks[o].name===r){a=o;break}a!==e?(c.logger.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):c.logger.warn('No fallback audio-track found for name/language: "'+r+'" / "'+n+'"')},i=n,(a=[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1}}])&&Qe(i.prototype,a),o&&Qe(i,o),n}(he);function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var tt=window.performance,rt=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.AUDIO_TRACKS_UPDATED,u.default.AUDIO_TRACK_SWITCHING,u.default.AUDIO_TRACK_LOADED,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.FRAG_PARSING_INIT_SEGMENT,u.default.FRAG_PARSING_DATA,u.default.FRAG_PARSED,u.default.ERROR,u.default.BUFFER_RESET,u.default.BUFFER_CREATED,u.default.BUFFER_APPENDED,u.default.BUFFER_FLUSHED,u.default.INIT_PTS_FOUND)||this).fragmentTracker=r,n.config=t.config,n.audioCodecSwap=!1,n._state=ge,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n.waitingVideoCC=null,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,o,d=n.prototype;return d.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,n=e.initPTS;"main"===t&&(this.initPTS[r]=n,this.videoTrackCC=r,c.logger.log("InitPTS for cc: "+r+" found from main: "+n),this.state===Pe&&this.tick())},d.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(c.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=ve):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=me),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=ge},d.doTick=function(){var e,t,r,n=this.hls,i=n.config;switch(this.state){case Oe:case ye:case Te:break;case me:this.state=Ee,this.loadedmetadata=!1;break;case ve:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,d=e<i.maxBufferHole?Math.max(2,i.maxBufferHole):i.maxBufferHole,f=$.bufferInfo(o,e,d),p=$.bufferInfo(s,e,d),h=f.len,g=f.end,m=this.fragPrevious,v=Math.min(i.maxBufferLength,i.maxMaxBufferLength),y=Math.max(v,p.len),b=this.audioSwitch,k=this.trackId;if((h<y||b)&&k<a.length){if("undefined"===typeof(r=a[k].details)){this.state=Ee;break}if(!b&&this._streamEnded(f,r))return this.hls.trigger(u.default.BUFFER_EOS,{type:"audio"}),void(this.state=xe);var _,E=r.fragments,w=E.length,S=E[0].start,T=E[w-1].start+E[w-1].duration;if(b)if(r.live&&!r.PTSKnown)c.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),g=0;else if(g=e,r.PTSKnown&&e<S){if(!(f.end>S||f.nextStart))return;c.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=S+.05}if(r.initSegment&&!r.initSegment.data)_=r.initSegment;else if(g<=S){if(_=E[0],null!==this.videoTrackCC&&_.cc!==this.videoTrackCC&&(_=function(e,t){return V.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(E,this.videoTrackCC)),r.live&&_.loadIdx&&_.loadIdx===this.fragLoadIdx){var x=f.nextStart?f.nextStart:S;return c.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(x+.05)),void(this.media.currentTime=x+.05)}}else{var O,P=i.maxFragLookUpTolerance,A=m?E[m.sn-E[0].sn+1]:void 0;g<T?(g>T-P&&(P=0),O=A&&!ce(g,P,A)?A:V.search(E,(function(e){return ce(g,P,e)}))):O=E[w-1],O&&(_=O,S=O.start,m&&_.level===m.level&&_.sn===m.sn&&(_.sn<r.endSN?(_=E[_.sn+1-r.startSN],this.fragmentTracker.getState(_)!==F&&c.logger.log("SN just loaded, load next one: "+_.sn)):_=null))}_&&(_.encrypted?(c.logger.log("Loading key for "+_.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+k),this.state=be,n.trigger(u.default.KEY_LOADING,{frag:_})):(this.fragCurrent=_,(b||this.fragmentTracker.getState(_)===N)&&(c.logger.log("Loading "+_.sn+", cc: "+_.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+k+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+e+", bufferEnd: "+g.toFixed(3)),"initSegment"!==_.sn&&(this.startFragRequested=!0),Object(l.isFiniteNumber)(_.sn)&&(this.nextLoadPosition=_.start+_.duration),n.trigger(u.default.FRAG_LOADING,{frag:_}),this.state=ke)))}break;case Ee:(t=this.tracks[this.trackId])&&t.details&&(this.state=ve);break;case _e:var C=tt.now(),M=this.retryDate,I=(o=this.media)&&o.seeking;(!M||C>=M||I)&&(c.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=ve);break;case Pe:var R=this.waitingFragment;if(R){var D=R.frag.cc;if(void 0!==this.initPTS[D])this.waitingFragment=null,this.state=ke,this.onFragLoaded(R);else if(this.videoTrackCC!==this.waitingVideoCC)c.logger.log("Waiting fragment cc ("+D+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var j=$.bufferInfo(this.mediaBuffer,this.media.currentTime,i.maxBufferHole);ce(j.end,i.maxFragLookUpTolerance,R.frag)<0&&(c.logger.log("Waiting fragment cc ("+D+") @ "+R.frag.start+" cancelled because another fragment at "+j.end+" is needed"),this.clearWaitingFragment())}}else this.state=ve}},d.clearWaitingFragment=function(){var e=this.waitingFragment;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=ve)},d.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},d.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(c.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},d.onAudioTracksUpdated=function(e){c.logger.log("audio tracks updated"),this.tracks=e.audioTracks},d.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state=ye,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=ve),this.tick()},d.onAudioTrackLoaded=function(e){var t=e.details,r=e.id,n=this.tracks[r],i=n.details,a=t.totalduration,o=0;if(c.logger.log("track "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+a),t.live||i&&i.live?i&&t.fragments.length>0?(re(i,t),o=t.fragments[0].start,t.PTSKnown?c.logger.log("live audio playlist sliding:"+o.toFixed(3)):c.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,c.logger.log("live audio playlist - first load, unknown sliding")):t.PTSKnown=!1,n.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;Object(l.isFiniteNumber)(s)?(c.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):t.live?(this.startPosition=this.computeLivePosition(o,t),c.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Ee&&(this.state=ve),this.tick()},d.onKeyLoaded=function(){this.state===be&&(this.state=ve,this.tick())},d.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===ke&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var n=this.tracks[this.trackId],i=n.details,a=i.totalduration,o=t.level,s=t.sn,l=t.cc,d=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",f=this.stats=e.stats;if("initSegment"===s)this.state=ve,f.tparsed=f.tbuffered=tt.now(),i.initSegment.data=e.payload,this.hls.trigger(u.default.FRAG_BUFFERED,{stats:f,frag:t,id:"audio"}),this.tick();else{this.state=we,this.appended=!1,this.demuxer||(this.demuxer=new Q(this.hls,"audio"));var p=this.initPTS[l],h=i.initSegment?i.initSegment.data:[];void 0!==p?(this.pendingBuffering=!0,c.logger.log("Demuxing "+s+" of ["+i.startSN+" ,"+i.endSN+"],track "+o),this.demuxer.push(e.payload,h,d,null,t,a,!1,p)):(c.logger.log("Unknown video PTS for cc "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+i.startSN+" ,"+i.endSN+"],track "+o),this.waitingFragment=e,this.waitingVideoCC=this.videoTrackCC,this.state=Pe)}}this.fragLoadError=0},d.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===we){var n,i=e.tracks;if(i.video&&delete i.video,n=i.audio){n.levelCodec=n.codec,n.id=e.id,this.hls.trigger(u.default.BUFFER_CODECS,i),c.logger.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var a=n.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(u.default.BUFFER_APPENDING,o))}this.tick()}}},d.onFragParsingData=function(e){var t=this,r=this.fragCurrent,n=e.frag;if(r&&"audio"===e.id&&"audio"===e.type&&n.sn===r.sn&&n.level===r.level&&this.state===we){var i=this.trackId,a=this.tracks[i],o=this.hls;Object(l.isFiniteNumber)(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),r.addElementaryStream(g.AUDIO),c.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),te(a.details,r,e.startPTS,e.endPTS);var d=this.media,f=!1;if(this.audioSwitch)if(d&&d.readyState){var p=d.currentTime;c.logger.log("switching audio track : currentTime:"+p),p>=e.startPTS&&(c.logger.log("switching audio track : flushing all audio"),this.state=Te,o.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),f=!0,this.audioSwitch=!1,o.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,o.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:i});var h=this.pendingData;if(!h)return c.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&t.length&&h.push({type:e.type,data:t,parent:"audio",content:"data"})})),!f&&h.length&&(h.forEach((function(e){t.state===we&&(t.pendingBuffering=!0,t.hls.trigger(u.default.BUFFER_APPENDING,e))})),this.pendingData=[],this.appended=!0)),this.tick()}},d.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===we&&(this.stats.tparsed=tt.now(),this.state=Se,this._checkAppendedParsed())},d.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},d.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},d.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==we&&t!==Se||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},d._checkAppendedParsed=function(){if(this.state===Se&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=tt.now(),r.trigger(u.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;n&&c.logger.log("audio buffered : "+ae.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=ve}this.tick()}},d.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:var r=e.frag;if(r&&"audio"!==r.type)break;if(!e.fatal){var n=this.fragLoadError;n?n++:n=1;var i=this.config;if(n<=i.fragLoadingMaxRetry){this.fragLoadError=n;var a=Math.min(Math.pow(2,n-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);c.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=tt.now()+a,this.state=_e}else c.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Oe}break;case s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==Oe&&(this.state=e.fatal?Oe:ve,c.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case s.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===we||this.state===Se)){var o=this.mediaBuffer,l=this.media.currentTime;if(o&&$.isBuffered(o,l)&&$.isBuffered(o,l+.5)){var d=this.config;d.maxMaxBufferLength>=d.maxBufferLength&&(d.maxMaxBufferLength/=2,c.logger.warn("AudioStreamController: reduce max buffer length to "+d.maxMaxBufferLength+"s")),this.state=ve}else c.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Te,this.hls.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},d.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(c.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach((function(t){e.hls.trigger(u.default.BUFFER_APPENDING,t)})),this.appended=!0,this.pendingData=[],this.state=Se):(this.state=ve,this.fragPrevious=null,this.tick())},i=n,(a=[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,c.logger.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}])&&et(i.prototype,a),o&&et(i,o),n}(Ce),nt=function(){if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var e={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};function r(e){return"string"===typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function i(t,i,a){var o=this,s={enumerable:!0};o.hasBeenReset=!1;var l="",u=!1,c=t,d=i,f=a,p=null,h="",g=!0,m="auto",v="start",y=50,b="middle",k=50,_="middle";Object.defineProperty(o,"id",n({},s,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(o,"pauseOnExit",n({},s,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(o,"startTime",n({},s,{get:function(){return c},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",n({},s,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",n({},s,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",n({},s,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",n({},s,{get:function(){return h},set:function(t){var r=function(t){return"string"===typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");h=r,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",n({},s,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",n({},s,{get:function(){return m},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",n({},s,{get:function(){return v},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",n({},s,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",n({},s,{get:function(){return b},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",n({},s,{get:function(){return k},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");k=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",n({},s,{get:function(){return _},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),o.displayState=void 0}return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}(),it=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function at(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new it,this.regionList=[]}function ot(){this.values=Object.create(null)}function st(e,t,r,n){var i=n?e.split(n):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(r);2===o.length&&t(o[0],o[1])}}ot.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var lt=new nt(0,0,0),ut="middle"===lt.align?"middle":"center";function ct(e,t,r){var n=e;function i(){var t=function(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),a(),t.endTime=i(),a(),function(e,t){var n=new ot;st(e,(function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];n.integer(e,o),n.percent(e,o)&&n.set("snapToLines",!1),n.alt(e,o,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start",ut,"end"]);break;case"position":a=t.split(","),n.percent(e,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start",ut,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",ut,"end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===lt.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",ut);var a=n.get("position","auto");"auto"===a&&50===lt.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function dt(e){return e.replace(/<br(?: \/)?>/gi,"\n")}at.prototype={parse:function(e){var t=this;function r(){var e=t.buffer,r=0;for(e=dt(e);r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var n;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(n=r()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:n=r(),t.state){case"HEADER":/:/.test(n)?st(n,(function(e,t){}),/:/):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new nt(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":try{ct(n,t.cue,t.regionList)}catch(s){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID");continue}}}catch(s){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}};var ft=at;function pt(e,t,r,n){for(var i,a,o,s,l,u=[],c=window.VTTCue||TextTrackCue,d=0;d<n.rows.length;d++)if(o=!0,s=0,l="",!(i=n.rows[d]).isEmpty()){for(var f=0;f<i.chars.length;f++)i.chars[f].uchar.match(/\s/)&&o?s++:(l+=i.chars[f].uchar,o=!1);i.cueStartTime=t,t===r&&(r+=1e-4),a=new c(t,r,dt(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100)),u.push(a),e&&e.addCue(a)}return u}var ht,gt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},mt=function(e){var t=e;return gt.hasOwnProperty(e)&&(t=gt[e]),String.fromCharCode(t)},vt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},yt={17:2,18:4,21:6,22:8,23:10,19:13,20:15},bt={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},kt={25:2,26:4,29:6,30:8,31:10,27:13,28:15},_t=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(ht||(ht={}));var Et=function(){function e(){this.time=null,this.verboseLevel=ht.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&c.logger.log(this.time+" ["+e+"] "+t)},e}(),wt=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},St=function(){function e(e,t,r,n,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),Tt=function(){function e(e,t,r,n,i,a){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new St(t,r,n,i,a)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),xt=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<100;t++)this.chars.push(new Tt);this.logger=e,this.pos=0,this.currPenState=new St}var t=e.prototype;return t.equals=function(e){for(var t=!0,r=0;r<100;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(ht.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(ht.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=mt(e);this.pos>=100?this.logger.log(ht.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,r=0;r<100;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),Ot=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<15;t++)this.rows.push(new xt(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,r=0;r<15;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(ht.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(ht.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<15;r++)this.rows[r].clear();var n=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[n].cueStartTime,o=this.logger.time;if(a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[t-this.nrRollUpRows+s+1].copy(i.rows[n+s])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,c=Math.max(u-1,0);l.setCursor(e.indent),e.color=l.chars[c].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)},t.setBkgData=function(e){this.logger.log(ht.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(ht.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(ht.INFO,"Rolling up")}else this.logger.log(ht.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(n=i+1,e?t.push("Row "+n+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},t.getTextAndFormat=function(){return this.rows},e}(),Pt=function(){function e(e,t,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Ot(r),this.nonDisplayedMemory=new Ot(r),this.lastOutputScreen=new Ot(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(ht.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(ht.INFO,r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(ht.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(ht.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(ht.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(ht.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(ht.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(ht.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(ht.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(ht.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(ht.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(ht.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(ht.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(ht.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(ht.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(ht.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(ht.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}this.logger.log(ht.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}();function At(e,t,r){r.a=e,r.b=t}function Ct(e,t,r){return r.a===e&&r.b===t}var Mt=function(){function e(e,t,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new Et;this.channels=[null,new Pt(e,t,n),new Pt(e+1,r,n)],this.cmdHistory={a:null,b:null},this.logger=n}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var r,n,i,a=!1;this.logger.time=e;for(var o=0;o<t.length;o+=2)if(n=127&t[o],i=127&t[o+1],0!==n||0!==i){if(this.logger.log(ht.DATA,"["+wt([t[o],t[o+1]])+"] -> ("+wt([n,i])+")"),(r=this.parseCmd(n,i))||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(a=this.parseChars(n,i))){var s=this.currentChannel;s&&s>0?this.channels[s].insertChars(a):this.logger.log(ht.WARNING,"No channel found yet. TEXT-MODE?")}r||a||this.logger.log(ht.WARNING,"Couldn't parse cleaned data "+wt([n,i])+" orig: "+wt([t[o],t[o+1]]))}},t.parseCmd=function(e,t){var r=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(Ct(e,t,r))return At(null,null,r),this.logger.log(ht.DEBUG,"Repeated command ("+wt([e,t])+") is dropped"),!0;var n=20===e||21===e||23===e?1:2,i=this.channels[n];return 20===e||21===e||28===e||29===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),At(e,t,r),this.currentChannel=n,!0},t.parseMidrow=function(e,t){var r=0;if((17===e||25===e)&&t>=32&&t<=47){if((r=17===e?1:2)!==this.currentChannel)return this.logger.log(ht.ERROR,"Mismatch channel in midrow parsing"),!1;var n=this.channels[r];return!!n&&(n.ccMIDROW(t),this.logger.log(ht.DEBUG,"MIDROW ("+wt([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var r,n=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(Ct(e,t,n))return At(null,null,n),!0;var i=e<=23?1:2;r=t>=64&&t<=95?1===i?vt[e]:bt[e]:1===i?yt[e]:kt[e];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(r,t)),At(e,t,n),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1===(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},t.parseChars=function(e,t){var r,n=null,i=null;if(e>=25?(r=2,i=e-8):(r=1,i=e),i>=17&&i<=19){var a=t;a=17===i?t+80:18===i?t+112:t+144,this.logger.log(ht.INFO,"Special char '"+mt(a)+"' in channel "+r),n=[a]}else e>=32&&e<=127&&(n=0===t?[e]:[e,t]);if(n){var o=wt(n);this.logger.log(ht.DEBUG,"Char codes =  "+o.join(",")),At(e,t,this.cmdHistory)}return n},t.parseBackgroundAttributes=function(e,t){var r;if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;var n={};16===e||24===e?(r=Math.floor((t-32)/2),n.background=_t[r],t%2===1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(n),At(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var r=this.channels[t];r&&r.cueSplitAtTime(e)}},e}(),It=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[]},e}(),Rt=function(e,t,r){return e.substr(r||0,t.length)===t},Dt=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},jt={parse:function(e,t,r,n,i,a){var o,s=Object(Le.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),u="00:00.000",c=0,d=0,f=0,p=[],h=!0,g=!1,m=new ft;m.oncue=function(e){var t=r[n],i=r.ccOffset;t&&t.new&&(void 0!==d?i=r.ccOffset=t.start:function(e,t,r){var n=e[t],i=e[n.prevCC];if(!i||!i.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;i&&i.new;)e.ccOffset+=n.start-i.start,n.new=!1,i=e[(n=i).prevCC];e.presentationOffset=r}(r,n,f)),f&&(i=f-r.presentationOffset),g&&(e.startTime+=i-d,e.endTime+=i-d),e.id=Dt(e.startTime.toString())+Dt(e.endTime.toString())+Dt(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&p.push(e)},m.onparsingerror=function(e){o=e},m.onflush=function(){o&&a?a(o):i(p)},s.forEach((function(e){if(h){if(Rt(e,"X-TIMESTAMP-MAP=")){h=!1,g=!0,e.substr(16).split(",").forEach((function(e){Rt(e,"LOCAL:")?u=e.substr(6):Rt(e,"MPEGTS:")&&(c=parseInt(e.substr(7)))}));try{t+(9e4*r[n].start||0)<0&&(t+=8589934592),c-=t,d=function(e){var t=parseInt(e.substr(-3)),r=parseInt(e.substr(-6,2)),n=parseInt(e.substr(-9,2)),i=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;if(!Object(l.isFiniteNumber)(t)||!Object(l.isFiniteNumber)(r)||!Object(l.isFiniteNumber)(n)||!Object(l.isFiniteNumber)(i))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*r,t+=6e4*n,t+=36e5*i}(u)/1e3,f=c/9e4}catch(i){g=!1,o=i}return}""===e&&(h=!1)}m.parse(e+"\n")})),m.flush()}};function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var Ut=function(e){var t,r;function n(t){var r;if((r=e.call(this,t,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.FRAG_PARSING_USERDATA,u.default.FRAG_DECRYPTED,u.default.MANIFEST_LOADING,u.default.MANIFEST_LOADED,u.default.FRAG_LOADED,u.default.INIT_PTS_FOUND)||this).media=null,r.config=void 0,r.enabled=!0,r.Cues=void 0,r.textTracks=[],r.tracks=[],r.initPTS=[],r.unparsedVttFrags=[],r.captionsTracks={},r.nonNativeCaptionsTracks={},r.captionsProperties=void 0,r.cea608Parser1=void 0,r.cea608Parser2=void 0,r.lastSn=-1,r.prevCC=-1,r.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},r.hls=t,r.config=t.config,r.Cues=t.config.cueHandler,r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode},textTrack3:{label:r.config.captionsTextTrack3Label,languageCode:r.config.captionsTextTrack3LanguageCode},textTrack4:{label:r.config.captionsTextTrack4Label,languageCode:r.config.captionsTextTrack4LanguageCode}},r.config.enableCEA708Captions){var n=new It(Lt(r),"textTrack1"),i=new It(Lt(r),"textTrack2"),a=new It(Lt(r),"textTrack3"),o=new It(Lt(r),"textTrack4");r.cea608Parser1=new Mt(1,n,i),r.cea608Parser2=new Mt(3,a,o)}return r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.addCues=function(e,t,r,n,i){for(var a,o,s,l,c=!1,d=i.length;d--;){var f=i[d],p=(a=f[0],o=f[1],s=t,l=r,Math.min(o,l)-Math.max(a,s));if(p>=0&&(f[0]=Math.min(f[0],t),f[1]=Math.max(f[1],r),c=!0,p/(r-t)>.5))return}if(c||i.push([t,r]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[e],t,r,n);else{var h=this.Cues.newCue(null,t,r,n);this.hls.trigger(u.default.CUES_PARSED,{type:"captions",cues:h,track:e})}},i.onInitPtsFound=function(e){var t=this,r=e.frag,n=e.id,i=e.initPTS,a=this.unparsedVttFrags;"main"===n&&(this.initPTS[r.cc]=i),a.length&&(this.unparsedVttFrags=[],a.forEach((function(e){t.onFragLoaded(e)})))},i.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var n=t.textTracks[r];if(n[e])return n}return null},i.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},i.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,r=this.captionsTracks,n=this.media,i=t[e],a=i.label,o=i.languageCode,s=this.getExistingTrack(e);if(s)r[e]=s,Ue(r[e]),Ne(r[e],n);else{var l=this.createTextTrack("captions",a,o);l&&(l[e]=!0,r[e]=l)}}},i.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var r={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=r,this.hls.trigger(u.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},i.createTextTrack=function(e,t,r){var n=this.media;if(n)return n.addTextTrack(e,t,r)},i.destroy=function(){e.prototype.destroy.call(this)},i.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},i.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){Ue(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},i.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},i._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)Ue(t[r])}},i.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var r=e.subtitles||[],n=this.tracks&&r&&this.tracks.length===r.length;if(this.tracks=e.subtitles||[],this.config.renderTextTracksNatively){var i=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,r){var n;if(r<i.length){for(var a=null,o=0;o<i.length;o++)if(Nt(i[o],e)){a=i[o];break}a&&(n=a)}n||(n=t.createTextTrack("subtitles",e.name,e.lang)),e.default?n.mode=t.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",t.textTracks.push(n)}))}else if(!n&&this.tracks&&this.tracks.length){var a=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(u.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((function(e){var r=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(r){var n="textTrack"+r[1],i=t.captionsProperties[n];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},i.onFragLoaded=function(e){var t=e.frag,r=e.payload,n=this.cea608Parser1,i=this.cea608Parser2,a=this.initPTS,o=this.lastSn,s=this.unparsedVttFrags;if("main"===t.type){var c=t.sn;t.sn!==o+1&&n&&i&&(n.reset(),i.reset()),this.lastSn=c}else if("subtitle"===t.type)if(r.byteLength){if(!Object(l.isFiniteNumber)(a[t.cc]))return s.push(e),void(a.length&&this.hls.trigger(u.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t}));var d=t.decryptdata;null!=d&&null!=d.key&&"AES-128"===d.method||this._parseVTTs(t,r)}else this.hls.trigger(u.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},i._parseVTTs=function(e,t){var r=this,n=this.hls,i=this.prevCC,a=this.textTracks,o=this.vttCCs;o[e.cc]||(o[e.cc]={start:e.start,prevCC:i,new:!0},this.prevCC=e.cc),jt.parse(t,this.initPTS[e.cc],o,e.cc,(function(t){if(r.config.renderTextTracksNatively){var i=a[e.level];if("disabled"===i.mode)return void n.trigger(u.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e});t.forEach((function(e){if(!i.cues.getCueById(e.id))try{if(i.addCue(e),!i.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(r){c.logger.debug("Failed occurred on adding cues: "+r);var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,i.addCue(t)}}))}else{var o=r.tracks[e.level].default?"default":"subtitles"+e.level;n.trigger(u.default.CUES_PARSED,{type:"subtitles",cues:t,track:o})}n.trigger(u.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){c.logger.log("Failed to parse VTT cue: "+t),n.trigger(u.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}))},i.onFragDecrypted=function(e){var t=e.frag,r=e.payload;if("subtitle"===t.type){if(!Object(l.isFiniteNumber)(this.initPTS[t.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(t,r)}},i.onFragParsingUserdata=function(e){var t=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&t&&r)for(var n=0;n<e.samples.length;n++){var i=e.samples[n].bytes;if(i){var a=this.extractCea608Data(i);t.addData(e.samples[n].pts,a[0]),r.addData(e.samples[n].pts,a[1])}}},i.extractCea608Data=function(e){for(var t=31&e[0],r=2,n=[[],[]],i=0;i<t;i++){var a=e[r++],o=127&e[r++],s=127&e[r++],l=3&a;0===o&&0===s||0!==(4&a)&&(0!==l&&1!==l||(n[l].push(o),n[l].push(s)))}return n},n}(f);function Bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ft(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"subtitles"===n.kind&&n.label&&t.push(e[r])}return t}var zt,Vt=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.MANIFEST_LOADED,u.default.SUBTITLE_TRACK_LOADED)||this).tracks=[],r.trackId=-1,r.media=null,r.stopped=!0,r.subtitleDisplay=!0,r.queuedDefaultTrack=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,o,s=n.prototype;return s.destroy=function(){f.prototype.destroy.call(this)},s.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(Object(l.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){t.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},s.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(l.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack),Ft(this.media.textTracks).forEach((function(e){Ue(e)})),this.subtitleTrack=-1,this.media=null)},s.onManifestLoaded=function(e){var t=this,r=e.subtitles||[];this.tracks=r,this.hls.trigger(u.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach((function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)}))},s.onSubtitleTrackLoaded=function(e){var t=this,r=e.id,n=e.details,i=this.trackId,a=this.tracks,o=a[i];if(r>=a.length||r!==i||!o||this.stopped)this._clearReloadTimer();else if(c.logger.log("subtitle track "+r+" loaded"),n.live){var s=ie(o.details,n,e.stats.trequest);c.logger.log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout((function(){t._loadCurrentTrack()}),s)}else this._clearReloadTimer()},s.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},s.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},s._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},s._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,r=this.hls,n=t[e];e<0||!n||n.details&&!n.details.live||(c.logger.log("Loading subtitle track "+e),r.trigger(u.default.SUBTITLE_TRACK_LOADING,{url:n.url,id:e}))},s._toggleTrackModes=function(e){var t=this.media,r=this.subtitleDisplay,n=this.trackId;if(t){var i=Ft(t.textTracks);if(-1===e)[].slice.call(i).forEach((function(e){e.mode="disabled"}));else{var a=i[n];a&&(a.mode="disabled")}var o=i[e];o&&(o.mode=r?"showing":"hidden")}},s._setSubtitleTrackInternal=function(e){var t=this.hls,r=this.tracks;!Object(l.isFiniteNumber)(e)||e<-1||e>=r.length||(this.trackId=e,c.logger.log("Switching to subtitle track "+e),t.trigger(u.default.SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},s._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=Ft(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack=e}},i=n,(a=[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))}}])&&Bt(i.prototype,a),o&&Bt(i,o),n}(f),$t=r("./src/crypt/decrypter.js"),Wt=window.performance,Kt=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.ERROR,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.SUBTITLE_TRACKS_UPDATED,u.default.SUBTITLE_TRACK_SWITCH,u.default.SUBTITLE_TRACK_LOADED,u.default.SUBTITLE_FRAG_PROCESSED,u.default.LEVEL_UPDATED)||this).fragmentTracker=r,n.config=t.config,n.state=ge,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new $t.default(t,t.config),n.lastAVStart=0,n._onMediaSeeking=n.onMediaSeeking.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.startLoad=function(){this.stopLoad(),this.state=ve;var e=this.tracks[this.currentTrackId];e&&e.details&&(this.setInterval(500),this.tick())},i.onSubtitleFragProcessed=function(e){var t=e.frag,r=e.success;if(this.fragPrevious=t,this.state=ve,r){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var i,a=t.start,o=0;o<n.length;o++)if(a>=n[o].start&&a<=n[o].end){i=n[o];break}var s=t.start+t.duration;i?i.end=s:(i={start:a,end:s},n.push(i))}}},i.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener("seeking",this._onMediaSeeking),this.state=ve},i.onMediaDetaching=function(){var e=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach((function(t){e.tracksBuffered[t.id]=[]})),this.media=null,this.state=ge)},i.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=ve)},i.onSubtitleTracksUpdated=function(e){var t=this;c.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach((function(e){t.tracksBuffered[e.id]=[]}))},i.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},i.onSubtitleTrackLoaded=function(e){var t=e.id,r=e.details,n=this.currentTrackId,i=this.tracks,a=i[n];t>=i.length||t!==n||!a||(r.live&&function(e,t,r){void 0===r&&(r=0);var n=-1;ne(e,t,(function(e,t,r){t.start=e.start,n=r}));var i=t.fragments;if(n<0)i.forEach((function(e){e.start+=r}));else for(var a=n+1;a<i.length;a++)i[a].start=i[a-1].start+i[a-1].duration}(a.details,r,this.lastAVStart),a.details=r,this.setInterval(500))},i.onKeyLoaded=function(){this.state===be&&(this.state=ve)},i.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag.decryptdata,n=e.frag,i=this.hls;if(this.state===ke&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&r&&r.key&&"AES-128"===r.method){var a=Wt.now();this.decrypter.decrypt(e.payload,r.key.buffer,r.iv.buffer,(function(e){var t=Wt.now();i.trigger(u.default.FRAG_DECRYPTED,{frag:n,payload:e,stats:{tstart:a,tdecrypt:t}})}))}},i.onLevelUpdated=function(e){var t=e.details.fragments;this.lastAVStart=t.length?t[0].start:0},i.doTick=function(){if(this.media)switch(this.state){case ve:var e=this.config,t=this.currentTrackId,r=this.fragmentTracker,n=this.media,i=this.tracks;if(!i||!i[t]||!i[t].details)break;var a,o=e.maxBufferHole,s=e.maxFragLookUpTolerance,l=Math.min(e.maxBufferLength,e.maxMaxBufferLength),d=$.bufferedInfo(this._getBuffered(),n.currentTime,o),f=d.end,p=d.len,h=i[t].details,g=h.fragments,m=g.length,v=g[m-1].start+g[m-1].duration;if(p>l)return;var y=this.fragPrevious;f<v?(y&&h.hasProgramDateTime&&(a=le(g,y.endProgramDateTime,s)),a||(a=ue(y,g,f,s))):a=g[m-1],a&&a.encrypted?(c.logger.log("Loading key for "+a.sn),this.state=be,this.hls.trigger(u.default.KEY_LOADING,{frag:a})):a&&r.getState(a)===N&&(this.fragCurrent=a,this.state=ke,this.hls.trigger(u.default.FRAG_LOADING,{frag:a}))}else this.state=ve},i.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,e.prototype.stopLoad.call(this)},i._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},i.onMediaSeeking=function(){if(this.fragCurrent){var e=this.media?this.media.currentTime:0,t=this.config.maxFragLookUpTolerance,r=this.fragCurrent.start-t,n=this.fragCurrent.start+this.fragCurrent.duration+t;(e<r||e>n)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=ve,this.tick())}},n}(Ce);!function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(zt||(zt={}));var Ht="undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;function Gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Zt=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHED,u.default.MANIFEST_PARSED)||this)._widevineLicenseUrl=void 0,r._licenseXhrSetup=void 0,r._emeEnabled=void 0,r._requestMediaKeySystemAccess=void 0,r._drmSystemOptions=void 0,r._config=void 0,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._requestLicenseFailureCount=0,r.mediaKeysPromise=null,r._onMediaEncrypted=function(e){if(c.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!r.mediaKeysPromise)return c.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void r.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var t=function(t){r._media&&(r._attemptSetMediaKeys(t),r._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};r.mediaKeysPromise.then(t).catch(t)},r._config=t.config,r._widevineLicenseUrl=r._config.widevineLicenseUrl,r._licenseXhrSetup=r._config.licenseXhrSetup,r._emeEnabled=r._config.emeEnabled,r._requestMediaKeySystemAccess=r._config.requestMediaKeySystemAccessFunc,r._drmSystemOptions=t.config.drmSystemOptions,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,o,l=n.prototype;return l.getLicenseServerUrl=function(e){switch(e){case zt.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},l._attemptKeySystemAccess=function(e,t,r){var n=this,i=function(e,t,r,n){switch(e){case zt.WIDEVINE:return function(e,t,r){var n={audioCapabilities:[],videoCapabilities:[]};return e.forEach((function(e){n.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:r.audioRobustness||""})})),t.forEach((function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:r.videoRobustness||""})})),[n]}(t,r,n);default:throw new Error("Unknown key-system: "+e)}}(e,t,r,this._drmSystemOptions);c.logger.log("Requesting encrypted media key-system access");var a=this.requestMediaKeySystemAccess(e,i);this.mediaKeysPromise=a.then((function(t){return n._onMediaKeySystemAccessObtained(e,t)})),a.catch((function(t){c.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))},l._onMediaKeySystemAccessObtained=function(e,t){var r=this;c.logger.log('Access for key-system "'+e+'" obtained');var n={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(n);var i=Promise.resolve().then((function(){return t.createMediaKeys()})).then((function(t){return n.mediaKeys=t,c.logger.log('Media-keys created for key-system "'+e+'"'),r._onMediaKeysCreated(),t}));return i.catch((function(e){c.logger.error("Failed to create media-keys:",e)})),i},l._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},l._onNewMediaKeySession=function(e){var t=this;c.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(r){t._onKeySessionMessage(e,r.message)}),!1)},l._onKeySessionMessage=function(e,t){c.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){c.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t)}))},l._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return c.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});c.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},l._generateRequestWithPreferredKeySession=function(e,t){var r=this,n=this._mediaKeysList[0];if(!n)return c.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(n.mediaKeysSessionInitialized)c.logger.warn("Key-Session already initialized but requested again");else{var i=n.mediaKeysSession;if(!i)return c.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return c.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});c.logger.log('Generating key-session request for "'+e+'" init data type'),n.mediaKeysSessionInitialized=!0,i.generateRequest(e,t).then((function(){c.logger.debug("Key-session generation succeeded")})).catch((function(e){c.logger.error("Error generating key-session request:",e),r.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},l._createLicenseXhr=function(e,t,r){var n=new XMLHttpRequest,i=this._licenseXhrSetup;try{if(i)try{i(n,e)}catch(a){n.open("POST",e,!0),i(n,e)}n.readyState||n.open("POST",e,!0)}catch(a){throw new Error("issue setting up KeySystem license XHR "+a)}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,e,t,r),n},l._onLicenseRequestReadyStageChange=function(e,t,r,n){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,c.logger.log("License request succeeded"),"arraybuffer"!==e.responseType&&c.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),n(e.response);else{if(c.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var i=3-this._requestLicenseFailureCount+1;c.logger.warn("Retrying license request, "+i+" attempts left"),this._requestLicense(r,n)}}},l._generateLicenseRequestChallenge=function(e,t){switch(e.mediaKeySystemDomain){case zt.WIDEVINE:return t}throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},l._requestLicense=function(e,t){c.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return c.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var n=this.getLicenseServerUrl(r.mediaKeySystemDomain),i=this._createLicenseXhr(n,e,t);c.logger.log("Sending license request to URL: "+n);var a=this._generateLicenseRequestChallenge(r,e);i.send(a)}catch(o){c.logger.error("Failure requesting DRM license: "+o),this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},l.onMediaAttached=function(e){if(this._emeEnabled){var t=e.media;this._media=t,t.addEventListener("encrypted",this._onMediaEncrypted)}},l.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch((function(){}))}))).then((function(){return e.setMediaKeys(null)})).catch((function(){})))},l.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map((function(e){return e.audioCodec})),r=e.levels.map((function(e){return e.videoCodec}));this._attemptKeySystemAccess(zt.WIDEVINE,t,r)}},i=n,(a=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&Gt(i.prototype,a),o&&Gt(i,o),n}(f);function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qt=Xt(Xt({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ye,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:We,bufferController:He,capLevelController:Ze,fpsController:Xe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:Ht,testBandwidth:!0},{cueHandler:n,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Kt,subtitleTrackController:Vt,timelineController:Ut,audioStreamController:rt,audioTrackController:Je,emeController:Zt});function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){tr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ir(e,t,r){return t&&nr(e.prototype,t),r&&nr(e,r),e}var ar=function(e){var t,r;function n(t){var r;void 0===t&&(t={}),(r=e.call(this)||this).config=void 0,r._autoLevelCapping=void 0,r.abrController=void 0,r.capLevelController=void 0,r.levelController=void 0,r.streamController=void 0,r.networkControllers=void 0,r.audioTrackController=void 0,r.subtitleTrackController=void 0,r.emeController=void 0,r.coreComponents=void 0,r.media=null,r.url=null;var i=n.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");r.config=er(er({},i),t);var a=rr(r).config;if(void 0!==a.liveMaxLatencyDurationCount&&a.liveMaxLatencyDurationCount<=a.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==a.liveMaxLatencyDuration&&(void 0===a.liveSyncDuration||a.liveMaxLatencyDuration<=a.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(c.enableLogs)(a.debug),r._autoLevelCapping=-1;var o=r.abrController=new a.abrController(rr(r)),s=new a.bufferController(rr(r)),l=r.capLevelController=new a.capLevelController(rr(r)),u=new a.fpsController(rr(r)),d=new D(rr(r)),f=new j(rr(r)),p=new L(rr(r)),h=new Be(rr(r)),g=r.levelController=new je(rr(r)),m=new z(rr(r)),v=[g,r.streamController=new Re(rr(r),m)],y=a.audioStreamController;y&&v.push(new y(rr(r),m)),r.networkControllers=v;var b=[d,f,p,o,s,l,u,h,m];if(y=a.audioTrackController){var k=new y(rr(r));r.audioTrackController=k,b.push(k)}if(y=a.subtitleTrackController){var _=new y(rr(r));r.subtitleTrackController=_,v.push(_)}if(y=a.emeController){var E=new y(rr(r));r.emeController=E,b.push(E)}return(y=a.subtitleStreamController)&&v.push(new y(rr(r),m)),(y=a.timelineController)&&b.push(new y(rr(r))),r.coreComponents=b,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(){return function(){var e=G();if(!e)return!1;var t=self.SourceBuffer||self.WebKitSourceBuffer,r=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!r&&!!n}()},ir(n,null,[{key:"version",get:function(){return"0.14.17"}},{key:"Events",get:function(){return u.default}},{key:"ErrorTypes",get:function(){return s.ErrorTypes}},{key:"ErrorDetails",get:function(){return s.ErrorDetails}},{key:"DefaultConfig",get:function(){return n.defaultConfig?n.defaultConfig:Qt},set:function(e){n.defaultConfig=e}}]);var i=n.prototype;return i.destroy=function(){c.logger.log("destroy"),this.trigger(u.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},i.attachMedia=function(e){c.logger.log("attachMedia"),this.media=e,this.trigger(u.default.MEDIA_ATTACHING,{media:e})},i.detachMedia=function(){c.logger.log("detachMedia"),this.trigger(u.default.MEDIA_DETACHING),this.media=null},i.loadSource=function(e){e=o.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),c.logger.log("loadSource:"+e),this.url=e,this.trigger(u.default.MANIFEST_LOADING,{url:e})},i.startLoad=function(e){void 0===e&&(e=-1),c.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},i.stopLoad=function(){c.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},i.swapAudioCodec=function(){c.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},i.recoverMediaError=function(){c.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),e&&this.attachMedia(e)},i.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},ir(n,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){c.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){c.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){c.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){c.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){c.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){c.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"bandwidthEstimate",get:function(){var e=this.abrController._bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,n=0;n<r;n++)if((e[n].realBitrate?Math.max(e[n].realBitrate,e[n].bitrate):e[n].bitrate)>t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),n}(q);ar.defaultConfig=void 0},"./src/polyfills/number.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isFiniteNumber",(function(){return n})),r.d(t,"MAX_SAFE_INTEGER",(function(){return i}));var n=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":function(e,t,r){"use strict";function n(){return"undefined"===typeof window?self:window}r.r(t),r.d(t,"getSelfScope",(function(){return n}))},"./src/utils/logger.js":function(e,t,r){"use strict";r.r(t),r.d(t,"enableLogs",(function(){return c})),r.d(t,"logger",(function(){return d}));var n=r("./src/utils/get-self-scope.js");function i(){}var a={trace:i,debug:i,log:i,warn:i,info:i,error:i},o=a;function s(e,t){return t="["+e+"] > "+t}var l=Object(n.getSelfScope)();function u(e){var t=l.console[e];return t?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n[0]&&(n[0]=s(e,n[0])),t.apply(l.console,n)}:i}var c=function(e){if(l.console&&!0===e||"object"===typeof e){!function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){o[t]=e[t]?e[t].bind(e):u(t)}))}(e,"debug","log","info","warn","error");try{o.log()}catch(t){o=a}}else o=a},d=o}}).default},e.exports=n())},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return u}));var n=function(e){return e.hasAttribute("tabindex")};function i(e){return!!document.activeElement&&e.contains(document.activeElement)}function a(e){return e instanceof HTMLElement}function o(e){if(!a(e)||function e(t){return!(!t.parentElement||!e(t.parentElement))||t.hidden}(e)||function(e){return!0===Boolean(e.getAttribute("disabled"))||!0===Boolean(e.getAttribute("aria-disabled"))}(e))return!1;var t=e.localName;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;var r={a:function(){return e.hasAttribute("href")},audio:function(){return e.hasAttribute("controls")},video:function(){return e.hasAttribute("controls")}};return t in r?r[t]():!!function(e){var t=e.getAttribute("contenteditable");return"false"!==t&&null!=t}(e)||n(e)}function s(e){return!!e&&(a(e)&&o(e)&&!function(e){return n(e)&&-1===e.tabIndex}(e))}var l=function(e){return document.activeElement===e};function u(e,t){void 0===t&&(t={});var r=t,n=r.isActive,i=void 0===n?l:n,o=r.preventScroll;return i(e)?-1:requestAnimationFrame((function(){e.focus({preventScroll:o}),function(e){return a(e)&&"input"===e.tagName.toLowerCase()&&"select"in e}(e)&&e.select()}))}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Jt})),r.d(t,"c",(function(){return tr})),r.d(t,"f",(function(){return nr})),r.d(t,"e",(function(){return ir})),r.d(t,"b",(function(){return ar})),r.d(t,"d",(function(){return or}));var n=r(4),i=r(110),a=r(20),o=r(56),s=r(39),l=r(22),u=r(7),c=r(0),d=r.n(c);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=function(e){return c.createElement(i.a,f({focusable:"false","aria-hidden":!0},e),c.createElement("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}))},h=Object(a.a)((function(e,t){var r=Object(o.b)("CloseButton",e),n=Object(s.b)(e),i=n.children,a=n.isDisabled,u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(n,["children","isDisabled"]);return c.createElement(l.a.button,f({type:"button","aria-label":"Close",ref:t,disabled:a,__css:f({},{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},r)},u),i||c.createElement(p,{width:"1em",height:"1em"}))}));u.a&&(h.displayName="CloseButton");var g=r(44),m=r(24);r(1);function v(e,t){return function(e,t){var r=Object(c.useState)((function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=t,r.facade}(t,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var y={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},b=function(e){var t=e.children;return c.createElement(c.Fragment,null,c.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:y}),t,t&&c.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:y}))};b.propTypes={},b.defaultProps={children:null};var k=r(3);function _(e){return e}function E(e,t){void 0===t&&(t=_);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var a=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}}}function w(e,t){return void 0===t&&(t=_),E(e,t)}function S(e){void 0===e&&(e={});var t=E(null);return t.options=k.a({async:!0,ssr:!1},e),t}var T=w({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),x=w(),O=w(),P=S({async:!0}),A=[],C=c.forwardRef((function(e,t){var r,n=c.useState(),i=n[0],a=n[1],o=c.useRef(),s=c.useRef(!1),l=c.useRef(null),u=e.children,d=e.disabled,f=e.noFocusGuards,p=e.persistentFocus,h=e.crossFrame,g=e.autoFocus,b=(e.allowTextSelection,e.group),k=e.className,_=e.whiteList,E=e.shards,w=void 0===E?A:E,S=e.as,O=void 0===S?"div":S,C=e.lockProps,M=void 0===C?{}:C,I=e.sideCar,R=e.returnFocus,D=e.onActivation,j=e.onDeactivation,L=c.useState({})[0],N=c.useCallback((function(){l.current=l.current||document&&document.activeElement,o.current&&D&&D(o.current),s.current=!0}),[D]),U=c.useCallback((function(){s.current=!1,j&&j(o.current)}),[j]),B=c.useCallback((function(e){var t=l.current;if(Boolean(R)&&t&&t.focus){var r="object"===typeof R?R:void 0;l.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}),[R]),F=c.useCallback((function(e){s.current&&T.useMedium(e)}),[]),z=x.useMedium,V=c.useCallback((function(e){o.current!==e&&(o.current=e,a(e))}),[]);var $=Object(m.a)(((r={})["data-focus-lock-disabled"]=d&&"disabled",r["data-focus-lock"]=b,r),M),W=!0!==f,K=W&&"tail"!==f,H=v([t,V]);return c.createElement(c.Fragment,null,W&&[c.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:y}),c.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:y})],!d&&c.createElement(I,{id:L,sideCar:P,observed:i,disabled:d,persistentFocus:p,crossFrame:h,autoFocus:g,whiteList:_,shards:w,onActivation:N,onDeactivation:U,returnFocus:B}),c.createElement(O,Object(m.a)({ref:H},$,{className:k,onBlur:z,onFocus:F}),u),K&&c.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:y}))}));C.propTypes={},C.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var M=C;var I=function(e,t){return function(r){var n,i=[];function a(){n=e(i.map((function(e){return e.props}))),t(n)}var o,s,l,u=function(e){var t,o;function s(){return e.apply(this,arguments)||this}o=e,(t=s).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o,s.peek=function(){return n};var l=s.prototype;return l.componentDidMount=function(){i.push(this),a()},l.componentDidUpdate=function(){a()},l.componentWillUnmount=function(){var e=i.indexOf(this);i.splice(e,1),a()},l.render=function(){return d.a.createElement(r,this.props)},s}(c.PureComponent);return o=u,s="displayName",l="SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")",s in o?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,u}},R=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},D=function(e){return Array.isArray(e)?e:[e]},j=function(){return document&&R(document.querySelectorAll("[data-no-focus-lock]")).some((function(e){return e.contains(document.activeElement)}))},L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=function(e){return D(e).filter(Boolean).reduce((function(e,t){var r=t.getAttribute("data-focus-lock");return e.push.apply(e,r?function e(t){for(var r=t.length,n=0;n<r;n+=1)for(var i=function(r){if(n!==r&&t[n].contains(t[r]))return{v:e(t.filter((function(e){return e!==t[r]})))}},a=0;a<r;a+=1){var o=i(a);if("object"===("undefined"===typeof o?"undefined":L(o)))return o.v}return t}(R(function e(t){return t.parentNode?e(t.parentNode):t}(t).querySelectorAll('[data-focus-lock="'+r+'"]:not([data-focus-lock-disabled="disabled"])'))):[t]),e}),[])},U=function(e){return e===document.activeElement},B=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&N(e).reduce((function(e,r){return e||r.contains(t)||function(e){return t=R(e.querySelectorAll("iframe")),r=U,!!t.filter((function(e){return e===r}))[0];var t,r}(r)}),!1)},F=function(e,t){var r=e.tabIndex-t.tabIndex,n=e.index-t.index;if(r){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return r||n},z=function(e,t,r){return R(e).map((function(e,t){return{node:e,index:t,tabIndex:r&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(F)},V=["button:enabled:not([readonly])","select:enabled:not([readonly])","textarea:enabled:not([readonly])","input:enabled:not([readonly])","a[href]","area[href]","iframe","object","embed","[tabindex]","[contenteditable]","[autofocus]"],$=V.join(","),W=$+", [data-focus-guard]",K=function(e,t){return e.reduce((function(e,r){return e.concat(R(r.querySelectorAll(t?W:$)),r.parentNode?R(r.parentNode.querySelectorAll(V.join(","))).filter((function(e){return e===r})):[])}),[])},H=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.push(t),t.parentNode&&e(t.parentNode,r),r},G=function(e,t){for(var r=H(e),n=H(t),i=0;i<r.length;i+=1){var a=r[i];if(n.indexOf(a)>=0)return a}return!1},Z=function(e){return R(e).filter((function(e){return function e(t){return!t||t===document||t.nodeType===Node.DOCUMENT_NODE||!((r=window.getComputedStyle(t,null))&&r.getPropertyValue&&("none"===r.getPropertyValue("display")||"hidden"===r.getPropertyValue("visibility")))&&e(t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode);var r}(e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},q=function(e,t){return z(Z(K(e,t)),!0,t)},X=function(e){return z(Z(K(e)),!1)},Y=function(e){return Z(function(e){var t=e.querySelectorAll("[data-autofocus-inside]");return R(t).map((function(e){return K([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e))},Q=function(e){return"INPUT"===e.tagName&&"radio"===e.type},J=function(e,t){return Q(e)&&e.name?function(e,t){return t.filter(Q).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},ee=function(e,t){return e.length>1?e.indexOf(J(e[t],e)):t},te=function(e){return e[0]&&e.length>1?J(e[0],e):e[0]},re=function(e){return e&&e.dataset&&e.dataset.focusGuard},ne=function(e){return!re(e)},ie=function(e,t,r,n){var i=e.length,a=e[0],o=e[i-1],s=re(r);if(!(e.indexOf(r)>=0)){var l=t.indexOf(r),u=t.indexOf(n||l),c=e.indexOf(n),d=l-u,f=t.indexOf(a),p=t.indexOf(o),h=function(e){var t=new Set;return e.forEach((function(r){return t.add(J(r,e))})),e.filter((function(e){return t.has(e)}))}(t),g=h.indexOf(r)-h.indexOf(n||l),m=ee(e,0),v=ee(e,i-1);return-1===l||-1===c?"NEW_FOCUS":!d&&c>=0?c:l<=f&&s&&Math.abs(d)>1?v:l>=p&&s&&Math.abs(d)>1?m:d&&Math.abs(g)>1?c:l<=f?v:l>p?m:d?Math.abs(d)>1?c:(i+c+d)%i:void 0}},ae=function(e,t,r){var n=D(e),i=D(t),a=n[0],o=null;return i.filter(Boolean).forEach((function(e){o=G(o||e,e)||o,r.filter(Boolean).forEach((function(e){var t=G(a,e);t&&(o=!o||t.contains(o)?t:G(t,o))}))})),o},oe=function(e,t){var r=document&&document.activeElement,n=N(e).filter(ne),i=ae(r||e,e,n),a=X(n),o=q(n).filter((function(e){var t=e.node;return ne(t)}));if(o[0]||(o=a)[0]){var s,l=X([i]).map((function(e){return e.node})),u=function(e,t){var r=new Map;return t.forEach((function(e){return r.set(e.node,e)})),e.map((function(e){return r.get(e)})).filter(Boolean)}(l,o),c=u.map((function(e){return e.node})),d=ie(c,l,r,t);if("NEW_FOCUS"===d){var f=a.map((function(e){return e.node})).filter((s=function(e){return e.reduce((function(e,t){return e.concat(Y(t))}),[])}(n),function(e){return!!e.autofocus||e.dataset&&!!e.dataset.autofocus||s.indexOf(e)>=0}));return{node:f&&f.length?te(f):te(c)}}return void 0===d?d:u[d]}},se=0,le=!1,ue=function(e,t){var r,n=oe(e,t);if(!le&&n){if(se>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),le=!0,void setTimeout((function(){le=!1}),1);se++,(r=n.node).focus(),r.contentWindow&&r.contentWindow.focus(),se--}};function ce(e){var t=window.setImmediate;"undefined"!==typeof t?t(e):setTimeout(e,1)}var de=function(){return document&&document.activeElement===document.body||j()},fe=null,pe=null,he=null,ge=!1,me=function(){return!0};function ve(e,t,r,n){var i=null,a=e;do{var o=n[a];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else{if(!o.lockItem)break;if(a!==e)return;i=null}}while((a+=r)!==t);i&&(i.node.tabIndex=0)}var ye=function(e){return e&&"current"in e?e.current:e},be=function(){var e,t=!1;if(fe){var r=fe,n=r.observed,i=r.persistentFocus,a=r.autoFocus,o=r.shards,s=r.crossFrame,l=n||he&&he.portaledElement,u=document&&document.activeElement;if(l){var c=[l].concat(o.map(ye).filter(Boolean));if(u&&!function(e){return(fe.whiteList||me)(e)}(u)||(i||(s?Boolean(ge):"meanwhile"===ge)||!de()||!pe&&a)&&(!l||B(c)||(e=u,he&&he.portaledElement===e)||(document&&!pe&&u&&!a?(u.blur&&u.blur(),document.body.focus()):(t=ue(c,pe),he={})),ge=!1,pe=document&&document.activeElement),document){var d=document&&document.activeElement,f=function(e){var t=N(e).filter(ne),r=ae(e,e,t),n=q([r],!0),i=q(t).filter((function(e){var t=e.node;return ne(t)})).map((function(e){return e.node}));return n.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:re(t)}}))}(c),p=f.map((function(e){return e.node})).indexOf(d);p>-1&&(f.filter((function(e){var t=e.guard,r=e.node;return t&&r.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),ve(p,f.length,1,f),ve(p,-1,-1,f))}}}return t},ke=function(e){be()&&e&&(e.stopPropagation(),e.preventDefault())},_e=function(){return ce(be)},Ee=function(e){var t=e.target,r=e.currentTarget;r.contains(t)||(he={observerNode:r,portaledElement:t})},we=function(){ge="just",setTimeout((function(){ge="meanwhile"}),0)};T.assignSyncMedium(Ee),x.assignMedium(_e),O.assignMedium((function(e){return e({moveFocusInside:ue,focusInside:B})}));var Se=I((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!fe&&(document.addEventListener("focusin",ke,!0),document.addEventListener("focusout",_e),window.addEventListener("blur",we));var r=fe,n=r&&t&&t.id===r.id;fe=t,r&&!n&&(r.onDeactivation(),e.filter((function(e){return e.id===r.id})).length||r.returnFocus(!t)),t?(pe=null,n&&r.observed===t.observed||t.onActivation(),be(),ce(be)):(document.removeEventListener("focusin",ke,!0),document.removeEventListener("focusout",_e),window.removeEventListener("blur",we),pe=null)}))((function(){return null})),Te=c.forwardRef((function(e,t){return c.createElement(M,Object(m.a)({sideCar:Se,ref:t},e))})),xe=M.propTypes||{},Oe=(xe.sideCar,Object(g.a)(xe,["sideCar"]));Te.propTypes=Oe;var Pe=Te,Ae=r(328),Ce=r(41),Me=function(e){var t=e.initialFocusRef,r=e.finalFocusRef,n=e.contentRef,i=e.restoreFocus,a=e.children,o=e.isDisabled,s=e.autoFocus,l=e.persistentFocus,u=c.useCallback((function(){if(null==t?void 0:t.current)t.current.focus();else if(null==n?void 0:n.current){0===Object(Ae.a)(n.current).length&&Object(Ce.a)(n.current)}}),[t,n]),d=c.useCallback((function(){var e;null==r||null==(e=r.current)||e.focus()}),[r]),f=i&&!r;return c.createElement(Pe,{persistentFocus:l,autoFocus:s,disabled:o,onActivation:u,onDeactivation:d,returnFocus:f},a)};u.a&&(Me.displayName="FocusLock");var Ie=r(75),Re=r(64),De=r(18),je=r(57),Le=r(183),Ne=Object(Re.a)({strict:!1,name:"PortalContext"}),Ue=Object(n.a)(Ne,2),Be=Ue[0],Fe=Ue[1],ze=function(e){var t=e.onMount,r=e.onUnmount,i=e.children,a=e.getContainer,o=c.useState((function(){if(De.f){var e=document.createElement("div");return e.className="chakra-portal",e}return null})),s=Object(n.a)(o,1)[0],l=Fe(),u=Object(Le.b)(),d=c.useCallback((function(e){s&&e&&e.appendChild(s)}),[s]);Object(Ie.a)((function(){var e,n,i=null==a?void 0:a(),o=null!=(e=null!=(n=null!=i?i:l)?n:null==u?void 0:u.node)?e:document.body;return d(o),null==t||t(),function(){null==r||r(),s&&(null==o?void 0:o.contains(s))&&(null==o||o.removeChild(s))}}),[a,s,l,t,r,null==u?void 0:u.node,d]);var f=(null==u?void 0:u.zIndex)?c.createElement("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:u.zIndex,width:"100%"}},i):i;return s?je.createPortal(c.createElement(Be,{value:s},f),s):c.createElement(c.Fragment,null,f)};u.a&&(ze.displayName="Portal");var Ve=r(62),$e=r(19),We=r(29);function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var He={initial:"exit",animate:"enter",exit:"exit",variants:{exit:{opacity:0,transition:{duration:.1,ease:We.a.easeOut}},enter:{opacity:1,transition:{duration:.2,ease:We.a.easeIn}}}},Ge=c.forwardRef((function(e,t){var r=e.unmountOnExit,n=e.in,i=e.className,a=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["unmountOnExit","in","className"]),o=!r||n&&r;return c.createElement($e.a,null,o&&c.createElement($e.b.div,Ke({ref:t,className:Object(De.c)("chakra-fade",i)},He,{animate:n||r?"enter":"exit"},a)))}));u.a&&(Ge.displayName="Fade");var Ze=r(27),qe=S(),Xe=function(){},Ye=c.forwardRef((function(e,t){var r=c.useRef(null),n=c.useState({onScrollCapture:Xe,onWheelCapture:Xe,onTouchMoveCapture:Xe}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,g=e.inert,m=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,_=k.d(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=p,w=v([r,t]),S=k.a({},_,i);return c.createElement(c.Fragment,null,d&&c.createElement(E,{sideCar:qe,removeScrollBar:u,shards:f,noIsolation:h,inert:g,setCallbacks:a,allowPinchZoom:!!m,lockRef:r}),o?c.cloneElement(c.Children.only(s),k.a({},S,{ref:w})):c.createElement(b,k.a({},S,{className:l,ref:w}),s))}));Ye.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ye.classNames={fullWidth:"width-before-scroll-bar",zeroRight:"right-scroll-bar-position"};var Qe,Je=function(e){var t=e.sideCar,r=k.d(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return c.createElement(n,k.a({},r))};Je.isSideCarExport=!0;function et(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qe||r.nc;return t&&e.setAttribute("nonce",t),e}var tt=function(){var e=0,t=null;return{add:function(r){var n,i;0==e&&(t=et())&&(i=r,(n=t).styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rt=function(){var e=function(){var e=tt();return function(t){c.useEffect((function(){return e.add(t),function(){e.remove()}}),[])}}();return function(t){var r=t.styles;return e(r),null}},nt={left:0,top:0,right:0,gap:0},it=function(e){return parseInt(e||"",10)||0},at=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return nt;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[it(r),it(n),it(i)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ot=rt(),st=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .with-scroll-bars-hidden {\n   overflow: hidden "+n+";\n   padding-right: "+s+"px "+n+";\n  }\n  body {\n    overflow: hidden "+n+";\n    "+[t&&"position: relative "+n+";","margin"===r&&"\n    padding-left: "+i+"px;\n    padding-top: "+a+"px;\n    padding-right: "+o+"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: "+s+"px "+n+";\n    ","padding"===r&&"padding-right: "+s+"px "+n+";"].filter(Boolean).join("")+"\n  }\n  \n  .right-scroll-bar-position {\n    right: "+s+"px "+n+";\n  }\n  \n  .width-before-scroll-bar {\n    margin-right: "+s+"px "+n+";\n  }\n  \n  .right-scroll-bar-position .right-scroll-bar-position {\n    right: 0 "+n+";\n  }\n  \n  .width-before-scroll-bar .width-before-scroll-bar {\n    margin-right: 0 "+n+";\n  }\n"},lt=function(e){var t=c.useState(at(e.gapMode)),r=t[0],n=t[1];c.useEffect((function(){n(at(e.gapMode))}),[e.gapMode]);var i=e.noRelative,a=e.noImportant,o=e.gapMode,s=void 0===o?"margin":o;return c.createElement(ot,{styles:st(r,!i,s,a?"":"!important")})},ut=function(e,t){var r=t;do{if(ct(e,r)){var n=dt(e,r);if(n[1]>n[2])return!0}r=r.parentNode}while(r&&r!==document.body);return!1},ct=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},dt=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},ft=!1;if("undefined"!==typeof window)try{var pt=Object.defineProperty({},"passive",{get:function(){return ft=!0,!0}});window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch(lr){ft=!1}var ht=!!ft&&{passive:!1},gt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mt=function(e){return[e.deltaX,e.deltaY]},vt=function(e){return e&&"current"in e?e.current:e},yt=function(e){return"\n  .block-interactivity-"+e+" {pointer-events: none;}\n  .allow-interactivity-"+e+" {pointer-events: all;}\n"},bt=0,kt=[];var _t,Et=(_t=function(e){var t=c.useRef([]),r=c.useRef([0,0]),n=c.useRef(),i=c.useState(bt++)[0],a=c.useState((function(){return rt()}))[0],o=c.useRef(e);c.useEffect((function(){o.current=e}),[e]),c.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-"+i);var t=[e.lockRef.current].concat((e.shards||[]).map(vt)).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-"+i)})),function(){document.body.classList.remove("block-interactivity-"+i),t.forEach((function(e){return e.classList.remove("allow-interactivity-"+i)}))}}}),[e.inert,e.lockRef.current,e.shards]);var s=c.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!o.current.allowPinchZoom;var i,a=gt(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],u="deltaY"in e?e.deltaY:s[1]-a[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v",f=ut(d,c);if(!f)return!0;if(f?i=d:(i="v"===d?"h":"v",f=ut(d,c)),!f)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var p=n.current||i;return function(e,t,r,n,i){var a=n,o=r.target,s=t.contains(o),l=!1,u=a>0,c=0,d=0;do{var f=dt(e,o),p=f[0],h=f[1]-f[2]-p;(p||h)&&ct(e,o)&&(c+=h,d+=p),o=o.parentNode}while(!s&&o!==document.body||s&&(t.contains(o)||t===o));return(u&&(i&&0===c||!i&&a>c)||!u&&(i&&0===d||!i&&-a>d))&&(l=!0),l}(p,t,e,"h"===p?l:u,!0)}),[]),l=c.useCallback((function(e){var r=e;if(kt.length&&kt[kt.length-1]===a){var n="deltaY"in r?mt(r):gt(r),i=t.current.filter((function(e){return e.name===r.type&&e.target===r.target&&(t=e.delta,i=n,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)r.preventDefault();else if(!i){var l=(o.current.shards||[]).map(vt).filter(Boolean).filter((function(e){return e.contains(r.target)}));(l.length>0?s(r,l[0]):!o.current.noIsolation)&&r.preventDefault()}}}),[]),u=c.useCallback((function(e,r,n,i){var a={name:e,delta:r,target:n,should:i};t.current.push(a),setTimeout((function(){t.current=t.current.filter((function(e){return e!==a}))}),1)}),[]),d=c.useCallback((function(e){r.current=gt(e),n.current=void 0}),[]),f=c.useCallback((function(t){u(t.type,mt(t),t.target,s(t,e.lockRef.current))}),[]),p=c.useCallback((function(t){u(t.type,gt(t),t.target,s(t,e.lockRef.current))}),[]);c.useEffect((function(){return kt.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ht),document.addEventListener("touchmove",l,ht),document.addEventListener("touchstart",d,ht),function(){kt=kt.filter((function(e){return e!==a})),document.removeEventListener("wheel",l,ht),document.removeEventListener("touchmove",l,ht),document.removeEventListener("touchstart",d,ht)}}),[]);var h=e.removeScrollBar,g=e.inert;return c.createElement(c.Fragment,null,g?c.createElement(a,{styles:yt(i)}):null,h?c.createElement(lt,{gapMode:"margin"}):null)},qe.useMedium(_t),Je),wt=c.forwardRef((function(e,t){return c.createElement(Ye,k.a({},e,{ref:t,sideCar:Et}))}));wt.classNames=Ye.classNames;var St=wt,Tt=r(46);function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ot={enter:{duration:.2,ease:We.a.easeOut},exit:{duration:.1,ease:We.a.easeIn}},Pt={initial:"initial",animate:"enter",exit:"exit",variants:{initial:function(e){return{opacity:0,x:e.offsetX,y:e.offsetY,transition:Ot.exit}},exit:function(e){return xt({opacity:0,transition:Ot.exit},e.reverse&&{x:e.offsetX,y:e.offsetY},!e.reverse&&{transitionEnd:{x:e.offsetX,y:e.offsetY}})},enter:{opacity:1,x:0,y:0,transition:Ot.enter}}},At=c.forwardRef((function(e,t){var r=e.unmountOnExit,n=e.in,i=e.reverse,a=void 0===i||i,o=e.className,s=e.offsetX,l=void 0===s?0:s,u=e.offsetY,d=void 0===u?8:u,f=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["unmountOnExit","in","reverse","className","offsetX","offsetY"]),p=!r||n&&r,h={offsetX:l,offsetY:d,reverse:a},g=Object(Tt.d)(Pt,{custom:h,animate:n||r?"enter":"exit"});return c.createElement($e.a,{custom:h},p&&c.createElement($e.b.div,xt({ref:t,className:Object(De.c)("chakra-offset-slide",o)},g,f)))}));function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}u.a&&(At.displayName="SlideFade");var Mt={initial:"exit",animate:"enter",exit:"exit",variants:{exit:function(e){return Ct({opacity:0},e.reverse?{scale:e.initialScale}:{transitionEnd:{scale:e.initialScale}},{transition:{duration:.1,ease:We.a.easeOut}})},enter:{opacity:1,scale:1,transition:{duration:.25,ease:We.a.easeInOut}}}},It=c.forwardRef((function(e,t){var r=e.unmountOnExit,n=e.in,i=e.reverse,a=void 0===i||i,o=e.initialScale,s=void 0===o?.95:o,l=e.className,u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["unmountOnExit","in","reverse","initialScale","className"]),d=!r||n&&r,f={initialScale:s,reverse:a},p=Object(Tt.d)(Mt,{custom:f,animate:n||r?"enter":"exit"});return c.createElement($e.a,{custom:f},d&&c.createElement($e.b.div,Ct({ref:t,className:Object(De.c)("chakra-offset-slide",l)},p,u)))}));function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}u.a&&(It.displayName="ScaleFade");var Dt={slideInBottom:Rt({},Pt,{custom:{offsetY:16,reverse:!0}}),slideInRight:Rt({},Pt,{custom:{offsetX:16,reverse:!0}}),scale:Rt({},Mt,{custom:{initialScale:.95,reverse:!0}})},jt=Object(l.a)($e.b.section),Lt=c.forwardRef((function(e,t){var r=e.preset,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["preset"]),i=Dt[r];return c.createElement(jt,Rt({ref:t},i,n))})),Nt=r(117),Ut="undefined"!==typeof document?document.body:null,Bt=new WeakMap,Ft=new WeakMap,zt={},Vt=0;function $t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Wt=new(function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(r="modals")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.modals=[]}var t,r,n;return t=e,(r=[{key:"add",value:function(e){this.modals.push(e)}},{key:"remove",value:function(e){this.modals=this.modals.filter((function(t){return t!==e}))}},{key:"isTopModal",value:function(e){return this.modals[this.modals.length-1]===e}}])&&$t(t.prototype,r),n&&$t(t,n),e}());function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ht(e){var t,r,i=e.isOpen,a=e.onClose,o=e.id,s=e.closeOnOverlayClick,l=void 0===s||s,u=e.closeOnEsc,d=void 0===u||u,f=e.useInert,p=void 0===f||f,h=e.onOverlayClick,g=e.onEsc,m=Object(c.useRef)(null),v=Object(c.useRef)(null),y=Object(Nt.b)(o,"chakra-modal","chakra-modal--header","chakra-modal--body"),b=Object(n.a)(y,3),k=b[0],_=b[1],E=b[2];t=m,r=i&&p,Object(c.useEffect)((function(){if(t.current){var e=null;return r&&t.current&&(e=function(e,t,r){void 0===t&&(t=Ut),void 0===r&&(r="data-aria-hidden");var n=Array.isArray(e)?e:[e];zt[r]||(zt[r]=new WeakMap);var i=zt[r],a=[];return function e(t){!t||n.indexOf(t)>=0||Array.prototype.forEach.call(t.children,(function(t){if(n.some((function(e){return t.contains(e)})))e(t);else{var o=t.getAttribute("aria-hidden"),s=null!==o&&"false"!==o,l=(Bt.get(t)||0)+1,u=(i.get(t)||0)+1;Bt.set(t,l),i.set(t,u),a.push(t),1===l&&s&&Ft.set(t,!0),1===u&&t.setAttribute(r,"true"),s||t.setAttribute("aria-hidden","true")}}))}(t),Vt++,function(){a.forEach((function(e){var t=Bt.get(e)-1,n=i.get(e)-1;Bt.set(e,t),i.set(e,n),t||(Ft.has(e)||e.removeAttribute("aria-hidden"),Ft.delete(e)),n||e.removeAttribute(r)})),--Vt||(Bt=new WeakMap,Bt=new WeakMap,Ft=new WeakMap,zt={})}}(t.current)),function(){r&&(null==e||e())}}}),[r,t]),function(e,t){Object(c.useEffect)((function(){return t&&Wt.add(e),function(){Wt.remove(e)}}),[t,e])}(m,i);var w=Object(c.useRef)(null),S=Object(c.useCallback)((function(e){w.current=e.target}),[]),T=Object(c.useCallback)((function(e){"Escape"===e.key&&(e.stopPropagation(),d&&(null==a||a()),null==g||g())}),[d,a,g]),x=Object(c.useState)(!1),O=Object(n.a)(x,2),P=O[0],A=O[1],C=Object(c.useState)(!1),M=Object(n.a)(C,2),I=M[0],R=M[1],D=Object(c.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Kt({role:"dialog"},e,{ref:Object(Re.c)(t,m),id:k,tabIndex:-1,"aria-modal":!0,"aria-labelledby":P?_:void 0,"aria-describedby":I?E:void 0,onClick:Object(Ze.b)(e.onClick,(function(e){return e.stopPropagation()}))})}),[E,I,k,_,P]),j=Object(c.useCallback)((function(e){e.stopPropagation(),w.current===e.target&&Wt.isTopModal(m)&&(l&&(null==a||a()),null==h||h())}),[a,l,h]),L=Object(c.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Kt({},e,{ref:Object(Re.c)(t,v),onClick:Object(Ze.b)(e.onClick,j),onKeyDown:Object(Ze.b)(e.onKeyDown,T),onMouseDown:Object(Ze.b)(e.onMouseDown,S)})}),[T,S,j]);return{isOpen:i,onClose:a,headerId:_,bodyId:E,setBodyMounted:R,setHeaderMounted:A,dialogRef:m,overlayRef:v,getDialogProps:D,getDialogContainerProps:L}}function Gt(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var qt=Object(Re.a)({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Xt=Object(n.a)(qt,2),Yt=Xt[0],Qt=Xt[1],Jt=function(e){var t=e.getContainer,r=e.children,n=e.autoFocus,i=e.trapFocus,a=e.initialFocusRef,s=e.finalFocusRef,l=e.returnFocusOnClose,u=e.blockScrollOnMount,d=e.allowPinchZoom,f=e.preserveScrollBarGap,p=e.motionPreset,h=Object(o.a)("Modal",e),g=Zt({},Ht(e),{autoFocus:n,trapFocus:i,initialFocusRef:a,finalFocusRef:s,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:d,preserveScrollBarGap:f,motionPreset:p});return c.createElement(Yt,{value:g},c.createElement(Ve.b,{value:h},c.createElement($e.a,null,g.isOpen&&c.createElement(ze,{getContainer:t},r))))};Jt.defaultProps={returnFocusOnClose:!0,scrollBehavior:"outside",trapFocus:!0,autoFocus:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale"},u.a&&(Jt.displayName="Modal");var er=Object(l.a)($e.b.div),tr=Object(a.a)((function(e,t){var r=e.className,n=e.children,i=Gt(e,["className","children"]),a=Qt(),o=a.getDialogProps,s=a.getDialogContainerProps,u=o(i,t),d=s(),f=Object(De.c)("chakra-modal__content",r),p=Object(Ve.c)(),h=Zt({display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0},p.dialog),g=Zt({display:"flex",width:"100vw",height:"100vh",position:"fixed",left:0,top:0},p.dialogContainer),m=Qt().motionPreset;return c.createElement(rr,null,c.createElement(l.a.div,Zt({},d,{className:"chakra-modal__content-container",__css:g}),c.createElement(Lt,Zt({preset:m,className:f},u,{__css:h}),n)))}));function rr(e){var t=Qt(),r=t.autoFocus,i=t.trapFocus,a=t.dialogRef,o=t.initialFocusRef,s=t.blockScrollOnMount,l=t.allowPinchZoom,u=t.finalFocusRef,d=t.returnFocusOnClose,f=t.preserveScrollBarGap,p=Object($e.c)(),h=Object(n.a)(p,2),g=h[0],m=h[1];return c.useEffect((function(){!g&&m&&setTimeout(m)}),[g]),c.createElement(Me,{autoFocus:r,isDisabled:!i,initialFocusRef:o,finalFocusRef:u,restoreFocus:d,contentRef:a},c.createElement(St,{removeScrollBar:!f,allowPinchZoom:l,enabled:s,forwardProps:!0},e.children))}u.a&&(tr.displayName="ModalContent");var nr=Object(a.a)((function(e,t){var r=e.className,n=Gt(e,["className"]),i=Object(De.c)("chakra-modal__overlay",r),a=Zt({pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh"},Object(Ve.c)().overlay);return c.createElement(er,Zt({},He,{__css:a,ref:t,className:i},n))}));u.a&&(nr.displayName="ModalOverlay");var ir=Object(a.a)((function(e,t){var r=e.className,n=Gt(e,["className"]),i=Qt(),a=i.headerId,o=i.setHeaderMounted;c.useEffect((function(){return o(!0),function(){return o(!1)}}),[o]);var s=Object(De.c)("chakra-modal__header",r),u=Zt({flex:0},Object(Ve.c)().header);return c.createElement(l.a.header,Zt({ref:t,className:s,id:a},n,{__css:u}))}));u.a&&(ir.displayName="ModalHeader");var ar=Object(a.a)((function(e,t){var r=e.className,n=Gt(e,["className"]),i=Qt(),a=i.bodyId,o=i.setBodyMounted;c.useEffect((function(){return o(!0),function(){return o(!1)}}),[o]);var s=Object(De.c)("chakra-modal__body",r),u=Object(Ve.c)();return c.createElement(l.a.div,Zt({ref:t,className:s,id:a},n,{__css:u.body}))}));u.a&&(ar.displayName="ModalBody");var or=Object(a.a)((function(e,t){var r=e.className,n=Gt(e,["className"]),i=Object(De.c)("chakra-modal__footer",r),a=Zt({display:"flex",alignItems:"center",justifyContent:"flex-end"},Object(Ve.c)().footer);return c.createElement(l.a.footer,Zt({ref:t},n,{__css:a,className:i}))}));u.a&&(or.displayName="ModalFooter");var sr=Object(a.a)((function(e,t){var r=e.onClick,n=e.className,i=Gt(e,["onClick","className"]),a=Qt().onClose,o=Object(De.c)("chakra-modal__close-btn",n);return c.createElement(h,Zt({ref:t,position:"absolute",top:"8px",right:"12px",className:o,onClick:Object(Ze.b)(r,(function(e){e.stopPropagation(),a()}))},i))}));u.a&&(sr.displayName="ModalCloseButton")},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=r(54),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=Object(a.a)((function(e){return l(e)?e:e.replace(o,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,r){return p={name:t,styles:r,next:p},t}))}return 1===i[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return p={name:r.name,styles:r.styles,next:p},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)p={name:n.name,styles:n.styles,next:p},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=f(e,t,r[i])+";";else for(var a in r){var o=r[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?n+=a+"{"+t[o]+"}":u(o)&&(n+=c(a)+":"+d(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=f(e,t,o);switch(a){case"animation":case"animationName":n+=c(a)+":"+s+";";break;default:n+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)u(o[l])&&(n+=c(a)+":"+d(a,o[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=p,a=r(e);return p=i,f(e,t,a)}break;case"string":}if(null==t)return r;var o=t[r];return void 0!==o?o:r}var p,h=/label:\s*([^\s;\n{]+)\s*;/g;var g=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";p=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=f(r,t,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=f(r,t,e[s]),i&&(a+=o[s]);h.lastIndex=0;for(var l,u="";null!==(l=h.exec(a));)u+="-"+l[1];return{name:n(a)+u,styles:a,next:p}}},function(e,t,r){"use strict";r.d(t,"h",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"a",(function(){return f})),r.d(t,"g",(function(){return p})),r.d(t,"b",(function(){return h}));var n=r(4),i=r(121),a=r.n(i);r.d(t,"d",(function(){return a.a}));var o=r(26),s=r.n(o);function l(e,t){var r={};return Object.keys(e).forEach((function(n){t.includes(n)||(r[n]=e[n])})),r}function u(e,t,r,n){var i="string"===typeof t?t.split("."):[t];for(n=0;n<i.length&&e;n+=1)e=e[i[n]];return void 0===e?r:e}r.d(t,"e",(function(){return s.a}));var c=function(e){var t=new WeakMap;return function(r,n,i,a){t.has(r)||t.set(r,new Map);var o=t.get(r),s="string"===typeof n?n.split("."):[n];if(o.has(s))return o.get(s);var l=e(r,n,i,a);return o.set(s,l),l}}(u);function d(e,t){var r={};return Object.keys(e).forEach((function(n){var i=e[n];t(i,n,e)&&(r[n]=i)})),r}var f=function(e){return d(e,(function(e){return null!==e&&void 0!==e}))},p=function(e){return Object.keys(e)},h=function(e){return e.reduce((function(e,t){var r=Object(n.a)(t,2),i=r[0],a=r[1];return e[i]=a,e}),{})}},,function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return e.toggleButtonOff||e.toggleButton},p=function(e){return e.toggleButtonOn||e.toggleButton},h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"handleClick",(function(){return e.props.onToggle&&e.props.onToggle(!e.props.isOn)})),d(a(e),"handleKeyDown",(0,u.getKeyboardShortcutBlocker)(["Enter"," "])),d(a(e),"handleKeyUp",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.handleClick())})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.isOn,r=e.label,n=e.className,i=e.classNamePrefix,a=e.toggledOnContent,o=e.toggledOffContent,s=e.onRef,c=e.classes,d=t?"toggled-on":"toggled-off",h=(0,u.hydrateClassNames)({classes:c,selectClasses:t?p:f,classNamePrefix:i,classNames:[n,"toggle-button",d]}),g=t?a:o;return l.createElement("div",{role:"button","aria-pressed":t,title:r,onClick:this.handleClick,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,ref:s,className:h,tabIndex:0},l.createElement("div",{tabIndex:-1},g))}}]),r}(l.Component);d(h,"defaultProps",{useDefaultClassNaming:!0});var g=h;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return"string"===typeof e?{streamUrl:e}:e};t.default=n},function(e,t){var r,n,i,a,o,s,l;r=function(e){return 9e4*e},n=function(e,t){return e*t},i=function(e){return e/9e4},a=function(e,t){return e/t},o=function(e,t){return r(a(e,t))},s=function(e,t){return n(i(e),t)},l=function(e,t,r){return i(r?e:e-t)},e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:r,secondsToAudioTs:n,videoTsToSeconds:i,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s,metadataTsToSeconds:l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.emptyTracks=void 0;var n=[];t.emptyTracks=n;var i=[],a=new Date(0);var o=function(e,t,r){var o="unknown";function s(e){r&&r(e),o=e}return r&&r(o),{startPlaybackSession:function(){s("new"),function(e){e({duration:0,position:0,playMode:"ondemand",playState:"inactive",isBuffering:!1,isPaused:!1,isSeeking:!1,volume:1,muted:!1,bufferedAhead:0,isPipAvailable:!1,isAirPlayAvailable:!1,isPipActive:!1,isAirPlayActive:!1,bitrates:i,audioTracks:n,textTracks:n,absolutePosition:a,absoluteStartPosition:a})}(e),t.stop()},endPlaybackSession:function(r){r&&s(r),function(e){e({playState:"inactive",isBuffering:!1,isPaused:!1,isSeeking:!1,isPipAvailable:!1,isAirPlayAvailable:!1})}(e),t.stop()},getStage:function(){return o},setStage:s,cleanup:function(){t.stop()}}};t.default=o},function(e,t,r){"use strict";r(124);var n=r(69);r.d(t,"pseudoPropNames",(function(){return n.a})),r.d(t,"pseudoSelectors",(function(){return n.b}));var i=r(125);r.o(i,"css")&&r.d(t,"css",(function(){return i.css})),r.o(i,"propNames")&&r.d(t,"propNames",(function(){return i.propNames}))},function(e,t,r){"use strict";t.a=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},function(e,t,r){"use strict";r(10),r(6);var n=r(53);r.o(n,"css")&&r.d(t,"css",(function(){return n.css})),r.o(n,"propNames")&&r.d(t,"propNames",(function(){return n.propNames}));var i=r(175);r.d(t,"css",(function(){return i.a}));var a=r(126);r.o(a,"propNames")&&r.d(t,"propNames",(function(){return a.propNames}));var o=r(127);r.o(o,"propNames")&&r.d(t,"propNames",(function(){return o.propNames}));var s=r(128);r.d(t,"propNames",(function(){return s.a}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(46),i=r(27),a=r(0),o=r(92),s=r.n(o),l=r(311),u=r(62);r(39);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(){return c({},Object(l.b)(),{theme:Object(u.d)()})}function f(e,t,r){var o,l=t.styleConfig,u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["styleConfig"]),c=d(),f=c.theme,p=c.colorMode,h=Object(n.c)(f,"components."+e),g=l||h,m=Object(n.d)({theme:f,colorMode:p},null!=(o=null==g?void 0:g.defaultProps)?o:{},Object(n.a)(Object(n.h)(u,["children"]))),v=Object(a.useRef)({});return Object(a.useMemo)((function(){if(g){var e,t,a,o,l,u=Object(i.d)(null!=(e=g.baseStyle)?e:{},m),c=Object(i.d)(null!=(t=null==(a=g.variants)?void 0:a[m.variant])?t:{},m),d=Object(i.d)(null!=(o=null==(l=g.sizes)?void 0:l[m.size])?o:{},m),f=Object(n.d)({},u,d,c);(null==r?void 0:r.isMultiPart)&&g.parts&&g.parts.forEach((function(e){var t;f[e]=null!=(t=f[e])?t:{}})),s()(v.current,f)||(v.current=f)}return v.current}),[g,m,null==r?void 0:r.isMultiPart])}function p(e,t){return f(e,t,{isMultiPart:!0})}},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=r(208)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(70);function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";var n=r(107),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?o:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var i=p(r);i&&i!==h&&e(t,i,n)}var o=c(r);d&&(o=o.concat(d(r)));for(var s=l(t),g=l(r),m=0;m<o.length;++m){var v=o[m];if(!a[v]&&(!n||!n[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(r,v);try{u(t,v,y)}catch(b){}}}}return t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(58);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n.a)(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return _})),r.d(t,"a",(function(){return E})),r.d(t,"b",(function(){return w}));var n=r(4),i=r(117),a=r(74),o=r(75),s=r(20),l=r(56),u=r(39),c=r(62),d=r(22),f=r(64),p=r(18),h=r(7),g=r(0);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var y=Object(f.a)({strict:!1,name:"FormControlContext"}),b=Object(n.a)(y,2),k=b[0],_=b[1];var E=Object(s.a)((function(e,t){var r=Object(l.a)("Form",e),o=function(e){var t=e.id,r=e.isRequired,o=e.isInvalid,s=e.isDisabled,l=e.isLoading,u=e.isReadOnly,c=v(e,["id","isRequired","isInvalid","isDisabled","isLoading","isReadOnly"]),d=Object(i.a)(),f=t||"field-"+d,p=f+"-label",h=f+"-feedback",g=f+"-helptext",m=Object(a.a)(),y=Object(n.a)(m,2),b=y[0],k=y[1],_=Object(a.a)(),E=Object(n.a)(_,2),w=E[0],S=E[1];return{isRequired:!!r,isInvalid:!!o,isLoading:!!l,isReadOnly:!!u,isDisabled:!!s,isFocused:!!w,onFocus:S.on,onBlur:S.off,hasHelpText:b,setHasHelpText:k,id:f,labelId:p,feedbackId:h,helpTextId:g,htmlProps:c}}(Object(u.b)(e)),s=o.htmlProps,f=v(o,["htmlProps"]),h=Object(p.c)("chakra-form-control",e.className);return g.createElement(k,{value:f},g.createElement(c.b,{value:r},g.createElement(d.a.div,m({role:"group",ref:t},s,{className:h,__css:{width:"100%",position:"relative"}}))))}));h.a&&(E.displayName="FormControl");var w=Object(s.a)((function(e,t){var r,n=_(),i=Object(c.c)();if(Object(o.a)((function(){if(!(null==n?void 0:n.isInvalid))return null==n||n.setHasHelpText.on(),function(){return null==n?void 0:n.setHasHelpText.off()}}),[]),null==n?void 0:n.isInvalid)return null;var a=Object(p.c)("chakra-form__helper-text",e.className);return g.createElement(d.a.div,m({ref:t,__css:i.helperText},e,{className:a,id:null!=(r=e.id)?r:null==n?void 0:n.helpTextId}))}));h.a&&(w.displayName="FormHelperText")},function(e,t,r){"use strict";r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return g})),r.d(t,"a",(function(){return m}));var n=r(4),i=r(311),a=r(55),o=r(64),s=r(46),l=r(27),u=r(36),c=r(0);function d(){var e=c.useContext(u.b);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />`");return e}var f=Object(o.a)({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),p=Object(n.a)(f,2),h=p[0],g=p[1],m=function(){var e=Object(i.b)().colorMode;return c.createElement(u.a,{styles:function(t){var r=Object(s.c)(t,"styles.global"),n=Object(l.d)(r,{theme:t,colorMode:e});if(n){var i=Object(a.css)(n)(t);return i}}})}},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r(7),i=r(46),a=r(177),o=Object.freeze(["base","sm","md","lg","xl"]);function s(e,t){return Object(n.b)(e)?e.map((function(e){return null===e?null:t(e)})):Object(n.g)(e)?Object(i.g)(e).reduce((function(r,n){return r[n]=t(e[n]),r}),{}):null!=e?t(e):null}function l(e,t){void 0===t&&(t=o);for(var r=t.map((function(t){var r;return null!=(r=e[t])?r:null}));null===Object(a.b)(r);)r.pop();return r}function u(e,t){void 0===t&&(t=o);var r=Object.keys(e);return r.length>0&&r.every((function(e){return t.includes(e)}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l}));var n=r(0),i=r(7);function a(e){void 0===e&&(e={});var t=e,r=t.strict,i=void 0===r||r,a=t.errorMessage,o=void 0===a?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":a,s=t.name,l=n.createContext(void 0);return l.displayName=s,[l.Provider,function(){var e=n.useContext(l);if(!e&&i)throw new Error(o);return e},l]}function o(e){return n.Children.toArray(e).filter((function(e){return n.isValidElement(e)}))}function s(e,t){if(null!=e)if(Object(i.d)(e))e(t);else try{e.current=t}catch(r){throw new Error("Cannot assign value '"+t+"' to ref '"+e+"'")}}function l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach((function(t){return s(t,e)}))}}},,function(e,t,r){"use strict";var n=r(42),i=r(11),a=r(15),o=r(17),s=r(12),l=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ControlledVideoStreamer=void 0;var u,c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),d=(u=r(137))&&u.__esModule?u:{default:u};function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e,t,r){return t.forEach((function(t){return e(t,r)}))};t.ControlledVideoStreamer=function(e){return c.createElement(d.default.Consumer,null,(function(t){var r=t.videoStreamer;return null!=r?c.cloneElement(r,e):null}))};var v=function(e,t){var r=t||e.streamStateKeysForObservation||[];if(!Array.isArray(r))throw new Error("The component ".concat(e.displayName||e.name," cannot be connected to the player controller because no stream state property keys are specified to be observed."));var u=function(t){s(d,t);var u=l(d);function d(e){var t;i(this,d),t=u.call(this,e),g(o(t),"update",(function(e){return t.setState(e)}));var n=e.inspect(),a={};return n&&r.forEach((function(e){return a[e]=n[e]})),t.state=a,t}return a(d,[{key:"componentWillUnmount",value:function(){m(this.props.unobserve,r,this.update)}},{key:"componentDidMount",value:function(){var e=this;m(this.props.observe,r,this.update);var t=this.props.inspect();t&&r.forEach((function(r){return e.setState(n({},r,t[r]))}))}},{key:"render",value:function(){return c.createElement(e,h({},this.props.passdownProps,{},this.state))}}]),d}(c.Component),f=function(t){return c.createElement(d.default.Consumer,null,(function(r){var n=r.observe,i=r.unobserve,a=r.setProperties,o=r.inspect;return n?c.createElement(u,{observe:n,unobserve:i,inspect:o,passdownProps:h({},t,{setProperties:a,inspect:o})}):c.createElement(e,h({},t,{setProperties:a,inspect:o}))}))};return f.displayName=e.displayName?"Connected"+e.displayName:"Connected"+e.name,f};t.default=v},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9),c=r(68),d=r(35);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t){var r=function(e){o(u,e);var r=s(u);function u(e){var t;return n(this,u),t=r.call(this,e),p(a(t),"implementation",void 0),p(a(t),"videoRef",void 0),p(a(t),"setProperties",(function(e){var r=t.implementation&&t.implementation.applyProperties;r&&r(e)})),p(a(t),"handleTrackElementDataChange",(function(e){t.setState({trackElementData:e})})),p(a(t),"handleSourceChange",(function(e,r){var n=t.implementation;if(n)return n.startPlaybackSession(),n.textTrackManager.clear(),n.handleSourceChange(e,r).then((function(){n.audioTrackManager.handleSourceChange(),n.textTrackManager.handleSourcePropChange(e)})).catch((function(t){return n.endPlaybackSession("dead"),e.onPlaybackError&&e.onPlaybackError(t)}))})),t.videoRef=l.createRef(),t.state={videoElementEventHandlers:{},render:c.renderWithoutSource},t}return i(u,[{key:"componentDidMount",value:function(){var e=this,r=this.videoRef.current;r&&t(this,this.props.configuration,r,this.handleTrackElementDataChange).then((function(t){e.implementation=t;var r=t.render,n=t.videoElementEventHandlers,i=t.thirdPartyPlayer;if(e.setState({render:r,videoElementEventHandlers:n}),e.props.onReady&&e.props.onReady({setProperties:e.setProperties,thirdPartyPlayer:i}),e.props.source)return e.handleSourceChange(e.props)})).catch((function(t){if(!(e.props.onPlaybackError&&t instanceof d.PlaybackError))throw t;e.props.onPlaybackError(t)}))}},{key:"componentWillUnmount",value:function(){var e=this.videoRef.current;if(e){if(e===document.pictureInPictureElement)return document.exitPictureInPicture();"picture-in-picture"===e.webkitPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&e.webkitSetPresentationMode("inline")}if(this.implementation&&(this.implementation.endPlaybackSession&&this.implementation.endPlaybackSession("dead"),this.implementation.cleanup))return this.implementation.cleanup().catch((function(e){throw e}))}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this.videoRef.current,t=document.pictureInPictureElement,r=e.webkitPresentationMode;return{wasPipActive:e===t||"picture-in-picture"===r,previousVideoElement:this.videoRef.current}}},{key:"componentDidUpdate",value:function(e,t,r){var n=this,i=this.implementation;i&&(e.source!==this.props.source?r&&r.wasPipActive?document.exitPictureInPicture?document.exitPictureInPicture().then((function(){return n.handleSourceChange(n.props,e)}),(function(){return n.handleSourceChange(n.props,e)})):r.previousVideoElement&&"function"===typeof r.previousVideoElement.webkitSetPresentationMode&&(r.previousVideoElement.webkitSetPresentationMode("inline"),this.handleSourceChange(this.props,e)):this.handleSourceChange(this.props,e):e.textTracks!==this.props.textTracks&&i.textTrackManager.handleTextTracksPropChange(this.props))}},{key:"render",value:function(){var e=this.videoRef,t=this.state,r=t.videoElementEventHandlers,n=t.render,i=t.trackElementData,a=!this.props.configuration||null==this.props.configuration.playsInline||this.props.configuration.playsInline;return n(e,r,this.props,"video-streamer",a,i)}}]),u}(l.Component);return p(r,"defaultProps",{classNamePrefix:u.defaultClassNamePrefix}),r.displayName=e,r};t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderWithSource=t.renderWithoutSource=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(9);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t=e.src,r=e.srclang,i=e.kind,a=e.label,o=e.onRef;return n.createElement("track",{key:t+(a||""),kind:i,src:t,srcLang:r,label:a,ref:o})};t.renderWithoutSource=function(e,t,r,a,l,u,c){var d=r.className,f=r.classNamePrefix,p=(0,i.prefixClassNames)(f,a,d);return n.createElement("video",o({autoPlay:!0,controls:!1,style:c,className:p,ref:e,playsInline:l},t),Array.isArray(u)&&u.map(s))};t.renderWithSource=function(e,t,r,a,l,u,c){var d=r.className,f=r.classNamePrefix,p=r.source,h=(0,i.prefixClassNames)(f,a,d),g=p&&("string"===typeof p?p:p.streamUrl);return g?n.createElement("video",o({autoPlay:!0,controls:!1,style:c,className:h,src:g,ref:e,playsInline:l},t),Array.isArray(u)&&u.map(s)):n.createElement("video",{className:h,ref:e,src:"",controls:!1,style:c})}},function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(46),i=function(e){return e+":hover &, "+e+"[data-hover] &"},a=function(e){return e+":focus &, "+e+"[data-focus] &"},o=function(e){return e+":active &, "+e+"[data-active] &"},s=function(e){return e+":disabled &, "+e+"[data-disabled] &"},l=function(e){return e+":invalid &, "+e+"[data-invalid] &"},u=function(e){return e+":checked &, "+e+"[data-checked] &"};function c(e){return d(e,"[role=group]","[data-group]")}function d(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.map(e).join(", ")}var f={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible",_disabled:d((function(e){return e+", "+e+":focus, "+e+":hover"}),"&[disabled]","&[aria-disabled=true]","&[data-disabled]"),_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:c(i),_groupFocus:c(a),_groupActive:c(o),_groupDisabled:c(s),_groupInvalid:c(l),_groupChecked:c(u),_placeholder:"&::placeholder",_fullScreen:"&:fullscreen",_selection:"&::selection"},p=Object(n.g)(f)},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),i=function(e,t){var r=n.useRef(!1);return n.useEffect((function(){if(r.current)return e();r.current=!0}),t),r.current}},function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return x})),r.d(t,"a",(function(){return O}));var n="persist/REHYDRATE",i="persist/REGISTER";function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,n){n.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r);return e&&"object"===a(e)&&Object.keys(e).forEach((function(n){"_persist"!==n&&t[n]===r[n]&&(i[n]=e[n])})),i}function u(e){var t,r=e.blacklist||null,n=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:"persist:").concat(e.key),s=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:c;var l=e.writeFailHandler||null,u={},d={},f=[],p=null,h=null;function g(){if(0===f.length)return p&&clearInterval(p),void(p=null);var e=f.shift(),r=i.reduce((function(t,r){return r.in(t,e,u)}),u[e]);if(void 0!==r)try{d[e]=t(r)}catch(n){console.error("redux-persist/createPersistoid: error serializing state",n)}else delete d[e];0===f.length&&(Object.keys(d).forEach((function(e){void 0===u[e]&&delete d[e]})),h=s.setItem(o,t(d)).catch(v))}function m(e){return(!n||-1!==n.indexOf(e)||"_persist"===e)&&(!r||-1===r.indexOf(e))}function v(e){l&&l(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&u[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(u).forEach((function(t){void 0===e[t]&&m(t)&&-1===f.indexOf(t)&&void 0!==u[t]&&f.push(t)})),null===p&&(p=setInterval(g,a)),u=e},flush:function(){for(;0!==f.length;)g();return h||Promise.resolve()}}}function c(e){return JSON.stringify(e)}function d(e){var t,r=e.transforms||[],n="".concat(void 0!==e.keyPrefix?e.keyPrefix:"persist:").concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:f,i.getItem(n).then((function(e){if(e)try{var n={},i=t(e);return Object.keys(i).forEach((function(e){n[e]=r.reduceRight((function(t,r){return r.out(t,e,i)}),t(i[e]))})),n}catch(a){throw a}}))}function f(e){return JSON.parse(e)}function p(e){0}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y(e,t){var r=void 0!==e.version?e.version:-1,i=(e.debug,void 0===e.stateReconciler?l:e.stateReconciler),a=e.getStoredState||d,o=void 0!==e.timeout?e.timeout:5e3,s=null,c=!1,f=!0,h=function(e){return e._persist.rehydrated&&s&&!f&&s.update(e),e};return function(l,d){var m=l||{},y=m._persist,b=v(m,["_persist"]);if("persist/PERSIST"===d.type){var k=!1,_=function(t,r){k||(d.rehydrate(e.key,t,r),k=!0)};if(o&&setTimeout((function(){!k&&_(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),o),f=!1,s||(s=u(e)),y)return g({},t(b,d),{_persist:y});if("function"!==typeof d.rehydrate||"function"!==typeof d.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),a(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,r).then((function(e){_(e)}),(function(e){_(void 0,e)}))}),(function(e){_(void 0,e)})),g({},t(b,d),{_persist:{version:r,rehydrated:!1}})}if("persist/PURGE"===d.type)return c=!0,d.result(function(e){var t=e.storage,r="".concat(void 0!==e.keyPrefix?e.keyPrefix:"persist:").concat(e.key);return t.removeItem(r,p)}(e)),g({},t(b,d),{_persist:y});if("persist/FLUSH"===d.type)return d.result(s&&s.flush()),g({},t(b,d),{_persist:y});if("persist/PAUSE"===d.type)f=!0;else if(d.type===n){if(c)return g({},b,{_persist:g({},y,{rehydrated:!0})});if(d.key===e.key){var E=t(b,d),w=d.payload,S=g({},!1!==i&&void 0!==w?i(w,l,E,e):E,{_persist:g({},y,{rehydrated:!0})});return h(S)}}if(!y)return t(l,d);var T=t(b,d);return T===b?l:h(g({},T,{_persist:y}))}}var b=r(33);function k(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S={registry:[],bootstrapped:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return E({},e,{registry:[].concat(k(e.registry),[t.key])});case n:var r=e.registry.indexOf(t.key),a=k(e.registry);return a.splice(r,1),E({},e,{registry:a,bootstrapped:0===a.length});default:return e}};function x(e,t,r){var a=r||!1,o=Object(b.createStore)(T,S,t&&t.enhancer?t.enhancer:void 0),s=function(e){o.dispatch({type:i,key:e})},l=function(t,r,i){var s={type:n,payload:r,err:i,key:t};e.dispatch(s),o.dispatch(s),a&&u.getState().bootstrapped&&(a(),a=!1)},u=E({},o,{purge:function(){var t=[];return e.dispatch({type:"persist/PURGE",result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:"persist/FLUSH",result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:"persist/PAUSE"})},persist:function(){e.dispatch({type:"persist/PERSIST",register:s,rehydrate:l})}});return t&&t.manualPersist||u.persist(),u}function O(e,t){(t||{}).debug;return function(t,r){if(!t)return Promise.resolve(void 0);var n=t._persist&&void 0!==t._persist.version?t._persist.version:-1;if(n===r)return Promise.resolve(t);if(n>r)return Promise.resolve(t);var i=Object.keys(e).map((function(e){return parseInt(e)})).filter((function(e){return r>=e&&e>n})).sort((function(e,t){return e-t}));try{var a=i.reduce((function(t,r){return e[r](t)}),t);return Promise.resolve(a)}catch(o){return Promise.reject(o)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectStreamType=t.isResourcePlayReadyOrWidevine=t.isResourceWidevine=t.isResourcePlayReady=t.isResourceFairPlay=t.isChromiumEdgeOnWindows=t.isLegacyMicrosoft=t.isSafari=t.streamTypes=t.hlsContentTypes=void 0;var n=["application/x-mpegurl","vnd.apple.mpegurl"];t.hlsContentTypes=n;var i=[{name:"progressive",label:"Progressive (MP4, WebM)",contentTypes:["video/mp4","video/webm"],urlMatch:/(\.webm|\.mp4)/,urlNotMatch:/(\/Manifest|\.mpd|\.m3u)/},{name:"dash",label:"MPEG DASH",contentTypes:["application/dash+xml"],urlMatch:/\.mpd/},{name:"hls",label:"HLS",contentTypes:n,urlMatch:/\.m3u/},{name:"smooth",label:"Smooth stream",contentTypes:["application/vnd.ms-sstr+xml"],urlMatch:/\/Manifest/,urlNotMatch:/(\.mpd|\.m3u|\.mp4)/}];t.streamTypes=i;t.isSafari=function(e){return e.indexOf("Safari")>0&&e.indexOf("Chrome")<0&&e.indexOf("Firefox")<0};t.isLegacyMicrosoft=function(e){return e.match(/(Edge\/|rv:11\.0)/)};t.isChromiumEdgeOnWindows=function(e){return e.match(/(Windows NT(.*?)Edg\/)/)};t.isResourceFairPlay=function(e){var t=e.contentType,r=e.drmType?e.drmType:null;return!!(t&&n.indexOf(t.toLowerCase())>=0&&r&&r.match(/(fairplay|com\.apple\.fps)/i))};var a=function(e){return!(!e.drmType||!e.drmType.match(/playready/i))};t.isResourcePlayReady=a;var o=function(e){return!(!e.drmType||!e.drmType.match(/widevine/i))};t.isResourceWidevine=o;t.isResourcePlayReadyOrWidevine=function(e){return a(e)||o(e)};t.detectStreamType=function(e,t){return i.filter((function(r){if(t)return r.contentTypes.indexOf(t.toLowerCase())>=0;var n=r.urlNotMatch;return n?r.urlMatch.test(e)&&!n.test(e):r.urlMatch.test(e)}))[0]||i[0]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(4),i=r(0);function a(e){void 0===e&&(e=!1);var t=Object(i.useState)(e),r=Object(n.a)(t,2),a=r[0],o=r[1];return[a,{on:Object(i.useCallback)((function(){o(!0)}),[]),off:Object(i.useCallback)((function(){o(!1)}),[]),toggle:Object(i.useCallback)((function(){o((function(e){return!e}))}),[])}]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),i=r(18).f?n.useLayoutEffect:n.useEffect},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(20),i=r(7),a=r(0),o=r(110);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){var t=e.viewBox,r=void 0===t?"0 0 24 24":t,l=e.d,u=e.path,c=e.displayName,d=e.defaultProps,f=void 0===d?{}:d,p=Object(n.a)((function(e,t){return a.createElement(o.a,s({ref:t,viewBox:r},f,e),null!=u?u:a.createElement("path",{fill:"currentColor",d:l}))}));return i.a&&(p.displayName=c),p}},function(e,t,r){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),a=/Edge\/(\d+)/.exec(e),o=n||i||a,s=o&&(n?document.documentMode||6:+(a||i)[1]),l=!a&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!a&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),g=!a&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=/Android/.test(e),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=g||/Mac/.test(t),b=/\bCrOS\b/.test(e),k=/win/i.test(t),_=d&&e.match(/Version\/(\d*\.\d*)/);_&&(_=Number(_[1])),_&&_>=15&&(d=!1,l=!0);var E=y&&(u||d&&(null==_||_<12.11)),w=r||o&&s>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var T,x=function(e,t){var r=e.className,n=S(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function P(e,t){return O(e).appendChild(t)}function A(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function C(e,t,r,n){var i=A(e,t,r,n);return i.setAttribute("role","presentation"),i}function M(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function R(e,t){var r=e.className;S(t).test(r)||(e.className+=(r?" ":"")+t)}function D(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!S(r[n]).test(t)&&(t+=" "+r[n]);return t}T=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var j=function(e){e.select()};function L(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function N(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function U(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var a=n||0,o=i||0;;){var s=e.indexOf("\t",a);if(s<0||s>=t)return o+(t-a);o+=s-a,o+=r-o%r,a=s+1}}g?j=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:o&&(j=function(e){try{e.select()}catch(t){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=L(this.onTimeout,this)};function F(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var z={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},$={origin:"*mouse"},W={origin:"+move"};function K(e,t,r){for(var n=0,i=0;;){var a=e.indexOf("\t",n);-1==a&&(a=e.length);var o=a-n;if(a==e.length||i+o>=t)return n+Math.min(o,t-i);if(i+=a-n,n=a+1,(i+=r-i%r)>=t)return n}}var H=[""];function G(e){for(;H.length<=e;)H.push(Z(H)+" ");return H[e]}function Z(e){return e[e.length-1]}function q(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function X(){}function Y(e,t){var r;return Object.create?r=Object.create(e):(X.prototype=e,r=new X),t&&N(t,r),r}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&J(e))||t.test(e):J(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ne(e){return e.charCodeAt(0)>=768&&re.test(e)}function ie(e,t,r){for(;(r<0?t>0:t<e.length)&&ne(e.charAt(t));)t+=r;return t}function ae(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,a=n<0?Math.ceil(i):Math.floor(i);if(a==t)return e(a)?t:r;e(a)?r=a:t=a+n}}var oe=null;function se(e,t,r){var n;oe=null;for(var i=0;i<e.length;++i){var a=e[i];if(a.from<t&&a.to>t)return i;a.to==t&&(a.from!=a.to&&"before"==r?n=i:oe=i),a.from==t&&(a.from!=a.to&&"before"!=r?n=i:oe=i)}return null!=n?n:oe}var le=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,i=/[1n]/;function a(e,t,r){this.level=e,this.from=t,this.to=r}return function(o,s){var l="ltr"==s?"L":"R";if(0==o.length||"ltr"==s&&!e.test(o))return!1;for(var u,c=o.length,d=[],f=0;f<c;++f)d.push((u=o.charCodeAt(f))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var p=0,h=l;p<c;++p){var g=d[p];"m"==g?d[p]=h:h=g}for(var m=0,v=l;m<c;++m){var y=d[m];"1"==y&&"r"==v?d[m]="n":r.test(y)&&(v=y,"r"==y&&(d[m]="R"))}for(var b=1,k=d[0];b<c-1;++b){var _=d[b];"+"==_&&"1"==k&&"1"==d[b+1]?d[b]="1":","!=_||k!=d[b+1]||"1"!=k&&"n"!=k||(d[b]=k),k=_}for(var E=0;E<c;++E){var w=d[E];if(","==w)d[E]="N";else if("%"==w){var S=void 0;for(S=E+1;S<c&&"%"==d[S];++S);for(var T=E&&"!"==d[E-1]||S<c&&"1"==d[S]?"1":"N",x=E;x<S;++x)d[x]=T;E=S-1}}for(var O=0,P=l;O<c;++O){var A=d[O];"L"==P&&"1"==A?d[O]="L":r.test(A)&&(P=A)}for(var C=0;C<c;++C)if(t.test(d[C])){var M=void 0;for(M=C+1;M<c&&t.test(d[M]);++M);for(var I="L"==(C?d[C-1]:l),R=I==("L"==(M<c?d[M]:l))?I?"L":"R":l,D=C;D<M;++D)d[D]=R;C=M-1}for(var j,L=[],N=0;N<c;)if(n.test(d[N])){var U=N;for(++N;N<c&&n.test(d[N]);++N);L.push(new a(0,U,N))}else{var B=N,F=L.length,z="rtl"==s?1:0;for(++N;N<c&&"L"!=d[N];++N);for(var V=B;V<N;)if(i.test(d[V])){B<V&&(L.splice(F,0,new a(1,B,V)),F+=z);var $=V;for(++V;V<N&&i.test(d[V]);++V);L.splice(F,0,new a(2,$,V)),F+=z,B=V}else++V;B<N&&L.splice(F,0,new a(1,B,N))}return"ltr"==s&&(1==L[0].level&&(j=o.match(/^\s+/))&&(L[0].from=j[0].length,L.unshift(new a(0,0,j[0].length))),1==Z(L).level&&(j=o.match(/\s+$/))&&(Z(L).to-=j[0].length,L.push(new a(0,c-j[0].length,c)))),"rtl"==s?L.reverse():L}}();function ue(e,t){var r=e.order;return null==r&&(r=e.order=le(e.text,t)),r}var ce=[],de=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||ce).concat(r)}};function fe(e,t){return e._handlers&&e._handlers[t]||ce}function pe(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var a=F(i,r);a>-1&&(n[t]=i.slice(0,a).concat(i.slice(a+1)))}}}function he(e,t){var r=fe(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ge(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),he(e,r||t.type,e,t),_e(t)||t.codemirrorIgnore}function me(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==F(r,t[n])&&r.push(t[n])}function ve(e,t){return fe(e,t).length>0}function ye(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function be(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ke(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function _e(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ee(e){be(e),ke(e)}function we(e){return e.target||e.srcElement}function Se(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Te,xe,Oe=function(){if(o&&s<9)return!1;var e=A("div");return"draggable"in e||"dragDrop"in e}();function Pe(e){if(null==Te){var t=A("span","\u200b");P(e,A("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Te=t.offsetWidth<=1&&t.offsetHeight>2&&!(o&&s<8))}var r=Te?A("span","\u200b"):A("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ae(e){if(null!=xe)return xe;var t=P(e,document.createTextNode("A\u062eA")),r=T(t,0,1).getBoundingClientRect(),n=T(t,1,2).getBoundingClientRect();return O(e),!(!r||r.left==r.right)&&(xe=n.right-r.right<3)}var Ce=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var a=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),o=a.indexOf("\r");-1!=o?(r.push(a.slice(0,o)),t+=o+1):(r.push(a),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Me=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ie=function(){var e=A("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Re=null,De={},je={};function Le(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),De[e]=t}function Ne(e){if("string"==typeof e&&je.hasOwnProperty(e))e=je[e];else if(e&&"string"==typeof e.name&&je.hasOwnProperty(e.name)){var t=je[e.name];"string"==typeof t&&(t={name:t}),(e=Y(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ne("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ne("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=Ne(t);var r=De[t.name];if(!r)return Ue(e,"text/plain");var n=r(e,t);if(Be.hasOwnProperty(t.name)){var i=Be[t.name];for(var a in i)i.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=i[a])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)n[o]=t.modeProps[o];return n}var Be={};function Fe(e,t){N(t,Be.hasOwnProperty(e)?Be[e]:Be[e]={})}function ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ve(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function $e(e,t,r){return!e.startState||e.startState(t,r)}var We=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Ke(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],a=i.chunkSize();if(t<a){r=i;break}t-=a}return r.lines[t]}function He(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,(function(e){var a=e.text;i==r.line&&(a=a.slice(0,r.ch)),i==t.line&&(a=a.slice(t.ch)),n.push(a),++i})),n}function Ge(e,t,r){var n=[];return e.iter(t,r,(function(e){n.push(e.text)})),n}function Ze(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function qe(e){if(null==e.parent)return null;for(var t=e.parent,r=F(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function Xe(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],a=i.height;if(t<a){e=i;continue e}t-=a,r+=i.chunkSize()}return r}while(!e.lines);for(var o=0;o<e.lines.length;++o){var s=e.lines[o].height;if(t<s)break;t-=s}return r+o}function Ye(e,t){return t>=e.first&&t<e.first+e.size}function Qe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Je(e,t,r){if(void 0===r&&(r=null),!(this instanceof Je))return new Je(e,t,r);this.line=e,this.ch=t,this.sticky=r}function et(e,t){return e.line-t.line||e.ch-t.ch}function tt(e,t){return e.sticky==t.sticky&&0==et(e,t)}function rt(e){return Je(e.line,e.ch)}function nt(e,t){return et(e,t)<0?t:e}function it(e,t){return et(e,t)<0?e:t}function at(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ot(e,t){if(t.line<e.first)return Je(e.first,0);var r=e.first+e.size-1;return t.line>r?Je(r,Ke(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?Je(e.line,t):r<0?Je(e.line,0):e}(t,Ke(e,t.line).text.length)}function st(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ot(e,t[n]);return r}We.prototype.eol=function(){return this.pos>=this.string.length},We.prototype.sol=function(){return this.pos==this.lineStart},We.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},We.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},We.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},We.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},We.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},We.prototype.skipToEnd=function(){this.pos=this.string.length},We.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},We.prototype.backUp=function(e){this.pos-=e},We.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=U(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},We.prototype.indentation=function(){return U(this.string,null,this.tabSize)-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},We.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},We.prototype.current=function(){return this.string.slice(this.start,this.pos)},We.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},We.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},We.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var lt=function(e,t){this.state=e,this.lookAhead=t},ut=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ct(e,t,r,n){var i=[e.state.modeGen],a={};bt(e,t.text,e.doc.mode,r,(function(e,t){return i.push(e,t)}),a,n);for(var o=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],l=1,u=0;r.state=!0,bt(e,t.text,s.mode,r,(function(e,t){for(var r=l;u<e;){var n=i[l];n>e&&i.splice(l,1,e,i[l+1],n),l+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var a=i[r+1];i[r+1]=(a?a+" ":"")+"overlay "+t}}),a),r.state=o,r.baseTokens=null,r.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:a.bgClass||a.textClass?a:null}}function dt(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=ft(e,qe(t)),i=t.text.length>e.options.maxHighlightLength&&ze(e.doc.mode,n.state),a=ct(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=a.styles,a.classes?t.styleClasses=a.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ft(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new ut(n,!0,t);var a=function(e,t,r){for(var n,i,a=e.doc,o=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=Ke(a,s-1),u=l.stateAfter;if(u&&(!r||s+(u instanceof lt?u.lookAhead:0)<=a.modeFrontier))return s;var c=U(l.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}(e,t,r),o=a>n.first&&Ke(n,a-1).stateAfter,s=o?ut.fromSaved(n,o,a):new ut(n,$e(n.mode),a);return n.iter(a,t,(function(r){pt(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function pt(e,t,r,n){var i=e.doc.mode,a=new We(t,e.options.tabSize,r);for(a.start=a.pos=n||0,""==t&&ht(i,r.state);!a.eol();)gt(i,a,r.state),a.start=a.pos}function ht(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Ve(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function gt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Ve(e,r).mode);var a=e.token(t,r);if(t.pos>t.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}ut.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ut.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ut.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ut.fromSaved=function(e,t,r){return t instanceof lt?new ut(e,ze(e.mode,t.state),r,t.lookAhead):new ut(e,ze(e.mode,t),r)},ut.prototype.save=function(e){var t=!1!==e?ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new lt(t,this.maxLookAhead):t};var mt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function vt(e,t,r,n){var i,a,o=e.doc,s=o.mode,l=Ke(o,(t=ot(o,t)).line),u=ft(e,t.line,r),c=new We(l.text,e.options.tabSize,u);for(n&&(a=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=gt(s,c,u.state),n&&a.push(new mt(c,i,ze(o.mode,u.state)));return n?a:new mt(c,i,u.state)}function yt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function bt(e,t,r,n,i,a,o){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new We(t,e.options.tabSize,n),f=e.options.addModeClass&&[null];for(""==t&&yt(ht(r,n.state),a);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&pt(e,t,n,d.pos),d.pos=t.length,l=null):l=yt(gt(r,d,n.state,f),a),f){var p=f[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;u<d.start;)i(u=Math.min(d.start,u+5e3),c);c=l}d.start=d.pos}for(;u<d.pos;){var h=Math.min(d.pos,u+5e3);i(h,c),u=h}}var kt=!1,_t=!1;function Et(e,t,r){this.marker=e,this.from=t,this.to=r}function wt(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function St(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Tt(e,t){if(t.full)return null;var r=Ye(e,t.from.line)&&Ke(e,t.from.line).markedSpans,n=Ye(e,t.to.line)&&Ke(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,a=t.to.ch,o=0==et(t.from,t.to),s=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var a=e[i],o=a.marker;if(null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t)||a.from==t&&"bookmark"==o.type&&(!r||!a.marker.insertLeft)){var s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(n||(n=[])).push(new Et(o,a.from,s?null:a.to))}}return n}(r,i,o),l=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var a=e[i],o=a.marker;if(null==a.to||(o.inclusiveRight?a.to>=t:a.to>t)||a.from==t&&"bookmark"==o.type&&(!r||a.marker.insertLeft)){var s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(n||(n=[])).push(new Et(o,s?null:a.from-t,null==a.to?null:a.to-t))}}return n}(n,a,o),u=1==t.text.length,c=Z(t.text).length+(u?i:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var p=wt(l,f.marker);p?u&&(f.to=null==p.to?null:p.to+c):f.to=i}}if(l)for(var h=0;h<l.length;++h){var g=l[h];null!=g.to&&(g.to+=c),null==g.from?wt(s,g.marker)||(g.from=c,u&&(s||(s=[])).push(g)):(g.from+=c,u&&(s||(s=[])).push(g))}s&&(s=xt(s)),l&&l!=s&&(l=xt(l));var m=[s];if(!u){var v,y=t.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new Et(s[b].marker,null,null));for(var k=0;k<y;++k)m.push(v);m.push(l)}return m}function xt(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ot(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Pt(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function At(e){return e.inclusiveLeft?-1:0}function Ct(e){return e.inclusiveRight?1:0}function Mt(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),a=et(n.from,i.from)||At(e)-At(t);if(a)return-a;var o=et(n.to,i.to)||Ct(e)-Ct(t);return o||t.id-e.id}function It(e,t){var r,n=_t&&e.markedSpans;if(n)for(var i=void 0,a=0;a<n.length;++a)(i=n[a]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Mt(r,i.marker)<0)&&(r=i.marker);return r}function Rt(e){return It(e,!0)}function Dt(e){return It(e,!1)}function jt(e,t){var r,n=_t&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var a=n[i];a.marker.collapsed&&(null==a.from||a.from<t)&&(null==a.to||a.to>t)&&(!r||Mt(r,a.marker)<0)&&(r=a.marker)}return r}function Lt(e,t,r,n,i){var a=Ke(e,t),o=_t&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var u=l.marker.find(0),c=et(u.from,r)||At(l.marker)-At(i),d=et(u.to,n)||Ct(l.marker)-Ct(i);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?et(u.to,r)>=0:et(u.to,r)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?et(u.from,n)<=0:et(u.from,n)<0)))return!0}}}function Nt(e){for(var t;t=Rt(e);)e=t.find(-1,!0).line;return e}function Ut(e,t){var r=Ke(e,t),n=Nt(r);return r==n?t:qe(n)}function Bt(e,t){if(t>e.lastLine())return t;var r,n=Ke(e,t);if(!Ft(e,n))return t;for(;r=Dt(n);)n=r.find(1,!0).line;return qe(n)+1}function Ft(e,t){var r=_t&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&zt(e,t,n))return!0}}function zt(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return zt(e,n.line,wt(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,a=0;a<t.markedSpans.length;++a)if((i=t.markedSpans[a]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&zt(e,t,i))return!0}function Vt(e){for(var t=0,r=(e=Nt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var a=r.parent;a;a=(r=a).parent)for(var o=0;o<a.children.length;++o){var s=a.children[o];if(s==r)break;t+=s.height}return t}function $t(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Rt(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Dt(n);){var a=t.find(0,!0);r-=n.text.length-a.from.ch,r+=(n=a.to.line).text.length-a.to.ch}return r}function Wt(e){var t=e.display,r=e.doc;t.maxLine=Ke(r,r.first),t.maxLineLength=$t(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=$t(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var Kt=function(e,t,r){this.text=e,Pt(this,t),this.height=r?r(this):1};function Ht(e){e.parent=null,Ot(e)}Kt.prototype.lineNo=function(){return qe(this)},ye(Kt);var Gt={},Zt={};function qt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Zt:Gt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var r=C("span",null,null,l?"padding-right: .1px":null),n={pre:C("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a=i?t.rest[i-1]:t.line,o=void 0;n.pos=0,n.addToken=Qt,Ae(e.display.measure)&&(o=ue(a,e.doc.direction))&&(n.addToken=Jt(n.addToken,o)),n.map=[],tr(a,n,dt(e,a,t!=e.display.externalMeasured&&qe(a))),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=D(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=D(a.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Pe(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return he(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=D(n.pre.className,n.textClass||"")),n}function Yt(e){var t=A("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,r,n,i,a,l){if(t){var u,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var a=e.charAt(i);" "!=a||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(a="\xa0"),n+=a,r=" "==a}return n}(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){u=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var h=d.exec(t),g=h?h.index-p:t.length-p;if(g){var m=document.createTextNode(c.slice(p,p+g));o&&s<9?u.appendChild(A("span",[m])):u.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!h)break;p+=g+1;var v=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=u.appendChild(A("span",G(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?((v=u.appendChild(A("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),o&&s<9?u.appendChild(A("span",[v])):u.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),o&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),r||n||i||f||a){var k=r||"";n&&(k+=n),i&&(k+=i);var _=A("span",[u],k,a);if(l)for(var E in l)l.hasOwnProperty(E)&&"style"!=E&&"class"!=E&&_.setAttribute(E,l[E]);return e.content.appendChild(_)}e.content.appendChild(u)}}function Jt(e,t){return function(r,n,i,a,o,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var d=void 0,f=0;f<t.length&&!((d=t[f]).to>u&&d.from<=u);f++);if(d.to>=c)return e(r,n,i,a,o,s,l);e(r,n.slice(0,d.to-u),i,a,null,s,l),a=null,n=n.slice(d.to-u),u=d.to}}}function er(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function tr(e,t,r){var n=e.markedSpans,i=e.text,a=0;if(n)for(var o,s,l,u,c,d,f,p=i.length,h=0,g=1,m="",v=0;;){if(v==h){l=u=c=s="",f=null,d=null,v=1/0;for(var y=[],b=void 0,k=0;k<n.length;++k){var _=n[k],E=_.marker;if("bookmark"==E.type&&_.from==h&&E.widgetNode)y.push(E);else if(_.from<=h&&(null==_.to||_.to>h||E.collapsed&&_.to==h&&_.from==h)){if(null!=_.to&&_.to!=h&&v>_.to&&(v=_.to,u=""),E.className&&(l+=" "+E.className),E.css&&(s=(s?s+";":"")+E.css),E.startStyle&&_.from==h&&(c+=" "+E.startStyle),E.endStyle&&_.to==v&&(b||(b=[])).push(E.endStyle,_.to),E.title&&((f||(f={})).title=E.title),E.attributes)for(var w in E.attributes)(f||(f={}))[w]=E.attributes[w];E.collapsed&&(!d||Mt(d.marker,E)<0)&&(d=_)}else _.from>h&&v>_.from&&(v=_.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(u+=" "+b[S]);if(!d||d.from==h)for(var T=0;T<y.length;++T)er(t,0,y[T]);if(d&&(d.from||0)==h){if(er(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var x=Math.min(p,v);;){if(m){var O=h+m.length;if(!d){var P=O>x?m.slice(0,x-h):m;t.addToken(t,P,o?o+l:l,c,h+P.length==v?u:"",s,f)}if(O>=x){m=m.slice(x-h),h=x;break}h=O,c=""}m=i.slice(a,a=r[g++]),o=qt(r[g++],t.cm.options)}}else for(var A=1;A<r.length;A+=2)t.addToken(t,i.slice(a,a=r[A]),qt(r[A+1],t.cm.options))}function rr(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=Dt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?qe(Z(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Ft(e,t)}function nr(e,t,r){for(var n,i=[],a=t;a<r;a=n){var o=new rr(e.doc,Ke(e.doc,a),a);n=a+o.size,i.push(o)}return i}var ir=null,ar=null;function or(e,t){var r=fe(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);ir?n=ir.delayedCallbacks:ar?n=ar:(n=ar=[],setTimeout(sr,0));for(var a=function(e){n.push((function(){return r[e].apply(null,i)}))},o=0;o<r.length;++o)a(o)}}function sr(){var e=ar;ar=null;for(var t=0;t<e.length;++t)e[t]()}function lr(e,t,r,n){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];"text"==a?dr(e,t):"gutter"==a?pr(e,t,r,n):"class"==a?fr(e,t):"widget"==a&&hr(e,t,n)}t.changes=null}function ur(e){return e.node==e.text&&(e.node=A("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),o&&s<8&&(e.node.style.zIndex=2)),e.node}function cr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Xt(e,t)}function dr(e,t){var r=t.text.className,n=cr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,fr(e,t)):r&&(t.text.className=r)}function fr(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=ur(t);t.background=n.insertBefore(A("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ur(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function pr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ur(t);t.gutterBackground=A("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var o=ur(t),s=t.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),o.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(A("div",Qe(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=a.hasOwnProperty(u)&&a[u];c&&s.appendChild(A("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[u]+"px; width: "+n.gutterWidth[u]+"px"))}}}function hr(e,t,r){t.alignable&&(t.alignable=null);for(var n=S("CodeMirror-linewidget"),i=t.node.firstChild,a=void 0;i;i=a)a=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);mr(e,t,r)}function gr(e,t,r,n){var i=cr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),fr(e,t),pr(e,t,r,n),mr(e,t,n),t.node}function mr(e,t,r){if(vr(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)vr(e,t.rest[n],t,r,!1)}function vr(e,t,r,n,i){if(t.widgets)for(var a=ur(r),o=0,s=t.widgets;o<s.length;++o){var l=s[o],u=A("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),yr(l,u,r,n),e.display.input.setUneditable(u),i&&l.above?a.insertBefore(u,r.gutter||r.text):a.appendChild(u),or(l,"redraw")}}function yr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function br(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!M(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),P(t.display.measure,A("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function kr(e,t){for(var r=we(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function _r(e){return e.lineSpace.offsetTop}function Er(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function wr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=P(e.measure,A("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Sr(e){return 50-e.display.nativeBarWidth}function Tr(e){return e.display.scroller.clientWidth-Sr(e)-e.display.barWidth}function xr(e){return e.display.scroller.clientHeight-Sr(e)-e.display.barHeight}function Or(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(qe(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Pr(e,t,r,n){return Mr(e,Cr(e,t),r,n)}function Ar(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[un(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Cr(e,t){var r=qe(t),n=Ar(e,r);n&&!n.text?n=null:n&&n.changes&&(lr(e,n,r,nn(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var r=qe(t=Nt(t)),n=e.display.externalMeasured=new rr(e.doc,t,r);n.lineN=r;var i=n.built=Xt(e,n);return n.text=i.pre,P(e.display.lineMeasure,i.pre),n}(e,t));var i=Or(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Mr(e,t,r,n,i){t.before&&(r=-1);var a,l=r+(n||"");return t.cache.hasOwnProperty(l)?a=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,r){var n=e.options.lineWrapping,i=n&&Tr(e);if(!t.measure.heights||n&&t.measure.width!=i){var a=t.measure.heights=[];if(n){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];Math.abs(l.bottom-u.bottom)>2&&a.push((l.bottom+u.top)/2-r.top)}}a.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(a=function(e,t,r,n){var i,a=Dr(t.map,r,n),l=a.node,u=a.start,c=a.end,d=a.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){for(;u&&ne(t.line.text.charAt(a.coverStart+u));)--u;for(;a.coverStart+c<a.coverEnd&&ne(t.line.text.charAt(a.coverStart+c));)++c;if((i=o&&s<9&&0==u&&c==a.coverEnd-a.coverStart?l.parentNode.getBoundingClientRect():jr(T(l,u,c).getClientRects(),n)).left||i.right||0==u)break;c=u,u-=1,d="right"}o&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Re)return Re;var t=P(e,A("span","x")),r=t.getBoundingClientRect(),n=T(t,0,1).getBoundingClientRect();return Re=Math.abs(r.left-n.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,i))}else{var p;u>0&&(d=n="right"),i=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==n?p.length-1:0]:l.getBoundingClientRect()}if(o&&s<9&&!u&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+rn(e.display),top:h.top,bottom:h.bottom}:Rr}for(var g=i.top-t.rect.top,m=i.bottom-t.rect.top,v=(g+m)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var k=b?y[b-1]:0,_=y[b],E={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:k,bottom:_};return i.left||i.right||(E.bogus=!0),e.options.singleCursorHeightPerLine||(E.rtop=g,E.rbottom=m),E}(e,t,r,n)).bogus||(t.cache[l]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}var Ir,Rr={left:0,right:0,top:0,bottom:0};function Dr(e,t,r){for(var n,i,a,o,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,a=1,o="left"):t<l?a=1+(i=t-s):(u==e.length-3||t==l&&e[u+3]>t)&&(i=(a=l-s)-1,t>=l&&(o="right")),null!=i){if(n=e[u+2],s==l&&r==(n.insertLeft?"left":"right")&&(o=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],o="left";if("right"==r&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],o="right";break}return{node:n,start:i,end:a,collapse:o,coverStart:s,coverEnd:l}}function jr(e,t){var r=Rr;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function Lr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Nr(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Lr(e.display.view[t])}function Ur(e){Nr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Br(){return c&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Fr(){return c&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function zr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=br(e.widgets[r]));return t}function Vr(e,t,r,n,i){if(!i){var a=zr(t);r.top+=a,r.bottom+=a}if("line"==n)return r;n||(n="local");var o=Vt(t);if("local"==n?o+=_r(e.display):o-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==n?0:Fr());var l=s.left+("window"==n?0:Br());r.left+=l,r.right+=l}return r.top+=o,r.bottom+=o,r}function $r(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=Br(),i-=Fr();else if("local"==r||!r){var a=e.display.sizer.getBoundingClientRect();n+=a.left,i+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:i-o.top}}function Wr(e,t,r,n,i){return n||(n=Ke(e.doc,t.line)),Vr(e,n,Pr(e,n,t.ch,i),r)}function Kr(e,t,r,n,i,a){function o(t,o){var s=Mr(e,i,t,o?"right":"left",a);return o?s.left=s.right:s.right=s.left,Vr(e,n,s,r)}n=n||Ke(e.doc,t.line),i||(i=Cr(e,n));var s=ue(n,e.doc.direction),l=t.ch,u=t.sticky;if(l>=n.text.length?(l=n.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return o("before"==u?l-1:l,"before"==u);function c(e,t,r){return o(r?e-1:e,1==s[t].level!=r)}var d=se(s,l,u),f=oe,p=c(l,d,"before"==u);return null!=f&&(p.other=c(l,f,"before"!=u)),p}function Hr(e,t){var r=0;t=ot(e.doc,t),e.options.lineWrapping||(r=rn(e.display)*t.ch);var n=Ke(e.doc,t.line),i=Vt(n)+_r(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Gr(e,t,r,n,i){var a=Je(e,t,r);return a.xRel=i,n&&(a.outside=n),a}function Zr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Gr(n.first,0,null,-1,-1);var i=Xe(n,r),a=n.first+n.size-1;if(i>a)return Gr(n.first+n.size-1,Ke(n,a).text.length,null,1,1);t<0&&(t=0);for(var o=Ke(n,i);;){var s=Qr(e,o,i,t,r),l=jt(o,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;o=Ke(n,i=u.line)}}function qr(e,t,r,n){n-=zr(t);var i=t.text.length,a=ae((function(t){return Mr(e,r,t-1).bottom<=n}),i,0);return{begin:a,end:i=ae((function(t){return Mr(e,r,t).top>n}),a,i)}}function Xr(e,t,r,n){return r||(r=Cr(e,t)),qr(e,t,r,Vr(e,t,Mr(e,r,n),"line").top)}function Yr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Qr(e,t,r,n,i){i-=Vt(t);var a=Cr(e,t),o=zr(t),s=0,l=t.text.length,u=!0,c=ue(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?en:Jr)(e,t,r,a,c,n,i);s=(u=1!=d.level)?d.from:d.to-1,l=u?d.to:d.from-1}var f,p,h=null,g=null,m=ae((function(t){var r=Mr(e,a,t);return r.top+=o,r.bottom+=o,!!Yr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(h=t,g=r),!0)}),s,l),v=!1;if(g){var y=n-g.left<g.right-n,b=y==u;m=h+(b?0:1),p=b?"after":"before",f=y?g.left:g.right}else{u||m!=l&&m!=s||m++,p=0==m?"after":m==t.text.length?"before":Mr(e,a,m-(u?1:0)).bottom+o<=i==u?"after":"before";var k=Kr(e,Je(r,m,p),"line",t,a);f=k.left,v=i<k.top?-1:i>=k.bottom?1:0}return Gr(r,m=ie(t.text,m,1),p,v,n-f)}function Jr(e,t,r,n,i,a,o){var s=ae((function(s){var l=i[s],u=1!=l.level;return Yr(Kr(e,Je(r,u?l.to:l.from,u?"before":"after"),"line",t,n),a,o,!0)}),0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=Kr(e,Je(r,u?l.from:l.to,u?"after":"before"),"line",t,n);Yr(c,a,o,!0)&&c.top>o&&(l=i[s-1])}return l}function en(e,t,r,n,i,a,o){var s=qr(e,t,n,o),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,f=0;f<i.length;f++){var p=i[f];if(!(p.from>=u||p.to<=l)){var h=Mr(e,n,1!=p.level?Math.min(u,p.to)-1:Math.max(l,p.from)).right,g=h<a?a-h+1e9:h-a;(!c||d>g)&&(c=p,d=g)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function tn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ir){Ir=A("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ir.appendChild(document.createTextNode("x")),Ir.appendChild(A("br"));Ir.appendChild(document.createTextNode("x"))}P(e.measure,Ir);var r=Ir.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),O(e.measure),r||1}function rn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=A("span","xxxxxxxxxx"),r=A("pre",[t],"CodeMirror-line-like");P(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function nn(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,a=t.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var s=e.display.gutterSpecs[o].className;r[s]=a.offsetLeft+a.clientLeft+i,n[s]=a.clientWidth}return{fixedPos:an(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function an(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function on(e){var t=tn(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/rn(e.display)-3);return function(i){if(Ft(e.doc,i))return 0;var a=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(a+=i.widgets[o].height);return r?a+(Math.ceil(i.text.length/n)||1)*t:a+t}}function sn(e){var t=e.doc,r=on(e);t.iter((function(e){var t=r(e);t!=e.height&&Ze(e,t)}))}function ln(e,t,r,n){var i=e.display;if(!r&&"true"==we(t).getAttribute("cm-not-content"))return null;var a,o,s=i.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,o=t.clientY-s.top}catch(d){return null}var l,u=Zr(e,a,o);if(n&&u.xRel>0&&(l=Ke(e.doc,u.line).text).length==u.ch){var c=U(l,l.length,e.options.tabSize)-l.length;u=Je(u.line,Math.max(0,Math.round((a-wr(e.display).left)/rn(e.display))-c))}return u}function un(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function cn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)_t&&Ut(e.doc,t)<i.viewTo&&fn(e);else if(r<=i.viewFrom)_t&&Bt(e.doc,r+n)>i.viewFrom?fn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)fn(e);else if(t<=i.viewFrom){var a=pn(e,r,r+n,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=n):fn(e)}else if(r>=i.viewTo){var o=pn(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):fn(e)}else{var s=pn(e,t,t,-1),l=pn(e,r,r+n,1);s&&l?(i.view=i.view.slice(0,s.index).concat(nr(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):fn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function dn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[un(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==F(o,r)&&o.push(r)}}}function fn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function pn(e,t,r,n){var i,a=un(e,t),o=e.display.view;if(!_t||r==e.doc.first+e.doc.size)return{index:a,lineN:r};for(var s=e.display.viewFrom,l=0;l<a;l++)s+=o[l].size;if(s!=t){if(n>0){if(a==o.length-1)return null;i=s+o[a].size-t,a++}else i=s-t;t+=i,r+=i}for(;Ut(e.doc,r)!=r;){if(a==(n<0?0:o.length-1))return null;r+=n*o[a-(n<0?1:0)].size,a+=n}return{index:a,lineN:r}}function hn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function gn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function mn(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),o=0;o<r.sel.ranges.length;o++)if(t||o!=r.sel.primIndex){var s=r.sel.ranges[o];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&vn(e,s.head,i),l||bn(e,s,a)}}return n}function vn(e,t,r){var n=Kr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(A("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var a=r.appendChild(A("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=n.other.left+"px",a.style.top=n.other.top+"px",a.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function yn(e,t){return e.top-t.top||e.left-t.left}function bn(e,t,r){var n=e.display,i=e.doc,a=document.createDocumentFragment(),o=wr(e.display),s=o.left,l=Math.max(n.sizerWidth,Tr(e)-n.sizer.offsetLeft)-o.right,u="ltr"==i.direction;function c(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),a.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?l-e:r)+"px;\n                             height: "+(n-t)+"px"))}function d(t,r,n){var a,o,d=Ke(i,t),f=d.text.length;function p(r,n){return Wr(e,Je(t,r),"div",d,n)}function h(t,r,n){var i=Xr(e,d,null,t),a="ltr"==r==("after"==n)?"left":"right";return p("after"==n?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),a)[a]}var g=ue(d,i.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<r&&o.to>t||t==r&&o.to==t)&&(n(Math.max(o.from,t),Math.min(o.to,r),1==o.level?"rtl":"ltr",a),i=!0)}i||n(t,r,"ltr")}(g,r||0,null==n?f:n,(function(e,t,i,d){var m="ltr"==i,v=p(e,m?"left":"right"),y=p(t-1,m?"right":"left"),b=null==r&&0==e,k=null==n&&t==f,_=0==d,E=!g||d==g.length-1;if(y.top-v.top<=3){var w=(u?k:b)&&E,S=(u?b:k)&&_?s:(m?v:y).left,T=w?l:(m?y:v).right;c(S,v.top,T-S,v.bottom)}else{var x,O,P,A;m?(x=u&&b&&_?s:v.left,O=u?l:h(e,i,"before"),P=u?s:h(t,i,"after"),A=u&&k&&E?l:y.right):(x=u?h(e,i,"before"):s,O=!u&&b&&_?l:v.right,P=!u&&k&&E?s:y.left,A=u?h(t,i,"after"):l),c(x,v.top,O-x,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(P,y.top,A-P,y.bottom)}(!a||yn(v,a)<0)&&(a=v),yn(y,a)<0&&(a=y),(!o||yn(v,o)<0)&&(o=v),yn(y,o)<0&&(o=y)})),{start:a,end:o}}var f=t.from(),p=t.to();if(f.line==p.line)d(f.line,f.ch,p.ch);else{var h=Ke(i,f.line),g=Ke(i,p.line),m=Nt(h)==Nt(g),v=d(f.line,f.ch,m?h.text.length+1:null).end,y=d(p.line,m?0:null,p.ch).start;m&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}r.appendChild(a)}function kn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function _n(e){e.state.focused||(e.display.input.focus(),wn(e))}function En(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Sn(e))}),100)}function wn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(he(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),kn(e))}function Sn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(he(e,"blur",e,t),e.state.focused=!1,x(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Tn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],a=e.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(o&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-r,r=c}else{var d=i.node.getBoundingClientRect();l=d.bottom-d.top,!a&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-l;if((f>.005||f<-.005)&&(Ze(i.line,l),xn(i.line),i.rest))for(var p=0;p<i.rest.length;p++)xn(i.rest[p]);if(u>e.display.sizerWidth){var h=Math.ceil(u/rn(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function xn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function On(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-_r(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,a=Xe(t,n),o=Xe(t,i);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;s<a?(a=s,o=Xe(t,Vt(Ke(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(a=Xe(t,Vt(Ke(t,l))-e.wrapper.clientHeight),o=l)}return{from:a,to:Math.max(o,a+1)}}function Pn(e,t){var r=e.display,n=tn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,a=xr(e),o={};t.bottom-t.top>a&&(t.bottom=t.top+a);var s=e.doc.height+Er(r),l=t.top<n,u=t.bottom>s-n;if(t.top<i)o.scrollTop=l?0:t.top;else if(t.bottom>i+a){var c=Math.min(t.top,(u?s:t.bottom)-a);c!=i&&(o.scrollTop=c)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,f=Tr(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),p=t.right-t.left>f;return p&&(t.right=t.left+f),t.left<10?o.scrollLeft=0:t.left<d?o.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>f+d-3&&(o.scrollLeft=t.right+(p?0:10)-f),o}function An(e,t){null!=t&&(In(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Cn(e){In(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Mn(e,t,r){null==t&&null==r||In(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function In(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Rn(e,Hr(e,t.from),Hr(e,t.to),t.margin))}function Rn(e,t,r,n){var i=Pn(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Mn(e,i.scrollLeft,i.scrollTop)}function Dn(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||si(e,{top:t}),jn(e,t,!0),r&&si(e),ri(e,100))}function jn(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Ln(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,ci(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Nn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Er(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Sr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Un=function(e,t,r){this.cm=r;var n=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),de(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),de(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,o&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Un.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Un.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Un.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Un.prototype.zeroWidthHack=function(){var e=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Un.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,(function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}))},Un.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Bn=function(){};function Fn(e,t){t||(t=Nn(e));var r=e.display.barWidth,n=e.display.barHeight;zn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Tn(e),zn(e,Nn(e)),r=e.display.barWidth,n=e.display.barHeight}function zn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Bn.prototype.update=function(){return{bottom:0,right:0}},Bn.prototype.setScrollLeft=function(){},Bn.prototype.setScrollTop=function(){},Bn.prototype.clear=function(){};var Vn={native:Un,null:Bn};function $n(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&x(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Vn[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?Ln(e,t):Dn(e,t)}),e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var Wn=0;function Kn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wn},t=e.curOp,ir?ir.ops.push(t):t.ownsGroup=ir={ops:[t],delayedCallbacks:[]}}function Hn(e){var t=e.curOp;t&&function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r)}finally{ir=null,t(r)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Gn(t[r]);for(var n=0;n<t.length;n++)Zn(t[n]);for(var i=0;i<t.length;i++)qn(t[i]);for(var a=0;a<t.length;a++)Xn(t[a]);for(var o=0;o<t.length;o++)Yn(t[o])}(e)}))}function Gn(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Sr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Sr(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Wt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Zn(e){e.updatedDisplay=e.mustUpdate&&ai(e.cm,e.update)}function qn(e){var t=e.cm,r=t.display;e.updatedDisplay&&Tn(t),e.barMeasure=Nn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Pr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Sr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Tr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Xn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ln(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==I();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Fn(t,e.barMeasure),e.updatedDisplay&&ui(t,e.barMeasure),e.selectionChanged&&kn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&_n(e.cm)}function Yn(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&oi(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&jn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Ln(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ge(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!h){var a=A("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-_r(e.display))+"px;\n                         height: "+(t.bottom-t.top+Sr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}(t,function(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?Je(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?Je(t.line,t.ch+1,"before"):t);for(var a=0;a<5;a++){var o=!1,s=Kr(e,t),l=r&&r!=t?Kr(e,r):s,u=Pn(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(Dn(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=u.scrollLeft&&(Ln(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(o=!0)),!o)break}return i}(t,ot(n,e.scrollToPos.from),ot(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var o=0;o<i.length;++o)i[o].lines.length||he(i[o],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&he(a[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&he(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Qn(e,t){if(e.curOp)return t();Kn(e);try{return t()}finally{Hn(e)}}function Jn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Kn(e);try{return t.apply(e,arguments)}finally{Hn(e)}}}function ei(e){return function(){if(this.curOp)return e.apply(this,arguments);Kn(this);try{return e.apply(this,arguments)}finally{Hn(this)}}}function ti(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Kn(t);try{return e.apply(this,arguments)}finally{Hn(t)}}}function ri(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,L(ni,e))}function ni(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=ft(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(a){if(n.line>=e.display.viewFrom){var o=a.styles,s=a.text.length>e.options.maxHighlightLength?ze(t.mode,n.state):null,l=ct(e,a,n,!0);s&&(n.state=s),a.styles=l.styles;var u=a.styleClasses,c=l.classes;c?a.styleClasses=c:u&&(a.styleClasses=null);for(var d=!o||o.length!=a.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!d&&f<o.length;++f)d=o[f]!=a.styles[f];d&&i.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=e.options.maxHighlightLength&&pt(e,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ri(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&Qn(e,(function(){for(var t=0;t<i.length;t++)dn(e,i[t],"text")}))}}var ii=function(e,t,r){var n=e.display;this.viewport=t,this.visible=On(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Tr(e),this.force=r,this.dims=nn(e),this.events=[]};function ai(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return fn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==hn(e))return!1;di(e)&&(fn(e),t.dims=nn(e));var i=n.first+n.size,a=Math.max(t.visible.from-e.options.viewportMargin,n.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(n.first,r.viewFrom)),r.viewTo>o&&r.viewTo-o<20&&(o=Math.min(i,r.viewTo)),_t&&(a=Ut(e.doc,a),o=Bt(e.doc,o));var s=a!=r.viewFrom||o!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=nr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=nr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(un(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(nr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,un(e,r)))),n.viewTo=r}(e,a,o),r.viewOffset=Vt(Ke(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=hn(e);if(!s&&0==u&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=I();if(!t||!M(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&M(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return u>4&&(r.lineDiv.style.display="none"),function(e,t,r){var n=e.display,i=e.options.lineNumbers,a=n.lineDiv,o=a.firstChild;function s(t){var r=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var u=n.view,c=n.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;o!=f.node;)o=s(o);var p=i&&null!=t&&t<=c&&f.lineNumber;f.changes&&(F(f.changes,"gutter")>-1&&(p=!1),lr(e,f,c,r)),p&&(O(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(Qe(e.options,c)))),o=f.node.nextSibling}else{var h=gr(e,f,c,r);a.insertBefore(h,o)}c+=f.size}for(;o;)o=s(o)}(e,r.updateLineNumbers,t.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=I()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&M(document.body,e.anchorNode)&&M(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(c),O(r.cursorDiv),O(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ri(e,400)),r.updateLineNumbers=null,!0}function oi(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Tr(e))n&&(t.visible=On(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Er(e.display)-xr(e),r.top)}),t.visible=On(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ai(e,t))break;Tn(e);var i=Nn(e);gn(e),Fn(e,i),ui(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function si(e,t){var r=new ii(e,t);if(ai(e,r)){Tn(e),oi(e,r);var n=Nn(e);gn(e),Fn(e,n),ui(e,n),r.finish()}}function li(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Sr(e)+"px"}function ci(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=an(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=n+"px",o=0;o<r.length;o++)if(!r[o].hidden){e.options.fixedGutter&&(r[o].gutter&&(r[o].gutter.style.left=a),r[o].gutterBackground&&(r[o].gutterBackground.style.left=a));var s=r[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function di(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=Qe(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(A("div",[A("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,o=i.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",li(e.display),!0}return!1}function fi(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var a=e[i],o=null;if("string"!=typeof a&&(o=a.style,a=a.className),"CodeMirror-linenumbers"==a){if(!t)continue;n=!0}r.push({className:a,style:o})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function pi(e){var t=e.gutters,r=e.gutterSpecs;O(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],a=i.className,o=i.style,s=t.appendChild(A("div",null,"CodeMirror-gutter "+a));o&&(s.style.cssText=o),"CodeMirror-linenumbers"==a&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",li(e)}function hi(e){pi(e.display),cn(e),ci(e)}function gi(e,t,n,i){var a=this;this.input=n,a.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=C("div",null,"CodeMirror-code"),a.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=A("div",null,"CodeMirror-cursors"),a.measure=A("div",null,"CodeMirror-measure"),a.lineMeasure=A("div",null,"CodeMirror-measure"),a.lineSpace=C("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var u=C("div",[a.lineSpace],"CodeMirror-lines");a.mover=A("div",[u],null,"position: relative"),a.sizer=A("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=A("div",null,null,"position: absolute; height: 50px; width: 1px;"),a.gutters=A("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=A("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=A("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),o&&s<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),l||r&&v||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=fi(i.gutters,i.lineNumbers),pi(a),n.init(a)}ii.prototype.signal=function(e,t){ve(e,t)&&this.events.push(arguments)},ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)he.apply(null,this.events[e])};var mi=0,vi=null;function yi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function bi(e){var t=yi(e);return t.x*=vi,t.y*=vi,t}function ki(e,t){var n=yi(t),i=n.x,a=n.y,o=e.display,s=o.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||a&&c){if(a&&y&&l)e:for(var f=t.target,p=o.view;f!=s;f=f.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==f){e.display.currentWheelTarget=f;break e}if(i&&!r&&!d&&null!=vi)return a&&c&&Dn(e,Math.max(0,s.scrollTop+a*vi)),Ln(e,Math.max(0,s.scrollLeft+i*vi)),(!a||a&&c)&&be(t),void(o.wheelStartX=null);if(a&&null!=vi){var g=a*vi,m=e.doc.scrollTop,v=m+o.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(e.doc.height,v+g+50),si(e,{top:m,bottom:v})}mi<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=a,setTimeout((function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(vi=(vi*mi+r)/(mi+1),++mi)}}),200)):(o.wheelDX+=i,o.wheelDY+=a))}}o?vi=-.53:r?vi=15:c?vi=-.7:f&&(vi=-1/3);var _i=function(e,t){this.ranges=e,this.primIndex=t};_i.prototype.primary=function(){return this.ranges[this.primIndex]},_i.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!tt(r.anchor,n.anchor)||!tt(r.head,n.head))return!1}return!0},_i.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ei(rt(this.ranges[t].anchor),rt(this.ranges[t].head));return new _i(e,this.primIndex)},_i.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},_i.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(et(t,n.from())>=0&&et(e,n.to())<=0)return r}return-1};var Ei=function(e,t){this.anchor=e,this.head=t};function wi(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort((function(e,t){return et(e.from(),t.from())})),r=F(t,i);for(var a=1;a<t.length;a++){var o=t[a],s=t[a-1],l=et(s.to(),o.from());if(n&&!o.empty()?l>0:l>=0){var u=it(s.from(),o.from()),c=nt(s.to(),o.to()),d=s.empty()?o.from()==o.head:s.from()==s.head;a<=r&&--r,t.splice(--a,2,new Ei(d?c:u,d?u:c))}}return new _i(t,r)}function Si(e,t){return new _i([new Ei(e,t||e)],0)}function Ti(e){return e.text?Je(e.from.line+e.text.length-1,Z(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function xi(e,t){if(et(e,t.from)<0)return e;if(et(e,t.to)<=0)return Ti(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Ti(t).ch-t.to.ch),Je(r,n)}function Oi(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Ei(xi(i.anchor,t),xi(i.head,t)))}return wi(e.cm,r,e.sel.primIndex)}function Pi(e,t,r){return e.line==t.line?Je(r.line,e.ch-t.ch+r.ch):Je(r.line+(e.line-t.line),e.ch)}function Ai(e){e.doc.mode=Ue(e.options,e.doc.modeOption),Ci(e)}function Ci(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ri(e,100),e.state.modeGen++,e.curOp&&cn(e)}function Mi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Z(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ii(e,t,r,n){function i(e){return r?r[e]:null}function a(e,r,i){!function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ot(e),Pt(e,r);var i=n?n(e):1;i!=e.height&&Ze(e,i)}(e,r,i,n),or(e,"change",e,t)}function o(e,t){for(var r=[],a=e;a<t;++a)r.push(new Kt(u[a],i(a),n));return r}var s=t.from,l=t.to,u=t.text,c=Ke(e,s.line),d=Ke(e,l.line),f=Z(u),p=i(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(Mi(e,t)){var g=o(0,u.length-1);a(d,d.text,p),h&&e.remove(s.line,h),g.length&&e.insert(s.line,g)}else if(c==d)if(1==u.length)a(c,c.text.slice(0,s.ch)+f+c.text.slice(l.ch),p);else{var m=o(1,u.length-1);m.push(new Kt(f+c.text.slice(l.ch),p,n)),a(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)a(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,h);else{a(c,c.text.slice(0,s.ch)+u[0],i(0)),a(d,f+d.text.slice(l.ch),p);var v=o(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,v)}or(e,"change",e,t)}function Ri(e,t,r){!function e(n,i,a){if(n.linked)for(var o=0;o<n.linked.length;++o){var s=n.linked[o];if(s.doc!=i){var l=a&&s.sharedHist;r&&!l||(t(s.doc,l),e(s.doc,n,l))}}}(e,null,!0)}function Di(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,sn(e),Ai(e),ji(e),e.options.lineWrapping||Wt(e),e.options.mode=t.modeOption,cn(e)}function ji(e){("rtl"==e.doc.direction?R:x)(e.display.lineDiv,"CodeMirror-rtl")}function Li(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ni(e,t){var r={from:rt(t.from),to:Ti(t),text:He(e,t.from,t.to)};return Vi(e,r,t.from.line,t.to.line+1),Ri(e,(function(e){return Vi(e,r,t.from.line,t.to.line+1)}),!0),r}function Ui(e){for(;e.length&&Z(e).ranges;)e.pop()}function Bi(e,t,r,n){var i=e.history;i.undone.length=0;var a,o,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(a=function(e,t){return t?(Ui(e.done),Z(e.done)):e.done.length&&!Z(e.done).ranges?Z(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Z(e.done)):void 0}(i,i.lastOp==n)))o=Z(a.changes),0==et(t.from,t.to)&&0==et(t.from,o.to)?o.to=Ti(t):a.changes.push(Ni(e,t));else{var l=Z(i.done);for(l&&l.ranges||zi(e.sel,i.done),a={changes:[Ni(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,o||he(e,"historyAdded")}function Fi(e,t,r,n){var i=e.history,a=n&&n.origin;r==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||function(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,a,Z(i.done),t))?i.done[i.done.length-1]=t:zi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=r,n&&!1!==n.clearRedo&&Ui(i.undone)}function zi(e,t){var r=Z(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Vi(e,t,r,n){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=r.markedSpans),++a}))}function $i(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Wi(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push($i(r[i]));return n}(e,t),n=Tt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var a=r[i],o=n[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],u=0;u<a.length;++u)if(a[u].marker==l.marker)continue e;a.push(l)}else o&&(r[i]=o)}return r}function Ki(e,t,r){for(var n=[],i=0;i<e.length;++i){var a=e[i];if(a.ranges)n.push(r?_i.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];n.push({changes:s});for(var l=0;l<o.length;++l){var u=o[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&F(t,Number(c[1]))>-1&&(Z(s)[d]=u[d],delete u[d])}}}return n}function Hi(e,t,r,n){if(n){var i=e.anchor;if(r){var a=et(t,i)<0;a!=et(r,i)<0?(i=t,t=r):a!=et(t,r)<0&&(t=r)}return new Ei(i,t)}return new Ei(r||t,t)}function Gi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Qi(e,new _i([Hi(e.sel.primary(),t,r,i)],0),n)}function Zi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),a=0;a<e.sel.ranges.length;a++)n[a]=Hi(e.sel.ranges[a],t[a],null,i);Qi(e,wi(e.cm,n,e.sel.primIndex),r)}function qi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Qi(e,wi(e.cm,i,e.sel.primIndex),n)}function Xi(e,t,r,n){Qi(e,Si(t,r),n)}function Yi(e,t,r){var n=e.history.done,i=Z(n);i&&i.ranges?(n[n.length-1]=t,Ji(e,t,r)):Qi(e,t,r)}function Qi(e,t,r){Ji(e,t,r),Fi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ji(e,t,r){(ve(e,"beforeSelectionChange")||e.cm&&ve(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new Ei(ot(e,t[r].anchor),ot(e,t[r].head))},origin:r&&r.origin};return he(e,"beforeSelectionChange",e,n),e.cm&&he(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?wi(e.cm,n.ranges,n.ranges.length-1):t}(e,t,r));var n=r&&r.bias||(et(t.primary().head,e.sel.primary().head)<0?-1:1);ea(e,ra(e,t,n,!0)),r&&!1===r.scroll||!e.cm||Cn(e.cm)}function ea(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,me(e.cm)),or(e,"cursorActivity",e))}function ta(e){ea(e,ra(e,e.sel,null,!1))}function ra(e,t,r,n){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[a],l=ia(e,o.anchor,s&&s.anchor,r,n),u=ia(e,o.head,s&&s.head,r,n);(i||l!=o.anchor||u!=o.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new Ei(l,u))}return i?wi(e.cm,i,t.primIndex):t}function na(e,t,r,n,i){var a=Ke(e,t.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var s=a.markedSpans[o],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(he(l,"beforeCursorEnter"),l.explicitlyCleared)){if(a.markedSpans){--o;continue}break}if(!l.atomic)continue;if(r){var d=l.find(n<0?1:-1),f=void 0;if((n<0?c:u)&&(d=aa(e,d,-n,d&&d.line==t.line?a:null)),d&&d.line==t.line&&(f=et(d,r))&&(n<0?f<0:f>0))return na(e,d,t,n,i)}var p=l.find(n<0?-1:1);return(n<0?u:c)&&(p=aa(e,p,n,p.line==t.line?a:null)),p?na(e,p,t,n,i):null}}return t}function ia(e,t,r,n,i){var a=n||1,o=na(e,t,r,a,i)||!i&&na(e,t,r,a,!0)||na(e,t,r,-a,i)||!i&&na(e,t,r,-a,!0);return o||(e.cantEdit=!0,Je(e.first,0))}function aa(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ot(e,Je(t.line-1)):null:r>0&&t.ch==(n||Ke(e,t.line)).text.length?t.line<e.first+e.size-1?Je(t.line+1,0):null:new Je(t.line,t.ch+r)}function oa(e){e.setSelection(Je(e.firstLine(),0),Je(e.lastLine()),V)}function sa(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,a){t&&(n.from=ot(e,t)),r&&(n.to=ot(e,r)),i&&(n.text=i),void 0!==a&&(n.origin=a)}),he(e,"beforeChange",e,n),e.cm&&he(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function la(e,t,r){if(e.cm){if(!e.cm.curOp)return Jn(e.cm,la)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"))||(t=sa(e,t,!0))){var n=kt&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=F(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var i=[{from:t,to:r}],a=0;a<n.length;++a)for(var o=n[a],s=o.find(0),l=0;l<i.length;++l){var u=i[l];if(!(et(u.to,s.from)<0||et(u.from,s.to)>0)){var c=[l,1],d=et(u.from,s.from),f=et(u.to,s.to);(d<0||!o.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(f>0||!o.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)ua(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else ua(e,t)}}function ua(e,t){if(1!=t.text.length||""!=t.text[0]||0!=et(t.from,t.to)){var r=Oi(e,t);Bi(e,t,r,e.cm?e.cm.curOp.id:NaN),fa(e,t,r,Tt(e,t));var n=[];Ri(e,(function(e,r){r||-1!=F(n,e.history)||(ma(e.history,t),n.push(e.history)),fa(e,t,null,Tt(e,t))}))}}function ca(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,a=e.history,o=e.sel,s="undo"==t?a.done:a.undone,l="undo"==t?a.undone:a.done,u=0;u<s.length&&(i=s[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(a.lastOrigin=a.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(zi(i,l),r&&!i.equals(e.sel))return void Qi(e,i,{clearRedo:!1});o=i}var c=[];zi(o,l),l.push({changes:c,generation:a.generation}),a.generation=i.generation||++a.maxGeneration;for(var d=ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"),f=function(r){var n=i.changes[r];if(n.origin=t,d&&!sa(e,n,!1))return s.length=0,{};c.push(Ni(e,n));var a=r?Oi(e,n):Z(s);fa(e,n,a,Wi(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:Ti(n)});var o=[];Ri(e,(function(e,t){t||-1!=F(o,e.history)||(ma(e.history,n),o.push(e.history)),fa(e,n,null,Wi(e,n))}))},p=i.changes.length-1;p>=0;--p){var h=f(p);if(h)return h.v}}}}function da(e,t){if(0!=t&&(e.first+=t,e.sel=new _i(q(e.sel.ranges,(function(e){return new Ei(Je(e.anchor.line+t,e.anchor.ch),Je(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){cn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)dn(e.cm,n,"gutter")}}function fa(e,t,r,n){if(e.cm&&!e.cm.curOp)return Jn(e.cm,fa)(e,t,r,n);if(t.to.line<e.first)da(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);da(e,i),t={from:Je(e.first,0),to:Je(t.to.line+i,t.to.ch),text:[Z(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:Je(a,Ke(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=He(e,t.from,t.to),r||(r=Oi(e,t)),e.cm?function(e,t,r){var n=e.doc,i=e.display,a=t.from,o=t.to,s=!1,l=a.line;e.options.lineWrapping||(l=qe(Nt(Ke(n,a.line))),n.iter(l,o.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&me(e),Ii(n,t,r,on(e)),e.options.lineWrapping||(n.iter(l,a.line+t.text.length,(function(e){var t=$t(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Ke(e,n).stateAfter;if(i&&(!(i instanceof lt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}(n,a.line),ri(e,400);var u=t.text.length-(o.line-a.line)-1;t.full?cn(e):a.line!=o.line||1!=t.text.length||Mi(e.doc,t)?cn(e,a.line,o.line+1,u):dn(e,a.line,"text");var c=ve(e,"changes"),d=ve(e,"change");if(d||c){var f={from:a,to:o,text:t.text,removed:t.removed,origin:t.origin};d&&or(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,n):Ii(e,t,n),Ji(e,r,V),e.cantEdit&&ia(e,Je(e.firstLine(),0))&&(e.cantEdit=!1)}}function pa(e,t,r,n,i){var a;n||(n=r),et(n,r)<0&&(r=(a=[n,r])[0],n=a[1]),"string"==typeof t&&(t=e.splitLines(t)),la(e,{from:r,to:n,text:t,origin:i})}function ha(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ga(e,t,r,n){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||((a=e[i]=a.deepCopy()).copied=!0);for(var s=0;s<a.ranges.length;s++)ha(a.ranges[s].anchor,t,r,n),ha(a.ranges[s].head,t,r,n)}else{for(var l=0;l<a.changes.length;++l){var u=a.changes[l];if(r<u.from.line)u.from=Je(u.from.line+n,u.from.ch),u.to=Je(u.to.line+n,u.to.ch);else if(t<=u.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function ma(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;ga(e.done,r,n,i),ga(e.undone,r,n,i)}function va(e,t,r,n){var i=t,a=t;return"number"==typeof t?a=Ke(e,at(e,t)):i=qe(t),null==i?null:(n(a,i)&&e.cm&&dn(e.cm,i,r),a)}function ya(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function ba(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}Ei.prototype.from=function(){return it(this.anchor,this.head)},Ei.prototype.to=function(){return nt(this.anchor,this.head)},Ei.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ya.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Ht(i),or(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},ba.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var a=Math.min(t,i-e),o=n.height;if(n.removeInner(e,a),this.height-=o-n.height,i==a&&(this.children.splice(r--,1),n.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ya))){var s=[];this.collapse(s),this.children=[new ya(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(e<=a){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var o=i.lines.length%25+25,s=o;s<i.lines.length;){var l=new ya(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++n,0,l),l.parent=this}i.lines=i.lines.slice(0,o),this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ba(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=F(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new ba(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(e<a){var o=Math.min(t,a-e);if(i.iterN(e,o,r))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var ka=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function _a(e,t,r){Vt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&An(e,r)}ka.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=qe(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var a=br(this);Ze(r,Math.max(0,r.height-a)),e&&(Qn(e,(function(){_a(e,r,-a),dn(e,n,"widget")})),or(e,"lineWidgetCleared",e,this,n))}},ka.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=br(this)-t;i&&(Ft(this.doc,n)||Ze(n,n.height+i),r&&Qn(r,(function(){r.curOp.forceUpdate=!0,_a(r,n,i),or(r,"lineWidgetChanged",r,e,qe(n))})))},ye(ka);var Ea=0,wa=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ea};function Sa(e,t,r,n,i){if(n&&n.shared)return function(e,t,r,n,i){(n=N(n)).shared=!1;var a=[Sa(e,t,r,n,i)],o=a[0],s=n.widgetNode;return Ri(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),a.push(Sa(e,ot(e,t),ot(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Z(a)})),new Ta(a,o)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Jn(e.cm,Sa)(e,t,r,n,i);var a=new wa(e,i),o=et(t,r);if(n&&N(n,a,!1),o>0||0==o&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=C("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Lt(e,t.line,t,r,a)||t.line!=r.line&&Lt(e,r.line,t,r,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");_t=!0}a.addToHistory&&Bi(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,r.line+1,(function(e){u&&a.collapsed&&!u.options.lineWrapping&&Nt(e)==u.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&Ze(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Et(a,l==t.line?t.ch:null,l==r.line?r.ch:null)),++l})),a.collapsed&&e.iter(t.line,r.line+1,(function(t){Ft(e,t)&&Ze(t,0)})),a.clearOnEnter&&de(a,"beforeCursorEnter",(function(){return a.clear()})),a.readOnly&&(kt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Ea,a.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),a.collapsed)cn(u,t.line,r.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var c=t.line;c<=r.line;c++)dn(u,c,"text");a.atomic&&ta(u.doc),or(u,"markerAdded",u,a)}return a}wa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Kn(e),ve(this,"clear")){var r=this.find();r&&or(this,"clear",r.from,r.to)}for(var n=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=wt(o.markedSpans,this);e&&!this.collapsed?dn(e,qe(o),"text"):e&&(null!=s.to&&(i=qe(o)),null!=s.from&&(n=qe(o))),o.markedSpans=St(o.markedSpans,s),null==s.from&&this.collapsed&&!Ft(this.doc,o)&&e&&Ze(o,tn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Nt(this.lines[l]),c=$t(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&cn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ta(e.doc)),e&&or(e,"markerCleared",e,this,n,i),t&&Hn(e),this.parent&&this.parent.clear()}},wa.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var a=this.lines[i],o=wt(a.markedSpans,this);if(null!=o.from&&(r=Je(t?a:qe(a),o.from),-1==e))return r;if(null!=o.to&&(n=Je(t?a:qe(a),o.to),1==e))return n}return r&&{from:r,to:n}},wa.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Qn(n,(function(){var i=t.line,a=qe(t.line),o=Ar(n,a);if(o&&(Lr(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ft(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var l=br(r)-s;l&&Ze(i,i.height+l)}or(n,"markerChanged",n,e)}))},wa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=F(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wa.prototype.detachLine=function(e){if(this.lines.splice(F(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ye(wa);var Ta=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function xa(e){return e.findMarks(Je(e.first,0),e.clipPos(Je(e.lastLine())),(function(e){return e.parent}))}function Oa(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Ri(r.primary.doc,(function(e){return n.push(e)}));for(var i=0;i<r.markers.length;i++){var a=r.markers[i];-1==F(n,a.doc)&&(a.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}Ta.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();or(this,"clear")}},Ta.prototype.find=function(e,t){return this.primary.find(e,t)},ye(Ta);var Pa=0,Aa=function e(t,r,n,i,a){if(!(this instanceof e))return new e(t,r,n,i,a);null==n&&(n=0),ba.call(this,[new ya([new Kt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=Je(n,0);this.sel=Si(o),this.history=new Li(null),this.id=++Pa,this.modeOption=r,this.lineSep=i,this.direction="rtl"==a?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ii(this,{from:o,to:o,text:t}),Qi(this,Si(o),V)};(Aa.prototype=Y(ba.prototype,{constructor:Aa,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ge(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ti((function(e){var t=Je(this.first,0),r=this.first+this.size-1;la(this,{from:t,to:Je(r,Ke(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Mn(this.cm,0,0),Qi(this,Si(t),V)})),replaceRange:function(e,t,r,n){pa(this,e,t=ot(this,t),r=r?ot(this,r):t,n)},getRange:function(e,t,r){var n=He(this,ot(this,e),ot(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Ye(this,e))return Ke(this,e)},getLineNumber:function(e){return qe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ke(this,e)),Nt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ot(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ti((function(e,t,r){Xi(this,ot(this,"number"==typeof e?Je(e,t||0):e),null,r)})),setSelection:ti((function(e,t,r){Xi(this,ot(this,e),ot(this,t||e),r)})),extendSelection:ti((function(e,t,r){Gi(this,ot(this,e),t&&ot(this,t),r)})),extendSelections:ti((function(e,t){Zi(this,st(this,e),t)})),extendSelectionsBy:ti((function(e,t){Zi(this,st(this,q(this.sel.ranges,e)),t)})),setSelections:ti((function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new Ei(ot(this,e[i].anchor),ot(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Qi(this,wi(this.cm,n,t),r)}})),addSelection:ti((function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Ei(ot(this,e),ot(this,t||e))),Qi(this,wi(this.cm,n,n.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=He(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=He(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:ti((function(e,t,r){for(var n=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];n[a]={from:o.from(),to:o.to(),text:this.splitLines(e[a]),origin:r}}for(var s=t&&"end"!=t&&function(e,t,r){for(var n=[],i=Je(e.first,0),a=i,o=0;o<t.length;o++){var s=t[o],l=Pi(s.from,i,a),u=Pi(Ti(s),i,a);if(i=s.to,a=u,"around"==r){var c=e.sel.ranges[o],d=et(c.head,c.anchor)<0;n[o]=new Ei(d?u:l,d?l:u)}else n[o]=new Ei(l,l)}return new _i(n,e.sel.primIndex)}(this,n,t),l=n.length-1;l>=0;l--)la(this,n[l]);s?Yi(this,s):this.cm&&Cn(this.cm)})),undo:ti((function(){ca(this,"undo")})),redo:ti((function(){ca(this,"redo")})),undoSelection:ti((function(){ca(this,"undo",!0)})),redoSelection:ti((function(){ca(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Li(this.history.maxGeneration),Ri(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ki(this.history.done),undone:Ki(this.history.undone)}},setHistory:function(e){var t=this.history=new Li(this.history.maxGeneration);t.done=Ki(e.done.slice(0),null,!0),t.undone=Ki(e.undone.slice(0),null,!0)},setGutterMarker:ti((function(e,t,r){return va(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&te(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:ti((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&va(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,te(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Ye(this,e))return null;if(t=e,!(e=Ke(this,e)))return null}else if(null==(t=qe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ti((function(e,t,r){return va(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(S(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0}))})),removeLineClass:ti((function(e,t,r){return va(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var a=i.match(S(r));if(!a)return!1;var o=a.index+a[0].length;e[n]=i.slice(0,a.index)+(a.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0}))})),addLineWidget:ti((function(e,t,r){return function(e,t,r,n){var i=new ka(e,r,n),a=e.cm;return a&&i.noHScroll&&(a.display.alignWidgets=!0),va(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,a&&!Ft(e,t)){var n=Vt(t)<e.scrollTop;Ze(t,t.height+br(i)),n&&An(a,i.height),a.curOp.forceUpdate=!0}return!0})),a&&or(a,"lineWidgetAdded",a,i,"number"==typeof t?t:qe(t)),i}(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Sa(this,ot(this,e),ot(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Sa(this,e=ot(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Ke(this,(e=ot(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ot(this,e),t=ot(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,(function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(i){var a=i.text.length+n;if(a>e)return t=e,!0;e-=a,++r})),ot(this,Je(r,t))},indexFromPos:function(e){var t=(e=ot(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new Aa(Ge(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Aa(Ge(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),a=e.clipPos(i.from),o=e.clipPos(i.to);if(et(a,o)){var s=Sa(e,a,o,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,xa(this)),n},unlinkDoc:function(e){if(e instanceof xo&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Oa(xa(this));break}if(e.history==this.history){var r=[e.id];Ri(e,(function(e){return r.push(e.id)}),!0),e.history=new Li(null),e.history.done=Ki(this.history.done,r),e.history.undone=Ki(this.history.undone,r)}},iterLinkedDocs:function(e){Ri(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ce(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ti((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Qn(t=this.cm,(function(){ji(t),cn(t)})))}))})).eachLine=Aa.prototype.iter;var Ca=0;function Ma(e){var t=this;if(Ia(t),!ge(t,e)&&!kr(t.display,e)){be(e),o&&(Ca=+new Date);var r=ln(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,a=Array(i),s=0,l=function(){++s==i&&Jn(t,(function(){var e={from:r=ot(t.doc,r),to:r,text:t.doc.splitLines(a.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};la(t.doc,e),Yi(t.doc,Si(ot(t.doc,r),ot(t.doc,Ti(e))))}))()},u=function(e,r){if(t.options.allowDropFileTypes&&-1==F(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(a[r]=e),l()},n.readAsText(e)}},c=0;c<n.length;c++)u(n[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Ji(t.doc,Si(r,r)),f)for(var p=0;p<f.length;++p)pa(t.doc,"",f[p].anchor,f[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(h){}}}}function Ia(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ra(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var Da=!1;function ja(){Da||(function(){var e;de(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ra(La)}),100))})),de(window,"blur",(function(){return Ra(Sn)}))}(),Da=!0)}function La(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Na={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ua=0;Ua<10;Ua++)Na[Ua+48]=Na[Ua+96]=String(Ua);for(var Ba=65;Ba<=90;Ba++)Na[Ba]=String.fromCharCode(Ba);for(var Fa=1;Fa<=12;Fa++)Na[Fa+111]=Na[Fa+63235]="F"+Fa;var za={};function Va(e){var t,r,n,i,a=e.split(/-(?!$)/);e=a[a.length-1];for(var o=0;o<a.length-1;o++){var s=a[o];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function $a(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=q(r.split(" "),Va),a=0;a<i.length;a++){var o=void 0,s=void 0;a==i.length-1?(s=i.join(" "),o=n):(s=i.slice(0,a+1).join(" "),o="...");var l=t[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else t[s]=o}delete e[r]}for(var u in t)e[u]=t[u];return e}function Wa(e,t,r,n){var i=(t=Za(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Wa(e,t.fallthrough,r,n);for(var a=0;a<t.fallthrough.length;a++){var o=Wa(e,t.fallthrough[a],r,n);if(o)return o}}}function Ka(e){var t="string"==typeof e?e:Na[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ha(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(E?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(E?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Ga(e,t){if(d&&34==e.keyCode&&e.char)return!1;var r=Na[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Ha(r,e,t))}function Za(e){return"string"==typeof e?za[e]:e}function qa(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var a=t(r[i]);n.length&&et(a.from,Z(n).to)<=0;){var o=n.pop();if(et(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}Qn(e,(function(){for(var t=n.length-1;t>=0;t--)pa(e.doc,"",n[t].from,n[t].to,"+delete");Cn(e)}))}function Xa(e,t,r){var n=ie(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Ya(e,t,r){var n=Xa(e,t.ch,r);return null==n?null:new Je(t.line,n,r<0?"after":"before")}function Qa(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var a=ue(r,t.doc.direction);if(a){var o,s=i<0?Z(a):a[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=Cr(t,r);o=i<0?r.text.length-1:0;var c=Mr(t,u,o).top;o=ae((function(e){return Mr(t,u,e).top==c}),i<0==(1==s.level)?s.from:s.to-1,o),"before"==l&&(o=Xa(r,o,1))}else o=i<0?s.to:s.from;return new Je(n,o,l)}}return new Je(n,i<0?r.text.length:0,i<0?"before":"after")}za.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},za.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},za.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},za.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},za.default=y?za.macDefault:za.pcDefault;var Ja={selectAll:oa,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return qa(e,(function(t){if(t.empty()){var r=Ke(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Je(t.head.line+1,0)}:{from:t.head,to:Je(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return qa(e,(function(t){return{from:Je(t.from().line,0),to:ot(e.doc,Je(t.to().line+1,0))}}))},delLineLeft:function(e){return qa(e,(function(e){return{from:Je(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return qa(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return qa(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Je(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Je(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return eo(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return to(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var r=Ke(e.doc,t),n=function(e){for(var t;t=Dt(e);)e=t.find(1,!0).line;return e}(r);return n!=r&&(t=qe(n)),Qa(!0,e,r,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),W)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),W)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?to(e,t.head):n}),W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var a=r[i].from(),o=U(e.getLine(a.line),a.ch,n);t.push(G(n-o%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Qn(e,(function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,a=Ke(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new Je(i.line,i.ch-1)),i.ch>0)i=new Je(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),Je(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=Ke(e.doc,i.line-1).text;o&&(i=new Je(i.line,1),e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),Je(i.line-1,o.length-1),i,"+transpose"))}r.push(new Ei(i,i))}e.setSelections(r)}))},newlineAndIndent:function(e){return Qn(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Cn(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function eo(e,t){var r=Ke(e.doc,t),n=Nt(r);return n!=r&&(t=qe(n)),Qa(!0,e,n,t,1)}function to(e,t){var r=eo(e,t.line),n=Ke(e.doc,r.line),i=ue(n,e.doc.direction);if(!i||0==i[0].level){var a=Math.max(r.ch,n.text.search(/\S/)),o=t.line==r.line&&t.ch<=a&&t.ch;return Je(r.line,o?0:a,r.sticky)}return r}function ro(e,t,r){if("string"==typeof t&&!(t=Ja[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=z}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var no=new B;function io(e,t,r,n){var i=e.state.keySeq;if(i){if(Ka(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:no.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ao(e,i+" "+t,r,n))return!0}return ao(e,t,r,n)}function ao(e,t,r,n){var i=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Wa(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Wa(t,e.options.extraKeys,r,e)||Wa(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&or(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(be(r),kn(e)),!!i}function oo(e,t){var r=Ga(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?io(e,"Shift-"+r,t,(function(t){return ro(e,t,!0)}))||io(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ro(e,t)})):io(e,r,t,(function(t){return ro(e,t)})))}var so=null;function lo(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=I(),!ge(t,e))){o&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=oo(t,e);d&&(so=i?n:null,i||88!=n||Ie||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),r&&!y&&!i&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(x(t,"CodeMirror-crosshair"),pe(document,"keyup",r),pe(document,"mouseover",r))}R(t,"CodeMirror-crosshair"),de(document,"keyup",r),de(document,"mouseover",r)}(t)}}function uo(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function co(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(kr(t.display,e)||ge(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(d&&r==so)return so=null,void be(e);if(!d||e.which&&!(e.which<10)||!oo(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function(e,t,r){return io(e,"'"+r+"'",t,(function(t){return ro(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var fo,po,ho=function(e,t,r){this.time=e,this.pos=t,this.button=r};function go(e){var t=this,r=t.display;if(!(ge(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,kr(r,e))l||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!yo(t,e)){var n=ln(t,e),i=Se(e),a=n?function(e,t){var r=+new Date;return po&&po.compare(r,e,t)?(fo=po=null,"triple"):fo&&fo.compare(r,e,t)?(po=new ho(r,e,t),fo=null,"double"):(fo=new ho(r,e,t),po=null,"single")}(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,r,n,i){var a="Click";return"double"==n?a="Double"+a:"triple"==n&&(a="Triple"+a),io(e,Ha(a=(1==t?"Left":2==t?"Middle":"Right")+a,i),i,(function(t){if("string"==typeof t&&(t=Ja[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=z}finally{e.state.suppressEdits=!1}return n}))}(t,i,n,a,e)||(1==i?n?function(e,t,r,n){o?setTimeout(L(_n,e),0):e.curOp.focus=I();var i,a=function(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var a=b?r.shiftKey&&r.metaKey:r.altKey;i.unit=a?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=y?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?r.altKey:r.ctrlKey)),i}(e,r,n),u=e.doc.sel;e.options.dragDrop&&Oe&&!e.isReadOnly()&&"single"==r&&(i=u.contains(t))>-1&&(et((i=u.ranges[i]).from(),t)<0||t.xRel>0)&&(et(i.to(),t)>0||t.xRel<0)?function(e,t,r,n){var i=e.display,a=!1,u=Jn(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,pe(i.wrapper.ownerDocument,"mouseup",u),pe(i.wrapper.ownerDocument,"mousemove",c),pe(i.scroller,"dragstart",d),pe(i.scroller,"drop",u),a||(be(t),n.addNew||Gi(e.doc,r,null,null,n.extend),l&&!f||o&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){a=a||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return a=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),de(i.wrapper.ownerDocument,"mouseup",u),de(i.wrapper.ownerDocument,"mousemove",c),de(i.scroller,"dragstart",d),de(i.scroller,"drop",u),En(e),setTimeout((function(){return i.input.focus()}),20)}(e,n,t,a):function(e,t,r,n){var i=e.display,a=e.doc;be(t);var o,s,l=a.sel,u=l.ranges;if(n.addNew&&!n.extend?(s=a.sel.contains(r),o=s>-1?u[s]:new Ei(r,r)):(o=a.sel.primary(),s=a.sel.primIndex),"rectangle"==n.unit)n.addNew||(o=new Ei(r,r)),r=ln(e,t,!0,!0),s=-1;else{var c=mo(e,r,n.unit);o=n.extend?Hi(o,c.anchor,c.head,n.extend):c}n.addNew?-1==s?(s=u.length,Qi(a,wi(e,u.concat([o]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==n.unit&&!n.extend?(Qi(a,wi(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=a.sel):qi(a,s,o,$):(s=0,Qi(a,new _i([o],0),$),l=a.sel);var d=r;function f(t){if(0!=et(d,t))if(d=t,"rectangle"==n.unit){for(var i=[],u=e.options.tabSize,c=U(Ke(a,r.line).text,r.ch,u),f=U(Ke(a,t.line).text,t.ch,u),p=Math.min(c,f),h=Math.max(c,f),g=Math.min(r.line,t.line),m=Math.min(e.lastLine(),Math.max(r.line,t.line));g<=m;g++){var v=Ke(a,g).text,y=K(v,p,u);p==h?i.push(new Ei(Je(g,y),Je(g,y))):v.length>y&&i.push(new Ei(Je(g,y),Je(g,K(v,h,u))))}i.length||i.push(new Ei(r,r)),Qi(a,wi(e,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,k=o,_=mo(e,t,n.unit),E=k.anchor;et(_.anchor,E)>0?(b=_.head,E=it(k.from(),_.anchor)):(b=_.anchor,E=nt(k.to(),_.head));var w=l.ranges.slice(0);w[s]=function(e,t){var r=t.anchor,n=t.head,i=Ke(e.doc,r.line);if(0==et(r,n)&&r.sticky==n.sticky)return t;var a=ue(i);if(!a)return t;var o=se(a,r.ch,r.sticky),s=a[o];if(s.from!=r.ch&&s.to!=r.ch)return t;var l,u=o+(s.from==r.ch==(1!=s.level)?0:1);if(0==u||u==a.length)return t;if(n.line!=r.line)l=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=se(a,n.ch,n.sticky),d=c-o||(n.ch-r.ch)*(1==s.level?-1:1);l=c==u-1||c==u?d<0:d>0}var f=a[u+(l?-1:0)],p=l==(1==f.level),h=p?f.from:f.to,g=p?"after":"before";return r.ch==h&&r.sticky==g?t:new Ei(new Je(r.line,h,g),n)}(e,new Ei(ot(a,E),b)),Qi(a,wi(e,w,s),$)}}var p=i.wrapper.getBoundingClientRect(),h=0;function g(t){e.state.selectingText=!1,h=1/0,t&&(be(t),i.input.focus()),pe(i.wrapper.ownerDocument,"mousemove",m),pe(i.wrapper.ownerDocument,"mouseup",v),a.history.lastSelOrigin=null}var m=Jn(e,(function(t){0!==t.buttons&&Se(t)?function t(r){var o=++h,s=ln(e,r,!0,"rectangle"==n.unit);if(s)if(0!=et(s,d)){e.curOp.focus=I(),f(s);var l=On(i,a);(s.line>=l.to||s.line<l.from)&&setTimeout(Jn(e,(function(){h==o&&t(r)})),150)}else{var u=r.clientY<p.top?-20:r.clientY>p.bottom?20:0;u&&setTimeout(Jn(e,(function(){h==o&&(i.scroller.scrollTop+=u,t(r))})),50)}}(t):g(t)})),v=Jn(e,g);e.state.selectingText=v,de(i.wrapper.ownerDocument,"mousemove",m),de(i.wrapper.ownerDocument,"mouseup",v)}(e,n,t,a)}(t,n,a,e):we(e)==r.scroller&&be(e):2==i?(n&&Gi(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==i&&(w?t.display.input.onContextMenu(e):En(t)))}}function mo(e,t,r){if("char"==r)return new Ei(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Ei(Je(t.line,0),ot(e.doc,Je(t.line+1,0)));var n=r(e,t);return new Ei(n.from,n.to)}function vo(e,t,r,n){var i,a;if(t.touches)i=t.touches[0].clientX,a=t.touches[0].clientY;else try{i=t.clientX,a=t.clientY}catch(c){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&be(t);var o=e.display,s=o.lineDiv.getBoundingClientRect();if(a>s.bottom||!ve(e,r))return _e(t);a-=s.top-o.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=o.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i)return he(e,r,e,Xe(e.doc,a),e.display.gutterSpecs[l].className,t),_e(t)}}function yo(e,t){return vo(e,t,"gutterClick",!0)}function bo(e,t){kr(e.display,t)||function(e,t){return!!ve(e,"gutterContextMenu")&&vo(e,t,"gutterContextMenu",!1)}(e,t)||ge(e,t,"contextmenu")||w||e.display.input.onContextMenu(t)}function ko(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ur(e)}ho.prototype.compare=function(e,t,r){return this.time+400>e&&0==et(t,this.pos)&&r==this.button};var _o={toString:function(){return"CodeMirror.Init"}},Eo={},wo={};function So(e,t,r){if(!t!=!(r&&r!=_o)){var n=e.display.dragFunctions,i=t?de:pe;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function To(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(x(e.display.wrapper,"CodeMirror-wrap"),Wt(e)),sn(e),cn(e),Ur(e),setTimeout((function(){return Fn(e)}),100)}function xo(e,t){var r=this;if(!(this instanceof xo))return new xo(e,t);this.options=t=t?N(t):{},N(Eo,t,!1);var n=t.value;"string"==typeof n?n=new Aa(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new xo.inputStyles[t.inputStyle](this),a=this.display=new gi(e,n,i,t);for(var u in a.wrapper.CodeMirror=this,ko(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),$n(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!v&&a.input.focus(),o&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(e){var t=e.display;de(t.scroller,"mousedown",Jn(e,go)),de(t.scroller,"dblclick",o&&s<11?Jn(e,(function(t){if(!ge(e,t)){var r=ln(e,t);if(r&&!yo(e,t)&&!kr(e.display,t)){be(t);var n=e.findWordAt(r);Gi(e.doc,n.anchor,n.head)}}})):function(t){return ge(e,t)||be(t)}),de(t.scroller,"contextmenu",(function(t){return bo(e,t)})),de(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||bo(e,r)}));var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function a(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}de(t.scroller,"touchstart",(function(i){if(!ge(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!yo(e,i)){t.input.ensurePolled(),clearTimeout(r);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),de(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),de(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!kr(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var o,s=e.coordsChar(t.activeTouch,"page");o=!n.prev||a(n,n.prev)?new Ei(s,s):!n.prev.prev||a(n,n.prev.prev)?e.findWordAt(s):new Ei(Je(s.line,0),ot(e.doc,Je(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),be(r)}i()})),de(t.scroller,"touchcancel",i),de(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Dn(e,t.scroller.scrollTop),Ln(e,t.scroller.scrollLeft,!0),he(e,"scroll",e))})),de(t.scroller,"mousewheel",(function(t){return ki(e,t)})),de(t.scroller,"DOMMouseScroll",(function(t){return ki(e,t)})),de(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ge(e,t)||Ee(t)},over:function(t){ge(e,t)||(function(e,t){var r=ln(e,t);if(r){var n=document.createDocumentFragment();vn(e,r,n),e.display.dragCursor||(e.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),P(e.display.dragCursor,n)}}(e,t),Ee(t))},start:function(t){return function(e,t){if(o&&(!e.state.draggingText||+new Date-Ca<100))Ee(t);else if(!ge(e,t)&&!kr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var r=A("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),d&&r.parentNode.removeChild(r)}}(e,t)},drop:Jn(e,Ma),leave:function(t){ge(e,t)||Ia(e)}};var l=t.input.getField();de(l,"keyup",(function(t){return uo.call(e,t)})),de(l,"keydown",Jn(e,lo)),de(l,"keypress",Jn(e,co)),de(l,"focus",(function(t){return wn(e,t)})),de(l,"blur",(function(t){return Sn(e,t)}))}(this),ja(),Kn(this),this.curOp.forceUpdate=!0,Di(this,n),t.autofocus&&!v||this.hasFocus()?setTimeout(L(wn,this),20):Sn(this),wo)wo.hasOwnProperty(u)&&wo[u](this,t[u],_o);di(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Oo.length;++c)Oo[c](this);Hn(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}xo.defaults=Eo,xo.optionHandlers=wo;var Oo=[];function Po(e,t,r,n){var i,a=e.doc;null==r&&(r="add"),"smart"==r&&(a.mode.indent?i=ft(e,t).state:r="prev");var o=e.options.tabSize,s=Ke(a,t),l=U(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=a.mode.indent(i,s.text.slice(c.length),s.text))==z||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>a.first?U(Ke(a,t-1).text,null,o):0:"add"==r?u=l+e.options.indentUnit:"subtract"==r?u=l-e.options.indentUnit:"number"==typeof r&&(u=l+r),u=Math.max(0,u);var d="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/o);p;--p)f+=o,d+="\t";if(f<u&&(d+=G(u-f)),d!=c)return pa(a,d,Je(t,0),Je(t,c.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<a.sel.ranges.length;h++){var g=a.sel.ranges[h];if(g.head.line==t&&g.head.ch<c.length){var m=Je(t,c.length);qi(a,h,new Ei(m,m));break}}}xo.defineInitHook=function(e){return Oo.push(e)};var Ao=null;function Co(e){Ao=e}function Mo(e,t,r,n,i){var a=e.doc;e.display.shift=!1,n||(n=a.sel);var o=+new Date-200,s="paste"==i||e.state.pasteIncoming>o,l=Ce(t),u=null;if(s&&n.ranges.length>1)if(Ao&&Ao.text.join("\n")==t){if(n.ranges.length%Ao.text.length==0){u=[];for(var c=0;c<Ao.text.length;c++)u.push(a.splitLines(Ao.text[c]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=q(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=n.ranges.length-1;f>=0;f--){var p=n.ranges[f],h=p.from(),g=p.to();p.empty()&&(r&&r>0?h=Je(h.line,h.ch-r):e.state.overwrite&&!s?g=Je(g.line,Math.min(Ke(a,g.line).text.length,g.ch+Z(l).length)):s&&Ao&&Ao.lineWise&&Ao.text.join("\n")==t&&(h=g=Je(h.line,0)));var m={from:h,to:g,text:u?u[f%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming>o?"cut":"+input")};la(e.doc,m),or(e,"inputRead",e,m)}t&&!s&&Ro(e,t),Cn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Io(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Qn(t,(function(){return Mo(t,r,0,null,"paste")})),!0}function Ro(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var a=e.getModeAt(i.head),o=!1;if(a.electricChars){for(var s=0;s<a.electricChars.length;s++)if(t.indexOf(a.electricChars.charAt(s))>-1){o=Po(e,i.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(Ke(e.doc,i.head.line).text.slice(0,i.head.ch))&&(o=Po(e,i.head.line,"smart"));o&&or(e,"electricInput",e,i.head.line)}}}function Do(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,a={anchor:Je(i,0),head:Je(i+1,0)};r.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:r}}function jo(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Lo(){var e=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=A("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),jo(e),t}function No(e,t,r,n,i){var a=t,o=r,s=Ke(e,t.line),l=i&&"rtl"==e.direction?-r:r;function u(n){var a;if(null==(a=i?function(e,t,r,n){var i=ue(t,e.doc.direction);if(!i)return Ya(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var a=se(i,r.ch,r.sticky),o=i[a];if("ltr"==e.doc.direction&&o.level%2==0&&(n>0?o.to>r.ch:o.from<r.ch))return Ya(t,r,n);var s,l=function(e,r){return Xa(t,e instanceof Je?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||Cr(e,t),Xr(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?l(r,-1):r.ch);if("rtl"==e.doc.direction||1==o.level){var d=1==o.level==n<0,f=l(r,d?1:-1);if(null!=f&&(d?f<=o.to&&f<=c.end:f>=o.from&&f>=c.begin)){var p=d?"before":"after";return new Je(r.line,f,p)}}var h=function(e,t,n){for(var a=function(e,t){return t?new Je(r.line,l(e,1),"before"):new Je(r.line,e,"after")};e>=0&&e<i.length;e+=t){var o=i[e],s=t>0==(1!=o.level),u=s?n.begin:l(n.end,-1);if(o.from<=u&&u<o.to)return a(u,s);if(u=s?o.from:l(o.to,-1),n.begin<=u&&u<n.end)return a(u,s)}},g=h(a+n,n,c);if(g)return g;var m=n>0?c.end:l(c.begin,-1);return null==m||n>0&&m==t.text.length||!(g=h(n>0?0:i.length-1,n,u(m)))?null:g}(e.cm,s,t,r):Ya(s,t,r))){if(n||!function(){var r=t.line+l;return!(r<e.first||r>=e.first+e.size)&&(t=new Je(r,t.ch,t.sticky),s=Ke(e,r))}())return!1;t=Qa(i,e.cm,s,t.line,l)}else t=a;return!0}if("char"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var c=null,d="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||u(!p);p=!1){var h=s.text.charAt(t.ch)||"\n",g=ee(h,f)?"w":d&&"\n"==h?"n":!d||/\s/.test(h)?null:"p";if(!d||p||g||(g="s"),c&&c!=g){r<0&&(r=1,u(),t.sticky="after");break}if(g&&(c=g),r>0&&!u(!p))break}var m=ia(e,t,a,o,!0);return tt(a,m)&&(m.hitSide=!0),m}function Uo(e,t,r,n){var i,a,o=e.doc,s=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*tn(e.display),3);i=(r>0?t.bottom:t.top)+r*u}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(a=Zr(e,s,i)).outside;){if(r<0?i<=0:i>=o.height){a.hitSide=!0;break}i+=5*r}return a}var Bo=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Fo(e,t){var r=Ar(e,t.line);if(!r||r.hidden)return null;var n=Ke(e.doc,t.line),i=Or(r,n,t.line),a=ue(n,e.doc.direction),o="left";a&&(o=se(a,t.ch)%2?"right":"left");var s=Dr(i.map,t.ch,o);return s.offset="right"==s.collapse?s.end:s.start,s}function zo(e,t){return t&&(e.bad=!0),e}function Vo(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return zo(e.clipPos(Je(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var a=e.display.view[i];if(a.node==n)return $o(a,t,r)}}function $o(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!M(n,t))return zo(Je(qe(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var a=e.rest?Z(e.rest):e.line;return zo(Je(qe(a),a.text.length),i)}var o=3==t.nodeType?t:null,s=t;for(o||1!=t.childNodes.length||3!=t.firstChild.nodeType||(o=t.firstChild,r&&(r=o.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,r,n){for(var i=-1;i<(u?u.length:0);i++)for(var a=i<0?l.map:u[i],o=0;o<a.length;o+=3){var s=a[o+2];if(s==t||s==r){var c=qe(i<0?e.line:e.rest[i]),d=a[o]+n;return(n<0||s!=t)&&(d=a[o+(n?1:0)]),Je(c,d)}}}var d=c(o,s,r);if(d)return zo(d,i);for(var f=s.nextSibling,p=o?o.nodeValue.length-r:0;f;f=f.nextSibling){if(d=c(f,f.firstChild,0))return zo(Je(d.line,d.ch-p),i);p+=f.textContent.length}for(var h=s.previousSibling,g=r;h;h=h.previousSibling){if(d=c(h,h.firstChild,-1))return zo(Je(d.line,d.ch+g),i);g+=h.textContent.length}}Bo.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function a(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function o(e){if(a(e)&&!ge(n,e)){if(n.somethingSelected())Co({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Do(n);Co({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,V),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=Ao.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=Lo(),l=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),l.value=Ao.text.join("\n");var u=document.activeElement;j(l),setTimeout((function(){n.display.lineSpace.removeChild(s),u.focus(),u==i&&r.showPrimarySelection()}),50)}}jo(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),de(i,"paste",(function(e){!a(e)||ge(n,e)||Io(e,n)||s<=11&&setTimeout(Jn(n,(function(){return t.updateFromDOM()})),20)})),de(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),de(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),de(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),de(i,"touchstart",(function(){return r.forceCompositionEnd()})),de(i,"input",(function(){t.composing||t.readFromDOMSoon()})),de(i,"copy",o),de(i,"cut",o)},Bo.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Bo.prototype.prepareSelection=function(){var e=mn(this.cm,!1);return e.focus=document.activeElement==this.div,e},Bo.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Bo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Bo.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),a=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||a.line<t.display.viewFrom)e.removeAllRanges();else{var o=Vo(t,e.anchorNode,e.anchorOffset),s=Vo(t,e.focusNode,e.focusOffset);if(!o||o.bad||!s||s.bad||0!=et(it(o,s),i)||0!=et(nt(o,s),a)){var l=t.display.view,u=i.line>=t.display.viewFrom&&Fo(t,i)||{node:l[0].measure.map[2],offset:0},c=a.line<t.display.viewTo&&Fo(t,a);if(!c){var d=l[l.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&c){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=T(u.node,u.offset,c.offset,c.node)}catch(g){}p&&(!r&&t.state.focused?(e.collapse(u.node,u.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Bo.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Bo.prototype.showMultipleSelections=function(e){P(this.cm.display.cursorDiv,e.cursors),P(this.cm.display.selectionDiv,e.selection)},Bo.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Bo.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return M(this.div,t)},Bo.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Bo.prototype.blur=function(){this.div.blur()},Bo.prototype.getField=function(){return this.div},Bo.prototype.supportsTouch=function(){return!0},Bo.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Qn(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Bo.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Bo.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(m&&c&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Vo(t,e.anchorNode,e.anchorOffset),n=Vo(t,e.focusNode,e.focusOffset);r&&n&&Qn(t,(function(){Qi(t.doc,Si(r,n),V),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Bo.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,a=n.doc.sel.primary(),o=a.from(),s=a.to();if(0==o.ch&&o.line>n.firstLine()&&(o=Je(o.line-1,Ke(n.doc,o.line-1).length)),s.ch==Ke(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=Je(s.line+1,0)),o.line<i.viewFrom||s.line>i.viewTo-1)return!1;o.line==i.viewFrom||0==(e=un(n,o.line))?(t=qe(i.view[0].line),r=i.view[0].node):(t=qe(i.view[e].line),r=i.view[e-1].node.nextSibling);var l,u,c=un(n,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=qe(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!r)return!1;for(var d=n.doc.splitLines(function(e,t,r,n,i){var a="",o=!1,s=e.doc.lineSeparator(),l=!1;function u(){o&&(a+=s,l&&(a+=s),o=l=!1)}function c(e){e&&(u(),a+=e)}function d(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void c(r);var a,f=t.getAttribute("cm-marker");if(f){var p=e.findMarks(Je(n,0),Je(i+1,0),(m=+f,function(e){return e.id==m}));return void(p.length&&(a=p[0].find(0))&&c(He(e.doc,a.from,a.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&u();for(var g=0;g<t.childNodes.length;g++)d(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),h&&(o=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;d(t),t!=r;)t=t.nextSibling,l=!1;return a}(n,r,u,t,l)),f=He(n.doc,Je(t,0),Je(l,Ke(n.doc,l).text.length));d.length>1&&f.length>1;)if(Z(d)==Z(f))d.pop(),f.pop(),l--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}for(var p=0,h=0,g=d[0],m=f[0],v=Math.min(g.length,m.length);p<v&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var y=Z(d),b=Z(f),k=Math.min(y.length-(1==d.length?p:0),b.length-(1==f.length?p:0));h<k&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;if(1==d.length&&1==f.length&&t==o.line)for(;p&&p>o.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)p--,h++;d[d.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var _=Je(t,p),E=Je(l,f.length?Z(f).length-h:0);return d.length>1||d[0]||et(_,E)?(pa(n.doc,d,_,E,"+input"),!0):void 0},Bo.prototype.ensurePolled=function(){this.forceCompositionEnd()},Bo.prototype.reset=function(){this.forceCompositionEnd()},Bo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Bo.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Bo.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Qn(this.cm,(function(){return cn(e.cm)}))},Bo.prototype.setUneditable=function(e){e.contentEditable="false"},Bo.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Jn(this.cm,Mo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Bo.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Bo.prototype.onContextMenu=function(){},Bo.prototype.resetPosition=function(){},Bo.prototype.needsContentAttribute=!0;var Wo=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};Wo.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function a(e){if(!ge(n,e)){if(n.somethingSelected())Co({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Do(n);Co({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,V):(r.prevInput="",i.value=t.text.join("\n"),j(i))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(i.style.width="0px"),de(i,"input",(function(){o&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),de(i,"paste",(function(e){ge(n,e)||Io(e,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),de(i,"cut",a),de(i,"copy",a),de(e.scroller,"paste",(function(t){if(!kr(e,t)&&!ge(n,t)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var a=new Event("paste");a.clipboardData=t.clipboardData,i.dispatchEvent(a)}})),de(e.lineSpace,"selectstart",(function(t){kr(e,t)||be(t)})),de(i,"compositionstart",(function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),de(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},Wo.prototype.createField=function(e){this.wrapper=Lo(),this.textarea=this.wrapper.firstChild},Wo.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Wo.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=mn(e);if(e.options.moveInputWithCursor){var i=Kr(e,r.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-a.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-a.left))}return n},Wo.prototype.showSelection=function(e){var t=this.cm.display;P(t.cursorDiv,e.cursors),P(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Wo.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&j(this.textarea),o&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",o&&s>=9&&(this.hasSelection=null))}},Wo.prototype.getField=function(){return this.textarea},Wo.prototype.supportsTouch=function(){return!1},Wo.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||I()!=this.textarea))try{this.textarea.focus()}catch(e){}},Wo.prototype.blur=function(){this.textarea.blur()},Wo.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Wo.prototype.receivedFocus=function(){this.slowPoll()},Wo.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Wo.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}))},Wo.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Me(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(o&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var a=i.charCodeAt(0);if(8203!=a||n||(n="\u200b"),8666==a)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(n.length,i.length);l<u&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return Qn(t,(function(){Mo(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Wo.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Wo.prototype.onKeyPress=function(){o&&s>=9&&(this.hasSelection=null),this.fastPoll()},Wo.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var a=ln(r,e),u=n.scroller.scrollTop;if(a&&!d){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&Jn(r,Qi)(r.doc,Si(a),V);var c,f=i.style.cssText,p=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(o?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),n.input.focus(),l&&window.scrollTo(null,c),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=m,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),o&&s>=9&&g(),w?(Ee(e),de(window,"mouseup",(function e(){pe(window,"mouseup",e),setTimeout(m,20)}))):setTimeout(m,50)}function g(){if(null!=i.selectionStart){var e=r.somethingSelected(),a="\u200b"+(e?i.value:"");i.value="\u21da",i.value=a,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=a.length,n.selForContextMenu=r.doc.sel}}function m(){if(t.contextMenuPending==m&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=f,o&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),null!=i.selectionStart)){(!o||o&&s<9)&&g();var e=0;n.detectingSelectAll=setTimeout((function a(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Jn(r,oa)(r):e++<10?n.detectingSelectAll=setTimeout(a,500):(n.selForContextMenu=null,n.input.reset())}),200)}}},Wo.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Wo.prototype.setUneditable=function(){},Wo.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(r,n,i,a){e.defaults[r]=n,i&&(t[r]=a?function(e,t,r){r!=_o&&i(e,t,r)}:i)}e.defineOption=r,e.Init=_o,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,Ai(e)}),!0),r("indentUnit",2,Ai,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){Ci(e),Ur(e),cn(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var a=e.text.indexOf(t,i);if(-1==a)break;i=a+t.length,r.push(Je(n,a))}n++}));for(var i=r.length-1;i>=0;i--)pa(e.doc,t,r[i],Je(r[i].line,r[i].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=_o&&e.refresh()})),r("specialCharPlaceholder",Yt,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!k),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){ko(e),hi(e)}),!0),r("keyMap","default",(function(e,t,r){var n=Za(t),i=r!=_o&&Za(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,To,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=fi(t,e.options.lineNumbers),hi(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?an(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return Fn(e)}),!0),r("scrollbarStyle","native",(function(e){$n(e),Fn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=fi(e.options.gutters,t),hi(e)}),!0),r("firstLineNumber",1,hi,!0),r("lineNumberFormatter",(function(e){return e}),hi,!0),r("showCursorWhenSelecting",!1,gn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(Sn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,So),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,gn,!0),r("singleCursorHeightPerLine",!0,gn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Ci,!0),r("addModeClass",!1,Ci,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,Ci,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}(xo),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&Jn(this,t[e])(this,r,i),he(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Za(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:ei((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,cn(this)})),removeOverlay:ei((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void cn(this)}})),indentLine:ei((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ye(this.doc,e)&&Po(this,e,t,r)})),indentSelection:ei((function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Po(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Cn(this));else{var a=i.from(),o=i.to(),s=Math.max(r,a.line);r=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;l<r;++l)Po(this,l,e);var u=this.doc.sel.ranges;0==a.ch&&t.length==u.length&&u[n].from().ch>0&&qi(this.doc,n,new Ei(a,u[n].to()),V)}}})),getTokenAt:function(e,t){return vt(this,e,t)},getLineTokens:function(e,t){return vt(this,Je(e),t,!0)},getTokenTypeAt:function(e){e=ot(this.doc,e);var t,r=dt(this,Ke(this.doc,e.line)),n=0,i=(r.length-1)/2,a=e.ch;if(0==a)t=r[2];else for(;;){var o=n+i>>1;if((o?r[2*o-1]:0)>=a)i=o;else{if(!(r[2*o+1]<a)){t=r[2*o+2];break}n=o+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],a=this.getModeAt(e);if("string"==typeof a[t])i[a[t]]&&n.push(i[a[t]]);else if(a[t])for(var o=0;o<a[t].length;o++){var s=i[a[t][o]];s&&n.push(s)}else a.helperType&&i[a.helperType]?n.push(i[a.helperType]):i[a.name]&&n.push(i[a.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(a,this)&&-1==F(n,u.val)&&n.push(u.val)}return n},getStateAfter:function(e,t){var r=this.doc;return ft(this,(e=at(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Kr(this,null==e?r.head:"object"==typeof e?ot(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return Wr(this,ot(this.doc,e),t||"page")},coordsChar:function(e,t){return Zr(this,(e=$r(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=$r(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var a=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>a&&(e=a,i=!0),n=Ke(this.doc,e)}else n=e;return Vr(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-Vt(n):0)},defaultTextHeight:function(){return tn(this.display)},defaultCharWidth:function(){return rn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var a=this.display,o=(e=Kr(this,ot(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n)o=e.top;else if("above"==n||"near"==n){var l=Math.max(a.wrapper.clientHeight,this.doc.height),u=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==i?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&function(e,t){var r=Pn(e,t);null!=r.scrollTop&&Dn(e,r.scrollTop),null!=r.scrollLeft&&Ln(e,r.scrollLeft)}(this,{left:s,top:o,right:s+t.offsetWidth,bottom:o+t.offsetHeight})},triggerOnKeyDown:ei(lo),triggerOnKeyPress:ei(co),triggerOnKeyUp:uo,triggerOnMouseDown:ei(go),execCommand:function(e){if(Ja.hasOwnProperty(e))return Ja[e].call(null,this)},triggerElectric:ei((function(e){Ro(this,e)})),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var a=ot(this.doc,e),o=0;o<t&&!(a=No(this.doc,a,i,r,n)).hitSide;++o);return a},moveH:ei((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?No(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),W)})),deleteH:ei((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):qa(this,(function(r){var i=No(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(e,t,r,n){var i=1,a=n;t<0&&(i=-1,t=-t);for(var o=ot(this.doc,e),s=0;s<t;++s){var l=Kr(this,o,"div");if(null==a?a=l.left:l.left=a,(o=Uo(this,l,i,r)).hitSide)break}return o},moveV:ei((function(e,t){var r=this,n=this.doc,i=[],a=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(o){if(a)return e<0?o.from():o.to();var s=Kr(r,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),i.push(s.left);var l=Uo(r,s,e,t);return"page"==t&&o==n.sel.primary()&&An(r,Wr(r,l,"div").top-s.top),l}),W),i.length)for(var o=0;o<n.sel.ranges.length;o++)n.sel.ranges[o].goalColumn=i[o]})),findWordAt:function(e){var t=Ke(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var a=t.charAt(r),o=ee(a,i)?function(e){return ee(e,i)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};r>0&&o(t.charAt(r-1));)--r;for(;n<t.length&&o(t.charAt(n));)++n}return new Ei(Je(e.line,r),Je(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):x(this.display.cursorDiv,"CodeMirror-overwrite"),he(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei((function(e,t){Mn(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Sr(this)-this.display.barHeight,width:e.scrollWidth-Sr(this)-this.display.barWidth,clientHeight:xr(this),clientWidth:Tr(this)}},scrollIntoView:ei((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Je(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){In(e),e.curOp.scrollToPos=t}(this,e):Rn(this,e.from,e.to,e.margin)})),setSize:ei((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Nr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){dn(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,he(this,"refresh",this)})),operation:function(e){return Qn(this,e)},startOperation:function(){return Kn(this)},endOperation:function(){return Hn(this)},refresh:ei((function(){var e=this.display.cachedTextHeight;cn(this),this.curOp.forceUpdate=!0,Ur(this),Mn(this,this.doc.scrollLeft,this.doc.scrollTop),li(this.display),(null==e||Math.abs(e-tn(this.display))>.5||this.options.lineWrapping)&&sn(this),he(this,"refresh",this)})),swapDoc:ei((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Di(this,e),Ur(this),this.display.input.reset(),Mn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,or(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ye(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,a){e.registerHelper(t,n,a),r[t]._global.push({pred:i,val:a})}}(xo);var Ko="iter insert remove copy getEditor constructor".split(" ");for(var Ho in Aa.prototype)Aa.prototype.hasOwnProperty(Ho)&&F(Ko,Ho)<0&&(xo.prototype[Ho]=function(e){return function(){return e.apply(this.doc,arguments)}}(Aa.prototype[Ho]));return ye(Aa),xo.inputStyles={textarea:Wo,contenteditable:Bo},xo.defineMode=function(e){xo.defaults.mode||"null"==e||(xo.defaults.mode=e),Le.apply(this,arguments)},xo.defineMIME=function(e,t){je[e]=t},xo.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),xo.defineMIME("text/plain","null"),xo.defineExtension=function(e,t){xo.prototype[e]=t},xo.defineDocExtension=function(e,t){Aa.prototype[e]=t},xo.fromTextArea=function(e,t){if((t=t?N(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=I();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(de(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var a=e.form;i=a.submit;try{var o=a.submit=function(){n(),a.submit=i,a.submit(),a.submit=o}}catch(l){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=xo((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=pe,e.on=de,e.wheelEventPixels=bi,e.Doc=Aa,e.splitLines=Ce,e.countColumn=U,e.findColumn=K,e.isWordChar=J,e.Pass=z,e.signal=he,e.Line=Kt,e.changeEnd=Ti,e.scrollbarModel=Vn,e.Pos=Je,e.cmpPos=et,e.modes=De,e.mimeModes=je,e.resolveMode=Ne,e.getMode=Ue,e.modeExtensions=Be,e.extendMode=Fe,e.copyState=ze,e.startState=$e,e.innerMode=Ve,e.commands=Ja,e.keyMap=za,e.keyName=Ga,e.isModifierKey=Ka,e.lookupKey=Wa,e.normalizeKeyMap=$a,e.StringStream=We,e.SharedTextMarker=Ta,e.TextMarker=wa,e.LineWidget=ka,e.e_preventDefault=be,e.e_stopPropagation=ke,e.e_stop=Ee,e.addClass=R,e.contains=M,e.rmClass=x,e.keyNames=Na}(xo),xo.version="5.55.0",xo}()},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return e.button},p=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"handleClick",(function(){return e.props.onClick&&e.props.onClick()})),d(a(e),"handleKeyDown",(0,u.getKeyboardShortcutBlocker)(["Enter"," "])),d(a(e),"handleKeyUp",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.handleClick())})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.label,r=e.className,n=e.classNamePrefix,i=e.classes,a=e.content,o=(0,u.hydrateClassNames)({classes:i,selectClasses:f,classNames:["button",r],classNamePrefix:n});return l.createElement("div",{title:t,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,className:o,role:"button",tabIndex:0},l.createElement("div",{tabIndex:-1},a))}}]),r}(l.Component);d(p,"defaultProps",{useDefaultClassNaming:!0});var h=p;t.default=h},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=r(9),d=(l=r(49))&&l.__esModule?l:{default:l},f=r(239);function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){return e.selectorCollapsed||e.selector},m=function(e){return e.selectorExpanded||e.selector},v=function(e){return e.selectorItemsContainer},y=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),h(a(i),"focusableItems",[]),h(a(i),"toggleElement",null),h(a(i),"onToggleRef",(function(e){i.toggleElement=e})),h(a(i),"handleToggle",(function(e){return i.setState({isExpanded:e})})),h(a(i),"handleItemRef",(function(e,t){i.focusableItems[t]=e})),h(a(i),"renderSelectorItem",(function(e,t){var r=i.props.itemMapper(e);return u.createElement(f.SelectorItem,{key:r.id,item:r,index:t,onSelect:i.props.onSelect,onRef:i.handleItemRef,isSelected:e===i.props.selectedItem,canReceiveFocus:i.state.isExpanded,selectedClassName:"selected",defaultItemClassName:"selector-item",className:i.props.itemClassName,classes:i.props.classes,classNamePrefix:i.props.classNamePrefix})})),h(a(i),"handleKeyDown",(function(e){switch(e.key){case"ArrowUp":case"Up":return void e.preventDefault();case"ArrowDown":case"Down":return void(i.state.isExpanded&&e.preventDefault());default:return}})),h(a(i),"handleKeyUp",(function(e){i.state.isExpanded?("ArrowUp"!==e.key&&"Up"!==e.key||(e.preventDefault(),(0,f.focusElement)(!0,i.props.reverseOrder||!1,i.focusableItems,i.toggleElement)),("ArrowDown"===e.key||"Down"===e.key)&&(e.preventDefault(),(0,f.focusElement)(!1,i.props.reverseOrder||!1,i.focusableItems,i.toggleElement)===i.toggleElement&&i.setState({isExpanded:!1}))):"ArrowUp"!==e.key&&"Up"!==e.key||(e.preventDefault(),i.setState({isExpanded:!0}))})),h(a(i),"handleMouseLeave",(function(){i.setState({isExpanded:!1})})),i.state={isExpanded:!1},i}return i(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.classNamePrefix,n=e.classes,i=e.items,a=e.collapsedToggleContent,o=e.expandedToggleContent,s=e.reverseOrder,l=e.label,f=i?s?i.map(this.renderSelectorItem).reverse():i.map(this.renderSelectorItem):null,p=(0,c.hydrateClassNames)({classes:n,classNamePrefix:r,selectClasses:this.state.isExpanded?m:g,classNames:[t,"selector",this.state.isExpanded?"expanded":"collapsed"]}),h=(0,c.hydrateClassNames)({classes:n,selectClasses:v,classNamePrefix:r,classNames:["selector-items"]}),y=n?{toggleButtonOff:n.selectorToggle||n.selectorToggleOff,toggleButtonOn:n.selectorToggleOn}:null;return u.createElement("div",{className:p,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onMouseLeave:this.handleMouseLeave},u.createElement(d.default,{isOn:this.state.isExpanded,className:"selector-toggle",classNamePrefix:r,classes:y,label:l,onToggle:this.handleToggle,onRef:this.onToggleRef,toggledOffContent:a,toggledOnContent:o}),u.createElement("div",{role:"listbox",className:h},f))}}]),r}(u.Component);h(y,"defaultProps",{useDefaultClassNaming:!0});var b=y;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImplementationResolver=g,t.default=void 0;var n=h(r(67)),i=h(r(248)),a=h(r(81)),o=h(r(249)),s=h(r(250)),l=r(82),u=h(r(52)),c=h(r(83)),d=r(68),f=r(84),p=h(r(163));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){return function(t,r,n,p){var h=(0,i.default)(n,r),g=e(n),m=(0,a.default)(t),v=(0,o.default)(n,m,p),y=(0,s.default)(n,m),b=(0,l.getPropertyApplier)(n,h,v,y),k=(0,f.getArrayLogger)(window,"videoEvents").log,_=(0,c.default)({streamer:t,videoElement:n,streamRangeHelper:h,configuration:r,applyProperties:b,updateStreamState:m,log:k}),E=_.videoElementEventHandlers,w=_.setLifeCycleManager,S=(0,u.default)(m,_.pauseStreamRangeUpdater,(0,f.getArrayLogger)(window,"lifecycle").log);w(S);var T=S.startPlaybackSession,x=S.endPlaybackSession,O=d.renderWithoutSource;return Promise.resolve({cleanup:function(){return v.cleanup(),y.cleanup(),S.cleanup(),_.cleanup(),Promise.resolve()},render:O,textTrackManager:v,audioTrackManager:y,applyProperties:b,handleSourceChange:g,startPlaybackSession:T,endPlaybackSession:x,videoElementEventHandlers:E})}}var m=(0,n.default)("BasicVideoStreamer",g(p.default));t.default=m},function(e,t,r){"use strict";var n=r(42),i=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(9),o=function(e){return null==e||isNaN(e)||e===1/0||"number"!==typeof e||e<0?0:e},s={position:o,duration:o,volume:o};var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r={};function o(o){var s=e.props&&e.props.onStreamStateChange;s&&Object.entries(o).forEach((function(e){var o=i(e,2),l=o[0],u=o[1],c=t[l]?t[l](u):u;(0,a.isDifferent)(r[l],c)&&(r[l]=c,s(n({},l,c)))}))}return o};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyApplier=void 0;t.getPropertyApplier=function(e,t,r,n,i){return function(a){"isPaused"in a&&(a.isPaused?e.pause():e.play()),null!=a.volume&&(e.volume=a.volume),null!=a.isMuted&&(e.muted=a.isMuted),null!=a.position&&t.setPosition(a.position),a.isAtLiveEdge&&t.gotoLive(),r&&"selectedTextTrack"in a&&r.handleSelectedTextTrackChange(a.selectedTextTrack),n&&a.selectedAudioTrack&&n.handleSelectedAudioTrackChange(a.selectedAudioTrack),i&&(void 0!==a.bitrateFix&&i.fixBitrate(a.bitrateFix),void 0!==a.bitrateCap&&i.capBitrate(a.bitrateCap)),"isPipActive"in a&&(a.isPipActive?"function"===typeof e.requestPictureInPicture?e.requestPictureInPicture():"function"===typeof e.webkitSetPresentationMode&&e.webkitSetPresentationMode("picture-in-picture"):document.pictureInPictureElement===e?document.exitPictureInPicture():"picture-in-picture"===e.webkitPresentationMode&&e.webkitSetPresentationMode("inline")),a.isAirPlayTargetPickerVisible&&"function"===typeof e.webkitShowPlaybackTargetPicker&&e.webkitShowPlaybackTargetPicker()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(251))&&n.__esModule?n:{default:n},a=(r(35),r(9));function o(e){for(var t=e.currentTime,r=e.buffered,n=0,i=0;i<r.length;++i)if(r.start(i)-2<=t&&r.end(i)+2>=t){n=r.end(i)-t;break}return n}var s=function(e){var t=e.streamer,r=e.videoElement,n=e.streamRangeHelper,s=e.configuration,l=e.applyProperties,u=e.updateStreamState,c=e.log,d=navigator.userAgent.indexOf("Edge")>0||navigator.userAgent.indexOf("Safari")>0&&navigator.userAgent.indexOf("Chrome")<0&&navigator.userAgent.indexOf("Firefox")<0,f={setStage:function(e){},getStage:function(){}};function p(){return document.pictureInPictureEnabled&&!r.disablePictureInPicture||r.webkitSupportsPresentationMode&&r.webkitSupportsPresentationMode("picture-in-picture")&&"function"===typeof r.webkitSetPresentationMode||!1}function h(){u({isPipActive:!0})}function g(){u({isPipActive:!1})}function m(e){"available"===e.availability?u({isAirPlayAvailable:!0}):u({isAirPlayAvailable:!1})}function v(e){u({isAirPlayActive:r.webkitCurrentPlaybackTargetIsWireless})}function y(){"picture-in-picture"===r.webkitPresentationMode?u({isPipActive:!0}):u({isPipActive:!1})}var b=(0,a.getIntervalRunner)((function(){n.adjustForDvrStartOffset(),u(n.calculateNewState())}),s&&s.pauseUpdateInterval||5);return r.addEventListener("enterpictureinpicture",h),r.addEventListener("leavepictureinpicture",g),r.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",v),r.addEventListener("webkitplaybacktargetavailabilitychanged",m),r.addEventListener("webkitpresentationmodechanged",y),{videoElementEventHandlers:{onLoadStart:function(){if(c&&c("loadstart"),"new"===f.getStage()){if(f.setStage("starting"),t.props.initialPlaybackProps){var e=t.props.initialPlaybackProps,n=e.isMuted,i=e.volume,a=e.bitrateFix,o=e.bitrateCap;l({isMuted:n,volume:i,bitrateFix:a,bitrateCap:o})}u({playState:"starting",isBuffering:!0,volume:r.volume,isMuted:r.muted})}},onLoadedMetadata:function(){c&&c("loadedmetadata"),t.props.initialPlaybackProps&&t.props.initialPlaybackProps.isPaused&&r.pause(),u(n.calculateNewState()),u({isPipAvailable:p()})},onCanPlay:function(){c&&c("canplay");var e=f.getStage();"starting"===e?t.props.initialPlaybackProps&&t.props.initialPlaybackProps.isPaused&&f.setStage("started"):"started"===e&&u({isBuffering:!1,playState:r.paused?"paused":"playing"}),u({bufferedAhead:o(r),isPipAvailable:p()}),r.paused&&(u({playState:"paused",isPaused:!0,isBuffering:!1,isSeeking:!1}),b.start())},onWaiting:function(){c&&c("waiting"),u({isBuffering:!0}),"started"===f.getStage()&&u({playState:"buffering"})},onStalled:function(){c&&c("stalled"),d||(u({isBuffering:!0}),"started"===f.getStage()&&u({playState:"buffering"}))},onPlaying:function(){c&&c("playing"),"starting"===f.getStage()&&f.setStage("started"),"started"===f.getStage()&&u({playState:"playing",isBuffering:!1,isPaused:!1,isSeeking:!1}),b.stop()},onPause:function(){c&&c("pause"),"started"===f.getStage()&&u({playState:"paused",isPaused:!0}),b.start()},onSeeking:function(){c&&c("seeking"),b.stop(),"started"===f.getStage()&&u({playState:"seeking",isSeeking:!0})},onSeeked:function(){c&&c("seeked"),d&&(r.paused?(u({playState:"paused",isPaused:!0,isBuffering:!1,isSeeking:!1}),b.start()):(u({playState:"playing",isPaused:!1,isBuffering:!1,isSeeking:!1}),b.stop()))},onDurationChange:function(){c&&c("durationchange"),u(n.calculateNewState())},onTimeUpdate:function(){u(n.calculateNewState())},onVolumeChange:function(){c&&c("volumechange"),u({volume:r.volume,isMuted:r.muted})},onProgress:function(){u({bufferedAhead:o(r)})},onError:function(){var e=(0,i.default)(r);t.props.onPlaybackError&&t.props.onPlaybackError(e),u({error:r.error}),"FATAL"===e.severity&&(f.setStage("dead"),u({playState:"inactive",isBuffering:!1,isSeeking:!1})),b.stop()},onEnded:function(){c&&c("ended"),"started"===f.getStage()&&u({playState:"inactive"}),b.stop()}},pauseStreamRangeUpdater:b,setLifeCycleManager:function(e){f=e},isPipAvailable:p,cleanup:function(){r.removeEventListener("enterpictureinpicture",h),r.removeEventListener("leavepictureinpicture",g),r.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",v),r.removeEventListener("webkitplaybacktargetavailabilitychanged",m),r.removeEventListener("webkitpresentationmodechanged",y)}}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayLogger=void 0;t.getArrayLogger=function(e,t){return document.location.search.indexOf("debugVideoStreamer")>=0?{log:function(){e[t]||(e[t]=[]);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];switch(n.length){case 0:return;case 1:return void e[t].push(n[0]);default:return void e[t].push(n)}}}:{log:function(){}}}},function(e,t,r){"use strict";var n,i=r(30),a=r(51).ONE_SECOND_IN_TS,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(e){var t,r=0;n.prototype.init.call(this),this.push=function(n){var i,s,l,u,c,d,f=0;if(e||(r=0),"audio"===n.type)for(t?(u=t,(t=new Uint8Array(u.byteLength+n.data.byteLength)).set(u),t.set(n.data,u.byteLength)):t=n.data;f+5<t.length;)if(255===t[f]&&240===(246&t[f+1])){if(s=2*(1&~t[f+1]),i=(3&t[f+3])<<11|t[f+4]<<3|(224&t[f+5])>>5,d=(c=1024*(1+(3&t[f+6])))*a/o[(60&t[f+2])>>>2],l=f+i,t.byteLength<l)return;if(this.trigger("data",{pts:n.pts+r*d,dts:n.dts+r*d,sampleCount:c,audioobjecttype:1+(t[f+2]>>>6&3),channelcount:(1&t[f+2])<<2|(192&t[f+3])>>>6,samplerate:o[(60&t[f+2])>>>2],samplingfrequencyindex:(60&t[f+2])>>>2,samplesize:16,data:t.subarray(f+7+s,l)}),r++,t.byteLength===l)return void(t=void 0);t=t.subarray(l)}else f++},this.flush=function(){r=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new i,e.exports=n},function(e,t,r){"use strict";var n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,_,E,w,S,T,x,O,P,A,C,M,I,R,D,j,L,N,U,B=Math.pow(2,32)-1;!function(){var e;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(e in T)T.hasOwnProperty(e)&&(T[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);x=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),O=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),C=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),M={video:A,audio:C},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]),j=new Uint8Array([0,0,0,0,0,0,0,0]),L=j,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=j,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(e){var t,r,n=[],i=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)i+=n[t].byteLength;for(r=new Uint8Array(i+8),new DataView(r.buffer,r.byteOffset,r.byteLength).setUint32(0,r.byteLength),r.set(e,4),t=0,i=8;t<n.length;t++)r.set(n[t],i),i+=n[t].byteLength;return r},i=function(){return n(T.dinf,n(T.dref,D))},a=function(e){return n(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return n(T.ftyp,x,O,x,P)},y=function(e){return n(T.hdlr,M[e])},s=function(e){return n(T.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),n(T.mdhd,t)},m=function(e){return n(T.mdia,v(e),y(e.type),u(e))},l=function(e){return n(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},u=function(e){return n(T.minf,"video"===e.type?n(T.vmhd,I):n(T.smhd,R),i(),k(e))},c=function(e,t){for(var r=[],i=t.length;i--;)r[i]=E(t[i]);return n.apply(null,[T.moof,l(e)].concat(r))},d=function(e){for(var t=e.length,r=[];t--;)r[t]=h(e[t]);return n.apply(null,[T.moov,p(4294967295)].concat(r).concat(f(e)))},f=function(e){for(var t=e.length,r=[];t--;)r[t]=w(e[t]);return n.apply(null,[T.mvex].concat(r))},p=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(T.mvhd,t)},b=function(e){var t,r,i=e.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)t=i[r].flags,a[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return n(T.sdtp,a)},k=function(e){return n(T.stbl,_(e),n(T.stts,U),n(T.stsc,L),n(T.stsz,N),n(T.stco,j))},function(){var e,t;_=function(r){return n(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===r.type?e(r):t(r))},e=function(e){var t,r,i=e.sps||[],a=e.pps||[],o=[],s=[];for(t=0;t<i.length;t++)o.push((65280&i[t].byteLength)>>>8),o.push(255&i[t].byteLength),o=o.concat(Array.prototype.slice.call(i[t]));for(t=0;t<a.length;t++)s.push((65280&a[t].byteLength)>>>8),s.push(255&a[t].byteLength),s=s.concat(Array.prototype.slice.call(a[t]));if(r=[T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(T.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],o,[a.length],s))),n(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];r.push(n(T.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return n.apply(null,r)},t=function(e){return n(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),a(e))}}(),g=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return n(T.tkhd,t)},E=function(e){var t,r,i,a,o,s;return t=n(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(B+1)),s=Math.floor(e.baseMediaDecodeTime%(B+1)),r=n(T.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(i=S(e,92),n(T.traf,t,r,i)):(a=b(e),i=S(e,a.length+92),n(T.traf,t,r,i,a))},h=function(e){return e.duration=e.duration||4294967295,n(T.trak,g(e),m(e))},w=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),n(T.trex,t)},function(){var e,t,r;r=function(e,t){var r=0,n=0,i=0,a=0;return e.length&&(void 0!==e[0].duration&&(r=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,r|n|i|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var i,a,o,s,l,u;for(t+=20+16*(s=e.samples||[]).length,o=r(s,t),(a=new Uint8Array(o.length+16*s.length)).set(o),i=o.length,u=0;u<s.length;u++)l=s[u],a[i++]=(4278190080&l.duration)>>>24,a[i++]=(16711680&l.duration)>>>16,a[i++]=(65280&l.duration)>>>8,a[i++]=255&l.duration,a[i++]=(4278190080&l.size)>>>24,a[i++]=(16711680&l.size)>>>16,a[i++]=(65280&l.size)>>>8,a[i++]=255&l.size,a[i++]=l.flags.isLeading<<2|l.flags.dependsOn,a[i++]=l.flags.isDependedOn<<6|l.flags.hasRedundancy<<4|l.flags.paddingValue<<1|l.flags.isNonSyncSample,a[i++]=61440&l.flags.degradationPriority,a[i++]=15&l.flags.degradationPriority,a[i++]=(4278190080&l.compositionTimeOffset)>>>24,a[i++]=(16711680&l.compositionTimeOffset)>>>16,a[i++]=(65280&l.compositionTimeOffset)>>>8,a[i++]=255&l.compositionTimeOffset;return n(T.trun,a)},e=function(e,t){var i,a,o,s,l,u;for(t+=20+8*(s=e.samples||[]).length,o=r(s,t),(i=new Uint8Array(o.length+8*s.length)).set(o),a=o.length,u=0;u<s.length;u++)l=s[u],i[a++]=(4278190080&l.duration)>>>24,i[a++]=(16711680&l.duration)>>>16,i[a++]=(65280&l.duration)>>>8,i[a++]=255&l.duration,i[a++]=(4278190080&l.size)>>>24,i[a++]=(16711680&l.size)>>>16,i[a++]=(65280&l.size)>>>8,i[a++]=255&l.size;return n(T.trun,i)},S=function(r,n){return"audio"===r.type?e(r,n):t(r,n)}}(),e.exports={ftyp:o,mdat:s,moof:c,moov:d,initSegment:function(e){var t,r=o(),n=d(e);return(t=new Uint8Array(r.byteLength+n.byteLength)).set(r),t.set(n,r.byteLength),t}}},function(e,t){e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},function(e,t,r){var n=r(51).ONE_SECOND_IN_TS;e.exports={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var r,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),r=e.timelineStartInfo.baseMediaDecodeTime,r+=i,r=Math.max(0,r),"audio"===e.type&&(r*=e.samplerate/n,r=Math.floor(r)),r},collectDtsInfo:function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}}},function(e,t,r){"use strict";var n,i,a,o=r(30),s=r(169),l=r(90),u=r(171).TimestampRolloverStream;(n=function(){var e=new Uint8Array(188),t=0;n.prototype.init.call(this),this.push=function(r){var n,i=0,a=188;for(t?((n=new Uint8Array(r.byteLength+t)).set(e.subarray(0,t)),n.set(r,t),t=0):n=r;a<n.byteLength;)71!==n[i]||71!==n[a]?(i++,a++):(this.trigger("data",n.subarray(i,a)),i+=188,a+=188);i<n.byteLength&&(e.set(n.subarray(i),0),t=n.byteLength-i)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new o,(i=function(){var e,t,r,n;i.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var i=0;n.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===n.type?t(e.subarray(i),n):r(e.subarray(i),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},r=function(e,t){var r,i;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},r=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<r;){var a=e[i],o=(31&e[i+1])<<8|e[i+2];a===l.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=o:a===l.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=o:a===l.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][o]=a),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var r={},n=4;if(r.payloadUnitStartIndicator=!!(64&t[1]),r.pid=31&t[1],r.pid<<=8,r.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===r.pid)r.type="pat",e(t.subarray(n),r),this.trigger("data",r);else if(r.pid===this.pmtPid)for(r.type="pmt",e(t.subarray(n),r),this.trigger("data",r);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,r]):this.processPes_(t,n,r)},this.processPes_=function(e,t,r){r.pid===this.programMapTable.video?r.streamType=l.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=l.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=e.subarray(t),this.trigger("data",r)}}).prototype=new o,i.STREAM_TYPES={h264:27,adts:15},(a=function(){var e,t=this,r={data:[],size:0},n={data:[],size:0},i={data:[],size:0},o=function(e,r,n){var i,a,o=new Uint8Array(e.size),s={type:r},l=0,u=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],o.set(a.data,u),u+=a.data.byteLength;!function(e,t){var r;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),192&(r=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&r&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])}(o,s),i="video"===r||s.packetLength<=e.size,(n||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",s)}};a.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case l.H264_STREAM_TYPE:e=r,t="video";break;case l.ADTS_STREAM_TYPE:e=n,t="audio";break;case l.METADATA_STREAM_TYPE:e=i,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var r={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",r)}})[a.type]()},this.reset=function(){r.size=0,r.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(r,"video"),o(n,"audio"),o(i,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new o;var c={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:n,TransportParseStream:i,ElementaryStream:a,TimestampRolloverStream:u,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,Cea708Stream:s.Cea708Stream,MetadataStream:r(287)};for(var d in l)l.hasOwnProperty(d)&&(c[d]=l[d]);e.exports=c},function(e,t,r){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(e,t,r){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return r=r>=0?r:0,(16&e[t+5])>>4?r+20:r+10},a=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){var t=function e(t,r){return t.length-r<10||t[r]!=="I".charCodeAt(0)||t[r+1]!=="D".charCodeAt(0)||t[r+2]!=="3".charCodeAt(0)?r:e(t,r+=i(t,r))}(e,0);return e.length>=t+2&&255===(255&e[t])&&240===(240&e[t+1])&&16===(22&e[t+1])},parseId3TagSize:i,parseAdtsSize:function(e,t){var r=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|r},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,r,n;t=10,64&e[5]&&(t+=4,t+=a(e.subarray(10,14)));do{if((r=a(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+r+10);for(var i=0;i<n.byteLength;i++)if(0===n[i]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i}(n,0,i))){var o=n.subarray(i+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}t+=10,t+=r}while(t<e.byteLength);return null}}},function(e,t){var r="undefined"!==typeof Element,n="function"===typeof Map,i="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=o.length)return!1;for(l=s;0!==l--;)if(!e(t[l],o[l]))return!1;return!0}if(n&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!e(l.value[1],o.get(l.value[0])))return!1;return!0}if(i&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((s=t.length)!=o.length)return!1;for(l=s;0!==l--;)if(t[l]!==o[l])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(r&&t instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!e(t[u[l]],o[u[l]]))return!1;return!0}return t!==t&&o!==o}(e,t)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}}},function(e,t,r){"use strict";var n={parts:["container","button","panel"],baseStyle:{container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{fontSize:"1rem",_focus:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:4,py:2},panel:{pt:2,px:4,pb:5}}},i=r(34),a=r.n(i),o=r(46),s=r(7),l=function(e,t,r){var n=Object(o.c)(e,"colors."+t,t);return a()(n).isValid()?n:r},u=function(e){return function(t){var r=l(t,e);return a()(r).isDark()?"dark":"light"}},c=function(e,t){return function(r){var n=l(r,e);return a()(n).setAlpha(t).toRgbString()}};function d(e,t){return void 0===e&&(e="1rem"),void 0===t&&(t="rgba(255, 255, 255, 0.15)"),{backgroundImage:"linear-gradient(\n    45deg,\n    "+t+" 25%,\n    transparent 25%,\n    transparent 50%,\n    "+t+" 50%,\n    "+t+" 75%,\n    transparent 75%,\n    transparent\n  )",backgroundSize:e+" "+e}}function f(e){var t,r=a.a.random().toHexString();return!e||Object(s.c)(e)?r:e.string&&e.colors?function(e,t){var r=0;if(0===e.length)return t[0];for(var n=0;n<e.length;n+=1)r=e.charCodeAt(n)+((r<<5)-r),r&=r;return r=(r%t.length+t.length)%t.length,t[r]}(e.string,e.colors):e.string&&!e.colors?function(e){var t=0;if(0===e.length)return t.toString();for(var r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t&=t;for(var n="#",i=0;i<3;i+=1){n+=("00"+(t>>8*i&255).toString(16)).substr(-2)}return n}(e.string):e.colors&&!e.string?(t=e.colors)[Math.floor(Math.random()*t.length)]:r}function p(e,t){return function(r){return"dark"===r.colorMode?t:e}}function h(e){var t=e.orientation,r=e.vertical,n=e.horizontal;return t?"vertical"===t?r:n:{}}function g(e){var t=e.theme,r=e.colorScheme;return p(l(t,r+".100",r),c(r+".200",.16)(t))(e)}var m={parts:["container","title","icon"],baseStyle:{container:{px:4,py:3},title:{fontWeight:"bold",lineHeight:6,mr:2},description:{lineHeight:6},icon:{mr:3,w:5,h:6}},variants:{subtle:function(e){var t=e.colorScheme;return{container:{bg:g(e)},icon:{color:p(t+".500",t+".200")(e)}}},"left-accent":function(e){var t=e.colorScheme;return{container:{pl:3,borderLeft:"4px solid",borderColor:p(t+".500",t+".200")(e),bg:g(e)},icon:{color:p(t+".500",t+".200")(e)}}},"top-accent":function(e){var t=e.colorScheme;return{container:{pt:2,borderTop:"4px solid",borderColor:p(t+".500",t+".200")(e),bg:g(e)},icon:{color:p(t+".500",t+".200")(e)}}},solid:function(e){var t=e.colorScheme;return{container:{bg:p(t+".500",t+".200")(e),color:p("white","gray.900")(e)}}}},defaultProps:{variant:"subtle"}},v={px:"1px",0:"0",1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=y({},v,{full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}});function k(e){return{transform:"translate(25%, 25%)",borderRadius:"full",border:"0.2em solid",borderColor:p("white","gray.800")(e)}}function _(e){return{bg:p("gray.200","whiteAlpha.400")(e)}}function E(e){var t=e.name,r=e.theme,n=t?f({string:t}):"gray.400",i=function(e){return function(t){return"dark"===u(e)(t)}}(n)(r),a="white";return i||(a="gray.800"),{bg:n,color:a,borderColor:p("white","gray.800")(e),verticalAlign:"top"}}function w(e){var t=b[e];return{container:{width:e,height:e,fontSize:"calc("+(null!=t?t:e)+" / 2.5)"},excessLabel:{width:e,height:e},label:{fontSize:"calc("+(null!=t?t:e)+" / 2.5)",lineHeight:"100%"!==e?null!=t?t:e:void 0}}}var S={parts:["container","excessLabel","badge","label"],baseStyle:function(e){return{badge:k(e),excessLabel:_(e),container:E(e)}},sizes:{"2xs":w("4"),xs:w("6"),sm:w("8"),md:w("12"),lg:w("16"),xl:w("24"),"2xl":w("32"),full:w("100%")},defaultProps:{size:"md"}};var T={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},variants:{solid:function(e){var t=e.colorScheme,r=e.theme;return{bg:p(t+".500",c(t+".500",.6)(r))(e),color:p("white","whiteAlpha.800")(e)}},subtle:function(e){var t=e.colorScheme,r=e.theme;return{bg:p(t+".100",c(t+".200",.16)(r))(e),color:p(t+".800",t+".200")(e)}},outline:function(e){var t=e.colorScheme,r=e.theme,n=c(t+".200",.8)(r),i=p(l(r,t+".500"),n)(e);return{color:i,boxShadow:"inset 0 0 0px 1px "+i}}},defaultProps:{variant:"subtle",colorScheme:"gray"}},x={parts:["link","separator"],baseStyle:{link:{transition:"all 0.15s ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}}};function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e){var t=e.colorScheme,r=e.theme;if("gray"===t)return{color:p("inherit","whiteAlpha.900")(e),_hover:{bg:p("gray.100","whiteAlpha.200")(e)},_active:{bg:p("gray.200","whiteAlpha.300")(e)}};var n=c(t+".200",.12)(r),i=c(t+".200",.24)(r);return{color:p(t+".600",t+".200")(e),bg:"transparent",_hover:{bg:p(t+".50",n)(e)},_active:{bg:p(t+".100",i)(e)}}}var A={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}};var C={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:P,outline:function(e){var t=e.colorScheme,r=p("gray.200","whiteAlpha.300")(e);return O({border:"1px solid",borderColor:"gray"===t?r:"currentColor"},P(e))},solid:function(e){var t=e.colorScheme;if("gray"===t){var r=p("gray.100","whiteAlpha.200")(e);return{bg:r,_hover:{bg:p("gray.200","whiteAlpha.300")(e),_disabled:{bg:r}},_active:{bg:p("gray.300","whiteAlpha.400")(e)}}}var n=A[t]||{},i=n.bg,a=void 0===i?t+".500":i,o=n.color,s=void 0===o?"white":o,l=n.hoverBg,u=void 0===l?t+".600":l,c=n.activeBg,d=void 0===c?t+".700":c,f=p(a,t+".200")(e);return{bg:f,color:p(s,"gray.800")(e),_hover:{bg:p(u,t+".300")(e),_disabled:{bg:f}},_active:{bg:p(d,t+".400")(e)}}},link:function(e){var t=e.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",color:p(t+".500",t+".200")(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:p(t+".700",t+".500")(e)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:0,p:0}},sizes:{lg:{h:12,minW:12,fontSize:"lg",px:6},md:{h:10,minW:10,fontSize:"md",px:4},sm:{h:8,minW:8,fontSize:"sm",px:3},xs:{h:6,minW:6,fontSize:"xs",px:2}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}};function M(e){var t=e.colorScheme;return{w:"100%",transition:"box-shadow 250ms",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:p(t+".500",t+".200")(e),borderColor:p(t+".500",t+".200")(e),color:p("white","gray.900")(e),_hover:{bg:p(t+".600",t+".300")(e),borderColor:p(t+".600",t+".300")(e)},_disabled:{borderColor:p("gray.200","transparent")(e),bg:p("gray.200","whiteAlpha.300")(e),color:p("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:p(t+".500",t+".200")(e),borderColor:p(t+".500",t+".200")(e),color:p("white","gray.900")(e)},_disabled:{bg:p("gray.100","whiteAlpha.100")(e),borderColor:p("gray.100","transparent")(e)},_focus:{boxShadow:"outline"},_invalid:{borderColor:p("red.500","red.300")(e)}}}var I={userSelect:"none",_disabled:{opacity:.4}},R={parts:["control","label","description","icon"],baseStyle:function(e){return{control:M(e),label:I}},sizes:{sm:{control:{h:3,w:3},label:{fontSize:"sm"},icon:{fontSize:"0.45rem"}},md:{control:{w:4,h:4},label:{fontSize:"md"},icon:{fontSize:"0.625rem"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"},icon:{fontSize:"0.625rem"}}},defaultProps:{size:"md",colorScheme:"blue"}};var D={baseStyle:function(e){return{borderRadius:"md",transition:"all 0.2s",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:p("blackAlpha.100","whiteAlpha.100")(e)},_active:{bg:p("blackAlpha.200","whiteAlpha.200")(e)},_focus:{boxShadow:"outline"}}},sizes:{lg:{w:"40px",h:"40px",fontSize:"16px"},md:{w:"32px",h:"32px",fontSize:"12px"},sm:{w:"24px",h:"24px",fontSize:"10px"}},defaultProps:{size:"md"}},j={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},variants:T.variants,defaultProps:T.defaultProps},L={bg:"blackAlpha.600",zIndex:"modal"};function N(e){return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e.isCentered?"center":"flex-start",overflow:"inside"===e.scrollBehavior?"hidden":"auto"}}function U(e){var t=e.scrollBehavior;return{borderRadius:"md",bg:p("white","gray.700")(e),color:"inherit",my:"3.75rem",zIndex:"modal",maxH:"inside"===t?"calc(100vh - 7.5rem)":void 0,boxShadow:p("lg","dark-lg")(e)}}var B={px:6,py:4,fontSize:"xl",fontWeight:"semibold"};function F(e){return{px:6,py:2,flex:1,overflow:"inside"===e.scrollBehavior?"auto":void 0}}var z={px:6,py:4};function V(e){return"full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}}}var $={parts:["overlay","dialogContainer","dialog","header","body","footer"],baseStyle:function(e){return{overlay:L,dialogContainer:N(e),dialog:U(e),header:B,body:F(e),footer:z}},sizes:{xs:V("xs"),sm:V("sm"),md:V("md"),lg:V("lg"),xl:V("xl"),"2xl":V("2xl"),"3xl":V("3xl"),"4xl":V("4xl"),"5xl":V("5xl"),"6xl":V("6xl"),full:V("full")},defaultProps:{size:"md"}};function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function K(e){return"full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}}}var H={bg:"blackAlpha.600",zIndex:"overlay"},G={display:"flex",zIndex:"modal",justifyContent:"center"};function Z(e){return W({},e.isFullHeight&&{height:"100vh"},{zIndex:"modal",maxH:"100vh",bg:p("white","gray.700")(e),color:"inherit",boxShadow:p("lg","dark-lg")(e)})}var q={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},X={px:6,py:2,flex:1,overflow:"auto"},Y={px:6,py:4},Q={parts:$.parts,baseStyle:function(e){return{overlay:H,dialogContainer:G,dialog:Z(e),header:q,body:X,footer:Y}},sizes:{xs:K("xs"),sm:K("md"),md:K("lg"),lg:K("2xl"),xl:K("4xl"),full:K("full")},defaultProps:{size:"xs"}},J={parts:["preview","input"],baseStyle:{preview:{borderRadius:"md",py:"3px",transition:"all 0.2s"},input:{borderRadius:"md",py:"3px",transition:"all 0.2s",width:"full",_focus:{boxShadow:"outline"},_placeholder:{opacity:.6}}}};function ee(e){return{ml:1,color:p("red.500","red.300")(e)}}function te(e){return{mt:2,color:p("gray.500","whiteAlpha.600")(e),lineHeight:"normal",fontSize:"sm"}}var re={parts:["requiredIndicator","helperText"],baseStyle:function(e){return{requiredIndicator:ee(e),helperText:te(e)}}},ne={baseStyle:{fontSize:"md",mr:3,mb:2,fontWeight:"medium",transition:"all 0.2s",opacity:1,_disabled:{opacity:.4}}},ie={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:["2.5rem",null,"1"]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:["2.25rem",null,"2.5rem"]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:["2rem",null,"2.25rem"]},md:{fontSize:"xl",lineHeight:"1.75rem"},sm:{fontSize:"md",lineHeight:"1.5rem"},xs:{fontSize:"sm",lineHeight:"1.25rem"}},defaultProps:{size:"xl"}},ae={lg:{fontSize:"lg",pl:4,pr:4,h:12,borderRadius:"md"},md:{fontSize:"md",pl:4,pr:4,h:10,borderRadius:"md"},sm:{fontSize:"sm",pl:3,pr:3,h:8,borderRadius:"sm"}};function oe(e){var t=e.focusBorderColor,r=e.errorBorderColor;return{focusBorderColor:t||p("blue.500","blue.300")(e),errorBorderColor:r||p("red.500","red.300")(e)}}var se={parts:["field","addon"],baseStyle:{field:{width:"100%",outline:0,position:"relative",appearance:"none",transition:"all 0.2s"}},sizes:{lg:{field:ae.lg,addon:ae.lg},md:{field:ae.md,addon:ae.md},sm:{field:ae.sm,addon:ae.sm}},variants:{outline:function(e){var t=e.theme,r=oe(e),n=r.focusBorderColor,i=r.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:p("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_focus:{zIndex:1,borderColor:l(t,n),boxShadow:"0 0 0 1px "+l(t,n)},_invalid:{borderColor:l(t,i),boxShadow:"0 0 0 1px "+l(t,i)}},addon:{border:"1px solid",borderColor:p("inherit","whiteAlpha.50")(e),bg:p("gray.100","whiteAlpha.300")(e)}}},filled:function(e){var t=e.theme,r=oe(e),n=r.focusBorderColor,i=r.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:p("gray.100","whiteAlpha.50")(e),_hover:{bg:p("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_focus:{bg:"transparent",borderColor:l(t,n)},_invalid:{borderColor:l(t,i)}},addon:{border:"2px solid",borderColor:"transparent",bg:p("gray.100","whiteAlpha.50")(e)}}},flushed:function(e){var t=e.theme,r=oe(e),n=r.focusBorderColor,i=r.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:0,pl:0,pr:0,bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_focus:{borderColor:l(t,n),boxShadow:"0px 1px 0px 0px "+l(t,n)},_invalid:{borderColor:l(t,i)}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:0,paddingX:0,bg:"transparent"}}},unstyled:{field:{bg:"transparent",pl:0,pr:0,height:"auto"},addon:{bg:"transparent",pl:0,pr:0,height:"auto"}}},defaultProps:{size:"md",variant:"outline"}};var le={baseStyle:function(e){return{bg:p("gray.100","whiteAlpha")(e),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}}},ue={baseStyle:{transition:"all 0.15s ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}};function ce(e){return{bg:p("#fff","gray.700")(e),boxShadow:p("sm","dark-lg")(e),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}}function de(e){return{py:"0.4rem",px:"0.8rem",transition:"background 50ms ease-in 0s",_focus:{bg:p("gray.100","whiteAlpha.100")(e)},_active:{bg:p("gray.200","whiteAlpha.200")(e)},_expanded:{bg:p("gray.100","whiteAlpha.100")(e)},_disabled:{opacity:.4,cursor:"not-allowed"}}}var fe,pe={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},he={opacity:.6},ge={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"0.5rem",opacity:.6},me={parts:["item","command","list","button","groupTitle","divider"],baseStyle:function(e){return{list:ce(e),item:de(e),groupTitle:pe,command:he,divider:ge}}},ve=se.variants,ye=se.defaultProps,be=null==(fe=se.baseStyle)?void 0:fe.field,ke={width:"24px"};function _e(e){return{borderLeft:"1px solid",borderColor:p("inherit","whiteAlpha.300")(e),color:p("inherit","whiteAlpha.800")(e),_active:{bg:p("gray.200","whiteAlpha.300")(e)},_disabled:{opacity:.4,cursor:"not-allowed"}}}function Ee(e){var t,r=null==(t=se.sizes)?void 0:t[e],n={lg:"md",md:"md",sm:"sm"};return{field:null==r?void 0:r.field,stepper:{fontSize:"lg"===e?"14px":"10px",_first:{borderTopRightRadius:n[e]},_last:{borderBottomRightRadius:n[e],mt:"-1px",borderTopWidth:1}}}}var we={parts:["field","stepper","stepperGroup"],baseStyle:function(e){return{field:be,stepperGroup:ke,stepper:_e(e)}},sizes:{sm:Ee("sm"),md:Ee("md"),lg:Ee("lg")},variants:ve,defaultProps:ye};function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Te={baseStyle:Se({},se.baseStyle.field,{textAlign:"center"}),sizes:{lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"}},variants:{outline:function(e){return se.variants.outline(e).field},flushed:function(e){return se.variants.flushed(e).field},filled:function(e){return se.variants.filled(e).field},unstyled:se.variants.unstyled.field},defaultProps:se.defaultProps},xe={w:"100%",maxW:"xs",zIndex:10};function Oe(e){return{bg:p("white","gray.700")(e),border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focus:{outline:0,boxShadow:"outline"}}}function Pe(e){return{bg:p("white","gray.700")(e)}}var Ae={px:3,py:2,borderBottomWidth:"1px"},Ce={px:3,py:2},Me={px:3,py:2,borderTopWidth:"1px"},Ie={parts:["popper","content","header","body","footer","arrow"],baseStyle:function(e){return{popper:xe,content:Oe(e),header:Ae,body:Ce,footer:Me,arrow:Pe(e)}}};function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var De={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"};function je(e){return{bg:p("gray.100","whiteAlpha.300")(e)}}function Le(e){return Re({transition:"all 0.3s"},function(e){var t=e.colorScheme,r=e.theme,n=e.isIndeterminate,i=e.hasStripe,a=p(d(),d("1rem","rgba(0,0,0,0.1)"))(e),o=p(t+".500",t+".200")(e),s="linear-gradient(\n    to right,\n    transparent 0%,\n    "+l(r,o)+" 50%,\n    transparent 100%\n  )";return Re({},!n&&i&&a,n?{bgImage:s}:{bgColor:o})}(e))}var Ne={parts:["track","filledTrack","panel"],sizes:{xs:{track:{h:"0.25rem"}},sm:{track:{h:"0.5rem"}},md:{track:{h:"0.75rem"}},lg:{track:{h:"1rem"}}},baseStyle:function(e){return{label:De,filledTrack:Le(e),track:je(e)}},defaultProps:{size:"md",colorScheme:"blue"}};function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Be(e){var t=R.baseStyle(e).control;return Ue({},t,{borderRadius:"full",_checked:Ue({},t._checked,{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})}var Fe={parts:["control","label"],baseStyle:function(e){return{label:R.baseStyle(e).label,control:Be(e)}},sizes:{md:{control:{w:4,h:4},label:{fontSize:"md"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"}},sm:{control:{width:3,height:3},label:{fontSize:"sm"}}},defaultProps:{size:"md",colorScheme:"blue"}};function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ve=se.sizes,$e=se.defaultProps,We=se.variants;function Ke(e){return ze({},se.baseStyle.field,{appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option":{bg:p("white","gray.700")(e)}})}var He={color:"currentColor",fontSize:"1.25rem",_disabled:{opacity:.5}},Ge={parts:["field","icon"],baseStyle:function(e){return{field:Ke(e),icon:He}},sizes:Ve,variants:We,defaultProps:$e},Ze=r(36),qe=function(e,t){return Object(Ze.d)({from:{borderColor:e,background:e},to:{borderColor:t,background:t}})},Xe={baseStyle:function(e){var t=p("gray.100","gray.800")(e),r=p("gray.400","gray.600")(e),n=e.startColor,i=void 0===n?t:n,a=e.endColor,o=void 0===a?r:a,s=e.speed,u=e.theme,c=l(u,i),d=l(u,o);return{opacity:.7,borderRadius:"2px",borderColor:c,background:d,animation:s+"s linear infinite alternate "+qe(c,d)}}},Ye={baseStyle:function(e){return{borderRadius:"md",fontWeight:"semibold",_focus:{boxShadow:"outline",padding:"1rem",position:"fixed",top:"1.5rem",left:"1.5rem",bg:p("white","gray.700")(e)}}}};function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Je=function(e){return Qe({_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},h({orientation:e.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}}))};function et(e){return{borderRadius:"sm",bg:p("gray.200","whiteAlpha.200")(e),_disabled:{bg:p("gray.300","whiteAlpha.300")(e)}}}function tt(e){return Qe({zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transition:"transform 0.2s",_focus:{boxShadow:"outline"},_disabled:{bg:"gray.300"}},function(e){return h({orientation:e.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})}(e))}function rt(e){var t=e.colorScheme;return{bg:p(t+".500",t+".200")(e)}}var nt={parts:["container","thumb","track","filledTrack"],sizes:{lg:function(e){return{thumb:{w:"16px",h:"16px"},track:h({orientation:e.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},md:function(e){return{thumb:{w:"14px",h:"14px"},track:h({orientation:e.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},sm:function(e){return{thumb:{w:"10px",h:"10px"},track:h({orientation:e.orientation,horizontal:{h:"2px"},vertical:{w:"2px"}})}}},baseStyle:function(e){return{container:Je(e),track:et(e),thumb:tt(e),filledTrack:rt(e)}},defaultProps:{size:"md",colorScheme:"blue"}},it={sizes:{xs:{w:"0.75rem",h:"0.75rem"},sm:{w:"1rem",h:"1rem"},md:{w:"1.5rem",h:"1.5rem"},lg:{w:"2rem",h:"2rem"},xl:{w:"3rem",h:"3rem"}},defaultProps:{size:"md"}},at={parts:["label","number","icon","helpText"],baseStyle:{label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:2},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{mr:1,w:"14px",h:"14px",verticalAlign:"middle"}},sizes:{md:{label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}}},defaultProps:{size:"md"}};function ot(e){var t=e.colorScheme;return{borderRadius:"full",p:"2px",transition:"all 120ms",bg:p("gray.300","whiteAlpha.400")(e),_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{bg:p(t+".500",t+".200")(e)}}}var st={bg:"white",transition:"transform 250ms",borderRadius:"full",transform:"translateX(0)"},lt={parts:["track","thumb"],baseStyle:function(e){return{track:ot(e),thumb:st}},sizes:{sm:{track:{w:"1.375rem",h:"0.75rem"},thumb:{w:"0.75rem",h:"0.75rem",_checked:{transform:"translateX(0.625rem)"}}},md:{track:{w:"1.875rem",h:"1rem"},thumb:{w:"1rem",h:"1rem",_checked:{transform:"translateX(0.875rem)"}}},lg:{track:{w:"2.875rem",h:"1.5rem"},thumb:{w:"1.5rem",h:"1.5rem",_checked:{transform:"translateX(1.375rem)"}}}},defaultProps:{size:"md",colorScheme:"blue"}},ut=r(14);function ct(e){return{flex:e.isFitted?1:void 0,transition:"all 0.2s",_focus:{zIndex:1,boxShadow:"outline"}}}function dt(e){var t=e.align,r=void 0===t?"start":t,n=e.orientation;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[r],flexDirection:"vertical"===n?"column":"row"}}var ft={p:4};var pt={parts:["tablist","tab","tabpanel","indicator"],baseStyle:function(e){return{tab:ct(e),tablist:dt(e),tabpanel:ft}},sizes:{sm:{tab:{py:"0.25rem",px:"1rem",fontSize:"0.85rem"}},md:{tab:{fontSize:"1rem",py:"0.5rem",px:"1rem"}},lg:{tab:{fontSize:"1.15rem",py:"0.75rem",px:"1rem"}}},variants:{line:function(e){var t,r,n=e.colorScheme,i="vertical"===e.orientation?"borderLeft":"borderBottom";return{tablist:(t={},Object(ut.a)(t,i,"2px solid"),Object(ut.a)(t,"borderColor","inherit"),t),tab:(r={},Object(ut.a)(r,i,"2px solid"),Object(ut.a)(r,"borderColor","transparent"),Object(ut.a)(r,"mb","-2px"),Object(ut.a)(r,"_selected",{color:p(n+".600",n+".300")(e),borderColor:"currentColor"}),Object(ut.a)(r,"_active",{bg:p("gray.200","whiteAlpha.300")(e)}),Object(ut.a)(r,"_disabled",{opacity:.4,cursor:"not-allowed"}),r)}},enclosed:function(e){var t=e.colorScheme;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:p(t+".600",t+".300")(e),borderColor:"inherit",borderBottomColor:p("white","gray.800")(e)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"enclosed-colored":function(e){var t=e.colorScheme;return{tab:{border:"1px solid",borderColor:"inherit",bg:p("gray.50","whiteAlpha.50")(e),mb:"-1px",_notLast:{mr:"-1px"},_selected:{bg:p("#fff","gray.800")(e),color:p(t+".600",t+".300")(e),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"soft-rounded":function(e){var t=e.colorScheme,r=e.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:l(r,t+".700"),bg:l(r,t+".100")}}}},"solid-rounded":function(e){var t=e.colorScheme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:p("gray.600","inherit")(e),_selected:{color:p("#fff","gray.800")(e),bg:p(t+".600",t+".300")(e)}}}},unstyled:{}},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}},ht={parts:["container","label","closeButton"],variants:{subtle:function(e){return{container:T.variants.subtle(e)}},solid:function(e){return{container:T.variants.solid(e)}},outline:function(e){return{container:T.variants.outline(e)}}},baseStyle:{container:{fontWeight:"medium",lineHeight:1.2,outline:0,_focus:{boxShadow:"outline"}},label:{lineHeight:1.2},closeButton:{fontSize:"18px",w:"1.25rem",h:"1.25rem",borderRadius:"full",ml:"0.375rem",mr:"-1",opacity:.5,_disabled:{opacity:.4},_focus:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}},sizes:{sm:{container:{minH:"1.25rem",minW:"1.25rem",fontSize:"xs",px:2,borderRadius:"md"},closeButton:{mr:"-2px",ml:"0.35rem"}},md:{container:{minH:"1.5rem",minW:"1.5rem",fontSize:"sm",borderRadius:"md",px:2}},lg:{container:{minH:8,minW:8,fontSize:"md",borderRadius:"md",px:3}}},defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}};function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var mt=gt({},se.baseStyle.field,{paddingY:"8px",minHeight:"80px",lineHeight:"short"}),vt={outline:function(e){return se.variants.outline(e).field},flushed:function(e){return se.variants.flushed(e).field},filled:function(e){return se.variants.filled(e).field},unstyled:se.variants.unstyled.field},yt={sm:se.sizes.sm.field,md:se.sizes.md.field,lg:se.sizes.lg.field};function bt(e){return{color:p("red.500","red.300")(e),mt:2,fontSize:"sm"}}function kt(e){return{mr:"0.5em",color:p("red.500","red.300")(e)}}var _t={Accordion:n,Alert:m,Avatar:S,Badge:T,Breadcrumb:x,Button:C,Checkbox:R,CloseButton:D,Code:j,Drawer:Q,Editable:J,Form:re,FormLabel:ne,Heading:ie,Input:se,Kbd:le,Link:ue,Menu:me,Modal:$,NumberInput:we,PinInput:Te,Popover:Ie,Progress:Ne,Radio:Fe,Select:Ge,Skeleton:Xe,SkipLink:Ye,Slider:nt,Spinner:it,Stat:at,Switch:lt,Tabs:pt,Tag:ht,Textarea:{baseStyle:mt,sizes:yt,variants:vt,defaultProps:{size:"md",variant:"outline"}},Tooltip:{baseStyle:function(e){return{px:"8px",py:"2px",bg:p("gray.700","gray.300")(e),color:p("whiteAlpha.900","gray.900")(e),borderRadius:"sm",fontWeight:"medium",pointerEvents:"none",fontSize:"sm",boxShadow:"md",maxW:"320px",zIndex:"tooltip"}}},FormError:{parts:["text","icon"],baseStyle:function(e){return{text:bt(e),icon:kt(e)}}}},Et={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"};function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var xt=Tt({},St({breakpoints:function(e){var t=Object(o.b)(Object.entries(wt({base:"0em"},e)).sort((function(e,t){return parseInt(e[1],10)>parseInt(t[1],10)?1:-1})));return Object.assign(Object.values(t),t)}({sm:"30em",md:"48em",lg:"62em",xl:"80em"}),zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},radii:{none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},colors:{transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#E2F7F4",100:"#C3F0E9",200:"#A0E7DC",300:"#76DCCD",400:"#43CFBA",500:"#00BFA5",600:"#00AC92",700:"#009780",800:"#007D6A",900:"#005A4C"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}}},{letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{sizes:b,shadows:{xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},space:v,borders:Et,transition:{property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}}}),{components:_t,styles:{global:function(e){return{body:{fontFamily:"body",color:p("gray.800","whiteAlpha.900")(e),bg:p("white","gray.800")(e),transition:"background-color 0.2s",lineHeight:"base"},"*::placeholder":{color:p("gray.400","whiteAlpha.400")(e)},"*, *::before, &::after":{borderColor:p("gray.200","whiteAlpha.300")(e),wordWrap:"break-word"}}}},config:{useSystemColorMode:!1,initialColorMode:"light"}});t.a=xt},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){var n=r(231),i=r(232),a=r(135),o=r(233);e.exports=function(e){return n(e)||i(e)||a(e)||o()}},function(e,t,r){"use strict";var n=r(42),i=r(11),a=r(15),o=r(17),s=r(12),l=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=r(9);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return e.slider},h=function(e){return e.sliderDragging||e.slider},g=function(e){return e.sliderTrack},m=function(e){return e.sliderHandle};function v(e,t){var r=e/t;return t===1/0||e===1/0||0===t||isNaN(r)||0===r?"0%":"".concat((100*Math.min(1,r)).toFixed(3),"%")}var y=["Left","ArrowLeft","Down","ArrowDown"],b=["Right","ArrowRight","Up","ArrowUp"],k=y.concat(b),_=function(e){s(r,e);var t=l(r);function r(e){var n;return i(this,r),n=t.call(this,e),f(o(n),"renderedHandle",void 0),f(o(n),"renderedTrack",void 0),f(o(n),"isTouchSupported",void 0),f(o(n),"updateValueFromCoordinates",(function(e,t){if(n.renderedTrack){var r=(0,c.getBoundingEventCoordinates)(e,n.renderedTrack);if(n.props.isVertical){var i=(r.height-r.y)/r.height;n.updateValue(i,t)}else{var a=r.x/r.width;n.updateValue(a,t)}}})),f(o(n),"updateValue",(function(e,t){var r=t.isDragging,i=t.isEnded,a=t.isPreviewing,o=e*n.props.maxValue;a?n.setState({previewValue:o}):(n.state.isDragging&&(n.setState({dragValue:o,previewValue:o}),n.props.onDrag&&n.props.onDrag(o)),n.props.onValueChange&&(i||!n.state.isDragging&&!r)&&n.props.onValueChange(o))})),f(o(n),"handleHandleOrTrackClick",(function(e){n.updateValueFromCoordinates(e,{})})),f(o(n),"handleHandleStartDrag",(function(e){"touchstart"!==e.type&&e.stopPropagation(),n.state.isDragging||(setTimeout((function(){return n.setState({wasClicked:!1})}),1e3),n.setState({isDragging:!0,wasClicked:!0}),n.updateValueFromCoordinates(e,{isDragging:!0}),n.isTouchSupported?(document.addEventListener("touchmove",n.handleHandleDrag),document.addEventListener("touchend",n.handleHandleEndDrag),document.addEventListener("touchcancel",n.handleHandleEndDrag)):(document.addEventListener("mousemove",n.handleHandleDrag),document.addEventListener("mouseup",n.handleHandleEndDrag),document.addEventListener("mouseleave",n.handleHandleEndDrag)))})),f(o(n),"handleHandleDrag",(function(e){n.state.isDragging?n.updateValueFromCoordinates(e,{}):n.updateValueFromCoordinates(e,{isPreviewing:!0})})),f(o(n),"handleHandleEndDrag",(function(e){n.state.isDragging&&n.updateValueFromCoordinates(e,{isDragging:!0,isEnded:!0}),n.isTouchSupported?(document.removeEventListener("touchmove",n.handleHandleDrag),document.removeEventListener("touchend",n.handleHandleEndDrag),document.removeEventListener("touchcancel",n.handleHandleEndDrag)):(document.removeEventListener("mousemove",n.handleHandleDrag),document.removeEventListener("mouseup",n.handleHandleEndDrag),document.removeEventListener("mouseleave",n.handleHandleEndDrag)),n.setState({isDragging:!1})})),f(o(n),"handleMouseEnter",(function(){n.setState({isPointerInside:!0})})),f(o(n),"handleMouseLeave",(function(){n.setState({isPointerInside:!1})})),f(o(n),"handleKeyDown",(0,c.getKeyboardShortcutBlocker)(k)),f(o(n),"handleKeyUp",(function(e){if(!isNaN(n.props.value)&&!isNaN(n.props.maxValue)){var t=n.props.value/n.props.maxValue;y.indexOf(e.key)>=0&&n.updateValue(Math.max(0,t-.025),{}),b.indexOf(e.key)>=0&&n.updateValue(Math.min(1,t+.025),{})}})),f(o(n),"setRenderedHandle",(function(e){n.renderedHandle=e})),f(o(n),"setRenderedTrack",(function(e){n.renderedTrack=e})),n.isTouchSupported="ontouchend"in window,n.state={},n}return a(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.handleContent,i=e.trackContent,a=e.classNamePrefix,o=e.className,s=e.classes,l=e.handleClassName,d=e.trackClassName,f=e.label,y=e.isVertical,b=e.value,k=e.maxValue,_=e.isUpdateBlocked,E=this.state,w=E.dragValue,S=E.previewValue,T=E.isDragging,x=E.isPointerInside,O=E.wasClicked,P=(T||_)&&null!=w?w:b,A=T?h:p,C=(0,c.hydrateClassNames)({classes:s,selectClasses:A,classNamePrefix:a,classNames:["slider",o,T?"dragging":null,O?"clicked":null]}),M=(0,c.hydrateClassNames)({classes:s,selectClasses:m,classNamePrefix:a,classNames:["slider-handle",l]}),I=(0,c.hydrateClassNames)({classes:s,selectClasses:g,classNamePrefix:a,classNames:["slider-track",d]});return u.createElement("div",{onClick:this.handleHandleOrTrackClick,onMouseDown:this.handleHandleStartDrag,onTouchStart:this.handleHandleStartDrag,onTouchMove:this.handleHandleDrag,onTouchEnd:this.handleHandleEndDrag,onMouseUp:this.handleHandleEndDrag,onMouseMove:this.handleHandleDrag,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,title:f,role:"slider","aria-valuemin":0,"aria-valuemax":k,"aria-valuenow":b,className:C,tabIndex:0},u.createElement("div",{className:I,ref:this.setRenderedTrack},i),u.Children.map(t,(function(e){return u.cloneElement(e,{previewValue:S,isDragging:T,isPointerInside:x})})),u.createElement("div",{className:M,style:n({},y?"bottom":"left",v(P,k)),role:"button",tabIndex:-1,ref:this.setRenderedHandle},r))}}]),r}(u.Component);f(_,"defaultProps",{value:0,maxValue:1});var E=_;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(35),i={3016:function(e){return e.data&&e.data[0]&&3===e.data[0]?{classification:"STREAM_ERROR_DECODE"}:{classification:"STREAM_ERROR"}},4012:{classification:"STREAM_ERROR"},6001:{classification:"STREAM_ERROR_DRM_CLIENT_UNAVAILABLE"},6002:{classification:"STREAM_ERROR_DRM_CLIENT_UNAVAILABLE"},6003:{classification:"STREAM_ERROR"},6007:{classification:"STREAM_ERROR_DOWNLOAD"},6008:{classification:"STREAM_ERROR_DOWNLOAD"},6013:{classification:"STREAM_ERROR"},7e3:{classification:""},1:{classification:"STREAM_ERROR_DOWNLOAD"},2:{classification:"STREAM_ERROR_DECODE"},3:{classification:"STREAM_ERROR_DECODE"},4:{classification:"STREAM_ERROR_DECODE"},5:{classification:"STREAM_ERROR_DECODE"},6:{classification:"STREAM_ERROR_DECODE"}},a={classification:"STREAM_ERROR"};function o(e,t){return Object.keys(t).filter((function(r){return t[r]===parseInt(e,10)}))[0]}function s(e,t){if(1001===t.code&&t.data){if(t.data[0]&&/\.ttml|\.vtt|\.srt|subtitle/.test(t.data[0]))return"WARNING";if(502===t.data[1])return"FATAL"}return 4012===t.code||e&&t.code<2e3||2===t.category?"WARNING":"FATAL"}var l=function(e,t,r,l,u){if(r instanceof n.PlaybackError)return r;var c=function(e){if(e.code){var t=i[e.code]||i[Math.floor(e.code/1e3)];return"function"===typeof t?t(e)||a:t||a}return a}(r).classification;if((r.message||"").indexOf("MediaSource")>=0)return new n.PlaybackError("STREAM_ERROR_TECHNOLOGY_UNSUPPORTED","shaka","This browser does not support playing MPEG-DASH streams with Shaka Player.","FATAL",r);if(c){if("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE"===c&&function(e,t){return t&&"http:"===t.protocol&&0!==t.hostname.indexOf("localhost")&&e&&e.indexOf("Edge")<0&&e.indexOf("Chrome")>0}(l,u)){return new n.PlaybackError("STREAM_ERROR","shaka","DRM playback is blocked in Chrome. Likely reason: This page is not served with HTTPS.",s(t,r),r)}return new n.PlaybackError(c,"shaka",function(e,t,r){if(1001===t.code&&null!=t.data[1])return"Shaka request failed with status "+t.data[1]+" for URL "+t.data[0];if(1002===t.code)return"Shaka request could not be performed for URL "+t.data[0];if(1003===t.code)return"Shaka request timed out for URL "+t.data[0];if(t.message)return t.message;if("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE"===r)return"Playback of protected content appears to be disabled in the browser.";if("STREAM_ERROR_DRM_OUTPUT_BLOCKED"===r)return"Playback of protected content appears to be disallowed, perhaps due to a non-secure or HDCP-less screen being connected.";var n=o(t.code,e.util.Error.Code),i="Shaka error "+o(t.category,e.util.Error.Category)+"/"+n+" reported";return t.data[0]?t.data[0].message?i+": "+t.data[0].message:i+". See the sourceError property for more details.":i+" with no further details."}(e,r,c),s(t,r),r)}return new n.PlaybackError("STREAM_ERROR","shaka","Unknown error reported from Shaka Player.","WARNING",r)};t.default=l},function(e,t,r){"use strict";var n,i,a,o=r(30),s=r(282);(i=function(){var e,t,r=0;i.prototype.init.call(this),this.push=function(n){var i;t?((i=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),i.set(n.data,t.byteLength),t=i):t=n.data;for(var a=t.byteLength;r<a-3;r++)if(1===t[r+2]){e=r+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}r+3!==e-2&&this.trigger("data",t.subarray(r+3,e-2));do{e++}while(1!==t[e]&&e<a);r=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(r+3,e-2)),r=e-2,e+=3;break;default:e+=3}t=t.subarray(r),e-=r,r=0},this.reset=function(){t=null,r=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(r+3)),t=null,r=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(n=function(){var e,t,r,o,l,u,c,d=new i;n.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,r=e.pts,o=e.dts,d.push(e))},d.on("data",(function(n){var i={trackId:t,pts:r,dts:o,data:n};switch(31&n[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=l(n.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=l(n.subarray(1)),i.config=u(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",i)})),d.on("done",(function(){e.trigger("done")})),d.on("partialdone",(function(){e.trigger("partialdone")})),d.on("reset",(function(){e.trigger("reset")})),d.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){d.flush()},this.partialFlush=function(){d.partialFlush()},this.reset=function(){d.reset()},this.endTimeline=function(){d.endTimeline()},c=function(e,t){var r,n=8,i=8;for(r=0;r<e;r++)0!==i&&(i=(n+t.readExpGolomb()+256)%256),n=0===i?n:i},l=function(e){for(var t,r,n=e.byteLength,i=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r},u=function(e){var t,r,n,i,o,l,u,d,f,p,h,g,m,v=0,y=0,b=0,k=0,_=1;if(r=(t=new s(e)).readUnsignedByte(),i=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),a[r]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==o?8:12,m=0;m<h;m++)t.readBoolean()&&c(m<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(l=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),m=0;m<u;m++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),d=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),0===(p=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),k=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}g&&(_=g[0]/g[1])}return{profileIdc:r,levelIdc:n,profileCompatibility:i,width:Math.ceil((16*(d+1)-2*v-2*y)*_),height:(2-p)*(f+1)*16-2*b-2*k,sarRatio:g}}}).prototype=new o,e.exports={H264Stream:n,NalByteStream:i}},function(e,t,r){var n=r(87).toUnsigned,i=r(101);e.exports=function e(t,r){var a,o,s,l,u,c=[];if(!r.length)return null;for(a=0;a<t.byteLength;)o=n(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]),s=i(t.subarray(a+4,a+8)),l=o>1?a+o:t.byteLength,s===r[0]&&(1===r.length?c.push(t.subarray(a+8,l)):(u=e(t.subarray(a+8,l),r.slice(1))).length&&(c=c.concat(u))),a=l;return c}},function(e,t){e.exports=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])}},function(e,t){e.exports=function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:r.getUint32(4)},i=1&n.flags[2],a=2&n.flags[2],o=8&n.flags[2],s=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],c=131072&n.flags[0];return t=8,i&&(t+=4,n.baseDataOffset=r.getUint32(12),t+=4),a&&(n.sampleDescriptionIndex=r.getUint32(t),t+=4),o&&(n.defaultSampleDuration=r.getUint32(t),t+=4),s&&(n.defaultSampleSize=r.getUint32(t),t+=4),l&&(n.defaultSampleFlags=r.getUint32(t)),u&&(n.durationIsEmpty=!0),!i&&c&&(n.baseDataOffsetIsMoof=!0),n}},function(e,t,r){var n=r(285);e.exports=function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),a=1&r.flags[2],o=4&r.flags[2],s=1&r.flags[1],l=2&r.flags[1],u=4&r.flags[1],c=8&r.flags[1],d=i.getUint32(4),f=8;for(a&&(r.dataOffset=i.getInt32(f),f+=4),o&&d&&(t={flags:n(e.subarray(f,f+4))},f+=4,s&&(t.duration=i.getUint32(f),f+=4),l&&(t.size=i.getUint32(f),f+=4),c&&(1===r.version?t.compositionTimeOffset=i.getInt32(f):t.compositionTimeOffset=i.getUint32(f),f+=4),r.samples.push(t),d--);d--;)t={},s&&(t.duration=i.getUint32(f),f+=4),l&&(t.size=i.getUint32(f),f+=4),u&&(t.flags=n(e.subarray(f,f+4)),f+=4),c&&(1===r.version?t.compositionTimeOffset=i.getInt32(f):t.compositionTimeOffset=i.getUint32(f),f+=4),r.samples.push(t);return r}},function(e,t,r){var n=r(87).toUnsigned;e.exports=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:n(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t}},function(e,t,r){"use strict";var n,i,a,o,s=r(30),l=r(86),u=r(167),c=r(168),d=r(88),f=r(89),p=r(51),h=r(85),g=r(99).H264Stream,m=r(172),v=r(91).isLikelyAacData,y=r(51).ONE_SECOND_IN_TS,b=r(173),k=r(174),_=function(e,t){var r;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},E=function(e,t,r,n,i,a){return{start:{dts:e,pts:e+(r-t)},end:{dts:e+(n-t),pts:e+(i-r)},prependedContentDuration:a,baseMediaDecodeTime:e}};(i=function(e,t){var r=[],n=0,a=0,o=0,s=1/0;t=t||{},i.prototype.init.call(this),this.push=function(t){d.collectDtsInfo(e,t),e&&b.forEach((function(r){e[r]=t[r]})),r.push(t)},this.setEarliestDts=function(e){a=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var i,u,f,p,h;0!==r.length?(i=c.trimAdtsFramesByEarliestDts(r,e,a),e.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),c.prefixWithSilence(e,i,o,s),e.samples=c.generateSampleTable(i),f=l.mdat(c.concatenateFrameData(i)),r=[],u=l.moof(n,[e]),p=new Uint8Array(u.byteLength+f.byteLength),n++,p.set(u),p.set(f,u.byteLength),d.clearDtsInfo(e),h=Math.ceil(1024*y/e.samplerate),i.length&&this.trigger("timingInfo",{start:i[0].pts,end:i[0].pts+i.length*h}),this.trigger("data",{track:e,boxes:p}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){d.clearDtsInfo(e),r=[],this.trigger("reset")}}).prototype=new s,(n=function(e,t){var r,i,a=0,o=[],s=[];t=t||{},n.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){d.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.config,e.sps=[t.data],k.forEach((function(t){e[t]=r[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var r,n,i,c,f,p,h,g,m=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=u.groupNalsIntoFrames(o),(i=u.groupFramesIntoGops(r))[0][0].keyFrame||((n=this.getGopForFusion_(o[0],e))?(m=n.duration,i.unshift(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.pts=n.pts,i.dts=n.dts,i.duration+=n.duration):i=u.extendFirstKeyFrame(i)),s.length){var v;if(!(v=t.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");d.clearDtsInfo(e),i=v}d.collectDtsInfo(e,i),e.samples=u.generateSampleTable(i),f=l.mdat(u.concatenateNalData(i)),e.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),h=i[0],g=i[i.length-1],this.trigger("segmentTimingInfo",E(e.baseMediaDecodeTime,h.dts,h.pts,g.dts+g.duration,g.pts+g.duration,m)),this.trigger("timingInfo",{start:i[0].pts,end:i[i.length-1].pts+i[i.length-1].duration}),this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),c=l.moof(a,[e]),p=new Uint8Array(c.byteLength+f.byteLength),a++,p.set(c),p.set(f,c.byteLength),this.trigger("data",{track:e,boxes:p}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){d.clearDtsInfo(e),r=void 0,i=void 0},this.getGopForFusion_=function(t){var r,n,i,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)i=(a=this.gopCache_[o]).gop,e.pps&&_(e.pps[0],a.pps[0])&&e.sps&&_(e.sps[0],a.sps[0])&&(i.dts<e.timelineStartInfo.dts||(r=t.dts-i.dts-i.duration)>=-1e4&&r<=45e3&&(!n||s>r)&&(n=a,s=r));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,r,n,i,a,o,l,u;for(a=e.byteLength,o=e.nalCount,l=e.duration,t=r=0;t<s.length&&r<e.length&&(n=s[t],i=e[r],n.pts!==i.pts);)i.pts>n.pts?t++:(r++,a-=i.byteLength,o-=i.nalCount,l-=i.duration);return 0===r?e:r===e.length?null:((u=e.slice(r)).byteLength=a,u.duration=l,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,r,n,i,a,o,l;for(t=s.length-1,r=e.length-1,a=null,o=!1;t>=0&&r>=0;){if(n=s[t],i=e[r],n.pts===i.pts){o=!0;break}n.pts>i.pts?t--:(t===s.length-1&&(a=r),r--)}if(!o&&null===a)return null;if(0===(l=o?r:a))return e;var u=e.slice(l),c=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){s=e}}).prototype=new s,(o=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!==typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"===typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new s,o.prototype.flush=function(e){var t,r,n,i,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,k.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,b.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=l.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=p.metadataTsToSeconds(t.startPts,s,this.keepOriginalTimestamps),t.endTime=p.metadataTsToSeconds(t.endPts,s,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(r=this.pendingMetadata[i]).cueTime=p.metadataTsToSeconds(r.pts,s,this.keepOriginalTimestamps),o.metadata.push(r);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),i=0;i<o.captions.length;i++)t=o.captions[i],this.trigger("caption",t);for(i=0;i<o.metadata.length;i++)r=o.metadata[i],this.trigger("id3Frame",r)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},o.prototype.setRemux=function(e){this.remuxTracks=e},(a=function(e){var t,r,s=this,l=!0;a.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="aac",n.metadataStream=new f.MetadataStream,n.aacStream=new m,n.audioTimestampRolloverStream=new f.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new f.TimestampRolloverStream("timed-metadata"),n.adtsStream=new h,n.coalesceStream=new o(e,n.metadataStream),n.headOfPipeline=n.aacStream,n.aacStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.aacStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.metadataStream.on("timestamp",(function(e){n.aacStream.setTimestamp(e.timeStamp)})),n.aacStream.on("data",(function(a){"timed-metadata"!==a.type&&"audio"!==a.type||n.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new i(r,e),n.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream),s.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!t}))})),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new f.MetadataStream,a.packetStream=new f.TransportPacketStream,a.parseStream=new f.TransportParseStream,a.elementaryStream=new f.ElementaryStream,a.timestampRolloverStream=new f.TimestampRolloverStream,a.adtsStream=new h,a.h264Stream=new g,a.captionStream=new f.CaptionStream,a.coalesceStream=new o(e,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream).pipe(a.timestampRolloverStream),a.timestampRolloverStream.pipe(a.h264Stream),a.timestampRolloverStream.pipe(a.adtsStream),a.timestampRolloverStream.pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",(function(o){var l;if("metadata"===o.type){for(l=o.tracks.length;l--;)t||"video"!==o.tracks[l].type?r||"audio"!==o.tracks[l].type||((r=o.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=o.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;t&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new n(t,e),a.videoSegmentStream.on("timelineStartInfo",(function(t){r&&!e.keepOriginalTimestamps&&(r.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts-s.baseMediaDecodeTime))})),a.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",(function(e){r&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),a.videoSegmentStream.on("timingInfo",s.trigger.bind(s,"videoTimingInfo")),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),r&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new i(r,e),a.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream)),s.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!t})}})),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("id3Frame",(function(e){e.dispatchType=a.metadataStream.dispatchType,s.trigger("id3Frame",e)})),a.coalesceStream.on("caption",this.trigger.bind(this,"caption")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,d.clearDtsInfo(r),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,d.clearDtsInfo(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var r=this.transmuxPipeline_;e.remux=t,r&&r.coalesceStream&&r.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(l){var t=v(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),l=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,e.exports={Transmuxer:a,VideoSegmentStream:n,AudioSegmentStream:i,AUDIO_PROPERTIES:b,VIDEO_PROPERTIES:k,generateVideoSegmentTimingInfo:E}},function(e,t,r){"use strict";var n;(n=function(e,t){var r,i=0,a=16384,o=function(e,t){var r,n=e.position+t;n<e.bytes.byteLength||((r=new Uint8Array(2*n)).set(e.bytes.subarray(0,e.position),0),e.bytes=r,e.view=new DataView(e.bytes.buffer))},s=n.widthBytes||new Uint8Array("width".length),l=n.heightBytes||new Uint8Array("height".length),u=n.videocodecidBytes||new Uint8Array("videocodecid".length);if(!n.widthBytes){for(r=0;r<"width".length;r++)s[r]="width".charCodeAt(r);for(r=0;r<"height".length;r++)l[r]="height".charCodeAt(r);for(r=0;r<"videocodecid".length;r++)u[r]="videocodecid".charCodeAt(r);n.widthBytes=s,n.heightBytes=l,n.videocodecidBytes=u}switch(this.keyFrame=!1,e){case n.VIDEO_TAG:this.length=16,a*=6;break;case n.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case n.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,r){var n,i=t||0;n=i+(r=r||e.byteLength),o(this,r),this.bytes.set(e.subarray(i,n),this.position),this.position+=r,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,r;this.length===i+4?this.length-=4:i>0&&(t=i+4,r=this.length-t,this.position=i,this.view.setUint32(this.position,r),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+r))),i=0},this.writeMetaDataDouble=function(e,t){var r;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(l,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(u,this.position),this.position+=12;else for(r=0;r<e.length;r++)this.bytes[this.position]=e.charCodeAt(r),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var r;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,r=0;r<e.length;r++)o(this,1),this.bytes[this.position]=e.charCodeAt(r),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,r;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case n.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return r=this.length-11,this.bytes[1]=(16711680&r)>>>16,this.bytes[2]=(65280&r)>>>8,this.bytes[3]=(255&r)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=n.frameTime(this.bytes),this}}).AUDIO_TAG=8,n.VIDEO_TAG=9,n.METADATA_TAG=18,n.isAudioFrame=function(e){return n.AUDIO_TAG===e[0]},n.isVideoFrame=function(e){return n.VIDEO_TAG===e[0]},n.isMetaData=function(e){return n.METADATA_TAG===e[0]},n.isKeyFrame=function(e){return n.isVideoFrame(e)?23===e[11]:!!n.isAudioFrame(e)||!!n.isMetaData(e)},n.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},e.exports=n},function(e,t,r){"use strict";e.exports=r(213)},function(e,t,r){(function(t,r){var n;self,n=function(){return function(){var e={1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},8926:function(e){function t(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,l,"next",e)}function l(e){t(o,i,a,s,l,"throw",e)}s(void 0)}))}}},9100:function(e,t,r){var n=r(9489),i=r(7067);function a(t,r,o){return i()?e.exports=a=Reflect.construct:e.exports=a=function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&n(a,r.prototype),a},a.apply(null,arguments)}e.exports=a},3913:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}},9754:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(r)}e.exports=t},5354:function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},9489:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(r,n)}e.exports=t},5957:function(e,t,r){var n=r(9754),i=r(9489),a=r(430),o=r(9100);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},7757:function(e,t,r){e.exports=r(5666)},3774:function(e,t,r){"use strict";r.d(t,{DQ:function(){return a},JJ:function(){return s},cX:function(){return l},w:function(){return o}});var n=r(1946),i=r(2203).Z?{}:window,a=i.HTMLElement,o=(0,n.Z)(i.VTTCue)?i.TextTrackCue:i.VTTCue,s=(0,n.Z)(i.MediaSource)?(0,n.Z)(i.MozMediaSource)?(0,n.Z)(i.WebKitMediaSource)?i.MSMediaSource:i.WebKitMediaSource:i.MozMediaSource:i.MediaSource,l={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}},3666:function(e,t,r){"use strict";r.d(t,{kD:function(){return s},fq:function(){return a},YM:function(){return o},vU:function(){return l},G6:function(){return c},SB:function(){return d},op:function(){return u}});var n,i=r(2203),a=!i.Z&&!!window.MSInputMethodContext&&!!document.documentMode,o=!i.Z&&("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent)),s=!i.Z&&-1!==navigator.userAgent.toLowerCase().indexOf("edg/"),l=!i.Z&&-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),u=!i.Z&&/SamsungBrowser/.test(navigator.userAgent),c=!i.Z&&(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>=0||"[object SafariRemoteNotification]"===(null===(n=window.safari)||void 0===n?void 0:n.pushNotification.toString())),d=!i.Z&&"string"===typeof navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},5767:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3887),i=r(3666);function a(e){if(i.vU){for(var t=e.textTracks,r=0;r<t.length;r++)t[r].mode="disabled";if(e.hasChildNodes())for(var a=e.childNodes,o=a.length-1;o>=0;o--)if("track"===a[o].nodeName)try{e.removeChild(a[o])}catch(s){n.Z.warn("Compat: Could not remove text track child from element.")}}e.src="",e.removeAttribute("src")}},6139:function(e,t,r){"use strict";r.d(t,{N:function(){return U},Y:function(){return Z}});var n,i=r(4944),a=r(8170),o=r(1410),s=r(3714),l=r(8117),u=r(3666),c=r(2203),d=r(5059),f=r(3913),p=r.n(f),h=r(9589),g=function(){function e(e,t,r){this._keyType=e,this._mediaKeys=t,this._configuration=r}var t=e.prototype;return t.createMediaKeys=function(){var e=this;return new h.Z((function(t){return t(e._mediaKeys)}))},t.getConfiguration=function(){return this._configuration},p()(e,[{key:"keySystem",get:function(){return this._keyType}}]),e}(),m=r(5354),v=r.n(m),y=r(211),b=r(4370),k=r(1558),_=r(1959),E=r(1473);if(!c.Z){var w=window.MSMediaKeys;void 0!==w&&void 0!==w.prototype&&"function"===typeof w.isTypeSupported&&"function"===typeof w.prototype.createSession&&(n=w)}var S,T=function(e){function t(t){var r;return(r=e.call(this)||this).expiration=NaN,r.keyStatuses=new Map,r._mk=t,r._closeSession$=new y.xQ,r.closed=new h.Z((function(e){r._closeSession$.subscribe(e)})),r.update=function(e){return new h.Z((function(t,n){if(void 0===r._ss)return n("MediaKeySession not set.");try{t(r._ss.update(e,""))}catch(i){n(i)}}))},r}v()(t,e);var r=t.prototype;return r.generateRequest=function(e,t){var r=this;return new h.Z((function(e){r._ss=r._mk.createSession("video/mp4",t),(0,b.T)(E.GJ(r._ss),E.GV(r._ss),E.Xe(r._ss)).pipe((0,k.R)(r._closeSession$)).subscribe((function(e){return r.trigger(e.type,e)})),e()}))},r.close=function(){var e=this;return new h.Z((function(t){null!=e._ss&&(e._ss.close(),e._ss=void 0),e._closeSession$.next(),e._closeSession$.complete(),t()}))},r.load=function(){return h.Z.resolve(!1)},r.remove=function(){return h.Z.resolve()},p()(t,[{key:"sessionId",get:function(){var e,t;return null!==(t=null===(e=this._ss)||void 0===e?void 0:e.sessionId)&&void 0!==t?t:""}}]),t}(_.Z),x=function(){function e(e){if(void 0===n)throw new Error("No MSMediaKeys API.");this._mediaKeys=new n(e)}var t=e.prototype;return t._setVideo=function(e){if(this._videoElement=e,void 0!==this._videoElement.msSetMediaKeys)return this._videoElement.msSetMediaKeys(this._mediaKeys)},t.createSession=function(){if(void 0===this._videoElement||void 0===this._mediaKeys)throw new Error("Video not attached to the MediaKeys");return new T(this._mediaKeys)},t.setServerCertificate=function(){throw new Error("Server certificate is not implemented in your browser")},e}();if(!c.Z){var O=window.MozMediaKeys;void 0!==O&&void 0!==O.prototype&&"function"===typeof O.isTypeSupported&&"function"===typeof O.prototype.createSession&&(S=O)}var P=r(9689),A=r(3635);function C(e){return"function"===typeof e.webkitGenerateKeyRequest}var M=function(e){function t(t,r){var n;return(n=e.call(this)||this)._closeSession$=new y.xQ,n._vid=t,n._key=r,n.sessionId="",n.closed=new h.Z((function(e){n._closeSession$.subscribe(e)})),n.keyStatuses=new Map,n.expiration=NaN,(0,b.T)(E.GJ(t),E.GV(t),E.Xe(t)).pipe((0,k.R)(n._closeSession$)).subscribe((function(e){return n.trigger(e.type,e)})),n.update=function(e){return new h.Z((function(t,r){try{if(n._key.indexOf("clearkey")>=0){var i=e instanceof ArrayBuffer?new Uint8Array(e):e,a=JSON.parse((0,A.uR)(i)),o=(0,P.K)(a.keys[0].k),s=(0,P.K)(a.keys[0].kid);t(n._vid.webkitAddKey(n._key,o,s,""))}else t(n._vid.webkitAddKey(n._key,e,null,""))}catch(l){r(l)}}))},n}v()(t,e);var r=t.prototype;return r.generateRequest=function(e,t){var r=this;return new h.Z((function(e){r._vid.webkitGenerateKeyRequest(r._key,t),e()}))},r.close=function(){var e=this;return new h.Z((function(t){e._closeSession$.next(),e._closeSession$.complete(),t()}))},r.load=function(){return h.Z.resolve(!1)},r.remove=function(){return h.Z.resolve()},t}(_.Z),I=function(){function e(e){this._keySystem=e}var t=e.prototype;return t._setVideo=function(e){if(!C(e))throw new Error("Video not attached to the MediaKeys");this._videoElement=e},t.createSession=function(){if(null==this._videoElement)throw new Error("Video not attached to the MediaKeys");return new M(this._videoElement,this._keySystem)},t.setServerCertificate=function(){throw new Error("Server certificate is not implemented in your browser")},e}(),R=r(6968),D=r(158);function j(e,t){if(void 0===e.webkitSetMediaKeys)throw new Error("No webKitMediaKeys API.");return e.webkitSetMediaKeys(t)}var L=function(e){function t(t,r,n){var i;return(i=e.call(this)||this)._serverCertificate=n,i._closeSession$=new y.xQ,i._videoElement=t,i._keyType=r,i.closed=new h.Z((function(e){i._closeSession$.subscribe(e)})),i.keyStatuses=new Map,i.expiration=NaN,i.update=function(e){return new h.Z((function(t,r){if(void 0===i._nativeSession||void 0===i._nativeSession.update||"function"!==typeof i._nativeSession.update)return r("Unavailable WebKit key session.");try{t(i._nativeSession.update(e))}catch(n){r(n)}}))},i}v()(t,e);var r=t.prototype;return r.listenEvent=function(e){var t=this;(0,b.T)(E.GJ(e),E.GV(e),E.Xe(e)).pipe((0,k.R)(this._closeSession$)).subscribe((function(e){t.trigger(e.type,e)}))},r.generateRequest=function(e,t){var r=this;return new h.Z((function(e){if(void 0===r._videoElement.webkitKeys||void 0===r._videoElement.webkitKeys.createSession)throw new Error("No WebKitMediaKeys API.");var n,i;if("com.apple.fps.1_0"===(i=r._keyType)||"com.apple.fps.2_0"===i){if(void 0===r._serverCertificate)throw new Error("A server certificate is needed for creating fairplay session.");n=function(e,t){var r=e instanceof Uint8Array?e:new Uint8Array(e),n=t instanceof Uint8Array?t:new Uint8Array(t);if((0,R.dN)(r,0)+4!==r.length)throw new Error("Unsupported WebKit initData.");var i=(0,A.wV)(r),a=i.indexOf("skd://"),o=a>-1?i.substring(a+6):i,s=(0,A.TZ)(o),l=0,u=new Uint8Array(r.byteLength+4+s.byteLength+4+n.byteLength);return u.set(r),l+=r.length,u.set((0,R.O_)(s.byteLength),l),l+=4,u.set(s,l),l+=s.byteLength,u.set((0,R.O_)(n.byteLength),l),l+=4,u.set(n,l),u}(t,r._serverCertificate)}else n=t;var a=r._videoElement.webkitKeys.createSession("video/mp4",n);if(void 0===a||null===a)throw new Error("Impossible to get the key sessions");r.listenEvent(a),r._nativeSession=a,e()}))},r.close=function(){var e=this;return new h.Z((function(t,r){e._closeSession$.next(),e._closeSession$.complete(),void 0===e._nativeSession&&r("No session to close."),e._nativeSession.close(),t()}))},r.load=function(){return h.Z.resolve(!1)},r.remove=function(){return h.Z.resolve()},p()(t,[{key:"sessionId",get:function(){var e,t;return null!==(t=null===(e=this._nativeSession)||void 0===e?void 0:e.sessionId)&&void 0!==t?t:""}}]),t}(_.Z),N=function(){function e(e){if(void 0===D.t)throw new Error("No WebKitMediaKeys API.");this._keyType=e,this._mediaKeys=new D.t(e)}var t=e.prototype;return t._setVideo=function(e){if(this._videoElement=e,void 0===this._videoElement)throw new Error("Video not attached to the MediaKeys");return j(this._videoElement,this._mediaKeys)},t.createSession=function(){if(void 0===this._videoElement||void 0===this._mediaKeys)throw new Error("Video not attached to the MediaKeys");return new L(this._videoElement,this._keyType,this._serverCertificate)},t.setServerCertificate=function(e){return this._serverCertificate=e,h.Z.resolve()},e}(),U=null,B=function(e,t){return"function"===typeof e.setMediaKeys?e.setMediaKeys(t):e.webkitSetMediaKeys?e.webkitSetMediaKeys(t):e.mozSetMediaKeys?e.mozSetMediaKeys(t):e.msSetMediaKeys&&null!==t?e.msSetMediaKeys(t):void 0};if(c.Z||null!=navigator.requestMediaKeySystemAccess&&!(0,d.Z)())U=function(e,t){return(0,l.Z)(navigator.requestMediaKeySystemAccess(e,t))};else{var F,z;if(C(HTMLVideoElement.prototype)){var V={isTypeSupported:function(e){var t=document.querySelector("video");return null==t&&(t=document.createElement("video")),null!=t&&"function"===typeof t.canPlayType&&!!t.canPlayType("video/mp4",e)},createCustomMediaKeys:function(e){return new I(e)},setMediaKeys:function(e,t){if(null!==t){if(!(t instanceof I))throw new Error("Custom setMediaKeys is supposed to be called with old webkit custom MediaKeys.");return t._setVideo(e)}}};F=V.isTypeSupported,z=V.createCustomMediaKeys,B=V.setMediaKeys}else if(void 0!==D.t){var $=function(){if(void 0===D.t)throw new Error("No WebKitMediaKeys API.");return{isTypeSupported:D.t.isTypeSupported,createCustomMediaKeys:function(e){return new N(e)},setMediaKeys:function(e,t){if(null===t)return j(e,t);if(!(t instanceof N))throw new Error("Custom setMediaKeys is supposed to be called with webkit custom MediaKeys.");return t._setVideo(e)}}}();F=$.isTypeSupported,z=$.createCustomMediaKeys,B=$.setMediaKeys}else if(u.fq&&void 0!==n){var W={isTypeSupported:function(e,t){if(void 0===n)throw new Error("No MSMediaKeys API.");return void 0!==t?n.isTypeSupported(e,t):n.isTypeSupported(e)},createCustomMediaKeys:function(e){return new x(e)},setMediaKeys:function(e,t){if(null!==t){if(!(t instanceof x))throw new Error("Custom setMediaKeys is supposed to be called with IE11 custom MediaKeys.");return t._setVideo(e)}}};F=W.isTypeSupported,z=W.createCustomMediaKeys,B=W.setMediaKeys}else if(void 0!==S){var K={isTypeSupported:function(e,t){if(void 0===S)throw new Error("No MozMediaKeys API.");return void 0!==t?S.isTypeSupported(e,t):S.isTypeSupported(e)},createCustomMediaKeys:function(e){if(void 0===S)throw new Error("No MozMediaKeys API.");return new S(e)},setMediaKeys:function(e,t){if(void 0===e.mozSetMediaKeys||"function"!==typeof e.mozSetMediaKeys)throw new Error("Can't set video on MozMediaKeys.");return e.mozSetMediaKeys(t)}};F=K.isTypeSupported,z=K.createCustomMediaKeys,B=K.setMediaKeys}else{var H=window.MediaKeys,G=function(){if(void 0===H)throw new s.Z("MEDIA_KEYS_NOT_SUPPORTED","No `MediaKeys` implementation found in the current browser.");if(void 0===H.isTypeSupported)throw new Error("This browser seems to be unable to play encrypted contents currently. Note: Some browsers do not allow decryption in some situations, like when not using HTTPS.")};F=function(e){return G(),H.isTypeSupported(e)},z=function(e){return G(),new H(e)}}U=function(e,t){if(!F(e))return(0,i._)(void 0);for(var r=0;r<t.length;r++){var n=t[r],o=n.videoCapabilities,s=n.audioCapabilities,l=n.initDataTypes,u=n.distinctiveIdentifier,c=!0;if(c=(c=c&&(null==l||l.some((function(e){return"cenc"===e}))))&&"required"!==u){var d={videoCapabilities:o,audioCapabilities:s,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},f=z(e);return(0,a.of)(new g(e,f,d))}}return(0,i._)(void 0)}}function Z(e,t){return(0,o.P)((function(){return(0,l.Z)(B(e,t))}))}},158:function(e,t,r){"use strict";var n;if(r.d(t,{t:function(){return n}}),!r(2203).Z){var i=window.WebKitMediaKeys;void 0!==i&&"function"===typeof i.isTypeSupported&&"function"===typeof i.prototype.createSession&&"function"===typeof HTMLMediaElement.prototype.webkitSetMediaKeys&&(n=i)}},1473:function(e,t,r){"use strict";r.d(t,{zh:function(){return $},_K:function(){return H},Oh:function(){return ie},C1:function(){return Y},Q1:function(){return Q},GV:function(){return oe},Xe:function(){return se},GJ:function(){return ae},eX:function(){return le},K4:function(){return Z},yj:function(){return K},Qt:function(){return J},gg:function(){return ne},ik:function(){return X},d5:function(){return q},ym:function(){return te},UA:function(){return ee},_E:function(){return re},$x:function(){return G}});var n=r(4379),i=r(3306),a=new n.y(i.Z),o=r(7027),s=r(4370),l=r(1410),u=r(8170),c=r(5142),d=r(6564),f=r(655),p=r(964),h=r(9914),g=r(979),m=r(2632);function v(e,t){void 0===t&&(t=p.P);var r=(0,h.J)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new y(r,t))}}var y=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new b(e,this.delay,this.scheduler))},e}(),b=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.delay=r,i.scheduler=n,i.queue=[],i.active=!1,i.errored=!1,i}return f.ZT(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var a=Math.max(0,r[0].time-n.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new k(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(m.P.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(m.P.createComplete()),this.unsubscribe()},t}(g.L),k=function(){return function(e,t){this.time=e,this.notification=t}}(),_=r(7604),E={leading:!0,trailing:!1};function w(e,t,r){return void 0===t&&(t=p.P),void 0===r&&(r=E),function(n){return n.lift(new S(e,t,r.leading,r.trailing))}}_.Ds;var S=function(){function e(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new T(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),T=function(e){function t(t,r,n,i,a){var o=e.call(this,t)||this;return o.duration=r,o.scheduler=n,o.leading=i,o.trailing=a,o._hasTrailingValue=!1,o._trailingValue=null,o}return f.ZT(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(x,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(g.L);function x(e){e.subscriber.clearThrottle()}var O=r(5709),P=r(3485),A=r(1931),C=r(6381),M=r(5602),I=r(944),R=r(6923),D=r(3774),j=r(2203),L=r(5059),N=["","webkit","moz","ms"],U=I.Z.INACTIVITY_DELAY,B=j.Z||null==window.devicePixelRatio||0===window.devicePixelRatio?1:window.devicePixelRatio;function F(e,t){return t.filter((function(t){return function(e,t){var r=document.createElement(e.tagName),n="on"+t;return n in r||(r.setAttribute(n,"return;"),"function"===typeof r[n])}(e,t)}))[0]}function z(e,t){var r,n=function(e,t){return e.reduce((function(e,r){return e.concat((null==t?N:t).map((function(e){return e+r})))}),[])}(e,t);return function(e){return e instanceof D.DQ?("undefined"===typeof r&&(r=F(e,n)),(0,R.Z)(r)?(0,o.R)(e,r):a):s.T.apply(void 0,n.map((function(t){return(0,o.R)(e,t)})))}}function V(){var e,t=document;null!=t.hidden?e="":null!=t.mozHidden?e="moz":null!=t.msHidden?e="ms":null!=t.webkitHidden&&(e="webkit");var r=(0,R.Z)(e)?e+"Hidden":"hidden",n=(0,R.Z)(e)?e+"visibilitychange":"visibilitychange";return(0,l.P)((function(){var e=document[r];return(0,o.R)(document,n).pipe((0,O.U)((function(){return!document[r]})),(0,P.O)(!e),(0,A.x)())}))}function $(){return V().pipe((0,C.w)((function(e){return e?(0,u.of)(e):(0,u.of)(e).pipe(v(U))})))}function W(e,t){var r=t.width,n=t.height/(e.clientHeight/e.clientWidth);return Math.min(r,n)}function K(e){return(0,l.P)((function(){if(e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode){var t="picture-in-picture"===e.webkitPresentationMode;return(0,o.R)(e,"webkitpresentationmodechanged").pipe((0,O.U)((function(){return{isEnabled:"picture-in-picture"===e.webkitPresentationMode,pipWindow:null}})),(0,P.O)({isEnabled:t,pipWindow:null}))}var r={isEnabled:document.pictureInPictureElement&&document.pictureInPictureElement===e,pipWindow:null};return(0,s.T)((0,o.R)(e,"enterpictureinpicture").pipe((0,O.U)((function(e){return{isEnabled:!0,pipWindow:e.pictureInPictureWindow}}))),(0,o.R)(e,"leavepictureinpicture").pipe((0,M.h)({isEnabled:!1,pipWindow:null}))).pipe((0,P.O)(r))}))}function H(e){return(0,c.aj)([V(),e]).pipe((0,C.w)((function(e){var t=e[0];return e[1].isEnabled||t?(0,u.of)(!0):(0,u.of)(!1).pipe(v(U))})),(0,A.x)())}function G(e,t){return(0,c.aj)([t,(0,d.F)(2e4).pipe((0,P.O)(null)),(0,o.R)(window,"resize").pipe(w(500),(0,P.O)(null))]).pipe((0,C.w)((function(t){var r=t[0];if(r.isEnabled){if(null!=r.pipWindow){var n=r.pipWindow,i=W(e,n);return(0,o.R)(n,"resize").pipe((0,P.O)(i*B),(0,O.U)((function(){return W(e,n)*B})))}return(0,u.of)(1/0)}return(0,u.of)(e.clientWidth*B)})),(0,A.x)())}var Z=z(["loadedmetadata"]),q=z(["seeking"]),X=z(["seeked"]),Y=z(["ended"]),Q=(z(["timeupdate"]),z(["fullscreenchange","FullscreenChange"],N.concat("MS"))),J=function(e){return(0,s.T)(z(["play"])(e),z(["pause"])(e))},ee=function(e){return(0,s.T)(z(["addtrack"])(e),z(["removetrack"])(e))},te=z(["sourceopen","webkitsourceopen"]),re=z(["update"]),ne=z(["onremovesourcebuffer"]),ie=z((0,L.Z)()?["needkey"]:["encrypted","needkey"]),ae=z(["keymessage","message"]),oe=z(["keyadded","ready"]),se=z(["keyerror","error"]),le=z(["keystatuseschange"])},2203:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n="undefined"===typeof window},1988:function(e,t,r){"use strict";function n(e){return"function"===typeof window.VTTCue&&e instanceof window.VTTCue}r.d(t,{Z:function(){return n}})},7253:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3887),i=r(3774);function a(e,t,r){if(null==i.w)throw new Error("VTT cues not supported in your target");return e>=t?(n.Z.warn("Compat: Invalid cue times: "+e+" - "+t),null):new i.w(e,t,r)}},5059:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3666),i=r(158);function a(){return n.G6&&void 0!==i.t}},944:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n={DEFAULT_UNMUTED_VOLUME:.1,DEFAULT_REQUEST_TIMEOUT:3e4,DEFAULT_TEXT_TRACK_MODE:"native",DEFAULT_MANUAL_BITRATE_SWITCHING_MODE:"seamless",DEFAULT_ENABLE_FAST_SWITCHING:!0,DEFAULT_AUDIO_TRACK_SWITCHING_MODE:"seamless",DELTA_POSITION_AFTER_RELOAD:{bitrateSwitch:-.1,trackSwitch:{audio:-.7,video:-.1,other:0}},DEFAULT_CODEC_SWITCHING_BEHAVIOR:"continue",DEFAULT_AUTO_PLAY:!1,DEFAULT_SHOW_NATIVE_SUBTITLE:!0,DEFAULT_STOP_AT_END:!0,DEFAULT_WANTED_BUFFER_AHEAD:30,DEFAULT_MAX_BUFFER_AHEAD:1/0,DEFAULT_MAX_BUFFER_BEHIND:1/0,MAXIMUM_MAX_BUFFER_AHEAD:{text:18e3},MAXIMUM_MAX_BUFFER_BEHIND:{text:18e3},DEFAULT_INITIAL_BITRATES:{audio:0,video:0,other:0},DEFAULT_MIN_BITRATES:{audio:0,video:0,other:0},DEFAULT_MAX_BITRATES:{audio:1/0,video:1/0,other:1/0},INACTIVITY_DELAY:6e4,DEFAULT_THROTTLE_WHEN_HIDDEN:!1,DEFAULT_THROTTLE_VIDEO_BITRATE_WHEN_HIDDEN:!1,DEFAULT_LIMIT_VIDEO_WIDTH:!1,DEFAULT_LIVE_GAP:{DEFAULT:10,LOW_LATENCY:3},BUFFER_DISCONTINUITY_THRESHOLD:.2,BITRATE_REBUFFERING_RATIO:1.5,BUFFER_GC_GAPS:{CALM:240,BEEFY:30},DEFAULT_MAX_MANIFEST_REQUEST_RETRY:4,DEFAULT_MAX_REQUESTS_RETRY_ON_ERROR:4,DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE:1/0,INITIAL_BACKOFF_DELAY_BASE:{REGULAR:200,LOW_LATENCY:50},MAX_BACKOFF_DELAY_BASE:{REGULAR:3e3,LOW_LATENCY:1e3},SAMPLING_INTERVAL_MEDIASOURCE:1e3,SAMPLING_INTERVAL_LOW_LATENCY:250,SAMPLING_INTERVAL_NO_MEDIASOURCE:500,ABR_MINIMUM_TOTAL_BYTES:15e4,ABR_MINIMUM_CHUNK_SIZE:16e3,ABR_STARVATION_FACTOR:{DEFAULT:.72,LOW_LATENCY:.72},ABR_REGULAR_FACTOR:{DEFAULT:.8,LOW_LATENCY:.8},ABR_STARVATION_GAP:{DEFAULT:5,LOW_LATENCY:5},OUT_OF_STARVATION_GAP:{DEFAULT:7,LOW_LATENCY:7},ABR_STARVATION_DURATION_DELTA:.1,ABR_FAST_EMA:2,ABR_SLOW_EMA:10,RESUME_GAP_AFTER_SEEKING:{DEFAULT:1.5,LOW_LATENCY:.5},RESUME_GAP_AFTER_NOT_ENOUGH_DATA:{DEFAULT:.5,LOW_LATENCY:.5},RESUME_GAP_AFTER_BUFFERING:{DEFAULT:5,LOW_LATENCY:.5},STALL_GAP:{DEFAULT:.5,LOW_LATENCY:.2},MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT:.15,MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE:.4,MAX_MANIFEST_BUFFERED_DURATION_DIFFERENCE:.3,MINIMUM_SEGMENT_SIZE:.005,APPEND_WINDOW_SECURITIES:{START:.2,END:.1},MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL:50,TEXT_TRACK_SIZE_CHECKS_INTERVAL:250,BUFFER_PADDING:{audio:1,video:3,other:1},SEGMENT_PRIORITIES_STEPS:[2,4,8,12,18,25],MAX_HIGH_PRIORITY_LEVEL:1,MIN_CANCELABLE_PRIORITY:3,EME_DEFAULT_WIDEVINE_ROBUSTNESSES:["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],EME_KEY_SYSTEMS:{clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"],fairplay:["com.apple.fps.1_0"]},MAX_CONSECUTIVE_MANIFEST_PARSING_IN_UNSAFE_MODE:10,MIN_MANIFEST_PARSING_TIME_TO_ENTER_UNSAFE_MODE:200,MIN_DASH_S_ELEMENTS_TO_PARSE_UNSAFELY:300,OUT_OF_SYNC_MANIFEST_REFRESH_DELAY:3e3,FAILED_PARTIAL_UPDATE_MANIFEST_REFRESH_DELAY:3e3,DASH_FALLBACK_LIFETIME_WHEN_MINIMUM_UPDATE_PERIOD_EQUAL_0:3,EME_MAX_SIMULTANEOUS_MEDIA_KEY_SESSIONS:50,EME_MAX_STORED_PERSISTENT_SESSION_INFORMATION:1e3,FORCED_ENDED_THRESHOLD:.001,ADAPTATION_SWITCH_BUFFER_PADDINGS:{video:{before:2,after:2.5},audio:{before:2,after:2.5},text:{before:0,after:0},image:{before:0,after:0}},SOURCE_BUFFER_FLUSHING_INTERVAL:500,CONTENT_REPLACEMENT_PADDING:2,CACHE_LOAD_DURATION_THRESHOLDS:{video:50,audio:10},STREAM_EVENT_EMITTER_POLL_INTERVAL:250}},7794:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(5354),i=r.n(n),a=r(1959),o=r(7829);function s(e,t){var r;if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n].nativeTrack!==(null===(r=e[n])||void 0===r?void 0:r.nativeTrack))return!0;return!1}function l(e){for(var t,r=[],n={},i=0;i<e.length;i++){var a=e[i],s=""===a.language?"nolang":a.language,l=null!==(t=n[s])&&void 0!==t?t:1,u="gen_audio_"+s+"_"+l.toString();n[s]=l+1;var c={language:a.language,id:u,normalized:(0,o.ZP)(a.language),audioDescription:!1,representations:[]};r.push({track:c,nativeTrack:a})}return r}function u(e){for(var t,r=[],n={},i=0;i<e.length;i++){var a=e[i],s=""===a.language?"nolang":a.language,l=null!==(t=n[s])&&void 0!==t?t:1,u="gen_text_"+s+"_"+l.toString();n[s]=l+1;var c={language:a.language,id:u,normalized:(0,o.ZP)(a.language),closedCaption:"captions"===a.kind};r.push({track:c,nativeTrack:a})}return r}function c(e){for(var t,r=[],n={},i=0;i<e.length;i++){var a=e[i],o=""===a.language?"nolang":a.language,s=null!==(t=n[o])&&void 0!==t?t:1,l="gen_video_"+o+"_"+s.toString();n[o]=s+1,r.push({track:{id:l,representations:[]},nativeTrack:a})}return r}var d=function(e){function t(t){var r,n,i,a;return(r=e.call(this)||this)._preferredAudioTracks=[],r._preferredTextTracks=[],r._preferredVideoTracks=[],r._nativeAudioTracks=t.audioTracks,r._nativeVideoTracks=t.videoTracks,r._nativeTextTracks=t.textTracks,r._audioTracks=void 0!==r._nativeAudioTracks?l(r._nativeAudioTracks):[],r._videoTracks=void 0!==r._nativeVideoTracks?c(r._nativeVideoTracks):[],r._textTracks=void 0!==r._nativeTextTracks?u(r._nativeTextTracks):[],r._lastEmittedNativeAudioTrack=null===(n=r._getPrivateChosenAudioTrack())||void 0===n?void 0:n.nativeTrack,r._lastEmittedNativeVideoTrack=null===(i=r._getPrivateChosenVideoTrack())||void 0===i?void 0:i.nativeTrack,r._lastEmittedNativeTextTrack=null===(a=r._getPrivateChosenTextTrack())||void 0===a?void 0:a.nativeTrack,r._handleNativeTracksCallbacks(),r}i()(t,e);var r=t.prototype;return r.setPreferredAudioTracks=function(e,t){this._preferredAudioTracks=e,t&&this._applyAudioPreferences()},r.setPreferredTextTracks=function(e,t){this._preferredTextTracks=e,t&&this._applyTextPreferences()},r.setPreferredVideoTracks=function(e,t){this._preferredVideoTracks=e,t&&this._applyVideoPreferences()},r.setAudioTrackById=function(e){for(var t=0;t<this._audioTracks.length;t++){var r=this._audioTracks[t],n=r.track,i=r.nativeTrack;if(n.id===e)return i.enabled=!0,void(this._audioTrackLockedOn=i)}throw new Error("Audio track not found.")},r.disableTextTrack=function(){f(this._textTracks),this._textTrackLockedOn=null},r.setTextTrackById=function(e){for(var t=!1,r=0;r<this._textTracks.length;r++){var n=this._textTracks[r],i=n.track,a=n.nativeTrack;i.id===e?(a.mode="showing",t=!0,this._textTrackLockedOn=a):"showing"!==a.mode&&"hidden"!==a.mode||(a.mode="disabled")}if(!t)throw new Error("Text track not found.")},r.disableVideoTrack=function(){h(this._videoTracks),this._videoTrackLockedOn=null},r.setVideoTrackById=function(e){for(var t=0;t<this._videoTracks.length;t++){var r=this._videoTracks[t],n=r.track,i=r.nativeTrack;if(n.id===e)return i.selected=!0,void(this._videoTrackLockedOn=i)}throw new Error("Video track not found.")},r.getChosenAudioTrack=function(){var e=this._getPrivateChosenAudioTrack();return null!=e?e.track:e},r.getChosenTextTrack=function(){var e=this._getPrivateChosenTextTrack();return null!=e?e.track:e},r.getChosenVideoTrack=function(){var e=this._getPrivateChosenVideoTrack();return null!=e?e.track:e},r.getAvailableAudioTracks=function(){return this._audioTracks.map((function(e){var t=e.track,r=e.nativeTrack;return{id:t.id,language:t.language,normalized:t.normalized,audioDescription:t.audioDescription,active:r.enabled,representations:t.representations}}))},r.getAvailableTextTracks=function(){return this._textTracks.map((function(e){var t=e.track,r=e.nativeTrack;return{id:t.id,language:t.language,normalized:t.normalized,closedCaption:t.closedCaption,active:"showing"===r.mode}}))},r.getAvailableVideoTracks=function(){return this._videoTracks.map((function(e){var t=e.track,r=e.nativeTrack;return{id:t.id,representations:t.representations,active:r.selected}}))},r.dispose=function(){void 0!==this._nativeVideoTracks&&(this._nativeVideoTracks.onchange=null,this._nativeVideoTracks.onaddtrack=null,this._nativeVideoTracks.onremovetrack=null),void 0!==this._nativeAudioTracks&&(this._nativeAudioTracks.onchange=null,this._nativeAudioTracks.onaddtrack=null,this._nativeAudioTracks.onremovetrack=null),void 0!==this._nativeTextTracks&&(this._nativeTextTracks.onchange=null,this._nativeTextTracks.onaddtrack=null,this._nativeTextTracks.onremovetrack=null),this.removeEventListener()},r._getPrivateChosenAudioTrack=function(){if(void 0!==this._nativeAudioTracks){for(var e=0;e<this._audioTracks.length;e++){var t=this._audioTracks[e];if(t.nativeTrack.enabled)return t}return null}},r._getPrivateChosenVideoTrack=function(){if(void 0!==this._nativeVideoTracks){for(var e=0;e<this._videoTracks.length;e++){var t=this._videoTracks[e];if(t.nativeTrack.selected)return t}return null}},r._getPrivateChosenTextTrack=function(){if(void 0!==this._nativeTextTracks){for(var e=0;e<this._textTracks.length;e++){var t=this._textTracks[e];if("showing"===t.nativeTrack.mode)return t}return null}},r._setOptimalAudioTrack=function(){if(void 0!==this._audioTrackLockedOn)for(var e=0;e<this._audioTracks.length;e++){var t=this._audioTracks[e].nativeTrack;if(t===this._audioTrackLockedOn)return void(t.enabled=!0)}this._applyAudioPreferences()},r._applyAudioPreferences=function(){this._audioTrackLockedOn=void 0;for(var e=this._preferredAudioTracks,t=0;t<e.length;t++){var r=e[t];if(null!==r&&void 0!==r.language)for(var n=(0,o.ZP)(r.language),i=0;i<this._audioTracks.length;i++){var a=this._audioTracks[i];if(a.track.normalized===n&&a.track.audioDescription===r.audioDescription)return void(a.nativeTrack.enabled=!0)}}},r._setOptimalTextTrack=function(){if(null!==this._textTrackLockedOn){if(void 0!==this._textTrackLockedOn)for(var e=0;e<this._textTracks.length;e++){var t=this._textTracks[e].nativeTrack;if(t===this._textTrackLockedOn)return p(this._textTracks,t),void("showing"!==t.mode&&(t.mode="showing"))}this._applyTextPreferences()}else f(this._textTracks)},r._applyTextPreferences=function(){this._textTrackLockedOn=void 0;for(var e=this._preferredTextTracks,t=0;t<e.length;t++){var r=e[t];if(null===r)return void f(this._textTracks);for(var n=(0,o.ZP)(r.language),i=0;i<this._textTracks.length;i++){var a=this._textTracks[i];if(a.track.normalized===n&&a.track.closedCaption===r.closedCaption)return p(this._textTracks,a.nativeTrack),void("showing"!==a.nativeTrack.mode&&(a.nativeTrack.mode="showing"))}}f(this._textTracks)},r._setOptimalVideoTrack=function(){if(null!==this._videoTrackLockedOn){if(void 0!==this._videoTrackLockedOn)for(var e=0;e<this._videoTracks.length;e++){var t=this._videoTracks[e].nativeTrack;if(t===this._videoTrackLockedOn)return void(t.selected=!0)}this._applyVideoPreferences()}else h(this._videoTracks)},r._applyVideoPreferences=function(){this._videoTrackLockedOn=void 0,this._preferredVideoTracks.some((function(e){return null===e}))&&h(this._videoTracks)},r._handleNativeTracksCallbacks=function(){var e=this;void 0!==this._nativeAudioTracks&&(this._nativeAudioTracks.onaddtrack=function(){var t,r;if(void 0!==e._nativeAudioTracks){var n=l(e._nativeAudioTracks);if(s(e._audioTracks,n)){e._audioTracks=n,e._setOptimalAudioTrack(),e.trigger("availableAudioTracksChange",e.getAvailableAudioTracks());var i=e._getPrivateChosenAudioTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeAudioTrack&&(e.trigger("audioTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeAudioTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeAudioTracks.onremovetrack=function(){var t,r;if(void 0!==e._nativeAudioTracks){var n=l(e._nativeAudioTracks);if(s(e._audioTracks,n)){e._audioTracks=n,e.trigger("availableAudioTracksChange",e.getAvailableAudioTracks());var i=e._getPrivateChosenAudioTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeAudioTrack&&(e.trigger("audioTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeAudioTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeAudioTracks.onchange=function(){if(void 0!==e._audioTracks)for(var t=0;t<e._audioTracks.length;t++){var r=e._audioTracks[t],n=r.track,i=r.nativeTrack;if(i.enabled)return void(i!==e._lastEmittedNativeAudioTrack&&(e.trigger("audioTrackChange",n),e._lastEmittedNativeAudioTrack=i))}null!==e._lastEmittedNativeAudioTrack&&(e.trigger("audioTrackChange",null),e._lastEmittedNativeAudioTrack=null)}),void 0!==this._nativeTextTracks&&(this._nativeTextTracks.onaddtrack=function(){var t,r;if(void 0!==e._nativeTextTracks){var n=u(e._nativeTextTracks);if(s(e._textTracks,n)){e._textTracks=n,e._setOptimalTextTrack(),e.trigger("availableTextTracksChange",e.getAvailableTextTracks());var i=e._getPrivateChosenTextTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeTextTrack&&(e.trigger("textTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeTextTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeTextTracks.onremovetrack=function(){var t,r;if(void 0!==e._nativeTextTracks){var n=u(e._nativeTextTracks);if(s(e._textTracks,n)){e._textTracks=n,e._setOptimalTextTrack(),e.trigger("availableTextTracksChange",e.getAvailableTextTracks());var i=e._getPrivateChosenTextTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeTextTrack&&(e.trigger("textTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeTextTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeTextTracks.onchange=function(){if(void 0!==e._textTracks)for(var t=0;t<e._textTracks.length;t++){var r=e._textTracks[t],n=r.track,i=r.nativeTrack;if("showing"===i.mode)return void(i!==e._lastEmittedNativeTextTrack&&(e.trigger("textTrackChange",n),e._lastEmittedNativeTextTrack=i))}null!==e._lastEmittedNativeTextTrack&&(e.trigger("textTrackChange",null),e._lastEmittedNativeTextTrack=null)}),void 0!==this._nativeVideoTracks&&(this._nativeVideoTracks.onaddtrack=function(){var t,r;if(void 0!==e._nativeVideoTracks){var n=c(e._nativeVideoTracks);if(s(e._videoTracks,n)){e._videoTracks=n,e._setOptimalVideoTrack(),e.trigger("availableVideoTracksChange",e.getAvailableVideoTracks());var i=e._getPrivateChosenVideoTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeVideoTrack&&(e.trigger("videoTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeVideoTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeVideoTracks.onremovetrack=function(){var t,r;if(void 0!==e._nativeVideoTracks){var n=c(e._nativeVideoTracks);if(s(e._videoTracks,n)){e._videoTracks=n,e._setOptimalVideoTrack(),e.trigger("availableVideoTracksChange",e.getAvailableVideoTracks());var i=e._getPrivateChosenVideoTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeVideoTrack&&(e.trigger("videoTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeVideoTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeVideoTracks.onchange=function(){if(void 0!==e._videoTracks)for(var t=0;t<e._videoTracks.length;t++){var r=e._videoTracks[t],n=r.track,i=r.nativeTrack;if(i.selected)return void(i!==e._lastEmittedNativeVideoTrack&&(e.trigger("videoTrackChange",n),e._lastEmittedNativeVideoTrack=i))}null!==e._lastEmittedNativeVideoTrack&&(e.trigger("videoTrackChange",null),e._lastEmittedNativeVideoTrack=null)})},t}(a.Z);function f(e){for(var t=0;t<e.length;t++)e[t].nativeTrack.mode="disabled"}function p(e,t){for(var r=0;r<e.length;r++){var n=e[r].nativeTrack;n===t||"showing"!==n.mode&&"hidden"!==n.mode||(n.mode="disabled")}}function h(e){for(var t=0;t<e.length;t++)e[t].nativeTrack.selected=!1}},8745:function(e,t,r){"use strict";r.d(t,{ZP:function(){return Ze}});var n=r(4370),i=r(4944),a=r(8170),o=r(5631),s=r(9795),l=r(7006),u=r(6008),c=r(1015),d=r(3068),f=r(7746),p=r(5709),h=r(486),g=r(6738),m=r(1473),v=r(3887),y=r(4791),b=r(6968),k=r(3635),_=(0,b.pX)((0,k.tG)("pssh"),0);function E(e){for(var t=new Uint8Array,r=[],n=0;n<e.length;){if(e.length<n+8||(0,b.pX)(e,n+4)!==_)return v.Z.warn("Compat: Unrecognized initialization data. Use as is."),e;var i=(0,b.pX)(new Uint8Array(e),n);if(n+i>e.length)return v.Z.warn("Compat: Unrecognized initialization data. Use as is."),e;var a=e.subarray(n,n+i);w(r,a)?v.Z.warn("Compat: Duplicated PSSH found in initialization data, removing it."):(t=(0,b.zo)(t,a),r.push(e)),n+=i}return n!==e.length?(v.Z.warn("Compat: Unrecognized initialization data. Use as is."),e):t}function w(e,t){for(var r=0;r<e.length;r++){var n=e[r];if((0,y.Z)(t,n))return!0}return!1}var S=r(1410),T=r(2297),x=r(8117);function O(e,t){return(0,S.P)((function(){var r,n;v.Z.debug("Compat: Calling generateRequest on the MediaKeySession");try{n=function(e){v.Z.info("Compat: Trying to move CENC PSSH from init data at the end of it.");for(var t=!1,r=new Uint8Array,n=new Uint8Array,i=0;i<e.length;){if(e.length<i+8||(0,b.pX)(e,i+4)!==_)throw v.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");var a=(0,b.pX)(new Uint8Array(e),i);if(i+a>e.length)throw v.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");var o=e.subarray(i,i+a);if(16===e[i+12]&&119===e[i+13]&&239===e[i+14]&&236===e[i+15]&&192===e[i+16]&&178===e[i+17]&&77===e[i+18]&&2===e[i+19]&&172===e[i+20]&&227===e[i+21]&&60===e[i+22]&&30===e[i+23]&&82===e[i+24]&&226===e[i+25]&&251===e[i+26]&&75===e[i+27]){var s=(0,T.Xj)(o),l=null===s?void 0:o[s[1]];v.Z.info("Compat: CENC PSSH found with version",l),void 0===l?v.Z.warn("Compat: could not read version of CENC PSSH"):t===(1===l)?r=(0,b.zo)(r,o):1===l?(v.Z.warn("Compat: cenc version 1 encountered, removing every other cenc pssh box."),r=o,t=!0):v.Z.warn("Compat: filtering out cenc pssh box with wrong version",l)}else n=(0,b.zo)(n,o);i+=a}if(i!==e.length)throw v.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");return(0,b.zo)(n,r)}(t.data)}catch(a){n=t.data}var i=null!==(r=t.type)&&void 0!==r?r:"";return(0,x.Z)(e.generateRequest(i,n)).pipe((0,h.K)((function(t){if(""!==i||!(t instanceof TypeError))throw t;return v.Z.warn('Compat: error while calling `generateRequest` with an empty initialization data type. Retrying with a default "cenc" value.',t),(0,x.Z)(e.generateRequest("cenc",n))})))}))}var P=r(944),A=r(5157),C=r(7714),M=r(8418),I=r(2793),R=r(1946),D=r(5602),j=r(3485),L=r(4379),N=r(5561);function U(e){if(""===e.sessionId)return!1;var t=e.keyStatuses,r=[];return t.forEach((function(e){r.push(e)})),r.length<=0?(v.Z.debug("EME: isSessionUsable: MediaKeySession given has an empty keyStatuses",e),!1):(0,C.Z)(r,"expired")?(v.Z.debug("EME: isSessionUsable: MediaKeySession given has an expired key",e.sessionId),!1):(0,C.Z)(r,"internal-error")?(v.Z.debug("EME: isSessionUsable: MediaKeySession given has a key with an internal-error",e.sessionId),!1):(v.Z.debug("EME: isSessionUsable: MediaKeySession is usable",e.sessionId),!0)}function B(e,t,r){return(0,S.P)((function(){var n=e.loadedSessionsStore,i=e.persistentSessionsStore;return"temporary"===r?F(n,t):null===i?(v.Z.warn("EME: Cannot create persistent MediaKeySession, PersistentSessionsStore not created."),F(n,t)):function(e,t,r){return(0,S.P)((function(){v.Z.info("EME: Creating persistent MediaKeySession");var n=e.createSession(r,"persistent-license"),i=t.getAndReuse(r);if(null===i)return(0,a.of)({type:"created-session",value:{mediaKeySession:n,sessionType:"persistent-license"}});var o=function(){return v.Z.info("EME: Removing previous persistent session."),null!==t.get(r)&&t.delete(r),e.closeSession(r).pipe((0,p.U)((function(){return{type:"created-session",value:{mediaKeySession:e.createSession(r,"persistent-license"),sessionType:"persistent-license"}}})))};return function(e,t){return(0,S.P)((function(){return v.Z.info("Compat/EME: Load persisted session",t),(0,N.Z)((function(){return(0,x.Z)(e.load(t))}),void 0)})).pipe((0,f.zg)((function(t){return!t||e.keyStatuses.size>0?(0,a.of)(t):new L.y((function(e){var r=setTimeout((function(){e.next(t),e.complete()}),0);return function(){clearTimeout(r)}}))})))}(n,i.sessionId).pipe((0,f.zg)((function(e){return e?e&&U(n)?(t.add(r,n),v.Z.info("EME: Succeeded to load persistent session."),(0,a.of)({type:"loaded-persistent-session",value:{mediaKeySession:n,sessionType:"persistent-license"}})):(v.Z.warn("EME: Previous persistent session not usable anymore."),o()):(v.Z.warn("EME: No data stored for the loaded session"),t.delete(r),(0,a.of)({type:"created-session",value:{mediaKeySession:n,sessionType:"persistent-license"}}))})),(0,h.K)((function(e){return v.Z.warn("EME: Unable to load persistent session: "+(e instanceof Error?e.toString():"Unknown Error")),o()})))}))}(n,i,t)}))}function F(e,t){return(0,S.P)((function(){v.Z.info("EME: Creating a new temporary session");var r=e.createSession(t,"temporary");return(0,a.of)({type:"created-session",value:{mediaKeySession:r,sessionType:"temporary"}})}))}var z=P.Z.EME_MAX_SIMULTANEOUS_MEDIA_KEY_SESSIONS;function V(e,t,r){return(0,S.P)((function(){var i=null,l=t.loadedSessionsStore,u=t.persistentSessionsStore,c=l.getAndReuse(e);if(null!==c){if(U(i=c.mediaKeySession))return v.Z.info("EME: Reuse loaded session",i.sessionId),(0,a.of)({type:"loaded-open-session",value:{mediaKeySession:i,sessionType:c.sessionType,initializationData:e}});null!==u&&u.delete(e)}return(null!=i?l.closeSession(e):(0,a.of)(null)).pipe((0,f.zg)((function(){return(0,s.z)(function(e,t){if(t<0||t>=e.getLength())return o.E;for(var r=[],i=e.getAll().slice(),a=i.length-t,s=0;s<a;s++){var l=i[s],u=e.closeSession(l.initializationData).pipe((0,D.h)({type:"cleaned-old-session",value:l}),(0,j.O)({type:"cleaning-old-session",value:l}));r.push(u)}return n.T.apply(void 0,r)}(l,z-1),B(t,e,r).pipe((0,p.U)((function(t){return{type:t.type,value:{mediaKeySession:t.value.mediaKeySession,sessionType:t.value.sessionType,initializationData:e}}}))))})))}))}var $=r(2135),W=r(6139),K=r(6033),H=r(3666),G=r(9592),Z=P.Z.EME_DEFAULT_WIDEVINE_ROBUSTNESSES,q=P.Z.EME_KEY_SYSTEMS;function X(e,t,r){var n=t.getConfiguration();if(H.fq||null==n)return null;var i=e.filter((function(e){return e.type===r.type&&(!0!==e.persistentLicense&&!0!==e.persistentStateRequired||"required"===n.persistentState)&&(!0!==e.distinctiveIdentifierRequired||"required"===n.distinctiveIdentifier)}))[0];return null!=i?{keySystemOptions:i,keySystemAccess:t}:null}function Y(e,t){return(0,S.P)((function(){v.Z.info("EME: Searching for compatible MediaKeySystemAccess");var r=K.Z.getState(e);if(null!=r){var n=X(t,r.mediaKeySystemAccess,r.keySystemOptions);if(null!==n)return v.Z.info("EME: Found cached compatible keySystem",n),(0,a.of)({type:"reuse-media-key-system-access",value:{mediaKeySystemAccess:n.keySystemAccess,options:n.keySystemOptions}})}var o=t.reduce((function(e,t){var r,n=q[t.type];return r=null!=n?n.map((function(e){return{keyName:t.type,keyType:e,keySystemOptions:t}})):[{keyName:function(e){for(var t=0,r=Object.keys(q);t<r.length;t++){var n=r[t];if((0,C.Z)(q[n],e))return n}}(t.type),keyType:t.type,keySystemOptions:t}],e.concat(r)}),[]);return function e(t){if(t>=o.length){var r=new A.Z("INCOMPATIBLE_KEYSYSTEMS","No key system compatible with your wanted configuration has been found in the current browser.");return(0,i._)(r)}if(null==W.N){var n=Error("requestMediaKeySystemAccess is not implemented in your browser.");return(0,i._)(n)}var a=o[t],s=a.keyName,l=a.keyType,u=a.keySystemOptions,c=function(e,t){var r=["temporary"],n="optional",i="optional";!0===t.persistentLicense&&(n="required",r.push("persistent-license")),!0===t.persistentStateRequired&&(n="required"),!0===t.distinctiveIdentifierRequired&&(i="required");var a=null!=t.videoRobustnesses?t.videoRobustnesses:"widevine"===e?Z:[],o=null!=t.audioRobustnesses?t.audioRobustnesses:"widevine"===e?Z:[];return 0===a.length&&a.push(void 0),0===o.length&&o.push(void 0),[{initDataTypes:["cenc"],videoCapabilities:(0,G.Z)(a,(function(e){return[{contentType:'video/mp4;codecs="avc1.4d401e"',robustness:e},{contentType:'video/mp4;codecs="avc1.42e01e"',robustness:e},{contentType:'video/webm;codecs="vp8"',robustness:e}]})),audioCapabilities:(0,G.Z)(o,(function(e){return[{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:e},{contentType:"audio/webm;codecs=opus",robustness:e}]})),distinctiveIdentifier:i,persistentState:n,sessionTypes:r}]}(s,u);return v.Z.debug("EME: Request keysystem access "+l+","+(t+1)+" of "+o.length,c),(0,W.N)(l,c).pipe((0,p.U)((function(e){return v.Z.info("EME: Found compatible keysystem",l,c),{type:"create-media-key-system-access",value:{options:u,mediaKeySystemAccess:e}}})),(0,h.K)((function(){return v.Z.debug("EME: Rejected access to keysystem",l,c),e(t+1)})))}(0)}))}var Q=r(2870),J=new WeakMap,ee=function(e){J.set(e,null)},te=function(e,t){var r=t instanceof Uint8Array?t:new Uint8Array(t instanceof ArrayBuffer?t:t.buffer),n=(0,Q.Z)(r);J.set(e,{hash:n,serverCertificate:r})},re=function(e){var t=J.get(e);return void 0!==t&&(null!==t||void 0)},ne=function(e,t){var r=J.get(e);if(void 0===r||null===r)return!1;var n=r.hash,i=r.serverCertificate,a=t instanceof Uint8Array?t:new Uint8Array(t instanceof ArrayBuffer?t:t.buffer);if((0,Q.Z)(a)!==n||i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(i[o]!==a[o])return!1;return!0},ie=r(8821),ae=r(9604),oe=function(){function e(){this._storage=[]}var t=e.prototype;return t.getAll=function(){return this._storage.map((function(e){return e.value}))},t.getLength=function(){return this._storage.length},t.get=function(e){var t=(0,Q.Z)(e.data),r=this._findIndex(e,t);return r>=0?this._storage[r].value:void 0},t.getAndReuse=function(e){var t=(0,Q.Z)(e.data),r=this._findIndex(e,t);if(-1!==r){var n=this._storage.splice(r,1)[0];return this._storage.push(n),n.value}},t.store=function(e,t){var r=(0,Q.Z)(e.data),n=this._findIndex(e,r);n>=0&&this._storage.splice(n,1),this._storage.push({initData:e.data,initDataType:e.type,initDataHash:r,value:t})},t.storeIfNone=function(e,t){var r=(0,Q.Z)(e.data);return!(this._findIndex(e,r)>=0)&&(this._storage.push({initData:e.data,initDataType:e.type,initDataHash:r,value:t}),!0)},t.remove=function(e){var t=(0,Q.Z)(e.data),r=this._findIndex(e,t);if(-1!==r)return this._storage.splice(r,1)[0].value},t._findIndex=function(e,t){for(var r=e.type,n=e.data,i=this._storage.length-1;i>=0;i--){var a=this._storage[i];if(t===a.initDataHash&&r===a.initDataType&&(0,y.Z)(n,a.initData))return i}return-1},e}(),se=function(){function e(e){this._mediaKeys=e,this._storage=new oe}var t=e.prototype;return t.get=function(e){var t=this._storage.get(e);return void 0===t?null:{mediaKeySession:t.mediaKeySession,sessionType:t.sessionType}},t.getAndReuse=function(e){var t=this._storage.getAndReuse(e);return void 0===t?null:{mediaKeySession:t.mediaKeySession,sessionType:t.sessionType}},t.createSession=function(e,t){var r=this;if(void 0!==this._storage.get(e))throw new A.Z("MULTIPLE_SESSIONS_SAME_INIT_DATA","This initialization data was already stored.");var n=this._mediaKeys.createSession(t),i={mediaKeySession:n,sessionType:t,initializationData:e};return(0,R.Z)(n.closed)||n.closed.then((function(){var t=r._storage.get(e);void 0!==t&&t.mediaKeySession===n&&r._storage.remove(e)})).catch((function(e){v.Z.warn("EME-LSS: MediaKeySession.closed rejected: "+e)})),v.Z.debug("EME-LSS: Add MediaKeySession",i),this._storage.store(e,i),n},t.closeSession=function(e){var t=this;return(0,S.P)((function(){var r=t._storage.remove(e);return void 0===r?(v.Z.warn("EME-LSS: No MediaKeySession found with the given initData and initDataType"),o.E):le(r.mediaKeySession)}))},t.getLength=function(){return this._storage.getLength()},t.getAll=function(){return this._storage.getAll()},t.closeAllSessions=function(){var e=this;return(0,S.P)((function(){var t=e._storage.getAll().map((function(e){return le(e.mediaKeySession)}));return v.Z.debug("EME-LSS: Closing all current MediaKeySessions",t.length),e._storage=new oe,(0,s.z)(n.T.apply(void 0,t).pipe((0,g.l)()),(0,a.of)(null))}))},e}();function le(e){return v.Z.debug("EME-LSS: Close MediaKeySession",e),(t=e,(0,ie.S3)((0,x.Z)(t.close()),(0,ae.H)(1e3).pipe((0,f.zg)((function(){return(0,x.Z)(t.update(new Uint8Array(1))).pipe((0,p.U)((function(){throw new Error("Compat: Couldn't know if session is closed")})),(0,h.K)((function(e){if(e instanceof Error&&"The session is already closed."===e.message)return(0,a.of)(null);var r=(0,x.Z)(t.closed);return(0,ie.S3)(r,(0,ae.H)(1e3).pipe((0,p.U)((function(){throw new Error("Compat: Couldn't know if session is closed")}))))})))}))))).pipe((0,h.K)((function(e){return v.Z.error("EME-LSS: Could not close MediaKeySession: "+(e instanceof Error?e.toString():"Unknown error")),(0,a.of)(null)})));var t}var ue=r(811),ce=r(9689),de=r(6923),fe=function(){function e(e){this.initData=e}return e.prototype.toJSON=function(){return(0,ce.J)(this.initData)},e.decode=function(e){return(0,ce.K)(e)},e}(),pe=function(){function e(e){!function(e){(0,ue.u)(e,{save:"function",load:"function"},"licenseStorage")}(e),this._entries=[],this._storage=e;try{this._entries=this._storage.load(),Array.isArray(this._entries)||(this._entries=[])}catch(t){v.Z.warn("EME-PSS: Could not get entries from license storage",t),this.dispose()}}var t=e.prototype;return t.getLength=function(){return this._entries.length},t.getAll=function(){return this._entries},t.get=function(e){var t=this._getIndex(e);return-1===t?null:this._entries[t]},t.getAndReuse=function(e){var t=this._getIndex(e);if(-1===t)return null;var r=this._entries.splice(t,1)[0];return this._entries.push(r),r},t.add=function(e,t){if(!(0,R.Z)(t)&&(0,de.Z)(t.sessionId)){var r=t.sessionId,n=this.get(e);if(null===n||n.sessionId!==r){null!==n&&this.delete(e);var i=(0,Q.Z)(e.data);v.Z.info("EME-PSS: Add new session",r,t),this._entries.push({version:2,sessionId:r,initData:new fe(e.data),initDataHash:i,initDataType:e.type}),this._save()}}else v.Z.warn("EME-PSS: Invalid Persisten Session given.")},t.delete=function(e){var t=this._getIndex(e);if(-1!==t){var r=this._entries[t];v.Z.warn("EME-PSS: Delete session from store",r),this._entries.splice(t,1),this._save()}else v.Z.warn("EME-PSS: initData to delete not found.")},t.deleteOldSessions=function(e){v.Z.info("EME-PSS: Deleting last "+e+" sessions."),e<=0||(e<=this._entries.length?this._entries.splice(0,e):(v.Z.warn("EME-PSS: Asked to remove more information that it contains",e,this._entries.length),this._entries=[]),this._save())},t.dispose=function(){this._entries=[],this._save()},t._getIndex=function(e){for(var t=(0,Q.Z)(e.data),r=0;r<this._entries.length;r++){var n=this._entries[r];if(n.initDataType===e.type)if(2===n.version){if(n.initDataHash===t)try{var i="string"===typeof n.initData?fe.decode(n.initData):n.initData.initData;if((0,y.Z)(i,e.data))return r}catch(a){v.Z.warn("EME-PSS: Could not decode initialization data.",a)}}else if(1===n.version){if(n.initDataHash===t){if("undefined"===typeof n.initData.length)return r;if((0,y.Z)(n.initData,e.data))return r}}else if(n.initData===t)return r}return-1},t._save=function(){try{this._storage.save(this._entries)}catch(e){v.Z.warn("EME-PSS: Could not save licenses in localStorage")}},e}();function he(e,t){return Y(e,t).pipe((0,f.zg)((function(t){var r=t.value,n=r.options,i=r.mediaKeySystemAccess,o=K.Z.getState(e),s=function(e){if(!0!==e.persistentLicense)return null;var t=e.licenseStorage;if(null==t)throw new A.Z("INVALID_KEY_SYSTEM","No license storage found for persistent license.");return v.Z.debug("EME: Set the given license storage"),new pe(t)}(n);if(null!==o&&"reuse-media-key-system-access"===t.type){var l=o.mediaKeys,u=o.loadedSessionsStore;if(!1===re(l)||!(0,R.Z)(n.serverCertificate)&&ne(l,n.serverCertificate))return(0,a.of)({mediaKeys:l,mediaKeySystemAccess:i,stores:{loadedSessionsStore:u,persistentSessionsStore:s},options:n})}return function(e){return v.Z.info("EME: Calling createMediaKeys on the MediaKeySystemAccess"),(0,N.Z)((function(){return(0,x.Z)(e.createMediaKeys())}),void 0).pipe((0,h.K)((function(e){var t=e instanceof Error?e.message:"Unknown error when creating MediaKeys.";throw new A.Z("CREATE_MEDIA_KEYS_ERROR",t)})))}(i).pipe((0,p.U)((function(e){v.Z.info("EME: MediaKeys created with success",e);var t=new se(e);return{mediaKeys:e,mediaKeySystemAccess:i,stores:{loadedSessionsStore:t,persistentSessionsStore:s},options:n}})))})))}function ge(e,t){return he(e,t).pipe((0,f.zg)((function(t){var r=t.mediaKeys,n=t.mediaKeySystemAccess,i=t.stores,o=t.options,s=new $.t(1),l=null!==e.mediaKeys&&void 0!==e.mediaKeys&&r!==e.mediaKeys?function(e){return(0,S.P)((function(){return K.Z.setState(e,null),(0,W.Y)(e,null)}))}(e):(0,a.of)(null);return v.Z.debug("EME: Disabling old MediaKeys"),l.pipe((0,f.zg)((function(){return v.Z.debug("EME: Disabled old MediaKeys. Waiting to attach new MediaKeys"),s.pipe((0,f.zg)((function(){var t={loadedSessionsStore:i.loadedSessionsStore,mediaKeySystemAccess:n,mediaKeys:r,keySystemOptions:o};return function(e,t){var r=t.keySystemOptions,n=t.loadedSessionsStore,i=t.mediaKeySystemAccess,o=t.mediaKeys;return(0,S.P)((function(){var t=K.Z.getState(e);return(null!==t&&t.loadedSessionsStore!==n?t.loadedSessionsStore.closeAllSessions():(0,a.of)(null)).pipe((0,f.zg)((function(){return K.Z.setState(e,{keySystemOptions:r,mediaKeySystemAccess:i,mediaKeys:o,loadedSessionsStore:n}),e.mediaKeys===o?(0,a.of)(null):(v.Z.info("EME: Attaching MediaKeys to the media element"),(0,W.Y)(e,o).pipe((0,d.b)((function(){v.Z.info("EME: MediaKeys attached with success")}))))})))}))}(e,t)})),(0,c.q)(1),(0,D.h)({type:"attached-media-keys",value:{mediaKeySystemAccess:n,mediaKeys:r,stores:i,options:o}}),(0,j.O)({type:"created-media-keys",value:{mediaKeySystemAccess:n,mediaKeys:r,stores:i,options:o,attachMediaKeys$:s}}))})))})))}var me=r(1506),ve=r.n(me),ye=r(5354),be=r.n(ye),ke=r(5957),_e=r.n(ke),Ee=r(211),we=r(3608),Se=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),Te=r(964),xe=r(655),Oe=r(9914),Pe=r(7604),Ae=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new Ce(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Ce=function(e){function t(t,r,n,i,a){var o=e.call(this,t)||this;return o.absoluteTimeout=r,o.waitFor=n,o.withObservable=i,o.scheduler=a,o.scheduleTimeout(),o}return xe.ZT(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,Pe.ft)(t,new Pe.IY(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(Pe.Ds);function Me(e,t){return void 0===t&&(t=Te.P),function(e,t,r){return void 0===r&&(r=Te.P),function(n){var i=(0,Oe.J)(e),a=i?+e-r.now():Math.abs(e);return n.lift(new Ae(a,i,t,r))}}(e,(0,i._)(new Se),t)}var Ie=r(1558),Re=r(2572),De="expired",je="internal-error",Le="output-restricted";function Ne(e,t,r){var n=[],i=[],a=t.fallbackOn,o=void 0===a?{}:a,s=t.throwOnLicenseExpiration;return e.keyStatuses.forEach((function(e,t){var a="string"===typeof e?[e,t]:[t,e],l=a[0],u=function(e,t){return-1!==e.indexOf("playready")&&(H.YM||H.kD)?(0,k.wO)(t):t}(r,new Uint8Array(a[1]));switch(l){case De:var c=new A.Z("KEY_STATUS_CHANGE_ERROR","A decryption key expired");if(!1!==s)throw c;n.push({type:"warning",value:c});break;case je:var d=new A.Z("KEY_STATUS_CHANGE_ERROR","An invalid key status has been encountered: "+l);if(!0!==o.keyInternalError)throw d;n.push({type:"warning",value:d}),i.push(u);break;case Le:var f=new A.Z("KEY_STATUS_CHANGE_ERROR","An invalid key status has been encountered: "+l);if(!0!==o.keyOutputRestricted)throw f;n.push({type:"warning",value:f}),i.push(u)}})),[n,i]}var Ue=m.Xe,Be=m.GJ,Fe=m.eX,ze=function(e){function t(r){var n;return n=e.call(this)||this,Object.setPrototypeOf(ve()(n),t.prototype),n.sessionError=r,n}return be()(t,e),t}(_e()(Error));function Ve(e,t,r,i){v.Z.info("EME: Binding session events",e);var l,u,c=new Ee.xQ,g=t.getLicenseConfig,m=void 0===g?{}:g,y=Ue(e).pipe((0,p.U)((function(e){throw new A.Z("KEY_ERROR",e.type)}))),b=Fe(e).pipe((0,f.zg)((function(n){return function(e,t,r,n){v.Z.info("EME: keystatuseschange event received",e,n);var i=(0,S.P)((function(){return"function"!==typeof t.onKeyStatusesChange?o.E:(0,x.Z)(t.onKeyStatusesChange(n,e))})).pipe((0,p.U)((function(t){return{type:"key-status-change-handled",value:{session:e,license:t}}})),(0,h.K)((function(e){var t=new A.Z("KEY_STATUS_CHANGE_ERROR","Unknown `onKeyStatusesChange` error");throw!(0,R.Z)(e)&&(0,de.Z)(e.message)&&(t.message=e.message),t})));return(0,s.z)($e(e,t,r),i)}(e,t,r,n)}))),k=Be(e).pipe((0,f.zg)((function(r){var n=new Uint8Array(r.message),a=(0,de.Z)(r.messageType)?r.messageType:"license-request";return v.Z.info("EME: Received message event, type "+a,e,r),function(e,t){var r=t.baseDelay,n=t.maxDelay,i=t.totalRetry,a=t.shouldRetry,o=t.onRetry,s=0;return e.pipe((0,h.K)((function(e,t){if(!(0,R.Z)(a)&&!a(e)||s++>=i)throw e;"function"===typeof o&&o(e,s);var l=Math.min(r*Math.pow(2,s-1),n),u=(0,Re.Z)(l);return(0,ae.H)(u).pipe((0,f.zg)((function(){return t})))})))}((0,S.P)((function(){var e=t.getLicense(n,a),r=(0,R.Z)(m.timeout)?1e4:m.timeout;return(0,x.Z)(e).pipe(r>=0?Me(r):we.y)})),function(e,t){return{totalRetry:null!==t&&void 0!==t?t:2,baseDelay:200,maxDelay:3e3,shouldRetry:function(e){return e instanceof Se||(0,R.Z)(e)||!0!==e.noRetry},onRetry:function(t){return e.next({type:"warning",value:We(t)})}}}(c,m.retry)).pipe((0,p.U)((function(t){return{type:"key-message-handled",value:{session:e,license:t}}})),(0,h.K)((function(e){var t=We(e);if(!(0,R.Z)(e)&&!0===e.fallbackOnLastTry)throw v.Z.warn("EME: Last `getLicense` attempt failed. Blacklisting the current session."),new ze(t);throw t})),(0,j.O)({type:"session-message",value:{messageType:a,initializationData:i}}))}))),_=(0,n.T)(k,b).pipe((l=function(t){switch(t.type){case"key-message-handled":case"key-status-change-handled":return function(e,t,r){return(0,R.Z)(t)?(v.Z.info("EME: No message given, skipping session.update"),(0,a.of)({type:"no-update",value:{initializationData:r}})):(v.Z.info("EME: Updating MediaKeySession with message"),(0,x.Z)(e.update(t)).pipe((0,h.K)((function(e){var t=e instanceof Error?e.toString():"`session.update` failed";throw new A.Z("KEY_UPDATE_ERROR",t)})),(0,d.b)((function(){v.Z.info("EME: MediaKeySession update succeeded.")})),(0,D.h)({type:"session-updated",value:{session:e,license:t,initializationData:r}})))}(e,t.value.license,i);default:return(0,a.of)(t)}},(0,f.zg)(l,u,1))),E=(0,n.T)($e(e,t,r),_,y,c);return(0,R.Z)(e.closed)?E:E.pipe((0,Ie.R)((0,x.Z)(e.closed)))}function $e(e,t,r){return(0,S.P)((function(){var n=Ne(e,t,r),i=n[0],l=n[1],u=i.length>0?a.of.apply(void 0,i):o.E,c=l.length>0?(0,a.of)({type:"blacklist-keys",value:l}):o.E;return(0,s.z)(u,c)}))}function We(e){if(e instanceof Se)return new A.Z("KEY_LOAD_TIMEOUT","The license server took too much time to respond.");var t=new A.Z("KEY_LOAD_ERROR","An error occured when calling `getLicense`.");return!(0,R.Z)(e)&&(0,de.Z)(e.message)&&(t.message=e.message),t}function Ke(e,t){return(0,S.P)((function(){return"function"!==typeof e.setServerCertificate?(v.Z.warn("EME: Could not set the server certificate. mediaKeys.setServerCertificate is not a function"),o.E):!0===re(e)?(v.Z.info("EME: The MediaKeys already has a server certificate, skipping..."),o.E):(v.Z.info("EME: Setting server certificate on the MediaKeys"),ee(e),function(e,t){return(0,S.P)((function(){return(0,N.Z)((function(){return(0,x.Z)(e.setServerCertificate(t))}),void 0).pipe((0,h.K)((function(e){v.Z.warn("EME: mediaKeys.setServerCertificate returned an error",e);var t=e instanceof Error?e.toString():"`setServerCertificate` error";throw new A.Z("LICENSE_SERVER_CERTIFICATE_ERROR",t)})))}))}(e,t).pipe((0,d.b)((function(){te(e,t)})),(0,g.l)(),(0,h.K)((function(e){return(0,a.of)({type:"warning",value:e})}))))}))}var He=P.Z.EME_MAX_STORED_PERSISTENT_SESSION_INFORMATION,Ge=m.Oh,Ze=function(e,t,r){v.Z.debug("EME: Starting EMEManager logic.");var m=new oe,y=new oe,b=ge(e,t).pipe((0,l.d)()),k=b.pipe((0,u.h)((function(e){return"attached-media-keys"===e.type})),(0,c.q)(1)),_=Ge(e).pipe((0,d.b)((function(e){v.Z.debug("EME: Encrypted event received from media element.",e)})),(0,I.Z)((function(e){var t=function(e){var t=e.initData,r=e.initDataType;return null==t?(v.Z.warn("Compat: No init data found on media encrypted event."),{initData:t,initDataType:r}):{initData:E(new Uint8Array(t)),initDataType:e.initDataType}}(e),r=t.initData,n=t.initDataType;return null===r?null:{type:n,data:r}}),null),(0,l.d)({refCount:!0})),w=r.pipe((0,d.b)((function(e){v.Z.debug("EME: Encrypted event received from Player",e)}))),S=(0,n.T)(w,_).pipe((0,f.zg)((function(e){return k.pipe((0,p.U)((function(t){return[e,t]})))})),(0,f.zg)((function(e,t){var r=e[0],l=e[1].value,u=l.mediaKeys,c=l.mediaKeySystemAccess,p=l.stores,b=l.options,k=y.get(r);if(void 0!==k){if(void 0===r.type){v.Z.error("EME: The current session has already been blacklisted but the current content is not known. Throwing.");var _=k.sessionError;return _.fatal=!0,(0,i._)(_)}return v.Z.warn("EME: The current session has already been blacklisted. Blacklisting content."),(0,a.of)({type:"blacklist-protection-data",value:r})}if(!m.storeIfNone(r,!0))return v.Z.debug("EME: Init data already received. Skipping it."),(0,a.of)({type:"init-data-ignored",value:{initializationData:r}});var E,w=b.serverCertificate,S=0!==t||(0,R.Z)(w)?o.E:Ke(u,w);return!0!==b.persistentLicense?E="temporary":function(e){var t=e.getConfiguration().sessionTypes;return void 0!==t&&(0,C.Z)(t,"persistent-license")}(c)?E="persistent-license":(v.Z.warn('EME: Cannot create "persistent-license" session: not supported'),E="temporary"),(0,s.z)(S,V(r,p,E)).pipe((0,f.zg)((function(e){switch(e.type){case"warning":return(0,a.of)(e);case"cleaning-old-session":return m.remove(e.value.initializationData),o.E;case"cleaned-old-session":return o.E;case"created-session":case"loaded-open-session":case"loaded-persistent-session":break;default:(0,M.Z)(e)}var t=e.value,i=t.mediaKeySession,s=t.sessionType,l="created-session"!==e.type?o.E:O(i,r).pipe((0,d.b)((function(){var e=p.persistentSessionsStore;"persistent-license"===s&&null!==e&&(function(e,t){if(!(isNaN(t)||t<0||t>=e.getLength())){var r=e.getLength(),n=r-t;v.Z.info("EME: Too many stored persistent sessions, removing some.",r,n),e.deleteOldSessions(n)}}(e,He-1),e.add(r,i))})),(0,h.K)((function(e){throw new A.Z("KEY_GENERATE_REQUEST_ERROR",e instanceof Error?e.toString():"Unknown error")})),(0,g.l)());return(0,n.T)(Ve(i,b,c.keySystem,r),l).pipe((0,h.K)((function(e){if(!(e instanceof ze))throw e;y.store(r,e);var t=e.sessionError;if(void 0===r.type)throw v.Z.error("EME: Current session blacklisted and content not known. Throwing."),t.fatal=!0,t;return v.Z.warn("EME: Current session blacklisted. Blacklisting content."),(0,a.of)({type:"warning",value:t},{type:"blacklist-protection-data",value:r})})))})))})));return(0,n.T)(b,_.pipe((0,p.U)((function(e){return{type:"encrypted-event-received",value:e}}))),S)}},6033:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=new WeakMap,i={setState:function(e,t){n.set(e,t)},getState:function(e){var t=n.get(e);return void 0===t?null:t},clearState:function(e){n.set(e,null)}}},4507:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(4370),i=r(8170),a=r(5709),o=r(6139),s=r(1473),l=r(5157),u=r(7874),c=r(3887),d=s.Oh;function f(e,t,r){var s=(0,n.T)(d(e),r);return null==u.Z.emeManager?(0,n.T)(s.pipe((0,a.U)((function(){throw c.Z.error("Init: Encrypted event but EME feature not activated"),new l.Z("MEDIA_IS_ENCRYPTED_ERROR","EME feature not activated.")}))),(0,i.of)({type:"eme-disabled"})):0===t.length?(0,n.T)(s.pipe((0,a.U)((function(){throw c.Z.error("Init: Ciphered media and no keySystem passed"),new l.Z("MEDIA_IS_ENCRYPTED_ERROR","Media is encrypted and no `keySystems` given")}))),(0,i.of)({type:"eme-disabled"})):"function"!==typeof o.N?(0,n.T)(s.pipe((0,a.U)((function(){throw c.Z.error("Init: Encrypted event but no EME API available"),new l.Z("MEDIA_IS_ENCRYPTED_ERROR","Encryption APIs not found.")}))),(0,i.of)({type:"eme-disabled"})):(c.Z.debug("Init: Creating EMEManager"),u.Z.emeManager(e,t,r))}},8343:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n={loaded:function(e){return{type:"loaded",value:{segmentBuffersStore:e}}},decipherabilityUpdate:function(e){return{type:"decipherabilityUpdate",value:e}},manifestReady:function(e){return{type:"manifestReady",value:{manifest:e}}},manifestUpdate:function(){return{type:"manifestUpdate",value:null}},nullRepresentation:function(e,t){return{type:"representationChange",value:{type:e,representation:null,period:t}}},reloadingMediaSource:function(){return{type:"reloading-media-source",value:void 0}},stalled:function(e){return{type:"stalled",value:e}},unstalled:function(){return{type:"unstalled",value:null}},warning:function(e){return{type:"warning",value:e}}}},2795:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(9795),i=r(8170),a=r(6008),o=r(1015),s=r(5602),l=r(486),u=r(3068),c=r(7006),d=r(7746),f=r(3666);function p(){return f.op}var h=r(1410),g=r(8117),m=r(5561),v=r(3774),y=r(1473),b=r(3887);function k(e,t,r){var l=e.pipe((0,a.h)((function(e){var n=e.seeking,i=e.stalled,a=e.readyState,o=e.currentRange;return!n&&null===i&&(function(e,t){return!e||!f.SB||t}(r,t.hasAttribute("playsinline"))?(a>=4||3===a&&null!==o)&&(!p()||t.duration>0):a>=1&&t.duration>0)})),(0,o.q)(1),(0,s.h)("can-play"));return p()&&0===t.duration?(0,n.z)((0,i.of)("not-loaded-metadata"),l):l}function _(e){return function(e){return(0,h.P)((function(){return(0,m.Z)((function(){return(0,g.Z)(e.play())}),void 0)}))}(e).pipe((0,s.h)("autoplay"),(0,l.K)((function(e){if(e instanceof Error&&"NotAllowedError"===e.name)return b.Z.warn("Init: Media element can't play. It may be due to browser auto-play policies."),(0,i.of)("autoplay-blocked");throw e})))}function E(e){var t=e.clock$,r=e.mediaElement,n=e.startTime,a=e.mustAutoPlay,s=e.isDirectfile,l=function(e){return e.readyState>=v.cX.HAVE_METADATA?(0,i.of)(null):(0,y.K4)(e).pipe((0,o.q)(1))}(r).pipe((0,o.q)(1),(0,u.b)((function(){b.Z.info("Init: Set initial time",n),r.currentTime="function"===typeof n?n():n})),(0,c.d)({refCount:!0})),f=l.pipe((0,d.zg)((function(){return k(t,r,s).pipe((0,u.b)((function(){return b.Z.info("Init: Can begin to play content")})),(0,d.zg)((function(e){return"can-play"===e?a?_(r):(0,i.of)("loaded"):(0,i.of)(e)})))})),(0,c.d)({refCount:!0}));return{seek$:l,load$:f}}},8969:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(5631),i=r(8170),a=r(4370),o=r(7746),s=r(9095),l=r(6738),u=r(5709),c=r(6008),d=r(1015),f=r(3756),p=r(4379),h=r(3887),g=r(5767),m=r(3714),v=r(8025),y=r(4507),b=r(8343),k=r(2795),_=r(2447),E=r(2983);function w(e){var t=e.autoPlay,r=e.clock$,w=e.keySystems,S=e.mediaElement,T=e.speed$,x=e.startAt,O=e.url;if((0,g.Z)(S),null==O)throw new Error("No URL for a DirectFile content");var P=function(e,t){return new p.y((function(r){return h.Z.info("Setting URL to Element",t,e),e.src=t,r.next(void 0),function(){(0,g.Z)(e)}}))}(S,O);h.Z.debug("Init: Calculating initial time");var A=function(){return function(e,t){if(null==t)return 0;if(null!=t.position)return t.position;if(null!=t.wallClockTime)return t.wallClockTime;if(null!=t.fromFirstPosition)return t.fromFirstPosition;var r=e.duration;if(null==r||!isFinite(r))return h.Z.warn("startAt.fromLastPosition set but no known duration, beginning at 0."),0;if("number"===typeof t.fromLastPosition)return Math.max(0,r+t.fromLastPosition);if(null!=t.percentage){var n=t.percentage;return n>=100?r:n<=0?0:r*(+n/100)}return 0}(S,x)};h.Z.debug("Init: Initial time calculated:",A);var C=(0,k.Z)({clock$:r,mediaElement:S,startTime:A,mustAutoPlay:t,isDirectfile:!0}),M=C.seek$,I=C.load$,R=P.pipe((0,o.zg)((function(){return(0,y.Z)(S,w,n.E)})),(0,v.Z)(),(0,s.B)()),D=(0,_.Z)(S),j=(0,E.Z)(S,T,r,{pauseWhenStalled:!0}).pipe((0,l.l)()),L=r.pipe((0,u.U)((function(e){return null===e.stalled?b.Z.unstalled():b.Z.stalled(e.stalled)}))),N=R.pipe((0,c.h)((function(e){return"created-media-keys"===e.type?(e.value.attachMediaKeys$.next(),!0):"eme-disabled"===e.type||"attached-media-keys"===e.type})),(0,d.q)(1),(0,f.j)(I),(0,o.zg)((function(e){if("autoplay-blocked"===e){var t=new m.Z("MEDIA_ERR_BLOCKED_AUTOPLAY","Cannot trigger auto-play automatically: your browser does not allow it.");return(0,i.of)(b.Z.warning(t),b.Z.loaded(null))}if("not-loaded-metadata"===e){var r=new m.Z("MEDIA_ERR_NOT_LOADED_METADATA","Cannot load automatically: your browser falsely announced having loaded the content.");return(0,i.of)(b.Z.warning(r))}return(0,i.of)(b.Z.loaded(null))}))),U=M.pipe((0,l.l)());return(0,a.T)(N,U,R,D,j,L)}},2447:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7027),i=r(7746),a=r(3714);function o(e){return(0,n.R)(e,"error").pipe((0,i.zg)((function(){switch(null==e.error?0:e.error.code){case 1:throw new a.Z("MEDIA_ERR_ABORTED","The fetching of the associated resource was aborted by the user's request.");case 2:throw new a.Z("MEDIA_ERR_NETWORK","A network error occurred which prevented the media from being successfully fetched");case 3:throw new a.Z("MEDIA_ERR_DECODE","An error occurred while trying to decode the media resource");case 4:throw new a.Z("MEDIA_ERR_SRC_NOT_SUPPORTED","The media resource has been found to be unsuitable.");default:throw new a.Z("MEDIA_ERR_UNKNOWN","The HTMLMediaElement errored due to an unknown reason.")}})))}},2983:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(8170),i=r(1410),a=r(5709),o=r(3485),s=r(1931),l=r(6381),u=r(3068),c=r(3887);function d(e,t,r,d){var f=d.pauseWhenStalled;return(void 0===f||f?r.pipe((0,a.U)((function(e){return null!==e.stalled})),(0,o.O)(!1),(0,s.x)()):(0,n.of)(!1)).pipe((0,l.w)((function(r){return r?(0,i.P)((function(){return c.Z.info("Init: Pause playback to build buffer"),e.playbackRate=0,(0,n.of)(0)})):t.pipe((0,u.b)((function(t){c.Z.info("Init: Resume playback speed",t),e.playbackRate=t})))})))}},7127:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5354),i=r.n(n),a=r(1410),o=r(8170),s=r(3887),l=r(4123),u=r(4309),c=function(e){function t(){var t;return s.Z.debug("ISB: Creating ImageSegmentBuffer"),(t=e.call(this)||this).bufferType="image",t._buffered=new u.Z,t}i()(t,e);var r=t.prototype;return r.pushChunk=function(e){var t=this;return(0,a.P)((function(){var r,n;if(s.Z.debug("ISB: appending new data."),null===e.data.chunk)return(0,o.of)(void 0);var i=e.data,a=i.appendWindow,l=i.chunk,u=l.start,c=l.end,d=l.timescale,f=null!==(r=a[0])&&void 0!==r?r:0,p=null!==(n=a[1])&&void 0!==n?n:1/0,h=u/d,g=c/d,m=Math.max(f,h),v=Math.min(p,g);return t._buffered.insert(m,v),null!==e.inventoryInfos&&t._segmentInventory.insertChunk(e.inventoryInfos),(0,o.of)(void 0)}))},r.removeBuffer=function(e,t){return(0,a.P)((function(){return s.Z.info("ISB: ignored image data remove order",e,t),(0,o.of)(void 0)}))},r.endOfSegment=function(e){var t=this;return(0,a.P)((function(){return t._segmentInventory.completeSegment(e),(0,o.of)(void 0)}))},r.getBufferedRanges=function(){return this._buffered},r.dispose=function(){s.Z.debug("ISB: disposing image SegmentBuffer"),this._buffered.remove(0,1/0)},t}(l.C)},5192:function(e,t,r){"use strict";r.d(t,{Z:function(){return U}});var n=r(5354),i=r.n(n),a=r(4370),o=r(6564),s=r(9795),l=r(8170),u=r(211),c=r(1410),d=r(3485),f=r(1198),p=r(5602),h=r(1558),g=r(1473),m=r(4379),v=r(5709),y=r(1931),b=r(3887),k=r(2203).Z?void 0:window.ResizeObserver,_=r(944),E=r(4123),w=r(4309),S=r(7874);function T(e,t){return Math.abs(e-t)<=.2}function x(e,t){for(var r=e.length-1;r>=0;r--)if(e[r].start<t)return e.slice(0,r+1);return[]}function O(e,t){for(var r=0;r<e.length;r++)if(e[r].end>t)return e.slice(r,e.length);return[]}function P(e,t,r){var n=Math.max(e.start,t),i=x(e.cues,t),a={start:e.start,end:n,cues:i},o=Math.min(r,e.end),s=O(e.cues,r);return[a,{start:o,end:e.end,cues:s}]}var A=function(){function e(){this._cuesBuffer=[]}var t=e.prototype;return t.get=function(e){for(var t=this._cuesBuffer,r=[],n=t.length-1;n>=0;n--){var i=t[n];if(e<i.end&&e>=i.start){for(var a=i.cues,o=0;o<a.length;o++)e>=a[o].start&&e<a[o].end&&r.push(a[o].element);return r}}return[]},t.remove=function(e,t){for(var r=Math.max(e,t),n=this._cuesBuffer,i=0;i<n.length;i++)if(n[i].end>e){var a=n[i];if(a.start>=r)return;if(a.end>=r){if(e<=a.start)a.cues=O(a.cues,r),a.start=r;else{var o=P(a,e,r),s=o[0],l=o[1];this._cuesBuffer[i]=s,n.splice(i+1,0,l)}return}a.start>=e?(n.splice(i,1),i--):(a.cues=x(a.cues,e),a.end=Math.max(e,a.start))}},t.insert=function(e,t,r){var n=this._cuesBuffer,i={start:t,end:r,cues:e};function a(e){var t=n[e];void 0===t||T(i.end,t.end)?n[e]=i:(t.start>=i.end||(t.cues=O(t.cues,i.end),t.start=i.end),n.splice(e,0,i))}for(var o=0;o<n.length;o++){var s=n[o];if(t<s.end){if(T(t,s.start)){if(T(r,s.end))return void(n[o]=i);if(r<s.end)return s.cues=O(s.cues,r),s.start=r,void n.splice(o,0,i);do{n.splice(o,1),s=n[o]}while(void 0!==s&&r>s.end);return void a(o)}if(t<s.start){if(r<s.start)return void n.splice(o,0,i);if(T(r,s.start))return s.start=r,void n.splice(o,0,i);if(T(r,s.end))return void n.splice(o,1,i);if(r<s.end)return s.cues=O(s.cues,r),s.start=r,void n.splice(o,0,i);do{n.splice(o,1),s=n[o]}while(void 0!==s&&r>s.end);return void a(o)}if(T(s.end,r))return s.cues=x(s.cues,t),s.end=t,void n.splice(o+1,0,i);if(s.end>r){var l=P(s,t,r),u=l[0],c=l[1];return this._cuesBuffer[o]=u,n.splice(o+1,0,i),void n.splice(o+2,0,c)}for(s.cues=x(s.cues,t),s.end=t,s=n[o+1];void 0!==s&&r>s.end;)n.splice(o,1),s=n[o];return void a(o)}}n.push(i)},e}();function C(e,t,r,n){for(var i=[t/r.columns,e/r.rows],a=n.getElementsByClassName("proportional-style"),o=0;o<a.length;o++){var s=a[o];if(s instanceof HTMLElement){var l=s.getAttribute("data-proportional-font-size");null===l||isNaN(+l)||(s.style.fontSize=String(+l*i[1])+"px");var u=s.getAttribute("data-proportional-width");null===u||isNaN(+u)||(s.style.width=String(+u*i[0])+"px");var c=s.getAttribute("data-proportional-height");null===c||isNaN(+c)||(s.style.height=String(+c*i[1])+"px");var d=s.getAttribute("data-proportional-line-height");null===d||isNaN(+d)||(s.style.lineHeight=String(+d*i[1])+"px");var f=s.getAttribute("data-proportional-left");null===f||isNaN(+f)||(s.style.left=String(+f*i[0])+"px");var p=s.getAttribute("data-proportional-top");null===p||isNaN(+p)||(s.style.top=String(+p*i[1])+"px");var h=s.getAttribute("data-proportional-padding-top");null===h||isNaN(+h)||(s.style.paddingTop=String(+h*i[1])+"px");var g=s.getAttribute("data-proportional-padding-bottom");null===g||isNaN(+g)||(s.style.paddingBottom=String(+g*i[1])+"px");var m=s.getAttribute("data-proportional-padding-left");null===m||isNaN(+m)||(s.style.paddingLeft=String(+m*i[0])+"px");var v=s.getAttribute("data-proportional-padding-right");null===v||isNaN(+v)||(s.style.paddingRight=String(+v*i[0])+"px")}}return a.length>0}var M=g.C1,I=g.ik,R=g.d5,D=_.Z.MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL,j=_.Z.TEXT_TRACK_SIZE_CHECKS_INTERVAL;function L(e,t){try{e.removeChild(t)}catch(r){b.Z.warn("HTSB: Can't remove text track: not in the element.")}}function N(e){var t=e.getAttribute("data-resolution-rows"),r=e.getAttribute("data-resolution-columns");if(null===t||null===r)return null;var n=parseInt(t,10),i=parseInt(r,10);return null===n||null===i?null:{rows:n,columns:i}}var U=function(e){function t(t,r){var n;return b.Z.debug("HTSB: Creating HTMLTextSegmentBuffer"),(n=e.call(this)||this).bufferType="text",n._buffered=new w.Z,n._videoElement=t,n._textTrackElement=r,n._clearSizeUpdates$=new u.xQ,n._destroy$=new u.xQ,n._buffer=new A,n._currentCues=[],function(e){var t=R(e),r=I(e),n=M(e),i=(0,a.T)(r,n),u=(0,o.F)(D).pipe((0,d.O)(null));return i.pipe((0,d.O)(null),(0,f.c)((0,s.z)(u.pipe((0,p.h)(!0),(0,h.R)(t)),(0,l.of)(!1))))}(n._videoElement).pipe((0,h.R)(n._destroy$)).subscribe((function(e){if(e){var t=Math.max(n._videoElement.currentTime+D/1e3/2,0),r=n._buffer.get(t);0===r.length?n._disableCurrentCues():n._displayCues(r)}else n._disableCurrentCues()})),n}i()(t,e);var r=t.prototype;return r.pushChunk=function(e){var t=this;return(0,c.P)((function(){return t.pushChunkSync(e),(0,l.of)(void 0)}))},r.removeBuffer=function(e,t){var r=this;return(0,c.P)((function(){return r.removeBufferSync(e,t),(0,l.of)(void 0)}))},r.endOfSegment=function(e){var t=this;return(0,c.P)((function(){return t._segmentInventory.completeSegment(e),(0,l.of)(void 0)}))},r.getBufferedRanges=function(){return this._buffered},r.dispose=function(){b.Z.debug("HTSB: Disposing HTMLTextSegmentBuffer"),this._disableCurrentCues(),this._buffer.remove(0,1/0),this._buffered.remove(0,1/0),this._destroy$.next(),this._destroy$.complete()},r.pushChunkSync=function(e){var t,r;b.Z.debug("HTSB: Appending new html text tracks");var n=e.data,i=n.timestampOffset,a=n.appendWindow,o=n.chunk;if(null!==o){var s,l,u=o.start,c=o.end,d=o.data,f=o.type,p=o.language,h=null!==(t=a[0])&&void 0!==t?t:0,g=null!==(r=a[1])&&void 0!==r?r:1/0,m=function(e,t,r,n){b.Z.debug("HTSB: Finding parser for html text tracks:",e);var i=S.Z.htmlTextTracksParsers[e];if("function"!==typeof i)throw new Error("no parser found for the given text track");b.Z.debug("HTSB: Parser found, parsing...");var a=i(t,r,n);return b.Z.debug("HTTB: Parsed successfully!",a),a}(f,d,i,p);if(0!==h&&g!==1/0){for(var v=0;v<m.length&&m[v].end<=h;)v++;for(m.splice(0,v),v=0;v<m.length&&m[v].start<h;)m[v].start=h,v++;for(v=m.length-1;v>=0&&m[v].start>=g;)v--;for(m.splice(v,m.length),v=m.length-1;v>=0&&m[v].end>g;)m[v].end=g,v--}if(void 0!==u)s=Math.max(h,u);else{if(m.length<=0)return void b.Z.warn("HTSB: Current text tracks have no cues nor start time. Aborting");b.Z.warn("HTSB: No start time given. Guessing from cues."),s=m[0].start}if(void 0!==c)l=Math.min(g,c);else{if(m.length<=0)return void b.Z.warn("HTSB: Current text tracks have no cues nor end time. Aborting");b.Z.warn("HTSB: No end time given. Guessing from cues."),l=m[m.length-1].end}l<=s?b.Z.warn("HTSB: Invalid text track appended: ","the start time is inferior or equal to the end time."):(null!==e.inventoryInfos&&this._segmentInventory.insertChunk(e.inventoryInfos),this._buffer.insert(m,s,l),this._buffered.insert(s,l))}},r.removeBufferSync=function(e,t){b.Z.debug("HTSB: Removing html text track data",e,t),this._buffer.remove(e,t),this._buffered.remove(e,t)},r._disableCurrentCues=function(){if(this._clearSizeUpdates$.next(),this._currentCues.length>0){for(var e=0;e<this._currentCues.length;e++)L(this._textTrackElement,this._currentCues[e].element);this._currentCues=[]}},r._displayCues=function(e){if(this._currentCues.length!==e.length||!this._currentCues.every((function(t,r){return t.element===e[r]}))){this._clearSizeUpdates$.next();for(var t=0;t<this._currentCues.length;t++)L(this._textTrackElement,this._currentCues[t].element);this._currentCues=[];for(var r=0;r<e.length;r++){var n=e[r],i=N(n);this._currentCues.push({element:n,resolution:i}),this._textTrackElement.appendChild(n)}var a=this._currentCues.filter((function(e){return null!==e.resolution}));a.length>0&&function(e,t){return(0,c.P)((function(){if(void 0!==k){var r=-1,n=-1;return new m.y((function(t){var i=new k((function(e){if(0!==e.length){var i=e[0].contentRect,a=i.height,o=i.width;a===r&&o===n||(r=a,n=o,t.next({height:a,width:o}))}else b.Z.error("Compat: Resized but no observed element.")}));return i.observe(e),function(){i.disconnect()}}))}return(0,o.F)(t).pipe((0,d.O)(null),(0,v.U)((function(){var t=e.getBoundingClientRect();return{height:t.height,width:t.width}})),(0,y.x)((function(e,t){return e.height===t.height&&e.width===t.width})))}))}(this._textTrackElement,j).pipe((0,h.R)(this._clearSizeUpdates$),(0,h.R)(this._destroy$)).subscribe((function(e){for(var t=e.height,r=e.width,n=0;n<a.length;n++){var i=a[n];C(t,r,i.resolution,i.element)}}))}},t}(E.C)},9059:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(5354),i=r.n(n),a=r(1410),o=r(8170),s=r(3666),l=r(3887);function u(e,t){if(s.vU&&function(e,t){var r=e.activeCues;if(null===r)return!1;for(var n=0;n<r.length;n++)if(r[n]===t)return!0;return!1}(e,t)){var r=e.mode;e.mode="hidden";try{e.removeCue(t)}catch(n){l.Z.warn("Compat: Could not remove cue from text track.")}e.mode=r}else try{e.removeCue(t)}catch(n){l.Z.warn("Compat: Could not remove cue from text track.")}}var c=r(4123),d=r(4309),f=r(7874),p=function(e){function t(t,r){var n;l.Z.debug("NTSB: Creating NativeTextSegmentBuffer"),n=e.call(this)||this;var i=function(e,t){var r,n,i,a;if(s.YM){var o=e.textTracks.length;(i=o>0?e.textTracks[o-1]:e.addTextTrack("subtitles")).mode=t?null!==(r=i.HIDDEN)&&void 0!==r?r:"hidden":null!==(n=i.SHOWING)&&void 0!==n?n:"showing"}else a=document.createElement("track"),e.appendChild(a),i=a.track,a.kind="subtitles",i.mode=t?"hidden":"showing";return{track:i,trackElement:a}}(t,r),a=i.track,o=i.trackElement;return n.bufferType="text",n._buffered=new d.Z,n._videoElement=t,n._track=a,n._trackElement=o,n}i()(t,e);var r=t.prototype;return r.pushChunk=function(e){var t=this;return(0,a.P)((function(){var r,n;if(l.Z.debug("NTSB: Appending new native text tracks"),null===e.data.chunk)return(0,o.of)(void 0);var i,a,s=e.data,u=s.timestampOffset,c=s.appendWindow,d=s.chunk,p=d.start,h=d.end,g=d.data,m=d.type,v=d.language,y=null!==(r=c[0])&&void 0!==r?r:0,b=null!==(n=c[1])&&void 0!==n?n:1/0,k=function(e,t,r,n){l.Z.debug("NTSB: Finding parser for native text tracks:",e);var i=f.Z.nativeTextTracksParsers[e];if("function"!==typeof i)throw new Error("no parser found for the given text track");l.Z.debug("NTSB: Parser found, parsing...");var a=i(t,r,n);return l.Z.debug("NTSB: Parsed successfully!",a),a}(m,g,u,v);if(0!==y&&b!==1/0){for(var _=0;_<k.length&&k[_].endTime<=y;)_++;for(k.splice(0,_),_=0;_<k.length&&k[_].startTime<y;)k[_].startTime=y,_++;for(_=k.length-1;_>=0&&k[_].startTime>=b;)_--;for(k.splice(_,k.length),_=k.length-1;_>=0&&k[_].endTime>b;)k[_].endTime=b,_--}if(void 0!==p)i=Math.max(y,p);else{if(k.length<=0)return l.Z.warn("NTSB: Current text tracks have no cues nor start time. Aborting"),(0,o.of)(void 0);l.Z.warn("NTSB: No start time given. Guessing from cues."),i=k[0].startTime}if(void 0!==h)a=Math.min(b,h);else{if(k.length<=0)return l.Z.warn("NTSB: Current text tracks have no cues nor end time. Aborting"),(0,o.of)(void 0);l.Z.warn("NTSB: No end time given. Guessing from cues."),a=k[k.length-1].endTime}if(a<=i)return l.Z.warn("NTSB: Invalid text track appended: ","the start time is inferior or equal to the end time."),(0,o.of)(void 0);if(k.length>0){var E=k[0],w=t._track.cues;null!==w&&w.length>0&&E.startTime<w[w.length-1].startTime&&t._removeData(E.startTime,1/0);for(var S=0;S<k.length;S++)t._track.addCue(k[S])}return t._buffered.insert(i,a),null!==e.inventoryInfos&&t._segmentInventory.insertChunk(e.inventoryInfos),(0,o.of)(void 0)}))},r.removeBuffer=function(e,t){var r=this;return(0,a.P)((function(){return r._removeData(e,t),(0,o.of)(void 0)}))},r.endOfSegment=function(e){var t=this;return(0,a.P)((function(){return t._segmentInventory.completeSegment(e),(0,o.of)(void 0)}))},r.getBufferedRanges=function(){return this._buffered},r.dispose=function(){l.Z.debug("NTSB: Aborting NativeTextSegmentBuffer"),this._removeData(0,1/0);var e=this._trackElement,t=this._videoElement;if(void 0!==e&&t.hasChildNodes())try{t.removeChild(e)}catch(r){l.Z.warn("NTSB: Can't remove track element from the video")}this._track.mode="disabled",void 0!==this._trackElement&&(this._trackElement.innerHTML="")},r._removeData=function(e,t){l.Z.debug("NTSB: Removing native text track data",e,t);var r=this._track,n=r.cues;if(null!==n)for(var i=n.length-1;i>=0;i--){var a=n[i],o=a.startTime,s=a.endTime;o>=e&&o<=t&&s<=t&&u(r,a)}this._buffered.remove(e,t)},t}(c.C)},4123:function(e,t,r){"use strict";r.d(t,{C:function(){return m},f:function(){return g}});var n=r(944),i=r(3887),a=r(5952),o=r(5278),s=n.Z.MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE,l=n.Z.MAX_MANIFEST_BUFFERED_DURATION_DIFFERENCE,u=n.Z.MINIMUM_SEGMENT_SIZE,c=function(){function e(){this._inventory=[]}var t=e.prototype;return t.reset=function(){this._inventory.length=0},t.synchronizeBuffered=function(e){for(var t=this._inventory,r=0,n=t[0],a=null===n||void 0===n?void 0:n.infos.adaptation.type,s=e.length,l=0;l<s;l++){if(void 0===n)return;var c=e.start(l),d=e.end(l);if(d-c<u)i.Z.warn("SI: skipped TimeRange when synchronizing because it was too small",a,c,d);else{for(var f=r;void 0!==n&&(0,o.Z)(n.bufferedEnd,n.end)-c<u;)n=t[++r];var g=null,m=r-f;if(m>0){var v=t[f+m-1];g={end:(0,o.Z)(v.bufferedEnd,v.end),precizeEnd:v.precizeEnd},i.Z.debug("SI: "+m+" segments GCed.",a),t.splice(f,m),r=f}if(void 0===n)return;if(d-(0,o.Z)(n.bufferedStart,n.start)>=u){if(p(n,c,g,a),r===t.length-1)return void h(n,d,a);n=t[++r];for(var y=(0,o.Z)(n.bufferedStart,n.start),b=(0,o.Z)(n.bufferedEnd,n.end),k=l<s-1?e.start(l+1):void 0;void 0!==n&&d-y>=u&&(void 0===k||d-y>=b-k);){var _=t[r-1];void 0===_.bufferedEnd&&(_.bufferedEnd=n.precizeStart?n.start:_.end,i.Z.debug("SI: calculating buffered end of contiguous segment",a,_.bufferedEnd,_.end)),n.bufferedStart=_.bufferedEnd,void 0!==(n=t[++r])&&(y=(0,o.Z)(n.bufferedStart,n.start),b=(0,o.Z)(n.bufferedEnd,n.end))}}var E=t[r-1];void 0!==E&&h(E,d,a)}}null!=n&&(i.Z.debug("SI: last segments have been GCed",a,r,t.length),t.splice(r,t.length-r)),void 0!==a&&"DEBUG"===i.Z.getLevel()&&i.Z.debug("SI: current "+a+" inventory timeline:\n"+function(e){var t={},r=[],n=null,i=null;function a(e){var t=String.fromCharCode(r.length+65);return r.push({letter:t,periodId:e.period.id,representationId:e.representation.id,bitrate:e.representation.bitrate}),t}for(var o="",s=0;s<e.length;s++){var l=e[s];if(void 0!==l.bufferedStart&&void 0!==l.bufferedEnd){var u,c=l.infos.period.id,d=l.infos.representation.id,f=t[c],p=void 0;void 0===f?(p=a(l.infos),t[c]=((u={})[d]=p,u)):void 0===f[d]?(p=a(l.infos),f[d]=p):p=f[d],null===n?o+=l.bufferedStart.toFixed(2)+"|"+p+"|":i===p?n.bufferedEnd+1/60<l.bufferedStart&&(o+=n.bufferedEnd.toFixed(2)+" ~ "+l.bufferedStart.toFixed(2)+"|"+p+"|"):o+=n.bufferedEnd.toFixed(2)+" ~ "+l.bufferedStart.toFixed(2)+"|"+p+"|",n=l,i=p}}return null!==n&&(o+=String(n.end.toFixed(2))),r.forEach((function(e){var t;o+="\n["+e.letter+"] P: "+e.periodId+" || R: "+e.representationId+"("+(null!==(t=e.bitrate)&&void 0!==t?t:"unknown bitrate")+")"})),o}(this._inventory))},t.insertChunk=function(e){var t=e.period,r=e.adaptation,n=e.representation,a=e.segment,o=e.start,s=e.end;if(!a.isInit){var l=r.type;if(o>=s)i.Z.warn("SI: Invalid chunked inserted: starts before it ends",l,o,s);else{for(var u=this._inventory,c={partiallyPushed:!0,estimatedStart:o,start:o,end:s,precizeStart:!1,precizeEnd:!1,bufferedStart:void 0,bufferedEnd:void 0,infos:{segment:a,period:t,adaptation:r,representation:n}},d=u.length-1;d>=0;d--){var f=u[d];if(f.start<=o){if(f.end<=o){for(i.Z.debug("SI: Pushing segment strictly after previous one.",l,o,f.end),this._inventory.splice(d+1,0,c),d+=2;d<u.length&&u[d].start<c.end;){if(u[d].end>c.end)return i.Z.debug("SI: Segment pushed updates the start of the next one",l,c.end,u[d].start),u[d].start=c.end,u[d].bufferedStart=void 0,void(u[d].precizeStart=u[d].precizeStart&&c.precizeEnd);i.Z.debug("SI: Segment pushed removes the next one",l,o,s,u[d].start,u[d].end),u.splice(d,1)}return}if(f.start===o){if(f.end<=s){for(i.Z.debug("SI: Segment pushed replace another one",l,o,s,f.end),this._inventory.splice(d,1,c),d+=1;d<u.length&&u[d].start<c.end;){if(u[d].end>c.end)return i.Z.debug("SI: Segment pushed updates the start of the next one",l,c.end,u[d].start),u[d].start=c.end,u[d].bufferedStart=void 0,void(u[d].precizeStart=u[d].precizeStart&&c.precizeEnd);i.Z.debug("SI: Segment pushed removes the next one",l,o,s,u[d].start,u[d].end),u.splice(d,1)}return}return i.Z.debug("SI: Segment pushed ends before another with the same start",l,o,s,f.end),u.splice(d,0,c),f.start=c.end,f.bufferedStart=void 0,void(f.precizeStart=f.precizeStart&&c.precizeEnd)}if(f.end<=c.end){for(i.Z.debug("SI: Segment pushed updates end of previous one",l,o,s,f.start,f.end),this._inventory.splice(d+1,0,c),f.end=c.start,f.bufferedEnd=void 0,f.precizeEnd=f.precizeEnd&&c.precizeStart,d+=2;d<u.length&&u[d].start<c.end;){if(u[d].end>c.end)return i.Z.debug("SI: Segment pushed updates the start of the next one",l,c.end,u[d].start),u[d].start=c.end,u[d].bufferedStart=void 0,void(u[d].precizeStart=u[d].precizeStart&&c.precizeEnd);i.Z.debug("SI: Segment pushed removes the next one",l,o,s,u[d].start,u[d].end),u.splice(d,1)}return}i.Z.debug("SI: Segment pushed is contained in a previous one",l,o,s,f.start,f.end);var p={partiallyPushed:f.partiallyPushed,start:c.end,end:f.end,precizeStart:f.precizeStart&&f.precizeEnd&&c.precizeEnd,precizeEnd:f.precizeEnd,bufferedStart:void 0,bufferedEnd:f.end,infos:f.infos};return f.end=c.start,f.bufferedEnd=void 0,f.precizeEnd=f.precizeEnd&&c.precizeStart,u.splice(d+1,0,c),void u.splice(d+2,0,p)}}var h=this._inventory[0];if(void 0===h)return i.Z.debug("SI: first segment pushed",l,o,s),void this._inventory.push(c);if(!(h.start>=s)){if(h.end<=s){for(i.Z.debug("SI: Segment pushed starts before and completely recovers the previous first one",l,o,s,h.start,h.end),this._inventory.splice(0,1,c);u.length>1&&u[1].start<c.end;){if(u[1].end>c.end)return i.Z.debug("SI: Segment pushed updates the start of the next one",l,c.end,u[1].start),u[1].start=c.end,u[1].bufferedStart=void 0,void(u[1].precizeStart=c.precizeEnd);i.Z.debug("SI: Segment pushed removes the next one",l,o,s,u[1].start,u[1].end),u.splice(1,1)}return}return i.Z.debug("SI: Segment pushed start of the next one",l,o,s,h.start,h.end),h.start=s,h.bufferedStart=void 0,h.precizeStart=c.precizeEnd,void this._inventory.splice(0,0,c)}i.Z.debug("SI: Segment pushed comes before all previous ones",l,o,s,h.start),this._inventory.splice(0,0,c)}}},t.completeSegment=function(e){if(!e.segment.isInit){for(var t=this._inventory,r=!1,n=0;n<t.length;n++)if((0,a.Z)(t[n].infos,e)){r&&i.Z.warn("SI: Completed Segment is splitted.",e),r=!0;var o=n;for(n+=1;n<t.length&&(0,a.Z)(t[n].infos,e);)n++;var s=n-1,l=s-o,u=t[s].end,c=t[s].bufferedEnd;l>0&&(this._inventory.splice(o+1,l),n-=l),this._inventory[o].partiallyPushed=!1,this._inventory[o].end=u,this._inventory[o].bufferedEnd=c}r||i.Z.warn("SI: Completed Segment not found",e)}},t.getInventory=function(){return this._inventory},e}();function d(e){if(void 0===e.bufferedStart||e.partiallyPushed)return!1;var t=e.start,r=e.end-t;return Math.abs(t-e.bufferedStart)<=s&&(void 0===e.bufferedEnd||e.bufferedEnd>e.bufferedStart&&Math.abs(e.bufferedEnd-e.bufferedStart-r)<=Math.min(l,r/3))}function f(e){if(void 0===e.bufferedEnd||e.partiallyPushed)return!1;var t=e.start,r=e.end,n=r-t;return Math.abs(r-e.bufferedEnd)<=s&&null!=e.bufferedStart&&e.bufferedEnd>e.bufferedStart&&Math.abs(e.bufferedEnd-e.bufferedStart-n)<=Math.min(l,n/3)}function p(e,t,r,n){void 0!==e.bufferedStart?(e.bufferedStart<t&&(i.Z.debug("SI: Segment partially GCed at the start",n,e.bufferedStart,t),e.bufferedStart=t),!e.precizeStart&&d(e)&&(e.start=e.bufferedStart,e.precizeStart=!0)):e.precizeStart?(i.Z.debug("SI: buffered start is precize start",n,e.start),e.bufferedStart=e.start):null!==r&&r.end>t&&(r.precizeEnd||e.start-r.end<=s)?(i.Z.debug("SI: buffered start is end of previous segment",n,t,e.start,r.end),e.bufferedStart=r.end,d(e)&&(e.start=r.end,e.precizeStart=!0)):e.start-t<=s?(i.Z.debug("SI: found true buffered start",n,t,e.start),e.bufferedStart=t,d(e)&&(e.start=t,e.precizeStart=!0)):t<e.start?i.Z.debug("SI: range start too far from expected start",n,t,e.start):(i.Z.debug("SI: Segment appears immediately garbage collected at the start",n,e.bufferedStart,t),e.bufferedStart=t)}function h(e,t,r){void 0!==e.bufferedEnd?(e.bufferedEnd>t&&(i.Z.debug("SI: Segment partially GCed at the end",r,e.bufferedEnd,t),e.bufferedEnd=t),!e.precizeEnd&&t-e.end<=s&&f(e)&&(e.precizeEnd=!0,e.end=t)):e.precizeEnd?(i.Z.debug("SI: buffered end is precize end",r,e.end),e.bufferedEnd=e.end):t-e.end<=s?(i.Z.debug("SI: found true buffered end",r,t,e.end),e.bufferedEnd=t,f(e)&&(e.end=t,e.precizeEnd=!0)):t>e.end?(i.Z.debug("SI: range end too far from expected end",r,t,e.end),e.bufferedEnd=e.end):(i.Z.debug("SI: Segment appears immediately garbage collected at the end",r,e.bufferedEnd,t),e.bufferedEnd=t)}var g,m=function(){function e(){this._segmentInventory=new c}var t=e.prototype;return t.synchronizeInventory=function(){this._segmentInventory.synchronizeBuffered(this.getBufferedRanges())},t.getInventory=function(){return this._segmentInventory.getInventory()},t.getPendingOperations=function(){return[]},e}();!function(e){e[e.Push=0]="Push",e[e.Remove=1]="Remove",e[e.EndOfSegment=2]="EndOfSegment"}(g||(g={}))},4309:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2829),i=function(){function e(){this._ranges=[],this.length=0}var t=e.prototype;return t.insert=function(e,t){(0,n.kR)(this._ranges,{start:e,end:t}),this.length=this._ranges.length},t.remove=function(e,t){var r=[];e>0&&r.push({start:0,end:e}),t<1/0&&r.push({start:t,end:1/0}),this._ranges=(0,n.tn)(this._ranges,r),this.length=this._ranges.length},t.start=function(e){if(e>=this._ranges.length)throw new Error("INDEX_SIZE_ERROR");return this._ranges[e].start},t.end=function(e){if(e>=this._ranges.length)throw new Error("INDEX_SIZE_ERROR");return this._ranges[e].end},e}()},3801:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1506),i=r.n(n),a=r(5354),o=r.n(a),s=r(5957),l=function(e){function t(r){var n;return n=e.call(this)||this,Object.setPrototypeOf(i()(n),t.prototype),n.name="AssertionError",n.message=r,n}return o()(t,e),t}(r.n(s)()(Error))},5157:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(1506),i=r.n(n),a=r(5354),o=r.n(a),s=r(5957),l=r.n(s),u=r(5992),c=r(7367),d=function(e){function t(r,n){var a;return a=e.call(this)||this,Object.setPrototypeOf(i()(a),t.prototype),a.name="EncryptedMediaError",a.type=u.ZB.ENCRYPTED_MEDIA_ERROR,a.code=r,a.message=(0,c.Z)(a.name,a.code,n),a.fatal=!1,a}return o()(t,e),t}(l()(Error))},5992:function(e,t,r){"use strict";r.d(t,{ZB:function(){return n},br:function(){return i},SM:function(){return a}});var n={NETWORK_ERROR:"NETWORK_ERROR",MEDIA_ERROR:"MEDIA_ERROR",ENCRYPTED_MEDIA_ERROR:"ENCRYPTED_MEDIA_ERROR",OTHER_ERROR:"OTHER_ERROR"},i={TIMEOUT:"TIMEOUT",ERROR_EVENT:"ERROR_EVENT",ERROR_HTTP_CODE:"ERROR_HTTP_CODE",PARSE_ERROR:"PARSE_ERROR"},a={PIPELINE_LOAD_ERROR:"PIPELINE_LOAD_ERROR",PIPELINE_PARSE_ERROR:"PIPELINE_PARSE_ERROR",INTEGRITY_ERROR:"INTEGRITY_ERROR",MANIFEST_PARSE_ERROR:"MANIFEST_PARSE_ERROR",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"MANIFEST_INCOMPATIBLE_CODECS_ERROR",MANIFEST_UPDATE_ERROR:"MANIFEST_UPDATE_ERROR",MANIFEST_UNSUPPORTED_ADAPTATION_TYPE:"MANIFEST_UNSUPPORTED_ADAPTATION_TYPE",MEDIA_STARTING_TIME_NOT_FOUND:"MEDIA_STARTING_TIME_NOT_FOUND",MEDIA_TIME_BEFORE_MANIFEST:"MEDIA_TIME_BEFORE_MANIFEST",MEDIA_TIME_AFTER_MANIFEST:"MEDIA_TIME_AFTER_MANIFEST",MEDIA_TIME_NOT_FOUND:"MEDIA_TIME_NOT_FOUND",NO_PLAYABLE_REPRESENTATION:"NO_PLAYABLE_REPRESENTATION",MEDIA_IS_ENCRYPTED_ERROR:"MEDIA_IS_ENCRYPTED_ERROR",CREATE_MEDIA_KEYS_ERROR:"CREATE_MEDIA_KEYS_ERROR",KEY_ERROR:"KEY_ERROR",KEY_STATUS_CHANGE_ERROR:"KEY_STATUS_CHANGE_ERROR",KEY_UPDATE_ERROR:"KEY_UPDATE_ERROR",KEY_LOAD_ERROR:"KEY_LOAD_ERROR",KEY_LOAD_TIMEOUT:"KEY_LOAD_TIMEOUT",KEY_GENERATE_REQUEST_ERROR:"KEY_GENERATE_REQUEST_ERROR",INCOMPATIBLE_KEYSYSTEMS:"INCOMPATIBLE_KEYSYSTEMS",INVALID_ENCRYPTED_EVENT:"INVALID_ENCRYPTED_EVENT",INVALID_KEY_SYSTEM:"INVALID_KEY_SYSTEM",LICENSE_SERVER_CERTIFICATE_ERROR:"LICENSE_SERVER_CERTIFICATE_ERROR",MULTIPLE_SESSIONS_SAME_INIT_DATA:"MULTIPLE_SESSIONS_SAME_INIT_DATA",BUFFER_APPEND_ERROR:"BUFFER_APPEND_ERROR",BUFFER_FULL_ERROR:"BUFFER_FULL_ERROR",BUFFER_TYPE_UNKNOWN:"BUFFER_TYPE_UNKNOWN",MEDIA_ERR_BLOCKED_AUTOPLAY:"MEDIA_ERR_BLOCKED_AUTOPLAY",MEDIA_ERR_PLAY_NOT_ALLOWED:"MEDIA_ERR_PLAY_NOT_ALLOWED",MEDIA_ERR_NOT_LOADED_METADATA:"MEDIA_ERR_NOT_LOADED_METADATA",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN",MEDIA_SOURCE_NOT_SUPPORTED:"MEDIA_SOURCE_NOT_SUPPORTED",MEDIA_KEYS_NOT_SUPPORTED:"MEDIA_KEYS_NOT_SUPPORTED",DISCONTINUITY_ENCOUNTERED:"DISCONTINUITY_ENCOUNTERED",NONE:"NONE"}},7367:function(e,t,r){"use strict";function n(e,t,r){return e+" ("+t+") "+r}r.d(t,{Z:function(){return n}})},9822:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5157),i=r(5992),a=r(3714),o=r(9362),s=r(5389);function l(e){return(e instanceof n.Z||e instanceof a.Z||e instanceof s.Z||e instanceof o.Z)&&Object.keys(i.ZB).indexOf(e.type)>=0}},3714:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(1506),i=r.n(n),a=r(5354),o=r.n(a),s=r(5957),l=r.n(s),u=r(5992),c=r(7367),d=function(e){function t(r,n){var a;return a=e.call(this)||this,Object.setPrototypeOf(i()(a),t.prototype),a.name="MediaError",a.type=u.ZB.MEDIA_ERROR,a.code=r,a.message=(0,c.Z)(a.name,a.code,n),a.fatal=!1,a}return o()(t,e),t}(l()(Error))},9362:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(1506),i=r.n(n),a=r(5354),o=r.n(a),s=r(5957),l=r.n(s),u=r(5992),c=r(7367),d=function(e){function t(r,n){var a;return a=e.call(this)||this,Object.setPrototypeOf(i()(a),t.prototype),a.name="NetworkError",a.type=u.ZB.NETWORK_ERROR,a.xhr=void 0===n.xhr?null:n.xhr,a.url=n.url,a.status=n.status,a.errorType=n.type,a.code=r,a.message=(0,c.Z)(a.name,a.code,n.message),a.fatal=!1,a}return o()(t,e),t.prototype.isHttpError=function(e){return this.errorType===u.br.ERROR_HTTP_CODE&&this.status===e},t}(l()(Error))},5389:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(1506),i=r.n(n),a=r(5354),o=r.n(a),s=r(5957),l=r.n(s),u=r(5992),c=r(7367),d=function(e){function t(r,n){var a;return a=e.call(this)||this,Object.setPrototypeOf(i()(a),t.prototype),a.name="OtherError",a.type=u.ZB.OTHER_ERROR,a.code=r,a.message=(0,c.Z)(a.name,a.code,n),a.fatal=!1,a}return o()(t,e),t}(l()(Error))},9105:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1506),i=r.n(n),a=r(5354),o=r.n(a),s=r(5957),l=function(e){function t(r,n,a,o){var s;return s=e.call(this)||this,Object.setPrototypeOf(i()(s),t.prototype),s.name="RequestError",s.url=r,s.xhr=o,s.status=n,s.type=a,s.message=a,s}return o()(t,e),t}(r.n(s)()(Error))},7273:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n={directfile:null,emeManager:null,htmlTextTracksBuffer:null,htmlTextTracksParsers:{},imageBuffer:null,imageParser:null,nativeTextTracksBuffer:null,nativeTextTracksParsers:{},transports:{}}},7874:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=r(7273).Z},1452:function(e,t,r){"use strict";r.d(t,{default:function(){return Ui}});var n=r(3913),i=r.n(n),a=r(5354),o=r.n(a),s=r(211),l=r(2135),u=r(655),c=r(1016),d=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return u.ZT(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.N;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(s.xQ),f=r(4370),p=r(5631),h=r(5142),g=r(9795),m=r(8170),v=r(1558),y=r(5709),b=r(1931),k=r(1015),_=r(1421);function E(e){return e?(0,_.O)((function(){return new s.xQ}),e):(0,_.O)(new s.xQ)}var w=r(6008),S=r(9095),T=r(3485),x=r(5602),O=r(979),P=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new A(e,this.predicate))},e}(),A=function(e){function t(t,r){var n=e.call(this,t)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return u.ZT(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(r){this.destination.error(r)}},t}(O.L),C=r(1198),M=r(3756),I=r(1473);function R(){if(D()){var e=document;"function"===typeof e.exitFullscreen?e.exitFullscreen():"function"===typeof e.msExitFullscreen?e.msExitFullscreen():"function"===typeof e.mozCancelFullScreen?e.mozCancelFullScreen():"function"===typeof e.webkitExitFullscreen&&e.webkitExitFullscreen()}}function D(){var e=document;return null!=e.fullscreenElement||null!=e.mozFullScreenElement||null!=e.webkitFullscreenElement||null!=e.msFullscreenElement}var j=r(3666),L=r(3887);function N(){var e,t;if(!j.vU)return!0;var r=function(){if(!j.vU)return L.Z.warn("Compat: Can't access Firefox version on no firefox browser."),null;var e=navigator.userAgent,t=/Firefox\/([0-9]+)\./.exec(e);if(null===t)return-1;var r=parseInt(t[1],10);return isNaN(r)?-1:r}();return null===r||r<67||void 0!==(null===(t=null===(e=HTMLVideoElement)||void 0===e?void 0:e.prototype)||void 0===t?void 0:t.requirePictureInPicture)}var U=r(944),B=r(3714),F=r(9822),z=r(5389);function V(e,t){var r=t.defaultCode,n=t.defaultReason;if((0,F.Z)(e))return e;var i=e instanceof Error?e.toString():n;return new z.Z(r,i)}var $=r(5992),W=r(7874),K=r(4791),H=r(1959),G=r(1946),Z=r(8894),q=r(8026),X=r(9589),Y=r(2829),Q=r(8806),J=r(1410),ee=r(6139),te=r(6033);function re(e){return(0,J.P)((function(){var t=te.Z.getState(e);if(null===t)return(0,m.of)(null);L.Z.info("EME: Disposing of the current MediaKeys");var r=t.loadedSessionsStore;return te.Z.clearState(e),r.closeAllSessions().pipe((0,M.j)((0,ee.Y)(e,null)))}))}function ne(e){var t=te.Z.getState(e);return null==t?null:t.keySystemOptions.type}var ie=r(6738);function ae(e){return(0,J.P)((function(){if(L.Z.info("EME: Clearing-up EME session."),j.fq)return L.Z.info("EME: disposing current MediaKeys."),re(e).pipe((0,ie.l)());var t=te.Z.getState(e);return null!==t&&!0===t.keySystemOptions.closeSessionsOnStop?(L.Z.info("EME: closing all current sessions."),t.loadedSessionsStore.closeAllSessions().pipe((0,ie.l)())):(L.Z.info("EME: Nothing to clear. Returning right away. No state =",null===t),p.E)}))}var oe=r(7746),se=r(7006),le=r(4072),ue=r(7604);function ce(e,t){return t?function(r){return r.pipe(ce((function(r,n){return(0,le.D)(e(r,n)).pipe((0,y.U)((function(e,i){return t(r,e,n,i)})))})))}:function(t){return t.lift(new de(e))}}var de=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new fe(e,this.project))},e}(),fe=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return u.ZT(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.hasSubscription=!0,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new ue.IY(this),r=this.destination;r.add(t);var n=(0,ue.ft)(e,t);n!==t&&r.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(ue.Ds),pe=r(3068),he=r(3884);function ge(e){return function(t){return t.lift(new me(e))}}var me=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new ve(e,this.callback))},e}(),ve=function(e){function t(t,r){var n=e.call(this,t)||this;return n.add(new he.w(r)),n}return u.ZT(t,e),t}(O.L),ye=r(6381),be=r(1966),ke=r(8025),_e=r(2793),Ee=r(4379),we=r(5278),Se=function(){function e(e){this._alpha=Math.exp(Math.log(.5)/e),this._lastEstimate=0,this._totalWeight=0}var t=e.prototype;return t.addSample=function(e,t){var r=Math.pow(this._alpha,e),n=t*(1-r)+r*this._lastEstimate;isNaN(n)||(this._lastEstimate=n,this._totalWeight+=e)},t.getEstimate=function(){var e=1-Math.pow(this._alpha,this._totalWeight);return this._lastEstimate/e},e}(),Te=U.Z.ABR_MINIMUM_TOTAL_BYTES,xe=U.Z.ABR_MINIMUM_CHUNK_SIZE,Oe=U.Z.ABR_FAST_EMA,Pe=U.Z.ABR_SLOW_EMA,Ae=function(){function e(){this._fastEWMA=new Se(Oe),this._slowEWMA=new Se(Pe),this._bytesSampled=0}var t=e.prototype;return t.addSample=function(e,t){if(!(t<xe)){var r=8e3*t/e,n=e/1e3;this._bytesSampled+=t,this._fastEWMA.addSample(n,r),this._slowEWMA.addSample(n,r)}},t.getEstimate=function(){if(!(this._bytesSampled<Te))return Math.min(this._fastEWMA.getEstimate(),this._slowEWMA.getEstimate())},t.reset=function(){this._fastEWMA=new Se(Oe),this._slowEWMA=new Se(Pe),this._bytesSampled=0},e}(),Ce=r(2039),Me=r(2080);function Ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var r;"function"===typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new Re(n,r))}}var Re=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new De(e,this.observables,this.project))},e}(),De=function(e){function t(t,r,n){var i=e.call(this,t)||this;i.observables=r,i.project=n,i.toRespond=[];var a=r.length;i.values=new Array(a);for(var o=0;o<a;o++)i.toRespond.push(o);for(o=0;o<a;o++){var s=r[o];i.add((0,Me.D)(i,s,void 0,o))}return i}return u.ZT(t,e),t.prototype.notifyNext=function(e,t,r){this.values[r]=t;var n=this.toRespond;if(n.length>0){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(Ce.L);function je(e){var t=e.map((function(t){return Math.log(t/e[0])})),r=t.map((function(e){return e-t[0]+1})),n=(r[r.length-1]-1)/(2*e.length+10),i=1/n;return e.map((function(t,a){return function(t){if(0===t)return 0;var a=Math.min(Math.max(1,t),e.length-1);return i*(n+(e[a]*r[a-1]-e[a-1]*r[a])/(e[a]-e[a-1]))+4}(a)}))}var Le=r(5138);function Ne(e,t){var r=je(t);return L.Z.debug("ABR: Steps for buffer based chooser.",r.map((function(e,r){return{bufferLevel:e,bitrate:t[r]}}))),e.pipe((0,y.U)((function(e){return function(e,t,r){var n=e.bufferGap,i=e.currentBitrate,a=e.currentScore,o=e.speed;if(null==i)return t[0];var s,l=(0,Le.Z)(t,(function(e){return e===i}));if(l<0||t.length!==r.length)return L.Z.error("ABR: Current Bitrate not found in the calculated levels"),t[0];if(null!=a&&(s=0===o?a:a/o),null!=s&&s>1){var u=r[l],c=function(){for(var e=l+1;e<r.length;e++)if(r[e]>u)return e}();if(null!=c&&n>=r[c])return t[c]}if((null==s||s<1.15)&&n<r[l]){for(var d=l-1;d>=0;d--)if(t[d]<i)return t[d];return i}return i}(e,t,r)})))}var Ue=U.Z.CACHE_LOAD_DURATION_THRESHOLDS;function Be(){var e=!1;return function(t,r){var n=t.adaptation.type;if("text"===n||"image"===n)return!1;var i=function(e,t){return t<Ue[e]}(n,r);return!(!i||!e)||(i||e||(e=!0),!1)}}var Fe=r(3274),ze=U.Z.ABR_REGULAR_FACTOR,Ve=U.Z.ABR_STARVATION_DURATION_DELTA,$e=U.Z.ABR_STARVATION_FACTOR,We=U.Z.ABR_STARVATION_GAP,Ke=U.Z.OUT_OF_STARVATION_GAP;function He(e){if(!(e.progress.length<5)){for(var t=new Se(2),r=e.progress,n=1;n<r.length;n++){var i=r[n].size-r[n-1].size,a=r[n].timestamp-r[n-1].timestamp,o=8*i/(a/1e3);t.addSample(a/1e3,o)}return t.getEstimate()}}function Ge(e,t){var r=8*(e.totalSize-e.size);return Math.max(r/t,0)}function Ze(e,t,r,n){var i=function(e,t){var r=(0,Le.Z)(e,(function(e){return!(e.duration<=0)&&e.time+e.duration>t&&Math.abs(t-e.time)<-.3}));if(r<0)return[];for(var n=e[r],i=n.time,a=[n],o=r+1;o<e.length&&e[o].time===i;o++)a.push(e[o]);return a}(e,t.position+t.bufferGap);if(1===i.length){var a=i[0],o=a.duration,s=performance.now(),l=a.progress.length>0?a.progress[a.progress.length-1]:void 0,u=He(a);if(void 0!==l&&void 0!==u){var c=Ge(l,u);if((s-l.timestamp)/1e3<=c&&c-t.bufferGap/t.speed>2e3)return u}var d=(s-a.requestTimestamp)/1e3,f=d<=(1.5*o+2)/t.speed;if(null!=r&&!f){var p=o/d,h=r.bitrate*Math.min(.7,p);return void 0===n||h<n?h:void 0}}}var qe=function(){function e(e,t){this._initialBitrate=e,this._inStarvationMode=!1,this._config=t?{starvationGap:We.LOW_LATENCY,outOfStarvationGap:Ke.LOW_LATENCY,starvationBitrateFactor:$e.LOW_LATENCY,regularBitrateFactor:ze.LOW_LATENCY}:{starvationGap:We.DEFAULT,outOfStarvationGap:Ke.DEFAULT,starvationBitrateFactor:$e.DEFAULT,regularBitrateFactor:ze.DEFAULT}}var t=e.prototype;return t.getBandwidthEstimate=function(e,t,r,n,i){var a,o,s=this._config,l=e.bufferGap,u=e.position,c=e.duration;return isNaN(c)||l+u<c-Ve?!this._inStarvationMode&&l<=s.starvationGap?(L.Z.info("ABR: enter starvation mode."),this._inStarvationMode=!0):this._inStarvationMode&&l>=s.outOfStarvationGap&&(L.Z.info("ABR: exit starvation mode."),this._inStarvationMode=!1):this._inStarvationMode&&(L.Z.info("ABR: exit starvation mode."),this._inStarvationMode=!1),this._inStarvationMode&&null!=(o=Ze(n,e,r,i))&&(L.Z.info("ABR: starvation mode emergency estimate:",o),t.reset(),a=null==r?o:Math.min(o,r.bitrate)),null==a&&(a=null!=(o=t.getEstimate())?o*(this._inStarvationMode?s.starvationBitrateFactor:s.regularBitrateFactor):null!=i?i*(this._inStarvationMode?s.starvationBitrateFactor:s.regularBitrateFactor):this._initialBitrate),e.speed>1&&(a/=e.speed),{bandwidthEstimate:o,bitrateChosen:a}},t.isUrgent=function(e,t,r,n){return null===t||e!==t.bitrate&&(e>t.bitrate?!this._inStarvationMode:function(e,t){var r=e.position+e.bufferGap,n=(0,Fe.Z)(t,(function(e){return e.duration>0&&e.time+e.duration>r}));if(void 0===n)return!0;var i=performance.now(),a=n.progress.length>0?n.progress[n.progress.length-1]:void 0,o=He(n);if(void 0===a||void 0===o)return!0;var s=Ge(a,o);return(i-a.timestamp)/1e3>1.2*s||s-e.bufferGap/e.speed>-1.5}(n,r))},e}(),Xe=r(1679),Ye=function(){function e(){this._currentRequests={}}var t=e.prototype;return t.add=function(e){var t=e.id,r=e.time,n=e.duration,i=e.requestTimestamp;this._currentRequests[t]={time:r,duration:n,requestTimestamp:i,progress:[]}},t.addProgress=function(e){var t=this._currentRequests[e.id];null!=t?t.progress.push(e):L.Z.warn("ABR: progress for a request not added")},t.remove=function(e){null==this._currentRequests[e]&&L.Z.warn("ABR: can't remove unknown request"),delete this._currentRequests[e]},t.getRequests=function(){return(0,Xe.Z)(this._currentRequests).filter((function(e){return null!=e})).sort((function(e,t){return e.time-t.time}))},e}(),Qe=function(){function e(){this._currentRepresentationData=null,this._lastRepresentationWithGoodScore=null}var t=e.prototype;return t.addSample=function(e,t,r){var n,i=r/t,a=this._getEWMA(e);null!=a?(n=a,a.addSample(t,i)):((n=new Se(5)).addSample(t,i),this._currentRepresentationData={representation:e,ewma:n}),n.getEstimate()>1&&this._lastRepresentationWithGoodScore!==e&&(L.Z.debug("ABR: New last stable representation",e),this._lastRepresentationWithGoodScore=e)},t.getEstimate=function(e){var t=this._getEWMA(e);if(null!=t)return t.getEstimate()},t.getLastStableRepresentation=function(){return this._lastRepresentationWithGoodScore},t._getEWMA=function(e){return null!=this._currentRepresentationData&&this._currentRepresentationData.representation.id===e.id?this._currentRepresentationData.ewma:null},e}();function Je(e,t,r,n){var i=t<=r?r:t>=n?n:t,a=(0,Le.Z)(e,(function(e){return e.bitrate>i}));return-1===a?e[e.length-1]:0===a?e[0]:e[a-1]}function et(e,t){var r=e;return null!=t.bitrate&&(r=function(e,t){if(0===e.length)return[];e.sort((function(e,t){return e.bitrate-t.bitrate}));var r=e[0].bitrate,n=Math.max(t,r),i=(0,Le.Z)(e,(function(e){return e.bitrate>n}));return-1===i?e:e.slice(0,i)}(r,t.bitrate)),null!=t.width&&(r=function(e,t){var r=e.slice().sort((function(e,t){return(0,we.Z)(e.width,0)-(0,we.Z)(t.width,0)})),n=(0,Fe.Z)(r,(function(e){return"number"===typeof e.width&&e.width>=t}));if(void 0===n)return e;var i="number"===typeof n.width?n.width:0;return e.filter((function(e){return"number"!==typeof e.width||e.width<=i}))}(r,t.width)),r}function tt(e){var t=e.bandwidthEstimator,r=e.clock$,n=e.filters$,i=e.initialBitrate,a=e.lowLatencyMode,o=e.manualBitrate$,s=e.minAutoBitrate$,l=e.maxAutoBitrate$,u=e.representations,c=e.streamEvents$,d=new Qe,p=new qe(null==i?0:i,a),g=new Ye,v=Be(),b=c.pipe((0,w.h)((function(e){return"metrics"===e.type})),(0,pe.b)((function(e){return function(e){var r=e.duration,n=e.size,i=e.content;if(!v(i,r)){t.addSample(r,n);var a=r/1e3,o=i.segment.duration,s=i.representation;d.addSample(s,a,o)}}(e.value)})),(0,ie.l)()),k=c.pipe((0,pe.b)((function(e){switch(e.type){case"requestBegin":g.add(e.value);break;case"requestEnd":g.remove(e.value.id);break;case"progress":g.addProgress(e.value)}})),(0,ie.l)()),_=c.pipe((0,w.h)((function(e){return"representationChange"===e.type})),(0,y.U)((function(e){return e.value.representation})),(0,T.O)(null)),E=(0,J.P)((function(){if(0===u.length)throw new Error("ABRManager: no representation choice given");return 1===u.length?(0,m.of)({bitrate:void 0,representation:u[0],manual:!1,urgent:!0,knownStableBitrate:void 0}):o.pipe((0,ye.w)((function(e){if(e>=0){var i=Je(u,e,0,1/0);return(0,m.of)({representation:i,bitrate:void 0,knownStableBitrate:void 0,manual:!0,urgent:!0})}var a,o=!0,f=Ne(c.pipe((0,w.h)((function(e){return"added-segment"===e.type})),Ie(r),(0,y.U)((function(e){var t=e[0].value,r=e[1],n=r.speed,i=r.position,a=t.buffered,o=(0,Y.L7)(a,i),s=t.content.representation,l=d.getEstimate(s);return{bufferGap:o,currentBitrate:s.bitrate,currentScore:l,speed:n}}))),u.map((function(e){return e.bitrate}))).pipe((0,T.O)(void 0));return(0,h.aj)([r,s,l,n,f]).pipe(Ie(_),(0,y.U)((function(e){var r=e[0],n=r[0],i=r[1],s=r[2],l=r[3],c=r[4],f=e[1],h=et(u,l),m=g.getRequests(),v=p.getBandwidthEstimate(n,t,f,m,a),y=v.bandwidthEstimate,b=v.bitrateChosen;a=y;var k=d.getLastStableRepresentation(),_=null==k?void 0:k.bitrate/(n.speed>0?n.speed:1),E=n.bufferGap;!o&&E<=5?o=!0:o&&isFinite(E)&&E>10&&(o=!1);var w=Je(h,b,i,s);if(o)return L.Z.debug("ABR: Choosing representation with bandwidth estimation.",w),{bitrate:y,representation:w,urgent:p.isUrgent(w.bitrate,f,m,n),manual:!1,knownStableBitrate:_};if(null==c||w.bitrate>=c)return L.Z.debug("ABR: Choosing representation with bandwidth estimation.",w),{bitrate:y,representation:w,urgent:p.isUrgent(w.bitrate,f,m,n),manual:!1,knownStableBitrate:_};var S=Je(h,c,i,s);return c<=s&&L.Z.debug("ABR: Choosing representation with buffer based bitrate ceiling.",S),{bitrate:y,representation:S,urgent:p.isUrgent(c,f,m,n),manual:!1,knownStableBitrate:_}})))})))}));return(0,f.T)(b,k,E)}var rt=function(){function e(e){this._manualBitrates=e.manualBitrates,this._minAutoBitrates=e.minAutoBitrates,this._maxAutoBitrates=e.maxAutoBitrates,this._initialBitrates=e.initialBitrates,this._throttlers=e.throttlers,this._bandwidthEstimators={},this._lowLatencyMode=e.lowLatencyMode}var t=e.prototype;return t.get$=function(e,t,r,n){var i=this._getBandwidthEstimator(e),a=(0,we.Z)(this._manualBitrates[e],(0,m.of)(-1)),o=(0,we.Z)(this._minAutoBitrates[e],(0,m.of)(0)),s=(0,we.Z)(this._maxAutoBitrates[e],(0,m.of)(1/0)),l=(0,we.Z)(this._initialBitrates[e],0);return tt({bandwidthEstimator:i,streamEvents$:n,clock$:r,filters$:function(e,t,r){var n=[];return null!=e&&n.push(e.pipe((0,y.U)((function(e){return{width:e}})))),null!=r&&n.push(r.pipe((0,y.U)((function(e){return{bitrate:e}})))),null!=t&&n.push(t.pipe((0,y.U)((function(e){return{bitrate:e}})))),n.length>0?(0,h.aj)(n).pipe((0,y.U)((function(e){return q.Z.apply(void 0,[{}].concat(e))}))):(0,m.of)({})}(this._throttlers.limitWidth[e],this._throttlers.throttleBitrate[e],this._throttlers.throttle[e]),initialBitrate:l,manualBitrate$:a,minAutoBitrate$:o,maxAutoBitrate$:s,representations:t,lowLatencyMode:this._lowLatencyMode})},t._getBandwidthEstimator=function(e){var t=this._bandwidthEstimators[e];if(null==t){L.Z.debug("ABR: Creating new BandwidthEstimator for ",e);var r=new Ae;return this._bandwidthEstimators[e]=r,r}return t},e}(),nt=r(486),it=r(5561),at=r(9105),ot=r(9362);function st(e){return e instanceof at.Z?new ot.Z("PIPELINE_LOAD_ERROR",e):V(e,{defaultCode:"PIPELINE_LOAD_ERROR",defaultReason:"Unknown error when fetching the Manifest"})}var lt,ut=r(9604),ct=r(2572);function dt(e){return e.type===$.br.ERROR_EVENT&&!1===navigator.onLine}function ft(e,t,r){var n=r.baseDelay,i=r.maxDelay,a=r.maxRetryRegular,o=r.maxRetryOffline,s=0,l=lt.None,u=e.slice();return 0===u.length?(L.Z.warn("Fetchers: no URL given to `tryURLsWithBackoff`."),p.E):function e(r,c){return t(r).pipe((0,y.U)((function(e){return{type:"response",value:e}})),(0,nt.K)((function(t){if(!function(e){return e instanceof at.Z?e.type===$.br.ERROR_HTTP_CODE?e.status>=500||404===e.status||415===e.status||412===e.status:e.type===$.br.TIMEOUT||e.type===$.br.ERROR_EVENT:(0,F.Z)(e)&&"INTEGRITY_ERROR"===e.code}(t)){if(u.length<=1)throw t;u.splice(c,1);var r=c>=u.length-1?0:c;return e(u[r],r).pipe((0,T.O)({type:"retry",value:t}))}var d=function(e){return e instanceof at.Z&&dt(e)?lt.Offline:lt.Regular}(t),f=d===lt.Offline?o:a;if(d!==l&&(s=0,l=d),c<u.length-1){var p=c+1;return e(u[p],p).pipe((0,T.O)({type:"retry",value:t}))}if(++s>f)throw t;var h=Math.min(n*Math.pow(2,s-1),i),g=(0,ct.Z)(h),m=u[0];return(0,ut.H)(g).pipe((0,oe.zg)((function(){return e(m,0)})),(0,T.O)({type:"retry",value:t}))})))}(u[0],0)}function pt(e,t){return ft([null],(function(){return e}),t)}!function(e){e[e.None=0]="None",e[e.Regular=1]="Regular",e[e.Offline=2]="Offline"}(lt||(lt={}));var ht=U.Z.DEFAULT_MAX_MANIFEST_REQUEST_RETRY,gt=U.Z.DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE,mt=U.Z.INITIAL_BACKOFF_DELAY_BASE,vt=U.Z.MAX_BACKOFF_DELAY_BASE,yt=function(){function e(e,t,r){this._manifestUrl=e,this._pipelines=t.manifest,this._backoffOptions=function(e){var t=e.maxRetryRegular,r=e.maxRetryOffline,n=e.lowLatencyMode;return{baseDelay:n?mt.LOW_LATENCY:mt.REGULAR,maxDelay:n?vt.LOW_LATENCY:vt.REGULAR,maxRetryRegular:void 0!==t?t:ht,maxRetryOffline:void 0!==r?r:gt}}(r)}var t=e.prototype;return t.fetch=function(e){var t,r=this,n=null!==e&&void 0!==e?e:this._manifestUrl,i=null!==(t=this._pipelines.resolver)&&void 0!==t?t:m.of,a=this._pipelines.loader;return(0,it.Z)(i,{url:n}).pipe((0,nt.K)((function(e){throw st(e)})),(0,oe.zg)((function(e){return pt((0,it.Z)(a,e),r._backoffOptions).pipe((0,nt.K)((function(e){throw st(e)})),(0,y.U)((function(e){return"retry"===e.type?{type:"warning",value:st(e.value)}:{type:"response",parse:function(t){return r._parseLoadedManifest(e.value.value,t)}}})))})))},t.parse=function(e,t){return this._parseLoadedManifest({responseData:e,size:void 0,duration:void 0},t)},t._parseLoadedManifest=function(e,t){var r,n,i=e.sendingTime,a=e.receivedTime,o=performance.now(),l=new s.xQ,u=(r=this._backoffOptions,n=l,function(e){return pt((0,it.Z)(e,void 0),r).pipe((0,_e.Z)((function(e){return"retry"===e.type?(n.next(st(e.value)),null):e.value}),null),(0,nt.K)((function(e){throw st(e)})))});return(0,f.T)(l.pipe((0,y.U)((function(e){return{type:"warning",value:e}}))),this._pipelines.parser({response:e,url:this._manifestUrl,externalClockOffset:t.externalClockOffset,previousManifest:t.previousManifest,scheduleRequest:u,unsafeMode:t.unsafeMode}).pipe((0,nt.K)((function(e){throw V(e,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"Unknown error when parsing the Manifest"})})),(0,y.U)((function(e){if("warning"===e.type)return{type:"warning",value:V(e.value,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"Unknown error when parsing the Manifest"})};var t=performance.now()-o;return{type:"parsed",manifest:e.value.manifest,sendingTime:i,receivedTime:a,parsingTime:t}})),ge((function(){l.complete()}))))},e}(),bt=U.Z.DEFAULT_MAX_REQUESTS_RETRY_ON_ERROR,kt=U.Z.DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE,_t=U.Z.INITIAL_BACKOFF_DELAY_BASE,Et=U.Z.MAX_BACKOFF_DELAY_BASE,wt=function(){function e(e){var t=e.prioritySteps;if(this._minPendingPriority=null,this._waitingQueue=[],this._pendingTasks=[],this._prioritySteps=t,this._prioritySteps.high>=this._prioritySteps.low)throw new Error("FP Error: the max high level priority should be given a lowerpriority number than the min low priority.")}var t=e.prototype;return t.create=function(e,t){var r=this,n=new Ee.y((function(i){var a,o=!0;return a={observable:n,priority:t,trigger:function(t){null!==a.subscription&&(a.subscription.unsubscribe(),a.subscription=null,o&&i.next({type:"interrupted"})),t&&(r._minPendingPriority=null===r._minPendingPriority?a.priority:Math.min(r._minPendingPriority,a.priority),r._pendingTasks.push(a),a.subscription=e.subscribe((function(e){return i.next({type:"data",value:e})}),(function(e){i.error(e),a.subscription=null,a.finished=!0,r._onTaskEnd(a)}),(function(){i.next({type:"ended"}),o&&i.complete(),a.subscription=null,a.finished=!0,r._onTaskEnd(a)})))},subscription:null,finished:!1},r._canBeStartedNow(a)?(a.trigger(!0),r._isRunningHighPriorityTasks()&&r._interruptCancellableTasks()):r._waitingQueue.push(a),function(){if(o=!1,null!==a.subscription&&(a.subscription.unsubscribe(),a.subscription=null),!a.finished){var e=(0,Le.Z)(r._waitingQueue,(function(e){return e.observable===n}));if(e>=0)r._waitingQueue.splice(e,1);else{var t=(0,Le.Z)(r._pendingTasks,(function(e){return e.observable===n}));if(t<0)return void L.Z.warn("FP: unsubscribing non-existent task");var i=r._pendingTasks.splice(t,1)[0];0===r._pendingTasks.length?(r._minPendingPriority=null,r._loopThroughWaitingQueue()):r._minPendingPriority===i.priority&&(r._minPendingPriority=Math.min.apply(Math,r._pendingTasks.map((function(e){return e.priority}))),r._loopThroughWaitingQueue())}}}}));return n},t.updatePriority=function(e,t){var r=(0,Le.Z)(this._waitingQueue,(function(t){return t.observable===e}));if(r>=0){var n=this._waitingQueue[r];if(n.priority===t)return;if(n.priority=t,!this._canBeStartedNow(n))return;return this._startWaitingQueueTask(r),void(this._isRunningHighPriorityTasks()&&this._interruptCancellableTasks())}var i=(0,Le.Z)(this._pendingTasks,(function(t){return t.observable===e}));if(i<0)L.Z.warn("FP: request to update the priority of a non-existent task");else{var a=this._pendingTasks[i];if(a.priority!==t){var o=a.priority;if(a.priority=t,null===this._minPendingPriority||t<this._minPendingPriority)this._minPendingPriority=t;else{if(this._minPendingPriority!==o)return;1===this._pendingTasks.length?this._minPendingPriority=t:this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map((function(e){return e.priority}))),this._loopThroughWaitingQueue()}this._isRunningHighPriorityTasks()&&this._interruptCancellableTasks()}}},t._loopThroughWaitingQueue=function(){var e=this._waitingQueue.reduce((function(e,t){return null===e||e>t.priority?t.priority:e}),null);if(!(null===e||null!==this._minPendingPriority&&this._minPendingPriority<e))for(var t=0;t<this._waitingQueue.length;t++){var r=null===this._minPendingPriority?e:Math.min(this._minPendingPriority,e);this._waitingQueue[t].priority<=r&&(this._startWaitingQueueTask(t),t--)}},t._interruptCancellableTasks=function(){for(var e=0;e<this._pendingTasks.length;e++){var t=this._pendingTasks[e];if(t.priority>=this._prioritySteps.low)return this._interruptPendingTask(t),this._interruptCancellableTasks()}},t._startWaitingQueueTask=function(e){this._waitingQueue.splice(e,1)[0].trigger(!0)},t._interruptPendingTask=function(e){var t=(0,Le.Z)(this._pendingTasks,(function(t){return t.observable===e.observable}));t<0?L.Z.warn("FP: Interrupting a non-existent pending task. Aborting..."):(this._pendingTasks.splice(t,1),this._waitingQueue.push(e),0===this._pendingTasks.length?this._minPendingPriority=null:this._minPendingPriority===e.priority&&(this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map((function(e){return e.priority})))),e.trigger(!1))},t._onTaskEnd=function(e){var t=(0,Le.Z)(this._pendingTasks,(function(t){return t.observable===e.observable}));t<0||(this._pendingTasks.splice(t,1),this._pendingTasks.length>0?this._minPendingPriority===e.priority&&(this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map((function(e){return e.priority})))):(this._minPendingPriority=null,this._loopThroughWaitingQueue()))},t._canBeStartedNow=function(e){return null===this._minPendingPriority||e.priority<=this._minPendingPriority},t._isRunningHighPriorityTasks=function(){return null!==this._minPendingPriority&&this._minPendingPriority<=this._prioritySteps.high},e}(),St=r(7714),Tt=r(8418),xt=r(908),Ot=function(){function e(){this._cache=new WeakMap}var t=e.prototype;return t.add=function(e,t){var r=e.representation;e.segment.isInit&&this._cache.set(r,t)},t.get=function(e){var t=e.representation;if(e.segment.isInit){var r=this._cache.get(t);if(void 0!==r)return r}return null},e}(),Pt=r(8117);function At(e,t,r){return function(n){return function(n){function i(){var i;return ft(null!==(i=n.segment.mediaURLs)&&void 0!==i?i:[null],(function(t){var r=(0,q.Z)({url:t},n);return(0,g.z)((0,m.of)({type:"request",value:r}),(0,it.Z)(e,r))}),r).pipe((0,nt.K)((function(e){throw st(e)})),(0,y.U)((function(e){if("retry"===e.type)return{type:"warning",value:st(e.value)};if("request"===e.value.type)return e.value;var r=e.value;return"data-loaded"===r.type&&null!=t&&t.add(n,r.value),e.value})))}var a=null!=t?t.get(n):null;return null!=a?(0,Pt.Z)(a).pipe((0,y.U)((function(e){return{type:"cache",value:e}})),(0,nt.K)(i)):i()}(n).pipe((0,oe.zg)((function(e){var t;switch(t="data-chunk-complete"!==e.type&&"data-loaded"!==e.type||void 0===e.value.size||void 0===e.value.duration?p.E:(0,m.of)({type:"metrics",value:{size:e.value.size,duration:e.value.duration,content:n}}),e.type){case"warning":case"request":case"progress":return(0,m.of)(e);case"cache":case"data-created":case"data-loaded":return(0,g.z)((0,m.of)({type:"data",value:e.value}),t);case"data-chunk":return(0,m.of)({type:"chunk",value:e.value});case"data-chunk-complete":return(0,g.z)((0,m.of)({type:"chunk-complete",value:null}),t);default:(0,Tt.Z)(e)}})))}}var Ct=(0,xt.Z)(),Mt=U.Z.MIN_CANCELABLE_PRIORITY,It=U.Z.MAX_HIGH_PRIORITY_LEVEL,Rt=function(){function e(e,t){this._transport=e,this._prioritizer=new wt({prioritySteps:{high:It,low:Mt}}),this._backoffOptions=t}return e.prototype.createSegmentFetcher=function(e,t){var r=function(e,t){var r=t.maxRetryRegular,n=t.maxRetryOffline,i=t.lowLatencyMode;return{maxRetryRegular:"image"===e?0:null!==r&&void 0!==r?r:bt,maxRetryOffline:null!==n&&void 0!==n?n:kt,baseDelay:i?_t.LOW_LATENCY:_t.REGULAR,maxDelay:i?Et.LOW_LATENCY:Et.REGULAR}}(e,this._backoffOptions),n=function(e,t,r,n){var i=(0,St.Z)(["audio","video"],e)?new Ot:void 0,a=At(t[e].loader,i,n),o=t[e].parser;return function(e){var t=Ct(),n=!1;return a(e).pipe((0,pe.b)((function(e){switch(e.type){case"metrics":r.next(e);break;case"request":var i=e.value.segment;if(void 0===i)return;n=!0,r.next({type:"requestBegin",value:{duration:i.duration,time:i.time,requestTimestamp:performance.now(),id:t}});break;case"progress":var a=e.value;null!=a.totalSize&&a.size<a.totalSize&&r.next({type:"progress",value:{duration:a.duration,size:a.size,totalSize:a.totalSize,timestamp:performance.now(),id:t}})}})),ge((function(){n&&r.next({type:"requestEnd",value:{id:t}})})),(0,w.h)((function(e){switch(e.type){case"warning":case"chunk":case"chunk-complete":case"data":return!0;case"progress":case"metrics":case"request":return!1;default:(0,Tt.Z)(e)}})),(0,oe.zg)((function(t){if("warning"===t.type)return(0,m.of)(t);if("chunk-complete"===t.type)return(0,m.of)({type:"chunk-complete"});var r="chunk"===t.type,n={type:"chunk",parse:function(n){var i={data:t.value.responseData,isChunked:r};return o({response:i,initTimescale:n,content:e}).pipe((0,nt.K)((function(e){throw V(e,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"Unknown parsing error"})})))}};return r?(0,m.of)(n):(0,g.z)((0,m.of)(n),(0,m.of)({type:"chunk-complete"}))})),(0,S.B)())}}(e,this._transport,t,r);return function(e,t){var r=new WeakMap;return{createRequest:function(n,i){void 0===i&&(i=0);var a=e.create(t(n),i),o=a.pipe((0,y.U)((function(e){return"data"===e.type?e.value:e})));return r.set(o,a),o},updatePriority:function(t,n){var i=r.get(t);void 0!==i?e.updatePriority(i,n):L.Z.warn("Fetchers: Cannot update the priority of a request: task not found.")}}}(this._prioritizer,n)},e}(),Dt=r(4507),jt=r(5767),Lt=r(3774),Nt=r(6923),Ut=I.ym;function Bt(e,t,r){if(null!==t&&"closed"!==t.readyState){for(var n=t.readyState,i=t.sourceBuffers,a=i.length-1;a>=0;a--){var o=i[a];try{"open"===n&&(L.Z.info("Init: Removing SourceBuffer from mediaSource",o),o.abort()),t.removeSourceBuffer(o)}catch(s){L.Z.warn("Init: Error while disposing SourceBuffer",s)}}i.length>0&&L.Z.warn("Init: Not all SourceBuffers could have been removed.")}if((0,jt.Z)(e),null!==r)try{L.Z.debug("Init: Revoking previous URL"),URL.revokeObjectURL(r)}catch(s){L.Z.warn("Init: Error while revoking the media source URL",s)}}function Ft(e){return function(e){return new Ee.y((function(t){if(null==Lt.JJ)throw new B.Z("MEDIA_SOURCE_NOT_SUPPORTED","No MediaSource Object was found in the current browser.");var r=(0,Nt.Z)(e.src)?e.src:null;Bt(e,null,r),L.Z.info("Init: Creating MediaSource");var n=new Lt.JJ,i=URL.createObjectURL(n);return L.Z.info("Init: Attaching MediaSource URL to the media element",i),e.src=i,t.next(n),function(){Bt(e,n,i)}}))}(e).pipe((0,oe.zg)((function(e){return Ut(e).pipe((0,k.q)(1),(0,x.h)(e))})))}var zt=r(8343),Vt=U.Z.DEFAULT_LIVE_GAP,$t=r(4944),Wt=r(6564),Kt=r(7027),Ht=r(6968),Gt=r(2870),Zt=r(4123),qt=U.Z.SOURCE_BUFFER_FLUSHING_INTERVAL,Xt=function(e){function t(t,r,n){var i;i=e.call(this)||this;var a=n.addSourceBuffer(r);return i._destroy$=new s.xQ,i.bufferType=t,i._mediaSource=n,i._sourceBuffer=a,i._queue=[],i._pendingTask=null,i._lastInitSegment=null,i.codec=r,(0,Wt.F)(qt).pipe((0,pe.b)((function(){return i._flush()})),(0,v.R)(i._destroy$)).subscribe(),(0,Kt.R)(i._sourceBuffer,"error").pipe((0,pe.b)((function(e){return i._onPendingTaskError(e)})),(0,v.R)(i._destroy$)).subscribe(),(0,Kt.R)(i._sourceBuffer,"updateend").pipe((0,pe.b)((function(){return i._flush()})),(0,v.R)(i._destroy$)).subscribe(),i}o()(t,e);var r=t.prototype;return r.pushChunk=function(e){return L.Z.debug("AVSB: receiving order to push data to the SourceBuffer",this.bufferType,e),this._addToQueue({type:Zt.f.Push,value:e})},r.removeBuffer=function(e,t){return L.Z.debug("AVSB: receiving order to remove data from the SourceBuffer",this.bufferType,e,t),this._addToQueue({type:Zt.f.Remove,value:{start:e,end:t}})},r.endOfSegment=function(e){return L.Z.debug("AVSB: receiving order for validating end of segment",this.bufferType,e.segment),this._addToQueue({type:Zt.f.EndOfSegment,value:e})},r.getBufferedRanges=function(){return this._sourceBuffer.buffered},r.getPendingOperations=function(){var e=function(e){switch(e.type){case Zt.f.Push:case Zt.f.Remove:case Zt.f.EndOfSegment:return{type:e.type,value:e.value}}},t=this._queue.map(e);return null===this._pendingTask?t:[e(this._pendingTask)].concat(t)},r.dispose=function(){for(this._destroy$.next(),this._destroy$.complete(),null!==this._pendingTask&&(this._pendingTask.subject.complete(),this._pendingTask=null);this._queue.length>0;){var e=this._queue.shift();void 0!==e&&e.subject.complete()}if("open"===this._mediaSource.readyState)try{this._sourceBuffer.abort()}catch(t){L.Z.warn("AVSB: Failed to abort a "+this.bufferType+" SourceBuffer:",t)}},r._onPendingTaskError=function(e){if(this._lastInitSegment=null,null!==this._pendingTask){var t=e instanceof Error?e:new Error("An unknown error occured when doing operations on the SourceBuffer");this._pendingTask.subject.error(t)}},r._addToQueue=function(e){var t=this;return new Ee.y((function(r){var n=0===t._queue.length&&null===t._pendingTask,i=new s.xQ,a=(0,q.Z)({subject:i},e);t._queue.push(a);var o=i.subscribe(r);return n&&t._flush(),function(){o.unsubscribe();var e=t._queue.indexOf(a);e>=0&&t._queue.splice(e,1)}}))},r._flush=function(){if(!this._sourceBuffer.updating){if(null!==this._pendingTask){var e=this._pendingTask;if(e.type!==Zt.f.Push||0===e.data.length){switch(e.type){case Zt.f.Push:null!==e.inventoryData&&this._segmentInventory.insertChunk(e.inventoryData);break;case Zt.f.EndOfSegment:this._segmentInventory.completeSegment(e.value);break;case Zt.f.Remove:this.synchronizeInventory();break;default:(0,Tt.Z)(e)}var t=e.subject;return this._pendingTask=null,t.next(),t.complete(),void this._flush()}}else{var r=this._queue.shift();if(void 0===r)return;if(r.type!==Zt.f.Push)this._pendingTask=r;else{var n,i=r.value;try{n=this._preparePushOperation(i.data)}catch(c){this._pendingTask=(0,q.Z)({data:[],inventoryData:i.inventoryInfos},r);var a=c instanceof Error?c:new Error("An unknown error occured when preparing a push operation");return this._lastInitSegment=null,void r.subject.error(a)}this._pendingTask=(0,q.Z)({data:n,inventoryData:i.inventoryInfos},r)}}try{switch(this._pendingTask.type){case Zt.f.EndOfSegment:return L.Z.debug("AVSB: Acknowledging complete segment",this._pendingTask.value),void this._flush();case Zt.f.Push:var o=this._pendingTask.data.shift();if(void 0===o)return void this._flush();this._sourceBuffer.appendBuffer(o);break;case Zt.f.Remove:var s=this._pendingTask.value,l=s.start,u=s.end;L.Z.debug("AVSB: removing data from SourceBuffer",this.bufferType,l,u),this._sourceBuffer.remove(l,u);break;default:(0,Tt.Z)(this._pendingTask)}}catch(c){this._onPendingTaskError(c)}}},r._preparePushOperation=function(e){var t=[],r=e.codec,n=e.timestampOffset,i=e.appendWindow,a=!1;if(r!==this.codec&&(L.Z.debug("AVSB: updating codec",r),(a=function(e,t){if("function"===typeof e.changeType){try{e.changeType(t)}catch(r){return L.Z.warn("Could not call 'changeType' on the given SourceBuffer:",r),!1}return!0}return!1}(this._sourceBuffer,r))?this.codec=r:L.Z.debug("AVSB: could not update codec",r,this.codec)),this._sourceBuffer.timestampOffset!==n){var o=n;L.Z.debug("AVSB: updating timestampOffset",this.bufferType,this._sourceBuffer.timestampOffset,o),this._sourceBuffer.timestampOffset=o}if(void 0===i[0]?this._sourceBuffer.appendWindowStart>0&&(this._sourceBuffer.appendWindowStart=0):i[0]!==this._sourceBuffer.appendWindowStart&&(i[0]>=this._sourceBuffer.appendWindowEnd&&(this._sourceBuffer.appendWindowEnd=i[0]+1),this._sourceBuffer.appendWindowStart=i[0]),void 0===i[1]?this._sourceBuffer.appendWindowEnd!==1/0&&(this._sourceBuffer.appendWindowEnd=1/0):i[1]!==this._sourceBuffer.appendWindowEnd&&(this._sourceBuffer.appendWindowEnd=i[1]),null!==e.initSegment&&(a||!this._isLastInitSegment(e.initSegment))){var s=e.initSegment;t.push(s);var l=(0,Ht._f)(s);this._lastInitSegment={data:l,hash:(0,Gt.Z)(l)}}return null!==e.chunk&&t.push(e.chunk),t},r._isLastInitSegment=function(e){if(null===this._lastInitSegment)return!1;if(this._lastInitSegment.data===e)return!0;var t=this._lastInitSegment.data;if(t.byteLength===e.byteLength){var r=(0,Ht._f)(e);if((0,Gt.Z)(r)===this._lastInitSegment.hash&&(0,K.Z)(t,r))return!0}return!1},t}(Zt.C),Yt=["audio","video","text","image"];function Qt(e){return"audio"===e||"video"===e}var Jt=function(){function e(e,t){this._mediaElement=e,this._mediaSource=t,this._initializedSegmentBuffers={},this._onNativeBufferAddedOrDisabled=[]}e.isNative=function(e){return Qt(e)};var t=e.prototype;return t.getBufferTypes=function(){var e=this.getNativeBufferTypes();return null==W.Z.nativeTextTracksBuffer&&null==W.Z.htmlTextTracksBuffer||e.push("text"),null!=W.Z.imageBuffer&&e.push("image"),e},t.getNativeBufferTypes=function(){return"AUDIO"===this._mediaElement.nodeName?["audio"]:["video","audio"]},t.getStatus=function(e){var t=this._initializedSegmentBuffers[e];return void 0===t?{type:"uninitialized"}:null===t?{type:"disabled"}:{type:"initialized",value:t}},t.waitForUsableBuffers=function(){var e=this;return this._areNativeBuffersUsable()?(0,m.of)(void 0):new Ee.y((function(t){e._onNativeBufferAddedOrDisabled.push((function(){e._areNativeBuffersUsable()&&(t.next(void 0),t.complete())}))}))},t.disableSegmentBuffer=function(t){var r=this._initializedSegmentBuffers[t];if(null!==r){if(void 0!==r)throw new Error("Cannot disable an active SegmentBuffer.");this._initializedSegmentBuffers[t]=null,e.isNative(t)&&this._onNativeBufferAddedOrDisabled.forEach((function(e){return e()}))}else L.Z.warn("SBS: The "+t+" SegmentBuffer was already disabled.")},t.createSegmentBuffer=function(e,t,r){void 0===r&&(r={});var n,i=this._initializedSegmentBuffers[e];if(Qt(e)){if(null!=i)return i instanceof Xt&&i.codec!==t?L.Z.warn("SB: Reusing native SegmentBuffer with codec",i.codec,"for codec",t):L.Z.info("SB: Reusing native SegmentBuffer with codec",t),i;L.Z.info("SB: Adding native SegmentBuffer with codec",t);var a=new Xt(e,t,this._mediaSource);return this._initializedSegmentBuffers[e]=a,this._onNativeBufferAddedOrDisabled.forEach((function(e){return e()})),a}if(null!=i)return L.Z.info("SB: Reusing a previous custom SegmentBuffer for the type",e),i;if("text"===e){if(L.Z.info("SB: Creating a new text SegmentBuffer"),"html"===r.textTrackMode){if(null==W.Z.htmlTextTracksBuffer)throw new Error("HTML Text track feature not activated");n=new W.Z.htmlTextTracksBuffer(this._mediaElement,r.textTrackElement)}else{if(null==W.Z.nativeTextTracksBuffer)throw new Error("Native Text track feature not activated");n=new W.Z.nativeTextTracksBuffer(this._mediaElement,!0===r.hideNativeSubtitle)}return this._initializedSegmentBuffers.text=n,n}if("image"===e){if(null==W.Z.imageBuffer)throw new Error("Image buffer feature not activated");return L.Z.info("SB: Creating a new image SegmentBuffer"),n=new W.Z.imageBuffer,this._initializedSegmentBuffers.image=n,n}throw L.Z.error("SB: Unknown buffer type:",e),new B.Z("BUFFER_TYPE_UNKNOWN","The player wants to create a SegmentBuffer of an unknown type.")},t.disposeSegmentBuffer=function(e){var t=this._initializedSegmentBuffers[e];null!=t?(L.Z.info("SB: Aborting SegmentBuffer",e),t.dispose(),delete this._initializedSegmentBuffers[e]):L.Z.warn("SB: Trying to dispose a SegmentBuffer that does not exist")},t.disposeAll=function(){var e=this;Yt.forEach((function(t){"initialized"===e.getStatus(t).type&&e.disposeSegmentBuffer(t)}))},t._areNativeBuffersUsable=function(){var e=this,t=this.getNativeBufferTypes();return!t.some((function(t){return void 0===e._initializedSegmentBuffers[t]}))&&!t.every((function(t){return null===e._initializedSegmentBuffers[t]}))},e}(),er=function(){function e(e){this._array=[],this._sortingFn=e}var t=e.prototype;return t.add=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.sort(this._sortingFn);for(var n=0,i=0;i<t.length;i++){for(var a=t[i],o=!1;!o&&n<this._array.length;)this._sortingFn(a,this._array[n])<0?(this._array.splice(n,0,a),o=!0):n++;o||this._array.push(a)}},t.length=function(){return this._array.length},t.get=function(e){if(e<0||e>=this._array.length)throw new Error("Invalid index.");return this._array[e]},t.findFirst=function(e){return(0,Fe.Z)(this._array,e)},t.has=function(e){return(0,St.Z)(this._array,e)},t.removeElement=function(e){var t=this._array.indexOf(e);if(t>=0)return this._array.splice(t,1),t},t.head=function(){return this._array[0]},t.last=function(){return this._array[this._array.length-1]},t.shift=function(){return this._array.shift()},t.pop=function(){return this._array.pop()},e}(),tr=function(){function e(e){this._weakMap=new WeakMap,this._fn=e}var t=e.prototype;return t.get=function(e){var t=this._weakMap.get(e);if(void 0===t){var r=this._fn(e);return this._weakMap.set(e,r),r}return t},t.destroy=function(e){this._weakMap.delete(e)},e}(),rr=r(2257);function nr(e){var t=e.segmentBuffer,r=e.clock$,n=e.maxBufferBehind$,i=e.maxBufferAhead$;return(0,h.aj)([r,n,i]).pipe((0,oe.zg)((function(e){var r=e[0],n=e[1],i=e[2];return function(e,t,r,n){if(!isFinite(r)&&!isFinite(n))return p.E;var i=[],a=(0,Y.F_)(e.getBufferedRanges(),t),o=a.innerRange,s=a.outerRanges;return function(){if(isFinite(r)){for(var e=0;e<s.length;e++){var n=s[e];t-r>=n.end?i.push(n):t>=n.end&&t-r>n.start&&t-r<n.end&&i.push({start:n.start,end:t-r})}null!=o&&t-r>o.start&&i.push({start:o.start,end:t-r})}}(),function(){if(isFinite(n)){for(var e=0;e<s.length;e++){var r=s[e];t+n<=r.start?i.push(r):t<=r.start&&t+n<r.end&&t+n>r.start&&i.push({start:t+n,end:r.end})}null!=o&&t+n<o.end&&i.push({start:t+n,end:o.end})}}(),(0,le.D)(i.map((function(t){return L.Z.debug("GC: cleaning range from SegmentBuffer",t),e.removeBuffer(t.start,t.end)}))).pipe((0,rr.u)(),(0,ie.l)())}(t,r,n,i)})))}var ir={activePeriodChanged:function(e){return{type:"activePeriodChanged",value:{period:e}}},adaptationChange:function(e,t,r){return{type:"adaptationChange",value:{type:e,adaptation:t,period:r}}},addedSegment:function(e,t,r,n){return{type:"added-segment",value:{content:e,segment:t,segmentData:n,buffered:r}}},bitrateEstimationChange:function(e,t){return{type:"bitrateEstimationChange",value:{type:e,bitrate:t}}},streamComplete:function(e){return{type:"complete-stream",value:{type:e}}},endOfStream:function(){return{type:"end-of-stream",value:void 0}},needsManifestRefresh:function(){return{type:"needs-manifest-refresh",value:void 0}},manifestMightBeOufOfSync:function(){return{type:"manifest-might-be-out-of-sync",value:void 0}},needsMediaSourceReload:function(e,t,r){return{type:"needs-media-source-reload",value:{position:t,autoPlay:r,period:e}}},needsDecipherabilityFlush:function(e,t,r){return{type:"needs-decipherability-flush",value:{position:e,autoPlay:t,duration:r}}},periodStreamReady:function(e,t,r){return{type:"periodStreamReady",value:{type:e,period:t,adaptation$:r}}},periodStreamCleared:function(e,t){return{type:"periodStreamCleared",value:{type:e,period:t}}},protectedSegment:function(e){return{type:"protected-segment",value:e}},representationChange:function(e,t,r){return{type:"representationChange",value:{type:e,period:t,representation:r}}},streamTerminating:function(){return{type:"stream-terminating",value:void 0}},resumeStream:function(){return{type:"resume-stream",value:void 0}},warning:function(e){return{type:"warning",value:e}}},ar=r(7473),or=r.n(ar),sr=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new lr(e,this.predicate,this.inclusive))},e}(),lr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return u.ZT(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(n){return void r.error(n)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())},t}(O.L);function ur(e,t,r,n,i){var a=e.period,o=e.adaptation,s=e.representation,l=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(void 0===n.bufferedStart||void 0===n.bufferedEnd||n.bufferedStart>=t.end)return null;if(n.bufferedEnd>t.start)return r}return null}(i,t);if(null===l){if(null===r){if(n&&void 0!==a.end&&t.end>=a.end)return{start:void 0,end:null};var u=s.index.checkDiscontinuity(t.start);if(null!==u)return{start:void 0,end:u}}return null}var c=i[l];if(void 0!==c.bufferedStart&&c.bufferedStart>t.start&&(null===r||c.infos.segment.end<=r))return L.Z.debug("RS: current discontinuity encountered",o.type,c.bufferedStart),{start:void 0,end:c.bufferedStart};var d=function(e,t,r){if(r<=0)return L.Z.error("RS: Asked to check a discontinuity before the first chunk."),null;for(var n=r;n<e.length;n++){var i=e[n],a=e[n-1];if(void 0===i.bufferedStart||void 0===a.bufferedEnd||i.bufferedStart>=t.end)return null;if(i.bufferedStart-a.bufferedEnd>0)return n}return null}(i,t,l+1);if(null!==d&&(null===r||i[d].infos.segment.end<=r)){var f=i[d-1].bufferedEnd,p=i[d].bufferedStart;return L.Z.debug("RS: future discontinuity encountered",o.type,f,p),{start:f,end:p}}if(null===r){if(n&&void 0!==a.end){if(t.end<a.end)return null;var h=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(void 0===n.bufferedStart)return null;if(n.bufferedStart<t)return r}return null}(i,a.end);if(null!==h){var g=i[h];if(void 0!==g.bufferedEnd&&g.bufferedEnd<a.end)return L.Z.debug("RS: discontinuity encountered at the end of the current period",o.type,g.bufferedEnd,a.end),{start:g.bufferedEnd,end:null}}}if(void 0!==a.end&&t.end>=a.end)return null;for(var m=i.length-1;m>=0;m--){var v=i[m];if(void 0===v.bufferedStart)break;if(v.bufferedStart<t.end){if(void 0!==v.bufferedEnd&&v.bufferedEnd<t.end){var y=s.index.checkDiscontinuity(t.end);if(null!==y)return{start:v.bufferedEnd,end:y}}return null}}}return null}var cr=j.G6,dr=r(5952),fr=U.Z.CONTENT_REPLACEMENT_PADDING,pr=U.Z.BITRATE_REBUFFERING_RATIO,hr=U.Z.MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT,gr=U.Z.MINIMUM_SEGMENT_SIZE,mr=Math.min(1/60,gr);function vr(e){var t=e.content,r=e.currentPlaybackTime,n=e.fastSwitchThreshold,i=e.neededRange,a=e.segmentsBeingPushed,o=e.bufferedSegments,s=t.representation.index.getSegments(i.start,i.end-i.start),l=o.filter((function(e){return!br(e.infos,t,r,n)})).filter((function(e,t,r){var n=0===t?null:r[t-1],a=t>=r.length-1?null:r[t+1];return!function(e,t,r){return void 0===e.bufferedStart?(L.Z.warn("Stream: Start of a segment unknown. Assuming it is garbage collected by default.",e),!0):!(null!==t&&void 0!==t.bufferedEnd&&e.bufferedStart-t.bufferedEnd<.1)&&(r<e.bufferedStart&&e.bufferedStart-e.start>hr&&(L.Z.info("Stream: The start of the wanted segment has been garbage collected",e),!0))}(e,n,i.start)&&!function(e,t,r){return void 0===e.bufferedEnd?(L.Z.warn("Stream: End of a segment unknown. Assuming it is garbage collected by default.",e),!0):!(null!==t&&void 0!==t.bufferedStart&&t.bufferedStart-e.bufferedEnd<.1)&&(r>e.bufferedEnd&&e.end-e.bufferedEnd>hr&&(L.Z.info("Stream: The end of the wanted segment has been garbage collected",e),!0))}(e,a,i.end)}));return s.filter((function(e){var i=(0,q.Z)({segment:e},t);if(a.length>0&&a.some((function(e){return(0,dr.Z)(i,e)})))return!1;var o=e.duration,s=e.time,u=e.end;if(e.isInit)return!0;if(o<gr)return!1;if(a.length>0&&a.some((function(e){if(e.period.id!==t.period.id||e.adaptation.id!==t.adaptation.id)return!1;var a=e.segment;return!(a.time-mr>s)&&!(a.end+mr<u)&&!br(e,i,r,n)})))return!1;for(var c=0;c<l.length;c++){var d=l[c];if(d.infos.period.id===t.period.id){var f=d.infos.segment;if(s-f.time>-mr&&f.end-u>-mr)return!1}}for(var p=0;p<l.length;p++){var h=l[p];if(h.end>s)return h.start>s+mr||yr(l,p).end<u-mr}return!0}))}function yr(e,t){for(var r=t+1;r<e.length-1&&e[r-1].end+mr>e[r].start;)r++;return e[--r]}function br(e,t,r,n){if(e.period.id!==t.period.id)return!1;var i=e.segment;return!(cr&&i.time<r+fr)&&(e.adaptation.id!==t.adaptation.id||function(e,t,r){var n=e.bitrate;if(void 0===r){var i=n*pr;return t.bitrate>i}return n<r&&t.bitrate>n}(e.representation,t.representation,n))}var kr=U.Z.SEGMENT_PRIORITIES_STEPS;function _r(e,t){for(var r=e-(t.position+t.wantedTimeOffset),n=0;n<kr.length;n++)if(r<kr[n])return n;return kr.length}var Er=U.Z.MINIMUM_SEGMENT_SIZE;function wr(e,t,r,n,i){var a,o=e.period,s=e.representation;i.synchronizeInventory();var l,u,c=t.position+t.wantedTimeOffset,d=c+n,f={start:Math.max(c,o.start),end:Math.min(d,null!==(a=o.end)&&void 0!==a?a:1/0)},p=s.index.shouldRefresh(c,d),h=i.getPendingOperations().filter((function(e){return e.type===Zt.f.EndOfSegment})).map((function(e){return e.value})),g=function(e,t){for(var r=Math.max(1/60,Er),n=e.start+r,i=e.end-r,a=[],o=t.length-1;o>=0;o--){var s=t[o],l=s.infos.representation;if(!s.partiallyPushed&&!1!==l.decipherable&&l.isSupported){var u=s.infos.segment,c=u.time/u.timescale;((null==u.duration?s.end:c+u.duration/u.timescale)>n&&c<i||s.end>n&&s.start<i)&&a.unshift(s)}}return a}({start:Math.max(f.start-.5,0),end:f.end+.5},i.getInventory()),m=vr({content:e,currentPlaybackTime:t.getCurrentTime(),fastSwitchThreshold:r,neededRange:f,bufferedSegments:g,segmentsBeingPushed:h}).map((function(e){return{priority:_r(e.time,t),segment:e}})),v=s.index.getLastPosition();if(!s.index.isInitialized()||void 0===o.end||m.length>0)l=!1;else if(void 0===v)l=f.end>=o.end&&s.index.isFinished();else if(null===v)l=s.index.isFinished();else{var y=void 0!==o.end?Math.min(o.end,v):v;l=f.end>=y&&s.index.isFinished()}if(s.index.isInitialized()&&(s.index.areSegmentsChronologicallyGenerated()||l)){var b=null;h.length>0&&(b=Math.min.apply(Math,h.map((function(e){return e.segment.time})))),m.length>0&&(b=null!==b?Math.min(b,m[0].segment.time):m[0].segment.time),u=ur(e,f,b,l,g)}else u=null;return{imminentDiscontinuity:u,hasFinishedLoading:l,neededSegments:m,shouldRefreshManifest:p}}var Sr=U.Z.BUFFER_GC_GAPS.CALM,Tr=U.Z.BUFFER_GC_GAPS.BEEFY;function xr(e,t,r){for(var n=(0,Y.F_)(t,e),i=n.innerRange,a=n.outerRanges,o=[],s=0;s<a.length;s++){var l=a[s];(e-r<l.end||e+r>l.start)&&o.push(l)}return null!=i&&(L.Z.debug("Stream: GC removing part of inner range",o),e-r>i.start&&o.push({start:i.start,end:e-r}),e+r<i.end&&o.push({start:e+r,end:i.end})),o}function Or(e,t,r){var n=t.pushChunk(r);return n.pipe((0,nt.K)((function(r){if(!(r instanceof Error)||"QuotaExceededError"!==r.name){var i=r instanceof Error?r.toString():"An unknown error happened when pushing content";throw new B.Z("BUFFER_APPEND_ERROR",i)}return(0,g.z)((a=e,o=t,a.pipe((0,k.q)(1),(0,oe.zg)((function(e){L.Z.warn("Stream: Running garbage collector");var t=o.getBufferedRanges(),r=xr(e.position,t,Sr);return 0===r.length&&(r=xr(e.position,t,Tr)),L.Z.debug("Stream: GC cleaning",r),(0,le.D)(r.map((function(e){var t=e.start,r=e.end;return o.removeBuffer(t,r)}))).pipe((0,rr.u)())})))).pipe((0,ie.l)()),n).pipe((0,nt.K)((function(e){var t=e instanceof Error?e.toString():"Could not clean the buffer";throw new B.Z("BUFFER_FULL_ERROR",t)})));var a,o})))}var Pr=U.Z.APPEND_WINDOW_SECURITIES,Ar=function(e){var t,r,n=e.bufferGoal$,i=e.clock$,a=e.content,o=e.fastSwitchThreshold$,u=e.segmentBuffer,c=e.segmentFetcher,d=e.terminate$,v=a.manifest,b=a.period,_=a.adaptation,E=a.representation,w=_.type,x=E.index.getInitSegment(),O=null===x?{initializationData:null,segmentProtections:[],initTimescale:void 0}:null,P=[],A=new l.t(1),C=new s.xQ,M=null,I=(0,h.aj)([i,n,d.pipe((0,k.q)(1),(0,T.O)(null)),C.pipe((0,T.O)(void 0))]).pipe(Ie(o),(0,oe.zg)((function(e){var t=e[0],r=t[0],n=t[1],i=t[2],o=e[1],s=wr(a,r,o,n,u),l=s.neededSegments;if(E.index.isInitialized()){if(l.length>0&&null!==x&&null===O){var d=l[0].priority;l.unshift({segment:x,priority:d})}}else null===x?L.Z.warn("Stream: Uninitialized index without an initialization segment"):null!==O?L.Z.warn("Stream: Uninitialized index with an already loaded initialization segment"):l.unshift({segment:x,priority:_r(b.start,r)});var f=l[0];if(null!==i){if(P=[],i.urgent)return L.Z.debug("Stream: urgent termination request, terminate.",w),A.complete(),(0,m.of)(ir.streamTerminating());if(null===M)return L.Z.debug("Stream: no request, terminate.",w),A.complete(),(0,m.of)(ir.streamTerminating());if(void 0===f||M.segment.id!==f.segment.id)return L.Z.debug("Stream: cancel request and terminate.",w),A.next(),A.complete(),(0,m.of)(ir.streamTerminating());if(M.priority!==f.priority){var p=M.request$;M.priority=f.priority,c.updatePriority(p,f.priority)}L.Z.debug("Stream: terminate after request.",w)}else if(void 0===f)null!==M&&L.Z.debug("Stream: interrupt segment request.",w),P=[],A.next();else if(null===M)L.Z.debug("Stream: start downloading queue.",w),P=l,A.next();else if(M.segment.id!==f.segment.id)L.Z.debug("Stream: restart download queue.",w),P=l,A.next();else if(M.priority!==f.priority){L.Z.debug("Stream: update request priority.",w);var h=M.request$;M.priority=f.priority,c.updatePriority(h,f.priority)}else L.Z.debug("Stream: update downloading queue",w),P=l.slice().splice(1,l.length);var v=(0,m.of)({type:"stream-status",value:{period:b,position:r.position,bufferType:w,imminentDiscontinuity:s.imminentDiscontinuity,hasFinishedLoading:s.hasFinishedLoading,neededSegments:s.neededSegments}});return s.shouldRefreshManifest?(0,g.z)((0,m.of)(ir.needsManifestRefresh()),v):v})),(t=function(e){return"stream-terminating"!==e.type},void 0===(r=!0)&&(r=!1),function(e){return e.lift(new sr(t,r))})),R=A.pipe((0,ye.w)((function(){return P.length>0?function(){var e=(0,J.P)((function(){var t=P.shift();if(void 0===t)return or()((function(){C.next()})),p.E;var r=t.segment,n=t.priority,i={manifest:v,period:b,adaptation:_,representation:E,segment:r},a=c.createRequest(i,n);return M={segment:r,priority:n,request$:a},a.pipe((0,oe.zg)((function(t){switch(t.type){case"warning":return(0,m.of)({type:"retry",value:{segment:r,error:t.value}});case"chunk-complete":return M=null,(0,m.of)({type:"end-of-segment",value:{segment:r}});case"interrupted":return L.Z.info("Stream: segment request interrupted temporarly.",r),p.E;case"chunk":var n=null===O||void 0===O?void 0:O.initTimescale;return t.parse(n).pipe((0,y.U)((function(e){return(0,q.Z)({segment:r},e)})));case"ended":return e;default:(0,Tt.Z)(t)}})))}));return e.pipe(ge((function(){M=null})))}():p.E})),(0,oe.zg)((function(e){var t;switch(e.type){case"retry":return(0,g.z)((0,m.of)({type:"warning",value:e.value.error}),(0,J.P)((function(){var t=e.value.segment,r=E.index;if(!1===r.isSegmentStillAvailable(t))C.next();else if(r.canBeOutOfSyncError(e.value.error,t))return(0,m.of)(ir.manifestMightBeOufOfSync());return p.E})));case"parsed-init-segment":O=e.value;var r=m.of.apply(void 0,e.value.segmentProtections.map((function(e){return ir.protectedSegment(e)}))),n=function(e){var t=e.clock$,r=e.content,n=e.segment,i=e.segmentData,a=e.segmentBuffer;return(0,J.P)((function(){if(null===i)return p.E;var e=r.representation.getMimeTypeString();return Or(t,a,{data:{initSegment:i,chunk:null,timestampOffset:0,appendWindow:[void 0,void 0],codec:e},inventoryInfos:null}).pipe((0,y.U)((function(){var e=a.getBufferedRanges();return ir.addedSegment(r,n,e,i)})))}))}({clock$:i,content:a,segment:e.segment,segmentData:e.value.initializationData,segmentBuffer:u});return(0,f.T)(r,n);case"parsed-segment":var o=null!==(t=null===O||void 0===O?void 0:O.initializationData)&&void 0!==t?t:null;return function(e){var t=e.clock$,r=e.content,n=e.initSegmentData,i=e.parsedSegment,a=e.segment,o=e.segmentBuffer;return(0,J.P)((function(){var e,s;if(null===i.chunkData)return p.E;var l=i.chunkData,u=i.chunkInfos,c=i.chunkOffset,d=i.appendWindow,f=r.representation.getMimeTypeString(),h=[void 0!==d[0]?Math.max(0,d[0]-Pr.START):void 0,void 0!==d[1]?d[1]+Pr.END:void 0],g={initSegment:n,chunk:l,timestampOffset:c,appendWindow:h,codec:f},m=null!==(e=null===u||void 0===u?void 0:u.time)&&void 0!==e?e:a.time,v=m+(null!==(s=null===u||void 0===u?void 0:u.duration)&&void 0!==s?s:a.duration);void 0!==h[0]&&(m=Math.max(m,h[0])),void 0!==h[1]&&(v=Math.min(v,h[1]));var b=(0,q.Z)({segment:a,start:m,end:v},r);return Or(t,o,{data:g,inventoryInfos:b}).pipe((0,y.U)((function(){var e=o.getBufferedRanges();return ir.addedSegment(r,a,e,l)})))}))}({clock$:i,content:a,initSegmentData:o,parsedSegment:e.value,segment:e.segment,segmentBuffer:u});case"end-of-segment":var s=e.value.segment;return u.endOfSegment((0,q.Z)({segment:s},a)).pipe((0,ie.l)());default:(0,Tt.Z)(e)}})));return(0,f.T)(I,R).pipe((0,S.B)())};function Cr(e,t,r){return t.pipe((0,k.q)(1),(0,oe.zg)((function(n){var i;if(e.start<=n.position&&(void 0===e.end||e.end>n.position)){var a=n.getCurrentTime()+r,o=Math.min(Math.max(e.start,a),null!==(i=e.end)&&void 0!==i?i:1/0);return(0,m.of)(ir.needsMediaSourceReload(e,o,!n.isPaused))}return t.pipe((0,y.U)((function(t){return ir.needsMediaSourceReload(e,t.getCurrentTime(),!t.isPaused)})))})))}var Mr=U.Z.DELTA_POSITION_AFTER_RELOAD,Ir=function(e){var t=e.abrManager,r=e.clock$,n=e.content,i=e.options,a=e.segmentBuffer,o=e.segmentFetcherCreator,l=e.wantedBufferAhead$,u="direct"===i.manualBitrateSwitchingMode,c=n.manifest,h=n.period,v=n.adaptation,_={},E=function(e,t,r){var n=new s.xQ,i=new s.xQ,a=(0,f.T)(n,i),o=e.getPlayableRepresentations();if(o.length<=0)throw new B.Z("NO_PLAYABLE_REPRESENTATION","No Representation in the chosen Adaptation can be played");return{estimator$:t.get$(e.type,o,r,a),streamFeedback$:n,requestFeedback$:i}}(v,t,r),T=E.estimator$,x=E.requestFeedback$,O=E.streamFeedback$,P=o.createSegmentFetcher(v.type,x),A=new d(null),C=T.pipe((0,pe.b)((function(e){A.next(e)})),(0,ke.Z)(),(0,S.B)()),M=C.pipe((0,w.h)((function(e){return null!=e.bitrate})),(0,b.x)((function(e,t){return e.bitrate===t.bitrate})),(0,y.U)((function(e){var t=e.bitrate;return L.Z.debug("Stream: new "+v.type+" bitrate estimate",t),ir.bitrateEstimationChange(v.type,t)}))),I=C.pipe(ce((function(e,t){return function e(t,n){var o=t.representation;if(u&&t.manual&&!n)return Cr(h,r,Mr.bitrateSwitch);var s=A.pipe((0,w.h)((function(e){return null===e||e.representation.id!==o.id||e.manual&&!t.manual})),(0,k.q)(1),(0,y.U)((function(e){return null===e?(L.Z.info("Stream: urgent Representation termination",v.type),{urgent:!0}):e.urgent?(L.Z.info("Stream: urgent Representation switch",v.type),{urgent:!0}):(L.Z.info("Stream: slow Representation switch",v.type),{urgent:!1})}))),d=i.enableFastSwitching?A.pipe((0,y.U)((function(e){return null===e?void 0:e.knownStableBitrate})),(0,b.x)()):(0,m.of)(0),f=(0,m.of)(ir.representationChange(v.type,h,o));return(0,g.z)(f,function e(t,n,i){return(0,J.P)((function(){var o=_[t.id],s=null!=o?o:1;_[t.id]=s;var u=l.pipe((0,y.U)((function(e){return e*s})));return L.Z.info("Stream: changing representation",v.type,t),Ar({clock$:r,content:{representation:t,adaptation:v,period:h,manifest:c},segmentBuffer:a,segmentFetcher:P,terminate$:n,bufferGoal$:u,fastSwitchThreshold$:i}).pipe((0,nt.K)((function(r){var a=V(r,{defaultCode:"NONE",defaultReason:"Unknown `RepresentationStream` error"});if("BUFFER_FULL_ERROR"===a.code){var o=l.getValue(),u=s;if(u<=.25||o*u<=2)throw a;return _[t.id]=u-.25,e(t,n,i)}throw a})))}))}(o,s,d)).pipe((0,pe.b)((function(e){if("representationChange"===e.type||"added-segment"===e.type)return O.next(e)})),(0,oe.zg)((function(t){if("stream-terminating"===t.type){var r=A.getValue();return null===r?p.E:e(r,!1)}return(0,m.of)(t)})))}(e,0===t)})));return(0,f.T)(I,M)};function Rr(e,t,r,n){var i=n.period,a=!1;return(0,h.aj)([e,t]).pipe((0,oe.zg)((function(e){var t=e[0],n=e[1],o=t.position;return void 0!==i.end&&o+n>=i.end&&(L.Z.debug('Stream: full "empty" AdaptationStream',r),a=!0),(0,m.of)({type:"stream-status",value:{period:i,bufferType:r,position:t.position,imminentDiscontinuity:null,hasFinishedLoading:a,neededSegments:[],shouldRefreshManifest:!1}})})))}var Dr=r(9252),jr=function(e,t){var r=e.split(";"),n=r[0],i=r.slice(1),a=t.split(";"),o=a[0],s=a.slice(1);if(n!==o)return!1;var l=(0,Fe.Z)(i,(function(e){return(0,Dr.Z)(e,"codecs=")})),u=(0,Fe.Z)(s,(function(e){return(0,Dr.Z)(e,"codecs=")}));if(void 0===l||void 0===u)return!1;var c=l.substring(7),d=u.substring(7);return c.split(".")[0]===d.split(".")[0]},Lr=U.Z.ADAPTATION_SWITCH_BUFFER_PADDINGS;function Nr(e,t,r,n,i){if(void 0!==e.codec&&"reload"===i.onCodecSwitch&&!Ur(r,e.codec))return{type:"needs-reload",value:void 0};var a=e.getBufferedRanges();if(0===a.length)return{type:"continue",value:void 0};var o=(0,Y.JN)(a),s=t.start,l=null==t.end?1/0:t.end,u=(0,Y.tn)(o,[{start:s,end:l}]);if(0===u.length)return{type:"continue",value:void 0};e.synchronizeInventory();var c=e.getInventory();if(!c.some((function(e){return e.infos.period.id===t.id&&e.infos.adaptation.id!==r.id})))return{type:"continue",value:void 0};var d=function(e,t,r){return e.reduce((function(e,n){if(n.infos.period.id!==t.id||n.infos.adaptation.id!==r.id)return e;var i=n.bufferedStart,a=n.bufferedEnd;return void 0===i||void 0===a||e.push({start:i,end:a}),e}),[])}(c,t,r),f=(0,Y.uH)(u,d);if(0===f.length)return{type:"continue",value:void 0};var p=n.currentTime;if("video"===r.type&&(0,Y.Ti)({start:s,end:l},p)&&(n.readyState>1||!r.getPlayableRepresentations().some((function(t){var r;return jr(t.getMimeTypeString(),null!==(r=e.codec)&&void 0!==r?r:"")})))&&!(0,Y.A1)(d,p))return{type:"needs-reload",value:void 0};if("audio"===r.type&&void 0!==e.codec&&"direct"===i.audioTrackSwitchingMode&&(0,Y.Ti)({start:s,end:l},p)&&(n.readyState>1||!Ur(r,e.codec))&&!(0,Y.A1)(d,p))return{type:"needs-reload",value:void 0};var h=[],g=function(e,t){for(var r=0;r<e.length;r++)if(e[r].infos.period.start>=t.start)return r>0?e[r-1]:null;return e.length>0?e[e.length-1]:null}(c,t);null!==g&&(void 0===g.bufferedEnd||t.start-g.bufferedEnd<1)&&h.push({start:0,end:t.start+1});var m=r.type,v=Lr[m].before;null==v&&(v=0);var y=Lr[m].after;if(null==y&&(y=0),h.push({start:p-v,end:p+y}),void 0!==t.end){var b=function(e,t){for(var r=0;r<e.length;r++)if(e[r].infos.period.start>t.start)return e[r];return null}(c,t);null!==b&&(void 0===b.bufferedStart||b.bufferedStart-t.end<1)&&h.push({start:t.end-1,end:Number.MAX_VALUE})}var k=(0,Y.uH)(f,h);return k.length>0?{type:"clean-buffer",value:k}:{type:"continue",value:void 0}}function Ur(e,t){return e.getPlayableRepresentations().some((function(e){return jr(e.getMimeTypeString(),t)}))}var Br=U.Z.DELTA_POSITION_AFTER_RELOAD,Fr=function(e){var t=e.abrManager,r=e.bufferType,n=e.clock$,i=e.content,a=e.garbageCollectors,o=e.segmentFetcherCreator,s=e.segmentBuffersStore,u=e.options,c=e.wantedBufferAhead$,d=i.period,h=new l.t(1);return h.pipe((0,ye.w)((function(e,l){var h=0===l?0:"audio"===r?Br.trackSwitch.audio:"video"===r?Br.trackSwitch.video:Br.trackSwitch.other;if(null===e){L.Z.info("Stream: Set no "+r+" Adaptation",d);var v,b=s.getStatus(r);if("initialized"===b.type){if(L.Z.info("Stream: Clearing previous "+r+" SegmentBuffer"),Jt.isNative(r))return Cr(d,n,h);v=b.value.removeBuffer(d.start,null==d.end?1/0:d.end)}else"uninitialized"===b.type&&s.disableSegmentBuffer(r),v=(0,m.of)(null);return(0,g.z)(v.pipe((0,x.h)(ir.adaptationChange(r,null,d))),Rr(n,c,r,{period:d}))}if(Jt.isNative(r)&&"disabled"===s.getStatus(r).type)return Cr(d,n,h);L.Z.info("Stream: Updating "+r+" adaptation",e,d);var _=n.pipe((0,k.q)(1),(0,oe.zg)((function(l){var v=function(e,t,r,n){var i=e.getStatus(t);if("initialized"===i.type)return L.Z.info("Stream: Reusing a previous SegmentBuffer for the type",t),i.value;var a=function(e){var t=e.representations;return null==t[0]?"":t[0].getMimeTypeString()}(r),o="text"===t?n.textTrackOptions:void 0;return e.createSegmentBuffer(t,a,o)}(s,r,e,u),b={currentTime:l.getCurrentTime(),readyState:l.readyState},k=Nr(v,d,e,b,u);if("needs-reload"===k.type)return Cr(d,n,h);var _="clean-buffer"===k.type?g.z.apply(void 0,k.value.map((function(e){var t=e.start,r=e.end;return v.removeBuffer(t,r)}))).pipe((0,ie.l)()):p.E,E=a.get(v),w=function(e,a){var l=i.manifest,f=n.pipe((0,y.U)((function(e){var t=a.getBufferedRanges();return(0,q.Z)({},e,{bufferGap:(0,Y.L7)(t,e.position)})})));return Ir({abrManager:t,clock$:f,content:{manifest:l,period:d,adaptation:e},options:u,segmentBuffer:a,segmentFetcherCreator:o,wantedBufferAhead$:c}).pipe((0,nt.K)((function(e){if(!Jt.isNative(r)){L.Z.error("Stream: "+r+" Stream crashed. Aborting it.",e),s.disposeSegmentBuffer(r);var t=V(e,{defaultCode:"NONE",defaultReason:"Unknown `AdaptationStream` error"});return(0,g.z)((0,m.of)(ir.warning(t)),Rr(n,c,r,{period:d}))}throw L.Z.error("Stream: "+r+" Stream crashed. Stopping playback.",e),e})))}(e,v);return s.waitForUsableBuffers().pipe((0,oe.zg)((function(){return(0,g.z)(_,(0,f.T)(w,E))})))})));return(0,g.z)((0,m.of)(ir.adaptationChange(r,e,d)),_)})),(0,T.O)(ir.periodStreamReady(r,d,h)))},zr=r(2807);function Vr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return e.pipe((0,w.h)((function(e){return"complete-stream"===e.type||"stream-status"===e.type&&!e.value.hasFinishedLoading})),(0,y.U)((function(e){return"complete-stream"===e.type})),(0,T.O)(!1),(0,b.x)())}));return(0,h.aj)(n).pipe((0,y.U)((function(e){return e.every((function(e){return e}))})),(0,b.x)())}var $r=U.Z.MAXIMUM_MAX_BUFFER_AHEAD,Wr=U.Z.MAXIMUM_MAX_BUFFER_BEHIND,Kr=function(e,t,r,n,i,a){var o=e.manifest,l=e.initialPeriod,u=a.maxBufferAhead$,c=a.maxBufferBehind$,d=a.wantedBufferAhead$,h=new tr((function(e){var r=e.bufferType,n=null!=Wr[r]?Wr[r]:1/0,i=null!=$r[r]?$r[r]:1/0;return nr({segmentBuffer:e,clock$:t.pipe((0,y.U)((function(e){return e.position}))),maxBufferBehind$:c.pipe((0,y.U)((function(e){return Math.min(e,n)}))),maxBufferAhead$:u.pipe((0,y.U)((function(e){return Math.min(e,i)})))})})),_=t.pipe((0,_e.Z)((function(e){var t=e.position,r=e.wantedTimeOffset+t;if(r<o.getMinimumPosition()){var n=new B.Z("MEDIA_TIME_BEFORE_MANIFEST","The current position is behind the earliest time announced in the Manifest.");return ir.warning(n)}if(r>o.getMaximumPosition()){var i=new B.Z("MEDIA_TIME_AFTER_MANIFEST","The current position is after the latest time announced in the Manifest.");return ir.warning(i)}return null}),null)),E=n.getBufferTypes().map((function(e){return function(e,r){var i=new er((function(e,t){return e.start-t.start})),a=new s.xQ,l=!1;function u(t){return O(e,t,a).pipe((0,_e.Z)((function(e){switch(e.type){case"needs-media-source-reload":var t=i.head();if(void 0===t||t.id!==e.value.period.id)return null;break;case"periodStreamReady":l=!0,i.add(e.value.period);break;case"periodStreamCleared":i.removeElement(e.value.period)}return e}),null),(0,S.B)())}var c=t.pipe((0,_e.Z)((function(t){var r,n=t.position,s=t.wantedTimeOffset,u=s+n;if(!l||!function(e){var t=i.head(),r=i.last();return null==t||null==r||t.start>e||(null==r.end?1/0:r.end)<e}(u))return null;var c=null!==(r=o.getPeriodForTime(u))&&void 0!==r?r:o.getNextPeriod(u);return void 0===c?null:(L.Z.info("SO: Current position out of the bounds of the active periods,re-creating Streams.",e,n+s),l=!1,a.next(),c)}),null),(0,oe.zg)((function(e){if(null==e)throw new B.Z("MEDIA_TIME_NOT_FOUND","The wanted position is not found in the Manifest.");return u(e)}))),d=(0,H.R)(o,"decipherabilityUpdate").pipe((0,oe.zg)((function(r){var i=n.getStatus(e);if(!r.some((function(t){return t.adaptation.type===e}))||"initialized"!==i.type)return p.E;var s=i.value,c=function(e,t){e.synchronizeInventory();for(var r=[],n=e.getInventory(),i=function(i){var a=n[i];if(t.some((function(e){return a.infos.period.id===e.period.id&&a.infos.adaptation.id===e.adaptation.id&&a.infos.representation.id===e.representation.id}))){var o=a.bufferedStart,s=a.bufferedEnd;if(void 0===o||void 0===s){L.Z.warn("SO: No buffered start or end found from a segment.");var l=e.getBufferedRanges(),u=l.length;return 0===u?{v:[]}:{v:[{start:l.start(0),end:l.end(u-1)}]}}var c=r[r.length-1];void 0!==c&&c.end===o?c.end=s:r.push({start:o,end:s})}},a=0;a<n.length;a++){var o=i(a);if("object"===typeof o)return o.v}return r}(s,r);return l=!1,a.next(),g.z.apply(void 0,c.map((function(e){var t=e.start,r=e.end;return s.removeBuffer(t,r).pipe((0,ie.l)())})).concat([t.pipe((0,k.q)(1),(0,oe.zg)((function(e){return(0,g.z)((0,m.of)(ir.needsDecipherabilityFlush(e.position,!e.isPaused,e.duration)),(0,J.P)((function(){var t=e.position+e.wantedTimeOffset,r=o.getPeriodForTime(t);if(null==r)throw new B.Z("MEDIA_TIME_NOT_FOUND","The wanted position is not found in the Manifest.");return u(r)})))})))]))})));return(0,f.T)(c,d,u(r))}(e,l).pipe((0,ke.Z)(),(0,S.B)())})),T=function(e){var t=e.length;return f.T.apply(void 0,e).pipe((0,w.h)((function(e){var t=e.type;return"periodStreamCleared"===t||"adaptationChange"===t||"representationChange"===t})),(0,zr.R)((function(e,t){switch(t.type){case"periodStreamCleared":var r=t.value,n=r.period,i=r.type,a=e[n.id];void 0!==a&&a.buffers.has(i)&&(a.buffers.delete(i),0===a.buffers.size&&delete e[n.id]);break;case"adaptationChange":if(null!==t.value.adaptation)return e;case"representationChange":var o=t.value,s=o.period,l=o.type,u=e[s.id];if(void 0===u||u.buffers.has(l)){var c=new Set;c.add(l),e[s.id]={period:s,buffers:c}}else u.buffers.add(l)}return e}),{}),(0,y.U)((function(e){for(var r=Object.keys(e),n=[],i=0;i<r.length;i++){var a=e[r[i]];void 0!==a&&a.buffers.size===t&&n.push(a.period)}return n.reduce((function(e,t){return null===e||t.start<e.start?t:e}),null)})),(0,b.x)((function(e,t){return null===e&&null===t||null!==e&&null!==t&&e.id===t.id})))}(E).pipe((0,w.h)((function(e){return null!==e})),(0,y.U)((function(e){return L.Z.info("Stream: New active period",e),ir.activePeriodChanged(e)}))),x=Vr.apply(void 0,E).pipe((0,y.U)((function(e){return e?ir.endOfStream():ir.resumeStream()})));return f.T.apply(void 0,E.concat([T,x,_]));function O(e,l,u){L.Z.info("SO: Creating new Stream for",e,l);var c=new s.xQ,p=new s.xQ,y=t.pipe((0,w.h)((function(e){var t=e.position,r=e.wantedTimeOffset;return null!=l.end&&t+r>=l.end}))),b=c.pipe(ce((function(t){return O(e,t,p)}))),_=u.pipe((0,k.q)(1),(0,pe.b)((function(){c.complete(),p.next(),p.complete()})),(0,S.B)()),E=(0,f.T)(y,_),T=Fr({abrManager:r,bufferType:e,clock$:t,content:{manifest:o,period:l},garbageCollectors:h,segmentFetcherCreator:i,segmentBuffersStore:n,options:a,wantedBufferAhead$:d}).pipe((0,oe.zg)((function(t){if("stream-status"===t.type)if(t.value.hasFinishedLoading){var r=o.getPeriodAfter(l);if(null===r)return(0,g.z)((0,m.of)(t),(0,m.of)(ir.streamComplete(e)));c.next(r)}else p.next();return(0,m.of)(t)})),(0,S.B)()),x=(0,g.z)(T.pipe((0,v.R)(E)),(0,m.of)(ir.periodStreamCleared(e,l)).pipe((0,pe.b)((function(){L.Z.info("SO: Destroying Stream for",e,l)}))));return(0,f.T)(x,b,_.pipe((0,ie.l)()))}},Hr=r(8821),Gr=r(6565),Zr=function(){function e(e){if(this.total=e,this.total<0)throw new Gr.W}return e.prototype.call=function(e,t){return t.subscribe(new qr(e,this.total))},e}(),qr=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.ring=new Array,n.count=0,n}return u.ZT(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var a=t++%r;e.next(n[a])}e.complete()},t}(O.L),Xr=I.gg,Yr=I.ym,Qr=I._E;function Jr(e){return(0,J.P)((function(){if(L.Z.debug("Init: Trying to call endOfStream"),"open"!==e.readyState)return L.Z.debug("Init: MediaSource not open, cancel endOfStream"),(0,m.of)(null);var t=e.sourceBuffers,r=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n.updating&&t.push(n)}return t}(t);if(0===r.length)return L.Z.info("Init: Triggering end of stream"),e.endOfStream(),(0,m.of)(null);L.Z.debug("Init: Waiting SourceBuffers to be updated before calling endOfStream.");var n,i=r.map((function(e){return Qr(e).pipe((0,k.q)(1))}));return(0,Hr.S3)(f.T.apply(void 0,i).pipe((n=1,function(e){return 0===n?(0,p.c)():e.lift(new Zr(n))})),Xr(t).pipe((0,k.q)(1))).pipe((0,oe.zg)((function(){return Jr(e)})))}))}var en=r(2795),tn=U.Z.BUFFER_DISCONTINUITY_THRESHOLD;function rn(e,t,r,n){var i=n.pipe(Ie(e),(0,zr.R)((function(e,t){return function(e,t,r){for(;e.length>0&&void 0!==e[0].period.end&&e[0].period.end+10<r.position;)e.shift();var n=t.period,i=t.bufferType;if("audio"!==i&&"video"!==i)return e;for(var a=0;a<e.length;a++)if(e[a].period.id===n.id){if(e[a].bufferType===i)return nn(t)?e[a]=t:e.splice(a,1),e}else if(e[a].period.start>n.start)return nn(t)&&e.splice(a,0,t),e;return nn(t)&&e.push(t),e}(e,t[0],t[1])}),[]));return e.pipe(Ie(i),(0,y.U)((function(e){var n=e[0],i=e[1],a=n.buffered,o=n.currentRange,s=n.position,l=n.state,u=n.stalled;if(null===u)return{type:"unstalled",value:null};var c=u.position;if(null!==c){var d=function(e,t,r){if(0===e.length)return null;for(var n=null,i=0;i<e.length;i++){var a=e[i].period;if(a.start>r)return n;var o=void 0;if(void 0===a.end||a.end>r){var s=e[i],l=s.discontinuity,u=s.position,c=l.start,d=l.end;if(r>=(null!==c&&void 0!==c?c:u)-1/60)if(null===d){var f=t.getPeriodAfter(a);null!==f?o=f.start+1/60:L.Z.warn("Init: discontinuity at Period's end but no next Period")}else r<d+1/60&&(o=d+1/60);void 0!==o&&(L.Z.info("Init: discontinuity found",r,o),n=null!==n&&n>o?n:o)}}return n}(i,r,c);if(null!==d){var f=d+.001;if(!(f<=t.currentTime))return L.Z.warn("SA: skippable discontinuity found in the stream",s,f),t.currentTime=f,ir.warning(an(c,f));L.Z.info("Init: position to seek already reached, no seeking",t.currentTime,f)}}if(function(e,t,r,n){return j.vU&&n&&"timeupdate"===r&&null!=t&&t.end-e>10}(s,o,l,null!==u))return L.Z.warn("Init: After freeze seek",s,o),t.currentTime=s,ir.warning(an(s,s));var p=null!==c&&void 0!==c?c:s,h=(0,Y.XS)(a,p);if(h<tn){var g=p+h+1/60;if(t.currentTime<g)return L.Z.warn("Init: discontinuity encountered inferior to the threshold",p,g,tn),t.currentTime=g,ir.warning(an(p,g))}for(var m=r.periods.length-2;m>=0;m--){var v=r.periods[m];if(void 0!==v.end&&v.end<=p){if(r.periods[m+1].start>p&&r.periods[m+1].start>t.currentTime){var y=r.periods[m+1];return t.currentTime=y.start,ir.warning(an(p,y.start))}break}}return{type:"stalled",value:u}})))}function nn(e){return null!==e.discontinuity}function an(e,t){return new B.Z("DISCONTINUITY_ENCOUNTERED","A discontinuity has been encountered at position "+String(e)+", seeked at position "+String(t))}var on=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new sn(e))},e}(),sn=function(e){function t(t){var r=e.call(this,t)||this;return r.hasPrev=!1,r}return u.ZT(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(O.L),ln=function(e,t){return e.id===t.id&&e.start===t.start&&e.end===t.end},un=function(e,t){for(var r=[],n=t.periods,i=0;i<n.length;i++)n[i].streamEvents.forEach((function(t){for(var n=t.start,i=t.end,a=t.id,o=t.data,s=0;s<e.length;s++){var l=e[s];if(ln(l,{id:a,start:n,end:i}))return void r.push(l)}if(void 0===i){var u={start:n,id:a,data:o,publicEvent:{start:n,data:o}};r.push(u)}else{var c={start:n,end:i,id:a,data:o,publicEvent:{start:n,end:i,data:o}};r.push(c)}}));return r},cn=U.Z.STREAM_EVENT_EMITTER_POLL_INTERVAL;function dn(e){return void 0!==e.end}var fn=function(e,t,r){var n=new WeakMap,i=[];return(0,H.R)(e,"manifestUpdate").pipe((0,T.O)(null),(0,zr.R)((function(t){return un(t,e)}),[])).pipe((0,pe.b)((function(e){return i=e})),(0,y.U)((function(e){return e.length>0})),(0,b.x)(),(0,ye.w)((function(e){return e?(0,h.aj)([(0,Wt.F)(cn).pipe((0,T.O)(null)),r]).pipe((0,y.U)((function(e){return e[0],{isSeeking:e[1].seeking,currentTime:t.currentTime}})),(function(e){return e.lift(new on)}),(0,oe.zg)((function(e){var t=e[0],r=e[1];return function(e,t,r){for(var i=t.currentTime,a=r.isSeeking,o=r.currentTime,s=[],l=[],u=0;u<e.length;u++){var c=e[u],d=c.start,f=dn(c)?c.end:void 0;n.has(c)?(d>o||void 0!==f&&o>=f)&&(dn(c)&&l.push(c.publicEvent),n.delete(c)):d<=o&&void 0!==f&&o<f?(s.push({type:"stream-event",value:c.publicEvent}),n.set(c,!0)):i<d&&o>=(null!==f&&void 0!==f?f:d)&&(a?s.push({type:"stream-event-skip",value:c.publicEvent}):(s.push({type:"stream-event",value:c.publicEvent}),dn(c)&&l.push(c.publicEvent)))}return(0,g.z)(s.length>0?m.of.apply(void 0,s):p.E,l.length>0?m.of.apply(void 0,l).pipe((0,pe.b)((function(e){"function"===typeof e.onExit&&e.onExit()})),(0,ie.l)()):p.E)}(i,t,r)}))):p.E})))},pn=r(2983);function hn(e){var t=e.mediaElement,r=e.manifest,n=e.clock$,i=e.speed$,a=e.bufferOptions,o=e.abrManager,l=e.segmentFetcherCreator;return function(e,u,c){var d,g=r.isLive?1/0:r.getMaximumPosition();!function(e,t){var r=t===1/0?Number.MAX_VALUE:t;e.duration!==r&&(L.Z.info("Init: Setting duration",r),e.duration=r)}(e,g);var b=null!==(d=r.getPeriodForTime(u))&&void 0!==d?d:r.getNextPeriod(u);if(void 0===b){var k=new B.Z("MEDIA_STARTING_TIME_NOT_FOUND","Wanted starting time not found in the Manifest.");return(0,$t._)(k)}var _=new Jt(t,e),E=(0,en.Z)({clock$:n,mediaElement:t,startTime:u,mustAutoPlay:c,isDirectfile:!1}),S=E.seek$,x=E.load$,O=x.pipe((0,w.h)((function(e){return"not-loaded-metadata"!==e}))),P=O.pipe((0,oe.zg)((function(){return fn(r,t,n)}))),A=function(e,t){var r=t.autoPlay,n=t.initialPlay$,i=t.initialSeek$,a=t.manifest,o=t.speed$,s=t.startTime,l=!1,u=!1,c=n.pipe((0,pe.b)((function(){l=!0})),(0,ie.l)()),d=i.pipe((0,pe.b)((function(){u=!0})),(0,ie.l)()),p=(0,h.aj)([e,o]).pipe((0,y.U)((function(e){var t=e[0],n=e[1],i=a.isLive;return{position:t.position,getCurrentTime:t.getCurrentTime,duration:t.duration,isPaused:l?t.paused:!r,liveGap:i?a.getMaximumPosition()-t.position:1/0,readyState:t.readyState,speed:n,stalled:t.stalled,wantedTimeOffset:u?0:s-t.position}})));return(0,f.T)(c,d,p)}(n,{autoPlay:c,initialPlay$:O,initialSeek$:S,manifest:r,speed$:i,startTime:u}),C=new s.xQ,M=new s.xQ,I=Kr({manifest:r,initialPeriod:b},A,o,_,l,a).pipe((0,oe.zg)((function(t){switch(t.type){case"end-of-stream":return L.Z.debug("Init: end-of-stream order received."),function(e){return Yr(e).pipe((0,T.O)(null),(0,ye.w)((function(){return Jr(e)})))}(e).pipe((0,ie.l)(),(0,v.R)(C));case"resume-stream":return L.Z.debug("Init: resume-stream order received."),C.next(null),p.E;case"stream-status":var r=t.value,n=r.period,i=r.bufferType,a=r.imminentDiscontinuity,o=r.position;return M.next({period:n,bufferType:i,discontinuity:a,position:o}),p.E;default:return(0,m.of)(t)}}))),R=(0,pn.Z)(t,i,n,{pauseWhenStalled:!0}).pipe((0,ie.l)()),D=rn(n,t,r,M),j=x.pipe((0,oe.zg)((function(e){if("autoplay-blocked"===e){var t=new B.Z("MEDIA_ERR_BLOCKED_AUTOPLAY","Cannot trigger auto-play automatically: your browser does not allow it.");return(0,m.of)(zt.Z.warning(t),zt.Z.loaded(_))}if("not-loaded-metadata"===e){var r=new B.Z("MEDIA_ERR_NOT_LOADED_METADATA","Cannot load automatically: your browser falsely announced having loaded the content.");return(0,m.of)(zt.Z.warning(r))}return L.Z.debug("Init: The current content is loaded."),(0,m.of)(zt.Z.loaded(_))})));return(0,f.T)(j,R,D,I,P).pipe(ge((function(){_.disposeAll()})))}}var gn=U.Z.FAILED_PARTIAL_UPDATE_MANIFEST_REFRESH_DELAY,mn=U.Z.MAX_CONSECUTIVE_MANIFEST_PARSING_IN_UNSAFE_MODE,vn=U.Z.MIN_MANIFEST_PARSING_TIME_TO_ENTER_UNSAFE_MODE;function yn(e){var t=e.fetchManifest,r=e.initialManifest,n=e.manifestUpdateUrl,i=e.minimumManifestUpdateInterval,a=e.scheduleRefresh$,o=r.manifest,s=0;function l(e){var r,u=e.sendingTime,c=e.parsingTime,d=e.updatingTime,h=void 0!==c?c+(null!==d&&void 0!==d?d:0):void 0,g=s>0?s<mn:void 0!==h&&h>=vn,v=a.pipe((0,oe.zg)((function(e){var t=e.completeRefresh,r=e.delay,n=e.canUseUnsafeMode&&g;return bn(null!==r&&void 0!==r?r:0,i,u).pipe((0,x.h)({completeRefresh:t,unsafeMode:n}))}))),y=void 0===u?0:performance.now()-u,b=Math.max(i-y,0);if(void 0===o.lifetime||o.lifetime<0)r=p.E;else{var _=1e3*o.lifetime-y;if(void 0!==h)if(o.lifetime<3&&h>=100){var E=1e3*(3-o.lifetime)+_,w=Math.max(E,Math.max(_,0)+h);L.Z.info("MUS: Manifest update rythm is too frequent. Postponing next request.",_,w),_=w}else if(h>=1e3*o.lifetime/10){var S=Math.max(_,0)+h;L.Z.info("MUS: Manifest took too long to parse. Postponing next request",_,S),_=S}r=(0,ut.H)(Math.max(_,b)).pipe((0,x.h)({completeRefresh:!1,unsafeMode:g}))}var T=null===o.expired?p.E:(0,ut.H)(b).pipe((0,M.j)((0,le.D)(o.expired)),(0,x.h)({completeRefresh:!0,unsafeMode:g}));return(0,f.T)(r,v,T).pipe((0,k.q)(1),(0,oe.zg)((function(e){return function e(r){var a=r.completeRefresh,l=r.unsafeMode,u=a||void 0===n,c=u?o.getUrl():n,d=o.clockOffset;return l?(s+=1,L.Z.info('Init: Refreshing the Manifest in "unsafeMode" for the '+String(s)+" consecutive time.")):s>0&&(L.Z.info('Init: Not parsing the Manifest in "unsafeMode" anymore after '+String(s)+" consecutive times."),s=0),t(c,{externalClockOffset:d,previousManifest:o,unsafeMode:l}).pipe((0,oe.zg)((function(t){if("warning"===t.type)return(0,m.of)(t);var r=t.manifest,n=t.sendingTime,a=t.receivedTime,s=t.parsingTime,l=performance.now();if(u)o.replace(r);else try{o.update(r)}catch(d){var c=d instanceof Error?d.message:"unknown error";return L.Z.warn("MUS: Attempt to update Manifest failed: "+c,"Re-downloading the Manifest fully"),bn(gn,i,n).pipe((0,oe.zg)((function(){return e({completeRefresh:!0,unsafeMode:!1})})))}return(0,m.of)({type:"parsed",manifest:o,sendingTime:n,receivedTime:a,parsingTime:s,updatingTime:performance.now()-l})})))}({completeRefresh:e.completeRefresh,unsafeMode:e.unsafeMode})})),(0,oe.zg)((function(e){return"warning"===e.type?(0,m.of)(e):l(e)})))}return(0,J.P)((function(){return l(r)}))}function bn(e,t,r){return(0,J.P)((function(){var n=void 0===r?0:performance.now()-r,i=Math.max(t-n,0);return(0,ut.H)(Math.max(e-n,i))}))}var kn=r(2447),_n=U.Z.OUT_OF_SYNC_MANIFEST_REFRESH_DELAY,En=function(e){var t,r=e.adaptiveOptions,n=e.autoPlay,i=e.bufferOptions,a=e.clock$,o=e.content,l=e.keySystems,u=e.lowLatencyMode,c=e.mediaElement,d=e.minimumManifestUpdateInterval,g=e.networkConfig,b=e.speed$,_=e.startAt,E=e.textTrackOptions,w=e.transportPipelines,O=o.url,P=o.initialManifest,A=o.manifestUpdateUrl,C=g.offlineRetry,M=g.segmentRetry,I=g.manifestRetry,R=new yt(O,w,{lowLatencyMode:u,maxRetryRegular:I,maxRetryOffline:C}),D=function(e){var t=!1;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return new Ee.y((function(r){if(!t){t=!0;var i=e.apply(void 0,n).subscribe((function(e){r.next(e)}),(function(e){t=!1,r.error(e)}),(function(){t=!1,r.complete()}));return function(){i.unsubscribe(),t=!1}}r.complete()}))}}((function(e,t){return R.fetch(e).pipe((0,oe.zg)((function(e){return"warning"===e.type?(0,m.of)(e):e.parse(t)})),(0,S.B)())})),j=new Rt(w,{lowLatencyMode:u,maxRetryOffline:C,maxRetryRegular:M}),N=new rt(r),U=Ft(c).pipe((0,se.d)({refCount:!0})),B=new s.xQ,F=(0,Dt.Z)(c,l,B).pipe((0,ke.Z)(),(0,S.B)()),z=(0,kn.Z)(c);t=P instanceof be.ZP?(0,m.of)({type:"parsed",manifest:P}):void 0!==P?R.parse(P,{previousManifest:null,unsafeMode:!1}):D(O,{previousManifest:null,unsafeMode:!1});var V=F.pipe((0,oe.zg)((function(e){switch(e.type){case"eme-disabled":case"attached-media-keys":return(0,m.of)(void 0);case"created-media-keys":return U.pipe((0,oe.zg)((function(){return e.value.attachMediaKeys$.next(),!0===e.value.options.disableMediaKeysAttachmentLock?(0,m.of)(void 0):p.E})));default:return p.E}})),(0,k.q)(1),ce((function(){return U}))),$=(0,h.aj)([t,V]).pipe((0,oe.zg)((function(e){var t=e[0],r=e[1];if("warning"===t.type)return(0,m.of)(t);var o=t.manifest;L.Z.debug("Init: Calculating initial time");var l=function(e,t,r){if(L.Z.debug("Init: calculating initial time"),null!=r){var n=e.getMinimumPosition(),i=e.getMaximumPosition();if(null!=r.position)return L.Z.debug("Init: using startAt.minimumPosition"),Math.max(Math.min(r.position,i),n);if(null!=r.wallClockTime){L.Z.debug("Init: using startAt.wallClockTime");var a=null==e.availabilityStartTime?0:e.availabilityStartTime,o=r.wallClockTime-a;return Math.max(Math.min(o,i),n)}if(null!=r.fromFirstPosition){L.Z.debug("Init: using startAt.fromFirstPosition");var s=r.fromFirstPosition;return s<=0?n:Math.min(i,n+s)}if(null!=r.fromLastPosition){L.Z.debug("Init: using startAt.fromLastPosition");var l=r.fromLastPosition;return l>=0?i:Math.max(n,i+l)}if(null!=r.percentage){L.Z.debug("Init: using startAt.percentage");var u=r.percentage;return u>100?i:u<0?n:n+ +u/100*(i-n)}}var c=e.getMinimumPosition();if(e.isLive){var d,f=e.suggestedPresentationDelay,p=e.clockOffset,h=e.getMaximumPosition();if(null==p)L.Z.info("Init: no clock offset found for a live content, starting close to maximum available position"),d=h;else{L.Z.info("Init: clock offset found for a live content, checking if we can start close to it");var g=null==e.availabilityStartTime?0:e.availabilityStartTime,m=(performance.now()+p)/1e3-g;d=Math.min(h,m)}var v=void 0!==f?f:t?Vt.LOW_LATENCY:Vt.DEFAULT;return L.Z.debug("Init: "+d+" defined as the live time, applying a live gap of "+v),Math.max(d-v,c)}return L.Z.info("Init: starting at the minimum available position:",c),c}(o,u,_);L.Z.debug("Init: Initial time calculated:",l);var p=hn({abrManager:N,bufferOptions:(0,q.Z)({textTrackOptions:E},i),clock$:a,manifest:o,mediaElement:c,segmentFetcherCreator:j,speed$:b}),h=function e(t,r,n){var i=new s.xQ,a=p(t,r,n).pipe((0,_e.Z)((function(e){switch(e.type){case"needs-manifest-refresh":return g.next({completeRefresh:!1,canUseUnsafeMode:!0}),null;case"manifest-might-be-out-of-sync":return g.next({completeRefresh:!0,canUseUnsafeMode:!1,delay:_n}),null;case"needs-media-source-reload":return i.next(e.value),null;case"needs-decipherability-flush":var t=ne(c);if(null===(n=t)||n.indexOf("widevine")<0)return i.next(e.value),null;var r=e.value.position;return r+.001<e.value.duration?c.currentTime+=.001:c.currentTime=r,null;case"protected-segment":return B.next(e.value),null}var n;return e}),null)).pipe((0,v.R)(i)),o=i.pipe((0,ye.w)((function(t){return Ft(c).pipe((0,oe.zg)((function(r){return e(r,t.position,t.autoPlay)})),(0,T.O)(zt.Z.reloadingMediaSource()))})));return(0,f.T)(o,a)}(r,l,n),g=new s.xQ,k=yn({fetchManifest:D,initialManifest:t,manifestUpdateUrl:A,minimumManifestUpdateInterval:d,scheduleRefresh$:g}),w=(0,f.T)((0,H.R)(o,"manifestUpdate").pipe((0,x.h)(zt.Z.manifestUpdate())),(0,H.R)(o,"decipherabilityUpdate").pipe((0,y.U)(zt.Z.decipherabilityUpdate))),S=F.pipe((0,pe.b)((function(e){"blacklist-keys"===e.type?(L.Z.info("Init: blacklisting Representations based on keyIDs"),o.addUndecipherableKIDs(e.value)):"blacklist-protection-data"===e.type&&(L.Z.info("Init: blacklisting Representations based on protection data."),void 0!==e.value.type&&o.addUndecipherableProtectionData(e.value.type,e.value.data))})),(0,ie.l)());return(0,f.T)(w,k,S,h).pipe((0,T.O)(zt.Z.manifestReady(o)),ge((function(){g.complete()})))})));return(0,f.T)($,z,F)},wn=r(3018),Sn=U.Z.SAMPLING_INTERVAL_MEDIASOURCE,Tn=U.Z.SAMPLING_INTERVAL_LOW_LATENCY,xn=U.Z.SAMPLING_INTERVAL_NO_MEDIASOURCE,On=U.Z.RESUME_GAP_AFTER_SEEKING,Pn=U.Z.RESUME_GAP_AFTER_NOT_ENOUGH_DATA,An=U.Z.RESUME_GAP_AFTER_BUFFERING,Cn=U.Z.STALL_GAP,Mn=["canplay","play","progress","seeking","seeked","loadedmetadata","ratechange"];function In(e,t){if(null===e)return 0;var r=t?"LOW_LATENCY":"DEFAULT";switch(e.reason){case"seeking":return On[r];case"not-ready":return Pn[r];case"buffering":return An[r]}}function Rn(e,t){var r=e.buffered,n=e.currentTime,i=e.duration,a=e.ended,o=e.paused,s=e.playbackRate,l=e.readyState,u=e.seeking,c=(0,Y.rx)(r,n);return{bufferGap:null!==c?c.end-n:1/0,buffered:r,currentRange:c,position:n,duration:i,ended:a,paused:o,playbackRate:s,readyState:l,seeking:u,state:t}}function Dn(e,t,r){var n,i,a,o=r.withMediaSource,s=r.lowLatencyMode,l=t.state,u=t.position,c=t.bufferGap,d=t.currentRange,f=t.duration,p=t.paused,h=t.readyState,g=t.ended,m=e.stalled,v=e.state,y=e.position,b=function(e,t,r){var n=r?"LOW_LATENCY":"DEFAULT";return null!==e&&t-e.end<=Cn[n]}(d,f,s),k=h>=1&&"loadedmetadata"!==l&&null===m&&!(b||g),_=null,E=s?Cn.LOW_LATENCY:Cn.DEFAULT;if(o){if(k)c<=E?(n=!0,_=u+c):c===1/0?(n=!0,_=u):1===h&&(n=!0);else if(null!==m){var w=In(m,s);!0!==n&&null!==m&&h>1&&(b||g||c<1/0&&c>w)?i=!0:(c===1/0||c<=w)&&(_=c===1/0?u:u+c)}}else k&&(!p&&"timeupdate"===l&&"timeupdate"===v&&u===y||"seeking"===l&&c===1/0)?n=!0:null!==m&&("seeking"!==l&&u!==y||"canplay"===l||c<1/0&&(c>In(m,s)||b||g))&&(i=!0);return!0===i?null:!0===n||null!==m?(a="seeking"===l||t.seeking||null!==m&&"seeking"===m.reason?"seeking":1===h?"not-ready":"buffering",null!==m&&m.reason===a?{reason:m.reason,timestamp:m.timestamp,position:_}:{reason:a,timestamp:performance.now(),position:_}):null}var jn=function(e,t){return(0,J.P)((function(){var r=(0,q.Z)(Rn(e,"init"),{stalled:null,getCurrentTime:function(){return e.currentTime}}),n=Mn.map((function(t){return(0,Kt.R)(e,t).pipe((0,x.h)(t))})),i=t.lowLatencyMode?Tn:t.withMediaSource?Sn:xn,a=(0,Wt.F)(i).pipe((0,x.h)("timeupdate"));return f.T.apply(void 0,[a].concat(n)).pipe((0,y.U)((function(n){return r=function(n){var i=Rn(e,n),a=Dn(r,i,t),o=(0,q.Z)({},{stalled:a,getCurrentTime:function(){return e.currentTime}},i);return L.Z.debug("API: current media element state",o),o}(n),"DEBUG"===L.Z.getLevel()&&L.Z.debug("API: current playback timeline:\n"+function(e,t){for(var r="",n="",i=0;i<e.length;i++){var a=e.start(i),o=e.end(i),s=a.toFixed(2),l=o.toFixed(2),u=(o-a).toFixed(2),c=s+"|=="+u+"==|"+l;if(r+=c,0===n.length&&o>t){var d=r.length-Math.floor(c.length/2);n=" ".repeat(d)+"^"+t}if(i<e.length-1){var f=e.start(i+1),p=" ~"+(f-o).toFixed(2)+"~ ";if(r+=p,0===n.length&&t<f){var h=r.length-Math.floor(p.length/2);n=" ".repeat(h)+"^"+t}}}return 0===n.length&&(n=" ".repeat(r.length)+"^"+t),r+"\n"+n}(r.buffered,r.position),"\n"+n),r})),(0,T.O)(r))})).pipe((0,_.O)((function(){return new l.t(1)})),(0,wn.x)())},Ln=U.Z.FORCED_ENDED_THRESHOLD,Nn="STOPPED",Un="LOADED",Bn="LOADING",Fn="PLAYING",zn="PAUSED",Vn="ENDED",$n="BUFFERING",Wn="SEEKING",Kn="RELOADING",Hn=r(5553);function Gn(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"===typeof e)return Zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zn(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qn=U.Z.DEFAULT_AUDIO_TRACK_SWITCHING_MODE,Xn=U.Z.DEFAULT_AUTO_PLAY,Yn=U.Z.DEFAULT_CODEC_SWITCHING_BEHAVIOR,Qn=U.Z.DEFAULT_ENABLE_FAST_SWITCHING,Jn=U.Z.DEFAULT_INITIAL_BITRATES,ei=U.Z.DEFAULT_LIMIT_VIDEO_WIDTH,ti=U.Z.DEFAULT_MANUAL_BITRATE_SWITCHING_MODE,ri=U.Z.DEFAULT_MIN_BITRATES,ni=U.Z.DEFAULT_MAX_BITRATES,ii=U.Z.DEFAULT_MAX_BUFFER_AHEAD,ai=U.Z.DEFAULT_MAX_BUFFER_BEHIND,oi=U.Z.DEFAULT_SHOW_NATIVE_SUBTITLE,si=U.Z.DEFAULT_STOP_AT_END,li=U.Z.DEFAULT_TEXT_TRACK_MODE,ui=U.Z.DEFAULT_THROTTLE_WHEN_HIDDEN,ci=U.Z.DEFAULT_THROTTLE_VIDEO_BITRATE_WHEN_HIDDEN,di=U.Z.DEFAULT_WANTED_BUFFER_AHEAD,fi=r(7829);function pi(e){return e.map((function(e){return null==e?e:{normalized:void 0===e.language?void 0:(0,fi.ZP)(e.language),audioDescription:e.audioDescription,codec:e.codec}}))}function hi(e){return e.map((function(e){return null==e?e:{normalized:(0,fi.ZP)(e.language),closedCaption:e.closedCaption}}))}var gi=function(){function e(){this._periods=new er((function(e,t){return e.period.start-t.period.start})),this._audioChoiceMemory=new WeakMap,this._textChoiceMemory=new WeakMap,this._videoChoiceMemory=new WeakMap,this._preferredAudioTracks=[],this._preferredTextTracks=[],this._preferredVideoTracks=[]}var t=e.prototype;return t.setPreferredAudioTracks=function(e,t){this._preferredAudioTracks=e,t&&this._applyAudioPreferences()},t.setPreferredTextTracks=function(e,t){this._preferredTextTracks=e,t&&this._applyTextPreferences()},t.setPreferredVideoTracks=function(e,t){this._preferredVideoTracks=e,t&&this._applyVideoPreferences()},t.addPeriod=function(e,t,r){var n=Ei(this._periods,t),i=t.getPlayableAdaptations(e);if(null!=n){if(null!=n[e])return void L.Z.warn("TrackChoiceManager: "+e+" already added for period",t);n[e]={adaptations:i,adaptation$:r}}else{var a;this._periods.add(((a={period:t})[e]={adaptations:i,adaptation$:r},a))}},t.removePeriod=function(e,t){var r=function(e,t){for(var r=0;r<e.length();r++)if(e.get(r).period.id===t.id)return r}(this._periods,t);if(null!=r){var n=this._periods.get(r);null!=n[e]?(delete n[e],null==n.audio&&null==n.text&&null==n.video&&this._periods.removeElement(n)):L.Z.warn("TrackChoiceManager: "+e+" already removed for period",t)}else L.Z.warn("TrackChoiceManager: "+e+" not found for period",t)},t.resetPeriods=function(){for(;this._periods.length()>0;)this._periods.pop()},t.update=function(){this._resetChosenAudioTracks(),this._resetChosenTextTracks(),this._resetChosenVideoTracks()},t.setInitialAudioTrack=function(e){var t=Ei(this._periods,e),r=null!=t?t.audio:null;if(null==r||null==t)throw new Error("TrackChoiceManager: Given Period not found.");var n=e.getPlayableAdaptations("audio"),i=this._audioChoiceMemory.get(e);if(null===i)r.adaptation$.next(null);else if(void 0!==i&&(0,St.Z)(n,i))r.adaptation$.next(i);else{var a=vi(n,pi(this._preferredAudioTracks));this._audioChoiceMemory.set(e,a),r.adaptation$.next(a)}},t.setInitialTextTrack=function(e){var t=Ei(this._periods,e),r=null!=t?t.text:null;if(null==r||null==t)throw new Error("TrackChoiceManager: Given Period not found.");var n=e.getPlayableAdaptations("text"),i=this._textChoiceMemory.get(e);if(null===i)r.adaptation$.next(null);else if(void 0!==i&&(0,St.Z)(n,i))r.adaptation$.next(i);else{var a=bi(n,hi(this._preferredTextTracks));this._textChoiceMemory.set(e,a),r.adaptation$.next(a)}},t.setInitialVideoTrack=function(e){var t=Ei(this._periods,e),r=null!=t?t.video:null;if(null==r||null==t)throw new Error("TrackChoiceManager: Given Period not found.");var n=e.getPlayableAdaptations("video"),i=this._videoChoiceMemory.get(e);if(null===i)r.adaptation$.next(null);else if(void 0!==i&&(0,St.Z)(n,i))r.adaptation$.next(i);else{var a=_i(n,this._preferredVideoTracks);this._videoChoiceMemory.set(e,a),r.adaptation$.next(a)}},t.setAudioTrackByID=function(e,t){var r=Ei(this._periods,e),n=null!=r?r.audio:null;if(null==n)throw new Error("TrackChoiceManager: Given Period not found.");var i=(0,Fe.Z)(n.adaptations,(function(e){return e.id===t}));if(void 0===i)throw new Error("Audio Track not found.");this._audioChoiceMemory.get(e)!==i&&(this._audioChoiceMemory.set(e,i),n.adaptation$.next(i))},t.setTextTrackByID=function(e,t){var r=Ei(this._periods,e),n=null!=r?r.text:null;if(null==n)throw new Error("TrackChoiceManager: Given Period not found.");var i=(0,Fe.Z)(n.adaptations,(function(e){return e.id===t}));if(void 0===i)throw new Error("Text Track not found.");this._textChoiceMemory.get(e)!==i&&(this._textChoiceMemory.set(e,i),n.adaptation$.next(i))},t.setVideoTrackByID=function(e,t){var r=Ei(this._periods,e),n=null!=r?r.video:null;if(null==n)throw new Error("LanguageManager: Given Period not found.");var i=(0,Fe.Z)(n.adaptations,(function(e){return e.id===t}));if(void 0===i)throw new Error("Video Track not found.");this._videoChoiceMemory.get(e)!==i&&(this._videoChoiceMemory.set(e,i),n.adaptation$.next(i))},t.disableTextTrack=function(e){var t=Ei(this._periods,e),r=null!=t?t.text:null;if(null==r)throw new Error("TrackChoiceManager: Given Period not found.");null!==this._textChoiceMemory.get(e)&&(this._textChoiceMemory.set(e,null),r.adaptation$.next(null))},t.disableVideoTrack=function(e){var t=Ei(this._periods,e),r=null===t||void 0===t?void 0:t.video;if(void 0===r)throw new Error("TrackManager: Given Period not found.");null!==this._videoChoiceMemory.get(e)&&(this._videoChoiceMemory.set(e,null),r.adaptation$.next(null))},t.getChosenAudioTrack=function(e){var t=Ei(this._periods,e);if(null==(null!=t?t.audio:null))return null;var r=this._audioChoiceMemory.get(e);if(null==r)return null;var n={language:(0,we.Z)(r.language,""),normalized:(0,we.Z)(r.normalizedLanguage,""),audioDescription:!0===r.isAudioDescription,id:r.id,representations:r.representations.map(Si)};return!0===r.isDub&&(n.dub=!0),n},t.getChosenTextTrack=function(e){var t=Ei(this._periods,e);if(null==(null!=t?t.text:null))return null;var r=this._textChoiceMemory.get(e);return null==r?null:{language:(0,we.Z)(r.language,""),normalized:(0,we.Z)(r.normalizedLanguage,""),closedCaption:!0===r.isClosedCaption,id:r.id}},t.getChosenVideoTrack=function(e){var t=Ei(this._periods,e);if(null==(null!=t?t.video:null))return null;var r=this._videoChoiceMemory.get(e);if(null==r)return null;var n={id:r.id,representations:r.representations.map(wi)};return!0===r.isSignInterpreted&&(n.signInterpreted=!0),n},t.getAvailableAudioTracks=function(e){var t=Ei(this._periods,e),r=null!=t?t.audio:null;if(null==r)return[];var n=this._audioChoiceMemory.get(e),i=null!=n?n.id:null;return r.adaptations.map((function(e){var t={language:(0,we.Z)(e.language,""),normalized:(0,we.Z)(e.normalizedLanguage,""),audioDescription:!0===e.isAudioDescription,id:e.id,active:null!=i&&i===e.id,representations:e.representations.map(Si)};return!0===e.isDub&&(t.dub=!0),t}))},t.getAvailableTextTracks=function(e){var t=Ei(this._periods,e),r=null!=t?t.text:null;if(null==r)return[];var n=this._textChoiceMemory.get(e),i=null!=n?n.id:null;return r.adaptations.map((function(e){return{language:(0,we.Z)(e.language,""),normalized:(0,we.Z)(e.normalizedLanguage,""),closedCaption:!0===e.isClosedCaption,id:e.id,active:null!=i&&i===e.id}}))},t.getAvailableVideoTracks=function(e){var t=Ei(this._periods,e),r=null!=t?t.video:null;if(null==r)return[];var n=this._videoChoiceMemory.get(e),i=null!=n?n.id:null;return r.adaptations.map((function(e){var t={id:e.id,active:null!==i&&i===e.id,representations:e.representations.map(wi)};return!0===e.isSignInterpreted&&(t.signInterpreted=!0),t}))},t._applyAudioPreferences=function(){this._audioChoiceMemory=new WeakMap,this._resetChosenAudioTracks()},t._applyTextPreferences=function(){this._textChoiceMemory=new WeakMap,this._resetChosenTextTracks()},t._applyVideoPreferences=function(){this._videoChoiceMemory=new WeakMap,this._resetChosenVideoTracks()},t._resetChosenAudioTracks=function(){var e=this,t=pi(this._preferredAudioTracks);!function r(n){if(!(n>=e._periods.length())){var i=e._periods.get(n);if(null!=i.audio){var a=i.period,o=i.audio,s=a.getPlayableAdaptations("audio"),l=e._audioChoiceMemory.get(a);if(null===l||void 0!==l&&(0,St.Z)(s,l))r(n+1);else{var u=vi(s,t);e._audioChoiceMemory.set(a,u),o.adaptation$.next(u),r(0)}}else r(n+1)}}(0)},t._resetChosenTextTracks=function(){var e=this,t=hi(this._preferredTextTracks);!function r(n){if(!(n>=e._periods.length())){var i=e._periods.get(n);if(null!=i.text){var a=i.period,o=i.text,s=a.getPlayableAdaptations("text"),l=e._textChoiceMemory.get(a);if(null===l||void 0!==l&&(0,St.Z)(s,l))r(n+1);else{var u=bi(s,t);e._textChoiceMemory.set(a,u),o.adaptation$.next(u),r(0)}}else r(n+1)}}(0)},t._resetChosenVideoTracks=function(){var e=this,t=this._preferredVideoTracks;!function r(n){if(!(n>=e._periods.length())){var i=e._periods.get(n);if(null!=i.video){var a=i.period,o=i.video,s=a.getPlayableAdaptations("video"),l=e._videoChoiceMemory.get(a);if(null===l||void 0!==l&&(0,St.Z)(s,l))r(n+1);else{var u=_i(s,t);e._videoChoiceMemory.set(a,u),o.adaptation$.next(u),r(0)}}else r(n+1)}}(0)},e}();function mi(e){return function(t){var r;if(void 0!==e.normalized&&(null!==(r=t.normalizedLanguage)&&void 0!==r?r:"")!==e.normalized)return!1;if(void 0!==e.audioDescription)if(e.audioDescription){if(!0!==t.isAudioDescription)return!1}else if(!0===t.isAudioDescription)return!1;if(void 0===e.codec)return!0;var n=e.codec.test,i=function(e){return void 0!==e.codec&&n.test(e.codec)};return e.codec.all?t.representations.every(i):t.representations.some(i)}}function vi(e,t){if(0===e.length)return null;for(var r=0;r<t.length;r++){var n=t[r];if(null===n)return null;var i=mi(n),a=(0,Fe.Z)(e,i);if(void 0!==a)return a}return e[0]}function yi(e){return function(t){return(0,we.Z)(t.normalizedLanguage,"")===e.normalized&&(e.closedCaption?!0===t.isClosedCaption:!0!==t.isClosedCaption)}}function bi(e,t){if(0===e.length)return null;for(var r=0;r<t.length;r++){var n=t[r];if(null===n)return null;var i=yi(n),a=(0,Fe.Z)(e,i);if(void 0!==a)return a}return null}function ki(e){return function(t){if(void 0!==e.signInterpreted&&e.signInterpreted!==t.isSignInterpreted)return!1;if(void 0===e.codec)return!0;var r=e.codec.test,n=function(e){return void 0!==e.codec&&r.test(e.codec)};return e.codec.all?t.representations.every(n):t.representations.some(n)}}function _i(e,t){if(0===e.length)return null;for(var r=0;r<t.length;r++){var n=t[r];if(null===n)return null;var i=ki(n),a=(0,Fe.Z)(e,i);if(void 0!==a)return a}return e[0]}function Ei(e,t){for(var r=0;r<e.length();r++){var n=e.get(r);if(n.period.id===t.id)return n}}function wi(e){return{id:e.id,bitrate:e.bitrate,frameRate:e.frameRate,width:e.width,height:e.height,codec:e.codec}}function Si(e){return{id:e.id,bitrate:e.bitrate,codec:e.codec}}var Ti=U.Z.DEFAULT_UNMUTED_VOLUME,xi=I.zh,Oi=I._K,Pi=I.C1,Ai=I.Q1,Ci=I.Qt,Mi=I.yj,Ii=I.d5,Ri=I.UA,Di=I.$x,ji=function(e){function t(t){var r;void 0===t&&(t={}),r=e.call(this)||this;var n=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g;if((0,G.Z)(e.maxBufferAhead))t=ii;else if(t=Number(e.maxBufferAhead),isNaN(t))throw new Error("Invalid maxBufferAhead parameter. Should be a number.");if((0,G.Z)(e.maxBufferBehind))r=ai;else if(r=Number(e.maxBufferBehind),isNaN(r))throw new Error("Invalid maxBufferBehind parameter. Should be a number.");if((0,G.Z)(e.wantedBufferAhead))n=di;else if(n=Number(e.wantedBufferAhead),isNaN(n))throw new Error("Invalid wantedBufferAhead parameter. Should be a number.");var m=(0,G.Z)(e.limitVideoWidth)?ei:!!e.limitVideoWidth;if((0,G.Z)(e.throttleWhenHidden)?i=ui:((0,Q.Z)("`throttleWhenHidden` API is deprecated. Consider using `throttleVideoBitrateWhenHidden` instead."),i=!!e.throttleWhenHidden),a=!i&&((0,G.Z)(e.throttleVideoBitrateWhenHidden)?ci:!!e.throttleVideoBitrateWhenHidden),void 0!==e.preferredTextTracks?Array.isArray(e.preferredTextTracks)?s=e.preferredTextTracks:((0,Q.Z)("Invalid `preferredTextTracks` option, it should be an Array"),s=[]):s=[],void 0!==e.preferredAudioTracks?Array.isArray(e.preferredAudioTracks)?o=e.preferredAudioTracks:((0,Q.Z)("Invalid `preferredAudioTracks` option, it should be an Array"),o=[]):o=[],void 0!==e.preferredVideoTracks?Array.isArray(e.preferredVideoTracks)?l=e.preferredVideoTracks:((0,Q.Z)("Invalid `preferredVideoTracks` option, it should be an Array"),l=[]):l=[],(0,G.Z)(e.videoElement))u=document.createElement("video");else{if(!(e.videoElement instanceof HTMLMediaElement))throw new Error("Invalid videoElement parameter. Should be a HTMLMediaElement.");u=e.videoElement}if((0,G.Z)(e.initialVideoBitrate))c=Jn.video;else if(c=Number(e.initialVideoBitrate),isNaN(c))throw new Error("Invalid initialVideoBitrate parameter. Should be a number.");if((0,G.Z)(e.initialAudioBitrate))d=Jn.audio;else if(d=Number(e.initialAudioBitrate),isNaN(d))throw new Error("Invalid initialAudioBitrate parameter. Should be a number.");if((0,G.Z)(e.minVideoBitrate))p=ri.video;else if(p=Number(e.minVideoBitrate),isNaN(p))throw new Error("Invalid maxVideoBitrate parameter. Should be a number.");if((0,G.Z)(e.minAudioBitrate))f=ri.audio;else if(f=Number(e.minAudioBitrate),isNaN(f))throw new Error("Invalid minAudioBitrate parameter. Should be a number.");if((0,G.Z)(e.maxVideoBitrate))g=ni.video;else{if(g=Number(e.maxVideoBitrate),isNaN(g))throw new Error("Invalid maxVideoBitrate parameter. Should be a number.");if(p>g)throw new Error('Invalid maxVideoBitrate parameter. Its value, "'+g+'", is inferior to the set minVideoBitrate, "'+p+'"')}if((0,G.Z)(e.maxAudioBitrate))h=ni.audio;else{if(h=Number(e.maxAudioBitrate),isNaN(h))throw new Error("Invalid maxAudioBitrate parameter. Should be a number.");if(f>h)throw new Error('Invalid maxAudioBitrate parameter. Its value, "'+h+'", is inferior to the set minAudioBitrate, "'+f+'"')}return{maxBufferAhead:t,maxBufferBehind:r,limitVideoWidth:m,videoElement:u,wantedBufferAhead:n,throttleWhenHidden:i,throttleVideoBitrateWhenHidden:a,preferredAudioTracks:o,preferredTextTracks:s,preferredVideoTracks:l,initialAudioBitrate:d,initialVideoBitrate:c,minAudioBitrate:f,minVideoBitrate:p,maxAudioBitrate:h,maxVideoBitrate:g,stopAtEnd:(0,G.Z)(e.stopAtEnd)?si:!!e.stopAtEnd}}(t),i=n.initialAudioBitrate,a=n.initialVideoBitrate,o=n.limitVideoWidth,u=n.minAudioBitrate,c=n.minVideoBitrate,f=n.maxAudioBitrate,p=n.maxBufferAhead,h=n.maxBufferBehind,g=n.maxVideoBitrate,m=n.preferredAudioTracks,k=n.preferredTextTracks,_=n.preferredVideoTracks,E=n.throttleWhenHidden,w=n.throttleVideoBitrateWhenHidden,S=n.videoElement,T=n.wantedBufferAhead,x=n.stopAtEnd;return S.preload="auto",r.version="3.23.1",r.log=L.Z,r.state="STOPPED",r.videoElement=S,r._priv_destroy$=new s.xQ,r._priv_pictureInPictureEvent$=new l.t(1),Mi(S).pipe((0,v.R)(r._priv_destroy$)).subscribe(r._priv_pictureInPictureEvent$),Ai(S).pipe((0,v.R)(r._priv_destroy$)).subscribe((function(){return r.trigger("fullscreenChange",r.isFullscreen())})),Ri(S.textTracks).pipe((0,v.R)(r._priv_destroy$),(0,y.U)((function(e){for(var t=e.target,r=[],n=0;n<t.length;n++){var i=t[n];r.push(i)}return r})),(0,b.x)((function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}))).subscribe((function(e){return r._priv_onNativeTextTracksNext(e)})),r._priv_playing$=new l.t(1),r._priv_speed$=new d(S.playbackRate),r._priv_stopCurrentContent$=new s.xQ,r._priv_contentLock$=new d(!1),r._priv_bufferOptions={wantedBufferAhead$:new d(T),maxBufferAhead$:new d(p),maxBufferBehind$:new d(h)},r._priv_bitrateInfos={lastBitrates:{audio:i,video:a},minAutoBitrates:{audio:new d(u),video:new d(c)},maxAutoBitrates:{audio:new d(f),video:new d(g)},manualBitrates:{audio:new d(-1),video:new d(-1)}},r._priv_throttleWhenHidden=E,r._priv_throttleVideoBitrateWhenHidden=w,r._priv_limitVideoWidth=o,r._priv_mutedMemory=Ti,r._priv_trackChoiceManager=null,r._priv_mediaElementTrackChoiceManager=null,r._priv_currentError=null,r._priv_contentInfos=null,r._priv_contentEventsMemory={},r._priv_stopAtEnd=x,r._priv_setPlayerState(Nn),r._priv_preferredAudioTracks=m,r._priv_preferredTextTracks=k,r._priv_preferredVideoTracks=_,r._priv_lastContentPlaybackInfos={},r}o()(t,e);var r=t.prototype;return r.stop=function(){this.state!==Nn&&(this._priv_stopCurrentContent$.next(),this._priv_cleanUpCurrentContentState(),this._priv_setPlayerState(Nn))},r.dispose=function(){this.stop(),null!==this.videoElement&&re(this.videoElement).subscribe(Z.Z),this._priv_destroy$.next(),this._priv_destroy$.complete(),this._priv_stopCurrentContent$.complete(),this._priv_playing$.complete(),this._priv_speed$.complete(),this._priv_contentLock$.complete(),this._priv_bufferOptions.wantedBufferAhead$.complete(),this._priv_bufferOptions.maxBufferAhead$.complete(),this._priv_bufferOptions.maxBufferBehind$.complete(),this._priv_pictureInPictureEvent$.complete(),this._priv_bitrateInfos.manualBitrates.video.complete(),this._priv_bitrateInfos.manualBitrates.audio.complete(),this._priv_bitrateInfos.minAutoBitrates.video.complete(),this._priv_bitrateInfos.minAutoBitrates.audio.complete(),this._priv_bitrateInfos.maxAutoBitrates.video.complete(),this._priv_bitrateInfos.maxAutoBitrates.audio.complete(),this._priv_lastContentPlaybackInfos={},this.videoElement=null},r.loadVideo=function(e){var t=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p;if((0,G.Z)(e))throw new Error("No option set on loadVideo");if((0,G.Z)(e.url)){if((0,G.Z)(null===(t=e.transportOptions)||void 0===t?void 0:t.initialManifest)&&(0,G.Z)(null===(r=e.transportOptions)||void 0===r?void 0:r.manifestLoader))throw new Error("Unable to load a content: no url set on loadVideo.\nPlease provide at least either an `url` argument, a `transportOptions.initialManifest` option or a `transportOptions.manifestLoader` option so the RxPlayer can load the content.")}else l=String(e.url);if((0,G.Z)(e.transport))throw new Error("No transport set on loadVideo");u=String(e.transport);var h=(0,G.Z)(e.autoPlay)?Xn:!!e.autoPlay;if((0,G.Z)(e.keySystems))c=[];else for(var g,m=Gn(c=Array.isArray(e.keySystems)?e.keySystems:[e.keySystems]);!(g=m()).done;){var v=g.value;if("string"!==typeof v.type||"function"!==typeof v.getLicense)throw new Error("Invalid key system given: Missing type string or getLicense callback")}var y=void 0!==e.lowLatencyMode&&!!e.lowLatencyMode,b="object"===typeof e.transportOptions&&null!==e.transportOptions?e.transportOptions:{},k=null===(n=e.transportOptions)||void 0===n?void 0:n.initialManifest,_=null===(i=e.transportOptions)||void 0===i?void 0:i.manifestUpdateUrl,E=null!==(o=null===(a=e.transportOptions)||void 0===a?void 0:a.minimumManifestUpdateInterval)&&void 0!==o?o:0,w=(0,G.Z)(e.audioTrackSwitchingMode)?qn:e.audioTrackSwitchingMode;(0,St.Z)(["seamless","direct"],w)||(L.Z.warn("The `audioTrackSwitchingMode` loadVideo option must match one of the following strategy name:\n- `seamless`\n- `direct`\nIf badly set, "+qn+" strategy will be used as default"),w=qn);var S=(0,G.Z)(e.onCodecSwitch)?Yn:e.onCodecSwitch;(0,St.Z)(["continue","reload"],S)||(L.Z.warn("The `onCodecSwitch` loadVideo option must match one of the following string:\n- `continue`\n- `reload`\nIf badly set, "+Yn+" will be used as default"),S=Yn);var T=(0,q.Z)({},b,{supplementaryImageTracks:[],supplementaryTextTracks:[],lowLatencyMode:y});if(delete T.initialManifest,delete T.manifestUpdateUrl,delete T.minimumManifestUpdateInterval,void 0!==e.supplementaryTextTracks){(0,Q.Z)("The `supplementaryTextTracks` loadVideo option is deprecated.\nPlease use the `TextTrackRenderer` tool instead.");for(var x,O=Array.isArray(e.supplementaryTextTracks)?e.supplementaryTextTracks:[e.supplementaryTextTracks],P=Gn(O);!(x=P()).done;){var A=x.value;if("string"!==typeof A.language||"string"!==typeof A.mimeType||"string"!==typeof A.url)throw new Error("Invalid supplementary text track given. Missing either language, mimetype or url")}T.supplementaryTextTracks=O}if(void 0!==e.supplementaryImageTracks){(0,Q.Z)("The `supplementaryImageTracks` loadVideo option is deprecated.\nPlease use the `parseBifThumbnails` tool instead.");for(var C,M=Array.isArray(e.supplementaryImageTracks)?e.supplementaryImageTracks:[e.supplementaryImageTracks],I=Gn(M);!(C=I()).done;){var R=C.value;if("string"!==typeof R.mimeType||"string"!==typeof R.url)throw new Error("Invalid supplementary image track given. Missing either mimetype or url")}T.supplementaryImageTracks=M}if((0,G.Z)(e.textTrackMode))d=li;else{if("native"!==e.textTrackMode&&"html"!==e.textTrackMode)throw new Error("Invalid textTrackMode.");d=e.textTrackMode}(0,G.Z)(e.defaultAudioTrack)||(0,Q.Z)("The `defaultAudioTrack` loadVideo option is deprecated.\nPlease use the `preferredAudioTracks` constructor option or the`setPreferredAudioTracks` method instead");var D=(0,Hn.iH)(e.defaultAudioTrack);(0,G.Z)(e.defaultTextTrack)||(0,Q.Z)("The `defaultTextTrack` loadVideo option is deprecated.\nPlease use the `preferredTextTracks` constructor option or the`setPreferredTextTracks` method instead");var j=(0,Hn.Y1)(e.defaultTextTrack),N=!oi;(0,G.Z)(e.hideNativeSubtitle)||((0,Q.Z)("The `hideNativeSubtitle` loadVideo option is deprecated"),N=!!e.hideNativeSubtitle);var U=null!==(s=e.manualBitrateSwitchingMode)&&void 0!==s?s:ti,B=(0,G.Z)(e.enableFastSwitching)?Qn:e.enableFastSwitching;if("html"===d){if((0,G.Z)(e.textTrackElement))throw new Error('You have to provide a textTrackElement in "html" textTrackMode.');if(!(e.textTrackElement instanceof HTMLElement))throw new Error("textTrackElement should be an HTMLElement.");f=e.textTrackElement}else(0,G.Z)(e.textTrackElement)||L.Z.warn('API: You have set a textTrackElement without being in an "html" textTrackMode. It will be ignored.');if(!(0,G.Z)(e.startAt))if(e.startAt.wallClockTime instanceof Date){var F=e.startAt.wallClockTime.getTime()/1e3;p=(0,q.Z)({},e.startAt,{wallClockTime:F})}else p=e.startAt;return{autoPlay:h,defaultAudioTrack:D,defaultTextTrack:j,enableFastSwitching:B,hideNativeSubtitle:N,keySystems:c,initialManifest:k,lowLatencyMode:y,manualBitrateSwitchingMode:U,audioTrackSwitchingMode:w,manifestUpdateUrl:_,minimumManifestUpdateInterval:E,networkConfig:(0,G.Z)(e.networkConfig)?{}:{manifestRetry:e.networkConfig.manifestRetry,offlineRetry:e.networkConfig.offlineRetry,segmentRetry:e.networkConfig.segmentRetry},onCodecSwitch:S,startAt:p,textTrackElement:f,textTrackMode:d,transport:u,transportOptions:T,url:l}}(e);L.Z.info("API: Calling loadvideo",t),this._priv_lastContentPlaybackInfos={options:t},this._priv_initializeContentPlayback(t)},r.reload=function(e){var t,r=this._priv_lastContentPlaybackInfos,n=r.options,i=r.manifest,a=r.lastPlaybackPosition;if(void 0===n||void 0===i||void 0===a)throw new Error("API: Can't reload without having previously loaded a content.");if(function(e){var t,r,n,i;if(null===e||"object"!==typeof e&&void 0!==e)throw new Error("API: reload - Invalid options format.");if(null===(null===e||void 0===e?void 0:e.reloadAt)||"object"!==typeof(null===e||void 0===e?void 0:e.reloadAt)&&void 0!==(null===e||void 0===e?void 0:e.reloadAt))throw new Error("API: reload - Invalid 'reloadAt' option format.");if("number"!==typeof(null===(t=null===e||void 0===e?void 0:e.reloadAt)||void 0===t?void 0:t.position)&&void 0!==(null===(r=null===e||void 0===e?void 0:e.reloadAt)||void 0===r?void 0:r.position))throw new Error("API: reload - Invalid 'reloadAt.position' option format.");if("number"!==typeof(null===(n=null===e||void 0===e?void 0:e.reloadAt)||void 0===n?void 0:n.relative)&&void 0!==(null===(i=null===e||void 0===e?void 0:e.reloadAt)||void 0===i?void 0:i.relative))throw new Error("API: reload - Invalid 'reloadAt.relative' option format.")}(e),void 0!==e&&void 0!==e.reloadAt&&void 0!==e.reloadAt.position)t=e.reloadAt.position;else{var o;if("STOPPED"===this.state||"ENDED"===this.state)o=a;else{if(null===this.videoElement)throw new Error("Can't reload when video element does not exist.");o=this.videoElement.currentTime}t=void 0!==e&&void 0!==e.reloadAt&&void 0!==e.reloadAt.relative?e.reloadAt.relative+o:o}var s=Object.assign(Object.assign({},n),{initialManifest:i});s.startAt={position:t},this._priv_initializeContentPlayback(s)},r._priv_initializeContentPlayback=function(e){var t,r,n,i=this,a=e.autoPlay,o=e.audioTrackSwitchingMode,s=e.defaultAudioTrack,l=e.defaultTextTrack,u=e.enableFastSwitching,c=e.initialManifest,d=e.keySystems,_=e.lowLatencyMode,O=e.manualBitrateSwitchingMode,A=e.manifestUpdateUrl,I=e.minimumManifestUpdateInterval,R=e.networkConfig,D=e.onCodecSwitch,j=e.startAt,U=e.transport,B=e.transportOptions,F=e.url;if(null===this.videoElement)throw new Error("the attached video element is disposed");this.stop();var z="directfile"===U;this._priv_currentError=null,this._priv_contentInfos={url:F,isDirectFile:z,segmentBuffersStore:null,thumbnails:null,manifest:null,currentPeriod:null,activeAdaptations:null,activeRepresentations:null,initialAudioTrack:s,initialTextTrack:l},this._priv_playing$.next(!1);var V,$=this.videoElement,K=jn($,{withMediaSource:!z,lowLatencyMode:_}),H=(0,f.T)(this._priv_stopCurrentContent$,this._priv_stopAtEnd?Pi($):p.E).pipe((0,k.q)(1));if(z){if(null===W.Z.directfile)throw new Error("DirectFile feature not activated in your build.");this._priv_mediaElementTrackChoiceManager=new W.Z.directfile.mediaElementTrackChoiceManager(this.videoElement);var G=void 0===s?this._priv_preferredAudioTracks:[s];this._priv_mediaElementTrackChoiceManager.setPreferredAudioTracks(G,!0);var X=void 0===l?this._priv_preferredTextTracks:[l];this._priv_mediaElementTrackChoiceManager.setPreferredTextTracks(X,!0),this._priv_mediaElementTrackChoiceManager.setPreferredVideoTracks(this._priv_preferredVideoTracks,!0),this.trigger("availableAudioTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableAudioTracks()),this.trigger("availableVideoTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableVideoTracks()),this.trigger("availableTextTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableTextTracks()),this.trigger("audioTrackChange",null!==(t=this._priv_mediaElementTrackChoiceManager.getChosenAudioTrack())&&void 0!==t?t:null),this.trigger("textTrackChange",null!==(r=this._priv_mediaElementTrackChoiceManager.getChosenTextTrack())&&void 0!==r?r:null),this.trigger("videoTrackChange",null!==(n=this._priv_mediaElementTrackChoiceManager.getChosenVideoTrack())&&void 0!==n?n:null),this._priv_mediaElementTrackChoiceManager.addEventListener("availableVideoTracksChange",(function(e){return i.trigger("availableVideoTracksChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("availableAudioTracksChange",(function(e){return i.trigger("availableAudioTracksChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("availableTextTracksChange",(function(e){return i.trigger("availableTextTracksChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("audioTrackChange",(function(e){return i.trigger("audioTrackChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("videoTrackChange",(function(e){return i.trigger("videoTrackChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("textTrackChange",(function(e){return i.trigger("textTrackChange",e)}));var Y=W.Z.directfile.initDirectFile({autoPlay:a,clock$:K,keySystems:d,mediaElement:$,speed$:this._priv_speed$,startAt:j,url:F}).pipe((0,v.R)(H));V=E()(Y)}else{var Q=W.Z.transports[U];if("function"!==typeof Q)throw new Error('transport "'+U+'" not supported');var ee=Q(B),te=N(),re={throttle:{},throttleBitrate:{},limitWidth:{}};this._priv_throttleWhenHidden&&(te?re.throttle={video:xi().pipe((0,y.U)((function(e){return e?1/0:0})),(0,v.R)(this._priv_stopCurrentContent$))}:L.Z.warn("API: Can't apply throttleWhenHidden because browser can't be trusted for visibility.")),this._priv_throttleVideoBitrateWhenHidden&&(te?re.throttleBitrate={video:Oi(this._priv_pictureInPictureEvent$).pipe((0,y.U)((function(e){return e?1/0:0})),(0,v.R)(this._priv_stopCurrentContent$))}:L.Z.warn("API: Can't apply throttleVideoBitrateWhenHidden because browser can't be trusted for visibility.")),this._priv_limitVideoWidth&&(te?re.limitWidth={video:Di($,this._priv_pictureInPictureEvent$).pipe((0,v.R)(this._priv_stopCurrentContent$))}:L.Z.warn("API: Can't apply limitVideoWidth because browser can't be trusted for video size."));var ne={initialBitrates:this._priv_bitrateInfos.lastBitrates,lowLatencyMode:_,manualBitrates:this._priv_bitrateInfos.manualBitrates,minAutoBitrates:this._priv_bitrateInfos.minAutoBitrates,maxAutoBitrates:this._priv_bitrateInfos.maxAutoBitrates,throttlers:re},ie="native"===e.textTrackMode?{textTrackMode:"native",hideNativeSubtitle:e.hideNativeSubtitle}:{textTrackMode:"html",textTrackElement:e.textTrackElement},ae=(0,q.Z)({audioTrackSwitchingMode:o,enableFastSwitching:u,manualBitrateSwitchingMode:O,onCodecSwitch:D},this._priv_bufferOptions),se=En({adaptiveOptions:ne,autoPlay:a,bufferOptions:ae,clock$:K,content:{initialManifest:c,manifestUpdateUrl:A,url:F},keySystems:d,lowLatencyMode:_,mediaElement:$,minimumManifestUpdateInterval:I,networkConfig:R,transportPipelines:ee,speed$:this._priv_speed$,startAt:j,textTrackOptions:ie}).pipe((0,v.R)(H));V=E()(se)}var le,ue,ce=V.pipe((0,w.h)((function(e){return"stalled"===e.type||"unstalled"===e.type})),(0,y.U)((function(e){return e.value})),(0,b.x)((function(e,t){return null===e&&null===t||null!==e&&null!==t&&e.reason===t.reason}))),de=V.pipe((0,w.h)((function(e){return"loaded"===e.type})),(0,S.B)()),fe=V.pipe((0,w.h)((function(e){return"reloading-media-source"===e.type})),(0,S.B)()),pe=Pi($),he=Ii($),ge=(0,h.aj)([this._priv_playing$,ce.pipe((0,T.O)(null)),pe.pipe((0,T.O)(null)),he.pipe((0,T.O)(null))]).pipe((0,v.R)(this._priv_stopCurrentContent$),(0,y.U)((function(e){var t=e[0],r=e[1];return function(e,t,r){if(e.ended)return Vn;if(null!==r){var n=Math.abs(e.duration-e.currentTime);return null!=Ln&&n<Ln?Vn:"seeking"===r.reason?Wn:$n}return t?Fn:zn}($,t,r)}))),me=(0,g.z)((0,m.of)(Bn),de.pipe((0,k.q)(1),(0,x.h)(Un)),(0,f.T)(ge.pipe((0,v.R)(fe),(le=function(e){return e===zn},function(e){return e.lift(new P(le))})),fe.pipe((0,C.c)(de.pipe((0,k.q)(1),(0,M.j)(ge),(0,T.O)(Kn)))))).pipe((0,b.x)());this._priv_stopCurrentContent$.pipe((0,k.q)(1)).subscribe((function(){void 0!==ue&&ue.unsubscribe()})),Ci($).pipe((0,v.R)(this._priv_stopCurrentContent$)).subscribe((function(e){return i._priv_onPlayPauseNext("play"===e.type)}),Z.Z),K.pipe((0,v.R)(this._priv_stopCurrentContent$)).subscribe((function(e){return i._priv_triggerPositionUpdate(e)}),Z.Z),de.pipe((0,C.c)(function(e,t){return(0,J.P)((function(){if(null===e)return p.E;var r=(0,Kt.R)(e,"seeking").pipe((0,x.h)("seeking")),n=(0,Kt.R)(e,"seeked").pipe((0,C.c)(t.pipe((0,oe.zg)((function(e){return null===e.stalled||"seeking"!==e.stalled.reason?(0,m.of)("seeked"):p.E})),(0,k.q)(1)))),i=(0,f.T)(r,n);return e.seeking?i.pipe((0,T.O)("seeking")):i}))}(this.videoElement,K)),(0,v.R)(this._priv_stopCurrentContent$)).subscribe((function(e){L.Z.info('API: Triggering "'+e+'" event'),i.trigger(e,null)})),me.pipe((0,v.R)(this._priv_stopCurrentContent$)).subscribe((function(e){return i._priv_setPlayerState(e)}),Z.Z),V.subscribe((function(e){return i._priv_onPlaybackEvent(e)}),(function(e){return i._priv_onPlaybackError(e)}),(function(){return i._priv_onPlaybackFinished()})),this._priv_contentLock$.pipe((0,w.h)((function(e){return!e})),(0,k.q)(1),(0,v.R)(this._priv_stopCurrentContent$)).subscribe((function(){ue=V.connect()}))},r.getError=function(){return this._priv_currentError},r.getManifest=function(){return(0,Q.Z)("getManifest is deprecated. Please open an issue if you used this API."),null===this._priv_contentInfos?null:this._priv_contentInfos.manifest},r.getCurrentAdaptations=function(){if((0,Q.Z)("getCurrentAdaptations is deprecated. Please open an issue if you used this API."),null===this._priv_contentInfos)return null;var e=this._priv_contentInfos,t=e.currentPeriod,r=e.activeAdaptations;return null===t||null===r||(0,G.Z)(r[t.id])?null:r[t.id]},r.getCurrentRepresentations=function(){return(0,Q.Z)("getCurrentRepresentations is deprecated. Please open an issue if you used this API."),this._priv_getCurrentRepresentations()},r.getVideoElement=function(){return this.videoElement},r.getNativeTextTrack=function(){if((0,Q.Z)("getNativeTextTrack is deprecated. Please open an issue if you used this API."),null===this.videoElement)throw new Error("Disposed player");var e=this.videoElement;return e.textTracks.length>0?e.textTracks[0]:null},r.getPlayerState=function(){return this.state},r.isLive=function(){if(null===this._priv_contentInfos)return!1;var e=this._priv_contentInfos,t=e.isDirectFile,r=e.manifest;return!t&&null!==r&&r.isLive},r.getUrl=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.isDirectFile,r=e.manifest,n=e.url;return t?n:null!==r?r.getUrl():void 0}},r.getVideoDuration=function(){if(null===this.videoElement)throw new Error("Disposed player");return this.videoElement.duration},r.getVideoBufferGap=function(){if(null===this.videoElement)throw new Error("Disposed player");var e=this.videoElement;return(0,Y.L7)(e.buffered,e.currentTime)},r.getVideoLoadedTime=function(){if(null===this.videoElement)throw new Error("Disposed player");var e=this.videoElement;return(0,Y.at)(e.buffered,e.currentTime)},r.getVideoPlayedTime=function(){if(null===this.videoElement)throw new Error("Disposed player");var e=this.videoElement;return(0,Y.DD)(e.buffered,e.currentTime)},r.getWallClockTime=function(){if(null===this.videoElement)throw new Error("Disposed player");if(null===this._priv_contentInfos)return this.videoElement.currentTime;var e=this._priv_contentInfos,t=e.isDirectFile,r=e.manifest;return t?this.videoElement.currentTime:null!==r?this.videoElement.currentTime+(void 0!==r.availabilityStartTime?r.availabilityStartTime:0):0},r.getPosition=function(){if(null===this.videoElement)throw new Error("Disposed player");return this.videoElement.currentTime},r.getPlaybackRate=function(){return this._priv_speed$.getValue()},r.setPlaybackRate=function(e){this._priv_speed$.next(e)},r.getAvailableVideoBitrates=function(){if(null===this._priv_contentInfos)return[];var e=this._priv_contentInfos,t=e.currentPeriod,r=e.activeAdaptations;if(null===t||null===r)return[];var n=r[t.id];return void 0===n||(0,G.Z)(n.video)?[]:n.video.getAvailableBitrates()},r.getAvailableAudioBitrates=function(){if(null===this._priv_contentInfos)return[];var e=this._priv_contentInfos,t=e.currentPeriod,r=e.activeAdaptations;if(null===t||null===r)return[];var n=r[t.id];return void 0===n||(0,G.Z)(n.audio)?[]:n.audio.getAvailableBitrates()},r.getManualAudioBitrate=function(){return this._priv_bitrateInfos.manualBitrates.audio.getValue()},r.getManualVideoBitrate=function(){return this._priv_bitrateInfos.manualBitrates.video.getValue()},r.getVideoBitrate=function(){var e=this._priv_getCurrentRepresentations();if(null!==e&&!(0,G.Z)(e.video))return e.video.bitrate},r.getAudioBitrate=function(){var e=this._priv_getCurrentRepresentations();if(null!==e&&!(0,G.Z)(e.audio))return e.audio.bitrate},r.getMinVideoBitrate=function(){return this._priv_bitrateInfos.minAutoBitrates.video.getValue()},r.getMinAudioBitrate=function(){return this._priv_bitrateInfos.minAutoBitrates.audio.getValue()},r.getMaxVideoBitrate=function(){return this._priv_bitrateInfos.maxAutoBitrates.video.getValue()},r.getMaxAudioBitrate=function(){return this._priv_bitrateInfos.maxAutoBitrates.audio.getValue()},r.play=function(){var e=this;if(null===this.videoElement)throw new Error("Disposed player");var t=this.videoElement.play();return(0,G.Z)(t)||"function"!==typeof t.catch?X.Z.resolve():t.catch((function(t){if("NotAllowedError"===t.name){var r=new B.Z("MEDIA_ERR_PLAY_NOT_ALLOWED",t.toString());e.trigger("warning",r)}throw t}))},r.pause=function(){if(null===this.videoElement)throw new Error("Disposed player");this.videoElement.pause()},r.seekTo=function(e){if(null===this.videoElement)throw new Error("Disposed player");if(null===this._priv_contentInfos)throw new Error("player: no content loaded");var t,r=this._priv_contentInfos,n=r.isDirectFile,i=r.manifest;if(!n&&null===i)throw new Error("player: the content did not load yet");if("number"===typeof e)t=e;else if("object"===typeof e){var a=e,o=this.videoElement.currentTime;if((0,G.Z)(a.relative))if((0,G.Z)(a.position)){if((0,G.Z)(a.wallClockTime))throw new Error('invalid time object. You must set one of the following properties: "relative", "position" or "wallClockTime"');t=n||null===i?a.wallClockTime:a.wallClockTime-(void 0!==i.availabilityStartTime?i.availabilityStartTime:0)}else t=a.position;else t=o+a.relative}if(void 0===t)throw new Error("invalid time given");return this.videoElement.currentTime=t,t},r.isFullscreen=function(){return(0,Q.Z)("isFullscreen is deprecated. Fullscreen management should now be managed by the application"),D()},r.setFullscreen=function(e){if(void 0===e&&(e=!0),(0,Q.Z)("setFullscreen is deprecated. Fullscreen management should now be managed by the application"),null===this.videoElement)throw new Error("Disposed player");e?function(e){if(!D()){var t=e;"function"===typeof t.requestFullscreen?t.requestFullscreen():"function"===typeof t.msRequestFullscreen?t.msRequestFullscreen():"function"===typeof t.mozRequestFullScreen?t.mozRequestFullScreen():"function"===typeof t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}(this.videoElement):R()},r.exitFullscreen=function(){(0,Q.Z)("exitFullscreen is deprecated. Fullscreen management should now be managed by the application"),R()},r.getVolume=function(){if(null===this.videoElement)throw new Error("Disposed player");return this.videoElement.volume},r.setVolume=function(e){if(null===this.videoElement)throw new Error("Disposed player");var t=this.videoElement;e!==t.volume&&(t.volume=e,this.trigger("volumeChange",e))},r.isMute=function(){return 0===this.getVolume()},r.mute=function(){this._priv_mutedMemory=this.getVolume(),this.setVolume(0)},r.unMute=function(){0===this.getVolume()&&this.setVolume(0===this._priv_mutedMemory?Ti:this._priv_mutedMemory)},r.setVideoBitrate=function(e){this._priv_bitrateInfos.manualBitrates.video.next(e)},r.setAudioBitrate=function(e){this._priv_bitrateInfos.manualBitrates.audio.next(e)},r.setMinVideoBitrate=function(e){var t=this._priv_bitrateInfos.maxAutoBitrates.video.getValue();if(e>t)throw new Error('Invalid minimum video bitrate given. Its value, "'+e+'" is superior the current maximum video birate, "'+t+'".');this._priv_bitrateInfos.minAutoBitrates.video.next(e)},r.setMinAudioBitrate=function(e){var t=this._priv_bitrateInfos.maxAutoBitrates.audio.getValue();if(e>t)throw new Error('Invalid minimum audio bitrate given. Its value, "'+e+'" is superior the current maximum audio birate, "'+t+'".');this._priv_bitrateInfos.minAutoBitrates.audio.next(e)},r.setMaxVideoBitrate=function(e){var t=this._priv_bitrateInfos.minAutoBitrates.video.getValue();if(e<t)throw new Error('Invalid maximum video bitrate given. Its value, "'+e+'" is inferior the current minimum video birate, "'+t+'".');this._priv_bitrateInfos.maxAutoBitrates.video.next(e)},r.setMaxAudioBitrate=function(e){var t=this._priv_bitrateInfos.minAutoBitrates.audio.getValue();if(e<t)throw new Error('Invalid maximum audio bitrate given. Its value, "'+e+'" is inferior the current minimum audio birate, "'+t+'".');this._priv_bitrateInfos.maxAutoBitrates.audio.next(e)},r.setMaxBufferBehind=function(e){this._priv_bufferOptions.maxBufferBehind$.next(e)},r.setMaxBufferAhead=function(e){this._priv_bufferOptions.maxBufferAhead$.next(e)},r.setWantedBufferAhead=function(e){this._priv_bufferOptions.wantedBufferAhead$.next(e)},r.getMaxBufferBehind=function(){return this._priv_bufferOptions.maxBufferBehind$.getValue()},r.getMaxBufferAhead=function(){return this._priv_bufferOptions.maxBufferAhead$.getValue()},r.getWantedBufferAhead=function(){return this._priv_bufferOptions.wantedBufferAhead$.getValue()},r.getCurrentKeySystem=function(){if(null===this.videoElement)throw new Error("Disposed player");return ne(this.videoElement)},r.getAvailableAudioTracks=function(){var e,t;if(null===this._priv_contentInfos)return[];var r=this._priv_contentInfos,n=r.currentPeriod;return r.isDirectFile?null!==(t=null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e?void 0:e.getAvailableAudioTracks())&&void 0!==t?t:[]:null===this._priv_trackChoiceManager||null===n?[]:this._priv_trackChoiceManager.getAvailableAudioTracks(n)},r.getAvailableTextTracks=function(){var e,t;if(null===this._priv_contentInfos)return[];var r=this._priv_contentInfos,n=r.currentPeriod;return r.isDirectFile?null!==(t=null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e?void 0:e.getAvailableTextTracks())&&void 0!==t?t:[]:null===this._priv_trackChoiceManager||null===n?[]:this._priv_trackChoiceManager.getAvailableTextTracks(n)},r.getAvailableVideoTracks=function(){var e,t;if(null===this._priv_contentInfos)return[];var r=this._priv_contentInfos,n=r.currentPeriod;return r.isDirectFile?null!==(t=null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e?void 0:e.getAvailableVideoTracks())&&void 0!==t?t:[]:null===this._priv_trackChoiceManager||null===n?[]:this._priv_trackChoiceManager.getAvailableVideoTracks(n)},r.getAudioTrack=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.currentPeriod;if(e.isDirectFile){if(null===this._priv_mediaElementTrackChoiceManager)return;return this._priv_mediaElementTrackChoiceManager.getChosenAudioTrack()}if(null!==this._priv_trackChoiceManager&&null!==t)return this._priv_trackChoiceManager.getChosenAudioTrack(t)}},r.getTextTrack=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.currentPeriod;if(e.isDirectFile){if(null===this._priv_mediaElementTrackChoiceManager)return;return this._priv_mediaElementTrackChoiceManager.getChosenTextTrack()}if(null!==this._priv_trackChoiceManager&&null!==t)return this._priv_trackChoiceManager.getChosenTextTrack(t)}},r.getVideoTrack=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.currentPeriod;if(e.isDirectFile){if(null===this._priv_mediaElementTrackChoiceManager)return;return this._priv_mediaElementTrackChoiceManager.getChosenVideoTrack()}if(null!==this._priv_trackChoiceManager&&null!==t)return this._priv_trackChoiceManager.getChosenVideoTrack(t)}},r.setAudioTrack=function(e){var t;if(null===this._priv_contentInfos)throw new Error("No content loaded");var r=this._priv_contentInfos,n=r.currentPeriod;if(r.isDirectFile)try{return void(null===(t=this._priv_mediaElementTrackChoiceManager)||void 0===t||t.setAudioTrackById(e))}catch(i){throw new Error("player: unknown audio track")}if(null===this._priv_trackChoiceManager||null===n)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setAudioTrackByID(n,e)}catch(i){throw new Error("player: unknown audio track")}},r.setTextTrack=function(e){var t;if(null===this._priv_contentInfos)throw new Error("No content loaded");var r=this._priv_contentInfos,n=r.currentPeriod;if(r.isDirectFile)try{return void(null===(t=this._priv_mediaElementTrackChoiceManager)||void 0===t||t.setTextTrackById(e))}catch(i){throw new Error("player: unknown text track")}if(null===this._priv_trackChoiceManager||null===n)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setTextTrackByID(n,e)}catch(i){throw new Error("player: unknown text track")}},r.disableTextTrack=function(){var e;if(null!==this._priv_contentInfos){var t=this._priv_contentInfos,r=t.currentPeriod;if(t.isDirectFile)null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e||e.disableTextTrack();else if(null!==this._priv_trackChoiceManager&&null!==r)return this._priv_trackChoiceManager.disableTextTrack(r)}},r.setVideoTrack=function(e){var t;if(null===this._priv_contentInfos)throw new Error("No content loaded");var r=this._priv_contentInfos,n=r.currentPeriod;if(r.isDirectFile)try{return void(null===(t=this._priv_mediaElementTrackChoiceManager)||void 0===t||t.setVideoTrackById(e))}catch(i){throw new Error("player: unknown video track")}if(null===this._priv_trackChoiceManager||null===n)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setVideoTrackByID(n,e)}catch(i){throw new Error("player: unknown video track")}},r.disableVideoTrack=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.currentPeriod;if(e.isDirectFile&&null!==this._priv_mediaElementTrackChoiceManager)return this._priv_mediaElementTrackChoiceManager.disableVideoTrack();if(null!==this._priv_trackChoiceManager&&null!==t)return this._priv_trackChoiceManager.disableVideoTrack(t)}},r.getPreferredAudioTracks=function(){return this._priv_preferredAudioTracks},r.getPreferredTextTracks=function(){return this._priv_preferredTextTracks},r.getPreferredVideoTracks=function(){return this._priv_preferredVideoTracks},r.setPreferredAudioTracks=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))throw new Error("Invalid `setPreferredAudioTracks` argument. Should have been an Array.");this._priv_preferredAudioTracks=e,null!==this._priv_trackChoiceManager?this._priv_trackChoiceManager.setPreferredAudioTracks(e,t):null!==this._priv_mediaElementTrackChoiceManager&&this._priv_mediaElementTrackChoiceManager.setPreferredAudioTracks(e,t)},r.setPreferredTextTracks=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))throw new Error("Invalid `setPreferredTextTracks` argument. Should have been an Array.");this._priv_preferredTextTracks=e,null!==this._priv_trackChoiceManager?this._priv_trackChoiceManager.setPreferredTextTracks(e,t):null!==this._priv_mediaElementTrackChoiceManager&&this._priv_mediaElementTrackChoiceManager.setPreferredTextTracks(e,t)},r.setPreferredVideoTracks=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))throw new Error("Invalid `setPreferredVideoTracks` argument. Should have been an Array.");this._priv_preferredVideoTracks=e,null!==this._priv_trackChoiceManager?this._priv_trackChoiceManager.setPreferredVideoTracks(e,t):null!==this._priv_mediaElementTrackChoiceManager&&this._priv_mediaElementTrackChoiceManager.setPreferredVideoTracks(e,t)},r.getImageTrackData=function(){return(0,Q.Z)("`getImageTrackData` is deprecated.Please use the `parseBifThumbnails` tool instead."),null===this._priv_contentInfos?null:this._priv_contentInfos.thumbnails},r.getMinimumPosition=function(){if(null===this._priv_contentInfos)return null;if(this._priv_contentInfos.isDirectFile)return 0;var e=this._priv_contentInfos.manifest;return null!==e?e.getMinimumPosition():null},r.getMaximumPosition=function(){if(null===this._priv_contentInfos)return null;var e=this._priv_contentInfos,t=e.isDirectFile,r=e.manifest;if(t){if(null===this.videoElement)throw new Error("Disposed player");return this.videoElement.duration}return null!==r?r.getMaximumPosition():null},r.__priv_getSegmentBufferContent=function(e){if(null===this._priv_contentInfos||null===this._priv_contentInfos.segmentBuffersStore)return null;var t=this._priv_contentInfos.segmentBuffersStore.getStatus(e);return"initialized"===t.type?t.value.getInventory():null},r._priv_cleanUpCurrentContentState=function(){var e,t=this;L.Z.debug("Locking `contentLock` to clean-up the current content."),this._priv_contentLock$.next(!0),this._priv_contentInfos=null,this._priv_trackChoiceManager=null,null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e||e.dispose(),this._priv_mediaElementTrackChoiceManager=null,this._priv_contentEventsMemory={};var r=function(){L.Z.debug("Unlocking `contentLock`. Next content can begin."),t._priv_contentLock$.next(!1)};(0,G.Z)(this.videoElement)?r():ae(this.videoElement).subscribe(Z.Z,(function(e){L.Z.error("API: An error arised when trying to clean-up the EME session:"+(e instanceof Error?e.toString():"Unknown Error")),r()}),(function(){L.Z.debug("API: EME session cleaned-up with success!"),r()}))},r._priv_onPlaybackEvent=function(e){switch(e.type){case"stream-event":this.trigger("streamEvent",e.value);break;case"stream-event-skip":this.trigger("streamEventSkip",e.value);break;case"activePeriodChanged":this._priv_onActivePeriodChanged(e.value);break;case"periodStreamReady":this._priv_onPeriodStreamReady(e.value);break;case"periodStreamCleared":this._priv_onPeriodStreamCleared(e.value);break;case"reloading-media-source":this._priv_onReloadingMediaSource();break;case"representationChange":this._priv_onRepresentationChange(e.value);break;case"adaptationChange":this._priv_onAdaptationChange(e.value);break;case"bitrateEstimationChange":this._priv_onBitrateEstimationChange(e.value);break;case"manifestReady":this._priv_onManifestReady(e.value);break;case"warning":this._priv_onPlaybackWarning(e.value);break;case"loaded":if(null===this._priv_contentInfos)return void L.Z.error("API: Loaded event while no content is loaded");this._priv_contentInfos.segmentBuffersStore=e.value.segmentBuffersStore;break;case"decipherabilityUpdate":this.trigger("decipherabilityUpdate",e.value);break;case"added-segment":if(null===this._priv_contentInfos)return void L.Z.error("API: Added segment while no content is loaded");var t=e.value,r=t.content,n=t.segmentData;if("image"===r.adaptation.type&&!(0,G.Z)(n)&&"bif"===n.type){var i=n.data;this._priv_contentInfos.thumbnails=i,this.trigger("imageTrackUpdate",{data:this._priv_contentInfos.thumbnails})}}},r._priv_onPlaybackError=function(e){var t=V(e,{defaultCode:"NONE",defaultReason:"An unknown error stopped content playback."});t.fatal=!0,this._priv_stopCurrentContent$.next(),this._priv_cleanUpCurrentContentState(),this._priv_currentError=t,L.Z.error("API: The player stopped because of an error:",e),this._priv_setPlayerState(Nn),this._priv_currentError===t&&this.trigger("error",t)},r._priv_onPlaybackFinished=function(){L.Z.info("API: Previous playback finished. Stopping and cleaning-up..."),this._priv_stopCurrentContent$.next(),this._priv_cleanUpCurrentContentState(),this._priv_setPlayerState(Vn)},r._priv_onPlaybackWarning=function(e){var t=V(e,{defaultCode:"NONE",defaultReason:"An unknown error happened."});L.Z.warn("API: Sending warning:",t),this.trigger("warning",t)},r._priv_onManifestReady=function(e){var t=this,r=e.manifest;if(null!==this._priv_contentInfos){this._priv_contentInfos.manifest=r,this._priv_lastContentPlaybackInfos.manifest=r;var n=this._priv_contentInfos,i=n.initialAudioTrack,a=n.initialTextTrack;this._priv_trackChoiceManager=new gi;var o=void 0===i?this._priv_preferredAudioTracks:[i];this._priv_trackChoiceManager.setPreferredAudioTracks(o,!0);var s=void 0===a?this._priv_preferredTextTracks:[a];this._priv_trackChoiceManager.setPreferredTextTracks(s,!0),this._priv_trackChoiceManager.setPreferredVideoTracks(this._priv_preferredVideoTracks,!0),(0,H.R)(r,"manifestUpdate").pipe((0,v.R)(this._priv_stopCurrentContent$)).subscribe((function(){null!==t._priv_trackChoiceManager&&t._priv_trackChoiceManager.update()}))}else L.Z.error("API: The manifest is loaded but no content is.")},r._priv_onActivePeriodChanged=function(e){var t,r,n,i,a,o,s=e.period;if(null!==this._priv_contentInfos){if(this._priv_contentInfos.currentPeriod=s,this._priv_contentEventsMemory.periodChange!==s&&(this._priv_contentEventsMemory.periodChange=s,this.trigger("periodChange",s)),this.trigger("availableAudioTracksChange",this.getAvailableAudioTracks()),this.trigger("availableTextTracksChange",this.getAvailableTextTracks()),this.trigger("availableVideoTracksChange",this.getAvailableVideoTracks()),null!==this._priv_trackChoiceManager){var l=this._priv_trackChoiceManager.getChosenAudioTrack(s),u=this._priv_trackChoiceManager.getChosenTextTrack(s),c=this._priv_trackChoiceManager.getChosenVideoTrack(s);this.trigger("audioTrackChange",l),this.trigger("textTrackChange",u),this.trigger("videoTrackChange",c)}else this.trigger("audioTrackChange",null),this.trigger("textTrackChange",null),this.trigger("videoTrackChange",null);this._priv_triggerAvailableBitratesChangeEvent("availableAudioBitratesChange",this.getAvailableAudioBitrates()),this._priv_triggerAvailableBitratesChangeEvent("availableVideoBitratesChange",this.getAvailableVideoBitrates());var d=null!==(n=null===(r=null===(t=this._priv_getCurrentRepresentations())||void 0===t?void 0:t.audio)||void 0===r?void 0:r.bitrate)&&void 0!==n?n:-1;this._priv_triggerCurrentBitrateChangeEvent("audioBitrateChange",d);var f=null!==(o=null===(a=null===(i=this._priv_getCurrentRepresentations())||void 0===i?void 0:i.video)||void 0===a?void 0:a.bitrate)&&void 0!==o?o:-1;this._priv_triggerCurrentBitrateChangeEvent("videoBitrateChange",f)}else L.Z.error("API: The active period changed but no content is loaded")},r._priv_onPeriodStreamReady=function(e){var t=e.type,r=e.period,n=e.adaptation$;switch(t){case"video":null===this._priv_trackChoiceManager?(L.Z.error("API: TrackChoiceManager not instanciated for a new video period"),n.next(null)):(this._priv_trackChoiceManager.addPeriod(t,r,n),this._priv_trackChoiceManager.setInitialVideoTrack(r));break;case"audio":null===this._priv_trackChoiceManager?(L.Z.error("API: TrackChoiceManager not instanciated for a new "+t+" period"),n.next(null)):(this._priv_trackChoiceManager.addPeriod(t,r,n),this._priv_trackChoiceManager.setInitialAudioTrack(r));break;case"text":null===this._priv_trackChoiceManager?(L.Z.error("API: TrackChoiceManager not instanciated for a new "+t+" period"),n.next(null)):(this._priv_trackChoiceManager.addPeriod(t,r,n),this._priv_trackChoiceManager.setInitialTextTrack(r));break;default:var i=r.adaptations[t];!(0,G.Z)(i)&&i.length>0?n.next(i[0]):n.next(null)}},r._priv_onPeriodStreamCleared=function(e){var t=e.type,r=e.period;switch(t){case"audio":case"text":case"video":null!==this._priv_trackChoiceManager&&this._priv_trackChoiceManager.removePeriod(t,r)}if(null!==this._priv_contentInfos){var n=this._priv_contentInfos,i=n.activeAdaptations,a=n.activeRepresentations;if(!(0,G.Z)(i)&&!(0,G.Z)(i[r.id])){var o=i[r.id];delete o[t],0===Object.keys(o).length&&delete i[r.id]}if(!(0,G.Z)(a)&&!(0,G.Z)(a[r.id])){var s=a[r.id];delete s[t],0===Object.keys(s).length&&delete a[r.id]}}},r._priv_onReloadingMediaSource=function(){null!==this._priv_contentInfos&&(this._priv_contentInfos.segmentBuffersStore=null),null!==this._priv_trackChoiceManager&&this._priv_trackChoiceManager.resetPeriods()},r._priv_onAdaptationChange=function(e){var t=e.type,r=e.adaptation,n=e.period;if(null!==this._priv_contentInfos){null===this._priv_contentInfos.activeAdaptations&&(this._priv_contentInfos.activeAdaptations={});var i,a=this._priv_contentInfos,o=a.activeAdaptations,s=a.currentPeriod,l=o[n.id];if((0,G.Z)(l)?o[n.id]=((i={})[t]=r,i):l[t]=r,null!==this._priv_trackChoiceManager&&null!==s&&!(0,G.Z)(n)&&n.id===s.id)switch(t){case"audio":var u=this._priv_trackChoiceManager.getChosenAudioTrack(s);this.trigger("audioTrackChange",u);var c=this.getAvailableAudioBitrates();this._priv_triggerAvailableBitratesChangeEvent("availableAudioBitratesChange",c);break;case"text":var d=this._priv_trackChoiceManager.getChosenTextTrack(s);this.trigger("textTrackChange",d);break;case"video":var f=this._priv_trackChoiceManager.getChosenVideoTrack(s);this.trigger("videoTrackChange",f);var p=this.getAvailableVideoBitrates();this._priv_triggerAvailableBitratesChangeEvent("availableVideoBitratesChange",p)}}else L.Z.error("API: The adaptations changed but no content is loaded")},r._priv_onRepresentationChange=function(e){var t,r=e.type,n=e.period,i=e.representation;if(null!==this._priv_contentInfos){null===this._priv_contentInfos.activeRepresentations&&(this._priv_contentInfos.activeRepresentations={});var a,o=this._priv_contentInfos,s=o.activeRepresentations,l=o.currentPeriod,u=s[n.id];(0,G.Z)(u)?s[n.id]=((a={})[r]=i,a):u[r]=i;var c=null!==(t=null===i||void 0===i?void 0:i.bitrate)&&void 0!==t?t:-1;(0,G.Z)(n)||null===l||l.id!==n.id||("video"===r?this._priv_triggerCurrentBitrateChangeEvent("videoBitrateChange",c):"audio"===r&&this._priv_triggerCurrentBitrateChangeEvent("audioBitrateChange",c))}else L.Z.error("API: The representations changed but no content is loaded")},r._priv_onBitrateEstimationChange=function(e){var t=e.type,r=e.bitrate;void 0!==r&&(this._priv_bitrateInfos.lastBitrates[t]=r),this.trigger("bitrateEstimationChange",{type:t,bitrate:r})},r._priv_onPlayPauseNext=function(e){if(null===this.videoElement)throw new Error("Disposed player");this._priv_playing$.next(e)},r._priv_onNativeTextTracksNext=function(e){this.trigger("nativeTextTracksChange",e)},r._priv_setPlayerState=function(e){this.state!==e&&(this.state=e,L.Z.info("API: playerStateChange event",e),this.trigger("playerStateChange",e))},r._priv_triggerPositionUpdate=function(e){var t;if(null!==this._priv_contentInfos){if(this.state!==Kn){var r=this._priv_contentInfos,n=r.isDirectFile,i=r.manifest;if((n||null!==i)&&!(0,G.Z)(e)){this._priv_lastContentPlaybackInfos.lastPlaybackPosition=e.position;var a=null!==i?i.getMaximumPosition():void 0,o={position:e.position,duration:e.duration,playbackRate:e.playbackRate,maximumBufferTime:a,bufferGap:isFinite(e.bufferGap)?e.bufferGap:0};if(null!==i&&void 0!==a&&i.isLive&&e.position>0){var s=null!==(t=i.availabilityStartTime)&&void 0!==t?t:0;o.wallClockTime=e.position+s,o.liveGap=a-e.position}this.trigger("positionUpdate",o)}}}else L.Z.warn("API: Cannot perform time update: no content loaded.")},r._priv_triggerAvailableBitratesChangeEvent=function(e,t){var r=this._priv_contentEventsMemory[e];(void 0===r||(0,K.Z)(t,r))&&(this._priv_contentEventsMemory[e]=t,this.trigger(e,t))},r._priv_triggerCurrentBitrateChangeEvent=function(e,t){t!==this._priv_contentEventsMemory[e]&&(this._priv_contentEventsMemory[e]=t,this.trigger(e,t))},r._priv_getCurrentRepresentations=function(){if(null===this._priv_contentInfos)return null;var e=this._priv_contentInfos,t=e.currentPeriod,r=e.activeRepresentations;return null===t||null===r||(0,G.Z)(r[t.id])?null:r[t.id]},i()(t,null,[{key:"ErrorTypes",get:function(){return $.ZB}},{key:"ErrorCodes",get:function(){return $.SM}},{key:"LogLevel",get:function(){return L.Z.getLevel()},set:function(e){L.Z.setLevel(e)}}]),t}(H.Z);ji.version="3.23.1";var Li=ji,Ni=r(7273);!function(){Ni.Z.emeManager=r(8745).ZP,Ni.Z.imageBuffer=r(7127).Z,Ni.Z.imageParser=r(3203).Z,Ni.Z.transports.smooth=r(2339).Z,Ni.Z.transports.dash=r(1459).Z,Ni.Z.nativeTextTracksBuffer=r(9059).Z,Ni.Z.nativeTextTracksParsers.vtt=r(9405).Z,Ni.Z.nativeTextTracksParsers.ttml=r(1570).Z,Ni.Z.nativeTextTracksParsers.sami=r(1812).Z,Ni.Z.nativeTextTracksParsers.srt=r(8057).Z,Ni.Z.htmlTextTracksBuffer=r(5192).Z,Ni.Z.htmlTextTracksParsers.sami=r(5734).Z,Ni.Z.htmlTextTracksParsers.ttml=r(7439).Z,Ni.Z.htmlTextTracksParsers.srt=r(8675).Z,Ni.Z.htmlTextTracksParsers.vtt=r(4099).Z;var e=r(8969).Z,t=r(7794).Z;Ni.Z.directfile={initDirectFile:e,mediaElementTrackChoiceManager:t}}();var Ui=Li},3887:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(8894),i=new(function(){function e(){this.error=n.Z,this.warn=n.Z,this.info=n.Z,this.debug=n.Z,this._levels={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},this._currentLevel="NONE"}var t=e.prototype;return t.setLevel=function(e){var t,r=this._levels[e];"number"===typeof r?(t=r,this._currentLevel=e):(t=0,this._currentLevel="NONE"),this.error=t>=this._levels.ERROR?console.error.bind(console):n.Z,this.warn=t>=this._levels.WARNING?console.warn.bind(console):n.Z,this.info=t>=this._levels.INFO?console.info.bind(console):n.Z,this.debug=t>=this._levels.DEBUG?console.log.bind(console):n.Z},t.getLevel=function(){return this._currentLevel},e}())},5952:function(e,t,r){"use strict";function n(e,t){return e.segment.id===t.segment.id&&e.representation.id===t.representation.id&&e.adaptation.id===t.adaptation.id&&e.period.id===t.period.id}r.d(t,{Z:function(){return n}})},1966:function(e,t,r){"use strict";r.d(t,{ZP:function(){return M}});var n,i=r(5354),a=r.n(i),o=r(4791),s=r(3274),l=r(1959),u=r(908),c=r(8806),d=r(3714),f=r(3887),p=r(7714),h=r(1946),g=r(7829),m="undefined"!==typeof window&&"function"===typeof window.Set&&"function"===typeof Array.from?function(e){return Array.from(new Set(e))}:function(e){return e.filter((function(e,t,r){return r.indexOf(e)===t}))},v=r(3774),y=r(6968),b=function(){function e(e,t){var r;this.id=e.id,this.bitrate=e.bitrate,this.codec=e.codecs,null!=e.height&&(this.height=e.height),null!=e.width&&(this.width=e.width),null!=e.mimeType&&(this.mimeType=e.mimeType),void 0!==e.contentProtections&&(this.contentProtections=e.contentProtections),null!=e.frameRate&&(this.frameRate=e.frameRate),this.index=e.index,this.isSupported="audio"!==t.type&&"video"!==t.type||(r=this.getMimeTypeString(),null!=v.JJ&&("function"!==typeof v.JJ.isTypeSupported||v.JJ.isTypeSupported(r)))}var t=e.prototype;return t.getMimeTypeString=function(){var e,t;return(null!==(e=this.mimeType)&&void 0!==e?e:"")+';codecs="'+(null!==(t=this.codec)&&void 0!==t?t:"")+'"'},t.getProtectionsInitializationData=function(){var e=this.contentProtections;return void 0===e?[]:Object.keys(e.initData).reduce((function(t,r){var n=e.initData[r];if(void 0===n||0===n.length)return t;var i=y.zo.apply(void 0,n.map((function(e){return e.data})));return t.push({type:r,data:i}),t}),[])},t._addProtectionData=function(e,t,r){var n={systemId:t,data:r};if(void 0!==this.contentProtections){var i=this.contentProtections.initData[e];if(void 0!==i){for(var a=i.length-1;a>=0;a--)if(i[a].systemId===t){if((0,o.Z)(i[a].data,r))return;f.Z.warn("Manifest: Two PSSH for the same system ID")}i.push(n)}else this.contentProtections.initData[e]=[n]}else{var s;this.contentProtections={keyIds:[],initData:(s={},s[e]=[n],s)}}},e}(),k=["audio","video","text","image"],_=function(){function e(e,t){void 0===t&&(t={});var r,n=t,i=n.representationFilter,a=n.isManuallyAdded;if(this.parsingErrors=[],this.id=e.id,r=e.type,!(0,p.Z)(k,r))throw f.Z.info("Manifest: Not supported adaptation type",e.type),new d.Z("MANIFEST_UNSUPPORTED_ADAPTATION_TYPE",'"'+e.type+'" is not a valid Adaptation type.');this.type=e.type,void 0!==e.language&&(this.language=e.language,this.normalizedLanguage=(0,g.ZP)(e.language)),void 0!==e.closedCaption&&(this.isClosedCaption=e.closedCaption),void 0!==e.audioDescription&&(this.isAudioDescription=e.audioDescription),void 0!==e.isDub&&(this.isDub=e.isDub),void 0!==e.isSignInterpreted&&(this.isSignInterpreted=e.isSignInterpreted);for(var o=e.representations,s=[],l=!1,u=!1,c=0;c<o.length;c++){var m=new b(o[c],{type:this.type});((0,h.Z)(i)||i(m,{bufferType:this.type,language:this.language,normalizedLanguage:this.normalizedLanguage,isClosedCaption:this.isClosedCaption,isDub:this.isDub,isAudioDescription:this.isAudioDescription,isSignInterpreted:this.isSignInterpreted}))&&(s.push(m),!1===l&&!1!==m.decipherable&&(l=m.decipherable),!u&&m.isSupported&&(u=!0))}if(s.sort((function(e,t){return e.bitrate-t.bitrate})),this.representations=s,this.decipherable=l,this.isSupported=u,this.manuallyAdded=!0===a,this.representations.length>0&&!u){f.Z.warn("Incompatible codecs for adaptation",e);var v=new d.Z("MANIFEST_INCOMPATIBLE_CODECS_ERROR","An Adaptation contains only incompatible codecs.");this.parsingErrors.push(v)}}var t=e.prototype;return t.getAvailableBitrates=function(){for(var e=[],t=0;t<this.representations.length;t++){var r=this.representations[t];!1!==r.decipherable&&e.push(r.bitrate)}return m(e)},t.getPlayableRepresentations=function(){return this.representations.filter((function(e){return e.isSupported&&!1!==e.decipherable}))},t.getRepresentation=function(e){return(0,s.Z)(this.representations,(function(t){var r=t.id;return e===r}))},e}(),E=r(9822),w=r(1679),S=function(){function e(e,t){var r=this;if(this.parsingErrors=[],this.id=e.id,this.adaptations=Object.keys(e.adaptations).reduce((function(n,i){var a=e.adaptations[i];if(null==a)return n;var o=a.map((function(e){var n,i=null;try{i=new _(e,{representationFilter:t})}catch(a){if((0,E.Z)(a)&&"MANIFEST_UNSUPPORTED_ADAPTATION_TYPE"===a.code)return r.parsingErrors.push(a),null;throw a}return(n=r.parsingErrors).push.apply(n,i.parsingErrors),i})).filter((function(e){return null!==e&&e.representations.length>0}));if(o.every((function(e){return!e.isSupported}))&&a.length>0&&("video"===i||"audio"===i))throw new d.Z("MANIFEST_PARSE_ERROR","No supported "+i+" adaptations");return o.length>0&&(n[i]=o),n}),{}),!Array.isArray(this.adaptations.video)&&!Array.isArray(this.adaptations.audio))throw new d.Z("MANIFEST_PARSE_ERROR","No supported audio and video tracks.");this.duration=e.duration,this.start=e.start,null!=this.duration&&null!=this.start&&(this.end=this.start+this.duration),this.streamEvents=void 0===e.streamEvents?[]:e.streamEvents}var t=e.prototype;return t.getAdaptations=function(){var e=this.adaptations;return(0,w.Z)(e).reduce((function(e,t){return null!=t?e.concat(t):e}),[])},t.getAdaptationsForType=function(e){var t=this.adaptations[e];return null==t?[]:t},t.getAdaptation=function(e){return(0,s.Z)(this.getAdaptations(),(function(t){var r=t.id;return e===r}))},t.getPlayableAdaptations=function(e){if(void 0===e)return this.getAdaptations().filter((function(e){return e.isSupported&&!1!==e.decipherable}));var t=this.adaptations[e];return void 0===t?[]:t.filter((function(e){return e.isSupported&&!1!==e.decipherable}))},e}(),T=function(){function e(e){this._mediaURLs=e.media}var t=e.prototype;return t.getInitSegment=function(){return null},t.getSegments=function(){return[{id:"0",isInit:!1,number:0,mediaURLs:[this._mediaURLs],time:0,end:Number.MAX_VALUE,duration:Number.MAX_VALUE,timescale:1}]},t.getFirstPosition=function(){},t.getLastPosition=function(){},t.shouldRefresh=function(){return!1},t.checkDiscontinuity=function(){return null},t.areSegmentsChronologicallyGenerated=function(){return!0},t.isSegmentStillAvailable=function(){return!0},t.canBeOutOfSyncError=function(){return!1},t.isFinished=function(){return!0},t.isInitialized=function(){return!0},t._replace=function(){f.Z.warn("Tried to replace a static RepresentationIndex")},t._update=function(){f.Z.warn("Tried to update a static RepresentationIndex")},e}();!function(e){e[e.Full=0]="Full",e[e.Partial=1]="Partial"}(n||(n={}));var x=r(5138);function O(e,t,r){e.start=t.start,e.end=t.end,e.duration=t.duration;for(var i=e.getAdaptations(),a=t.getAdaptations(),o=function(e){var t=i[e],o=(0,s.Z)(a,(function(e){return e.id===t.id}));if(void 0===o)f.Z.warn('Manifest: Adaptation "'+i[e].id+'" not found when merging.');else for(var l=i[e].representations,u=o.representations,c=function(e){var t=l[e],i=(0,s.Z)(u,(function(e){return e.id===t.id}));void 0===i?f.Z.warn('Manifest: Representation "'+l[e].id+'" not found when merging.'):r===n.Full?t.index._replace(i.index):t.index._update(i.index)},d=0;d<l.length;d++)c(d)},l=0;l<i.length;l++)o(l)}var P=(0,u.Z)(),A=(0,u.Z)();function C(e,t){for(var r=[],n=0;n<e.periods.length;n++)for(var i=e.periods[n],a=i.getAdaptations(),o=0;o<a.length;o++)for(var s=a[o],l=s.representations,u=0;u<l.length;u++){var c=l[u];t(c)||(r.push({manifest:e,period:i,adaptation:s,representation:c}),c.decipherable=!1)}return r}var M=function(e){function t(t,r){var n,i;n=e.call(this)||this;var a=r.supplementaryTextTracks,o=void 0===a?[]:a,s=r.supplementaryImageTracks,l=void 0===s?[]:s,u=r.representationFilter;return n.parsingErrors=[],n.id=A(),n.expired=null!==(i=t.expired)&&void 0!==i?i:null,n.transport=t.transportType,n.clockOffset=t.clockOffset,n.periods=t.periods.map((function(e){var t,r=new S(e,u);return(t=n.parsingErrors).push.apply(t,r.parsingErrors),r})).sort((function(e,t){return e.start-t.start})),n.adaptations=void 0===n.periods[0]?{}:n.periods[0].adaptations,n._timeBounds=t.timeBounds,n.isDynamic=t.isDynamic,n.isLive=t.isLive,n.uris=void 0===t.uris?[]:t.uris,n.lifetime=t.lifetime,n.suggestedPresentationDelay=t.suggestedPresentationDelay,n.availabilityStartTime=t.availabilityStartTime,l.length>0&&n._addSupplementaryImageAdaptations(l),o.length>0&&n._addSupplementaryTextAdaptations(o),n}a()(t,e);var r=t.prototype;return r.getPeriod=function(e){return(0,s.Z)(this.periods,(function(t){return e===t.id}))},r.getPeriodForTime=function(e){return(0,s.Z)(this.periods,(function(t){return e>=t.start&&(void 0===t.end||t.end>e)}))},r.getNextPeriod=function(e){return(0,s.Z)(this.periods,(function(t){return t.start>e}))},r.getPeriodAfter=function(e){var t=e.end;if(void 0===t)return null;var r=(0,s.Z)(this.periods,(function(e){return void 0===e.end||t<e.end}));return void 0===r?null:r},r.getUrl=function(){return this.uris[0]},r.replace=function(e){this._performUpdate(e,n.Full)},r.update=function(e){this._performUpdate(e,n.Partial)},r.getMinimumPosition=function(){var e,t,r=this._timeBounds;if(null===r.timeshiftDepth)return null!==(e=r.absoluteMinimumTime)&&void 0!==e?e:0;var n,i=r.maximumTimeData;if(r.maximumTimeData.isLinear){var a=performance.now()-i.time;n=i.value+a/1e3}else n=i.value;var o=n-r.timeshiftDepth;return Math.max(null!==(t=r.absoluteMinimumTime)&&void 0!==t?t:0,o)},r.getMaximumPosition=function(){var e=this._timeBounds.maximumTimeData;if(!e.isLinear)return e.value;var t=performance.now()-e.time;return e.value+t/1e3},r.addUndecipherableKIDs=function(e){var t=C(this,(function(t){if(!1===t.decipherable||void 0===t.contentProtections)return!0;for(var r=t.contentProtections.keyIds,n=0;n<r.length;n++)for(var i=r[n],a=0;a<e.length;a++)if((0,o.Z)(e[a],i.keyId))return!1;return!0}));t.length>0&&this.trigger("decipherabilityUpdate",t)},r.addUndecipherableProtectionData=function(e,t){var r=C(this,(function(r){if(!1===r.decipherable)return!0;for(var n=r.getProtectionsInitializationData(),i=0;i<n.length;i++)if(n[i].type===e&&(0,o.Z)(t,n[i].data))return!1;return!0}));r.length>0&&this.trigger("decipherabilityUpdate",r)},r.getAdaptations=function(){(0,c.Z)("manifest.getAdaptations() is deprecated. Please use manifest.period[].getAdaptations() instead");var e=this.periods[0];if(void 0===e)return[];var t=e.adaptations,r=[];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];r.push.apply(r,i)}return r},r.getAdaptationsForType=function(e){(0,c.Z)("manifest.getAdaptationsForType(type) is deprecated. Please use manifest.period[].getAdaptationsForType(type) instead");var t=this.periods[0];if(void 0===t)return[];var r=t.adaptations[e];return void 0===r?[]:r},r.getAdaptation=function(e){return(0,c.Z)("manifest.getAdaptation(id) is deprecated. Please use manifest.period[].getAdaptation(id) instead"),(0,s.Z)(this.getAdaptations(),(function(t){var r=t.id;return e===r}))},r._addSupplementaryImageAdaptations=function(e){var t=this,r=(Array.isArray(e)?e:[e]).map((function(e){var r,n=e.mimeType,i=e.url,a="gen-image-ada-"+P(),o="gen-image-rep-"+P(),s=new _({id:a,type:"image",representations:[{bitrate:0,id:o,mimeType:n,index:new T({media:i})}]},{isManuallyAdded:!0});return(r=t.parsingErrors).push.apply(r,s.parsingErrors),s}));if(r.length>0&&this.periods.length>0){var n=this.periods[0].adaptations;n.image=null!=n.image?n.image.concat(r):r}},r._addSupplementaryTextAdaptations=function(e){var t=this,r=(Array.isArray(e)?e:[e]).reduce((function(e,r){var n=r.mimeType,i=r.codecs,a=r.url,o=r.language,s=r.languages,l=r.closedCaption,u=null!=o?[o]:null!=s?s:[];return e.concat(u.map((function(e){var r,o="gen-text-ada-"+P(),s="gen-text-rep-"+P(),u=new _({id:o,type:"text",language:e,closedCaption:l,representations:[{bitrate:0,id:s,mimeType:n,codecs:i,index:new T({media:a})}]},{isManuallyAdded:!0});return(r=t.parsingErrors).push.apply(r,u.parsingErrors),u})))}),[]);if(r.length>0&&this.periods.length>0){var n=this.periods[0].adaptations;n.text=null!=n.text?n.text.concat(r):r}},r._performUpdate=function(e,t){if(this.availabilityStartTime=e.availabilityStartTime,this.expired=e.expired,this.isDynamic=e.isDynamic,this.isLive=e.isLive,this.lifetime=e.lifetime,this.parsingErrors=e.parsingErrors,this.suggestedPresentationDelay=e.suggestedPresentationDelay,this.transport=e.transport,t===n.Full)this._timeBounds=e._timeBounds,this.uris=e.uris,function(e,t){for(var r=0,i=0;i<t.length;i++){for(var a=t[i],o=r,s=e[o];null!=s&&s.id!==a.id;)s=e[++o];if(null!=s){O(s,a,n.Full);var l=t.slice(r,i),u=o-r;e.splice.apply(e,[r,u].concat(l)),r=i+1}}if(r>e.length)f.Z.error("Manifest: error when updating Periods");else{r<e.length&&e.splice(r,e.length-r);var c=t.slice(r,t.length);c.length>0&&e.push.apply(e,c)}}(this.periods,e.periods);else{this._timeBounds.maximumTimeData=e._timeBounds.maximumTimeData,function(e,t){if(0!==e.length){if(0!==t.length){var r=e[e.length-1];if(r.start<t[0].start){if(r.end!==t[0].start)throw new d.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: not enough data");e.push.apply(e,t)}else{var i=(0,x.Z)(e,(function(e){return e.id===t[0].id}));if(i<0)throw new d.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: incoherent data");O(e[i],t[0],n.Partial);for(var a=i+1,o=1;o<t.length;o++){for(var s=t[o],l=-1,u=a;u<e.length;u++)if(s.id===e[u].id){l=u;break}if(l<0)return void e.splice.apply(e,[a,e.length-a].concat(t.slice(o,t.length)));l>a&&(e.splice(a,l-a),l=a),O(e[l],s,n.Full),a++}a<e.length&&e.splice(a,e.length-a)}}}else e.splice.apply(e,[0,0].concat(t))}(this.periods,e.periods);for(var r=this.getMinimumPosition();this.periods.length>0;){var i=this.periods[0];if(void 0===i.end||i.end>r)break;this.periods.shift()}}this.adaptations=void 0===this.periods[0]?{}:this.periods[0].adaptations,this.trigger("manifestUpdate",null)},t}(l.Z)},2689:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var n=Math.pow(2,32)-1},2297:function(e,t,r){"use strict";r.d(t,{iz:function(){return o},t_:function(){return a},Qy:function(){return s},Xj:function(){return u},nR:function(){return l}});var n=r(3887),i=r(6968);function a(e,t){var r=s(e,t);return null!==r?e.subarray(r[1],r[2]):null}function o(e,t){var r=s(e,t);return null!==r?e.subarray(r[0],r[2]):null}function s(e,t){for(var r,n,a=e.length,o=0,s=0;o+8<=a;){if(n=o,s=(0,i.pX)(e,n),n+=4,r=(0,i.pX)(e,n),n+=4,0===s)s=a-o;else if(1===s){if(n+8>a)return null;s=(0,i.pV)(e,n),n+=8}if(s<0)throw new Error("ISOBMFF: Size out of range");if(r===t)return 1970628964===t&&(n+=16),[o,n,o+s];o+=s}return null}function l(e,t,r,n,a){for(var o,s=e.length,l=0;l<s;l+=o){var u=l;o=(0,i.pX)(e,u),u+=4;var c=(0,i.pX)(e,u);if(u+=4,0===o)o=s-l;else if(1===o){if(u+8>s)return;o=(0,i.pV)(e,u),u+=8}if(1970628964===c&&u+16<=s&&(0,i.pX)(e,u)===t&&(0,i.pX)(e,u+4)===r&&(0,i.pX)(e,u+8)===n&&(0,i.pX)(e,u+12)===a)return u+=16,e.subarray(u,l+o)}}function u(e){var t=e.length;if(t<8)return n.Z.warn("ISOBMFF: box inferior to 8 bytes, cannot find offsets"),null;var r=0,a=(0,i.pX)(e,r);r+=4;var o=(0,i.pX)(e,r);if(r+=4,0===a)a=t;else if(1===a){if(r+8>t)return n.Z.warn("ISOBMFF: box too short, cannot find offsets"),null;a=(0,i.pV)(e,r),r+=8}if(a<0)throw new Error("ISOBMFF: Size out of range");return 1970628964===o&&(r+=16),[0,r,a]}},6807:function(e,t,r){"use strict";r.d(t,{XA:function(){return i},Le:function(){return a},fs:function(){return o}});var n=r(2297);function i(e){var t=(0,n.t_)(e,1836019558);return null===t?null:(0,n.t_)(t,1953653094)}function a(e){return(0,n.t_)(e,1835295092)}function o(e){var t=(0,n.t_)(e,1836019574);if(null===t)return null;var r=(0,n.t_)(t,1953653099);return null===r?null:(0,n.t_)(r,1835297121)}},6490:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(3887),i="function"===typeof Uint8Array.prototype.slice?function(e,t,r){return e.slice(t,r)}:function(e,t,r){return new Uint8Array(Array.prototype.slice.call(e,t,r))},a=r(3635),o=r(2297);function s(e){var t=0,r=(0,o.t_)(e,1836019574);if(null===r)return[];for(var a=[];t<r.length;){var s=void 0;try{s=(0,o.Qy)(r,1886614376)}catch(d){return n.Z.warn("ISOBMFF:",d),a}if(null==s)return a;var u=i(r,s[0],s[2]),c=l(u,s[1]-s[0]);null!==c&&a.push({systemID:c,data:u}),r[s[0]+4]=102,r[s[0]+5]=114,r[s[0]+6]=101,r[s[0]+7]=101,t=s[2]}return a}function l(e,t){if(e[t]>1)return n.Z.warn("ISOBMFF: un-handled PSSH version"),null;var r=t+4;if(r+16>e.length)return null;var o=i(e,r+16);return(0,a.ci)(o)}},4644:function(e,t,r){"use strict";r.d(t,{LD:function(){return c},Qx:function(){return l},MM:function(){return u},Wf:function(){return s},J6:function(){return d}});var n=r(6968),i=r(2689),a=r(2297),o=r(6807);function s(e,t){var r=(0,a.Qy)(e,1936286840);if(null===r)return null;var i=t,o=r[2]-r[0],s=r[1],l=e[s];s+=8;var u,c=(0,n.pX)(e,s);if(s+=4,0===l)u=(0,n.pX)(e,s),s+=4,i+=(0,n.pX)(e,s)+o,s+=4;else{if(1!==l)return null;u=(0,n.pV)(e,s),s+=8,i+=(0,n.pV)(e,s)+o,s+=8}var d=[];s+=2;var f=(0,n.zK)(e,s);for(s+=2;--f>=0;){var p=(0,n.pX)(e,s);s+=4;var h=2147483647&p;if(1===(2147483648&p)>>>31)throw new Error("sidx with reference_type `1` not yet implemented");var g=(0,n.pX)(e,s);s+=4,s+=4,d.push({time:u,duration:g,count:0,timescale:c,range:[i,i+h-1]}),u+=g,i+=h}return d}function l(e){var t=(0,o.XA)(e);if(null!==t){var r=(0,a.t_)(t,1952867444);if(null!==r){var i=r[0];return 1===i?(0,n.pV)(r,4):0===i?(0,n.pX)(r,4):void 0}}}function u(e){var t=(0,o.XA)(e);if(null!==t){var r=(0,a.t_)(t,1953658222);if(null!==r){var i=0,s=r[i];if(i+=1,!(s>1)){var l=(0,n.QI)(r,i);i+=3;var u=(256&l)>0,c=0;if(u||void 0!==(c=function(e){var t=(0,a.t_)(e,1952868452);if(null!==t){var r=1,i=(0,n.QI)(t,r);if(r+=3,(8&i)>0)return r+=4,(1&i)>0&&(r+=8),(2&i)>0&&(r+=4),(0,n.pX)(t,r)}}(t))){var d=(1&l)>0,f=(4&l)>0,p=(512&l)>0,h=(1024&l)>0,g=(2048&l)>0,m=(0,n.pX)(r,i);i+=4,d&&(i+=4),f&&(i+=4);for(var v=m,y=0;v-- >0;)u?(y+=(0,n.pX)(r,i),i+=4):y+=c,p&&(i+=4),h&&(i+=4),g&&(i+=4);return y}}}}}function c(e){var t=(0,o.fs)(e);if(null!==t){var r=(0,a.t_)(t,1835296868);if(null!==r){var i=0,s=r[i];return i+=4,1===s?(0,n.pX)(r,i+16):0===s?(0,n.pX)(r,i+8):void 0}}}function d(e){var t=e.length;if(t<4)throw new Error("Cannot update box length: box too short");var r=(0,n.pX)(e,0);if(0===r){if(t>i.s){var a=new Uint8Array(t+8);return a.set((0,n.kh)(1),0),a.set(e.subarray(4,8),4),a.set((0,n.el)(t+8),8),a.set(e.subarray(8,t),16),a}return e.set((0,n.kh)(t),0),e}if(1===r){if(t<16)throw new Error("Cannot update box length: box too short");return e.set((0,n.el)(t),8),e}if(t<=i.s)return e.set((0,n.kh)(t),0),e;var o=new Uint8Array(t+8);return o.set((0,n.kh)(1),0),o.set(e.subarray(4,8),4),o.set((0,n.el)(t+8),8),o.set(e.subarray(8,t),16),o}},3203:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6968),i=r(3635),a=function(e){var t=0,r=e.length,a=(0,i.uR)(e.subarray(t+1,t+8));if(t+=8,137!==e[0]||"BIF\r\n\x1a\n"!==a)throw new Error("Invalid BIF file");var o=e[t],s=e[t+=1],l=e[t+=1],u=e[t+=1];t+=1;var c=[o,s,l,u].join(".");if(s>0)throw new Error("Unhandled version: "+s);var d=(0,n.dN)(e,t);t+=4;var f=(0,n.dN)(e,t);t+=4;var p=(0,i.uR)(e.subarray(t,t+4));t+=4;var h=(0,n.qb)(e,t);t+=2;var g=(0,n.qb)(e,t),m=[e[t+=2],e[t+1]].join(":"),v=1===e[t+=2];t=64;var y=[];if(0===d)throw new Error("bif: no images to parse");for(var b=0,k=null;t<r;){var _=(0,n.dN)(e,t);t+=4;var E=(0,n.dN)(e,t);if(t+=4,null!==k){var w=k.timestamp*f,S=f,T=e.slice(k.offset,E);y.push({index:b,duration:S,ts:w,data:T}),b++}if(4294967295===_)break;k={timestamp:_,offset:E}}return{fileFormat:"BIF",version:c,imageCount:d,timescale:1e3,format:p,width:h,height:g,aspectRatio:m,isVod:v,thumbs:y}}},8232:function(e,t,r){"use strict";function n(e,t){for(;e.length>0;){var r=e[0];if(r.start>=t)return;if(r.repeatCount<=0)e.shift();else{var n=e[1];if(null!=n&&n.start<=t)e.shift();else{if(r.duration<=0)return;for(var i=r.start+r.duration,a=1;i<t&&a<=r.repeatCount;)i+=r.duration,a++;if(!(a>r.repeatCount)){var o=r.repeatCount-a;return r.start=i,void(r.repeatCount=o)}e.shift()}}}}r.d(t,{Z:function(){return n}})},3911:function(e,t,r){"use strict";function n(e,t,r){var n,i=e.repeatCount;return i>=0?i:(n=null!=t?t.start:null!=r?r:Number.MAX_VALUE,Math.ceil((n-e.start)/e.duration)-1)}function i(e,t,r){var i=e.start,a=e.duration;return a<=0?i:i+(n(e,t,r)+1)*a}function a(e,t){var r;return e*t.timescale+(null!==(r=t.indexTimeOffset)&&void 0!==r?r:0)}function o(e,t){var r;return(e-(null!==(r=t.indexTimeOffset)&&void 0!==r?r:0))/t.timescale}function s(e,t,r){return[e*r,(e+t)*r]}function l(e,t,r){var n=e.timeline,s=a(t,e);if(s<0)return null;var l=function(e,t){for(var r=0,n=e.length;r<n;){var i=r+n>>>1;e[i].start<=t?r=i+1:n=i}return r-1}(n,s);if(l<0||l>=n.length-1)return null;var u=n[l];if(u.duration<=0)return null;var c=n[l+1];if(void 0===c)return null;var d=c.start;return s>=i(u,c,r)&&s<d?o(d,e):null}r.d(t,{KF:function(){return n},jH:function(){return i},gT:function(){return a},zG:function(){return o},PZ:function(){return s},_j:function(){return l}})},1091:function(e,t,r){"use strict";function n(e,t,r,n){for(var i=0;i<t.length;i++){var a=t[i],o=(a.start-n)/r;if(o>e.time)return!1;if(o===e.time)return a.duration/r===e.duration&&(null==a.range?null==e.range:null!=e.range&&a.range[0]===e.range[0]&&a.range[1]===e.range[1]);if(a.repeatCount>=0&&null!=a.duration){var s=(o-a.start)/a.duration-1;return s%1===0&&s<=a.repeatCount}}return!1}r.d(t,{Z:function(){return n}})},5505:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(3714),i=r(3887),a=r(3911);function o(e,t){var r=e.length;if(0!==e.length){if(0!==t.length){var o=t[0].start,s=e[r-1];if((0,a.jH)(s,t[0])<o)throw new n.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: not enough data");for(var l=r-1;l>=0;l--){var u=e[l].start;if(u===o)return void e.splice.apply(e,[l,r-l].concat(t));if(u<o){var c=e[l];if(c.start+c.duration>o)return i.Z.warn("RepresentationIndex: Manifest update removed previous segments"),void e.splice.apply(e,[l,r-l].concat(t));if(void 0===c.repeatCount||c.repeatCount<=0)return c.repeatCount<0&&(c.repeatCount=Math.floor((o-c.start)/c.duration)-1),void e.splice.apply(e,[l+1,r-(l+1)].concat(t));if(c.start+c.duration*(c.repeatCount+1)<=o)return void e.splice.apply(e,[l+1,r-(l+1)].concat(t));var d=(o-c.start)/c.duration-1;if(d%1===0&&c.duration===t[0].duration){var f=t[0].repeatCount<0?-1:t[0].repeatCount+d+1;return e.splice.apply(e,[l,r-l].concat(t)),e[l].start=c.start,void(e[l].repeatCount=f)}return i.Z.warn("RepresentationIndex: Manifest update removed previous segments"),e[l].repeatCount=Math.floor(d),void e.splice.apply(e,[l+1,r-(l+1)].concat(t))}}var p=e[e.length-1],h=t[t.length-1];if(void 0!==p.repeatCount&&p.repeatCount<0)return p.start>h.start?void i.Z.warn("RepresentationIndex: The new index is older than the previous one"):(i.Z.warn('RepresentationIndex: The new index is "bigger" than the previous one'),void e.splice.apply(e,[0,r].concat(t)));p.start+p.duration*(p.repeatCount+1)>=h.start+h.duration*(h.repeatCount+1)?i.Z.warn("RepresentationIndex: The new index is older than the previous one"):(i.Z.warn('RepresentationIndex: The new index is "bigger" than the previous one'),e.splice.apply(e,[0,r].concat(t)))}}else e.splice.apply(e,[0,r].concat(t))}},5734:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(6923),i=/&#([0-9]+);/g,a=/<br>/gi,o=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,s=/\s*<p (?:class=([^>]+))?>(.*)/i,l=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;function u(e,t){var r=new RegExp("\\s*"+t+":\\s*(\\S+);","i").exec(e);return Array.isArray(r)?r[1]:null}var c=function(e,t,r){var c,d,f=/<sync[ >]/gi,p=/<sync[ >]|<\/body>/gi,h=[],g=o.exec(e),m=Array.isArray(g)?g[1]:"";p.exec(e);var v,y=function(e){for(var t=/\.(\S+)\s*{([^}]*)}/gi,r={},n=t.exec(e);null!==n;){var i=n[1],a=u(n[2],"lang");null!=i&&null!=a&&(r[a]=i),n=t.exec(e)}return r}(m),b=function(e){var t=/p\s*{([^}]*)}/gi.exec(e);return null===t?"":t[1]}(m);if((0,n.Z)(r)&&void 0===(v=y[r]))throw new Error("sami: could not find lang "+r+" in CSS");for(;c=f.exec(e),d=p.exec(e),null!==c||null!==d;){if(null===c||null===d||c.index>=d.index)throw new Error("parse error");var k=e.slice(c.index,d.index),_=l.exec(k);if(!Array.isArray(_))throw new Error("parse error (sync time attribute)");var E=+_[1];if(isNaN(E))throw new Error("parse error (sync time attribute NaN)");w(k.split("\n"),E/1e3)}return h;function w(e,r){for(var o=e.length;--o>=0;){var l=s.exec(e[o]);if(Array.isArray(l)){var u=l[1],c=l[2];if(v===u)if("&nbsp;"===c)h[h.length-1].end=r;else{var d=document.createElement("DIV");d.className="rxp-texttrack-region";var f=document.createElement("DIV");f.className="rxp-texttrack-div",f.style.position="absolute",f.style.bottom="0",f.style.width="100%",f.style.color="#fff",f.style.textShadow="-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000";var p=document.createElement("div");p.className="rxp-texttrack-p",(0,n.Z)(b)&&(p.style.cssText=b);for(var g=c.split(a),m=0;m<g.length;m++){0!==m&&p.appendChild(document.createElement("BR"));var y=document.createElement("SPAN");y.className="rxp-texttrack-span",y.textContent=g[m].replace(i,(function(e,t){return String.fromCharCode(t)})),p.appendChild(y)}f.appendChild(p),d.appendChild(f),h.push({element:d,start:r+t,end:-1})}}}}}},1812:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(7253),i=r(6923),a=/&#([0-9]+);/g,o=/<br>/gi,s=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,l=/\s*<p (?:class=([^>]+))?>(.*)/i,u=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;function c(e,t){var r=new RegExp("\\s*"+t+":\\s*(\\S+);","i").exec(e);return Array.isArray(r)?r[1]:null}var d=function(e,t,r){var d,f,p=/<sync[ >]/gi,h=/<sync[ >]|<\/body>/gi,g=[],m=s.exec(e),v=null!==m?m[1]:"";h.exec(e);var y,b=function(e){for(var t=/\.(\S+)\s*{([^}]*)}/gi,r={},n=t.exec(e);Array.isArray(n);){var i=n[1],a=c(n[2],"lang");null!=i&&null!=a&&(r[a]=i),n=t.exec(e)}return r}(v);if((0,i.Z)(r)&&void 0===(y=b[r]))throw new Error("sami: could not find lang "+r+" in CSS");for(;d=p.exec(e),f=h.exec(e),null!==d||null!==f;){if(null===d||null===f||d.index>=f.index)throw new Error("parse error");var k=e.slice(d.index,f.index),_=u.exec(k);if(null===_)throw new Error("parse error (sync time attribute)");var E=+_[1];if(isNaN(E))throw new Error("parse error (sync time attribute NaN)");w(k.split("\n"),E/1e3)}return function(e){for(var t=[],r=0;r<e.length;r++){var a=e[r],o=a.start,s=a.end,l=a.text;if((0,i.Z)(l)&&null!=s){var u=(0,n.Z)(o,s,l);null!=u&&t.push(u)}}return t}(g);function w(e,r){for(var n,i,s=e.length;--s>=0;)if(null!==(n=l.exec(e[s]))){var u=n,c=u[1],d=u[2];y===c&&("&nbsp;"===d?g[g.length-1].end=r:g.push({text:(i=d,i.replace(o,"\n").replace(a,(function(e,t){return String.fromCharCode(t)}))),start:r+t}))}}}},2061:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6923);function i(e,t){for(var r=t+1;(0,n.Z)(e[r]);)r++;return r}function a(e){for(var t=[],r=0;r<e.length;r++)if((0,n.Z)(e[r])){var a=i(e,r),o=e.slice(r,a);o.length>0&&(1===o.length?o[0].indexOf("--\x3e")>=0&&t.push(o):(o[1].indexOf("--\x3e")>=0||o[0].indexOf("--\x3e")>=0)&&t.push(o)),r=a}return t}},8675:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2061),i=r(788);function a(e,t){for(var r=e.split(/\r\n|\n|\r/),a=(0,n.Z)(r),s=[],l=0;l<a.length;l++){var u=(0,i.Z)(a[l],t);if(null!=u){var c=o(u);null!=c&&s.push(c)}}return s}function o(e){var t=e.start,r=e.end,n=e.payload,i=document.createElement("div");i.className="rxp-texttrack-p",i.style.fontSize="28px",i.style.position="absolute",i.style.bottom="5%",i.style.width="100%",i.style.textAlign="center",i.style.color="#fff",i.style.textShadow="-1px -1px 2px #000,1px -1px 2px #000,-1px 1px 2px #000,1px 1px 2px #000";for(var a=0;a<n.length;a++){0!==a&&i.appendChild(document.createElement("br"));var o=s(n[a]);i.appendChild(o)}return{start:t,end:r,element:i}}function s(e){var t=document.createElement("div");return t.innerHTML=e,function e(t){var r=t.childNodes,n=document.createElement("span");n.className="rxp-texttrack-span";for(var i=0;i<r.length;i++){var a=r[i];if("#text"===a.nodeName){for(var o=a.wholeText.split("\n"),s=0;s<o.length;s++)if(0!==s&&n.appendChild(document.createElement("br")),o[s].length>0){var l=document.createTextNode(o[s]);n.appendChild(l)}}else if("B"===a.nodeName){var u=e(a);u.style.fontWeight="bold",n.appendChild(u)}else if("I"===a.nodeName){var c=e(a);c.style.fontStyle="italic",n.appendChild(c)}else if("U"===a.nodeName){var d=e(a);d.style.textDecoration="underline",n.appendChild(d)}else if("FONT"===a.nodeName&&null!=a.color){var f=e(a);f.style.color=a.color,n.appendChild(f)}else{var p=e(a);n.appendChild(p)}}return n}(t)}},8057:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7253),i=r(2061),a=r(788);function o(e,t){for(var r=e.split(/\r\n|\n|\r/),n=(0,i.Z)(r),o=[],l=0;l<n.length;l++){var u=(0,a.Z)(n[l],t);if(null!==u){var c=s(u);null!==c&&o.push(c)}}return o}function s(e){var t=e.start,r=e.end,i=e.payload.join("\n");return(0,n.Z)(t,r,i)}},788:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6923);function i(e){var t=e.split(":");if((0,n.Z)(t[2])){var r=parseInt(t[0],10),i=parseInt(t[1],10),a=parseFloat(t[2].replace(",","."));if(isNaN(r)||isNaN(i)||isNaN(a))return;return 60*r*60+60*i+a}}function a(e,t){if(0===e.length)return null;var r,a,o=[];if((0,n.Z)(e[1])&&-1!==e[1].indexOf("--\x3e")){var s=e[1].split("--\x3e").map((function(e){return e.trim()}));r=s[0],a=s[1],o=e.slice(2,e.length)}if(!(0,n.Z)(r)||!(0,n.Z)(a)){var l=e[0].split("--\x3e").map((function(e){return e.trim()}));r=l[0],a=l[1],o=e.slice(1,e.length)}if(!(0,n.Z)(r)||!(0,n.Z)(a))return null;var u=i(r),c=i(a);return void 0===u||void 0===c?null:{start:u+t,end:c+t,payload:o}}},2967:function(e,t,r){"use strict";function n(e,t){return e.parentNode instanceof Element?function e(r){var n=[];r.tagName.toLowerCase()===t.toLowerCase()&&n.push(r);var i=r.parentNode;return i instanceof Element&&n.push.apply(n,e(i)),n}(e.parentNode):[]}r.d(t,{Z:function(){return n}})},3791:function(e,t,r){"use strict";r.d(t,{U:function(){return s},b:function(){return l}});var n=r(3274),i=r(7714),a=r(6923),o=r(9252);function s(e,t,r,o){for(var s={},l=e.slice(),u=0;u<=t.length-1;u++){var c=t[u];if(void 0!==c){var d=function(){var e=void 0,t=void 0;if(c.nodeType===Node.ELEMENT_NODE)for(var u=c,d=0;d<=u.attributes.length-1;d++){var f=u.attributes[d],p=f.name;if("style"===p)e=f.value;else if("region"===p)t=f.value;else{var h=p.substring(4);if((0,i.Z)(l,h)&&(s[h]=f.value,l.splice(d,1),0===l.length))return{v:s}}}if((0,a.Z)(e)){var g=(0,n.Z)(r,(function(t){return t.id===e}));if(void 0!==g)for(var m=0;m<=l.length-1;m++){var v=l[m];if(!(0,a.Z)(s[v])&&(0,a.Z)(g.style[v])){if(s[v]=g.style[v],l.splice(m,1),0===l.length)return{v:s};m--}}}if((0,a.Z)(t)){var y=(0,n.Z)(o,(function(e){return e.id===t}));if(void 0!==y)for(var b=0;b<=l.length-1;b++){var k=l[b];if(!(0,a.Z)(s[k])&&(0,a.Z)(y.style[k])){if(s[k]=y.style[k],l.splice(b,1),0===l.length)return{v:s};b--}}}}();if("object"===typeof d)return d.v}}return s}function l(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};for(var t=e,r={},n=0;n<=t.attributes.length-1;n++){var i=t.attributes[n];(0,o.Z)(i.name,"tts")&&(r[i.name.substring(4)]=i.value)}return r}},6177:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(6923),i=r(5336);function a(e,t){var r=e.exec(t);if(null===r||""===r[0])return null;var n=Number(r[1]);isNaN(n)&&(n=0);var i=Number(r[2]);isNaN(i)&&(i=0);var a=Number(r[3]);isNaN(a)&&(a=0);var o=Number(r[4]);return isNaN(o)&&(o=0),o/1e3+a+60*i+3600*n}var o=function(e,t){return i.gu.test(e)?function(e,t){var r=i.gu.exec(t),n=Number(r[1]),a=Number(r[2]),o=Number(r[3]),s=Number(r[4]),l=Number(r[5]);return isNaN(l)&&(l=0),s+=l/e.subFrameRate,(o+=s/e.frameRate)+60*a+3600*n}(t,e):i.KO.test(e)?a(i.KO,e):i.wf.test(e)?a(i.wf,e):i.jb.test(e)?function(e,t){var r=i.jb.exec(t);return Number(r[1])/e.frameRate}(t,e):i.Du.test(e)?function(e,t){var r=i.Du.exec(t);return Number(r[1])/e.tickRate}(t,e):i.te.test(e)?a(i.te,e):void 0};function s(e,t){var r=e.getAttribute("begin"),i=e.getAttribute("dur"),a=e.getAttribute("end"),s=(0,n.Z)(r)?o(r,t):null,l=(0,n.Z)(i)?o(i,t):null,u=(0,n.Z)(a)?o(a,t):null;if(null==s||null==u&&null==l)throw new Error("Invalid text cue");return{start:s,end:null==u?s+l:u}}},7439:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(5403);function i(e){return void 0===e.extent&&void 0===e.origin&&void 0===e.displayAlign&&void 0===e.display&&void 0===e.textAlign&&void 0===e.fontSize}function a(e){e.extent="70% 20%",e.fontSize="1c",e.origin="15% 80%",e.displayAlign="before",e.textAlign="center"}var o,s=r(6177);function l(e,t){void 0===o&&(o=void 0!==e.classList&&"function"===typeof e.classList.add),o?e.classList.add(t):(" "+e.className+" ").indexOf(" "+t+" ")<0&&(e.className+=" "+t)}var u=r(6923),c=r(8026),d=r(2967),f=r(3791),p=r(3887),h=r(5336);function g(e,t){return"-1px -1px "+t+" "+e+",1px -1px "+t+" "+e+",-1px 1px "+t+" "+e+",1px 1px "+t+" "+e}function m(e){var t;return null!=(t=h.Dq.exec(e))?"rgba("+String(parseInt(t[1],16))+","+String(parseInt(t[2],16))+","+String(parseInt(t[3],16))+","+String(parseInt(t[4],16)/255)+")":null!=(t=h.YU.exec(e))?"rgba("+String(parseInt(t[1]+t[1],16))+","+String(parseInt(t[2]+t[2],16))+","+String(parseInt(t[3]+t[3],16))+","+String(parseInt(t[4]+t[4],16)/255)+")":null!=(t=h.GK.exec(e))?"rgb("+String(+t[1])+","+String(+t[2])+","+String(+t[3])+")":null!=(t=h.ev.exec(e))?"rgba("+String(+t[1])+","+String(+t[2])+","+String(+t[3])+","+String(+t[4]/255)+")":e}var v=["color","direction","display","fontFamily","fontSize","fontStyle","fontWeight","textDecoration","textOutline","unicodeBidi","visibility","wrapOption"];function y(e,t,r){var n=t.color;(0,u.Z)(n)&&(e.style.color=m(n));var i=t.backgroundColor;(0,u.Z)(i)&&(e.style.backgroundColor=m(i));var a=t.textOutline;if((0,u.Z)(a)){var o=a.trim().replace(/\s+/g," ").split(" "),s=o.length;if(3===s){var c=m(o[0]),d=o[1];e.style.textShadow=g(c,d)}else if((0,u.Z)(n)&&1===s){var f=o[0];e.style.textShadow=g(n,f)}else if(2===s){var v=/^[#A-Z]/i.test(o[0]);if(v!==/^[0-9]/.test(o[0]))if(v){var y=m(o[0]),b=o[1];e.style.textShadow=g(y,b)}else if((0,u.Z)(n)){var k=o[0];e.style.textShadow=g(n,k)}}}var _=t.textDecoration;if((0,u.Z)(_))switch(_){case"noUnderline":case"noLineThrough":case"noOverline":e.style.textDecoration="none";break;case"lineThrough":e.style.textDecoration="line-through";break;default:e.style.textDecoration=_}var E=t.fontFamily;if((0,u.Z)(E))switch(E){case"proportionalSansSerif":e.style.fontFamily="Arial, Helvetica, Liberation Sans, sans-serif";break;case"monospaceSansSerif":case"sansSerif":e.style.fontFamily="sans-serif";break;case"monospaceSerif":case"default":e.style.fontFamily="Courier New, Liberation Mono, monospace";break;case"proportionalSerif":e.style.fontFamily="serif";break;default:e.style.fontFamily=E}var w=t.fontStyle;(0,u.Z)(w)&&(e.style.fontStyle=w);var S=t.fontWeight;(0,u.Z)(S)&&(e.style.fontWeight=S);var T=t.fontSize;(0,u.Z)(T)?function(e,t){var r=t.trim().split(" ");if(0!==r.length){var n=h.eT.exec(r[0]);null!==n&&("px"===n[2]||"%"===n[2]||"em"===n[2]?e.style.fontSize=n[1]+n[2]:"c"===n[2]?(e.style.position="relative",l(e,"proportional-style"),e.setAttribute("data-proportional-font-size",n[1])):p.Z.warn("TTML Parser: unhandled fontSize unit:",n[2]))}}(e,T):(l(e,"proportional-style"),e.setAttribute("data-proportional-font-size","1"));var x=t.direction;(0,u.Z)(x)&&(e.style.direction=x);var O=t.unicodeBidi;if((0,u.Z)(O))switch(O){case"bidiOverride":e.style.unicodeBidi="bidi-override";break;case"embed":e.style.unicodeBidi="embed";break;default:e.style.unicodeBidi="normal"}var P=t.visibility;(0,u.Z)(P)&&(e.style.visibility=P),"none"===t.display&&(e.style.display="none");var A=t.wrapOption;e.style.whiteSpace="noWrap"===A?r?"nowrap":"pre":r?"normal":"pre-wrap"}function b(e,t){e.style.color="white",e.style.position="absolute";var r=t.extent;(0,u.Z)(r)&&function(e,t){var r=t.trim();if("auto"!==r){var n=r.split(" ");if(2===n.length){var i=h.eT.exec(n[0]),a=h.eT.exec(n[1]);null!==i&&null!==a&&("px"===i[2]||"%"===i[2]||"em"===i[2]?e.style.width=i[1]+i[2]:"c"===i[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-width",i[1])):p.Z.warn("TTML Parser: unhandled extent unit:",i[2]),"px"===a[2]||"%"===a[2]||"em"===a[2]?e.style.height=a[1]+a[2]:"c"===a[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-height",a[1])):p.Z.warn("TTML Parser: unhandled extent unit:",a[2]))}}}(e,r);var n=t.writingMode;(0,u.Z)(n);var i=t.overflow;e.style.overflow=(0,u.Z)(i)?i:"hidden";var a=t.padding;(0,u.Z)(a)&&function(e,t){var r=t.trim().split(" ");if(!(r.length<1)){var n=h.eT.exec(r[0]);if(null!==n){if("px"===n[2]||"%"===n[2]||"em"===n[2]){var i=n[1]+n[2];1===r.length?e.style.padding=i:2===r.length?(e.style.paddingTop=i,e.style.paddingBottom=i):e.style.paddingTop=i}else"c"===n[2]?(l(e,"proportional-style"),1===r.length?(e.setAttribute("data-proportional-padding-top",n[1]),e.setAttribute("data-proportional-padding-bottom",n[1]),e.setAttribute("data-proportional-padding-left",n[1]),e.setAttribute("data-proportional-padding-right",n[1])):2===r.length?(e.setAttribute("data-proportional-padding-top",n[1]),e.setAttribute("data-proportional-padding-bottom",n[1])):e.setAttribute("data-proportional-padding-top",n[1])):p.Z.warn("TTML Parser: unhandled padding unit:",n[2]);if(1!==r.length){var a=h.eT.exec(r[1]);if(null!==a){if("px"===a[2]||"%"===a[2]||"em"===a[2]){var o=a[1]+a[2];r.length<4?(e.style.paddingLeft=o,e.style.paddingRight=o):e.style.paddingRight=o}else"c"===a[2]?(l(e,"proportional-style"),r.length<4?(e.setAttribute("data-proportional-padding-left",a[1]),e.setAttribute("data-proportional-padding-right",a[1])):e.setAttribute("data-proportional-padding-right",a[1])):p.Z.warn("TTML Parser: unhandled padding unit:",a[2]);if(2!==r.length){var s=h.eT.exec(r[2]);if(null!==s){if("px"===s[2]||"%"===s[2]||"em"===s[2]){var u=s[1]+s[2];e.style.paddingBottom=u}else"c"===s[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-padding-bottom",s[1])):p.Z.warn("TTML Parser: unhandled padding unit:",s[2]);if(3!==r.length){var c=h.eT.exec(r[3]);if(null!==c)if("px"===c[2]||"%"===c[2]||"em"===c[2]){var d=c[1]+c[2];e.style.paddingLeft=d}else"c"===c[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-padding-left",c[1])):p.Z.warn("TTML Parser: unhandled padding unit:",c[2])}}}}}}}}(e,a);var o=t.origin;(0,u.Z)(o)&&function(e,t){var r=t.trim();if("auto"!==r){var n=r.split(" ");if(2===n.length){var i=h.eT.exec(n[0]),a=h.eT.exec(n[1]);null!==i&&null!==a&&("px"===i[2]||"%"===i[2]||"em"===i[2]?e.style.left=i[1]+i[2]:"c"===i[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-left",i[1])):p.Z.warn("TTML Parser: unhandled origin unit:",i[2]),"px"===a[2]||"%"===a[2]||"em"===a[2]?e.style.top=a[1]+a[2]:"c"===a[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-top",a[1])):p.Z.warn("TTML Parser: unhandled origin unit:",a[2]))}}}(e,o);var s=t.displayAlign;if((0,u.Z)(s))switch(e.style.display="flex",e.style.flexDirection="column",s){case"before":e.style.justifyContent="flex-start";break;case"center":e.style.justifyContent="center";break;case"after":e.style.justifyContent="flex-end"}var c=t.opacity;(0,u.Z)(c)&&(e.style.opacity=c);var d=t.visibility;(0,u.Z)(d)&&(e.style.visibility=d),"none"===t.display&&(e.style.display="none")}function k(e,t){e.style.margin="0px";var r=t.backgroundColor;(0,u.Z)(r)&&(e.style.backgroundColor=m(r));var n=t.lineHeight;(0,u.Z)(n)&&function(e,t){var r=t.trim();if("auto"!==r){var n=h.eT.exec(r[0]);null!==n&&("px"===n[2]||"%"===n[2]||"em"===n[2]?e.style.lineHeight=n[1]+n[2]:"c"===n[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-line-height",n[1])):p.Z.warn("TTML Parser: unhandled lineHeight unit:",n[2]))}}(e,n);var i=t.textAlign;if((0,u.Z)(i))switch(i){case"center":e.style.textAlign="center";break;case"left":case"start":e.style.textAlign="left";break;case"right":case"end":e.style.textAlign="right"}}function _(e,t,r){var n=document.createElement("span"),i=null===e.textContent?"":e.textContent;if(r){var a=i.trim();i=a=a.replace(/\s+/g," ")}return n.innerHTML=i,n.className="rxp-texttrack-span",y(n,t,r),n}function E(e,t,r,n,i,a){var o=a.cellResolution,s=a.shouldTrimWhiteSpace,l=(0,d.Z)(e,"div"),p=document.createElement("DIV");if(p.className="rxp-texttrack-region",p.setAttribute("data-resolution-columns",String(o.columns)),p.setAttribute("data-resolution-rows",String(o.rows)),b(p,i),null!==t){var h=(0,f.U)(["backgroundColor"],[].concat(l,[t]),n,r).bodyBackgroundColor;(0,u.Z)(h)&&(p.style.backgroundColor=m(h))}var g=document.createElement("p");g.className="rxp-texttrack-p",k(g,i);for(var y=function(e,t,r,n,i){return function e(n,i,a,o){for(var s=n.childNodes,l=[],d=0;d<s.length;d++){var p=s[d];if("#text"===p.nodeName){var h=(0,f.U)(["backgroundColor"],a,r,t).backgroundColor;(0,u.Z)(h)?i.backgroundColor=h:delete i.backgroundColor;var g=_(p,i,o);l.push(g)}else if("br"===p.nodeName){var m=document.createElement("BR");l.push(m)}else if("span"===p.nodeName&&p.nodeType===Node.ELEMENT_NODE&&p.childNodes.length>0){var y=p.getAttribute("xml:space"),b=(0,u.Z)(y)?"default"===y:o,k=(0,c.Z)({},i,(0,f.U)(v,[p],r,t));l.push.apply(l,e(p,k,[p].concat(a),b))}}return l}(e,(0,c.Z)({},n),[],i)}(e,r,n,i,s),E=0;E<y.length;E++)g.appendChild(y[E]);return p.appendChild(g),p}function w(e){var t=e.paragraph,r=e.ttParams,n=e.body,i=e.regionStyles,a=e.idStyles,o=e.paragraphStyle,l=e.timeOffset,u=e.shouldTrimWhiteSpace;if(!t.hasAttribute("begin")&&!t.hasAttribute("end")&&/^\s*$/.test(null===t.textContent?"":t.textContent))return null;var c=r.cellResolution,d=(0,s.Z)(t,r);return{start:d.start+l,end:d.end+l,element:E(t,n,i,a,o,{cellResolution:c,shouldTrimWhiteSpace:u})}}var S=function(e,t){for(var r=(0,n.Z)(e,t),o=[],s=0;s<r.length;s++){var l=r[s].paragraphStyle;i(l)&&a(l);var u=w(r[s]);null!==u&&o.push(u)}return o}},1570:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(5403),i=r(7253),a=r(1988),o=r(6923),s=r(6177),l=r(5336),u={left:"start",center:"center",right:"end",start:"start",end:"end"},c={left:"line-left",center:"center",right:"line-right"};function d(e){var t=e.paragraph,r=e.timeOffset,n=e.paragraphStyle,d=e.ttParams,f=e.shouldTrimWhiteSpace;if(!t.hasAttribute("begin")&&!t.hasAttribute("end")&&/^\s*$/.test(null===t.textContent?"":t.textContent))return null;var p=(0,s.Z)(t,d),h=p.start,g=p.end,m=function(e,t){return function e(t,r){for(var n=t.childNodes,i="",a=0;a<n.length;a++){var s=n[a];if("#text"===s.nodeName){var l=s.textContent;if(null===l&&(l=""),r){var u=l.trim();l=u=u.replace(/\s+/g," ")}i+=l.replace(/&|\u0026/g,"&amp;").replace(/<|\u003C/g,"&lt;").replace(/>|\u2265/g,"&gt;").replace(/\u200E/g,"&lrm;").replace(/\u200F/g,"&rlm;").replace(/\u00A0/g,"&nbsp;")}else if("br"===s.nodeName)i+="\n";else if("span"===s.nodeName&&s.nodeType===Node.ELEMENT_NODE&&s.childNodes.length>0){var c=s.getAttribute("xml:space");i+=e(s,(0,o.Z)(c)?"default"===c:r)}}return i}(e,t)}(t,f),v=(0,i.Z)(h+r,g+r,m);return null===v?null:((0,a.Z)(v)&&function(e,t){var r=t.extent;if((0,o.Z)(r)){var n=l._0.exec(r);null!=n&&(e.size=Number(n[1]))}switch(t.writingMode){case"tb":case"tblr":e.vertical="lr";break;case"tbrl":e.vertical="rl"}var i=t.origin;(0,o.Z)(i)&&l._0.exec(i);var a=t.align;if((0,o.Z)(a)){e.align=a,"center"===a&&("center"!==e.align&&(e.align="middle"),e.position="auto");var s=c[a];e.positionAlign=void 0===s?"":s;var d=u[a];e.lineAlign=void 0===d?"":d}}(v,n),v)}var f=function(e,t){for(var r=(0,n.Z)(e,t),i=[],a=0;a<r.length;a++){var o=d(r[a]);null!==o&&i.push(o)}return i}},5403:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(3274),i=r(6923),a=r(8026),o=r(3887),s=/(\d+) (\d+)/,l=r(2967),u=r(3791),c=r(5138),d=r(7714),f=["align","backgroundColor","color","direction","display","displayAlign","extent","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","opacity","origin","overflow","padding","textAlign","textDecoration","textOutline","unicodeBidi","visibility","wrapOption","writingMode"];function p(e,t){var r=[],p=(new DOMParser).parseFromString(e,"text/xml");if(null!==p&&void 0!==p){var h=p.getElementsByTagName("tt")[0];if(void 0===h)throw new Error("invalid XML");for(var g=function(e){return e.getElementsByTagName("body")[0]}(h),m=function(e){return e.getElementsByTagName("style")}(h),v=function(e){return e.getElementsByTagName("region")}(h),y=function(e){return e.getElementsByTagName("p")}(h),b=function(e){var t=e.getAttribute("ttp:frameRate"),r=e.getAttribute("ttp:subFramRate"),n=e.getAttribute("ttp:tickRate"),a=e.getAttribute("ttp:frameRateMultiplier"),l=e.getAttribute("xml:space"),u=e.getAttribute("ttp:cellResolution"),c={columns:32,rows:15};if(null!==u){var d=s.exec(u);if(null===d||d.length<3)o.Z.warn("TTML Parser: Invalid cellResolution");else{var f=parseInt(d[1],10),p=parseInt(d[2],10);isNaN(f)||isNaN(p)?o.Z.warn("TTML Parser: Invalid cellResolution"):c={columns:f,rows:p}}}if((0,i.Z)(l)&&"default"!==l&&"preserve"!==l)throw new Error("Invalid spacing style");var h=Number(t);(isNaN(h)||h<=0)&&(h=30);var g=Number(r);(isNaN(g)||g<=0)&&(g=1);var m=Number(n);(isNaN(m)||m<=0)&&(m=void 0);var v=h,y=null!=g?g:1,b=null!==l?l:"default",k=void 0!==m?m:h*g;if(null!==a){var _=/^(\d+) (\d+)$/g.exec(a);null!==_&&(v=h*(Number(_[1])/Number(_[2])))}return{cellResolution:c,tickRate:k,frameRate:v,subFrameRate:y,spaceStyle:b}}(h),k=[],_=0;_<=m.length-1;_++){var E=m[_];if(E instanceof Element){var w=E.getAttribute("xml:id");if(null!==w){var S=E.getAttribute("style"),T=null===S?[]:S.split(" ");k.push({id:w,style:(0,u.b)(E),extendsStyles:T})}}}!function(e){var t=[];function r(n,i){t.push(i);for(var s=function(i){var s=n.extendsStyles[i],l=(0,c.Z)(e,(function(e){return e.id===s}));if(l<0)o.Z.warn("TTML Parser: unknown style inheritance: "+s);else{var u=e[l];(0,d.Z)(t,l)?o.Z.warn("TTML Parser: infinite style inheritance loop avoided"):r(u,l),n.style=(0,a.Z)({},u.style,n.style)}},l=0;l<n.extendsStyles.length;l++)s(l);n.extendsStyles.length=0}for(var n=0;n<e.length;n++)r(e[n],n),t.length=0}(k);for(var x=[],O=0;O<=v.length-1;O++){var P=v[O];if(P instanceof Element){var A=P.getAttribute("xml:id");null!==A&&function(){var e=(0,u.b)(P),t=P.getAttribute("style");if((0,i.Z)(t)){var r=(0,n.Z)(k,(function(e){return e.id===t}));void 0!==r&&(e=(0,a.Z)({},r.style,e))}x.push({id:A,style:e,extendsStyles:[]})}()}}for(var C=(0,u.U)(f,null!==g?[g]:[],k,x),M="default"===(null!==g?g.getAttribute("xml:space"):void 0)||"default"===b.spaceStyle,I=0;I<y.length;I++){var R=y[I];if(R instanceof Element){var D=(0,l.Z)(R,"div"),j=(0,a.Z)({},C,(0,u.U)(f,[R].concat(D),k,x)),L=R.getAttribute("xml:space"),N=(0,i.Z)(L)?"default"===L:M,U={paragraph:R,timeOffset:t,idStyles:k,regionStyles:x,body:g,paragraphStyle:j,ttParams:b,shouldTrimWhiteSpace:N};null!==U&&r.push(U)}}}return r}},5336:function(e,t,r){"use strict";r.d(t,{YU:function(){return f},Dq:function(){return d},GK:function(){return p},ev:function(){return h},eT:function(){return c},_0:function(){return u},KO:function(){return i},gu:function(){return n},wf:function(){return a},jb:function(){return o},te:function(){return l},Du:function(){return s}});var n=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,i=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,a=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,o=/^(\d*\.?\d*)f$/,s=/^(\d*\.?\d*)t$/,l=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,u=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,c=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/,d=/^#([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})$/,f=/^#([0-9A-f])([0-9A-f])([0-9A-f])([0-9A-f])$/,p=/^rgb\( *(\d+) *, *(\d+) *, *(\d+) *\)/,h=/^rgba\( *(\d+) *, *(\d+) *, *(\d+) *, *(\d+) *\)/},1138:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6923),i=r(360);function a(e,t){for(var r=[],a=t;a<e.length;a++)if((0,i.tq)(e,a)){var o=(0,i.$4)(e,a);r.push(e.slice(a,o)),a=o}else if((0,n.Z)(e[a]))for(;(0,n.Z)(e[a]);)a++;return r}},4099:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(1138),i=r(6923),a=r(360),o=r(9525),s={white:"#ffffff",lime:"#00ff00",cyan:"#00ffff",red:"#ff0000",yellow:"#ffff00",magenta:"#ff00ff",blue:"#0000ff",black:"#000000"};function l(e){var t=Object.keys(s).reduce((function(e,t){return e[t]="color: "+s[t]+";",e["bg_"+t]="background-color: "+s[t]+";",e}),{}),r="";return e.forEach((function(e){if(e.length>=2)for(var n=1;n<e.length;n++){var a=e[n];if(Array.isArray(/::cue {/.exec(a)))for(a=e[++n];(0,i.Z)(a)&&!Array.isArray(/}/.exec(a))&&0!==a.length;)r+=a,a=e[++n];else!function(){for(var r=[],o=/::cue\(\.?(.*?)\)(?:,| {)/.exec(a);(0,i.Z)(a)&&Array.isArray(o);)r.push(o[1]),a=e[++n],o=/::cue\(\.?(.*?)\)(?:,| {)/.exec(a);for(var s="";(0,i.Z)(a)&&!Array.isArray(/}/.exec(a))&&0!==a.length;)s+=a,a=e[++n];r.forEach((function(e){void 0===t[e]?t[e]=s:t[e]+=s}))}()}})),{classes:t,global:r}}var u=r(7714);function c(e,t){var r,n=["u","i","b"],a=e.nodeName.toLowerCase().split(".")[0];if((0,u.Z)(["u","i","b","c","#text"],a))if("#text"===a){var o=e.wholeText.split("\n");r=document.createElement("span");for(var s=0;s<o.length;s++)if(s>0&&r.appendChild(document.createElement("br")),o[s].length>0){var l=document.createTextNode(o[s]);r.appendChild(l)}}else{var d=e.nodeName.toLowerCase().split("."),f=[];if(d.forEach((function(e){(0,i.Z)(t[e])&&f.push(t[e])})),0!==f.length){var p=document.createAttribute("style");f.forEach((function(e){p.value+=e}));var h=(0,u.Z)(n,a)?a:"span";(r=document.createElement(h)).setAttributeNode(p)}else{var g=(0,u.Z)(n,a)?a:"span";r=document.createElement(g)}for(var m=0;m<e.childNodes.length;m++){var v=c(e.childNodes[m],t);r.appendChild(v)}}else{r=document.createElement("span");for(var y=0;y<e.childNodes.length;y++){var b=c(e.childNodes[y],t);r.appendChild(b)}}return r}var d,f,p,h=r(1679),g=function(e){if(void 0===e||0===(0,h.Z)(e).length)return"text-align:center";var t=m(e),r=b(e);return"position: absolute;margin: 0;transform: translate("+t.offset+"%,"+r.offset+"%);width: "+w(e.size)+"%;left: "+t.position+"%;top: "+(null!==r.position?r.position+"%":"auto")+";text-align: "+E(e.align)+";"};!function(e){e.LINE_LEFT="line-left",e.CENTER="center",e.LINE_RIGHT="line-right"}(d||(d={})),function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(f||(f={})),function(e){e.START="start",e.CENTER="center",e.END="end"}(p||(p={}));var m=function(e){return{position:v(e),offset:y(e)}},v=function(e){var t,r=T(e.position);if(null!==r)return r;var n=E(e.align);return((t={})[f.LEFT]=0,t[f.CENTER]=50,t[f.RIGHT]=100,t)[n]},y=function(e){var t,r,n=((t={})[d.LINE_LEFT]=0,t[d.CENTER]=-50,t[d.LINE_RIGHT]=-100,t),i=void 0!==e.position?function(e){var t=/,(line-left|line-right|center)/.exec(e);return!Array.isArray(t)||t.length<2?null:t[1]}(e.position):null;return null!==i?n[i]:((r={})[f.LEFT]=0,r[f.CENTER]=-50,r[f.RIGHT]=-100,r)[void 0!==e.align?E(e.align):f.CENTER]},b=function(e){return{position:k(e.line),offset:_(e.line)}},k=function(e){return T(e)},_=function(e){var t,r=((t={})[p.START]=0,t[p.CENTER]=-50,t[p.END]=-100,t);if(void 0===e)return r[p.START];var n=function(e){var t=/,(start|center|end)/.exec(e);return!Array.isArray(t)||t.length<2?null:t[1]}(e);return null!==n?r[n]:r[p.START]},E=function(e){switch(e){case"left":case"start":return"left";case"right":case"end":return"right";default:return"center"}},w=function(e){return S(e,100)},S=function(e,t){var r=T(e);return null!==r?r:t},T=function(e){if(void 0===e)return null;var t=/^([\d.]+)%/.exec(e);return!Array.isArray(t)||t.length<2?null:parseInt(t[1],10)};function x(e,t){var r=e.start,n=e.end,a=e.settings,o=e.header,s=e.payload,l=document.createElement("div"),u=document.createAttribute("style");u.value="width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;",l.setAttributeNode(u);var d=document.createElement("p"),f=function(e){var t=document.createAttribute("style");return t.value=g(e),t}(a);d.setAttributeNode(f);var p=document.createElement("span"),h=document.createAttribute("style");h.value="background-color:rgba(0,0,0,0.8);color:white;",p.setAttributeNode(h);var m=t.global,v=t.classes,y=[m,(0,i.Z)(o)?v[o]:void 0].filter((function(e){return void 0!==e})).join("");return h.value+=y,p.setAttributeNode(h),function(e,t){for(var r=e.replace(/<[0-9]{2}:[0-9]{2}.[0-9]{3}>/,"").replace(/<([u,i,b,c])(\..*?)?(?: .*?)?>(.*?)<\/\1>/g,"<$1$2>$3</$1$2>"),n=(new DOMParser).parseFromString(r,"text/html").body.childNodes,i=[],a=0;a<n.length;a++)i.push(c(n[a],t));return i}(s.join("\n"),v).forEach((function(e){p.appendChild(e)})),l.appendChild(d),d.appendChild(p),{start:r,end:n,element:l}}var O=function(e,t){var r=e.split(/\r\n|\n|\r/g),s=[];if(null===/^WEBVTT( |\t|\n|\r|$)/.exec(r[0]))throw new Error("Can't parse WebVTT: Invalid File.");for(var u=(0,a.yE)(r),c=function(e,t){for(var r=[],n=t;n<e.length;n++)if((0,a.JF)(e,n)){var o=n;for(n++;(0,i.Z)(e[n]);)n++;var s=e.slice(o,n);r.push(s)}else if((0,i.Z)(e[n]))for(;(0,i.Z)(e[n]);)n++;return r}(r,u),d=(0,n.Z)(r,u),f=l(c),p=0;p<d.length;p++){var h=(0,o.Z)(d[p],t);if(null!=h){var g=x(h,f);s.push(g)}}return s}},9405:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(1988),i=r(1138),a=r(9525),o=r(360),s=r(7714),l=r(6923);function u(e,t){if(!(0,l.Z)(e.vertical)||"rl"!==e.vertical&&"lr"!==e.vertical||(t.vertical=e.vertical),(0,l.Z)(e.line)){var r=/^(\d+(\.\d+)?)%(,([a-z]+))?/.exec(e.line);if(Array.isArray(r))t.line=Number(r[1]),t.snapToLines=!1,(0,s.Z)(["start","center","end"],r[4])&&(t.lineAlign=r[4]);else{var n=/^(-?\d+)(,([a-z]+))?/.exec(e.line);Array.isArray(n)&&(t.line=Number(n[1]),t.snapToLines=!0,(0,s.Z)(["start","center","end"],n[3])&&(t.lineAlign=n[3]))}}if((0,l.Z)(e.position)){var i=/^([\d\.]+)%(?:,(line-left|line-right|center))?$/.exec(e.position);if(Array.isArray(i)&&i.length>=2){var a=parseInt(i[1],10);isNaN(a)||(t.position=a,void 0!==i[2]&&(t.positionAlign=i[2]))}}(0,l.Z)(e.size)&&(t.size=e.size),"string"===typeof e.align&&(0,s.Z)(["start","center","end","left"],e.align)&&(t.align=e.align)}var c=r(7253);function d(e){var t=e.start,r=e.end,n=e.payload.join("\n");return(0,c.Z)(t,r,n)}var f=function(e,t){var r=e.split(/\r\n|\n|\r/);if(!/^WEBVTT($| |\t)/.test(r[0]))throw new Error("Can't parse WebVTT: Invalid file.");for(var s=(0,o.yE)(r),l=(0,i.Z)(r,s),c=[],f=0;f<l.length;f++){var p=(0,a.Z)(l[f],t);if(null!=p){var h=d(p);null!=h&&((0,n.Z)(h)&&u(p.settings,h),c.push(h))}}return c}},9525:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6923);function i(e){var t=e.split(":").reverse();if((0,n.Z)(t[2])||(0,n.Z)(t[1])){var r=(0,n.Z)(t[2])?parseInt(t[2],10):0,i=parseInt(t[1],10),a=parseFloat(t[0].replace(",","."));if(isNaN(r)||isNaN(i)||isNaN(a))return;return 60*r*60+60*i+a}}function a(e,t){var r,n,a,o=/-->/;if(o.test(e[0]))r=e[0],n=e.slice(1,e.length);else{if(!o.test(e[1]))return null;a=e[0],r=e[1],n=e.slice(2,e.length)}var s=function(e){var t=/^([\d:.]+)[ |\t]+-->[ |\t]+([\d:.]+)[ |\t]*(.*)$/.exec(e);if(null===t)return null;var r=i(t[1]),n=i(t[2]);return null==r||null==n?null:{start:r,end:n,settings:t[3].split(/ |\t/).reduce((function(e,t){var r=t.split(":");return 2===r.length&&(e[r[0]]=r[1]),e}),{})}}(r);return null===s?null:{start:s.start+t,end:s.end+t,settings:s.settings,payload:n,header:a}}},360:function(e,t,r){"use strict";r.d(t,{yE:function(){return i},tq:function(){return o},JF:function(){return a},$4:function(){return s}});var n=r(6923);function i(e){for(var t=0;t<e.length;){if(""===e[t])return t+1;t++}return t}function a(e,t){return"string"===typeof e[t]&&/^STYLE( .*)?$/g.test(e[t])&&(void 0===e[t+1]||e[t+1].indexOf("--\x3e")<0)}function o(e,t){var r=e[t];if(void 0===r||""===r||a(e,t)||function(e,t){return"string"===typeof e[t]&&/^REGION( .*)?$/g.test(e[t])&&(void 0===e[t+1]||e[t+1].indexOf("--\x3e")<0)}(e,t)||function(e,t){return"string"===typeof e[t]&&/^NOTE( .*)?$/g.test(e[t])&&(void 0===e[t+1]||e[t+1].indexOf("--\x3e")<0)}(e,t))return!1;if(r.indexOf("--\x3e")>=0)return!0;var n=e[t+1];return void 0!==n&&n.indexOf("--\x3e")>=0}function s(e,t){for(var r=t+1;(0,n.Z)(e[r]);)r++;return r}},1459:function(e,t,r){"use strict";r.d(t,{Z:function(){return Vt}});var n=r(7278),i=r(8170),a=r(7874),o=r(4597),s=r(5278);function l(e){var t=e.segment,r=e.url;return t.isInit||null===r?(0,i.of)({type:"data-created",value:{responseData:null}}):(0,o.ZP)({url:r,responseType:"arraybuffer",sendProgressEvents:!0})}function u(e){var t=e.response,r=e.content,n=r.segment,o=r.period,l=t.data,u=t.isChunked;if(r.segment.isInit)return(0,i.of)({type:"parsed-init-segment",value:{initializationData:null,segmentProtections:[],initTimescale:void 0}});if(u)throw new Error("Image data should not be downloaded in chunks");var c=(0,s.Z)(n.timestampOffset,0);if(null===l||null===a.Z.imageParser)return(0,i.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:{duration:n.duration,time:n.time},chunkOffset:c,appendWindow:[o.start,o.end]}});var d=a.Z.imageParser(new Uint8Array(l)),f=d.thumbs;return(0,i.of)({type:"parsed-segment",value:{chunkData:{data:f,start:0,end:Number.MAX_VALUE,timescale:1,type:"bif"},chunkInfos:{time:0,duration:Number.MAX_VALUE,timescale:d.timescale},chunkOffset:c,appendWindow:[o.start,o.end]}})}var c=r(9795),d=r(5142),f=r(6008),p=r(5709),h=r(7746),g=r(1966),m=r(944),v=r(3887),y=r(3274),b=r(9829);function k(e){return 0===e.length?0:e.reduce((function(e,t){var r;return Math.min(null!==(r=t.attributes.availabilityTimeOffset)&&void 0!==r?r:0,e)}),1/0)}function _(e){var t=Date.parse(e)-performance.now();if(!isNaN(t))return t;v.Z.warn("DASH Parser: Invalid clock received: ",e)}function E(e){for(var t=e.representations,r=null,n=0;n<t.length;n++){var i=t[n].index.getLastPosition();if(void 0===i)return;null!==i&&(r=null==r?i:Math.min(r,i))}return null===r?null:r}function w(e){for(var t=e.length-1;t>=0;t--){var r=e[t].adaptations,n=void 0===r.audio?void 0:r.audio[0],i=void 0===r.video?void 0:r.video[0];if(void 0!==n||void 0!==i){var a=null,o=null;if(void 0!==n){var s=E(n);if(void 0===s)return;a=s}if(void 0!==i){var l=E(i);if(void 0===l)return;o=l}if(void 0!==n&&null===a||void 0!==i&&null===o)return void v.Z.info("Parser utils: found Period with no segment. ","Going to previous one to calculate last position");if(null!==o)return null!==a?Math.min(a,o):o;if(null!==a)return a}}}function S(e){for(var t=e.representations,r=null,n=0;n<t.length;n++){var i=t[n].index.getFirstPosition();if(void 0===i)return;null!==i&&(r=null==r?i:Math.max(r,i))}return null===r?null:r}function T(e){for(var t=0;t<=e.length-1;t++){var r=e[t].adaptations,n=void 0===r.audio?void 0:r.audio[0],i=void 0===r.video?void 0:r.video[0];if(void 0!==n||void 0!==i){var a=null,o=null;if(void 0!==n){var s=S(n);if(void 0===s)return;a=s}if(void 0!==i){var l=S(i);if(void 0===l)return;o=l}if(void 0!==n&&null===a||void 0!==i&&null===o)return void v.Z.info("Parser utils: found Period with no segment. ","Going to next one to calculate first position");if(null!==o)return null!==a?Math.max(a,o):o;if(null!==a)return a}}}var x=r(1506),O=r.n(x),P=r(5354),A=r.n(P),C=r(5957),M=r.n(C),I=r(9689),R=r(6923),D=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,j=/([0-9]+)-([0-9]+)/;function L(e,t){return"true"===e?[!0,null]:"false"===e?[!1,null]:[!1,new H("`"+t+'` property is not a boolean value but "'+e+'"')]}function N(e,t){var r=parseInt(e,10);return isNaN(r)?[null,new H("`"+t+'` property is not an integer value but "'+e+'"')]:[r,null]}function U(e,t){var r=parseFloat(e);return isNaN(r)?[null,new H("`"+t+'` property is not an integer value but "'+e+'"')]:[r,null]}function B(e,t){if("true"===e)return[!0,null];if("false"===e)return[!1,null];var r=parseInt(e,10);return isNaN(r)?[null,new H("`"+t+'` property is not a boolean nor an integer but "'+e+'"')]:[r,null]}function F(e,t){var r=Date.parse(e);return isNaN(r)?[null,new H("`"+t+'` is in an invalid date format: "'+e+'"')]:[new Date(Date.parse(e)).getTime()/1e3,null]}function z(e,t){if(!(0,R.Z)(e))return[0,new H("`"+t+"` property is empty")];var r=D.exec(e);return null===r?[null,new H("`"+t+'` property has an unrecognized format "'+e+'"')]:[365*parseFloat((0,R.Z)(r[2])?r[2]:"0")*24*60*60+30*parseFloat((0,R.Z)(r[4])?r[4]:"0")*24*60*60+24*parseFloat((0,R.Z)(r[6])?r[6]:"0")*60*60+60*parseFloat((0,R.Z)(r[8])?r[8]:"0")*60+60*parseFloat((0,R.Z)(r[10])?r[10]:"0")+parseFloat((0,R.Z)(r[12])?r[12]:"0"),null]}function V(e,t){var r=j.exec(e);return null===r?[null,new H("`"+t+'` property has an unrecognized format "'+e+'"')]:[[+r[1],+r[2]],null]}function $(e,t){try{return[(0,I.K)(e),null]}catch(r){return[null,new H("`"+t+'` is not a valid base64 string: "'+e+'"')]}}function W(e){for(var t,r,n=0;n<e.attributes.length;n++){var i=e.attributes[n];switch(i.name){case"schemeIdUri":t=i.value;break;case"value":r=i.value}}return{schemeIdUri:t,value:r}}function K(e,t){return function(r,n){var i=n.asKey,a=(0,n.parser)(r,n.dashName),o=a[0],s=a[1];null!==s&&(v.Z.warn(s.message),t.push(s)),null!==o&&(e[i]=o)}}var H=function(e){function t(r){var n;return n=e.call(this)||this,Object.setPrototypeOf(O()(n),t.prototype),n.name="MPDError",n.message=r,n}return A()(t,e),t}(M()(Error));function G(e){var t={},r=e.textContent,n=[],i=K(t,n);if(null===r||0===r.length)return[void 0,n];for(var a=0;a<e.attributes.length;a++){var o=e.attributes[a];switch(o.name){case"availabilityTimeOffset":"INF"===o.value?t.availabilityTimeOffset=1/0:i(o.value,{asKey:"availabilityTimeOffset",parser:N,dashName:"availabilityTimeOffset"})}}return[{value:r,attributes:t},n]}function Z(e){for(var t={},r=0;r<e.attributes.length;r++){var n=e.attributes[r];switch(n.name){case"id":t.id=n.value;break;case"lang":t.language=n.value;break;case"contentType":t.contentType=n.value;break;case"par":t.par=n.value}}return t}var q=r(3635);function X(e){var t=function(e){for(var t=[],r=[],n=0;n<e.length;n++)if(e[n].nodeType===Node.ELEMENT_NODE){var i=e[n];if("cenc:pssh"===i.nodeName){var a=i.textContent;if(null!==a&&a.length>0){var o=$(a,"cenc:pssh"),s=o[0],l=o[1];null!==l&&(v.Z.warn(l.message),t.push(l)),null!==s&&r.push(s)}}}return[{cencPssh:r},t]}(e.childNodes),r=t[0],n=t[1];return[{children:r,attributes:function(e){for(var t={},r=0;r<e.attributes.length;r++){var n=e.attributes[r];switch(n.name){case"schemeIdUri":t.schemeIdUri=n.value;break;case"value":t.value=n.value;break;case"cenc:default_KID":t.keyId=(0,q.nr)(n.value.replace(/-/g,""))}}return t}(e)},n]}function Y(e){for(var t={},r=[],n=K(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"range":n(a.value,{asKey:"range",parser:V,dashName:"range"});break;case"sourceURL":t.media=a.value}}return[t,r]}function Q(e){for(var t={},r=[],n=K(t,r),i=e.childNodes,a=0;a<i.length;a++)if(i[a].nodeType===Node.ELEMENT_NODE){var o=i[a];if("Initialization"===o.nodeName){var s=Y(o),l=s[0],u=s[1];t.initialization=l,r=r.concat(u)}}for(var c=0;c<e.attributes.length;c++){var d=e.attributes[c];switch(d.name){case"timescale":n(d.value,{asKey:"timescale",parser:N,dashName:"timescale"});break;case"presentationTimeOffset":n(d.value,{asKey:"presentationTimeOffset",parser:U,dashName:"presentationTimeOffset"});break;case"indexRange":n(d.value,{asKey:"indexRange",parser:V,dashName:"indexRange"});break;case"indexRangeExact":n(d.value,{asKey:"indexRangeExact",parser:L,dashName:"indexRangeExact"});break;case"availabilityTimeOffset":n(d.value,{asKey:"availabilityTimeOffset",parser:U,dashName:"availabilityTimeOffset"});break;case"availabilityTimeComplete":n(d.value,{asKey:"availabilityTimeComplete",parser:L,dashName:"availabilityTimeComplete"});break;case"duration":n(d.value,{asKey:"duration",parser:N,dashName:"duration"});break;case"startNumber":n(d.value,{asKey:"startNumber",parser:N,dashName:"startNumber"})}}return[t,r]}var J=r(8026);function ee(e){for(var t={},r=[],n=K(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"media":t.media=a.value;break;case"indexRange":n(a.value,{asKey:"indexRange",parser:V,dashName:"indexRange"});break;case"index":t.index=a.value;break;case"mediaRange":n(a.value,{asKey:"mediaRange",parser:V,dashName:"mediaRange"})}}return[t,r]}function te(e){for(var t=Q(e),r=t[0],n=t[1],i=[],a=e.childNodes,o=0;o<a.length;o++)if(a[o].nodeType===Node.ELEMENT_NODE){var s=a[o];if("SegmentURL"===s.nodeName){var l=ee(s),u=l[0],c=l[1];i.push(u),n=n.concat(c)}}var d=r.duration;if(null==d)throw new Error("Invalid SegmentList: no duration");return[(0,J.Z)(r,{list:i,duration:d}),n]}function re(e){var t=null;return function(){if(null===t){var r=e.getElementsByTagName("S");return t=r,r}return t}}function ne(e){for(var t,r=Q(e),n=r[0],i=r[1],a=0;a<e.childNodes.length;a++)if(e.childNodes[a].nodeType===Node.ELEMENT_NODE){var o=e.childNodes[a];"SegmentTimeline"===o.nodeName&&(t=re(o))}for(var s=(0,J.Z)({},n,{duration:n.duration,timelineParser:t}),l=K(s,i),u=0;u<e.attributes.length;u++){var c=e.attributes[u];switch(c.nodeName){case"initialization":null==s.initialization&&(s.initialization={media:c.value});break;case"index":s.index=c.value;break;case"availabilityTimeOffset":"INF"===c.value&&(s.availabilityTimeOffset=1/0),l(c.value,{asKey:"availabilityTimeOffset",parser:N,dashName:"availabilityTimeOffset"});break;case"media":s.media=c.value;break;case"bitstreamSwitching":l(c.value,{asKey:"bitstreamSwitching",parser:L,dashName:"bitstreamSwitching"})}}return[s,i]}function ie(e){var t=function(e){for(var t={baseURLs:[]},r=[],n=0;n<e.length;n++)if(e[n].nodeType===Node.ELEMENT_NODE){var i=e[n];switch(i.nodeName){case"BaseURL":var a=G(i),o=a[0],s=a[1];void 0!==o&&t.baseURLs.push(o),r=r.concat(s);break;case"SegmentBase":var l=Q(i),u=l[0],c=l[1];t.segmentBase=u,c.length>0&&(r=r.concat(c));break;case"SegmentList":var d=te(i),f=d[0],p=d[1];r=r.concat(p),t.segmentList=f;break;case"SegmentTemplate":var h=ne(i),g=h[0],m=h[1];r=r.concat(m),t.segmentTemplate=g}}return[t,r]}(e.childNodes),r=t[0],n=t[1],i=function(e){for(var t={},r=[],n=K(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"audioSamplingRate":t.audioSamplingRate=a.value;break;case"bandwidth":n(a.value,{asKey:"bitrate",parser:N,dashName:"bandwidth"});break;case"codecs":t.codecs=a.value;break;case"codingDependency":n(a.value,{asKey:"codingDependency",parser:L,dashName:"codingDependency"});break;case"frameRate":t.frameRate=a.value;break;case"height":n(a.value,{asKey:"height",parser:N,dashName:"height"});break;case"id":t.id=a.value;break;case"maxPlayoutRate":n(a.value,{asKey:"maxPlayoutRate",parser:U,dashName:"maxPlayoutRate"});break;case"maximumSAPPeriod":n(a.value,{asKey:"maximumSAPPeriod",parser:U,dashName:"maximumSAPPeriod"});break;case"mimeType":t.mimeType=a.value;break;case"profiles":t.profiles=a.value;break;case"qualityRanking":n(a.value,{asKey:"qualityRanking",parser:N,dashName:"qualityRanking"});break;case"segmentProfiles":t.segmentProfiles=a.value;break;case"width":n(a.value,{asKey:"width",parser:N,dashName:"width"})}}return void 0===t.bitrate&&r.push(new H("No bitrate found on a Representation")),[t,r]}(e),a=i[0],o=i[1];return[{children:r,attributes:a},n.concat(o)]}function ae(e){var t=function(e){for(var t={baseURLs:[],representations:[]},r=[],n=[],i=0;i<e.length;i++)if(e[i].nodeType===Node.ELEMENT_NODE){var a=e[i];switch(a.nodeName){case"Accessibility":t.accessibility=W(a);break;case"BaseURL":var o=G(a),s=o[0],l=o[1];void 0!==s&&t.baseURLs.push(s),l.length>0&&(n=n.concat(l));break;case"ContentComponent":t.contentComponent=Z(a);break;case"EssentialProperty":null==t.essentialProperties?t.essentialProperties=[W(a)]:t.essentialProperties.push(W(a));break;case"Representation":var u=ie(a),c=u[0],d=u[1];t.representations.push(c),d.length>0&&(n=n.concat(d));break;case"Role":null==t.roles?t.roles=[W(a)]:t.roles.push(W(a));break;case"SupplementalProperty":null==t.supplementalProperties?t.supplementalProperties=[W(a)]:t.supplementalProperties.push(W(a));break;case"SegmentBase":var f=Q(a),p=f[0],h=f[1];t.segmentBase=p,h.length>0&&(n=n.concat(h));break;case"SegmentList":var g=te(a),m=g[0],v=g[1];t.segmentList=m,v.length>0&&(n=n.concat(v));break;case"SegmentTemplate":var y=ne(a),b=y[0],k=y[1];t.segmentTemplate=b,k.length>0&&(n=n.concat(k));break;case"ContentProtection":var _=X(a),E=_[0],w=_[1];w.length>0&&(n=n.concat(w)),void 0!==E&&r.push(E)}}return r.length>0&&(t.contentProtections=r),[t,n]}(e.childNodes),r=t[0],n=t[1],i=function(e){for(var t={},r=[],n=K(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"id":t.id=a.value;break;case"group":n(a.value,{asKey:"group",parser:N,dashName:"group"});break;case"lang":t.language=a.value;break;case"contentType":t.contentType=a.value;break;case"par":t.par=a.value;break;case"minBandwidth":n(a.value,{asKey:"minBitrate",parser:N,dashName:"minBandwidth"});break;case"maxBandwidth":n(a.value,{asKey:"maxBitrate",parser:N,dashName:"maxBandwidth"});break;case"minWidth":n(a.value,{asKey:"minWidth",parser:N,dashName:"minWidth"});break;case"maxWidth":n(a.value,{asKey:"maxWidth",parser:N,dashName:"maxWidth"});break;case"minHeight":n(a.value,{asKey:"minHeight",parser:N,dashName:"minHeight"});break;case"maxHeight":n(a.value,{asKey:"maxHeight",parser:N,dashName:"maxHeight"});break;case"minFrameRate":t.minFrameRate=a.value;break;case"maxFrameRate":t.maxFrameRate=a.value;break;case"selectionPriority":n(a.value,{asKey:"selectionPriority",parser:N,dashName:"selectionPriority"});break;case"segmentAlignment":n(a.value,{asKey:"segmentAlignment",parser:B,dashName:"segmentAlignment"});break;case"subsegmentAlignment":n(a.value,{asKey:"subsegmentAlignment",parser:B,dashName:"subsegmentAlignment"});break;case"bitstreamSwitching":n(a.value,{asKey:"bitstreamSwitching",parser:L,dashName:"bitstreamSwitching"});break;case"audioSamplingRate":t.audioSamplingRate=a.value;break;case"codecs":t.codecs=a.value;break;case"codingDependency":n(a.value,{asKey:"codingDependency",parser:L,dashName:"codingDependency"});break;case"frameRate":t.frameRate=a.value;break;case"height":n(a.value,{asKey:"height",parser:N,dashName:"height"});break;case"maxPlayoutRate":n(a.value,{asKey:"maxPlayoutRate",parser:U,dashName:"maxPlayoutRate"});break;case"maximumSAPPeriod":n(a.value,{asKey:"maximumSAPPeriod",parser:U,dashName:"maximumSAPPeriod"});break;case"mimeType":t.mimeType=a.value;break;case"profiles":t.profiles=a.value;break;case"segmentProfiles":t.segmentProfiles=a.value;break;case"width":n(a.value,{asKey:"width",parser:N,dashName:"width"})}}return[t,r]}(e),a=i[0],o=i[1];return[{children:r,attributes:a},n.concat(o)]}var oe=function(e){for(var t,r=[],n={timescale:1},i=[],a=K(n,i),o=0;o<e.attributes.length;o++){var s=e.attributes[o];switch(s.name){case"schemeIdUri":n.schemeId=s.value;break;case"timescale":a(s.value,{asKey:"timescale",parser:N,dashName:"timescale"});break;case"value":n.value=s.value}}for(var l=0;l<e.childNodes.length;l++){var u=e.childNodes[l],c={id:void 0,eventPresentationTime:0,duration:void 0,timescale:n.timescale,data:{type:"dash-event-stream",value:{schemeIdUri:null!==(t=n.schemeId)&&void 0!==t?t:"",timescale:n.timescale,element:u}}},d=K(c,i);if("Event"===u.nodeName&&u.nodeType===Node.ELEMENT_NODE){for(var f=u.attributes,p=0;p<f.length;p++){var h=f[p];switch(h.name){case"presentationTime":d(h.value,{asKey:"eventPresentationTime",parser:N,dashName:"presentationTime"});break;case"duration":d(h.value,{asKey:"duration",parser:N,dashName:"duration"});break;case"id":c.id=h.value}}r.push(c)}}return[r,i]};function se(e){var t=function(e){for(var t,r=[],n=[],i=[],a=[],o=0;o<e.length;o++)if(e[o].nodeType===Node.ELEMENT_NODE){var s=e[o];switch(s.nodeName){case"BaseURL":var l=G(s),u=l[0],c=l[1];void 0!==u&&r.push(u),i=i.concat(c);break;case"AdaptationSet":var d=ae(s),f=d[0],p=d[1];n.push(f),i=i.concat(p);break;case"EventStream":var h=oe(s),g=h[0],m=h[1];a.push.apply(a,g),i=i.concat(m);break;case"SegmentTemplate":var v=ne(s),y=v[0],b=v[1];t=y,b.length>0&&(i=i.concat(b))}}return[{baseURLs:r,adaptations:n,streamEvents:a,segmentTemplate:t},i]}(e.childNodes),r=t[0],n=t[1],i=function(e){for(var t={},r=[],n=K(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"id":t.id=a.value;break;case"start":n(a.value,{asKey:"start",parser:z,dashName:"start"});break;case"duration":n(a.value,{asKey:"duration",parser:z,dashName:"duration"});break;case"bitstreamSwitching":n(a.value,{asKey:"bitstreamSwitching",parser:L,dashName:"bitstreamSwitching"});break;case"xlink:href":t.xlinkHref=a.value;break;case"xlink:actuate":t.xlinkActuate=a.value}}return[t,r]}(e),a=i[0],o=i[1];return[{children:r,attributes:a},n.concat(o)]}function le(e){var t=function(e){for(var t=[],r=[],n=[],i=[],a=[],o=0;o<e.length;o++)if(e[o].nodeType===Node.ELEMENT_NODE){var s=e[o];switch(s.nodeName){case"BaseURL":var l=G(s),u=l[0],c=l[1];void 0!==u&&t.push(u),a=a.concat(c);break;case"Location":r.push(null===s.textContent?"":s.textContent);break;case"Period":var d=se(s),f=d[0],p=d[1];n.push(f),a=a.concat(p);break;case"UTCTiming":var h=W(s);i.push(h)}}return[{baseURLs:t,locations:r,periods:n,utcTimings:i},a]}(e.childNodes),r=t[0],n=t[1],i=function(e){for(var t={},r=[],n=K(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"id":t.id=a.value;break;case"profiles":t.profiles=a.value;break;case"type":t.type=a.value;break;case"availabilityStartTime":n(a.value,{asKey:"availabilityStartTime",parser:F,dashName:"availabilityStartTime"});break;case"availabilityEndTime":n(a.value,{asKey:"availabilityEndTime",parser:F,dashName:"availabilityEndTime"});break;case"publishTime":n(a.value,{asKey:"publishTime",parser:F,dashName:"publishTime"});break;case"mediaPresentationDuration":n(a.value,{asKey:"duration",parser:z,dashName:"mediaPresentationDuration"});break;case"minimumUpdatePeriod":n(a.value,{asKey:"minimumUpdatePeriod",parser:z,dashName:"minimumUpdatePeriod"});break;case"minBufferTime":n(a.value,{asKey:"minBufferTime",parser:z,dashName:"minBufferTime"});break;case"timeShiftBufferDepth":n(a.value,{asKey:"timeShiftBufferDepth",parser:z,dashName:"timeShiftBufferDepth"});break;case"suggestedPresentationDelay":n(a.value,{asKey:"suggestedPresentationDelay",parser:z,dashName:"suggestedPresentationDelay"});break;case"maxSegmentDuration":n(a.value,{asKey:"maxSegmentDuration",parser:z,dashName:"maxSegmentDuration"});break;case"maxSubsegmentDuration":n(a.value,{asKey:"maxSubsegmentDuration",parser:z,dashName:"maxSubsegmentDuration"})}}return[t,r]}(e),a=i[0],o=i[1];return[{children:r,attributes:a},n.concat(o)]}var ue=r(9592),ce=r(908),de=r(1679),fe=function(){function e(e){this._isDynamic=e.isDynamic,this._timeShiftBufferDepth=e.isDynamic&&void 0!==e.timeShiftBufferDepth?e.timeShiftBufferDepth:null}var t=e.prototype;return t.setLastPosition=function(e,t){this._lastPosition=e,this._positionTime=t},t.lastPositionIsKnown=function(){return this._isDynamic?null!=this._positionTime&&null!=this._lastPosition:null!=this._lastPosition},t.estimateMinimumBound=function(){if(!this._isDynamic||null===this._timeShiftBufferDepth)return 0;var e=this.estimateMaximumBound();return void 0!==e?e-this._timeShiftBufferDepth:void 0},t.estimateMaximumBound=function(){return this._isDynamic&&null!=this._positionTime&&null!=this._lastPosition?Math.max(this._lastPosition-this._positionTime+performance.now()/1e3,0):this._lastPosition},e}(),pe=r(7714),he=["audio","video","text","image"],ge=["subtitle","caption"];function me(e,t,r,n){function i(e,t){var r=e.split("/")[0];return(0,pe.Z)(he,r)?r:"application/bif"===e?"image":"application/ttml+xml"===e||"application/mp4"===e&&null!=t&&null!=(0,y.Z)(t,(function(e){return"urn:mpeg:dash:role:2011"===e.schemeIdUri&&(0,pe.Z)(ge,e.value)}))?"text":void 0}function a(e){switch(e.substring(0,3)){case"avc":case"hev":case"hvc":case"vp8":case"vp9":case"av1":return"video";case"vtt":return"text";case"bif":return"image"}switch(e.substring(0,4)){case"mp4a":return"audio";case"wvtt":case"stpp":return"text"}}if(null!==t){var o=i(t,n);if(void 0!==o)return o}if(null!==r){var s=a(r);if(void 0!==s)return s}for(var l=0;l<e.length;l++){var u=e[l].attributes,c=u.mimeType,d=u.codecs;if(void 0!==c){var f=i(c,n);if(void 0!==f)return f}if(void 0!==d){var p=a(d);if(void 0!==p)return p}}}var ve=r(3911);function ye(e){var t,r=e.initialization;return{id:"init",isInit:!0,time:0,end:0,duration:0,timescale:1,range:null!=r?r.range:void 0,indexRange:e.indexRange,mediaURLs:null!==(t=null===r||void 0===r?void 0:r.mediaURLs)&&void 0!==t?t:null,timestampOffset:-e.indexTimeOffset/e.timescale}}function be(e){return function(t,r,n){var i=(0,R.Z)(n)?parseInt(n,10):1;return function(e,t){var r=e.toString();return r.length>=t?r:(new Array(t+1).join("0")+r).slice(-t)}(String(e),i)}}function ke(e,t,r,n){return 0===e.length?void 0!==t?[_e(t,r,n)]:null:e.map((function(e){return _e((0,b.Z)(e,t),r,n)}))}function _e(e,t,r){return-1===e.indexOf("$")?e:e.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,String(t)).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,be(void 0===r?0:r))}function Ee(e,t){return function(r){return-1===r.indexOf("$")?r:r.replace(/\$\$/g,"$").replace(/\$Number(|\%0(\d+)d)\$/g,(function(e,r,n){if(void 0===t)throw new Error("Segment number not defined in a $Number$ scheme");return be(t)(e,r,n)})).replace(/\$Time(|\%0(\d+)d)\$/g,(function(t,r,n){if(void 0===e)throw new Error("Segment time not defined in a $Time$ scheme");return be(e)(t,r,n)}))}}function we(e,t,r){var n=r-e;return n>0?Math.floor(n/t):0}function Se(e,t,r,n){for(var i=(0,ve.gT)(t,e),a=(0,ve.gT)(t+r,e),o=e.timeline,s=e.timescale,l=e.mediaURLs,u=e.startNumber,c=null!=u?u:void 0,d=[],f=o.length,p=o.length>0&&null!=o[0].duration?o[0].duration:0,h=0;h<f;h++){var g=o[h],m=g.duration,v=g.start,y=g.range;p=Math.max(p,m);for(var b=(0,ve.KF)(g,o[h+1],n),k=we(v,m,i),_=v+k*m;_<a&&k<=b;){var E=null!=c?c+k:void 0,w=null===l?null:l.map(Ee(_,E)),S=_-e.indexTimeOffset,T={id:String(_),time:S/s,end:(S+m)/s,duration:m/s,isInit:!1,range:y,timescale:1,mediaURLs:w,number:E,timestampOffset:-e.indexTimeOffset/s};d.push(T),_=v+ ++k*m}if(_>=a)return d;null!=c&&(c+=b+1)}return d}function Te(e,t){if(t.timescale!==e.timescale){var r=e.timescale;e.timeline.push({start:t.time/t.timescale*r,duration:t.duration/t.timescale*r,repeatCount:void 0===t.count?0:t.count,range:t.range})}else e.timeline.push({start:t.time,duration:t.duration,repeatCount:void 0===t.count?0:t.count,range:t.range});return!0}var xe=function(){function e(e,t){var r,n,i=t.periodStart,a=t.periodEnd,o=t.representationBaseURLs,s=t.representationId,l=t.representationBitrate,u=null!==(r=e.timescale)&&void 0!==r?r:1,c=(null!=e.presentationTimeOffset?e.presentationTimeOffset:0)-i*u,d=ke(o,void 0!==e.initialization?e.initialization.media:void 0,s,l),f=void 0!==e.initialization?e.initialization.range:void 0!==e.indexRange?[0,e.indexRange[0]-1]:void 0;this._index={indexRange:e.indexRange,indexTimeOffset:c,initialization:{mediaURLs:d,range:f},mediaURLs:ke(o,e.media,s,l),startNumber:e.startNumber,timeline:null!==(n=e.timeline)&&void 0!==n?n:[],timescale:u},this._scaledPeriodEnd=null==a?void 0:(0,ve.gT)(a,this._index),this._isInitialized=this._index.timeline.length>0}var t=e.prototype;return t.getInitSegment=function(){return ye(this._index)},t.getSegments=function(e,t){return Se(this._index,e,t,this._scaledPeriodEnd)},t.shouldRefresh=function(){return!1},t.getFirstPosition=function(){var e=this._index;return 0===e.timeline.length?null:(0,ve.zG)(e.timeline[0].start,e)},t.getLastPosition=function(){var e=this._index.timeline;if(0===e.length)return null;var t=e[e.length-1],r=(0,ve.jH)(t,null,this._scaledPeriodEnd);return(0,ve.zG)(r,this._index)},t.isSegmentStillAvailable=function(){return!0},t.checkDiscontinuity=function(){return null},t.areSegmentsChronologicallyGenerated=function(){return!0},t._addSegments=function(e){for(var t=0;t<e.length;t++)Te(this._index,e[t]);!this._isInitialized&&this._index.timeline.length>0&&(this._isInitialized=!0)},t.canBeOutOfSyncError=function(){return!1},t.isFinished=function(){return!0},t.isInitialized=function(){return this._isInitialized},t._replace=function(e){this._index=e._index},t._update=function(){v.Z.error("Base RepresentationIndex: Cannot update a SegmentList")},e}(),Oe=function(){function e(e,t){var r,n=t.periodStart,i=t.representationBaseURLs,a=t.representationId,o=t.representationBitrate;this._periodStart=n;var s=null!=e.presentationTimeOffset?e.presentationTimeOffset:0,l=null!==(r=e.timescale)&&void 0!==r?r:1,u=s-n*l,c=e.list.map((function(e){return{mediaURLs:ke(i,e.media,a,o),mediaRange:e.mediaRange}}));this._index={list:c,timescale:l,duration:e.duration,indexTimeOffset:u,indexRange:e.indexRange,initialization:null==e.initialization?void 0:{mediaURLs:ke(i,e.initialization.media,a,o),range:e.initialization.range}}}var t=e.prototype;return t.getInitSegment=function(){return ye(this._index)},t.getSegments=function(e,t){for(var r=this._index,n=r.duration,i=r.list,a=r.timescale,o=n/a,s=e-this._periodStart,l=(0,ve.PZ)(s,t,a),u=l[0],c=l[1],d=Math.min(i.length-1,Math.floor(c/n)),f=[],p=Math.floor(u/n);p<=d;){var h=i[p].mediaRange,g=i[p].mediaURLs,m=p*o+this._periodStart,v={id:String(p),time:m,isInit:!1,range:h,duration:o,timescale:1,end:m+o,mediaURLs:g,timestampOffset:-r.indexTimeOffset/a};f.push(v),p++}return f},t.shouldRefresh=function(e,t){var r=this._index,n=r.timescale,i=r.duration,a=r.list,o=t*n,s=Math.floor(o/i);return s<0||s>=a.length},t.getFirstPosition=function(){return this._periodStart},t.getLastPosition=function(){var e=this._index,t=e.duration;return e.list.length*t/e.timescale+this._periodStart},t.isSegmentStillAvailable=function(){return!0},t.checkDiscontinuity=function(){return null},t.areSegmentsChronologicallyGenerated=function(){return!0},t.canBeOutOfSyncError=function(){return!1},t.isFinished=function(){return!0},t.isInitialized=function(){return!0},t._replace=function(e){this._index=e._index},t._update=function(){v.Z.error("List RepresentationIndex: Cannot update a SegmentList")},e}(),Pe=r(9362),Ae=r(8232),Ce=r(1091),Me=r(5505);function Ie(e,t,r,n){var i=e.start,a=e.duration,o=e.repeatCount;return null==i&&(null==t?i=n:null!=t.duration&&(i=t.start+t.duration*(t.repeatCount+1))),null!=a&&!isNaN(a)||null==r||null==r.start||isNaN(r.start)||null==i||isNaN(i)||(a=r.start-i),null==i||isNaN(i)||null==a||isNaN(a)||null!=o&&isNaN(o)?(v.Z.warn('DASH: A "S" Element could not have been parsed.'),null):{start:i,duration:a,repeatCount:void 0===o?0:o}}function Re(e){for(var t={},r=0;r<e.attributes.length;r++){var n=e.attributes[r];switch(n.name){case"t":var i=parseInt(n.value,10);isNaN(i)?v.Z.warn('DASH: invalid t ("'+n.value+'")'):t.start=i;break;case"d":var a=parseInt(n.value,10);isNaN(a)?v.Z.warn('DASH: invalid d ("'+n.value+'")'):t.duration=a;break;case"r":var o=parseInt(n.value,10);isNaN(o)?v.Z.warn('DASH: invalid r ("'+n.value+'")'):t.repeatCount=o}}return t}function De(e,t){for(var r=[],n=0;n<e.length;n++)r.push(Re(e[n]));for(var i=[],a=0;a<r.length;a++){var o=Ie(r[a],void 0===i[i.length-1]?null:i[i.length-1],void 0===r[a+1]?null:r[a+1],t);null!=o&&i.push(o)}return i}function je(e,t,r){var n,i=function(e,t){if(0===e.length||0===t.length)return null;var r=e[0].start,n=t[0].getAttribute("t"),i=null===n?null:parseInt(n,10);if(null===i||Number.isNaN(i))return null;if(r===i)return{prevSegmentsIdx:0,newElementsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(r<i)for(var a=e[0],o=0;;){if(a.repeatCount>0){var s=i-a.start;if(s%a.duration===0&&s/a.duration<=a.repeatCount)return{repeatNumberInPrevSegments:s/a.duration,prevSegmentsIdx:o,newElementsIdx:0,repeatNumberInNewElements:0}}if(++o>=e.length)return null;if((a=e[o]).start===i)return{prevSegmentsIdx:o,newElementsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(a.start>i)return null}else for(var l=0,u=t[0],c=i;;){var d=u.getAttribute("d"),f=null===d?null:parseInt(d,10);if(null===f||Number.isNaN(f))return null;var p=u.getAttribute("r"),h=null===p?null:parseInt(p,10);if(null!==h){if(Number.isNaN(h)||h<0)return null;if(h>0){var g=r-c;if(g%f===0&&g/f<=h)return{repeatNumberInPrevSegments:0,repeatNumberInNewElements:g/f,prevSegmentsIdx:0,newElementsIdx:l}}c+=f*(h+1)}else c+=f;if(++l>=t.length)return null;var m=(u=t[l]).getAttribute("t"),v=null===m?null:parseInt(m,10);if(null!==v){if(Number.isNaN(v))return null;c=v}if(c===r)return{newElementsIdx:l,prevSegmentsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(c>i)return null}}(t,e);if(null===i)return v.Z.warn('DASH: Cannot perform "based" update. Common segment not found.'),De(e,r);var a=i.prevSegmentsIdx,o=i.newElementsIdx,s=i.repeatNumberInPrevSegments,l=i.repeatNumberInNewElements,u=t.length-a+o-1;if(u>=e.length)return v.Z.info('DASH: Cannot perform "based" update. New timeline too short'),De(e,r);var c=t.slice(a);if(s>0){var d=c[0];d.start+=d.duration*s,c[0].repeatCount-=s}if(l>0&&0!==o)return v.Z.info('DASH: Cannot perform "based" update. The new timeline has a different form.'),De(e,r);var f=c[c.length-1],p=Re(e[u]),h=(null!==(n=p.repeatCount)&&void 0!==n?n:0)-l;if(p.duration!==f.duration||f.repeatCount>h)return v.Z.info('DASH: Cannot perform "based" update. The new timeline has a different form at the beginning.'),De(e,r);void 0!==p.repeatCount&&p.repeatCount>f.repeatCount&&(f.repeatCount=p.repeatCount);for(var g=[],m=[],y=u+1;y<e.length;y++)m.push(Re(e[y]));for(var b=0;b<m.length;b++){var k=Ie(m[b],void 0===g[g.length-1]?f:g[g.length-1],void 0===m[b+1]?null:m[b+1],r);null!==k&&g.push(k)}return c.concat(g)}var Le=m.Z.MIN_DASH_S_ELEMENTS_TO_PARSE_UNSAFELY,Ne=function(){function e(t,r,n){var i,a=n.manifestBoundsCalculator,o=n.isDynamic,s=n.representationBaseURLs,l=n.representationId,u=n.representationBitrate,c=n.periodStart,d=n.periodEnd,f=null!==(i=t.timescale)&&void 0!==i?i:1,p=(null!=t.presentationTimeOffset?t.presentationTimeOffset:0)-c*f;this._manifestBoundsCalculator=a,this._lastUpdate=null==n.receivedTime?performance.now():n.receivedTime,this._unsafelyBaseOnPreviousIndex=null,null!==n.unsafelyBaseOnPreviousRepresentation&&n.unsafelyBaseOnPreviousRepresentation.index instanceof e&&(n.unsafelyBaseOnPreviousRepresentation.index._unsafelyBaseOnPreviousIndex=null,this._unsafelyBaseOnPreviousIndex=n.unsafelyBaseOnPreviousRepresentation.index),this._isDynamic=o,this._parseTimeline=r,this._index={indexRange:t.indexRange,indexTimeOffset:p,initialization:null==t.initialization?void 0:{mediaURLs:ke(s,t.initialization.media,l,u),range:t.initialization.range},mediaURLs:ke(s,t.media,l,u),startNumber:t.startNumber,timeline:null,timescale:f},this._scaledPeriodStart=(0,ve.gT)(c,this._index),this._scaledPeriodEnd=null==d?void 0:(0,ve.gT)(d,this._index)}var t=e.prototype;return t.getInitSegment=function(){return ye(this._index)},t.getSegments=function(e,t){this._refreshTimeline(),null===this._index.timeline&&(this._index.timeline=this._getTimeline());var r=this._index;return Se({mediaURLs:r.mediaURLs,startNumber:r.startNumber,timeline:r.timeline,timescale:r.timescale,indexTimeOffset:r.indexTimeOffset},e,t,this._scaledPeriodEnd)},t.shouldRefresh=function(){return!1},t.getFirstPosition=function(){this._refreshTimeline(),null===this._index.timeline&&(this._index.timeline=this._getTimeline());var e=this._index.timeline;return 0===e.length?null:(0,ve.zG)(e[0].start,this._index)},t.getLastPosition=function(){this._refreshTimeline(),null===this._index.timeline&&(this._index.timeline=this._getTimeline());var t=e.getIndexEnd(this._index.timeline,this._scaledPeriodStart);return null===t?null:(0,ve.zG)(t,this._index)},t.isSegmentStillAvailable=function(e){if(e.isInit)return!0;this._refreshTimeline(),null===this._index.timeline&&(this._index.timeline=this._getTimeline());var t=this._index,r=t.timeline,n=t.timescale,i=t.indexTimeOffset;return(0,Ce.Z)(e,r,n,i)},t.checkDiscontinuity=function(e){this._refreshTimeline();var t=this._index.timeline;return null===t&&(t=this._getTimeline(),this._index.timeline=t),(0,ve._j)({timeline:t,timescale:this._index.timescale,indexTimeOffset:this._index.indexTimeOffset},e,this._scaledPeriodEnd)},t.canBeOutOfSyncError=function(e){return!!this._isDynamic&&e instanceof Pe.Z&&e.isHttpError(404)},t.areSegmentsChronologicallyGenerated=function(){return!0},t._replace=function(e){this._parseTimeline=e._parseTimeline,this._index=e._index,this._isDynamic=e._isDynamic,this._scaledPeriodStart=e._scaledPeriodStart,this._scaledPeriodEnd=e._scaledPeriodEnd,this._lastUpdate=e._lastUpdate,this._manifestBoundsCalculator=e._manifestBoundsCalculator},t._update=function(e){null===this._index.timeline&&(this._index.timeline=this._getTimeline()),null===e._index.timeline&&(e._index.timeline=e._getTimeline()),(0,Me.Z)(this._index.timeline,e._index.timeline),this._isDynamic=e._isDynamic,this._scaledPeriodStart=e._scaledPeriodStart,this._scaledPeriodEnd=e._scaledPeriodEnd,this._lastUpdate=e._lastUpdate},t.isFinished=function(){if(!this._isDynamic)return!0;null===this._index.timeline&&(this._index.timeline=this._getTimeline());var e=this._index.timeline;if(void 0===this._scaledPeriodEnd||0===e.length)return!1;var t=e[e.length-1];return(0,ve.jH)(t,null,this._scaledPeriodEnd)+1/60>=this._scaledPeriodEnd},t.isInitialized=function(){return!0},t._refreshTimeline=function(){null===this._index.timeline&&(this._index.timeline=this._getTimeline());var e=this._manifestBoundsCalculator.estimateMinimumBound();if(null!=e){var t=(0,ve.gT)(e,this._index);(0,Ae.Z)(this._index.timeline,t)}},e.getIndexEnd=function(e,t){return e.length<=0?null:(0,ve.jH)(e[e.length-1],null,t)},t._getTimeline=function(){if(null===this._parseTimeline)return null!==this._index.timeline?this._index.timeline:(v.Z.error("DASH: Timeline already lazily parsed."),[]);var e,t=this._parseTimeline();return this._parseTimeline=null,null===this._unsafelyBaseOnPreviousIndex||t.length<Le?De(t,this._scaledPeriodStart):(null===this._unsafelyBaseOnPreviousIndex._index.timeline?(e=this._unsafelyBaseOnPreviousIndex._getTimeline(),this._unsafelyBaseOnPreviousIndex._index.timeline=e):e=this._unsafelyBaseOnPreviousIndex._index.timeline,this._unsafelyBaseOnPreviousIndex=null,je(t,e,this._scaledPeriodStart))},e}(),Ue=m.Z.MINIMUM_SEGMENT_SIZE,Be=function(){function e(e,t){var r,n=t.aggressiveMode,i=t.availabilityTimeOffset,a=t.manifestBoundsCalculator,o=t.isDynamic,s=t.periodEnd,l=t.periodStart,u=t.representationBaseURLs,c=t.representationId,d=t.representationBitrate,f=null!==(r=e.timescale)&&void 0!==r?r:1;this._availabilityTimeOffset=i,this._manifestBoundsCalculator=a,this._aggressiveMode=n;var p=null!=e.presentationTimeOffset?e.presentationTimeOffset:0,h=p-l*f;if(void 0===e.duration)throw new Error("Invalid SegmentTemplate: no duration");this._index={duration:e.duration,timescale:f,indexRange:e.indexRange,indexTimeOffset:h,initialization:null==e.initialization?void 0:{mediaURLs:ke(u,e.initialization.media,c,d),range:e.initialization.range},mediaURLs:ke(u,e.media,c,d),presentationTimeOffset:p,startNumber:e.startNumber},this._isDynamic=o,this._periodStart=l,this._relativePeriodEnd=null==s?void 0:s-l}var t=e.prototype;return t.getInitSegment=function(){return ye(this._index)},t.getSegments=function(e,t){var r=this._index,n=r.duration,i=r.startNumber,a=r.timescale,o=r.mediaURLs,s=this._periodStart*a,l=null==this._relativePeriodEnd?void 0:this._relativePeriodEnd*a,u=e*a-s,c=(e+t)*a-s,d=this._getFirstSegmentStart(),f=this._getLastSegmentStart();if(null==d||null==f)return[];var p=Math.max(d,u),h=Math.min(f,c);if(h+n<=p)return[];for(var g=[],m=null==i?1:i,v=Math.floor(p/n),y=v*n;y<=h;y+=n){var b=v+m,k=null!=l&&y+n>l?l-y:n,_=y+s,E=y+this._index.presentationTimeOffset,w=null===o?null:o.map(Ee(E,b)),S={id:String(b),number:b,time:_/a,end:(_+k)/a,duration:k/a,timescale:1,isInit:!1,scaledDuration:k/a,mediaURLs:w,timestampOffset:-r.indexTimeOffset/a};g.push(S),v++}return g},t.getFirstPosition=function(){var e=this._getFirstSegmentStart();return null==e?e:e/this._index.timescale+this._periodStart},t.getLastPosition=function(){var e=this._getLastSegmentStart();return null==e?e:(e+this._index.duration)/this._index.timescale+this._periodStart},t.shouldRefresh=function(){return!1},t.checkDiscontinuity=function(){return null},t.areSegmentsChronologicallyGenerated=function(){return!0},t.isSegmentStillAvailable=function(e){if(e.isInit)return!0;var t=this.getSegments(e.time,.1);return 0!==t.length&&t[0].time===e.time&&t[0].end===e.end&&t[0].number===e.number},t.canBeOutOfSyncError=function(){return!1},t.isFinished=function(){if(!this._isDynamic)return!0;if(null==this._relativePeriodEnd)return!1;var e=this._index.timescale,t=this._getLastSegmentStart();return null!=t&&t+this._index.duration+1/60*e>=this._relativePeriodEnd*e},t.isInitialized=function(){return!0},t._replace=function(e){this._index=e._index,this._aggressiveMode=e._aggressiveMode,this._isDynamic=e._isDynamic,this._periodStart=e._periodStart,this._relativePeriodEnd=e._relativePeriodEnd,this._manifestBoundsCalculator=e._manifestBoundsCalculator},t._update=function(e){this._replace(e)},t._getFirstSegmentStart=function(){if(!this._isDynamic)return 0;if(0===this._relativePeriodEnd||null==this._relativePeriodEnd){var e=this._manifestBoundsCalculator.estimateMaximumBound();if(void 0!==e&&e<this._periodStart)return null}var t=this._index,r=t.duration,n=t.timescale,i=this._manifestBoundsCalculator.estimateMinimumBound();if(void 0!==i){var a=i>this._periodStart?(i-this._periodStart)*n:0;return Math.floor(a/r)*r}},t._getLastSegmentStart=function(){var e=this._index,t=e.duration,r=e.timescale;if(this._isDynamic){var n=this._manifestBoundsCalculator.estimateMaximumBound();if(void 0===n)return;var i=this._aggressiveMode?t/r:0;if(null!=this._relativePeriodEnd&&this._relativePeriodEnd<n+i-this._periodStart){var a=this._relativePeriodEnd*r;return a<t?null:(Math.floor(a/t)-1)*t}var o=(n-this._periodStart)*r;if(o<0)return null;var s=((void 0!==this._availabilityTimeOffset?this._availabilityTimeOffset:0)+i)*r,l=Math.floor((o+s)/t);return l<=0?null:(l-1)*t}var u=(void 0===this._relativePeriodEnd?0:this._relativePeriodEnd)*r,c=Math.ceil(u/t)-1,d=c*t;return u-d>Ue*r||0===c?d:(c-1)*t},e}();function Fe(e,t){var r=[];if(0===t.length)return e;if(0===e.length){for(var n=0;n<t.length;n++)(0,pe.Z)(r,t[n].value)||r.push(t[n].value);return r}for(var i=0;i<e.length;i++)for(var a=e[i],o=0;o<t.length;o++){var s=(0,b.Z)(a,t[o].value);(0,pe.Z)(r,s)||r.push(s)}return r}function ze(e,t,r){for(var n,i,a=[],o=function(o){for(var s=e[o],l=null!=s.attributes.id?s.attributes.id:String(s.attributes.bitrate)+(null!=s.attributes.height?"-"+s.attributes.height:"")+(null!=s.attributes.width?"-"+s.attributes.width:"")+(null!=s.attributes.mimeType?"-"+s.attributes.mimeType:"")+(null!=s.attributes.codecs?"-"+s.attributes.codecs:"");a.some((function(e){return e.id===l}));)l+="-dup";var u=null!==(i=null===(n=r.unsafelyBaseOnPreviousAdaptation)||void 0===n?void 0:n.getRepresentation(l))&&void 0!==i?i:null,c=function(e,t){var r,n,i,a=Fe(t.baseURLs,e.children.baseURLs),o=t.aggressiveMode,s=t.availabilityTimeOffset,l=t.manifestBoundsCalculator,u=t.isDynamic,c=t.end,d=t.start,f=t.receivedTime,p=t.timeShiftBufferDepth,h={aggressiveMode:o,availabilityTimeOffset:s,unsafelyBaseOnPreviousRepresentation:t.unsafelyBaseOnPreviousRepresentation,manifestBoundsCalculator:l,isDynamic:u,periodEnd:c,periodStart:d,receivedTime:f,representationBaseURLs:a,representationBitrate:e.attributes.bitrate,representationId:e.attributes.id,timeShiftBufferDepth:p};if(void 0!==e.children.segmentBase){var g=e.children.segmentBase;h.availabilityTimeOffset=t.availabilityTimeOffset+k(e.children.baseURLs)+(null!==(r=g.availabilityTimeOffset)&&void 0!==r?r:0),i=new xe(g,h)}else if(void 0!==e.children.segmentList){var m=e.children.segmentList;i=new Oe(m,h)}else if(void 0!==e.children.segmentTemplate||t.parentSegmentTemplates.length>0){var v=t.parentSegmentTemplates.slice(),y=e.children.segmentTemplate;void 0!==y&&v.push(y);var b=J.Z.apply(void 0,[{}].concat(v));h.availabilityTimeOffset=t.availabilityTimeOffset+k(e.children.baseURLs)+(null!==(n=b.availabilityTimeOffset)&&void 0!==n?n:0);var _=b.timelineParser;i=void 0!==_?new Ne(b,_,h):new Be(b,h)}else{var E=t.adaptation.children;if(void 0!==E.segmentBase){var w=E.segmentBase;i=new xe(w,h)}else if(void 0!==E.segmentList){var S=E.segmentList;i=new Oe(S,h)}else i=new Be({duration:Number.MAX_VALUE,timescale:1,startNumber:0,initialization:{media:""},media:""},h)}return i}(s,(0,J.Z)({},r,{unsafelyBaseOnPreviousRepresentation:u,adaptation:t})),d=void 0;null==s.attributes.bitrate?(v.Z.warn("DASH: No usable bitrate found in the Representation."),d=0):d=s.attributes.bitrate;var f={bitrate:d,index:c,id:l},p=void 0;if(null!=s.attributes.codecs?p=s.attributes.codecs:null!=t.attributes.codecs&&(p=t.attributes.codecs),null!=p&&(p="mp4a.40.02"===p?"mp4a.40.2":p,f.codecs=p),null!=s.attributes.frameRate?f.frameRate=s.attributes.frameRate:null!=t.attributes.frameRate&&(f.frameRate=t.attributes.frameRate),null!=s.attributes.height?f.height=s.attributes.height:null!=t.attributes.height&&(f.height=t.attributes.height),null!=s.attributes.mimeType?f.mimeType=s.attributes.mimeType:null!=t.attributes.mimeType&&(f.mimeType=t.attributes.mimeType),null!=s.attributes.width?f.width=s.attributes.width:null!=t.attributes.width&&(f.width=t.attributes.width),null!=t.children.contentProtections){var h=t.children.contentProtections.reduce((function(e,t){var r;if(void 0!==t.attributes.schemeIdUri&&"urn:uuid:"===t.attributes.schemeIdUri.substring(0,9)&&(r=t.attributes.schemeIdUri.substring(9).replace(/-/g,"").toLowerCase()),void 0!==t.attributes.keyId&&t.attributes.keyId.length>0&&e.keyIds.push({keyId:t.attributes.keyId,systemId:r}),void 0!==r)for(var n=t.children.cencPssh,i=0;i<n.length;i++){var a=n[i];void 0===e.initData.cenc&&(e.initData.cenc=[]),e.initData.cenc.push({systemId:r,data:a})}return e}),{keyIds:[],initData:{}});(Object.keys(h.initData).length>0||h.keyIds.length>0)&&(f.contentProtections=h)}a.push(f)},s=0;s<e.length;s++)o(s);return a}function Ve(e){return null!=e&&"urn:tva:metadata:cs:AudioPurposeCS:2007"===e.schemeIdUri&&"1"===e.value}function $e(e){return null!=e&&"urn:tva:metadata:cs:AudioPurposeCS:2007"===e.schemeIdUri&&"2"===e.value}function We(e){return null!=e&&"urn:mpeg:dash:role:2011"===e.schemeIdUri&&"sign"===e.value}function Ke(e,t){if((0,R.Z)(e.attributes.id))return e.attributes.id;var r=t.type;return(0,R.Z)(e.attributes.language)&&(r+="-"+e.attributes.language),!0===t.isClosedCaption&&(r+="-cc"),!0===t.isAudioDescription&&(r+="-ad"),!0===t.isSignInterpreted&&(r+="-si"),(0,R.Z)(e.attributes.contentType)&&(r+="-"+e.attributes.contentType),(0,R.Z)(e.attributes.codecs)&&(r+="-"+e.attributes.codecs),(0,R.Z)(e.attributes.mimeType)&&(r+="-"+e.attributes.mimeType),(0,R.Z)(e.attributes.frameRate)&&(r+="-"+e.attributes.frameRate),r}function He(e){if(null!=e.children.supplementalProperties)for(var t=e.children.supplementalProperties,r=0;r<t.length;r++){var n=t[r];if("urn:mpeg:dash:adaptation-set-switching:2016"===n.schemeIdUri&&null!=n.value)return n.value.split(",").map((function(e){return e.trim()})).filter((function(e){return e}))}return[]}var Ge=(0,ce.Z)();function Ze(e,t){var r,n,i,a=[],o=function(e,t){var r=[];return e.forEach((function(n,i){var a,o;if(null!=n.attributes.start)a=n.attributes.start;else if(0===i)a=t.isDynamic&&null!=t.availabilityStartTime?t.availabilityStartTime:0;else{var s=r[r.length-1];if(null==s||null==s.periodEnd)throw new Error("Missing start time when parsing periods.");a=s.periodEnd}var l=e[i+1];null!=n.attributes.duration?o=n.attributes.duration:i===e.length-1?o=t.duration:null!=l.attributes.start&&(o=l.attributes.start-a);var u=null!=o?a+o:void 0;r.push({periodStart:a,periodDuration:o,periodEnd:u})})),r}(e,t);if(o.length!==e.length)throw new Error("MPD parsing error: the time information are incoherent.");var s=t.isDynamic,l=t.timeShiftBufferDepth,u=new fe({isDynamic:s,timeShiftBufferDepth:l});s||null==t.duration||u.setLastPosition(t.duration);for(var c=function(c){var d=e[c],f=t.xlinkInfos.get(d),p=Fe(t.baseURLs,d.children.baseURLs),h=o[c],g=h.periodStart,m=h.periodDuration,b=h.periodEnd,_=void 0;for(null==d.attributes.id?(v.Z.warn("DASH: No usable id found in the Period. Generating one."),_="gen-dash-period-"+Ge()):_=d.attributes.id;a.some((function(e){return e.id===_}));)_+="-dup";var E=void 0!==f?f.receivedTime:t.receivedTime,w=k(d.children.baseURLs)+t.availabilityTimeOffset,S=null!==(n=null===(r=t.unsafelyBaseOnPreviousManifest)||void 0===r?void 0:r.getPeriod(_))&&void 0!==n?n:null,T={aggressiveMode:t.aggressiveMode,availabilityTimeOffset:w,baseURLs:p,manifestBoundsCalculator:u,end:b,isDynamic:s,receivedTime:E,segmentTemplate:d.children.segmentTemplate,start:g,timeShiftBufferDepth:l,unsafelyBaseOnPreviousPeriod:S},x=function(e,t){var r,n,i,a,o={},s={},l=[],u={};e.sort((function(e,t){var r,n,i=null!==(r=e.attributes.selectionPriority)&&void 0!==r?r:1;return(null!==(n=t.attributes.selectionPriority)&&void 0!==n?n:1)-i}));for(var c=0;c<e.length;c++){var d=e[c],f=d.children,p=f.essentialProperties,h=f.roles;if(!Array.isArray(p)||!p.some((function(e){return"http://dashif.org/guidelines/trickmode"===e.schemeIdUri}))){var g=Array.isArray(h)&&h.some((function(e){return"main"===e.value}))&&h.some((function(e){return"urn:mpeg:dash:role:2011"===e.schemeIdUri})),m=d.children.representations,b=k(d.children.baseURLs)+t.availabilityTimeOffset,_=d.attributes.mimeType,E=d.attributes.codecs,w=me(m,(0,R.Z)(_)?_:null,(0,R.Z)(E)?E:null,null!=f.roles?f.roles:null);if(void 0!==w){var S=d.attributes.id,T=void 0,x=He(d),O=[];void 0!==t.segmentTemplate&&O.push(t.segmentTemplate),void 0!==d.children.segmentTemplate&&O.push(d.children.segmentTemplate);var P={aggressiveMode:t.aggressiveMode,availabilityTimeOffset:b,baseURLs:Fe(t.baseURLs,f.baseURLs),manifestBoundsCalculator:t.manifestBoundsCalculator,end:t.end,isDynamic:t.isDynamic,parentSegmentTemplates:O,receivedTime:t.receivedTime,start:t.start,timeShiftBufferDepth:t.timeShiftBufferDepth,unsafelyBaseOnPreviousAdaptation:null};if("video"===w&&g&&void 0!==o.video&&o.video.length>0&&void 0!==u.video){var A,C=o.video[u.video];P.unsafelyBaseOnPreviousAdaptation=null!==(n=null===(r=t.unsafelyBaseOnPreviousPeriod)||void 0===r?void 0:r.getAdaptation(C.id))&&void 0!==n?n:null;var M=ze(m,d,P);(A=C.representations).push.apply(A,M),T=C.id}else{var I=f.accessibility,D=void 0;void 0!==h&&h.some((function(e){return"dub"===e.value}))&&(D=!0);for(var j=!("text"!==w||null==I||!$e(I))||void 0,L=!("audio"!==w||null==I||!Ve(I))||void 0,N=!("video"!==w||null==I||!We(I))||void 0,U=Ke(d,{isAudioDescription:L,isClosedCaption:j,isSignInterpreted:N,type:w});(0,pe.Z)(l,U);)U+="-dup";T=U,l.push(U),P.unsafelyBaseOnPreviousAdaptation=null!==(a=null===(i=t.unsafelyBaseOnPreviousPeriod)||void 0===i?void 0:i.getAdaptation(U))&&void 0!==a?a:null;var B={id:U,representations:ze(m,d,P),type:w};null!=d.attributes.language&&(B.language=d.attributes.language),null!=j&&(B.closedCaption=j),null!=L&&(B.audioDescription=L),!0===D&&(B.isDub=!0),!0===N&&(B.isSignInterpreted=!0);var F=o[w];if(void 0===F)o[w]=[B],g&&(u[w]=0);else{for(var z=null,V=function(e){var t=x[e],r=s[t];if(null!=r&&r.newID!==T&&(0,pe.Z)(r.adaptationSetSwitchingIDs,S)){var n,i=(0,y.Z)(F,(function(e){return e.id===t}));null!=i&&i.audioDescription===B.audioDescription&&i.closedCaption===B.closedCaption&&i.language===B.language&&(v.Z.info('DASH Parser: merging "switchable" AdaptationSets',S,t),(n=i.representations).push.apply(n,B.representations),z=i)}},$=0;$<x.length;$++)V($);if(g){var W=u[w],K=void 0===W?0:W+1;if(null===z)F.splice(K,0,B),u[w]=K;else{var H=F.indexOf(z);H<0?(F.splice(K,0,B),u[w]=K):(void 0===W||H>W)&&(F.splice(H,1),F.splice(K,0,z),u[w]=K)}}else null===z&&F.push(B)}}null!=S&&null==s[S]&&(s[S]={newID:T,adaptationSetSwitchingIDs:x})}}}return o}(d.children.adaptations,T),O=null===(i=d.children.streamEvents)||void 0===i?void 0:i.map((function(e){var t,r=(null!==(t=e.eventPresentationTime)&&void 0!==t?t:0)/e.timescale+g;return{start:r,end:void 0!==e.duration?r+e.duration/e.timescale:void 0,data:e.data,id:e.id}})),P={id:_,start:g,end:b,duration:m,adaptations:x,streamEvents:O};if(a.unshift(P),!u.lastPositionIsKnown()){var A=function(e){for(var t=null,r=!0,n=(0,de.Z)(e).filter((function(e){return null!=e})),i=(0,ue.Z)(n,(function(e){return e})),a=0;a<i.length;a++)for(var o=i[a].representations,s=0;s<o.length;s++){var l=o[s].index.getLastPosition();null!==l&&(r=!1,"number"===typeof l&&(t=null==t?l:Math.max(t,l)))}return null!=t?t:r?null:void 0}(x);if(s)if("number"===typeof A){var C=performance.now()/1e3;u.setLastPosition(A,C)}else{var M=qe(t,g);if(void 0!==M){var I=M[0],D=M[1];u.setLastPosition(I,D)}}else"number"===typeof A&&u.setLastPosition(A)}},d=e.length-1;d>=0;d--)c(d);if(t.isDynamic&&!u.lastPositionIsKnown()){var f=qe(t,0);if(void 0!==f){var p=f[0],h=f[1];u.setLastPosition(p,h)}}return function(e){if(0===e.length)return[];for(var t=[e[0]],r=1;r<e.length;r++){for(var n=e[r],i=t[t.length-1];null==i.duration||i.start+i.duration>n.start;)v.Z.warn("DASH: Updating overlapping Periods.",i,n),i.duration=n.start-i.start,i.end=n.start,i.duration<=0&&(t.pop(),i=t[t.length-1]);t.push(n)}return t}(a)}function qe(e,t){if(null!=e.clockOffset){var r=e.clockOffset/1e3-e.availabilityStartTime,n=performance.now()/1e3,i=n+r;if(i>=t)return[i,n]}else{var a=Date.now()/1e3;if(a>=t)return v.Z.warn("DASH Parser: no clock synchronization mechanism found. Using the system clock instead."),[a-e.availabilityStartTime,performance.now()/1e3]}}var Xe=m.Z.DASH_FALLBACK_LIFETIME_WHEN_MINIMUM_UPDATE_PERIOD_EQUAL_0;function Ye(e,t){var r=le(e);return function e(t,r,n,i){var a=t.children,o=t.attributes,s=new WeakMap;if(null==r.externalClockOffset){var l="dynamic"===o.type,u=(0,y.Z)(a.utcTimings,(function(e){return"urn:mpeg:dash:utc:direct:2014"===e.schemeIdUri&&null!=e.value})),c=null!=u&&null!=u.value?_(u.value):void 0,d=null==c||isNaN(c)?void 0:c;if(null!=d)r.externalClockOffset=d;else if(l&&!0!==i){var f=function(e){var t=e.children.utcTimings.filter((function(e){return"urn:mpeg:dash:utc:http-iso:2014"===e.schemeIdUri&&void 0!==e.value}));return t.length>0?t[0].value:void 0}(t);if(null!=f&&f.length>0)return{type:"needs-ressources",value:{ressources:[f],continue:function(i){if(1!==i.length)throw new Error("DASH parser: wrong number of loaded ressources.");return d=_(i[0].responseData),r.externalClockOffset=d,e(t,r,n,!0)}}}}}for(var p=[],h=0;h<a.periods.length;h++){var g=a.periods[h].attributes,m=g.xlinkHref,E=g.xlinkActuate;null!=m&&"onLoad"===E&&p.push({index:h,ressource:m})}return 0===p.length?function(e,t,r,n){var i,a,o,s,l,u=e.children,c=e.attributes,d="dynamic"===c.type,f=Fe(void 0===t.url?[]:[(0,b.f)(t.url)],u.baseURLs),p=function(e,t){return"dynamic"!==e.type?0:null==e.availabilityStartTime?null==t?0:t:e.availabilityStartTime}(c,t.referenceDateTime),h=c.timeShiftBufferDepth,g=t.externalClockOffset,m=t.unsafelyBaseOnPreviousManifest,y=k(u.baseURLs),_={aggressiveMode:t.aggressiveMode,availabilityStartTime:p,availabilityTimeOffset:y,baseURLs:f,clockOffset:g,duration:c.duration,isDynamic:d,receivedTime:t.manifestReceivedTime,timeShiftBufferDepth:h,unsafelyBaseOnPreviousManifest:m,xlinkInfos:n},E=Ze(u.periods,_),S=c.duration,x=null;void 0!==c.minimumUpdatePeriod&&c.minimumUpdatePeriod>=0&&(o=0===c.minimumUpdatePeriod?Xe:c.minimumUpdatePeriod);var O=function(e){if(0===e.length)throw new Error("DASH Parser: no period available for a dynamic content");return[T(e),w(e)]}(E),P=O[0],A=O[1],C=performance.now();if(d){var M;if(s=P,x=null!==h&&void 0!==h?h:null,void 0!==A)M=A;else{var I=null!==p&&void 0!==p?p:0,R=t.externalClockOffset;if(void 0===R)v.Z.warn("DASH Parser: use system clock to define maximum position"),M=Date.now()/1e3-I;else{var D=performance.now()+R;M=D/1e3-I}}l={isLinear:!0,value:M,time:C},null!==x&&void 0!==s&&M-s>x&&(x=M-s)}else{var j;if(s=void 0!==P?P:void 0!==(null===(i=E[0])||void 0===i?void 0:i.start)?E[0].start:0,void 0!==A)j=A;else if(void 0!==S)j=S;else if(void 0!==E[E.length-1]){var L=E[E.length-1];j=null!==(a=L.end)&&void 0!==a?a:void 0!==L.duration?L.start+L.duration:void 0}l={isLinear:!1,value:null!==j&&void 0!==j?j:1/0,time:C}}return{type:"done",value:{parsed:{availabilityStartTime:p,clockOffset:t.externalClockOffset,isDynamic:d,isLive:d,periods:E,suggestedPresentationDelay:c.suggestedPresentationDelay,transportType:"dash",timeBounds:{absoluteMinimumTime:s,timeshiftDepth:x,maximumTimeData:l},lifetime:o,uris:null==t.url?u.locations:[t.url].concat(u.locations)},warnings:r}}}(t,r,n,s):{type:"needs-ressources",value:{ressources:p.map((function(e){return e.ressource})),continue:function(i){if(i.length!==p.length)throw new Error("DASH parser: wrong number of loaded ressources.");for(var o=i.length-1;o>=0;o--){var l,u=p[o].index,c=i[o],d=c.responseData,f=c.receivedTime,h=c.sendingTime,g=c.url,m="<root>"+d+"</root>",v=(new DOMParser).parseFromString(m,"text/xml");if(null==v||0===v.children.length)throw new Error("DASH parser: Invalid external ressources");for(var y=v.children[0].children,b=[],k=0;k<y.length;k++)if(y[k].nodeType===Node.ELEMENT_NODE){var _=se(y[k]),E=_[0],w=_[1];s.set(E,{receivedTime:f,sendingTime:h,url:g}),b.push(E),w.length>0&&n.push.apply(n,w)}(l=a.periods).splice.apply(l,[u,1].concat(b))}return e(t,r,n)}}}}(r[0],t,r[1])}var Qe=function(e,t){var r=e.documentElement;if(null==r||"MPD"!==r.nodeName)throw new Error("DASH Parser: document root should be MPD");return Ye(r,t)},Je=r(7445);function et(e){var t=e.aggressiveMode,r=e.referenceDateTime,n=void 0!==e.serverSyncInfos?e.serverSyncInfos.serverTimestamp-e.serverSyncInfos.clientTime:void 0;return function(a){var s,l=a.response,u=a.scheduleRequest,m=a.externalClockOffset,v=a.url,y=null!==(s=l.url)&&void 0!==s?s:v,b="string"===typeof l.responseData?(new DOMParser).parseFromString(l.responseData,"text/xml"):l.responseData,k=null!==n&&void 0!==n?n:m,_=a.unsafeMode?a.previousManifest:null;return function t(r){if("done"===r.type){var n=r.value,a=n.warnings,s=n.parsed,l=a.map((function(e){return{type:"warning",value:e}})),m=new g.ZP(s,e);return(0,c.z)(i.of.apply(void 0,l),(0,Je.Z)(m,y))}var v=r.value,b=v.ressources,k=v.continue,_=b.map((function(e){return u((function(){return function(e){return(0,o.ZP)({url:e,responseType:"text"}).pipe((0,f.h)((function(e){return"data-loaded"===e.type})),(0,p.U)((function(e){return e.value})))}(e)}))}));return(0,d.aj)(_).pipe((0,h.zg)((function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n];if("string"!==typeof i.responseData)throw new Error("External DASH resources should only be strings");r.push((0,J.Z)(i,{responseData:i.responseData}))}return t(k(r))})))}(Qe(b,{aggressiveMode:!0===t,unsafelyBaseOnPreviousManifest:_,url:y,referenceDateTime:r,externalClockOffset:k}))}}var tt=r(4379),rt=r(7757),nt=r.n(rt),it=r(8926),at=r.n(it),ot=r(9105),st=r(5992),lt=r(1946),ut=m.Z.DEFAULT_REQUEST_TIMEOUT,ct="function"===typeof Headers?Headers:null,dt="function"===typeof AbortController?AbortController:null;function ft(){return"function"===typeof window.fetch&&!(0,lt.Z)(dt)&&!(0,lt.Z)(ct)}var pt=function(e){var t;if(!(0,lt.Z)(e.headers))if((0,lt.Z)(ct))t=e.headers;else{t=new ct;for(var r=Object.keys(e.headers),n=0;n<r.length;n++){var i=r[n];t.append(i,e.headers[i])}}return new tt.y((function(r){v.Z.debug("Fetch: Called with URL",e.url);var n=!1,i=!1,a=!1,o=performance.now(),s=(0,lt.Z)(dt)?null:new dt;function l(){if(!a){if(!(0,lt.Z)(s))return void s.abort();v.Z.warn("Fetch: AbortController API not available.")}}var u=(0,lt.Z)(e.timeout)?ut:e.timeout,c=window.setTimeout((function(){i=!0,l()}),u);return fetch(e.url,{headers:t,method:"GET",signal:(0,lt.Z)(s)?void 0:s.signal}).then((function(e){if((0,lt.Z)(c)||clearTimeout(c),e.status>=300)return v.Z.warn("Fetch: Request HTTP Error",e),void r.error(new ot.Z(e.url,e.status,st.br.ERROR_HTTP_CODE));if(!(0,lt.Z)(e.body)){var t=e.headers.get("Content-Length"),n=(0,lt.Z)(t)||isNaN(+t)?void 0:+t,i=e.body.getReader(),s=0;return l()}function l(){return u.apply(this,arguments)}function u(){return(u=at()(nt().mark((function t(){var u,c,d,f,p;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.read();case 2:if((u=t.sent).done||(0,lt.Z)(u.value)){t.next=11;break}return s+=u.value.byteLength,c=performance.now(),d={type:"data-chunk",value:{url:e.url,currentTime:c,duration:c-o,sendingTime:o,chunkSize:u.value.byteLength,chunk:u.value.buffer,size:s,totalSize:n}},r.next(d),t.abrupt("return",l());case 11:u.done&&(f=performance.now(),p=f-o,a=!0,r.next({type:"data-complete",value:{duration:p,receivedTime:f,sendingTime:o,size:s,status:e.status,url:e.url}}),r.complete());case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r.error(new ot.Z(e.url,e.status,st.br.PARSE_ERROR))})).catch((function(t){if(n)v.Z.debug("Fetch: Request aborted.");else{if(i)return v.Z.warn("Fetch: Request timeouted."),void r.error(new ot.Z(e.url,0,st.br.TIMEOUT));v.Z.warn("Fetch: Request Error",t instanceof Error?t.toString():""),r.error(new ot.Z(e.url,0,st.br.ERROR_EVENT))}})),function(){n=!0,l()}}))},ht=r(8806),gt=r(281);function mt(e){return"video/webm"===e.mimeType||"audio/webm"===e.mimeType}var vt=r(3068),yt=r(4460);function bt(e){return function(t){return e(t).pipe((0,vt.b)((function(e){"data-loaded"!==e.type&&"data-chunk"!==e.type||null===e.value.responseData||"string"===typeof e.value.responseData||mt(t.representation)||(0,yt.Z)(new Uint8Array(e.value.responseData),t.segment.isInit)})))}}var kt=r(6968);function _t(e,t){var r=t.segment;if(void 0===r.range)return(0,o.ZP)({url:e,responseType:"arraybuffer",sendProgressEvents:!0});if(void 0===r.indexRange)return(0,o.ZP)({url:e,headers:{Range:(0,gt.Z)(r.range)},responseType:"arraybuffer",sendProgressEvents:!0});if(r.range[1]+1===r.indexRange[0])return(0,o.ZP)({url:e,headers:{Range:(0,gt.Z)([r.range[0],r.indexRange[1]])},responseType:"arraybuffer",sendProgressEvents:!0});var n=(0,o.ZP)({url:e,headers:{Range:(0,gt.Z)(r.range)},responseType:"arraybuffer",sendProgressEvents:!1}),i=(0,o.ZP)({url:e,headers:{Range:(0,gt.Z)(r.indexRange)},responseType:"arraybuffer",sendProgressEvents:!1});return(0,d.aj)([n,i]).pipe((0,p.U)((function(t){var r=t[0],n=t[1],i=(0,kt.zo)(new Uint8Array(r.value.responseData),new Uint8Array(n.value.responseData)),a=Math.min(r.value.sendingTime,n.value.sendingTime),o=Math.max(r.value.receivedTime,n.value.receivedTime);return{type:"data-loaded",value:{url:e,responseData:i,size:r.value.size+n.value.size,duration:o-a,sendingTime:a,receivedTime:o}}})))}var Et=r(2807),wt=r(8766);function St(e,t){var r=t.segment,n=void 0!==r.range?{Range:(0,gt.Z)(r.range)}:void 0;return pt({url:e,headers:n}).pipe((0,Et.R)((function(e,t){if("data-complete"===t.type)return null!==e.partialChunk&&v.Z.warn("DASH Pipelines: remaining chunk does not belong to any segment"),{event:t,completeChunks:[],partialChunk:null};var r=new Uint8Array(t.value.chunk),n=function(e){for(var t=0,r=[];t<e.length;){var n=e.subarray(t,1/0),i=(0,wt.Z)(n,1836019558);if(i<0)return[r,n];var a=t+i+(0,kt.pX)(e,i+t);if(a>e.length)return[r,n];var o=(0,wt.Z)(n,1835295092);if(o<0)return[r,n];var s=t+o+(0,kt.pX)(e,o+t);if(s>e.length)return[r,n];var l=Math.max(a,s),u=e.subarray(t,l);r.push(u),t=l}return[r,null]}(null!==e.partialChunk?(0,kt.zo)(e.partialChunk,r):r);return{event:t,completeChunks:n[0],partialChunk:n[1]}}),{event:null,completeChunks:[],partialChunk:null}),(0,h.zg)((function(e){for(var t=[],r=0;r<e.completeChunks.length;r++)t.push({type:"data-chunk",value:{responseData:e.completeChunks[r]}});var n=e.event;if(null!==n&&"data-chunk"===n.type){var a=n.value;t.push({type:"progress",value:{duration:a.duration,size:a.size,totalSize:a.totalSize}})}else if(null!==n&&"data-complete"===n.type){var o=n.value;t.push({type:"data-chunk-complete",value:{duration:o.duration,receivedTime:o.receivedTime,sendingTime:o.sendingTime,size:o.size,url:o.url}})}return i.of.apply(void 0,t)})))}function Tt(e,t,r){if(t.segment.isInit)return _t(e,t);var n=mt(t.representation);if(r&&!n){if(ft())return St(e,t);(0,ht.Z)("DASH: Your browser does not have the fetch API. You will have a higher chance of rebuffering when playing close to the live edge")}var i=t.segment;return(0,o.ZP)({url:e,responseType:"arraybuffer",sendProgressEvents:!0,headers:void 0!==i.range?{Range:(0,gt.Z)(i.range)}:void 0})}var xt=r(4644),Ot=r(6490);function Pt(e,t,r,n){for(var i=n[0],a=n[1],o=i;o<a;){var s=It(r,o);if(null==s)return null;var l=s.value,u=o+s.length,c=Rt(r,u);if(null==c)return null;var d=u+c.length,f=d+c.value;if(l===e)return[d,f];if(t.length>0)for(var p=0;p<t.length;p++)if(l===t[p])return Pt(e,t.slice(p+1,t.length),r,[d,f]);o=f}return null}function At(e,t){var r=Pt(2807729,[408125543,357149030],e,[t,e.length]);if(null==r)return null;var n=r[1]-r[0];return 1e9/Dt(e,r[0],n)}function Ct(e,t){var r=Pt(17545,[408125543,357149030],e,[t,e.length]);if(null==r)return null;var n=r[1]-r[0];return 4===n?function(e,t){return new DataView(e.buffer).getFloat32(t)}(e,r[0]):8===n?function(e,t){return new DataView(e.buffer).getFloat64(t)}(e,r[0]):null}function Mt(e,t){for(var r=1;r<=8;r++)if(e[t]>=Math.pow(2,8-r))return r}function It(e,t){var r=Mt(e,t);if(null==r)return v.Z.warn("webm: unrepresentable length"),null;if(t+r>e.length)return v.Z.warn("webm: impossible length"),null;for(var n=0,i=0;i<r;i++)n=e[t+i]*Math.pow(2,8*(r-i-1))+n;return{length:r,value:n}}function Rt(e,t){var r=Mt(e,t);if(null==r)return v.Z.warn("webm: unrepresentable length"),null;if(t+r>e.length)return v.Z.warn("webm: impossible length"),null;for(var n=(e[t]&(1<<8-r)-1)*Math.pow(2,8*(r-1)),i=1;i<r;i++)n=e[t+i]*Math.pow(2,8*(r-i-1))+n;return{length:r,value:n}}function Dt(e,t,r){for(var n=0,i=0;i<r;i++)n=e[t+i]*Math.pow(2,8*(r-i-1))+n;return n}function jt(e,t,r,n){var i=(0,xt.Qx)(e);if(void 0===i||void 0===n)return null;var a,o=void 0!==r.timestampOffset?i+r.timestampOffset*n:i,s=(0,xt.MM)(e);if(t)return{time:o/n,duration:void 0!==s?s/n:void 0};var l=r.duration*n,u=Math.min(.9*n,l/4);return void 0!==s&&Math.abs(s-l)<=u&&(a=s),{time:o/n,duration:void 0!==a?a/n:a}}function Lt(e){var t=e.__priv_patchLastSegmentInSidx;return function(e){var r=e.content,n=e.response,a=e.initTimescale,o=r.period,l=r.representation,u=r.segment,c=n.data,d=n.isChunked,f=[o.start,o.end];if(null===c){if(u.isInit){var p=l.getProtectionsInitializationData();return(0,i.of)({type:"parsed-init-segment",value:{initializationData:null,segmentProtections:p,initTimescale:void 0}})}return(0,i.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:0,appendWindow:f}})}var h=c instanceof Uint8Array?c:new Uint8Array(c),g=mt(l);if(!u.isInit){var m=g?null:jt(h,d,u,a),v=(0,s.Z)(u.timestampOffset,0);return(0,i.of)({type:"parsed-segment",value:{chunkData:h,chunkInfos:m,chunkOffset:v,appendWindow:f}})}var y,b=u.indexRange;if(g)y=function(e,t){var r=Pt(408125543,[],e,[t,e.length]);if(null==r)return null;var n=r[0],i=r[1],a=At(e,n);if(null==a)return null;var o=Ct(e,n);if(null==o)return null;var s=Pt(475249515,[],e,[n,i]);if(null==s)return null;for(var l=[],u=s[0];u<s[1];){var c=Pt(187,[],e,[u,s[1]]);if(null==c)break;var d=Pt(179,[],e,[c[0],c[1]]);if(null==d)return null;var f=Dt(e,d[0],d[1]-d[0]),p=Pt(241,[183],e,[c[0],c[1]]);if(null==p)return null;var h=Dt(e,p[0],p[1]-p[0])+n;l.push({time:f,rangeStart:h}),u=c[1]}for(var g=[],m=0;m<l.length;m++){var v=l[m];m===l.length-1?g.push({time:v.time,count:0,timescale:a,duration:0===m?o:o-v.time,range:[v.rangeStart,1/0]}):g.push({time:v.time,count:0,timescale:a,duration:l[m+1].time-v.time,range:[v.rangeStart,l[m+1].rangeStart-1]})}return g}(h,0);else if(y=(0,xt.Wf)(h,Array.isArray(b)?b[0]:0),!0===t&&null!==y&&y.length>0){var k=y[y.length-1];Array.isArray(k.range)&&(k.range[1]=1/0)}l.index instanceof xe&&null!==y&&y.length>0&&l.index._addSegments(y);var _=g?At(h,0):(0,xt.LD)(h),E=(0,lt.Z)(_)?void 0:_;if(!g)for(var w=(0,Ot.Z)(h),S=0;S<w.length;S++){var T=w[S],x=T.systemID,O=T.data;l._addProtectionData("cenc",x,O)}var P=l.getProtectionsInitializationData();return(0,i.of)({type:"parsed-init-segment",value:{initializationData:h,segmentProtections:P,initTimescale:E}})}}function Nt(e){return"application/mp4"===e.mimeType}var Ut=r(6807);function Bt(e,t,r,n){var i,a,o=e.segment,s=e.adaptation,l=e.representation;if(o.isInit)return null;null===r?n?(i=o.time,a=o.end):v.Z.warn("Transport: Unavailable time data for current text track."):(i=r.time,void 0!==r.duration?a=i+r.duration:n||(a=i+o.duration));var u=function(e){var t=e.codec;if(void 0===t)throw new Error("Cannot parse subtitles: unknown format");switch(t.toLowerCase()){case"stpp":case"stpp.ttml.im1t":return"ttml";case"wvtt":return"vtt"}throw new Error('The codec used for the subtitles "'+t+'" is not managed yet.')}(l);return{data:function(e){var t=(0,Ut.Le)(e);return null===t?"":(0,q.uR)(t)}(t),type:u,language:s.language,start:i,end:a}}function Ft(e,t,r){var n=e.segment,i=e.adaptation,a=e.representation;return n.isInit?null:(r&&v.Z.warn("Transport: Unavailable time data for current text track."),{data:t,type:function(e){var t=e.mimeType,r=void 0===t?"":t;switch(e.mimeType){case"application/ttml+xml":return"ttml";case"application/x-sami":case"application/smil":return"sami";case"text/vtt":return"vtt"}var n=e.codec;if("srt"===(void 0===n?"":n).toLowerCase())return"srt";throw new Error("could not find a text-track parser for the type "+r)}(a),language:i.language})}function zt(e){var t=e.__priv_patchLastSegmentInSidx;return function(e){var r=e.response,n=e.content,a=e.initTimescale,o=n.period,l=n.representation,u=n.segment,c=u.timestampOffset,d=void 0===c?0:c,f=r.data,p=r.isChunked;return null===f?u.isInit?(0,i.of)({type:"parsed-init-segment",value:{initializationData:null,segmentProtections:[],initTimescale:void 0}}):(0,i.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:d,appendWindow:[o.start,o.end]}}):Nt(l)?function(e,t){var r=e.response,n=e.content,a=e.initTimescale,o=n.period,l=n.representation,u=n.segment,c=u.isInit,d=u.indexRange,f=r.data,p=r.isChunked,h="string"===typeof f?(0,q.tG)(f):f instanceof Uint8Array?f:new Uint8Array(f);if(c){var g=(0,xt.Wf)(h,Array.isArray(d)?d[0]:0);if(!0===t&&null!==g&&g.length>0){var m=g[g.length-1];Array.isArray(m.range)&&(m.range[1]=1/0)}var v=(0,xt.LD)(h);return l.index instanceof xe&&null!==g&&g.length>0&&l.index._addSegments(g),(0,i.of)({type:"parsed-init-segment",value:{initializationData:null,segmentProtections:[],initTimescale:v}})}var y=jt(h,p,u,a),b=Bt(n,h,y,p),k=(0,s.Z)(u.timestampOffset,0);return(0,i.of)({type:"parsed-segment",value:{chunkData:b,chunkInfos:y,chunkOffset:k,appendWindow:[o.start,o.end]}})}({response:{data:f,isChunked:p},content:n,initTimescale:a},t):function(e){var t=e.response,r=e.content,n=r.period,a=r.segment,o=a.timestampOffset,s=void 0===o?0:o;if(a.isInit)return(0,i.of)({type:"parsed-init-segment",value:{initializationData:null,segmentProtections:[],initTimescale:void 0}});var l,u=t.data,c=t.isChunked;if("string"!==typeof u){var d=u instanceof Uint8Array?u:new Uint8Array(u);l=(0,q.uR)(d)}else l=u;var f=Ft(r,l,c);return(0,i.of)({type:"parsed-segment",value:{chunkData:f,chunkInfos:null,chunkOffset:s,appendWindow:[n.start,n.end]}})}({response:{data:f,isChunked:p},content:n})}}var Vt=function(e){var t=(0,n.Z)({customManifestLoader:e.manifestLoader}),r=et(e),a=function(e){var t=e.lowLatencyMode,r=e.segmentLoader;return!0!==e.checkMediaSegmentIntegrity?n:bt(n);function n(e){var n=e.url;if(null==n)return(0,i.of)({type:"data-created",value:{responseData:null}});if(t||void 0===r)return Tt(n,e,t);var a={adaptation:e.adaptation,manifest:e.manifest,period:e.period,representation:e.representation,segment:e.segment,transport:"dash",url:n};return new tt.y((function(i){var o=!1,s=!1,l=r(a,{reject:function(e){void 0===e&&(e={}),s||(o=!0,i.error(e))},resolve:function(e){s||(o=!0,i.next({type:"data-loaded",value:{responseData:e.data,size:e.size,duration:e.duration}}),i.complete())},progress:function(e){s||i.next({type:"progress",value:{duration:e.duration,size:e.size,totalSize:e.totalSize}})},fallback:function(){s=!0,Tt(n,e,t).subscribe(i)}});return function(){o||s||"function"!==typeof l||l()}}))}}(e),s=Lt(e);return{manifest:{loader:t,parser:r},audio:{loader:a,parser:s},video:{loader:a,parser:s},text:{loader:function(e){var t=e.lowLatencyMode;return!0!==e.checkMediaSegmentIntegrity?r:bt(r);function r(e){var r=e.segment.range,n=e.url;if(null===n)return(0,i.of)({type:"data-created",value:{responseData:null}});if(e.segment.isInit)return _t(n,e);var a=Nt(e.representation);if(t&&a){if(ft())return St(n,e);(0,ht.Z)("DASH: Your browser does not have the fetch API. You will have a higher chance of rebuffering when playing close to the live edge")}var s=a?"arraybuffer":"text";return(0,o.ZP)({url:n,responseType:s,headers:Array.isArray(r)?{Range:(0,gt.Z)(r)}:null,sendProgressEvents:!0})}}(e),parser:zt(e)},image:{loader:l,parser:u}}}},2339:function(e,t,r){"use strict";r.d(t,{Z:function(){return be}});var n=r(8170),i=r(5709),a=r(3068),o=r(7874),s=r(3887),l=r(1966),u=r(6490),c=r(6807),d=r(7714),f=r(811),p=r(6923),h=r(8026),g=r(9829),m=r(5278),v=r(9689),y=r(6968),b=r(3635);function k(e){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:(0,y.zo)([8,1,18,16],e)}]}function _(e,t){if(void 0===t&&(t=k),null===e.firstElementChild||"ProtectionHeader"!==e.firstElementChild.nodeName)throw new Error("Protection should have ProtectionHeader child");var r=e.firstElementChild,n=(0,v.K)(null===r.textContent?"":r.textContent),i=function(e){var t=(0,y.qb)(e,8),r=(0,b.wV)(e.subarray(10,t+10)),n=(new DOMParser).parseFromString(r,"application/xml").querySelector("KID");if(null===n)throw new Error("Cannot parse PlayReady private data: invalid XML");var i=null===n.textContent?"":n.textContent,a=(0,b.wO)((0,v.K)(i));return(0,b.ci)(a).toLowerCase()}(n),a=(0,b.nr)(i),o=r.getAttribute("SystemID");return{keyId:a,keySystems:[{systemId:(null!==o?o:"").toLowerCase().replace(/\{|\}/g,""),privateData:n}].concat(t(a))}}var E=r(9362),w=r(8232),S=r(3911),T=r(1091),x=r(5505);function O(e,t,r){var n=e.timeline,i=e.timescale,a=n[n.length-1],o=t.timescale===i?{time:t.time,duration:t.duration}:{time:t.time/t.timescale*i,duration:t.duration/t.timescale*i};return!(r.time===o.time)&&o.time>=(0,S.jH)(a,null)&&(a.duration===o.duration?a.repeatCount++:e.timeline.push({duration:o.duration,start:o.time,repeatCount:0}),!0)}function P(e,t){return e.replace(/\{start time\}/g,String(t))}function A(e,t,r){var n=t-e;return n>0?Math.floor(n/r):0}function C(e,t){var r=e.repeatCount;if(null!=e.duration&&r<0){var n=void 0!==t?t.start:1/0;r=Math.ceil((n-e.start)/e.duration)-1}return r}var M=function(){function e(e,t){var r=t.aggressiveMode,n=t.isLive,i=t.segmentPrivateInfos,a=null==e.manifestReceivedTime?performance.now():e.manifestReceivedTime;if(this._index=e,this._indexValidityTime=a,this._initSegmentInfos={bitsPerSample:i.bitsPerSample,channels:i.channels,codecPrivateData:i.codecPrivateData,packetSize:i.packetSize,samplingRate:i.samplingRate,timescale:e.timescale,protection:i.protection},this._isAggressiveMode=r,this._isLive=n,0!==e.timeline.length){var o=e.timeline[e.timeline.length-1],s=(0,S.jH)(o,null);if(this._initialScaledLastPosition=s,e.isLive){var l=a/1e3*e.timescale;this._scaledLiveGap=l-s}}}var t=e.prototype;return t.getInitSegment=function(){return{id:"init",isInit:!0,privateInfos:{smoothInitSegment:this._initSegmentInfos},mediaURLs:null,time:0,end:0,duration:0,timescale:1}},t.getSegments=function(e,t){this._refreshTimeline();for(var r,n=function(e,t,r){var n=void 0===e.timescale||0===e.timescale?1:e.timescale;return{up:t*n,to:(t+r)*n}}(this._index,e,t),i=n.up,a=n.to,o=this._index,s=o.timeline,l=o.timescale,u=o.media,c=this._isAggressiveMode,d=[],f=s.length,p=null==this._scaledLiveGap?void 0:performance.now()/1e3*l-this._scaledLiveGap,h=0;h<f;h++){for(var g=s[h],m=g.duration,v=g.start,y=C(g,s[h+1]),b=A(v,i,m),k=v+b*m,_=c?0:m;k<a&&b<=y&&(null==p||k+_<=p);){var E=k,w=null!=r?r+b:void 0,S={id:String(k),isInit:!1,time:E/l,end:(E+m)/l,duration:m/l,timescale:1,number:w,mediaURLs:[P(u,E)],privateInfos:{smoothMediaSegment:{time:E,duration:m}}};d.push(S),k=v+ ++b*m}if(k>=a)return d;null!=r&&(r+=y+1)}return d},t.shouldRefresh=function(e,t){if(this._refreshTimeline(),!this._index.isLive)return!1;var r=this._index,n=r.timeline,i=r.timescale,a=n[n.length-1];if(void 0===a)return!1;var o=a.repeatCount,s=a.start+(o+1)*a.duration;return!(t*i<s)&&(e*i>=s||e*i>a.start+o*a.duration)},t.getFirstPosition=function(){this._refreshTimeline();var e=this._index;return 0===e.timeline.length?null:e.timeline[0].start/e.timescale},t.getLastPosition=function(){this._refreshTimeline();var e=this._index;if(null==this._scaledLiveGap){var t=e.timeline[e.timeline.length-1];return(0,S.jH)(t,null)/e.timescale}for(var r=e.timeline.length-1;r>=0;r--)for(var n=e.timeline[r],i=performance.now()/1e3*e.timescale,a=n.start,o=n.duration,s=n.repeatCount;s>=0;s--){var l=a+o*(s+1);if((this._isAggressiveMode?l-o:l)<=i-this._scaledLiveGap)return l/e.timescale}},t.checkDiscontinuity=function(e){return this._refreshTimeline(),(0,S._j)(this._index,e,void 0)},t.areSegmentsChronologicallyGenerated=function(){return!0},t.isSegmentStillAvailable=function(e){if(e.isInit)return!0;this._refreshTimeline();var t=this._index,r=t.timeline,n=t.timescale;return(0,T.Z)(e,r,n,0)},t.canBeOutOfSyncError=function(e){return!!this._isLive&&e instanceof E.Z&&(e.isHttpError(404)||e.isHttpError(412))},t._replace=function(e){var t=this._index.timeline,r=e._index.timeline,n=this._index.timescale,i=e._index.timescale;if(this._index=e._index,this._initialScaledLastPosition=e._initialScaledLastPosition,this._indexValidityTime=e._indexValidityTime,this._scaledLiveGap=e._scaledLiveGap,0!==t.length&&0!==r.length&&n===i){var a=t[t.length-1],o=r[r.length-1],l=(0,S.jH)(o,null);if(!((0,S.jH)(a,null)<=l))for(var u=0;u<t.length;u++){var c=t[u],d=(0,S.jH)(c,null);if(d===l)return void(this._index.timeline=this._index.timeline.concat(t.slice(u+1)));if(d>l){if(c.duration!==o.duration)return;var f=l-c.start;if(0===f)return s.Z.warn("Smooth Parser: a discontinuity detected in the previous manifest has been resolved."),void(this._index.timeline=this._index.timeline.concat(t.slice(u)));if(f<0||f%c.duration!==0)return;var p=f/c.duration-1,h=c.repeatCount-p;if(h<0)return;o.repeatCount+=h;var g=t.slice(u+1);return void(this._index.timeline=this._index.timeline.concat(g))}}}},t._update=function(e){(0,x.Z)(this._index.timeline,e._index.timeline),this._initialScaledLastPosition=e._initialScaledLastPosition,this._indexValidityTime=e._indexValidityTime,this._scaledLiveGap=e._scaledLiveGap},t.isFinished=function(){return!this._isLive},t.isInitialized=function(){return!0},t._addSegments=function(e,t){this._refreshTimeline();for(var r=0;r<e.length;r++)O(this._index,e[r],t)},t._refreshTimeline=function(){if(null!=this._initialScaledLastPosition){var e=this._index,t=e.timeShiftBufferDepth,r=(performance.now()-this._indexValidityTime)/1e3+this._initialScaledLastPosition/e.timescale;if(null!=t){var n=(r-t)*e.timescale;(0,w.Z)(e.timeline,n)}}},e}();function I(e,t,r){for(var n=e.firstElementChild,i=r;null!==n;)i=t(i,n.nodeName,n),n=n.nextElementSibling;return i}var R=["audio","video","text","image"],D={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},j={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4"},L=function(e){void 0===e&&(e={});var t=void 0===e.referenceDateTime?Date.UTC(1970,0,1,0,0,0,0)/1e3:e.referenceDateTime,r=void 0===e.minRepresentationBitrate?0:e.minRepresentationBitrate,n=e.serverSyncInfos,i=void 0!==n?n.serverTimestamp-n.clientTime:void 0;function a(e,t){var r=I(e,(function(e,t,r){return"CustomAttributes"===t&&e.push.apply(e,I(r,(function(e,t,r){if("Attribute"===t){var n=r.getAttribute("Name"),i=r.getAttribute("Value");null!==n&&null!==i&&e.push(n+"="+i)}return e}),[])),e}),[]);function n(t){var r=e.getAttribute(t);return null==r?void 0:r}switch(t){case"audio":var i=n("AudioTag"),a=n("BitsPerSample"),o=n("Channels"),l=n("CodecPrivateData"),u=n("FourCC"),c=n("PacketSize"),d=n("SamplingRate"),f=n("Bitrate"),h=void 0===f||isNaN(parseInt(f,10))?0:parseInt(f,10);if(void 0!==u&&void 0===j[u]||void 0===l)return s.Z.warn("Smooth parser: Unsupported audio codec. Ignoring quality level."),null;var g=function(e,t){var r;return 0===(r="AACH"===t?5:(0,p.Z)(e)?(248&parseInt(e.substring(0,2),16))>>3:2)?"mp4a.40.2":"mp4a.40."+r}(l,u);return{audiotag:void 0!==i?parseInt(i,10):i,bitrate:h,bitsPerSample:void 0!==a?parseInt(a,10):a,channels:void 0!==o?parseInt(o,10):o,codecPrivateData:l,codecs:g,customAttributes:r,mimeType:void 0!==u?j[u]:u,packetSize:void 0!==c?parseInt(c,10):c,samplingRate:void 0!==d?parseInt(d,10):d};case"video":var v=n("CodecPrivateData"),y=n("FourCC"),b=n("MaxWidth"),k=n("MaxHeight"),_=n("Bitrate"),E=void 0===_||isNaN(parseInt(_,10))?0:parseInt(_,10);if(void 0!==y&&void 0===j[y]||void 0===v)return s.Z.warn("Smooth parser: Unsupported video codec. Ignoring quality level."),null;var w=function(e){var t=/00000001\d7([0-9a-fA-F]{6})/.exec(e);return null!==t&&(0,p.Z)(t[1])?"avc1."+t[1]:"avc1.4D401E"}(v);return{bitrate:E,customAttributes:r,mimeType:void 0!==y?j[y]:y,codecPrivateData:v,codecs:w,width:void 0!==b?parseInt(b,10):void 0,height:void 0!==k?parseInt(k,10):void 0};case"text":var S=n("CodecPrivateData"),T=n("FourCC"),x=n("Bitrate");return{bitrate:void 0===x||isNaN(parseInt(x,10))?0:parseInt(x,10),customAttributes:r,mimeType:void 0!==T?j[T]:T,codecPrivateData:(0,m.Z)(S,"")};default:return s.Z.error("Smooth Parser: Unrecognized StreamIndex type: "+t),null}}return function(n,o,l){var u=(0,g.f)(null==o?"":o),c=n.documentElement;if(null==c||"SmoothStreamingMedia"!==c.nodeName)throw new Error("document root should be SmoothStreamingMedia");var m=c.getAttribute("MajorVersion"),v=c.getAttribute("MinorVersion");if(null===m||null===v||!/^[2]-[0-2]$/.test(m+"-"+v))throw new Error("Version should be 2.0, 2.1 or 2.2");var y,b,k=c.getAttribute("Timescale"),E=(0,p.Z)(k)?isNaN(+k)?1e7:+k:1e7,w=I(c,(function(t,r,n){switch(r){case"Protection":t.protections.push(_(n,e.keySystems));break;case"StreamIndex":t.adaptationNodes.push(n)}return t}),{adaptationNodes:[],protections:[]}),S=w.protections,T=w.adaptationNodes,x="boolean"===typeof(y=c.getAttribute("IsLive"))?y:"string"===typeof y&&"TRUE"===y.toUpperCase();if(x){var O=c.getAttribute("DVRWindowLength");null==O||isNaN(+O)||0===+O||(b=+O/E)}var P,A,C,j,L,N,U=T.reduce((function(t,n){var i=function(t){var n=t.root,i=t.timescale,o=t.rootURL,l=t.protections,u=t.timeShiftBufferDepth,c=t.manifestReceivedTime,m=t.isLive,v=n.getAttribute("Timescale"),y=null===v||isNaN(+v)?i:+v,b=n.getAttribute("Type");if(null===b)throw new Error("StreamIndex without type.");(0,d.Z)(R,b)||s.Z.warn("Smooth Parser: Unrecognized adaptation type:",b);var k,_=b,E=n.getAttribute("Subtype"),w=n.getAttribute("Language"),S=n.getAttribute("Url"),T=null===S?"":S,x=I(n,(function(e,t,n){switch(t){case"QualityLevel":var i=a(n,_);if(null===i)return e;("video"!==_||i.bitrate>r)&&e.qualityLevels.push(i);break;case"c":e.cNodes.push(n)}return e}),{qualityLevels:[],cNodes:[]}),O=x.qualityLevels,P=x.cNodes,A={timeline:(k=P,k.reduce((function(e,t,r){var n=t.getAttribute("d"),i=t.getAttribute("t"),a=t.getAttribute("r"),o=null!==a?+a-1:0,s=null!==i?+i:void 0,l=null!==n?+n:void 0;if(0===r)s=void 0===s||isNaN(s)?0:s;else{var u=e[r-1];if(null==s||isNaN(s)){if(null==u.duration||isNaN(u.duration))throw new Error("Smooth: Invalid CNodes. Missing timestamp.");s=u.start+u.duration*(u.repeatCount+1)}}if(null==l||isNaN(l)){var c=k[r+1];if(void 0===c)return e;var d=c.getAttribute("t"),f=(0,p.Z)(d)?+d:null;if(null===f)throw new Error("Can't build index timeline from Smooth Manifest.");l=f-s}return e.push({duration:l,start:s,repeatCount:o}),e}),[])),timescale:y};(0,f.Z)(0!==O.length,"Adaptation should have at least one playable representation.");var C=_+((0,p.Z)(w)?"_"+w:""),j=O.map((function(t){var r,n,i,a,s=(0,g.Z)(o,T),d={timeline:A.timeline,timescale:A.timescale,media:(r=s,n=t.bitrate,i=t.customAttributes,r.replace(/\{bitrate\}/g,String(n)).replace(/{CustomAttributes}/g,i.length>0?i[0]:"")),isLive:m,timeShiftBufferDepth:u,manifestReceivedTime:c},f=(0,p.Z)(t.mimeType)?t.mimeType:D[_],v=t.codecs,y=C+"_"+(null!=_?_+"-":"")+(null!=f?f+"-":"")+(null!=v?v+"-":"")+String(t.bitrate),b=[];l.length>0&&(a=l[0],l.forEach((function(e){var t=e.keyId;e.keySystems.forEach((function(e){b.push({keyId:t,systemId:e.systemId})}))})));var k={bitsPerSample:t.bitsPerSample,channels:t.channels,codecPrivateData:t.codecPrivateData,packetSize:t.packetSize,samplingRate:t.samplingRate,protection:null!=a?{keyId:a.keyId,keySystems:a.keySystems}:void 0},E=null!=e.aggressiveMode&&e.aggressiveMode,w=new M(d,{aggressiveMode:E,isLive:m,segmentPrivateInfos:k}),S=(0,h.Z)({},t,{index:w,mimeType:f,codecs:v,id:y});return b.length>0&&(S.contentProtections={keyIds:b,initData:{}}),S}));if("ADVT"===E)return null;var L={id:C,type:_,representations:j,language:null==w?void 0:w};return"text"===_&&"DESC"===E&&(L.closedCaption=!0),L}({root:n,rootURL:u,timescale:E,protections:S,isLive:x,timeShiftBufferDepth:b,manifestReceivedTime:l});if(null===i)return t;var o=i.type,c=t[o];return void 0===c?t[o]=[i]:c.push(i),t}),{}),B=null,F=void 0!==U.video?U.video[0]:void 0,z=void 0!==U.audio?U.audio[0]:void 0;if(void 0!==F||void 0!==z){var V=[],$=[];if(void 0!==F){var W=F.representations[0];if(void 0!==W){var K=W.index.getFirstPosition(),H=W.index.getLastPosition();null!=K&&V.push(K),null!=H&&$.push(H)}}if(void 0!==z){var G=z.representations[0];if(void 0!==G){var Z=G.index.getFirstPosition(),q=G.index.getLastPosition();null!=Z&&V.push(Z),null!=q&&$.push(q)}}V.length>0&&(L=Math.max.apply(Math,V)),$.length>0&&(N=Math.min.apply(Math,$))}var X=c.getAttribute("Duration"),Y=null!=X&&0!==+X?+X/E:void 0;x?(P=e.suggestedPresentationDelay,A=t,C=null!==L&&void 0!==L?L:A,j={isLinear:!0,value:null!=N?N:Date.now()/1e3-A,time:performance.now()},B=null!==b&&void 0!==b?b:null):(C=null!==L&&void 0!==L?L:0,j={isLinear:!1,value:void 0!==N?N:void 0!==Y?C+Y:1/0,time:performance.now()});var Q=x?0:C,J=x?void 0:j.value,ee={availabilityStartTime:void 0===A?0:A,clockOffset:i,isLive:x,isDynamic:x,timeBounds:{absoluteMinimumTime:C,timeshiftDepth:B,maximumTimeData:j},periods:[{adaptations:U,duration:void 0!==J?J-Q:Y,end:J,id:"gen-smooth-period-0",start:Q}],suggestedPresentationDelay:P,transportType:"smooth",uris:null==o?[]:[o]};return function e(t){var r=[];t.periods.forEach((function(n){var i=n.id;if((0,d.Z)(r,i)){s.Z.warn("Two periods with the same ID found. Updating.");var a=i+"-dup";n.id=a,e(t),r.push(a)}else r.push(i);var o=n.adaptations,l=[];Object.keys(o).forEach((function(r){var n=o[r];void 0!==n&&n.forEach((function(r){var n=r.id;if((0,d.Z)(l,n)){s.Z.warn("Two adaptations with the same ID found. Updating.",n);var i=n+"-dup";r.id=i,e(t),l.push(i)}else l.push(n);var a=[];r.representations.forEach((function(r){var n=r.id;if((0,d.Z)(a,n)){s.Z.warn("Two representations with the same ID found. Updating.",n);var i=n+"-dup";r.id=i,e(t),a.push(i)}else a.push(n)}))}))}))}))}(ee),ee}},N=r(4597),U=r(8806),B=r(4460),F=r(7445),z=r(7278),V=r(4644),$=r(2297);function W(e,t,r,n,i){var a,o,l,u=[];if(i){var d=(0,c.XA)(e);null!==d?(l=function(e){var t=(0,$.nR)(e,3565190898,3392751253,2387879627,2655430559);if(void 0===t)return[];for(var r=[],n=t[0],i=t[4],a=0;a<i;a++){var o=void 0,s=void 0;1===n?(s=(0,y.pV)(t,16*a+5),o=(0,y.pV)(t,16*a+5+8)):(s=(0,y.pX)(t,8*a+5),o=(0,y.pX)(t,8*a+5+4)),r.push({time:s,duration:o})}return r}(d),o=function(e){var t=(0,$.nR)(e,1830656773,1121273062,2162299933,2952222642);if(void 0!==t)return{duration:(0,y.pV)(t,12),time:(0,y.pV)(t,4)}}(d)):s.Z.warn("smooth: could not find traf atom")}if(void 0!==l)for(var f=0;f<l.length;f++)u.push({time:l[f].time,duration:l[f].duration,timescale:r});if(void 0!==o)return{nextSegments:u,chunkInfos:{time:o.time/r,duration:o.duration/r},scaledSegmentTime:o.time};if(t)return{nextSegments:u,chunkInfos:null,scaledSegmentTime:void 0};var p=n.duration*r,h=Math.min(.9*r,p/4),g=(0,V.MM)(e),m=void 0!==(null===(a=n.privateInfos)||void 0===a?void 0:a.smoothMediaSegment)?n.privateInfos.smoothMediaSegment.time:Math.round(n.time*r);return{nextSegments:u,chunkInfos:void 0!==g&&Math.abs(g-p)<=h?{time:n.time,duration:g/r}:{time:n.time,duration:n.duration},scaledSegmentTime:m}}var K=r(3666),H=r(2689),G={};function Z(e){if(null!=G[e])return G[e];var t=(0,b.tG)(e);return G[e]=t,t}function q(e,t){var r=t.length+8;return r<=H.s?(0,y.zo)((0,y.kh)(r),Z(e),t):(0,y.zo)((0,y.kh)(1),Z(e),(0,y.el)(r+8),t)}function X(e,t){return q(e,y.zo.apply(void 0,t))}function Y(e,t){return q("schm",(0,y.zo)(4,(0,b.tG)(e),(0,y.kh)(t)))}function Q(e){return q("frma",(0,b.tG)(e))}function J(e){var t=[7,[e.length]];return q("stsd",y.zo.apply(void 0,t.concat(e)))}function ee(e,t,r){return q("tenc",(0,y.zo)(6,[e,t],r))}function te(e,t,r,n,i){var a=[e,t,r];return void 0!==i&&a.push(q("senc",i),function(e){if(0===e.length)return q("saiz",new Uint8Array(0));var t=(0,y.pX)(e,0),r=(0,y.pX)(e,4),n=new Uint8Array(r+9);n.set((0,y.kh)(r),5);for(var i,a,o=9,s=8;s<e.length;)s+=8,2===(2&t)?(a=2,s+=6*(i=(0,y.zK)(e,s))+2):(i=0,a=0),n[o]=6*i+8+a,o++;return q("saiz",n)}(i),function(e,t,r,n){return q("saio",(0,y.zo)(4,[0,0,0,1],(0,y.kh)(e.length+t.length+r.length+n.length+8+8+8+8)))}(n,e,t,r)),X("traf",a)}function re(e,t){var r=(0,$.Qy)(e,1836019558);if(null===r)throw new Error("Smooth: Invalid ISOBMFF given");var n=e.subarray(r[1],r[2]),i=(0,$.iz)(n,1835427940),a=(0,$.t_)(n,1953653094);if(null===a||null===i)throw new Error("Smooth: Invalid ISOBMFF given");var o=(0,$.Qy)(a,1952868452),s=(0,$.Qy)(a,1953658222);if(null===o||null===s)throw new Error("Smooth: Invalid ISOBMFF given");var l=a.subarray(o[0],o[2]),u=a.subarray(s[0],s[2]);l.set([0,0,0,1],o[1]-o[0]+4);var c=function(e){return q("tfdt",(0,y.zo)([1,0,0,0],(0,y.el)(e)))}(t),d=function(e,t){if((1&e[t+3])>0)return e;var r=new Uint8Array(e.length+4);return r.set(e.subarray(0,t+8),0),r[t+3]=1|r[t+3],r.set([0,0,0,0],t+8),r.set(e.subarray(t+8,e.length),t+12),(0,V.J6)(r)}(u,s[1]-s[0]),f=te(l,c,d,i,(0,$.nR)(a,2721664850,1520127764,2722393154,2086964724)),p=X("moof",[i,f]),h=(0,$.Qy)(p,1836019558),g=(0,$.Qy)(f,1953653094),m=(0,$.Qy)(d,1953658222);if(null===h||null===g||null===m)throw new Error("Smooth: Invalid moof, trun or traf generation");var v=h[1]-h[0]+i.length+(g[1]-g[0])+l.length+c.length+(m[1]-m[0])+8,b=r[2]-r[0],k=p.length-b,_=(0,$.Qy)(e,1835295092);if(null===_)throw new Error("Smooth: Invalid ISOBMFF given");if(!K.YM&&(0===k||k<=-8)){var E=_[1];return p.set((0,y.kh)(E),v),e.set(p,r[0]),k<=-8&&e.set(q("free",new Uint8Array(-k-8)),p.length),e}var w=_[1]+k;p.set((0,y.kh)(w),v);var S=new Uint8Array(e.length+k),T=e.subarray(0,r[0]),x=e.subarray(r[2],e.length);return S.set(T,0),S.set(p,T.length),S.set(x,T.length+p.length),S}var ne=r(4379),ie=r(281);function ae(e,t,r,n){var i=[e,t,r];return n.forEach((function(e){var t=function(e,t,r){void 0===t&&(t=new Uint8Array(0)),void 0===r&&(r=new Uint8Array(0));var n,i,a=e.replace(/-/g,"");if(32!==a.length)throw new Error("HSS: wrong system id length");var o=r.length;return o>0?(n=1,i=y.zo.apply(void 0,[(0,y.kh)(o)].concat(r))):(n=0,i=[]),q("pssh",(0,y.zo)([n,0,0,0],(0,b.nr)(a),i,(0,y.kh)(t.length),t))}(e.systemId,e.privateData,e.keyIds);i.push(t)})),X("moov",i)}function oe(e,t,r,n,i,a,o){var s,l,u,c=X("stbl",[r,q("stts",new Uint8Array(8)),q("stsc",new Uint8Array(8)),q("stsz",new Uint8Array(12)),q("stco",new Uint8Array(8))]),d=X("dinf",[function(e){return q("dref",(0,y.zo)(7,[1],e))}(q("url ",new Uint8Array([0,0,0,1])))]),f=X("minf",[n,d,c]),p=function(e){var t,r;switch(e){case"video":t="vide",r="VideoHandler";break;case"audio":t="soun",r="SoundHandler";break;default:t="hint",r=""}return q("hdlr",(0,y.zo)(8,(0,b.tG)(t),12,(0,b.tG)(r),1))}(t),h=X("mdia",[function(e){return q("mdhd",(0,y.zo)(12,(0,y.kh)(e),8))}(e),p,f]),g=X("trak",[function(e,t,r){return q("tkhd",(0,y.zo)((0,y.kh)(7),8,(0,y.kh)(r),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],(0,y.XT)(e),2,(0,y.XT)(t),2))}(i,a,1),h]),m=X("mvex",[(s=1,q("trex",(0,y.zo)(4,(0,y.kh)(s),[0,0,0,1],12)))]),v=ae(function(e,t){return q("mvhd",(0,y.zo)(12,(0,y.kh)(e),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,(0,y.XT)(t+1)))}(e,1),m,g,o),k=(l="isom",u=["isom","iso2","iso6","avc1","dash"],q("ftyp",y.zo.apply(void 0,[(0,b.tG)(l),[0,0,0,1]].concat(u.map(b.tG)))));return(0,y.zo)(k,v)}function se(e,t,r,n,i,a,o,s,l){var u=void 0===l?[]:l,c=o.split("00000001"),d=c[1],f=c[2];if(void 0===d||void 0===f)throw new Error("Smooth: unsupported codec private data.");var p,h=function(e,t,r){var n=2===r?1:4===r?3:0,i=e[1],a=e[2],o=e[3];return q("avcC",(0,y.zo)([1,i,a,o,252|n,225],(0,y.XT)(e.length),e,[1],(0,y.XT)(t.length),t))}((0,b.nr)(d),(0,b.nr)(f),a);if(0===u.length||void 0===s)p=J([function(e,t,r,n,i,a,o){return q("avc1",(0,y.zo)(6,(0,y.XT)(1),16,(0,y.XT)(e),(0,y.XT)(t),(0,y.XT)(r),2,(0,y.XT)(n),6,[0,1,i.length],(0,b.tG)(i),31-i.length,(0,y.XT)(a),[255,255],o))}(t,r,n,i,"AVC Coding",24,h)]);else{var g=X("schi",[ee(1,8,s)]),m=Y("cenc",65536);p=J([function(e,t,r,n,i,a,o,s){return q("encv",(0,y.zo)(6,(0,y.XT)(1),16,(0,y.XT)(e),(0,y.XT)(t),(0,y.XT)(r),2,(0,y.XT)(n),6,[0,1,i.length],(0,b.tG)(i),31-i.length,(0,y.XT)(a),[255,255],o,s))}(t,r,n,i,"AVC Coding",24,h,X("sinf",[Q("avc1"),m,g]))])}return oe(e,"video",p,function(){var e=new Uint8Array(12);return e[3]=1,q("vmhd",e)}(),t,r,u)}var le=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];function ue(e,t,r,n,i,a,o,s){void 0===s&&(s=[]);var l=function(e,t){return q("esds",(0,y.zo)(4,[3,25],(0,y.XT)(e),[0,4,17,64,21],11,[5,2],(0,b.nr)(t),[6,1,2]))}(1,0===a.length?function(e,t,r){var n;return n=((n=((n=(63&e)<<4)|31&le.indexOf(t))<<4)|31&r)<<3,(0,b.ci)((0,y.XT)(n))}(2,i,t):a);return oe(e,"audio",function(){if(0===s.length||void 0===o)return J([function(e,t,r,n,i,a){return q("mp4a",(0,y.zo)(6,(0,y.XT)(e),8,(0,y.XT)(t),(0,y.XT)(r),2,(0,y.XT)(n),(0,y.XT)(i),2,a))}(1,t,r,n,i,l)]);var e=X("schi",[ee(1,8,o)]),a=Y("cenc",65536),u=X("sinf",[Q("mp4a"),a,e]);return J([function(e,t,r,n,i,a,o){return q("enca",(0,y.zo)(6,(0,y.XT)(e),8,(0,y.XT)(t),(0,y.XT)(r),2,(0,y.XT)(n),(0,y.XT)(i),2,a,o))}(1,t,r,n,i,l,u)])}(),q("smhd",new Uint8Array(8)),0,0,s)}function ce(e){var t,r=e.url,n=e.segment.range;return Array.isArray(n)&&(t={Range:(0,ie.Z)(n)}),(0,N.ZP)({url:r,responseType:"arraybuffer",headers:t,sendProgressEvents:!0})}var de=function(e){return function(t){var r=t.segment,i=t.representation,a=t.adaptation,o=t.period,s=t.manifest,l=t.url;if(r.isInit){if(void 0===r.privateInfos||void 0===r.privateInfos.smoothInitSegment)throw new Error("Smooth: Invalid segment format");var u,c=r.privateInfos.smoothInitSegment,d=c.codecPrivateData,f=c.timescale,p=c.protection,h=void 0===p?{keyId:void 0,keySystems:void 0}:p;if(void 0===d)throw new Error("Smooth: no codec private data.");switch(a.type){case"video":var g=i.width,m=void 0===g?0:g,v=i.height;u=se(f,m,void 0===v?0:v,72,72,4,d,h.keyId,h.keySystems);break;case"audio":var y=c.channels,b=void 0===y?0:y,k=c.bitsPerSample,_=void 0===k?0:k,E=c.packetSize,w=void 0===E?0:E,S=c.samplingRate;u=ue(f,b,_,w,void 0===S?0:S,d,h.keyId,h.keySystems);break;default:u=new Uint8Array(0)}return(0,n.of)({type:"data-created",value:{responseData:u}})}if(null===l)return(0,n.of)({type:"data-created",value:{responseData:null}});var T={adaptation:a,manifest:s,period:o,representation:i,segment:r,transport:"smooth",url:l};return"function"!==typeof e?ce(T):new ne.y((function(t){var r=!1,n=!1,i=e(T,{reject:function(e){void 0===e&&(e={}),n||(r=!0,t.error(e))},resolve:function(e){n||(r=!0,t.next({type:"data-loaded",value:{responseData:e.data,size:e.size,duration:e.duration}}),t.complete())},fallback:function(){n=!0,ce(T).subscribe(t)},progress:function(e){n||t.next({type:"progress",value:{duration:e.duration,size:e.size,totalSize:e.totalSize}})}});return function(){r||n||"function"!==typeof i||i()}}))}},fe=/(\.isml?)(\?token=\S+)?$/,pe=/\?token=(\S+)/;function he(e,t){return(0,p.Z)(t)?e.replace(pe,"?token="+t):e.replace(pe,"")}function ge(e){return fe.test(e)?((0,U.Z)("Giving a isml URL to loadVideo is deprecated. Please give the Manifest URL directly"),e.replace(fe,"$1/manifest$2")):e}var me=/\.wsx?(\?token=\S+)?/;function ve(e,t,r){var n;s.Z.debug("Smooth Parser: update segments information.");for(var i=e.representations,a=0;a<i.length;a++){var o=i[a];o.index instanceof M&&void 0!==(null===(n=null===r||void 0===r?void 0:r.privateInfos)||void 0===n?void 0:n.smoothMediaSegment)?o.index._addSegments(t,r.privateInfos.smoothMediaSegment):s.Z.warn("Smooth Parser: should only encounter SmoothRepresentationIndex")}}function ye(e){return"string"===typeof e.mimeType&&e.mimeType.indexOf("mp4")>=0}var be=function(e){var t=L(e),r=de(e.segmentLoader),d={customManifestLoader:e.manifestLoader},f={loader:function(t){return t.segment.isInit||!0!==e.checkMediaSegmentIntegrity?r(t):r(t).pipe((0,a.b)((function(e){"data-loaded"!==e.type&&"data-chunk"!==e.type||null===e.value.responseData||(0,B.Z)(new Uint8Array(e.value.responseData),t.segment.isInit)})))},parser:function(e){var t,r,i=e.content,a=e.response,o=e.initTimescale,s=i.segment,l=i.representation,c=i.adaptation,d=i.manifest,f=a.data,p=a.isChunked;if(null===f){if(s.isInit){var h=l.getProtectionsInitializationData();return(0,n.of)({type:"parsed-init-segment",value:{initializationData:null,segmentProtections:h,initTimescale:void 0}})}return(0,n.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:0,appendWindow:[void 0,void 0]}})}var g=f instanceof Uint8Array?f:new Uint8Array(f);if(s.isInit){var m=(0,u.Z)(g);if(m.length>0)for(var v=0;v<m.length;v++){var y=m[v],b=y.systemID,k=y.data;l._addProtectionData("cenc",b,k)}var _=l.getProtectionsInitializationData(),E=null===(r=null===(t=s.privateInfos)||void 0===t?void 0:t.smoothInitSegment)||void 0===r?void 0:r.timescale;return(0,n.of)({type:"parsed-init-segment",value:{initializationData:f,initTimescale:E,segmentProtections:_}})}var w=void 0!==o?W(g,p,o,s,d.isLive):null;if(null===w||null===w.chunkInfos||void 0===w.scaledSegmentTime)throw new Error("Smooth Segment without time information");var S=w.nextSegments,T=w.chunkInfos,x=re(g,w.scaledSegmentTime);return S.length>0&&ve(c,S,s),(0,n.of)({type:"parsed-segment",value:{chunkData:x,chunkInfos:T,chunkOffset:0,appendWindow:[void 0,void 0]}})}};return{manifest:{resolver:function(e){var t,r=e.url;if(void 0===r)return(0,n.of)({url:void 0});me.test(r)?((0,U.Z)("Giving WSX URL to loadVideo is deprecated. You should only give Manifest URLs."),t=(0,N.ZP)({url:he(r,""),responseType:"document"}).pipe((0,i.U)((function(e){var t=e.value,r=t.responseData.getElementsByTagName("media")[0].getAttribute("src");if(null===r||0===r.length)throw new Error("Invalid ISML");return r})))):t=(0,n.of)(r);var a=function(e){var t=pe.exec(e);if(null!==t){var r=t[1];if(void 0!==r)return r}return""}(r);return t.pipe((0,i.U)((function(e){return{url:he(ge(e),a)}})))},loader:(0,z.Z)(d),parser:function(r){var n=r.response,i=r.url,a=void 0===n.url?i:n.url,o="string"===typeof n.responseData?(new DOMParser).parseFromString(n.responseData,"text/xml"):n.responseData,s=n.receivedTime,u=t(o,a,s),c=new l.ZP(u,{representationFilter:e.representationFilter,supplementaryImageTracks:e.supplementaryImageTracks,supplementaryTextTracks:e.supplementaryTextTracks});return(0,F.Z)(c,a)}},audio:f,video:f,text:{loader:function(t){var r=t.segment,i=t.representation,o=t.url;if(r.isInit||null===o)return(0,n.of)({type:"data-created",value:{responseData:null}});var s=ye(i);return s&&!0===e.checkMediaSegmentIntegrity?(0,N.ZP)({url:o,responseType:"arraybuffer",sendProgressEvents:!0}).pipe((0,a.b)((function(e){"data-loaded"===e.type&&(0,B.Z)(new Uint8Array(e.value.responseData),r.isInit)}))):(0,N.ZP)({url:o,responseType:s?"arraybuffer":"text",sendProgressEvents:!0})},parser:function(e){var t,r,i=e.content,a=e.response,o=e.initTimescale,l=i.manifest,u=i.adaptation,d=i.representation,f=i.segment,p=u.language,h=ye(d),g=d.mimeType,m=void 0===g?"":g,v=d.codec,y=void 0===v?"":v,k=a.data,_=a.isChunked;if(f.isInit)return(0,n.of)({type:"parsed-init-segment",value:{initializationData:null,segmentProtections:[],initTimescale:void 0}});if(null===k)return(0,n.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:0,appendWindow:[void 0,void 0]}});var E,w,S,T,x=null;if(h){var O;O="string"===typeof k?(0,b.tG)(k):k instanceof Uint8Array?k:new Uint8Array(k);var P=void 0!==o?W(O,_,o,f,l.isLive):null;r=null===P||void 0===P?void 0:P.nextSegments,null===(x=null!==(t=null===P||void 0===P?void 0:P.chunkInfos)&&void 0!==t?t:null)?_?s.Z.warn("Smooth: Unavailable time data for current text track."):(E=f.time,w=f.end):(E=x.time,w=void 0!==x.duration?x.time+x.duration:f.end);var A=y.toLowerCase();if("application/ttml+xml+mp4"===m||"stpp"===A||"stpp.ttml.im1t"===A)T="ttml";else{if("wvtt"!==A)throw new Error("could not find a text-track parser for the type "+m);T="vtt"}var C=(0,c.Le)(O);S=null===C?"":(0,b.uR)(C)}else{var M;if(E=f.time,w=f.end,"string"!==typeof k){var I=k instanceof Uint8Array?k:new Uint8Array(k);M=(0,b.uR)(I)}else M=k;switch(m){case"application/x-sami":case"application/smil":T="sami";break;case"application/ttml+xml":T="ttml";break;case"text/vtt":T="vtt"}if(void 0===T){if("srt"!==y.toLowerCase())throw new Error("could not find a text-track parser for the type "+m);T="srt"}S=M}null!==x&&Array.isArray(r)&&r.length>0&&ve(u,r,f);var R=null!==E&&void 0!==E?E:0;return(0,n.of)({type:"parsed-segment",value:{chunkData:{type:T,data:S,start:E,end:w,language:p},chunkInfos:x,chunkOffset:R,appendWindow:[void 0,void 0]}})}},image:{loader:function(e){var t=e.segment,r=e.url;return t.isInit||null===r?(0,n.of)({type:"data-created",value:{responseData:null}}):(0,N.ZP)({url:r,responseType:"arraybuffer",sendProgressEvents:!0})},parser:function(e){var t=e.response,r=e.content,i=t.data,a=t.isChunked;if(r.segment.isInit)return(0,n.of)({type:"parsed-init-segment",value:{initializationData:null,segmentProtections:[],initTimescale:void 0}});if(a)throw new Error("Image data should not be downloaded in chunks");if(null===i||null===o.Z.imageParser)return(0,n.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:0,appendWindow:[void 0,void 0]}});var s=o.Z.imageParser(new Uint8Array(i)),l=s.thumbs;return(0,n.of)({type:"parsed-segment",value:{chunkData:{data:l,start:0,end:Number.MAX_VALUE,timescale:1,type:"bif"},chunkInfos:{time:0,duration:Number.MAX_VALUE,timescale:s.timescale},chunkOffset:0,segmentProtections:[],appendWindow:[void 0,void 0]}})}}}}},281:function(e,t,r){"use strict";function n(e){var t=e[0],r=e[1];return r===1/0?"bytes="+t+"-":"bytes="+t+"-"+r}r.d(t,{Z:function(){return n}})},4460:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5389),i=r(8766);function a(e,t){if(t){if((0,i.Z)(e,1718909296)<0)throw new n.Z("INTEGRITY_ERROR","Incomplete `ftyp` box");if((0,i.Z)(e,1836019574)<0)throw new n.Z("INTEGRITY_ERROR","Incomplete `moov` box")}else{if((0,i.Z)(e,1836019558)<0)throw new n.Z("INTEGRITY_ERROR","Incomplete `moof` box");if((0,i.Z)(e,1835295092)<0)throw new n.Z("INTEGRITY_ERROR","Incomplete `mdat` box")}}},8766:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(6968);function i(e,t){for(var r=e.length,i=0;i+8<=r;){var a=(0,n.pX)(e,i);if(0===a)a=r-i;else if(1===a){if(i+16>r)return-1;a=(0,n.pV)(e,i+8)}if(isNaN(a)||a<=0)return-1;if((0,n.pX)(e,i+4)===t)return i+a<=r?i:-1;i+=a}return-1}},7445:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(8170),i=r(9795);function a(e,t){var r=n.of.apply(void 0,e.parsingErrors.map((function(e){return{type:"warning",value:e}})));return(0,i.z)(r,(0,n.of)({type:"parsed",value:{manifest:e,url:t}}))}},7278:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(1946),i=r(4597),a=r(4379);function o(e){var t=e.url;if(void 0===t)throw new Error("Cannot perform HTTP(s) request. URL not known");return(0,i.ZP)({url:t,responseType:"text"})}function s(e){var t=e.customManifestLoader;return(0,n.Z)(t)?o:function(e,t){return function(r){return new a.y((function(n){var i=r.url,a=Date.now()-performance.now(),o=!1,s=!1,l=e(i,{reject:function(e){s||(o=!0,n.error(e))},resolve:function(e){if(!s){o=!0;var t=void 0!==e.receivingTime?e.receivingTime-a:void 0,r=void 0!==e.sendingTime?e.sendingTime-a:void 0;n.next({type:"data-loaded",value:{responseData:e.data,size:e.size,duration:e.duration,url:e.url,receivedTime:t,sendingTime:r}}),n.complete()}},fallback:function(){s=!0,t(r).subscribe(n)}});return function(){o||s||"function"!==typeof l||l()}}))}}(t,o)}},4791:function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return!1;return!0}r.d(t,{Z:function(){return n}})},3274:function(e,t,r){"use strict";function n(e,t,r){if("function"===typeof Array.prototype.find)return e.find(t,r);for(var n=e.length>>>0,i=0;i<n;i++){var a=e[i];if(t.call(r,a,i,e))return a}}r.d(t,{Z:function(){return n}})},5138:function(e,t,r){"use strict";function n(e,t,r){if("function"===typeof Array.prototype.findIndex)return e.findIndex(t,r);for(var n=e.length>>>0,i=0;i<n;i++)if(t.call(r,e[i],i,e))return i;return-1}r.d(t,{Z:function(){return n}})},7714:function(e,t,r){"use strict";function n(e,t,r){if("function"===typeof Array.prototype.includes)return e.includes(t,r);var n=e.length>>>0;if(0===n)return!1;for(var i,a,o=0|r,s=o>=0?Math.min(o,n-1):Math.max(n+o,0);s<n;){if((i=e[s])===(a=t)||"number"===typeof i&&"number"===typeof a&&isNaN(i)&&isNaN(a))return!0;s++}return!1}r.d(t,{Z:function(){return n}})},811:function(e,t,r){"use strict";r.d(t,{Z:function(){return a},u:function(){return o}});var n=r(3801),i=r(1946);function a(e,t){if(!e)throw new n.Z(void 0===t?"invalid assertion":t)}function o(e,t,r){for(var n in void 0===r&&(r="object"),a(!(0,i.Z)(e),r+" should be an object"),t)t.hasOwnProperty(n)&&a(typeof e[n]===t[n],r+" should have property "+n+" as a "+t[n])}},8418:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(3801);function i(e){throw new n.Z("Unreachable path taken")}},9689:function(e,t,r){"use strict";r.d(t,{J:function(){return s},K:function(){return l}});var n=r(3887),i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],a=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function o(e){if(e>=a.length)throw new Error("Unable to parse base64 string.");var t=a[e];if(255===t)throw new Error("Unable to parse base64 string.");return t}function s(e){var t,r="",n=e.length;for(t=2;t<n;t+=3)r+=i[e[t-2]>>2],r+=i[(3&e[t-2])<<4|e[t-1]>>4],r+=i[(15&e[t-1])<<2|e[t]>>6],r+=i[63&e[t]];return t===n+1&&(r+=i[e[t-2]>>2],r+=i[(3&e[t-2])<<4],r+="=="),t===n&&(r+=i[e[t-2]>>2],r+=i[(3&e[t-2])<<4|e[t-1]>>4],r+=i[(15&e[t-1])<<2],r+="="),r}function l(e){var t=e.length%4,r=e;0!==t&&(n.Z.warn("base64ToBytes: base64 given miss padding"),r+=3===t?"=":2===t?"==":"===");var i=r.indexOf("=");if(-1!==i&&i<r.length-2)throw new Error("Unable to parse base64 string.");for(var a,s=r.endsWith("==")?2:r.endsWith("=")?1:0,l=r.length,u=new Uint8Array(l/4*3),c=0,d=0;c<l;c+=4,d+=3)a=o(r.charCodeAt(c))<<18|o(r.charCodeAt(c+1))<<12|o(r.charCodeAt(c+2))<<6|o(r.charCodeAt(c+3)),u[d]=a>>16,u[d+1]=a>>8&255,u[d+2]=255&a;return u.subarray(0,u.length-s)}},6968:function(e,t,r){"use strict";function n(){for(var e,t=arguments.length,r=-1,n=0;++r<t;)n+="number"===typeof(e=r<0||arguments.length<=r?void 0:arguments[r])?e:e.length;var i=new Uint8Array(n),a=0;for(r=-1;++r<t;)"number"===typeof(e=r<0||arguments.length<=r?void 0:arguments[r])?a+=e:e.length>0&&(i.set(e,a),a+=e.length);return i}function i(e,t){return(e[t+0]<<8)+(e[t+1]<<0)}function a(e,t){return 65536*e[t+0]+256*e[t+1]+e[t+2]}function o(e,t){return 16777216*e[t+0]+65536*e[t+1]+256*e[t+2]+e[t+3]}function s(e,t){return 4294967296*(16777216*e[t+0]+65536*e[t+1]+256*e[t+2]+e[t+3])+16777216*e[t+4]+65536*e[t+5]+256*e[t+6]+e[t+7]}function l(e){return new Uint8Array([e>>>8&255,255&e])}function u(e){return new Uint8Array([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}function c(e){var t=e%4294967296,r=(e-t)/4294967296;return new Uint8Array([r>>>24&255,r>>>16&255,r>>>8&255,255&r,t>>>24&255,t>>>16&255,t>>>8&255,255&t])}function d(e,t){return(e[t+0]<<0)+(e[t+1]<<8)}function f(e,t){return e[t+0]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function p(e){return new Uint8Array([255&e,e>>>8&255,e>>>16&255,e>>>24&255])}function h(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer)}r.d(t,{zo:function(){return n},zK:function(){return i},QI:function(){return a},pX:function(){return o},pV:function(){return s},qb:function(){return d},dN:function(){return f},XT:function(){return l},kh:function(){return u},el:function(){return c},O_:function(){return p},_f:function(){return h}})},8117:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(4379),i=r(4072),a=r(8170),o=r(1946),s=function(e){if(e instanceof n.y)return e;if(!(0,o.Z)(e)&&"function"===typeof e.subscribe){var t=e;return new n.y((function(e){var r=t.subscribe((function(t){e.next(t)}),(function(t){e.error(t)}),(function(){e.complete()}));return function(){(0,o.Z)(r)||"function"!==typeof r.dispose?(0,o.Z)(r)||"function"!==typeof r.unsubscribe||r.unsubscribe():r.dispose()}}))}return(0,o.Z)(e)||"function"!==typeof e.then?(0,a.of)(e):(0,i.D)(e)}},8025:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(655),i=1,a=function(){return Promise.resolve()}(),o={};function s(e){return e in o&&(delete o[e],!0)}var l=function(e){var t=i++;return o[t]=!0,a.then((function(){return s(t)&&e()})),t},u=function(e){s(e)},c=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return n.ZT(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=l(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(u(r),t.scheduled=void 0)},t}(r(6114).o),d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(2980).v))(c),f=d,p=r(4379),h=r(5812),g=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=f);var i=e.call(this)||this;return i.source=t,i.delayTime=r,i.scheduler=n,(!(0,h.k)(r)||r<0)&&(i.delayTime=0),n&&"function"===typeof n.schedule||(i.scheduler=f),i}return n.ZT(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=f),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(p.y),m=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new g(t,this.delay,this.scheduler).subscribe(e)},e}();function v(){return function(e){return e.pipe((t=d,void 0===r&&(r=0),function(e){return e.lift(new m(t,r))}));var t,r}}},1959:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},R:function(){return s}});var n=r(4379),i=r(3887),a=r(1946),o=function(){function e(){this._listeners={}}var t=e.prototype;return t.addEventListener=function(e,t){var r=this._listeners[e];Array.isArray(r)?r.push(t):this._listeners[e]=[t]},t.removeEventListener=function(e,t){if((0,a.Z)(e))this._listeners={};else{var r=this._listeners[e];if(Array.isArray(r))if((0,a.Z)(t))delete this._listeners[e];else{var n=r.indexOf(t);-1!==n&&r.splice(n,1),0===r.length&&delete this._listeners[e]}}},t.trigger=function(e,t){var r=this._listeners[e];Array.isArray(r)&&r.slice().forEach((function(e){try{e(t)}catch(r){i.Z.error(r,r instanceof Error?r.stack:null)}}))},e}();function s(e,t){return new n.y((function(r){function n(e){r.next(e)}return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}}))}},2793:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(1410),i=r(5709),a=r(6008);function o(e,t){return function(r){return(0,n.P)((function(){return r.pipe((0,i.U)(e),(0,a.h)((function(e){return e!==t})))}))}}},9592:function(e,t,r){"use strict";function n(e,t){return"function"===typeof Array.prototype.flatMap?e.flatMap(t):e.reduce((function(e,r){var n=t(r);return Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e)}),[])}r.d(t,{Z:function(){return n}})},2572:function(e,t,r){"use strict";function n(e){return e*(.3*(2*Math.random()-1)+1)}r.d(t,{Z:function(){return n}})},2870:function(e,t,r){"use strict";function n(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e[r],t&=t;return t}r.d(t,{Z:function(){return n}})},908:function(e,t,r){"use strict";function n(){var e="",t=-1;return function(){return++t>=Number.MAX_SAFE_INTEGER&&(e+="0",t=0),e+String(t)}}r.d(t,{Z:function(){return n}})},6923:function(e,t,r){"use strict";function n(e){return"string"===typeof e&&e.length>0}r.d(t,{Z:function(){return n}})},1946:function(e,t,r){"use strict";function n(e){return null===e||void 0===e}r.d(t,{Z:function(){return n}})},7829:function(e,t,r){"use strict";r.d(t,{ZP:function(){return n}});var n=r(5553).ZP},5553:function(e,t,r){"use strict";r.d(t,{ZP:function(){return c},iH:function(){return u},Y1:function(){return l}});var n=r(6923),i=r(1946),a={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"eus",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fra",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"hye",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"kat",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mri",mk:"mkd",ml:"mal",mn:"mon",mr:"mar",ms:"msa",mt:"mlt",my:"mya",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"nld",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"sqi",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"zho",zu:"zul"},o={alb:"sqi",arm:"hye",baq:"eus",bur:"mya",chi:"zho",cze:"ces",dut:"nld",fre:"fra",geo:"kat",ger:"deu",gre:"ell",ice:"isl",mac:"mkd",mao:"mri",may:"msa",per:"fas",slo:"slk",rum:"ron",tib:"bod",wel:"cym"};function s(e){if((0,i.Z)(e)||""===e)return"";var t=function(e){var t;switch(e.length){case 2:t=a[e];break;case 3:t=o[e]}return t}((""+e).toLowerCase().split("-")[0]);return(0,n.Z)(t)?t:e}function l(e){if(!(0,i.Z)(e)){var t,r=!1;return"string"===typeof e?t=e:(t=e.language,!0===e.closedCaption&&(r=!0)),{language:t,closedCaption:r,normalized:s(t)}}return e}function u(e){if((0,i.Z)(e))return e;if("string"===typeof e)return{language:e,audioDescription:!1,normalized:s(e)};var t={language:e.language,audioDescription:!0===e.audioDescription,normalized:s(s(e.language))};return!0===e.isDub&&(t.isDub=!0),t}var c=s},8894:function(e,t,r){"use strict";function n(){}r.d(t,{Z:function(){return n}})},8026:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n="function"===typeof Object.assign?Object.assign:function(e){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=0;r<(arguments.length<=1?0:arguments.length-1);r++){var n=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},1679:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n="function"===typeof Object.values?Object.values:function(e){return Object.keys(e).map((function(t){return e[t]}))}},9589:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(8555),i="function"===typeof Promise?Promise:r.n(n)()},2829:function(e,t,r){"use strict";function n(e,t){return Math.abs(e-t)<1/60}function i(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function a(e,t){return e.end<=t.start}function o(e,t){for(var r=0;r<e.length;r++)if(s(e[r],t))return!0;return!1}function s(e,t){var r=e.start,n=e.end;return r<=t&&t<n}function l(e,t){return s(e,t.start)||e.start<t.end&&t.end<e.end||s(t,e.start)}function u(e,t){return n(t.start,e.end)||n(t.end,e.start)}function c(e){for(var t=[],r=0;r<e.length;r++)t.push({start:e.start(r),end:e.end(r)});return t}function d(e,t){for(var r=e.length-1;r>=0;r--){var n=e.start(r);if(t>=n){var i=e.end(r);if(t<i)return{start:n,end:i}}}return null}function f(e,t){for(var r=e.length,n=0;n<r;n++){var i=e.start(n);if(t<i)return i-t}return 1/0}function p(e,t){for(var r=null,n=[],i=0;i<e.length;i++){var a=e.start(i),o=e.end(i);t<a||t>=o?n.push({start:a,end:o}):r={start:a,end:o}}return{outerRanges:n,innerRange:r}}function h(e,t){var r=d(e,t);return null!==r?r.end-r.start:0}function g(e,t){var r=d(e,t);return null!==r?t-r.start:0}function m(e,t){var r=d(e,t);return null!==r?r.end-t:1/0}function v(e,t){if(t.start===t.end)return e;for(var r=t,n=0;n<e.length;n++){var o=e[n],s=l(r,o),c=u(r,o);if(s||c)r=i(r,o),e.splice(n--,1);else if(0===n){if(a(r,e[0]))break}else if(a(e[n-1],r)&&a(r,o))break}return e.splice(n,0,r),function(e){for(var t=1;t<e.length;t++){var r=e[t-1],n=e[t];if(u(r,n)){var a=i(r,n);e.splice(--t,2,a)}}return e}(function(e){for(var t=0;t<e.length;t++){var r=e[t];r.start===r.end&&e.splice(t--,1)}return e}(e))}function y(e,t){for(var r=[],n=0;n<t.length;n++)l(e,t[n])&&r.push(t[n]);return r}function b(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],a=y(i,t);if(a.length>0)for(var o=0;o<a.length;o++){var s=a[o];r.push({start:Math.max(i.start,s.start),end:Math.min(i.end,s.end)})}}return r}function k(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],a=[],o=y(i,t);if(o.length>0)for(var s=0;s<o.length;s++){var l=o[s];a.push({start:Math.max(i.start,l.start),end:Math.min(i.end,l.end)})}if(0===a.length)r.push(i);else{for(var u=i.start,c=0;c<a.length;c++)a[c].start>u&&r.push({start:u,end:a[c].start}),u=a[c].end;u<i.end&&r.push({start:u,end:i.end})}}return r}r.d(t,{JN:function(){return c},uH:function(){return k},F_:function(){return p},L7:function(){return m},XS:function(){return f},DD:function(){return g},rx:function(){return d},at:function(){return h},kR:function(){return v},Ti:function(){return s},A1:function(){return o},tn:function(){return b}})},4597:function(e,t,r){"use strict";r.d(t,{ZP:function(){return u}});var n=r(4379),i=r(944),a=r(9105),o=r(6923),s=r(1946),l=i.Z.DEFAULT_REQUEST_TIMEOUT,u=function(e){var t={url:e.url,headers:e.headers,responseType:(0,s.Z)(e.responseType)?"json":e.responseType,timeout:(0,s.Z)(e.timeout)?l:e.timeout};return new n.y((function(r){var n=t.url,i=t.headers,l=t.responseType,u=t.timeout,c=new XMLHttpRequest;if(c.open("GET",n,!0),u>=0&&(c.timeout=u),c.responseType=l,"document"===c.responseType&&c.overrideMimeType("text/xml"),!(0,s.Z)(i)){var d=i;for(var f in d)d.hasOwnProperty(f)&&c.setRequestHeader(f,d[f])}var p=performance.now();return c.onerror=function(){r.error(new a.Z(n,c.status,"ERROR_EVENT",c))},c.ontimeout=function(){r.error(new a.Z(n,c.status,"TIMEOUT",c))},!0===e.sendProgressEvents&&(c.onprogress=function(e){var t=performance.now();r.next({type:"progress",value:{url:n,duration:t-p,sendingTime:p,currentTime:t,size:e.loaded,totalSize:e.total}})}),c.onload=function(e){if(4===c.readyState)if(c.status>=200&&c.status<300){var t,i=performance.now(),l=c.response instanceof ArrayBuffer?c.response.byteLength:e.total,u=c.status,d=c.responseType,f=(0,o.Z)(c.responseURL)?c.responseURL:n;if(t="json"===d?"object"===typeof c.response?c.response:function(e){try{return JSON.parse(e)}catch(t){return null}}(c.responseText):c.response,(0,s.Z)(t))return void r.error(new a.Z(n,c.status,"PARSE_ERROR",c));r.next({type:"data-loaded",value:{status:u,url:f,responseType:d,sendingTime:p,receivedTime:i,duration:i-p,size:l,responseData:t}}),r.complete()}else r.error(new a.Z(n,c.status,"ERROR_HTTP_CODE",c))},c.send(),function(){(0,s.Z)(c)||4===c.readyState||c.abort()}}))}},9829:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},f:function(){return s}});var n=/^(?:[a-z]+:)?\/\//i,i=/\/\.{1,2}\//;function a(e){if(!i.test(e))return e;for(var t=[],r=e.split("/"),n=0,a=r.length;n<a;n++)if(".."===r[n])t.pop();else{if("."===r[n])continue;t.push(r[n])}return t.join("/")}function o(){var e=arguments.length;if(0===e)return"";for(var t="",r=0;r<e;r++){var i=r<0||arguments.length<=r?void 0:arguments[r];"string"===typeof i&&""!==i&&(n.test(i)?t=i:("/"===i[0]&&(i=i.substring(1)),"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t=t+"/"+i))}return a(t)}function s(e){var t=e.lastIndexOf("/");if(t<0)return e;if(n.test(e)){var r=e.indexOf("/");if(r>=0&&t===r+1)return e}var i=e.indexOf("?");return i>=0&&i<t?s(e.substring(0,i)):e.substring(0,t+1)}},5561:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(4944);function i(e,t){try{return e(t)}catch(r){return(0,n._)(r)}}},9252:function(e,t,r){"use strict";function n(e,t,r){if("function"===typeof String.prototype.startsWith)return e.startsWith(t,r);var n="number"===typeof r?Math.max(r,0):0;return e.substring(n,n+t.length)===t}r.d(t,{Z:function(){return n}})},3635:function(e,t,r){"use strict";r.d(t,{ci:function(){return p},nr:function(){return f},tG:function(){return u},uR:function(){return d},TZ:function(){return s},wV:function(){return l},wO:function(){return h}});var n=r(3887),i=r(811),a="object"===typeof window&&"function"===typeof window.TextDecoder,o="object"===typeof window&&"function"===typeof window.TextEncoder;function s(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint8Array(t),n=0;n<r.length;n+=2){var i=e.charCodeAt(n/2);r[n]=255&i,r[n+1]=i>>8&255}return r}function l(e){if(a)try{return new TextDecoder("utf-16le").decode(e)}catch(i){n.Z.warn("Utils: could not use TextDecoder to parse UTF-16LE, fallbacking to another implementation",i)}for(var t="",r=0;r<e.length;r+=2)t+=String.fromCharCode((e[r+1]<<8)+e[r]);return t}function u(e){if(o)try{return(new TextEncoder).encode(e)}catch(p){n.Z.warn("Utils: could not use TextEncoder to encode string into UTF-8, fallbacking to another implementation",p)}var t,r=encodeURIComponent(e);if("function"===typeof unescape)t=unescape(r);else{var i=/[0-9a-fA-F]/,a=r.length;t="";for(var s=0;s<r.length;s++){var l=!1;if("%"===r[s])if(s<=a-6&&"u"===r[s+1]&&i.test(r[s+2])&&i.test(r[s+3])&&i.test(r[s+4])&&i.test(r[s+5])){var u=parseInt(r.substring(s+1,s+6),16);t+=String.fromCharCode(u),l=!0,s+=5}else if(s<=a-3&&i.test(r[s+1])&&i.test(r[s+2])){var c=parseInt(r.substring(s+1,s+3),16);t+=String.fromCharCode(c),l=!0,s+=2}l||(t+=r[s])}}for(var d=new Uint8Array(t.length),f=0;f<t.length;f++)d[f]=255&t.charCodeAt(f);return d}function c(e,t){var r=e.toString(16);return r.length>=t?r:new Array(t-r.length+1).join("0")+r}function d(e){if(a)try{return(new TextDecoder).decode(e)}catch(u){n.Z.warn("Utils: could not use TextDecoder to parse UTF-8, fallbacking to another implementation",u)}var t=e;239===t[0]&&187===t[1]&&191===t[2]&&(t=t.subarray(3));var r,i=function(e){for(var t="",r=0;r<e.length;r+=16e3){var n=e.subarray(r,r+16e3);t+=String.fromCharCode.apply(null,n)}return t}(t);if("function"===typeof escape)r=escape(i);else{var o=/[A-Za-z0-9*_\+-\.\/]/;r="";for(var s=0;s<i.length;s++)if(o.test(i[s]))r+=i[s];else{var l=i.charCodeAt(s);r+=l>=256?"%u"+c(l,4):"%"+c(l,2)}}return decodeURIComponent(r)}function f(e){for(var t=e.length,r=new Uint8Array(t/2),n=0,i=0;n<t;n+=2,i++)r[i]=255&parseInt(e.substring(n,n+2),16);return r}function p(e,t){void 0===t&&(t="");for(var r="",n=0;n<e.byteLength;n++)r+=(e[n]>>>4).toString(16),r+=(15&e[n]).toString(16),t.length>0&&n<e.byteLength-1&&(r+=t);return r}function h(e){(0,i.Z)(16===e.length,"GUID length should be 16");var t=e[0],r=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=new Uint8Array(16);return c[0]=a,c[1]=n,c[2]=r,c[3]=t,c[4]=s,c[5]=o,c[6]=u,c[7]=l,c.set(e.subarray(8,16),8),c}},5278:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(1946);function i(){for(var e=0,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=r.length;e<a;){var o=r[e];if(!(0,n.Z)(o))return o;e++}}},8806:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7714),i=[];function a(e){(0,n.Z)(i,e)||(console.warn(e),i.push(e))}},7473:function(e){"use strict";var n=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e},i=function(e){var t,r,i=document.createTextNode(""),a=0;return new e((function(){var e;if(t)r&&(t=r.concat(t));else{if(!r)return;t=r}if(r=t,t=null,"function"===typeof r)return e=r,r=null,void e();for(i.data=a=++a%2;r;)e=r.shift(),r.length||(r=null),e()})).observe(i,{characterData:!0}),function(e){n(e),t?"function"===typeof t?t=[t,e]:t.push(e):(t=e,i.data=a=++a%2)}};e.exports=function(){if("object"===typeof t&&t&&"function"===typeof t.nextTick)return t.nextTick;if("function"===typeof queueMicrotask)return function(e){queueMicrotask(n(e))};if("object"===typeof document&&document){if("function"===typeof MutationObserver)return i(MutationObserver);if("function"===typeof WebKitMutationObserver)return i(WebKitMutationObserver)}return"function"===typeof r?function(e){r(n(e))}:"function"===typeof setTimeout||"object"===typeof setTimeout?function(e){setTimeout(n(e),0)}:null}()},8555:function(e,t,n){"use strict";var i,a=function(){},o="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,s="undefined"===typeof r?setTimeout:r,l=[];function u(){for(var e=0;e<l.length;e++)l[e][0](l[e][1]);l=[],i=!1}function c(e,t){l.push([e,t]),i||(i=!0,s(u,0))}function d(e){var t=e.owner,r=t._state,n=t._data,i=e[r],a=e.then;if("function"===typeof i){r="fulfilled";try{n=i(n)}catch(o){g(a,o)}}f(a,n)||("fulfilled"===r&&p(a,n),"rejected"===r&&g(a,n))}function f(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===typeof t)){var n=t.then;if("function"===typeof n)return n.call(t,(function(n){r||(r=!0,t===n?h(e,n):p(e,n))}),(function(t){r||(r=!0,g(e,t))})),!0}}catch(i){return r||g(e,i),!0}return!1}function p(e,t){e!==t&&f(e,t)||h(e,t)}function h(e,t){"pending"===e._state&&(e._state="settled",e._data=t,c(v,e))}function g(e,t){"pending"===e._state&&(e._state="settled",e._data=t,c(y,e))}function m(e){e._then=e._then.forEach(d)}function v(e){e._state="fulfilled",m(e)}function y(e){e._state="rejected",m(e),!e._handled&&o&&n.g.process.emit("unhandledRejection",e._data,e)}function b(e){n.g.process.emit("rejectionHandled",e)}function k(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof k===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function r(e){g(t,e)}try{e((function(e){p(t,e)}),r)}catch(n){r(n)}}(e,this)}k.prototype={constructor:k,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(a),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&o&&c(b,this)),"fulfilled"===this._state||"rejected"===this._state?c(d,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},k.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new k((function(t,r){var n=[],i=0;function a(e){return i++,function(r){n[e]=r,--i||t(n)}}for(var o,s=0;s<e.length;s++)(o=e[s])&&"function"===typeof o.then?o.then(a(s),r):n[s]=o;i||t(n)}))},k.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new k((function(t,r){for(var n,i=0;i<e.length;i++)(n=e[i])&&"function"===typeof n.then?n.then(t,r):t(n)}))},k.resolve=function(e){return e&&"object"===typeof e&&e.constructor===k?e:new k((function(t){t(e)}))},k.reject=function(e){return new k((function(t,r){r(e)}))},e.exports=k},5666:function(e){var t=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(x){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new w(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return{value:void 0,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=k(o,r);if(s){if(s===c)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=l;var c={};function d(){}function f(){}function p(){}var h={};h[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=p.prototype=d.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,s){var l=u(e[i],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,c;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=v.constructor=p,p.constructor=f,f.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new b(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),s(v,o,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}},2632:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n,i=r(5631),a=r(8170),o=r(4944);n||(n={});var s=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,a.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},4379:function(e,t,r){"use strict";r.d(t,{y:function(){return c}});var n=r(979),i=r(3142),a=r(2174),o=r(5050),s=r(3608);function l(e){return 0===e.length?s.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var u=r(150),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var o=this.operator,s=function(e,t,r){if(e){if(e instanceof n.L)return e;if(e[i.b])return e[i.b]()}return e||t||r?new n.L(e,t,r):new n.L(a.c)}(e,t,r);if(o?s.add(o.call(s,this.source)):s.add(this.source||u.v.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.v.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,r=t.closed,i=t.destination,a=t.isStopped;if(r||a)return!1;e=i&&i instanceof n.L?i:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=d(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(r){n(r),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:l(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},2174:function(e,t,r){"use strict";r.d(t,{c:function(){return a}});var n=r(150),i=r(1644),a={closed:!0,next:function(e){},error:function(e){if(n.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},2039:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var n=r(655),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(r(979).L)},2135:function(e,t,r){"use strict";r.d(t,{t:function(){return h}});var n=r(655),i=r(211),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return n.ZT(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(r(6114).o),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t}(r(2980).v))(a),s=r(3884),l=r(979),u=r(2632),c=function(e){function t(t,r,n){void 0===n&&(n=0);var i=e.call(this,t)||this;return i.scheduler=r,i.delay=n,i}return n.ZT(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new d(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(u.P.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(u.P.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(u.P.createComplete()),this.unsubscribe()},t}(l.L),d=function(){return function(e,t){this.notification=e,this.destination=t}}(),f=r(1016),p=r(8253),h=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return n.ZT(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new g(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=n.length;if(this.closed)throw new f.N;if(this.isStopped||this.hasError?t=s.w.EMPTY:(this.observers.push(e),t=new p.W(this,e)),i&&e.add(e=new c(e,i)),r)for(var o=0;o<a&&!e.closed;o++)e.next(n[o]);else for(o=0;o<a&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,a=0;a<i&&!(e-n[a].time<r);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&n.splice(0,a),n},t}(i.xQ),g=function(){return function(e,t){this.time=e,this.value=t}}()},211:function(e,t,r){"use strict";r.d(t,{Yc:function(){return c},xQ:function(){return d}});var n=r(655),i=r(4379),a=r(979),o=r(3884),s=r(1016),l=r(8253),u=r(3142),c=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return n.ZT(t,e),t}(a.L),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.ZT(t,e),t.prototype[u.b]=function(){return new c(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.N;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.N;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),o.w.EMPTY):this.isStopped?(e.complete(),o.w.EMPTY):(this.observers.push(e),new l.W(this,e))},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.y),f=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return n.ZT(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):o.w.EMPTY},t}(d)},8253:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(655),i=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return n.ZT(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(3884).w)},979:function(e,t,r){"use strict";r.d(t,{L:function(){return c}});var n=r(655),i=r(4156),a=r(2174),o=r(3884),s=r(3142),l=r(150),u=r(1644),c=function(e){function t(r,n,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a.c;break;case 1:if(!r){o.destination=a.c;break}if("object"===typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new d(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new d(o,r,n,i)}return o}return n.ZT(t,e),t.prototype[s.b]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(o.w),d=function(e){function t(t,r,n,o){var s,l=e.call(this)||this;l._parentSubscriber=t;var u=l;return(0,i.m)(r)?s=r:r&&(s=r.next,n=r.error,o=r.complete,r!==a.c&&(u=Object.create(r),(0,i.m)(u.unsubscribe)&&l.add(u.unsubscribe.bind(u)),u.unsubscribe=l.unsubscribe.bind(l))),l._context=u,l._next=s,l._error=n,l._complete=o,l}return n.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=l.v.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;(0,u.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};l.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),l.v.useDeprecatedSynchronousErrorHandling)throw r;(0,u.z)(r)}},t.prototype.__tryOrSetError=function(e,t,r){if(!l.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(n){return l.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):((0,u.z)(n),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c)},3884:function(e,t,r){"use strict";r.d(t,{w:function(){return s}});var n=r(9026),i=r(2009),a=r(4156),o=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,s=this._ctorUnsubscribe,u=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var d=0;d<r.length;++d)r[d].remove(this);if((0,a.m)(u)){s&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof o?l(h.errors):[h]}}if((0,n.k)(c)){d=-1;for(var f=c.length;++d<f;){var p=c[d];if((0,i.K)(p))try{p.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(l(h.errors)):t.push(h)}}}if(t)throw new o(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!==typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[r]:a.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof o?t.errors:t)}),[])}},150:function(e,t,r){"use strict";r.d(t,{v:function(){return i}});var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},7604:function(e,t,r){"use strict";r.d(t,{IY:function(){return s},Ds:function(){return l},ft:function(){return u}});var n=r(655),i=r(979),a=r(4379),o=r(7843),s=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,r}return n.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.L),l=(i.L,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.L));function u(e,t){if(!t.closed)return e instanceof a.y?e.subscribe(t):(0,o.s)(e)(t)}i.L},5142:function(e,t,r){"use strict";r.d(t,{aj:function(){return c}});var n=r(655),i=r(7507),a=r(9026),o=r(2039),s=r(2080),l=r(3375),u={};function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=void 0,n=void 0;return(0,i.K)(e[e.length-1])&&(n=e.pop()),"function"===typeof e[e.length-1]&&(r=e.pop()),1===e.length&&(0,a.k)(e[0])&&(e=e[0]),(0,l.n)(e,n).lift(new d(r))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,r){var n=e.call(this,t)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return n.ZT(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add((0,s.D)(this,n,void 0,r))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r){var n=this.values,i=n[r],a=this.toRespond?i===u?--this.toRespond:this.toRespond:0;n[r]=t,0===a&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(o.L)},9795:function(e,t,r){"use strict";r.d(t,{z:function(){return a}});var n=r(8170),i=r(2257);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.u)()(n.of.apply(void 0,e))}},1410:function(e,t,r){"use strict";r.d(t,{P:function(){return o}});var n=r(4379),i=r(4072),a=r(5631);function o(e){return new n.y((function(t){var r;try{r=e()}catch(n){return void t.error(n)}return(r?(0,i.D)(r):(0,a.c)()).subscribe(t)}))}},5631:function(e,t,r){"use strict";r.d(t,{E:function(){return i},c:function(){return a}});var n=r(4379),i=new n.y((function(e){return e.complete()}));function a(e){return e?function(e){return new n.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},4072:function(e,t,r){"use strict";r.d(t,{D:function(){return f}});var n=r(4379),i=r(7843),a=r(3884),o=r(5050),s=r(3109),l=r(999),u=r(336),c=r(9217);function d(e,t){if(null!=e){if(function(e){return e&&"function"===typeof e[o.L]}(e))return function(e,t){return new n.y((function(r){var n=new a.w;return n.add(t.schedule((function(){var i=e[o.L]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}(e,t);if((0,u.t)(e))return function(e,t){return new n.y((function(r){var n=new a.w;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}))}(e,t);if((0,c.z)(e))return(0,s.r)(e,t);if(function(e){return e&&"function"===typeof e[l.hZ]}(e)||"string"===typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.y((function(r){var n,i=new a.w;return i.add((function(){n&&"function"===typeof n.return&&n.return()})),i.add(t.schedule((function(){n=e[l.hZ](),i.add(t.schedule((function(){if(!r.closed){var e,t;try{var i=n.next();e=i.value,t=i.done}catch(a){return void r.error(a)}t?r.complete():(r.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function f(e,t){return t?d(e,t):e instanceof n.y?e:new n.y((0,i.s)(e))}},3375:function(e,t,r){"use strict";r.d(t,{n:function(){return o}});var n=r(4379),i=r(6900),a=r(3109);function o(e,t){return t?(0,a.r)(e,t):new n.y((0,i.V)(e))}},7027:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(4379),i=r(9026),a=r(4156),o=r(5709);function s(e,t,r,l){return(0,a.m)(r)&&(l=r,r=void 0),l?s(e,t,r).pipe((0,o.U)((function(e){return(0,i.k)(e)?l.apply(void 0,e):l(e)}))):new n.y((function(n){!function e(t,r,n,i,a){var o;if(function(e){return e&&"function"===typeof e.addEventListener&&"function"===typeof e.removeEventListener}(t)){var s=t;t.addEventListener(r,n,a),o=function(){return s.removeEventListener(r,n,a)}}else if(function(e){return e&&"function"===typeof e.on&&"function"===typeof e.off}(t)){var l=t;t.on(r,n),o=function(){return l.off(r,n)}}else if(function(e){return e&&"function"===typeof e.addListener&&"function"===typeof e.removeListener}(t)){var u=t;t.addListener(r,n),o=function(){return u.removeListener(r,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,d=t.length;c<d;c++)e(t[c],r,n,i,a)}i.add(o)}(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,r)}))}},6564:function(e,t,r){"use strict";r.d(t,{F:function(){return o}});var n=r(4379),i=r(964),a=r(5812);function o(e,t){return void 0===e&&(e=0),void 0===t&&(t=i.P),(!(0,a.k)(e)||e<0)&&(e=0),t&&"function"===typeof t.schedule||(t=i.P),new n.y((function(r){return r.add(t.schedule(s,e,{subscriber:r,counter:0,period:e})),r}))}function s(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}},4370:function(e,t,r){"use strict";r.d(t,{T:function(){return s}});var n=r(4379),i=r(7507),a=r(2556),o=r(3375);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,s=null,l=e[e.length-1];return(0,i.K)(l)?(s=e.pop(),e.length>1&&"number"===typeof e[e.length-1]&&(r=e.pop())):"number"===typeof l&&(r=e.pop()),null===s&&1===e.length&&e[0]instanceof n.y?e[0]:(0,a.J)(r)((0,o.n)(e,s))}},8170:function(e,t,r){"use strict";r.d(t,{of:function(){return o}});var n=r(7507),i=r(3375),a=r(3109);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return(0,n.K)(r)?(e.pop(),(0,a.r)(e,r)):(0,i.n)(e)}},8821:function(e,t,r){"use strict";r.d(t,{S3:function(){return l}});var n=r(655),i=r(9026),a=r(3375),o=r(2039),s=r(2080);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,i.k)(e[0]))return e[0];e=e[0]}return(0,a.n)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){var r=e.call(this,t)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return n.ZT(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],i=(0,s.D)(this,n,void 0,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==r){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(o.L)},4944:function(e,t,r){"use strict";r.d(t,{_:function(){return i}});var n=r(4379);function i(e,t){return t?new n.y((function(r){return t.schedule(a,0,{error:e,subscriber:r})})):new n.y((function(t){return t.error(e)}))}function a(e){var t=e.error;e.subscriber.error(t)}},9604:function(e,t,r){"use strict";r.d(t,{H:function(){return s}});var n=r(4379),i=r(964),a=r(5812),o=r(7507);function s(e,t,r){void 0===e&&(e=0);var s=-1;return(0,a.k)(t)?s=Number(t)<1?1:Number(t):(0,o.K)(t)&&(r=t),(0,o.K)(r)||(r=i.P),new n.y((function(t){var n=(0,a.k)(e)?e:+e-r.now();return r.schedule(l,n,{index:0,period:s,subscriber:t})}))}function l(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}}},486:function(e,t,r){"use strict";r.d(t,{K:function(){return a}});var n=r(655),i=r(7604);function a(e){return function(t){var r=new o(e),n=t.lift(r);return r.caught=n}}var o=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.selector,this.caught))},e}(),s=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.selector=r,i.caught=n,i}return n.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(o){return void e.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var n=new i.IY(this);this.add(n);var a=(0,i.ft)(r,n);a!==n&&this.add(a)}},t}(i.Ds)},2257:function(e,t,r){"use strict";r.d(t,{u:function(){return i}});var n=r(2556);function i(){return(0,n.J)(1)}},1931:function(e,t,r){"use strict";r.d(t,{x:function(){return a}});var n=r(655),i=r(979);function a(e,t){return function(r){return r.lift(new o(e,t))}}var o=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.compare,this.keySelector))},e}(),s=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.keySelector=n,i.hasKey=!1,"function"===typeof r&&(i.compare=r),i}return n.ZT(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var r=this.keySelector;t=r?r(e):e}catch(i){return this.destination.error(i)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))},t}(i.L)},6008:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(655),i=r(979);function a(e,t){return function(r){return r.lift(new o(e,t))}}var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return n.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)},t}(i.L)},6738:function(e,t,r){"use strict";r.d(t,{l:function(){return a}});var n=r(655),i=r(979);function a(){return function(e){return e.lift(new o)}}var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t.prototype._next=function(e){},t}(i.L)},5709:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(655),i=r(979);function a(e,t){return function(r){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(e,t))}}var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return n.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(i.L)},5602:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(655),i=r(979);function a(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.value))},e}(),s=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r,n}return n.ZT(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i.L)},2556:function(e,t,r){"use strict";r.d(t,{J:function(){return a}});var n=r(7746),i=r(3608);function a(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,n.zg)(i.y,e)}},7746:function(e,t,r){"use strict";r.d(t,{zg:function(){return s}});var n=r(655),i=r(5709),a=r(4072),o=r(7604);function s(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"===typeof t?function(n){return n.pipe(s((function(r,n){return(0,a.D)(e(r,n)).pipe((0,i.U)((function(e,i){return t(r,e,n,i)})))}),r))}:("number"===typeof t&&(r=t),function(t){return t.lift(new l(e,r))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))},e}(),u=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return n.ZT(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new o.IY(this),r=this.destination;r.add(t);var n=(0,o.ft)(e,t);n!==t&&r.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.Ds)},3756:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var n=r(7746);function i(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"===typeof t?(0,n.zg)((function(){return e}),t,r):("number"===typeof t&&(r=t),(0,n.zg)((function(){return e}),r))}},1421:function(e,t,r){"use strict";r.d(t,{O:function(){return f}});var n=r(655),i=r(211),a=r(4379),o=r(979),s=r(3884),l=r(3018),u=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return n.ZT(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.w).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e},t.prototype.refCount=function(){return(0,l.x)()(this)},t}(a.y),c=function(){var e=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return n.ZT(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.Yc);function f(e,t){return function(r){var n;if(n="function"===typeof e?e:function(){return e},"function"===typeof t)return r.lift(new p(n,t));var i=Object.create(r,c);return i.source=r,i.subjectFactory=n,i}}o.L;var p=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},e}()},3018:function(e,t,r){"use strict";r.d(t,{x:function(){return a}});var n=r(655),i=r(979);function a(){return function(e){return e.lift(new o(e))}}var o=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new s(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),s=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return n.ZT(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(i.L)},2807:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var n=r(655),i=r(979);function a(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new o(e,t,r))}}var o=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}(),s=function(e){function t(t,r,n,i){var a=e.call(this,t)||this;return a.accumulator=r,a._seed=n,a.hasSeed=i,a.index=0,a}return n.ZT(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(n){this.destination.error(n)}this.seed=t,this.destination.next(t)},t}(i.L)},9095:function(e,t,r){"use strict";r.d(t,{B:function(){return s}});var n=r(1421),i=r(3018),a=r(211);function o(){return new a.xQ}function s(){return function(e){return(0,i.x)()((0,n.O)(o)(e))}}},7006:function(e,t,r){"use strict";r.d(t,{d:function(){return i}});var n=r(2135);function i(e,t,r){var i;return i=e&&"object"===typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:r},function(e){return e.lift(function(e){var t,r,i=e.bufferSize,a=void 0===i?Number.POSITIVE_INFINITY:i,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,l=e.refCount,u=e.scheduler,c=0,d=!1,f=!1;return function(e){var i;c++,!t||d?(d=!1,t=new n.t(a,s,u),i=t.subscribe(this),r=e.subscribe({next:function(e){t.next(e)},error:function(e){d=!0,t.error(e)},complete:function(){f=!0,r=void 0,t.complete()}})):i=t.subscribe(this),this.add((function(){c--,i.unsubscribe(),r&&!f&&l&&0===c&&(r.unsubscribe(),r=void 0,t=void 0)}))}}(i))}}},3485:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var n=r(9795),i=r(7507);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return(0,i.K)(r)?(e.pop(),function(t){return(0,n.z)(e,t,r)}):function(t){return(0,n.z)(e,t)}}},6381:function(e,t,r){"use strict";r.d(t,{w:function(){return s}});var n=r(655),i=r(5709),a=r(4072),o=r(7604);function s(e,t){return"function"===typeof t?function(r){return r.pipe(s((function(r,n){return(0,a.D)(e(r,n)).pipe((0,i.U)((function(e,i){return t(r,e,n,i)})))})))}:function(t){return t.lift(new l(e))}}var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project))},e}(),u=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return n.ZT(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var r=new o.IY(this),n=this.destination;n.add(r),this.innerSubscription=(0,o.ft)(e,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(o.Ds)},1198:function(e,t,r){"use strict";r.d(t,{c:function(){return i}});var n=r(6381);function i(e,t){return t?(0,n.w)((function(){return e}),t):(0,n.w)((function(){return e}))}},1015:function(e,t,r){"use strict";r.d(t,{q:function(){return s}});var n=r(655),i=r(979),a=r(6565),o=r(5631);function s(e){return function(t){return 0===e?(0,o.c)():t.lift(new l(e))}}var l=function(){function e(e){if(this.total=e,this.total<0)throw new a.W}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return n.ZT(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.L)},1558:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var n=r(655),i=r(7604);function a(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new s(e),n=(0,i.ft)(this.notifier,new i.IY(r));return n&&!r.seenValue?(r.add(n),t.subscribe(r)):r},e}(),s=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return n.ZT(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.Ds)},3068:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var n=r(655),i=r(979),a=r(3306),o=r(4156);function s(e,t,r){return function(n){return n.lift(new l(e,t,r))}}var l=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(e){function t(t,r,n,i){var s=e.call(this,t)||this;return s._tapNext=a.Z,s._tapError=a.Z,s._tapComplete=a.Z,s._tapError=n||a.Z,s._tapComplete=i||a.Z,(0,o.m)(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||a.Z,s._tapError=r.error||a.Z,s._tapComplete=r.complete||a.Z),s}return n.ZT(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(i.L)},3109:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(4379),i=r(3884);function a(e,t){return new n.y((function(r){var n=new i.w,a=0;return n.add(t.schedule((function(){a!==e.length?(r.next(e[a++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},6114:function(e,t,r){"use strict";r.d(t,{o:function(){return i}});var n=r(655),i=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return n.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,r){return e.call(this)||this}return n.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(3884).w))},2980:function(e,t,r){"use strict";r.d(t,{v:function(){return a}});var n=r(655),i=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),a=function(e){function t(r,n){void 0===n&&(n=i.now);var a=e.call(this,r,(function(){return t.delegate&&t.delegate!==a?t.delegate.now():n()}))||this;return a.actions=[],a.active=!1,a.scheduled=void 0,a}return n.ZT(t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(i)},964:function(e,t,r){"use strict";r.d(t,{P:function(){return i}});var n=r(6114),i=new(r(2980).v)(n.o)},999:function(e,t,r){"use strict";function n(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}r.d(t,{hZ:function(){return i}});var i=n()},5050:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});var n=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},3142:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});var n=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},6565:function(e,t,r){"use strict";r.d(t,{W:function(){return n}});var n=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},1016:function(e,t,r){"use strict";r.d(t,{N:function(){return n}});var n=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},1644:function(e,t,r){"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,{z:function(){return n}})},3608:function(e,t,r){"use strict";function n(e){return e}r.d(t,{y:function(){return n}})},9026:function(e,t,r){"use strict";r.d(t,{k:function(){return n}});var n=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}()},9217:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var n=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},9914:function(e,t,r){"use strict";function n(e){return e instanceof Date&&!isNaN(+e)}r.d(t,{J:function(){return n}})},4156:function(e,t,r){"use strict";function n(e){return"function"===typeof e}r.d(t,{m:function(){return n}})},5812:function(e,t,r){"use strict";r.d(t,{k:function(){return i}});var n=r(9026);function i(e){return!(0,n.k)(e)&&e-parseFloat(e)+1>=0}},2009:function(e,t,r){"use strict";function n(e){return null!==e&&"object"===typeof e}r.d(t,{K:function(){return n}})},336:function(e,t,r){"use strict";function n(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}r.d(t,{t:function(){return n}})},7507:function(e,t,r){"use strict";function n(e){return e&&"function"===typeof e.schedule}r.d(t,{K:function(){return n}})},3306:function(e,t,r){"use strict";function n(){}r.d(t,{Z:function(){return n}})},7843:function(e,t,r){"use strict";r.d(t,{s:function(){return c}});var n=r(6900),i=r(1644),a=r(999),o=r(5050),s=r(9217),l=r(336),u=r(2009),c=function(e){if(e&&"function"===typeof e[o.L])return c=e,function(e){var t=c[o.L]();if("function"!==typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,s.z)(e))return(0,n.V)(e);if((0,l.t)(e))return r=e,function(e){return r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.z),e};if(e&&"function"===typeof e[a.hZ])return t=e,function(e){for(var r=t[a.hZ]();;){var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"===typeof r.return&&e.add((function(){r.return&&r.return()})),e};var t,r,c,d=(0,u.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},6900:function(e,t,r){"use strict";r.d(t,{V:function(){return n}});var n=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}}},2080:function(e,t,r){"use strict";r.d(t,{D:function(){return s}});var n=r(655),i=function(e){function t(t,r,n){var i=e.call(this)||this;return i.parent=t,i.outerValue=r,i.outerIndex=n,i.index=0,i}return n.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(r(979).L),a=r(7843),o=r(4379);function s(e,t,r,n,s){if(void 0===s&&(s=new i(e,r,n)),!s.closed)return t instanceof o.y?t.subscribe(s):(0,a.s)(t)(s)}},655:function(e,t,r){"use strict";r.d(t,{ZT:function(){return i}});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}},n={};function i(t){if(n[t])return n[t].exports;var r=n[t]={exports:{}};return e[t](r,r.exports,i),r.exports}return i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i(1452)}().default},e.exports=n()}).call(this,r(94),r(280).setImmediate)},function(e,t,r){"use strict";(function(e,n){var i,a=r(178);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:n;var o=Object(a.a)(i);t.a=o}).call(this,r(48),r(216)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(20),i=r(22),a=r(18),o=r(7),s=r(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={path:s.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},s.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),s.createElement("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),s.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})),viewBox:"0 0 24 24"},c=Object(n.a)((function(e,t){var r=e.as,n=e.viewBox,o=e.color,c=void 0===o?"currentColor":o,d=e.focusable,f=void 0!==d&&d,p=e.children,h=e.className,g=e.__css,m=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["as","viewBox","color","focusable","children","className","__css"]),v={ref:t,focusable:f,className:Object(a.c)("chakra-icon",h),__css:l({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:c},g)},y=null!=n?n:u.viewBox;if(r&&"string"!==typeof r)return s.createElement(i.a.svg,l({as:r},v,m));var b=null!=p?p:u.path;return s.createElement(i.a.svg,l({verticalAlign:"middle",viewBox:y},v,m),b)}));o.a&&(c.displayName="Icon")},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return l}));var n=r(4),i=r(27),a=r(0);function o(e,t){var r=a.useRef(void 0!==e).current;return[r,r&&"undefined"!==typeof e?e:t]}var s={value:"value",defaultValue:"defaultValue",onChange:"onChange"};function l(e){var t=e.value,r=e.defaultValue,o=e.onChange,l=e.name,u=void 0===l?"Component":l,c=e.propsMap,d=void 0===c?s:c,f=a.useState(r),p=Object(n.a)(f,2),h=p[0],g=p[1],m=a.useRef(void 0!==t).current;a.useEffect((function(){var e=void 0!==t,r=e?"a controlled":"an uncontrolled",n=m?"a controlled":"an uncontrolled";Object(i.e)({condition:m!==e,message:"Warning: "+u+" is changing from "+n+" to "+r+" component. Components should not switch from controlled to uncontrolled (or vice versa). Use the '"+d.value+"' with an '"+d.onChange+"' handler. If you want an uncontrolled component, remove the "+d.value+" prop and use '"+d.defaultValue+"' instead. \"More info: https://fb.me/react-controlled-components"})}),[t,m,u]);var v=a.useRef(r).current;a.useEffect((function(){Object(i.e)({condition:v!==r,message:"Warning: A component is changing the default value of an uncontrolled "+u+" after being initialized. To suppress this warning opt to use a controlled "+u+"."})}),[JSON.stringify(r)]);var y=m?t:h,b=a.useCallback((function(e){var t=Object(i.d)(e,y);m||g(t),null==o||o(t)}),[o]);return[y,b]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(4),i=r(74),a=r(111),o=r(75),s=r(18),l=r(27),u=r(64),c=r(310),d=r(0);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){void 0===e&&(e={});var t=e,r=t.defaultIsChecked,p=t.isChecked,g=t.isFocusable,m=t.isDisabled,v=t.isReadOnly,y=t.isRequired,b=t.onChange,k=t.isIndeterminate,_=t.isInvalid,E=t.name,w=t.value,S=t.id,T=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["defaultIsChecked","isChecked","isFocusable","isDisabled","isReadOnly","isRequired","onChange","isIndeterminate","isInvalid","name","value","id"]),x=Object(i.a)(),O=Object(n.a)(x,2),P=O[0],A=O[1],C=Object(i.a)(),M=Object(n.a)(C,2),I=M[0],R=M[1],D=Object(i.a)(),j=Object(n.a)(D,2),L=j[0],N=j[1],U=Object(d.useRef)(null),B=Object(d.useState)(!!r),F=Object(n.a)(B,2),z=F[0],V=F[1],$=Object(a.a)(p,z),W=Object(n.a)($,2),K=W[0],H=W[1],G=Object(d.useCallback)((function(e){v||m?e.preventDefault():(K||V(H?e.target.checked:!!k||e.target.checked),null==b||b(e))}),[v,m,H,K,k,b]);Object(o.a)((function(){U.current&&(U.current.indeterminate=Boolean(k))}),[k]);var Z=m&&!g,q=Object(d.useCallback)((function(e){" "===e.key&&N.on()}),[N]),X=Object(d.useCallback)((function(e){" "===e.key&&N.off()}),[N]);Object(o.a)((function(){U.current&&((U.current.checked&&!H||!U.current.checked&&H)&&V(U.current.checked))}),[U.current]);return{state:{isInvalid:_,isFocused:P,isChecked:H,isActive:L,isHovered:I,isIndeterminate:k,isDisabled:m,isReadOnly:v,isRequired:y},getCheckboxProps:function(e,t){void 0===e&&(e={}),void 0===t&&(t=null);return f({},e,{ref:t,"data-active":Object(s.d)(L),"data-hover":Object(s.d)(I),"data-checked":Object(s.d)(H),"data-focus":Object(s.d)(P),"data-indeterminate":Object(s.d)(k),"data-disabled":Object(s.d)(m),"data-invalid":Object(s.d)(_),"data-readonly":Object(s.d)(v),"aria-hidden":!0,onMouseDown:Object(l.b)(e.onMouseDown,(function(e){e.preventDefault(),N.on()})),onMouseUp:Object(l.b)(e.onMouseUp,N.off),onMouseEnter:Object(l.b)(e.onMouseEnter,R.on),onMouseLeave:Object(l.b)(e.onMouseLeave,R.off)})},getInputProps:function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),f({},e,{ref:Object(u.c)(U,t),type:"checkbox",name:E,value:w,id:S,onChange:Object(l.b)(e.onChange,G),onBlur:Object(l.b)(e.onBlur,A.off),onFocus:Object(l.b)(e.onFocus,A.on),onKeyDown:Object(l.b)(e.onKeyDown,q),onKeyUp:Object(l.b)(e.onKeyUp,X),required:y,checked:H,disabled:Z,readOnly:v,"aria-invalid":_,"aria-disabled":m,style:c.b})},getLabelProps:function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),f({},e,{ref:t,onMouseDown:Object(l.b)(e.onMouseDown,h),onTouchStart:Object(l.b)(e.onTouchStart,h),"data-disabled":Object(s.d)(m),"data-checked":Object(s.d)(H),"data-invalid":Object(s.d)(_)})},htmlProps:T}}function h(e){e.preventDefault(),e.stopPropagation()}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(256))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(266))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(268))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(276))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(0),i=r(179),a=!1,o=0,s=function(){return++o};function l(e,t){return e+"-"+t}function u(e,t){var r=function(e){var t=e||(a?s():null),r=Object(n.useState)(t),o=r[0],l=r[1];return Object(i.a)((function(){null===o&&l(s())}),[]),Object(n.useEffect)((function(){!1===a&&(a=!0)}),[]),null!=o?String(o):void 0}(),o=null!=e?e:r;return t?l(t,o):o}function c(e){for(var t=u(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=n.map((function(e){return l(e,t)}));return a}},,,,function(e,t,r){(function(e,r){var n=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var o="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,l=o||s||Function("return this")(),u=t&&!t.nodeType&&t,c=u&&"object"==typeof r&&r&&!r.nodeType&&r,d=c&&c.exports===u,f=d&&o.process,p=function(){try{var e=c&&c.require&&c.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(t){}}(),h=p&&p.isTypedArray;function g(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var m,v,y=Array.prototype,b=Function.prototype,k=Object.prototype,_=l["__core-js_shared__"],E=b.toString,w=k.hasOwnProperty,S=function(){var e=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),T=k.toString,x=E.call(Object),O=RegExp("^"+E.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=d?l.Buffer:void 0,A=l.Symbol,C=l.Uint8Array,M=P?P.allocUnsafe:void 0,I=(m=Object.getPrototypeOf,v=Object,function(e){return m(v(e))}),R=Object.create,D=k.propertyIsEnumerable,j=y.splice,L=A?A.toStringTag:void 0,N=function(){try{var e=le(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),U=P?P.isBuffer:void 0,B=Math.max,F=Date.now,z=le(l,"Map"),V=le(Object,"create"),$=function(){function e(){}return function(t){if(!ke(t))return{};if(R)return R(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function W(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function H(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function G(e){var t=this.__data__=new K(e);this.size=t.size}function Z(e,t){var r=ge(e),n=!r&&he(e),i=!r&&!n&&ve(e),a=!r&&!n&&!i&&Ee(e),o=r||n||i||a,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var u in e)!t&&!w.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ue(u,l))||s.push(u);return s}function q(e,t,r){(void 0!==r&&!pe(e[t],r)||void 0===r&&!(t in e))&&Q(e,t,r)}function X(e,t,r){var n=e[t];w.call(e,t)&&pe(n,r)&&(void 0!==r||t in e)||Q(e,t,r)}function Y(e,t){for(var r=e.length;r--;)if(pe(e[r][0],t))return r;return-1}function Q(e,t,r){"__proto__"==t&&N?N(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}W.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},W.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},W.prototype.get=function(e){var t=this.__data__;if(V){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return w.call(t,e)?t[e]:void 0},W.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:w.call(t,e)},W.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=V&&void 0===t?"__lodash_hash_undefined__":t,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(e){var t=this.__data__,r=Y(t,e);return!(r<0)&&(r==t.length-1?t.pop():j.call(t,r,1),--this.size,!0)},K.prototype.get=function(e){var t=this.__data__,r=Y(t,e);return r<0?void 0:t[r][1]},K.prototype.has=function(e){return Y(this.__data__,e)>-1},K.prototype.set=function(e,t){var r=this.__data__,n=Y(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},H.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(z||K),string:new W}},H.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},H.prototype.get=function(e){return se(this,e).get(e)},H.prototype.has=function(e){return se(this,e).has(e)},H.prototype.set=function(e,t){var r=se(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},G.prototype.clear=function(){this.__data__=new K,this.size=0},G.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},G.prototype.get=function(e){return this.__data__.get(e)},G.prototype.has=function(e){return this.__data__.has(e)},G.prototype.set=function(e,t){var r=this.__data__;if(r instanceof K){var n=r.__data__;if(!z||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new H(n)}return r.set(e,t),this.size=r.size,this};var J,ee=function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[J?o:++n];if(!1===t(i[s],s,i))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=w.call(e,L),r=e[L];try{e[L]=void 0;var n=!0}catch(a){}var i=T.call(e);n&&(t?e[L]=r:delete e[L]);return i}(e):function(e){return T.call(e)}(e)}function re(e){return _e(e)&&"[object Arguments]"==te(e)}function ne(e){return!(!ke(e)||function(e){return!!S&&S in e}(e))&&(ye(e)?O:n).test(function(e){if(null!=e){try{return E.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function ie(e){if(!ke(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ce(e),r=[];for(var n in e)("constructor"!=n||!t&&w.call(e,n))&&r.push(n);return r}function ae(e,t,r,n,i){e!==t&&ee(t,(function(a,o){if(i||(i=new G),ke(a))!function(e,t,r,n,i,a,o){var s=de(e,r),l=de(t,r),u=o.get(l);if(u)return void q(e,r,u);var c=a?a(s,l,r+"",e,t,o):void 0,d=void 0===c;if(d){var f=ge(l),p=!f&&ve(l),h=!f&&!p&&Ee(l);c=l,f||p||h?ge(s)?c=s:_e(g=s)&&me(g)?c=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(s):p?(d=!1,c=function(e,t){if(t)return e.slice();var r=e.length,n=M?M(r):new e.constructor(r);return e.copy(n),n}(l,!0)):h?(d=!1,c=function(e,t){var r=t?function(e){var t=new e.constructor(e.byteLength);return new C(t).set(new C(e)),t}(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(l,!0)):c=[]:function(e){if(!_e(e)||"[object Object]"!=te(e))return!1;var t=I(e);if(null===t)return!0;var r=w.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&E.call(r)==x}(l)||he(l)?(c=s,he(s)?c=function(e){return function(e,t,r,n){var i=!r;r||(r={});var a=-1,o=t.length;for(;++a<o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),i?Q(r,s,l):X(r,s,l)}return r}(e,we(e))}(s):ke(s)&&!ye(s)||(c=function(e){return"function"!=typeof e.constructor||ce(e)?{}:$(I(e))}(l))):d=!1}var g;d&&(o.set(l,c),i(c,l,n,a,o),o.delete(l));q(e,r,c)}(e,t,o,r,ae,n,i);else{var s=n?n(de(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),q(e,o,s)}}),we)}function oe(e,t){return fe(function(e,t,r){return t=B(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=B(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),g(e,this,s)}}(e,t,xe),e+"")}function se(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function le(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ne(r)?r:void 0}function ue(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&i.test(e))&&e>-1&&e%1==0&&e<t}function ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k)}function de(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var fe=function(e){var t=0,r=0;return function(){var n=F(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(N?function(e,t){return N(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:xe);function pe(e,t){return e===t||e!==e&&t!==t}var he=re(function(){return arguments}())?re:function(e){return _e(e)&&w.call(e,"callee")&&!D.call(e,"callee")},ge=Array.isArray;function me(e){return null!=e&&be(e.length)&&!ye(e)}var ve=U||function(){return!1};function ye(e){if(!ke(e))return!1;var t=te(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function _e(e){return null!=e&&"object"==typeof e}var Ee=h?function(e){return function(t){return e(t)}}(h):function(e){return _e(e)&&be(e.length)&&!!a[te(e)]};function we(e){return me(e)?Z(e,!0):ie(e)}var Se,Te=(Se=function(e,t,r,n){ae(e,t,r,n)},oe((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,a=n>2?t[2]:void 0;for(i=Se.length>3&&"function"==typeof i?(n--,i):void 0,a&&function(e,t,r){if(!ke(r))return!1;var n=typeof t;return!!("number"==n?me(r)&&ue(t,r.length):"string"==n&&t in r)&&pe(r[t],e)}(t[0],t[1],a)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var o=t[r];o&&Se(e,o,r,i)}return e})));function xe(e){return e}r.exports=Te}).call(this,r(48),r(212)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(7),i=r(176),a=r.n(i);function o(e,t){if(!t||null==e)return e;var r,i,o=e.toString();if(i="-",o.slice(0,0+i.length)===i){var s=t[o.slice(1)];r=Object(n.h)(s)?"-"+s:Object(n.f)(s)?-1*s:e}else{var l;r=null!=(l=t[e])?l:e}var u=r||e;return a()(u)||Number.isNaN(Number(u))||(u=Number(u)),u}},function(e,t){},function(e,t,r){"use strict";r(7),r(69)},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(25),i=r(6),a=r(10),o=r(53),s=Object(i.a)(a.a,a.c,a.e,a.g,a.k,a.q,a.i,a.o,a.s,a.u,a.w,a.C,a.y,a.m,a.A),l=(Object(i.a)(a.w,a.k,a.g,a.i,a.s).propNames,[].concat(Object(n.a)(s.propNames),Object(n.a)(o.pseudoPropNames)))},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseConfiguration=void 0;t.baseConfiguration={videoStreamer:{logLevel:"WARNING"},interactionDetector:{inactivityDelay:2},keyboardShortcuts:{keyMap:{togglePause:[" ","Enter","P"],toggleFullscreen:"F",decreaseVolume:"-",increaseVolume:"+",skipBack:",",skipForward:".",toggleUserActive:"C",toggleMute:"M"}},responsivenessRules:[{className:"narrow",width:{max:500}},{className:"medium-width",width:{min:500,max:1e3}},{className:"wide",width:{min:1e3}}],userSettings:{hasPrecedence:!1,storageKey:"replay-settings",settingsStoragePolicy:{volume:"local",isMuted:"local",textTrackLanguage:"local",textTrackKind:"local",audioTrackLanguage:"local",audioTrackKind:"local"}},controls:{skipButtonOffset:-10,qualitySelectionStrategy:"cap-bitrate",liveDisplayMode:"clock-time"},playbackMonitor:{visibleAtStart:!1}}},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13),l=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=p(r(137)),d=r(9),f=p(r(138));function p(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){o(r,e);var t=s(r);function r(e){var i;n(this,r),i=t.call(this,e),v(a(i),"inspectableStreamState",{}),v(a(i),"observeManager",function(){var e={};return{observe:function(t,r){t in e||(e[t]=[]),e[t].push(r)},unobserve:function(t,r){if(Array.isArray(e[t])){var n=e[t].indexOf(r);-1!==n&&e[t].splice(n,1)}},update:function(t){Object.keys(t).forEach((function(r){Array.isArray(e[r])&&e[r].forEach((function(e){e(t)}))}))},unobserveAll:function(){Object.entries(e).forEach((function(e){for(var t=l(e,2),r=(t[0],t[1]);r.length;)r.pop()}))}}}()),v(a(i),"inspect",(function(){return i.inspectableStreamState})),v(a(i),"mergeConfiguration",(0,f.default)(d.override)),v(a(i),"setProperties",(function(e){return i.state.setProperties(e)})),v(a(i),"onVideoStreamerReady",(function(e){var t=e.setProperties;i.inspectableStreamState={},i.setState({setProperties:t})})),v(a(i),"onStreamStateChange",(function(e){i.observeManager.update(e),i.inspectableStreamState=m({},i.inspectableStreamState,{},e),i.props.onStreamStateChange&&i.props.onStreamStateChange(e)}));var o={initialPlaybackProps:i.props.initialPlaybackProps,onReady:i.onVideoStreamerReady,onPlaybackError:i.props.onStreamerError,onStreamStateChange:i.onStreamStateChange};return i.state={videoStreamerProps:o,setProperties:function(){}},i}return i(r,[{key:"componentDidMount",value:function(){var e,t=this,r=this.props.onPlaybackActionsReady;r&&r({play:function(){return e({isPaused:!1})},pause:function(){return e({isPaused:!0})},setPosition:function(t){return e({position:t})},gotoLive:function(){return e({isAtLiveEdge:!0})},setVolume:function(t){return e({volume:t})},setIsMuted:function(t){return e({isMuted:t})},mute:function(){return e({isMuted:!0})},unmute:function(){return e({isMuted:!1})},requestPictureInPicture:function(){return e({isPipActive:!0})},exitPictureInPicture:function(){return e({isPipActive:!1})},showAirPlayTargetPicker:function(){return e({isAirPlayTargetPickerVisible:!0})},setSelectedAudioTrack:function(t){return e({selectedAudioTrack:t})},setSelectedTextTrack:function(t){return e({selectedTextTrack:t})},capBitrate:function(t){return e({bitrateCap:t})},fixBitrate:function(t){return e({bitrateFix:t})},setProperties:e=function(e){return t.setProperties(e)},inspect:function(){return t.inspect()}})}},{key:"componentWillUnmount",value:function(){this.observeManager.unobserveAll()}},{key:"render",value:function(){var e,t,r=this.state,n=r.setProperties,i=r.videoStreamerProps,a=this.observeManager,o=this.props,s=o.render,l=o.externalProps,d=o.configuration,f=o.options,p=this.mergeConfiguration(d,f),h=a.observe,g=a.unobserve,v={setProperties:n,videoStreamer:(e=this.props.children,t=m({},i,{configuration:p.videoStreamer}),u.Children.map(e,(function(e,r){return 0===r?u.cloneElement(e,t):e}))[0]),observe:h,inspect:this.inspect,unobserve:g};return u.createElement(c.default.Provider,{value:v},s({controllerApi:v,configuration:p,externalProps:l}))}}]),r}(u.Component);t.default=y},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,r){var n=r(136);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";function n(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(0)).createContext({setProperties:function(){},videoStreamer:null,inspect:function(){return{}},observe:null,unobserve:function(){}});t.default=i},function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}r.r(t),t.default=function(e,t){var r;void 0===t&&(t=n);var i,a=[],o=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return o&&r===this&&t(n,a)||(i=e.apply(this,n),o=!0,r=this,a=n),i}}},function(e,t,r){"use strict";var n,i=r(11),a=r(17),o=r(12),s=r(13);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){o(r,e);var t=s(r);function r(){var e;i(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),l(a(e),"baseClassName","controls-bar"),e}return r}(((n=r(140))&&n.__esModule?n:{default:n}).default);u.displayName="ControlsBar";var c=u;t.default=c},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"baseClassName","container"),d(a(e),"selectClasses",(function(e){return e.container})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.classNamePrefix,n=e.classes,i=e.children,a=this.selectClasses,o=(0,u.hydrateClassNames)({classes:n,selectClasses:a,classNamePrefix:r,classNames:[t,this.baseClassName]});return l.createElement("div",{className:o},i)}}]),r}(l.Component);d(f,"defaultProps",{classNamePrefix:u.defaultClassNamePrefix,useDefaultClassNaming:!0});var p=f;t.default=p},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(t){e.props.setProperties&&e.props.setProperties({isFullscreen:t})})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.isFullscreen,r=e.fullscreenContent,n=e.normalContent,i=e.label,a=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:a,isOn:t,className:"fullscreen-button",label:i,onToggle:this.handleToggle,toggledOnContent:r,toggledOffContent:n})}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),h.displayName="FullscreenButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=(s=r(78))&&s.__esModule?s:{default:s},c=r(9);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}var f=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"render",value:function(){var e=this.props,t=e.content,r=e.label,n=e.classNamePrefix,i=e.onClick;return i?l.createElement(u.default,{classNamePrefix:n,className:"exit-button",label:r,onClick:i,content:t}):null}}]),r}(l.Component);!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(f,"defaultProps",{classNamePrefix:c.defaultClassNamePrefix}),f.displayName="ExitButton";var p=f;t.default=p},function(e,t,r){"use strict";var n=r(17),i=r(11),a=r(15),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PropTableRow=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9),c=p(r(78)),d=p(r(66)),f=p(r(144));function p(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=["playMode","playState","isPaused","isBuffering","isSeeking","position","duration","absolutePosition","absoluteStartPosition","isAtLiveEdge","isPipAvailable","isPipActive","isAirPlayAvailable","isAirPlayActive","bufferedAhead","bitrateFix","bitrateCap","currentBitrate","bitrates","currentTextTrack","textTracks","currentAudioTrack","audioTracks","volume","isMuted","error"],v=function e(t){if(t instanceof Date)return isNaN(t.getTime())?t.toString():t.toISOString();if("number"===typeof t)return t%1!==0?t.toFixed(2):t;if("function"===typeof t)return"function :-o";if(t instanceof Error){var r=[];return t.message&&r.push("message: '".concat(t.message,"'")),t.code&&r.push("code: '".concat(t.code,"'")),t.severity&&r.push("severity: '".concat(t.severity,"'")),"{".concat(r.join(","),"}")}return Array.isArray(t)?"["+t.map(e).join(",")+"]":"boolean"===typeof t?t.toString():"string"===typeof t?t:t?JSON.stringify(t).replace(/(")(([A-Z]|[a-z]|[0-9])+)(")(:)/g,"$2$5").replace(/(handlers|props|methods|constants):\{(.*?)},/g,""):t},y=function(e){o(r,e);var t=s(r);function r(e){var n;return i(this,r),(n=t.call(this,e)).state={currentValue:e.inspect()[e.propertyName]},n}return a(r,[{key:"render",value:function(){var e=this.props,t=e.prefixedClassNames,r=e.propertyName,n=this.state,i=n.currentValue,a=n.previousValue,o=v(i),s=v(a);return l.createElement("tr",null,l.createElement("th",{title:r,className:t.propName},r),l.createElement("td",{title:o,className:t.currentValue},o),l.createElement("td",{title:s,className:t.previousValue},s))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.propertyName in e&&(0,u.isDifferent)(e[e.propertyName],t.currentValue)?{currentValue:e[e.propertyName],previousValue:t.currentValue}:null}}]),r}(l.Component);t.PropTableRow=y;var b={};m.forEach((function(e){b[e]=(0,d.default)(y,[e])}));var k=function(e){return!!(e.configuration&&e.configuration.playbackMonitor&&e.configuration.playbackMonitor.visibleAtStart)},_=function(e){var t=e.prefixedClassNames;return l.createElement("tr",{className:t.headerRow},l.createElement("th",{className:t.propName},"Property name"),l.createElement("th",{className:t.currentValue},"Current value"),l.createElement("th",{className:t.previousValue},"Previous value"))},E=function(e){o(r,e);var t=s(r);function r(e){var a;return i(this,r),a=t.call(this,e),g(n(a),"handleCloseClick",(function(){return a.setState({isMonitorVisible:!1})})),g(n(a),"handleKeyDown",(function(e){e.ctrlKey&&e.altKey&&"KeyM"===e.code&&a.setState({isMonitorVisible:!a.state.isMonitorVisible})})),a.state={isMonitorVisible:k(e)},a}return a(r,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e,t,r){!k(e)&&k(this.props)&&this.setState({isMonitorVisible:!0})}},{key:"render",value:function(){var e=this.props,t=e.label,r=e.classNamePrefix,n=e.closeButtonContent;return this.state.isMonitorVisible?l.createElement("div",{title:t,className:(0,u.prefixClassNames)(r,"playback-monitor")},l.createElement("div",{className:(0,u.prefixClassNames)(r,"playback-monitor-header")},l.createElement(c.default,{className:"playback-monitor-close-button",classNamePrefix:r,content:n,label:"Close",onClick:this.handleCloseClick}),l.createElement("p",{className:(0,u.prefixClassNames)(r,"playback-monitor-version")},"Replay v",f.default)),l.createElement("table",{className:(0,u.prefixClassNames)(r,"playback-monitor-stream-state")},l.createElement("tbody",null,function(e){var t={headerRow:(0,u.prefixClassNames)(e,"playback-monitor-table-header"),propName:(0,u.prefixClassNames)(e,"playback-monitor-property-name"),currentValue:(0,u.prefixClassNames)(e,"playback-monitor-current-value"),previousValue:(0,u.prefixClassNames)(e,"playback-monitor-previous-value")};return[l.createElement(_,{key:"header-row",prefixedClassNames:t})].concat(m.map((function(e){var r=b[e];return l.createElement(r,{key:"prop-row-".concat(e),prefixedClassNames:t,propertyName:e})})))}(r)))):null}}]),r}(l.Component);g(E,"defaultProps",{classNamePrefix:u.defaultClassNamePrefix}),E.displayName="PlaybackMonitor";var w=E;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="0.0.0";try{n="2.0.3"}catch(a){}var i=n;t.default=i},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getConnectedPlayerUIContainer=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),l=r(9),u=g(r(146)),c=g(r(147)),d=g(r(148)),f=g(r(149)),p=g(r(150)),h=g(r(237));function g(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k={responsivenessPrefix:"player-size-",volumePrefix:"volume-level-",isFullscreen:"is-fullscreen",isUserActive:"is-user-active",isUserInactive:"is-user-inactive",isBuffering:"is-buffering",isSeeking:"is-seeking",isPlaying:"is-playing",isPaused:"is-paused",isStarting:"is-starting",isMuted:"is-muted",isAtLiveEdge:"is-at-live-edge",isLive:"is-live",isOnDemand:"is-on-demand",isDvrEnabled:"is-dvr-enabled",isFailed:"is-failed"},_=function(e){return e},E=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,g=r(p.default),m=r(f.default);return t=e=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"render",value:function(){var e=this.props,t=e.classNamePrefix,r=e.render,n=e.configuration,i=e.aspectRatio,a=e.className,o=t?t.substr(0,t.length-1):a;return s.createElement(c.default,{rootClassName:o,aspectRatio:i||n&&n.aspectRatio,aspectFixClassName:"aspect-ratio-fix",classNamePrefix:t,render:function(){return s.createElement(u.default,{render:function(e){var i=e.onRef,a=y(e,["onRef"]);return s.createElement(d.default,{configuration:n,render:function(e){var o=e.handleMouseMove,l=e.handleTouchStart,u=e.handleTouchEnd,c=e.handleFocus,d=y(e,["handleMouseMove","handleTouchStart","handleTouchEnd","handleFocus"]);return s.createElement(m,{configuration:n,fullscreenState:a,nudge:d.nudge,toggleFixedUserActive:d.toggleFixedUserActive,render:function(e){var f=e.handleKeyDown;return s.createElement(h.default,{onRef:i,configuration:n,render:function(e){var n=e.onRef,i=e.responsiveClassNames;return s.createElement(g,v({},a,d,{classNameDefinitions:k,classNamePrefix:t,className:"ui-container",extraClassNames:i,render:function(e){return s.createElement("div",{className:e,tabIndex:0,ref:n,onMouseMove:o,onTouchStart:l,onTouchEnd:u,onKeyDown:f,onFocus:c},r({fullscreenState:a,interactionState:d}))}}))}})}})}})}})}})}}]),r}(s.Component),b(e,"defaultProps",{classNamePrefix:l.defaultClassNamePrefix,className:l.defaultClassNamePrefix.substr(0,l.defaultClassNamePrefix.length-1),aspectRatio:{horizontal:16,vertical:9}}),t};t.getConnectedPlayerUIContainer=E;var w=E();t.default=w},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(236);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),d(a(i),"fullscreenTarget",void 0),d(a(i),"unsubscribe",void 0),d(a(i),"onRef",(function(e){i.fullscreenTarget=e,i.setState({isFullscreen:(0,u.getFullscreenElement)()===e})})),d(a(i),"onFullscreenChange",(function(){var e=(0,u.getFullscreenElement)();i.setState({isFullscreen:!(!e||e!==i.fullscreenTarget)})})),d(a(i),"enterFullscreen",(function(){i.fullscreenTarget&&(0,u.enterFullscreen)(i.fullscreenTarget)})),d(a(i),"exitFullscreen",(function(){i.fullscreenTarget&&(0,u.exitFullscreen)(i.fullscreenTarget)})),d(a(i),"setProperties",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isFullscreen;t?i.enterFullscreen():i.exitFullscreen()})),i.state={isFullscreen:!1},i.unsubscribe=(0,u.notifyFullscreenChange)(i.onFullscreenChange),i}return i(r,[{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this.props.render,t=this.state.isFullscreen,r=this.enterFullscreen,n=this.exitFullscreen,i=this.onRef;return e({isFullscreen:t,enterFullscreen:r,exitFullscreen:n,setProperties:this.setProperties,onRef:i})}}]),r}(l.Component);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(9),o=(n=r(138))&&n.__esModule?n:{default:n};function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={position:"relative",maxHeight:"100vh"},d={display:"block",width:"100%",paddingTop:"56.25%",pointerEvents:"none"},f=(0,o.default)((function(e){return e?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},d,{paddingTop:(100*e.vertical/e.horizontal).toFixed(2)+"%"}):d})),p=function(e){var t=e.aspectRatio,r=e.render,n=e.rootClassName,o=void 0===n?"":n,s=e.aspectFixClassName,l=e.classNamePrefix,u=void 0===l?a.defaultClassNamePrefix:l;if(s)return i.createElement("div",{className:"".concat(o," ").concat((0,a.prefixClassNames)(u,s))},r());var d=f(t);return i.createElement("div",{className:o,style:c},i.createElement("div",{style:d}),r())};t.default=p},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return e&&e.interactionDetector&&null!=e.interactionDetector.inactivityDelay?e.interactionDetector.inactivityDelay:0},f=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),c(a(i),"isFixed",!1),c(a(i),"intervalId",void 0),c(a(i),"inactivityTimeoutId",void 0),c(a(i),"flags",{isMouseMoved:!0,isTouched:!1,isTouching:!1,isEntered:!1,clientX:-1,clientY:-1}),c(a(i),"handleMouseMove",(function(e){e.clientX===i.flags.clientX&&e.clientY===i.flags.clientY||(i.flags.isMouseMoved=!0,i.flags.clientX=e.clientX,i.flags.clientY=e.clientY)})),c(a(i),"handleTouchStart",(function(){i.flags.isTouched=!0,i.flags.isTouching=!0})),c(a(i),"handleTouchEnd",(function(){i.flags.isTouching=!1})),c(a(i),"nudge",(function(){i.flags.isMouseMoved=!0})),c(a(i),"toggleFixedUserActive",(function(){i.isFixed=!i.isFixed,i.isFixed?i.flags.isMouseMoved=!0:i.setState({isUserActive:!1})})),c(a(i),"handleFocus",(function(e){e.target===e.currentTarget&&i.nudge()})),c(a(i),"setInactive",(function(){i.isFixed||i.flags.isMouseMoved||i.setState({isUserActive:!1})})),c(a(i),"updateActivity",(function(){(i.flags.isMouseMoved||i.flags.isTouched||i.flags.isTouching)&&(i.flags.isTouched=!1,i.flags.isMouseMoved=!1,i.state.isUserActive||i.setState({isUserActive:!0}),clearTimeout(i.inactivityTimeoutId),i.inactivityTimeoutId=setTimeout(i.setInactive,1e3*d(i.props.configuration)))})),i.state={isUserActive:!0},i}return i(r,[{key:"componentDidMount",value:function(){d(this.props.configuration)>=0&&(this.intervalId=setInterval(this.updateActivity,250))}},{key:"componentDidUpdate",value:function(e,t){var r=d(this.props.configuration);r!==d(e.configuration)&&(this.intervalId&&clearInterval(this.intervalId),r>=0?this.intervalId=setInterval(this.updateActivity,250):this.setState({isUserActive:!0}))}},{key:"componentWillUnmount",value:function(){this.intervalId&&clearInterval(this.intervalId),this.inactivityTimeoutId&&clearTimeout(this.inactivityTimeoutId)}},{key:"render",value:function(){var e=this.state.isUserActive,t=this.props.render;return t({isUserActive:e,handleMouseMove:this.handleMouseMove,handleTouchStart:this.handleTouchStart,handleTouchEnd:this.handleTouchEnd,handleFocus:this.handleFocus,toggleFixedUserActive:this.toggleFixedUserActive,nudge:this.nudge})}}]),r}(l.Component);t.default=f},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13),l=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){return"string"===typeof e&&(e.length>1?e===t:e.toLowerCase()===t.toLowerCase())},p=function(e,t){if(e.keyMap)return Object.entries(e.keyMap).filter((function(e){var r=l(e,2),n=(r[0],r[1]);return!!(f(n,t)||Array.isArray(n)&&n.filter((function(e){return f(e,t)})).length)})).map((function(e){return e[0]}))[0]},h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"handleKeyDown",(function(t){var r=e.props,n=r.nudge,i=r.toggleFixedUserActive,a=r.configuration,o=r.setProperties,s=r.fullscreenState,l=r.isPaused,u=r.isMuted,c=r.position,d=r.duration,f=r.volume,h=r.playMode,g=r.inspect;if(g){var m=g();l=m.isPaused,u=m.isMuted,c=m.position,d=m.duration,f=m.volume,h=m.playMode}if(a&&a.keyboardShortcuts){var v=a.keyboardShortcuts.skipOffset||30,y=a.keyboardShortcuts.volumeStep||.1,b=p(a.keyboardShortcuts,t.key);if(b){switch(b){case"togglePause":o&&o({isPaused:!l});break;case"toggleMute":o&&o({isMuted:!u});break;case"toggleFullscreen":s&&s.setProperties({isFullscreen:!s.isFullscreen});break;case"skipBack":o&&null!=c&&o({position:Math.max(c-v,0)});break;case"skipForward":if(o&&d){var k=(c||0)+v;(k<d||"ondemand"!==h)&&o({position:Math.min(k,d)})}break;case"decreaseVolume":o&&null!=f&&o({volume:Math.max(f-y,0)});break;case"increaseVolume":o&&null!=f&&o({volume:Math.min(f+y,1)});break;case"toggleUserActive":i&&i()}n&&"toggleUserActive"!==b&&n(),t.preventDefault()}else"Tab"===t.key&&n&&n()}})),e}return i(r,[{key:"render",value:function(){var e=this.handleKeyDown;return this.props.render({handleKeyDown:e})}}]),r}(u.Component);t.default=h},function(e,t,r){"use strict";var n=r(96),i=r(11),a=r(15),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(151))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){o(r,e);var t=s(r);function r(){return i(this,r),t.apply(this,arguments)}return a(r,[{key:"render",value:function(){var e=this.props,t=e.render,r=e.classNamePrefix,i=e.classNameDefinitions,a=e.className,o=e.extraClassNames,s=p(e,["render","classNamePrefix","classNameDefinitions","className","extraClassNames"]);return t((0,c.default)(s,i,r,a?[a].concat(n(o)):o))}}]),r}(u.Component);h(g,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix,extraClassNames:[]}),h(g,"streamStateKeysForObservation",["isPaused","isSeeking","isBuffering","isMuted","volume","isAtLiveEdge","playState","error","playMode"]);var m=g;t.default=m},function(e,t,r){"use strict";var n=r(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(9),a=["low","medium","high"],o=function(e){return e&&"inactive"!==e&&"starting"!==e},s=function(e,t,r){var s=e.isPaused,l=e.isSeeking,u=e.isBuffering,c=e.isMuted,d=e.volume,f=e.isAtLiveEdge,p=e.playState,h=e.playMode,g=e.error,m=e.isUserActive,v=e.isFullscreen,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],b=t||{},k=[];if(o(p)&&null!=s&&(s?k.push(b.isPaused):k.push(b.isPlaying)),u&&k.push(b.isBuffering),l&&k.push(b.isSeeking),c&&k.push(b.isMuted),f&&k.push(b.isAtLiveEdge),"starting"===p&&k.push(b.isStarting),"ondemand"===h?k.push(b.isOnDemand):"live"===h?k.push(b.isLive):"livedvr"===h&&(k.push(b.isLive),k.push(b.isDvrEnabled)),null!=d&&null!=b.volumePrefix){var _=Math.min(Math.floor(d*a.length),a.length-1);k.push(b.volumePrefix+a[_])}return v&&k.push(b.isFullscreen),null!=m&&(m?k.push(b.isUserActive):k.push(b.isUserInactive)),g&&k.push(b.isFailed),i.prefixClassNames.apply(void 0,[r].concat(n(k.concat(y))))};t.default=s},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(78))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleClick",(function(){var t=e.props.setProperties;if(t){var r=("function"===typeof e.props.inspect?e.props.inspect().position:e.props.position)+e.props.offset;isNaN(r)||t({position:r})}})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.content,r=e.label,n=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:n,className:"skip-button",label:r,onClick:this.handleClick,content:t})}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix,offset:-30}),h.displayName="SkipButton";var g=h;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(9);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,i.formatTime)(null==e?0:Math[r?"min":"max"](0,e),t)},s=function(e){var t,r=e.position,a=e.duration,s=e.absolutePosition,l=e.playMode,u=e.liveDisplayMode,c=void 0===u?"clock-time":u,d=e.negativeMark,f=e.label,p=e.positionLabel,h=e.durationLabel,g=(e.clockTimeLabel,e.classNamePrefix),m=void 0===g?i.defaultClassNamePrefix:g;return"ondemand"===l?n.createElement("div",{className:(0,i.prefixClassNames)(m,"time-display"),title:f},n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-position"),title:p},o(r,d)),n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-duration"),title:h},o(a,d))):("live-offset"!==c||"livedvr"!==l)&&((t=s)instanceof Date&&!isNaN(t.getTime())&&t.getTime()>15147612e5)?n.createElement("div",{className:(0,i.prefixClassNames)(m,"time-display","time-display-no-duration"),title:f},n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-clock-time"),title:p},(0,i.formatClockTime)(s))):n.createElement("div",{className:(0,i.prefixClassNames)(m,"time-display"),title:f},n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-position"),title:p},o((r||a||0)-(a||0),d,!0)),"livedvr"===l&&n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-duration"),title:h},o(a,d)))};s.streamStateKeysForObservation=["position","duration","absolutePosition","playMode"],s.displayName="TimeDisplay";var l=s;t.default=l},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(79))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleSelect",(function(t){e.props.setProperties&&("fix-bitrate"===e.props.selectionStrategy?e.props.setProperties({bitrateFix:t}):e.props.setProperties({bitrateCap:t}))})),p(a(e),"bitrateToItem",(function(t){return{id:t,label:t===1/0?e.props.autoLabel:e.props.formatBitrateLabel(t,t===e.props.currentBitrate),data:t}})),p(a(e),"isSelected",(function(t,r,n){var i=e.props,a=i.bitrateFix,o=i.bitrateCap,s=i.selectionStrategy,l=null!=a&&null!=o?"fix-bitrate"===s?a:o:a||o;return"min"===l?1===r:"max"===l?r===n.length-1:t===l})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.bitrates,r=e.label,n=e.toggleContent,i=e.classNamePrefix;if(Array.isArray(t)&&t.length>1){var a=[1/0].concat(t),o=a.filter(this.isSelected)[0]||a[0];return u.createElement(c.default,{items:a,itemMapper:this.bitrateToItem,classNamePrefix:i,className:"quality-selector",selectedItem:o,label:r,onSelect:this.handleSelect,reverseOrder:!0,expandedToggleContent:n,collapsedToggleContent:n})}return null}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix,selectionStrategy:"cap-bitrate"}),p(h,"streamStateKeysForObservation",["bitrates","currentBitrate","bitrateFix","bitrateCap"]),h.displayName="QualitySelector";var g=h;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(9);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var o="buffering-indicator",s=function(e){var t=e.children,r=e.content,a=e.isBuffering,s=e.isSeeking,l=e.playState,u=e.renderStrategy,c=void 0===u?"when-buffering":u,d=e.label,f=e.classNamePrefix,p=void 0===f?i.defaultClassNamePrefix:f,h=a||s||"starting"===l||"buffering"===l||"seeking"===l;return"always"===c?h?n.createElement("div",{title:d,className:(0,i.prefixClassNames)(p,o,"buffering")},t||r):n.createElement("div",{className:(0,i.prefixClassNames)(p,o)},t||r):h?n.createElement("div",{title:d,className:(0,i.prefixClassNames)(p,o,"buffering")},t||r):null};s.streamStateKeysForObservation=["isBuffering","isSeeking","playState"],s.displayName="BufferingIndicator";var l=s;t.default=l},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(79))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(".")},g=function(e){var t=e.label,r=e.kind,n=void 0===r?"":r,i=e.language,a=void 0===i?"unknown":i;return t||(n?"[".concat(a,"] ").concat(n):"[".concat(a,"]"))},m=function(e){return{id:e.id||h(e.language,e.label)||e.label,label:g(e),data:e}},v=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleSelect",(function(t){e.props.setProperties&&e.props.setProperties({selectedAudioTrack:t})})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.audioTracks,r=e.currentAudioTrack,n=e.label,i=e.toggleContent,a=e.classNamePrefix;if(Array.isArray(t)&&t.length>1){var o=t[0];if(r){var s=t.indexOf(r);s>=0&&(o=t[s])}return u.createElement(c.default,{items:t,itemMapper:m,classNamePrefix:a,className:"audio-selector",selectedItem:o,label:n,onSelect:this.handleSelect,reverseOrder:!0,expandedToggleContent:i,collapsedToggleContent:i})}return null}}]),r}(u.Component);p(v,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(v,"streamStateKeysForObservation",["audioTracks","currentAudioTrack"]),v.displayName="AudioSelector";var y=v;t.default=y},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(t){e.props.setProperties&&e.props.setProperties({isPaused:t})})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.isPaused,r=e.pausedContent,n=e.playingContent,i=e.label,a=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:a,isOn:t,className:"play-pause-button",useDefaultClassNaming:!0,label:i,onToggle:this.handleToggle,toggledOnContent:r,toggledOffContent:n})}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(h,"streamStateKeysForObservation",["isPaused"]),h.displayName="PlayPauseButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(79))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(".")},g=function(e){var t=e.label,r=e.kind,n=void 0===r?"subtitles":r,i=e.language,a=void 0===i?"unknown":i;return t||("subtitles"!==n?"[".concat(a,"] ").concat(n):"[".concat(a,"]"))||""},m=function(e){return e.noTrack?{id:0,label:e.label||"",data:e}:{id:e.id||h(e.language,e.kind,e.origin)||e.label,label:g(e),data:e}},v=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),p(a(i),"handleSelect",(function(e){i.props.setProperties&&(e.noTrack?i.props.setProperties({selectedTextTrack:null}):i.props.setProperties({selectedTextTrack:e}))})),i.state={noSubtitlesItem:{noTrack:!0,label:i.props.noSubtitlesLabel}},i}return i(r,[{key:"render",value:function(){var e=this.props,t=e.textTracks,r=e.currentTextTrack,n=e.label,i=e.toggleContent,a=e.classNamePrefix;if(Array.isArray(t)&&t.length>0){var o=[this.state.noSubtitlesItem].concat(t),s=this.state.noSubtitlesItem;if(r){var l=t.indexOf(r)+1;l>0&&(s=o[l])}return u.createElement(c.default,{items:o,itemMapper:m,classNamePrefix:a,className:"subtitles-selector",selectedItem:s,label:n,onSelect:this.handleSelect,reverseOrder:!0,expandedToggleContent:i,collapsedToggleContent:i})}return null}}]),r}(u.Component);p(v,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(v,"streamStateKeysForObservation",["textTracks","currentTextTrack"]),v.displayName="SubtitlesSelector";var y=v;t.default=y},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9),c=f(r(49)),d=f(r(97));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),h(a(e),"handleMuteToggleClick",(function(t){e.props.setProperties&&e.props.setProperties({isMuted:t})})),h(a(e),"handleVolumeSliderChange",(function(t){var r=e.props.setProperties;r&&r({isMuted:!1,volume:t})})),e}return i(r,[{key:"render",value:function(){var e=navigator.userAgent.match(/(iPad|iPhone|iPod)/i),t=this.props,r=t.volume,n=t.isMuted,i=t.label,a=t.volumeSliderLabel,o=t.muteToggleLabel,s=t.classNamePrefix,f=t.mutedContent,p=t.unmutedContent,h=t.volumeSliderHandleContent,g=t.volumeSliderTrackContent,m=(0,u.prefixClassNames)(s,"volume",e&&"volume-disabled");return l.createElement("div",{className:m,title:i},l.createElement(c.default,{label:o,isOn:n,toggledOffContent:p,toggledOnContent:f,onToggle:this.handleMuteToggleClick,classNamePrefix:s,className:"mute-toggle"}),!e&&l.createElement(d.default,{label:a,value:n?0:r,maxValue:1,handleContent:h,trackContent:g,onValueChange:this.handleVolumeSliderChange,classNamePrefix:s,className:"volume-slider",trackClassName:"volume-slider-track",handleClassName:"volume-slider-handle"}))}}]),r}(l.Component);h(g,"defaultProps",{classNamePrefix:u.defaultClassNamePrefix}),h(g,"streamStateKeysForObservation",["volume","isMuted"]),g.displayName="Volume";var m=g;t.default=m},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(t){t&&e.props.setProperties&&e.props.setProperties({isAtLiveEdge:!0})})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.playMode,r=e.isAtLiveEdge,n=e.isAtLiveEdgeContent,i=e.isNotAtLiveEdgeContent,a=e.label,o=e.classNamePrefix;return"livedvr"===t?u.createElement(c.default,{classNamePrefix:o,isOn:r,className:"goto-live-button",label:a,onToggle:this.handleToggle,toggledOnContent:n,toggledOffContent:i}):null}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(h,"streamStateKeysForObservation",["isAtLiveEdge","playMode"]),h.displayName="GotoLiveButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=r(9),d=(l=r(97))&&l.__esModule?l:{default:l};function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),p(a(i),"timeoutId",void 0),p(a(i),"handleSliderChange",(function(e){i.props.setProperties&&i.props.setProperties({position:e})})),p(a(i),"handleDrag",(function(){i.setState({isDragging:!0}),i.timeoutId&&clearTimeout(i.timeoutId),i.timeoutId=setTimeout((function(){i.setState({isDragging:!1}),i.timeoutId=null}),800)})),i.state={isDragging:!1},i}return i(r,[{key:"componentWillUnmount",value:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"render",value:function(){var e=this.props,t=e.position,r=e.duration,n=e.isSeeking,i=e.label,a=e.classNamePrefix,o=e.children,s=e.handleContent,l=e.trackContent,c=e.reduceDragGlitch;return u.createElement(d.default,{label:i,value:t,maxValue:r,isUpdateBlocked:n||this.state.isDragging,handleContent:s,trackContent:l,onValueChange:this.handleSliderChange,onDrag:c?this.handleDrag:void 0,classNamePrefix:a,className:"timeline",trackClassName:"timeline-track",handleClassName:"timeline-handle"},o)}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:c.defaultClassNamePrefix,reduceDragGlitch:!0}),p(h,"streamStateKeysForObservation",["position","duration","isSeeking"]),h.displayName="Timeline";var g=h;t.default=g},function(e,t,r){var n=r(133),i=r(95),a=r(246),o=r(247);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){var n=t.source,a=(0,i.default)(n);return a&&a.streamUrl?"number"===typeof a.startPosition&&a.streamUrl.indexOf("#t=")<0?e.src="".concat(a.streamUrl,"#t=").concat(a.startPosition.toFixed(2)):e.src=a.streamUrl:e.src&&(e.removeAttribute("src"),e.load()),Promise.resolve()}};var n,i=(n=r(50))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={playPauseButton:{label:"Toggle play/pause"},skipButton:{label:"Skip back 10 seconds",seconds:"\u201310"},timeDisplay:{label:"Video times",clockTimeLabel:"Clock time",positionLabel:"Current time",durationLabel:"Duration",negativeMark:"\u2013"},timeline:{label:"Timeline"},gotoLiveButton:{label:"Play from live position",isLive:"Live",gotoLive:"Go live"},volume:{label:"Volume and mute",muteToggleLabel:"Toggle mute",volumeSliderLabel:"Volume setting"},audioSelector:{label:"Audio track selector"},subtitlesSelector:{label:"Subtitles selector",noSubtitlesLabel:"No subtitles"},qualitySelector:{label:"Video quality selector",autoLabel:"Automatic",formatBitrateLabel:function(e,t){return"".concat(e," kbps").concat(t?" \u2022":"")}},pipButton:{label:"Toggle picture-in-picture mode"},airPlayButton:{label:"Select AirPlay device"},fullscreenButton:{label:"Toggle fullscreen"},bufferingIndicator:{label:"Video is buffering"},exitButton:{label:"Exit"}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.broadcastHlsInstance=l,t.hlsjsSetup=function(e,t){return new Promise((function(r,n){if(i.default.isSupported()){var l=t&&t.hlsjs&&t.hlsjs.customConfiguration,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({autoStartLoad:!1,debug:t&&u.indexOf(t.logLevel)>=0},l),d=new i.default(c);d.on(i.default.Events.MEDIA_ATTACHED,(function(){r(d)})),d.attachMedia(e)}else n(new a.PlaybackError("STREAM_ERROR_TECHNOLOGY_UNSUPPORTED","hlsjs","Hls.js is not supported in this browser."))}))},t.hlsjsCleanup=function(e){var t=e.hls;return t?(t.stopLoad(),l(e,"off"),Promise.resolve(t.destroy())):Promise.resolve()};var n,i=(n=r(40))&&n.__esModule?n:{default:n},a=r(35);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=e.hls;r&&e.subscribers.forEach((function(e){return e(r,t)}))}var u=["DEBUG","VERBOSE","INFO"]},function(e,t,r){e.exports={Adts:r(85),h264:r(99)}},function(e,t){var r=function(e,t){var r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return r.dataOffset=t,r.compositionTimeOffset=e.pts-e.dts,r.duration=e.duration,r.size=4*e.length,r.size+=e.byteLength,e.keyFrame&&(r.flags.dependsOn=2,r.flags.isNonSyncSample=0),r};e.exports={groupNalsIntoFrames:function(e){var t,r,n=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(r=e[t]).nalUnitType?(n.length&&(n.duration=r.dts-n.dts,i.byteLength+=n.byteLength,i.nalCount+=n.length,i.duration+=n.duration,i.push(n)),(n=[r]).byteLength=r.data.byteLength,n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.duration=r.dts-n.dts,n.byteLength+=r.data.byteLength,n.push(r));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.length,i.duration+=n.duration,i.push(n),i},groupFramesIntoGops:function(e){var t,r,n=[],i=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(r=e[t]).keyFrame?(n.length&&(i.push(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration),(n=[r]).nalCount=r.length,n.byteLength=r.byteLength,n.pts=r.pts,n.dts=r.dts,n.duration=r.duration):(n.duration+=r.duration,n.nalCount+=r.length,n.byteLength+=r.byteLength,n.push(r));return i.length&&n.duration<=0&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration,i.push(n),i},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var n,i,a,o,s,l=t||0,u=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)s=o[i],l+=(a=r(s,l)).size,u.push(a);return u},concatenateNalData:function(e){var t,r,n,i,a,o,s=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],r=0;r<i.length;r++)for(a=i[r],n=0;n<a.length;n++)o=a[n],d.setUint32(s,o.data.byteLength),s+=4,c.set(o.data,s),s+=o.data.byteLength;return c},generateSampleTableForFrame:function(e,t){var n,i=[];return n=r(e,t||0),i.push(n),i},concatenateNalDataForFrame:function(e){var t,r,n=0,i=e.byteLength,a=e.length,o=new Uint8Array(i+4*a),s=new DataView(o.buffer);for(t=0;t<e.length;t++)r=e[t],s.setUint32(n,r.data.byteLength),n+=4,o.set(r.data,n),n+=r.data.byteLength;return o}}},function(e,t,r){var n=r(286),i=r(51);e.exports={prefixWithSilence:function(e,t,r,a){var o,s,l,u,c,d=0,f=0,p=0;if(t.length&&(o=i.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(i.ONE_SECOND_IN_TS/(e.samplerate/1024)),r&&a&&(d=o-Math.max(r,a),p=(f=Math.floor(d/s))*s),!(f<1||p>i.ONE_SECOND_IN_TS/2))){for((l=n()[e.samplerate])||(l=t[0].data),u=0;u<f;u++)c=t[0],t.splice(0,0,{data:l,dts:c.dts-s,pts:c.pts-s});e.baseMediaDecodeTime-=Math.floor(i.videoTsToAudioTs(p,e.samplerate))}},trimAdtsFramesByEarliestDts:function(e,t,r){return t.minSegmentDts>=r?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=r&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,r,n=[];for(t=0;t<e.length;t++)r=e[t],n.push({size:r.data.byteLength,duration:1024});return n},concatenateFrameData:function(e){var t,r,n=0,i=new Uint8Array(function(e){var t,r=0;for(t=0;t<e.length;t++)r+=e[t].data.byteLength;return r}(e));for(t=0;t<e.length;t++)r=e[t],i.set(r.data,n),n+=r.data.byteLength;return i}}},function(e,t,r){"use strict";var n=r(30),i=r(170),a=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new g(0,0),new g(0,1),new g(1,0),new g(1,1)],this.cc708Stream_=new c,this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done"))};(a.prototype=new n).push=function(e){var t,r,n;if("sei_rbsp"===e.nalUnitType&&(t=i.parseSei(e.escapedRBSP)).payload&&t.payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(r=i.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=i.parseCaptionPackets(e.pts,r),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},a.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},a.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},a.prototype.flush=function(){return this.flushStream("flush")},a.prototype.partialFlush=function(){return this.flushStream("partialFlush")},a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},a.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},a.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},a.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},a.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)},a.prototype.dispatchCea708Packet=function(e){this.cc708Stream_.push(e)};var o={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},s=function(e){return 32<=e&&e<=127||160<=e&&e<=255},l=function(e){this.windowNum=e,this.reset()};l.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},l.prototype.getText=function(){return this.rows.join("\n")},l.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},l.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"===typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},l.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},l.prototype.addText=function(e){this.rows[this.rowIdx]+=e},l.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var u=function(e){this.serviceNum=e,this.text="",this.currentWindow=new l(-1),this.windows=[]};u.prototype.init=function(e,t){this.startPts=e;for(var r=0;r<8;r++)this.windows[r]=new l(r),"function"===typeof t&&(this.windows[r].beforeRowOverflow=t)},u.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]};var c=function e(){e.prototype.init.call(this);var t=this;this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(t.new708Packet(),t.add708Bytes(e)):(null===t.current708Packet&&t.new708Packet(),t.add708Bytes(e))}};c.prototype=new n,c.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},c.prototype.add708Bytes=function(e){var t=e.ccData,r=t>>>8,n=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(r),this.current708Packet.data.push(n)},c.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,r=null,n=null,i=0,a=t[i++];for(e.seq=a>>6,e.sizeCode=63&a;i<t.length;i++)n=31&(a=t[i++]),7===(r=a>>5)&&n>0&&(r=a=t[i++]),this.pushServiceBlock(r,i,n),n>0&&(i+=n-1)},c.prototype.pushServiceBlock=function(e,t,r){var n,i=t,a=this.current708Packet.data,o=this.services[e];for(o||(o=this.initService(e,i));i<t+r&&i<a.length;i++)n=a[i],s(n)?i=this.handleText(i,o):16===n?i=this.extendedCommands(i,o):128<=n&&n<=135?i=this.setCurrentWindow(i,o):152<=n&&n<=159?i=this.defineWindow(i,o):136===n?i=this.clearWindows(i,o):140===n?i=this.deleteWindows(i,o):137===n?i=this.displayWindows(i,o):138===n?i=this.hideWindows(i,o):139===n?i=this.toggleWindows(i,o):151===n?i=this.setWindowAttributes(i,o):144===n?i=this.setPenAttributes(i,o):145===n?i=this.setPenColor(i,o):146===n?i=this.setPenLocation(i,o):143===n?o=this.reset(i,o):8===n?o.currentWindow.backspace():12===n?o.currentWindow.clearText():13===n?o.currentWindow.pendingNewLine=!0:14===n?o.currentWindow.clearText():141===n&&i++},c.prototype.extendedCommands=function(e,t){var r=this.current708Packet.data[++e];return s(r)&&(e=this.handleText(e,t,!0)),e},c.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},c.prototype.initService=function(e,t){var r=this;return this.services[e]=new u(e),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},c.prototype.handleText=function(e,t,r){var n=function(e){var t=o[e]||e;return 4096&e&&e===t?"":String.fromCharCode(t)}((r?4096:0)|this.current708Packet.data[e]),i=t.currentWindow;return i.pendingNewLine&&!i.isEmpty()&&i.newLine(this.getPts(e)),i.pendingNewLine=!1,i.addText(n),e},c.prototype.setCurrentWindow=function(e,t){var r=7&this.current708Packet.data[e];return t.setCurrentWindow(r),e},c.prototype.defineWindow=function(e,t){var r=this.current708Packet.data,n=r[e],i=7&n;t.setCurrentWindow(i);var a=t.currentWindow;return n=r[++e],a.visible=(32&n)>>5,a.rowLock=(16&n)>>4,a.columnLock=(8&n)>>3,a.priority=7&n,n=r[++e],a.relativePositioning=(128&n)>>7,a.anchorVertical=127&n,n=r[++e],a.anchorHorizontal=n,n=r[++e],a.anchorPoint=(240&n)>>4,a.rowCount=15&n,n=r[++e],a.columnCount=63&n,n=r[++e],a.windowStyle=(56&n)>>3,a.penStyle=7&n,a.virtualRowCount=a.rowCount+1,e},c.prototype.setWindowAttributes=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.winAttr;return n=r[++e],i.fillOpacity=(192&n)>>6,i.fillRed=(48&n)>>4,i.fillGreen=(12&n)>>2,i.fillBlue=3&n,n=r[++e],i.borderType=(192&n)>>6,i.borderRed=(48&n)>>4,i.borderGreen=(12&n)>>2,i.borderBlue=3&n,n=r[++e],i.borderType+=(128&n)>>5,i.wordWrap=(64&n)>>6,i.printDirection=(48&n)>>4,i.scrollDirection=(12&n)>>2,i.justify=3&n,n=r[++e],i.effectSpeed=(240&n)>>4,i.effectDirection=(12&n)>>2,i.displayEffect=3&n,e},c.prototype.flushDisplayed=function(e,t){for(var r=[],n=0;n<8;n++)t.windows[n].visible&&!t.windows[n].isEmpty()&&r.push(t.windows[n].getText());t.endPts=e,t.text=r.join("\n\n"),this.pushCaption(t),t.startPts=e},c.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},c.prototype.displayWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible=1);return e},c.prototype.hideWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible=0);return e},c.prototype.toggleWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible^=1);return e},c.prototype.clearWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&t.windows[i].clearText();return e},c.prototype.deleteWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&t.windows[i].reset();return e},c.prototype.setPenAttributes=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penAttr;return n=r[++e],i.textTag=(240&n)>>4,i.offset=(12&n)>>2,i.penSize=3&n,n=r[++e],i.italics=(128&n)>>7,i.underline=(64&n)>>6,i.edgeType=(56&n)>>3,i.fontStyle=7&n,e},c.prototype.setPenColor=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penColor;return n=r[++e],i.fgOpacity=(192&n)>>6,i.fgRed=(48&n)>>4,i.fgGreen=(12&n)>>2,i.fgBlue=3&n,n=r[++e],i.bgOpacity=(192&n)>>6,i.bgRed=(48&n)>>4,i.bgGreen=(12&n)>>2,i.bgBlue=3&n,n=r[++e],i.edgeRed=(48&n)>>4,i.edgeGreen=(12&n)>>2,i.edgeBlue=3&n,e},c.prototype.setPenLocation=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,n=r[++e],i.row=15&n,n=r[++e],i.column=63&n,e},c.prototype.reset=function(e,t){var r=this.getPts(e);return this.flushDisplayed(r,t),this.initService(t.serviceNum,e)};var d={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},f=function(e){return null===e?"":(e=d[e]||e,String.fromCharCode(e))},p=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],h=function(){for(var e=[],t=15;t--;)e.push("");return e},g=function e(t,r){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=r||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,r,n,i,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=h();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=h();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=h()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,i))a=f((n=(3&n)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(n,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=f((n=(3&n)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(n,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&i)&&this.addFormatting(e.pts,["i"]),1===(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,i))this.column_+=3&i;else if(this.isPAC(n,i)){var o=p.indexOf(7968&t);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14===(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===i&&(i=null),a=f(n),a+=f(i),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};g.prototype=new n,g.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},g.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=h(),this.nonDisplayed_=h(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},g.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},g.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},g.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},g.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},g.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},g.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},g.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},g.prototype.isNormalChar=function(e){return e>=32&&e<=127},g.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=h(),this.displayed_=h()),void 0!==t&&t!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[t-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},g.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,r)},g.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},g.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t,this.nonDisplayed_[this.row_]=r},g.prototype.rollUp=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},g.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},g.prototype.paintOn=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},e.exports={CaptionStream:a,Cea608Stream:g,Cea708Stream:c}},function(e,t,r){"use strict";e.exports={parseSei:function(e){for(var t=0,r={payloadType:-1,payloadSize:0},n=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!r.payload&&4===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){r.payloadType=n,r.payloadSize=i,r.payload=e.subarray(t,t+i);break}r.payload=void 0}t+=i,n=0,i=0}return r},parseUserData:function(e){return 181!==e.payload[0]||49!==(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var r,n,i,a,o=[];if(!(64&t[0]))return o;for(n=31&t[0],r=0;r<n;r++)a={type:3&t[(i=3*r)+2],pts:e},4&t[i+2]&&(a.ccData=t[i+3]<<8|t[i+4],o.push(a));return o},discardEmulationPreventionBytes:function(e){for(var t,r,n=e.byteLength,i=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r},USER_DATA_REGISTERED_ITU_T_T35:4}},function(e,t,r){"use strict";var n=r(30),i=function(e,t){var r=1;for(e>t&&(r=-1);Math.abs(t-e)>4294967296;)e+=8589934592*r;return e},a=function e(t){var r,n;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=i(e.dts,n),e.pts=i(e.pts,n),r=e.dts,this.trigger("data",e))},this.flush=function(){n=r,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,r=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};a.prototype=new n,e.exports={TimestampRolloverStream:a,handleRollover:i}},function(e,t,r){"use strict";var n,i=r(30),a=r(91);(n=function(){var e=new Uint8Array,t=0;n.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(r){var n,i,o,s,l=0,u=0;for(e.length?(s=e.length,(e=new Uint8Array(r.byteLength+s)).set(e.subarray(0,s)),e.set(r,s)):e=r;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!==(255&e[u])||240!==(240&e[u+1]))u++;else{if(e.length-u<7)break;if(u+(l=a.parseAdtsSize(e,u))>e.length)break;o={type:"audio",data:e.subarray(u,u+l),pts:t,dts:t},this.trigger("data",o),u+=l}else{if(e.length-u<10)break;if(u+(l=a.parseId3TagSize(e,u))>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+l)},this.trigger("data",i),u+=l}n=e.length-u,e=n>0?e.subarray(u):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new i,e.exports=n},function(e,t){e.exports=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"]},function(e,t){e.exports=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"]},function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(60),i=r(25),a=r(4),o=r(177),s=r(27),l=r(63),u=r(7),c=r(46),d=r(6),f=r(10),p=Object(d.a)(f.b,f.d,f.f,f.h,f.l,f.r,f.j,f.p,f.t,f.v,f.x,f.D,f.z,f.B,f.n),h=r(53),g={themeBreakpoints:[],breakpoints:[],breakpointValues:[],mediaQueries:[]},m=function(e){return function(t){var r={},n=function(e){if(void 0===e&&(e=[]),g.themeBreakpoints===e)return g;var t=Object.entries(e).filter((function(e){var t=Object(a.a)(e,1)[0];return Object(o.f)(t)})).reduce((function(e,t){var r=Object(a.a)(t,2),n=r[0],i=r[1];return e.breakpoints.push(n),e.breakpointValues.push(i),e}),{breakpoints:[],breakpointValues:[]}),r=t.breakpoints,n=t.breakpointValues,s=[null].concat(Object(i.a)(n.map((function(e){return"@media screen and (min-width: "+e+")"})).slice(1)));return g.themeBreakpoints=e,g.mediaQueries=s,g.breakpointValues=n,g.breakpoints=r,{breakpoints:r,mediaQueries:s}}(t.breakpoints),c=n.breakpoints,d=n.mediaQueries;for(var f in e){var p=Object(s.d)(e[f],t);if(null!=p)if(p=Object(l.a)(p,c)?Object(l.c)(p,c):p,Object(u.b)(p))for(var h=p.slice(0,d.length).length,m=0;m<h;m+=1){var v=d[m];v?(r[v]=r[v]||{},null!=p[m]&&(r[v][f]=p[m])):r[f]=p[m]}else r[f]=p}return r}},v=function e(t){return void 0===t&&(t={}),function(r){void 0===r&&(r={});var i="theme"in r?r.theme:r,a={},o=Object(s.d)(t,i),l=m(o)(i);for(var d in l){var f,g=l[d],v=Object(s.d)(g,i),y=d in h.pseudoSelectors?h.pseudoSelectors[d]:d,b=p.config[y];if("apply"!==y)if(Object(u.g)(v))a[y]=e(v)(i);else{var k=Object(c.c)(i,null==b?void 0:b.scale,{}),_=null!=(f=null==b||null==b.transform?void 0:b.transform(v,k))?f:Object(c.c)(k,v,v);if(null==b?void 0:b.properties){var E,w=Object(n.a)(b.properties);try{for(w.s();!(E=w.n()).done;){a[E.value]=_}}catch(T){w.e(T)}finally{w.f()}}else(null==b?void 0:b.property)?a[b.property]=_:a[y]=_}else{var S=e(Object(c.c)(i,v))(i);a=Object(c.d)({},a,S)}}return a}}},function(e,t){e.exports=function(e){var t=e.length;if(!e||!t)return null;for(var r=t;r--;)if(!isNaN(e[r]))return e.slice(r+1,t)||null;return null}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"g",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return c}));var n=r(25);function i(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function a(e,t){return[].concat(Object(n.a)(e),[t])}function o(e,t){return e.filter((function(e){return e!==t}))}function s(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!0);var i=t-1;if(-1===e)return r>0?0:i;var a=e+r;return a<0?n?i:0:a>=t?n?0:e>t?t:e:a}function l(e,t,r){return void 0===r&&(r=!0),s(e,t,-1,r)}function u(e,t,r,n){if(null==t)return n;if(!n)return e.find((function(e){return r(e).toLowerCase().startsWith(t.toLowerCase())}));var i,a=e.filter((function(e){return r(e).toLowerCase().startsWith(t.toLowerCase())}));return a.length>0?a.includes(n)?((i=a.indexOf(n)+1)===a.length&&(i=0),a[i]):(i=e.indexOf(a[0]),e[i]):n}var c=function(e){return Number.isNaN(parseInt(e,10))}},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"===typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0),i=r.n(n),a=(r(130),o()?i.a.useLayoutEffect:i.a.useEffect);"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math&&self;function o(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function i(e,t){return void 0===t&&(t=[]),n.useEffect((function(){return function(){return e()}}),t)}},function(e,t,r){"use strict";(function(e){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.UnControlled=t.Controlled=void 0;var o,s=r(0),l="undefined"===typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER;l||(o=r(77));var u=function(){function e(){}return e.equals=function(e,t){var r=this,n=Object.keys,a=i(e),o=i(t);return e&&t&&"object"===a&&a===o?n(e).length===n(t).length&&n(e).every((function(n){return r.equals(e[n],t[n])})):e===t},e}(),c=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,r){var n=this.editor.getDoc();r&&this.editor.focus(),t?n.setCursor(e):n.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,r){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!u.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!u.equals(e.cursor,t.cursor)&&this.delegateCursor(r.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!u.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,r){t.props.onBlur(t.editor,r)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,r){t.props.onContextMenu(t.editor,r)}));break;case"onCopy":t.editor.on("copy",(function(e,r){t.props.onCopy(t.editor,r)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e,r){t.props.onCut(t.editor,r)}));break;case"onDblClick":t.editor.on("dblclick",(function(e,r){t.props.onDblClick(t.editor,r)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,r){t.props.onDragEnter(t.editor,r)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e,r){t.props.onDragLeave(t.editor,r)}));break;case"onDragOver":t.editor.on("dragover",(function(e,r){t.props.onDragOver(t.editor,r)}));break;case"onDragStart":t.editor.on("dragstart",(function(e,r){t.props.onDragStart(t.editor,r)}));break;case"onDrop":t.editor.on("drop",(function(e,r){t.props.onDrop(t.editor,r)}));break;case"onFocus":t.editor.on("focus",(function(e,r){t.props.onFocus(t.editor,r)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,r,n,i){t.props.onGutterClick(t.editor,r,n,i)}));break;case"onInputRead":t.editor.on("inputRead",(function(e,r){t.props.onInputRead(t.editor,r)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,r){t.props.onKeyDown(t.editor,r)}));break;case"onKeyHandled":t.editor.on("keyHandled",(function(e,r,n){t.props.onKeyHandled(t.editor,r,n)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,r){t.props.onKeyPress(t.editor,r)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,r){t.props.onKeyUp(t.editor,r)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e,r){t.props.onMouseDown(t.editor,r)}));break;case"onPaste":t.editor.on("paste",(function(e,r){t.props.onPaste(t.editor,r)}));break;case"onRenderLine":t.editor.on("renderLine",(function(e,r,n){t.props.onRenderLine(t.editor,r,n)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,r){t.props.onSelection(t.editor,r)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e,r){t.props.onTouchStart(t.editor,r)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,r,n){t.props.onViewportChange(t.editor,r,n)}))}}))},e}(),d=function(e){function t(t){var r=e.call(this,t)||this;return l||(r.applied=!1,r.appliedNext=!1,r.appliedUserDefined=!1,r.deferred=null,r.emulating=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1),r}return a(t,e),t.prototype.hydrate=function(e){var t=this,r=e&&e.options?e.options:{},i=n({},o.defaults,this.editor.options,r);Object.keys(i).some((function(e){return t.editor.getOption(e)!==i[e]}))&&Object.keys(i).forEach((function(e){r.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&(t.editor.setOption(e,i[e]),t.mirror.setOption(e,i[e]))})),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),r=t.lastLine(),n=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:r,ch:n}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var r=t.getCursor();t.setValue(e),t.setCursor(r)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;l||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&o.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=o(this.ref,this.props.options),this.shared=new c(this.editor,this.props),this.mirror=o((function(){}),this.props.options),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(t,r){if(!e.emulating){r.cancel(),e.deferred=r;var n=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,n)}})),this.editor.on("change",(function(t,r){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,r,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!l){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(o)},t.prototype.shouldComponentUpdate=function(e,t){return!l},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(s.Component);t.Controlled=d;var f=function(e){function t(t){var r=e.call(this,t)||this;return l||(r.applied=!1,r.appliedUserDefined=!1,r.continueChange=!1,r.detached=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1,r.onBeforeChangeCb=function(){r.continueChange=!0}),r}return a(t,e),t.prototype.hydrate=function(e){var t=this,r=e&&e.options?e.options:{},i=n({},o.defaults,this.editor.options,r);if(Object.keys(i).some((function(e){return t.editor.getOption(e)!==i[e]}))&&Object.keys(i).forEach((function(e){r.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&t.editor.setOption(e,i[e])})),!this.hydrated){var a=this.editor.getDoc(),s=a.lastLine(),l=a.getLine(a.lastLine()).length;a.replaceRange(e.value||"",{line:0,ch:0},{line:s,ch:l})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;l||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&o.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=o(this.ref,this.props.options),this.shared=new c(this.editor,this.props),this.editor.on("beforeChange",(function(t,r){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,r,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,r){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,r,e.editor.getValue()):e.props.onChange(e.editor,r,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!l&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(o)},t.prototype.shouldComponentUpdate=function(e,t){var r=!0;return l&&(r=!1),this.detached&&e.detach&&(r=!1),r},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(s.Component);t.UnControlled=f}).call(this,r(48))},function(e,t,r){(function(t){var r=function(){var e={},r=function(){"use strict";var e,t,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(t){throw{name:"SyntaxError",message:t,at:e,text:r}},o=function(n){return n&&n!==t&&a("Expected '"+n+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},s=function(){var e,r="";for("-"===t&&(r="-",o("-"));t>="0"&&t<="9";)r+=t,o();if("."===t)for(r+=".";o()&&t>="0"&&t<="9";)r+=t;if("e"===t||"E"===t)for(r+=t,o(),"-"!==t&&"+"!==t||(r+=t,o());t>="0"&&t<="9";)r+=t,o();if(e=+r,isFinite(e))return e;a("Bad number")},l=function(){var e,r,n,s="";if('"'===t)for(;o();){if('"'===t)return o(),s;if("\\"===t)if(o(),"u"===t){for(n=0,r=0;r<4&&(e=parseInt(o(),16),isFinite(e));r+=1)n=16*n+e;s+=String.fromCharCode(n)}else{if("string"!==typeof i[t])break;s+=i[t]}else s+=t}a("Bad string")},u=function(){for(;t&&t<=" ";)o()},c=function(){var e=[];if("["===t){if(o("["),u(),"]"===t)return o("]"),e;for(;t;){if(e.push(n()),u(),"]"===t)return o("]"),e;o(","),u()}}a("Bad array")},d=function(){var e,r={};if("{"===t){if(o("{"),u(),"}"===t)return o("}"),r;for(;t;){if(e=l(),u(),o(":"),Object.hasOwnProperty.call(r,e)&&a("Duplicate key '"+e+"'"),r[e]=n(),u(),"}"===t)return o("}"),r;o(","),u()}}a("Bad object")};return n=function(){switch(u(),t){case"{":return d();case"[":return c();case'"':return l();case"-":return s();default:return t>="0"&&t<="9"?s():function(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}a("Unexpected '"+t+"'")}()}},function(i,o){var s;return r=i,e=0,t=" ",s=n(),u(),t&&a("Syntax error"),"function"===typeof o?function e(t,r){var n,i,a=t[r];if(a&&"object"===typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(void 0!==(i=e(a,n))?a[n]=i:delete a[n]);return o.call(t,r,a)}({"":s},""):s}}();var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=a[s-1];case 13:this.$={};break;case 14:this.$=a[s-1];break;case 15:this.$=[a[s-2],a[s]];break;case 16:this.$={},this.$[a[s][0]]=a[s][1];break;case 17:this.$=a[s-2],a[s-2][a[s][0]]=a[s][1];break;case 18:this.$=[];break;case 19:this.$=a[s-1];break;case 20:this.$=[a[s]];break;case 21:this.$=a[s-2],a[s-2].push(a[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],a=this.table,o="",s=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;function d(){var e;return"number"!==typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}i.push(c),"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,h,g,m,v,y,b,k,_,E={};;){if(h=r[r.length-1],this.defaultActions[h]?g=this.defaultActions[h]:(null==f&&(f=d()),g=a[h]&&a[h][f]),"undefined"===typeof g||!g.length||!g[0]){if(!u){for(v in k=[],a[h])this.terminals_[v]&&v>2&&k.push("'"+this.terminals_[v]+"'");var w="";w=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+this.terminals_[f]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:c,expected:k})}if(3==u){if(1==f)throw new Error(w||"Parsing halted.");l=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,f=d()}for(;!(2..toString()in a[h]);){if(0==h)throw new Error(w||"Parsing halted.");_=1,r.length=r.length-2*_,n.length=n.length-_,i.length=i.length-_,h=r[r.length-1]}p=f,f=2,g=a[h=r[r.length-1]]&&a[h][2],u=3}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+f);switch(g[0]){case 1:r.push(f),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(g[1]),f=null,p?(f=p,p=null):(l=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[g[1]][1],E.$=n[n.length-y],E._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},"undefined"!==typeof(m=this.performAction.call(E,o,l,s,this.yy,g[1],n,i)))return m;y&&(r=r.slice(0,-1*y*2),n=n.slice(0,-1*y),i=i.slice(0,-1*y)),r.push(this.productions_[g[1]][0]),n.push(E.$),i.push(E._$),b=a[r[r.length-2]][r[r.length-1]],r.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,r,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),o=0;o<a.length&&(!(r=this._input.match(this.rules[a[o]]))||t&&!(r[0].length>t[0].length)||(t=r,n=o,this.options.flex));o++);return t?((i=t[0].match(/\n.*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,a[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!==typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}();return e.lexer=t,e}(),i=n.parse;return n.parse=function(e){var t=i.call(n,e),a="undefined"===typeof r?(!0)("./doug-json-parse"):r;try{a(e)}catch(s){if(/Duplicate key|Bad string|Unexpected/.test(s.message)){var o=e.substring(0,s.at).split("\n").length;throw SyntaxError(s.message+" on line "+o)}}return t},"undefined"!==typeof e&&(e.parser=n,e.parse=function(){return n.parse.apply(n,arguments)},e.main=function(r){if(!r[1])throw new Error("Usage: "+r[0]+" FILE");if("undefined"!==typeof t)var n=(!0)("fs").readFileSync((!0)("path").join(t.cwd(),r[1]),"utf8");else n=(!0)("file").path((!0)("file").cwd()).join(r[1]).read({charset:"utf-8"});return e.parser.parse(n)},!1===(!0).main&&e.main("undefined"!==typeof t?t.argv.slice(1):(!0)("system").args)),e}();e.exports&&(e.exports=r)}).call(this,r(94))},function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(4),i=r(0),a=r(64),o=r(7),s=r(198),l=r(75),u=Object(a.a)({strict:!1,name:"PortalManagerContext"}),c=Object(n.a)(u,2),d=c[0],f=c[1],p=function(e){var t=e.children,r=e.zIndex,n=i.useRef(null),a=Object(s.a)();Object(l.a)((function(){a()}),[]);var o=f(),u={node:(null==o?void 0:o.node)||n.current,zIndex:r};return i.createElement(d,{value:u},t,i.createElement("div",{className:"chakra-portal-manager",ref:n}))};o.a&&(p.displayName="PortalManager")},function(e,t,r){"use strict";var n=r(223),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,a,o,s,l,u,c=!1;t||(t={}),r=t.debug||!1;try{if(o=n(),s=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=i[t.format]||i.default;window.clipboardData.setData(a,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(d){r&&console.error("unable to copy using execCommand: ",d),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(d){r&&console.error("unable to copy using clipboardData: ",d),r&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),o()}return c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Replay",{enumerable:!0,get:function(){return i.default}}),t.Components=void 0;var n,i=(n=r(224))&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(254));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.Components=a},,function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(80))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";var n={codecs:r(166),mp4:r(283),flv:r(289),mp2t:r(294),partial:r(295)};n.mp4.tools=r(299),n.flv.tools=r(301),n.mp2t.tools=r(302),e.exports=n},,function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(0);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?u(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){function t(){var e,r;a(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return d(u(r=s(this,(e=l(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),d(u(r),"_unsubscribe",void 0),d(u(r),"handlePersistorState",(function(){r.props.persistor.getState().bootstrapped&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally((function(){return r.setState({bootstrapped:!0})})):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())})),r}var r,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&o(r.prototype,n),i&&o(r,i),t}(n.PureComponent);d(f,"defaultProps",{children:null,loading:null})},function(e,t,r){"use strict";var n=r(33).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?n:n.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"===typeof i?i(r,n,e):t(i)}}}}var i=n();i.withExtraArgument=n,t.a=i},function(e,t,r){"use strict";var n;t.__esModule=!0,t.default=void 0;var i=(0,((n=r(306))&&n.__esModule?n:{default:n}).default)("local");t.default=i},function(e,t,r){"use strict";t.__esModule=!0,t.DEFAULT_VERSION=t.REGISTER=t.PURGE=t.PERSIST=t.PAUSE=t.REHYDRATE=t.FLUSH=t.KEY_PREFIX=void 0;t.KEY_PREFIX="persist:";t.FLUSH="persist/FLUSH";t.REHYDRATE="persist/REHYDRATE";t.PAUSE="persist/PAUSE";t.PERSIST="persist/PERSIST";t.PURGE="persist/PURGE";t.REGISTER="persist/REGISTER";t.DEFAULT_VERSION=-1},function(e,t,r){(function(e){!function(){var r="undefined"!=typeof window?window:e,n={};for(var i in function(e,t,r){var n;function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};var s=function(r){r=["object"==typeof globalThis&&globalThis,r,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<r.length;++n){var i=r[n];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function l(e,t){if(t)e:{for(var r=s,n=e.split("."),i=0;i<n.length-1;i++){var a=n[i];if(!(a in r))break e;r=r[a]}(a=t(i=r[n=n[n.length-1]]))!=i&&null!=a&&o(r,n,{configurable:!0,writable:!0,value:a})}}function u(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:a(e)}}function d(e){if(!(e instanceof Array)){e=c(e);for(var t,r=[];!(t=e.next()).done;)r.push(t.value);e=r}return e}l("Symbol",(function(e){function t(e,t){this.a=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.a};var r=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(n||"")+"_"+r++,n)}})),l("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var n=s[t[r]];"function"===typeof n&&"function"!=typeof n.prototype[e]&&o(n.prototype,e,{configurable:!0,writable:!0,value:function(){return u(a(this))}})}return e}));var f,p="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{var h;e:{var g={};try{g.__proto__={ae:!0},h=g.ae;break e}catch(cp){}h=!1}f=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=f;function v(e,t){if(e.prototype=p(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var r in t)if("prototype"!=r)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}else e[r]=t[r];e.Rf=t.prototype}function y(){this.j=!1,this.g=null,this.b=void 0,this.a=1,this.f=this.h=0,this.v=this.c=null}function b(e){if(e.j)throw new TypeError("Generator is already running");e.j=!0}function k(e,t){e.c={zd:t,Fd:!0},e.a=e.h||e.f}function _(e,t,r){return e.a=r,{value:t}}function E(e){e.a=0}function w(e,t,r){e.h=t,void 0!=r&&(e.f=r)}function S(e){e.h=0,e.f=2}function T(e,t){e.a=t,e.h=0}function x(e){e.h=0;var t=e.c.zd;return e.c=null,t}function O(e){e.v=[e.c],e.h=0,e.f=0}function P(e,t){var r=e.v.splice(0)[0];(r=e.c=e.c||r)?r.Fd?e.a=e.h||e.f:void 0!=r.u&&e.f<r.u?(e.a=r.u,e.c=null):e.a=e.f:e.a=t}function A(e){this.a=new y,this.b=e}function C(e,t,r,n){try{var i=t.call(e.a.g,r);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.j=!1,i;var a=i.value}catch(o){return e.a.g=null,k(e.a,o),M(e)}return e.a.g=null,n.call(e.a,a),M(e)}function M(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.j=!1,{value:t.value,done:!1}}catch(r){e.a.b=void 0,k(e.a,r)}if(e.a.j=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.Fd)throw t.zd;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function I(e){this.next=function(t){return b(e.a),e.a.g?t=C(e,e.a.g.next,t,e.a.m):(e.a.m(t),t=M(e)),t},this.throw=function(t){return b(e.a),e.a.g?t=C(e,e.a.g.throw,t,e.a.m):(k(e.a,t),t=M(e)),t},this.return=function(t){return function(e,t){b(e.a);var r=e.a.g;return r?C(e,"return"in r?r.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),M(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function R(e,t){var r=new I(new A(t));return m&&e.prototype&&m(r,e.prototype),r}function D(e){return function(e){function t(t){return e.next(t)}function r(t){return e.throw(t)}return new Promise((function(n,i){!function e(a){a.done?n(a.value):Promise.resolve(a.value).then(t,r).then(e,i)}(e.next())}))}(new I(new A(e)))}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var a=e[i];if(t.call(r,a,i,e))return{Z:i,Yd:a}}return{Z:-1,Yd:void 0}}function N(e,t){e instanceof String&&(e+="");var r=0,n=!1,i={next:function(){if(!n&&r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function U(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""}y.prototype.m=function(e){this.b=e},y.prototype.return=function(e){this.c={return:e},this.a=this.f},y.prototype.u=function(e){this.a=e},l("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[],this.j=!1;var t=this.f();try{e(t.resolve,t.reject)}catch(i){t.reject(i)}}function r(){this.a=null}function n(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=s.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(n){this.f(n)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.G),reject:e(this.g)}},t.prototype.G=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.J(e);else{e:switch(typeof e){case"object":var r=null!=e;break e;case"function":r=!0;break e;default:r=!1}r?this.D(e):this.h(e)}},t.prototype.D=function(e){var t=void 0;try{t=e.then}catch(i){return void this.g(i)}"function"==typeof t?this.M(t,e):this.h(e)},t.prototype.g=function(e){this.m(2,e)},t.prototype.h=function(e){this.m(1,e)},t.prototype.m=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,2===this.b&&this.I(),this.v()},t.prototype.I=function(){var e=this;a((function(){if(e.A()){var t=s.console;"undefined"!==typeof t&&t.error(e.c)}}),1)},t.prototype.A=function(){if(this.j)return!1;var e=s.CustomEvent,t=s.Event,r=s.dispatchEvent;return"undefined"===typeof r||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.c,r(e))},t.prototype.v=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new r;return t.prototype.J=function(e){var t=this.f();e.dc(t.resolve,t.reject)},t.prototype.M=function(e,t){var r=this.f();try{e.call(t,r.resolve,r.reject)}catch(n){r.reject(n)}},t.prototype.then=function(e,r){function n(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(r){a(r)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.dc(n(e,i),n(r,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.dc=function(e,t){function r(){switch(n.b){case 1:e(n.c);break;case 2:t(n.c);break;default:throw Error("Unexpected state: "+n.b)}}var n=this;null==this.a?o.b(r):this.a.push(r),this.j=!0},t.resolve=n,t.reject=function(e){return new t((function(t,r){r(e)}))},t.race=function(e){return new t((function(t,r){for(var i=c(e),a=i.next();!a.done;a=i.next())n(a.value).dc(t,r)}))},t.all=function(e){var r=c(e),i=r.next();return i.done?n([]):new t((function(e,t){function a(t){return function(r){o[t]=r,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,n(i.value).dc(a(o.length-1),t),i=r.next()}while(!i.done)}))},t})),l("WeakMap",(function(e){function t(e){if(this.a=(l+=Math.random()+1).toString(),e){e=c(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function r(){}function n(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!j(e,s)){var t=new r;o(e,s,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof r?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),r=Object.seal({}),n=new e([[t,2],[r,3]]);return 2==n.get(t)&&3==n.get(r)&&(n.delete(t),n.set(r,4),!n.has(t)&&4==n.get(r))}catch(i){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var l=0;return t.prototype.set=function(e,t){if(!n(e))throw Error("Invalid WeakMap key");if(i(e),!j(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.a]=t,this},t.prototype.get=function(e){return n(e)&&j(e,s)?e[s][this.a]:void 0},t.prototype.has=function(e){return n(e)&&j(e,s)&&j(e[s],this.a)},t.prototype.delete=function(e){return!!(n(e)&&j(e,s)&&j(e[s],this.a))&&delete e[s][this.a]},t})),l("Map",(function(e){function t(){var e={};return e.Ha=e.next=e.head=e}function r(e,t){var r=e.a;return u((function(){if(r){for(;r.head!=e.a;)r=r.Ha;for(;r.next!=r.head;)return r=r.next,{done:!1,value:t(r)};r=null}return{done:!0,value:void 0}}))}function n(e,t){var r=t&&typeof t;"object"==r||"function"==r?a.has(t)?r=a.get(t):(r=""+ ++o,a.set(t,r)):r="p_"+t;var n=e.b[r];if(n&&j(e.b,r))for(var i=0;i<n.length;i++){var s=n[i];if(t!==t&&s.key!==s.key||t===s.key)return{id:r,list:n,index:i,Y:s}}return{id:r,list:n,index:-1,Y:void 0}}function i(e){if(this.b={},this.a=t(),this.size=0,e){e=c(e);for(var r;!(r=e.next()).done;)r=r.value,this.set(r[0],r[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e(c([[t,"s"]]));if("s"!=r.get(t)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=n.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!n.next().done)}catch(a){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var r=n(this,e=0===e?0:e);return r.list||(r.list=this.b[r.id]=[]),r.Y?r.Y.value=t:(r.Y={next:this.a,Ha:this.a.Ha,head:this.a,key:e,value:t},r.list.push(r.Y),this.a.Ha.next=r.Y,this.a.Ha=r.Y,this.size++),this},i.prototype.delete=function(e){return!(!(e=n(this,e)).Y||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.Y.Ha.next=e.Y.next,e.Y.next.Ha=e.Y.Ha,e.Y.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.Ha=t(),this.size=0},i.prototype.has=function(e){return!!n(this,e).Y},i.prototype.get=function(e){return(e=n(this,e).Y)&&e.value},i.prototype.entries=function(){return r(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return r(this,(function(e){return e.key}))},i.prototype.values=function(){return r(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var r,n=this.entries();!(r=n.next()).done;)r=r.value,e.call(t,r[1],r[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),l("Set",(function(e){function t(e){if(this.a=new Map,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e(c([t]));if(!r.has(t)||1!=r.size||r.add(t)!=r||1!=r.size||r.add({x:4})!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=n.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&n.next().done)}catch(a){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.a.set(e,e),this.size=this.a.size,this},t.prototype.delete=function(e){return e=this.a.delete(e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var r=this;this.a.forEach((function(n){return e.call(t,n,n,r)}))},t)})),l("Array.prototype.findIndex",(function(e){return e||function(e,t){return L(this,e,t).Z}})),l("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),l("Array.prototype.keys",(function(e){return e||function(){return N(this,(function(e){return e}))}})),l("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),l("Array.prototype.includes",(function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length,i=t||0;for(0>i&&(i=Math.max(i+n,0));i<n;i++){var a=r[i];if(a===e||Object.is(a,e))return!0}return!1}})),l("String.prototype.includes",(function(e){return e||function(e,t){return-1!==U(this,e,"includes").indexOf(e,t||0)}})),l("Array.prototype.values",(function(e){return e||function(){return N(this,(function(e,t){return t}))}})),l("Array.from",(function(e){return e||function(e,t,r){t=null!=t?t:function(e){return e};var n=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)n.push(t.call(r,i.value,a++))}else for(i=e.length,a=0;a<i;a++)n.push(t.call(r,e[a],a));return n}})),l("Array.prototype.find",(function(e){return e||function(e,t){return L(this,e,t).Yd}})),l("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}}));var B="function"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)j(n,i)&&(e[i]=n[i])}return e};l("Object.assign",(function(e){return e||B})),l("Object.values",(function(e){return e||function(e){var t,r=[];for(t in e)j(e,t)&&r.push(e[t]);return r}})),l("String.prototype.startsWith",(function(e){return e||function(e,t){for(var r=U(this,e,"startsWith"),n=r.length,i=e.length,a=Math.max(0,Math.min(0|t,r.length)),o=0;o<i&&a<n;)if(r[a++]!=e[o++])return!1;return o>=i}}));var F=this||self;function z(e,t){var r,n=e.split("."),i=F;n[0]in i||"undefined"==typeof i.execScript||i.execScript("var "+n[0]);for(;n.length&&(r=n.shift());)n.length||void 0===t?i=i[r]&&i[r]!==Object.prototype[r]?i[r]:i[r]={}:i[r]=t}function V(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function $(e,t,r){var n=Math.pow(e.c,t);r=r*(1-n)+n*e.a,isNaN(r)||(e.a=r,e.b+=t)}function W(e){return e.a/(1-Math.pow(e.c,e.b))}function K(){this.b=new V(2),this.c=new V(5),this.a=0}function H(){}function G(){}function Z(){}function q(){}K.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(W(this.b),W(this.c))};var X=new Set;if(e.console&&e.console.log.bind){var Y={},Q=(Y[1]=console.error.bind(console),Y[2]=console.warn.bind(console),Y[3]=console.info.bind(console),Y[4]=console.log.bind(console),Y[5]=console.debug.bind(console),Y[6]=console.debug.bind(console),Y);Z=Q[2],G=Q[1]}function J(e,t){for(var r=[],n=c(e),i=n.next();!i.done;i=n.next())r.push(t(i.value));return r}var ee=function e(t){var r;return R(e,(function(e){return 1==e.a&&(r=0),3!=e.a?r<t?_(e,r,3):e.u(0):(r++,e.u(2))}))},te=function e(t){var r,n,i,a,o,s;return R(e,(function(e){return 1==e.a&&(r=-1,i=n=void 0,a=c(t),o=a.next()),5!=e.a?o.done?-1==r?e.u(0):_(e,{Z:r,Oe:n,item:i,next:void 0},0):(s=o.value,0<=r?_(e,{Z:r,item:i,Oe:n,next:s},5):e.u(5)):(r++,n=i,i=s,o=a.next(),e.u(2))}))};function re(){}function ne(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(ie(e)==ie(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;for(var r=oe(e),n=oe(t),i=c(ee(e.byteLength)),a=i.next();!a.done;a=i.next())if(r[a=a.value]!=n[a])return!1;return!0}function ie(e){return e instanceof ArrayBuffer?e:e.buffer}function ae(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function oe(e,t,r){return le(e,void 0===t?0:t,r=void 0===r?1/0:r,Uint8Array)}function se(e,t,r){return le(e,void 0===t?0:t,r=void 0===r?1/0:r,DataView)}function le(e,t,r,n){var i=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,i)),new n(ie(e),t,Math.min(t+Math.max(r,0),i)-t)}function ue(e,t,r,n){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=e,this.category=t,this.code=r,this.data=i,this.handled=!1}z("shaka.util.BufferUtils",re),re.toDataView=se,re.toUint8=oe,re.toArrayBuffer=ae,re.equal=ne,ue.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},z("shaka.util.Error",ue),ue.Severity={RECOVERABLE:1,CRITICAL:2},ue.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},ue.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};var ce=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function de(e){var t;e instanceof de?(fe(this,e.va),this.Za=e.Za,this.ua=e.ua,pe(this,e.qb),this.ka=e.ka,he(this,e.a.clone()),this.Qa=e.Qa):e&&(t=String(e).match(ce))?(fe(this,t[1]||"",!0),this.Za=ge(t[2]||""),this.ua=ge(t[3]||"",!0),pe(this,t[4]),this.ka=ge(t[5]||"",!0),he(this,t[6]||"",!0),this.Qa=ge(t[7]||"")):this.a=new we(null)}function fe(e,t,r){e.va=r?ge(t,!0):t,e.va&&(e.va=e.va.replace(/:$/,""))}function pe(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.qb=t}else e.qb=null}function he(e,t,r){t instanceof we?e.a=t:(r||(t=me(t,_e)),e.a=new we(t))}function ge(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function me(e,t,r){return null!=e?(e=encodeURI(e).replace(t,ve),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ve(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(n=de.prototype).va="",n.Za="",n.ua="",n.qb=null,n.ka="",n.Qa="",n.toString=function(){var e=[],t=this.va;if(t&&e.push(me(t,ye,!0),":"),t=this.ua){e.push("//");var r=this.Za;r&&e.push(me(r,ye,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.qb)&&e.push(":",String(t))}return(t=this.ka)&&(this.ua&&"/"!=t.charAt(0)&&e.push("/"),e.push(me(t,"/"==t.charAt(0)?ke:be,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Qa)&&e.push("#",me(t,Ee)),e.join("")},n.resolve=function(e){var t=this.clone();"data"===t.va&&(t=new de);var r=!!e.va;r?fe(t,e.va):r=!!e.Za,r?t.Za=e.Za:r=!!e.ua,r?t.ua=e.ua:r=null!=e.qb;var n=e.ka;if(r)pe(t,e.qb);else if(r=!!e.ka){if("/"!=n.charAt(0))if(this.ua&&!this.ka)n="/"+n;else{var i=t.ka.lastIndexOf("/");-1!=i&&(n=t.ka.substr(0,i+1)+n)}if(".."==n||"."==n)n="";else if(-1!=n.indexOf("./")||-1!=n.indexOf("/.")){i=0==n.lastIndexOf("/",0),n=n.split("/");for(var a=[],o=0;o<n.length;){var s=n[o++];"."==s?i&&o==n.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==n.length&&a.push("")):(a.push(s),i=!0)}n=a.join("/")}}return r?t.ka=n:r=""!==e.a.toString(),r?he(t,e.a.clone()):r=!!e.Qa,r&&(t.Qa=e.Qa),t},n.clone=function(){return new de(this)};var ye=/[#\/\?@]/g,be=/[#\?:]/g,ke=/[#\?]/g,_e=/[#\?@]/g,Ee=/#/g;function we(e){this.a=e||null}function Se(e,t){this.a=e,this.b=t}function Te(e,t){var r=new Se(4,0),n=Pe,i=n.a,a=r.b-i.b;(0<(r.a-i.a||a)?n.c:n.b)(n.a,r,e,t)}function xe(e,t,r,n){Z([r,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",n].join(" "))}function Oe(e,t,r,n){G([r,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",n].join(""))}(n=we.prototype).ha=null,n.fc=null,n.add=function(e,t){if(!this.ha&&(this.ha={},this.fc=0,this.a))for(var r=this.a.split("&"),n=0;n<r.length;n++){var i=r[n].indexOf("="),a=null;if(0<=i){var o=r[n].substring(0,i);a=r[n].substring(i+1)}else o=r[n];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(r=this.ha.hasOwnProperty(e)&&this.ha[e])||(this.ha[e]=r=[]),r.push(t),this.fc++,this},n.toString=function(){if(this.a)return this.a;if(!this.ha)return"";var e,t=[];for(e in this.ha)for(var r=encodeURIComponent(e),n=this.ha[e],i=0;i<n.length;i++){var a=r;""!==n[i]&&(a+="="+encodeURIComponent(n[i])),t.push(a)}return this.a=t.join("&")},n.clone=function(){var e=new we;if(e.a=this.a,this.ha){var t,r={};for(t in this.ha)r[t]=this.ha[t].concat();e.ha=r,e.fc=this.fc}return e},Se.prototype.toString=function(){return"v"+this.a+"."+this.b};var Pe=null;function Ae(e,t){return e.concat(t)}function Ce(){}function Me(e){return null!=e}function Ie(e){var t=Object.create(e.prototype||Object.prototype);try{var r=e.call(t);r||(Te("Factories requiring new","Factories should be plain functions"),r=t)}catch(n){Te("Factories requiring new","Factories should be plain functions"),r=new e}return r}function Re(e,t){if(0==t.length)return e;var r=t.map((function(e){return new de(e)}));return e.map((function(e){return new de(e)})).map((function(e){return r.map((function(t){return e.resolve(t)}))})).reduce(Ae,[]).map((function(e){return e.toString()}))}function De(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:new Set}}var je={Da:"video",fb:"audio",aa:"text",vf:"image",mf:"application"};function Le(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r}function Ne(e){this.b=e,this.a=void 0}function Ue(){}function Be(e){if(!e)return"";239==(e=oe(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=We(e),e=escape(e);try{return decodeURIComponent(e)}catch(t){throw new ue(2,2,2004)}}function Fe(e,t,r){if(!e)return"";if(!r&&0!=e.byteLength%2)throw new ue(2,2,2004);var n=Math.floor(e.byteLength/2);r=new Uint16Array(n),e=se(e);for(var i=(n=c(ee(n))).next();!i.done;i=n.next())r[i=i.value]=e.getUint16(2*i,t);return We(r)}function ze(e){function t(e){return r.byteLength<=e||32<=r[e]&&126>=r[e]}if(!e)return"";var r=oe(e);if(239==r[0]&&187==r[1]&&191==r[2])return Be(r);if(254==r[0]&&255==r[1])return Fe(r.subarray(2),!1);if(255==r[0]&&254==r[1])return Fe(r.subarray(2),!0);if(0==r[0]&&0==r[2])return Fe(e,!1);if(0==r[1]&&0==r[3])return Fe(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Be(e);throw new ue(2,2,2003)}function Ve(e){e=encodeURIComponent(e);var t=unescape(e);e=new Uint8Array(t.length);for(var r=(t=c(te(t))).next();!r.done;r=t.next())e[(r=r.value).Z]=r.item.charCodeAt(0);return ae(e)}function $e(e,t){for(var r=new ArrayBuffer(2*e.length),n=new DataView(r),i=c(te(e)),a=i.next();!a.done;a=i.next())a=a.value,n.setUint16(2*a.Z,a.item.charCodeAt(0),t);return r}function We(e){return Ke.value()(e)}Le.prototype.resolve=function(){},Le.prototype.reject=function(){},Ne.prototype.value=function(){return void 0==this.a&&(this.a=this.b()),this.a},z("shaka.util.StringUtils",Ue),Ue.resetFromCharCode=function(){Ke.a=void 0},Ue.toUTF16=$e,Ue.toUTF8=Ve,Ue.fromBytesAutoDetect=ze,Ue.fromUTF16=Fe,Ue.fromUTF8=Be;var Ke=new Ne((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(r){return!1}}for(var t={Ka:65536};0<t.Ka;(t={Ka:t.Ka}).Ka/=2)if(e(t.Ka))return function(e){return function(t){for(var r="",n=0;n<t.length;n+=e.Ka)r+=String.fromCharCode.apply(null,t.subarray(n,n+e.Ka));return r}}(t);return null}));function He(){}function Ge(e){return e=We(oe(e)),btoa(e)}function Ze(e,t){t=void 0==t||t;var r=Ge(e).replace(/\+/g,"-").replace(/\//g,"_");return t?r:r.replace(/[=]*$/,"")}function qe(t){var r=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));t=new Uint8Array(r.length);for(var n=(r=c(te(r))).next();!n.done;n=r.next())t[(n=n.value).Z]=n.item.charCodeAt(0);return t}function Xe(t){for(var r=t.length/2,n=new Uint8Array(r),i=(r=c(ee(r))).next();!i.done;i=r.next())n[i=i.value]=e.parseInt(t.substr(2*i,2),16);return n}function Ye(e){var t=oe(e);e="";for(var r=(t=c(t)).next();!r.done;r=t.next())1==(r=(r=r.value).toString(16)).length&&(r="0"+r),e+=r;return e}function Qe(e){for(var t=[],r=0;r<arguments.length;++r)t[r]=arguments[r];var n=0,i=c(t);for(r=i.next();!r.done;r=i.next())n+=r.value.byteLength;for(n=new Uint8Array(n),i=0,r=(t=c(t)).next();!r.done;r=t.next())r=r.value,n.set(oe(r),i),i+=r.byteLength;return n}function Je(){var e=this;this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.h=[],this.c=[],this.g=[],this.f=!1,this.a.on("data",(function(t){e.c=t.captions,e.g=t.metadata,e.h.push(Qe(t.initSegment,t.data))})),this.a.on("done",(function(){var t={data:Qe.apply(He,d(e.h)),captions:e.c,metadata:e.g};e.b.resolve(t),e.f=!1}))}function et(t,r){if(!e.muxjs||"mp2t"!=t.toLowerCase().split(";")[0].split("/")[1])return!1;if(r)return MediaSource.isTypeSupported(tt(r,t));var n=tt("audio",t),i=tt("video",t);return MediaSource.isTypeSupported(n)||MediaSource.isTypeSupported(i)}function tt(e,t){var r=t.replace(/mp2t/i,"mp4");"audio"==e&&(r=r.replace("video","audio"));var n=/avc1\.(66|77|100)\.(\d+)/.exec(r);if(n){var i="avc1.",a=n[1],o=Number(n[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),r=r.replace(n[0],i)}return r}function rt(e){this.b=e,this.a=null}function nt(e){this.b=e,this.a=null}function it(e,t){var r={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.j=null==e.maxAttempts?r.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?r.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?r.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?r.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function at(e){var t,r;return D((function(n){if(1==n.a){if(e.a>=e.j){if(!e.c)throw new ue(2,7,1010);e.a=1,e.b=e.f}return t=e.a,e.a++,0==t?n.return():(r=e.b*(1+(2*Math.random()-1)*e.h),_(n,new Promise((function(e){new nt(e).R(r/1e3)})),2))}e.b*=e.g,E(n)}))}function ot(e,t){this.promise=e,this.c=t,this.a=!1}function st(e){return new ot(Promise.reject(e),(function(){return Promise.resolve()}))}function lt(){var e=Promise.reject(new ue(2,7,7001));return e.catch((function(){})),new ot(e,(function(){return Promise.resolve()}))}function ut(e){return new ot(Promise.resolve(e),(function(){return Promise.resolve()}))}function ct(e){return new ot(e,(function(){return e.catch((function(){}))}))}function dt(e){return new ot(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function ft(t,r){for(var n in r=void 0===r?{}:r)Object.defineProperty(this,n,{value:r[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function pt(){this.a={}}function ht(){this.Lc=new pt,this.Zb=this}function gt(e){var t=new Set;return function e(r){switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return r;default:if(!r||r.buffer&&r.buffer.constructor==ArrayBuffer)return r;if(t.has(r))return null;var n=r.constructor==Array;if(r.constructor!=Object&&!n)return null;t.add(r);var i,a=n?[]:{};for(i in r)a[i]=e(r[i]);return n&&(a.length=r.length),a}}(e)}function mt(e){var t,r={};for(t in e)r[t]=e[t];return r}function vt(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t}function yt(e,t){var r=e.indexOf(t);-1<r&&e.splice(r,1)}function bt(e,t,r){if(r||(r=vt),e.length!=t.length)return!1;t=t.slice();for(var n={},i=(e=c(e)).next();!i.done;n={zc:n.zc},i=e.next()){if(n.zc=i.value,-1==(i=t.findIndex(function(e){return function(t){return r(e.zc,t)}}(n))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function kt(e,t,r){if(r||(r=vt),e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}function _t(){this.a=[]}function Et(e,t){e.a.push(t.finally((function(){yt(e.a,t)})))}function wt(e){ht.call(this),this.f=!1,this.g=new _t,this.a=new Set,this.b=new Set,this.c=e||null}function St(e,t,r){r=r||At;var n=Ct[e];(!n||r>=n.priority)&&(Ct[e]={priority:r,Ne:t})}function Tt(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null}}function xt(){this.a=0}function Ot(e,t,r){ot.call(this,e,t),this.b=r}z("shaka.util.Uint8ArrayUtils",He),He.concat=Qe,He.toHex=Ye,He.fromHex=Xe,He.fromBase64=qe,He.toBase64=Ze,He.toStandardBase64=Ge,He.equal=function(e,t){return Te("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),ne(e,t)},Je.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},rt.prototype.R=function(t){var r=this;this.stop();var n=!0,i=null;return this.a=function(){e.clearTimeout(i),n=!1},i=e.setTimeout((function(){n&&r.b()}),1e3*t),this},rt.prototype.stop=function(){this.a&&(this.a(),this.a=null)},nt.prototype.Qb=function(){return this.stop(),this.b(),this},nt.prototype.R=function(e){var t=this;return this.stop(),this.a=new rt((function(){t.b()})).R(e),this},nt.prototype.ra=function(e){var t=this;return this.stop(),this.a=new rt((function(){t.a.R(e),t.b()})).R(e),this},nt.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},z("shaka.util.Timer",nt),nt.prototype.stop=nt.prototype.stop,nt.prototype.tickEvery=nt.prototype.ra,nt.prototype.tickAfter=nt.prototype.R,nt.prototype.tickNow=nt.prototype.Qb,ot.prototype.abort=function(){return this.a=!0,this.c()},ot.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},ot.prototype.U=function(e,t){function r(r){return function(s){if(i.a&&r)a.reject(o);else{var l=r?e:t;l?n=function(e,t,r){try{var n=e(t);return n&&n.promise&&n.abort?(r.resolve(n.promise),function(){return n.abort()}):(r.resolve(n),function(){return Promise.resolve(n).then((function(){}),(function(){}))})}catch(i){return r.reject(i),function(){return Promise.resolve()}}}(l,s,a):(r?a.resolve:a.reject)(s)}}}function n(){return a.reject(o),i.abort()}var i=this,a=new Le,o=new ue(2,7,7001);return this.promise.then(r(!0),r(!1)),new ot(a,(function(){return n()}))},z("shaka.util.AbortableOperation",ot),ot.prototype.chain=ot.prototype.U,ot.prototype.finally=ot.prototype.finally,ot.all=dt,ot.prototype.abort=ot.prototype.abort,ot.notAbortable=ct,ot.completed=ut,ot.aborted=lt,ot.failed=st,ft.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ft.prototype.stopImmediatePropagation=function(){this.a=!0},ft.prototype.stopPropagation=function(){},z("shaka.util.FakeEvent",ft),pt.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},pt.prototype.get=function(e){return(e=this.a[e])?e.slice():null},pt.prototype.remove=function(e,t){e in this.a&&(this.a[e]=this.a[e].filter((function(e){return e!=t})))},ht.prototype.addEventListener=function(e,t){this.Lc.push(e,t)},ht.prototype.removeEventListener=function(e,t){this.Lc.remove(e,t)},ht.prototype.dispatchEvent=function(e){for(var t=this.Lc.get(e.type)||[],r=(t=c(t)).next();!r.done;r=t.next()){r=r.value,e.target=this.Zb,e.currentTarget=this.Zb;try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(n){}if(e.a)break}return e.defaultPrevented},_t.prototype.destroy=function(){for(var e=[],t=c(this.a),r=t.next();!r.done;r=t.next())(r=r.value).promise.catch((function(){})),e.push(r.abort());return this.a=[],Promise.all(e)},v(wt,ht),(n=wt.prototype).Pe=function(e){this.a.add(e)},n.hf=function(e){this.a.delete(e)},n.ge=function(){this.a.clear()},n.Qe=function(e){this.b.add(e)},n.jf=function(e){this.b.delete(e)},n.he=function(){this.b.clear()},n.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},n.request=function(e,t){var r=this,n=new xt;if(this.f){var i=Promise.reject(new ue(2,7,7001));return i.catch((function(){})),new Ot(i,(function(){return Promise.resolve()}),n)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?gt(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},t.uris=gt(t.uris);var a=(i=function(e,t,r){for(var n=ut(void 0),i={},a=(e=c(e.a)).next();!a.done;i={Dc:i.Dc},a=e.next())i.Dc=a.value,n=n.U(function(e){return function(){return r.body&&(r.body=ae(r.body)),e.Dc(t,r)}}(i));return n.U(void 0,(function(e){if(e instanceof ue&&7001==e.code)throw e;throw new ue(2,1,1006,e)}))}(this,e,t)).U((function(){return function e(t,r,n,i,a,o,s){var l=new de(n.uris[a]),u=l.va,c=!1;u||(u=(u=location.protocol).slice(0,-1),fe(l,u),n.uris[a]=l.toString()),u=u.toLowerCase();var d,f=(u=Ct[u])?u.Ne:null;return f?ct(at(i)).U((function(){return t.f?lt():(d=Date.now(),f(n.uris[a],n,r,(function(e,n,i){t.c&&r==Pt&&(t.c(e,n),c=!0,s.a=i)})))})).U((function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-d),{response:e,Fe:c}}),(function(l){if(t.f)return lt();if(l instanceof ue){if(7001==l.code)throw l;if(1010==l.code)throw o;if(1==l.severity){var u=new ft("retry",{error:l});return t.dispatchEvent(u),a=(a+1)%n.uris.length,e(t,r,n,i,a,l,s)}}throw l})):st(new ue(2,1,1e3,l))}(r,e,t,new it(t.retryParameters,!1),0,null,n)})),o=a.U((function(t){return function(e,t,r){for(var n=ut(void 0),i={},a=(e=c(e.b)).next();!a.done;i={Ec:i.Ec},a=e.next())i.Ec=a.value,n=n.U(function(e){return function(){var n=r.response;return n.data&&(n.data=ae(n.data)),e.Ec(t,n)}}(i));return n.U((function(){return r}),(function(e){var t=2;if(e instanceof ue){if(7001==e.code)throw e;t=e.severity}throw new ue(t,1,1007,e)}))}(r,e,t)})),s=Date.now(),l=0;i.promise.then((function(){l=Date.now()-s}),(function(){}));var u=0;a.promise.then((function(){u=Date.now()}),(function(){}));var d=o.U((function(t){var n=Date.now()-u,i=t.response;return i.timeMs+=l,i.timeMs+=n,t.Fe||!r.c||i.fromCache||e!=Pt||r.c(i.timeMs,i.data.byteLength),i}),(function(e){throw e&&(e.severity=2),e}));return i=new Ot(d.promise,(function(){return d.abort()}),n),Et(this.g,i),i},z("shaka.net.NetworkingEngine",wt),wt.prototype.request=wt.prototype.request,wt.prototype.destroy=wt.prototype.destroy,wt.makeRequest=Tt,wt.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},wt.prototype.clearAllResponseFilters=wt.prototype.he,wt.prototype.unregisterResponseFilter=wt.prototype.jf,wt.prototype.registerResponseFilter=wt.prototype.Qe,wt.prototype.clearAllRequestFilters=wt.prototype.ge,wt.prototype.unregisterRequestFilter=wt.prototype.hf,wt.prototype.registerRequestFilter=wt.prototype.Pe,wt.unregisterScheme=function(e){delete Ct[e]},wt.registerScheme=St,wt.NumBytesRemainingClass=xt,v(Ot,ot),wt.PendingRequest=Ot;var Pt=1;wt.RequestType={MANIFEST:0,SEGMENT:Pt,LICENSE:2,APP:3,TIMING:4};var At=3;wt.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:At};var Ct={};function Mt(e){this.a=!1,this.b=new Le,this.c=e}function It(e,t){if(e.a){if(t instanceof ue&&7003==t.code)throw t;throw new ue(2,7,7003,t)}}function Rt(){this.a=new pt}function Dt(e,t,r,n){this.target=e,this.type=t,this.listener=r,this.a=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var r=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!r.has(e)})),function(e){var t=jt;if(void 0==t){t=!1;try{var r={},n={get:function(){return t=!0,!1}};Object.defineProperty(r,"passive",n),Object.defineProperty(r,"capture",n),n=function(){},e.addEventListener("test",n,r),e.removeEventListener("test",n,r)}catch(i){t=!1}jt=t}return t||!1}(e)?t:t.capture||!1}(e,n),this.target.addEventListener(t,r,this.a)}Mt.prototype.destroy=function(){var e=this;return this.a?this.b:(this.a=!0,this.c().then((function(){e.b.resolve()}),(function(){e.b.resolve()})))},(n=Rt.prototype).release=function(){this.Xa(),this.a=null},n.l=function(e,t,r,n){this.a&&(e=new Dt(e,t,r,n),this.a.push(t,e))},n.ia=function(e,t,r,n){var i=this;this.l(e,t,(function n(a){i.sa(e,t,n),r(a)}),n)},n.sa=function(e,t,r){if(this.a)for(var n=this.a.get(t)||[],i=(n=c(n)).next();!i.done;i=n.next())(i=i.value).target!=e||r!=i.listener&&r||(i.sa(),this.a.remove(t,i))},n.Xa=function(){if(this.a){var e,t=this.a,r=[];for(e in t.a)r.push.apply(r,d(t.a[e]));for(r=(t=c(r)).next();!r.done;r=t.next())r.value.sa();this.a.a={}}},z("shaka.util.EventManager",Rt),Rt.prototype.removeAll=Rt.prototype.Xa,Rt.prototype.unlisten=Rt.prototype.sa,Rt.prototype.listenOnce=Rt.prototype.ia,Rt.prototype.listen=Rt.prototype.l,Rt.prototype.release=Rt.prototype.release,Dt.prototype.sa=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1};var jt=void 0;function Lt(){}function Nt(e){return new de(e=ze(e)).ua}function Ut(e,t,r){function n(e){se(a).setUint32(o,e.byteLength,!0),o+=4,a.set(oe(e),o),o+=e.byteLength}if(!r||!r.byteLength)throw new ue(2,6,6015);var i;i="string"==typeof t?$e(t,!0):t,e=$e(e=ze(e),!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+r.byteLength),o=0;return n(e),n(i),n(r),a}function Bt(e){for(var t=new Map,r=c(Object.keys(e)),n=r.next();!n.done;n=r.next())n=n.value,t.set(n,e[n]);return t}function Ft(e){var t={};return e.forEach((function(e,r){t[r]=e})),t}function zt(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var r=c(e),n=r.next();!n.done;n=r.next()){var i=c(n.value);if(n=i.next().value,i=i.next().value,!t.has(n))return!1;if((n=t.get(n))!=i||void 0==n)return!1}return!0}function Vt(e,t){var r=e;return t&&(r+='; codecs="'+t+'"'),r}function $t(e){var t=(e=e.split("."))[0];return e.pop(),t}z("shaka.util.FairPlayUtils",Lt),Lt.initDataTransform=Ut,Lt.defaultGetContentId=Nt;var Wt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Kt(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Ht(e){return""!=Yt().canPlayType(e)}function Gt(){return Xt("Tizen")}function Zt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Gt()}function qt(){if(!Zt())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function Xt(e){return(navigator.userAgent||"").includes(e)}function Yt(){return Jt||(Qt||(Qt=new nt((function(){Jt=null}))),(Jt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Jt=document.createElement("video")),Qt.R(1),Jt)}var Qt=null,Jt=null;function er(e,t){var r=this;t=void 0===t?1:t,this.s=e,this.m=new Set,this.a=this.h=null,this.M=!1,this.G=0,this.c=null,this.b=new Rt,this.f=new Map,this.v=[],this.j=new Le,this.i=null,this.g=function(t){r.j.reject(t),e.onError(t)},this.da=new Map,this.T=new Map,this.J=new nt((function(){return function(e){var t=e.da,r=e.T;r.clear(),t.forEach((function(e,t){return r.set(t,e)})),(t=Array.from(r.values())).length&&t.every((function(e){return"expired"==e}))&&e.g(new ue(2,6,6014)),e.s.nc(Ft(r))}(r)})),this.A=!1,this.D=[],this.I=!1,this.X=new nt((function(){!function(e){e.f.forEach((function(t,r){var n=t.$c,i=r.expiration;isNaN(i)&&(i=1/0),i!=n&&(e.s.onExpirationUpdated(r.sessionId,i),t.$c=i)}))}(r)})).ra(t),this.j.catch((function(){})),this.F=new Mt((function(){return function(e){return D((function(t){switch(t.a){case 1:return e.b.release(),e.b=null,e.j.reject(),e.X.stop(),e.X=null,e.J.stop(),e.J=null,_(t,gr(e),2);case 2:if(!e.a){t.u(3);break}return w(t,4),_(t,e.a.setMediaKeys(null),6);case 6:T(t,5);break;case 4:x(t);case 5:e.a=null;case 3:e.c=null,e.m.clear(),e.h=null,e.v=[],e.i=null,e.g=function(){},e.s=null,E(t)}}))}(r)}))}function tr(e,t,r){return e.v=r,e.A=0<r.length,rr(e,t)}function rr(t,r){var n=function(t){if(0==(t=Bt(t.i.clearKeys)).size)return null;var r=[],n=[];t.forEach((function(e,t){var i=Xe(t),a=Xe(e);i={kty:"oct",kid:Ze(i,!1),k:Ze(a,!1)},r.push(i),n.push(i.kid)})),t=JSON.stringify({keys:r});var i=JSON.stringify({kids:n});return i=[{initData:oe(Ve(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:new Set(n)}}(t);if(n)for(var i=c(r),a=i.next();!a.done;a=i.next())(a=a.value).video&&(a.video.drmInfos=[n]),a.audio&&(a.audio.drmInfos=[n]);for((n=r.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||function(e,t){var r=[];t.forEach((function(e,t){r.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var n=c(e),i=n.next();!i.done;i=n.next())(i=i.value).video&&(i.video.drmInfos=r),i.audio&&(i.audio.drmInfos=r)}(r,i=Bt(t.i.servers)),a=(i=c(r)).next();!a.done;a=i.next())for(var o=(a=c(((a=a.value).video?a.video.drmInfos:[]).concat(a.audio?a.audio.drmInfos:[]))).next();!o.done;o=a.next())br(o.value,Bt(t.i.servers),Bt(t.i.advanced||{}));return(i=function(e,t){for(var r=new Set,n=c(t),i=n.next();!i.done;i=n.next()){var a=c(((i=i.value).video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]));for(i=a.next();!i.done;i=a.next())r.add(i.value)}for(n=c(r),i=n.next();!i.done;i=n.next())br(i.value,Bt(e.i.servers),Bt(e.i.advanced||{}));a=e.A?"required":"optional";var o=e.A?["persistent-license"]:["temporary"];for(n=new Map,r=c(r),i=r.next();!i.done;i=r.next())i=i.value,n.set(i.keySystem,{initDataTypes:["cenc"],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(r=c(t),i=r.next();!i.done;i=r.next())for(i=i.value,a=c([i.audio,i.video]),i=a.next();!i.done;i=a.next())if(o=i.value){var s=ur(o),l=null;"ac-3"==o.codecs.toLowerCase()&&Gt()&&(l=ur(o,"ec-3"));var u=c(o.drmInfos);for(i=u.next();!i.done;i=u.next()){var f=i.value;(i=n.get(f.keySystem)).drmInfos.push(f),f.initData&&f.initData.length&&(i.initDataTypes=d(new Set(f.initData.map((function(e){return e.initDataType})))).concat()),f.distinctiveIdentifierRequired&&(i.distinctiveIdentifier="required"),f.persistentStateRequired&&(i.persistentState="required");var p={robustness:(f="audio"==o.type?f.audioRobustness:f.videoRobustness)||"",contentType:s};"audio"==o.type?i.audioCapabilities.push(p):i.videoCapabilities.push(p),l&&(f={robustness:f||"",contentType:l},"audio"==o.type?i.audioCapabilities.push(f):i.videoCapabilities.push(f))}}return n}(t,r)).size?(i=cr(t,i),n?i:i.catch((function(){}))):(t.M=!0,Promise.resolve())}function nr(e){return D((function(t){if(1==t.a)return e.h&&e.c&&e.c.serverCertificate&&e.c.serverCertificate.length?(w(t,3),_(t,e.h.setServerCertificate(e.c.serverCertificate),5)):t.u(0);if(3!=t.a)return T(t,0);throw new ue(2,6,6004,x(t).message)}))}function ir(e){for(var t=(e.c?e.c.initData:[])||[],r=c(t),n=r.next();!n.done;n=r.next())ar(e,(n=n.value).initDataType,n.initData);for(n=(r=c(e.v)).next();!n.done;n=r.next())dr(e,n.value);return t.length||e.v.length||e.j.resolve(),e.j}function ar(e,t,r){for(var n=e.f.values(),i=(n=c(n)).next();!i.done;i=n.next())if(ne(r,i.value.initData)&&!Xt("Tizen 2"))return;!function(e,t,r){try{var n=e.A?e.h.createSession("persistent-license"):e.h.createSession()}catch(i){return void e.g(new ue(2,6,6005,i.message))}e.b.l(n,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.I?e.D.push(t):pr(e,t)})),e.b.l(n,"keystatuseschange",(function(t){return hr(e,t)})),e.f.set(n,{initData:r,loaded:!1,$c:1/0,Aa:null});try{r=e.i.initDataTransform(r,t,e.c)}catch(i){return t=i,i instanceof ue||(t=new ue(2,6,6016,i)),void e.g(t)}e.i.logLicenseExchange&&Ze(r),n.generateRequest(t,r).catch((function(t){if(!e.F.a){e.f.delete(n);var r=t.errorCode;if(r&&r.systemCode){var i=r.systemCode;0>i&&(i+=Math.pow(2,32)),i="0x"+i.toString(16)}e.g(new ue(2,6,6006,t.message,t,i))}}))}(e,t,r)}function or(e){return e?e.keySystem:""}function sr(e,t){if(navigator.userAgent.match(/Edge\//))return!0;if(t=t.toLowerCase(),Gt()&&t.includes('codecs="ac-3"')){var r=t.replace("ac-3","ec-3");return e.m.has(t)||e.m.has(r)}return e.m.has(t)}function lr(e){return e=J(e=e.f.keys(),(function(e){return e.sessionId})),Array.from(e)}function ur(e,t){var r=Vt(e.mimeType,t||e.codecs);return et(r)?tt(e.type,r):r}function cr(e,t){var r,n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,E,S,O;return D((function(P){switch(P.a){case 1:if(1==t.size&&t.has(""))throw new ue(2,6,6e3);for(r=c(t.values()),n=r.next();!n.done;n=r.next())0==(i=n.value).audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities;o=c([!0,!1]),s=o.next();case 2:if(s.done){P.u(4);break}l=s.value,u=c(t.keys()),d=u.next();case 5:if(d.done){P.u(7);break}if(f=d.value,p=t.get(f),p.drmInfos.some((function(e){return!!e.licenseServerUri}))!=l){P.u(6);break}return w(P,8),_(P,navigator.requestMediaKeySystemAccess(f,[p]),10);case 10:a=P.b,P.u(7);break;case 8:x(P);case 9:It(e.F);case 6:d=u.next(),P.u(5);break;case 7:if(a){P.u(4);break}s=o.next(),P.u(2);break;case 4:if(!a)throw new ue(2,6,6001);for(It(e.F),w(P,11),e.m.clear(),h=a.getConfiguration(),g=h.audioCapabilities||[],m=h.videoCapabilities||[],v=c(g),y=v.next();!y.done;y=v.next())b=y.value,e.m.add(b.contentType.toLowerCase());for(k=c(m),y=k.next();!y.done;y=k.next())E=y.value,e.m.add(E.contentType.toLowerCase());if(e.c=function(e,t){var r=[],n=[],i=[],a=new Set;return function(e,t,r,n,i){for(var a={},o=(e=c(e)).next();!o.done;a={na:a.na},o=e.next()){if(a.na=o.value,t.includes(a.na.licenseServerUri)||t.push(a.na.licenseServerUri),a.na.serverCertificate&&(r.some(function(e){return function(t){return ne(t,e.na.serverCertificate)}}(a))||r.push(a.na.serverCertificate)),a.na.initData){o={};for(var s=c(a.na.initData),l=s.next();!l.done;o={Tb:o.Tb},l=s.next())o.Tb=l.value,n.some(function(e){return function(t){var r=e.Tb;return!(!t.keyId||t.keyId!=r.keyId)||t.initDataType==r.initDataType&&ne(t.initData,r.initData)}}(o))||n.push(o.Tb)}if(a.na.keyIds)for(o=c(a.na.keyIds),s=o.next();!s.done;s=o.next())i.add(s.value)}}(t.drmInfos,r,n,i,a),{keySystem:e,licenseServerUri:r[0],distinctiveIdentifierRequired:"required"==t.distinctiveIdentifier,persistentStateRequired:"required"==t.persistentState,audioRobustness:(t.audioCapabilities?t.audioCapabilities[0].robustness:"")||"",videoRobustness:(t.videoCapabilities?t.videoCapabilities[0].robustness:"")||"",serverCertificate:n[0],initData:i,keyIds:a}}(a.keySystem,t.get(a.keySystem)),!e.c.licenseServerUri)throw new ue(2,6,6012,e.c.keySystem);return _(P,a.createMediaKeys(),13);case 13:return S=P.b,It(e.F),e.h=S,e.M=!0,_(P,nr(e),14);case 14:It(e.F),T(P,0);break;case 11:if(O=x(P),It(e.F,O),e.c=null,e.m.clear(),O instanceof ue)throw O;throw new ue(2,6,6002,O.message)}}))}function dr(e,t){var r,n,a,o,s;return D((function(l){switch(l.a){case 1:try{r=e.h.createSession("persistent-license")}catch(i){return n=new ue(2,6,6005,i.message),e.g(n),l.return(Promise.reject(n))}return e.b.l(r,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.I?e.D.push(t):pr(e,t)})),e.b.l(r,"keystatuseschange",(function(t){return hr(e,t)})),a={initData:null,loaded:!1,$c:1/0,Aa:null},e.f.set(r,a),w(l,2),_(l,r.load(t),4);case 4:return o=l.b,It(e.F),o?(a.loaded=!0,yr(e)&&e.j.resolve(),l.return(r)):(e.f.delete(r),e.g(new ue(2,6,6013)),l.return(Promise.resolve()));case 2:s=x(l),It(e.F,s),e.f.delete(r),e.g(new ue(2,6,6005,s.message));case 3:return l.return(Promise.resolve())}}))}function fr(e,t,r){return"skd"==t&&(t=r.serverCertificate,e=Ut(e,r=Nt(e),t)),e}function pr(e,t){var r,n,i,a,o,s,l,u,d,f,p,h;D((function(g){switch(g.a){case 1:return r=t.target,e.i.logLicenseExchange&&Ze(t.message),n=e.f.get(r),i=e.c.licenseServerUri,a=e.i.advanced[e.c.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=Tt([i],e.i.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=r.sessionId,"com.microsoft.playready"!=e.c.keySystem&&"com.chromecast.playready"!=e.c.keySystem||function(e){var t=Fe(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){for(var r=c((t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader")),n=r.next();!n.done;n=r.next())n=n.value,e.headers[n.getElementsByTagName("name")[0].textContent]=n.getElementsByTagName("value")[0].textContent;e.body=qe(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(o),s=Date.now(),w(g,2),_(g,e.s.nb.request(2,o).promise,4);case 4:l=g.b,T(g,3);break;case 2:return u=x(g),d=new ue(2,6,6007,u),e.g(d),n&&n.Aa&&n.Aa.reject(d),g.return();case 3:return e.F.a?g.return():(e.G+=(Date.now()-s)/1e3,e.i.logLicenseExchange&&Ze(l.data),w(g,5),_(g,r.update(l.data),7));case 7:T(g,6);break;case 5:return f=x(g),p=new ue(2,6,6008,f.message),e.g(p),n&&n.Aa&&n.Aa.reject(p),g.return();case 6:h=new ft("drmsessionupdate"),e.s.onEvent(h),n&&(n.Aa&&n.Aa.resolve(),new nt((function(){n.loaded=!0,yr(e)&&e.j.resolve()})).R(_r)),E(g)}}))}function hr(e,t){var r=t.target,n=e.f.get(r),i=!1;r.keyStatuses.forEach((function(t,r){if("string"==typeof r){var a=r;r=t,t=a}if("com.microsoft.playready"==e.c.keySystem&&16==r.byteLength&&(Xt("Trident/")||navigator.userAgent.match(/Edge?\//))){var o=(a=se(r)).getUint32(0,!0),s=a.getUint16(4,!0),l=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,l,!1)}"com.microsoft.playready"==e.c.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(i=!0),a=Ye(r),e.da.set(a,t)}));var a=r.expiration-Date.now();(0>a||i&&1e3>a)&&n&&!n.Aa&&(e.f.delete(r),r.close().catch((function(){}))),yr(e)&&(e.j.resolve(),e.J.R(Er))}function gr(e){var t;return D((function(r){return t=Array.from(e.f.keys()),e.f.clear(),_(r,Promise.all(t.map((function(e){return D((function(t){return 1==t.a?(w(t,2),_(t,function(e){var t;return D((function(r){return 1==r.a?(t=new Promise((function(e,t){new nt(t).R(kr)})),w(r,2),_(r,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=r.a?T(r,0):(x(r),void E(r))}))}(e),4)):2!=t.a?T(t,0):(x(t),void E(t))}))}))),0)}))}function mr(e,t){var r=t.audio,n=t.video;if(r&&r.encrypted){var i=ur(r);if(!sr(e,i))return!1}if(n&&n.encrypted&&!sr(e,i=ur(n)))return!1;var a=or(e.c);return 0==(r=(n?n.drmInfos:[]).concat(r?r.drmInfos:[])).length||r.some((function(e){return e.keySystem==a}))}function vr(e,t){if(!e.length)return t;if(!t.length)return e;for(var r=[],n=c(e),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=c(t),o=a.next();!o.done;o=a.next())if(o=o.value,i.keySystem==o.keySystem){a=(a=(a=[]).concat(i.initData||[])).concat(o.initData||[]);var s=i.keyIds&&o.keyIds?new Set(d(i.keyIds).concat(d(o.keyIds))):i.keyIds||o.keyIds;r.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,initData:a,keyIds:s});break}}return r}function yr(e){return function(e,t){for(var r=c(e),n=r.next();!n.done;n=r.next())if(!t(n.value))return!1;return!0}(e=e.f.values(),(function(e){return e.loaded}))}function br(t,r,n){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(r.size&&(r=r.get(t.keySystem)||"",t.licenseServerUri=r),t.keyIds||(t.keyIds=new Set),(n=n.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=n.persistentStateRequired),t.videoRobustness||(t.videoRobustness=n.videoRobustness),t.audioRobustness||(t.audioRobustness=n.audioRobustness),t.serverCertificate||(t.serverCertificate=n.serverCertificate)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}er.prototype.destroy=function(){return this.F.destroy()},er.prototype.configure=function(e){this.i=e},er.prototype.zb=function(e){var t,r=this;return D((function(n){if(1==n.a)return r.h?(r.a=e,r.b.ia(r.a,"play",(function(){for(var e=c(r.D),t=e.next();!t.done;t=e.next())pr(r,t.value);r.I=!0,r.D=[]})),"webkitCurrentPlaybackTargetIsWireless"in r.a&&r.b.l(r.a,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return gr(r)})),_(n,r.a.setMediaKeys(r.h).catch((function(e){return Promise.reject(new ue(2,6,6003,e.message))})),2)):(r.b.ia(e,"encrypted",(function(){r.g(new ue(2,6,6010))})),n.return());It(r.F),ir(r),r.c.initData.length||r.v.length||(t=function(e){return ar(r,e.initDataType,oe(e.initData))},r.b.l(r.a,"encrypted",t)),E(n)}))},er.prototype.Eb=function(){for(var e=1/0,t=this.f.keys(),r=(t=c(t)).next();!r.done;r=t.next())r=r.value,isNaN(r.expiration)||(e=Math.min(e,r.expiration));return e};var kr=1,_r=5,Er=.5,wr=new Ne((function(){return ae(new Uint8Array([0]))}));function Sr(e,t){this.P=se(e),this.a=t==xr,this.C=0}function Tr(){return new ue(2,3,3e3)}(n=Sr.prototype).wa=function(){return this.C<this.P.byteLength},n.ye=function(){return this.C},n.oe=function(){return this.P.byteLength},n.qa=function(){try{var e=this.P.getUint8(this.C);return this.C+=1,e}catch(t){throw Tr()}},n.Mb=function(){try{var e=this.P.getUint16(this.C,this.a);return this.C+=2,e}catch(t){throw Tr()}},n.K=function(){try{var e=this.P.getUint32(this.C,this.a);return this.C+=4,e}catch(t){throw Tr()}},n.Od=function(){try{var e=this.P.getInt32(this.C,this.a);return this.C+=4,e}catch(t){throw Tr()}},n.rb=function(){try{if(this.a)var e=this.P.getUint32(this.C,!0),t=this.P.getUint32(this.C+4,!0);else t=this.P.getUint32(this.C,!1),e=this.P.getUint32(this.C+4,!1)}catch(r){throw Tr()}if(2097151<t)throw new ue(2,3,3001);return this.C+=8,t*Math.pow(2,32)+e},n.Wa=function(e){if(this.C+e>this.P.byteLength)throw Tr();var t=oe(this.P,this.C,e);return this.C+=e,t},n.skip=function(e){if(this.C+e>this.P.byteLength)throw Tr();this.C+=e},n.Qd=function(e){if(this.C<e)throw Tr();this.C-=e},n.seek=function(e){if(0>e||e>this.P.byteLength)throw Tr();this.C=e},n.dd=function(){for(var e=this.C;this.wa()&&0!=this.P.getUint8(this.C);)this.C+=1;return e=oe(this.P,e,this.C-e),this.C+=1,Be(e)},z("shaka.util.DataViewReader",Sr),Sr.prototype.readTerminatedString=Sr.prototype.dd,Sr.prototype.seek=Sr.prototype.seek,Sr.prototype.rewind=Sr.prototype.Qd,Sr.prototype.skip=Sr.prototype.skip,Sr.prototype.readBytes=Sr.prototype.Wa,Sr.prototype.readUint64=Sr.prototype.rb,Sr.prototype.readInt32=Sr.prototype.Od,Sr.prototype.readUint32=Sr.prototype.K,Sr.prototype.readUint16=Sr.prototype.Mb,Sr.prototype.readUint8=Sr.prototype.qa,Sr.prototype.getLength=Sr.prototype.oe,Sr.prototype.getPosition=Sr.prototype.ye,Sr.prototype.hasMoreData=Sr.prototype.wa;var xr=1;function Or(){this.c=[],this.b=[],this.a=!1}function Pr(e){for(var t=Rr(e);e.reader.wa()&&!e.parser.a;)e.parser.pc(e.start+t,e.reader,e.partialOkay)}function Ar(e){for(var t=Rr(e),r=e.reader.K(),n=(r=c(ee(r))).next();!n.done&&(e.parser.pc(e.start+t,e.reader,e.partialOkay),!e.parser.a);n=r.next());}function Cr(e){return function(t){e(t.reader.Wa(t.reader.P.byteLength-t.reader.C))}}function Mr(e){for(var t=0,r=(e=c(e)).next();!r.done;r=e.next())t=t<<8|r.value.charCodeAt(0);return t}function Ir(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Rr(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}Sr.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:xr},(n=Or.prototype).box=function(e,t){var r=Mr(e);return this.c[r]=Dr,this.b[r]=t,this},n.V=function(e,t){var r=Mr(e);return this.c[r]=jr,this.b[r]=t,this},n.stop=function(){this.a=!0},n.parse=function(e,t){var r=new Sr(e,0);for(this.a=!1;r.wa()&&!this.a;)this.pc(0,r,t)},n.pc=function(e,t,r){var n=t.C,i=t.K(),a=t.K(),o=!1;switch(i){case 0:i=t.P.byteLength-n;break;case 1:i=t.rb(),o=!0}var s=this.b[a];if(s){var l=null,u=null;this.c[a]==jr&&(l=(u=t.K())>>>24,u&=16777215),a=n+i,r&&a>t.P.byteLength&&(a=t.P.byteLength),s({parser:this,partialOkay:r||!1,version:l,flags:u,reader:t=new Sr(t=0<(a-=t.C)?t.Wa(a):new Uint8Array(0),0),size:i,start:n+e,has64BitSize:o})}else t.skip(Math.min(n+i-t.C,t.P.byteLength-t.C))},z("shaka.util.Mp4Parser",Or),Or.headerSize=Rr,Or.typeToString=Ir,Or.allData=Cr,Or.sampleDescription=Ar,Or.children=Pr,Or.prototype.parseNext=Or.prototype.pc,Or.prototype.parse=Or.prototype.parse,Or.prototype.stop=Or.prototype.stop,Or.prototype.fullBox=Or.prototype.V,Or.prototype.box=Or.prototype.box;var Dr=0,jr=1;function Lr(e,t,r,n,i){var a=Ur.value(),o=e.subarray(r.start,r.start+r.size),s=se(o),l=new Uint8Array(r.size+a.byteLength);for(l.set(o,0),(o=se(l)).setUint32(4,i),l.set(a,r.size),i=s.getUint32(4),o.setUint32(r.size+16,i),Nr(l,0,l.byteLength),i=new Uint8Array(e.byteLength+l.byteLength),r=Xt("Xbox One")?r.start:r.start+r.size,a=e.subarray(r),i.set(e.subarray(0,r)),i.set(l,r),i.set(a,r+l.byteLength),n=(e=c(n)).next();!n.done;n=e.next())Nr(i,(n=n.value).start,n.size+l.byteLength);return l=se(i,t.start),t=Rr(t),e=l.getUint32(t),l.setUint32(t,e+1),i}function Nr(e,t,r){0!=(t=(e=se(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,r>>32),e.setUint32(12,4294967295&r)):e.setUint32(0,r))}var Ur=new Ne((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function Br(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function Fr(){}function zr(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Vr(e,t,r){return r=void 0===r?0:r,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+r>=e.start(0)}function $r(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var r=0,n=c(Wr(e)),i=n.next();!i.done;i=n.next()){var a=i.value;i=a.start,(a=a.end)>t&&(r+=a-Math.max(i,t))}return r}function Wr(e){if(!e)return[];for(var t=[],r=c(ee(e.length)),n=r.next();!n.done;n=r.next())n=n.value,t.push({start:e.start(n),end:e.end(n)});return t}function Kr(e,t,r){this.startTime=e,this.direction=Qr,this.endTime=t,this.payload=r,this.region=new sn,this.position=null,this.positionAlign=Gr,this.size=0,this.textAlign=Zr,this.writingMode=Jr,this.lineInterpretation=en,this.line=null,this.lineHeight="",this.lineAlign=tn,this.displayAlign=Xr,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=nn,this.fontStyle=an,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1,this.cellResolution={columns:32,rows:15}}function Hr(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var r in e)if("startTime"!=r&&"endTime"!=r&&"payload"!=r)if("nestedCues"==r){if(!kt(e.nestedCues,t.nestedCues,Hr))return!1}else if("region"==r||"cellResolution"==r){for(var n in e[r])if(e[r][n]!=t[r][n])return!1}else if(Array.isArray(e[r])){if(!kt(e[r],t[r]))return!1}else if(e[r]!=t[r])return!1;return!0}Br.prototype.init=function(e){var t=muxjs.mp4.probe;e=oe(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},Br.prototype.b=function(e,t){var r=oe(e);(r=this.a.parse(r,this.g,this.f))&&r.captions&&t(r.captions),this.a.clearParsedCaptions()},Br.prototype.c=function(){this.a.resetCaptionStream()},Fr.prototype.init=function(){},Fr.prototype.b=function(){},Fr.prototype.c=function(){},Kr.prototype.clone=function(){var e,t=new Kr(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},z("shaka.text.Cue",Kr);var Gr="auto";Kr.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Gr};var Zr="center",qr={LEFT:"left",RIGHT:"right",CENTER:Zr,START:"start",END:"end"};Kr.textAlign=qr;var Xr="after",Yr={BEFORE:"before",CENTER:"center",AFTER:Xr};Kr.displayAlign=Yr;var Qr="ltr";Kr.direction={HORIZONTAL_LEFT_TO_RIGHT:Qr,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Jr="horizontal-tb";Kr.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Jr,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var en=0;Kr.lineInterpretation={LINE_NUMBER:en,PERCENTAGE:1};var tn="start",rn={CENTER:"center",START:tn,END:"end"};Kr.lineAlign=rn;var nn=400;Kr.fontWeight={NORMAL:nn,BOLD:700};var an="normal",on={NORMAL:an,ITALIC:"italic",OBLIQUE:"oblique"};function sn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=ln,this.scroll=un}Kr.fontStyle=on,Kr.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},z("shaka.text.CueRegion",sn);var ln=1;sn.units={PX:0,PERCENTAGE:ln,LINES:2};var un="";function cn(e){this.m=null,this.c=e,this.f=this.v=0,this.g=1/0,this.b=this.a=null,this.j="",this.h=new Map}function dn(t){return!!(pn[t]||e.muxjs&&"application/cea-608"==t)}function fn(e,t,r,n,i){for(var a=r+" "+n,o=new Map,s=(t=c(t)).next();!s.done;s=t.next()){var l=s.value;s=l.stream,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),l.startTime+=i,l.endTime+=i,l.startTime>=e.f&&l.startTime<e.g&&(l=new Kr(l.startTime,l.endTime,l.text),o.get(s).get(a).push(l),s==e.j&&e.c.append([l]))}for(a=(i=c(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.h.has(a)||e.h.set(a,new Map),s=(t=c(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,l=o.get(a).get(s),e.h.get(a).set(s,l);e.a=null==e.a?Math.max(r,e.f):Math.min(e.a,Math.max(r,e.f)),e.b=Math.max(e.b,Math.min(n,e.g))}sn.scrollMode={NONE:un,UP:"up"},cn.prototype.destroy=function(){return this.c=this.m=null,this.h.clear(),Promise.resolve()},cn.prototype.remove=function(e,t){var r=this;return D((function(n){if(1==n.a)return _(n,Promise.resolve(),2);!r.c||!r.c.remove(e,t)||null==r.a||t<=r.a||e>=r.b||(e<=r.a&&t>=r.b?r.a=r.b=null:e<=r.a&&t<r.b?r.a=t:e>r.a&&t>=r.b&&(r.b=e)),E(n)}))},z("shaka.text.TextEngine",cn),cn.prototype.destroy=cn.prototype.destroy,cn.unregisterParser=function(e){delete pn[e]},cn.registerParser=function(e,t){pn[e]=t};var pn={};function hn(e,t,r,n){var i=this;this.a=e,this.h=r,this.f={},this.G={},this.c=null,this.I=n||function(){},this.g={},this.b=new Rt,this.m={},this.v=t,this.A=new Le,this.j=function(e,t){var r=new MediaSource;return e.b.ia(r,"sourceopen",(function(){URL.revokeObjectURL(e.D),t.resolve()})),e.D=Cn(r),e.a.src=e.D,r}(this,this.A),this.F=new Mt((function(){return function(e){var t,r,n,i,a,o,s;return D((function(l){if(1==l.a){for(r in t=[],e.g)for(n=e.g[r],i=n[0],e.g[r]=n.slice(0,1),i&&t.push(i.p.catch(Ce)),a=c(n.slice(1)),o=a.next();!o.done;o=a.next())o.value.p.reject(new ue(2,7,7003,void 0));for(s in e.c&&t.push(e.c.destroy()),e.h&&t.push(e.h.destroy()),e.m)t.push(e.m[s].destroy());return _(l,Promise.all(t),2)}e.b&&(e.b.release(),e.b=null),e.a&&(e.a.removeAttribute("src"),e.a.load(),e.a=null),e.j=null,e.c=null,e.h=null,e.f={},e.m={},e.v=null,e.g={},E(l)}))}(i)})),this.D=""}function gn(e){var t=Vt(e.mimeType,e.codecs),r=function(e){var t=[e.mimeType];return Wt.forEach((function(r,n){var i=e[n];i&&t.push(r+'="'+i+'"')})),t.join(";")}(e);return dn(t)||MediaSource.isTypeSupported(r)||et(t,e.type)}function mn(e,t){e.c||(e.c=new cn(e.h)),"application/cea-608"!=t&&(e.c.m=Ie(pn[t]))}function vn(e){return!e.j||"ended"==e.j.readyState}function yn(e,t){if("text"==t)var r=e.c.a;else r=!(r=kn(e,t))||1==r.length&&1e-6>r.end(0)-r.start(0)?null:1==r.length&&0>r.start(0)?0:r.length?r.start(0):null;return r}function bn(e,t){return"text"==t?e.c.b:zr(kn(e,t))}function kn(e,t){try{return e.f[t].buffered}catch(r){return null}}function _n(t,r,n,i,a,o){var s,l,u,c,d;return D((function(f){return 1==f.a?r==(s=je).aa?_(f,function(e,t,r,n){var i,a,o;return D((function(s){return 1==s.a?_(s,Promise.resolve(),2):e.m&&e.c?null==r||null==n?(e.m.parseInit(oe(t)),s.return()):(i={periodStart:e.v,segmentStart:r,segmentEnd:n},a=e.m.parseMedia(oe(t),i),o=a.filter((function(t){return t.startTime>=e.f&&t.startTime<e.g})),e.c.append(o),null==e.a&&(e.a=Math.max(r,e.f)),e.b=Math.min(n,e.g),void E(s)):s.return()}))}(t.c,n,i,a),0):t.m[r]?_(f,function(e,t){e.f=!0,e.b=new Le,e.h=[],e.c=[],e.g=[];var r=oe(t);return e.a.push(r),e.a.flush(),e.f&&e.b.reject(new ue(2,3,3018)),e.b}(t.m[r],n),10):o&&e.muxjs?(t.c||mn(t,"text/vtt"),null==i&&null==a?t.v.init(n):t.v.b(n,(function(e){e.length&&fn(t.c,e,i,a,t.f[s.Da].timestampOffset)})),n=An(t,n,i,r),_(f,Tn(t,r,(function(){t.f[r].appendBuffer(n)})),0)):(n=An(t,n,i,r),_(f,Tn(t,r,(function(){t.f[r].appendBuffer(n)})),0)):(l=f.b,t.c||mn(t,"text/vtt"),l.metadata&&(u=t.f[r].timestampOffset,t.I(l.metadata,u,a)),l.captions&&l.captions.length&&(c=t.f[s.Da].timestampOffset,fn(t.c,l.captions,i,a,c)),d=l.data,d=An(t,d,i,r),_(f,Tn(t,r,(function(){t.f[r].appendBuffer(d)})),0))}))}function En(e,t){var r=bn(e,"video")||0;!function(e,t,r){if(e.j=t,t=e.h.get(t))for(var n=c(t.keys()),i=n.next();!i.done;i=n.next())(i=t.get(i.value).filter((function(e){return e.endTime<=r})))&&e.c.append(i)}(e.c,t,r)}function wn(e,t){return D((function(r){return t==je.aa?e.c?_(r,e.c.remove(0,1/0),0):r.return():_(r,Tn(e,t,(function(){var r=e.j.duration;0>=r?Sn(e,t):e.f[t].remove(0,r)})),0)}))}function Sn(e,t){var r=e.g[t][0];r&&(r.p.resolve(),On(e,t))}function Tn(e,t,r){return It(e.F),r={start:r,p:new Le},e.g[t].push(r),1==e.g[t].length&&Pn(e,t),r.p}function xn(e,t){var r,n,i,a,o;return D((function(s){switch(s.a){case 1:for(i in It(e.F),r=[],n={},e.f)n.vb=new Le,a={start:function(e){return function(){return e.vb.resolve()}}(n),p:n.vb},e.g[i].push(a),r.push(n.vb),1==e.g[i].length&&a.start(),n={vb:n.vb};return w(s,2),_(s,Promise.all(r),4);case 4:T(s,3);break;case 2:throw x(s);case 3:try{t()}catch(l){throw new ue(2,3,3015,l)}finally{for(o in e.f)On(e,o)}E(s)}}))}function On(e,t){e.g[t].shift(),Pn(e,t)}function Pn(e,t){var r=e.g[t][0];if(r)try{r.start()}catch(n){"QuotaExceededError"==n.name?r.p.reject(new ue(2,3,3017,t)):r.p.reject(new ue(2,3,3015,n)),On(e,t)}}function An(e,t,r,n){var i=e.a.mediaKeys;return null==r&&i&&(Gt()||Xt("Xbox One"))&&"mp4"==e.G[n].split(";")[0].split("/")[1]&&(t=function(e){function t(){i=!0}function r(e){a.push(e),Pr(e)}e=oe(e);var n,i=!1,a=[],o=[];if((new Or).box("moov",r).box("trak",r).box("mdia",r).box("minf",r).box("stbl",r).V("stsd",(function(e){n=e,a.push(e),Ar(e)})).V("encv",t).V("enca",t).V("avc1",(function(e){o.push({box:e,Kd:1701733238})})).V("mp4a",(function(e){o.push({box:e,Kd:1701733217})})).parse(e),i)return e;if(0==o.length||!n)throw Ye(e),new ue(2,3,3019);o.reverse();for(var s=c(o),l=s.next();!l.done;l=s.next())l=l.value,e=Lr(e,n,l.box,a,l.Kd);return e}(t)),t}(n=hn.prototype).destroy=function(){return this.F.destroy()},n.init=function(e,t){var r,n,i,a,o,s,l,u=this;return D((function(d){if(1==d.a)return r=je,_(d,u.A,2);for(n={},i=c(e.keys()),a=i.next();!a.done;n={ea:n.ea},a=i.next())n.ea=a.value,o=e.get(n.ea),s=Vt(o.mimeType,o.codecs),n.ea==r.aa?mn(u,s):(!t&&MediaSource.isTypeSupported(s)||!et(s,n.ea)||(u.m[n.ea]=new Je,s=tt(n.ea,s)),l=u.j.addSourceBuffer(s),u.b.l(l,"error",function(e){return function(){u.g[e.ea][0].p.reject(new ue(2,3,3014,u.a.error?u.a.error.code:0))}}(n)),u.b.l(l,"updateend",function(e){return function(){return Sn(u,e.ea)}}(n)),u.f[n.ea]=l,u.G[n.ea]=s,u.g[n.ea]=[]);E(d)}))},n.hc=function(){var e={total:Wr(this.a.buffered),audio:Wr(kn(this,"audio")),video:Wr(kn(this,"video")),text:[]};if(this.c){var t=this.c.a,r=this.c.b;null!=t&&null!=r&&e.text.push({start:t,end:r})}return e},n.remove=function(e,t,r){var n=this;return D((function(i){return _(i,e==je.aa?n.c.remove(t,r):Tn(n,e,(function(){r<=t?Sn(n,e):n.f[e].remove(t,r)})),0)}))},n.flush=function(e){var t=this;return D((function(r){return e==je.aa?r.return():_(r,Tn(t,e,(function(){t.a.currentTime-=.001,Sn(t,e)})),0)}))},n.endOfStream=function(e){var t=this;return D((function(r){return _(r,xn(t,(function(){vn(t)||(e?t.j.endOfStream(e):t.j.endOfStream())})),0)}))},n.za=function(e){var t=this;return D((function(r){return _(r,xn(t,(function(){t.j.duration=e})),0)}))},n.getDuration=function(){return this.j.duration};var Cn=e.URL.createObjectURL;function Mn(e,t){return e=Dn(e),t=Dn(t),e.split("-")[0]==t.split("-")[0]}function In(e,t){e=Dn(e),t=Dn(t);var r=e.split("-"),n=t.split("-");return r[0]==n[0]&&1==r.length&&2==n.length}function Rn(e,t){e=Dn(e),t=Dn(t);var r=e.split("-"),n=t.split("-");return 2==r.length&&2==n.length&&r[0]==n[0]}function Dn(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=Un.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function jn(e,t){return e=Dn(e),(t=Dn(t))==e?4:In(t,e)?3:Rn(t,e)?2:In(e,t)?1:0}function Ln(e){return e.language?Dn(e.language):e.audio&&e.audio.language?Dn(e.audio.language):e.video&&e.video.language?Dn(e.video.language):"und"}function Nn(e,t){for(var r=Dn(e),n=new Set,i=c(t),a=i.next();!a.done;a=i.next())n.add(Dn(a.value));for(a=(i=c(n)).next();!a.done;a=i.next())if((a=a.value)==r)return a;for(a=(i=c(n)).next();!a.done;a=i.next())if(In(a=a.value,r))return a;for(a=(i=c(n)).next();!a.done;a=i.next())if(Rn(a=a.value,r))return a;for(a=(n=c(n)).next();!a.done;a=n.next())if(In(r,a=a.value))return a;return null}var Un=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Bn(e,t){function r(e){var t="";e.video&&(t=$t(e.video.codecs));var r="";return e.audio&&(r=$t(e.audio.codecs)),t+"-"+r}for(var n=Zn(e.variants,t),i=new pt,a=(n=c(n)).next();!a.done;a=n.next()){var o=r(a=a.value);i.push(o,a)}var s=null,l=1/0;!function(e,t){for(var r in e.a)t(r,e.a[r])}(i,(function(e,t){for(var r=0,n=0,i=c(t),a=i.next();!a.done;a=i.next())r+=a.value.bandwidth||0,++n;(r/=n)<l&&(s=e,l=r)})),e.variants=e.variants.filter((function(e){return r(e)==s}))}function Fn(e,t,r){function n(e,t,r){return e>=t&&e<=r}var i=e.video;return!(i&&i.width&&i.height&&(!n(i.width,t.minWidth,Math.min(t.maxWidth,r.width))||!n(i.height,t.minHeight,Math.min(t.maxHeight,r.height))||!n(i.width*i.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!n(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!n(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function zn(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function Vn(e){var t=e.audio,r=e.video,n=t?t.codecs:null,i=r?r.codecs:null,a=[];i&&a.push(i),n&&a.push(n);var o=[];r&&o.push(r.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),r&&s.push(r.kind),s=s[0]||null;var l=new Set;if(t)for(var u=c(t.roles),d=u.next();!d.done;d=u.next())l.add(d.value);if(r)for(d=(u=c(r.roles)).next();!d.done;d=u.next())l.add(d.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:o,codecs:a.join(", "),audioCodec:n,videoCodec:i,primary:e.primary,roles:Array.from(l),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},r&&(e.videoId=r.id,e.originalVideoId=r.originalId,e.width=r.width||null,e.height=r.height||null,e.frameRate=r.frameRate||null,e.pixelAspectRatio=r.pixelAspectRatio||null,e.videoBandwidth=r.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function $n(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function Wn(e){return e.__shaka_id||(e.__shaka_id=Yn++),e.__shaka_id}function Kn(e){var t=Hn(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind]),t}function Hn(e){return{id:Wn(e),active:!1,type:"",bandwidth:0,language:Dn(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function Gn(e){return e.allowedByApplication&&e.allowedByKeySystem}function Zn(e,t){for(var r=e.filter((function(e){return e.audio&&e.audio.channelsCount})),n=new Map,i=(r=c(r)).next();!i.done;i=r.next()){var a=(i=i.value).audio.channelsCount;n.has(a)||n.set(a,[]),n.get(a).push(i)}return 0==(r=Array.from(n.keys())).length?e:(i=r.filter((function(e){return e<=t}))).length?n.get(Math.max.apply(Math,d(i))):n.get(Math.min.apply(Math,d(r)))}function qn(e,t,r){var n=e,i=e.filter((function(e){return e.primary}));i.length&&(n=i);var a=n.length?n[0].language:"";if(n=n.filter((function(e){return e.language==a})),t){var o=Nn(Dn(t),e.map((function(e){return e.language})));o&&(n=e.filter((function(e){return Dn(e.language)==o})))}if(r){if((e=Xn(n,r)).length)return e}else if((e=n.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=n.map((function(e){return e.roles})).reduce(Ae,[])).length?Xn(n,e[0]):n}function Xn(e,t){return e.filter((function(e){return e.roles.includes(t)}))}var Yn=0;function Qn(){this.h=null,this.c=!1,this.a=new K,this.b=[],this.g=1,this.j=!1,this.i=this.f=null}function Jn(e,t){return e&&(t=t.filter((function(t){return Fn(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function ei(e,t){this.a=e,this.b=new Set([e]);for(var r=c(t=t||[]),n=r.next();!n.done;n=r.next())this.add(n.value)}function ti(e,t){var r;if(!(r=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(r=e.audio&&t.audio)){r=e.audio;var n=t.audio;r=!(r.channelsCount==n.channelsCount&&ri(r,n)&&ni(r.roles,n.roles))}return!r&&(r=e.video&&t.video)&&(r=!(ri(r=e.video,n=t.video)&&ni(r.roles,n.roles))),!r}function ri(e,t){if(e.mimeType!=t.mimeType)return!1;var r=e.codecs.split(",").map((function(e){return $t(e)})),n=t.codecs.split(",").map((function(e){return $t(e)}));if(r.length!=n.length)return!1;r.sort(),n.sort();for(var i=c(ee(r.length)),a=i.next();!a.done;a=i.next())if(r[a=a.value]!=n[a])return!1;return!0}function ni(e,t){var r=new Set(e),n=new Set(t);if(r.delete("main"),n.delete("main"),r.size!=n.size)return!1;for(var i=(r=c(r)).next();!i.done;i=r.next())if(!n.has(i.value))return!1;return!0}function ii(e){this.a=e,this.b=new ai(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}function ai(e,t,r,n){this.c=e,this.f=t,this.a=r,this.b=void 0===n?"":n}function oi(){this.a=ui,this.b=(new Map).set(ui,2).set(li,1)}function si(e,t,r){e.b.set(ui,r).set(li,t)}(n=Qn.prototype).stop=function(){this.h=null,this.c=!1,this.b=[],this.g=1,this.f=null},n.init=function(e){this.h=e},n.chooseVariant=function(){var e=Jn(this.i.restrictions,this.b),t=this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate);this.b.length&&!e.length&&(e=[(e=Jn(null,this.b))[0]]);for(var r=e[0]||null,n=(e=c(te(e))).next();!n.done;n=e.next()){var i=n.value;n=i.item;var a=isNaN(this.g)?1:Math.abs(this.g);i=a*(i.next||{bandwidth:1/0}).bandwidth/this.i.bandwidthUpgradeTarget,t>=a*n.bandwidth/this.i.bandwidthDowngradeTarget&&t<=i&&(r=n)}return this.f=Date.now(),r},n.enable=function(){this.c=!0},n.disable=function(){this.c=!1},n.segmentDownloaded=function(e,t){var r=this.a;if(!(16e3>t)){var n=8e3*t/e,i=e/1e3;r.a+=t,$(r.b,i,n),$(r.c,i,n)}if(null!=this.f&&this.c)e:{if(this.j){if(Date.now()-this.f<1e3*this.i.switchInterval)break e}else{if(!(128e3<=this.a.a))break e;this.j=!0}r=this.chooseVariant(),this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate),r&&this.h(r)}},n.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate)},n.setVariants=function(e){this.b=e},n.playbackRateChanged=function(e){this.g=e},n.configure=function(e){this.i=e},z("shaka.abr.SimpleAbrManager",Qn),Qn.prototype.configure=Qn.prototype.configure,Qn.prototype.playbackRateChanged=Qn.prototype.playbackRateChanged,Qn.prototype.setVariants=Qn.prototype.setVariants,Qn.prototype.getBandwidthEstimate=Qn.prototype.getBandwidthEstimate,Qn.prototype.segmentDownloaded=Qn.prototype.segmentDownloaded,Qn.prototype.disable=Qn.prototype.disable,Qn.prototype.enable=Qn.prototype.enable,Qn.prototype.chooseVariant=Qn.prototype.chooseVariant,Qn.prototype.init=Qn.prototype.init,Qn.prototype.stop=Qn.prototype.stop,ei.prototype.add=function(e){return!!ti(this.a,e)&&(this.b.add(e),!0)},ei.prototype.values=function(){return this.b.values()},ii.prototype.create=function(e){var t=this,r=e.filter((function(e){return ti(t.a,e)}));return r.length?new ei(r[0],r):this.b.create(e)},ai.prototype.create=function(e){var t=[];t=function(e,t){var r=Nn(Dn(t),e.map((function(e){return Ln(e)})));return r?e.filter((function(e){return r==Ln(e)})):[]}(e,this.c);var r=e.filter((function(e){return e.primary}));for((e=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(t=t.length?t:r.length?r:e,this.f)).length&&(t=e),this.a&&((e=Zn(t,this.a)).length&&(t=e)),this.b&&((e=function(e,t){return e.filter((function(e){return!!e.audio&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(t,this.b)).length&&(t=e)),e=new ei(t[0]),r=(t=c(t)).next();!r.done;r=t.next())r=r.value,ti(e.a,r)&&e.add(r);return e};var li=0,ui=1;function ci(){}function di(e,t,r,n){var i,a,o,s;return D((function(l){if(1==l.a)return n&&(i=pi[n.toLowerCase()])?l.return(i):(a=fi(e))&&(o=hi[a])?l.return(o):n?l.u(2):_(l,function(e,t,r){var n,i,a;return D((function(o){return 1==o.a?((n=Tt([e],r)).method="HEAD",_(o,t.request(0,n).promise,2)):(i=o.b,a=i.headers["content-type"],o.return(a?a.toLowerCase().split(";").shift():""))}))}(e,t,r),3);if(2!=l.a&&(n=l.b)&&(s=pi[n]))return l.return(s);throw new ue(2,4,4e3,e)}))}function fi(e){return 1==(e=new de(e).ka.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}z("shaka.media.ManifestParser",ci),ci.unregisterParserByMime=function(e){delete pi[e]},ci.registerParserByMime=function(e,t){pi[e]=t},ci.registerParserByExtension=function(e,t){hi[e]=t};var pi={},hi={};function gi(e,t,r){this.c=e,this.b=t,this.a=r}function mi(e,t,r,n,i,a,o,s,l){this.startTime=e,this.endTime=t,this.c=r,this.b=n,this.a=i,this.f=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=l}function vi(e,t,r){this.f=e,this.qc=t,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.j=0,this.m=!0,this.v=0,this.A=void 0===r||r}function yi(e,t){this.g=e,this.h=ki(e),this.a=e.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.j=t,this.c=function(){}}function bi(e){this.a=e}function ki(e){if(e.a.paused||0==e.a.playbackRate||0==e.a.buffered.length)var t=!1;else e:{t=e.a.currentTime;for(var r=(e=c(Wr(e.a.buffered))).next();!r.done;r=e.next())if(!(t<(r=r.value).start-.1||t>r.end-.5)){t=!0;break e}t=!1}return t}function _i(e,t,r,n,i){var a=this;this.a=e,this.A=t,this.i=r,this.v=i,this.b=new Rt,this.j=!1,this.m=e.readyState,this.f=!1,this.c=n,this.h=!1,this.b.l(e,"waiting",(function(){return Ei(a)})),this.g=new nt((function(){Ei(a)})).ra(.25)}function Ei(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.j)return}else e.j=!1;if(!e.a.paused){var t;if(e.a.readyState!=e.m&&(e.f=!1,e.m=e.a.readyState),!(t=!e.c)){var r=(t=e.c).g,n=ki(r),i=r.a.currentTime,a=Date.now()/1e3;t.a==i&&t.h==n||(t.f=a,t.a=i,t.h=n,t.b=!1),(n=(i=a-t.f)>=t.j&&n&&!t.b)&&(t.c(t.a,i),t.b=!0,t.a=r.a.currentTime),t=!n}if(t){var o=e.i.smallGapLimit;if(i=e.a.currentTime,!(null==(r=function(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return null;var r=navigator.userAgent.match(/Edge\//)||Xt("Trident/")||Gt()||Xt("CrKey")?.5:.1,n=Wr(e).findIndex((function(e,n,i){return e.start>t&&(0==n||i[n-1].end-t<=r)}));return 0<=n?n:null}(t=e.a.buffered,i))||0==r&&!e.h||(n=t.start(r),n>=e.A.Fa()))){o=(a=n-i)<=o;var s=!1;.001>a||(o||e.f||(e.f=!0,(i=new ft("largegap",{currentTime:i,gapSize:a})).cancelable=!0,e.v(i),e.i.jumpLargeGaps&&!i.defaultPrevented&&(s=!0)),!o&&!s)||(0!=r&&t.end(r-1),e.a.currentTime=n)}}}}}function wi(e,t,r,n){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?n():(t=Si.value().get(t),r.ia(e,t,n))}gi.prototype.Hb=function(){return this.b},gi.prototype.Db=function(){return this.a},z("shaka.media.InitSegmentReference",gi),gi.prototype.getEndByte=gi.prototype.Db,gi.prototype.getStartByte=gi.prototype.Hb,mi.prototype.Ae=function(){return this.startTime},mi.prototype.ne=function(){return this.endTime},mi.prototype.Hb=function(){return this.b},mi.prototype.Db=function(){return this.a},z("shaka.media.SegmentReference",mi),mi.prototype.getEndByte=mi.prototype.Db,mi.prototype.getStartByte=mi.prototype.Hb,mi.prototype.getEndTime=mi.prototype.ne,mi.prototype.getStartTime=mi.prototype.Ae,(n=vi.prototype).getDuration=function(){return this.g},n.se=function(){return this.a},n.za=function(e){this.g=e},n.ze=function(){return this.f},n.Td=function(e){this.j=e},n.Pb=function(e){this.m=e},n.od=function(e){this.h=e},n.bf=function(e){this.qc=e},n.me=function(){return this.qc},n.ob=function(e){if(0!=e.length){var t=e[e.length-1].endTime;this.Yc(e[0].startTime),this.a=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.a),this.b=Math.max(this.b,t),null!=this.f&&this.A&&(this.f=(Date.now()+this.j)/1e3-this.b-this.a)}},n.Yc=function(e){this.c=null==this.c?e:Math.min(this.c,e)},n.Xc=function(e){this.a=Math.max(this.a,e)},n.offset=function(e){null!=this.c&&(this.c+=e),null!=this.b&&(this.b+=e)},n.S=function(){return 1/0==this.g&&!this.m},n.Ua=function(){return 1/0!=this.g&&!this.m},n.Ra=function(){return Math.max(this.v,this.Ga()-this.h)},n.Ud=function(e){this.v=e},n.Ga=function(){return this.S()||this.Ua()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f),this.g):this.g},n.Gb=function(e){var t=Math.max(this.c,this.v);return 1/0==this.h?t:Math.max(t,Math.min(this.Ga()-this.h+e,this.Fa()))},n.kb=function(){return this.Gb(0)},n.Fa=function(){return Math.max(0,this.Ga()-(this.S()||this.Ua()?this.qc:0))},n.Xd=function(){return!(null==this.f||null!=this.b&&this.A)},z("shaka.media.PresentationTimeline",vi),vi.prototype.usingPresentationStartTime=vi.prototype.Xd,vi.prototype.getSeekRangeEnd=vi.prototype.Fa,vi.prototype.getSeekRangeStart=vi.prototype.kb,vi.prototype.getSafeSeekRangeStart=vi.prototype.Gb,vi.prototype.getSegmentAvailabilityEnd=vi.prototype.Ga,vi.prototype.setUserSeekStart=vi.prototype.Ud,vi.prototype.getSegmentAvailabilityStart=vi.prototype.Ra,vi.prototype.isInProgress=vi.prototype.Ua,vi.prototype.isLive=vi.prototype.S,vi.prototype.offset=vi.prototype.offset,vi.prototype.notifyMaxSegmentDuration=vi.prototype.Xc,vi.prototype.notifyMinSegmentStartTime=vi.prototype.Yc,vi.prototype.notifySegments=vi.prototype.ob,vi.prototype.getDelay=vi.prototype.me,vi.prototype.setDelay=vi.prototype.bf,vi.prototype.setSegmentAvailabilityDuration=vi.prototype.od,vi.prototype.setStatic=vi.prototype.Pb,vi.prototype.setClockOffset=vi.prototype.Td,vi.prototype.getPresentationStartTime=vi.prototype.ze,vi.prototype.setDuration=vi.prototype.za,vi.prototype.getMaxSegmentDuration=vi.prototype.se,vi.prototype.getDuration=vi.prototype.getDuration,yi.prototype.release=function(){this.g=null,this.c=function(){}},_i.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.g&&(this.g.stop(),this.g=null),this.c&&(this.c.release(),this.c=null),this.a=this.A=this.v=null},_i.prototype.bd=function(){this.h=!0,Ei(this)};var Si=new Ne((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Ti(e,t,r){var n=this;this.a=e,this.g=t,this.f=r,this.h=!1,this.b=new Rt,this.c=new Ci(e),wi(this.a,HTMLMediaElement.HAVE_METADATA,this.b,(function(){Pi(n,n.f)}))}function xi(e){return e.h?e.a.currentTime:e.f}function Oi(e,t){0<e.a.readyState?Mi(e.c,t):wi(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){Pi(e,e.f)}))}function Pi(e,t){.001>Math.abs(e.a.currentTime-t)?Ai(e):(e.b.ia(e.a,"seeking",(function(){Ai(e)})),Mi(e.c,0==e.a.currentTime?t:e.a.currentTime))}function Ai(e){e.h=!0,e.b.l(e.a,"seeking",(function(){return e.g()}))}function Ci(e){var t=this;this.b=e,this.h=10,this.g=this.f=this.c=0,this.a=new nt((function(){0>=t.c||t.b.currentTime!=t.f?t.a.stop():(t.b.currentTime=t.g,t.c--)}))}function Mi(e,t){e.f=e.b.currentTime,e.g=t,e.c=e.h,e.b.currentTime=t,e.a.ra(.1)}function Ii(e){var t=this;this.a=e,this.f=!1,this.c=null,this.b=new Rt,wi(this.a,HTMLMediaElement.HAVE_CURRENT_DATA,this.b,(function(){null==t.c?t.f=!0:(t.b.ia(t.a,"seeking",(function(){t.f=!0})),t.a.currentTime=Math.max(0,t.a.currentTime+t.c))}))}function Ri(e,t,r,n,i,a){var o=this;this.c=e,this.a=t.presentationTimeline,this.D=t.minBufferTime||0,this.i=r,this.A=i,this.j=null,this.f=new _i(e,t.presentationTimeline,r,function(e,t){if(!t.stallEnabled)return null;var r=t.stallSkip,n=new yi(new bi(e),t.stallThreshold);return function(e,t){e.c=t}(n,(function(){r?e.currentTime+=r:(e.pause(),e.play())})),n}(e,r),a),this.b=new Ti(e,(function(){var e=o.f;e.j=!0,e.h=!1,e.f=!1;var t=xi(o.b);return e=ji(o,t),.001<Math.abs(e-t)&&(t=Date.now()/1e3,!o.j||o.j<t-1)?(o.j=t,Oi(o.b,e),e=void 0):(o.A(),e=void 0),e}),function(e,t){return null==t?t=1/0>e.a.getDuration()?e.a.kb():e.a.Fa():0>t&&(t=e.a.Fa()+t),Di(e,Li(e,t))}(this,n)),this.h=new nt((function(){if(0!=o.c.readyState&&!o.c.paused){var e=xi(o.b),t=o.a.kb(),r=o.a.Fa();3>r-t&&(t=r-3),e<t&&(e=ji(o,e),o.c.currentTime=e)}})).ra(.25)}function Di(e,t){var r=e.a.getDuration();return t>=r?r-e.i.durationBackoff:t}function ji(e,t){var r=Math.max(e.D,e.i.rebufferingGoal),n=e.i.safeSeekOffset,i=e.a.kb(),a=e.a.Fa(),o=e.a.getDuration();3>a-i&&(i=a-3);var s=e.a.Gb(r),l=e.a.Gb(n);return r=e.a.Gb(r+n),t>=o?Di(e,t):t>a?a:t<i?Vr(e.c.buffered,l)?l:r:t>=s||Vr(e.c.buffered,t)?t:r}function Li(e,t){var r=e.a.kb();return t<r||t>(r=e.a.Fa())?r:t}function Ni(e){this.a=e,this.b=null,this.c=0,this.f=!1}function Ui(e,t,r){return new Ni([new mi(e,e+t,(function(){return r}),0,null,null,e,e,e+t)])}function Bi(e,t){this.b=e,this.a=t}function Fi(){Ni.call(this,[]),this.g=[]}function zi(e){var t=this;this.a=e,this.f=!1,this.b=this.a.jc(),this.c=new nt((function(){t.a.Jd(.25*t.b)}))}function Vi(e){e.c.stop();var t=e.f?0:e.b;if(0<=t)try{return void(e.a.jc()!=t&&e.a.nd(t))}catch(r){}e.c.ra(.25),0!=e.a.jc()&&e.a.nd(0)}function $i(e){var t=this;this.c=e,this.a=new Set,this.b=new nt((function(){Wi(t,!1)})).ra(.25)}function Wi(e,t){for(var r=c(e.a),n=r.next();!n.done;n=r.next()){n=n.value;for(var i=e.c.currentTime,a=t,o=c(n.g.a),s=o.next();!s.done;s=o.next()){s=s.value;var l=n.f.get(s),u=i<s.startTime?Gi:i>s.endTime?qi:Zi;n.f.set(s,u);for(var d=c(n.h),f=d.next();!f.done;f=d.next())(f=f.value).bb==l&&f.ab==u&&f.Ta(s,a)}}}function Ki(e){var t=this;this.b=function(){},this.a=new Set,this.f=e,this.c=new nt((function(){for(var e=t.f(),r=c(t.a),n=r.next();!n.done;n=r.next())(n=n.value).endTime<e.start&&t.a.delete(n)})).ra(2)}function Hi(e){var t=this;this.g=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.h=[{bb:null,ab:Zi,Ta:function(e,r){return t.a(e,r)}},{bb:Gi,ab:Zi,Ta:function(e,r){return t.a(e,r)}},{bb:qi,ab:Zi,Ta:function(e,r){return t.a(e,r)}},{bb:Zi,ab:Gi,Ta:function(e,r){return t.b(e,r)}},{bb:Zi,ab:qi,Ta:function(e,r){return t.b(e,r)}},{bb:Gi,ab:qi,Ta:function(e,r){return t.c(e,r)}},{bb:qi,ab:Gi,Ta:function(e,r){return t.c(e,r)}}]}Ti.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.g=function(){},this.a=null},Ci.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},Ii.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},Ii.prototype.m=function(e){this.c=this.f?this.c:e},Ii.prototype.g=function(){return(this.f?this.a.currentTime:this.c)||0},Ii.prototype.v=function(){},Ri.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.f&&(this.f.release(),this.f=null),this.h&&(this.h.stop(),this.h=null),this.c=this.b=this.a=this.i=null,this.A=function(){}},Ri.prototype.m=function(e){Oi(this.b,e)},Ri.prototype.g=function(){var e=xi(this.b);return 0<this.c.readyState&&!this.c.paused?Li(this,e):e},Ri.prototype.v=function(){this.f.bd()},(n=Ni.prototype).destroy=function(){return Te("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},n.release=function(){this.f||(this.a=[],this.b&&this.b.stop(),this.b=null)},n.Ie=function(){this.f=!0},n.find=function(e){for(var t=this.a.length-1;0<=t;--t){var r=this.a[t];if(e>=r.startTime&&e<r.endTime)return t+this.c}return this.a.length&&e<this.a[0].startTime?this.c:null},n.get=function(e){return 0==this.a.length||0>(e-=this.c)||e>=this.a.length?null:this.a[e]},n.offset=function(e){if(!this.f)for(var t=c(this.a),r=t.next();!r.done;r=t.next())(r=r.value).startTime+=e,r.endTime+=e,r.timestampOffset+=e},n.mb=function(e){!this.f&&e.length&&(this.a=this.a.filter((function(t){return t.startTime<e[0].startTime})),this.a.push.apply(this.a,d(e)))},n.Pa=function(e){if(!this.f){var t=this.a.length;this.a=this.a.filter((function(t){return t.endTime>e})),this.c+=t-this.a.length}},n.La=function(e,t){if(!this.f){for(;this.a.length&&this.a[this.a.length-1].startTime>=t;)this.a.pop();for(;this.a.length&&this.a[0].endTime<=e;)this.a.shift(),this.c++;if(0!=this.a.length){var r=this.a[this.a.length-1];this.a[this.a.length-1]=new mi(r.startTime,t,r.c,r.b,r.a,r.f,r.timestampOffset,r.appendWindowStart,r.appendWindowEnd)}}},n.sc=function(e,t){var r=this;this.f||(this.b&&this.b.stop(),this.b=new nt((function(){var e=t();e?r.a.push.apply(r.a,d(e)):(r.b.stop(),r.b=null)})),this.b.ra(e))},Ni.prototype[Symbol.iterator]=function(){return this.jb(0)},Ni.prototype.jb=function(e){return new Bi(this,this.find(e)||0)},z("shaka.media.SegmentIndex",Ni),Ni.forSingleSegment=Ui,Ni.prototype.getIteratorForTime=Ni.prototype.jb,Ni.prototype.updateEvery=Ni.prototype.sc,Ni.prototype.fit=Ni.prototype.La,Ni.prototype.evict=Ni.prototype.Pa,Ni.prototype.merge=Ni.prototype.mb,Ni.prototype.offset=Ni.prototype.offset,Ni.prototype.get=Ni.prototype.get,Ni.prototype.find=Ni.prototype.find,Ni.prototype.markImmutable=Ni.prototype.Ie,Ni.prototype.release=Ni.prototype.release,Ni.prototype.destroy=Ni.prototype.destroy,Bi.prototype.seek=function(e){return this.a=this.b.jb(e).a,this.next().value},Bi.prototype.current=function(){return this.b.get(this.a-1)},Bi.prototype.next=function(){var e=this.b.get(this.a++);return{value:e,done:!e}},z("shaka.media.SegmentIterator",Bi),Bi.prototype.next=Bi.prototype.next,Bi.prototype.current=Bi.prototype.current,Bi.prototype.seek=Bi.prototype.seek,v(Fi,Ni),(n=Fi.prototype).clone=function(){var e=new Fi;return e.g=this.g.slice(),e},n.release=function(){for(var e=c(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g=[]},n.find=function(e){for(var t=0,r=c(this.g),n=r.next();!n.done;n=r.next()){var i=(n=n.value).find(e);if(null!=i)return i+t;t+=n.c+n.a.length}return null},n.get=function(e){for(var t=0,r=c(this.g),n=r.next();!n.done;n=r.next()){var i=(n=n.value).get(e-t);if(i)return i;t+=n.c+n.a.length}return null},n.offset=function(){},n.mb=function(){},n.Pa=function(){},n.La=function(){},n.sc=function(){},z("shaka.media.MetaSegmentIndex",Fi),Fi.prototype.updateEvery=Fi.prototype.sc,Fi.prototype.fit=Fi.prototype.La,Fi.prototype.evict=Fi.prototype.Pa,Fi.prototype.merge=Fi.prototype.mb,Fi.prototype.offset=Fi.prototype.offset,Fi.prototype.get=Fi.prototype.get,Fi.prototype.find=Fi.prototype.find,Fi.prototype.release=Fi.prototype.release,zi.prototype.release=function(){this.c&&(this.c.stop(),this.c=null),this.a=null},zi.prototype.set=function(e){this.b=e,Vi(this)},$i.prototype.release=function(){this.b.stop();for(var e=c(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},Ki.prototype.release=function(){this.b=function(){},this.a.clear(),this.c.stop()},Hi.prototype.release=function(){this.g=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}};var Gi=1,Zi=2,qi=3;function Xi(e,t,r,n){return e=Tt(e,n),0==t&&null==r||(e.headers.Range=r?"bytes="+t+"-"+r:"bytes="+t+"-"),e}function Yi(e,t){var r=this;this.s=t,this.o=e,this.i=null,this.f=1,this.c=this.b=null,this.a=new Map,this.h=!1,this.j=null,this.g=!1,this.F=new Mt((function(){return function(e){var t,r,n,i;return D((function(a){if(1==a.a){for(t=[],r=c(e.a.values()),n=r.next();!n.done;n=r.next())ua(i=n.value),t.push(ca(i));return _(a,Promise.all(t),2)}e.a.clear(),e.s=null,e.o=null,e.i=null,E(a)}))}(r)}))}function Qi(e,t){var r=e.a.get("video");if(r){var n=r.stream;if(n)if(t){var i=n.trickModeVideo;i&&!r.Ya&&(ta(e,i,!1,0,!1),r.Ya=n)}else(n=r.Ya)&&(r.Ya=null,ta(e,n,!0,0,!1))}}function Ji(e,t,r,n){r=void 0!==r&&r,n=void 0===n?0:n,e.b=t,e.h&&(t.video&&ta(e,t.video,r,n,!1),t.audio&&ta(e,t.audio,r,n,!1))}function ea(e,t){e.c=t,e.h&&ta(e,t,!0,0,!1)}function ta(e,t,r,n,i){var a=e.a.get(t.type);a||"text"!=t.type?a&&(a.Ya&&(t.trickModeVideo?(a.Ya=t,t=t.trickModeVideo):a.Ya=null),a.stream!=t||i)&&("text"==t.type&&mn(e.s.L,Vt(t.mimeType,t.codecs)),a.stream=t,a.ma=null,r&&(a.Ab?a.vc=!0:a.Ma?(a.$a=!0,a.ec=n,a.vc=!0):(ua(a),sa(e,a,!0,n).catch((function(t){e.s&&e.s.onError(t)})))),function(e,t){var r,n;return D((function(i){if(1==i.a)return t.ja?(r=t.stream,n=t.ja,r.segmentIndex?i.u(2):_(i,r.createSegmentIndex(),2)):i.return();if(t.ja!=n||t.stream!=r)return i.return();var a=e.s.ic(),o=bn(e.s.L,t.type),s=t.stream.segmentIndex.find(t.pa?t.pa.endTime:a),l=null==s?null:t.stream.segmentIndex.get(s);s=l&&l.a?l.a-l.b:null,l&&!s&&(s=(l.endTime-l.startTime)*(t.stream.bandwidth||0)/8),s?((l=l.f)&&(s+=(l.a?l.a-l.b:null)||0),a=8*s/(l=e.s.getBandwidthEstimate())<(o||0)-a-Math.max(e.o.minBufferTime||0,e.i.rebufferingGoal)||t.ja.b.a>s):a=!1,a&&t.ja.abort(),E(i)}))}(e,a).catch((function(t){e.s&&e.s.onError(t)}))):function(e,t){var r,n,i,a,o;D((function(s){switch(s.a){case 1:return r=je,w(s,2),_(s,wn(e.s.L,r.aa),4);case 4:T(s,3);break;case 2:n=x(s),e.s&&e.s.onError(n);case 3:i=Vt(t.mimeType,t.codecs),mn(e.s.L,i),a=e.s.L.h,(a.isTextVisible()||e.i.alwaysStreamText)&&(o=na(t),e.a.set(r.aa,o),la(e,o,0)),E(s)}}))}(e,t)}function ra(e,t){t.Ab||t.$a||(t.Ma?(t.$a=!0,t.ec=0):null==yn(e.s.L,t.type)?null==t.Ja&&la(e,t,0):(ua(t),sa(e,t,!1,0).catch((function(t){e.s&&e.s.onError(t)}))))}function na(e){return{stream:e,type:e.type,ma:null,pa:null,lc:null,Vc:null,Uc:null,Tc:null,Ya:null,endOfStream:!1,Ma:!1,Ja:null,$a:!1,ec:0,vc:!1,Ab:!1,fd:!1,Ib:!1,ja:null}}function ia(e,t){var r=e.o.presentationTimeline,n=r.Ga();return!(t.endTime<r.Ra()||t.startTime>n)}function aa(e){return e&&"text"==e.type&&"application/cea-608"==e.stream.mimeType}function oa(e,t,r){var n,i,a,o;return D((function(s){return 1==s.a?(n=Pt,i=Xi(r.c(),r.b,r.a,e.i.retryParameters),a=e.s.nb.request(n,i),t.ja=a,_(s,a.promise,2)):(o=s.b,t.ja=null,s.return(o.data))}))}function sa(e,t,r,n){var i,a;return D((function(o){return 1==o.a?(t.$a=!1,t.vc=!1,t.ec=0,t.Ab=!0,t.pa=null,t.lc=null,t.ma=null,n?(i=e.s.ic(),a=e.s.L.getDuration(),_(o,e.s.L.remove(t.type,i+n,a),3)):_(o,wn(e.s.L,t.type),4)):3!=o.a?(It(e.F),r?_(o,e.s.L.flush(t.type),3):o.u(3)):(It(e.F),t.Ab=!1,t.endOfStream=!1,la(e,t,0),void E(o))}))}function la(e,t,r){var n=t.type;("text"!=n||e.a.has(n))&&(t.Ja=new rt((function(){var r;return D((function(n){return 1==n.a?(w(n,2),_(n,e.Kb(t),4)):2!=n.a?T(n,0):(r=x(n),e.s&&e.s.onError(r),void E(n))}))})).R(r))}function ua(e){null!=e.Ja&&(e.Ja.stop(),e.Ja=null)}function ca(e){return D((function(t){return e.ja?_(t,e.ja.abort(),0):t.u(0)}))}function da(e,t){return D((function(r){if(1==r.a)return _(r,at(e.j),2);It(e.F),e.s.onError(t),t.handled||e.i.failureCallback(t),E(r)}))}function fa(e,t){var r=yo(),n=this;this.h=t,this.c=e,this.f=r,this.j=null,this.g=[],this.b=this.a=null,this.m=Promise.resolve().then((function(){return function(e){return D((function(t){if(e.F.a)t=t.u(0);else{if(0==e.g.length||e.a&&!e.a.Sa)var r=!1;else{e.a&&(e.a.xa.Va(),e.a=null);var n=(r=e.g.shift()).create(e.f);n?(r.xa.pb(),e.a={node:n.node,payload:n.payload,Sa:n.Sa,xa:r.xa}):r.xa.oc(),r=!0}r?r=Promise.resolve():e.a?r=function(e){var t,r;return D((function(n){switch(n.a){case 1:return e.c=e.h.ue(e.c,e.f,e.a.node,e.a.payload),w(n,2),e.b=e.h.je(e.c,e.f,e.a.payload),_(n,e.b.promise,4);case 4:e.b=null,e.c==e.a.node&&(e.a.xa.mc(),e.a=null),T(n,0);break;case 2:return 7001==(t=x(n)).code?e.a.xa.Va():e.a.xa.onError(t),e.a=null,e.b=null,r=e,_(n,e.h.handleError(e.f,t),5);case 5:r.c=n.b,E(n)}}))}(e):(e.h.Le(e.c),e.j=new Le,r=e.j),t=_(t,r,1)}return t}))}(n)})),this.F=new Mt((function(){return function(e){var t,r;return D((function(n){if(1==n.a)return e.b&&e.b.abort(),ha(e),_(n,e.m,2);for(e.a&&e.a.xa.Va(),t=c(e.g),r=t.next();!r.done;r=t.next())r.value.xa.Va();e.a=null,e.g=[],e.h=null,E(n)}))}(n)}))}function pa(e,t){var r={pb:function(){},mc:function(){},Va:function(){},onError:function(){},oc:function(){},Qf:function(){}};return e.g.push({create:t,xa:r}),e.b&&e.b.abort(),ha(e),r}function ha(e){e.j&&(e.j.resolve(),e.j=null)}function ga(e){this.a=null;for(var t=c(Array.from(e.textTracks)),r=t.next();!r.done;r=t.next())(r=r.value).mode="disabled","Shaka Player TextTrack"==r.label&&(this.a=r);this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function ma(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(r){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function va(e,t){var r=e.mode;e.mode="showing"==r?"showing":"hidden";for(var n=c(Array.from(e.cues)),i=n.next();!i.done;i=n.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=r}function ya(){}function ba(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ka(e,t){var r=this;this.h=!1,this.f=[],this.a=e,this.g=t,this.b=document.createElement("div"),this.b.classList.add("shaka-text-container"),this.b.style.textAlign="center",this.b.style.display="flex",this.b.style.flexDirection="column",this.b.style.alignItems="center",this.b.style.justifyContent="flex-end",this.g.appendChild(this.b),this.j=new nt((function(){_a(r)})).ra(.25),this.c=new Map}function _a(e){function t(t){return e.f.includes(t)&&e.h&&t.startTime<=r&&t.endTime>=r}for(var r=e.a.currentTime,n=c(e.c.keys()),i=n.next();!i.done;i=n.next())if(!t(i=i.value)){var a=e.c.get(i);e.b.removeChild(a),e.c.delete(i)}for(n=new Set(e.c.values()),a=(i=c(Array.from(e.b.childNodes))).next();!a.done;a=i.next())a=a.value,n.has(a)||e.b.removeChild(a);for(i=(n=c(n=e.f.filter((function(r){return t(r)&&!e.c.has(r)})).sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})))).next();!i.done;i=n.next())wa(e,e.b,i.value)}function Ea(e,t,r,n){var i=document.createElement("span");return n&&i.classList.add("shaka-nested-cue"),Sa(e,i,r,!0),t.appendChild(i),i}function wa(e,t,r){if(r.nestedCues.length){var n=document.createElement("p");n.style.width="100%",Sa(e,n,r,!1);for(var i=0;i<r.nestedCues.length;i++)Ea(e,n,r.nestedCues[i],!0);t.appendChild(n),e.c.set(r,n)}else e.c.set(r,Ea(e,t,r,!1))}function Sa(e,t,r,n){var i=t.style,a=0==r.nestedCues.length;r.spacer?(i.flexBasis="100%",i.height="0"):(i.whiteSpace="pre-line",t.textContent=r.payload,a&&(i.backgroundColor=r.backgroundColor),i.border=r.border,i.color=r.color,i.direction=r.direction,i.opacity=r.opacity,i.paddingLeft=Ta(r.linePadding,r,e.g),i.paddingRight=Ta(r.linePadding,r,e.g),r.backgroundImage&&(i.backgroundImage="url('"+r.backgroundImage+"')",i.backgroundRepeat="no-repeat",i.backgroundSize="contain",i.backgroundPosition="center",""==r.backgroundColor&&(i.backgroundColor="transparent")),r.backgroundImage&&r.region&&(t=r.region.widthUnits==ln?"%":"px",i.height=r.region.height+(r.region.heightUnits==ln?"%":"px"),i.width=r.region.width+t),i.justifyContent="before"==r.displayAlign?"flex-start":"center"==r.displayAlign?"center":"flex-end",a?i.display="inline-block":(i.display="flex",i.flexDirection="row",i.flexWrap="wrap",i.margin="0",i.alignItems=i.justifyContent,i.justifyContent="center"),n&&(i.maxWidth="100%"),i.fontFamily=r.fontFamily,i.fontWeight=r.fontWeight.toString(),i.fontStyle=r.fontStyle,i.letterSpacing=r.letterSpacing,i.fontSize=Ta(r.fontSize,r,e.g),r.line?1==r.lineInterpretation&&(i.position="absolute",r.writingMode==Jr?r.lineAlign==tn?i.top=r.line+"%":"end"==r.lineAlign&&(i.bottom=r.line+"%"):"vertical-lr"==r.writingMode?r.lineAlign==tn?i.left=r.line+"%":"end"==r.lineAlign&&(i.right=r.line+"%"):r.lineAlign==tn?i.right=r.line+"%":"end"==r.lineAlign&&(i.left=r.line+"%")):r.region&&r.region.id&&!a&&(e=r.region.widthUnits==ln?"%":"px",n=r.region.viewportAnchorUnits==ln?"%":"px",i.height=r.region.height+(r.region.heightUnits==ln?"%":"px"),i.width=r.region.width+e,i.position="absolute",i.top=r.region.viewportAnchorY+n,i.left=r.region.viewportAnchorX+n),i.lineHeight=r.lineHeight,r.position&&(r.writingMode==Jr?i.paddingLeft=r.position:i.paddingTop=r.position),"line-left"==r.positionAlign?i.cssFloat="left":"line-right"==r.positionAlign&&(i.cssFloat="right"),i.textAlign=r.textAlign,i.textDecoration=r.textDecoration.join(" "),i.writingMode=r.writingMode,r.size&&(r.writingMode==Jr?i.width=r.size+"%":i.height=r.size+"%"))}function Ta(e,t,r){var n=(n=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(n[1]),gf:n[2]}:null;if(!n)return e;var i=n.value;switch(n.gf){case"%":return i/100*r.clientHeight/t.cellResolution.rows+"px";case"c":return r.clientHeight*i/t.cellResolution.rows+"px";default:return e}}function xa(){}function Oa(e,t,r,n,i){var a,o=i in n,s=!0;for(a in t){var l=i+"."+a,u=o?n[i]:r[a];o||a in r?void 0===t[a]?void 0===u||o?delete e[a]:e[a]=gt(u):u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=gt(u)),l=Oa(e[a],t[a],u,n,l),s=s&&l):typeof t[a]!=typeof u||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=u.constructor?(G("Invalid config, wrong type for "+l),s=!1):("function"==typeof r[a]&&r[a].length!=t[a].length&&Z("Unexpected number of arguments for "+l),e[a]=t[a]):(G("Invalid config, unrecognized key "+l),s=!1)}return s}function Pa(e,t){for(var r={},n=r,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(n[a=e.substring(a,i).replace(/\\\./g,".")]={},n=n[a],a=i+1),i+=1;return n[e.substring(a).replace(/\\\./g,".")]=t,r}function Aa(){}function Ca(){var e=1e6,t=1/0;navigator.connection&&(navigator.connection.downlink&&(e=1e6*navigator.connection.downlink),navigator.connection.saveData&&(t=360));var r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:fr,logLicenseExchange:!1,updateExpirationTime:1},n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(e){return[e]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2};(Xt("Web0S")||Gt()||Xt("CrKey"))&&(i.stallSkip=0);var a={trackSelectionCallback:function(e){return D((function(t){return t.return(e)}))},progressCallback:function(e,t){return[e,t]},usePersistentLicense:!0},o={drm:r,manifest:n,streaming:i,offline:a,abrFactory:function(){return new Qn},abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(e){return D((function(t){return t.return(function(e,t){var r=e.filter((function(e){return"variant"==e.type})),n=[],i=Nn(t,r.map((function(e){return e.language})));i&&(n=r.filter((function(e){return Dn(e.language)==i}))),0==n.length&&(n=r.filter((function(e){return e.primary}))),0==n.length&&(r.map((function(e){return e.language})),n=r);var a=n.filter((function(e){return e.height&&480>=e.height}));if(a.length&&(a.sort((function(e,t){return t.height-e.height})),n=a.filter((function(e){return e.height==a[0].height}))),r=[],n.length){var o=Math.floor(n.length/2);n.sort((function(e,t){return e.bandwidth-t.bandwidth})),r.push(n[o])}for(n=c(e),o=n.next();!o.done;o=n.next())"text"==(o=o.value).type&&r.push(o);return r}(e,o.preferredAudioLanguage))}))},o}function Ma(e,t,r){var n={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return Oa(e,t,r||Ca(),n,"")}function Ia(){this.a=null,this.b=[]}function Ra(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var r=Date.now()/1e3;e.a.duration=r-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:r,state:t,duration:0})}}function Da(e,t){var r=0;e.a&&e.a.state==t&&(r+=e.a.duration);for(var n=c(e.b),i=n.next();!i.done;i=n.next())r+=(i=i.value).state==t?i.duration:0;return r}function ja(){this.b=this.c=null,this.a=[]}function La(e,t,r){e.c!=t&&(e.c=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:r,bandwidth:t.bandwidth}))}function Na(e,t,r){e.b!=t&&(e.b=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:r,bandwidth:null}))}function Ua(){this.g=this.h=this.A=this.m=this.D=this.c=this.v=this.f=this.G=this.I=this.J=this.j=this.M=NaN,this.b=new Ia,this.a=new ja}function Ba(t,r){ht.call(this);var n=this;this.g=Ko,this.bc=this.a=null,this.T=!1,this.b=new Rt,this.Hc=this.j=this.xb=this.o=this.$b=this.m=this.c=this.ac=this.D=this.Xb=this.A=this.Ba=this.v=this.G=this.h=this.N=null,this.ud=1e9,this.i=Za(this),this.wc={width:1/0,height:1/0},this.f=null,this.yb=new ai(this.i.preferredAudioLanguage,this.i.preferredVariantRole,this.i.preferredAudioChannelCount),this.da=this.i.preferredTextLanguage,this.Yb=this.i.preferredTextRole,this.Ic=[],r&&r(this),this.N=function(e){return new wt((function(t,r){e.j&&e.j.segmentDownloaded(t,r)}))}(this),this.I=null,Yo&&(this.I=Ie(Yo)),this.b.l(e,"online",(function(){n.gd()})),this.fa={name:"detach"},this.Ea={name:"attach"},this.M={name:"unload"},this.Nc={name:"manifest-parser"},this.Mc={name:"manifest"},this.ta={name:"media-source"},this.Jc={name:"drm-engine"},this.J={name:"load"},this.Oc={name:"src-equals-drm-engine"},this.Ca={name:"src-equals"};var i=new Map;i.set(this.Ea,(function(e,t){return ct(function(e,t,r){return null==t.B&&(t.B=r.B,e.b.l(t.B,"error",(function(){var t=lo(e);t&&oo(e,t)}))),e.a=t.B,Promise.resolve()}(n,e,t))})),i.set(this.fa,(function(e){return e.B&&(n.b.sa(e.B,"error"),e.B=null),n.a=null,ct(e=Promise.resolve())})),i.set(this.M,(function(e){return ct(za(n,e))})),i.set(this.ta,(function(t){return ct(t=function(t,r){var n,i,a,o;return D((function(s){if(1==s.a)return n=e.muxjs?new Br:new Fr,i=t.i.textDisplayFactory,a=Ie(i),t.Kc=i,_(s,(o=function(e,t,r,n){return new hn(e,t,r,n)}(r.B,n,a,(function(e,r,n){for(var i=(e=c(e)).next();!i.done;i=e.next())if((i=i.value).data&&i.cueTime&&i.frames){for(var a=i.cueTime+r,o=n,s=c(i.frames),l=s.next();!l.done;l=s.next())Va(t,a,o,"ID3",l.value);t.I&&t.I.onHlsTimedMetadata(i,a)}}))).A,2);t.G=o,E(s)}))}(n,t))})),i.set(this.Nc,(function(e,t){return ct(function(e,t,r){var n,i,a,o;return D((function(s){if(1==s.a)return t.mimeType=r.mimeType,t.uri=r.uri,n=t.uri,i=e.N,e.xb=n,a=e,_(s,di(n,i,e.i.manifest.retryParameters,t.mimeType),2);a.$b=s.b,e.m=Ie(e.$b),o=gt(e.i.manifest),r.B&&"AUDIO"===r.B.nodeName&&(o.disableVideo=!0),e.m.configure(o),E(s)}))}(n,e,t))})),i.set(this.Mc,(function(e){return function(e,t){var r=t.uri,n=e.N;e.ac=new Ki((function(){return e.hd()})),function(e,t){e.b=t}(e.ac,(function(t){so(e,No,t),e.I&&e.I.onDashTimedMetadata(t)}));var i={networkingEngine:n,filter:function(t){return D((function(r){return r.return(e.gb(t))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var r=new Set,n=c(t.textStreams),i=n.next();!i.done;i=n.next())"application/cea-608"==(i=i.value).mimeType&&r.add(i.originalId);for(n=c(t.variants),i=n.next();!i.done;i=n.next())if((i=i.value.video)&&i.closedCaptions)for(var a=c(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!r.has(o)){var s=new Fi;s={id:e.ud++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:s,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:i.closedCaptions.get(o),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null},t.textStreams.push(s),r.add(o)}}(e,t)},onTimelineRegionAdded:function(t){var r=e.ac;e:{for(var n=c(r.a),i=n.next();!i.done;i=n.next())if((i=i.value).schemeIdUri==t.schemeIdUri&&i.id==t.id&&i.startTime==t.startTime&&i.endTime==t.endTime){n=i;break e}n=null}null==n&&(r.a.add(t),r.b(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return oo(e,t)}},a=Date.now()/1e3;return new ot(function(){var t,n,o,s;return D((function(l){if(1==l.a)return t=e,_(l,e.m.start(r,i),2);if(t.o=l.b,n=Fa(Ao),e.dispatchEvent(n),0==e.o.variants.length)throw new ue(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.o),o=Date.now()/1e3,s=o-a,e.f.v=s,E(l)}))}(),(function(){return e.m.stop()}))}(n,e)})),i.set(this.Jc,(function(e){return ct(e=function(e,t){var r,n;return D((function(i){return 1==i.a?(r=Date.now()/1e3,n=!0,e.h=$a(e,{nb:e.N,onError:function(t){oo(e,t)},nc:function(t){uo(e,t)},onExpirationUpdated:function(t,r){co(e,t,r)},onEvent:function(t){e.dispatchEvent(t),t.type==wo&&n&&(n=!1,e.f.c=Date.now()/1e3-r)}}),e.h.configure(e.i.drm),_(i,tr(e.h,e.o.variants,e.o.offlineSessionIds),2)):3!=i.a?_(i,e.h.zb(t.B),3):(e.gb(e.o),void E(i))}))}(n,e))})),i.set(this.J,(function(e,t){return ct(function(e,t,r){var n,i,a,o,s,l,u,d,f,p;return D((function(h){switch(h.a){case 1:if(t.startTime=r.startTime,n=t.B,i=t.uri,e.xb=i,e.A=new zi({jc:function(){return t.B.playbackRate},nd:function(e){t.B.playbackRate=e},Jd:function(e){t.B.currentTime+=e}}),a=function(){return Ya(e)},o=function(){return Xa(e)},e.b.l(n,"playing",a),e.b.l(n,"pause",a),e.b.l(n,"ended",a),e.b.l(n,"ratechange",o),s=e.i.abrFactory,e.j&&e.Hc==s||(e.Hc=s,e.j=Ie(s),"function"!=typeof e.j.playbackRateChanged&&(Te("AbrManager","Please use an AbrManager with playbackRateChanged function."),e.j.playbackRateChanged=function(){}),e.j.configure(e.i.abr)),e.yb=new ai(e.i.preferredAudioLanguage,e.i.preferredVariantRole,e.i.preferredAudioChannelCount),e.da=e.i.preferredTextLanguage,function(e,t,r){0<t&&(e.S()||e.Ud(t)),t=e.getDuration(),r<t&&(e.S()||e.za(r))}(e.o.presentationTimeline,e.i.playRangeStart,e.i.playRangeEnd),e.j.init((function(t,r,n){r=void 0!==r&&r,n=void 0===n?0:n,e.c&&t!=e.c.b&&(La(e.f.a,t,!0),Ji(e.c,t,r,n),eo(e))})),e.v=function(e,t){return new Ri(e.a,e.o,e.i.streaming,t,(function(){if(e.Ba&&Wi(e.Ba,!0),e.c)for(var t=e.c,r=t.s.ic(),n=t.i.smallGapLimit,i=c(t.a.keys()),a=i.next();!a.done;a=i.next()){a=a.value;var o=t.a.get(a);o.ma=null;var s=t.s.L;"text"==a?s=null!=(s=s.c).a&&null!=s.b&&(r>=s.a&&r<s.b):s=Vr(s=kn(s,a),r,n),s||(null!=bn(t.s.L,a)&&ra(t,o),o.ja&&(o.ja.abort(),o.ja=null),"text"===a&&t.s.L.v.c())}e.D&&Ka(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.Ba=function(e){var t=new Hi(e.ac);!function(e,t,r,n){e.a=t,e.b=r,e.c=n}(t,(function(t){so(e,Uo,t)}),(function(t){so(e,Bo,t)}),(function(t,r){r||(so(e,Uo,t),so(e,Bo,t))}));var r=new $i(e.a);return r.a.add(t),r}(e),l=Math.max(e.o.minBufferTime,e.i.streaming.rebufferingGoal),Wa(e,l),Bn(e.o,e.i.preferredAudioChannelCount),e.c=function(e){return new Yi(e.o,{ic:function(){return e.v.g()},getBandwidthEstimate:function(){return e.j.getBandwidthEstimate()},L:e.G,nb:e.N,onError:function(t){return oo(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Me:function(){e.m&&e.m.update&&e.m.update()},bd:function(){e.v&&e.v.v(),Ka(e)}})}(e),e.c.configure(e.i.streaming),e.g=Ho,e.dispatchEvent(Fa(Do)),u=Qa(e)?e.j.chooseVariant():null,La(e.f.a,u,!0),Ji(e.c,u,!1,0),(d=qn(e.o.textStreams,e.da,e.Yb)[0]||null)&&Na(e.f.a,d,!0),d?(u.audio&&function(e,t,r){return e=Dn(e.i.preferredTextLanguage),t=Dn(t.language),Mn(r=Dn(r.language),e)&&!Mn(t,r)}(e,u.audio,d)&&(e.T=!0),e.T&&e.G.h.setTextVisibility(!0),io(e)):e.T=!1,d&&(e.i.streaming.alwaysStreamText||e.Sc())&&ea(e.c,d),!e.i.streaming.startAtSegmentBoundary){h.u(2);break}return f=e.v.g(),_(h,function(e,t){var r,n,i,a,o;return D((function(s){return 1==s.a?(r=e.audio,n=e.video,i=function(e,t){var r,n;return D((function(i){return 1==i.a?e?_(i,e.createSegmentIndex(),2):i.return(null):(r=e.segmentIndex[Symbol.iterator]().seek(t))?(n=r.startTime,i.return(n)):i.return(null)}))},_(s,i(r,t),2)):3!=s.a?(a=s.b,_(s,i(n,t),3)):null!=(o=s.b)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(u,f),3);case 3:p=h.b,e.v.m(p);case 2:return _(h,e.c.start(),4);case 4:e.i.abr.enabled&&(e.j.enable(),ao(e)),e.gb(e.o),to(e),eo(e),Qa(e),e.o.variants.some((function(e){return e.primary})),e.b.ia(n,"loadedmetadata",(function(){e.f.f=Date.now()/1e3-r.pd})),E(h)}}))}(n,e,t))})),i.set(this.Oc,(function(e){return ct(e=function(e,t){var r,n,i,a;return D((function(o){return 1==o.a?(r=je,n=Date.now()/1e3,i=!0,e.h=$a(e,{nb:e.N,onError:function(t){oo(e,t)},nc:function(t){uo(e,t)},onExpirationUpdated:function(t,r){co(e,t,r)},onEvent:function(t){e.dispatchEvent(t),t.type==wo&&i&&(i=!1,e.f.c=Date.now()/1e3-n)}}),e.h.configure(e.i.drm),a={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"video/mp4",codecs:"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:r.Da,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0},_(o,tr(e.h,[a],[]),2)):_(o,e.h.zb(t.B),0)}))}(n,e))})),i.set(this.Ca,(function(e,t){return function(e,t,r){function n(){return Ya(e)}t.uri=r.uri,t.startTime=r.startTime,e.xb=t.uri,e.v=new Ii(t.B),null!=t.startTime&&e.v.m(t.startTime),e.A=new zi({jc:function(){return t.B.playbackRate},nd:function(e){t.B.playbackRate=e},Jd:function(e){t.B.currentTime+=e}}),Wa(e,e.i.streaming.rebufferingGoal),e.b.l(t.B,"playing",n),e.b.l(t.B,"pause",n),e.b.l(t.B,"ended",n),e.b.l(t.B,"ratechange",(function(){return Xa(e)})),"none"!=e.a.preload&&e.b.ia(e.a,"loadedmetadata",(function(){e.f.f=Date.now()/1e3-r.pd})),e.a.audioTracks&&(e.b.l(e.a.audioTracks,"addtrack",(function(){return to(e)})),e.b.l(e.a.audioTracks,"removetrack",(function(){return to(e)})),e.b.l(e.a.audioTracks,"change",(function(){return to(e)}))),e.a.textTracks&&(e.b.l(e.a.textTracks,"addtrack",(function(t){to(e),function(e,t){var r=t.track;"metadata"==r.kind&&(r.mode="hidden",e.b.l(r,"cuechange",(function(){if(r.activeCues)for(var t=c(r.activeCues),n=t.next();!n.done;n=t.next())n=n.value,Va(e,n.startTime,n.endTime,n.type,n.value),e.I&&e.I.onCueMetadataChange(n.value)})),new nt((function(){for(var t=function(e){return Array.from(e.a.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),r=(t=c(t)).next();!r.done;r=t.next())r.value.mode="hidden"})).Qb().R(.5))}(e,t)})),e.b.l(e.a.textTracks,"removetrack",(function(){return to(e)})),e.b.l(e.a.textTracks,"change",(function(){return to(e)}))),t.B.src=t.uri,(Gt()||Xt("Web0S"))&&t.B.load(),e.g=Go,e.dispatchEvent(Fa(Do));var i=new Le;wi(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){i.resolve()}));var a=!1;return e.Ic.push((function(){a=!0})),wi(e.a,HTMLMediaElement.HAVE_CURRENT_DATA,e.b,(function(){return D((function(t){return 1==t.a?a?t.return():(function(e){var t=e.i.preferredAudioLanguage;if(""!=t){e.jd(t);var r=e.i.preferredVariantRole;""!=r&&e.jd(t,r)}}(e),Ga(e).find((function(e){return"disabled"!=e.mode}))?t.u(2):_(t,new Promise((function(t){e.b.ia(e.a.textTracks,"change",t),new nt(t).R(1)})),2)):a?t.return():(function(e){var t=e.i.preferredTextLanguage;if(""!=t){e.kd(t);var r=e.i.preferredTextRole;""!=r&&e.kd(t,r)}}(e),void E(t))}))})),e.a.error?i.reject(lo(e)):"none"==e.a.preload&&(Z('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),i.resolve()),e.b.ia(e.a,"error",(function(){i.reject(lo(e))})),new ot(i,(function(){return i.reject(new ue(2,7,7001)),Promise.resolve()}))}(n,e,t)})),this.X=new fa(this.fa,{ue:function(e,t,r,i){var a=null;return e==n.fa&&(a=r==n.fa?n.fa:n.Ea),e==n.Ea&&(a=r==n.fa||t.B!=i.B?n.fa:r==n.Ea?n.Ea:r==n.ta||r==n.J?n.ta:r==n.Ca?n.Oc:null),e==n.ta&&(a=r==n.J&&t.B==i.B?n.Nc:n.M),e==n.Nc&&(a=vo(n.J,n.Mc,n.M,r,t,i)),e==n.Mc&&(a=vo(n.J,n.Jc,n.M,r,t,i)),e==n.Jc&&(a=vo(n.J,n.J,n.M,r,t,i)),e==n.Oc&&(a=r==n.Ca&&t.B==i.B?n.Ca:n.M),e!=n.J&&e!=n.Ca||(a=n.M),e==n.M&&(a=i.B&&t.B==i.B?n.Ea:n.fa),a},je:function(e,t,r){return n.dispatchEvent(Fa(Mo,{state:e.name})),i.get(e)(t,r)},handleError:function(e){return D((function(t){return 1==t.a?_(t,za(n,e),2):t.return(e.B?n.Ea:n.fa)}))},Le:function(e){n.dispatchEvent(Fa(Io,{state:e.name}))}}),t&&this.zb(t,!0)}function Fa(e,t){return new ft(e,t)}function za(e,t){var r,n,i,a,o,s,l,u,d;return D((function(f){switch(f.a){case 1:return e.g!=Wo&&(e.g=Ko),r=e.Ic.map((function(e){return e()})),e.Ic=[],_(f,Promise.all(r),2);case 2:if(e.dispatchEvent(Fa(zo)),t.mimeType=null,t.startTime=null,t.uri=null,t.B&&(e.b.sa(t.B,"loadedmetadata"),e.b.sa(t.B,"playing"),e.b.sa(t.B,"pause"),e.b.sa(t.B,"ended"),e.b.sa(t.B,"ratechange")),e.Ba&&(e.Ba.release(),e.Ba=null),e.Xb&&(e.Xb.stop(),e.Xb=null),!e.m){f.u(3);break}return _(f,e.m.stop(),4);case 4:e.m=null,e.$b=null;case 3:if(!e.j){f.u(5);break}return _(f,e.j.stop(),5);case 5:if(!e.c){f.u(7);break}return _(f,e.c.destroy(),8);case 8:e.c=null;case 7:if(e.A&&(e.A.release(),e.A=null),e.v&&(e.v.release(),e.v=null),!e.G){f.u(9);break}return _(f,e.G.destroy(),10);case 10:e.G=null;case 9:if(e.I&&e.I.onAssetUnload(),!t.B||!t.B.src){f.u(11);break}return _(f,new Promise((function(e){return new nt(e).R(.1)})),12);case 12:t.B.removeAttribute("src"),t.B.load();case 11:if(!e.h){f.u(13);break}return _(f,e.h.destroy(),14);case 14:e.h=null;case 13:if(e.xb=null,e.D=null,e.o){for(n=c(e.o.variants),i=n.next();!i.done;i=n.next())for(a=i.value,o=c([a.audio,a.video]),s=o.next();!s.done;s=o.next())(l=s.value)&&l.segmentIndex&&l.segmentIndex.release();for(u=c(e.o.textStreams),s=u.next();!s.done;s=u.next())(d=s.value).segmentIndex&&d.segmentIndex.release()}e.o=null,e.f=new Ua,e.Kc=null,qa(e),E(f)}}))}function Va(e,t,r,n,i){e.dispatchEvent(Fa(Co,{startTime:t,endTime:r,Of:n,payload:i}))}function $a(e,t){return new er(t,e.i.drm.updateExpirationTime)}function Wa(e,t){e.D=new oi,e.D.a=li,si(e.D,t,Math.min(.5,t/2)),qa(e),e.Xb=new nt((function(){Ka(e)})).ra(.25)}function Ka(e){switch(e.g){case Go:if(e.a.ended)var t=!0;else{var r=zr(e.a.buffered);t=null!=r&&r>=e.a.duration-1}break;case Ho:e:if(e.a.ended||vn(e.G))t=!0;else{if(e.o.presentationTimeline.S()){r=e.o.presentationTimeline.Ga();var n=zr(e.a.buffered);if(null!=n&&n>=r){t=!0;break e}}t=!1}break;default:t=!1}n=$r(e.a.buffered,e.a.currentTime);var i=t,a=(r=e.D).b.get(r.a);t=r.a,n=i||n>=a?ui:li,r.a=n,t!=n&&qa(e)}function Ha(e){if(e.m){var t=gt(e.i.manifest);e.a&&"AUDIO"===e.a.nodeName&&(t.disableVideo=!0),e.m.configure(t)}if(e.h&&e.h.configure(e.i.drm),e.c){e.c.configure(e.i.streaming);try{e.gb(e.o)}catch(a){oo(e,a)}e.j&&Qa(e),!(t=e.c.b)||t.allowedByApplication&&t.allowedByKeySystem||Ja(e)}if(e.G&&(t=e.i.textDisplayFactory,e.Kc!=t)){var r=Ie(t),n=e.G,i=n.h;n.h=r,i&&(r.setTextVisibility(i.isTextVisible()),i.destroy()),n.c&&(n.c.c=r),e.Kc=t,e.c&&((r=(t=e.c).a.get("text"))&&ta(t,r.stream,!0,0,!0))}e.j&&(e.j.configure(e.i.abr),e.i.abr.enabled?e.j.enable():e.j.disable(),ao(e)),e.D&&(t=e.i.streaming.rebufferingGoal,e.o&&(t=Math.max(t,e.o.minBufferTime)),si(e.D,t,Math.min(.5,t/2)))}function Ga(e){return Array.from(e.a.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function Za(e){var t=Ca();return t.streaming.failureCallback=function(t){e.S()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.gd())},t.textDisplayFactory=function(){return e.bc?new ka(e.a,e.bc):new ga(e.a)},t}function qa(e){var t=e.Rc();if(e.f&&e.D&&e.v){var r=e.A;r.f=t,Vi(r),Ya(e)}e.dispatchEvent(Fa(Eo,{buffering:t}))}function Xa(e){var t=e.a.playbackRate;0!=t&&(e.A&&e.A.set(t),t=Fa(Ro),e.dispatchEvent(t))}function Ya(e){if(e.f&&e.D){var t=e.f.b;e.D.a==li?Ra(t,"buffering"):e.a.paused?Ra(t,"paused"):e.a.ended?Ra(t,"ended"):Ra(t,"playing")}}function Qa(e){try{fo(e,e.o)}catch(r){return oo(e,r),!1}var t=e.o.variants.filter((function(e){return Gn(e)}));return t=e.yb.create(t),e.j.setVariants(Array.from(t.values())),!0}function Ja(e){var t;if(t=Qa(e)?e.j.chooseVariant():null){if(t==e.c.b)return;La(e.f.a,t,!0),Ji(e.c,t,!0,0),ro(e)}eo(e)}function eo(e){po(e,Fa(_o))}function to(e){po(e,Fa(Fo))}function ro(e){po(e,Fa(Vo))}function no(e){po(e,Fa(jo))}function io(e){po(e,Fa(Lo))}function ao(e){po(e,Fa(ko,{Pf:e.i.abr.enabled}))}function oo(e,t){if(e.g!=Wo){var r=Fa(To,{detail:t});e.dispatchEvent(r),r.defaultPrevented&&(t.handled=!0)}}function so(e,t,r){e.dispatchEvent(Fa(t,{detail:{schemeIdUri:r.schemeIdUri,value:r.value,startTime:r.startTime,endTime:r.endTime,id:r.id,eventElement:r.eventElement}}))}function lo(e){if(!e.a.error)return null;var t=e.a.error.code;if(1==t)return null;var r=e.a.error.msExtendedCode;return r&&(0>r&&(r+=Math.pow(2,32)),r=r.toString(16)),new ue(2,3,3016,t,r,e.a.error.message)}function uo(e,t){if(e.c){var r=Object.keys(t),n=1==r.length&&"00"==r[0],i=!1;if(r.length)for(var a=(r=c(e.o.variants)).next();!a.done;a=r.next()){var o=[];(a=a.value).audio&&o.push(a.audio),a.video&&o.push(a.video);for(var s=(o=c(o)).next();!s.done;s=o.next()){var l=s.value;if(s=a.allowedByKeySystem,l.keyIds.size){a.allowedByKeySystem=!0;for(var u=(l=c(l.keyIds)).next();!u.done;u=l.next())u=u.value,u=t[n?"00":u],a.allowedByKeySystem=a.allowedByKeySystem&&!!u&&!qo.includes(u)}s!=a.allowedByKeySystem&&(i=!0)}}i&&Qa(e),(n=e.c.b)&&!n.allowedByKeySystem&&Ja(e),i&&to(e)}}function co(e,t,r){e.m&&e.m.onExpirationUpdated&&e.m.onExpirationUpdated(t,r),t=Fa(xo),e.dispatchEvent(t)}function fo(e,t){var r=e.h?Ft(e.h.T):{},n=Object.keys(r);n=n.length&&"00"==n[0];for(var i=!1,a=!1,o=new Set,s=new Set,l=c(t.variants),u=l.next();!u.done;u=l.next()){var d=[];(u=u.value).audio&&d.push(u.audio),u.video&&d.push(u.video);for(var f=(d=c(d)).next();!f.done;f=d.next())if((f=f.value).keyIds.size)for(var p=(f=c(f.keyIds)).next();!p.done;p=f.next()){p=p.value;var h=r[n?"00":p];h?qo.includes(h)&&s.add(h):o.add(p)}u.allowedByApplication?u.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new ue(2,4,4012,r={hasAppRestrictions:a,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)})}function po(e,t){D((function(r){if(1==r.a)return _(r,Promise.resolve(),2);e.g!=Wo&&e.dispatchEvent(t),E(r)}))}function ho(e){for(var t=new Set,r=(e=c(e)).next();!r.done;r=e.next())(r=r.value).language?t.add(Dn(r.language)):t.add("und");return t}function go(e){for(var t=new Map,r=(e=c(e)).next();!r.done;r=e.next()){var n=r.value;r="und";var i=[];for(n.language&&(r=Dn(n.language)),(i="variant"==n.type?n.audioRoles:n.roles)&&i.length||(i=[""]),t.has(r)||t.set(r,new Set),i=(n=c(i)).next();!i.done;i=n.next())i=i.value,t.get(r).add(i)}var a=[];return t.forEach((function(e,t){for(var r=c(e),n=r.next();!n.done;n=r.next())a.push({language:t,role:n.value})})),a}function mo(){return new ue(2,7,7e3)}function vo(e,t,r,n,i,a){return n==e&&i.B==a.B&&i.uri==a.uri&&i.mimeType==a.mimeType?t:r}function yo(){return{B:null,mimeType:null,startTime:null,pd:NaN,uri:null}}function bo(e){return new Promise((function(t,r){e.Va=function(){return r(mo())},e.mc=function(){return t()},e.onError=function(e){return r(e)},e.oc=function(){return r(mo())}}))}Yi.prototype.destroy=function(){return this.F.destroy()},Yi.prototype.configure=function(e){this.i=e,this.j=new it({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},Yi.prototype.start=function(){var e=this;return D((function(t){if(1==t.a)return _(t,function(e){var t,r,n,i,a,o,s,l,u,d;return D((function(f){if(1==f.a){if(t=je,!e.b)throw new ue(2,5,5006);return r=new Map,n=new Set,e.b.audio&&(r.set(t.fb,e.b.audio),n.add(e.b.audio)),e.b.video&&(r.set(t.Da,e.b.video),n.add(e.b.video)),e.c&&(r.set(t.aa,e.c),n.add(e.c)),i=e.s.L,a=e.i.forceTransmuxTS,_(f,i.init(r,a),2)}It(e.F);var p=e.o.presentationTimeline.getDuration();for(1/0>p?e.s.L.za(p):e.s.L.za(Math.pow(2,32)),o=c(r.keys()),s=o.next();!s.done;s=o.next())l=s.value,u=r.get(l),e.a.has(l)||(d=na(u),e.a.set(l,d),la(e,d,0));E(f)}))}(e),2);It(e.F),e.h=!0,E(t)}))},Yi.prototype.Kb=function(e){var t,r,n,i,a,o=this;return D((function(s){switch(s.a){case 1:if(It(o.F),e.Ma||null==e.Ja||e.Ab)return s.return();if(e.Ja=null,!e.$a){s.u(2);break}return _(s,sa(o,e,e.vc,e.ec),3);case 3:return s.return();case 2:if(e.stream.segmentIndex){s.u(4);break}return t=e.stream,_(s,e.stream.createSegmentIndex(),5);case 5:if(t!=e.stream)return null==e.Ja&&la(o,e,0),s.return();case 4:w(s,6),null!=(r=function(e,t){if(aa(t))return En(e.s.L,t.stream.originalId||""),null;var r=e.s.ic(),n=t.pa?t.pa.endTime:r,i=function(e,t,r){return"text"==t?null==(e=e.c).b||e.b<r?0:e.b-Math.max(r,e.a):$r(e=kn(e,t),r)}(e.s.L,t.type,r),a=Math.max(e.o.minBufferTime||0,e.i.rebufferingGoal,e.i.bufferingGoal)*e.f;if(n>=e.o.presentationTimeline.getDuration())return t.endOfStream=!0,"video"==t.type&&(r=e.a.get("text"))&&aa(r)&&(r.endOfStream=!0),null;if(t.endOfStream=!1,i>=a)return.5;if(i=bn(e.s.L,t.type),!(i=function(e,t,r,n){return t.ma?t.ma.current():t.pa||n?(t.ma=t.stream.segmentIndex.jb(t.pa?t.pa.endTime:n),t.ma.next().value):(t.ma=t.stream.segmentIndex.jb(Math.max(r-e.i.inaccurateManifestTolerance,0)),(n=t.ma.next().value)&&ia(e,n)||(t.ma=t.stream.segmentIndex.jb(r),n=t.ma.next().value),n)}(e,t,r,i))||!ia(e,i))return 1;a=1/0;for(var o=Array.from(e.a.values()),s=(o=c(o)).next();!s.done;s=o.next())aa(s=s.value)||(a=Math.min(a,s.pa?s.pa.endTime:r));return n>=a+e.o.presentationTimeline.a?1:(function(e,t,r,n){var i,a,o,s,l,u,c,d,f;return D((function(p){switch(p.a){case 1:return i=je,a=t.stream,o=t.ma,t.Ma=!0,s=function(e,t,r){var n,i,a,o,s,l,u;return D((function(c){return n=[],i=Math.max(0,r.appendWindowStart-.1),a=r.appendWindowEnd+.01,(o=r.timestampOffset)==t.Vc&&i==t.Uc&&a==t.Tc||(s=function(){var r;return D((function(n){if(1==n.a)return w(n,2),t.Uc=i,t.Tc=a,t.Vc=o,_(n,function(e,t,r,n,i){return D((function(a){return t==je.aa?(e.c.v=r,function(e,t,r){e.f=t,e.g=r}(e.c,n,i),a.return()):_(a,Promise.all([Tn(e,t,(function(){var r=e.f[t].appendWindowStart,n=e.f[t].appendWindowEnd;e.f[t].abort(),e.f[t].appendWindowStart=r,e.f[t].appendWindowEnd=n,Sn(e,t)})),Tn(e,t,(function(){var n=r;0>n&&(n+=.001),e.f[t].timestampOffset=n,Sn(e,t)})),Tn(e,t,(function(){e.f[t].appendWindowStart=0,e.f[t].appendWindowEnd=i,e.f[t].appendWindowStart=n,Sn(e,t)}))]),0)}))}(e.s.L,t.type,o,i,a),4);if(2!=n.a)return T(n,0);throw r=x(n),t.Uc=null,t.Tc=null,t.Vc=null,r}))},n.push(s())),!function(e,t){return e&&t?e.Hb()==t.Hb()&&e.Db()==t.Db()&&kt(e.c(),t.c()):e==t}(r.f,t.lc)&&(t.lc=r.f)&&(l=oa(e,t,r.f),u=function(){var r,n,i;return D((function(a){switch(a.a){case 1:return w(a,2),_(a,l,4);case 4:return r=a.b,It(e.F),n=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,_(a,_n(e.s.L,t.type,r,null,null,n),5);case 5:T(a,0);break;case 2:throw i=x(a),t.lc=null,i}}))},n.push(u())),_(c,Promise.all(n),0)}))}(e,t,n),l=oa(e,t,n),w(p,2),_(p,Promise.all([s,l]),4);case 4:return u=p.b,It(e.F),e.g?p.return():t.$a?(t.Ma=!1,la(e,t,0),p.return()):_(p,function(e,t,r,n,i,a){var o;return D((function(s){return 1==s.a?(o=n.closedCaptions&&0<n.closedCaptions.size,null!=n.emsgSchemeIdUris&&0<n.emsgSchemeIdUris.length&&(new Or).V("emsg",(function(t){var r=n.emsgSchemeIdUris,a=t.reader.dd(),o=t.reader.dd(),s=t.reader.K(),l=t.reader.K(),u=t.reader.K(),c=t.reader.K();t=t.reader.Wa(t.reader.P.byteLength-t.reader.C);var d=i.startTime+l/s;r.includes(a)&&("urn:mpeg:dash:event:2012"==a?e.s.Me():(r=new ft(So,{detail:{startTime:d,endTime:d+u/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:l,eventDuration:u,id:c,messageData:t}}),e.s.onEvent(r)))})).parse(a),_(s,function(e,t,r){var n,i,a;return D((function(o){if(1==o.a)return n=Math.max(e.i.bufferBehind,e.o.presentationTimeline.a),null==(i=yn(e.s.L,t.type))||.01>=(a=r-i-n)?o.return():_(o,e.s.L.remove(t.type,i,i+a),2);It(e.F),E(o)}))}(e,t,r),2)):3!=s.a?(It(e.F),_(s,_n(e.s.L,t.type,a,i.startTime,i.endTime,o),3)):(It(e.F),void E(s))}))}(e,t,r,a,n,u[1]),5);case 5:if(It(e.F),e.g)return p.return();t.pa=n,o.next(),t.Ma=!1,t.fd=!1,c=e.s.L.hc(),d=c[t.type],JSON.stringify(d),t.$a||e.s.bd(),la(e,t,0),T(p,0);break;case 2:if(f=x(p),It(e.F,f),e.g)return p.return();if(t.Ma=!1,t.type==i.aa&&e.i.ignoreTextStreamFailures)e.a.delete(i.aa),p.u(0);else if(7001==f.code)t.Ma=!1,t.Ja=null,la(e,t,0),p.u(0);else{if(3017!=f.code)return t.Ib=!0,f.severity=2,_(p,da(e,f),0);(function(e,t,r){if(!Array.from(e.a.values()).some((function(e){return e!=t&&e.fd}))){var n=Math.round(100*e.f);if(20<n)e.f-=.2;else{if(!(4<n))return t.Ib=!0,e.g=!0,void e.s.onError(r);e.f-=.04}t.fd=!0}la(e,t,4)})(e,t,f),p.u(0)}}}))}(e,t,r,i).catch((function(){})),null)}(o,e))&&(la(o,e,r),e.Ib=!1),T(s,7);break;case 6:return n=x(s),_(s,da(o,n),8);case 8:return s.return();case 7:if(i=Array.from(o.a.values()),!o.h||!i.every((function(e){return e.endOfStream}))){s.u(0);break}return _(s,o.s.L.endOfStream(),10);case 10:It(o.F),0!=(a=o.s.L.getDuration())&&a<o.o.presentationTimeline.getDuration()&&o.o.presentationTimeline.za(a),E(s)}}))},fa.prototype.destroy=function(){return this.F.destroy()},(n=ga.prototype).remove=function(e,t){return!!this.a&&(va(this.a,(function(r){return r.startTime<t&&r.endTime>e})),!0)},n.append=function(e){function t(e){return e.spacer?"\n":e.nestedCues.length?e.nestedCues.map(t).join(""):e.payload}var r=e.map((function(e){if(e.nestedCues.length){var r=e.clone();return r.nestedCues=[],r.payload=t(e),r}return e})),n=[];e=this.a.cues?Array.from(this.a.cues):[];for(var i={},a=(r=c(r)).next();!a.done;i={cb:i.cb},a=r.next())i.cb=a.value,e.some(function(e){return function(t){return t.startTime==e.cb.startTime&&t.endTime==e.cb.endTime&&t.text==e.cb.payload}}(i))||(a=ma(i.cb))&&n.push(a);for(i=(e=c(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!i.done;i=e.next())this.a.addCue(i.value)},n.destroy=function(){return this.a&&(va(this.a,(function(){return!0})),this.a.mode="disabled"),this.a=null,Promise.resolve()},n.isTextVisible=function(){return"showing"==this.a.mode},n.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},z("shaka.text.SimpleTextDisplayer",ga),ga.prototype.setTextVisibility=ga.prototype.setTextVisibility,ga.prototype.isTextVisible=ga.prototype.isTextVisible,ga.prototype.destroy=ga.prototype.destroy,ga.prototype.append=ga.prototype.append,ga.prototype.remove=ga.prototype.remove,z("shaka.util.Dom",ya),ya.removeAllChildren=ba,(n=ka.prototype).append=function(e){for(var t=d(this.f).concat(),r={},n=(e=c(e)).next();!n.done;r={Rb:r.Rb},n=e.next())r.Rb=n.value,t.some(function(e){return function(t){return Hr(t,e.Rb)}}(r))||this.f.push(r.Rb);_a(this)},n.destroy=function(){this.g.removeChild(this.b),this.b=null,this.h=!1,this.f=[],this.j&&this.j.stop(),this.c.clear()},n.remove=function(e,t){return!!this.b&&(this.f=this.f.filter((function(r){return r.startTime<e||r.endTime>=t})),_a(this),!0)},n.isTextVisible=function(){return this.h},n.setTextVisibility=function(e){this.h=e},z("shaka.text.UITextDisplayer",ka),ka.prototype.setTextVisibility=ka.prototype.setTextVisibility,ka.prototype.isTextVisible=ka.prototype.isTextVisible,ka.prototype.remove=ka.prototype.remove,ka.prototype.destroy=ka.prototype.destroy,ka.prototype.append=ka.prototype.append,z("shaka.util.ConfigUtils",xa),xa.convertToConfigObject=Pa,xa.mergeConfigObjects=Oa,z("shaka.util.PlayerConfiguration",Aa),Aa.mergeConfigObjects=Ma,v(Ba,ht),(n=Ba.prototype).destroy=function(){var e,t=this;return D((function(r){switch(r.a){case 1:return t.g==Wo?r.return():(t.g=Wo,e=pa(t.X,(function(){return{node:t.fa,payload:yo(),Sa:!1}})),_(r,new Promise((function(t){e.pb=function(){},e.mc=function(){t()},e.Va=function(){t()},e.onError=function(){t()},e.oc=function(){t()}})),2));case 2:return _(r,t.X.destroy(),3);case 3:if(t.b&&(t.b.release(),t.b=null),t.Hc=null,t.j=null,t.i=null,t.f=null,t.bc=null,!t.N){r.u(0);break}return _(r,t.N.destroy(),5);case 5:t.N=null,E(r)}}))},n.zb=function(e,t){if(t=void 0===t||t,this.g==Wo)return Promise.reject(mo());var r=yo();r.B=e,Kt()||(t=!1);var n=t?this.ta:this.Ea,i=pa(this.X,(function(){return{node:n,payload:r,Sa:!1}}));return i.pb=function(){},bo(i)},n.detach=function(){var e=this;if(this.g==Wo)return Promise.reject(mo());var t=pa(this.X,(function(){return{node:e.fa,payload:yo(),Sa:!1}}));return t.pb=function(){},bo(t)},n.sd=function(e){var t=this;if(e=void 0===e||e,this.g==Wo)return Promise.reject(mo());Kt()||(e=!1);var r=yo(),n=pa(this.X,(function(n){var i=n.B&&e?t.ta:n.B?t.Ea:t.fa;return r.B=n.B,{node:i,payload:r,Sa:!1}}));return n.pb=function(){},bo(n)},n.load=function(e,t,r){var n=this;if(this.g==Wo)return Promise.reject(mo());this.dispatchEvent(Fa(Po));var i=yo();i.uri=e,i.pd=Date.now()/1e3,r&&(i.mimeType=r),void 0!==t&&(i.startTime=t);var a=function(e,t){if(!Kt())return!0;var r=t.mimeType,n=t.uri||"";return r||(r={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[fi(n)]),!!r&&(""!=(t.B||Yt()).canPlayType(r)&&(!Kt()||!(r in pi)&&!(fi(n)in hi)||Zt()&&e.i.streaming.useNativeHlsOnSafari))}(this,i)?this.Ca:this.J,o=pa(this.X,(function(e){return null==e.B?null:(i.B=e.B,{node:a,payload:i,Sa:!0})}));return this.f=new Ua,o.pb=function(){},new Promise((function(e,t){o.oc=function(){return t(new ue(2,7,7002))},o.mc=function(){e(),n.dispatchEvent(Fa(Oo))},o.Va=function(){return t(mo())},o.onError=function(e){return t(e)}}))},n.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=Pa(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(Te("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay);var r=Ma(this.i,e,Za(this));return Ha(this),r},n.getConfiguration=function(){var e=Za(this);return Ma(e,this.i,Za(this)),e},n.Ve=function(){for(var e in this.i)delete this.i[e];Ma(this.i,Za(this),Za(this)),Ha(this)},n.pe=function(){return this.g},n.te=function(){return this.a},n.Fb=function(){return this.N},n.Pc=function(){return this.xb},n.Cd=function(){return function(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];X.has(e)||(X.add(e),Z.apply(H,d(r)))}("getAdManager","Shaka Player's ad features are currently in BETA and are NOT yet covered by semantic versioning compatibility guarantees.  The API may change at any time!"),this.I},n.S=function(){return this.o?this.o.presentationTimeline.S():!(!this.a||!this.a.src)&&1/0==this.a.duration},n.Ua=function(){return!!this.o&&this.o.presentationTimeline.Ua()},n.Ge=function(){if(this.o){var e=this.o.variants;return!!e.length&&!e[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},n.hd=function(){if(this.o){var e=this.o.presentationTimeline;return{start:e.kb(),end:e.Fa()}}return this.a&&this.a.src&&(e=this.a.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},n.keySystem=function(){return or(this.drmInfo())},n.drmInfo=function(){return this.h?this.h.c:null},n.Eb=function(){return this.h?this.h.Eb():1/0},n.Rc=function(){return!!this.D&&this.D.a==li},n.ve=function(){return this.a?this.A?this.A.b:1:0},n.ff=function(e){0==e?Z("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.A.set(e),this.g==Ho&&(this.j.playbackRateChanged(e),Qi(this.c,1<Math.abs(e))))},n.ee=function(){this.g==Go&&this.A.set(1),this.g==Ho&&(this.A.set(1),this.j.playbackRateChanged(1),Qi(this.c,!1))},n.Qc=function(){if(this.o){for(var e=this.c?this.c.b:null,t=[],r=c(this.o.variants),n=r.next();!n.done;n=r.next())if(Gn(n=n.value)){var i=Vn(n);i.active=n==e,t.push(i)}return t}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(e){return Kn(e)})):[]},n.kc=function(){if(this.o){for(var e=this.c?this.c.c:null,t=[],r=c(this.o.textStreams),n=r.next();!n.done;n=r.next()){var i=$n(n=n.value);i.active=n==e,t.push(i)}return t}return this.a&&this.a.src&&this.a.textTracks?Ga(this).map((function(e){var t=Hn(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),t})):[]},n.Sd=function(e){if(this.o&&this.c){var t=this.o.textStreams.find((function(t){return t.id==e.id}));t&&t!=this.c.c&&(Na(this.f.a,t,!1),ea(this.c,t),no(this),this.da=t.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(var r=(t=c(t=Ga(this))).next();!r.done;r=t.next())Wn(r=r.value)==e.id?r.mode=this.T?"showing":"hidden":r.mode="disabled";no(this)}},n.We=function(e,t,r){if(t=void 0!==t&&t,r=void 0===r?0:r,this.o&&this.c){this.i.abr.enabled&&Z("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var n=this.o.variants.find((function(t){return t.id==e.id}));n&&Gn(n)&&n!=this.c.b&&(La(this.f.a,n,!1),Ji(this.c,n,t,r),ro(this),this.yb=new ii(n),Qa(this))}else if(this.a&&this.a.audioTracks){for(r=(t=c(t=Array.from(this.a.audioTracks))).next();!r.done;r=t.next())Wn(r=r.value)==e.id&&(r.enabled=!0);ro(this)}},n.le=function(){return go(this.Qc())},n.De=function(){return go(this.kc())},n.ke=function(){return Array.from(ho(this.Qc()))},n.Ce=function(){return Array.from(ho(this.kc()))},n.jd=function(e,t){if(this.o&&this.v)this.yb=new ai(e,t||"",0,""),Ja(this);else if(this.a&&this.a.audioTracks){for(var r=Array.from(this.a.audioTracks),n=Dn(e),i=null,a=null,o=(r=c(r)).next();!o.done;o=r.next()){var s=Kn(o=o.value);Dn(s.language)==n&&(i=o,t?s.roles.includes(t)&&(a=o):0==s.roles.length&&(a=o))}a?(a.enabled=!0,ro(this)):i&&(i.enabled=!0,ro(this))}},n.kd=function(e,t){if(this.o&&this.v){this.da=e,this.Yb=t||"";var r=qn(this.o.textStreams,this.da,this.Yb)[0]||null;r&&r!=this.c.c&&(Na(this.f.a,r,!1),this.i.streaming.alwaysStreamText||this.Sc())&&(ea(this.c,r),no(this))}else{var n=Dn(e);(r=this.kc().find((function(e){return Dn(e.language)==n&&(!t||e.roles.includes(t))})))&&this.Sd(r)}},n.Xe=function(e){if(this.o&&this.v){for(var t=null,r=c(this.o.variants),n=r.next();!n.done;n=r.next())if((n=n.value).audio.label==e){t=n;break}null!=t&&(this.yb=new ai(t.language,"",0,e),Ja(this))}},n.Sc=function(){var e=this.T;return this.G?this.G.h.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Ga(this).some((function(e){return"showing"==e.mode})):e},n.cf=function(e){if(e=!!e,this.T!=e){if(this.T=e,this.g==Ho)this.G.h.setTextVisibility(e),this.i.streaming.alwaysStreamText||(e?this.c.c||0<(e=qn(this.o.textStreams,this.da,this.Yb)).length&&(ea(this.c,e[0]),no(this)):function(e){var t=e.a.get("text");t&&(ua(t),ca(t).catch((function(){})),e.a.delete("text")),e.c=null}(this.c));else if(this.a&&this.a.src&&this.a.textTracks)for(var t=Ga(this),r=(t=c(t)).next();!r.done;r=t.next())"disabled"!=(r=r.value).mode&&(r.mode=e?"showing":"hidden");io(this)}},n.xe=function(){if(!this.S())return null;var e=this.X.f,t=0;if(this.v)t=this.v.g();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.o?new Date(1e3*(this.o.presentationTimeline.f+t)):this.a&&this.a.getStartDate?(e=this.a.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},n.Dd=function(){if(!this.S())return null;if(this.o)return new Date(1e3*this.o.presentationTimeline.f);if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:e}return null},n.hc=function(){if(this.g==Ho)return this.G.hc();var e={total:[],audio:[],video:[],text:[]};return this.g==Go&&(e.total=Wr(this.a.buffered)),e},n.getStats=function(){if(this.g!=Ho&&this.g!=Go)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Ya(this);var e=this.a;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.f,r=Number(e.totalVideoFrames);t.J=Number(e.droppedVideoFrames),t.I=r,this.f.G=Number(e.corruptedVideoFrames)}this.h?e=(e=this.h).G?e.G:NaN:e=NaN,this.f.D=e,this.g==Ho&&((e=this.c.b)&&(this.f.h=(this.A?this.A.b:1)*e.bandwidth),e&&e.video&&(t=this.f,r=e.video.height||NaN,t.M=e.video.width||NaN,t.j=r),this.S()&&(e=this.Dd().valueOf()+1e3*this.hd().end,this.f.m=(Date.now()-e)/1e3),this.o&&this.o.presentationTimeline&&(this.f.A=this.o.presentationTimeline.a),e=this.j.getBandwidthEstimate(),this.f.g=e);var n=this.f;e=n.M,t=n.j,r=n.h;for(var i=n.I,a=n.J,o=n.G,s=n.g,l=n.f,u=n.v,d=n.c,f=Da(n.b,"playing"),p=Da(n.b,"paused"),h=Da(n.b,"buffering"),g=n.D,m=n.m,v=n.A,y=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var r=[],n=c(e.b),i=n.next();!i.done;i=n.next())r.push(t(i.value));return e.a&&r.push(t(e.a)),r}(n.b),b=[],k=(n=c(n.a.a)).next();!k.done;k=n.next())k=k.value,b.push({timestamp:k.timestamp,id:k.id,type:k.type,fromAdaptation:k.fromAdaptation,bandwidth:k.bandwidth});return{width:e,height:t,streamBandwidth:r,decodedFrames:i,droppedFrames:a,corruptedFrames:o,estimatedBandwidth:s,loadLatency:l,manifestTimeSeconds:u,drmTimeSeconds:d,playTime:f,pauseTime:p,bufferingTime:h,licenseTime:g,liveLatency:m,maxSegmentDuration:v,stateHistory:y,switchHistory:b}},n.addTextTrack=function(e,t,r,n,i,a){if(this.g==Go)throw Error("State error!");if(this.g!=Ho)throw Error("State error!");var o=this.o.presentationTimeline.getDuration();if(1/0==o)throw new ue(1,4,4033);return e={id:this.ud++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ui(0,o,[e]),mimeType:n,codecs:i||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},this.o.textStreams.push(e),to(this),$n(e)},n.md=function(e,t){this.wc.width=e,this.wc.height=t},n.gd=function(){if(this.g==Ho){var e=this.c;if(e.F.a)e=!1;else if(e.g)e=!1;else{for(var t=c(e.a.values()),r=t.next();!r.done;r=t.next())(r=r.value).Ib&&(r.Ib=!1,la(e,r,.1));e=!0}}else e=!1;return e},n.qe=function(){return Z("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.o},n.re=function(){return this.$b},n.Vd=function(e){this.bc=e},n.gb=function(e){if(function(e,t,r){r.variants=r.variants.filter((function(r){if(e&&e.M&&!mr(e,r))return!1;var n=r.audio;return r=r.video,!(n&&!gn(n)||r&&!gn(r)||n&&t&&t.audio&&!zn(n,t.audio)||r&&t&&t.video&&!zn(r,t.video))})),r.textStreams=r.textStreams.filter((function(e){return dn(Vt(e.mimeType,e.codecs))}))}(this.h,this.c?this.c.b:null,e),!e.variants.some(Gn))throw new ue(2,4,4032);for(var t=this.i.restrictions,r=this.wc,n=!1,i=c(e.variants),a=i.next();!a.done;a=i.next()){var o=(a=a.value).allowedByApplication;a.allowedByApplication=Fn(a,t,r),o!=a.allowedByApplication&&(n=!0)}if(n&&this.c&&to(this),t=this.h?this.h.c:null)for(n=(r=c(e.variants)).next();!n.done;n=r.next())for(i=(n=c(((n=n.value).video?n.video.drmInfos:[]).concat(n.audio?n.audio.drmInfos:[]))).next();!i.done;i=n.next())if((i=i.value).keySystem==t.keySystem)for(a=(i=c(i.initData||[])).next();!a.done;a=i.next())a=a.value,ar(this.h,a.initDataType,a.initData);fo(this,e)},z("shaka.Player",Ba),Ba.prototype.setVideoContainer=Ba.prototype.Vd,Ba.prototype.getManifestParserFactory=Ba.prototype.re,Ba.prototype.getManifest=Ba.prototype.qe,Ba.prototype.retryStreaming=Ba.prototype.gd,Ba.prototype.setMaxHardwareResolution=Ba.prototype.md,Ba.prototype.addTextTrack=Ba.prototype.addTextTrack,Ba.prototype.getStats=Ba.prototype.getStats,Ba.prototype.getBufferedInfo=Ba.prototype.hc,Ba.prototype.getPresentationStartTimeAsDate=Ba.prototype.Dd,Ba.prototype.getPlayheadTimeAsDate=Ba.prototype.xe,Ba.prototype.setTextTrackVisibility=Ba.prototype.cf,Ba.prototype.isTextTrackVisible=Ba.prototype.Sc,Ba.prototype.selectVariantsByLabel=Ba.prototype.Xe,Ba.prototype.selectTextLanguage=Ba.prototype.kd,Ba.prototype.selectAudioLanguage=Ba.prototype.jd,Ba.prototype.getTextLanguages=Ba.prototype.Ce,Ba.prototype.getAudioLanguages=Ba.prototype.ke,Ba.prototype.getTextLanguagesAndRoles=Ba.prototype.De,Ba.prototype.getAudioLanguagesAndRoles=Ba.prototype.le,Ba.prototype.selectVariantTrack=Ba.prototype.We,Ba.prototype.selectTextTrack=Ba.prototype.Sd,Ba.prototype.getTextTracks=Ba.prototype.kc,Ba.prototype.getVariantTracks=Ba.prototype.Qc,Ba.prototype.cancelTrickPlay=Ba.prototype.ee,Ba.prototype.trickPlay=Ba.prototype.ff,Ba.prototype.getPlaybackRate=Ba.prototype.ve,Ba.prototype.isBuffering=Ba.prototype.Rc,Ba.prototype.getExpiration=Ba.prototype.Eb,Ba.prototype.drmInfo=Ba.prototype.drmInfo,Ba.prototype.keySystem=Ba.prototype.keySystem,Ba.prototype.seekRange=Ba.prototype.hd,Ba.prototype.isAudioOnly=Ba.prototype.Ge,Ba.prototype.isInProgress=Ba.prototype.Ua,Ba.prototype.isLive=Ba.prototype.S,Ba.prototype.getAdManager=Ba.prototype.Cd,Ba.prototype.getAssetUri=Ba.prototype.Pc,Ba.prototype.getNetworkingEngine=Ba.prototype.Fb,Ba.prototype.getMediaElement=Ba.prototype.te,Ba.prototype.getLoadMode=Ba.prototype.pe,Ba.prototype.resetConfiguration=Ba.prototype.Ve,Ba.prototype.getConfiguration=Ba.prototype.getConfiguration,Ba.prototype.configure=Ba.prototype.configure,Ba.prototype.load=Ba.prototype.load,Ba.prototype.unload=Ba.prototype.sd,Ba.prototype.detach=Ba.prototype.detach,Ba.prototype.attach=Ba.prototype.zb,Ba.probeSupport=function(){var e,t,r,n,i;return D((function(a){if(1==a.a)return _(a,function(){var e,t,r,n,i,a;return D((function(o){return 1==o.a?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),r=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:t}],n=new Map,i=function(e){var t,i,a;return D((function(o){switch(o.a){case 1:return w(o,2),_(o,navigator.requestMediaKeySystemAccess(e,r),4);case 4:return t=o.b,a=!!(i=t.getConfiguration().sessionTypes)&&i.includes("persistent-license"),Xt("Tizen 3")&&(a=!1),n.set(e,{persistentState:a}),_(o,t.createMediaKeys(),5);case 5:T(o,0);break;case 2:x(o),n.set(e,null),E(o)}}))},a=e.map((function(e){return i(e)})),_(o,Promise.all(a),2)):o.return(Ft(n))}))}(),2);e=a.b;var o={};if(Kt()){for(var s in pi)o[s]=!0;for(var l in hi)o[l]=!0}s={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var u=(l=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!u.done;u=l.next())o[u=u.value]=Kt()?!!pi[u]:Ht(u);for(var d in s)o[d]=Kt()?!!hi[d]:Ht(s[d]);for(t=o,o={},s=(d=c('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(","))).next();!s.done;s=d.next())o[s=s.value]=Kt()?!!dn(s)||(MediaSource.isTypeSupported(s)||et(s)):Ht(s),o[l=s.split(";")[0]]=o[l]||o[s];for(i in r={manifest:t,media:o,drm:e},n=Xo)r[i]=n[i]();return a.return(r)}))},Ba.isBrowserSupported=function(){if(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach))return!1;var t=qt();return!(t&&12>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Kt()||Ht("application/x-mpegurl"))},Ba.setAdManagerFactory=function(e){Yo=e},Ba.registerSupportPlugin=function(e,t){Xo[e]=t},Ba.prototype.destroy=Ba.prototype.destroy;var ko="abrstatuschanged",_o="adaptation",Eo="buffering",wo="drmsessionupdate",So="emsg",To="error",xo="expirationupdated",Oo="loaded",Po="loading",Ao="manifestparsed",Co="metadata",Mo="onstatechange",Io="onstateidle",Ro="ratechange",Do="streaming",jo="textchanged",Lo="texttrackvisibility",No="timelineregionadded",Uo="timelineregionenter",Bo="timelineregionexit",Fo="trackschanged",zo="unloading",Vo="variantchanged",$o={nf:ko,pf:_o,qf:Eo,rf:wo,tf:So,Error:To,uf:xo,wf:"largegap",xf:Oo,yf:Po,zf:Ao,Metadata:Co,Af:Mo,Bf:Io,Cf:Ro,Df:Do,Ef:jo,Ff:Lo,Gf:No,Hf:Uo,If:Bo,Jf:Fo,Kf:zo,Lf:Vo},Wo=0,Ko=1,Ho=2,Go=3;Ba.LoadMode={DESTROYED:Wo,NOT_LOADED:Ko,MEDIA_SOURCE:Ho,SRC_EQUALS:Go},Ba.version="v3.0.8";var Zo=["3","0"];Pe=new function(e){this.a=e,this.c=xe,this.b=Oe}(new Se(Number(Zo[0]),Number(Zo[1])));var qo=["output-restricted","internal-error"],Xo={},Yo=null;function Qo(){this.a=[],this.f=this.b=this.c=0}function Jo(e,t){var r=this;this.c=e,this.a=t,this.f=!1,this.g=this.a.getVolume(),this.b=new Rt,this.b.l(this.a,google.ima.AdEvent.Type.PAUSED,(function(){r.f=!0})),this.b.l(this.a,google.ima.AdEvent.Type.RESUMED,(function(){r.f=!1}))}function es(e,t,r,n){var i=this;this.h=e,this.a=t,this.m=NaN,this.f=n,this.j=null,this.b=new Rt,google.ima.settings.setLocale(r),(e=new google.ima.AdDisplayContainer(this.h,this.a)).initialize(),this.g=new google.ima.AdsLoader(e),this.g.getSettings().setPlayerType("shaka-player"),this.g.getSettings().setPlayerVersion("v3.0.8"),this.c=null,this.b.ia(this.g,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){!function(t,r){t.f(new ft("ads-loaded",{loadTime:Date.now()/1e3-t.m})),t.c=r.getAdsManager(t.a),t.f(new ft("ima-ad-manager-loaded",{imaAdsManager:t.c}));var n=t.c.getCuePoints();if(n.length){for(var i=[],a=(n=c(n)).next();!a.done;a=n.next())i.push(new ss(a.value));t.f(new ft("ad-cue-points-changed",{cuepoints:i}))}!function(e){e.b.l(e.c,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){ts(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){rs(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.STARTED,(function(t){rs(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e.f(new ft("ad-first-quartile",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.MIDPOINT,(function(t){e.f(new ft("ad-midpoint",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e.f(new ft("ad-third-quartile",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.COMPLETE,(function(t){e.f(new ft("ad-complete",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){ns(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){ns(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.SKIPPED,(function(t){e.f(new ft("ad-skipped",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e.f(new ft("ad-volume-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e.f(new ft("ad-muted",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.PAUSED,(function(t){e.j.f=!0,e.f(new ft("ad-paused",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.RESUMED,(function(t){e.j.f=!1,e.f(new ft("ad-resumed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){e.f(new ft("ad-skip-state-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.CLICK,(function(){e.f(new ft("ad-clicked"))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e.f(new ft("ad-progress",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.f(new ft("ad-buffering",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.IMPRESSION,(function(t){e.f(new ft("ad-impression",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e.f(new ft("ad-duration-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e.f(new ft("ad-closed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LOADED,(function(t){e.f(new ft("ad-loaded",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.f(new ft("all-ads-completed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e.f(new ft("ad-linear-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_METADATA,(function(t){e.f(new ft("ad-metadata",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LOG,(function(t){e.f(new ft("ad-recoverable-error",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e.f(new ft("ad-break-ready",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.INTERACTION,(function(t){e.f(new ft("ad-interaction",{originalEvent:t}))}))}(t);try{t.c.init(t.a.offsetWidth,t.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),t.b.l(t.a,"loadeddata",(function(){t.c.resize(t.a.offsetWidth,t.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.c.start()}catch(e){ns(t,null)}}(i,e)})),this.b.l(this.g,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){ts(i,e)})),this.a.onended=function(){i.g.contentComplete()}}function ts(e,t){t.getError(),ns(e,null),e.f(new ft("ad-cue-points-changed",{cuepoints:[]}))}function rs(e,t){var r=t.getAd();e.j=new Jo(r,e.c),e.f(new ft("ad-started",{ad:e.j,sdkAdObject:r,originalEvent:t})),e.h.setAttribute("ad-active","true"),e.a.pause()}function ns(e,t){e.f(new ft("ad-stopped",{originalEvent:t})),e.h.removeAttribute("ad-active"),e.a.play()}function is(e,t){this.c=e,this.b=null,this.a=t}function as(e,t,r,n){var i=this;this.v=e,this.a=t,this.g=null,this.G=NaN,this.f=n,this.D=!1,this.A=this.h=this.j=null,this.m="",this.b=new Rt,(e=new google.ima.dai.api.UiSettings).setLocale(r),this.c=new google.ima.dai.api.StreamManager(this.a,this.v,e),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.f(new ft("ads-loaded",{loadTime:Date.now()/1e3-e.G}));var r=t.getStreamData().url;e.g.resolve(r),e.g=null,e.D||e.b.l(e.a,"seeked",(function(){var t=e.a.currentTime;if(0!=t){e.c.streamTimeForContentTime(t);var r=e.c.previousCuePointForStreamTime(t);r&&!r.played&&(e.j=t,e.a.currentTime=r.start)}}))}(i,e)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.m.length?i.g.resolve(i.m):i.g.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.g=null})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),i.h=new is(e,i.a),i.A&&(i.h.b=i.A),i.f(new ft("ad-started",{ad:i.h})),i.v.setAttribute("ad-active","true")})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.v.removeAttribute("ad-active");var e=i.a.currentTime;i.j&&i.j>e&&(i.a.currentTime=i.j,i.j=null)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.A=e.getStreamData().adProgressData,i.h&&(i.h.b=i.A)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.f(new ft("ad-first-quartile"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.f(new ft("ad-midpoint"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.f(new ft("ad-third-quartile"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.f(new ft("ad-complete")),i.f(new ft("ad-stopped")),i.v.removeAttribute("ad-active"),i.h=null})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.f(new ft("ad-skipped")),i.f(new ft("ad-stopped"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var r=(t=c(t.cuepoints)).next();!r.done;r=t.next())r=r.value,e.push(new ss(r.start,r.end));i.f(new ft("ad-cue-points-changed",{cuepoints:e}))}))}function os(){ht.call(this),this.a=this.b=null,this.f=new Qo,this.c=navigator.language}function ss(e,t){this.start=e,this.end=void 0===t?null:t}function ls(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof ft){var r={};for(i in t){var n=t[i];n&&"object"==typeof n?"detail"==i&&(r[i]=n):i in Event||(r[i]=n)}return r}if(t instanceof Error){var i=new Set(["name","message","stack"]);for(r in t)i.add(r);for(r=(n=c(Object.getOwnPropertyNames(t))).next();!r.done;r=n.next())i.add(r.value);for(n={},r=(i=c(i)).next();!r.done;r=i.next())n[r=r.value]=t[r];i={__type__:"Error",contents:n}}else if(t instanceof TimeRanges)for(i={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=(r=c(Wr(t))).next();!n.done;n=r.next()){var a=(n=n.value).end;i.start.push(n.start),i.end.push(a)}else i=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return i}}))}function us(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var r=NaN;else if("-Infinity"==t)r=-1/0;else if("Infinity"==t)r=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)r=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)r=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){r=t.contents;var n,i=Error(r.message);for(n in r)i[n]=r[n];r=i}else r=t;return r}))}(n=Jo.prototype).getDuration=function(){return this.c.getDuration()},n.getMinSuggestedDuration=function(){return this.c.getMinSuggestedDuration()},n.getRemainingTime=function(){return this.a.getRemainingTime()},n.isPaused=function(){return this.f},n.isSkippable=function(){return 0<=this.c.getSkipTimeOffset()},n.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},n.canSkipNow=function(){return this.a.getAdSkippableState()},n.skip=function(){return this.a.skip()},n.pause=function(){return this.a.pause()},n.play=function(){return this.a.resume()},n.getVolume=function(){return this.a.getVolume()},n.setVolume=function(e){return this.a.setVolume(e)},n.isMuted=function(){return 0==this.a.getVolume()},n.resize=function(e,t){this.a.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},n.setMuted=function(e){e?(this.g=this.getVolume(),this.setVolume(0)):this.setVolume(this.g)},n.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},n.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},n.release=function(){this.a=this.c=null},z("shaka.ads.ClientSideAd",Jo),Jo.prototype.release=Jo.prototype.release,Jo.prototype.getPositionInSequence=Jo.prototype.getPositionInSequence,Jo.prototype.getSequenceLength=Jo.prototype.getSequenceLength,Jo.prototype.setMuted=Jo.prototype.setMuted,Jo.prototype.resize=Jo.prototype.resize,Jo.prototype.isMuted=Jo.prototype.isMuted,Jo.prototype.setVolume=Jo.prototype.setVolume,Jo.prototype.getVolume=Jo.prototype.getVolume,Jo.prototype.play=Jo.prototype.play,Jo.prototype.pause=Jo.prototype.pause,Jo.prototype.skip=Jo.prototype.skip,Jo.prototype.canSkipNow=Jo.prototype.canSkipNow,Jo.prototype.getTimeUntilSkippable=Jo.prototype.getTimeUntilSkippable,Jo.prototype.isSkippable=Jo.prototype.isSkippable,Jo.prototype.isPaused=Jo.prototype.isPaused,Jo.prototype.getRemainingTime=Jo.prototype.getRemainingTime,Jo.prototype.getMinSuggestedDuration=Jo.prototype.getMinSuggestedDuration,Jo.prototype.getDuration=Jo.prototype.getDuration,es.prototype.stop=function(){this.c&&this.c.stop(),this.h&&ba(this.h)},(n=is.prototype).getDuration=function(){return this.b?this.b.duration:-1},n.getMinSuggestedDuration=function(){return this.getDuration()},n.getRemainingTime=function(){return this.b?this.b.duration-this.b.currentTime:-1},n.isPaused=function(){return this.a.paused},n.isSkippable=function(){return this.c.isSkippable()},n.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},n.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},n.skip=function(){this.a.currentTime+=this.getRemainingTime()},n.pause=function(){return this.a.pause()},n.play=function(){return this.a.play()},n.getVolume=function(){return this.a.volume},n.setVolume=function(e){this.a.volume=e},n.isMuted=function(){return this.a.muted},n.resize=function(){},n.setMuted=function(e){this.a.muted=e},n.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},n.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},n.release=function(){this.a=this.b=this.c=null},z("shaka.ads.ServerSideAd",is),is.prototype.release=is.prototype.release,is.prototype.getPositionInSequence=is.prototype.getPositionInSequence,is.prototype.getSequenceLength=is.prototype.getSequenceLength,is.prototype.setMuted=is.prototype.setMuted,is.prototype.resize=is.prototype.resize,is.prototype.isMuted=is.prototype.isMuted,is.prototype.setVolume=is.prototype.setVolume,is.prototype.getVolume=is.prototype.getVolume,is.prototype.play=is.prototype.play,is.prototype.pause=is.prototype.pause,is.prototype.skip=is.prototype.skip,is.prototype.canSkipNow=is.prototype.canSkipNow,is.prototype.getTimeUntilSkippable=is.prototype.getTimeUntilSkippable,is.prototype.isSkippable=is.prototype.isSkippable,is.prototype.isPaused=is.prototype.isPaused,is.prototype.getRemainingTime=is.prototype.getRemainingTime,is.prototype.getMinSuggestedDuration=is.prototype.getMinSuggestedDuration,is.prototype.getDuration=is.prototype.getDuration,as.prototype.stop=function(){this.c.reset(),this.m="",this.j=null},as.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.c.onTimedMetadata(t)}},v(os,ht),(n=os.prototype).setLocale=function(e){this.c=e},n.initClientSide=function(t,r){var n=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new ue(2,10,1e4);this.b=new es(t,r,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":n.f.a.push(e.loadTime);break;case"ad-started":n.f.c++;break;case"ad-complete":n.f.b++;break;case"ad-skipped":n.f.f++}n.dispatchEvent(e)}))},n.onAssetUnload=function(){this.b&&this.b.stop(),this.dispatchEvent(new ft("ad-stopped")),this.f=new Qo},n.requestClientSideAds=function(e){if(!this.b)throw new ue(1,10,10001);var t=this.b;t.m=Date.now()/1e3,t.g.requestAds(e)},n.initServerSide=function(t,r){var n=this;if(!e.google||!google.ima||!google.ima.dai)throw new ue(2,10,10002);this.a=new as(t,r,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":n.f.a.push(e.loadTime);break;case"ad-started":n.f.c++;break;case"ad-complete":n.f.b++;break;case"ad-skipped":n.f.f++}n.dispatchEvent(e)}))},n.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.a)throw new ue(1,10,10003);e.adTagParameters||(e.adTagParameters={});var r=e.adTagParameters;(r.mpt||r.mpv)&&Z('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="Shaka Player",e.adTagParameters.mpv="v3.0.8";var n=t;return(r=this.a).g?r=Promise.reject(new ue(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(r.D=!0),r.g=new Le,r.c.requestStream(e),r.m=n||"",r.G=Date.now()/1e3,r=r.g),r},n.replaceServerSideAdTagParameters=function(e){if(!this.a)throw new ue(1,10,10003);(e.mpt||e.mpv)&&Z('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v3.0.8",this.a.c.replaceAdTagParameters(e)},n.getStats=function(){var e=this.f;return{loadTimes:e.a,started:e.c,playedCompletely:e.b,skipped:e.f}},n.onDashTimedMetadata=function(e){if(this.a&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,r=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.a.c.processMetadata(t,r,e.startTime)}},n.onHlsTimedMetadata=function(e,t){this.a&&this.a.c.processMetadata("ID3",e.data,t)},n.onCueMetadataChange=function(e){this.a&&this.a.onCueMetadataChange(e)},z("shaka.ads.AdManager",os),os.prototype.onCueMetadataChange=os.prototype.onCueMetadataChange,os.prototype.onHlsTimedMetadata=os.prototype.onHlsTimedMetadata,os.prototype.onDashTimedMetadata=os.prototype.onDashTimedMetadata,os.prototype.getStats=os.prototype.getStats,os.prototype.replaceServerSideAdTagParameters=os.prototype.replaceServerSideAdTagParameters,os.prototype.requestServerSideStream=os.prototype.requestServerSideStream,os.prototype.initServerSide=os.prototype.initServerSide,os.prototype.requestClientSideAds=os.prototype.requestClientSideAds,os.prototype.onAssetUnload=os.prototype.onAssetUnload,os.prototype.initClientSide=os.prototype.initClientSide,os.prototype.setLocale=os.prototype.setLocale,os.ADS_LOADED="ads-loaded",os.AD_STARTED="ad-started",os.AD_FIRST_QUARTILE="ad-first-quartile",os.AD_MIDPOINT="ad-midpoint",os.AD_THIRD_QUARTILE="ad-third-quartile",os.AD_COMPLETE="ad-complete",os.AD_STOPPED="ad-stopped",os.AD_SKIPPED="ad-skipped",os.AD_VOLUME_CHANGED="ad-volume-changed",os.AD_MUTED="ad-muted",os.AD_PAUSED="ad-paused",os.AD_RESUMED="ad-resumed",os.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",os.CUEPOINTS_CHANGED="ad-cue-points-changed",os.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",os.AD_CLICKED="ad-clicked",os.AD_PROGRESS="ad-progress",os.AD_BUFFERING="ad-buffering",os.AD_IMPRESSION="ad-impression",os.AD_DURATION_CHANGED="ad-duration-changed",os.AD_CLOSED="ad-closed",os.AD_LOADED="ad-loaded",os.ALL_ADS_COMPLETED="all-ads-completed",os.AD_LINEAR_CHANGED="ad-linear-changed",os.AD_METADATA="ad-metadata",os.AD_RECOVERABLE_ERROR="ad-recoverable-error",os.AD_BREAK_READY="ad-break-ready",os.AD_INTERACTION="ad-interaction",Yo=function(){return new os};var cs="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),ds="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),fs=["loop","playbackRate"],ps=["pause","play"],hs={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},gs={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},ms=[["getConfiguration","configure"]],vs=[["isTextTrackVisible","setTextTrackVisibility"]],ys="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),bs=["attach","detach","load","unload"];function ks(e,t,r,n,i,a){var o=this;this.T=e,this.f=new nt(t),this.X=r,this.m=!1,this.D=n,this.M=i,this.I=a,this.b=this.h=!1,this.J="",this.j=null,this.v=function(){return Ts(o)},this.A=function(e,t){var r=us(t);switch(r.type){case"event":var n=r.targetName;r=new ft((r=r.event).type,r),o.D(n,r);break;case"update":for(var i in n=r.update)for(var a in r=o.a[i]||{},n[i])r[a]=n[i][a];o.m&&(o.X(),o.m=!1);break;case"asyncComplete":if(i=r.id,r=r.error,a=o.c[i],delete o.c[i],a)if(r){for(n in i=new ue(r.severity,r.category,r.code),r)i[n]=r[n];a.reject(i)}else a.resolve()}},this.a={video:{},player:{}},this.G=0,this.c={},this.g=null,Ms.add(this)}function _s(e,t,r){Cs=r,r.addUpdateListener(e.v),r.addMessageListener("urn:x-cast:com.google.shaka.v2",e.A),Ts(e),Os(e,{type:"init",initState:t,appData:e.j}),e.g.resolve()}function Es(e,t){var r=8003;switch(t.code){case"cancel":r=8004;break;case"timeout":r=8005;break;case"receiver_unavailable":r=8006}e.g.reject(new ue(2,8,r,t))}function ws(e,t){var r=e.I();e.g=new Le,e.m=!0,_s(e,r,t)}function Ss(e){var t=Cs;t.removeUpdateListener(e.v),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.A)}function Ts(e){var t=!!Cs&&"connected"==Cs.status;if(e.b&&!t){for(var r in e.M(),e.a)e.a[r]={};xs(e)}e.b=t,e.J=t?Cs.receiver.friendlyName:"",e.f.Qb()}function xs(e){for(var t in e.c){var r=e.c[t];delete e.c[t],r.reject(new ue(1,7,7e3))}}function Os(e,t){var r=ls(t),n=Cs;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",r,(function(){}),q)}catch(i){throw n=new ft("error",{detail:r=new ue(2,8,8005,i)}),e.D("player",n),e.hb(),r}}(n=ks.prototype).destroy=function(){return Ms.delete(this),xs(this),Cs&&Ss(this),this.f&&(this.f.stop(),this.f=null),this.M=this.D=null,this.b=this.h=!1,this.A=this.v=this.g=this.c=this.a=this.j=null,Promise.resolve()},n.ga=function(){return this.b},n.ed=function(){return this.J},n.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.T.length){this.h=!0,this.f.Qb();var t=new chrome.cast.SessionRequest(this.T);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=c(Ms),r=t.next();!r.done;r=t.next())ws(r.value,e)}),(function(e){for(var t=c(Ms),r=t.next();!r.done;r=t.next())r=r.value,As="available"==e,r.f.Qb()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),As&&this.f.R(Ps),(t=Cs)&&t.status!=chrome.cast.SessionStatus.STOPPED?ws(this,t):Cs=null}},n.ld=function(e){this.j=e,this.b&&Os(this,{type:"appData",appData:this.j})},n.cast=function(e){var t=this;return D((function(r){if(!t.h)throw new ue(1,8,8e3);if(!As)throw new ue(1,8,8001);if(t.b)throw new ue(1,8,8002);return t.g=new Le,chrome.cast.requestSession((function(r){return _s(t,e,r)}),(function(e){return Es(t,e)})),_(r,t.g,0)}))},n.hb=function(){if(this.b){if(xs(this),Cs){Ss(this);try{Cs.stop((function(){}),(function(){}))}catch(cp){}Cs=null}Ts(this)}},n.get=function(e,t){var r=this;if("video"==e){if(ps.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return r.Pd.apply(r,[e,t].concat(d(i)))}}else if("player"==e){if(gs[t]&&!this.get("player","isLive")())return function(){};if(ys.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return r.Pd.apply(r,[e,t].concat(d(i)))};if(bs.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return r.Se.apply(r,[e,t].concat(d(i)))};if(hs[t])return function(){return r.a[e][t]}}return this.a[e][t]},n.set=function(e,t,r){this.a[e][t]=r,Os(this,{type:"set",targetName:e,property:t,value:r})},n.Pd=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];Os(this,{type:"call",targetName:e,methodName:t,args:n})},n.Se=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];i=new Le;var a=this.G.toString();this.G++,this.c[a]=i;try{Os(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:a})}catch(o){i.reject(o)}return i};var Ps=.02,As=!1,Cs=null,Ms=new Set;function Is(e,t,r){ht.call(this);var n=this;this.f=e,this.c=t,this.b=this.j=this.g=this.m=this.h=null,this.A=r,this.v=new Map,this.a=new ks(r,(function(){return js(n)}),(function(){return Ls(n)}),(function(e,t){return Bs(n,e,t)}),(function(){return Ns(n)}),(function(){return Ds(n)})),function(e){e.a.init(),e.b=new Rt;for(var t=c(cs),r=t.next();!r.done;r=t.next())e.b.l(e.f,r.value,(function(t){e.a.ga()||(t=new ft(t.type,t),e.g.dispatchEvent(t))}));for(var n in $o)e.b.l(e.c,$o[n],(function(t){e.a.ga()||e.j.dispatchEvent(t)}));for(var i in e.h={},t={},e.f)t.tb=i,Object.defineProperty(e.h,t.tb,{configurable:!1,enumerable:!0,get:function(t){return function(){return Us(e,t.tb)}}(t),set:function(t){return function(r){var n=t.tb;e.a.ga()?e.a.set("video",n,r):e.f[n]=r}}(t)}),t={tb:t.tb};e.m={},Rs(e,(function(t){Object.defineProperty(e.m,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.v.has(t)&&(t=e.v.get(t)),"addEventListener"==t)return function(t,r,n){return e.j.addEventListener(t,r,n)};if("removeEventListener"==t)return function(t,r,n){return e.j.removeEventListener(t,r,n)};if("getMediaElement"==t)return function(){return e.h};if("getSharedConfiguration"==t)return e.a.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.c.Fb()};if("getAdManager"==t)return function(){return e.c.Cd()};if("setVideoContainer"==t)return function(t){return e.c.Vd(t)};if(e.a.ga()){if("getManifest"==t||"drmInfo"==t)return function(){return Z(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return Z(t+"() does not work while casting!"),Promise.resolve()}}return e.a.ga()&&0==Object.keys(e.a.a.video).length&&hs[t]||!e.a.ga()?e.c[t].bind(e.c):e.a.get("player",t)}(e,t)}})})),function(e){var t=new Map;Rs(e,(function(r,n){if(t.has(n)){var i=t.get(n);r.length<i.length?e.v.set(r,i):e.v.set(i,r)}else t.set(n,r)}))}(e),e.g=new ht,e.g.Zb=e.h,e.j=new ht,e.j.Zb=e.m}(this)}function Rs(e,t){function r(e){return"constructor"!=e&&"function"==typeof n[e]&&!i.has(e)}var n=e.c,i=new Set;for(a in n)r(a)&&(i.add(a),t(a,n[a]));for(var a=Object.getPrototypeOf(n),o=Object.getPrototypeOf({});a&&a!=o;){for(var s=c(Object.getOwnPropertyNames(a)),l=s.next();!l.done;l=s.next())r(l=l.value)&&(i.add(l),t(l,n[l]));a=Object.getPrototypeOf(a)}}function Ds(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.c.Pc(),startTime:null};e.f.pause();for(var r=c(fs),n=r.next();!n.done;n=r.next())n=n.value,t.video[n]=e.f[n];for(e.f.ended||(t.startTime=e.f.currentTime),n=(r=c(ms)).next();!n.done;n=r.next()){var i=n.value;n=i[1],i=e.c[i[0]](),t.player[n]=i}for(n=(r=c(vs)).next();!n.done;n=r.next())n=(i=n.value)[1],i=e.c[i[0]](),t.playerAfterLoad[n]=i;return t}function js(e){var t=new ft("caststatuschanged");e.dispatchEvent(t)}function Ls(e){var t=new ft(e.h.paused?"pause":"play");e.g.dispatchEvent(t)}function Ns(e){for(var t=c(ms),r=t.next();!r.done;r=t.next()){var n=r.value;r=n[1],n=e.a.get("player",n[0])(),e.c[r](n)}var i=e.a.get("player","getAssetUri")();r=e.a.get("video","ended"),t=Promise.resolve();var a=e.f.autoplay;n=null,r||(n=e.a.get("video","currentTime")),i&&(e.f.autoplay=!1,t=e.c.load(i,n));var o={};for(n=(r=c(fs)).next();!n.done;n=r.next())n=n.value,o[n]=e.a.get("video",n);t.then((function(){if(e.f){for(var t=c(fs),r=t.next();!r.done;r=t.next())r=r.value,e.f[r]=o[r];for(r=(t=c(vs)).next();!r.done;r=t.next()){var n=r.value;r=n[1],n=e.a.get("player",n[0])(),e.c[r](n)}e.f.autoplay=a,i&&e.f.play()}}),(function(t){t=new ft(To,{detail:t}),e.c.dispatchEvent(t)}))}function Us(e,t){if("addEventListener"==t)return function(t,r,n){return e.g.addEventListener(t,r,n)};if("removeEventListener"==t)return function(t,r,n){return e.g.removeEventListener(t,r,n)};if(e.a.ga()&&0==Object.keys(e.a.a.video).length){var r=e.f[t];if("function"!=typeof r)return r}return e.a.ga()?e.a.get("video",t):("function"==typeof(r=e.f[t])&&(r=r.bind(e.f)),r)}function Bs(e,t,r){e.a.ga()&&("video"==t?e.g.dispatchEvent(r):"player"==t&&e.j.dispatchEvent(r))}function Fs(e,t,r,n){ht.call(this);var i=this;this.a=e,this.c=t,this.b=new Rt,this.J={video:e,player:t},this.D=r||function(){},this.M=n||function(e){return e},this.f=null,this.G=!1,this.j=!0,this.h=0,this.A=!1,this.v=!0,this.m=this.g=null,this.I=new nt((function(){Ws(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return zs(e)},t.onSenderDisconnected=function(){return zs(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Zs(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.g),Zs(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.g)},e.m=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.m.onMessage=function(t){return function(e,t){var r=us(t.data);switch(r.type){case"PLAY":e.a.play(),qs(e);break;case"PAUSE":e.a.pause(),qs(e);break;case"SEEK":var n=r.currentTime,i=r.resumeState;null!=n&&(e.a.currentTime=Number(n)),i&&"PLAYBACK_START"==i?(e.a.play(),qs(e)):i&&"PLAYBACK_PAUSE"==i&&(e.a.pause(),qs(e));break;case"STOP":e.c.sd().then((function(){e.c&&qs(e)}));break;case"GET_STATUS":Hs(e,Number(r.requestId));break;case"VOLUME":i=r.volume,n=i.level,i=i.muted;var a=e.a.volume,o=e.a.muted;null!=n&&(e.a.volume=Number(n)),null!=i&&(e.a.muted=i),a==e.a.volume&&o==e.a.muted||qs(e);break;case"LOAD":e.h=0,e.A=!1,e.v=!1,n=r.media,i=r.currentTime,a=e.M(n.contentId),o=r.autoplay||!0,e.D(n.customData),o&&(e.a.autoplay=!0),e.c.load(a,i).then((function(){e.c&&Hs(e)})).catch((function(t){var n="LOAD_FAILED";7==t.category&&7e3==t.code&&(n="LOAD_CANCELLED"),Zs(e,{requestId:Number(r.requestId),type:n},e.m)}));break;default:Zs(e,{requestId:Number(r.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.m)}}(e,t)},e.g=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.g.onMessage=function(t){return function(e,t){var r=us(t.data);switch(r.type){case"init":e.h=0,e.A=!1,e.v=!0,function(e,t,r){var n,i,a,o,s,l,u,c,d;D((function(f){switch(f.a){case 1:for(n in t.player)i=t.player[n],e.c[n](i);return e.D(r),a=e.a.autoplay,t.manifest?(e.a.autoplay=!1,w(f,5),_(f,e.c.load(t.manifest,t.startTime),7)):_(f,Promise.resolve(),3);case 7:T(f,3);break;case 5:return o=x(f),s=new ft(To,{detail:o}),e.c.dispatchEvent(s),f.return();case 3:if(!e.c)return f.return();for(l in t.video)u=t.video[l],e.a[l]=u;for(c in t.playerAfterLoad)d=t.playerAfterLoad[c],e.c[c](d);e.a.autoplay=a,t.manifest&&(e.a.play(),qs(e)),E(f)}}))}(e,r.initState,r.appData),Ws(e);break;case"appData":e.D(r.appData);break;case"set":var n=r.targetName,i=r.property;if(r=r.value,"video"==n){var a=cast.receiver.CastReceiverManager.getInstance();if("volume"==i){a.setSystemVolumeLevel(r);break}if("muted"==i){a.setSystemVolumeMuted(r);break}}e.J[n][i]=r;break;case"call":(n=e.J[r.targetName])[r.methodName].apply(n,r.args);break;case"asyncCall":n=r.targetName,i=r.methodName,"player"==n&&"load"==i&&(e.h=0,e.A=!1);var o=r.id,s=t.senderId;a=e.J[n],r=a[i].apply(a,r.args),"player"==n&&"load"==i&&(r=r.then((function(){e.v=!0}))),r.then((function(){return Gs(e,s,o,null)}),(function(t){return Gs(e,s,o,t)}))}}(e,t)},t.start();for(var r=(t=c(cs)).next();!r.done;r=t.next())e.b.l(e.a,r.value,(function(t){return $s(e,"video",t)}));for(var n in $o)e.b.l(e.c,$o[n],(function(t){return $s(e,"player",t)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.c.md(3840,2160):e.c.md(1920,1080),e.b.l(e.a,"loadeddata",(function(){e.A=!0})),e.b.l(e.c,"loading",(function(){e.j=!1,Vs(e)})),e.b.l(e.a,"playing",(function(){e.j=!1,Vs(e)})),e.b.l(e.a,"pause",(function(){Vs(e)})),e.b.l(e.c,"unloading",(function(){e.j=!0,Vs(e)})),e.b.l(e.a,"ended",(function(){new nt((function(){e.a&&e.a.ended&&(e.j=!0,Vs(e))})).R(Ys)}))}(this)}function zs(e){e.h=0,e.v=!0,e.G=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Vs(e)}function Vs(e){var t;D((function(r){return 1==r.a?_(r,Promise.resolve(),2):e.c?(t=new ft("caststatuschanged"),e.dispatchEvent(t),Ks(e)||qs(e),void E(r)):r.return()}))}function $s(e,t,r){e.c&&(Ws(e),Zs(e,{type:"event",targetName:t,event:r},e.g))}function Ws(e){e.I.R(Xs);for(var t={video:{},player:{}},r=c(ds),n=r.next();!n.done;n=r.next())n=n.value,t.video[n]=e.a[n];if(e.c.S())for(var i in gs)0==e.h%gs[i]&&(t.player[i]=e.c[i]());for(var a in hs)0==e.h%hs[a]&&(t.player[a]=e.c[a]());(r=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=r.level,t.video.muted=r.muted),e.A&&(e.h+=1),Zs(e,{type:"update",update:t},e.g),Ks(e)}function Ks(e){return!(!e.v||!e.a.duration&&!e.c.S())&&(Hs(e),e.v=!1,!0)}function Hs(e,t){var r={contentId:e.c.Pc(),streamType:e.c.S()?"LIVE":"BUFFERED",contentType:""};e.c.S()||(r.duration=e.a.duration),e.f&&(r.metadata=e.f),qs(e,void 0===t?0:t,r)}function Gs(e,t,r,n){e.c&&Zs(e,{type:"asyncComplete",id:r,error:n},e.g,t)}function Zs(e,t,r,n){e.G&&(e=ls(t),n?r.getCastChannel(n).send(e):r.broadcast(e))}function qs(e,t,r){r=void 0===r?null:r;var n={mediaSessionId:0,playbackRate:e.a.playbackRate,playerState:e.j?Qs:e.c.Rc()?el:e.a.paused?tl:Js,currentTime:e.a.currentTime,supportedMediaCommands:63,volume:{level:e.a.volume,muted:e.a.muted}};r&&(n.media=r),Zs(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[n]},e.m)}e.__onGCastApiAvailable=function(e){if(e)for(var t=(e=c(Ms)).next();!t.done;t=e.next())t.value.init()},v(Is,ht),(n=Is.prototype).destroy=function(e){return e&&this.a.hb(),this.b&&(this.b.release(),this.b=null),e=[],this.c&&(e.push(this.c.destroy()),this.c=null),this.a&&(e.push(this.a.destroy()),this.a=null),this.m=this.h=this.f=null,Promise.all(e)},n.Ee=function(){return this.h},n.we=function(){return this.m},n.de=function(){return this.a.h&&As},n.ga=function(){return this.a.ga()},n.ed=function(){return this.a.ed()},n.cast=function(){var e,t=this;return D((function(r){return 1==r.a?(e=Ds(t),_(r,t.a.cast(e),2)):t.c?_(r,t.c.sd(),0):r.return()}))},n.ld=function(e){this.a.ld(e)},n.df=function(){!function(e){if(e.b){var t=e.I();chrome.cast.requestSession((function(r){return _s(e,t,r)}),(function(t){return Es(e,t)}))}}(this.a)},n.hb=function(){this.a.hb()},n.fe=function(e){var t=this;return D((function(r){if(1==r.a)return e==t.A?r.return():(t.A=e,t.a.hb(),_(r,t.a.destroy(),2));t.a=null,t.a=new ks(e,(function(){return js(t)}),(function(){return Ls(t)}),(function(e,r){return Bs(t,e,r)}),(function(){return Ns(t)}),(function(){return Ds(t)})),t.a.init(),E(r)}))},z("shaka.cast.CastProxy",Is),Is.prototype.changeReceiverId=Is.prototype.fe,Is.prototype.forceDisconnect=Is.prototype.hb,Is.prototype.suggestDisconnect=Is.prototype.df,Is.prototype.setAppData=Is.prototype.ld,Is.prototype.cast=Is.prototype.cast,Is.prototype.receiverName=Is.prototype.ed,Is.prototype.isCasting=Is.prototype.ga,Is.prototype.canCast=Is.prototype.de,Is.prototype.getPlayer=Is.prototype.we,Is.prototype.getVideo=Is.prototype.Ee,Is.prototype.destroy=Is.prototype.destroy,v(Fs,ht),(n=Fs.prototype).isConnected=function(){return this.G},n.He=function(){return this.j},n.$e=function(e){this.f=e},n.ie=function(){this.f=null},n.af=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.title=e},n.Ze=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.images=[{url:e}]},n.Ye=function(e){this.f||(this.f={}),this.f.artist=e,this.f.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},n.destroy=function(){var e,t=this;return D((function(r){if(1==r.a)return t.b&&(t.b.release(),t.b=null),e=[],t.c&&(e.push(t.c.destroy()),t.c=null),t.I&&(t.I.stop(),t.I=null),t.a=null,t.J=null,t.D=null,t.G=!1,t.j=!0,t.g=null,t.m=null,_(r,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),E(r)}))},z("shaka.cast.CastReceiver",Fs),Fs.prototype.destroy=Fs.prototype.destroy,Fs.prototype.setContentArtist=Fs.prototype.Ye,Fs.prototype.setContentImage=Fs.prototype.Ze,Fs.prototype.setContentTitle=Fs.prototype.af,Fs.prototype.clearContentMetadata=Fs.prototype.ie,Fs.prototype.setContentMetadata=Fs.prototype.$e,Fs.prototype.isIdle=Fs.prototype.He,Fs.prototype.isConnected=Fs.prototype.isConnected;var Xs=.5,Ys=5,Qs="IDLE",Js="PLAYING",el="BUFFERING",tl="PAUSED";function rl(e){var t=this;this.a=[],this.b=[],this.data=[],(new Or).box("moov",Pr).V("pssh",(function(e){if(!(1<e.version)){var r=oe(e.reader.P,-12,e.size);if(t.data.push(r),t.a.push(Ye(e.reader.Wa(16))),0<e.version){r=e.reader.K();for(var n=(r=c(ee(r))).next();!n.done;n=r.next())n=Ye(e.reader.Wa(16)),t.b.push(n)}}})).parse(e)}function nl(e,t){var r=al(e,t);return 1!=r.length?null:r[0]}function il(e,t,r){return 1!=(e=ol(e,t,r)).length?null:e[0]}function al(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName==t}))}function ol(e,t,r){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.localName==r&&e.namespaceURI==t}))}function sl(e,t,r){return e.hasAttributeNS(t,r)?e.getAttributeNS(t,r):null}function ll(e){return Array.from(e.childNodes).every((function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null}function ul(e,t,r,n){n=void 0===n?null:n;var i=null;return null!=(e=e.getAttribute(t))&&(i=r(e)),null==i?n:i}function cl(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function dl(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function fl(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function pl(e){return 0===(e=Number(e))%1?e:null}function hl(e){return 0===(e=Number(e))%1&&0<e?e:null}function gl(e){return 0===(e=Number(e))%1&&0<=e?e:null}function ml(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e}function vl(e,t){var r=new DOMParser,n=null,i=null;try{i=r.parseFromString(e,"text/xml")}catch(a){}return i&&i.documentElement.tagName==t&&(n=i.documentElement),n&&0<n.getElementsByTagName("parsererror").length?null:n}function yl(e,t){try{return vl(Be(e),t)}catch(r){return null}}function bl(e,t){var r=function(e){for(var t=[],r=(e=c(e)).next();!r.done;r=e.next())(r=kl(r.value))&&t.push(r);return t}(e),n=null,i=[],a=[],o=new Set(r.map((function(e){return e.keyId})));if(o.delete(null),1<o.size)throw new ue(2,4,4010);if(t||(a=r.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Rd||(n=e.init||n,!1)}))).length&&(0==(i=function(e,t){for(var r=[],n=c(t),i=n.next();!i.done;i=n.next()){i=i.value;var a=_l.get(i.Rd);if(a){var o;if(o=il(i.node,"urn:microsoft:playready","pro")){o=qe(o.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=o.length,u=s.length+16+l,d=new Uint8Array(u),f=se(d),p=0;f.setUint32(p,u),p+=4,f.setUint32(p,1886614376),p+=4,f.setUint32(p,0),p+=4,d.set(s,p),p+=s.length,f.setUint32(p,l),p+=4,d.set(o,p),o=[{initData:d,initDataType:"cenc",keyId:i.keyId}]}else o=null;o=De(a,i.init||e||o),(a=El.get(a))&&(o.licenseServerUri=a(i)),r.push(o)}}return r}(n,a)).length&&(i=[De("",n)])),r.length&&(t||!a.length))for(i=[],a=(r=c(_l.values())).next();!a.done;a=r.next())"org.w3.clearkey"!=(a=a.value)&&i.push(De(a,n));if(o=Array.from(o)[0]||null)for(a=(r=c(i)).next();!a.done;a=r.next())for(var s=(a=c(a.value.initData)).next();!s.done;s=a.next())s.value.keyId=o;return{xd:o,Mf:n,drmInfos:i,Bd:!0}}function kl(e){var t=e.getAttribute("schemeIdUri"),r=sl(e,"urn:mpeg:cenc:2013","default_KID"),n=ol(e,"urn:mpeg:cenc:2013","pssh").map(ll);if(!t)return null;if(t=t.toLowerCase(),r&&(r=r.replace(/-/g,"").toLowerCase()).includes(" "))throw new ue(2,4,4009);var i=[];try{i=n.map((function(e){return{initDataType:"cenc",initData:qe(e),keyId:null}}))}catch(a){throw new ue(2,4,4007)}return{node:e,Rd:t,keyId:r,init:0<i.length?i:null}}var _l=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),El=(new Map).set("com.widevine.alpha",(function(e){return(e=il(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(e){return(e=il(e.node,"urn:microsoft:playready","pro"))&&(e=function(e){var t=0,r=se(e),n=r.getUint32(t,!0);if(n!=e.byteLength)return[];e:{for(e=t+4+2,t=[];e<r.byteLength-1;){n=r.getUint16(e,!0),e+=2;var i=r.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>r.byteLength){r=[];break e}var a=oe(r,e,i);t.push({type:n,value:a}),e+=i}r=t}return r}(e=qe(e.textContent)).filter((function(e){return 1===e.type}))[0])&&(e=vl(e=Fe(e.value,!0),"WRMHEADER"))?function(e){for(var t=(e=c(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var r=(t=c(t.value.childNodes)).next();!r.done;r=t.next())if((r=r.value)instanceof Element&&"LA_URL"==r.tagName)return r.textContent;return""}(e):""}));function wl(t,r,n,i,a){var o={RepresentationID:r,Number:n,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,r,n,i){if("$$"==t)return"$";var a=o[r];if(null==a)return t;switch("RepresentationID"==r&&n&&(n=void 0),"Time"==r&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return n=e.parseInt(n,10)||1,Array(Math.max(0,n-t.length)+1).join("0")+t}))}function Sl(e,t){var r=Tl(e,t,"timescale"),n=1;r&&(n=hl(r)||1),(r=hl((r=Tl(e,t,"duration"))||""))&&(r/=n);var i=Tl(e,t,"startNumber"),a=Number(Tl(e,t,"presentationTimeOffset"))||0,o=gl(i||"");null!=i&&null!=o||(o=1);var s=xl(e,t,"SegmentTimeline");if(i=null,s){i=n;var l=e.O.duration||1/0,u=al(s,"S");s=[];for(var d=-a,f=(u=c(te(u))).next();!f.done;f=u.next()){var p=(f=f.value).item,h=f.next,g=ul(p,"t",gl);f=ul(p,"d",gl);var m=ul(p,"r",pl);if(null!=g&&(g-=a),!f)break;if(p=null!=g?g:d,0>(g=m||0))if(h){if(null==(h=ul(h,"t",gl)))break;if(p>=h)break;g=Math.ceil((h-p)/f)-1}else{if(1/0==l)break;if(p/i>=l)break;g=Math.ceil((l*i-p)/f)-1}for(0<s.length&&p!=d&&(s[s.length-1].end=p/i),g=(h=c(ee(g+1))).next();!g.done;g=h.next())d=p+f,s.push({start:p/i,end:d/i,kf:p}),p=d}i=s}return{timescale:n,$:r,sb:o,Ia:a/n||0,td:a,timeline:i}}function Tl(e,t,r){return[t(e.H),t(e.ba),t(e.la)].filter(Me).map((function(e){return e.getAttribute(r)})).reduce((function(e,t){return e||t}))}function xl(e,t,r){return[t(e.H),t(e.ba),t(e.la)].filter(Me).map((function(e){return nl(e,r)})).reduce((function(e,t){return e||t}))}function Ol(e,t,r,n,i,a){if(a=void 0===a?0:a,sl(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,r,n,i,a){for(var o=sl(e,"http://www.w3.org/1999/xlink","href"),s=sl(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=c(Array.from(e.attributes)),u=l.next();!u.done;u=l.next())"http://www.w3.org/1999/xlink"==(u=u.value).namespaceURI&&e.removeAttributeNS(u.namespaceURI,u.localName);if(5<=a)return st(new ue(2,4,4028));if("onLoad"!=s)return st(new ue(2,4,4027));var d=Re([n],[o]);return i.request(0,Tt(d,t)).U((function(n){if(!(n=yl(n.data,e.tagName)))return st(new ue(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;n.childNodes.length;){var s=n.childNodes[0];n.removeChild(s),e.appendChild(s)}for(s=(n=c(Array.from(n.attributes))).next();!s.done;s=n.next())e.setAttributeNode(s.value.cloneNode(!1));return Ol(e,t,r,d[0],i,a+1)}))}(e,t,r,n,i,a);return r&&(o=o.U(void 0,(function(){return Ol(e,t,r,n,i,a)}))),o}o=[];for(var s=c(Array.from(e.childNodes)),l=s.next();!l.done;l=s.next())(l=l.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==sl(l,"http://www.w3.org/1999/xlink","href")?e.removeChild(l):"SegmentTimeline"!=l.tagName&&o.push(Ol(l,t,r,n,i,a)));return dt(o).U((function(){return e}))}function Pl(e,t,r,n,i,a,o){var s,l=(new Or).V("sidx",(function(e){s=function(e,t,r,n,i,a,o){var s=[];o.reader.skip(4);var l=o.reader.K();if(0==l)throw new ue(2,3,3005);if(0==o.version)var u=o.reader.K(),d=o.reader.K();else u=o.reader.rb(),d=o.reader.rb();o.reader.skip(2);var f=o.reader.Mb();for(e=e+o.size+d,f=c(ee(f)),d=f.next();!d.done;d=f.next()){var p=o.reader.K();d=(2147483648&p)>>>31,p&=2147483647;var h=o.reader.K();if(o.reader.skip(4),1==d)throw new ue(2,3,3006);s.push(new mi(u/l+r,(u+h)/l+r,(function(){return a}),e,e+p-1,t,r,n,i)),u+=h,e+=p}return o.parser.stop(),s}(t,n,i,a,o,r,e)}));if(e&&l.parse(e),s)return s;throw new ue(2,3,3004)}function Al(e){this.b=se(e),this.a=new Sr(this.b,0)}function Cl(e){var t=Ml(e);if(7<t.length)throw new ue(2,3,3002);for(var r=0,n=(t=c(t)).next();!n.done;n=t.next())r=256*r+n.value;t=Ml(e);e:{for(var i=(n=c(Il)).next();!i.done;i=n.next())if(ne(t,new Uint8Array(i.value))){n=!0;break e}n=!1}if(n)t=e.b.byteLength-e.a.C;else{if(8==t.length&&224&t[1])throw new ue(2,3,3001);n=0;for(var a=(i=c(te(t))).next();!a.done;a=i.next()){var o=(a=a.value).item;n=0==a.Z?o&(1<<8-t.length)-1:256*n+o}t=n}return t=e.a.C+t<=e.b.byteLength?t:e.b.byteLength-e.a.C,n=se(e.b,e.a.C,t),e.a.skip(t),new Rl(r,n)}function Ml(e){var t=e.a.C,r=e.a.qa();if(0==r)throw new ue(2,3,3002);return r=8-Math.floor(Math.log2(r)),e.a.skip(r-1),oe(e.b,t,r)}Al.prototype.wa=function(){return this.a.wa()};var Il=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Rl(e,t){this.id=e,this.a=t}function Dl(e){if(8<e.a.byteLength)throw new ue(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new ue(2,3,3001);for(var t=0,r=c(ee(e.a.byteLength)),n=r.next();!n.done;n=r.next())t=256*t+(n=e.a.getUint8(n.value));return t}function jl(e){var t=new Al(e.a);if(179!=(e=Cl(t)).id)throw new ue(2,3,3013);if(e=Dl(e),183!=(t=Cl(t)).id)throw new ue(2,3,3012);t=new Al(t.a);for(var r=0;t.wa();){var n=Cl(t);if(241==n.id){r=Dl(n);break}}return{lf:e,Re:r}}function Ll(e,t){var r=xl(e,t,"Initialization");if(!r)return null;var n=e.H.oa,i=r.getAttribute("sourceURL");i&&(n=Re(e.H.oa,[i])),i=0;var a=null;return(r=ul(r,"range",fl))&&(i=r.start,a=r.end),new gi((function(){return n}),i,a)}function Nl(e,t){var r=Number(Tl(e,Bl,"presentationTimeOffset"))||0,n=Tl(e,Bl,"timescale"),i=1;n&&(i=hl(n)||1);var a=r/i||0,o=Ll(e,Bl);!function(e,t){if(zl(e,t),!Fl(e))throw new ue(2,4,4002)}(e,o);var s=mt(e);return{ib:function(){var e=xl(s,Bl,"RepresentationIndex"),r=s.H.oa;return e&&(e=e.getAttribute("sourceURL"))&&(r=Re(s.H.oa,[e])),e=Fl(s),Ul(s,t,o,r,e.start,e.end,a)}}}function Ul(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g,m,v,y,b,k,E;return D((function(w){var S;if(1==w.a)return s=e.presentationTimeline,l=!e.Oa||!e.O.Gd,u=e.O.start,c=e.O.duration,d=e.H.mimeType.split("/")[1],p=null,h=[(f=t)(n,i,a),"webm"==d?f(r.c(),r.b,r.a):null],f=null,_(w,Promise.all(h),2);if(g=w.b,m=g[0],v=g[1]||null,null,b=u-o,k=u,E=c?u+c:1/0,"mp4"==d)var T=Pl(m,i,n,r,b,k,E);else{if(440786851!=Cl(T=new Al(v)).id)throw new ue(2,3,3008);var x=Cl(T);if(408125543!=x.id)throw new ue(2,3,3009);for(T=x.a.byteOffset,x=new Al(x.a),S=null;x.wa();){var O=Cl(x);if(357149030==O.id){S=O;break}}if(!S)throw new ue(2,3,3010);for(S=new Al(S.a),O=1e6,x=null;S.wa();){var P=Cl(S);if(2807729==P.id)O=Dl(P);else if(17545==P.id)if(4==P.a.byteLength)x=P.a.getFloat32(0);else{if(8!=P.a.byteLength)throw new ue(2,3,3003);x=P.a.getFloat64(0)}}if(null==x)throw new ue(2,3,3011);if(x=(S={ef:S=O/1e9,duration:x*S}).ef,S=S.duration,475249515!=(O=Cl(new Al(m))).id)throw new ue(2,3,3007);T=function(e,t,r,n,i,a,o,s,l){function u(){return i}var c=[];e=new Al(e.a);for(var d=null,f=null;e.wa();){var p=Cl(e);if(187==p.id){var h=jl(p);h&&(p=r*h.lf,h=t+h.Re,null!=d&&c.push(new mi(d+o,p+o,u,f,h-1,a,o,s,l)),d=p,f=h)}}return null!=d&&c.push(new mi(d+o,n+o,u,f,null,a,o,s,l)),c}(O,T,x,S,n,r,b,k,E)}return y=T,s.ob(y),p=new Ni(y),l&&p.La(k,E),w.return(p)}))}function Bl(e){return e.Nb}function Fl(e){var t=xl(e,Bl,"RepresentationIndex");return e=fl((e=Tl(e,Bl,"indexRange"))||""),t&&(e=ul(t,"range",fl,e)),e}function zl(e,t){var r=e.H.mimeType.split("/")[1];if("text"!=e.H.contentType&&"mp4"!=r&&"webm"!=r)throw new ue(2,4,4006);if("webm"==r&&!t)throw new ue(2,4,4005)}function Vl(e,t){var r=Ll(e,$l),n=function(e){var t=function(e){return[e.H.Na,e.ba.Na,e.la.Na].filter(Me).map((function(e){return al(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.Ed&&(e.Ed=!0),{Ke:t.getAttribute("media"),start:(t=ul(t,"mediaRange",fl,{start:0,end:null})).start,end:t.end}}))}(e),r=(e=Sl(e,$l)).sb;0==r&&(r=1);var n=0;return e.$?n=e.$*(r-1):e.timeline&&0<e.timeline.length&&(n=e.timeline[0].start),{$:e.$,startTime:n,sb:r,Ia:e.Ia,timeline:e.timeline,lb:t}}(e);if(!n.$&&!n.timeline&&1<n.lb.length)throw new ue(2,4,4002);if(!n.$&&!e.O.duration&&!n.timeline&&1==n.lb.length)throw new ue(2,4,4002);if(n.timeline&&0==n.timeline.length)throw new ue(2,4,4002);var i=null,a=null;return e.la.id&&e.H.id&&(a=e.la.id+","+e.H.id,i=t[a]),r=function(e,t,r,n,i){var a=n.lb.length;n.timeline&&n.timeline.length!=n.lb.length&&(a=Math.min(n.timeline.length,n.lb.length));for(var o=e-n.Ia,s=t?e+t:1/0,l=[],u=n.startTime,d={},f=(a=c(ee(a))).next();!f.done;d={Bc:d.Bc},f=a.next()){f=f.value;var p=n.lb[f];d.Bc=Re(r,[p.Ke]);var h;h=null!=n.$?u+n.$:n.timeline?n.timeline[f].end:u+t,l.push(new mi(e+u,e+h,function(e){return function(){return e.Bc}}(d),p.start,p.end,i,o,e,s)),u=h}return l}(e.O.start,e.O.duration,e.H.oa,n,r),i?(i.mb(r),i.Pa(e.presentationTimeline.Ra())):(e.presentationTimeline.ob(r),i=new Ni(r),a&&e.Oa&&(t[a]=i)),e.Oa&&e.O.Gd||i.La(e.O.start,e.O.duration?e.O.start+e.O.duration:1/0),{ib:function(){return Promise.resolve(i)}}}function $l(e){return e.Na}function Wl(e,t,r,n,i){var a=function(e){var t=Tl(e,Kl,"initialization");if(!t)return null;var r=e.H.id,n=e.bandwidth||null,i=e.H.oa;return new gi((function(){var e=wl(t,r,null,n,null);return Re(i,[e])}),0,null)}(e),o=function(e){var t=Sl(e,Kl),r=Tl(e,Kl,"media");return e=Tl(e,Kl,"index"),{$:t.$,timescale:t.timescale,sb:t.sb,Ia:t.Ia,td:t.td,timeline:t.timeline,Wc:r,Jb:e}}(e);!function(e){var t=e.Jb?1:0;if(t+=e.timeline?1:0,0==(t+=e.$?1:0))throw new ue(2,4,4002);if(1!=t&&(e.Jb&&(e.timeline=null),e.$=null),!e.Jb&&!e.Wc)throw new ue(2,4,4002)}(o);var s=mt(e);if(o.Jb)return zl(e,a),{ib:function(){var e=wl(o.Jb,s.H.id,null,s.bandwidth||null,null);return e=Re(s.H.oa,[e]),Ul(s,t,a,e,0,null,o.Ia)}};if(o.$)return n||(e.presentationTimeline.Xc(o.$),e.presentationTimeline.Yc(e.O.start)),{ib:function(){return function(e,t,r,n){function i(e){var r=(e-f)*d,i=r+t.Ia;return new mi(r+=s,Math.min(r+d,u),(function(){var t=wl(h,m,e,g,i*p);return Re(v,[t])}),0,null,n,y,s,u)}function a(){var e=[Math.max(o.Ra(),s),Math.min(o.Ga(),u)].map((function(e){return e-s}));return[Math.ceil(e[0]/d),Math.ceil(e[1]/d)-1].map((function(e){return e+f}))}var o=e.presentationTimeline,s=e.O.start,l=e.O.duration,u=l?s+l:1/0,d=t.$,f=t.sb,p=t.timescale,h=t.Wc,g=e.bandwidth||null,m=e.H.id,v=e.H.oa,y=s-t.Ia;l=a(),e=e.Oa?Math.max(l[0],l[1]-r+1):l[0],r=l[1],l=[];for(var b=e;b<=r;++b){var k=i(b);l.push(k)}var _=new Ni(l);if(o.Ga()<u){var E=Math.max(e,r+1);_.sc(d,(function(){_.Pa(o.Ra());var e=c(a());e.next(),e=e.next().value;for(var t=[];E<=e;){var r=i(E);t.push(r),E++}return o.Ga()>=u&&!t.length?null:t}))}return Promise.resolve(_)}(s,o,i,a)}};var l=null;n=null,e.la.id&&e.H.id&&(n=e.la.id+","+e.H.id,l=r[n]);var u=function(e,t,r){var n=e.O.start,i=e.O.duration,a=n-t.Ia;i=i?n+i:1/0;for(var o=[],s={},l=c(te(t.timeline)),u=l.next();!u.done;s={Ac:s.Ac,Cc:s.Cc,Fc:s.Fc,xc:s.xc,Gc:s.Gc,yc:s.yc},u=l.next()){var d=(u=u.value).item,f=d.start,p=d.kf;d=d.end,s.Fc=u.Z+t.sb,s.Gc=p+t.td,s.Cc=e.H.id,s.xc=e.bandwidth||null,s.Ac=t.Wc,s.yc=e.H.oa,o.push(new mi(n+f,n+d,function(e){return function(){var t=wl(e.Ac,e.Cc,e.Fc,e.xc||null,e.Gc);return Re(e.yc,[t]).map((function(e){return e.toString()}))}}(s),0,null,r,a,n,i))}return o}(s,o,a),d=e.O.start,f=e.O.duration?e.O.start+e.O.duration:1/0,p=1/0!=f;return l?(p&&new Ni(u).La(d,f),l.mb(u),l.Pa(e.presentationTimeline.Ra())):(e.presentationTimeline.ob(u),l=new Ni(u),n&&e.Oa&&(r[n]=l)),p&&l.La(d,f),{ib:function(){return Promise.resolve(l)}}}function Kl(e){return e.Ob}function Hl(){this.f=[],this.a=[],this.b=[],this.c=[],this.g=new Set}function Gl(e,t,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,w,S,T,x,O,P,A,C,M,I,R;return D((function(D){switch(D.a){case 1:if(n=je,function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var r=[],n=c(t.cc),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=!1,o=c(r),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&bt(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(a=!0);a||r.push(i)}t.cc=r}}(t),function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var r=[],n=c(t.uc),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=!1,o=c(r),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.label==s.label&&bt(i.roles,s.roles)&&zt(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(a=!0);a||r.push(i)}t.uc=r}}(t),function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var r=[],n=c(t.textStreams),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=!1,o=c(r),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.language==s.language&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&bt(i.roles,s.roles)&&(a=!0);a||r.push(i)}t.textStreams=r}}(t),!r&&1==t.length){i=t[0],e.a=i.cc,e.b=i.uc,e.c=i.textStreams,D.u(2);break}for(a=-1,o=c(te(t)),s=o.next();!s.done;s=o.next())l=s.value,u=l.Z,d=l.item,e.g.has(d.id)||(e.g.add(d.id),-1==a&&(a=u));if(-1==a)return D.return();for(f=t.map((function(e){return e.cc})),p=t.map((function(e){return e.uc})),h=t.map((function(e){return e.textStreams})),g=c(h),m=g.next();!m.done;m=g.next())m.value.push({id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ni([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null});return _(D,ql(e.a,f,a,Yl,Jl),3);case 3:return _(D,ql(e.b,p,a,Yl,Jl),4);case 4:return _(D,ql(e.c,h,a,Yl,Jl),2);case 2:if(v=0,y=[],e.b.length&&e.a.length)for(x=c(e.a),O=x.next();!O.done;O=x.next())for(P=O.value,A=c(e.b),C=A.next();!C.done;C=A.next())M=C.value,I=vr(P.drmInfos,M.drmInfos),P.drmInfos.length&&M.drmInfos.length&&!I.length||(R=v++,y.push({id:R,language:P.language,primary:P.primary,audio:P,video:M,bandwidth:(P.bandwidth||0)+(M.bandwidth||0),drmInfos:I,allowedByApplication:!0,allowedByKeySystem:!0}));else for(b=e.b.concat(e.a),k=c(b),w=k.next();!w.done;w=k.next())S=w.value,T=v++,y.push({id:T,language:S.language,primary:S.primary,audio:S.type==n.fb?S:null,video:S.type==n.Da?S:null,bandwidth:S.bandwidth||0,drmInfos:S.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0});e.f=y,E(D)}}))}function Zl(e){var t,r,n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,E;return D((function(w){switch(w.a){case 1:if(t=je,1==e.length)return w.return(e[0]);for(r=e.map((function(e){return e.filter((function(e){return e.type==t.fb}))})),n=e.map((function(e){return e.filter((function(e){return e.type==t.Da}))})),i=e.map((function(e){return e.filter((function(e){return e.type==t.aa}))})),a=c(i),o=a.next();!o.done;o=a.next())o.value.push({id:0,originalId:"",primary:!1,type:"text",mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null});return _(w,ql([],r,0,Ql,eu),2);case 2:return s=w.b,_(w,ql([],n,0,Ql,eu),3);case 3:return l=w.b,_(w,ql([],i,0,Ql,eu),4);case 4:if(u=w.b,d=0,l.length&&s.length)for(g=c(s),m=g.next();!m.done;m=g.next())for(v=m.value,y=c(l),b=y.next();!b.done;b=y.next())k=b.value,E=d++,k.variantIds.push(E),v.variantIds.push(E);else for(f=l.concat(s),p=c(f),h=p.next();!h.done;h=p.next())h.value.variantIds=[d++];return w.return(l.concat(s,u))}}))}function ql(e,t,r,n,i){var a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,E,w,S,T;return D((function(x){switch(x.a){case 1:for(a=je,o=[],s=c(te(t)),l=s.next();!l.done;l=s.next())u=l.value,d=u.Z,f=u.item,d>=r?o.push(new Set(f)):o.push(new Set);p=c(e),h=p.next();case 2:if(h.done){x.u(4);break}return _(x,function(e,t,r,n,i){var a;return D((function(o){return 1==o.a?(a=tu(t,e))?_(o,Promise.all(a.map((function(e){return e.createSegmentIndex()}))),2):o.return(!1):(Xl(e,a,r,n,i),o.return(!0))}))}(h.value,t,r,i,o),5);case 5:if(!x.b)throw new ue(2,4,4037);h=p.next(),x.u(2);break;case 4:g=c(o),m=g.next();case 6:if(m.done){x.u(8);break}v=m.value,y=c(v),b=y.next();case 9:if(b.done){m=g.next(),x.u(6);break}return _(x,function(e,t,r,n,i){var a,o;return D((function(s){return 1==s.a?(a=r(e),(o=tu(t,a))?a.createSegmentIndex?_(s,Promise.all(o.map((function(e){return e.createSegmentIndex()}))),2):s.u(2):s.return(null)):(Xl(a,o,0,n,i),s.return(a))}))}(b.value,t,n,i,o),12);case 12:(k=x.b)&&e.push(k),b=y.next(),x.u(9);break;case 8:for(E=c(o),m=E.next();!m.done;m=E.next())for(w=m.value,S={},T=c(w),b=T.next();!b.done;S={eb:S.eb},b=T.next())if(S.eb=b.value,(S.eb.type!=a.aa||S.eb.language)&&e.some(function(e){return function(t){return t.mimeType==e.eb.mimeType&&$t(t.codecs)==$t(e.eb.codecs)}}(S)))throw new ue(2,4,4037);return x.return(e)}}))}function Xl(e,t,r,n,i){for(var a=(t=c(te(t))).next();!a.done;a=t.next()){var o=a.value;if(a=o.Z,o=o.item,a>=r){n(e,o);var s=!0;"audio"==e.type&&0==jn(e.language,o.language)&&(s=!1),s&&i[a].delete(o)}}}function Yl(e){return(e=Object.assign({},e)).originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.segmentIndex=new Fi,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e}function Ql(e){return(e=Object.assign({},e)).keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function Jl(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))));var r=t.keyIds;if(r=new Set(d(e.keyIds).concat(d(r))),e.keyIds=r,null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||""),r=vr(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new ue(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var n=(r=c(t.closedCaptions)).next();!n.done;n=r.next()){var i=c(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}e.segmentIndex.g.push(t.segmentIndex),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Yl(t.trickModeVideo),e.trickModeVideo.segmentIndex=e.segmentIndex.clone()),Jl(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&Jl(e.trickModeVideo,t)}function eu(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var r=t.keyIds;if(r=new Set(d(e.keyIds).concat(d(r))),e.keyIds=r,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,d(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var n=(r=c(t.closedCaptions)).next();!n.done;n=r.next()){var i=c(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}}function tu(e,t){for(var r=[],n=c(e),i=n.next();!i.done;i=n.next()){for(var a=t,o={audio:ru,video:ru,text:nu}[a.type],s={audio:iu,video:au,text:ou}[a.type],l=null,u=(i=c(i.value)).next();!u.done;u=i.next())!o(a,u=u.value)||l&&!s(a,l,u)||(l=u);if(!(a=l))return null;r.push(a)}return r}function ru(e,t){var r;if(!(r=t.mimeType!=e.mimeType||$t(t.codecs)!=$t(e.codecs))&&(r=e.drmInfos)){r=e.drmInfos;var n=t.drmInfos;r=!(!r.length||!n.length||0<vr(r,n).length)}return!r}function nu(e,t){return!!e.language&&(!t.language||0!=jn(e.language,t.language)&&t.kind==e.kind)}function iu(e,t,r){if(e.id==r.id)return!0;var n=jn(e.language,t.language),i=jn(e.language,r.language);return i>n||!(i<n)&&(!(t.primary||!r.primary)||!(t.primary&&!r.primary)&&(e.roles.length?(n=t.roles.filter((function(t){return e.roles.includes(t)})),(i=r.roles.filter((function(t){return e.roles.includes(t)}))).length>n.length||!(i.length<n.length)&&r.roles.length<t.roles.length):!(r.roles.length||!t.roles.length)||!(r.roles.length&&!t.roles.length)&&((n=su(e.channelsCount,t.channelsCount,r.channelsCount))==uu||n!=du&&((n=su(e.audioSamplingRate,t.audioSamplingRate,r.audioSamplingRate))==uu||n!=du&&!(!e.bandwidth||lu(e.bandwidth,t.bandwidth,r.bandwidth)!=uu)))))}function au(e,t,r){if(e.id==r.id)return!0;var n=su(e.width*e.height,t.width*t.height,r.width*r.height);if(n==uu)return!0;if(n==du)return!1;if(e.frameRate){if((n=su(e.frameRate,t.frameRate,r.frameRate))==uu)return!0;if(n==du)return!1}return!(!e.bandwidth||lu(e.bandwidth,t.bandwidth,r.bandwidth)!=uu)}function ou(e,t,r){if(e.id==r.id)return!0;var n=jn(e.language,t.language),i=jn(e.language,r.language);if(i>n)return!0;if(i<n)return!1;if(!t.primary&&r.primary)return!0;if(t.primary&&!r.primary)return!1;if(e.roles.length){if(n=t.roles.filter((function(t){return e.roles.includes(t)})),(i=r.roles.filter((function(t){return e.roles.includes(t)}))).length>n.length)return!0;if(i.length<n.length)return!1}else{if(!r.roles.length&&t.roles.length)return!0;if(r.roles.length&&!t.roles.length)return!1}return r.mimeType==e.mimeType&&r.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function su(e,t,r){if(t==e&&e!=r)return du;if(r==e&&e!=t)return uu;if(t>e){if(r<=e||r-e<t-e)return uu;if(r-e>t-e)return du}else{if(r>e)return du;if(e-r<e-t)return uu;if(e-r>e-t)return du}return cu}function lu(e,t,r){return t=Math.abs(e-t),(e=Math.abs(e-r))<t?uu:t<e?du:cu}Hl.prototype.release=function(){for(var e=c(this.a.concat(this.b,this.c)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.a=[],this.b=[],this.c=[],this.f=[]};var uu=1,cu=0,du=-1;function fu(){var e=this;this.s=this.i=null,this.b=[],this.o=null,this.m=1,this.f={},this.a=new Hl,this.h=0,this.j=new V(5),this.g=new nt((function(){e.Kb()})),this.c=new _t}function pu(e){var t,r,n,i,a,o,s;return D((function(l){return 1==l.a?(t=Tt(e.b,e.i.retryParameters),r=e.s.networkingEngine,n=Date.now(),i=r.request(0,t),Et(e.c,i),_(l,i.promise,2)):3!=l.a?(a=l.b,e.s?(a.uri&&!e.b.includes(a.uri)&&e.b.unshift(a.uri),_(l,function(e,t,r){var n,i,a,o;return D((function(s){if(1==s.a){if(!(n=yl(t,"MPD")))throw new ue(2,4,4001,r);return i=e.i.dash.xlinkFailGracefully,a=Ol(n,e.i.retryParameters,i,r,e.s.networkingEngine),Et(e.c,a),_(s,a.promise,2)}return o=s.b,s.return(function(e,t,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,E,S,O,P;return D((function(A){switch(A.a){case 1:n=[r],0<(i=al(t,"Location").map(ll).filter(Me)).length&&(a=Re(n,i),n=e.b=a),o=al(t,"BaseURL").map(ll),s=Re(n,o),l=e.i.dash.ignoreMinBufferTime,u=0,l||(u=ul(t,"minBufferTime",dl)||0),e.h=ul(t,"minimumUpdatePeriod",dl,-1),d=ul(t,"availabilityStartTime",cl),f=ul(t,"timeShiftBufferDepth",dl),p=e.i.dash.ignoreSuggestedPresentationDelay,h=null,p||(h=ul(t,"suggestedPresentationDelay",dl)),g=ul(t,"maxSegmentDuration",dl),m=t.getAttribute("type")||"static",e.o?v=e.o.presentationTimeline:(y=e.i.defaultPresentationDelay||1.5*u,v=new vi(d,null!=h?h:y,e.i.dash.autoCorrectDrift)),b={Oa:"static"!=m,presentationTimeline:v,la:null,O:null,ba:null,H:null,bandwidth:0,Ed:!1};for(var C=ul(t,"mediaPresentationDuration",dl),M=[],I=0,R=al(t,"Period"),j=(R=c(te(R))).next();!j.done;j=R.next()){var L=j.value;j=L.item,L=L.next,I=ul(j,"start",dl,I);var N=ul(j,"duration",dl),U=null;if(L){var B=ul(L,"start",dl);null!=B&&(U=B-I)}else null!=C&&(U=C-I);if(null==U&&(U=N),j=hu(e,b,s,{start:I,duration:U,node:j,Gd:null==U||!L}),M.push(j),null==U){I=null;break}I+=U}return E=(k=null!=C?{periods:M,duration:C,yd:!1}:{periods:M,duration:I,yd:!0}).duration,S=k.periods,v.Pb("static"==m),"static"!=m&&k.yd||v.za(E||1/0),v.S()&&!isNaN(e.i.availabilityWindowOverride)&&(f=e.i.availabilityWindowOverride),null==f&&(f=1/0),v.od(f),v.Xc(g||1),_(A,Gl(e.a,S,b.Oa),2);case 2:if(e.o){e.o.variants=e.a.f,e.o.textStreams=e.a.c,A.u(3);break}if(e.o={presentationTimeline:v,variants:e.a.f,textStreams:e.a.c,offlineSessionIds:[],minBufferTime:u||0},!v.Xd()){A.u(3);break}return O=al(t,"UTCTiming"),_(A,function(e,t,r){var n,i,a,o,s,l,u,d;return D((function(f){switch(f.a){case 1:n=r.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),i=e.i.dash.clockSyncUri,!n.length&&i&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=c(n),o=a.next();case 2:if(o.done){f.u(4);break}switch(s=o.value,w(f,5),l=s.scheme,u=s.value,l){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.u(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.u(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(u),f.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Z("NTP UTCTiming scheme is not supported");break;default:Z("Unrecognized scheme in UTCTiming element",l)}f.u(9);break;case 7:return _(f,yu(e,t,u,"HEAD"),10);case 10:return f.return(f.b);case 8:return _(f,yu(e,t,u,"GET"),11);case 11:return f.return(f.b);case 9:T(f,3);break;case 5:x(f);case 3:o=a.next(),f.u(2);break;case 4:return Z("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))}(e,s,O),5);case 5:if(P=A.b,!e.s)return A.return();v.Td(P);case 3:return e.s.makeTextStreamsForClosedCaptions(e.o),_(A,e.s.filter(e.o),0)}}))}(e,o,r))}))}(e,a.data,a.uri),3)):l.return(0)):(o=Date.now(),s=(o-n)/1e3,$(e.j,1,s),l.return(s))}))}function hu(e,t,r,n){t.la=vu(n.node,null,r),t.O=n,t.la.id||(t.la.id="__shaka_period_"+n.start);for(var i=(r=c(r=al(n.node,"EventStream"))).next();!i.done;i=r.next())bu(e,n.start,n.duration,i.value);if(r=al(n.node,"AdaptationSet").map((function(r){return function(e,t,r){if(t.ba=vu(r,t.la,null),"image"==t.ba.contentType)return null;var n=!1,i=al(r,"Role"),a=i.map((function(e){return e.getAttribute("value")})).filter(Me),o=void 0,s="text"==t.ba.contentType;s&&(o="subtitle");for(var l=(i=c(i)).next();!l.done;l=i.next()){var u=(l=l.value).getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(l=l.getAttribute("value"),l){case"main":n=!0;break;case"caption":case"subtitle":o=l}}u=al(r,"EssentialProperty"),i=null,l=!1;for(var f=(u=c(u)).next();!f.done;f=u.next())"http://dashif.org/guidelines/trickmode"==(f=f.value).getAttribute("schemeIdUri")?i=f.getAttribute("value"):l=!0;u=al(r,"Accessibility");var p=new Map;for(u=c(u),f=u.next();!f.done;f=u.next()){var h=f.value;if(f=h.getAttribute("schemeIdUri"),h=h.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==f||"urn:scte:dash:cc:cea-708:2015"==f)if(f=1,null!=h)for(var g=(h=c(h.split(";"))).next();!g.done;g=h.next()){var m=g.value,v=g=void 0;m.includes("=")?(m=m.split("="),g=m[0].startsWith("CC")?m[0]:"CC"+m[0],v=m[1].split(",")[0].split(":").pop()):(g="CC"+f,f+=2,v=m),p.set(g,Dn(v))}else p.set("CC1","und");else"urn:mpeg:dash:role:2011"==f&&null!=h&&(a.push(h),"captions"==h&&(o="caption"))}if(l)return null;var y=bl(l=al(r,"ContentProtection"),e.i.dash.ignoreDrmInfo),b=Dn(r.getAttribute("lang")||"und"),k=r.getAttribute("label");if((l=al(r,"Label"))&&l.length&&((l=l[0]).textContent&&(k=l.textContent)),l=al(r,"Representation"),0==(r=l.map((function(r){return function(e,t,r,n,i,a,o,s,l,u){if(t.H=vu(u,t.ba,null),!function(e){var t=e.Nb?1:0;return t+=e.Na?1:0,0==(t+=e.Ob?1:0)?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.Nb&&(e.Na=null),e.Ob=null),!0)}(t.H))return null;var c=t.O.start;t.bandwidth=ul(u,"bandwidth",hl)||0;var d=t.H.contentType;d="text"==d||"application"==d;try{var f=function(t,r,n){return function(e,t,r,n){var i,a,o,s,l;return D((function(u){return 1==u.a?(i=Pt,a=Xi(t,r,n,e.i.retryParameters),o=e.s.networkingEngine,s=o.request(i,a),Et(e.c,s),_(u,s.promise,2)):(l=u.b,u.return(l.data))}))}(e,t,r,n)};if(t.H.Nb)var p=Nl(t,f);else if(t.H.Na)p=Vl(t,e.f);else if(t.H.Ob)p=Wl(t,f,e.f,!!e.o,e.i.dash.initialSegmentLimit);else{var h=t.H.oa,g=t.O.duration||0;p={ib:function(){return Promise.resolve(Ui(c,g,h))}}}}catch(b){if(d&&4002==b.code)return null;throw b}d=function(e,t,r){var n=bl(e,r);if(t.Bd)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,r=0==n.drmInfos.length,(0==t.drmInfos.length||e&&!r)&&(t.drmInfos=n.drmInfos),t.Bd=!1;else if(0<n.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return n.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new ue(2,4,4008);return n.xd||t.xd}(d=al(u,"ContentProtection"),r,e.i.dash.ignoreDrmInfo),d=new Set(d?[d]:[]),al(u,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(t.H.mimeType="audio/eac3-joc");var m={id:e.m++,originalId:t.H.id,createSegmentIndex:function(){var e;return D((function(t){if(1==t.a)return m.segmentIndex?t.u(0):(e=m,_(t,p.ib(),3));e.segmentIndex=t.b,E(t)}))},segmentIndex:null,mimeType:t.H.mimeType,codecs:t.H.codecs,frameRate:t.H.frameRate,pixelAspectRatio:t.H.pixelAspectRatio,bandwidth:t.bandwidth,width:t.H.width,height:t.H.height,kind:n,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:d,language:i,label:a,type:t.ba.contentType,primary:o,trickModeVideo:null,emsgSchemeIdUris:t.H.emsgSchemeIdUris,roles:s,channelsCount:t.H.Zc,audioSamplingRate:t.H.audioSamplingRate,closedCaptions:l};return m}(e,t,y,o,b,k,n,a,p,r)})).filter((function(e){return!!e}))).length){if(e.i.dash.ignoreEmptyAdaptationSet||s)return null;throw new ue(2,4,4003)}if(!t.ba.contentType||"application"==t.ba.contentType)for(t.ba.contentType=ku(r[0].mimeType,r[0].codecs),s=c(r),u=s.next();!u.done;u=s.next())u.value.type=t.ba.contentType;for(s=c(r),u=s.next();!u.done;u=s.next())for(u=u.value,f=c(y.drmInfos),h=f.next();!h.done;h=f.next())(h=h.value).keyIds=h.keyIds&&u.keyIds?new Set(d(h.keyIds).concat(d(u.keyIds))):h.keyIds||u.keyIds;return s=l.map((function(e){return e.getAttribute("id")})).filter(Me),{id:t.ba.id||"__fake__"+e.m++,contentType:t.ba.contentType,language:b,Nf:n,streams:r,drmInfos:y.drmInfos,rd:i,Ue:s}}(e,t,r)})).filter(Me),t.Oa){n=[];for(var a=(i=c(r)).next();!a.done;a=i.next())for(var o=(a=c(a.value.Ue)).next();!o.done;o=a.next())n.push(o.value);if(n.length!=new Set(n).size)throw new ue(2,4,4018)}for(n=r.filter((function(e){return!e.rd})),i=(r=c(r=r.filter((function(e){return e.rd})))).next();!i.done;i=r.next()){a=(i=i.value).rd.split(" ");for(var s=(o=c(n)).next();!s.done;s=o.next()){var l=s.value;if(a.includes(l.id)){s={};for(var u=(l=c(l.streams)).next();!u.done;s={Wb:s.Wb},u=l.next())s.Wb=u.value,s.Wb.trickModeVideo=i.streams.find(function(e){return function(t){return $t(e.Wb.codecs)==$t(t.codecs)}}(s))}}}if(i=e.i.disableAudio?[]:gu(n,"audio"),a=e.i.disableVideo?[]:gu(n,"video"),r=e.i.disableText?[]:gu(n,"text"),!a.length&&!i.length)throw new ue(2,4,4004);for(n=[],o=(i=c(i)).next();!o.done;o=i.next())n.push.apply(n,d(o.value.streams));for(i=[],o=(a=c(a)).next();!o.done;o=a.next())i.push.apply(i,d(o.value.streams));for(a=[],o=(r=c(r)).next();!o.done;o=r.next())a.push.apply(a,d(o.value.streams));return{id:t.la.id,cc:n,uc:i,textStreams:a}}function gu(e,t){return e.filter((function(e){return e.contentType==t}))}function mu(e,t){0>e.h||e.g.R(Math.max(3,e.h-t,W(e.j)))}function vu(e,t,r){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Zc:null,audioSamplingRate:null},r=r||t.oa;for(var n=al(e,"BaseURL").map(ll),i=e.getAttribute("contentType")||t.contentType,a=e.getAttribute("mimeType")||t.mimeType,o=e.getAttribute("codecs")||t.codecs,s=ul(e,"frameRate",ml)||t.frameRate,l=e.getAttribute("sar")||t.pixelAspectRatio,u=al(e,"InbandEventStream"),d=t.emsgSchemeIdUris.slice(),f=(u=c(u)).next();!f.done;f=u.next())f=f.value.getAttribute("schemeIdUri"),d.includes(f)||d.push(f);return u=function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){var r=t.value;if((t=r.getAttribute("schemeIdUri"))&&(r=r.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return r.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(r,10)))continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(r,16)){for(e=0;t;)1&t&&++e,t>>=1;return e}}}return null}(u=al(e,"AudioChannelConfiguration"))||t.Zc,f=ul(e,"audioSamplingRate",gl)||t.audioSamplingRate,i||(i=ku(a,o)),{oa:Re(r,n),Nb:nl(e,"SegmentBase")||t.Nb,Na:nl(e,"SegmentList")||t.Na,Ob:nl(e,"SegmentTemplate")||t.Ob,width:ul(e,"width",gl)||t.width,height:ul(e,"height",gl)||t.height,contentType:i,mimeType:a,codecs:o,frameRate:s,pixelAspectRatio:l,emsgSchemeIdUris:d,id:e.getAttribute("id"),Zc:u,audioSamplingRate:f}}function yu(e,t,r,n){var i,a,o,s,l,u;return D((function(c){if(1==c.a)return i=Re(t,[r]),(a=Tt(i,e.i.retryParameters)).method=n,o=e.s.networkingEngine.request(4,a),Et(e.c,o),_(c,o.promise,2);if(s=c.b,"HEAD"==n){if(!s.headers||!s.headers.date)return c.return(0);l=s.headers.date}else l=Be(s.data);return u=Date.parse(l),isNaN(u)?c.return(0):c.return(u-Date.now())}))}function bu(e,t,r,n){for(var i=n.getAttribute("schemeIdUri")||"",a=n.getAttribute("value")||"",o=ul(n,"timescale",gl)||1,s=(n=c(al(n,"Event"))).next();!s.done;s=n.next()){var l=ul(s=s.value,"presentationTime",gl)||0,u=ul(s,"duration",gl)||0;u=(l=l/o+t)+u/o,null!=r&&(l=Math.min(l,t+r),u=Math.min(u,t+r)),s={schemeIdUri:i,value:a,startTime:l,endTime:u,id:s.getAttribute("id")||"",eventElement:s},e.s.onTimelineRegionAdded(s)}}function ku(e,t){return dn(Vt(e,t))?"text":e.split("/")[0]}function _u(e,t,r,n){this.a=e,this.type=t,this.W=r,this.segments=n||null}function Eu(e,t,r,n){this.id=e,this.name=t,this.a=r,this.value=void 0===n?null:n}function wu(e,t,r){return(e=e.getAttribute(t))?e.value:r||null}function Su(e,t){var r=e.getAttribute(t);if(!r)throw new ue(2,4,4023,t);return r.value}function Tu(e,t){this.W=t,this.a=e}function xu(e,t){this.name=e,this.value=t}function Ou(e,t){return e.filter((function(e){return e.name==t}))}function Pu(e,t){return e.filter((function(e){return Su(e,"TYPE")==t}))}function Au(e,t){var r=Ou(e,t);return r.length?r[0]:null}function Cu(e,t,r){return r=void 0===r?0:r,(e=Au(e,t))?Number(e.value):r}function Mu(e){this.b=e,this.a=0}function Iu(e){Ru(e,/[ \t]+/gm)}function Ru(e,t){t.lastIndex=e.a;var r=t.exec(e.b);return r=null==r?null:{position:r.index,length:r[0].length,results:r},e.a==e.b.length||null==r||r.position!=e.a?null:(e.a+=r.length,r.results)}function Du(e){return e.a==e.b.length?null:(e=Ru(e,/[^ \t\n]*/gm))?e[0]:null}function ju(){this.a=0}function Lu(e,t,r){var n=(t=(t=Be(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new ue(2,4,4015);t=0;for(var i=!0,a=c(n),o=a.next();!o.done;o=a.next())if(o=o.value,/^#(?!EXT)/m.test(o)||i)i=!1;else{if(o=Nu(e.a++,o),--e.a,Uu.includes(o.name)){t=1;break}"EXT-X-STREAM-INF"==o.name&&(i=!0)}a=[],i=!0;for(var s=(o=c(te(n))).next();!s.done;s=o.next()){var l=s.value;s=l.Z;var u=l.item;if(l=l.next,/^#(?!EXT)/m.test(u)||i)i=!1;else{if(u=Nu(e.a++,u),Bu.includes(u.name)){if(1!=t)throw new ue(2,4,4017);for(u=n.splice(s,n.length-s),n=r,i=[],o=[],s=null,l=(u=c(u)).next();!l.done;l=u.next())l=l.value,/^(#EXT)/.test(l)?(l=Nu(e.a++,l),Uu.includes(l.name)?a.push(l):"EXT-X-MAP"==l.name?s=l:o.push(l)):/^#(?!EXT)/m.test(l)||(l=Re([n],[l.trim()])[0],s&&o.push(s),i.push(new Tu(l,o)),o=[]);return new _u(r,t,a,i)}a.push(u),"EXT-X-STREAM-INF"==u.name&&(u.a.push(new xu("URI",l)),i=!0)}}return new _u(r,t,a)}function Nu(e,t){var r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new ue(2,4,4016,t);var n,i=r[1],a=r[2];if(r=[],a){var o;(o=Ru(a=new Mu(a),/^([^,=]+)(?:,|$)/g))&&(n=o[1]);for(var s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=Ru(a,s);)r.push(new xu(o[1],o[2]||o[3]))}return new Eu(e,i,r,n)}(n=fu.prototype).configure=function(e){this.i=e},n.start=function(e,t){var r,n=this;return D((function(i){if(1==i.a)return n.b=[e],n.s=t,_(i,pu(n),2);if(r=i.b,n.s&&mu(n,r),!n.s)throw new ue(2,7,7001);return i.return(n.o)}))},n.stop=function(){for(var e=c(Object.values(this.f)),t=e.next();!t.done;t=e.next())t.value.release();return this.a&&this.a.release(),this.i=this.s=null,this.b=[],this.o=null,this.f={},this.a=null,null!=this.g&&(this.g.stop(),this.g=null),this.c.destroy()},n.update=function(){var e,t=this;return D((function(r){return 1==r.a?(w(r,2),_(r,pu(t),4)):2!=r.a?T(r,0):(e=x(r),t.s&&e?(t.s.onError(e),void E(r)):r.return())}))},n.onExpirationUpdated=function(){},n.Kb=function(){var e,t,r=this;return D((function(n){switch(n.a){case 1:return e=0,w(n,2),_(n,pu(r),4);case 4:e=n.b,T(n,3);break;case 2:t=x(n),r.s&&(t.severity=1,r.s.onError(t));case 3:if(!r.s)return n.return();mu(r,e),E(n)}}))},z("shaka.dash.DashParser",fu),hi.mpd=function(){return new fu},pi["application/dash+xml"]=function(){return new fu},pi["video/vnd.mpeg.dash.mpd"]=function(){return new fu},Eu.prototype.toString=function(){var e="#"+this.name,t=this.a?this.a.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e},Eu.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var Uu="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Bu="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function Fu(){}function zu(e){try{var t=Vu(e);return ut({uri:e,Nd:e,data:t.data,headers:{"content-type":t.contentType}})}catch(r){return st(r)}}function Vu(t){var r=t.split(":");if(2>r.length||"data"!=r[0])throw new ue(2,1,1004,t);if(2>(r=r.slice(1).join(":").split(",")).length)throw new ue(2,1,1004,t);var n=r[0];t=e.decodeURIComponent(r.slice(1).join(",")),r=n.split(";"),n=r[0];var i=!1;return 1<r.length&&"base64"==r[r.length-1]&&(i=!0,r.pop()),{data:i?qe(t):Ve(t),contentType:n}}function $u(){var e=this;this.i=this.s=null,this.Ca=1,this.j=new Map,this.g=new Map,this.ta=new Set,this.a=new Map,this.b=null,this.J="",this.G=new ju,this.da=0,this.h=new nt((function(){e.Kb()})),this.c=fc,this.o=null,this.M=0,this.T=1/0,this.m=new _t,this.X=[],this.A=new Map,this.Ba=!1,this.f=new Map,this.D=null,this.I=new Map,this.v=new Map}function Wu(e,t){var r,n,i,a,o,s,l,u,c;return D((function(d){if(1==d.a)return r=gc,n=t.be,_(d,sc(e,Tt([n],e.i.retryParameters),0),2);if(3!=d.a){if(i=d.b,1!=(a=Lu(e.G,i.data,i.uri)).type)throw new ue(2,4,4017);return o=Ou(a.W,"EXT-X-DEFINE"),s=Ku(e,o),l=t.stream,_(d,Ju(e,t.tc,a,l.mimeType,t.Hd,s),3)}u=d.b,l.segmentIndex.mb(u),u.length&&l.segmentIndex.Pa(u[0].startTime),c=u[u.length-1],Au(a.W,"EXT-X-ENDLIST")&&(oc(e,r.$d),e.b.za(c.endTime)),E(d)}))}function Ku(e,t){for(var r=new Map,n=c(t),i=n.next();!i.done;i=n.next()){var a=i.value;i=wu(a,"NAME");var o=wu(a,"VALUE");a=wu(a,"IMPORT"),i&&o&&r.set(i,o),a&&(i=e.j.get(a))&&r.set(a,i)}return r}function Hu(e,t){var r=[];e.i.disableVideo||r.push("avc1.42E01E"),e.i.disableAudio||r.push("mp4a.40.2");var n=wu(t,"CODECS",r.join(",")).split(/\s*,\s*/);r=new Set;for(var i=[],a=(n=c(n)).next();!a.done;a=n.next()){var o=$t(a=a.value);r.has(o)||(i.push(a),r.add(o))}return i}function Gu(e){return Dn(e=wu(e,"LANGUAGE")||"und")}function Zu(e,t){var r,n,i,a,o,s,l,u,c,d,f;return D((function(p){if(1==p.a){r=Su(t,"GROUP-ID"),n="";var h=Su(t,"TYPE").toLowerCase();return"subtitles"==h&&(h="text"),"text"!=(i=h)&&r&&e.f.has(r)&&(n=e.f.get(r)),a=ic(Su(t,"URI"),e.j),e.a.has(a)?p.return(e.a.get(a)):(o=Gu(t),s=wu(t,"NAME"),l=t.getAttribute("DEFAULT"),u="YES"==l,h="audio"==i&&(h=wu(t,"CHANNELS"))?parseInt(h.split("/")[0],10):null,c=h,d=wu(t,"CHARACTERISTICS"),_(p,qu(e,a,n,i,o,u,s,c,null,d),2))}return f=p.b,e.g.has(r)?e.g.get(r).push(f):e.g.set(r,[f]),null==f?p.return(null):e.a.has(a)?p.return(e.a.get(a)):(e.a.set(a,f),p.return(f))}))}function qu(e,t,r,n,i,a,o,s,l,u){var f,p,h,g,m,v,y,b,k,E,S,O,P,A,C,M,I,R,j,L,N,U,B,F,z,V,$,W,K,H,G,q,X,Y,Q,J;return D((function(ee){switch(ee.a){case 1:return f=Re([e.J],[t])[0],_(ee,sc(e,Tt([f],e.i.retryParameters),0),2);case 2:if(p=ee.b,f=p.uri,1!=(h=Lu(e.G,p.data,f)).type)throw new ue(2,4,4017);if(g=[],h.segments)for(m=c(h.segments),v=m.next();!v.done;v=m.next())y=v.value,b=Ou(y.W,"EXT-X-KEY"),g.push.apply(g,d(b));for(k=!1,E=[],S=new Set,O=c(g),P=O.next();!P.done;P=O.next())if(A=P.value,"NONE"!=(C=Su(A,"METHOD"))){if(k=!0,"AES-128"==C)return e.Ba=!0,ee.return(null);if(M=Su(A,"KEYFORMAT"),R=(I=dc[M])?I(A):null){if(R.keyIds)for(j=c(R.keyIds),L=j.next();!L.done;L=j.next())N=L.value,S.add(N);E.push(R)}}if(k&&!E.length)throw new ue(2,4,4026);return U=Ou(h.W,"EXT-X-DEFINE"),B=Ku(e,U),function(e,t){var r=Au(t.W,"EXT-X-PLAYLIST-TYPE"),n=Au(t.W,"EXT-X-ENDLIST");n=r&&"VOD"==r.value||n,r=r&&"EVENT"==r.value&&!n,r=!n&&!r,n?oc(e,fc):(oc(e,r?hc:pc),n=ac(t.W,"EXT-X-TARGETDURATION"),n=Number(n.value),e.M=Math.max(n,e.M),e.T=Math.min(n,e.T))}(e,h),_(ee,function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p,h;return D((function(g){if(1==g.a)return a=je,o=Pt,s=ic(n.segments[0].a,i),l=new de(s),u=l.ka.split(".").pop(),c=cc[t],(d=c[u])?g.return(d):t==a.aa?r&&"vtt"!=r&&"wvtt"!=r?g.return("application/mp4"):g.return("text/vtt"):((f=Tt([s],e.i.retryParameters)).method="HEAD",_(g,sc(e,f,o),2));if(p=g.b,!(h=p.headers["content-type"]))throw new ue(2,4,4021,u);return g.return(h.split(";")[0])}))}(e,n,r,h,B),3);case 3:return F=ee.b,uc.includes(F)&&(r=""),z=new Map,w(ee,4),_(ee,Ju(e,t,h,F,z,B),6);case 6:V=ee.b,T(ee,5);break;case 4:if(4035==($=x(ee)).code)return Z("Skipping unsupported HLS stream",F,t),ee.return(null);throw $;case 5:if(W=V[0].startTime,K=V[V.length-1].endTime,H=new Ni(V),G="text"==n?"subtitle":void 0,q=[],u)for(X=c(u.split(",")),Y=X.next();!Y.done;Y=X.next())Q=Y.value,q.push(Q);return J={id:e.Ca++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:H,mimeType:F,codecs:r,kind:G,encrypted:k,drmInfos:E,keyIds:S,language:i,label:o,type:n,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:q,channelsCount:s,audioSamplingRate:null,closedCaptions:l},ee.return({stream:J,tc:t,be:f,Id:W,Je:K,Hd:z})}}))}function Xu(e,t,r,n){return(r=Au(r,"EXT-X-MAP"))?(t=[n=ic(Re([t],[Su(r,"URI")])[0],n),wu(r,"BYTERANGE","")].join("-"),e.I.has(t)||(r=function(e,t){var r=0,n=null,i=wu(t,"BYTERANGE");return i&&(r=i.split("@"),n=Number(r[0]),r=Number(r[1]),n=r+n-1),new gi((function(){return[e]}),r,n)}(n,r),e.I.set(t,r)),e.I.get(t)):null}function Yu(e,t,r,n,i,a){var o=r.W,s=ic(r.a,a);r=ac(o,"EXTINF").value.split(","),r=n+Number(r[0]),a=0;var l=null;return(o=Au(o,"EXT-X-BYTERANGE"))&&(a=o.value.split("@"),o=Number(a[0]),l=(a=a[1]?Number(a[1]):t.a+1)+o-1),new mi(n,r,(function(){return[s]}),a,l,e,i,0,1/0)}function Qu(e){if(e.b){for(var t=c(e.X),r=t.next();!r.done;r=t.next())e.b.ob(r.value);e.X=[]}}function Ju(e,t,r,n,i,a){var o,s,l,u,d,f,p,h,g,m,v,y,b,k,E,w,S;return D((function(T){switch(T.a){case 1:if(o=r.segments,l=Cu(r.W,"EXT-X-MEDIA-SEQUENCE",0),e.c!=fc&&i.has(l)){u=i.get(l),T.u(2);break}if(null!=e.D){T.u(3);break}return s=Xu(e,r.a,o[0].W,a),d=e,_(T,tc(e,t,s,n,l,!1,o[0],a),4);case 4:d.D=T.b;case 3:u=e.D;case 2:o[0].a.split("/").pop(),f=Cu(r.W,"EXT-X-DISCONTINUITY-SEQUENCE"),p=e.v.get(f)||0,h=[],g=c(function(e){return te(e)}(o)),m=g.next();case 5:if(m.done){T.u(7);break}if(v=m.value,y=v.Z,b=v.item,k=h[h.length-1],E=0==y?u:k.endTime,w=l+y,i.set(w,E),s=Xu(e,r.a,b.W,a),!Au(b.W,"EXT-X-DISCONTINUITY")){T.u(8);break}return f++,_(T,function(e,t,r,n,i,a,o,s,l){var u,c;return D((function(d){return 1==d.a?(u=0,e.v.has(t)?(u=e.v.get(t),d.u(2)):_(d,tc(e,r,n,i,a,!0,o,s),3)):(2!=d.a&&(c=d.b,u=l-c,e.v.set(t,u)),d.return(u))}))}(e,f,t,s,n,w,b,a,E),9);case 9:p=T.b;case 8:S=Yu(s,k,b,E,p,a),h.push(S),m=g.next(),T.u(5);break;case 7:return e.X.push(h),Qu(e),T.return(h)}}))}function ec(e,t){var r,n,i,a,o,s;return D((function(l){switch(l.a){case 1:return r=Pt,n=Xi(t.c(),t.b,t.a,e.i.retryParameters),e.i.hls.useFullSegmentsForStartTime?l.return(sc(e,n,r)):(i=Xi(t.c(),t.b,t.b+2048-1,e.i.retryParameters),w(l,2),_(l,sc(e,i,r),4));case 4:return a=l.b,l.return(a);case 2:if(7001==(o=x(l)).code)throw o;return Z("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),_(l,sc(e,n,r),5);case 5:return s=l.b,l.return(s)}}))}function tc(e,t,r,n,i,a,o,s){var l,u,c,d,f,p,h,g;return D((function(m){switch(m.a){case 1:if(l=Yu(r,null,o,0,0,s),e.o&&!a&&(u=e.a.get(t),void 0!=(c=u.Hd.get(i))))return m.return(c);if(n=n.toLowerCase(),uc.includes(n))throw Z("Raw formats are not yet supported.  Skipping "+n),new ue(1,4,4035);if("video/webm"==n)throw Z("WebM in HLS is not yet supported.  Skipping."),new ue(1,4,4035);if("video/mp4"!=n&&"audio/mp4"!=n){m.u(2);break}return d=[ec(e,l)],r&&d.push(ec(e,r)),_(m,Promise.all(d),3);case 3:return f=m.b,p=f[0],h=f[1]||f[0],m.return(function(e,t,r,n){var i=0;if((new Or).box("moov",Pr).box("trak",Pr).box("mdia",Pr).V("mdhd",(function(e){e.reader.skip(0==e.version?8:16),i=e.reader.K(),e.parser.stop()})).parse(n,!0),!i)throw new ue(2,4,4030,e,t);var a=0,o=!1;if((new Or).box("moof",Pr).box("traf",Pr).V("tfdt",(function(e){a=(0==e.version?e.reader.K():e.reader.rb())/i,o=!0,e.parser.stop()})).parse(r,!0),!o)throw new ue(2,4,4030,e,t);return a}(t,p.uri,p.data,h.data));case 2:if("video/mp2t"!=n){m.u(4);break}return _(m,ec(e,l),5);case 5:return g=m.b,m.return(function(e,t,r){function n(){a.seek(o+188),71!=(s=a.qa())&&(a.seek(o+192),s=a.qa()),71!=s&&(a.seek(o+204),s=a.qa()),71!=s&&i(),a.Qd(1)}function i(){throw new ue(2,4,4030,e,t)}for(var a=new Sr(r,0),o=0,s=0;;)if(o=a.C,71!=(s=a.qa())&&i(),8191==(8191&(r=a.Mb())))n();else if(16384&r){if(0!=(r=(48&a.qa())>>4)&&2!=r||i(),3==r&&(r=a.qa(),a.skip(r)),1==a.K()>>8){a.skip(3),0!=(r=a.qa()>>6)&&1!=r||i(),0==a.qa()&&i(),r=a.qa();var l=a.Mb(),u=a.Mb();return(1073741824*((14&r)>>1)+((65534&l)<<14|(65534&u)>>1))/9e4}n()}else n()}(t,g.uri,g.data));case 4:throw new ue(2,4,4030,t)}}))}function rc(e,t){if(1==t.length)return t[0];var r=nc(e,t);if(null!=r)return r;throw new ue(2,4,4025,t)}function nc(e,t){for(var r=c(lc[e]),n=r.next();!n.done;n=r.next()){n=n.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,n.test(a.trim()))return a.trim()}return"text"==e?"":null}function ic(e,t){var r=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),n=r.match(/{\$\w*}/g);if(n)for(var i=(n=c(n)).next();!i.done;i=n.next()){var a=(i=i.value).slice(2,i.length-1),o=t.get(a);if(!o)throw new ue(2,4,4039,a);r=r.replace(i,o)}return r}function ac(e,t){var r=Au(e,t);if(!r)throw new ue(2,4,4024,t);return r}function oc(e,t){e.c=t,e.b&&e.b.Pb(e.c==fc),e.c!=fc||e.h.stop()}function sc(e,t,r){if(!e.m)throw new ue(2,7,7001);return t=e.s.networkingEngine.request(r,t),Et(e.m,t),t.promise}z("shaka.net.DataUriPlugin",Fu),Fu.parse=zu,St("data",zu),(n=$u.prototype).configure=function(e){this.i=e},n.start=function(e,t){var r,n,i=this;return D((function(a){return 1==a.a?(i.s=t,_(a,sc(i,Tt([e],i.i.retryParameters),0),2)):3!=a.a?(r=a.b,i.J=r.uri,_(a,function(e,t){var r,n,i,a,o,s,l,u,d,f,p,h,g,m;return D((function(v){switch(v.a){case 1:if(0!=(r=Lu(e.G,t,e.J)).type)throw new ue(2,4,4022);for(var y=c(Ou(r.W,"EXT-X-DEFINE")),b=y.next();!b.done;b=y.next()){var k=b.value;b=wu(k,"NAME"),k=wu(k,"VALUE"),b&&k&&(e.j.has(b)||e.j.set(b,k))}for(n=Ou(r.W,"EXT-X-MEDIA"),b=(y=c(i=Ou(r.W,"EXT-X-STREAM-INF"))).next();!b.done;b=y.next()){var E=b.value;k=wu(E,"AUDIO"),b=wu(E,"VIDEO");var S=wu(E,"SUBTITLES");if(E=Hu(e,E),S){var T=nc("text",E);e.f.set(S,T),yt(E,T)}k&&(S=rc("audio",E),e.f.set(k,S)),b&&(k=rc("video",E),e.f.set(b,k))}return _(v,function(e,t){var r;return D((function(n){return 1==n.a?(t=t.filter((function(e){var t=wu(e,"URI")||"";return"SUBTITLES"!=wu(e,"TYPE")&&""!=t}))).length?_(n,Zu(e,t[0]),2):n.u(2):(r=t.slice(1).map((function(t){return Zu(e,t)})),_(n,Promise.all(r),0))}))}(e,n),2);case 2:for(b=(y=c(y=Pu(n,"CLOSED-CAPTIONS"))).next();!b.done;b=y.next())b=Gu(S=b.value),k=Su(S,"GROUP-ID"),S=Su(S,"INSTREAM-ID"),e.A.get(k)||e.A.set(k,new Map),e.A.get(k).set(S,b);return _(v,function(e,t){var r,n,i;return D((function(a){return 1==a.a?(r=t.map((function(t){var r,n,i,a,o,s,l;return D((function(u){return 1==u.a?(r=wu(t,"FRAME-RATE"),n=Number(Su(t,"BANDWIDTH")),i=wu(t,"RESOLUTION"),a=c(i?i.split("x"):[null,null]),o=a.next().value,s=a.next().value,_(u,function(e,t,r,n){var i,a,o,s,l,u,d,f,p,h,g,m,v,y;return D((function(b){if(1==b.a)return i=je,a=Hu(e,t),o=wu(t,"AUDIO"),s=wu(t,"VIDEO"),u=(l=o||s)&&e.g.has(l)?e.g.get(l):[],d={audio:o?u:[],video:s?u:[]},p=!1,h=Su(t,"URI"),g=d.audio.find((function(e){return e&&e.tc==h})),m=nc(i.Da,a),v=r||n||m,1!=a.length||v?!u.length&&1<a.length?(f=i.Da,a=[a.join(",")]):d.audio.length&&g?(f=i.fb,p=!0):f=d.video.length?i.fb:i.Da:f=i.fb,p?b.u(2):_(b,function(e,t,r,n){var i,a,o,s;return D((function(l){if(1==l.a){if(i=ic(Su(t,"URI"),e.j),e.a.has(i))return l.return(e.a.get(i));var u=wu(t,"CLOSED-CAPTIONS");return a="video"==n&&u&&"NONE"!=u?e.A.get(u):null,o=rc(n,r),_(l,qu(e,i,o,n,"und",!1,null,null,a,null),2)}return null==(s=l.b)?l.return(null):e.a.has(i)?l.return(e.a.get(i)):(e.a.set(i,s),l.return(s))}))}(e,t,a,f),3);if(2!=b.a&&(y=b.b),y)d[y.stream.type]=[y];else if(null===y)return b.return(null);return function(e){for(var t=(e=c(e.audio.concat(e.video))).next();!t.done;t=e.next())if(t=t.value){var r=t.stream.codecs.split(",");r=r.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=r.join(",")}}(d),b.return(d)}))}(e,t,i,r),2)):(l=u.b)?u.return(function(e,t,r,n,i,a,o){for(var s=c(r),l=s.next();!l.done;l=s.next()){l=l.value.stream;var u=a,d=o;l&&(l.width=Number(i)||void 0,l.height=Number(u)||void 0,l.frameRate=Number(d)||void 0)}i=e.i.disableAudio,(!t.length||i)&&(t=[null]);i=e.i.disableVideo,(!r.length||i)&&(r=[null]);for(i=[],t=c(t),a=t.next();!a.done;a=t.next())for(a=a.value,o=c(r),s=o.next();!s.done;s=o.next()){var f=s.value;s=a?a.stream:null,l=f?f.stream:null,u=a?a.stream.drmInfos:null,d=f?f.stream.drmInfos:null,f=(f?f.tc:"")+" - "+(a?a.tc:""),s&&l&&u.length&&d.length&&!(0<vr(u,d).length)||e.ta.has(f)||(s={id:e.Ca++,language:s?s.language:"und",primary:!!s&&s.primary||!!l&&l.primary,audio:s,video:l,bandwidth:n,allowedByApplication:!0,allowedByKeySystem:!0},i.push(s),e.ta.add(f))}return i}(e,l.audio,l.video,n,o,s,r)):u.return([])}))})),_(a,Promise.all(r),2)):(n=a.b,i=(i=n.reduce(Ae,[])).filter((function(e){return null!=e})),a.return(i))}))}(e,i),3);case 3:return a=v.b,_(v,function(e,t){var r,n,i,a,o,s,l,u,d,f,p;return D((function(h){if(1==h.a)return r=Pu(t,"SUBTITLES"),n=r.map((function(t){var r,n;return D((function(i){if(1==i.a)return e.i.disableText?i.return(null):(w(i,2),_(i,Zu(e,t),4));if(2!=i.a)return r=i.b,i.return(r.stream);if(n=x(i),e.i.hls.ignoreTextStreamFailures)return i.return(null);throw n}))})),_(h,Promise.all(n),2);for(i=h.b,a=c(r),o=a.next();!o.done;o=a.next())if(s=o.value,l=Su(s,"GROUP-ID"),(u=e.f.get(l))&&(d=e.g.get(l)))for(f=c(d),p=f.next();!p.done;p=f.next())p.value.stream.codecs=u;return h.return(i.filter((function(e){return e})))}))}(e,n),4);case 4:if(o=v.b,!e.s)throw new ue(2,7,7001);if(e.Ba&&0==a.length)throw new ue(2,4,4034);for(l=s=1/0,u=c(e.a.values()),d=u.next();!d.done;d=u.next())f=d.value,s=Math.min(s,f.Id),"text"!=f.stream.type&&(l=Math.min(l,f.Je-f.Id));if(e.c!=fc?(e.b=new vi(0,e.i.defaultPresentationDelay||3*e.M),e.b.Pb(!1)):(e.b=new vi(null,0),e.b.Pb(!0)),Qu(e),e.c!=fc)e.da=e.T,p=gc,e.c==p.Zd&&(h=e.b.qc,isNaN(e.i.availabilityWindowOverride)||(h=e.i.availabilityWindowOverride),e.b.od(h));else for(e.b.za(l),e.b.offset(-s),g=c(e.a.values()),d=g.next();!d.done;d=g.next())(m=d.value).stream.segmentIndex.offset(-s),m.stream.segmentIndex.La(0,l);return e.o={presentationTimeline:e.b,variants:a,textStreams:o,offlineSessionIds:[],minBufferTime:0},e.s.makeTextStreamsForClosedCaptions(e.o),_(v,e.s.filter(e.o),0)}}))}(i,r.data),3)):(0<(n=i.da)&&i.h.R(n),a.return(i.o))}))},n.stop=function(){this.h&&(this.h.stop(),this.h=null);var e=[];return this.m&&(e.push(this.m.destroy()),this.m=null),this.i=this.s=null,this.ta.clear(),this.o=null,this.a.clear(),this.g.clear(),this.f.clear(),this.j.clear(),Promise.all(e)},n.update=function(){var e,t,r,n=this;return D((function(i){if(1==i.a)return n.c==fc?i.return():(e=[],n.D=null,(t=Array.from(n.a.values())).length?_(i,Wu(n,t[0]),2):i.u(2));for(r=1;r<t.length;r++)e.push(Wu(n,t[r]));return _(i,Promise.all(e),0)}))},n.onExpirationUpdated=function(){},n.Kb=function(){var e,t,r=this;return D((function(n){return 1==n.a?r.s?(w(n,2),_(n,r.update(),4)):n.return():2!=n.a?(e=r.da,r.h.R(e),T(n,0)):(t=x(n),r.s?(t.severity=1,r.s.onError(t),r.h.R(.1),void E(n)):n.return())}))},z("shaka.hls.HlsParser",$u);var lc={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},uc=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],cc={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}},dc={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=Su(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=De("com.widevine.alpha",[{initDataType:"cenc",initData:t=oe((t=Vu(t=Su(e,"URI"))).data)}]),(e=wu(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null}},fc="VOD",pc="EVENT",hc="LIVE",gc={$d:fc,sf:pc,Zd:hc};function mc(e,t,r,n,i,a){if(200<=r&&299>=r&&202!=r)return{uri:i||n,Nd:n,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=ze(t)}catch(o){}throw new ue(401==r||403==r?2:1,1,1001,n,r,i,e,a)}function vc(){}function yc(e,t,r,n){var i=new wc;Bt(t.headers).forEach((function(e,t){i.append(t,e)}));var a=new _c,o={vd:!1,Wd:!1};if(e=new ot(e=function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p,h,g,m;return D((function(v){switch(v.a){case 1:return a=kc,o=Ec,c=u=0,d=Date.now(),w(v,2),_(v,a(e,r),4);case 4:return s=v.b,f=s.clone().body.getReader(),h=(p=s.headers.get("Content-Length"))?parseInt(p,10):0,new o({start:function(e){!function t(){var r,n;return D((function(a){switch(a.a){case 1:return w(a,2),_(a,f.read(),4);case 4:r=a.b,T(a,3);break;case 2:return x(a),a.return();case 3:r.done||(u+=r.value.byteLength),(100<(n=Date.now())-d||r.done)&&(i(n-d,u-c,h-u),c=u,d=n),r.done?e.close():(e.enqueue(r.value),t()),E(a)}}))}()}}),_(v,s.arrayBuffer(),5);case 5:l=v.b,T(v,3);break;case 2:if(g=x(v),n.vd)throw new ue(1,1,7001,e,t);if(n.Wd)throw new ue(1,1,1003,e,t);throw new ue(1,1,1002,e,g,t);case 3:return m={},s.headers.forEach((function(e,t){m[t.trim()]=e})),v.return(mc(m,l,s.status,e,s.url,t))}}))}(e,r,{body:t.body||void 0,headers:i,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,n),(function(){return o.vd=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new nt((function(){o.Wd=!0,a.abort()}));s.R(t/1e3),e.finally((function(){s.stop()}))}return e}function bc(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(cp){return!1}return!(!e.fetch||!e.AbortController)}hi.m3u8=function(){return new $u},pi["application/x-mpegurl"]=function(){return new $u},pi["application/vnd.apple.mpegurl"]=function(){return new $u},z("shaka.net.HttpFetchPlugin",vc),vc.isSupported=bc,vc.parse=yc;var kc=e.fetch,_c=e.AbortController,Ec=e.ReadableStream,wc=e.Headers;function Sc(){}function Tc(e,t,r,n){var i=new xc,a=Date.now(),o=0;return new ot(new Promise((function(s,l){for(var u in i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){l(new ue(1,1,7001,e,r))},i.onload=function(t){for(var n=(t=t.target).getAllResponseHeaders().trim().split("\r\n"),i={},a=(n=c(n)).next();!a.done;a=n.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=mc(i,t.response,t.status,e,t.responseURL,r);s(o)}catch(u){l(u)}},i.onerror=function(t){l(new ue(1,1,1002,e,t,r))},i.ontimeout=function(){l(new ue(1,1,1003,e,r))},i.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(n(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers)i.setRequestHeader(u.toLowerCase(),t.headers[u]);i.send(t.body)})),(function(){return i.abort(),Promise.resolve()}))}bc()&&(St("http",yc,2),St("https",yc,2)),z("shaka.net.HttpXHRPlugin",Sc),Sc.parse=Tc;var xc=e.XMLHttpRequest;function Oc(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function Pc(e){var t=this;this.N=e,this.a=new Map,this.F=new Mt((function(){var e=Array.from(t.a.values());return Promise.all(e.map((function(e){return e.catch((function(){}))})))})),this.b=[],this.Md=function(){},this.Ld=function(){},this.Cb=new Oc}function Ac(e){var t=e.b.map((function(e){return e()}));return e.b=[],Promise.all(t)}function Cc(e,t,r,n,i,a){It(e.F);var o=function(e,t){e.b+=t;var r=e.g;return e.g++,e.c.set(r,t),r}(e.Cb,n);return n=(e.a.get(t)||Promise.resolve()).then((function(){var t,n,s,l,u,c,d;return D((function(f){if(1==f.a)return _(f,function(e,t){var r,n,i,a;return D((function(o){return 1==o.a?(r=Pt,n=e.N.request(r,t),i=function(){return n.abort()},e.b.push(i),_(o,n.promise,2)):(a=o.b,yt(e.b,i),o.return(a.data))}))}(e,r),2);if(t=f.b,e.F.a)throw new ue(2,9,7001);if(i)for(l in n=oe(t),(s=new rl(n)).data)u=Number(l),c=s.data[u],d=s.a[u],e.Ld(c,d);e.Cb.close(o,t.byteLength);var p=e.Cb;return e.Md(0==p.b?0:p.f/p.b,e.Cb.a),f.return(a(t))}))})),e.a.set(t,n),n}function Mc(e,t){var r=this;this.c=e,this.b=e.objectStore(t),this.a=new Le,e.onabort=function(e){e.preventDefault(),r.a.reject()},e.onerror=function(e){e.preventDefault(),r.a.reject()},e.oncomplete=function(){r.a.resolve()}}function Ic(e,t){return new Promise((function(r,n){var i=e.b.openCursor();i.onerror=n,i.onsuccess=function(){var e;return D((function(n){if(1==n.a)return null==i.result?(r(),n.return()):(e=i.result,_(n,t(e.key,e.value,e),2));e.continue(),E(n)}))}}))}function Rc(e){this.b=e,this.a=[]}function Dc(e,t){return jc(e,t,"readwrite")}function jc(e,t,r){var n=new Mc(r=e.b.transaction([t],r),t);return e.a.push(n),n.promise().then((function(){yt(e.a,n)}),(function(){yt(e.a,n)})),n}function Lc(e,t,r){this.b=new Rc(e),this.c=t,this.a=r}function Nc(e){return Promise.reject(new ue(2,9,9011,"Cannot add new value to "+e))}function Uc(e,t,r,n){t=(e=Dc(e.b,t)).store();for(var i={},a=(r=c(r)).next();!a.done;i={Ub:i.Ub},a=r.next())i.Ub=a.value,t.delete(i.Ub).onsuccess=function(e){return function(){return n(e.Ub)}}(i);return e.promise()}function Bc(e,t,r){var n,i,a,o,s,l,u;return D((function(d){if(1==d.a){for(n=jc(e.b,t,"readonly"),i=n.store(),a={},o=[],s={},l=c(r),u=l.next();!u.done;s={wb:s.wb,ub:s.ub},u=l.next())s.ub=u.value,s.wb=i.get(s.ub),s.wb.onsuccess=function(e){return function(){void 0==e.wb.result&&o.push(e.ub),a[e.ub]=e.wb.result}}(s);return _(d,n.promise(),2)}if(o.length)throw new ue(2,9,9012,"Could not find values for "+o);return d.return(r.map((function(e){return a[e]})))}))}function Fc(e){this.a=new Rc(e)}function zc(){this.a=new Map}function Vc(e,t,r){if(!(e=e.a.get(t)))throw new ue(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(r)))throw new ue(2,9,9013,"Could not find cell with name "+r);return t}function $c(e,t){Wc.set(e,t)}St("http",Tc,1),St("https",Tc,1),Oc.prototype.close=function(e,t){if(this.c.has(e)){var r=this.c.get(e);this.c.delete(e),this.f+=r,this.a+=t}},Pc.prototype.destroy=function(){return this.F.destroy()},Mc.prototype.abort=function(){var e=this;return D((function(t){if(1==t.a){try{e.c.abort()}catch(r){}return w(t,2),_(t,e.a,4)}if(2!=t.a)return T(t,0);x(t),E(t)}))},Mc.prototype.store=function(){return this.b},Mc.prototype.promise=function(){return this.a},Rc.prototype.destroy=function(){return Promise.all(this.a.map((function(e){return e.abort()})))},(n=Lc.prototype).destroy=function(){return this.b.destroy()},n.hasFixedKeySpace=function(){return!0},n.addSegments=function(){return Nc(this.c)},n.removeSegments=function(e,t){return Uc(this,this.c,e,t)},n.getSegments=function(e){var t,r=this;return D((function(n){return 1==n.a?_(n,Bc(r,r.c,e),2):(t=n.b,n.return(t.map((function(e){return r.wd(e)}))))}))},n.addManifests=function(){return Nc(this.a)},n.updateManifestExpiration=function(e,t){var r=Dc(this.b,this.a),n=r.store();return n.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,n.put(r,e))},r.promise()},n.removeManifests=function(e,t){return Uc(this,this.a,e,t)},n.getManifests=function(e){var t,r=this;return D((function(n){return 1==n.a?_(n,Bc(r,r.a,e),2):(t=n.b,n.return(Promise.all(t.map((function(e){return r.Bb(e)})))))}))},n.getAllManifests=function(){var e,t,r=this;return D((function(n){return 1==n.a?(e=jc(r.b,r.a,"readonly"),t=new Map,_(n,Ic(e,(function(e,n){var i;return D((function(a){if(1==a.a)return _(a,r.Bb(n),2);i=a.b,t.set(e,i),E(a)}))})),2)):3!=n.a?_(n,e.promise(),3):n.return(t)}))},n.wd=function(e){return e},n.Bb=function(e){return Promise.resolve(e)},n.add=function(e,t){var r,n,i,a,o,s,l,u=this;return D((function(d){if(1==d.a){for(r=Dc(u.b,e),n=r.store(),i=[],a={},o=c(t),s=o.next();!s.done;a={Vb:a.Vb},s=o.next())l=s.value,a.Vb=n.add(l),a.Vb.onsuccess=function(e){return function(){i.push(e.Vb.result)}}(a);return _(d,r.promise(),2)}return d.return(i)}))},Fc.prototype.destroy=function(){return this.a.destroy()},Fc.prototype.getAll=function(){var e,t,r=this;return D((function(n){return 1==n.a?(e=jc(r.a,"session-ids","readonly"),t=[],_(n,Ic(e,(function(e,r){t.push(r)})),2)):3!=n.a?_(n,e.promise(),3):n.return(t)}))},Fc.prototype.add=function(e){for(var t=Dc(this.a,"session-ids"),r=t.store(),n=(e=c(e)).next();!n.done;n=e.next())r.add(n.value);return t.promise()},Fc.prototype.remove=function(e){var t,r=this;return D((function(n){return 1==n.a?_(n,Ic(t=Dc(r.a,"session-ids"),(function(t,r,n){e.includes(r.sessionId)&&n.delete()})),2):_(n,t.promise(),0)}))},zc.prototype.destroy=function(){for(var e=[],t=c(this.a.values()),r=t.next();!r.done;r=t.next())e.push(r.value.destroy());return this.a.clear(),Promise.all(e)},zc.prototype.init=function(){var e=this;Wc.forEach((function(t,r){var n=t();n&&e.a.set(r,n)}));for(var t=[],r=c(this.a.values()),n=r.next();!n.done;n=r.next())t.push(n.value.init());return Promise.all(t)},z("shaka.offline.StorageMuxer",zc),zc.unregister=function(e){Wc.delete(e)},zc.register=$c,zc.prototype.destroy=zc.prototype.destroy;var Wc=new Map;function Kc(){Lc.apply(this,arguments)}function Hc(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var r=c(t),n=r.next();!n.done;n=r.next())n.value.variantIds=[];for(r=c(e),n=r.next();!n.done;n=r.next())n.value.variantIds=[];if(r=0,e.length&&!t.length){var i=r++,a=c(e);for(n=a.next();!n.done;n=a.next())n.value.variantIds.push(i)}if(!e.length&&t.length)for(i=r++,a=c(t),n=a.next();!n.done;n=a.next())n.value.variantIds.push(i);if(e.length&&t.length)for(t=c(t),n=t.next();!n.done;n=t.next())for(n=n.value,i=c(e),a=i.next();!a.done;a=i.next()){a=a.value;var o=r++;n.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var r=c(e.streams),n=r.next();!n.done;n=r.next());return e.streams.map((function(r){return function(e,t,r){var n=e.initSegmentUri?Gc(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+r;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:n,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var r=Gc(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:r,initSegmentKey:n,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i}})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}(r,e.startTime,t)}))}function Gc(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new ue(2,9,9004,"Could not parse uri "+e)}function Zc(){Lc.apply(this,arguments)}function qc(e,t,r){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(n){return{startTime:t+n.startTime,endTime:t+n.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:r,timestampOffset:t-e.presentationTimeOffset,dataKey:n.dataKey}})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}function Xc(){Lc.apply(this,arguments)}function Yc(){this.h=this.f=this.c=this.b=this.a=this.g=null}function Qc(e,t,r,n){this.a=e,this.g=t,this.f=r,this.c=n,this.b=["offline:",e,"/",t,"/",r,"/",n].join("")}function Jc(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var r=e[2];if(!r)return null;var n=e[3];return n&&null!=t?new Qc(t,r,n,Number(e[4])):null}function ed(e,t){this.b=e,this.a=t}function td(e,t){var r=new vi(null,0);r.za(t.duration);var n=t.streams.filter((function(e){return"audio"==e.type})),i=t.streams.filter((function(e){return"video"==e.type}));n=function(e,t,r,n){for(var i=new Set,a=c(t),o=a.next();!o.done;o=a.next()){var s=c(o.value.variantIds);for(o=s.next();!o.done;o=s.next())i.add(o.value)}for(a=c(r),o=a.next();!o.done;o=a.next())for(s=c(o.value.variantIds),o=s.next();!o.done;o=s.next())i.add(o.value);for(a=new Map,i=c(i),o=i.next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0});for(t=c(t),i=t.next();!i.done;i=t.next())for(i=i.value,o=rd(e,i,n),s=c(i.variantIds),i=s.next();!i.done;i=s.next())(i=a.get(i.value)).language=o.language,i.primary=i.primary||o.primary,i.audio=o;for(r=c(r),t=r.next();!t.done;t=r.next())for(i=t.value,t=rd(e,i,n),o=c(i.variantIds),i=o.next();!i.done;i=o.next())(i=a.get(i.value)).primary=i.primary||t.primary,i.video=t;return a}(e,n,i,r),i=t.streams.filter((function(e){return"text"==e.type})).map((function(t){return rd(e,t,r)}));var a=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var o=c(n.values()),s=o.next();!s.done;s=o.next())(s=s.value).audio&&s.audio.encrypted&&(s.audio.drmInfos=a),s.video&&s.video.encrypted&&(s.video.drmInfos=a);return{presentationTimeline:r,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(n.values()),textStreams:i}}function rd(e,t,r){var n=t.segments.map((function(t){return function(e,t){var r=new Qc("segment",e.b,e.a,t.dataKey);return new mi(t.startTime,t.endTime,(function(){return[r.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var r=new Qc("segment",e.b,e.a,t);return new gi((function(){return[r.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd)}(e,t)}));return r.ob(n),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ni(n),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,closedCaptions:t.closedCaptions}}function nd(){this.a=null}function id(){}function ad(e){var t=Jc(e);return t&&"manifest"==t.a?e=ut(e={uri:e,Nd:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):e=t&&"segment"==t.a?function(e,t){var r=new zc;return ut(void 0).U((function(){return r.init()})).U((function(){return Vc(r,t.ya(),t.ca())})).U((function(e){return e.getSegments([t.key()])})).U((function(e){return{uri:t,data:e[0].data,headers:{}}})).finally((function(){return r.destroy()}))}(t.key(),t):st(new ue(2,1,9004,e)),e}function od(e,t,r){var n,i,a,o,s,l;return D((function(u){switch(u.a){case 1:n=[];for(var d=[],f=c(r),p=f.next();!p.done;p=f.next()){p=p.value;for(var h=!1,g=c(d),m=g.next();!m.done;m=g.next())if(sd((m=m.value).info,p)){m.sessionIds.push(p.sessionId),h=!0;break}h||d.push({info:p,sessionIds:[p.sessionId]})}i=c(d),a=i.next();case 2:if(a.done){u.u(4);break}return o=a.value,s=function(e,t,r){var n,i;return D((function(a){switch(a.a){case 1:return n=new er({nb:t,onError:function(){},nc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),w(a,2),n.configure(e),_(a,function(e,t,r,n,i,a){var o=new Map;return(i={audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:r,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:n,initData:null,keyIds:null}],o.set(t,i),cr(e,o)}(n,r.info.keySystem,r.info.licenseUri,r.info.serverCertificate,r.info.audioCapabilities,r.info.videoCapabilities),4);case 4:T(a,3);break;case 2:return x(a),_(a,n.destroy(),5);case 5:return a.return([]);case 3:return w(a,6),_(a,nr(n),8);case 8:T(a,7);break;case 6:return x(a),_(a,n.destroy(),9);case 9:return a.return([]);case 7:return i=[],_(a,Promise.all(r.sessionIds.map((function(e){return D((function(t){return 1==t.a?(w(t,2),_(t,function(e,t){var r,n,i;return D((function(a){return 1==a.a?_(a,dr(e,t),2):(r=a.b)?(n=[],(i=e.f.get(r))&&(i.Aa=new Le,n.push(i.Aa)),n.push(r.remove()),_(a,Promise.all(n),0)):a.return()}))}(n,e),4)):2!=t.a?(i.push(e),T(t,0)):(x(t),void E(t))}))}))),10);case 10:return _(a,n.destroy(),11);case 11:return a.return(i)}}))}(e,t,o),_(u,s,5);case 5:l=u.b,n=n.concat(l),a=i.next(),u.u(2);break;case 4:return u.return(n)}}))}function sd(e,t){function r(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&bt(e.audioCapabilities,t.audioCapabilities,r)&&bt(e.videoCapabilities,t.videoCapabilities,r)}function ld(e,t){var r=td(new ed(e.ya(),e.ca()),t),n=t.appMetadata||{};return r=ud(r),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:r,appMetadata:n}}function ud(e){for(var t=[],r=function(e){return e.filter((function(e){return Gn(e)}))}(e.variants),n=(r=c(r)).next();!n.done;n=r.next())t.push(Vn(n.value));for(r=(e=c(e.textStreams)).next();!r.done;r=e.next())t.push($n(r.value));return t}function cd(){this.a={}}function dd(e,t){var r=e.a[t];return null==r&&(r=0),r}function fd(e){var t=this;if(e&&e.constructor!=Ba)throw new ue(2,9,9008);this.N=this.i=null,e?(this.i=e.i,this.N=e.Fb()):(this.i=Ca(),this.N=new wt),this.rc=[],this.Lb=[],this.cd=[],this.a=new Map,this.a.set(null,Promise.resolve(null)),this.b=new Map;var r=!e;this.F=new Mt((function(){var e,n,i,a,o;return D((function(s){switch(s.a){case 1:return _(s,Promise.all(t.cd.map((function(e){return Ac(e)}))),2);case 2:for(e=function(){},n=[],i=c(t.Lb),a=i.next();!a.done;a=i.next())o=a.value,n.push(o.then(e,e));return _(s,Promise.all(n),3);case 3:if(!r){s.u(4);break}return _(s,t.N.destroy(),4);case 4:t.i=null,t.N=null,E(s)}}))}))}function pd(){if(Kt())e:{for(var e=c(Wc.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function hd(e,t){for(var r=[],n=c(e.streams),i=n.next();!i.done;i=n.next())i=i.value,t&&"video"==i.type?r.push({contentType:Vt(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=i.type||r.push({contentType:Vt(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return r}function gd(e,t,r){return D((function(n){return _(n,function(e,t,r,n){var i,a,o;return D((function(s){return 1==s.a?n.drmInfo?(i=function(e){var t=Array.from(e.a.keys());if(!t.length)throw new ue(2,9,9e3,"No supported storage mechanisms found");return e.a.get(t[0]).getEmeSessionCell()}(r),a=n.sessionIds.map((function(e){return{sessionId:e,keySystem:n.drmInfo.keySystem,licenseUri:n.drmInfo.licenseServerUri,serverCertificate:n.drmInfo.serverCertificate,audioCapabilities:hd(n,!1),videoCapabilities:hd(n,!0)}})),_(s,od(t,e,a),2)):s.return():3!=s.a?(o=s.b,_(s,i.remove(o),3)):_(s,i.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}(e.N,e.i.drm,r,t),0)}))}function md(e,t,r){function n(){}var i=function(e){for(var t=[],r=(e=c(e.streams)).next();!r.done;r=e.next())for(var n=(r=c(r.value.segments)).next();!n.done;n=r.next())null!=(n=n.value).initSegmentKey&&t.push(n.initSegmentKey),t.push(n.dataKey);return t}(r);return ld(t,r),Promise.all([e.removeSegments(i,n),e.removeManifests([t.key()],n)])}function vd(e,t,r,n,i,a,o){var s={id:a.id,originalId:a.originalId,primary:a.primary,type:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:a.pixelAspectRatio,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,encrypted:a.encrypted,keyIds:a.keyIds,segments:[],variantIds:[],roles:a.roles,channelsCount:a.channelsCount,audioSamplingRate:a.audioSamplingRate,closedCaptions:a.closedCaptions},l=a.id;return function(e,t,r){if(null!=(t=e.segmentIndex.find(t)))for(var n=e.segmentIndex.get(t);n;)r(n),n=e.segmentIndex.get(++t)}(a,i.presentationTimeline.Ra(),(function(i){var u=function(e,t,r,n,i,a,o,s){return e.a.has(o)?e.a.get(o):(s=Xi(o.c(),o.b,o.a,s.streaming.retryParameters),t=Cc(t,r,s,.5*dd(a,n),!0,(function(t){var r;return D((function(n){return 1==n.a?_(n,i.addSegments([{data:t}]),2):(r=n.b,e.rc.push(r[0]),n.return(r[0]))}))})),e.a.set(o,t),t)}(e,t,l,a.id,r,n,i.f,o),c=function(e,t,r,n,i,a,o,s){var l=[o.c()[0],o.b,o.a].join("-");return e.b.has(l)?e.b.get(l):(s=Xi(o.c(),o.b,o.a,s.streaming.retryParameters),t=Cc(t,r,s,function(e,t,r){return r=r.endTime-r.startTime,dd(e,t)*r}(a,n,o),!1,(function(t){var r;return D((function(n){return 1==n.a?_(n,i.addSegments([{data:t}]),2):(r=n.b,e.rc.push(r[0]),n.return(r[0]))}))})),e.b.set(l,t),t)}(e,t,l,a.id,r,n,i,o);!function(e,t,r){It(e.F);var n=(e.a.get(t)||Promise.resolve()).then((function(){return D((function(e){return _(e,r(),0)}))}));e.a.set(t,n)}(t,l,(function(){var e,t;return D((function(r){return 1==r.a?_(r,u,2):3!=r.a?(e=r.b,_(r,c,3)):(t=r.b,s.segments.push({initSegmentKey:e,startTime:i.startTime,endTime:i.endTime,appendWindowStart:i.appendWindowStart,appendWindowEnd:i.appendWindowEnd,timestampOffset:i.timestampOffset,dataKey:t}),void E(r))}))}))})),s}function yd(e){if(e.F.a)throw new ue(2,9,7001)}function bd(){if(!pd())throw new ue(2,9,9e3)}function kd(e,t){return D((function(r){return 1==r.a?(e.Lb.push(t),S(r),_(r,t,4)):2!=r.a?r.return(r.b):(O(r),yt(e.Lb,t),P(r,0))}))}function _d(e){for(var t=new Set,r=c(e.textStreams),n=r.next();!n.done;n=r.next())t.add(n.value);for(r=(e=c(e.variants)).next();!r.done;r=e.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video);return t}v(Kc,Lc),Kc.prototype.updateManifestExpiration=function(e,t){var r,n,i,a=this;return D((function(o){return r=Dc(a.b,a.a),n=r.store(),i=new Le,n.get(e).onsuccess=function(r){(r=r.target.result)?(r.expiration=t,n.put(r),i.resolve()):i.reject(new ue(2,9,9012,"Could not find values for "+e))},_(o,Promise.all([r.promise(),i]),0)}))},Kc.prototype.Bb=function(e){var t,r,n,i,a,o;return D((function(s){if(1==s.a){for(t=[],r=0;r<e.periods.length;++r)n=r==e.periods.length-1?e.duration:e.periods[r+1].startTime,i=n-e.periods[r].startTime,a=Hc(e.periods[r],i),t.push(a);return _(s,Zl(t),2)}return o=s.b,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})}))},Kc.prototype.wd=function(e){return{data:e.data}},v(Zc,Lc),Zc.prototype.Bb=function(e){var t,r,n,i,a,o;return D((function(s){if(1==s.a){for(t=[],r=0;r<e.periods.length;++r){n=r==e.periods.length-1?e.duration:e.periods[r+1].startTime,i=n-e.periods[r].startTime;for(var l=e.periods[r],u=[],d=c(l.streams),f=d.next();!f.done;f=d.next())0!=(f=f.value).variantIds.length&&u.push(qc(f,l.startTime,l.startTime+i));a=u,t.push(a)}return _(s,Zl(t),2)}return o=s.b,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o})}))},v(Xc,Lc),Xc.prototype.hasFixedKeySpace=function(){return!1},Xc.prototype.addSegments=function(e){return this.add(this.c,e)},Xc.prototype.addManifests=function(e){return this.add(this.a,e)},Xc.prototype.Bb=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(n=Yc.prototype).init=function(){var t=this,r=new Le,n=e.indexedDB.open("shaka_offline_db",5);return n.onsuccess=function(){var e=n.result;t.g=e;var i=e.objectStoreNames;i=i.contains("manifest")&&i.contains("segment")?new Kc(e,"segment","manifest"):null,t.a=i,i=(i=e.objectStoreNames).contains("manifest-v2")&&i.contains("segment-v2")?new Zc(e,"segment-v2","manifest-v2"):null,t.b=i,i=(i=e.objectStoreNames).contains("manifest-v3")&&i.contains("segment-v3")?new Zc(e,"segment-v3","manifest-v3"):null,t.c=i,i=(i=e.objectStoreNames).contains("manifest-v5")&&i.contains("segment-v5")?new Xc(e,"segment-v5","manifest-v5"):null,t.f=i,e=e.objectStoreNames.contains("session-ids")?new Fc(e):null,t.h=e,r.resolve()},n.onupgradeneeded=function(){for(var e=n.result,t=c(["segment-v5","manifest-v5","session-ids"]),r=t.next();!r.done;r=t.next())r=r.value,e.objectStoreNames.contains(r)||e.createObjectStore(r,{autoIncrement:!0})},n.onerror=function(e){r.reject(new ue(2,9,9001,n.error)),e.preventDefault()},r},n.destroy=function(){var e=this;return D((function(t){switch(t.a){case 1:if(!e.a){t.u(2);break}return _(t,e.a.destroy(),2);case 2:if(!e.b){t.u(4);break}return _(t,e.b.destroy(),4);case 4:if(!e.c){t.u(6);break}return _(t,e.c.destroy(),6);case 6:if(!e.f){t.u(8);break}return _(t,e.f.destroy(),8);case 8:if(!e.h){t.u(10);break}return _(t,e.h.destroy(),10);case 10:e.g&&e.g.close(),E(t)}}))},n.getCells=function(){var e=new Map;return this.a&&e.set("v1",this.a),this.b&&e.set("v2",this.b),this.c&&e.set("v3",this.c),this.f&&e.set("v5",this.f),e},n.getEmeSessionCell=function(){return this.h},n.erase=function(){var t=this;return D((function(r){switch(r.a){case 1:if(!t.a){r.u(2);break}return _(r,t.a.destroy(),2);case 2:if(!t.b){r.u(4);break}return _(r,t.b.destroy(),4);case 4:if(!t.c){r.u(6);break}return _(r,t.c.destroy(),6);case 6:if(!t.f){r.u(8);break}return _(r,t.f.destroy(),8);case 8:return t.g&&t.g.close(),_(r,function(){var t=new Le,r=e.indexedDB.deleteDatabase("shaka_offline_db");return r.onblocked=function(){},r.onsuccess=function(){t.resolve()},r.onerror=function(e){t.reject(new ue(2,9,9001,r.error)),e.preventDefault()},t}(),10);case 10:return t.g=null,t.a=null,t.b=null,t.c=null,t.f=null,_(r,t.init(),0)}}))},$c("idb",(function(){return Xt("CrKey")||!e.indexedDB?null:new Yc})),Qc.prototype.ya=function(){return this.g},Qc.prototype.ca=function(){return this.f},Qc.prototype.key=function(){return this.c},Qc.prototype.toString=function(){return this.b},(n=nd.prototype).configure=function(){},n.start=function(e,t){var r,n,i,a,o,s,l=this;return D((function(u){switch(u.a){case 1:if(r=Jc(e),l.a=r,null==r||"manifest"!=r.a)throw new ue(2,1,9004,e);return n=new zc,S(u),_(u,n.init(),4);case 4:return _(u,Vc(n,r.ya(),r.ca()),5);case 5:return _(u,u.b.getManifests([r.key()]),6);case 6:return i=u.b,a=i[0],o=new ed(r.ya(),r.ca()),s=td(o,a),t.makeTextStreamsForClosedCaptions(s),u.return(s);case 2:return O(u),_(u,n.destroy(),7);case 7:P(u,0)}}))},n.stop=function(){return Promise.resolve()},n.update=function(){},n.onExpirationUpdated=function(e,t){var r,n,i,a,o,s,l,u=this;return D((function(c){switch(c.a){case 1:return r=u.a,n=new zc,w(c,2,3),_(c,n.init(),5);case 5:return _(c,Vc(n,r.ya(),r.ca()),6);case 6:return _(c,(i=c.b).getManifests([r.key()]),7);case 7:if(a=c.b,o=a[0],s=o.sessionIds.includes(e),l=void 0==o.expiration||o.expiration>t,!s||!l){c.u(3);break}return _(c,i.updateManifestExpiration(r.key(),t),3);case 3:return O(c),_(c,n.destroy(),10);case 10:P(c,0);break;case 2:x(c),c.u(3)}}))},pi["application/x-offline-manifest"]=function(){return new nd},z("shaka.offline.OfflineScheme",id),id.plugin=ad,St("offline",ad),(n=fd.prototype).destroy=function(){return this.F.destroy()},n.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=Pa(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(Te("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),Ma(this.i,e)},n.getConfiguration=function(){var e=Ca();return Ma(e,this.i,Ca()),e},n.Fb=function(){return this.N},n.store=function(e,t,r){var n=this,i=this.getConfiguration(),a=new Pc(this.N);this.cd.push(a);var o=new ot(t=function(e,t,r,n,i,a){var o,s,l,u,d,f,p,h,g,m;return D((function(v){switch(v.a){case 1:return bd(),s=o=null,l=new zc,d=u=null,w(v,2,3),_(v,n(),5);case 5:return o=v.b,_(v,function(e,t,r,n){var i,a,o,s,l;return D((function(u){if(1==u.a)return i=null,a=e.N,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e}},r.configure(n.manifest),yd(e),_(u,r.start(t,o),2);if(3!=u.a)return s=u.b,yd(e),l=_d(s),_(u,Promise.all(J(l,(function(e){return e.createSegmentIndex()}))),3);if(yd(e),i)throw i;return u.return(s)}))}(e,t,o,i),6);case 6:if(f=v.b,yd(e),!(!f.presentationTimeline.S()&&!f.presentationTimeline.Ua()))throw new ue(2,9,9005,t);return _(v,function(e,t,r,n){var i;return D((function(a){switch(a.a){case 1:return(i=new er({nb:e.N,onError:r,nc:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(n.drm),_(a,function(e,t,r){return e.v=[],e.A=r,rr(e,t)}(i,t.variants,n.offline.usePersistentLicense),2);case 2:return _(a,nr(i),3);case 3:return _(a,ir(i),4);case 4:return a.return(i)}}))}(e,f,(function(e){d=d||e}),i),7);case 7:if(s=v.b,yd(e),d)throw d;return _(v,e.gb(f,s,i),8);case 8:return _(v,l.init(),9);case 9:return yd(e),_(v,function(e){var t=null;if(e.a.forEach((function(e,r){e.getCells().forEach((function(e,n){e.hasFixedKeySpace()||t||(t={path:{ya:r,ca:n},ca:e})}))})),t)return t;throw new ue(2,9,9013,"Could not find a cell that supports add-operations")}(l),10);case 10:return u=v.b,yd(e),_(v,function(e,t,r,n,i,a,o,s){var l,u,d,f,p,h,g,m,v,y;return D((function(b){switch(b.a){case 1:return l=function(e,t,r){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=ud(t),appMetadata:r}}(i,n,a),u=o.offline.progressCallback,function(e,t,r){e.Md=t,e.Ld=r}(s,(function(e,t){l.size=t,u(l,e)}),(function(e,t){p&&o.offline.usePersistentLicense&&h==t&&ar(r,"cenc",e)})),d=n.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})),f=n.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))})),h=null,(p=d&&!f)&&(g=r.c,h=Ed.get(g.keySystem)),S(b),v=m=function(e,t,r,n,i,a,o,s){for(var l=new cd,u=c(i.variants),d=u.next();!d.done;d=u.next()){var f=l,p=(d=d.value).audio,h=d.video;if(p&&!h&&(f.a[p.id]=p.bandwidth||d.bandwidth),!p&&h&&(f.a[h.id]=h.bandwidth||d.bandwidth),p&&h){var g=p.bandwidth||393216,m=h.bandwidth||d.bandwidth-g;0>=m&&(m=d.bandwidth),f.a[p.id]=g,f.a[h.id]=m}}for(u=c(i.textStreams),f=u.next();!f.done;f=u.next())l.a[f.value.id]=52;for(f=_d(i),u=new Map,f=c(f),d=f.next();!d.done;d=f.next())d=d.value,p=vd(e,t,r,l,i,d,s),u.set(d.id,p);for(e=c(i.variants),d=e.next();!d.done;d=e.next())(t=d.value).audio&&u.get(t.audio.id).variantIds.push(t.id),t.video&&u.get(t.video.id).variantIds.push(t.id);return e=Array.from(u.values()),s=s.offline.usePersistentLicense,(t=n.c)&&s&&(t.initData=[]),{creationTime:Date.now(),originalManifestUri:a,duration:i.presentationTimeline.getDuration(),size:0,expiration:n.Eb(),streams:e,sessionIds:s?lr(n):[],drmInfo:t,appMetadata:o}}(e,s,t,r,n,i,a,o),_(b,function(e){return D((function(t){return 1==t.a?_(t,Promise.all(e.a.values()),2):t.return(e.Cb.a)}))}(s),4);case 4:if(v.size=b.b,m.expiration=r.Eb(),y=lr(r),m.sessionIds=o.offline.usePersistentLicense?y:[],d&&o.offline.usePersistentLicense&&!y.length)throw new ue(2,9,9007);return b.return(m);case 2:return O(b),_(b,s.destroy(),5);case 5:P(b,0)}}))}(e,u.ca,s,f,t,r,i,a),11);case 11:if(p=v.b,yd(e),d)throw d;return _(v,u.ca.addManifests([p]),12);case 12:return h=v.b,yd(e),g=new Qc("manifest",u.path.ya,u.path.ca,h[0]),v.return(ld(g,p));case 3:return O(v),e.rc=[],_(v,l.destroy(),13);case 13:if(!o){v.u(14);break}return _(v,o.stop(),14);case 14:if(!s){v.u(16);break}return _(v,s.destroy(),16);case 16:P(v,0);break;case 2:if(m=x(v),!u){v.u(18);break}return _(v,u.ca.removeSegments(e.rc,(function(){})),18);case 18:throw d||m}}))}(this,e,t||{},(function(){var t;return D((function(a){return 1==a.a?_(a,di(e,n.N,i.manifest.retryParameters,r||null),2):(t=a.b,a.return(Ie(t)))}))}),i,a),(function(){return Ac(a)}));return o.finally((function(){yt(n.cd,a)})),o.then=function(e){return Te("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),o.promise.then(e)},function(e,t){var r=t.promise;return e.Lb.push(r),t.finally((function(){yt(e.Lb,r)}))}(this,o)},n.Be=function(){return Te("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},n.gb=function(e,t,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,y;return D((function(b){if(1==b.a){for(n={width:1/0,height:1/0},function(e,t,r){e.variants=e.variants.filter((function(e){return Fn(e,t,r)}))}(e,r.restrictions,n),function(e){e.variants=e.variants.filter((function(e){var t=!0;return e.audio&&(t=t&&gn(e.audio)),e.video&&(t=t&&gn(e.video)),t}))}(e),function(e,t){e.variants=e.variants.filter((function(e){return mr(t,e)}))}(e,t),i=[],a=r.preferredAudioChannelCount,Bn(e,a),o=c(e.variants),s=o.next();!s.done;s=o.next())l=s.value,i.push(Vn(l));for(u=c(e.textStreams),d=u.next();!d.done;d=u.next())f=d.value,i.push($n(f));return _(b,r.offline.trackSelectionCallback(i),2)}for(p=b.b,h=new Set,g=new Set,m=c(p),v=m.next();!v.done;v=m.next())"variant"==(y=v.value).type&&h.add(y.id),"text"==y.type&&g.add(y.id);e.variants=e.variants.filter((function(e){return h.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return g.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var r=c(t),n=r.next();!n.done;n=r.next())for(var i=(n=c(t)).next();!i.done;i=n.next());for(t=c(e),r=t.next();!r.done;r=t.next())for(r=c(e),n=r.next();!n.done;n=r.next());}(e),E(b)}))},n.remove=function(e){return kd(this,function(e,t){var r,n,i,a,o,s;return D((function(l){switch(l.a){case 1:if(bd(),null==(r=Jc(t))||"manifest"!=r.a)throw new ue(2,9,9004,t);return n=r,i=new zc,S(l),_(l,i.init(),4);case 4:return _(l,Vc(i,n.ya(),n.ca()),5);case 5:return _(l,(a=l.b).getManifests([n.key()]),6);case 6:return o=l.b,s=o[0],_(l,Promise.all([gd(e,s,i),md(a,n,s)]),2);case 2:return O(l),_(l,i.destroy(),8);case 8:P(l,0)}}))}(this,e))},n.Te=function(){return kd(this,function(e){var t,r,n,i,a,o,s,l,u,d;return D((function(f){switch(f.a){case 1:return bd(),t=e.N,r=e.i.drm,n=new zc,i=!1,S(f),_(f,n.init(),4);case 4:a=[],function(e,t){e.a.forEach((function(e){t(e.getEmeSessionCell())}))}(n,(function(e){return a.push(e)})),o=c(a),s=o.next();case 5:if(s.done){f.u(2);break}return _(f,(l=s.value).getAll(),8);case 8:return u=f.b,_(f,od(r,t,u),9);case 9:return d=f.b,_(f,l.remove(d),10);case 10:d.length!=u.length&&(i=!0),s=o.next(),f.u(5);break;case 2:return O(f),_(f,n.destroy(),11);case 11:P(f,3);break;case 3:return f.return(!i)}}))}(this))},n.list=function(){return kd(this,function(){var e,t,r;return D((function(n){switch(n.a){case 1:return bd(),e=[],t=new zc,S(n),_(n,t.init(),4);case 4:return r=Promise.resolve(),function(e,t){e.a.forEach((function(e,r){e.getCells().forEach((function(e,n){t({ya:r,ca:n},e)}))}))}(t,(function(t,n){r=r.then((function(){return D((function(r){if(1==r.a)return _(r,n.getAllManifests(),2);r.b.forEach((function(r,n){var i=ld(new Qc("manifest",t.ya,t.ca,n),r);e.push(i)})),E(r)}))}))})),_(n,r,2);case 2:return O(n),_(n,t.destroy(),6);case 6:P(n,3);break;case 3:return n.return(e)}}))}())},z("shaka.offline.Storage",fd),fd.deleteAll=function(){var e;return D((function(t){return 1==t.a?(e=new zc,S(t),_(t,function(e){var t,r;return D((function(n){return 1==n.a?(t=Array.from(e.a.values()),(r=0<t.length)||Wc.forEach((function(e){(e=e())&&t.push(e)})),_(n,Promise.all(t.map((function(e){return e.erase()}))),2)):r?n.u(0):_(n,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.a?(O(t),_(t,e.destroy(),5)):P(t,0)}))},fd.prototype.list=fd.prototype.list,fd.prototype.removeEmeSessions=fd.prototype.Te,fd.prototype.remove=fd.prototype.remove,fd.prototype.getStoreInProgress=fd.prototype.Be,fd.prototype.store=fd.prototype.store,fd.prototype.getNetworkingEngine=fd.prototype.Fb,fd.prototype.getConfiguration=fd.prototype.getConfiguration,fd.prototype.configure=fd.prototype.configure,fd.prototype.destroy=fd.prototype.destroy,fd.support=pd;var Ed=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function wd(){}function Sd(e,t){for(var r={priority:t||0,ce:e},n=c(te(Td)),i=n.next();!i.done;i=n.next()){var a=(i=i.value).Z;if(i.item.priority<r.priority)return void Td.splice(a,0,r)}Td.push(r)}Xo.offline=pd,z("shaka.polyfill",wd),wd.register=Sd,wd.installAll=function(){for(var e=c(Td),t=e.next();!t.done;t=e.next()){t=t.value;try{t.ce()}catch(r){Z("Error installing polyfill!",r)}}};var Td=[];function xd(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var r=new Event(t,e);else(r=document.createEvent("Event")).initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(r)}function Od(e,t,r){if("input"==e)switch(this.type){case"range":e="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,e,t,r)}function Pd(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var r=[],n=0;n<arguments.length;++n)r[n]=arguments[n];return(r=e.apply(this,r)).abort=function(){},r}}function Ad(e,t){try{var r=new Id(e,t);return Promise.resolve(r)}catch(n){return Promise.reject(n)}}function Cd(e){var t=this.mediaKeys;return t&&t!=e&&Dd(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Dd(e,this):Promise.resolve()}function Md(e){if(se(e=oe(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=Ve(e=Fe(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=ae(e),this.dispatchEvent(t)}function Id(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var r=c(t),n=r.next();!n.done;n=r.next()){var i=n.value;if("required"==i.persistentState)n=null;else{n={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),l=s.next();!l.done;l=s.next())(l=l.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(n.audioCapabilities.push(l),o=!0));if(i.videoCapabilities)for(l=(i=c(i.videoCapabilities)).next();!l.done;l=i.next())(s=l.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(n.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),n=o?n:null}if(n)return void(this.a=n)}throw(r=Error("Unsupported keySystem")).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r}function Rd(e){this.a=new WebKitMediaKeys(e),this.b=new Rt}function Dd(e,t){if(e.b.Xa(),!t)return Promise.resolve();e.b.l(t,"webkitneedkey",Md);try{return wi(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.webkitSetMediaKeys(e.a)})),Promise.resolve()}catch(r){return Promise.reject(r)}}function jd(e){ht.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new Rt,this.sessionId="",this.expiration=NaN,this.closed=new Le,this.keyStatuses=new Nd}function Ld(e,t){var r=e.keyStatuses;r.size=void 0==t?0:1,r.a=t,r=new ft("keystatuseschange"),e.dispatchEvent(r)}function Nd(){this.size=0,this.a=void 0}function Ud(e,t){try{var r=new Fd(e,t);return Promise.resolve(r)}catch(n){return Promise.reject(n)}}function Bd(e){if(e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=ae(function(e){if(!e)return e;var t=new rl(e);if(1>=t.data.length)return e;e=[];for(var r={},n=(t=c(t.data)).next();!n.done;r={Sb:r.Sb},n=t.next())r.Sb=n.value,e.some(function(e){return function(t){return ne(t,e.Sb)}}(r))||e.push(r.Sb);return Qe.apply(He,d(e))}(e.initData)),this.dispatchEvent(t)}}function Fd(e,t){this.keySystem=e;for(var r=!1,n=c(t),i=n.next();!i.done;i=n.next()){var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(i=i.value).initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),l=s.next();!l.done;l=s.next())(l=l.value).contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(a.audioCapabilities.push(l),r=!0));if(i.videoCapabilities)for(l=(s=c(i.videoCapabilities)).next();!l.done;l=s.next())(l=l.value).contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(a.videoCapabilities.push(l),r=!0));if(o||(r=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(r=!1),r)return void(this.a=a)}throw(r=Error("Unsupported keySystem")).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r}function zd(e){var t=this.mediaKeys;return t&&t!=e&&$d(t,null),delete this.mediaKeys,(this.mediaKeys=e)?$d(e,this):Promise.resolve()}function Vd(e){this.a=new MSMediaKeys(e),this.b=new Rt}function $d(e,t){if(e.b.Xa(),!t)return Promise.resolve();e.b.l(t,"msneedkey",Bd);try{return wi(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.msSetMediaKeys(e.a)})),Promise.resolve()}catch(r){return Promise.reject(r)}}function Wd(e){ht.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new Rt,this.sessionId="",this.expiration=NaN,this.closed=new Le,this.keyStatuses=new Hd}function Kd(e,t){var r=e.keyStatuses;r.size=void 0==t?0:1,r.a=t,r=new ft("keystatuseschange"),e.dispatchEvent(r)}function Hd(){this.size=0,this.a=void 0}function Gd(){return Promise.reject(Error("The key system specified is not supported."))}function Zd(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function qd(){throw new TypeError("Illegal constructor.")}function Xd(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Yd(e){return uf?uf+e.charAt(0).toUpperCase()+e.slice(1):e}function Qd(e,t){try{var r=new ef(e,t);return Promise.resolve(r)}catch(n){return Promise.reject(n)}}function Jd(e){var t=this.mediaKeys;return t&&t!=e&&rf(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&rf(e,this),Promise.resolve()}function ef(e,t){this.a=this.keySystem=e;var r=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",r=!1);var n=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=c(t),o=a.next();!o.done;o=a.next()){var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(o=o.value).initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var u=c(o.audioCapabilities),d=u.next();!d.done;d=u.next())(d=d.value).contentType&&(l=!0,i.canPlayType(d.contentType.split(";")[0],this.a)&&(s.audioCapabilities.push(d),n=!0));if(o.videoCapabilities)for(d=(u=c(o.videoCapabilities)).next();!d.done;d=u.next())(d=d.value).contentType&&(l=!0,i.canPlayType(d.contentType,this.a)&&(s.videoCapabilities.push(d),n=!0));if(l||(n=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(r?(s.persistentState="required",s.sessionTypes=["persistent-license"]):n=!1),n)return void(this.b=s)}throw r="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(r="None of the requested configurations were supported."),(r=Error(r)).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r}function tf(e){this.g=e,this.a=null,this.b=new Rt,this.c=[],this.f=new Map}function rf(e,t){e.a=t,e.b.Xa();var r=uf;t&&(e.b.l(t,r+"needkey",(function(t){var r=document.createEvent("CustomEvent");r.initCustomEvent("encrypted",!1,!1,null),r.initDataType="cenc",r.initData=ae(t.initData),e.a.dispatchEvent(r)})),e.b.l(t,r+"keymessage",(function(t){var r=nf(e,t.sessionId);r&&(t=new ft("message",{messageType:void 0==r.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),r.b&&(r.b.resolve(),r.b=null),r.dispatchEvent(t))})),e.b.l(t,r+"keyadded",(function(t){(t=nf(e,t.sessionId))&&(sf(t,"usable"),t.a&&t.a.resolve(),t.a=null)})),e.b.l(t,r+"keyerror",(function(t){var r=nf(e,t.sessionId);r&&r.handleError(t)})))}function nf(e,t){var r=e.f.get(t);return r||((r=e.c.shift())?(r.sessionId=t,e.f.set(t,r),r):null)}function af(e,t,r){ht.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=r,this.sessionId="",this.expiration=NaN,this.closed=new Le,this.keyStatuses=new lf}function of(e,t,r){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(r)var n=oe(Ve("LOAD_SESSION|"+r));else{var i=Ve("PERSISTENT|");n=Qe(i,t)}else n=oe(t)}catch(o){return Promise.reject(o)}e.b=new Le;var a=Yd("generateKeyRequest");try{e.f[a](e.c,n)}catch(o){if("InvalidStateError"!=o.name)return e.b=null,Promise.reject(o);new nt((function(){try{e.f[a](e.c,n)}catch(t){e.b.reject(t),e.b=null}})).R(.01)}return e.b}function sf(e,t){var r=e.keyStatuses;r.size=void 0==t?0:1,r.a=t,r=new ft("keystatuseschange"),e.dispatchEvent(r)}function lf(){this.size=0,this.a=void 0}Sd((function(){up()}),-1),Sd((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",xd),document.addEventListener("webkitfullscreenerror",xd),document.addEventListener("mozfullscreenchange",xd),document.addEventListener("mozfullscreenerror",xd),document.addEventListener("MSFullscreenChange",xd),document.addEventListener("MSFullscreenError",xd)}})),Sd((function(){Xt("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Od)})),Sd((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),Sd((function(){})),Sd((function(){var t=qt();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var r=t.split(/ *; */);return r.shift(),r.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}}():t?(function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}}(),12>=t?(Pd(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,r){return e.call(this,t,r-.001)}}()):Pd()):(Xt("Tizen 2")||Xt("Tizen 3")||Xt("Tizen 4"))&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=$t(t)&&e(t)}}())})),Id.prototype.createMediaKeys=function(){var e=new Rd(this.keySystem);return Promise.resolve(e)},Id.prototype.getConfiguration=function(){return this.a},Rd.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new jd(this.a,e)},Rd.prototype.setServerCertificate=function(){return Promise.resolve(!1)},v(jd,ht),(n=jd.prototype).generateRequest=function(e,t){var r=this;this.a=new Le;try{var n=this.g.createSession("video/mp4",oe(t));this.f=n,this.sessionId=n.sessionId||"",this.b.l(this.f,"webkitkeymessage",(function(e){r.a&&(r.a.resolve(),r.a=null),e=new ft("message",{messageType:void 0==r.keyStatuses.a?"license-request":"license-renewal",message:ae(e.message)}),r.dispatchEvent(e)})),this.b.l(n,"webkitkeyadded",(function(){r.c&&(Ld(r,"usable"),r.c.resolve(),r.c=null)})),this.b.l(n,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=r.f.error,null!=r.a)r.a.reject(e),r.a=null;else if(null!=r.c)r.c.reject(e),r.c=null;else switch(r.f.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Ld(r,"output-not-allowed");break;default:Ld(r,"internal-error")}})),Ld(this,"status-pending")}catch(i){this.a.reject(i)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.c=new Le;try{this.f.update(oe(e))}catch(t){this.c.reject(t)}return this.c},n.close=function(){try{this.f.close(),this.closed.resolve(),this.b.Xa()}catch(cp){this.closed.reject(cp)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(n=Nd.prototype).forEach=function(e){this.a&&e(this.a,wr.value())},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=wr.value();return!(!this.a||!ne(e,t))},n.entries=function(){},n.keys=function(){},n.values=function(){},Sd((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Cd,e.MediaKeys=Rd,e.MediaKeySystemAccess=Id,navigator.requestMediaKeySystemAccess=Ad)})),Fd.prototype.createMediaKeys=function(){var e=new Vd(this.keySystem);return Promise.resolve(e)},Fd.prototype.getConfiguration=function(){return this.a},Vd.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Wd(this.a,e)},Vd.prototype.setServerCertificate=function(){return Promise.resolve(!1)},v(Wd,ht),(n=Wd.prototype).generateRequest=function(e,t){var r=this;this.a=new Le;try{this.f=this.g.createSession("video/mp4",oe(t),null),this.b.l(this.f,"mskeymessage",(function(e){r.a&&(r.a.resolve(),r.a=null),e=new ft("message",{messageType:void 0==r.keyStatuses.a?"license-request":"license-renewal",message:ae(e.message)}),r.dispatchEvent(e)})),this.b.l(this.f,"mskeyadded",(function(){r.a?(Kd(r,"usable"),r.a.resolve(),r.a=null):r.c&&(Kd(r,"usable"),r.c.resolve(),r.c=null)})),this.b.l(this.f,"mskeyerror",(function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=r.f.error,null!=r.a)r.a.reject(e),r.a=null;else if(null!=r.c)r.c.reject(e),r.c=null;else switch(r.f.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Kd(r,"output-not-allowed");break;default:Kd(r,"internal-error")}})),Kd(this,"status-pending")}catch(n){this.a.reject(n)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.c=new Le;try{this.f.update(oe(e))}catch(t){this.c.reject(t)}return this.c},n.close=function(){try{this.f.close(),this.closed.resolve(),this.b.Xa()}catch(cp){this.closed.reject(cp)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(n=Hd.prototype).forEach=function(e){this.a&&e(this.a,wr.value())},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=wr.value();return!(!this.a||!ne(e,t))},n.entries=function(){},n.keys=function(){},n.values=function(){},Sd((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,e.MediaKeys=Vd,e.MediaKeySystemAccess=Fd,navigator.requestMediaKeySystemAccess=Ud,HTMLMediaElement.prototype.setMediaKeys=zd)})),qd.prototype.createSession=function(){},qd.prototype.setServerCertificate=function(){},Xd.prototype.getConfiguration=function(){},Xd.prototype.createMediaKeys=function(){},Sd((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Gd,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Zd,e.MediaKeys=qd,e.MediaKeySystemAccess=Xd)}),-10),ef.prototype.createMediaKeys=function(){var e=new tf(this.a);return Promise.resolve(e)},ef.prototype.getConfiguration=function(){return this.b},tf.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.a||document.createElement("video");return t.src||(t.src="about:blank"),e=new af(t,this.g,e),this.c.push(e),e},tf.prototype.setServerCertificate=function(){return Promise.resolve(!1)},v(af,ht),(n=af.prototype).handleError=function(e){var t=Error("EME v0.1b key error"),r=e.errorCode;r.systemCode=e.systemCode,t.errorCode=r,!e.sessionId&&this.b?(45==e.systemCode&&(t.message="Unsupported session type."),this.b.reject(t),this.b=null):e.sessionId&&this.a?(this.a.reject(t),this.a=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?sf(this,"output-restricted"):sf(this,1==t?"expired":"internal-error"))},n.generateRequest=function(e,t){return of(this,t,null)},n.load=function(e){return"persistent-license"==this.g?of(this,null,e):Promise.reject(Error("Not a persistent session."))},n.update=function(e){var t=new Le;return function e(t,r,n){if(t.a)t.a.then((function(){return e(t,r,n)})).catch((function(){return e(t,r,n)}));else{if(t.a=r,"webkit-org.w3.clearkey"==t.c){var i=Be(n),a=JSON.parse(i);"oct"!=a.keys[0].kty&&(t.a.reject(Error("Response is not a valid JSON Web Key Set.")),t.a=null),i=qe(a.keys[0].k),a=qe(a.keys[0].kid)}else i=oe(n),a=null;var o=Yd("addKey");try{t.f[o](t.c,i,a,t.sessionId)}catch(s){t.a.reject(s),t.a=null}}}(this,t,e),t},n.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Yd("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(n=lf.prototype).forEach=function(e){this.a&&e(this.a,wr.value())},n.get=function(e){if(this.has(e))return this.a},n.has=function(e){var t=wr.value();return!(!this.a||!ne(e,t))},n.entries=function(){},n.keys=function(){},n.values=function(){};var uf="";function cf(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function df(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function ff(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function pf(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function hf(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function gf(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function mf(t,r,n){return new e.TextTrackCue(t,r,n)}function vf(t,r,n){return new e.TextTrackCue(t+"-"+r+"-"+n,t,r,n)}function yf(){}function bf(e){var t=[];if(!e)return t;for(var r=c(e.childNodes),n=r.next();!n.done;n=r.next())(n=n.value).nodeType==Node.ELEMENT_NODE&&"br"!==n.nodeName&&(n=bf(n),t=t.concat(n));return t.length||t.push(e),t}function kf(e,t,r,n,i,a,o,s,l,u){if(l&&"br"==e.nodeName)return(e=new Kr(0,0,"")).spacer=!0,e;var d=/^[\s\n]*$/.test(e.textContent),f=e.nodeType==Node.ELEMENT_NODE&&!e.hasAttribute("begin")&&!e.hasAttribute("end");if(e.nodeType!=Node.ELEMENT_NODE||f&&d||f&&!l)return null;d=Of(e.getAttribute("begin"),r),f=Of(e.getAttribute("end"),r);var p=Of(e.getAttribute("dur"),r);if(null==f&&null!=p&&(f=d+p),!l&&(null==d||null==f))throw new ue(2,2,2001);if(d=l&&null==d?0:d+t,f=l&&null==f?0:f+t,p="",l=[],Array.from(e.childNodes).some((function(e){return e.nodeType==Node.TEXT_NODE&&/\S+/.test(e.textContent)})))p=function e(t,r){for(var n="",i=c(t.childNodes),a=i.next();!a.done;a=i.next())"br"==(a=a.value).nodeName&&t.childNodes[0]!==a?n+="\n":a.childNodes&&0<a.childNodes.length?n+=e(a,r):r?n+=a=(a=a.textContent.trim()).replace(/\s+/g," "):n+=a.textContent;return n}(e,s);else for(var h=c(e.childNodes),g=h.next();!g.done;g=h.next())(g=kf(g.value,t,r,n,i,a,o,s,!0,u))&&(g.startTime=g.startTime||d,g.endTime=g.endTime||f,l.push(g));if((t=new Kr(d,f,p)).nestedCues=l,u&&(t.cellResolution=u),(a=xf(e,"region",a,"")[0])&&a.getAttribute("xml:id")){var m=a.getAttribute("xml:id");t.region=o.filter((function(e){return e.id==m}))[0]}return function(e,t,r,n,i){"rtl"==Ef(t,r,i,"direction")&&(e.direction="rtl");var a=Ef(t,r,i,"writingMode");"tb"==a||"tblr"==a?e.writingMode="vertical-lr":"tbrl"==a?e.writingMode="vertical-rl":"rltb"==a||"rl"==a?e.direction="rtl":a&&(e.direction=Qr),(a=Ef(t,r,i,"textAlign"))?(e.positionAlign=$f[a],e.lineAlign=Vf[a],e.textAlign=qr[a.toUpperCase()]):e.textAlign="start",(a=Ef(t,r,i,"displayAlign"))&&(e.displayAlign=Yr[a.toUpperCase()]);(a=Ef(t,r,i,"color"))&&(e.color=a);(a=Ef(t,r,i,"backgroundColor"))&&(e.backgroundColor=a);(a=Ef(t,r,i,"border"))&&(e.border=a);(a=Ef(t,r,i,"fontFamily"))&&(e.fontFamily=a);(a=Ef(t,r,i,"fontWeight"))&&"bold"==a&&(e.fontWeight=700),(a=Ef(t,r,i,"wrapOption"))&&"noWrap"==a&&(e.wrapLine=!1),(a=Ef(t,r,i,"lineHeight"))&&a.match(Df)&&(e.lineHeight=a),(a=Ef(t,r,i,"fontSize"))&&(a.match(Df)||a.match(Rf))&&(e.fontSize=a),(a=Ef(t,r,i,"fontStyle"))&&(e.fontStyle=on[a.toUpperCase()]);if(n){a=n.getAttribute("imagetype");var o=n.getAttribute("encoding");n=n.textContent.trim(),"PNG"==a&&"Base64"==o&&n&&(e.backgroundImage="data:image/png;base64,"+n)}(n=Ef(t,r,i,"letterSpacing"))&&n.match(Df)&&(e.letterSpacing=n),(n=Ef(t,r,i,"linePadding"))&&n.match(Df)&&(e.linePadding=n),(n=Ef(t,r,i,"opacity"))&&(e.opacity=parseFloat(n));(r=wf(r,i,"textDecoration"))&&_f(e,r),(t=Sf(t,i,"textDecoration"))&&_f(e,t)}(t,e,a,n=xf(e,"backgroundImage",n,"#","http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt")[0],i),t}function _f(e,t){for(var r=c(t.split(" ")),n=r.next();!n.done;n=r.next())switch(n.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&yt(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&yt(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&yt(e.textDecoration,"overline")}}function Ef(e,t,r,n){return(e=Sf(e,r,n))?e:wf(t,r,n)}function wf(e,t,r){if(!e)return null;for(var n=bf(e),i=(n=c(n)).next();!i.done;i=n.next())if(i=sl(i.value,"http://www.w3.org/ns/ttml#styling",r))return i;return Tf(e,t,r)}function Sf(e,t,r){var n=sl(e,"http://www.w3.org/ns/ttml#styling",r);return n||Tf(e,t,r)}function Tf(e,t,r){e=xf(e,"style",t,"");for(var n=null,i=0;i<e.length;i++){var a=sl(e[i],"urn:ebu:tt:style",r);a||(a=sl(e[i],"http://www.w3.org/ns/ttml#styling",r)),a||(a=Sf(e[i],t,r)),a&&(n=a)}return n}function xf(e,t,r,n,i){var a=[];if(!e||1>r.length)return a;var o=e;for(e=null;o&&!(e=i?sl(o,i,t):o.getAttribute(t))&&(o=o.parentNode)instanceof Element;);if(t=e)for(i=(t=c(t.split(" "))).next();!i.done;i=t.next())for(i=i.value,o=(e=c(r)).next();!o.done;o=e.next())if(n+(o=o.value).getAttribute("xml:id")==i){a.push(o);break}return a}function Of(e,t){var r=null;if(Lf.test(e)){r=Lf.exec(e);var n=Number(r[1]),i=Number(r[2]),a=Number(r[3]),o=Number(r[4]);r=(a+=(o+=(Number(r[5])||0)/t.b)/t.frameRate)+60*i+3600*n}else Nf.test(e)?r=Pf(Nf,e):Uf.test(e)?r=Pf(Uf,e):Bf.test(e)?(r=Bf.exec(e),r=Number(r[1])/t.frameRate):Ff.test(e)?(r=Ff.exec(e),r=Number(r[1])/t.a):zf.test(e)&&(r=Pf(zf,e));return r}function Pf(e,t){var r=e.exec(t);return null==r||""==r[0]?null:(Number(r[4])||0)/1e3+(Number(r[3])||0)+60*(Number(r[2])||0)+3600*(Number(r[1])||0)}function Af(e,t,r,n){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(n),0==this.a&&(this.a=e?this.frameRate*this.b:1),r&&(e=/^(\d+) (\d+)$/g.exec(r))&&(this.frameRate*=Number(e[1])/Number(e[2]))}Sd((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)uf="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Qd,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Jd,e.MediaKeys=tf,e.MediaKeySystemAccess=ef}})),Sd((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=df,Object.defineProperty(t,"disablePictureInPicture",{get:pf,set:hf,enumerable:!0,configurable:!0}),document.exitPictureInPicture=ff,document.addEventListener("webkitpresentationmodechanged",cf,!0))}})),Sd((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}})),Sd((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=gf)}})),Sd((function(){if(!e.VTTCue&&e.TextTrackCue){var t=null,r=TextTrackCue.length;if(3==r)t=mf;else if(6==r)t=vf;else{try{var n=!!mf(1,2,"")}catch(i){n=!1}n&&(t=mf)}t&&(e.VTTCue=function(e,r,n){return t(e,r,n)})}})),yf.prototype.parseInit=function(){},yf.prototype.parseMedia=function(e,t){var r=Be(e),n=[],i=new DOMParser,a=null;if(""==r)return n;try{a=i.parseFromString(r,"text/xml")}catch(k){throw new ue(2,2,2005,"Failed to parse TTML.")}if(a){if(r=a.getElementsByTagName("parsererror")[0])throw new ue(2,2,2005,r.textContent);if(!(i=a.getElementsByTagName("tt")[0]))throw new ue(2,2,2005,"TTML does not contain <tt> tag.");var o=sl(i,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=sl(i,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),l=sl(i,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),u=sl(i,"http://www.w3.org/ns/ttml#parameter","tickRate"),d=sl(i,"http://www.w3.org/ns/ttml#parameter","cellResolution");if(a=i.getAttribute("xml:space")||"default",r=sl(i,"http://www.w3.org/ns/ttml#styling","extent"),"default"!=a&&"preserve"!=a)throw new ue(2,2,2005,"Invalid xml:space value: "+a);a="default"==a,o=new Af(o,s,l,u),d=d&&(d=/^(\d+) (\d+)$/.exec(d))?{columns:parseInt(d[1],10),rows:parseInt(d[2],10)}:null,s=bf(i.getElementsByTagName("metadata")[0]),l=bf(i.getElementsByTagName("styling")[0]);for(var f=[],p=c(u=bf(i.getElementsByTagName("layout")[0])),h=p.next();!h.done;h=p.next()){var g=h.value,m=r;h=new sn;var v,y,b=g.getAttribute("xml:id");if(b)h.id=b,b=null,m&&(b=If.exec(m)||jf.exec(m)),m=b?Number(b[1]):null,b=b?Number(b[2]):null,(v=wf(g,l,"extent"))&&(null!=(v=(y=If.exec(v))||jf.exec(v))&&(h.width=null!=m?100*Number(v[1])/m:Number(v[1]),h.height=null!=b?100*Number(v[2])/b:Number(v[2]),h.widthUnits=y||null!=m?ln:0,h.heightUnits=y||null!=b?ln:0)),(g=wf(g,l,"origin"))&&(null!=(v=(y=If.exec(g))||jf.exec(g))&&(h.viewportAnchorX=null!=m?100*Number(v[1])/m:Number(v[1]),h.viewportAnchorY=null!=b?100*Number(v[2])/b:Number(v[2]),h.viewportAnchorUnits=y||null!=m?ln:0));else h=null;h&&f.push(h)}for(r=function e(t){if(!t)return[];for(var r=[],n=(t=c(t.childNodes)).next();!n.done;n=t.next())(n=n.value)instanceof Element&&(n.hasAttribute("begin")?r.push(n):r=r.concat(e(n)));return r}(i.getElementsByTagName("body")[0]),i=(r=c(r)).next();!i.done;i=r.next())(i=kf(i.value,t.periodStart,o,s,l,u,f,a,!1,d))&&n.push(i)}return n},z("shaka.text.TtmlTextParser",yf),yf.prototype.parseMedia=yf.prototype.parseMedia,yf.prototype.parseInit=yf.prototype.parseInit;var Cf,Mf,If=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Rf=/^(\d{1,2}(?:\.\d+)?|100)%$/,Df=/^(\d+px|\d+em|\d*\.?\d+c)$/,jf=/^(\d+)px (\d+)px$/,Lf=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Nf=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Uf=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Bf=/^(\d*(?:\.\d*)?)f$/,Ff=/^(\d*(?:\.\d*)?)t$/,zf=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Vf={left:tn,center:"center",right:"end",start:tn,end:"end"},$f={left:"line-left",center:"center",right:"line-right"};function Wf(){this.m=new yf}function Kf(){}function Hf(e,t,r){var n;(n=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=n[1],e.textAlign="middle"==t?Zr:qr[t.toUpperCase()]):(n=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==n[1]?"vertical-lr":"vertical-rl":(n=/^size:([\d.]+)%$/.exec(t))?e.size=Number(n[1]):(n=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(n[1]),n[2]&&(t=n[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(n=/^region:(.*)$/.exec(t))?(t=function(e,t){var r=e.filter((function(e){return e.id==t}));return r.length?r[0]:null}(r,n[1]))&&(e.region=t):(r=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(r[1]),r[2]&&(e.lineAlign=rn[r[2].toUpperCase()])):(r=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=en,e.line=Number(r[1]),r[2]&&(e.lineAlign=rn[r[2].toUpperCase()]))}function Gf(e){if(null==(e=Ru(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),r=Number(e[3]);return 59<t||59<r?null:Number(e[4])/1e3+r+60*t+3600*(Number(e[1])||0)}function Zf(){this.a=null}function qf(e,t,r){var n,i,a;return(new Or).box("payl",Cr((function(e){n=Be(e)}))).box("iden",Cr((function(e){i=Be(e)}))).box("sttg",Cr((function(e){a=Be(e)}))).parse(e),n?function(e,t,r,n,i){if(e=new Kr(n,i,e),t&&(e.id=t),r)for(t=new Mu(r),r=Du(t);r;)Hf(e,r,[]),Iu(t),r=Du(t);return e}(n,i,a,t,r):null}function Xf(){}function Yf(){Cf?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Cf=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=Qf):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function Qf(e,t){var r,n=this;return D((function(i){return 1==i.a?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),_(i,Cf.call(n,e,t),2)):sp(r=i.b)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Cf,i.return(r)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=Jf,i.return(Jf.call(n,e,t)))}))}function Jf(e,t){var r,n,i,a,o,s,l,u,d,f,p=this;return D((function(h){if(1==h.a){for(console.assert(p==navigator,'bad "this" for requestMediaKeySystemAccess'),r=op(e),n=[],i=c(t),a=i.next();!a.done;a=i.next())o=a.value,s=ep(o.videoCapabilities,r),l=ep(o.audioCapabilities,r),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!l.length||((u=Object.assign({},o)).videoCapabilities=s,u.audioCapabilities=l,n.push(u));if(!n.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return _(h,Cf.call(p,e,n),2)}return f=h.b,h.return(new ap(f,r))}))}function ep(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e}function tp(){}function rp(){Mf?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(Mf=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=np):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function np(e){var t,r=this;return D((function(n){return 1==n.a?(console.assert(r==navigator.mediaCapabilities,'bad "this" for decodingInfo'),_(n,Mf.call(r,e),2)):(t=n.b,e.keySystemConfiguration&&t.keySystemAccess?sp(t.keySystemAccess)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Mf,n.return(t)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=ip,n.return(ip.call(r,e))):n.return(t))}))}function ip(e){var t,r,n,i,a,o,s,l=this;return D((function(u){return 1==u.a?(console.assert(l==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(r=e.keySystemConfiguration,n=r.keySystem,i=r.audio&&r.audio.encryptionScheme,a=r.video&&r.video.encryptionScheme,t=op(n),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},i&&i!=t||a&&a!=t)?u.return(o):_(u,Mf.call(l,e),2)):((s=u.b).keySystemAccess&&(s.keySystemAccess=new ap(s.keySystemAccess,t)),u.return(s))}))}function ap(e,t){this.b=e,this.a=t,this.keySystem=e.keySystem}function op(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function sp(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function lp(){}function up(){Yf(),rp()}pn["application/ttml+xml"]=function(){return new yf},Wf.prototype.parseInit=function(e){var t=!1;if((new Or).box("moov",Pr).box("trak",Pr).box("mdia",Pr).box("minf",Pr).box("stbl",Pr).V("stsd",Ar).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new ue(2,2,2007)},Wf.prototype.parseMedia=function(e,t){var r=this,n=!1,i=[];if((new Or).box("mdat",Cr((function(e){n=!0,i=i.concat(r.m.parseMedia(e,t))}))).parse(e,!1),!n)throw new ue(2,2,2007);return i},z("shaka.text.Mp4TtmlParser",Wf),Wf.prototype.parseMedia=Wf.prototype.parseMedia,Wf.prototype.parseInit=Wf.prototype.parseInit,pn['application/mp4; codecs="stpp"']=function(){return new Wf},pn['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new Wf},pn['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new Wf},Kf.prototype.parseInit=function(){},Kf.prototype.parseMedia=function(e,t){var r=Be(e),n=(r=r.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new ue(2,2,2e3);if(r=t.periodStart,n[0].includes("X-TIMESTAMP-MAP")){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);if(i&&a){if(null==(r=Gf(new Mu(i[1]))))throw new ue(2,2,2e3);for(a=Number(a[1]),i=t.segmentStart;95443.7176888889<=i;)i-=95443.7176888889,a+=8589934592;r=t.periodStart+a/9e4-r}}a=[];for(var o=(i=c(n[0].split("\n"))).next();!o.done;o=i.next())if(o=o.value,/^Region:/.test(o)){o=new Mu(o);var s=new sn;Du(o),Iu(o);for(var l=Du(o);l;){var u=s,d=l;(l=/^id=(.*)$/.exec(d))?u.id=l[1]:(l=/^width=(\d{1,2}|100)%$/.exec(d))?u.width=Number(l[1]):(l=/^lines=(\d+)$/.exec(d))?(u.height=Number(l[1]),u.heightUnits=2):(l=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(u.regionAnchorX=Number(l[1]),u.regionAnchorY=Number(l[2])):(l=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(u.viewportAnchorX=Number(l[1]),u.viewportAnchorY=Number(l[2])):/^scroll=up$/.exec(d)&&(u.scroll="up"),Iu(o),l=Du(o)}a.push(s)}for(i=[],o=(n=c(n.slice(1))).next();!o.done;o=n.next()){if(l=r,1==(u=o.value.split("\n")).length&&!u[0]||/^NOTE($|[ \t])/.test(u[0])||"STYLE"==u[0])o=null;else{o=null,u[0].includes("--\x3e")||(o=u[0],u.splice(0,1)),d=Gf(s=new Mu(u[0]));var f=Ru(s,/[ \t]+--\x3e[ \t]+/g),p=Gf(s);if(null==d||null==f||null==p)throw new ue(2,2,2001);for(u=new Kr(d+l,p+l,u.slice(1).join("\n").trim()),Iu(s),l=Du(s);l;)Hf(u,l,a),Iu(s),l=Du(s);null!=o&&(u.id=o),o=u}o&&i.push(o)}return i},z("shaka.text.VttTextParser",Kf),Kf.prototype.parseMedia=Kf.prototype.parseMedia,Kf.prototype.parseInit=Kf.prototype.parseInit,pn["text/vtt"]=function(){return new Kf},pn['text/vtt; codecs="vtt"']=function(){return new Kf},pn['text/vtt; codecs="wvtt"']=function(){return new Kf},Zf.prototype.parseInit=function(e){var t=this,r=!1;if((new Or).box("moov",Pr).box("trak",Pr).box("mdia",Pr).V("mdhd",(function(e){0==e.version?(e.reader.skip(4),e.reader.skip(4),t.a=e.reader.K(),e.reader.skip(4)):(e.reader.skip(8),e.reader.skip(8),t.a=e.reader.K(),e.reader.skip(8)),e.reader.skip(4)})).box("minf",Pr).box("stbl",Pr).V("stsd",Ar).box("wvtt",(function(){r=!0})).parse(e),!this.a)throw new ue(2,2,2008);if(!r)throw new ue(2,2,2008)},Zf.prototype.parseMedia=function(e,t){if(!this.a)throw new ue(2,2,2008);var r,n=0,i=[],a=[],o=!1,s=!1,l=!1,u=null;if((new Or).box("moof",Pr).box("traf",Pr).V("tfdt",(function(e){o=!0,n=0==e.version?e.reader.K():e.reader.rb()})).V("tfhd",(function(e){var t=e.flags;(e=e.reader).skip(4),1&t&&e.skip(8),2&t&&e.skip(4),u=8&t?e.K():null})).V("trun",(function(e){s=!0;var t=e.version,r=e.flags,n=(e=e.reader).K();1&r&&e.skip(4),4&r&&e.skip(4);for(var a=[],o=(n=c(ee(n))).next();!o.done;o=n.next())o={duration:null,sampleSize:null,qd:null},256&r&&(o.duration=e.K()),512&r&&(o.sampleSize=e.K()),1024&r&&e.skip(4),2048&r&&(o.qd=0==t?e.K():e.Od()),a.push(o);i=a})).box("mdat",Cr((function(e){l=!0,r=e}))).parse(e,!1),!l&&!o&&!s)throw new ue(2,2,2008);for(var d=n,f=new Sr(r,0),p=c(i),h=p.next();!h.done;h=p.next()){var g=(h=h.value).duration||u,m=h.qd?n+h.qd:d;d=m+(g||0);var v=0;do{var y=f.K();v+=y;var b=null;"vttc"==Ir(f.K())?8<y&&(b=f.Wa(y-8)):f.skip(y-8),g&&b&&(y=qf(b,t.periodStart+m/this.a,t.periodStart+d/this.a),a.push(y))}while(h.sampleSize&&v<h.sampleSize)}return a.filter(Me)},z("shaka.text.Mp4VttParser",Zf),Zf.prototype.parseMedia=Zf.prototype.parseMedia,Zf.prototype.parseInit=Zf.prototype.parseInit,pn['application/mp4; codecs="wvtt"']=function(){return new Zf},z("EmeEncryptionSchemePolyfill",Xf),Xf.install=Yf,z("McEncryptionSchemePolyfill",tp),tp.install=rp,ap.prototype.getConfiguration=function(){var e=this.b.getConfiguration();if(e.videoCapabilities)for(var t=c(e.videoCapabilities),r=t.next();!r.done;r=t.next())r.value.encryptionScheme=this.a;if(e.audioCapabilities)for(r=(t=c(e.audioCapabilities)).next();!r.done;r=t.next())r.value.encryptionScheme=this.a;return e},ap.prototype.createMediaKeys=function(){return this.b.createMediaKeys()},z("EncryptionSchemePolyfills",lp),lp.install=up,"undefined"!==typeof r&&r.exports&&(r.exports=lp)}.call(n,r,r,void 0),n.shaka)t[i]=n.shaka[i]}()}).call(this,r(48))},function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(36),i=r(20),a=r(56),o=r(39),s=r(22),l=r(18),u=r(7),c=r(310),d=r(0);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=Object(n.d)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),h=Object(i.a)((function(e,t){var r=Object(a.b)("Spinner",e),n=Object(o.b)(e),i=n.label,u=void 0===i?"Loading...":i,h=n.thickness,g=void 0===h?"2px":h,m=n.speed,v=void 0===m?"0.45s":m,y=n.color,b=n.emptyColor,k=void 0===b?"transparent":b,_=n.className,E=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(n,["label","thickness","speed","color","emptyColor","className"]),w=Object(l.c)("chakra-spinner",_),S=f({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:g,borderBottomColor:k,borderLeftColor:k,color:y,animation:p+" "+v+" linear infinite"},r);return d.createElement(s.a.div,f({ref:t,__css:S,className:w},E),u&&d.createElement(c.a,null,u))}));u.a&&(h.displayName="Spinner");var g=r(46),m=r(4),v=r(64);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=Object(v.a)({strict:!1,name:"ButtonGroupContext"}),k=Object(m.a)(b,2),_=k[0],E=k[1],w=Object(i.a)((function(e,t){var r=e.size,n=e.colorScheme,i=e.variant,a=e.className,o=e.spacing,u=void 0===o?"0.5rem":o,c=e.isAttached,f=e.isDisabled,p=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["size","colorScheme","variant","className","spacing","isAttached","isDisabled"]),h=Object(l.c)("chakra-button__group",a),g=d.useMemo((function(){return{size:r,colorScheme:n,variant:i,isDisabled:f}}),[r,n,i,f]),m={display:"inline-flex"};return m=y({},m,c?{"> *:first-of-type:not(:last-of-type)":{borderRightRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderLeftRadius:0}}:{"& > *:not(style) ~ *:not(style)":{marginLeft:u}}),d.createElement(_,{value:g},d.createElement(s.a.div,y({ref:t,role:"group",__css:m,className:h},p)))}));function S(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}u.a&&(w.displayName="ButtonGroup");var x=Object(i.a)((function(e,t){var r,n=E(),i=Object(a.b)("Button",T({},n,e)),u=Object(o.b)(e),c=u.isDisabled,f=void 0===c?null==n?void 0:n.isDisabled:c,p=u.isLoading,h=u.isActive,m=u.isFullWidth,v=u.children,y=u.leftIcon,b=u.rightIcon,k=u.loadingText,_=u.iconSpacing,w=void 0===_?"0.5rem":_,x=u.type,A=void 0===x?"button":x,C=u.spinner,M=u.className,I=u.as,R=S(u,["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","className","as"]),D=Object(g.d)({},null!=(r=null==i?void 0:i._focus)?r:{},{zIndex:1}),j=T({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",transition:"all 250ms",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:m?"100%":"auto"},i,!!n&&{_focus:D});return d.createElement(s.a.button,T({disabled:f||p,ref:t,as:I,type:I?void 0:A,"data-active":Object(l.d)(h),"data-loading":Object(l.d)(p),__css:j,className:Object(l.c)("chakra-button",M)},R),y&&!p&&d.createElement(O,{mr:w},y),p&&d.createElement(P,{__css:{fontSize:"1em",lineHeight:"normal"},spacing:w,label:k},C),p?k||d.createElement(s.a.span,{opacity:0},v):v,b&&!p&&d.createElement(O,{ml:w},b))}));u.a&&(x.displayName="Button");var O=function(e){var t=e.children,r=e.className,n=S(e,["children","className"]),i=d.isValidElement(t)?d.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,a=Object(l.c)("chakra-button__icon",r);return d.createElement(s.a.span,T({},n,{className:a}),i)};u.a&&(O.displayName="ButtonIcon");var P=function(e){var t=e.label,r=e.spacing,n=e.children,i=void 0===n?d.createElement(h,{color:"currentColor",width:"1em",height:"1em"}):n,a=e.className,o=e.__css,u=S(e,["label","spacing","children","className","__css"]),c=Object(l.c)("chakra-button__spinner",a),f=T({display:"flex",alignItems:"center",position:t?"relative":"absolute",mr:t?r:0},o);return d.createElement(s.a.div,T({className:c},u,{__css:f}),i)};u.a&&(P.displayName="ButtonSpinner")},function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s="undefined"!==typeof window?window:null,l=null===s,u=l?void 0:s.document,c=function(){return!1},d=l?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=u.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",f=function(e){return"string"===typeof e||e instanceof String},p=function(e){if(f(e)){var t=u.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},h=function(e,t,r){var n=e[t];return void 0!==n?n:r},g=function(e,t,r,n){if(t){if("end"===n)return 0;if("center"===n)return e/2}else if(r){if("start"===n)return 0;if("center"===n)return e/2}return e},m=function(e,t){var r=u.createElement("div");return r.className="gutter gutter-"+t,r},v=function(e,t,r){var n={};return f(t)?n[e]=t:n[e]=d+"("+t+"% - "+r+"px)",n},y=function(e,t){var r;return(r={})[e]=t+"px",r},b=function(e,t){if(void 0===t&&(t={}),l)return{};var r,n,i,a,o,d,f=e;Array.from&&(f=Array.from(f));var b=p(f[0]).parentNode,k=getComputedStyle?getComputedStyle(b):null,_=k?k.flexDirection:null,E=h(t,"sizes")||f.map((function(){return 100/f.length})),w=h(t,"minSize",100),S=Array.isArray(w)?w:f.map((function(){return w})),T=h(t,"expandToMin",!1),x=h(t,"gutterSize",10),O=h(t,"gutterAlign","center"),P=h(t,"snapOffset",30),A=h(t,"dragInterval",1),C=h(t,"direction","horizontal"),M=h(t,"cursor","horizontal"===C?"col-resize":"row-resize"),I=h(t,"gutter",m),R=h(t,"elementStyle",v),D=h(t,"gutterStyle",y);function j(e,t,n,i){var a=R(r,t,n,i);Object.keys(a).forEach((function(t){e.style[t]=a[t]}))}function L(){return d.map((function(e){return e.size}))}function N(e){return"touches"in e?e.touches[0][n]:e[n]}function U(e){var t=d[this.a],r=d[this.b],n=t.size+r.size;t.size=e/this.size*n,r.size=n-e/this.size*n,j(t.element,t.size,this._b,t.i),j(r.element,r.size,this._c,r.i)}function B(e){var r,n=d[this.a],i=d[this.b];this.dragging&&(r=N(e)-this.start+(this._b-this.dragOffset),A>1&&(r=Math.round(r/A)*A),r<=n.minSize+P+this._b?r=n.minSize+this._b:r>=this.size-(i.minSize+P+this._c)&&(r=this.size-(i.minSize+this._c)),U.call(this,r),h(t,"onDrag",c)(L()))}function F(){var e=d[this.a].element,t=d[this.b].element,n=e.getBoundingClientRect(),o=t.getBoundingClientRect();this.size=n[r]+o[r]+this._b+this._c,this.start=n[i],this.end=n[a]}function z(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var r=e[o];return 0===r?null:r-="horizontal"===C?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(b);if(null===t)return e;if(S.reduce((function(e,t){return e+t}),0)>t)return e;var r=0,n=[],i=e.map((function(i,a){var o=t*i/100,s=g(x,0===a,a===e.length-1,O),l=S[a]+s;return o<l?(r+=l-o,n.push(0),l):(n.push(o-l),o)}));return 0===r?e:i.map((function(e,i){var a=e;if(r>0&&n[i]-r>0){var o=Math.min(r,n[i]-r);r-=o,a=e-o}return a/t*100}))}function V(){var e=d[this.a].element,r=d[this.b].element;this.dragging&&h(t,"onDragEnd",c)(L()),this.dragging=!1,s.removeEventListener("mouseup",this.stop),s.removeEventListener("touchend",this.stop),s.removeEventListener("touchcancel",this.stop),s.removeEventListener("mousemove",this.move),s.removeEventListener("touchmove",this.move),this.stop=null,this.move=null,e.removeEventListener("selectstart",c),e.removeEventListener("dragstart",c),r.removeEventListener("selectstart",c),r.removeEventListener("dragstart",c),e.style.userSelect="",e.style.webkitUserSelect="",e.style.MozUserSelect="",e.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",this.gutter.style.cursor="",this.parent.style.cursor="",u.body.style.cursor=""}function $(e){if(!("button"in e)||0===e.button){var r=d[this.a].element,n=d[this.b].element;this.dragging||h(t,"onDragStart",c)(L()),e.preventDefault(),this.dragging=!0,this.move=B.bind(this),this.stop=V.bind(this),s.addEventListener("mouseup",this.stop),s.addEventListener("touchend",this.stop),s.addEventListener("touchcancel",this.stop),s.addEventListener("mousemove",this.move),s.addEventListener("touchmove",this.move),r.addEventListener("selectstart",c),r.addEventListener("dragstart",c),n.addEventListener("selectstart",c),n.addEventListener("dragstart",c),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",this.gutter.style.cursor=M,this.parent.style.cursor=M,u.body.style.cursor=M,F.call(this),this.dragOffset=N(e)-this.end}}"horizontal"===C?(r="width",n="clientX",i="left",a="right",o="clientWidth"):"vertical"===C&&(r="height",n="clientY",i="top",a="bottom",o="clientHeight"),E=z(E);var W=[];function K(e){var t=e.i===W.length,r=t?W[e.i-1]:W[e.i];F.call(r);var n=t?r.size-e.minSize-r._c:e.minSize+r._b;U.call(r,n)}return(d=f.map((function(e,t){var n,i={element:p(e),size:E[t],minSize:S[t],i:t};if(t>0&&((n={a:t-1,b:t,dragging:!1,direction:C,parent:b})._b=g(x,t-1===0,!1,O),n._c=g(x,!1,t===f.length-1,O),"row-reverse"===_||"column-reverse"===_)){var a=n.a;n.a=n.b,n.b=a}if(t>0){var o=I(t,C,i.element);!function(e,t,n){var i=D(r,t,n);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}(o,x,t),n._a=$.bind(n),o.addEventListener("mousedown",n._a),o.addEventListener("touchstart",n._a),b.insertBefore(o,i.element),n.gutter=o}return j(i.element,i.size,g(x,0===t,t===f.length-1,O),t),t>0&&W.push(n),i}))).forEach((function(e){var t=e.element.getBoundingClientRect()[r];t<e.minSize&&(T?K(e):e.minSize=t)})),{setSizes:function(e){var t=z(e);t.forEach((function(e,r){if(r>0){var n=W[r-1],i=d[n.a],a=d[n.b];i.size=t[r-1],a.size=e,j(i.element,i.size,n._b,i.i),j(a.element,a.size,n._c,a.i)}}))},getSizes:L,collapse:function(e){K(d[e])},destroy:function(e,t){W.forEach((function(n){if(!0!==t?n.parent.removeChild(n.gutter):(n.gutter.removeEventListener("mousedown",n._a),n.gutter.removeEventListener("touchstart",n._a)),!0!==e){var i=R(r,n.a.size,n._b);Object.keys(i).forEach((function(e){d[n.a].element.style[e]="",d[n.b].element.style[e]=""}))}}))},parent:b,pairs:W}};function k(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}var _=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props,t=(e.children,e.gutter),r=k(e,["children","gutter"]);r.gutter=function(e,r){var n;return t?n=t(e,r):(n=document.createElement("div")).className="gutter gutter-"+r,n.__isSplitGutter=!0,n},this.split=b(this.parent.children,r)},t.prototype.componentDidUpdate=function(e){var t=this,r=this.props,n=(r.children,r.minSize),i=r.sizes,a=r.collapsed,o=k(r,["children","minSize","sizes","collapsed"]),s=e.minSize,l=e.sizes,u=e.collapsed,c=["expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"].map((function(r){return t.props[r]!==e[r]})).reduce((function(e,t){return e||t}),!1);if(Array.isArray(n)&&Array.isArray(s)){var d=!1;n.forEach((function(e,t){d=d||e!==s[t]})),c=c||d}else c=!(!Array.isArray(n)&&!Array.isArray(s))||(c||n!==s);if(c)o.minSize=n,o.sizes=i||this.split.getSizes(),this.split.destroy(!0,!0),o.gutter=function(e,t,r){return r.previousSibling},this.split=b(Array.from(this.parent.children).filter((function(e){return!e.__isSplitGutter})),o);else if(i){var f=!1;i.forEach((function(e,t){f=f||e!==l[t]})),f&&this.split.setSizes(this.props.sizes)}Number.isInteger(a)&&(a!==u||c)&&this.split.collapse(a)},t.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},t.prototype.render=function(){var e=this,t=this.props,r=(t.sizes,t.minSize,t.expandToMin,t.gutterSize,t.gutterAlign,t.snapOffset,t.dragInterval,t.direction,t.cursor,t.gutter,t.elementStyle,t.gutterStyle,t.onDrag,t.onDragStart,t.onDragEnd,t.collapsed,t.children),n=k(t,["sizes","minSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]);return i.a.createElement("div",Object.assign({},{ref:function(t){e.parent=t}},n),r)},t}(i.a.Component);_.propTypes={sizes:o.a.arrayOf(o.a.number),minSize:o.a.oneOfType([o.a.number,o.a.arrayOf(o.a.number)]),expandToMin:o.a.bool,gutterSize:o.a.number,gutterAlign:o.a.string,snapOffset:o.a.number,dragInterval:o.a.number,direction:o.a.string,cursor:o.a.string,gutter:o.a.func,elementStyle:o.a.func,gutterStyle:o.a.func,onDrag:o.a.func,onDragStart:o.a.func,onDragEnd:o.a.func,collapsed:o.a.number,children:o.a.arrayOf(o.a.element)},_.defaultProps={sizes:void 0,minSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};t.a=_},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(4),i=r(0),a=r(180);function o(){var e=i.useRef(!1),t=i.useState(0),r=Object(n.a)(t,2),o=r[0],s=r[1];return Object(a.a)((function(){e.current=!0})),i.useCallback((function(){e.current||s(o+1)}),[o])}},,,,,,,,,function(e,t,r){"use strict";var n=r(26),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function k(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}function _(){}function E(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=k.prototype;var w=E.prototype=new _;w.constructor=E,n(w,k.prototype),w.isPureReactComponent=!0;var S={current:null},T=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var n,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,n)&&!x.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:S.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,C=[];function M(e,t,r,n){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function R(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case o:l=!0}}if(l)return n(i,t,""===r?"."+D(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+D(s=t[u],u);l+=e(s,c,n,i)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=r+D(s,u++),n,i);else if("object"===s)throw n=""+t,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return l}(e,"",t,r)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,n,r,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+r)),n.push(e))}function N(e,t,r,n,i){var a="";null!=r&&(a=(""+r).replace(A,"$&/")+"/"),R(e,L,t=M(t,a,n,i)),I(t)}var U={current:null};function B(){var e=U.current;if(null===e)throw Error(v(321));return e}var F={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return N(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;R(e,j,t=M(null,null,t,r)),I(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(v(143));return e}},t.Component=k,t.Fragment=s,t.Profiler=u,t.PureComponent=E,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(v(267,e));var i=n({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)T.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return B().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,r){return B().useReducer(e,t,r)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,r){"use strict";var n=r(0),i=r(26),a=r(209);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function s(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,d=null,f={onError:function(e){l=!0,u=e}};function p(e,t,r,n,i,a,o,c,d){l=!1,u=null,s.apply(f,arguments)}var h=null,g=null,m=null;function v(e,t,r){var n=e.type||"unknown-event";e.currentTarget=m(r),function(e,t,r,n,i,a,s,f,h){if(p.apply(this,arguments),l){if(!l)throw Error(o(198));var g=u;l=!1,u=null,c||(c=!0,d=g)}}(n,t,void 0,e),e.currentTarget=null}var y=null,b={};function k(){if(y)for(var e in b){var t=b[e],r=y.indexOf(e);if(!(-1<r))throw Error(o(96,e));if(!E[r]){if(!t.extractEvents)throw Error(o(97,e));for(var n in E[r]=t,r=t.eventTypes){var i=void 0,a=r[n],s=t,l=n;if(w.hasOwnProperty(l))throw Error(o(99,l));w[l]=a;var u=a.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&_(u[i],s,l);i=!0}else a.registrationName?(_(a.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(o(98,n,e))}}}}function _(e,t,r){if(S[e])throw Error(o(100,e));S[e]=t,T[e]=t.eventTypes[r].dependencies}var E=[],w={},S={},T={};function x(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!b.hasOwnProperty(t)||b[t]!==n){if(b[t])throw Error(o(102,t));b[t]=n,r=!0}}r&&k()}var O=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),P=null,A=null,C=null;function M(e){if(e=g(e)){if("function"!==typeof P)throw Error(o(280));var t=e.stateNode;t&&(t=h(t),P(e.stateNode,e.type,t))}}function I(e){A?C?C.push(e):C=[e]:A=e}function R(){if(A){var e=A,t=C;if(C=A=null,M(e),t)for(e=0;e<t.length;e++)M(t[e])}}function D(e,t){return e(t)}function j(e,t,r,n,i){return e(t,r,n,i)}function L(){}var N=D,U=!1,B=!1;function F(){null===A&&null===C||(L(),R())}function z(e,t,r){if(B)return e(t,r);B=!0;try{return N(e,t,r)}finally{B=!1,F()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$=Object.prototype.hasOwnProperty,W={},K={};function H(e,t,r,n,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new H(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new H(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new H(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new H(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new H(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new H(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new H(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new H(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new H(e,5,!1,e.toLowerCase(),null,!1)}));var Z=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Z,q);G[t]=new H(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Z,q);G[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Z,q);G[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new H(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new H(e,1,!1,e.toLowerCase(),null,!0)}));var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(e,t,r,n){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!$.call(K,e)||!$.call(W,e)&&(V.test(e)?K[e]=!0:(W[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,re=J?Symbol.for("react.fragment"):60107,ne=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,ae=J?Symbol.for("react.provider"):60109,oe=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ue=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,de=J?Symbol.for("react.memo"):60115,fe=J?Symbol.for("react.lazy"):60116,pe=J?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case ie:return"Profiler";case ne:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return me(e.type);case pe:return me(e.render);case fe:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,a=me(e.type);r=null,n&&(r=me(n.type)),n=a,a="",i?a=" (at "+i.fileName.replace(Q,"")+":"+i.lineNumber+")":r&&(a=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+a}t+=r,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=be(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Ee(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function we(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ye(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&Y(e,"checked",t,!1)}function Te(e,t){Se(e,t);var r=ye(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,r):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Oe(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Pe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ye(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ye(r)}}function Ie(e,t){var r=ye(t.value),n=ye(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",je="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==je||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function ze(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ve={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},$e={},We={};function Ke(e){if($e[e])return $e[e];if(!Ve[e])return e;var t,r=Ve[e];for(t in r)if(r.hasOwnProperty(t)&&t in We)return $e[e]=r[t];return e}O&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var He=Ke("animationend"),Ge=Ke("animationiteration"),Ze=Ke("animationstart"),qe=Ke("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=Ye.get(e);return void 0===t&&(t=new Map,Ye.set(e,t)),t}function Je(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(o(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return tt(i),e;if(a===n)return tt(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)v(e,t[n],r[n]);else t&&v(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(at=nt(at,e)),e=at,at=null,e){if(it(e,ot),at)throw Error(o(95));if(c)throw e=d,c=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,r,n){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function pt(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=xr(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=lt(e.nativeEvent);n=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===r&&(o|=64);for(var s=null,l=0;l<E.length;l++){var u=E[l];u&&(u=u.extractEvents(n,t,a,i,o))&&(s=nt(s,u))}st(s)}}function ht(e,t,r){if(!r.has(e)){switch(e){case"scroll":Zt(t,"scroll",!0);break;case"focus":case"blur":Zt(t,"focus",!0),Zt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":ut(e)&&Zt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Gt(e,t)}r.set(e,null)}}var gt,mt,vt,yt=!1,bt=[],kt=null,_t=null,Et=null,wt=new Map,St=new Map,Tt=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function At(e,t){switch(e){case"focus":case"blur":kt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Ct(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e=Pt(t,r,n,i,a),null!==t&&(null!==(t=Or(t))&&mt(t)),e):(e.eventSystemFlags|=n,e)}function Mt(e){var t=xr(e.target);if(null!==t){var r=Je(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=et(r)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){vt(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Or(t);return null!==r&&mt(r),e.blockedOn=t,!1}return!0}function Rt(e,t,r){It(e)&&r.delete(t)}function Dt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Or(e.blockedOn))&&gt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==kt&&It(kt)&&(kt=null),null!==_t&&It(_t)&&(_t=null),null!==Et&&It(Et)&&(Et=null),wt.forEach(Rt),St.forEach(Rt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Dt)))}function Lt(e){function t(t){return jt(t,e)}if(0<bt.length){jt(bt[0],e);for(var r=1;r<bt.length;r++){var n=bt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==kt&&jt(kt,e),null!==_t&&jt(_t,e),null!==Et&&jt(Et,e),wt.forEach(t),St.forEach(t),r=0;r<Tt.length;r++)(n=Tt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(r=Tt[0]).blockedOn;)Mt(r),null===r.blockedOn&&Tt.shift()}var Nt={},Ut=new Map,Bt=new Map,Ft=["abort","abort",He,"animationEnd",Ge,"animationIteration",Ze,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qe,"transitionEnd","waiting","waiting"];function zt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[n],eventPriority:t},Bt.set(n,t),Ut.set(n,a),Nt[i]=a}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Ft,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),$t=0;$t<Vt.length;$t++)Bt.set(Vt[$t],0);var Wt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Ht=!0;function Gt(e,t){Zt(t,e,!1)}function Zt(e,t,r){var n=Bt.get(t);switch(void 0===n?2:n){case 0:n=qt.bind(null,t,1,e);break;case 1:n=Xt.bind(null,t,1,e);break;default:n=Yt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function qt(e,t,r,n){U||L();var i=Yt,a=U;U=!0;try{j(i,e,t,r,n)}finally{(U=a)||F()}}function Xt(e,t,r,n){Kt(Wt,Yt.bind(null,e,t,r,n))}function Yt(e,t,r,n){if(Ht)if(0<bt.length&&-1<xt.indexOf(e))e=Pt(null,e,t,r,n),bt.push(e);else{var i=Qt(e,t,r,n);if(null===i)At(e,n);else if(-1<xt.indexOf(e))e=Pt(i,e,t,r,n),bt.push(e);else if(!function(e,t,r,n,i){switch(t){case"focus":return kt=Ct(kt,e,t,r,n,i),!0;case"dragenter":return _t=Ct(_t,e,t,r,n,i),!0;case"mouseover":return Et=Ct(Et,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return wt.set(a,Ct(wt.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,St.set(a,Ct(St.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n)){At(e,n),e=ft(e,n,null,t);try{z(pt,e)}finally{dt(e)}}}}function Qt(e,t,r,n){if(null!==(r=xr(r=lt(n)))){var i=Je(r);if(null===i)r=null;else{var a=i.tag;if(13===a){if(null!==(r=et(i)))return r;r=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=ft(e,n,r,t);try{z(pt,e)}finally{dt(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function tr(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function rr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=tr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Jt).forEach((function(e){er.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var nr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function ar(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var or=De;function sr(e,t){var r=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var n=0;n<t.length;n++)ht(t[n],e,r)}function lr(){}function ur(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var r,n=cr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cr(n)}}function fr(){for(var e=window,t=ur();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ur((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=null,gr=null;function mr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"===typeof setTimeout?setTimeout:void 0,br="function"===typeof clearTimeout?clearTimeout:void 0;function kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function _r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),wr="__reactInternalInstance$"+Er,Sr="__reactEventHandlers$"+Er,Tr="__reactContainere$"+Er;function xr(e){var t=e[wr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tr]||r[wr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=_r(e);null!==e;){if(r=e[wr])return r;e=_r(e)}return t}r=(e=r).parentNode}return null}function Or(e){return!(e=e[wr]||e[Tr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ar(e){return e[Sr]||null}function Cr(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mr(e,t){var r=e.stateNode;if(!r)return null;var n=h(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}function Ir(e,t,r){(t=Mr(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Rr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Cr(t);for(t=r.length;0<t--;)Ir(r[t],"captured",e);for(t=0;t<r.length;t++)Ir(r[t],"bubbled",e)}}function Dr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Mr(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function jr(e){e&&e.dispatchConfig.registrationName&&Dr(e._targetInst,null,e)}function Lr(e){it(e,Rr)}var Nr=null,Ur=null,Br=null;function Fr(){if(Br)return Br;var e,t,r=Ur,n=r.length,i="value"in Nr?Nr.value:Nr.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return Br=i.slice(e,1<t?1-t:void 0)}function zr(){return!0}function Vr(){return!1}function $r(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?zr:Vr,this.isPropagationStopped=Vr,this}function Wr(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Kr(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Hr(e){e.eventPool=[],e.getPooled=Wr,e.release=Kr}i($r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){this.isPersistent=zr},isPersistent:Vr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vr,this._dispatchInstances=this._dispatchListeners=null}}),$r.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},$r.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var a=new t;return i(a,r.prototype),r.prototype=a,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,Hr(r),r},Hr($r);var Gr=$r.extend({data:null}),Zr=$r.extend({data:null}),qr=[9,13,27,32],Xr=O&&"CompositionEvent"in window,Yr=null;O&&"documentMode"in document&&(Yr=document.documentMode);var Qr=O&&"TextEvent"in window&&!Yr,Jr=O&&(!Xr||Yr&&8<Yr&&11>=Yr),en=String.fromCharCode(32),tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(e,t){switch(e){case"keyup":return-1!==qr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function an(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var on=!1;var sn={eventTypes:tn,extractEvents:function(e,t,r,n){var i;if(Xr)e:{switch(e){case"compositionstart":var a=tn.compositionStart;break e;case"compositionend":a=tn.compositionEnd;break e;case"compositionupdate":a=tn.compositionUpdate;break e}a=void 0}else on?nn(e,r)&&(a=tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(a=tn.compositionStart);return a?(Jr&&"ko"!==r.locale&&(on||a!==tn.compositionStart?a===tn.compositionEnd&&on&&(i=Fr()):(Ur="value"in(Nr=n)?Nr.value:Nr.textContent,on=!0)),a=Gr.getPooled(a,t,r,n),i?a.data=i:null!==(i=an(r))&&(a.data=i),Lr(a),i=a):i=null,(e=Qr?function(e,t){switch(e){case"compositionend":return an(t);case"keypress":return 32!==t.which?null:(rn=!0,en);case"textInput":return(e=t.data)===en&&rn?null:e;default:return null}}(e,r):function(e,t){if(on)return"compositionend"===e||!Xr&&nn(e,t)?(e=Fr(),Br=Ur=Nr=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Zr.getPooled(tn.beforeInput,t,r,n)).data=e,Lr(t)):t=null,null===i?t:null===t?i:[i,t]}},ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ln[e.type]:"textarea"===t}var cn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dn(e,t,r){return(e=$r.getPooled(cn.change,e,t,r)).type="change",I(r),Lr(e),e}var fn=null,pn=null;function hn(e){st(e)}function gn(e){if(_e(Pr(e)))return e}function mn(e,t){if("change"===e)return t}var vn=!1;function yn(){fn&&(fn.detachEvent("onpropertychange",bn),pn=fn=null)}function bn(e){if("value"===e.propertyName&&gn(pn))if(e=dn(pn,e,lt(e)),U)st(e);else{U=!0;try{D(hn,e)}finally{U=!1,F()}}}function kn(e,t,r){"focus"===e?(yn(),pn=r,(fn=t).attachEvent("onpropertychange",bn)):"blur"===e&&yn()}function _n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gn(pn)}function En(e,t){if("click"===e)return gn(t)}function wn(e,t){if("input"===e||"change"===e)return gn(t)}O&&(vn=ut("input")&&(!document.documentMode||9<document.documentMode));var Sn={eventTypes:cn,_isInputEventSupported:vn,extractEvents:function(e,t,r,n){var i=t?Pr(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=mn;else if(un(i))if(vn)o=wn;else{o=_n;var s=kn}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=En);if(o&&(o=o(e,t)))return dn(o,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},Tn=$r.extend({view:null,detail:null}),xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Pn(){return On}var An=0,Cn=0,Mn=!1,In=!1,Rn=Tn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=An;return An=e.screenX,Mn?"mousemove"===e.type?e.screenX-t:0:(Mn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Cn;return Cn=e.screenY,In?"mousemove"===e.type?e.screenY-t:0:(In=!0,0)}}),Dn=Rn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ln={eventTypes:jn,extractEvents:function(e,t,r,n,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(r.relatedTarget||r.fromElement)||!o&&!a)return null;(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=r.relatedTarget||r.toElement)?xr(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Rn,l=jn.mouseLeave,u=jn.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Dn,l=jn.pointerLeave,u=jn.pointerEnter,c="pointer");if(e=null==o?a:Pr(o),a=null==t?a:Pr(t),(l=s.getPooled(l,o,r,n)).type=c+"leave",l.target=e,l.relatedTarget=a,(r=s.getPooled(u,t,r,n)).type=c+"enter",r.target=a,r.relatedTarget=e,c=t,(n=o)&&c)e:{for(u=c,o=0,e=s=n;e;e=Cr(e))o++;for(e=0,t=u;t;t=Cr(t))e++;for(;0<o-e;)s=Cr(s),o--;for(;0<e-o;)u=Cr(u),e--;for(;o--;){if(s===u||s===u.alternate)break e;s=Cr(s),u=Cr(u)}s=null}else s=null;for(u=s,s=[];n&&n!==u&&(null===(o=n.alternate)||o!==u);)s.push(n),n=Cr(n);for(n=[];c&&c!==u&&(null===(o=c.alternate)||o!==u);)n.push(c),c=Cr(c);for(c=0;c<s.length;c++)Dr(s[c],"bubbled",l);for(c=n.length;0<c--;)Dr(n[c],"captured",r);return 0===(64&i)?[l]:[l,r]}};var Nn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Un=Object.prototype.hasOwnProperty;function Bn(e,t){if(Nn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Un.call(t,r[n])||!Nn(e[r[n]],t[r[n]]))return!1;return!0}var Fn=O&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vn=null,$n=null,Wn=null,Kn=!1;function Hn(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kn||null==Vn||Vn!==ur(r)?null:("selectionStart"in(r=Vn)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Wn&&Bn(Wn,r)?null:(Wn=r,(e=$r.getPooled(zn.select,$n,e,t)).type="select",e.target=Vn,Lr(e),e))}var Gn={eventTypes:zn,extractEvents:function(e,t,r,n,i,a){if(!(a=!(i=a||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{i=Qe(i),a=T.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Pr(t):window,e){case"focus":(un(i)||"true"===i.contentEditable)&&(Vn=i,$n=t,Wn=null);break;case"blur":Wn=$n=Vn=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kn=!1,Hn(r,n);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return Hn(r,n)}return null}},Zn=$r.extend({animationName:null,elapsedTime:null,pseudoElement:null}),qn=$r.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xn=Tn.extend({relatedTarget:null});function Yn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Tn.extend({key:function(e){if(e.key){var t=Qn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?Yn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Rn.extend({dataTransfer:null}),ri=Tn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pn}),ni=$r.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ai={eventTypes:Nt,extractEvents:function(e,t,r,n){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===Yn(r))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Xn;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ri;break;case He:case Ge:case Ze:e=Zn;break;case qe:e=ni;break;case"scroll":e=Tn;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Dn;break;default:e=$r}return Lr(t=e.getPooled(i,t,r,n)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k(),h=Ar,g=Or,m=Pr,x({SimpleEventPlugin:ai,EnterLeaveEventPlugin:Ln,ChangeEventPlugin:Sn,SelectEventPlugin:Gn,BeforeInputEventPlugin:sn});var oi=[],si=-1;function li(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function ui(e,t){si++,oi[si]=e.current,e.current=t}var ci={},di={current:ci},fi={current:!1},pi=ci;function hi(e,t){var r=e.type.contextTypes;if(!r)return ci;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(fi),li(di)}function vi(e,t,r){if(di.current!==ci)throw Error(o(168));ui(di,t),ui(fi,r)}function yi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},r,{},n)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,pi=di.current,ui(di,e),ui(fi,fi.current),!0}function ki(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=yi(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,li(fi),li(di),ui(di,e)):li(fi),ui(fi,r)}var _i=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,wi=a.unstable_cancelCallback,Si=a.unstable_requestPaint,Ti=a.unstable_now,xi=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,Ci=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Ii={},Ri=a.unstable_shouldYield,Di=void 0!==Si?Si:function(){},ji=null,Li=null,Ni=!1,Ui=Ti(),Bi=1e4>Ui?Ti:function(){return Ti()-Ui};function Fi(){switch(xi()){case Oi:return 99;case Pi:return 98;case Ai:return 97;case Ci:return 96;case Mi:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Ai;case 96:return Ci;case 95:return Mi;default:throw Error(o(332))}}function Vi(e,t){return e=zi(e),_i(e,t)}function $i(e,t,r){return e=zi(e),Ei(e,t,r)}function Wi(e){return null===ji?(ji=[e],Li=Ei(Oi,Hi)):ji.push(e),Ii}function Ki(){if(null!==Li){var e=Li;Li=null,wi(e)}Hi()}function Hi(){if(!Ni&&null!==ji){Ni=!0;var e=0;try{var t=ji;Vi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),ji=null}catch(r){throw null!==ji&&(ji=ji.slice(e+1)),Ei(Oi,Ki),r}finally{Ni=!1}}}function Gi(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Zi(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var qi={current:null},Xi=null,Yi=null,Qi=null;function Ji(){Qi=Yi=Xi=null}function ea(e){var t=qi.current;li(qi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ra(e,t){Xi=e,Qi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Co=!0),e.firstContext=null)}function na(e,t){if(Qi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Xi)throw Error(o(308));Yi=t,Xi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function sa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function la(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ua(e,t){var r=e.alternate;null!==r&&oa(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function ca(e,t,r,n){var a=e.updateQueue;ia=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next,s.next=l}o=s,a.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==o){l=o.next;var u=a.baseState,c=0,d=null,f=null,p=null;if(null!==l)for(var h=l;;){if((s=h.expirationTime)<n){var g={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(f=p=g,d=u):p=p.next=g,s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),al(s,h.suspenseConfig);e:{var m=e,v=h;switch(s=t,g=r,v.tag){case 1:if("function"===typeof(m=v.payload)){u=m.call(g,u,s);break e}u=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=v.payload)?m.call(g,u,s):m)||void 0===s)break e;u=i({},u,s);break e;case 2:ia=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[h]:s.push(h))}if(null===(h=h.next)||h===l){if(null===(s=a.shared.pending))break;h=o.next=s.next,s.next=l,a.baseQueue=o=s,a.shared.pending=null}}null===p?d=u:p.next=f,a.baseState=d,a.baseQueue=p,ol(c),e.expirationTime=c,e.memoizedState=u}}function da(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!==typeof n)throw Error(o(191,n));n.call(i)}}}var fa=X.ReactCurrentBatchConfig,pa=(new n.Component).refs;function ha(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var ga={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Hs(),i=fa.suspense;(i=sa(n=Gs(n,e,i),i)).payload=t,void 0!==r&&null!==r&&(i.callback=r),la(e,i),Zs(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Hs(),i=fa.suspense;(i=sa(n=Gs(n,e,i),i)).tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),la(e,i),Zs(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Hs(),n=fa.suspense;(n=sa(r=Gs(r,e,n),n)).tag=2,void 0!==t&&null!==t&&(n.callback=t),la(e,n),Zs(e,r)}};function ma(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Bn(r,n)||!Bn(i,a))}function va(e,t,r){var n=!1,i=ci,a=t.contextType;return"object"===typeof a&&null!==a?a=na(a):(i=gi(t)?pi:di.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?hi(e,i):ci),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ba(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=pa,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=na(a):(a=gi(t)?pi:di.current,i.context=hi(e,a)),ca(e,r,i,n),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),ca(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var ka=Array.isArray;function _a(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===pa&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function wa(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xl(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Al(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=_a(e,t,r),n.return=e,n):((n=Ol(r.type,r.key,r.props,null,e.mode,n)).ref=_a(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Cl(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Pl(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Al(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=Ol(t.type,t.key,t.props,null,e.mode,r)).ref=_a(e,null,t),r.return=e,r;case te:return(t=Cl(t,e.mode,r)).return=e,t}if(ka(t)||ge(t))return(t=Pl(t,e.mode,r,null)).return=e,t;Ea(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===i?r.type===re?d(e,t,r.props.children,n,i):u(e,t,r,n):null;case te:return r.key===i?c(e,t,r,n):null}if(ka(r)||ge(r))return null!==i?null:d(e,t,r,n,null);Ea(e,r)}return null}function h(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?d(t,e,n.props.children,i,n.key):u(t,e,n,i);case te:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(ka(n)||ge(n))return d(t,e=e.get(r)||null,n,i,null);Ea(t,n)}return null}function g(i,o,s,l){for(var u=null,c=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===s.length)return r(i,d),u;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(o=a(d,o,g),null===c?u=d:c.sibling=d,c=d);return u}for(d=n(i,d);g<s.length;g++)null!==(m=h(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=ge(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(i,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return r(i,g),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return c}for(g=n(i,g);!y.done;m++,y=l.next())null!==(y=h(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,n,a,l){var u="object"===typeof a&&null!==a&&a.type===re&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ee:e:{for(c=a.key,u=n;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===re){r(e,u.sibling),(n=i(u,a.props.children)).return=e,e=n;break e}break;default:if(u.elementType===a.type){r(e,u.sibling),(n=i(u,a.props)).ref=_a(e,u,a),n.return=e,e=n;break e}}r(e,u);break}t(e,u),u=u.sibling}a.type===re?((n=Pl(a.props.children,e.mode,l,a.key)).return=e,e=n):((l=Ol(a.type,a.key,a.props,null,e.mode,l)).ref=_a(e,n,a),l.return=e,e=l)}return s(e);case te:e:{for(u=a.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=i(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Cl(a,e.mode,l)).return=e,e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,a)).return=e,e=n):(r(e,n),(n=Al(a,e.mode,l)).return=e,e=n),s(e);if(ka(a))return g(e,n,a,l);if(ge(a))return m(e,n,a,l);if(c&&Ea(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Sa=wa(!0),Ta=wa(!1),xa={},Oa={current:xa},Pa={current:xa},Aa={current:xa};function Ca(e){if(e===xa)throw Error(o(174));return e}function Ma(e,t){switch(ui(Aa,t),ui(Pa,e),ui(Oa,xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Oa),ui(Oa,t)}function Ia(){li(Oa),li(Pa),li(Aa)}function Ra(e){Ca(Aa.current);var t=Ca(Oa.current),r=Ne(t,e.type);t!==r&&(ui(Pa,e),ui(Oa,r))}function Da(e){Pa.current===e&&(li(Oa),li(Pa))}var ja={current:0};function La(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Na(e,t){return{responder:e,props:t}}var Ua=X.ReactCurrentDispatcher,Ba=X.ReactCurrentBatchConfig,Fa=0,za=null,Va=null,$a=null,Wa=!1;function Ka(){throw Error(o(321))}function Ha(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Ga(e,t,r,n,i,a){if(Fa=a,za=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ua.current=null===e||null===e.memoizedState?vo:yo,e=r(n,i),t.expirationTime===Fa){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,$a=Va=null,t.updateQueue=null,Ua.current=bo,e=r(n,i)}while(t.expirationTime===Fa)}if(Ua.current=mo,t=null!==Va&&null!==Va.next,Fa=0,$a=Va=za=null,Wa=!1,t)throw Error(o(300));return e}function Za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$a?za.memoizedState=$a=e:$a=$a.next=e,$a}function qa(){if(null===Va){var e=za.alternate;e=null!==e?e.memoizedState:null}else e=Va.next;var t=null===$a?za.memoizedState:$a.next;if(null!==t)$a=t,Va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Va=e).memoizedState,baseState:Va.baseState,baseQueue:Va.baseQueue,queue:Va.queue,next:null},null===$a?za.memoizedState=$a=e:$a=$a.next=e}return $a}function Xa(e,t){return"function"===typeof t?t(e):t}function Ya(e){var t=qa(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=Va,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=s=a=null,u=i;do{var c=u.expirationTime;if(c<Fa){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,a=n):l=l.next=d,c>za.expirationTime&&(za.expirationTime=c,ol(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),al(c,u.suspenseConfig),n=u.eagerReducer===e?u.eagerState:e(n,u.action);u=u.next}while(null!==u&&u!==i);null===l?a=n:l.next=s,Nn(n,t.memoizedState)||(Co=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Qa(e){var t=qa(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Nn(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Ja(e){var t=Za();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e}).dispatch=go.bind(null,za,e),[t.memoizedState,e]}function eo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=za.updateQueue)?(t={lastEffect:null},za.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function to(){return qa().memoizedState}function ro(e,t,r,n){var i=Za();za.effectTag|=e,i.memoizedState=eo(1|t,r,void 0,void 0===n?null:n)}function no(e,t,r,n){var i=qa();n=void 0===n?null:n;var a=void 0;if(null!==Va){var o=Va.memoizedState;if(a=o.destroy,null!==n&&Ha(n,o.deps))return void eo(t,r,a,n)}za.effectTag|=e,i.memoizedState=eo(1|t,r,a,n)}function io(e,t){return ro(516,4,e,t)}function ao(e,t){return no(516,4,e,t)}function oo(e,t){return no(4,2,e,t)}function so(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function lo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,no(4,2,so.bind(null,t,e),r)}function uo(){}function co(e,t){return Za().memoizedState=[e,void 0===t?null:t],e}function fo(e,t){var r=qa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ha(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function po(e,t){var r=qa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ha(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ho(e,t,r){var n=Fi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Ba.suspense;Ba.suspense=void 0===t?null:t;try{e(!1),r()}finally{Ba.suspense=n}}))}function go(e,t,r){var n=Hs(),i=fa.suspense;i={expirationTime:n=Gs(n,e,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===za||null!==a&&a===za)Wa=!0,i.expirationTime=Fa,za.expirationTime=Fa;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,r);if(i.eagerReducer=a,i.eagerState=s,Nn(s,o))return}catch(l){}Zs(e,n)}}var mo={readContext:na,useCallback:Ka,useContext:Ka,useEffect:Ka,useImperativeHandle:Ka,useLayoutEffect:Ka,useMemo:Ka,useReducer:Ka,useRef:Ka,useState:Ka,useDebugValue:Ka,useResponder:Ka,useDeferredValue:Ka,useTransition:Ka},vo={readContext:na,useCallback:co,useContext:na,useEffect:io,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,ro(4,2,so.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var r=Za();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Za();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=go.bind(null,za,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Za().memoizedState=e},useState:Ja,useDebugValue:uo,useResponder:Na,useDeferredValue:function(e,t){var r=Ja(e),n=r[0],i=r[1];return io((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{i(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Ja(!1),r=t[0];return t=t[1],[co(ho.bind(null,t,e),[t,e]),r]}},yo={readContext:na,useCallback:fo,useContext:na,useEffect:ao,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:po,useReducer:Ya,useRef:to,useState:function(){return Ya(Xa)},useDebugValue:uo,useResponder:Na,useDeferredValue:function(e,t){var r=Ya(Xa),n=r[0],i=r[1];return ao((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{i(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Ya(Xa),r=t[0];return t=t[1],[fo(ho.bind(null,t,e),[t,e]),r]}},bo={readContext:na,useCallback:fo,useContext:na,useEffect:ao,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:po,useReducer:Qa,useRef:to,useState:function(){return Qa(Xa)},useDebugValue:uo,useResponder:Na,useDeferredValue:function(e,t){var r=Qa(Xa),n=r[0],i=r[1];return ao((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{i(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Qa(Xa),r=t[0];return t=t[1],[fo(ho.bind(null,t,e),[t,e]),r]}},ko=null,_o=null,Eo=!1;function wo(e,t){var r=Sl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function So(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function To(e){if(Eo){var t=_o;if(t){var r=t;if(!So(e,t)){if(!(t=kr(r.nextSibling))||!So(e,t))return e.effectTag=-1025&e.effectTag|2,Eo=!1,void(ko=e);wo(ko,r)}ko=e,_o=kr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Eo=!1,ko=e}}function xo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ko=e}function Oo(e){if(e!==ko)return!1;if(!Eo)return xo(e),Eo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vr(t,e.memoizedProps))for(t=_o;t;)wo(e,t),t=kr(t.nextSibling);if(xo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){_o=kr(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}_o=null}}else _o=ko?kr(e.stateNode.nextSibling):null;return!0}function Po(){_o=ko=null,Eo=!1}var Ao=X.ReactCurrentOwner,Co=!1;function Mo(e,t,r,n){t.child=null===e?Ta(t,null,r,n):Sa(t,e.child,r,n)}function Io(e,t,r,n,i){r=r.render;var a=t.ref;return ra(t,i),n=Ga(e,t,r,n,a,i),null===e||Co?(t.effectTag|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Zo(e,t,i))}function Ro(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!==typeof o||Tl(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ol(r.type,null,n,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Do(e,t,o,n,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:Bn)(i,n)&&e.ref===t.ref)?Zo(e,t,a):(t.effectTag|=1,(e=xl(o,n)).ref=t.ref,e.return=t,t.child=e)}function Do(e,t,r,n,i,a){return null!==e&&Bn(e.memoizedProps,n)&&e.ref===t.ref&&(Co=!1,i<a)?(t.expirationTime=e.expirationTime,Zo(e,t,a)):Lo(e,t,r,n,a)}function jo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Lo(e,t,r,n,i){var a=gi(r)?pi:di.current;return a=hi(t,a),ra(t,i),r=Ga(e,t,r,n,a,i),null===e||Co?(t.effectTag|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Zo(e,t,i))}function No(e,t,r,n,i){if(gi(r)){var a=!0;bi(t)}else a=!1;if(ra(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),va(t,r,n),ba(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;"object"===typeof u&&null!==u?u=na(u):u=hi(t,u=gi(r)?pi:di.current);var c=r.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==u)&&ya(t,o,n,u),ia=!1;var f=t.memoizedState;o.state=f,ca(t,n,o,i),l=t.memoizedState,s!==n||f!==l||fi.current||ia?("function"===typeof c&&(ha(t,r,c,n),l=t.memoizedState),(s=ia||ma(t,r,s,n,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,oa(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Zi(t.type,s),l=o.context,"object"===typeof(u=r.contextType)&&null!==u?u=na(u):u=hi(t,u=gi(r)?pi:di.current),(d="function"===typeof(c=r.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==u)&&ya(t,o,n,u),ia=!1,l=t.memoizedState,o.state=l,ca(t,n,o,i),f=t.memoizedState,s!==n||l!==f||fi.current||ia?("function"===typeof c&&(ha(t,r,c,n),f=t.memoizedState),(c=ia||ma(t,r,s,n,l,f,u))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,u)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=u,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Uo(e,t,r,n,a,i)}function Uo(e,t,r,n,i,a){jo(e,t);var o=0!==(64&t.effectTag);if(!n&&!o)return i&&ki(t,r,!1),Zo(e,t,a);n=t.stateNode,Ao.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Mo(e,t,s,a),t.memoizedState=n.state,i&&ki(t,r,!0),t.child}function Bo(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ma(e,t.containerInfo)}var Fo,zo,Vo,$o={dehydrated:null,retryTime:0};function Wo(e,t,r){var n,i=t.mode,a=t.pendingProps,o=ja.current,s=!1;if((n=0!==(64&t.effectTag))||(n=0!==(2&o)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),ui(ja,1&o),null===e){if(void 0!==a.fallback&&To(t),s){if(s=a.fallback,(a=Pl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=Pl(s,i,r,null)).return=t,a.sibling=r,t.memoizedState=$o,t.child=a,r}return i=a.children,t.memoizedState=null,t.child=Ta(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(r=xl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=xl(i,a)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=$o,t.child=r,i}return r=Sa(t,e.child,a.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=a.fallback,(a=Pl(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=Pl(s,i,r,null)).return=t,a.sibling=r,r.effectTag|=2,a.childExpirationTime=0,t.memoizedState=$o,t.child=a,r}return t.memoizedState=null,t.child=Sa(t,e,a.children,r)}function Ko(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),ta(e.return,t)}function Ho(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Go(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Mo(e,t,n.children,r),0!==(2&(n=ja.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,r);else if(19===e.tag)Ko(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ui(ja,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===La(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ho(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===La(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ho(t,!0,r,null,a,t.lastEffect);break;case"together":Ho(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zo(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&ol(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=xl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=xl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function qo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xo(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&mi(),null;case 3:return Ia(),li(fi),li(di),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Oo(t)||(t.effectTag|=4),null;case 5:Da(t),r=Ca(Aa.current);var a=t.type;if(null!==e&&null!=t.stateNode)zo(e,t,a,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ca(Oa.current),Oo(t)){n=t.stateNode,a=t.type;var s=t.memoizedProps;switch(n[wr]=t,n[Sr]=s,a){case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Gt(Xe[e],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"form":Gt("reset",n),Gt("submit",n);break;case"details":Gt("toggle",n);break;case"input":we(n,s),Gt("invalid",n),sr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",n),sr(r,"onChange");break;case"textarea":Me(n,s),Gt("invalid",n),sr(r,"onChange")}for(var l in ir(a,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?n.textContent!==u&&(e=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(e=["children",""+u]):S.hasOwnProperty(l)&&null!=u&&sr(r,l)}switch(a){case"input":ke(n),xe(n,s,!0);break;case"textarea":ke(n),Re(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=lr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,e===or&&(e=Le(a)),e===or?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(a,{is:n.is}):(e=l.createElement(a),"select"===a&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,a),e[wr]=t,e[Sr]=n,Fo(e,t),t.stateNode=e,l=ar(a,n),a){case"iframe":case"object":case"embed":Gt("load",e),u=n;break;case"video":case"audio":for(u=0;u<Xe.length;u++)Gt(Xe[u],e);u=n;break;case"source":Gt("error",e),u=n;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),u=n;break;case"form":Gt("reset",e),Gt("submit",e),u=n;break;case"details":Gt("toggle",e),u=n;break;case"input":we(e,n),u=Ee(e,n),Gt("invalid",e),sr(r,"onChange");break;case"option":u=Pe(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},u=i({},n,{value:void 0}),Gt("invalid",e),sr(r,"onChange");break;case"textarea":Me(e,n),u=Ce(e,n),Gt("invalid",e),sr(r,"onChange");break;default:u=n}ir(a,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?rr(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Be(e,d):"children"===s?"string"===typeof d?("textarea"!==a||""!==d)&&Fe(e,d):"number"===typeof d&&Fe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=d&&sr(r,s):null!=d&&Y(e,s,d,l))}switch(a){case"input":ke(e),xe(e,n,!1);break;case"textarea":ke(e),Re(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ye(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?Ae(e,!!n.multiple,r,!1):null!=n.defaultValue&&Ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=lr)}mr(a,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Vo(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=Ca(Aa.current),Ca(Oa.current),Oo(t)?(r=t.stateNode,n=t.memoizedProps,r[wr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[wr]=t,t.stateNode=r)}return null;case 13:return li(ja),n=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Oo(t):(n=null!==(a=e.memoizedState),r||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?Os===ks&&(Os=_s):(Os!==ks&&Os!==_s||(Os=Es),0!==Is&&null!==Ss&&(Rl(Ss,xs),Dl(Ss,Is)))),(r||n)&&(t.effectTag|=4),null);case 4:return Ia(),null;case 10:return ea(t),null;case 17:return gi(t.type)&&mi(),null;case 19:if(li(ja),null===(n=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=n.rendering)){if(a)qo(n,!1);else if(Os!==ks||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=La(s))){for(t.effectTag|=64,qo(n,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)s=r,(a=n).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return ui(ja,1&ja.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=La(s))){if(t.effectTag|=64,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),qo(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,a=!0,qo(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=n.last)?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Bi()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Bi(),r.sibling=null,t=ja.current,ui(ja,a?1&t|2:1&t),r):null}throw Error(o(156,t.tag))}function Yo(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ia(),li(fi),li(di),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Da(e),null;case 13:return li(ja),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Ia(),null;case 10:return ea(e),null;default:return null}}function Qo(e,t){return{value:e,source:t,stack:ve(t)}}Fo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},zo=function(e,t,r,n,a){var o=e.memoizedProps;if(o!==n){var s,l,u=t.stateNode;switch(Ca(Oa.current),e=null,r){case"input":o=Ee(u,o),n=Ee(u,n),e=[];break;case"option":o=Pe(u,o),n=Pe(u,n),e=[];break;case"select":o=i({},o,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":o=Ce(u,o),n=Ce(u,n),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(u.onclick=lr)}for(s in ir(r,n),r=null,o)if(!n.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in u=o[s])u.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var c=n[s];if(u=null!=o?o[s]:void 0,n.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(e||(e=[]),e.push(s,r)),r=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=c&&sr(a,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}r&&(e=e||[]).push("style",r),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Vo=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var Jo="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=ve(r)),null!==r&&me(r.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){yl(e,r)}else t.current=null}function rs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Zi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ns(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function as(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void is(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Zi(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&da(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}da(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&mr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Lt(r)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function os(e,t,r){switch("function"===typeof El&&El(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;Vi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(a){yl(i,a)}}e=e.next}while(e!==n)}))}break;case 1:ts(t),"function"===typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){yl(e,r)}}(t,r);break;case 5:ts(t);break;case 4:cs(e,t,r)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var r=t;break e}t=t.return}throw Error(o(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.effectTag&&(Fe(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ls(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?function e(t,r,n){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(8===n.nodeType?(r=n.parentNode).insertBefore(t,n):(r=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=lr));else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t):function e(t,r,n){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t)}function cs(e,t,r){for(var n,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,u=a,c=r,d=u;;)if(os(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=n,u=a.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(os(e,a,r),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ns(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[Sr]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Se(r,n),ar(e,i),t=ar(e,n),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?rr(r,l):"dangerouslySetInnerHTML"===s?Be(r,l):"children"===s?Fe(r,l):Y(r,s,l,t)}switch(e){case"input":Te(r,n);break;case"textarea":Ie(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Ae(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Ae(r,!!n.multiple,n.defaultValue,!0):Ae(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Ds=Bi()),null!==r)e:for(e=r;;){if(5===e.tag)a=e.stateNode,n?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=tr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fs(t);case 19:return void fs(t);case 17:return}throw Error(o(163))}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Jo),t.forEach((function(t){var n=kl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=sa(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ls||(Ls=!0,Ns=n),es(e,t)},r}function gs(e,t,r){(r=sa(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return es(e,t),n(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Us?Us=new Set([this]):Us.add(this),es(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var ms,vs=Math.ceil,ys=X.ReactCurrentDispatcher,bs=X.ReactCurrentOwner,ks=0,_s=3,Es=4,ws=0,Ss=null,Ts=null,xs=0,Os=ks,Ps=null,As=1073741823,Cs=1073741823,Ms=null,Is=0,Rs=!1,Ds=0,js=null,Ls=!1,Ns=null,Us=null,Bs=!1,Fs=null,zs=90,Vs=null,$s=0,Ws=null,Ks=0;function Hs(){return 0!==(48&ws)?1073741821-(Bi()/10|0):0!==Ks?Ks:Ks=1073741821-(Bi()/10|0)}function Gs(e,t,r){if(0===(2&(t=t.mode)))return 1073741823;var n=Fi();if(0===(4&t))return 99===n?1073741823:1073741822;if(0!==(16&ws))return xs;if(null!==r)e=Gi(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Gi(e,150,100);break;case 97:case 96:e=Gi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ss&&e===xs&&--e,e}function Zs(e,t){if(50<$s)throw $s=0,Ws=null,Error(o(185));if(null!==(e=qs(e,t))){var r=Fi();1073741823===t?0!==(8&ws)&&0===(48&ws)?Js(e):(Ys(e),0===ws&&Ki()):Ys(e),0===(4&ws)||98!==r&&99!==r||(null===Vs?Vs=new Map([[e,t]]):(void 0===(r=Vs.get(e))||r>t)&&Vs.set(e,t))}}function qs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Ss===i&&(ol(t),Os===Es&&Rl(i,xs)),Dl(i,t)),i}function Xs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Il(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function Ys(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wi(Js.bind(null,e));else{var t=Xs(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Hs();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Ii&&wi(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Wi(Js.bind(null,e)):$i(n,Qs.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function Qs(e,t){if(Ks=0,t)return jl(e,t=Hs()),Ys(e),null;var r=Xs(e);if(0!==r){if(t=e.callbackNode,0!==(48&ws))throw Error(o(327));if(gl(),e===Ss&&r===xs||rl(e,r),null!==Ts){var n=ws;ws|=16;for(var i=il();;)try{ll();break}catch(l){nl(e,l)}if(Ji(),ws=n,ys.current=i,1===Os)throw t=Ps,rl(e,r),Rl(e,r),Ys(e),t;if(null===Ts)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Os,Ss=null,n){case ks:case 1:throw Error(o(345));case 2:jl(e,2<r?2:r);break;case _s:if(Rl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),1073741823===As&&10<(i=Ds+500-Bi())){if(Rs){var a=e.lastPingedTime;if(0===a||a>=r){e.lastPingedTime=r,rl(e,r);break}}if(0!==(a=Xs(e))&&a!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=yr(fl.bind(null,e),i);break}fl(e);break;case Es:if(Rl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),Rs&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,rl(e,r);break}if(0!==(i=Xs(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Cs?n=10*(1073741821-Cs)-Bi():1073741823===As?n=0:(n=10*(1073741821-As)-5e3,0>(n=(i=Bi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vs(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=yr(fl.bind(null,e),n);break}fl(e);break;case 5:if(1073741823!==As&&null!==Ms){a=As;var s=Ms;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(a=Bi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+n-a),10<n){Rl(e,r),e.timeoutHandle=yr(fl.bind(null,e),n);break}}fl(e);break;default:throw Error(o(329))}if(Ys(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&ws))throw Error(o(327));if(gl(),e===Ss&&t===xs||rl(e,t),null!==Ts){var r=ws;ws|=16;for(var n=il();;)try{sl();break}catch(i){nl(e,i)}if(Ji(),ws=r,ys.current=n,1===Os)throw r=Ps,rl(e,t),Rl(e,t),Ys(e),r;if(null!==Ts)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ss=null,fl(e),Ys(e)}return null}function el(e,t){var r=ws;ws|=1;try{return e(t)}finally{0===(ws=r)&&Ki()}}function tl(e,t){var r=ws;ws&=-2,ws|=8;try{return e(t)}finally{0===(ws=r)&&Ki()}}function rl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,br(r)),null!==Ts)for(r=Ts.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mi();break;case 3:Ia(),li(fi),li(di);break;case 5:Da(n);break;case 4:Ia();break;case 13:case 19:li(ja);break;case 10:ea(n)}r=r.return}Ss=e,Ts=xl(e.current,null),xs=t,Os=ks,Ps=null,Cs=As=1073741823,Ms=null,Is=0,Rs=!1}function nl(e,t){for(;;){try{if(Ji(),Ua.current=mo,Wa)for(var r=za.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(Fa=0,$a=Va=za=null,Wa=!1,null===Ts||null===Ts.return)return Os=1,Ps=t,Ts=null;e:{var i=e,a=Ts.return,o=Ts,s=t;if(t=xs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&ja.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var h=d.memoizedProps;f=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(f){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=sa(1073741823,null);v.tag=2,la(o,v)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ps,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(o)){s.add(o);var b=bl.bind(null,i,l,o);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(o))}5!==Os&&(Os=2),s=Qo(s,o),d=a;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,ua(d,hs(d,l,t));break e;case 1:l=s;var k=d.type,_=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof k.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Us||!Us.has(_)))){d.effectTag|=4096,d.expirationTime=t,ua(d,gs(d,l,t));break e}}d=d.return}while(null!==d)}Ts=cl(Ts)}catch(E){t=E;continue}break}}function il(){var e=ys.current;return ys.current=mo,null===e?mo:e}function al(e,t){e<As&&2<e&&(As=e),null!==t&&e<Cs&&2<e&&(Cs=e,Ms=t)}function ol(e){e>Is&&(Is=e)}function sl(){for(;null!==Ts;)Ts=ul(Ts)}function ll(){for(;null!==Ts&&!Ri();)Ts=ul(Ts)}function ul(e){var t=ms(e.alternate,e,xs);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){Ts=e;do{var t=Ts.alternate;if(e=Ts.return,0===(2048&Ts.effectTag)){if(t=Xo(t,Ts,xs),1===xs||1!==Ts.childExpirationTime){for(var r=0,n=Ts.child;null!==n;){var i=n.expirationTime,a=n.childExpirationTime;i>r&&(r=i),a>r&&(r=a),n=n.sibling}Ts.childExpirationTime=r}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ts.firstEffect),null!==Ts.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ts.firstEffect),e.lastEffect=Ts.lastEffect),1<Ts.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ts:e.firstEffect=Ts,e.lastEffect=Ts))}else{if(null!==(t=Yo(Ts)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ts.sibling))return t;Ts=e}while(null!==Ts);return Os===ks&&(Os=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fl(e){var t=Fi();return Vi(99,pl.bind(null,e,t)),null}function pl(e,t){do{gl()}while(null!==Fs);if(0!==(48&ws))throw Error(o(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=dl(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ss&&(Ts=Ss=null,xs=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var a=ws;ws|=32,bs.current=null,hr=Ht;var s=fr();if(pr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(x){l=null;break e}var f=0,p=-1,h=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==c&&3!==v.nodeType||(p=f+c),v!==d||0!==u&&3!==v.nodeType||(h=f+u),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++g===c&&(p=f),y===d&&++m===u&&(h=f),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===p||-1===h?null:{start:p,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;gr={activeElementDetached:null,focusedElem:s,selectionRange:l},Ht=!1,js=i;do{try{hl()}catch(x){if(null===js)throw Error(o(330));yl(js,x),js=js.nextEffect}}while(null!==js);js=i;do{try{for(s=e,l=t;null!==js;){var k=js.effectTag;if(16&k&&Fe(js.stateNode,""),128&k){var _=js.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&k){case 2:us(js),js.effectTag&=-3;break;case 6:us(js),js.effectTag&=-3,ds(js.alternate,js);break;case 1024:js.effectTag&=-1025;break;case 1028:js.effectTag&=-1025,ds(js.alternate,js);break;case 4:ds(js.alternate,js);break;case 8:cs(s,c=js,l),ss(c)}js=js.nextEffect}}catch(x){if(null===js)throw Error(o(330));yl(js,x),js=js.nextEffect}}while(null!==js);if(E=gr,_=fr(),k=E.focusedElem,l=E.selectionRange,_!==k&&k&&k.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(k.ownerDocument.documentElement,k)){null!==l&&pr(k)&&(_=l.start,void 0===(E=l.end)&&(E=_),"selectionStart"in k?(k.selectionStart=_,k.selectionEnd=Math.min(E,k.value.length)):(E=(_=k.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),c=k.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!E.extend&&s>l&&(c=l,l=s,s=c),c=dr(k,s),d=dr(k,l),c&&d&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)&&((_=_.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),s>l?(E.addRange(_),E.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),E.addRange(_))))),_=[];for(E=k;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<_.length;k++)(E=_[k]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Ht=!!hr,gr=hr=null,e.current=r,js=i;do{try{for(k=e;null!==js;){var w=js.effectTag;if(36&w&&as(k,js.alternate,js),128&w){_=void 0;var S=js.ref;if(null!==S){var T=js.stateNode;switch(js.tag){case 5:_=T;break;default:_=T}"function"===typeof S?S(_):S.current=_}}js=js.nextEffect}}catch(x){if(null===js)throw Error(o(330));yl(js,x),js=js.nextEffect}}while(null!==js);js=null,Di(),ws=a}else e.current=r;if(Bs)Bs=!1,Fs=e,zs=t;else for(js=i;null!==js;)t=js.nextEffect,js.nextEffect=null,js=t;if(0===(t=e.firstPendingTime)&&(Us=null),1073741823===t?e===Ws?$s++:($s=0,Ws=e):$s=0,"function"===typeof _l&&_l(r.stateNode,n),Ys(e),Ls)throw Ls=!1,e=Ns,Ns=null,e;return 0!==(8&ws)||Ki(),null}function hl(){for(;null!==js;){var e=js.effectTag;0!==(256&e)&&rs(js.alternate,js),0===(512&e)||Bs||(Bs=!0,$i(97,(function(){return gl(),null}))),js=js.nextEffect}}function gl(){if(90!==zs){var e=97<zs?97:zs;return zs=90,Vi(e,ml)}}function ml(){if(null===Fs)return!1;var e=Fs;if(Fs=null,0!==(48&ws))throw Error(o(331));var t=ws;for(ws|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ns(5,r),is(5,r)}}catch(n){if(null===e)throw Error(o(330));yl(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return ws=t,Ki(),!0}function vl(e,t,r){la(e,t=hs(e,t=Qo(r,t),1073741823)),null!==(e=qs(e,1073741823))&&Ys(e)}function yl(e,t){if(3===e.tag)vl(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){vl(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Us||!Us.has(n))){la(r,e=gs(r,e=Qo(t,e),1073741823)),null!==(r=qs(r,1073741823))&&Ys(r);break}}r=r.return}}function bl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Ss===e&&xs===r?Os===Es||Os===_s&&1073741823===As&&Bi()-Ds<500?rl(e,xs):Rs=!0:Il(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,Ys(e)))}function kl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Gs(t=Hs(),e,null)),null!==(e=qs(e,t))&&Ys(e)}ms=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||fi.current)Co=!0;else{if(n<r){switch(Co=!1,t.tag){case 3:Bo(t),Po();break;case 5:if(Ra(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&bi(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,ui(qi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?Wo(e,t,r):(ui(ja,1&ja.current),null!==(t=Zo(e,t,r))?t.sibling:null);ui(ja,1&ja.current);break;case 19:if(n=t.childExpirationTime>=r,0!==(64&e.effectTag)){if(n)return Go(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ui(ja,ja.current),!n)return null}return Zo(e,t,r)}Co=!1}}else Co=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=hi(t,di.current),ra(t,r),i=Ga(null,t,n,e,i,r),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(n)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&ha(t,n,s,e),i.updater=ga,t.stateNode=i,i._reactInternalFiber=t,ba(t,n,e,r),t=Uo(null,t,n,!0,a,r)}else t.tag=0,Mo(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Tl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(i),e=Zi(i,e),a){case 0:t=Lo(null,t,i,e,r);break e;case 1:t=No(null,t,i,e,r);break e;case 11:t=Io(null,t,i,e,r);break e;case 14:t=Ro(null,t,i,Zi(i.type,e),n,r);break e}throw Error(o(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Lo(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 1:return n=t.type,i=t.pendingProps,No(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 3:if(Bo(t),n=t.updateQueue,null===e||null===n)throw Error(o(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ca(t,n,null,r),(n=t.memoizedState.element)===i)Po(),t=Zo(e,t,r);else{if((i=t.stateNode.hydrate)&&(_o=kr(t.stateNode.containerInfo.firstChild),ko=t,i=Eo=!0),i)for(r=Ta(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Mo(e,t,n,r),Po();t=t.child}return t;case 5:return Ra(t),null===e&&To(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,vr(n,i)?s=null:null!==a&&vr(n,a)&&(t.effectTag|=16),jo(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Mo(e,t,s,r),t=t.child),t;case 6:return null===e&&To(t),null;case 13:return Wo(e,t,r);case 4:return Ma(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Sa(t,null,n,r):Mo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Io(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 7:return Mo(e,t,t.pendingProps,r),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(ui(qi,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=Nn(l,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!fi.current){t=Zo(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&a)){1===l.tag&&((c=sa(r,null)).tag=2,la(l,c)),l.expirationTime<r&&(l.expirationTime=r),null!==(c=l.alternate)&&c.expirationTime<r&&(c.expirationTime=r),ta(l.return,r),u.expirationTime<r&&(u.expirationTime=r);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Mo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(a=t.pendingProps).children,ra(t,r),n=n(i=na(i,a.unstable_observedBits)),t.effectTag|=1,Mo(e,t,n,r),t.child;case 14:return a=Zi(i=t.type,t.pendingProps),Ro(e,t,i,a=Zi(i.type,a),n,r);case 15:return Do(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(n)?(e=!0,bi(t)):e=!1,ra(t,r),va(t,n,i),ba(t,n,i,r),Uo(null,t,n,!0,e,r);case 19:return Go(e,t,r)}throw Error(o(156,t.tag))};var _l=null,El=null;function wl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sl(e,t,r,n){return new wl(e,t,r,n)}function Tl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xl(e,t){var r=e.alternate;return null===r?((r=Sl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ol(e,t,r,n,i,a){var s=2;if(n=e,"function"===typeof e)Tl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case re:return Pl(r.children,i,a,t);case se:s=8,i|=7;break;case ne:s=8,i|=1;break;case ie:return(e=Sl(12,r,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ue:return(e=Sl(13,r,t,i)).type=ue,e.elementType=ue,e.expirationTime=a,e;case ce:return(e=Sl(19,r,t,i)).elementType=ce,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case le:s=11;break e;case de:s=14;break e;case fe:s=16,n=null;break e;case pe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Sl(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=a,t}function Pl(e,t,r,n){return(e=Sl(7,e,n,t)).expirationTime=r,e}function Al(e,t,r){return(e=Sl(6,e,null,t)).expirationTime=r,e}function Cl(e,t,r){return(t=Sl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ml(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Il(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Rl(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Dl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function jl(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Ll(e,t,r,n){var i=t.current,a=Hs(),s=fa.suspense;a=Gs(a,i,s);e:if(r){t:{if(Je(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(o(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===r.tag){var u=r.type;if(gi(u)){r=yi(r,u,l);break e}}r=l}else r=ci;return null===t.context?t.context=r:t.pendingContext=r,(t=sa(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),la(i,t),Zs(i,a),a}function Nl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ul(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Ul(e,t),(e=e.alternate)&&Ul(e,t)}function Fl(e,t,r){var n=new Ml(e,t,r=null!=r&&!0===r.hydrate),i=Sl(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,aa(i),e[Tr]=n.current,r&&0!==t&&function(e,t){var r=Qe(t);xt.forEach((function(e){ht(e,t,r)})),Ot.forEach((function(e){ht(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Nl(o);s.call(e)}}Ll(t,o,e,i)}else{if(a=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Fl(e,0,t?{hydrate:!0}:void 0)}(r,n),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Nl(o);l.call(e)}}tl((function(){Ll(t,o,e,i)}))}return Nl(o)}function $l(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Wl(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zl(t))throw Error(o(200));return $l(e,t,null,r)}Fl.prototype.render=function(e){Ll(e,this._internalRoot,null,null)},Fl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ll(null,e,null,(function(){t[Tr]=null}))},gt=function(e){if(13===e.tag){var t=Gi(Hs(),150,100);Zs(e,t),Bl(e,t)}},mt=function(e){13===e.tag&&(Zs(e,3),Bl(e,3))},vt=function(e){if(13===e.tag){var t=Hs();Zs(e,t=Gs(t,e,null)),Bl(e,t)}},P=function(e,t,r){switch(t){case"input":if(Te(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ar(n);if(!i)throw Error(o(90));_e(n),Te(n,i)}}}break;case"textarea":Ie(e,r);break;case"select":null!=(t=r.value)&&Ae(e,!!r.multiple,t,!1)}},D=el,j=function(e,t,r,n,i){var a=ws;ws|=4;try{return Vi(98,e.bind(null,t,r,n,i))}finally{0===(ws=a)&&Ki()}},L=function(){0===(49&ws)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){jl(t,e),Ys(t)})),Ki()}}(),gl())},N=function(e,t){var r=ws;ws|=2;try{return e(t)}finally{0===(ws=r)&&Ki()}};var Kl={Events:[Or,Pr,Ar,x,w,Lr,function(e){it(e,jr)},I,R,Yt,st,gl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);_l=function(e){try{t.onCommitFiberRoot(r,e,void 0,64===(64&e.current.effectTag))}catch(n){}},El=function(e){try{t.onCommitFiberUnmount(r,e)}catch(n){}}}catch(n){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:xr,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kl,t.createPortal=Wl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&ws))throw Error(o(187));var r=ws;ws|=1;try{return Vi(99,e.bind(null,t))}finally{ws=r,Ki()}},t.hydrate=function(e,t,r){if(!zl(t))throw Error(o(200));return Vl(null,e,t,!0,r)},t.render=function(e,t,r){if(!zl(t))throw Error(o(200));return Vl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!zl(e))throw Error(o(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Tr]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Wl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zl(r))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Vl(e,t,r,!1,n)},t.version="16.13.1"},function(e,t,r){"use strict";e.exports=r(210)},function(e,t,r){"use strict";var n,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var r=t.unstable_now();l(!0,r),l=null}catch(n){throw setTimeout(e,0),n}},d=Date.now();t.unstable_now=function(){return Date.now()-d},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,h=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var v=p.now();t.unstable_now=function(){return p.now()-v}}var y=!1,b=null,k=-1,_=5,E=0;o=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();E=e+_;try{b(!0,e)?S.postMessage(null):(y=!1,b=null)}catch(r){throw S.postMessage(null),r}}else y=!1},n=function(e){b=e,y||(y=!0,S.postMessage(null))},i=function(e,r){k=h((function(){e(t.unstable_now())}),r)},a=function(){g(k),k=-1}}function T(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<P(i,t)))break e;e[n]=t,e[r]=i,r=n}}function x(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var a=2*(n+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>P(o,r))void 0!==l&&0>P(l,o)?(e[n]=l,e[s]=r,n=s):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==l&&0>P(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function P(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var A=[],C=[],M=1,I=null,R=3,D=!1,j=!1,L=!1;function N(e){for(var t=x(C);null!==t;){if(null===t.callback)O(C);else{if(!(t.startTime<=e))break;O(C),t.sortIndex=t.expirationTime,T(A,t)}t=x(C)}}function U(e){if(L=!1,N(e),!j)if(null!==x(A))j=!0,n(B);else{var t=x(C);null!==t&&i(U,t.startTime-e)}}function B(e,r){j=!1,L&&(L=!1,a()),D=!0;var n=R;try{for(N(r),I=x(A);null!==I&&(!(I.expirationTime>r)||e&&!o());){var s=I.callback;if(null!==s){I.callback=null,R=I.priorityLevel;var l=s(I.expirationTime<=r);r=t.unstable_now(),"function"===typeof l?I.callback=l:I===x(A)&&O(A),N(r)}else O(A);I=x(A)}if(null!==I)var u=!0;else{var c=x(C);null!==c&&i(U,c.startTime-r),u=!1}return u}finally{I=null,R=n,D=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||D||(j=!0,n(B))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return x(A)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var r=R;R=t;try{return e()}finally{R=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=R;R=e;try{return t()}finally{R=r}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?s+l:s,o="number"===typeof o.timeout?o.timeout:F(e)}else o=F(e),l=s;return e={id:M++,callback:r,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,T(C,e),null===x(A)&&e===x(C)&&(L?a():L=!0,i(U,l-s))):(e.sortIndex=o,T(A,e),j||D||(j=!0,n(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var r=x(A);return r!==I&&null!==I&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<I.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=R;return function(){var r=R;R=t;try{return e.apply(this,arguments)}finally{R=r}}}},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case o:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case v:case m:case u:return e;default:return t}}case a:return t}}}function w(e){return E(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||E(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===l},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===l||e===s||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===k||e.$$typeof===_||e.$$typeof===y)},t.typeOf=E},function(e,t,r){"use strict";var n=r(215);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";r.r(t);var n=r(54),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=Object(n.a)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=a},function(e,t,r){},function(e,t,r){},function(e,t,r){!function(e){"use strict";var t="CodeMirror-lint-markers";function r(e){e.parentNode&&e.parentNode.removeChild(e)}function n(t,n,i,a){var o=function(t,r,n){var i=document.createElement("div");function a(t){if(!i.parentNode)return e.off(document,"mousemove",a);i.style.top=Math.max(0,t.clientY-i.offsetHeight-5)+"px",i.style.left=t.clientX+5+"px"}return i.className="CodeMirror-lint-tooltip cm-s-"+t.options.theme,i.appendChild(n.cloneNode(!0)),t.state.lint.options.selfContain?t.getWrapperElement().appendChild(i):document.body.appendChild(i),e.on(document,"mousemove",a),a(r),null!=i.style.opacity&&(i.style.opacity=1),i}(t,n,i);function s(){var t;e.off(a,"mouseout",s),o&&((t=o).parentNode&&(null==t.style.opacity&&r(t),t.style.opacity=0,setTimeout((function(){r(t)}),600)),o=null)}var l=setInterval((function(){if(o)for(var e=a;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){s();break}}if(!o)return clearInterval(l)}),400);e.on(a,"mouseout",s)}function i(e,t,r){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=r,this.onMouseOver=function(t){!function(e,t){var r=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(r.className)){for(var i=r.getBoundingClientRect(),a=(i.left+i.right)/2,o=(i.top+i.bottom)/2,l=e.findMarksAt(e.coordsChar({left:a,top:o},"client")),u=[],c=0;c<l.length;++c){var d=l[c].__annotation;d&&u.push(d)}u.length&&function(e,t,r){for(var i=r.target||r.srcElement,a=document.createDocumentFragment(),o=0;o<t.length;o++){var l=t[o];a.appendChild(s(l))}n(e,r,a,i)}(e,u,t)}}(e,t)},this.waitingFor=0}function a(e){var r=e.state.lint;r.hasGutter&&e.clearGutter(t);for(var n=0;n<r.marked.length;++n)r.marked[n].clear();r.marked.length=0}function o(t,r,i,a,o){var s=document.createElement("div"),l=s;return s.className="CodeMirror-lint-marker-"+i,a&&((l=s.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=o&&e.on(l,"mouseover",(function(e){n(t,e,r,l)})),s}function s(e){var t=e.severity;t||(t="error");var r=document.createElement("div");return r.className="CodeMirror-lint-message-"+t,"undefined"!=typeof e.messageHTML?r.innerHTML=e.messageHTML:r.appendChild(document.createTextNode(e.message)),r}function l(t){var r=t.state.lint.options,n=r.options||r,i=r.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(i)if(r.async||i.async)!function(t,r,n){var i=t.state.lint,a=++i.waitingFor;function o(){a=-1,t.off("change",o)}t.on("change",o),r(t.getValue(),(function(r,n){t.off("change",o),i.waitingFor==a&&(n&&r instanceof e&&(r=n),t.operation((function(){u(t,r)})))}),n,t)}(t,i,n);else{var a=i(t.getValue(),n,t);if(!a)return;a.then?a.then((function(e){t.operation((function(){u(t,e)}))})):t.operation((function(){u(t,a)}))}}function u(e,r){a(e);for(var n,i,l=e.state.lint,u=l.options,c=function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r],i=n.from.line;(t[i]||(t[i]=[])).push(n)}return t}(r),d=0;d<c.length;++d){var f=c[d];if(f){for(var p=null,h=l.hasGutter&&document.createDocumentFragment(),g=0;g<f.length;++g){var m=f[g],v=m.severity;v||(v="error"),i=v,p="error"==(n=p)?n:i,u.formatAnnotation&&(m=u.formatAnnotation(m)),l.hasGutter&&h.appendChild(s(m)),m.to&&l.marked.push(e.markText(m.from,m.to,{className:"CodeMirror-lint-mark-"+v,__annotation:m}))}l.hasGutter&&e.setGutterMarker(d,t,o(e,h,p,f.length>1,l.options.tooltips))}}u.onUpdateLinting&&u.onUpdateLinting(r,c,e)}function c(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout((function(){l(e)}),t.options.delay||500))}e.defineOption("lint",!1,(function(r,n,o){if(o&&o!=e.Init&&(a(r),!1!==r.state.lint.options.lintOnChange&&r.off("change",c),e.off(r.getWrapperElement(),"mouseover",r.state.lint.onMouseOver),clearTimeout(r.state.lint.timeout),delete r.state.lint),n){for(var s=r.getOption("gutters"),u=!1,d=0;d<s.length;++d)s[d]==t&&(u=!0);var f=r.state.lint=new i(r,(p=n)instanceof Function?{getAnnotations:p}:(p&&!0!==p||(p={}),p),u);!1!==f.options.lintOnChange&&r.on("change",c),0!=f.options.tooltips&&"gutter"!=f.options.tooltips&&e.on(r.getWrapperElement(),"mouseover",f.onMouseOver),l(r)}var p})),e.defineExtension("performLint",(function(){this.state.lint&&l(this)}))}(r(77))},function(e,t,r){!function(e){"use strict";e.registerHelper("lint","json",(function(t){var r=[];if(!window.jsonlint)return window.console&&window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run."),r;var n=window.jsonlint.parser||window.jsonlint;n.parseError=function(t,n){var i=n.loc;r.push({from:e.Pos(i.first_line-1,i.first_column),to:e.Pos(i.last_line-1,i.last_column),message:t})};try{n.parse(t)}catch(i){}return r}))}(r(77))},function(e,t,r){!function(e){"use strict";e.defineMode("javascript",(function(t,r){var n,i,a=t.indentUnit,o=r.statementIndent,s=r.jsonld,l=r.json||s,u=r.typescript,c=r.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("keyword d"),a=e("operator"),o={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:i,break:i,continue:i,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:a,typeof:a,instanceof:a,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),f=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e,t,r){return n=e,i=r,t}function g(e,t){var r,n=e.next();if('"'==n||"'"==n)return t.tokenize=(r=n,function(e,t){var n,i=!1;if(s&&"@"==e.peek()&&e.match(p))return t.tokenize=g,h("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||i);)i=!i&&"\\"==n;return i||(t.tokenize=g),h("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return h("number","number");if("."==n&&e.match(".."))return h("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return h(n);if("="==n&&e.eat(">"))return h("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return h("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),h("number","number");if("/"==n)return e.eat("*")?(t.tokenize=m,m(e,t)):e.eat("/")?(e.skipToEnd(),h("comment","comment")):Ge(e,t,1)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),h("regexp","string-2")):(e.eat("="),h("operator","operator",e.current()));if("`"==n)return t.tokenize=v,v(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),h("meta","meta");if("#"==n&&e.eatWhile(c))return h("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),h("comment","comment");if(f.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?h("."):h("operator","operator",e.current());if(c.test(n)){e.eatWhile(c);var i=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(i)){var a=d[i];return h(a.type,a.style,i)}if("async"==i&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return h("async","keyword",i)}return h("variable","variable",i)}}function m(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=g;break}n="*"==r}return h("comment","comment")}function v(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=g;break}n=!n&&"\\"==r}return h("quasi","string-2",e.current())}function y(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(u){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var i=0,a=!1,o=r-1;o>=0;--o){var s=e.string.charAt(o),l="([{}])".indexOf(s);if(l>=0&&l<3){if(!i){++o;break}if(0==--i){"("==s&&(a=!0);break}}else if(l>=3&&l<6)++i;else if(c.test(s))a=!0;else if(/["'\/`]/.test(s))for(;;--o){if(0==o)return;if(e.string.charAt(o-1)==s&&"\\"!=e.string.charAt(o-2)){o--;break}}else if(a&&!i){++o;break}}a&&!i&&(t.fatArrowAt=o)}}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function k(e,t,r,n,i,a){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=a,null!=n&&(this.align=n)}function _(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}var E={state:null,column:null,marked:null,cc:null};function w(){for(var e=arguments.length-1;e>=0;e--)E.cc.push(arguments[e])}function S(){return w.apply(null,arguments),!0}function T(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function x(e){var t=E.state;if(E.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,r){if(r){if(r.block){var n=e(t,r.prev);return n?n==r.prev?r:new P(n,r.vars,!0):null}return T(t,r.vars)?r:new P(r.prev,new A(t,r.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!T(e,t.localVars))return void(t.localVars=new A(e,t.localVars));r.globalVars&&!T(e,t.globalVars)&&(t.globalVars=new A(e,t.globalVars))}function O(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function P(e,t,r){this.prev=e,this.vars=t,this.block=r}function A(e,t){this.name=e,this.next=t}var C=new A("this",new A("arguments",null));function M(){E.state.context=new P(E.state.context,E.state.localVars,!1),E.state.localVars=C}function I(){E.state.context=new P(E.state.context,E.state.localVars,!0),E.state.localVars=null}function R(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}function D(e,t){var r=function(){var r=E.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new k(n,E.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function j(){var e=E.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function L(e){return function t(r){return r==e?S():";"==e||"}"==r||")"==r||"]"==r?w():S(t)}}function N(e,t){return"var"==e?S(D("vardef",t),ye,L(";"),j):"keyword a"==e?S(D("form"),z,N,j):"keyword b"==e?S(D("form"),N,j):"keyword d"==e?E.stream.match(/^\s*$/,!1)?S():S(D("stat"),$,L(";"),j):"debugger"==e?S(L(";")):"{"==e?S(D("}"),I,ae,j,R):";"==e?S():"if"==e?("else"==E.state.lexical.info&&E.state.cc[E.state.cc.length-1]==j&&E.state.cc.pop()(),S(D("form"),z,N,j,Se)):"function"==e?S(Pe):"for"==e?S(D("form"),Te,N,j):"class"==e||u&&"interface"==t?(E.marked="keyword",S(D("form","class"==e?e:t),Re,j)):"variable"==e?u&&"declare"==t?(E.marked="keyword",S(N)):u&&("module"==t||"enum"==t||"type"==t)&&E.stream.match(/^\s*\w/,!1)?(E.marked="keyword","enum"==t?S(Ke):"type"==t?S(Ce,L("operator"),ce,L(";")):S(D("form"),be,L("{"),D("}"),ae,j,j)):u&&"namespace"==t?(E.marked="keyword",S(D("form"),B,N,j)):u&&"abstract"==t?(E.marked="keyword",S(N)):S(D("stat"),Q):"switch"==e?S(D("form"),z,L("{"),D("}","switch"),I,ae,j,j,R):"case"==e?S(B,L(":")):"default"==e?S(L(":")):"catch"==e?S(D("form"),M,U,N,j,R):"export"==e?S(D("stat"),Ne,j):"import"==e?S(D("stat"),Be,j):"async"==e?S(N):"@"==t?S(B,N):w(D("stat"),B,L(";"),j)}function U(e){if("("==e)return S(Me,L(")"))}function B(e,t){return V(e,t,!1)}function F(e,t){return V(e,t,!0)}function z(e){return"("!=e?w():S(D(")"),$,L(")"),j)}function V(e,t,r){if(E.state.fatArrowAt==E.stream.start){var n=r?q:Z;if("("==e)return S(M,D(")"),ne(Me,")"),j,L("=>"),n,R);if("variable"==e)return w(M,be,L("=>"),n,R)}var i=r?K:W;return b.hasOwnProperty(e)?S(i):"function"==e?S(Pe,i):"class"==e||u&&"interface"==t?(E.marked="keyword",S(D("form"),Ie,j)):"keyword c"==e||"async"==e?S(r?F:B):"("==e?S(D(")"),$,L(")"),j,i):"operator"==e||"spread"==e?S(r?F:B):"["==e?S(D("]"),We,j,i):"{"==e?ie(ee,"}",null,i):"quasi"==e?w(H,i):"new"==e?S(function(e){return function(t){return"."==t?S(e?Y:X):"variable"==t&&u?S(ge,e?K:W):w(e?F:B)}}(r)):"import"==e?S(B):S()}function $(e){return e.match(/[;\}\)\],]/)?w():w(B)}function W(e,t){return","==e?S($):K(e,t,!1)}function K(e,t,r){var n=0==r?W:K,i=0==r?B:F;return"=>"==e?S(M,r?q:Z,R):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?S(n):u&&"<"==t&&E.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?S(D(">"),ne(ce,">"),j,n):"?"==t?S(B,L(":"),i):S(i):"quasi"==e?w(H,n):";"!=e?"("==e?ie(F,")","call",n):"."==e?S(J,n):"["==e?S(D("]"),$,L("]"),j,n):u&&"as"==t?(E.marked="keyword",S(ce,n)):"regexp"==e?(E.state.lastType=E.marked="operator",E.stream.backUp(E.stream.pos-E.stream.start-1),S(i)):void 0:void 0}function H(e,t){return"quasi"!=e?w():"${"!=t.slice(t.length-2)?S(H):S(B,G)}function G(e){if("}"==e)return E.marked="string-2",E.state.tokenize=v,S(H)}function Z(e){return y(E.stream,E.state),w("{"==e?N:B)}function q(e){return y(E.stream,E.state),w("{"==e?N:F)}function X(e,t){if("target"==t)return E.marked="keyword",S(W)}function Y(e,t){if("target"==t)return E.marked="keyword",S(K)}function Q(e){return":"==e?S(j,N):w(W,L(";"),j)}function J(e){if("variable"==e)return E.marked="property",S()}function ee(e,t){return"async"==e?(E.marked="property",S(ee)):"variable"==e||"keyword"==E.style?(E.marked="property","get"==t||"set"==t?S(te):(u&&E.state.fatArrowAt==E.stream.start&&(r=E.stream.match(/^\s*:\s*/,!1))&&(E.state.fatArrowAt=E.stream.pos+r[0].length),S(re))):"number"==e||"string"==e?(E.marked=s?"property":E.style+" property",S(re)):"jsonld-keyword"==e?S(re):u&&O(t)?(E.marked="keyword",S(ee)):"["==e?S(B,oe,L("]"),re):"spread"==e?S(F,re):"*"==t?(E.marked="keyword",S(ee)):":"==e?w(re):void 0;var r}function te(e){return"variable"!=e?w(re):(E.marked="property",S(Pe))}function re(e){return":"==e?S(F):"("==e?w(Pe):void 0}function ne(e,t,r){function n(i,a){if(r?r.indexOf(i)>-1:","==i){var o=E.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),S((function(r,n){return r==t||n==t?w():w(e)}),n)}return i==t||a==t?S():r&&r.indexOf(";")>-1?w(e):S(L(t))}return function(r,i){return r==t||i==t?S():w(e,n)}}function ie(e,t,r){for(var n=3;n<arguments.length;n++)E.cc.push(arguments[n]);return S(D(t,r),ne(e,t),j)}function ae(e){return"}"==e?S():w(N,ae)}function oe(e,t){if(u){if(":"==e)return S(ce);if("?"==t)return S(oe)}}function se(e,t){if(u&&(":"==e||"in"==t))return S(ce)}function le(e){if(u&&":"==e)return E.stream.match(/^\s*\w+\s+is\b/,!1)?S(B,ue,ce):S(ce)}function ue(e,t){if("is"==t)return E.marked="keyword",S()}function ce(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(E.marked="keyword",S("typeof"==t?F:ce)):"variable"==e||"void"==t?(E.marked="type",S(he)):"|"==t||"&"==t?S(ce):"string"==e||"number"==e||"atom"==e?S(he):"["==e?S(D("]"),ne(ce,"]",","),j,he):"{"==e?S(D("}"),ne(fe,"}",",;"),j,he):"("==e?S(ne(pe,")"),de,he):"<"==e?S(ne(ce,">"),ce):void 0}function de(e){if("=>"==e)return S(ce)}function fe(e,t){return"variable"==e||"keyword"==E.style?(E.marked="property",S(fe)):"?"==t||"number"==e||"string"==e?S(fe):":"==e?S(ce):"["==e?S(L("variable"),se,L("]"),fe):"("==e?w(Ae,fe):void 0}function pe(e,t){return"variable"==e&&E.stream.match(/^\s*[?:]/,!1)||"?"==t?S(pe):":"==e?S(ce):"spread"==e?S(pe):w(ce)}function he(e,t){return"<"==t?S(D(">"),ne(ce,">"),j,he):"|"==t||"."==e||"&"==t?S(ce):"["==e?S(ce,L("]"),he):"extends"==t||"implements"==t?(E.marked="keyword",S(ce)):"?"==t?S(ce,L(":"),ce):void 0}function ge(e,t){if("<"==t)return S(D(">"),ne(ce,">"),j,he)}function me(){return w(ce,ve)}function ve(e,t){if("="==t)return S(ce)}function ye(e,t){return"enum"==t?(E.marked="keyword",S(Ke)):w(be,oe,Ee,we)}function be(e,t){return u&&O(t)?(E.marked="keyword",S(be)):"variable"==e?(x(t),S()):"spread"==e?S(be):"["==e?ie(_e,"]"):"{"==e?ie(ke,"}"):void 0}function ke(e,t){return"variable"!=e||E.stream.match(/^\s*:/,!1)?("variable"==e&&(E.marked="property"),"spread"==e?S(be):"}"==e?w():"["==e?S(B,L("]"),L(":"),ke):S(L(":"),be,Ee)):(x(t),S(Ee))}function _e(){return w(be,Ee)}function Ee(e,t){if("="==t)return S(F)}function we(e){if(","==e)return S(ye)}function Se(e,t){if("keyword b"==e&&"else"==t)return S(D("form","else"),N,j)}function Te(e,t){return"await"==t?S(Te):"("==e?S(D(")"),xe,j):void 0}function xe(e){return"var"==e?S(ye,Oe):"variable"==e?S(Oe):w(Oe)}function Oe(e,t){return")"==e?S():";"==e?S(Oe):"in"==t||"of"==t?(E.marked="keyword",S(B,Oe)):w(B,Oe)}function Pe(e,t){return"*"==t?(E.marked="keyword",S(Pe)):"variable"==e?(x(t),S(Pe)):"("==e?S(M,D(")"),ne(Me,")"),j,le,N,R):u&&"<"==t?S(D(">"),ne(me,">"),j,Pe):void 0}function Ae(e,t){return"*"==t?(E.marked="keyword",S(Ae)):"variable"==e?(x(t),S(Ae)):"("==e?S(M,D(")"),ne(Me,")"),j,le,R):u&&"<"==t?S(D(">"),ne(me,">"),j,Ae):void 0}function Ce(e,t){return"keyword"==e||"variable"==e?(E.marked="type",S(Ce)):"<"==t?S(D(">"),ne(me,">"),j):void 0}function Me(e,t){return"@"==t&&S(B,Me),"spread"==e?S(Me):u&&O(t)?(E.marked="keyword",S(Me)):u&&"this"==e?S(oe,Ee):w(be,oe,Ee)}function Ie(e,t){return"variable"==e?Re(e,t):De(e,t)}function Re(e,t){if("variable"==e)return x(t),S(De)}function De(e,t){return"<"==t?S(D(">"),ne(me,">"),j,De):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(E.marked="keyword"),S(u?ce:B,De)):"{"==e?S(D("}"),je,j):void 0}function je(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&O(t))&&E.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(E.marked="keyword",S(je)):"variable"==e||"keyword"==E.style?(E.marked="property",S(Le,je)):"number"==e||"string"==e?S(Le,je):"["==e?S(B,oe,L("]"),Le,je):"*"==t?(E.marked="keyword",S(je)):u&&"("==e?w(Ae,je):";"==e||","==e?S(je):"}"==e?S():"@"==t?S(B,je):void 0}function Le(e,t){if("?"==t)return S(Le);if(":"==e)return S(ce,Ee);if("="==t)return S(F);var r=E.state.lexical.prev;return w(r&&"interface"==r.info?Ae:Pe)}function Ne(e,t){return"*"==t?(E.marked="keyword",S($e,L(";"))):"default"==t?(E.marked="keyword",S(B,L(";"))):"{"==e?S(ne(Ue,"}"),$e,L(";")):w(N)}function Ue(e,t){return"as"==t?(E.marked="keyword",S(L("variable"))):"variable"==e?w(F,Ue):void 0}function Be(e){return"string"==e?S():"("==e?w(B):w(Fe,ze,$e)}function Fe(e,t){return"{"==e?ie(Fe,"}"):("variable"==e&&x(t),"*"==t&&(E.marked="keyword"),S(Ve))}function ze(e){if(","==e)return S(Fe,ze)}function Ve(e,t){if("as"==t)return E.marked="keyword",S(Fe)}function $e(e,t){if("from"==t)return E.marked="keyword",S(B)}function We(e){return"]"==e?S():w(ne(F,"]"))}function Ke(){return w(D("form"),be,L("{"),D("}"),ne(He,"}"),j,j)}function He(){return w(be,Ee)}function Ge(e,t,r){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return R.lex=!0,j.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new k((e||0)-a,0,"block",!1),localVars:r.localVars,context:r.localVars&&new P(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),y(e,t)),t.tokenize!=m&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=i&&"--"!=i?n:"incdec",function(e,t,r,n,i){var a=e.cc;for(E.state=e,E.stream=i,E.marked=null,E.cc=a,E.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((a.length?a.pop():l?B:N)(r,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return E.marked?E.marked:"variable"==r&&_(e,n)?"variable-2":t}}(t,r,n,i,e))},indent:function(t,n){if(t.tokenize==m)return e.Pass;if(t.tokenize!=g)return 0;var i,s=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==j)l=l.prev;else if(c!=Se)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==W||i==K)&&!/^[,\.=+\-*:?[\(]/.test(n));)l=l.prev;o&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,p=s==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+a:"stat"==d?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?o||a:0):"switch"!=l.info||p||0==r.doubleIndentSwitch?l.align?l.column+(p?0:1):l.indented+(p?0:a):l.indented+(/^(?:case|default)\b/.test(n)?a:2*a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Ge,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=B&&t!=F||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(r(77))},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(131),i=s(r(225)),a=s(r(252)),o=s(r(164));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,i.default)({name:"Replay",graphics:a.default,strings:o.default,configuration:n.baseConfiguration});t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=c(r(132)),a=r(131),o=c(r(234)),s=r(9),l=c(r(144)),u=c(r(80));function c(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var m=function(e,t,r,i){return t?n.cloneElement(t,{source:r,textTracks:i}):n.createElement(u.default,{source:r,textTracks:i})},v=function(e){var t=e.name,r=e.videoStreamerComponent,u=e.graphics,c=e.strings,d=e.uiRenderMethod,f=e.resolveVideoStreamerMethod,h=void 0===f?m:f,v=e.classNamePrefix,y=void 0===v?s.defaultClassNamePrefix:v,b=e.configuration,k=void 0===b?a.baseConfiguration:b,_=e.version,E=void 0===_?l.default:_,w=d||u&&c&&(0,o.default)(u,c,y);if(!w)throw new Error("Either a custom UI render method must be specified in the customization parameters, or graphics and strings must be specified for the default player UI renderer.");var S=function(e){var t=e.source,a=e.textTracks,o=e.options,s=e.onPlaybackActionsReady,l=e.onStreamStateChange,u=e.onExit,c=e.onError,d=e.initialPlaybackProps,f=e.children,m=g(e,["source","textTracks","options","onPlaybackActionsReady","onStreamStateChange","onExit","onError","initialPlaybackProps","children"]);return n.createElement(i.default,{render:w,configuration:k,options:o,onStreamerError:c,onPlaybackActionsReady:s,onStreamStateChange:l,initialPlaybackProps:d,externalProps:p({},m,{onExit:u,initialPlaybackProps:d})},h(r,f,t,a)||null)};return t&&(S.displayName=t),S.version=E,S};t.default=v},function(e,t,r){var n=r(227),i=r(17);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}},function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){var n=r(136);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(9),o=h(r(139)),s=h(r(141)),l=h(r(142)),u=h(r(143)),c=r(235),d=r(66),f=h(r(244)),p=h(r(245));function h(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=c.SettingsStorage.AudioSelector,_=c.SettingsStorage.SubtitlesSelector,E=c.SettingsStorage.Volume,w=function(e){return e&&e.controls&&e.controls.skipButtonOffset},S=function(e){return e&&e.controls&&e.controls.liveDisplayMode},T=function(e){return e&&e.controls&&e.controls.qualitySelectionStrategy},x=function(e,t){var r={};return Object.entries(e).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];r[i]=y({},r[i],{},a)})),Object.entries(t).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];r[i]=y({},r[i],{},a)})),r},O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.defaultClassNamePrefix,n=x(t,e),h=function(e){var t=e.configuration,a=e.externalProps,h={classNamePrefix:t&&t.classNamePrefix||r},g=t.controls&&t.controls.includeControls;return i.createElement(c.PlayerUIContainer,m({configuration:t},h,{render:function(e){var r=e.fullscreenState;return i.createElement(i.Fragment,null,i.createElement(d.ControlledVideoStreamer,h),i.createElement(f.default,{configuration:g},i.createElement(l.default,m({},n.exitButton,h,{onClick:a&&a.onExit})),i.createElement(u.default,m({},n.playbackMonitor,{configuration:t}))),i.createElement(o.default,h,i.createElement(f.default,{configuration:g},i.createElement(c.PlayPauseButton,m({},n.playPauseButton,h)),i.createElement(c.SkipButton,m({},n.skipButton,h,{offset:w(t)})),i.createElement(c.Timeline,m({},n.timeline,h),i.createElement(c.TimelineInformation,h)),i.createElement(c.TimeDisplay,m({},n.timeDisplay,h,{liveDisplayMode:S(t)})),i.createElement(c.GotoLiveButton,m({},n.gotoLiveButton,h)),i.createElement(E,m({},n.volume,h,{configuration:t})),i.createElement(k,m({},n.audioSelector,h,{configuration:t})),i.createElement(_,m({},n.subtitlesSelector,h,{configuration:t})),i.createElement(c.QualitySelector,m({},n.qualitySelector,h,{selectionStrategy:T(t)})),i.createElement(c.PipButton,m({},n.pipButton,h)),i.createElement(c.AirPlayButton,m({},n.airPlayButton,h)),i.createElement(s.default,m({},n.fullscreenButton,h,r)))),i.createElement(f.default,{configuration:g},i.createElement(c.BufferingIndicator,m({},n.bufferingIndicator,h))),i.createElement(p.default,m({configuration:t},a.initialPlaybackProps)))}}))};return h};t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsStorage=t.BufferingIndicator=t.QualitySelector=t.SubtitlesSelector=t.AudioSelector=t.Volume=t.AirPlayButton=t.PipButton=t.GotoLiveButton=t.TimelineInformation=t.TimeDisplay=t.Timeline=t.SkipButton=t.PlayPauseButton=t.PlayerUIContainer=void 0;var n=r(145),i=b(r(152)),a=b(r(153)),o=b(r(154)),s=b(r(155)),l=b(r(66)),u=b(r(156)),c=b(r(157)),d=b(r(158)),f=b(r(159)),p=b(r(160)),h=b(r(161)),g=b(r(240)),m=b(r(241)),v=b(r(242)),y=b(r(243));function b(e){return e&&e.__esModule?e:{default:e}}var k=(0,n.getConnectedPlayerUIContainer)(l.default);t.PlayerUIContainer=k;var _=(0,l.default)(c.default);t.PlayPauseButton=_;var E=(0,l.default)(i.default);t.SkipButton=E;var w=(0,l.default)(h.default);t.Timeline=w;var S=(0,l.default)(a.default);t.TimeDisplay=S;var T=(0,l.default)(v.default);t.TimelineInformation=T;var x=(0,l.default)(p.default);t.GotoLiveButton=x;var O=(0,l.default)(g.default);t.PipButton=O;var P=(0,l.default)(m.default);t.AirPlayButton=P;var A=(0,l.default)(f.default);t.Volume=A;var C=(0,l.default)(u.default);t.AudioSelector=C;var M=(0,l.default)(d.default);t.SubtitlesSelector=M;var I=(0,l.default)(o.default);t.QualitySelector=I;var R=(0,l.default)(s.default);t.BufferingIndicator=R;var D={AudioSelector:(0,l.default)((0,y.default)(u.default)),SubtitlesSelector:(0,l.default)((0,y.default)(d.default)),Volume:(0,l.default)((0,y.default)(f.default))};t.SettingsStorage=D},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFullscreenElement=function(){return document.fullScreenElement||document.fullscreenElement||document.webkitFullscreenElement||document.webkitFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement},t.enterFullscreen=function(e){if(e.requestFullscreen)return e.requestFullscreen(),!0;if(e.mozRequestFullScreen)return e.mozRequestFullScreen(),!0;if(e.msRequestFullscreen)return e.msRequestFullscreen(),!0;if(e.webkitRequestFullscreen)return e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),!0;if(e.webkitRequestFullScreen)return e.webkitRequestFullScreen(),!0;if(navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&(e=e.getElementsByTagName("video")[0]))return e.webkitEnterFullscreen(),!0;return!1},t.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitExitFullScreen?document.webkitExitFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},t.notifyFullscreenChange=function(e){var t=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"];return t.forEach((function(t){document.addEventListener(t,e)})),function(){t.forEach((function(t){document.removeEventListener(t,e)}))}}},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(238))&&l.__esModule?l:{default:l};function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),h(a(i),"resizeObserver",void 0),h(a(i),"onRef",(function(e){i.resizeObserver&&i.resizeObserver.disconnect(),e&&i.props.configuration&&Array.isArray(i.props.configuration.responsivenessRules)&&i.props.configuration.responsivenessRules.length>0&&(i.resizeObserver||(i.resizeObserver=new c.default((function(e){var t,r=f(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;i.onSizeChange(n.contentRect)}}catch(a){r.e(a)}finally{r.f()}}))),i.resizeObserver.observe(e)),i.props.onRef&&i.props.onRef(e)})),h(a(i),"onSizeChange",(function(e){var t=e.width,r=e.height;if(t>0&&r>0&&i.props.configuration&&Array.isArray(i.props.configuration.responsivenessRules)){var n=i.props.configuration.responsivenessRules.filter((function(e){var n=e.width,i=e.height;return(!n||!(n.min&&t<=n.min||n.max&&t>n.max))&&(!i||!(i.min&&r<=i.min||i.max&&r>i.max))})).map((function(e){return e.className}));i.setState({responsiveClassNames:n})}})),i.state={responsiveClassNames:[]},i}return i(r,[{key:"render",value:function(){return this.props.render({onRef:this.onRef,responsiveClassNames:this.state.responsiveClassNames})}}]),r}(u.Component);t.default=g},function(e,t,r){"use strict";r.r(t),function(e){var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&l()}function s(){a(o)}function l(){var e=Date.now();if(r){if(e-i<2)return;n=!0}else r=!0,n=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;o.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=v(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+f(e["border-"+r+"-width"])}),0)}function h(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return d;var n=c(e).getComputedStyle(e),i=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],a=e["padding-"+i];t[i]=f(a)}return t}(n),a=i.left+i.right,o=i.top+i.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==t&&(s-=p(n,"left","right")+a),Math.round(l+o)!==r&&(l-=p(n,"top","bottom")+o)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+a)-t,h=Math.round(l+o)-r;1!==Math.abs(u)&&(s-=u),1!==Math.abs(h)&&(l-=h)}return v(i.left,i.top,s,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return n?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):h(e):d}function v(e,t,r,n){return{x:e,y:t,width:r,height:n}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var r=function(e){var t=e.x,r=e.y,n=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return u(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}(t);u(this,{target:e,contentRect:r})},k=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,E=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),n=new k(t,r,this);_.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){E.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var w="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:E;t.default=w}.call(this,r(48))},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.focusElement=function(e,t,r,n){for(var i=(t?r.slice(0).reverse():r).concat(n),a=0;a<i.length;a++)if(i[a]===document.activeElement)if(e){if(a>0)for(var o=a-1;o>=0;o--){var s=i[o];if(s)return s.focus(),s}}else if(a<i.length-1)for(var l=a+1;l<i.length;l++){var u=i[l];if(u)return u.focus(),u}},t.SelectorItem=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return e.selectorItem},p=function(e){return e.selectorItemSelected||e.selectorItem},h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"handleRef",(function(t){e.props.onRef(t,e.props.index)})),d(a(e),"handleClick",(function(){return e.props.onSelect&&e.props.onSelect(e.props.item.data)})),d(a(e),"handleKeyDown",(0,u.getKeyboardShortcutBlocker)(["Enter"," "])),d(a(e),"handleKeyUp",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.handleClick())})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.classNamePrefix,n=e.classes,i=e.defaultItemClassName,a=e.item,o=e.isSelected,s=e.canReceiveFocus,c=e.selectedClassName,d=a.label,h=(0,u.hydrateClassNames)({classes:n,classNamePrefix:r,selectClasses:o?p:f,classNames:[t,i,o?c:null]}),g=s?0:void 0;return l.createElement("div",{role:"option","aria-selected":o,className:h,ref:this.handleRef,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:g},l.createElement("div",{tabIndex:-1},d))}}]),r}(l.Component);t.SelectorItem=h},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(t){e.props.setProperties&&e.props.setProperties({isPipActive:t})})),e}return i(r,[{key:"render",value:function(){if(this.props.isPipAvailable){var e=this.props,t=e.isPipActive,r=e.pipActiveContent,n=e.pipInactiveContent,i=e.label,a=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:a,isOn:t,className:"pip-button",label:i,onToggle:this.handleToggle,toggledOnContent:r,toggledOffContent:n})}return null}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(h,"streamStateKeysForObservation",["isPipAvailable","isPipActive"]),h.displayName="PipButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(){e.props.setProperties&&e.props.setProperties({isAirPlayTargetPickerVisible:!0})})),e}return i(r,[{key:"render",value:function(){if(this.props.isAirPlayAvailable){var e=this.props,t=e.isAirPlayActive,r=e.airPlayActiveContent,n=e.airPlayInactiveContent,i=e.label,a=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:a,isOn:t,className:"airplay-button",label:i,onToggle:this.handleToggle,toggledOnContent:r,toggledOffContent:n})}return null}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(h,"streamStateKeysForObservation",["isAirPlayAvailable","isAirPlayActive"]),h.displayName="AirPlayButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),l=r(9);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"render",value:function(){var e=this.props,t=e.absoluteStartPosition,r=e.duration,n=e.playMode,i=e.previewValue,a=e.isDragging,o=e.isPointerInside,u=e.classNamePrefix,c=function(e,t,r){return null!=r?"livedvr"===e&&t instanceof Date&&t.getTime()>0?(0,l.formatClockTime)(new Date(t.getTime()+1e3*r)):(0,l.formatTime)(r):""}(n,t,i),d=((i||0)/(r||1)*100).toFixed(2),f=(0,l.prefixClassNames)(u,"timeline-information"),p=(0,l.prefixClassNames)(u,"timeline-tooltip",a||o?"timeline-tooltip-visible":null);return s.createElement("div",{className:f},s.createElement("div",{className:p,style:{left:"".concat(d,"%")}},c))}}]),r}(s.Component);c(d,"streamStateKeysForObservation",["absoluteStartPosition","duration","playMode"]),c(d,"defaultProps",{classNamePrefix:l.defaultClassNamePrefix}),d.displayName="TimelineInformation";var f=d;t.default=f},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return e&&e.userSettings&&e.userSettings.storageKey&&e.userSettings.settingsStoragePolicy},h=function(e,t){try{var r=e.getItem(t);return r?JSON.parse(r):{}}catch(n){return{}}},g=function(e,t,r,n,i){switch(e[t]){case"local":return void i(n);case"session":return void i(r);default:return}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.localStorage,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.sessionStorage,u=function(u){o(v,u);var m=s(v);function v(){var e;n(this,v);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=m.call.apply(m,[this].concat(o)),f(a(e),"setProperties",(function(n){e.props.setProperties&&e.props.setProperties(n);var i=e.props.configuration&&e.props.configuration.userSettings;if(i){var a=i.storageKey,o=i.settingsStoragePolicy;if(a&&o){var s=h(t,a),l=h(r,a);if("isMuted"in n&&g(o,"isMuted",l,s,(function(e){return e.isMuted=!!n.isMuted})),"number"===typeof n.volume&&g(o,"volume",l,s,(function(e){return e.volume=n.volume})),"selectedTextTrack"in n&&(g(o,"textTrackLanguage",l,s,(function(e){n.selectedTextTrack?n.selectedTextTrack.language&&(e.textTrackLanguage=n.selectedTextTrack.language):delete e.textTrackLanguage})),g(o,"textTrackKind",l,s,(function(e){n.selectedTextTrack?n.selectedTextTrack.kind&&(e.textTrackKind=n.selectedTextTrack.kind):delete e.textTrackKind}))),"selectedAudioTrack"in n&&(g(o,"audioTrackLanguage",l,s,(function(e){n.selectedAudioTrack&&n.selectedAudioTrack.language&&(e.audioTrackLanguage=n.selectedAudioTrack.language)})),g(o,"audioTrackKind",l,s,(function(e){n.selectedAudioTrack&&n.selectedAudioTrack.kind&&(e.audioTrackKind=n.selectedAudioTrack.kind)}))),Object.keys(s).length>0)try{t.setItem(a,JSON.stringify(s))}catch(u){}if(Object.keys(l).length>0)try{r.setItem(a,JSON.stringify(l))}catch(u){}}}})),e}return i(v,[{key:"render",value:function(){var t=this.props,r=(t.configuration,d(t,["configuration"]));return p(this.props.configuration)?l.createElement(e,c({},r,{setProperties:this.setProperties})):l.createElement(e,r)}}]),v}(l.Component);return f(u,"streamStateKeysForObservation",e.streamStateKeysForObservation),u.displayName="SettingsStorage"+(e.displayName||e.name),u};t.default=m},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"render",value:function(){var e=this;return this.props.configuration?s.Children.map(this.props.children,(function(t){var r=function(e){var t=e&&e.type&&(e.type.displayName||e.type.name);if(t){var r=0===t.indexOf("Connected")?9:0;return t.indexOf("SettingsStorage")===r&&(r+=15),t.charAt(r).toLowerCase()+t.substr(r+1)}}(t);if(!r||e.props.configuration&&e.props.configuration.indexOf(r)>=0)return t})):this.props.children}}]),r}(s.Component);t.default=u},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getPreferredSettingsApplicator=void 0;var s,l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=(s=r(66))&&s.__esModule?s:{default:s};function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){},g=function(e,t,r,n,i){if(r!==n&&Array.isArray(n)&&n.length>0)return function(e,t,r,n){if(Array.isArray(r)&&r.length>n)return r.filter((function(r){return r.language===e&&r.kind===t}))[0]||r.filter((function(t){return t.language===e}))[0]||r.filter((function(e){return e.kind===t}))[0]}(e,t,n,i)},m=function(e,t,r,n){var i=t.configuration,a=t.playState,o=t.audioTracks,s=t.textTracks,l=t.volume,u=t.isMuted,c=t.textTrackLanguage,d=t.textTrackKind,p=t.audioTrackLanguage,h=t.audioTrackKind,m=t.setProperties,v={};null!=l&&(v.volume=l),null!=u&&(v.isMuted=u),null!=c&&(v.textTrackLanguage=c),null!=d&&(v.textTrackKind=d),null!=p&&(v.audioTrackLanguage=p),null!=h&&(v.audioTrackKind=h);var y=function(e,t,r,n){var i=e&&e.userSettings,a=i&&i.storageKey;if(i&&a){var o={},s={};try{s=JSON.parse(n.getItem(a)||"{}")}catch(l){}try{o=JSON.parse(r.getItem(a)||"{}")}catch(l){}return i.hasPrecedence?f({},t,{},o,{},s):f({},o,{},s,{},t)}return t}(i,v,r,n),b=function(e,t,r,n,i,a,o){var s={};t!==e&&"starting"===t&&(null!=o.volume&&(s.volume=o.volume),null!=o.isMuted&&(s.isMuted=o.isMuted));var l=g(o.audioTrackLanguage,o.audioTrackKind,r,i,1);l&&(s.selectedAudioTrack=l);var u=g(o.textTrackLanguage,o.textTrackKind,n,a,0);return u&&(s.selectedTextTrack=u),s}(e.playState,a,e.audioTracks,e.textTracks,o,s,y);Object.keys(b).length>0&&m(b)},v=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.sessionStorage;return t=e=function(e){a(l,e);var t=o(l);function l(){return n(this,l),t.apply(this,arguments)}return i(l,[{key:"componentDidMount",value:function(){m({setProperties:h},this.props,r,s)}},{key:"componentDidUpdate",value:function(e){m(e,this.props,r,s)}},{key:"render",value:function(){return null}}]),l}(l.Component),p(e,"streamStateKeysForObservation",["playState","textTracks","audioTracks"]),t};t.getPreferredSettingsApplicator=v;var y=(0,u.default)(v());t.default=y},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,r){var n=r(95),i=r(134);function a(t,r,o){return i()?e.exports=a=Reflect.construct:e.exports=a=function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&n(a,r.prototype),a},a.apply(null,arguments)}e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Date(0);function i(e){return e.seekable.length>0?e.seekable.start(0):0}var a=function(e,t){var r=t&&t.liveEdgeMargin||10;return{adjustForDvrStartOffset:function(){if(e&&e.paused&&e.duration===1/0){var t=i(e);t!==1/0&&t>=e.currentTime&&(e.currentTime=t+10)}},calculateNewState:function(){var t=function(e){return e.seekable.length>0?e.seekable.end(0)-e.seekable.start(0):0}(e),a=e.duration===1/0,o=function(e){return e.currentTime-(e.seekable.length>0?e.seekable.start(0):0)}(e),s=function(e,t,r){return t?r:e.duration}(e,a,t),l=function(e,t,r){return r?t===1/0||0===t||t<100?"live":"livedvr":"ondemand"}(0,t,a),u=a&&o>s-r,c=function(e,t,r){if(t){var a=e.getStartDate&&e.getStartDate();if(isNaN(a)){var o=new Date,s=new Date(o.getTime()-1e3*r);return{absolutePosition:o,absoluteStartPosition:s}}return{absolutePosition:new Date(a.getTime()+1e3*e.currentTime),absoluteStartPosition:new Date(a.getTime()+1e3*i(e))}}return{absolutePosition:n,absoluteStartPosition:n}}(e,a,o);return{position:o,duration:s,playMode:l,isAtLiveEdge:u,absolutePosition:c.absolutePosition,absoluteStartPosition:c.absoluteStartPosition}},setPosition:function(t){isNaN(t)&&t===1/0||(e.currentTime=i(e)+t)},gotoLive:function(){e.duration===1/0&&e.seekable.length>0&&(e.currentTime=e.seekable.end(0))}}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(52),a=r(9),o=(n=r(50))&&n.__esModule?n:{default:n};var s=["disabled","hidden","showing"];function l(e){var t=e.mode;return"number"===typeof t?s[t]:t}function u(e,t){e.mode="number"===typeof e.mode?s.indexOf(t):t}function c(e,t){return Number.isNaN(e)&&Number.isNaN(t)||null==e&&null==t||e===t}function d(e,t,r){return{id:e,kind:r.kind||"",label:r.label||"",language:r.language||"",origin:t}}var f=function(e,t,r){var n=[],s=null,f=i.emptyTracks,p=0,h=window.VTTCue||window.TextTrackCue;function g(){s=n.filter((function(e){return null!=e.videoElementTrack&&"showing"===l(e.videoElementTrack)})).map((function(e){return e.selectableTrack}))[0];var e=n.filter((function(e){return e.selectableTrack})).map((function(e){return e.selectableTrack}));(0,a.isShallowEqual)(e,f)?t({currentTextTrack:s,textTracks:f}):(f=e,t({currentTextTrack:s,textTracks:e}))}function m(t){if(Array.isArray(t)){e.textTracks.removeEventListener("addtrack",b),e.textTracks.removeEventListener("removetrack",k);var i=t.filter((function(e){var t=n.filter((function(t){return function(e,t){if(e&&t){if(e.cues&&t.cues){var r=e.cues,n=t.cues;if(r.length===n.length)if(r.filter((function(e,t){return e.start===n[t].start&&e.end===n[t].end&&e.content===n[t].content})).length!==r.length)return!1}return c(e.language,t.language)&&c(e.kind,t.kind)&&c(e.label,t.label)&&c(e.src,t.src)}return c(e,t)}(t.sourceTrack,e)&&!t.isBlacklisted}));if(0===t.length)return!0;var r=t[0];return r.sourceTrack=e,r.isBlacklisted=!1,r.isLoaded=!0,!1})).map((function(t){var r=++p;if(Array.isArray(t.cues)){var n=t.cues,i=e.addTextTrack(t.kind||"subtitles",t.label,t.language);return n.forEach((function(e){i.addCue(new h(e.start,e.end,e.content))})),{id:r,sourceTrack:t,isBlacklisted:!1,videoElementTrack:i,selectableTrack:d(r,"side-loaded",i),loadPromise:Promise.resolve(i),isLoaded:!0}}var a={src:t.src,srclang:t.language,kind:t.kind||"subtitles",label:t.label},o=new Promise((function(e){a.onRef=function(t){var r=t;if(r){u(r.track,"hidden");var n=function t(){r.removeEventListener("load",t),r.removeEventListener("error",i),e(r.track)},i=function t(i){r.removeEventListener("load",n),r.removeEventListener("error",t),e()};r.addEventListener("load",n),r.addEventListener("error",i)}}})),s={id:r,sourceTrack:t,isBlacklisted:!1,videoElementTrack:void 0,selectableTrack:void 0,trackElementData:a,loadPromise:o,isLoaded:!1};return o.then((function(e){null!=e&&(s.videoElementTrack=e,s.selectableTrack=d(r,"side-loaded",e)),s.isLoaded=!0})),s}));return n=n.concat(i),r(n.filter((function(e){return e.trackElementData&&!e.isBlacklisted})).map((function(e){return e.trackElementData}))),Promise.all(i.map((function(e){return e.loadPromise}))).then((function(){e.textTracks.addEventListener("addtrack",b),e.textTracks.addEventListener("removetrack",k),g()}))}return Promise.resolve()}function v(e){if(0!==e.length||0!==n.length){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);var i=n.filter((function(e){return t.indexOf(e.videoElementTrack)>=0}));if(t.length>i.length){var a=t.filter((function(e){return("metadata"!==(t=e).kind&&!("inBandMetadataTrackDispatchType"in t)||t.cues&&t.cues.length||t.label||t.language)&&0===i.filter((function(t){return e===t.videoElementTrack})).length;var t})).map((function(e){var t=++p;return{id:t,sourceTrack:null,videoElementTrack:e,isBlacklisted:!1,selectableTrack:d(t,"in-stream",e),isLoaded:!0}}));n=i.concat(a)}else n=i}}function y(t){v(e.textTracks),n.forEach((function(e){if((t||null!=e.sourceTrack)&&(e.isBlacklisted=!0),null!=e.videoElementTrack&&t){var r=e.videoElementTrack;if(r.cues)for(;r.cues.length;)r.removeCue(r.cues[0]);u(r,"disabled")}e.selectableTrack=null})),f=i.emptyTracks,r([])}function b(){v(e.textTracks),g()}function k(){v(e.textTracks),g()}return e.textTracks.addEventListener("addtrack",b),e.textTracks.addEventListener("removetrack",k),{handleSelectedTextTrackChange:function(e){if(n.filter((function(e){return e.videoElementTrack&&"showing"===l(e.videoElementTrack)})).forEach((function(e){return e.videoElementTrack&&u(e.videoElementTrack,"hidden")})),e){var t=n.filter((function(t){return t.selectableTrack===e}))[0];t&&t.videoElementTrack&&u(t.videoElementTrack,"showing")}g()},handleTextTracksPropChange:function(e){y(!1),m(e.source&&Array.isArray(e.textTracks)?e.textTracks:[])},handleSourcePropChange:function(t){v(e.textTracks);var r=t.source&&Array.isArray(t.textTracks)?t.textTracks:[],n=(0,o.default)(t.source);n&&n.textTracks?m(r.concat(n.textTracks)):m(r)},clear:function(){y(!0)},cleanup:function(){e.textTracks.removeEventListener("addtrack",b),e.textTracks.removeEventListener("removetrack",k)}}};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=0,i=function(e){return{selectableTrack:{id:null==e.id?"audio-".concat(++n):e.id,language:e.language||"",kind:e.kind||"",label:e.label||"",origin:"in-stream"},videoElementTrack:e}},a=function(e,t){var r=[];function n(e){var n=e||r.filter((function(e){return e.videoElementTrack.enabled})).map((function(e){return e.selectableTrack}))[0]||null;t({audioTracks:r.map((function(e){return e.selectableTrack})),currentAudioTrack:n})}function a(){r=e.audioTracks?Array.from(e.audioTracks).map(i):[],n()}function o(){n()}function s(){a()}return e.audioTracks&&(e.audioTracks.addEventListener("addtrack",a),e.audioTracks.addEventListener("change",o),e.audioTracks.addEventListener("removetrack",a)),s(),{cleanup:function(){e.audioTracks&&(e.audioTracks.removeEventListener("addtrack",a),e.audioTracks.removeEventListener("change",o),e.audioTracks.removeEventListener("removetrack",a)),r=[]},handleSourceChange:s,handleSelectedAudioTrackChange:function(e){var t=r.filter((function(t){return t.selectableTrack===e}))[0];t&&(t.videoElementTrack.enabled=!0)}}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(35),i=["(unknown)","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],a=function(e){var t=navigator.userAgent.match(/Mac OS X.*Safari/)&&!navigator.userAgent.match(/(Chrome)/),r=navigator.userAgent.match(/(iPad|iPhone|iPod)/i),a="STREAM_ERROR",o=e.error||new Error("Unknown video element error."),s="number"===typeof o.code?i[o.code]:i[0];return"MEDIA_ERR_DECODE"===s||"MEDIA_ERR_SRC_NOT_SUPPORTED"===s?a=r||t?"STREAM_ERROR_DOWNLOAD":"STREAM_ERROR_DECODE":"MEDIA_ERR_NETWORK"===s&&(a="STREAM_ERROR_DOWNLOAD"),new n.PlaybackError(a,"html","".concat(s,": ").concat(o.message||""),"FATAL",o)};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(308),a=s(r(253)),o=s(r(164));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u={playPauseButton:{playingContent:n.createElement(i.Pause,null),pausedContent:n.createElement(i.Play,null)},skipButton:{content:n.createElement(n.Fragment,null,n.createElement("span",null,n.createElement(i.RotateCcw,null)),n.createElement("span",null,o.default.skipButton.seconds))},timeline:{handleContent:"",trackContent:n.createElement("div",null)},gotoLiveButton:{isAtLiveEdgeContent:n.createElement("span",null,o.default.gotoLiveButton.isLive),isNotAtLiveEdgeContent:n.createElement("span",null,o.default.gotoLiveButton.gotoLive)},volume:{unmutedContent:n.createElement(i.Volume2,null),mutedContent:n.createElement(i.VolumeX,null),volumeSliderHandleContent:""},audioSelector:{toggleContent:n.createElement(i.MessageSquare,null)},subtitlesSelector:{toggleContent:n.createElement(i.Type,null)},qualitySelector:{toggleContent:n.createElement(i.Settings,null)},pipButton:{pipActiveContent:n.createElement(i.Square,null),pipInactiveContent:n.createElement(i.Copy,null)},airPlayButton:{airPlayActiveContent:n.createElement(i.Airplay,null),airPlayInactiveContent:n.createElement(i.Airplay,null)},fullscreenButton:{normalContent:n.createElement(i.Maximize,null),fullscreenContent:n.createElement(i.Minimize,null)},bufferingIndicator:{content:n.createElement(a.default,null),renderStrategy:"always"},playbackMonitor:{closeButtonContent:n.createElement(i.XCircle,null)},exitButton:{content:n.createElement(i.XCircle,null)}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(0));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var a=function(){return n.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 38 38",stroke:"currentColor"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},n.createElement("circle",{stroke:"currentColor",strokeOpacity:"0.5",cx:"18",cy:"18",r:"18"}),n.createElement("path",{className:"animated",d:"M36 18c0-9.94-8.06-18-18-18"}))))};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AudioSelector",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"BufferingIndicator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ControlsBar",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ExitButton",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"FullscreenButton",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"GotoLiveButton",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"PlaybackMonitor",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PlayPauseButton",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"QualitySelector",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"SkipButton",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"SubtitlesSelector",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"TimeDisplay",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"Timeline",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"Volume",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"Selector",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"Slider",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"ToggleButton",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"AspectRatio",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"Fullscreen",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"InteractionDetector",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"KeyboardShortcuts",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"PlayerStateClassNames",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"BasicVideoStreamer",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"MockVideoStreamer",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"PlayerController",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"ControlledVideoStreamer",{enumerable:!0,get:function(){return C.ControlledVideoStreamer}}),Object.defineProperty(t,"connectControl",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"PlayerUIContainer",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"getConnectedPlayerUIContainer",{enumerable:!0,get:function(){return M.getConnectedPlayerUIContainer}}),Object.defineProperty(t,"playerStateClassNameBuilder",{enumerable:!0,get:function(){return R.default}}),t.common=void 0;var n=L(r(156)),i=L(r(155)),a=L(r(139)),o=L(r(142)),s=L(r(141)),l=L(r(160)),u=L(r(143)),c=L(r(157)),d=L(r(154)),f=L(r(152)),p=L(r(158)),h=L(r(153)),g=L(r(161)),m=L(r(159)),v=L(r(78)),y=L(r(140)),b=L(r(79)),k=L(r(97)),_=L(r(49)),E=L(r(147)),w=L(r(146)),S=L(r(148)),T=L(r(149)),x=L(r(150)),O=L(r(80)),P=L(r(255)),A=L(r(132)),C=j(r(66)),M=j(r(145)),I=j(r(9));t.common=I;var R=L(r(151));function D(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return D=function(){return e},e}function j(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=D();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function L(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13),l=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=r(9);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=[{kind:"subtitles",label:"Finnish subtitles",language:"fi",origin:"side-loaded"},{kind:"subtitles",label:"Swedish subtitles",language:"sv",origin:"side-loaded"}],v=[{label:"Director's comments",language:"en"},{label:"Main audio",language:"en"}],y={playMode:"ondemand",playState:"playing",isPaused:!1,isBuffering:!1,isSeeking:!1,position:123,duration:456,absolutePosition:new Date(0),absoluteStartPosition:new Date(0),volume:.7,isMuted:!1,isPipAvailable:!0,isPipActive:!1,isAirPlayAvailable:!0,isAirPlayActive:!1,bufferedAhead:12,bitrates:[512,1024,2048,4096],currentBitrate:2048,bitrateFix:NaN,bitrateCap:1/0,textTracks:m,currentTextTrack:m[0],audioTracks:v,currentAudioTrack:v[0],isAtLiveEdge:!1,error:void 0},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&Object.entries(y).forEach((function(r){e(l({},r[0],r[0]in t?t[r[0]]:r[1]))}))},k=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),g(a(e),"modifiedStreamState",{}),g(a(e),"updateStreamState",(function(t){var r=t.selectedTextTrack,n=t.selectedAudioTrack,i=h(t,["selectedTextTrack","selectedAudioTrack"]);"selectedTextTrack"in t&&(i.currentTextTrack=r),"selectedAudioTrack"in t&&(i.currentAudioTrack=n),e.modifiedStreamState=p({},e.modifiedStreamState,{},i),null!=e.props.onStreamStateChange&&e.props.onStreamStateChange(i)})),e}return i(r,[{key:"componentDidMount",value:function(){var e=this;if(this.props.initialPlaybackProps){var t=this.props.initialPlaybackProps,r=t.isPaused,n=t.isMuted,i=t.volume,a=t.bitrateCap,o=t.bitrateFix;this.updateStreamState({isPaused:r,isMuted:n,volume:i,bitrateCap:a,bitrateFix:o})}window.updateVideoState=this.updateStreamState,this.props.onReady&&(this.props.onReady({setProperties:function(t){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;setTimeout((function(){return e&&e(t)}),r)}(e.updateStreamState,t,Math.round(1e3*Math.random()))},thirdPartyPlayer:null}),b(this.props.onStreamStateChange,this.props.initialMockState))}},{key:"componentDidUpdate",value:function(e){this.props.onStreamStateChange!==e.onStreamStateChange&&b(this.props.onStreamStateChange,this.modifiedStreamState)}},{key:"render",value:function(){return u.createElement("div",{className:(0,c.prefixClassNames)(this.props.classNamePrefix,"video-streamer","mock-video-streamer",this.props.className)},u.createElement("div",null,this.props.children||"Mock video player"))}}]),r}(u.Component);g(k,"defaultProps",{classNamePrefix:c.defaultClassNamePrefix});var _=k;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(257));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,i(r(258)).default)(n.default);window.shaka=n.default;var o=a;t.default=o},function(module,exports,__webpack_require__){(function(global){!function(){var innerGlobal="undefined"!=typeof window?window:global,exportTo={};for(var k in function(window,global,module){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,t){var r=$jscomp.propertyToPolyfillSymbol[t];return null==r?e[t]:void 0!==(r=e[r])?r:e[t]};$jscomp.polyfill=function(e,t,r,n){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,r,n):$jscomp.polyfillUnisolated(e,t,r,n))},$jscomp.polyfillUnisolated=function(e,t,r,n){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var i=e[n];if(!(i in r))return;r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})},$jscomp.polyfillIsolated=function(e,t,r,n){var i=e.split(".");e=1===i.length,n=i[0],n=!e&&n in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var a=0;a<i.length-1;a++){var o=i[a];if(!(o in n))return;n=n[o]}i=i[i.length-1],null!=(t=t(r=$jscomp.IS_SYMBOL_NATIVE&&"es6"===r?n[i]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,i,{configurable:!0,writable:!0,value:t}):t!==r&&($jscomp.propertyToPolyfillSymbol[i]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(i):$jscomp.POLYFILL_PREFIX+i,i=$jscomp.propertyToPolyfillSymbol[i],$jscomp.defineProperty(n,i,{configurable:!0,writable:!0,value:t})))},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",(function(e){if(e)return e;var t=function(e,t){this.$jscomp$symbol$id_=e,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})};t.prototype.toString=function(){return this.$jscomp$symbol$id_};var r=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(n||"")+"_"+r++,n)}}),"es6","es3"),$jscomp.initSymbolIterator=function(){},$jscomp.polyfill("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var n=$jscomp.global[t[r]];"function"===typeof n&&"function"!=typeof n.prototype[e]&&$jscomp.defineProperty(n.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return e}),"es6","es3"),$jscomp.initSymbolAsyncIterator=function(){},$jscomp.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e},$jscomp.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},$jscomp.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.arrayFromIterator=function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},$jscomp.getConstructImplementation=function(){if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function e(){}return new e,Reflect.construct(e,[],(function(){})),new e instanceof e}())return Reflect.construct;var e=Reflect.construct;return function(t,r,n){return t=e(t,r),n&&Reflect.setPrototypeOf(t,n.prototype),t}}return function(e,t,r){return void 0===r&&(r=e),r=$jscomp.objectCreate(r.prototype||Object.prototype),Function.prototype.apply.call(e,r,t)||r}},$jscomp.construct=$jscomp.getConstructImplementation(),$jscomp.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(t){}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.inherits=function(e,t){if(e.prototype=$jscomp.objectCreate(t.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var r=$jscomp.setPrototypeOf;r(e,t)}else for(r in t)if("prototype"!=r)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}else e[r]=t[r];e.superClass_=t.prototype},$jscomp.generator={},$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1},$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e},$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},$jscomp.generator.Context.prototype.yieldAll=function(e,t){var r=$jscomp.makeIterator(e),n=r.next();if($jscomp.generator.ensureIteratorResultIsObject_(n),!n.done)return this.yieldAllIterator_=r,this.yield(n.value,t);this.yieldResult=n.value,this.nextAddress=t},$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,void 0!=t&&(this.finallyAddress_=t)},$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},$jscomp.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},$jscomp.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,t,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,t){var r=this.finallyContexts_.splice(t||0)[0];if(r=this.abruptCompletion_=this.abruptCompletion_||r){if(r.isException)return this.jumpToErrorHandler_();void 0!=r.jumpTo&&this.finallyAddress_<r.jumpTo?(this.nextAddress=r.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)},$jscomp.generator.Context.PropertyIterator=function(e){for(var t in this.object_=e,this.properties_=[],e)this.properties_.push(t);this.properties_.reverse()},$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context,this.program_=e},$jscomp.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(e){return{value:e,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,t,r){try{var n=e.call(this.context_.yieldAllIterator_,t);if($jscomp.generator.ensureIteratorResultIsObject_(n),!n.done)return this.context_.stop_(),n;var i=n.value}catch(a){return this.context_.yieldAllIterator_=null,this.context_.throw_(a),this.nextStep_()}return this.context_.yieldAllIterator_=null,r.call(this.context_,i),this.nextStep_()},$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},$jscomp.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},$jscomp.generator.createGenerator=function(e,t){var r=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(t));return $jscomp.setPrototypeOf&&e.prototype&&$jscomp.setPrototypeOf(r,e.prototype),r},$jscomp.asyncExecutePromiseGenerator=function(e){function t(t){return e.next(t)}function r(t){return e.throw(t)}return new Promise((function(n,i){!function e(a){a.done?n(a.value):Promise.resolve(a.value).then(t,r).then(e,i)}(e.next())}))},$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())},$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))},$jscomp.polyfill("Reflect",(function(e){return e||{}}),"es6","es3"),$jscomp.polyfill("Reflect.construct",(function(e){return $jscomp.construct}),"es6","es3"),$jscomp.polyfill("Reflect.setPrototypeOf",(function(e){if(e)return e;if($jscomp.setPrototypeOf){var t=$jscomp.setPrototypeOf;return function(e,r){try{return t(e,r),!0}catch(n){return!1}}}return null}),"es6","es5"),$jscomp.polyfill("Promise",(function(e){function t(){this.batch_=null}function r(e){return e instanceof i?e:new i((function(t,r){t(e)}))}if(e&&!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent))return e;t.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var t=this;this.asyncExecuteFunction((function(){t.executeBatch_()}))}this.batch_.push(e)};var n=$jscomp.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){n(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(n){this.asyncThrow_(n)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction((function(){throw e}))};var i=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(k){t.reject(k)}};i.prototype.createResolveAndReject_=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},i.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof i)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},i.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(k){return void this.reject_(k)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},i.prototype.reject_=function(e){this.settle_(2,e)},i.prototype.fulfill_=function(e){this.settle_(1,e)},i.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,2===this.state_&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},i.prototype.scheduleUnhandledRejectionCheck_=function(){var e=this;n((function(){if(e.notifyUnhandledRejection_()){var t=$jscomp.global.console;"undefined"!==typeof t&&t.error(e.result_)}}),1)},i.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var e=$jscomp.global.CustomEvent,t=$jscomp.global.Event,r=$jscomp.global.dispatchEvent;return"undefined"===typeof r||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=$jscomp.global.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.result_,r(e))},i.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)a.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var a=new t;return i.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},i.prototype.settleSameAsThenable_=function(e,t){var r=this.createResolveAndReject_();try{e.call(t,r.resolve,r.reject)}catch(n){r.reject(n)}},i.prototype.then=function(e,t){function r(e,t){return"function"==typeof e?function(t){try{n(e(t))}catch(r){a(r)}}:t}var n,a,o=new i((function(e,t){n=e,a=t}));return this.callWhenSettled_(r(e,n),r(t,a)),o},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.callWhenSettled_=function(e,t){function r(){switch(n.state_){case 1:e(n.result_);break;case 2:t(n.result_);break;default:throw Error("Unexpected state: "+n.state_)}}var n=this;null==this.onSettledCallbacks_?a.asyncExecute(r):this.onSettledCallbacks_.push(r),this.isRejectionHandled_=!0},i.resolve=r,i.reject=function(e){return new i((function(t,r){r(e)}))},i.race=function(e){return new i((function(t,n){for(var i=$jscomp.makeIterator(e),a=i.next();!a.done;a=i.next())r(a.value).callWhenSettled_(t,n)}))},i.all=function(e){var t=$jscomp.makeIterator(e),n=t.next();return n.done?r([]):new i((function(e,i){function a(t){return function(r){o[t]=r,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(n.value).callWhenSettled_(a(o.length-1),i),n=t.next()}while(!n.done)}))},i}),"es6","es3"),$jscomp.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new $jscomp.global.Proxy(e,{get:function(r,n,i){return r==e&&"q"==n&&i==t}}));return!0===t.q}catch(r){return!1}},$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy(),$jscomp.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},$jscomp.polyfill("WeakMap",(function(e){function t(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function n(e){if(!$jscomp.owns(e,a)){var r=new t;$jscomp.defineProperty(e,a,{value:r})}}function i(e){if(!$jscomp.ISOLATE_POLYFILLS){var r=Object[e];r&&(Object[e]=function(e){return e instanceof t?e:(Object.isExtensible(e)&&n(e),r(e))})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),r=Object.seal({}),n=new e([[t,2],[r,3]]);return 2==n.get(t)&&3==n.get(r)&&(n.delete(t),n.set(r,4),!n.has(t)&&4==n.get(r))}catch(i){return!1}}())return e;var a="$jscomp_hidden_"+Math.random();i("freeze"),i("preventExtensions"),i("seal");var o=0,s=function(e){if(this.id_=(o+=Math.random()+1).toString(),e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}};return s.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(n(e),!$jscomp.owns(e,a))throw Error("WeakMap key fail: "+e);return e[a][this.id_]=t,this},s.prototype.get=function(e){return r(e)&&$jscomp.owns(e,a)?e[a][this.id_]:void 0},s.prototype.has=function(e){return r(e)&&$jscomp.owns(e,a)&&$jscomp.owns(e[a],this.id_)},s.prototype.delete=function(e){return!!(r(e)&&$jscomp.owns(e,a)&&$jscomp.owns(e[a],this.id_))&&delete e[a][this.id_]},s}),"es6","es3"),$jscomp.MapEntry=function(){},$jscomp.polyfill("Map",(function(e){if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(function(){if($jscomp.ASSUME_NO_NATIVE_MAP||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e($jscomp.makeIterator([[t,"s"]]));if("s"!=r.get(t)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=n.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!n.next().done)}catch(a){return!1}}())return e;var t=new WeakMap,r=function(e){if(this.data_={},this.head_=a(),this.size=0,e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}};r.prototype.set=function(e,t){var r=n(this,e=0===e?0:e);return r.list||(r.list=this.data_[r.id]=[]),r.entry?r.entry.value=t:(r.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},r.list.push(r.entry),this.head_.previous.next=r.entry,this.head_.previous=r.entry,this.size++),this},r.prototype.delete=function(e){return!(!(e=n(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,!0)},r.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=a(),this.size=0},r.prototype.has=function(e){return!!n(this,e).entry},r.prototype.get=function(e){return(e=n(this,e).entry)&&e.value},r.prototype.entries=function(){return i(this,(function(e){return[e.key,e.value]}))},r.prototype.keys=function(){return i(this,(function(e){return e.key}))},r.prototype.values=function(){return i(this,(function(e){return e.value}))},r.prototype.forEach=function(e,t){for(var r,n=this.entries();!(r=n.next()).done;)r=r.value,e.call(t,r[1],r[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var n=function(e,r){var n=r&&typeof r;"object"==n||"function"==n?t.has(r)?n=t.get(r):(n=""+ ++o,t.set(r,n)):n="p_"+r;var i=e.data_[n];if(i&&$jscomp.owns(e.data_,n))for(var a=0;a<i.length;a++){var s=i[a];if(r!==r&&s.key!==s.key||r===s.key)return{id:n,list:i,index:a,entry:s}}return{id:n,list:i,index:-1,entry:void 0}},i=function(e,t){var r=e.head_;return $jscomp.iteratorPrototype((function(){if(r){for(;r.head!=e.head_;)r=r.previous;for(;r.next!=r.head;)return r=r.next,{done:!1,value:t(r)};r=null}return{done:!0,value:void 0}}))},a=function(){var e={};return e.previous=e.next=e.head=e},o=0;return r}),"es6","es3"),$jscomp.polyfill("Set",(function(e){if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(function(){if($jscomp.ASSUME_NO_NATIVE_SET||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e($jscomp.makeIterator([t]));if(!r.has(t)||1!=r.size||r.add(t)!=r||1!=r.size||r.add({x:4})!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=n.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&n.next().done)}catch(a){return!1}}())return e;var t=function(e){if(this.map_=new Map,e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.map_.size};return t.prototype.add=function(e){return e=0===e?0:e,this.map_.set(e,e),this.size=this.map_.size,this},t.prototype.delete=function(e){return e=this.map_.delete(e),this.size=this.map_.size,e},t.prototype.clear=function(){this.map_.clear(),this.size=0},t.prototype.has=function(e){return this.map_.has(e)},t.prototype.entries=function(){return this.map_.entries()},t.prototype.values=function(){return this.map_.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var r=this;this.map_.forEach((function(n){return e.call(t,n,n,r)}))},t}),"es6","es3"),$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var a=e[i];if(t.call(r,a,i,e))return{i:i,v:a}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.polyfill("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}}),"es9","es3"),$jscomp.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var r=0,n=!1,i={next:function(){if(!n&&r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i},$jscomp.polyfill("Array.prototype.keys",(function(e){return e||function(){return $jscomp.iteratorFromArray(this,(function(e){return e}))}}),"es6","es3"),$jscomp.polyfill("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}}),"es6","es3"),$jscomp.polyfill("Array.prototype.includes",(function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length,i=t||0;for(0>i&&(i=Math.max(i+n,0));i<n;i++){var a=r[i];if(a===e||Object.is(a,e))return!0}return!1}}),"es7","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.includes",(function(e){return e||function(e,t){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,t||0)}}),"es6","es3"),$jscomp.polyfill("Array.prototype.values",(function(e){return e||function(){return $jscomp.iteratorFromArray(this,(function(e,t){return t}))}}),"es8","es3"),$jscomp.polyfill("Array.from",(function(e){return e||function(e,t,r){t=null!=t?t:function(e){return e};var n=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)n.push(t.call(r,i.value,a++))}else for(i=e.length,a=0;a<i;a++)n.push(t.call(r,e[a],a));return n}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}}),"es6","es3"),$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)$jscomp.owns(n,i)&&(e[i]=n[i])}return e},$jscomp.polyfill("Object.assign",(function(e){return e||$jscomp.assign}),"es6","es3"),$jscomp.polyfill("Object.values",(function(e){return e||function(e){var t,r=[];for(t in e)$jscomp.owns(e,t)&&r.push(e[t]);return r}}),"es8","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";for(var n=r.length,i=e.length,a=Math.max(0,Math.min(0|t,r.length)),o=0;o<i&&a<n;)if(r[a++]!=e[o++])return!1;return o>=i}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.exportPath_=function(e,t,r,n){e=e.split("."),n=n||goog.global,e[0]in n||"undefined"==typeof n.execScript||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)if(e.length||void 0===t)n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={};else if(!r&&goog.isObject(t)&&goog.isObject(n[i]))for(var a in t)t.hasOwnProperty(a)&&(n[i][a]=t[a]);else n[i]=t},goog.define=function(e,t){var r=t;if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,i=goog.global.CLOSURE_DEFINES;n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)?r=n[e]:i&&void 0===i.nodeType&&Object.prototype.hasOwnProperty.call(i,e)&&(r=i[e])}return r},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t,r){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t,r)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if("string"!==typeof e||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&null!=goog.getObjectByName(e)},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var r=e.split("."),n=t||goog.global,i=0;i<r.length;i++)if(null==(n=n[r[i]]))return null;return n},goog.addDependency=function(e,t,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,n)},goog.ENABLE_DEBUG_LOADER=!1,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var r={},n=r;if(goog.isFunction(e))n=e.call(void 0,n);else{if("string"!==typeof e)throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),n=goog.loadModuleFromSource_.call(void 0,n,e)}var i=goog.moduleLoaderState_.moduleName;if("string"!==typeof i||!i)throw Error('Invalid module name "'+i+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(i,n,r!==n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof n&&null!=n&&Object.seal(n),goog.loadedModules_[i]={exports:n,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a,b){return eval(b),a},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(r){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var i=n.transpile;if(!i){var a=goog.basePath+goog.TRANSPILER,o=goog.loadFileSync_(a);if(o){if(function(){(0,eval)(o+"\n//# sourceURL="+a)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=(n=goog.global.$jscomp).transpile}}return i||(i=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),i(e,t,r)},goog.typeOf=function(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"===typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=Date.now,goog.globalEval=function(e){(0,eval)(e)},goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},n=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,!0,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[r].apply(e,i)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],t}:e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.getLastScript_=function(){for(var e=document.documentElement;"SCRIPT"!=e.nodeName&&e.lastChild;)e=e.lastChild;return e},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(void 0!=goog.global.CLOSURE_BASE_PATH&&"string"===typeof goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(t=(e=t?[t]:e.getElementsByTagName("SCRIPT")).length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(g){try{return!!eval(g)}catch(h){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){for(var i=[],a=0;a<e.length;a++){var o=this.getPathFromDeps_(e[a]);if(!o)throw Error("Unregonized namespace: "+e[a]);i.push(this.dependencies_[o])}o=goog.require;var s=0;for(a=0;a<e.length;a++)o(e[a]),i[a].onLoad((function(){++s==e.length&&r()}))}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){var r=this.getPathFromDeps_(e);if(r&&(t||this.areDepsLoaded_(this.dependencies_[r].requires))){var n=this.deferredCallbacks_[r];n&&(delete this.deferredCallbacks_[r],n())}},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,r=[];!function e(n){var i=t.getPathFromDeps_(n);if(!i)throw Error("Bad dependency path or symbol: "+n);if(!t.written_[i]){for(t.written_[i]=!0,n=t.dependencies_[i],i=0;i<n.requires.length;i++)goog.isProvided_(n.requires[i])||e(n.requires[i]);r.push(n)}}(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,n=e.depsToLoad_.shift(),i=!1;e.loading_(n);var a={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(i)throw Error("Double call to loaded.");i=!0,e.loaded_(n)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(a)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_)&&!goog.isProvided_(e[t]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,n,i){this.path=e,this.relativePath=t,this.provides=r,this.requires=n,this.loadFlags=i,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(0<=(t=(e=e.substring(t+3)).indexOf("/"))&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);r.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}var r=goog.getScriptNonce();if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var n=!r,i=goog.Dependency.registerCallback_((function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(i),e.loaded())})),a=goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload",o="";n&&(o=" "+a+"=\"goog.Dependency.callback_('"+i+"', this)\""),r='<script src="'+this.path+'"'+(r?' nonce="'+r+'"':"")+o+(goog.Dependency.defer_?" defer":"")+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(r):r),n||(goog.getLastScript_().onload=function(){goog.Dependency.callback_(i,this)})}else{var s=t.createElement("script");s.defer=goog.Dependency.defer_,s.async=!1,s.type="text/javascript",r&&s.setAttribute("nonce",r),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(e.loaded(),e.resume())}):s.onload=function(){s.onload=null,e.loaded()},s.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(s)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document,r=this;if(goog.isDocumentLoading_()){var n=function(e,r){var n=r?'<script type="module" crossorigin>'+r+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>';t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)};goog.Dependency.defer_=!0}else n=function(e,r){var n=t.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var i=goog.getScriptNonce();i&&n.setAttribute("nonce",i),r?n.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(r):r:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,t.head.appendChild(n)};var i=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(i),e.setModuleState(goog.ModuleType.ES6)}));n(void 0,'goog.Dependency.callback_("'+i+'")'),n(this.path,void 0);var a=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(a),e.registerEs6ModuleExports(r.path,t,goog.moduleLoaderState_.moduleName)}));n(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+a+'", m)');var o=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(o),e.clearModuleState(),e.loaded()}));n(void 0,'goog.Dependency.callback_("'+o+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){i&&e.setModuleState(goog.ModuleType.ES6);try{var r=n.contents_;if(n.contents_=null,goog.globalEval(r),i)var a=goog.moduleLoaderState_.moduleName}finally{i&&e.clearModuleState()}i&&goog.global.$jscomp.require.ensure([n.getPathName()],(function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),a)})),e.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var i=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var a=1<e.pending().length,o=a&&goog.DebugLoader_.IS_OLD_IE_;if(a=goog.Dependency.defer_&&(a||goog.isDocumentLoading_()),o||a)e.defer((function(){r()}));else{var s=goog.global.document;if(o=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,i&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!o){goog.Dependency.defer_=!0,e.pause();var l=s.onreadystatechange;s.onreadystatechange=function(){"interactive"==s.readyState&&(s.onreadystatechange=l,r(),e.resume()),goog.isFunction(l)&&l.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),r()})),n=goog.getScriptNonce();n="<script"+(n?' nonce="'+n+'"':"")+">"+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>",e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,n,i,a){goog.TransformedDependency.call(this,e,t,r,n,i),this.transpiler=a},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,n,i){goog.TransformedDependency.call(this,e,t,r,n,i)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,n,i,a,o){goog.TransformedDependency.call(this,e,t,r,n,i),this.needsTranspile_=a,this.transpiler_=o},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&void 0!==goog.global.JSON?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,n){t=t||[],e=e.replace(/\\/g,"/");var i=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!==typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(i,e,t,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[i]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=i;this.idToPath_[e]=i},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,n,i,a){return i.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,n,i,a,this.transpiler):a?new goog.TranspiledDependency(e,t,r,n,i,this.transpiler):i.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,n,i):new goog.Es6ModuleDependency(e,t,r,n,i):new goog.Dependency(e,t,r,n,i)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="goog",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,r=goog.global.trustedTypes;if(!r||!r.createPolicy)return t;try{t=r.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(n){goog.logToConsole_(n.message)}return t},goog.asserts=function(){},goog.asserts.assert=function(e,t){},goog.asserts.ENABLE_ASSERTS=!0,goog.asserts.ENABLE_ASSERTS&&console.assert&&console.assert.bind&&(goog.asserts.assert=console.assert.bind(console));var shaka={abr:{}};if(shaka.abr.Ewma=function(e){goog.asserts.assert(0<e,"expected halfLife to be positive"),this.alpha_=Math.exp(Math.log(.5)/e),this.totalWeight_=this.estimate_=0},shaka.abr.Ewma.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);r=t*(1-r)+r*this.estimate_,isNaN(r)||(this.estimate_=r,this.totalWeight_+=e)},shaka.abr.Ewma.prototype.getEstimate=function(){return this.estimate_/(1-Math.pow(this.alpha_,this.totalWeight_))},shaka.abr.EwmaBandwidthEstimator=function(){this.fast_=new shaka.abr.Ewma(2),this.slow_=new shaka.abr.Ewma(5),this.bytesSampled_=0,this.minTotalBytes_=128e3,this.minBytes_=16e3},shaka.abr.EwmaBandwidthEstimator.prototype.sample=function(e,t){if(!(t<this.minBytes_)){var r=8e3*t/e,n=e/1e3;this.bytesSampled_+=t,this.fast_.sample(n,r),this.slow_.sample(n,r)}},shaka.abr.EwmaBandwidthEstimator.prototype.getBandwidthEstimate=function(e){return this.bytesSampled_<this.minTotalBytes_?e:Math.min(this.fast_.getEstimate(),this.slow_.getEstimate())},shaka.abr.EwmaBandwidthEstimator.prototype.hasGoodEstimate=function(){return this.bytesSampled_>=this.minTotalBytes_},shaka.log=function(){},shaka.log.alwaysError=function(e){},shaka.log.alwaysWarn=function(e){},shaka.log.warnOnce=function(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];shaka.log.oneTimeWarningIssued_.has(e)||(shaka.log.oneTimeWarningIssued_.add(e),shaka.log.alwaysWarn.apply(shaka.log,$jscomp.arrayFromIterable(r)))},shaka.log.error=function(e){},shaka.log.warning=function(e){},shaka.log.info=function(e){},shaka.log.debug=function(e){},shaka.log.v1=function(e){},shaka.log.v2=function(e){},shaka.log.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4,V1:5,V2:6},shaka.log.MAX_LOG_LEVEL=4,shaka.log.oneTimeWarningIssued_=new Set,window.console&&window.console.log.bind){var $jscomp$compprop0={};shaka.log.logMap_=($jscomp$compprop0[shaka.log.Level.ERROR]=console.error.bind(console),$jscomp$compprop0[shaka.log.Level.WARNING]=console.warn.bind(console),$jscomp$compprop0[shaka.log.Level.INFO]=console.info.bind(console),$jscomp$compprop0[shaka.log.Level.DEBUG]=console.log.bind(console),$jscomp$compprop0[shaka.log.Level.V1]=console.debug.bind(console),$jscomp$compprop0[shaka.log.Level.V2]=console.debug.bind(console),$jscomp$compprop0),shaka.log.alwaysWarn=shaka.log.logMap_[shaka.log.Level.WARNING],shaka.log.alwaysError=shaka.log.logMap_[shaka.log.Level.ERROR],goog.DEBUG?(goog.exportSymbol("shaka.log",shaka.log),shaka.log.setLevel=function(e){var t=function(t){return t<=e?(goog.asserts.assert(shaka.log.logMap_[t],"Unexpected log level"),shaka.log.logMap_[t]):function(){}};shaka.log.currentLevel=e,shaka.log.error=t(shaka.log.Level.ERROR),shaka.log.warning=t(shaka.log.Level.WARNING),shaka.log.info=t(shaka.log.Level.INFO),shaka.log.debug=t(shaka.log.Level.DEBUG),shaka.log.v1=t(shaka.log.Level.V1),shaka.log.v2=t(shaka.log.Level.V2)},shaka.log.setLevel(shaka.log.MAX_LOG_LEVEL)):(shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.ERROR&&(shaka.log.error=shaka.log.logMap_[shaka.log.Level.ERROR]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.WARNING&&(shaka.log.warning=shaka.log.logMap_[shaka.log.Level.WARNING]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.INFO&&(shaka.log.info=shaka.log.logMap_[shaka.log.Level.INFO]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.DEBUG&&(shaka.log.debug=shaka.log.logMap_[shaka.log.Level.DEBUG]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.V1&&(shaka.log.v1=shaka.log.logMap_[shaka.log.Level.V1]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.V2&&(shaka.log.v2=shaka.log.logMap_[shaka.log.Level.V2]))}shaka.util={},shaka.util.Iterables=function(){},shaka.util.Iterables.map=function(e,t){for(var r=[],n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())r.push(t(i.value));return r},shaka.util.Iterables.every=function(e,t){for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next())if(!t(n.value))return!1;return!0},shaka.util.Iterables.some=function(e,t){for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next())if(t(n.value))return!0;return!1},shaka.util.Iterables.filter=function(e,t){for(var r=[],n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())t(i=i.value)&&r.push(i);return r},shaka.util.Iterables.range=function e(t){var r;return $jscomp.generator.createGenerator(e,(function(e){return 1==e.nextAddress&&(r=0),3!=e.nextAddress?r<t?e.yield(r,3):e.jumpTo(0):(r++,e.jumpTo(2))}))},shaka.util.Iterables.enumerate=function e(t){var r,n,i,a,o,s;return $jscomp.generator.createGenerator(e,(function(e){return 1==e.nextAddress&&(r=-1,i=n=void 0,a=$jscomp.makeIterator(t),o=a.next()),5!=e.nextAddress?o.done?-1==r?e.jumpTo(0):e.yield({i:r,prev:n,item:i,next:void 0},0):(s=o.value,0<=r?e.yield({i:r,item:i,prev:n,next:s},5):e.jumpTo(5)):(r++,n=i,i=s,o=a.next(),e.jumpTo(2))}))},shaka.util.BufferUtils=function(){},shaka.util.BufferUtils.equal=function(e,t){var r=shaka.util.BufferUtils;if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(r.unsafeGetArrayBuffer_(e)==r.unsafeGetArrayBuffer_(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;r=shaka.util.BufferUtils.toUint8(e);for(var n=shaka.util.BufferUtils.toUint8(t),i=$jscomp.makeIterator(shaka.util.Iterables.range(e.byteLength)),a=i.next();!a.done;a=i.next())if(r[a=a.value]!=n[a])return!1;return!0},shaka.util.BufferUtils.unsafeGetArrayBuffer_=function(e){return e instanceof ArrayBuffer?e:e.buffer},shaka.util.BufferUtils.toArrayBuffer=function(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer},shaka.util.BufferUtils.toUint8=function(e,t,r){return r=void 0===r?1/0:r,shaka.util.BufferUtils.view_(e,void 0===t?0:t,r,Uint8Array)},shaka.util.BufferUtils.toDataView=function(e,t,r){return r=void 0===r?1/0:r,shaka.util.BufferUtils.view_(e,void 0===t?0:t,r,DataView)},shaka.util.BufferUtils.view_=function(e,t,r,n){var i=shaka.util.BufferUtils.unsafeGetArrayBuffer_(e),a=(e.byteOffset||0)+e.byteLength;return new n(i,e=Math.max(0,Math.min((e.byteOffset||0)+t,a)),Math.min(e+Math.max(r,0),a)-e)},goog.exportSymbol("shaka.util.BufferUtils",shaka.util.BufferUtils),goog.exportProperty(shaka.util.BufferUtils,"toDataView",shaka.util.BufferUtils.toDataView),goog.exportProperty(shaka.util.BufferUtils,"toUint8",shaka.util.BufferUtils.toUint8),goog.exportProperty(shaka.util.BufferUtils,"toArrayBuffer",shaka.util.BufferUtils.toArrayBuffer),goog.exportProperty(shaka.util.BufferUtils,"equal",shaka.util.BufferUtils.equal),shaka.util.Error=function(e,t,r,n){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];if(this.severity=e,this.category=t,this.code=r,this.data=i,this.handled=!1,goog.DEBUG){for(var o in a=i="UNKNOWN",shaka.util.Error.Category)shaka.util.Error.Category[o]==this.category&&(i=o);for(var s in shaka.util.Error.Code)shaka.util.Error.Code[s]==this.code&&(a=s);if(this.message="Shaka Error "+i+"."+a+" ("+this.data.toString()+")",shaka.util.Error.createStack)try{throw Error(this.message)}catch(k){this.stack=k.stack}}},shaka.util.Error.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},goog.exportSymbol("shaka.util.Error",shaka.util.Error),goog.DEBUG&&(shaka.util.Error.createStack=!0),shaka.util.Error.Severity={RECOVERABLE:1,CRITICAL:2},goog.exportProperty(shaka.util.Error,"Severity",shaka.util.Error.Severity),shaka.util.Error.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},goog.exportProperty(shaka.util.Error,"Category",shaka.util.Error.Category),shaka.util.Error.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},goog.exportProperty(shaka.util.Error,"Code",shaka.util.Error.Code),shaka.util.IDestroyable=function(){},shaka.util.IDestroyable.prototype.destroy=function(){},goog.uri={},goog.uri.utils={},goog.uri.utils.splitRe_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.split=function(e){return e.match(goog.uri.utils.splitRe_)},goog.Uri=function(e){var t;e instanceof goog.Uri?(this.setScheme(e.getScheme()),this.setUserInfo(e.getUserInfo()),this.setDomain(e.getDomain()),this.setPort(e.getPort()),this.setPath(e.getPath()),this.setQueryData(e.getQueryData().clone()),this.setFragment(e.getFragment())):e&&(t=goog.uri.utils.split(String(e)))?(this.setScheme(t[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(t[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(t[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(t[goog.uri.utils.ComponentIndex.PORT]),this.setPath(t[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(t[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(t[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):this.queryData_=new goog.Uri.QueryData(null,null)},goog.Uri.prototype.scheme_="",goog.Uri.prototype.userInfo_="",goog.Uri.prototype.domain_="",goog.Uri.prototype.port_=null,goog.Uri.prototype.path_="",goog.Uri.prototype.fragment_="",goog.Uri.prototype.toString=function(){var e=[],t=this.getScheme();if(t&&e.push(goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":"),t=this.getDomain()){e.push("//");var r=this.getUserInfo();r&&e.push(goog.Uri.encodeSpecialChars_(r,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),e.push(goog.Uri.removeDoubleEncoding_(encodeURIComponent(t))),null!=(t=this.getPort())&&e.push(":",String(t))}return(t=this.getPath())&&(this.hasDomain()&&"/"!=t.charAt(0)&&e.push("/"),e.push(goog.Uri.encodeSpecialChars_(t,"/"==t.charAt(0)?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0))),(t=this.getEncodedQuery())&&e.push("?",t),(t=this.getFragment())&&e.push("#",goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInFragment_)),e.join("")},goog.Uri.prototype.resolve=function(e){var t=this.clone();"data"===t.scheme_&&(t=new goog.Uri);var r=e.hasScheme();r?t.setScheme(e.getScheme()):r=e.hasUserInfo(),r?t.setUserInfo(e.getUserInfo()):r=e.hasDomain(),r?t.setDomain(e.getDomain()):r=e.hasPort();var n=e.getPath();if(r)t.setPort(e.getPort());else if(r=e.hasPath()){if("/"!=n.charAt(0))if(this.hasDomain()&&!this.hasPath())n="/"+n;else{var i=t.getPath().lastIndexOf("/");-1!=i&&(n=t.getPath().substr(0,i+1)+n)}n=goog.Uri.removeDotSegments(n)}return r?t.setPath(n):r=e.hasQuery(),r?t.setQueryData(e.getQueryData().clone()):r=e.hasFragment(),r&&t.setFragment(e.getFragment()),t},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(e,t){return(this.scheme_=t?goog.Uri.decodeOrEmpty_(e,!0):e)&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(e,t){return this.userInfo_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(e,t){return this.domain_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);this.port_=e}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return null!=this.port_},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(e,t){return this.path_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()},goog.Uri.prototype.setQueryData=function(e,t){return e instanceof goog.Uri.QueryData?this.queryData_=e:(t||(e=goog.Uri.encodeSpecialChars_(e,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(e,null)),this},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(e,t){return this.fragment_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.removeDotSegments=function(e){if(".."==e||"."==e)return"";if(-1==e.indexOf("./")&&-1==e.indexOf("/."))return e;var t=0==e.lastIndexOf("/",0);e=e.split("/");for(var r=[],n=0;n<e.length;){var i=e[n++];"."==i?t&&n==e.length&&r.push(""):".."==i?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),t&&n==e.length&&r.push("")):(r.push(i),t=!0)}return r.join("/")},goog.Uri.decodeOrEmpty_=function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""},goog.Uri.encodeSpecialChars_=function(e,t,r){return null!=e?(e=encodeURI(e).replace(t,goog.Uri.encodeChar_),r&&(e=goog.Uri.removeDoubleEncoding_(e)),e):null},goog.Uri.encodeChar_=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},goog.Uri.removeDoubleEncoding_=function(e){return e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[#\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[#\?]/g,goog.Uri.reDisallowedInQuery_=/[#\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.QueryData=function(e,t){this.encodedQuery_=e||null},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_={},this.count_=0,this.encodedQuery_))for(var e=this.encodedQuery_.split("&"),t=0;t<e.length;t++){var r=e[t].indexOf("="),n=null;if(0<=r){var i=e[t].substring(0,r);n=e[t].substring(r+1)}else i=e[t];i=decodeURIComponent(i.replace(/\+/g," ")),n=n||"",this.add(i,decodeURIComponent(n.replace(/\+/g," ")))}},goog.Uri.QueryData.prototype.keyMap_=null,goog.Uri.QueryData.prototype.count_=null,goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(e,t){this.ensureKeyMapInitialized_(),this.encodedQuery_=null;var r=this.keyMap_.hasOwnProperty(e)&&this.keyMap_[e];return r||(this.keyMap_[e]=r=[]),r.push(t),goog.asserts.assert(null!=this.count_,"Should not be null."),this.count_++,this},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";var e,t=[];for(e in this.keyMap_)for(var r=encodeURIComponent(e),n=this.keyMap_[e],i=0;i<n.length;i++){var a=r;""!==n[i]&&(a+="="+encodeURIComponent(n[i])),t.push(a)}return this.encodedQuery_=t.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.clone=function(){var e=new goog.Uri.QueryData;if(e.encodedQuery_=this.encodedQuery_,this.keyMap_){var t,r={};for(t in this.keyMap_)r[t]=this.keyMap_[t].concat();e.keyMap_=r,e.count_=this.count_}return e},shaka.deprecate={},shaka.deprecate.Version=function(e,t){this.major_=e,this.minor_=t},shaka.deprecate.Version.prototype.major=function(){return this.major_},shaka.deprecate.Version.prototype.minor=function(){return this.minor_},shaka.deprecate.Version.prototype.compareTo=function(e){var t=this.minor_-e.minor_;return this.major_-e.major_||t},shaka.deprecate.Version.prototype.toString=function(){return"v"+this.major_+"."+this.minor_},shaka.deprecate.Version.parse=function(e){return e=e.substring(1).split(".",2),new shaka.deprecate.Version(Number(e[0]),Number(e[1]))},shaka.deprecate.Enforcer=function(e,t,r){this.libraryVersion_=e,this.onPending_=t,this.onExpired_=r},shaka.deprecate.Enforcer.prototype.enforce=function(e,t,r){(0<e.compareTo(this.libraryVersion_)?this.onPending_:this.onExpired_)(this.libraryVersion_,e,t,r)},shaka.Deprecate=function(){},shaka.Deprecate.init=function(e){goog.asserts.assert(null==shaka.Deprecate.enforcer_,"Deprecate.init should only be called once."),shaka.Deprecate.enforcer_=new shaka.deprecate.Enforcer(shaka.deprecate.Version.parse(e),shaka.Deprecate.onPending_,shaka.Deprecate.onExpired_)},shaka.Deprecate.deprecateFeature=function(e,t,r){var n=shaka.Deprecate.enforcer_;goog.asserts.assert(n,"Missing deprecation enforcer. Was |init| called?"),e=new shaka.deprecate.Version(e,0),n.enforce(e,t,r)},shaka.Deprecate.onPending_=function(e,t,r,n){shaka.log.alwaysWarn([r,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",n].join(" "))},shaka.Deprecate.onExpired_=function(e,t,r,n){e=[r,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",n].join(""),shaka.log.alwaysError(e),goog.asserts.assert(!1,e)},shaka.Deprecate.enforcer_=null,shaka.util.Functional=function(){},shaka.util.Functional.createFallbackPromiseChain=function(e,t){return e.reduce((function(e,r){return e.catch((function(){return t(r)}))}),Promise.reject())},shaka.util.Functional.collapseArrays=function(e,t){return e.concat(t)},shaka.util.Functional.ignored=function(e){},shaka.util.Functional.noop=function(){},shaka.util.Functional.isNotNull=function(e){return null!=e},shaka.util.Functional.callFactory=function(e){var t=Object.create(e.prototype||Object.prototype);try{var r=e.call(t);r||(shaka.Deprecate.deprecateFeature(4,"Factories requiring new","Factories should be plain functions"),r=t)}catch(n){shaka.Deprecate.deprecateFeature(4,"Factories requiring new","Factories should be plain functions"),r=new e}return r},shaka.util.ManifestParserUtils=function(){},shaka.util.ManifestParserUtils.resolveUris=function(e,t){var r=shaka.util.Functional;if(0==t.length)return e;var n=t.map((function(e){return new goog.Uri(e)}));return e.map((function(e){return new goog.Uri(e)})).map((function(e){return n.map((function(t){return e.resolve(t)}))})).reduce(r.collapseArrays,[]).map((function(e){return e.toString()}))},shaka.util.ManifestParserUtils.createDrmInfo=function(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:new Set}},shaka.util.ManifestParserUtils.ContentType={VIDEO:"video",AUDIO:"audio",TEXT:"text",IMAGE:"image",APPLICATION:"application"},shaka.util.ManifestParserUtils.TextStreamKind={SUBTITLE:"subtitle",CLOSED_CAPTION:"caption"},shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS=1/15,shaka.util.PublicPromise=function(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r},shaka.util.PublicPromise.prototype.resolve=function(e){},shaka.util.PublicPromise.prototype.reject=function(e){},shaka.util.Lazy=function(e){this.gen_=e,this.value_=void 0},shaka.util.Lazy.prototype.value=function(){return void 0==this.value_&&(this.value_=this.gen_(),goog.asserts.assert(void 0!=this.value_,"Unable to create lazy value")),this.value_},shaka.util.Lazy.prototype.reset=function(){this.value_=void 0},shaka.util.StringUtils=function(){},shaka.util.StringUtils.fromUTF8=function(e){if(!e)return"";239==(e=shaka.util.BufferUtils.toUint8(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=shaka.util.StringUtils.fromCharCode(e),e=escape(e);try{return decodeURIComponent(e)}catch(t){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.BAD_ENCODING)}},shaka.util.StringUtils.fromUTF16=function(e,t,r){if(!e)return"";if(!r&&0!=e.byteLength%2)throw shaka.log.error("Data has an incorrect length, must be even."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.BAD_ENCODING);var n=Math.floor(e.byteLength/2);r=new Uint16Array(n),e=shaka.util.BufferUtils.toDataView(e);for(var i=(n=$jscomp.makeIterator(shaka.util.Iterables.range(n))).next();!i.done;i=n.next())r[i=i.value]=e.getUint16(2*i,t);return shaka.util.StringUtils.fromCharCode(r)},shaka.util.StringUtils.fromBytesAutoDetect=function(e){var t=shaka.util.StringUtils;if(!e)return"";var r=shaka.util.BufferUtils.toUint8(e);if(239==r[0]&&187==r[1]&&191==r[2])return t.fromUTF8(r);if(254==r[0]&&255==r[1])return t.fromUTF16(r.subarray(2),!1);if(255==r[0]&&254==r[1])return t.fromUTF16(r.subarray(2),!0);var n=function(e){return r.byteLength<=e||32<=r[e]&&126>=r[e]};if(shaka.log.debug("Unable to find byte-order-mark, making an educated guess."),0==r[0]&&0==r[2])return t.fromUTF16(e,!1);if(0==r[1]&&0==r[3])return t.fromUTF16(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return t.fromUTF8(e);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.UNABLE_TO_DETECT_ENCODING)},shaka.util.StringUtils.toUTF8=function(e){e=encodeURIComponent(e);var t=unescape(e);e=new Uint8Array(t.length);for(var r=(t=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t))).next();!r.done;r=t.next())e[(r=r.value).i]=r.item.charCodeAt(0);return shaka.util.BufferUtils.toArrayBuffer(e)},shaka.util.StringUtils.toUTF16=function(e,t){for(var r=new ArrayBuffer(2*e.length),n=new DataView(r),i=$jscomp.makeIterator(shaka.util.Iterables.enumerate(e)),a=i.next();!a.done;a=i.next()){var o=a.value;a=o.i,o=o.item.charCodeAt(0),n.setUint16(2*a,o,t)}return r},shaka.util.StringUtils.fromCharCode=function(e){return shaka.util.StringUtils.fromCharCodeImpl_.value()(e)},shaka.util.StringUtils.resetFromCharCode=function(){shaka.util.StringUtils.fromCharCodeImpl_.reset()},goog.exportSymbol("shaka.util.StringUtils",shaka.util.StringUtils),goog.exportProperty(shaka.util.StringUtils,"resetFromCharCode",shaka.util.StringUtils.resetFromCharCode),goog.exportProperty(shaka.util.StringUtils,"toUTF16",shaka.util.StringUtils.toUTF16),goog.exportProperty(shaka.util.StringUtils,"toUTF8",shaka.util.StringUtils.toUTF8),goog.exportProperty(shaka.util.StringUtils,"fromBytesAutoDetect",shaka.util.StringUtils.fromBytesAutoDetect),goog.exportProperty(shaka.util.StringUtils,"fromUTF16",shaka.util.StringUtils.fromUTF16),goog.exportProperty(shaka.util.StringUtils,"fromUTF8",shaka.util.StringUtils.fromUTF8),shaka.util.StringUtils.fromCharCodeImpl_=new shaka.util.Lazy((function(){for(var e=function(e){try{var t=new Uint8Array(e),r=String.fromCharCode.apply(null,t);return goog.asserts.assert(r,"Should get value"),0<r.length}catch(n){return!1}},t={$jscomp$loop$prop$size$469:65536};0<t.$jscomp$loop$prop$size$469;(t={$jscomp$loop$prop$size$469:t.$jscomp$loop$prop$size$469}).$jscomp$loop$prop$size$469/=2)if(e(t.$jscomp$loop$prop$size$469))return function(e){return function(t){for(var r="",n=0;n<t.length;n+=e.$jscomp$loop$prop$size$469){var i=t.subarray(n,n+e.$jscomp$loop$prop$size$469);r+=String.fromCharCode.apply(null,i)}return r}}(t);return goog.asserts.assert(!1,"Unable to create a fromCharCode method"),null})),shaka.util.Uint8ArrayUtils=function(){},shaka.util.Uint8ArrayUtils.equal=function(e,t){return shaka.Deprecate.deprecateFeature(4,"shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),shaka.util.BufferUtils.equal(e,t)},shaka.util.Uint8ArrayUtils.toStandardBase64=function(e){return e=shaka.util.StringUtils.fromCharCode(shaka.util.BufferUtils.toUint8(e)),btoa(e)},shaka.util.Uint8ArrayUtils.toBase64=function(e,t){t=void 0==t||t;var r=shaka.util.Uint8ArrayUtils.toStandardBase64(e).replace(/\+/g,"-").replace(/\//g,"_");return t?r:r.replace(/[=]*$/,"")},shaka.util.Uint8ArrayUtils.fromBase64=function(e){var t=window.atob(e.replace(/-/g,"+").replace(/_/g,"/"));e=new Uint8Array(t.length);for(var r=(t=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t))).next();!r.done;r=t.next())e[(r=r.value).i]=r.item.charCodeAt(0);return e},shaka.util.Uint8ArrayUtils.fromHex=function(e){for(var t=e.length/2,r=new Uint8Array(t),n=(t=$jscomp.makeIterator(shaka.util.Iterables.range(t))).next();!n.done;n=t.next())r[n=n.value]=window.parseInt(e.substr(2*n,2),16);return r},shaka.util.Uint8ArrayUtils.toHex=function(e){var t=shaka.util.BufferUtils.toUint8(e);e="";for(var r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())1==(r=(r=r.value).toString(16)).length&&(r="0"+r),e+=r;return e},shaka.util.Uint8ArrayUtils.concat=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];var n=0,i=$jscomp.makeIterator(t);for(r=i.next();!r.done;r=i.next())n+=r.value.byteLength;for(n=new Uint8Array(n),i=0,r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())r=r.value,n.set(shaka.util.BufferUtils.toUint8(r),i),i+=r.byteLength;return n},goog.exportSymbol("shaka.util.Uint8ArrayUtils",shaka.util.Uint8ArrayUtils),goog.exportProperty(shaka.util.Uint8ArrayUtils,"concat",shaka.util.Uint8ArrayUtils.concat),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toHex",shaka.util.Uint8ArrayUtils.toHex),goog.exportProperty(shaka.util.Uint8ArrayUtils,"fromHex",shaka.util.Uint8ArrayUtils.fromHex),goog.exportProperty(shaka.util.Uint8ArrayUtils,"fromBase64",shaka.util.Uint8ArrayUtils.fromBase64),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toBase64",shaka.util.Uint8ArrayUtils.toBase64),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toStandardBase64",shaka.util.Uint8ArrayUtils.toStandardBase64),goog.exportProperty(shaka.util.Uint8ArrayUtils,"equal",shaka.util.Uint8ArrayUtils.equal),shaka.media={},shaka.media.Transmuxer=function(){var e=this;this.muxTransmuxer_=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.transmuxPromise_=null,this.transmuxedData_=[],this.captions_=[],this.metadata_=[],this.isTransmuxing_=!1,this.muxTransmuxer_.on("data",(function(t){return e.onTransmuxed_(t)})),this.muxTransmuxer_.on("done",(function(){return e.onTransmuxDone_()}))},shaka.media.Transmuxer.prototype.destroy=function(){return this.muxTransmuxer_.dispose(),this.muxTransmuxer_=null,Promise.resolve()},shaka.media.Transmuxer.isSupported=function(e,t){var r=shaka.media.Transmuxer;if(!window.muxjs||!r.isTsContainer(e))return!1;if(t)return MediaSource.isTypeSupported(r.convertTsCodecs(t,e));var n=shaka.util.ManifestParserUtils.ContentType,i=r.convertTsCodecs(n.AUDIO,e);return r=r.convertTsCodecs(n.VIDEO,e),MediaSource.isTypeSupported(i)||MediaSource.isTypeSupported(r)},shaka.media.Transmuxer.isTsContainer=function(e){return"mp2t"==e.toLowerCase().split(";")[0].split("/")[1]},shaka.media.Transmuxer.convertTsCodecs=function(e,t){var r=shaka.util.ManifestParserUtils.ContentType,n=t.replace(/mp2t/i,"mp4");if(e==r.AUDIO&&(n=n.replace("video","audio")),r=/avc1\.(66|77|100)\.(\d+)/.exec(n)){var i="avc1.",a=r[1];"66"==a?i+="4200":"77"==a?i+="4d00":(goog.asserts.assert("100"==a,"Legacy avc1 parsing code out of sync with regex!"),i+="6400"),a=Number(r[2]),goog.asserts.assert(256>a,"Invalid legacy avc1 level number!"),i+=(a>>4).toString(16),i+=(15&a).toString(16),n=n.replace(r[0],i)}return n},shaka.media.Transmuxer.prototype.transmux=function(e){return goog.asserts.assert(!this.isTransmuxing_,"No transmuxing should be in progress."),this.isTransmuxing_=!0,this.transmuxPromise_=new shaka.util.PublicPromise,this.transmuxedData_=[],this.captions_=[],this.metadata_=[],e=shaka.util.BufferUtils.toUint8(e),this.muxTransmuxer_.push(e),this.muxTransmuxer_.flush(),this.isTransmuxing_&&this.transmuxPromise_.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.TRANSMUXING_FAILED)),this.transmuxPromise_},shaka.media.Transmuxer.prototype.onTransmuxed_=function(e){this.captions_=e.captions,this.metadata_=e.metadata,this.transmuxedData_.push(shaka.util.Uint8ArrayUtils.concat(e.initSegment,e.data))},shaka.media.Transmuxer.prototype.onTransmuxDone_=function(){var e={data:shaka.util.Uint8ArrayUtils.concat.apply(shaka.util.Uint8ArrayUtils,$jscomp.arrayFromIterable(this.transmuxedData_)),captions:this.captions_,metadata:this.metadata_};this.transmuxPromise_.resolve(e),this.isTransmuxing_=!1},shaka.util.DelayedTick=function(e){this.onTick_=e,this.cancelPending_=null},shaka.util.DelayedTick.prototype.tickAfter=function(e){var t=this;this.stop();var r=!0,n=null;return this.cancelPending_=function(){window.clearTimeout(n),r=!1},n=window.setTimeout((function(){r&&t.onTick_()}),1e3*e),this},shaka.util.DelayedTick.prototype.stop=function(){this.cancelPending_&&(this.cancelPending_(),this.cancelPending_=null)},shaka.util.Timer=function(e){this.onTick_=e,this.ticker_=null},shaka.util.Timer.prototype.tickNow=function(){return this.stop(),this.onTick_(),this},shaka.util.Timer.prototype.tickAfter=function(e){var t=this;return this.stop(),this.ticker_=new shaka.util.DelayedTick((function(){t.onTick_()})).tickAfter(e),this},shaka.util.Timer.prototype.tickEvery=function(e){var t=this;return this.stop(),this.ticker_=new shaka.util.DelayedTick((function(){t.ticker_.tickAfter(e),t.onTick_()})).tickAfter(e),this},shaka.util.Timer.prototype.stop=function(){this.ticker_&&(this.ticker_.stop(),this.ticker_=null)},goog.exportSymbol("shaka.util.Timer",shaka.util.Timer),goog.exportProperty(shaka.util.Timer.prototype,"stop",shaka.util.Timer.prototype.stop),goog.exportProperty(shaka.util.Timer.prototype,"tickEvery",shaka.util.Timer.prototype.tickEvery),goog.exportProperty(shaka.util.Timer.prototype,"tickAfter",shaka.util.Timer.prototype.tickAfter),goog.exportProperty(shaka.util.Timer.prototype,"tickNow",shaka.util.Timer.prototype.tickNow),shaka.net={},shaka.net.Backoff=function(e,t){t=void 0!==t&&t;var r=shaka.net.Backoff.defaultRetryParameters();this.maxAttempts_=null==e.maxAttempts?r.maxAttempts:e.maxAttempts,goog.asserts.assert(1<=this.maxAttempts_,"maxAttempts should be >= 1"),this.baseDelay_=null==e.baseDelay?r.baseDelay:e.baseDelay,goog.asserts.assert(0<=this.baseDelay_,"baseDelay should be >= 0"),this.fuzzFactor_=null==e.fuzzFactor?r.fuzzFactor:e.fuzzFactor,goog.asserts.assert(0<=this.fuzzFactor_,"fuzzFactor should be >= 0"),this.backoffFactor_=null==e.backoffFactor?r.backoffFactor:e.backoffFactor,goog.asserts.assert(0<=this.backoffFactor_,"backoffFactor should be >= 0"),this.numAttempts_=0,this.nextUnfuzzedDelay_=this.baseDelay_,(this.autoReset_=t)&&(goog.asserts.assert(2<=this.maxAttempts_,"maxAttempts must be >= 2 for autoReset == true"),this.numAttempts_=1)},shaka.net.Backoff.prototype.attempt=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress){if(r.numAttempts_>=r.maxAttempts_){if(!r.autoReset_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.ATTEMPTS_EXHAUSTED);r.reset_()}return e=r.numAttempts_,r.numAttempts_++,0==e?(goog.asserts.assert(!r.autoReset_,"Failed to delay with auto-reset!"),n.return()):(t=shaka.net.Backoff.fuzz_(r.nextUnfuzzedDelay_,r.fuzzFactor_),n.yield(new Promise((function(e){shaka.net.Backoff.defer(t,e)})),2))}r.nextUnfuzzedDelay_*=r.backoffFactor_,n.jumpToEnd()}))},shaka.net.Backoff.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},shaka.net.Backoff.fuzz_=function(e,t){return e*(1+(2*Math.random()-1)*t)},shaka.net.Backoff.prototype.reset_=function(){goog.asserts.assert(this.autoReset_,"Should only be used for auto-reset!"),this.numAttempts_=1,this.nextUnfuzzedDelay_=this.baseDelay_},shaka.net.Backoff.defer=function(e,t){new shaka.util.Timer(t).tickAfter(e/1e3)},shaka.util.AbortableOperation=function(e,t){this.promise=e,this.onAbort_=t,this.aborted_=!1},shaka.util.AbortableOperation.failed=function(e){return new shaka.util.AbortableOperation(Promise.reject(e),(function(){return Promise.resolve()}))},shaka.util.AbortableOperation.aborted=function(){var e=Promise.reject(shaka.util.AbortableOperation.abortError());return e.catch((function(){})),new shaka.util.AbortableOperation(e,(function(){return Promise.resolve()}))},shaka.util.AbortableOperation.abortError=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED)},shaka.util.AbortableOperation.completed=function(e){return new shaka.util.AbortableOperation(Promise.resolve(e),(function(){return Promise.resolve()}))},shaka.util.AbortableOperation.notAbortable=function(e){return new shaka.util.AbortableOperation(e,(function(){return e.catch((function(){}))}))},shaka.util.AbortableOperation.prototype.abort=function(){return this.aborted_=!0,this.onAbort_()},shaka.util.AbortableOperation.all=function(e){return new shaka.util.AbortableOperation(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))},shaka.util.AbortableOperation.prototype.finally=function(e){return this.promise.then((function(t){return e(!0)}),(function(t){return e(!1)})),this},shaka.util.AbortableOperation.prototype.chain=function(e,t){var r=this,n=new shaka.util.PublicPromise,i=shaka.util.AbortableOperation.abortError(),a=function(){return n.reject(i),r.abort()},o=function(o){return function(s){if(r.aborted_&&o)n.reject(i);else{var l=o?e:t;l?a=shaka.util.AbortableOperation.wrapChainCallback_(l,s,n):(o?n.resolve:n.reject)(s)}}};return this.promise.then(o(!0),o(!1)),new shaka.util.AbortableOperation(n,(function(){return a()}))},shaka.util.AbortableOperation.wrapChainCallback_=function(e,t,r){try{var n=e(t);return n&&n.promise&&n.abort?(r.resolve(n.promise),function(){return n.abort()}):(r.resolve(n),function(){return Promise.resolve(n).then((function(){}),(function(){}))})}catch(i){return r.reject(i),function(){return Promise.resolve()}}},goog.exportSymbol("shaka.util.AbortableOperation",shaka.util.AbortableOperation),goog.exportProperty(shaka.util.AbortableOperation.prototype,"chain",shaka.util.AbortableOperation.prototype.chain),goog.exportProperty(shaka.util.AbortableOperation.prototype,"finally",shaka.util.AbortableOperation.prototype.finally),goog.exportProperty(shaka.util.AbortableOperation,"all",shaka.util.AbortableOperation.all),goog.exportProperty(shaka.util.AbortableOperation.prototype,"abort",shaka.util.AbortableOperation.prototype.abort),goog.exportProperty(shaka.util.AbortableOperation,"notAbortable",shaka.util.AbortableOperation.notAbortable),goog.exportProperty(shaka.util.AbortableOperation,"completed",shaka.util.AbortableOperation.completed),goog.exportProperty(shaka.util.AbortableOperation,"aborted",shaka.util.AbortableOperation.aborted),goog.exportProperty(shaka.util.AbortableOperation,"failed",shaka.util.AbortableOperation.failed),shaka.util.FakeEvent=function(e,t){for(var r in t=void 0===t?{}:t)Object.defineProperty(this,r,{value:t[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.stopped=!1},shaka.util.FakeEvent.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},shaka.util.FakeEvent.prototype.stopImmediatePropagation=function(){this.stopped=!0},shaka.util.FakeEvent.prototype.stopPropagation=function(){},goog.exportSymbol("shaka.util.FakeEvent",shaka.util.FakeEvent),shaka.util.MultiMap=function(){this.map_={}},shaka.util.MultiMap.prototype.push=function(e,t){this.map_.hasOwnProperty(e)?this.map_[e].push(t):this.map_[e]=[t]},shaka.util.MultiMap.prototype.get=function(e){return(e=this.map_[e])?e.slice():null},shaka.util.MultiMap.prototype.getAll=function(){var e,t=[];for(e in this.map_)t.push.apply(t,$jscomp.arrayFromIterable(this.map_[e]));return t},shaka.util.MultiMap.prototype.remove=function(e,t){e in this.map_&&(this.map_[e]=this.map_[e].filter((function(e){return e!=t})))},shaka.util.MultiMap.prototype.clear=function(){this.map_={}},shaka.util.MultiMap.prototype.forEach=function(e){for(var t in this.map_)e(t,this.map_[t])},shaka.util.FakeEventTarget=function(){this.listeners_=new shaka.util.MultiMap,this.dispatchTarget=this},shaka.util.FakeEventTarget.prototype.addEventListener=function(e,t,r){this.listeners_.push(e,t)},shaka.util.FakeEventTarget.prototype.removeEventListener=function(e,t,r){this.listeners_.remove(e,t)},shaka.util.FakeEventTarget.prototype.dispatchEvent=function(e){goog.asserts.assert(e instanceof shaka.util.FakeEvent,"FakeEventTarget can only dispatch FakeEvents!");for(var t=this.listeners_.get(e.type)||[],r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next()){r=r.value,e.target=this.dispatchTarget,e.currentTarget=this.dispatchTarget;try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(n){shaka.log.error("Uncaught exception in event handler",n,n?n.message:null,n?n.stack:null)}if(e.stopped)break}return e.defaultPrevented},shaka.util.ObjectUtils=function(){},shaka.util.ObjectUtils.cloneObject=function(e){var t=new Set;return function e(r){switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return r;default:if(!r||r.buffer&&r.buffer.constructor==ArrayBuffer)return r;if(t.has(r))return null;var n=r.constructor==Array;if(r.constructor!=Object&&!n)return null;t.add(r);var i,a=n?[]:{};for(i in r)a[i]=e(r[i]);return n&&(a.length=r.length),a}}(e)},shaka.util.ObjectUtils.shallowCloneObject=function(e){var t,r={};for(t in e)r[t]=e[t];return r},shaka.util.ArrayUtils=function(){},shaka.util.ArrayUtils.defaultEquals=function(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t},shaka.util.ArrayUtils.remove=function(e,t){var r=e.indexOf(t);-1<r&&e.splice(r,1)},shaka.util.ArrayUtils.count=function(e,t){for(var r=0,n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())r+=t(i.value)?1:0;return r},shaka.util.ArrayUtils.hasSameElements=function(e,t,r){if(r||(r=shaka.util.ArrayUtils.defaultEquals),e.length!=t.length)return!1;t=t.slice();for(var n={},i=(e=$jscomp.makeIterator(e)).next();!i.done;n={$jscomp$loop$prop$item$471:n.$jscomp$loop$prop$item$471},i=e.next()){if(n.$jscomp$loop$prop$item$471=i.value,-1==(i=t.findIndex(function(e){return function(t){return r(e.$jscomp$loop$prop$item$471,t)}}(n))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length},shaka.util.ArrayUtils.equal=function(e,t,r){if(r||(r=shaka.util.ArrayUtils.defaultEquals),e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0},shaka.util.OperationManager=function(){this.operations_=[]},shaka.util.OperationManager.prototype.manage=function(e){var t=this;this.operations_.push(e.finally((function(){shaka.util.ArrayUtils.remove(t.operations_,e)})))},shaka.util.OperationManager.prototype.destroy=function(){for(var e=[],t=$jscomp.makeIterator(this.operations_),r=t.next();!r.done;r=t.next())(r=r.value).promise.catch((function(){})),e.push(r.abort());return this.operations_=[],Promise.all(e)},shaka.net.NetworkingEngine=function(e){shaka.util.FakeEventTarget.call(this),this.destroyed_=!1,this.operationManager_=new shaka.util.OperationManager,this.requestFilters_=new Set,this.responseFilters_=new Set,this.onProgressUpdated_=e||null},$jscomp.inherits(shaka.net.NetworkingEngine,shaka.util.FakeEventTarget),shaka.net.NetworkingEngine.registerScheme=function(e,t,r){goog.asserts.assert(void 0==r||0<r,"explicit priority must be > 0"),r=r||shaka.net.NetworkingEngine.PluginPriority.APPLICATION;var n=shaka.net.NetworkingEngine.schemes_[e];(!n||r>=n.priority)&&(shaka.net.NetworkingEngine.schemes_[e]={priority:r,plugin:t})},shaka.net.NetworkingEngine.unregisterScheme=function(e){delete shaka.net.NetworkingEngine.schemes_[e]},shaka.net.NetworkingEngine.prototype.registerRequestFilter=function(e){this.requestFilters_.add(e)},shaka.net.NetworkingEngine.prototype.unregisterRequestFilter=function(e){this.requestFilters_.delete(e)},shaka.net.NetworkingEngine.prototype.clearAllRequestFilters=function(){this.requestFilters_.clear()},shaka.net.NetworkingEngine.prototype.registerResponseFilter=function(e){this.responseFilters_.add(e)},shaka.net.NetworkingEngine.prototype.unregisterResponseFilter=function(e){this.responseFilters_.delete(e)},shaka.net.NetworkingEngine.prototype.clearAllResponseFilters=function(){this.responseFilters_.clear()},shaka.net.NetworkingEngine.defaultRetryParameters=function(){return shaka.net.Backoff.defaultRetryParameters()},shaka.net.NetworkingEngine.makeRequest=function(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null}},shaka.net.NetworkingEngine.prototype.destroy=function(){return this.destroyed_=!0,this.requestFilters_.clear(),this.responseFilters_.clear(),this.operationManager_.destroy()},shaka.net.NetworkingEngine.prototype.request=function(e,t){var r=this,n=shaka.util.ObjectUtils,i=new shaka.net.NetworkingEngine.NumBytesRemainingClass;if(this.destroyed_)return(n=Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED))).catch((function(){})),new shaka.net.NetworkingEngine.PendingRequest(n,(function(){return Promise.resolve()}),i);goog.asserts.assert(t.uris&&t.uris.length,"Request without URIs!"),t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?n.cloneObject(t.retryParameters):shaka.net.NetworkingEngine.defaultRetryParameters(),t.uris=n.cloneObject(t.uris);var a=(n=this.filterRequest_(e,t)).chain((function(){return r.makeRequestWithRetry_(e,t,i)})),o=a.chain((function(t){return r.filterResponse_(e,t)})),s=Date.now(),l=0;n.promise.then((function(){l=Date.now()-s}),(function(){}));var u=0;a.promise.then((function(){u=Date.now()}),(function(){}));var c=o.chain((function(t){var n=Date.now()-u,i=t.response;return i.timeMs+=l,i.timeMs+=n,t.gotProgress||!r.onProgressUpdated_||i.fromCache||e!=shaka.net.NetworkingEngine.RequestType.SEGMENT||r.onProgressUpdated_(i.timeMs,i.data.byteLength),i}),(function(e){throw e&&(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type"),e.severity=shaka.util.Error.Severity.CRITICAL),e}));return n=new shaka.net.NetworkingEngine.PendingRequest(c.promise,(function(){return c.abort()}),i),this.operationManager_.manage(n),n},shaka.net.NetworkingEngine.prototype.filterRequest_=function(e,t){for(var r=shaka.util.AbortableOperation.completed(void 0),n={},i=$jscomp.makeIterator(this.requestFilters_),a=i.next();!a.done;n={$jscomp$loop$prop$requestFilter$473:n.$jscomp$loop$prop$requestFilter$473},a=i.next())n.$jscomp$loop$prop$requestFilter$473=a.value,r=r.chain(function(r){return function(){return t.body&&(t.body=shaka.util.BufferUtils.toArrayBuffer(t.body)),r.$jscomp$loop$prop$requestFilter$473(e,t)}}(n));return r.chain(void 0,(function(e){if(e instanceof shaka.util.Error&&e.code==shaka.util.Error.Code.OPERATION_ABORTED)throw e;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.REQUEST_FILTER_ERROR,e)}))},shaka.net.NetworkingEngine.prototype.makeRequestWithRetry_=function(e,t,r){var n=new shaka.net.Backoff(t.retryParameters,!1);return this.send_(e,t,n,0,null,r)},shaka.net.NetworkingEngine.prototype.send_=function(e,t,r,n,i,a){var o=this,s=new goog.Uri(t.uris[n]),l=s.getScheme(),u=!1;l||(l=shaka.net.NetworkingEngine.getLocationProtocol_(),goog.asserts.assert(":"==l[l.length-1],"location.protocol expected to end with a colon!"),l=l.slice(0,-1),s.setScheme(l),t.uris[n]=s.toString()),l=l.toLowerCase();var c,d=(l=shaka.net.NetworkingEngine.schemes_[l])?l.plugin:null;return d?shaka.util.AbortableOperation.notAbortable(r.attempt()).chain((function(){if(o.destroyed_)return shaka.util.AbortableOperation.aborted();c=Date.now();var r=shaka.net.NetworkingEngine.RequestType.SEGMENT;return d(t.uris[n],t,e,(function(t,n,i){o.onProgressUpdated_&&e==r&&(o.onProgressUpdated_(t,n),u=!0,a.setBytes(i))}))})).chain((function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-c),{response:e,gotProgress:u}}),(function(s){if(o.destroyed_)return shaka.util.AbortableOperation.aborted();if(s instanceof shaka.util.Error){if(s.code==shaka.util.Error.Code.OPERATION_ABORTED)throw s;if(s.code==shaka.util.Error.Code.ATTEMPTS_EXHAUSTED)throw goog.asserts.assert(i,"Should have last error"),i;if(s.severity==shaka.util.Error.Severity.RECOVERABLE){var l=new shaka.util.FakeEvent("retry",{error:s});return o.dispatchEvent(l),n=(n+1)%t.uris.length,o.send_(e,t,r,n,s,a)}}throw s})):shaka.util.AbortableOperation.failed(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.UNSUPPORTED_SCHEME,s))},shaka.net.NetworkingEngine.prototype.filterResponse_=function(e,t){for(var r=shaka.util.AbortableOperation.completed(void 0),n={},i=$jscomp.makeIterator(this.responseFilters_),a=i.next();!a.done;n={$jscomp$loop$prop$responseFilter$475:n.$jscomp$loop$prop$responseFilter$475},a=i.next())n.$jscomp$loop$prop$responseFilter$475=a.value,r=r.chain(function(r){return function(){var n=t.response;return n.data&&(n.data=shaka.util.BufferUtils.toArrayBuffer(n.data)),r.$jscomp$loop$prop$responseFilter$475(e,n)}}(n));return r.chain((function(){return t}),(function(e){var t=shaka.util.Error.Severity.CRITICAL;if(e instanceof shaka.util.Error){if(e.code==shaka.util.Error.Code.OPERATION_ABORTED)throw e;t=e.severity}throw new shaka.util.Error(t,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.RESPONSE_FILTER_ERROR,e)}))},shaka.net.NetworkingEngine.getLocationProtocol_=function(){return location.protocol},goog.exportSymbol("shaka.net.NetworkingEngine",shaka.net.NetworkingEngine),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"request",shaka.net.NetworkingEngine.prototype.request),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"destroy",shaka.net.NetworkingEngine.prototype.destroy),goog.exportProperty(shaka.net.NetworkingEngine,"makeRequest",shaka.net.NetworkingEngine.makeRequest),goog.exportProperty(shaka.net.NetworkingEngine,"defaultRetryParameters",shaka.net.NetworkingEngine.defaultRetryParameters),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"clearAllResponseFilters",shaka.net.NetworkingEngine.prototype.clearAllResponseFilters),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"unregisterResponseFilter",shaka.net.NetworkingEngine.prototype.unregisterResponseFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"registerResponseFilter",shaka.net.NetworkingEngine.prototype.registerResponseFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"clearAllRequestFilters",shaka.net.NetworkingEngine.prototype.clearAllRequestFilters),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"unregisterRequestFilter",shaka.net.NetworkingEngine.prototype.unregisterRequestFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"registerRequestFilter",shaka.net.NetworkingEngine.prototype.registerRequestFilter),goog.exportProperty(shaka.net.NetworkingEngine,"unregisterScheme",shaka.net.NetworkingEngine.unregisterScheme),goog.exportProperty(shaka.net.NetworkingEngine,"registerScheme",shaka.net.NetworkingEngine.registerScheme),shaka.net.NetworkingEngine.NumBytesRemainingClass=function(){this.bytesToLoad_=0},shaka.net.NetworkingEngine.NumBytesRemainingClass.prototype.setBytes=function(e){this.bytesToLoad_=e},shaka.net.NetworkingEngine.NumBytesRemainingClass.prototype.getBytes=function(){return this.bytesToLoad_},goog.exportProperty(shaka.net.NetworkingEngine,"NumBytesRemainingClass",shaka.net.NetworkingEngine.NumBytesRemainingClass),shaka.net.NetworkingEngine.PendingRequest=function(e,t,r){shaka.util.AbortableOperation.call(this,e,t),this.bytesRemaining_=r},$jscomp.inherits(shaka.net.NetworkingEngine.PendingRequest,shaka.util.AbortableOperation),shaka.net.NetworkingEngine.PendingRequest.prototype.getBytesRemaining=function(){return this.bytesRemaining_.getBytes()},goog.exportProperty(shaka.net.NetworkingEngine,"PendingRequest",shaka.net.NetworkingEngine.PendingRequest),shaka.net.NetworkingEngine.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4},goog.exportProperty(shaka.net.NetworkingEngine,"RequestType",shaka.net.NetworkingEngine.RequestType),shaka.net.NetworkingEngine.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3},goog.exportProperty(shaka.net.NetworkingEngine,"PluginPriority",shaka.net.NetworkingEngine.PluginPriority),shaka.net.NetworkingEngine.schemes_={},shaka.util.Destroyer=function(e){this.destroyed_=!1,this.waitOnDestroy_=new shaka.util.PublicPromise,this.onDestroy_=e},shaka.util.Destroyer.prototype.destroyed=function(){return this.destroyed_},shaka.util.Destroyer.prototype.destroy=function(){var e=this;return this.destroyed_?this.waitOnDestroy_:(this.destroyed_=!0,this.onDestroy_().then((function(){e.waitOnDestroy_.resolve()}),(function(){e.waitOnDestroy_.resolve()})))},shaka.util.Destroyer.prototype.ensureNotDestroyed=function(e){if(this.destroyed_){if(e instanceof shaka.util.Error&&e.code==shaka.util.Error.Code.OBJECT_DESTROYED)throw e;throw shaka.util.Destroyer.destroyedError(e)}},shaka.util.Destroyer.destroyedError=function(e){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OBJECT_DESTROYED,e)},shaka.util.IReleasable=function(){},shaka.util.IReleasable.prototype.release=function(){},shaka.util.EventManager=function(){this.bindingMap_=new shaka.util.MultiMap},shaka.util.EventManager.prototype.release=function(){this.removeAll(),this.bindingMap_=null},shaka.util.EventManager.prototype.listen=function(e,t,r,n){this.bindingMap_&&(e=new shaka.util.EventManager.Binding_(e,t,r,n),this.bindingMap_.push(t,e))},shaka.util.EventManager.prototype.listenOnce=function(e,t,r,n){var i=this;this.listen(e,t,(function n(a){i.unlisten(e,t,n),r(a)}),n)},shaka.util.EventManager.prototype.unlisten=function(e,t,r){if(this.bindingMap_)for(var n=this.bindingMap_.get(t)||[],i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next())(i=i.value).target!=e||r!=i.listener&&r||(i.unlisten(),this.bindingMap_.remove(t,i))},shaka.util.EventManager.prototype.removeAll=function(){if(this.bindingMap_){for(var e=this.bindingMap_.getAll(),t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next())t.value.unlisten();this.bindingMap_.clear()}},goog.exportSymbol("shaka.util.EventManager",shaka.util.EventManager),goog.exportProperty(shaka.util.EventManager.prototype,"removeAll",shaka.util.EventManager.prototype.removeAll),goog.exportProperty(shaka.util.EventManager.prototype,"unlisten",shaka.util.EventManager.prototype.unlisten),goog.exportProperty(shaka.util.EventManager.prototype,"listenOnce",shaka.util.EventManager.prototype.listenOnce),goog.exportProperty(shaka.util.EventManager.prototype,"listen",shaka.util.EventManager.prototype.listen),goog.exportProperty(shaka.util.EventManager.prototype,"release",shaka.util.EventManager.prototype.release),shaka.util.EventManager.Binding_=function(e,t,r,n){this.target=e,this.type=t,this.listener=r,this.options=shaka.util.EventManager.Binding_.convertOptions_(e,n),this.target.addEventListener(t,r,this.options)},shaka.util.EventManager.Binding_.prototype.unlisten=function(){goog.asserts.assert(this.target,"Missing target"),this.target.removeEventListener(this.type,this.listener,this.options),this.listener=this.target=null,this.options=!1},shaka.util.EventManager.Binding_.convertOptions_=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var r=new Set(["passive","capture"]),n=Object.keys(t).filter((function(e){return!r.has(e)}));return goog.asserts.assert(0==n.length,"Unsupported flag(s) to addEventListener: "+n.join(",")),shaka.util.EventManager.Binding_.doesSupportObject_(e)?t:t.capture||!1},shaka.util.EventManager.Binding_.doesSupportObject_=function(e){var t=shaka.util.EventManager.Binding_.supportsObject_;if(void 0==t){t=!1;try{var r={},n={get:function(){return t=!0,!1}};Object.defineProperty(r,"passive",n),Object.defineProperty(r,"capture",n),n=function(){},e.addEventListener("test",n,r),e.removeEventListener("test",n,r)}catch(i){t=!1}shaka.util.EventManager.Binding_.supportsObject_=t}return t||!1},shaka.util.EventManager.Binding_.supportsObject_=void 0,shaka.util.FairPlayUtils=function(){},shaka.util.FairPlayUtils.defaultGetContentId=function(e){return e=shaka.util.StringUtils.fromBytesAutoDetect(e),new goog.Uri(e).getDomain()},shaka.util.FairPlayUtils.initDataTransform=function(e,t,r){if(!r||!r.byteLength)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.SERVER_CERTIFICATE_REQUIRED);t="string"==typeof t?shaka.util.StringUtils.toUTF16(t,!0):t,e=shaka.util.StringUtils.fromBytesAutoDetect(e),e=shaka.util.StringUtils.toUTF16(e,!0);var n=new Uint8Array(12+e.byteLength+t.byteLength+r.byteLength),i=0,a=function(e){shaka.util.BufferUtils.toDataView(n).setUint32(i,e.byteLength,!0),i+=4,n.set(shaka.util.BufferUtils.toUint8(e),i),i+=e.byteLength};return a(e),a(t),a(r),goog.asserts.assert(i==n.length,"Inconsistent init data length"),n},goog.exportSymbol("shaka.util.FairPlayUtils",shaka.util.FairPlayUtils),goog.exportProperty(shaka.util.FairPlayUtils,"initDataTransform",shaka.util.FairPlayUtils.initDataTransform),goog.exportProperty(shaka.util.FairPlayUtils,"defaultGetContentId",shaka.util.FairPlayUtils.defaultGetContentId),shaka.util.MapUtils=function(){},shaka.util.MapUtils.asMap=function(e){for(var t=new Map,r=$jscomp.makeIterator(Object.keys(e)),n=r.next();!n.done;n=r.next())n=n.value,t.set(n,e[n]);return t},shaka.util.MapUtils.asObject=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},shaka.util.MapUtils.hasSameElements=function(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next()){var i=$jscomp.makeIterator(n.value);if(n=i.next().value,i=i.next().value,!t.has(n))return!1;if((n=t.get(n))!=i||void 0==n)return!1}return!0},shaka.util.MimeUtils=function(){},shaka.util.MimeUtils.getFullType=function(e,t){var r=e;return t&&(r+='; codecs="'+t+'"'),r},shaka.util.MimeUtils.getExtendedType=function(e){var t=[e.mimeType];return shaka.util.MimeUtils.EXTENDED_MIME_PARAMETERS_.forEach((function(r,n){var i=e[n];i&&t.push(r+'="'+i+'"')})),t.join(";")},shaka.util.MimeUtils.getContainerType=function(e){return e.split(";")[0].split("/")[1]},shaka.util.MimeUtils.splitCodecs=function(e){return e.split(",")},shaka.util.MimeUtils.getCodecBase=function(e){return shaka.util.MimeUtils.getCodecParts_(e)[0]},shaka.util.MimeUtils.getCodecParts_=function(e){var t=e.split(".");return e=t[0],t.pop(),[e,t=t.join(".")]},shaka.util.MimeUtils.EXTENDED_MIME_PARAMETERS_=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),shaka.util.MimeUtils.CLOSED_CAPTION_MIMETYPE="application/cea-608",shaka.util.Platform=function(){},shaka.util.Platform.supportsMediaSource=function(){return!(!window.MediaSource||!MediaSource.isTypeSupported)},shaka.util.Platform.supportsMediaType=function(e){return""!=shaka.util.Platform.anyMediaElement().canPlayType(e)},shaka.util.Platform.isEdge=function(){return!!navigator.userAgent.match(/Edge?\//)},shaka.util.Platform.isLegacyEdge=function(){return!!navigator.userAgent.match(/Edge\//)},shaka.util.Platform.isIE=function(){return shaka.util.Platform.userAgentContains_("Trident/")},shaka.util.Platform.isXboxOne=function(){return shaka.util.Platform.userAgentContains_("Xbox One")},shaka.util.Platform.isTizen=function(){return shaka.util.Platform.userAgentContains_("Tizen")},shaka.util.Platform.isTizen4=function(){return shaka.util.Platform.userAgentContains_("Tizen 4")},shaka.util.Platform.isTizen3=function(){return shaka.util.Platform.userAgentContains_("Tizen 3")},shaka.util.Platform.isTizen2=function(){return shaka.util.Platform.userAgentContains_("Tizen 2")},shaka.util.Platform.isWebOS=function(){return shaka.util.Platform.userAgentContains_("Web0S")},shaka.util.Platform.isChromecast=function(){return shaka.util.Platform.userAgentContains_("CrKey")},shaka.util.Platform.isChrome=function(){return shaka.util.Platform.userAgentContains_("Chrome")&&!shaka.util.Platform.isEdge()},shaka.util.Platform.isApple=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!shaka.util.Platform.isTizen()},shaka.util.Platform.safariVersion=function(){if(!shaka.util.Platform.isApple())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null},shaka.util.Platform.isMobile=function(){return!!/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)||shaka.util.Platform.isApple()&&1<navigator.maxTouchPoints},shaka.util.Platform.userAgentContains_=function(e){return(navigator.userAgent||"").includes(e)},shaka.util.Platform.anyMediaElement=function(){var e=shaka.util.Platform;return e.cachedMediaElement_||(e.cacheExpirationTimer_||(e.cacheExpirationTimer_=new shaka.util.Timer((function(){e.cachedMediaElement_=null}))),e.cachedMediaElement_=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0],e.cachedMediaElement_||(e.cachedMediaElement_=document.createElement("video")),e.cacheExpirationTimer_.tickAfter(1)),e.cachedMediaElement_},shaka.util.Platform.requiresEncryptionInfoInAllInitSegments=function(){var e=shaka.util.Platform;return e.isTizen()||e.isXboxOne()},shaka.util.Platform.cacheExpirationTimer_=null,shaka.util.Platform.cachedMediaElement_=null,shaka.media.DrmEngine=function(e,t){var r=this;t=void 0===t?1:t,this.playerInterface_=e,this.supportedTypes_=new Set,this.video_=this.mediaKeys_=null,this.initialized_=!1,this.licenseTimeSeconds_=0,this.currentDrmInfo_=null,this.eventManager_=new shaka.util.EventManager,this.activeSessions_=new Map,this.offlineSessionIds_=[],this.allSessionsLoaded_=new shaka.util.PublicPromise,this.config_=null,this.onError_=function(t){r.allSessionsLoaded_.reject(t),e.onError(t)},this.keyStatusByKeyId_=new Map,this.announcedKeyStatusByKeyId_=new Map,this.keyStatusTimer_=new shaka.util.Timer((function(){return r.processKeyStatusChanges_()})),this.usePersistentLicenses_=!1,this.mediaKeyMessageEvents_=[],this.initialRequestsSent_=!1,this.expirationTimer_=new shaka.util.Timer((function(){r.pollExpiration_()})).tickEvery(t),this.allSessionsLoaded_.catch((function(){})),this.destroyer_=new shaka.util.Destroyer((function(){return r.destroyNow_()}))},shaka.media.DrmEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.DrmEngine.prototype.destroyNow_=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){switch(t.nextAddress){case 1:return e.eventManager_.release(),e.eventManager_=null,e.allSessionsLoaded_.reject(),e.expirationTimer_.stop(),e.expirationTimer_=null,e.keyStatusTimer_.stop(),e.keyStatusTimer_=null,t.yield(e.closeOpenSessions_(),2);case 2:if(!e.video_){t.jumpTo(3);break}return goog.asserts.assert(!e.video_.src,"video src must be removed first!"),t.setCatchFinallyBlocks(4),t.yield(e.video_.setMediaKeys(null),6);case 6:t.leaveTryBlock(5);break;case 4:t.enterCatchBlock();case 5:e.video_=null;case 3:e.currentDrmInfo_=null,e.supportedTypes_.clear(),e.mediaKeys_=null,e.offlineSessionIds_=[],e.config_=null,e.onError_=function(){},e.playerInterface_=null,t.jumpToEnd()}}))},shaka.media.DrmEngine.prototype.configure=function(e){this.config_=e},shaka.media.DrmEngine.prototype.initForStorage=function(e,t){return this.offlineSessionIds_=[],this.usePersistentLicenses_=t,this.init_(e)},shaka.media.DrmEngine.prototype.initForPlayback=function(e,t){return this.offlineSessionIds_=t,this.usePersistentLicenses_=0<t.length,this.init_(e)},shaka.media.DrmEngine.prototype.initForRemoval=function(e,t,r,n,i){var a=new Map;return(n={audioCapabilities:n,videoCapabilities:i,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:e}).drmInfos=[{keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}],a.set(e,n),this.queryMediaKeys_(a)},shaka.media.DrmEngine.prototype.init_=function(e){goog.asserts.assert(this.config_,"DrmEngine configure() must be called before init()!");var t=this.configureClearKey_();if(t)for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next())(n=n.value).video&&(n.video.drmInfos=[t]),n.audio&&(n.audio.drmInfos=[t]);for((t=e.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||(r=shaka.util.MapUtils.asMap(this.config_.servers),shaka.media.DrmEngine.replaceDrmInfo_(e,r)),n=(r=$jscomp.makeIterator(e)).next();!n.done;n=r.next()){n=((n=n.value).video?n.video.drmInfos:[]).concat(n.audio?n.audio.drmInfos:[]);for(var i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next())shaka.media.DrmEngine.fillInDrmInfoDefaults_(i.value,shaka.util.MapUtils.asMap(this.config_.servers),shaka.util.MapUtils.asMap(this.config_.advanced||{}))}return(e=this.prepareMediaKeyConfigsForVariants_(e)).size?(e=this.queryMediaKeys_(e),t?e:e.catch((function(){}))):(this.initialized_=!0,Promise.resolve())},shaka.media.DrmEngine.prototype.attach=function(e){var t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){if(1==i.nextAddress)return n.mediaKeys_?(n.video_=e,n.eventManager_.listenOnce(n.video_,"play",(function(){return n.onPlay_()})),"webkitCurrentPlaybackTargetIsWireless"in n.video_&&n.eventManager_.listen(n.video_,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return n.closeOpenSessions_()})),t=(t=n.video_.setMediaKeys(n.mediaKeys_)).catch((function(e){return goog.asserts.assert(e instanceof Error,"Wrong error type!"),Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_ATTACH_TO_VIDEO,e.message))})),i.yield(t,2)):(n.eventManager_.listenOnce(e,"encrypted",(function(e){n.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.ENCRYPTED_CONTENT_WITHOUT_DRM_INFO))})),i.return());n.destroyer_.ensureNotDestroyed(),n.createOrLoad(),n.currentDrmInfo_.initData.length||n.offlineSessionIds_.length||(r=function(e){return n.newInitData(e.initDataType,shaka.util.BufferUtils.toUint8(e.initData))},n.eventManager_.listen(n.video_,"encrypted",r)),i.jumpToEnd()}))},shaka.media.DrmEngine.prototype.setServerCertificate=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return goog.asserts.assert(t.initialized_,"Must call init() before setServerCertificate"),t.mediaKeys_&&t.currentDrmInfo_&&t.currentDrmInfo_.serverCertificate&&t.currentDrmInfo_.serverCertificate.length?(r.setCatchFinallyBlocks(3),r.yield(t.mediaKeys_.setServerCertificate(t.currentDrmInfo_.serverCertificate),5)):r.jumpTo(0);if(3!=r.nextAddress)return r.yieldResult||shaka.log.warning("Server certificates are not supported by the key system.  The server certificate has been ignored."),r.leaveTryBlock(0);throw e=r.enterCatchBlock(),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.INVALID_SERVER_CERTIFICATE,e.message)}))},shaka.media.DrmEngine.prototype.removeSession=function(e){var t,r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(goog.asserts.assert(i.mediaKeys_,"Must call init() before removeSession"),a.yield(i.loadOfflineSession_(e),2)):(t=a.yieldResult)?(r=[],(n=i.activeSessions_.get(t))&&(n.updatePromise=new shaka.util.PublicPromise,r.push(n.updatePromise)),shaka.log.v2("Attempting to remove session",e),r.push(t.remove()),a.yield(Promise.all(r),0)):(shaka.log.v2("Ignoring attempt to remove missing session",e),a.return())}))},shaka.media.DrmEngine.prototype.createOrLoad=function(){for(var e=(this.currentDrmInfo_?this.currentDrmInfo_.initData:[])||[],t=$jscomp.makeIterator(e),r=t.next();!r.done;r=t.next())r=r.value,this.newInitData(r.initDataType,r.initData);for(r=(t=$jscomp.makeIterator(this.offlineSessionIds_)).next();!r.done;r=t.next())this.loadOfflineSession_(r.value);return e.length||this.offlineSessionIds_.length||this.allSessionsLoaded_.resolve(),this.allSessionsLoaded_},shaka.media.DrmEngine.prototype.newInitData=function(e,t){for(var r=this.activeSessions_.values(),n=(r=$jscomp.makeIterator(r)).next();!n.done;n=r.next())if(shaka.util.BufferUtils.equal(t,n.value.initData)&&!shaka.util.Platform.isTizen2())return void shaka.log.debug("Ignoring duplicate init data.");this.createTemporarySession_(e,t)},shaka.media.DrmEngine.prototype.initialized=function(){return this.initialized_},shaka.media.DrmEngine.keySystem=function(e){return e?e.keySystem:""},shaka.media.DrmEngine.prototype.willSupport=function(e){if(shaka.util.Platform.isLegacyEdge())return!0;if(e=e.toLowerCase(),shaka.util.Platform.isTizen()&&e.includes('codecs="ac-3"')){var t=e.replace("ac-3","ec-3");return this.supportedTypes_.has(e)||this.supportedTypes_.has(t)}return this.supportedTypes_.has(e)},shaka.media.DrmEngine.prototype.getSessionIds=function(){var e=this.activeSessions_.keys();return e=shaka.util.Iterables.map(e,(function(e){return e.sessionId})),Array.from(e)},shaka.media.DrmEngine.prototype.getExpiration=function(){for(var e=1/0,t=this.activeSessions_.keys(),r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())r=r.value,isNaN(r.expiration)||(e=Math.min(e,r.expiration));return e},shaka.media.DrmEngine.prototype.getLicenseTime=function(){return this.licenseTimeSeconds_?this.licenseTimeSeconds_:NaN},shaka.media.DrmEngine.prototype.getDrmInfo=function(){return this.currentDrmInfo_},shaka.media.DrmEngine.prototype.getKeyStatuses=function(){return shaka.util.MapUtils.asObject(this.announcedKeyStatusByKeyId_)},shaka.media.DrmEngine.prototype.prepareMediaKeyConfigsForVariants_=function(e){for(var t=shaka.util.ManifestParserUtils.ContentType,r=new Set,n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next()){i=((i=i.value).video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]);var a=$jscomp.makeIterator(i);for(i=a.next();!i.done;i=a.next())r.add(i.value)}for(i=(n=$jscomp.makeIterator(r)).next();!i.done;i=n.next())shaka.media.DrmEngine.fillInDrmInfoDefaults_(i.value,shaka.util.MapUtils.asMap(this.config_.servers),shaka.util.MapUtils.asMap(this.config_.advanced||{}));a=this.usePersistentLicenses_?"required":"optional";var o=this.usePersistentLicenses_?["persistent-license"]:["temporary"];for(n=new Map,i=(r=$jscomp.makeIterator(r)).next();!i.done;i=r.next())i=i.value,n.set(i.keySystem,{initDataTypes:["cenc"],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(i=(e=$jscomp.makeIterator(e)).next();!i.done;i=e.next())for(i=i.value,i=(r=$jscomp.makeIterator([i.audio,i.video])).next();!i.done;i=r.next())if(a=i.value){o=shaka.media.DrmEngine.computeMimeType_(a);var s=null;"ac-3"==a.codecs.toLowerCase()&&shaka.util.Platform.isTizen()&&(s=shaka.media.DrmEngine.computeMimeType_(a,"ec-3"));var l=$jscomp.makeIterator(a.drmInfos);for(i=l.next();!i.done;i=l.next()){var u=i.value;i=n.get(u.keySystem),goog.asserts.assert(i,"Any missing configs should have be filled in before."),i.drmInfos.push(u),u.initData&&u.initData.length&&(i.initDataTypes=[].concat($jscomp.arrayFromIterable(new Set(u.initData.map((function(e){return e.initDataType})))))),u.distinctiveIdentifierRequired&&(i.distinctiveIdentifier="required"),u.persistentStateRequired&&(i.persistentState="required");var c={robustness:(u=a.type==t.AUDIO?u.audioRobustness:u.videoRobustness)||"",contentType:o};a.type==t.AUDIO?i.audioCapabilities.push(c):i.videoCapabilities.push(c),s&&(u={robustness:u||"",contentType:s},a.type==t.AUDIO?i.audioCapabilities.push(u):i.videoCapabilities.push(u))}}return n},shaka.media.DrmEngine.computeMimeType_=function(e,t){var r=shaka.util.MimeUtils.getFullType(e.mimeType,t||e.codecs);return shaka.media.Transmuxer.isSupported(r)?shaka.media.Transmuxer.convertTsCodecs(e.type,r):r},shaka.media.DrmEngine.prototype.queryMediaKeys_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,_,E=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(w){switch(w.nextAddress){case 1:if(1==e.size&&e.has(""))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.NO_RECOGNIZED_KEY_SYSTEMS);for(t=$jscomp.makeIterator(e.values()),r=t.next();!r.done;r=t.next())0==(n=r.value).audioCapabilities.length&&delete n.audioCapabilities,0==n.videoCapabilities.length&&delete n.videoCapabilities;a=$jscomp.makeIterator([!0,!1]),o=a.next();case 2:if(o.done){w.jumpTo(4);break}s=o.value,l=$jscomp.makeIterator(e.keys()),u=l.next();case 5:if(u.done){w.jumpTo(7);break}if(c=u.value,d=e.get(c),d.drmInfos.some((function(e){return!!e.licenseServerUri}))!=s){w.jumpTo(6);break}return w.setCatchFinallyBlocks(8),w.yield(navigator.requestMediaKeySystemAccess(c,[d]),10);case 10:i=w.yieldResult,w.jumpTo(7);break;case 8:w.enterCatchBlock();case 9:E.destroyer_.ensureNotDestroyed();case 6:u=l.next(),w.jumpTo(5);break;case 7:if(i){w.jumpTo(4);break}o=a.next(),w.jumpTo(2);break;case 4:if(!i)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE);for(E.destroyer_.ensureNotDestroyed(),w.setCatchFinallyBlocks(11),E.supportedTypes_.clear(),f=i.getConfiguration(),p=f.audioCapabilities||[],h=f.videoCapabilities||[],g=$jscomp.makeIterator(p),m=g.next();!m.done;m=g.next())v=m.value,E.supportedTypes_.add(v.contentType.toLowerCase());for(y=$jscomp.makeIterator(h),m=y.next();!m.done;m=y.next())b=m.value,E.supportedTypes_.add(b.contentType.toLowerCase());if(goog.asserts.assert(E.supportedTypes_.size,"We should get at least one supported MIME type"),E.currentDrmInfo_=shaka.media.DrmEngine.createDrmInfoFor_(i.keySystem,e.get(i.keySystem)),!E.currentDrmInfo_.licenseServerUri)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.NO_LICENSE_SERVER_GIVEN,E.currentDrmInfo_.keySystem);return w.yield(i.createMediaKeys(),13);case 13:return k=w.yieldResult,E.destroyer_.ensureNotDestroyed(),shaka.log.info("Created MediaKeys object for key system",E.currentDrmInfo_.keySystem),E.mediaKeys_=k,E.initialized_=!0,w.yield(E.setServerCertificate(),14);case 14:E.destroyer_.ensureNotDestroyed(),w.leaveTryBlock(0);break;case 11:if(_=w.enterCatchBlock(),E.destroyer_.ensureNotDestroyed(_),E.currentDrmInfo_=null,E.supportedTypes_.clear(),_ instanceof shaka.util.Error)throw _;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_CDM,_.message)}}))},shaka.media.DrmEngine.prototype.configureClearKey_=function(){var e=shaka.util.MapUtils.asMap(this.config_.clearKeys);if(0==e.size)return null;var t=shaka.util.StringUtils,r=shaka.util.Uint8ArrayUtils,n=[],i=[];e.forEach((function(e,t){var a=r.fromHex(t),o=r.fromHex(e);a={kty:"oct",kid:r.toBase64(a,!1),k:r.toBase64(o,!1)},n.push(a),i.push(a.kid)})),e=JSON.stringify({keys:n});var a=JSON.stringify({kids:i});return t=[{initData:shaka.util.BufferUtils.toUint8(t.toUTF8(a)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+window.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t,keyIds:new Set(i)}},shaka.media.DrmEngine.prototype.loadOfflineSession_=function(e){var t,r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:try{shaka.log.v1("Attempting to load an offline session",e),t=o.mediaKeys_.createSession("persistent-license")}catch(k){return r=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,k.message),o.onError_(r),s.return(Promise.reject(r))}return o.eventManager_.listen(t,"message",(function(e){return o.onSessionMessage_(e)})),o.eventManager_.listen(t,"keystatuseschange",(function(e){return o.onKeyStatusesChange_(e)})),n={initData:null,loaded:!1,oldExpiration:1/0,updatePromise:null},o.activeSessions_.set(t,n),s.setCatchFinallyBlocks(2),s.yield(t.load(e),4);case 4:return i=s.yieldResult,o.destroyer_.ensureNotDestroyed(),shaka.log.v2("Loaded offline session",e,i),i?(n.loaded=!0,o.areAllSessionsLoaded_()&&o.allSessionsLoaded_.resolve(),s.return(t)):(o.activeSessions_.delete(t),o.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.OFFLINE_SESSION_REMOVED)),s.return(Promise.resolve()));case 2:a=s.enterCatchBlock(),o.destroyer_.ensureNotDestroyed(a),o.activeSessions_.delete(t),o.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,a.message));case 3:return s.return(Promise.resolve())}}))},shaka.media.DrmEngine.prototype.createTemporarySession_=function(e,t){var r=this;try{if(this.usePersistentLicenses_){shaka.log.v1("Creating new persistent session");var n=this.mediaKeys_.createSession("persistent-license")}else shaka.log.v1("Creating new temporary session"),n=this.mediaKeys_.createSession()}catch(a){return void this.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,a.message))}this.eventManager_.listen(n,"message",(function(e){return r.onSessionMessage_(e)})),this.eventManager_.listen(n,"keystatuseschange",(function(e){return r.onKeyStatusesChange_(e)})),this.activeSessions_.set(n,{initData:t,loaded:!1,oldExpiration:1/0,updatePromise:null});try{t=this.config_.initDataTransform(t,e,this.currentDrmInfo_)}catch(a){var i=a;return a instanceof shaka.util.Error||(i=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.INIT_DATA_TRANSFORM_ERROR,a)),void this.onError_(i)}this.config_.logLicenseExchange&&(i=shaka.util.Uint8ArrayUtils.toBase64(t),shaka.log.info("EME init data: type=",e,"data=",i)),n.generateRequest(e,t).catch((function(e){if(!r.destroyer_.destroyed()){goog.asserts.assert(e instanceof Error,"Wrong error type!"),r.activeSessions_.delete(n);var t=e.errorCode;if(t&&t.systemCode){var i=t.systemCode;0>i&&(i+=Math.pow(2,32)),i="0x"+i.toString(16)}r.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_GENERATE_LICENSE_REQUEST,e.message,e,i))}}))},shaka.media.DrmEngine.defaultInitDataTransform=function(e,t,r){return"skd"==t&&(t=r.serverCertificate,r=shaka.util.FairPlayUtils.defaultGetContentId(e),e=shaka.util.FairPlayUtils.initDataTransform(e,r,t)),e},shaka.media.DrmEngine.prototype.onSessionMessage_=function(e){this.delayLicenseRequest_()?this.mediaKeyMessageEvents_.push(e):this.sendLicenseRequest_(e)},shaka.media.DrmEngine.prototype.delayLicenseRequest_=function(){return!!this.video_&&(this.config_.delayLicenseRequestUntilPlayed&&this.video_.paused&&!this.initialRequestsSent_)},shaka.media.DrmEngine.prototype.sendLicenseRequest_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(y){switch(y.nextAddress){case 1:return t=e.target,shaka.log.v1("Sending license request for session",t.sessionId,"of type",e.messageType),v.config_.logLicenseExchange&&(r=shaka.util.Uint8ArrayUtils.toBase64(e.message),shaka.log.info("EME license request",r)),n=v.activeSessions_.get(t),i=v.currentDrmInfo_.licenseServerUri,a=v.config_.advanced[v.currentDrmInfo_.keySystem],"individualization-request"==e.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),o=shaka.net.NetworkingEngine.RequestType.LICENSE,(s=shaka.net.NetworkingEngine.makeRequest([i],v.config_.retryParameters)).body=e.message,s.method="POST",s.licenseRequestType=e.messageType,s.sessionId=t.sessionId,"com.microsoft.playready"!=v.currentDrmInfo_.keySystem&&"com.chromecast.playready"!=v.currentDrmInfo_.keySystem||v.unpackPlayReadyRequest_(s),l=Date.now(),y.setCatchFinallyBlocks(2),c=v.playerInterface_.netEngine.request(o,s),y.yield(c.promise,4);case 4:u=y.yieldResult,y.leaveTryBlock(3);break;case 2:return d=y.enterCatchBlock(),goog.asserts.assert(d instanceof shaka.util.Error,"Wrong NetworkingEngine error type!"),f=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.LICENSE_REQUEST_FAILED,d),v.onError_(f),n&&n.updatePromise&&n.updatePromise.reject(f),y.return();case 3:return v.destroyer_.destroyed()?y.return():(v.licenseTimeSeconds_+=(Date.now()-l)/1e3,v.config_.logLicenseExchange&&(p=shaka.util.Uint8ArrayUtils.toBase64(u.data),shaka.log.info("EME license response",p)),y.setCatchFinallyBlocks(5),shaka.log.v1("Updating session",t.sessionId),y.yield(t.update(u.data),7));case 7:y.leaveTryBlock(6);break;case 5:return h=y.enterCatchBlock(),g=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.LICENSE_RESPONSE_REJECTED,h.message),v.onError_(g),n&&n.updatePromise&&n.updatePromise.reject(g),y.return();case 6:m=new shaka.util.FakeEvent("drmsessionupdate"),v.playerInterface_.onEvent(m),n&&(n.updatePromise&&n.updatePromise.resolve(),new shaka.util.Timer((function(){n.loaded=!0,v.areAllSessionsLoaded_()&&v.allSessionsLoaded_.resolve()})).tickAfter(shaka.media.DrmEngine.SESSION_LOAD_TIMEOUT_)),y.jumpToEnd()}}))},shaka.media.DrmEngine.prototype.unpackPlayReadyRequest_=function(e){var t=shaka.util.StringUtils.fromUTF16(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){shaka.log.debug("Unwrapping PlayReady request.");for(var r=(t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader"),n=(r=$jscomp.makeIterator(r)).next();!n.done;n=r.next()){var i=n.value;n=i.getElementsByTagName("name")[0],i=i.getElementsByTagName("value")[0],goog.asserts.assert(n&&i,"Malformed PlayReady headers!"),e.headers[n.textContent]=i.textContent}t=t.getElementsByTagName("Challenge")[0],goog.asserts.assert(t,"Malformed PlayReady challenge!"),goog.asserts.assert("base64encoded"==t.getAttribute("encoding"),"Unexpected PlayReady challenge encoding!"),e.body=shaka.util.Uint8ArrayUtils.fromBase64(t.textContent)}else shaka.log.debug("PlayReady request is already unwrapped."),e.headers["Content-Type"]="text/xml; charset=utf-8"},shaka.media.DrmEngine.prototype.onKeyStatusesChange_=function(e){var t=this;e=e.target,shaka.log.v2("Key status changed for session",e.sessionId);var r=this.activeSessions_.get(e),n=!1;e.keyStatuses.forEach((function(e,i){if("string"==typeof i){var a=i;i=e,e=a}if("com.microsoft.playready"==t.currentDrmInfo_.keySystem&&16==i.byteLength&&(shaka.util.Platform.isIE()||shaka.util.Platform.isEdge())){var o=(a=shaka.util.BufferUtils.toDataView(i)).getUint32(0,!0),s=a.getUint16(4,!0),l=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,l,!1)}"com.microsoft.playready"==t.currentDrmInfo_.keySystem&&"status-pending"==e&&(e="usable"),"status-pending"!=e&&(r.loaded=!0),r||goog.asserts.assert("usable"!=e,"Usable keys found in closed session"),"expired"==e&&(n=!0),a=shaka.util.Uint8ArrayUtils.toHex(i),t.keyStatusByKeyId_.set(a,e)}));var i=e.expiration-Date.now();(0>i||n&&1e3>i)&&r&&!r.updatePromise&&(shaka.log.debug("Session has expired",e.sessionId),this.activeSessions_.delete(e),e.close().catch((function(){}))),this.areAllSessionsLoaded_()&&(this.allSessionsLoaded_.resolve(),this.keyStatusTimer_.tickAfter(shaka.media.DrmEngine.KEY_STATUS_BATCH_TIME))},shaka.media.DrmEngine.prototype.processKeyStatusChanges_=function(){var e=this.keyStatusByKeyId_,t=this.announcedKeyStatusByKeyId_;t.clear(),e.forEach((function(e,r){return t.set(r,e)})),(e=Array.from(t.values())).length&&e.every((function(e){return"expired"==e}))&&this.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.EXPIRED)),this.playerInterface_.onKeyStatus(shaka.util.MapUtils.asObject(t))},shaka.media.DrmEngine.isBrowserSupported=function(){return!!window.MediaKeys&&!!window.navigator&&!!window.navigator.requestMediaKeySystemAccess&&!!window.MediaKeySystemAccess&&!!window.MediaKeySystemAccess.prototype.getConfiguration},shaka.media.DrmEngine.probeSupport=function(){var e,t,r,n,i,a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return 1==o.nextAddress?(goog.asserts.assert(shaka.media.DrmEngine.isBrowserSupported(),"Must have basic EME support"),e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),r=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:t}],n=new Map,i=function(e){var t,i,a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){switch(o.nextAddress){case 1:return o.setCatchFinallyBlocks(2),o.yield(navigator.requestMediaKeySystemAccess(e,r),4);case 4:return t=o.yieldResult,a=!!(i=t.getConfiguration().sessionTypes)&&i.includes("persistent-license"),shaka.util.Platform.isTizen3()&&(a=!1),n.set(e,{persistentState:a}),o.yield(t.createMediaKeys(),5);case 5:o.leaveTryBlock(0);break;case 2:o.enterCatchBlock(),n.set(e,null),o.jumpToEnd()}}))},a=e.map((function(e){return i(e)})),o.yield(Promise.all(a),2)):o.return(shaka.util.MapUtils.asObject(n))}))},shaka.media.DrmEngine.prototype.onPlay_=function(){for(var e=$jscomp.makeIterator(this.mediaKeyMessageEvents_),t=e.next();!t.done;t=e.next())this.sendLicenseRequest_(t.value);this.initialRequestsSent_=!0,this.mediaKeyMessageEvents_=[]},shaka.media.DrmEngine.prototype.closeSession_=function(e){var t,r;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(t=shaka.media.DrmEngine,r=new Promise((function(e,r){new shaka.util.Timer(r).tickAfter(t.CLOSE_TIMEOUT_)})),n.setCatchFinallyBlocks(2),n.yield(Promise.race([Promise.all([e.close(),e.closed]),r]),4)):2!=n.nextAddress?n.leaveTryBlock(0):(n.enterCatchBlock(),shaka.log.warning("Timeout waiting for session close"),void n.jumpToEnd())}))},shaka.media.DrmEngine.prototype.closeOpenSessions_=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return e=Array.from(t.activeSessions_.keys()),t.activeSessions_.clear(),r.yield(Promise.all(e.map((function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(shaka.log.v1("Closing session",e.sessionId),r.setCatchFinallyBlocks(2),r.yield(t.closeSession_(e),4)):2!=r.nextAddress?r.leaveTryBlock(0):(r.enterCatchBlock(),void r.jumpToEnd())}))}))),0)}))},shaka.media.DrmEngine.prototype.supportsVariant=function(e){var t=e.audio;if(e=e.video,t&&t.encrypted){var r=shaka.media.DrmEngine.computeMimeType_(t);if(!this.willSupport(r))return!1}if(e&&e.encrypted&&(r=shaka.media.DrmEngine.computeMimeType_(e),!this.willSupport(r)))return!1;var n=shaka.media.DrmEngine.keySystem(this.currentDrmInfo_);return 0==(t=(e?e.drmInfos:[]).concat(t?t.drmInfos:[])).length||t.some((function(e){return e.keySystem==n}))},shaka.media.DrmEngine.areDrmCompatible=function(e,t){return!e.length||!t.length||0<shaka.media.DrmEngine.getCommonDrmInfos(e,t).length},shaka.media.DrmEngine.getCommonDrmInfos=function(e,t){if(!e.length)return t;if(!t.length)return e;for(var r=[],n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=$jscomp.makeIterator(t),o=a.next();!o.done;o=a.next())if(o=o.value,i.keySystem==o.keySystem){a=(a=(a=[]).concat(i.initData||[])).concat(o.initData||[]);var s=i.keyIds&&o.keyIds?new Set([].concat($jscomp.arrayFromIterable(i.keyIds),$jscomp.arrayFromIterable(o.keyIds))):i.keyIds||o.keyIds;r.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,initData:a,keyIds:s});break}}return r},shaka.media.DrmEngine.prototype.pollExpiration_=function(){var e=this;this.activeSessions_.forEach((function(t,r){var n=t.oldExpiration,i=r.expiration;isNaN(i)&&(i=1/0),i!=n&&(e.playerInterface_.onExpirationUpdated(r.sessionId,i),t.oldExpiration=i)}))},shaka.media.DrmEngine.prototype.areAllSessionsLoaded_=function(){var e=this.activeSessions_.values();return shaka.util.Iterables.every(e,(function(e){return e.loaded}))},shaka.media.DrmEngine.replaceDrmInfo_=function(e,t){var r=[];t.forEach((function(e,t){r.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())(i=i.value).video&&(i.video.drmInfos=r),i.audio&&(i.audio.drmInfos=r)},shaka.media.DrmEngine.createDrmInfoFor_=function(e,t){var r=[],n=[],i=[],a=new Set;return shaka.media.DrmEngine.processDrmInfos_(t.drmInfos,r,n,i,a),1<n.length&&shaka.log.warning("Multiple unique server certificates found! Only the first will be used."),1<r.length&&shaka.log.warning("Multiple unique license server URIs found! Only the first will be used."),{keySystem:e,licenseServerUri:r[0],distinctiveIdentifierRequired:"required"==t.distinctiveIdentifier,persistentStateRequired:"required"==t.persistentState,audioRobustness:(t.audioCapabilities?t.audioCapabilities[0].robustness:"")||"",videoRobustness:(t.videoCapabilities?t.videoCapabilities[0].robustness:"")||"",serverCertificate:n[0],initData:i,keyIds:a}},shaka.media.DrmEngine.processDrmInfos_=function(e,t,r,n,i){for(var a={},o=(e=$jscomp.makeIterator(e)).next();!o.done;a={$jscomp$loop$prop$drmInfo$477:a.$jscomp$loop$prop$drmInfo$477},o=e.next()){if(a.$jscomp$loop$prop$drmInfo$477=o.value,t.includes(a.$jscomp$loop$prop$drmInfo$477.licenseServerUri)||t.push(a.$jscomp$loop$prop$drmInfo$477.licenseServerUri),a.$jscomp$loop$prop$drmInfo$477.serverCertificate&&(r.some(function(e){return function(t){return shaka.util.BufferUtils.equal(t,e.$jscomp$loop$prop$drmInfo$477.serverCertificate)}}(a))||r.push(a.$jscomp$loop$prop$drmInfo$477.serverCertificate)),a.$jscomp$loop$prop$drmInfo$477.initData){o={};for(var s=$jscomp.makeIterator(a.$jscomp$loop$prop$drmInfo$477.initData),l=s.next();!l.done;o={$jscomp$loop$prop$initDataOverride$479:o.$jscomp$loop$prop$initDataOverride$479},l=s.next())o.$jscomp$loop$prop$initDataOverride$479=l.value,n.some(function(e){return function(t){var r=e.$jscomp$loop$prop$initDataOverride$479;return t=!(!t.keyId||t.keyId!=r.keyId)||t.initDataType==r.initDataType&&shaka.util.BufferUtils.equal(t.initData,r.initData)}}(o))||n.push(o.$jscomp$loop$prop$initDataOverride$479)}if(a.$jscomp$loop$prop$drmInfo$477.keyIds)for(s=(o=$jscomp.makeIterator(a.$jscomp$loop$prop$drmInfo$477.keyIds)).next();!s.done;s=o.next())i.add(s.value)}},shaka.media.DrmEngine.fillInDrmInfoDefaults_=function(e,t,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(t.size&&(t=t.get(e.keySystem)||"",e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate)),window.cast&&window.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))},shaka.media.DrmEngine.CLOSE_TIMEOUT_=1,shaka.media.DrmEngine.SESSION_LOAD_TIMEOUT_=5,shaka.media.DrmEngine.KEY_STATUS_BATCH_TIME=.5,shaka.media.DrmEngine.DUMMY_KEY_ID=new shaka.util.Lazy((function(){return shaka.util.BufferUtils.toArrayBuffer(new Uint8Array([0]))})),shaka.util.DataViewReader=function(e,t){this.dataView_=shaka.util.BufferUtils.toDataView(e),this.littleEndian_=t==shaka.util.DataViewReader.Endianness.LITTLE_ENDIAN,this.position_=0},shaka.util.DataViewReader.prototype.getDataView=function(){return this.dataView_},shaka.util.DataViewReader.prototype.hasMoreData=function(){return this.position_<this.dataView_.byteLength},shaka.util.DataViewReader.prototype.getPosition=function(){return this.position_},shaka.util.DataViewReader.prototype.getLength=function(){return this.dataView_.byteLength},shaka.util.DataViewReader.prototype.readUint8=function(){try{var e=this.dataView_.getUint8(this.position_);return this.position_+=1,e}catch(t){throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint16=function(){try{var e=this.dataView_.getUint16(this.position_,this.littleEndian_);return this.position_+=2,e}catch(t){throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint32=function(){try{var e=this.dataView_.getUint32(this.position_,this.littleEndian_);return this.position_+=4,e}catch(t){throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readInt32=function(){try{var e=this.dataView_.getInt32(this.position_,this.littleEndian_);return this.position_+=4,e}catch(t){throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint64=function(){try{if(this.littleEndian_)var e=this.dataView_.getUint32(this.position_,!0),t=this.dataView_.getUint32(this.position_+4,!0);else t=this.dataView_.getUint32(this.position_,!1),e=this.dataView_.getUint32(this.position_+4,!1)}catch(r){throw this.outOfBounds_()}if(2097151<t)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);return this.position_+=8,t*Math.pow(2,32)+e},shaka.util.DataViewReader.prototype.readBytes=function(e){if(goog.asserts.assert(0<=e,"Bad call to DataViewReader.readBytes"),this.position_+e>this.dataView_.byteLength)throw this.outOfBounds_();var t=shaka.util.BufferUtils.toUint8(this.dataView_,this.position_,e);return this.position_+=e,t},shaka.util.DataViewReader.prototype.skip=function(e){if(goog.asserts.assert(0<=e,"Bad call to DataViewReader.skip"),this.position_+e>this.dataView_.byteLength)throw this.outOfBounds_();this.position_+=e},shaka.util.DataViewReader.prototype.rewind=function(e){if(goog.asserts.assert(0<=e,"Bad call to DataViewReader.rewind"),this.position_<e)throw this.outOfBounds_();this.position_-=e},shaka.util.DataViewReader.prototype.seek=function(e){if(goog.asserts.assert(0<=e,"Bad call to DataViewReader.seek"),0>e||e>this.dataView_.byteLength)throw this.outOfBounds_();this.position_=e},shaka.util.DataViewReader.prototype.readTerminatedString=function(){for(var e=this.position_;this.hasMoreData()&&0!=this.dataView_.getUint8(this.position_);)this.position_+=1;return e=shaka.util.BufferUtils.toUint8(this.dataView_,e,this.position_-e),this.position_+=1,shaka.util.StringUtils.fromUTF8(e)},shaka.util.DataViewReader.prototype.outOfBounds_=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS)},goog.exportSymbol("shaka.util.DataViewReader",shaka.util.DataViewReader),goog.exportProperty(shaka.util.DataViewReader.prototype,"readTerminatedString",shaka.util.DataViewReader.prototype.readTerminatedString),goog.exportProperty(shaka.util.DataViewReader.prototype,"seek",shaka.util.DataViewReader.prototype.seek),goog.exportProperty(shaka.util.DataViewReader.prototype,"rewind",shaka.util.DataViewReader.prototype.rewind),goog.exportProperty(shaka.util.DataViewReader.prototype,"skip",shaka.util.DataViewReader.prototype.skip),goog.exportProperty(shaka.util.DataViewReader.prototype,"readBytes",shaka.util.DataViewReader.prototype.readBytes),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint64",shaka.util.DataViewReader.prototype.readUint64),goog.exportProperty(shaka.util.DataViewReader.prototype,"readInt32",shaka.util.DataViewReader.prototype.readInt32),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint32",shaka.util.DataViewReader.prototype.readUint32),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint16",shaka.util.DataViewReader.prototype.readUint16),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint8",shaka.util.DataViewReader.prototype.readUint8),goog.exportProperty(shaka.util.DataViewReader.prototype,"getLength",shaka.util.DataViewReader.prototype.getLength),goog.exportProperty(shaka.util.DataViewReader.prototype,"getPosition",shaka.util.DataViewReader.prototype.getPosition),goog.exportProperty(shaka.util.DataViewReader.prototype,"hasMoreData",shaka.util.DataViewReader.prototype.hasMoreData),shaka.util.DataViewReader.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:1},goog.exportProperty(shaka.util.DataViewReader,"Endianness",shaka.util.DataViewReader.Endianness),shaka.util.Mp4Parser=function(){this.headers_=[],this.boxDefinitions_=[],this.done_=!1},shaka.util.Mp4Parser.prototype.box=function(e,t){var r=shaka.util.Mp4Parser.typeFromString_(e);return this.headers_[r]=shaka.util.Mp4Parser.BoxType_.BASIC_BOX,this.boxDefinitions_[r]=t,this},shaka.util.Mp4Parser.prototype.fullBox=function(e,t){var r=shaka.util.Mp4Parser.typeFromString_(e);return this.headers_[r]=shaka.util.Mp4Parser.BoxType_.FULL_BOX,this.boxDefinitions_[r]=t,this},shaka.util.Mp4Parser.prototype.stop=function(){this.done_=!0},shaka.util.Mp4Parser.prototype.parse=function(e,t){var r=new shaka.util.DataViewReader(e,shaka.util.DataViewReader.Endianness.BIG_ENDIAN);for(this.done_=!1;r.hasMoreData()&&!this.done_;)this.parseNext(0,r,t)},shaka.util.Mp4Parser.prototype.parseNext=function(e,t,r){var n=t.getPosition(),i=t.readUint32(),a=t.readUint32(),o=shaka.util.Mp4Parser.typeToString(a),s=!1;switch(shaka.log.v2("Parsing MP4 box",o),i){case 0:i=t.getLength()-n;break;case 1:i=t.readUint64(),s=!0}if(o=this.boxDefinitions_[a]){var l=null,u=null;this.headers_[a]==shaka.util.Mp4Parser.BoxType_.FULL_BOX&&(l=(u=t.readUint32())>>>24,u&=16777215),a=n+i,r&&a>t.getLength()&&(a=t.getLength()),a-=t.getPosition(),t=0<a?t.readBytes(a):new Uint8Array(0),o({parser:this,partialOkay:r||!1,version:l,flags:u,reader:t=new shaka.util.DataViewReader(t,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),size:i,start:n+e,has64BitSize:s})}else e=Math.min(n+i-t.getPosition(),t.getLength()-t.getPosition()),t.skip(e)},shaka.util.Mp4Parser.children=function(e){for(var t=shaka.util.Mp4Parser.headerSize(e);e.reader.hasMoreData()&&!e.parser.done_;)e.parser.parseNext(e.start+t,e.reader,e.partialOkay)},shaka.util.Mp4Parser.sampleDescription=function(e){for(var t=shaka.util.Mp4Parser.headerSize(e),r=e.reader.readUint32(),n=(r=$jscomp.makeIterator(shaka.util.Iterables.range(r))).next();!n.done&&(shaka.util.Functional.ignored(n.value),e.parser.parseNext(e.start+t,e.reader,e.partialOkay),!e.parser.done_);n=r.next());},shaka.util.Mp4Parser.allData=function(e){return function(t){var r=t.reader.getLength()-t.reader.getPosition();e(t.reader.readBytes(r))}},shaka.util.Mp4Parser.typeFromString_=function(e){goog.asserts.assert(4==e.length,"Mp4 box names must be 4 characters long");for(var t=0,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())t=t<<8|r.value.charCodeAt(0);return t},shaka.util.Mp4Parser.typeToString=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},shaka.util.Mp4Parser.headerSize=function(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)},goog.exportSymbol("shaka.util.Mp4Parser",shaka.util.Mp4Parser),goog.exportProperty(shaka.util.Mp4Parser,"headerSize",shaka.util.Mp4Parser.headerSize),goog.exportProperty(shaka.util.Mp4Parser,"typeToString",shaka.util.Mp4Parser.typeToString),goog.exportProperty(shaka.util.Mp4Parser,"allData",shaka.util.Mp4Parser.allData),goog.exportProperty(shaka.util.Mp4Parser,"sampleDescription",shaka.util.Mp4Parser.sampleDescription),goog.exportProperty(shaka.util.Mp4Parser,"children",shaka.util.Mp4Parser.children),goog.exportProperty(shaka.util.Mp4Parser.prototype,"parseNext",shaka.util.Mp4Parser.prototype.parseNext),goog.exportProperty(shaka.util.Mp4Parser.prototype,"parse",shaka.util.Mp4Parser.prototype.parse),goog.exportProperty(shaka.util.Mp4Parser.prototype,"stop",shaka.util.Mp4Parser.prototype.stop),goog.exportProperty(shaka.util.Mp4Parser.prototype,"fullBox",shaka.util.Mp4Parser.prototype.fullBox),goog.exportProperty(shaka.util.Mp4Parser.prototype,"box",shaka.util.Mp4Parser.prototype.box),shaka.util.Mp4Parser.BoxType_={BASIC_BOX:0,FULL_BOX:1},shaka.media.ContentWorkarounds=function(){},shaka.media.ContentWorkarounds.fakeEncryption=function(e){var t=shaka.media.ContentWorkarounds;e=shaka.util.BufferUtils.toUint8(e);var r,n=!1,i=[],a=function(e){i.push(e),shaka.util.Mp4Parser.children(e)},o=function(e){n=!0},s=[];if((new shaka.util.Mp4Parser).box("moov",a).box("trak",a).box("mdia",a).box("minf",a).box("stbl",a).fullBox("stsd",(function(e){r=e,i.push(e),shaka.util.Mp4Parser.sampleDescription(e)})).fullBox("encv",o).fullBox("enca",o).fullBox("avc1",(function(e){s.push({box:e,newType:t.BOX_TYPE_ENCV_})})).fullBox("mp4a",(function(e){s.push({box:e,newType:t.BOX_TYPE_ENCA_})})).parse(e),n)return shaka.log.debug("Init segment already indicates encryption."),e;if(0==s.length||!r)throw shaka.log.error("Failed to find boxes needed to fake encryption!"),shaka.log.v2("Failed init segment (hex):",shaka.util.Uint8ArrayUtils.toHex(e)),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.CONTENT_TRANSFORMATION_FAILED);for(s.reverse(),o=(a=$jscomp.makeIterator(s)).next();!o.done;o=a.next()){o=o.value;var l=shaka.util.Mp4Parser.typeToString(o.newType);shaka.log.debug('Inserting "'+l+'" box into init segment.'),e=t.insertEncryptionMetadata_(e,r,o.box,i,o.newType)}return e},shaka.media.ContentWorkarounds.insertEncryptionMetadata_=function(e,t,r,n,i){var a=shaka.media.ContentWorkarounds,o=a.createEncryptionMetadata_(e,r,i);i=new Uint8Array(e.byteLength+o.byteLength),r=shaka.util.Platform.isXboxOne()?r.start:r.start+r.size;var s=e.subarray(0,r);for(e=e.subarray(r),i.set(s),i.set(o,r),i.set(e,r+o.byteLength),e=(n=$jscomp.makeIterator(n)).next();!e.done;e=n.next())e=e.value,goog.asserts.assert(e.start<r,"Ancestor MP4 box found in the wrong location!  Modified init segment will not make sense!"),a.updateBoxSize_(i,e.start,e.size+o.byteLength);return a=shaka.util.BufferUtils.toDataView(i,t.start),t=shaka.util.Mp4Parser.headerSize(t),o=a.getUint32(t),a.setUint32(t,o+1),i},shaka.media.ContentWorkarounds.createEncryptionMetadata_=function(e,t,r){var n=shaka.media.ContentWorkarounds,i=n.CANNED_SINF_BOX_.value(),a=e.subarray(t.start,t.start+t.size),o=shaka.util.BufferUtils.toDataView(a);return(e=new Uint8Array(t.size+i.byteLength)).set(a,0),(a=shaka.util.BufferUtils.toDataView(e)).setUint32(n.BOX_TYPE_OFFSET_,r),e.set(i,t.size),r=o.getUint32(n.BOX_TYPE_OFFSET_),a.setUint32(t.size+n.CANNED_SINF_BOX_FORMAT_OFFSET_,r),n.updateBoxSize_(e,0,e.byteLength),e},shaka.media.ContentWorkarounds.updateBoxSize_=function(e,t,r){var n=shaka.media.ContentWorkarounds;0!=(t=(e=shaka.util.BufferUtils.toDataView(e,t)).getUint32(n.BOX_SIZE_OFFSET_))&&(1==t?(e.setUint32(n.BOX_SIZE_64_OFFSET_,r>>32),e.setUint32(n.BOX_SIZE_64_OFFSET_+4,4294967295&r)):e.setUint32(n.BOX_SIZE_OFFSET_,r))},shaka.media.ContentWorkarounds.CANNED_SINF_BOX_=new shaka.util.Lazy((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),shaka.media.ContentWorkarounds.CANNED_SINF_BOX_FORMAT_OFFSET_=16,shaka.media.ContentWorkarounds.BOX_SIZE_OFFSET_=0,shaka.media.ContentWorkarounds.BOX_TYPE_OFFSET_=4,shaka.media.ContentWorkarounds.BOX_SIZE_64_OFFSET_=8,shaka.media.ContentWorkarounds.BOX_TYPE_ENCV_=1701733238,shaka.media.ContentWorkarounds.BOX_TYPE_ENCA_=1701733217,shaka.media.IClosedCaptionParser=function(){},shaka.media.IClosedCaptionParser.prototype.init=function(e){},shaka.media.IClosedCaptionParser.prototype.parseFrom=function(e,t){},shaka.media.IClosedCaptionParser.prototype.reset=function(){},shaka.media.MuxJSClosedCaptionParser=function(){this.muxCaptionParser_=new muxjs.mp4.CaptionParser,this.videoTrackIds_=[],this.timescales_={}},shaka.media.MuxJSClosedCaptionParser.prototype.init=function(e){var t=muxjs.mp4.probe;e=shaka.util.BufferUtils.toUint8(e),this.videoTrackIds_=t.videoTrackIds(e),this.timescales_=t.timescale(e),this.muxCaptionParser_.init()},shaka.media.MuxJSClosedCaptionParser.prototype.parseFrom=function(e,t){var r=shaka.util.BufferUtils.toUint8(e);(r=this.muxCaptionParser_.parse(r,this.videoTrackIds_,this.timescales_))&&r.captions&&t(r.captions),this.muxCaptionParser_.clearParsedCaptions()},shaka.media.MuxJSClosedCaptionParser.prototype.reset=function(){this.muxCaptionParser_.resetCaptionStream()},shaka.media.MuxJSClosedCaptionParser.isSupported=function(){return!!window.muxjs},shaka.media.NoopCaptionParser=function(){},shaka.media.NoopCaptionParser.prototype.init=function(e){},shaka.media.NoopCaptionParser.prototype.parseFrom=function(e,t){},shaka.media.NoopCaptionParser.prototype.reset=function(){},shaka.media.TimeRangesUtils=function(){},shaka.media.TimeRangesUtils.bufferStart=function(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null},shaka.media.TimeRangesUtils.bufferEnd=function(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null},shaka.media.TimeRangesUtils.isBuffered=function(e,t,r){return r=void 0===r?0:r,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+r>=e.start(0)},shaka.media.TimeRangesUtils.bufferedAheadOf=function(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var r=0,n=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(e)),i=n.next();!i.done;i=n.next()){var a=i.value;i=a.start,(a=a.end)>t&&(r+=a-Math.max(i,t))}return r},shaka.media.TimeRangesUtils.getGapIndex=function(e,t){var r=shaka.util.Platform,n=shaka.media.TimeRangesUtils;if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return null;var i=r.isLegacyEdge()||r.isIE()||r.isTizen()||r.isChromecast()?.5:.1;return 0<=(r=n.getBufferedInfo(e).findIndex((function(e,r,n){return e.start>t&&(0==r||n[r-1].end-t<=i)})))?r:null},shaka.media.TimeRangesUtils.getBufferedInfo=function(e){if(!e)return[];for(var t=[],r=$jscomp.makeIterator(shaka.util.Iterables.range(e.length)),n=r.next();!n.done;n=r.next())n=n.value,t.push({start:e.start(n),end:e.end(n)});return t},shaka.text={},shaka.text.Cue=function(e,t,r){var n=shaka.text.Cue;this.startTime=e,this.direction=n.direction.HORIZONTAL_LEFT_TO_RIGHT,this.endTime=t,this.payload=r,this.region=new shaka.text.CueRegion,this.position=null,this.positionAlign=n.positionAlign.AUTO,this.size=0,this.textAlign=n.textAlign.CENTER,this.writingMode=n.writingMode.HORIZONTAL_TOP_TO_BOTTOM,this.lineInterpretation=n.lineInterpretation.LINE_NUMBER,this.line=null,this.lineHeight="",this.lineAlign=n.lineAlign.START,this.displayAlign=n.displayAlign.AFTER,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=n.fontWeight.NORMAL,this.fontStyle=n.fontStyle.NORMAL,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1,this.cellResolution={columns:32,rows:15}},shaka.text.Cue.prototype.clone=function(){var e,t=new shaka.text.Cue(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},shaka.text.Cue.equal=function(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var r in e)if("startTime"!=r&&"endTime"!=r&&"payload"!=r)if("nestedCues"==r){if(!shaka.util.ArrayUtils.equal(e.nestedCues,t.nestedCues,shaka.text.Cue.equal))return!1}else if("region"==r||"cellResolution"==r){for(var n in e[r])if(e[r][n]!=t[r][n])return!1}else if(Array.isArray(e[r])){if(!shaka.util.ArrayUtils.equal(e[r],t[r]))return!1}else if(e[r]!=t[r])return!1;return!0},goog.exportSymbol("shaka.text.Cue",shaka.text.Cue),shaka.text.Cue.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:"auto"},goog.exportProperty(shaka.text.Cue,"positionAlign",shaka.text.Cue.positionAlign),shaka.text.Cue.textAlign={LEFT:"left",RIGHT:"right",CENTER:"center",START:"start",END:"end"},goog.exportProperty(shaka.text.Cue,"textAlign",shaka.text.Cue.textAlign),shaka.text.Cue.displayAlign={BEFORE:"before",CENTER:"center",AFTER:"after"},goog.exportProperty(shaka.text.Cue,"displayAlign",shaka.text.Cue.displayAlign),shaka.text.Cue.direction={HORIZONTAL_LEFT_TO_RIGHT:"ltr",HORIZONTAL_RIGHT_TO_LEFT:"rtl"},goog.exportProperty(shaka.text.Cue,"direction",shaka.text.Cue.direction),shaka.text.Cue.writingMode={HORIZONTAL_TOP_TO_BOTTOM:"horizontal-tb",VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"},goog.exportProperty(shaka.text.Cue,"writingMode",shaka.text.Cue.writingMode),shaka.text.Cue.lineInterpretation={LINE_NUMBER:0,PERCENTAGE:1},goog.exportProperty(shaka.text.Cue,"lineInterpretation",shaka.text.Cue.lineInterpretation),shaka.text.Cue.lineAlign={CENTER:"center",START:"start",END:"end"},goog.exportProperty(shaka.text.Cue,"lineAlign",shaka.text.Cue.lineAlign),shaka.text.Cue.fontWeight={NORMAL:400,BOLD:700},goog.exportProperty(shaka.text.Cue,"fontWeight",shaka.text.Cue.fontWeight),shaka.text.Cue.fontStyle={NORMAL:"normal",ITALIC:"italic",OBLIQUE:"oblique"},goog.exportProperty(shaka.text.Cue,"fontStyle",shaka.text.Cue.fontStyle),shaka.text.Cue.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},goog.exportProperty(shaka.text.Cue,"textDecoration",shaka.text.Cue.textDecoration),shaka.text.CueRegion=function(){var e=shaka.text.CueRegion;this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=e.units.PERCENTAGE,this.scroll=e.scrollMode.NONE},goog.exportSymbol("shaka.text.CueRegion",shaka.text.CueRegion),shaka.text.CueRegion.units={PX:0,PERCENTAGE:1,LINES:2},goog.exportProperty(shaka.text.CueRegion,"units",shaka.text.CueRegion.units),shaka.text.CueRegion.scrollMode={NONE:"",UP:"up"},goog.exportProperty(shaka.text.CueRegion,"scrollMode",shaka.text.CueRegion.scrollMode),shaka.text.TextEngine=function(e){this.parser_=null,this.displayer_=e,this.appendWindowStart_=this.timestampOffset_=0,this.appendWindowEnd_=1/0,this.bufferEnd_=this.bufferStart_=null,this.selectedClosedCaptionId_="",this.closedCaptionsMap_=new Map},shaka.text.TextEngine.registerParser=function(e,t){shaka.text.TextEngine.parserMap_[e]=t},shaka.text.TextEngine.unregisterParser=function(e){delete shaka.text.TextEngine.parserMap_[e]},shaka.text.TextEngine.isTypeSupported=function(e){return!!(shaka.text.TextEngine.parserMap_[e]||window.muxjs&&e==shaka.util.MimeUtils.CLOSED_CAPTION_MIMETYPE)},shaka.text.TextEngine.prototype.destroy=function(){return this.displayer_=this.parser_=null,this.closedCaptionsMap_.clear(),Promise.resolve()},shaka.text.TextEngine.prototype.setDisplayer=function(e){this.displayer_=e},shaka.text.TextEngine.prototype.initParser=function(e){e!=shaka.util.MimeUtils.CLOSED_CAPTION_MIMETYPE&&(e=shaka.text.TextEngine.parserMap_[e],goog.asserts.assert(e,"Text type negotiation should have happened already"),this.parser_=shaka.util.Functional.callFactory(e))},shaka.text.TextEngine.prototype.appendBuffer=function(e,t,r){var n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(goog.asserts.assert(o.parser_,"The parser should already be initialized"),s.yield(Promise.resolve(),2)):o.parser_&&o.displayer_?null==t||null==r?(o.parser_.parseInit(shaka.util.BufferUtils.toUint8(e)),s.return()):(n={periodStart:o.timestampOffset_,segmentStart:t,segmentEnd:r},i=o.parser_.parseMedia(shaka.util.BufferUtils.toUint8(e),n),a=i.filter((function(e){return e.startTime>=o.appendWindowStart_&&e.startTime<o.appendWindowEnd_})),o.displayer_.append(a),null==o.bufferStart_?o.bufferStart_=Math.max(t,o.appendWindowStart_):(goog.asserts.assert(null!=o.bufferEnd_,"There should already be a buffered range end."),goog.asserts.assert(1>=t-o.bufferEnd_,"There should not be a gap in text references >1s")),o.bufferEnd_=Math.min(r,o.appendWindowEnd_),void s.jumpToEnd()):s.return()}))},shaka.text.TextEngine.prototype.remove=function(e,t){var r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress)return n.yield(Promise.resolve(),2);r.displayer_&&r.displayer_.remove(e,t)&&(null==r.bufferStart_?goog.asserts.assert(null==r.bufferEnd_,"end must be null if startTime is null"):(goog.asserts.assert(null!=r.bufferEnd_,"end must be non-null if startTime is non-null"),t<=r.bufferStart_||e>=r.bufferEnd_||(e<=r.bufferStart_&&t>=r.bufferEnd_?r.bufferStart_=r.bufferEnd_=null:e<=r.bufferStart_&&t<r.bufferEnd_?r.bufferStart_=t:e>r.bufferStart_&&t>=r.bufferEnd_?r.bufferEnd_=e:goog.asserts.assert(!1,"removal from the middle is not supported by TextEngine")))),n.jumpToEnd()}))},shaka.text.TextEngine.prototype.setTimestampOffset=function(e){this.timestampOffset_=e},shaka.text.TextEngine.prototype.setAppendWindow=function(e,t){this.appendWindowStart_=e,this.appendWindowEnd_=t},shaka.text.TextEngine.prototype.bufferStart=function(){return this.bufferStart_},shaka.text.TextEngine.prototype.bufferEnd=function(){return this.bufferEnd_},shaka.text.TextEngine.prototype.isBuffered=function(e){return null!=this.bufferStart_&&null!=this.bufferEnd_&&(e>=this.bufferStart_&&e<this.bufferEnd_)},shaka.text.TextEngine.prototype.bufferedAheadOf=function(e){return null==this.bufferEnd_||this.bufferEnd_<e?0:(goog.asserts.assert(null!=this.bufferStart_,"start should not be null if end is not null"),this.bufferEnd_-Math.max(e,this.bufferStart_))},shaka.text.TextEngine.prototype.setSelectedClosedCaptionId=function(e,t){this.selectedClosedCaptionId_=e;var r=this.closedCaptionsMap_.get(e);if(r)for(var n=$jscomp.makeIterator(r.keys()),i=n.next();!i.done;i=n.next())(i=r.get(i.value).filter((function(e){return e.endTime<=t})))&&this.displayer_.append(i)},shaka.text.TextEngine.prototype.storeAndAppendClosedCaptions=function(e,t,r,n){for(var i=t+" "+r,a=new Map,o=(e=$jscomp.makeIterator(e)).next();!o.done;o=e.next()){var s=o.value;o=s.stream,a.has(o)||a.set(o,new Map),a.get(o).has(i)||a.get(o).set(i,[]),s.startTime+=n,s.endTime+=n,s.startTime>=this.appendWindowStart_&&s.startTime<this.appendWindowEnd_&&(s=new shaka.text.Cue(s.startTime,s.endTime,s.text),a.get(o).get(i).push(s),o==this.selectedClosedCaptionId_&&this.displayer_.append([s]))}for(i=(n=$jscomp.makeIterator(a.keys())).next();!i.done;i=n.next())for(i=i.value,this.closedCaptionsMap_.has(i)||this.closedCaptionsMap_.set(i,new Map),o=(e=$jscomp.makeIterator(a.get(i).keys())).next();!o.done;o=e.next())o=o.value,s=a.get(i).get(o),this.closedCaptionsMap_.get(i).set(o,s);this.bufferStart_=null==this.bufferStart_?Math.max(t,this.appendWindowStart_):Math.min(this.bufferStart_,Math.max(t,this.appendWindowStart_)),this.bufferEnd_=Math.max(this.bufferEnd_,Math.min(r,this.appendWindowEnd_))},shaka.text.TextEngine.prototype.getNumberOfClosedCaptionChannels=function(){return this.closedCaptionsMap_.size},shaka.text.TextEngine.prototype.getNumberOfClosedCaptionsInChannel=function(e){return(e=this.closedCaptionsMap_.get(e))?e.size:0},goog.exportSymbol("shaka.text.TextEngine",shaka.text.TextEngine),goog.exportProperty(shaka.text.TextEngine.prototype,"destroy",shaka.text.TextEngine.prototype.destroy),goog.exportProperty(shaka.text.TextEngine,"unregisterParser",shaka.text.TextEngine.unregisterParser),goog.exportProperty(shaka.text.TextEngine,"registerParser",shaka.text.TextEngine.registerParser),shaka.text.TextEngine.parserMap_={},shaka.media.MediaSourceEngine=function(e,t,r,n){var i=this;this.video_=e,this.textDisplayer_=r,this.sourceBuffers_={},this.sourceBufferTypes_={},this.textEngine_=null,e=function(e,t,r){},this.onMetadata_=n||e,this.queues_={},this.eventManager_=new shaka.util.EventManager,this.transmuxers_={},this.captionParser_=t,this.mediaSourceOpen_=new shaka.util.PublicPromise,this.mediaSource_=this.createMediaSource(this.mediaSourceOpen_),this.destroyer_=new shaka.util.Destroyer((function(){return i.doDestroy_()})),this.url_=""},shaka.media.MediaSourceEngine.prototype.createMediaSource=function(e){var t=this,r=new MediaSource;return this.eventManager_.listenOnce(r,"sourceopen",(function(){return t.onSourceOpen_(e)})),this.url_=shaka.media.MediaSourceEngine.createObjectURL(r),this.video_.src=this.url_,r},shaka.media.MediaSourceEngine.prototype.onSourceOpen_=function(e){URL.revokeObjectURL(this.url_),e.resolve()},shaka.media.MediaSourceEngine.isStreamSupported=function(e){var t=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs),r=shaka.util.MimeUtils.getExtendedType(e);return shaka.text.TextEngine.isTypeSupported(t)||MediaSource.isTypeSupported(r)||shaka.media.Transmuxer.isSupported(t,e.type)},shaka.media.MediaSourceEngine.probeSupport=function(){for(var e={},t=$jscomp.makeIterator('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),r=t.next();!r.done;r=t.next()){r=r.value,shaka.util.Platform.supportsMediaSource()?shaka.text.TextEngine.isTypeSupported(r)?e[r]=!0:e[r]=MediaSource.isTypeSupported(r)||shaka.media.Transmuxer.isSupported(r):e[r]=shaka.util.Platform.supportsMediaType(r);var n=r.split(";")[0];e[n]=e[n]||e[r]}return e},shaka.media.MediaSourceEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.MediaSourceEngine.prototype.doDestroy_=function(){var e,t,r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){if(1==c.nextAddress){for(r in e=shaka.util.Functional,t=[],u.queues_)for(n=u.queues_[r],i=n[0],u.queues_[r]=n.slice(0,1),i&&t.push(i.p.catch(e.noop)),a=$jscomp.makeIterator(n.slice(1)),o=a.next();!o.done;o=a.next())o.value.p.reject(shaka.util.Destroyer.destroyedError());for(s in u.textEngine_&&t.push(u.textEngine_.destroy()),u.textDisplayer_&&t.push(u.textDisplayer_.destroy()),u.transmuxers_)t.push(u.transmuxers_[s].destroy());return c.yield(Promise.all(t),2)}if(u.eventManager_&&(u.eventManager_.release(),u.eventManager_=null),u.video_&&(u.video_.removeAttribute("src"),u.video_.load(),u.video_=null),u.mediaSource_=null,u.textEngine_=null,u.textDisplayer_=null,u.sourceBuffers_={},u.transmuxers_={},u.captionParser_=null,goog.DEBUG)for(l in u.queues_)goog.asserts.assert(0==u.queues_[l].length,l+" queue should be empty after destroy!");u.queues_={},c.jumpToEnd()}))},shaka.media.MediaSourceEngine.prototype.open=function(){return this.mediaSourceOpen_},shaka.media.MediaSourceEngine.prototype.init=function(e,t){var r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){if(1==c.nextAddress)return r=shaka.util.ManifestParserUtils.ContentType,c.yield(u.mediaSourceOpen_,2);for(n={},i=$jscomp.makeIterator(e.keys()),a=i.next();!a.done;n={$jscomp$loop$prop$contentType$482:n.$jscomp$loop$prop$contentType$482},a=i.next())n.$jscomp$loop$prop$contentType$482=a.value,o=e.get(n.$jscomp$loop$prop$contentType$482),goog.asserts.assert(shaka.media.MediaSourceEngine.isStreamSupported(o),"Type negotiation should happen before MediaSourceEngine.init!"),s=shaka.util.MimeUtils.getFullType(o.mimeType,o.codecs),n.$jscomp$loop$prop$contentType$482==r.TEXT?u.reinitText(s):(!t&&MediaSource.isTypeSupported(s)||!shaka.media.Transmuxer.isSupported(s,n.$jscomp$loop$prop$contentType$482)||(u.transmuxers_[n.$jscomp$loop$prop$contentType$482]=new shaka.media.Transmuxer,s=shaka.media.Transmuxer.convertTsCodecs(n.$jscomp$loop$prop$contentType$482,s)),l=u.mediaSource_.addSourceBuffer(s),u.eventManager_.listen(l,"error",function(e){return function(){return u.onError_(e.$jscomp$loop$prop$contentType$482)}}(n)),u.eventManager_.listen(l,"updateend",function(e){return function(){return u.onUpdateEnd_(e.$jscomp$loop$prop$contentType$482)}}(n)),u.sourceBuffers_[n.$jscomp$loop$prop$contentType$482]=l,u.sourceBufferTypes_[n.$jscomp$loop$prop$contentType$482]=s,u.queues_[n.$jscomp$loop$prop$contentType$482]=[]);c.jumpToEnd()}))},shaka.media.MediaSourceEngine.prototype.reinitText=function(e){this.textEngine_||(this.textEngine_=new shaka.text.TextEngine(this.textDisplayer_)),this.textEngine_.initParser(e)},shaka.media.MediaSourceEngine.prototype.ended=function(){return!this.mediaSource_||"ended"==this.mediaSource_.readyState},shaka.media.MediaSourceEngine.prototype.bufferStart=function(e){return e==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.bufferStart():shaka.media.TimeRangesUtils.bufferStart(this.getBuffered_(e))},shaka.media.MediaSourceEngine.prototype.bufferEnd=function(e){return e==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.bufferEnd():shaka.media.TimeRangesUtils.bufferEnd(this.getBuffered_(e))},shaka.media.MediaSourceEngine.prototype.isBuffered=function(e,t,r){return e==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.isBuffered(t):(e=this.getBuffered_(e),shaka.media.TimeRangesUtils.isBuffered(e,t,r))},shaka.media.MediaSourceEngine.prototype.bufferedAheadOf=function(e,t){if(e==shaka.util.ManifestParserUtils.ContentType.TEXT)return this.textEngine_.bufferedAheadOf(t);var r=this.getBuffered_(e);return shaka.media.TimeRangesUtils.bufferedAheadOf(r,t)},shaka.media.MediaSourceEngine.prototype.getBufferedInfo=function(){var e=shaka.util.ManifestParserUtils.ContentType,t=shaka.media.TimeRangesUtils;if(e={total:t.getBufferedInfo(this.video_.buffered),audio:t.getBufferedInfo(this.getBuffered_(e.AUDIO)),video:t.getBufferedInfo(this.getBuffered_(e.VIDEO)),text:[]},this.textEngine_){t=this.textEngine_.bufferStart();var r=this.textEngine_.bufferEnd();null!=t&&null!=r&&e.text.push({start:t,end:r})}return e},shaka.media.MediaSourceEngine.prototype.getBuffered_=function(e){try{return this.sourceBuffers_[e].buffered}catch(t){return e in this.sourceBuffers_&&shaka.log.error("failed to get buffered range for "+e,t),null}},shaka.media.MediaSourceEngine.prototype.appendBuffer=function(e,t,r,n,i){var a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){return 1==d.nextAddress?(a=shaka.util.ManifestParserUtils.ContentType,e==a.TEXT?d.yield(c.textEngine_.appendBuffer(t,r,n),0):c.transmuxers_[e]?d.yield(c.transmuxers_[e].transmux(t),10):i&&window.muxjs?(c.textEngine_||c.reinitText("text/vtt"),null==r&&null==n?c.captionParser_.init(t):c.captionParser_.parseFrom(t,(function(e){e.length&&c.textEngine_.storeAndAppendClosedCaptions(e,r,n,c.sourceBuffers_[a.VIDEO].timestampOffset)})),t=c.workAroundBrokenPlatforms_(t,r,e),d.yield(c.enqueueOperation_(e,(function(){return c.append_(e,t)})),0)):(t=c.workAroundBrokenPlatforms_(t,r,e),d.yield(c.enqueueOperation_(e,(function(){return c.append_(e,t)})),0))):(o=d.yieldResult,c.textEngine_||c.reinitText("text/vtt"),o.metadata&&(s=c.sourceBuffers_[e].timestampOffset,c.onMetadata_(o.metadata,s,n)),o.captions&&o.captions.length&&(l=c.sourceBuffers_[a.VIDEO].timestampOffset,c.textEngine_.storeAndAppendClosedCaptions(o.captions,r,n,l)),u=o.data,u=c.workAroundBrokenPlatforms_(u,r,e),d.yield(c.enqueueOperation_(e,(function(){return c.append_(e,u)})),0))}))},shaka.media.MediaSourceEngine.prototype.setSelectedClosedCaptionId=function(e){var t=this.bufferEnd(shaka.util.ManifestParserUtils.ContentType.VIDEO)||0;this.textEngine_.setSelectedClosedCaptionId(e,t)},shaka.media.MediaSourceEngine.prototype.remove=function(e,t,r){var n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return goog.asserts.assert(r<Number.MAX_VALUE,"remove() with MAX_VALUE or Infinity is not IE-compatible!"),n=shaka.util.ManifestParserUtils.ContentType,e==n.TEXT?a.yield(i.textEngine_.remove(t,r),0):a.yield(i.enqueueOperation_(e,(function(){return i.remove_(e,t,r)})),0)}))},shaka.media.MediaSourceEngine.prototype.clear=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return t=shaka.util.ManifestParserUtils.ContentType,e==t.TEXT?r.textEngine_?n.yield(r.textEngine_.remove(0,1/0),0):n.return():n.yield(r.enqueueOperation_(e,(function(){return r.remove_(e,0,r.mediaSource_.duration)})),0)}))},shaka.media.MediaSourceEngine.prototype.resetCaptionParser=function(){this.captionParser_.reset()},shaka.media.MediaSourceEngine.prototype.flush=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return t=shaka.util.ManifestParserUtils.ContentType,e==t.TEXT?n.return():n.yield(r.enqueueOperation_(e,(function(){return r.flush_(e)})),0)}))},shaka.media.MediaSourceEngine.prototype.setStreamProperties=function(e,t,r,n){var i,a=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return i=shaka.util.ManifestParserUtils.ContentType,e==i.TEXT?(a.textEngine_.setTimestampOffset(t),a.textEngine_.setAppendWindow(r,n),o.return()):o.yield(Promise.all([a.enqueueOperation_(e,(function(){return a.abort_(e)})),a.enqueueOperation_(e,(function(){return a.setTimestampOffset_(e,t)})),a.enqueueOperation_(e,(function(){return a.setAppendWindow_(e,r,n)}))]),0)}))},shaka.media.MediaSourceEngine.prototype.endOfStream=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return r.yield(t.enqueueBlockingOperation_((function(){t.ended()||(e?t.mediaSource_.endOfStream(e):t.mediaSource_.endOfStream())})),0)}))},shaka.media.MediaSourceEngine.prototype.setDuration=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return goog.asserts.assert(isNaN(t.mediaSource_.duration)||t.mediaSource_.duration<=e,"duration cannot decrease: "+t.mediaSource_.duration+" -> "+e),r.yield(t.enqueueBlockingOperation_((function(){t.mediaSource_.duration=e})),0)}))},shaka.media.MediaSourceEngine.prototype.getDuration=function(){return this.mediaSource_.duration},shaka.media.MediaSourceEngine.prototype.append_=function(e,t){this.sourceBuffers_[e].appendBuffer(t)},shaka.media.MediaSourceEngine.prototype.remove_=function(e,t,r){r<=t?this.onUpdateEnd_(e):this.sourceBuffers_[e].remove(t,r)},shaka.media.MediaSourceEngine.prototype.abort_=function(e){var t=this.sourceBuffers_[e].appendWindowStart,r=this.sourceBuffers_[e].appendWindowEnd;this.sourceBuffers_[e].abort(),this.sourceBuffers_[e].appendWindowStart=t,this.sourceBuffers_[e].appendWindowEnd=r,this.onUpdateEnd_(e)},shaka.media.MediaSourceEngine.prototype.flush_=function(e){goog.asserts.assert(0==this.video_.buffered.length,"MediaSourceEngine.flush_ should only be used after clearing all data!"),this.video_.currentTime-=.001,this.onUpdateEnd_(e)},shaka.media.MediaSourceEngine.prototype.setTimestampOffset_=function(e,t){0>t&&(t+=.001),this.sourceBuffers_[e].timestampOffset=t,this.onUpdateEnd_(e)},shaka.media.MediaSourceEngine.prototype.setAppendWindow_=function(e,t,r){this.sourceBuffers_[e].appendWindowStart=0,this.sourceBuffers_[e].appendWindowEnd=r,this.sourceBuffers_[e].appendWindowStart=t,this.onUpdateEnd_(e)},shaka.media.MediaSourceEngine.prototype.onError_=function(e){var t=this.queues_[e][0];goog.asserts.assert(t,"Spurious error event!"),goog.asserts.assert(!this.sourceBuffers_[e].updating,"SourceBuffer should not be updating on error!"),t.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_FAILED,this.video_.error?this.video_.error.code:0))},shaka.media.MediaSourceEngine.prototype.onUpdateEnd_=function(e){var t=this.queues_[e][0];goog.asserts.assert(t,"Spurious updateend event!"),t&&(goog.asserts.assert(!this.sourceBuffers_[e].updating,"SourceBuffer should not be updating on updateend!"),t.p.resolve(),this.popFromQueue_(e))},shaka.media.MediaSourceEngine.prototype.enqueueOperation_=function(e,t){this.destroyer_.ensureNotDestroyed();var r={start:t,p:new shaka.util.PublicPromise};return this.queues_[e].push(r),1==this.queues_[e].length&&this.startOperation_(e),r.p},shaka.media.MediaSourceEngine.prototype.enqueueBlockingOperation_=function(e){var t,r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){switch(c.nextAddress){case 1:for(n in u.destroyer_.ensureNotDestroyed(),t=[],r={},u.sourceBuffers_)r.$jscomp$loop$prop$ready$484=new shaka.util.PublicPromise,i={start:function(e){return function(){return e.$jscomp$loop$prop$ready$484.resolve()}}(r),p:r.$jscomp$loop$prop$ready$484},u.queues_[n].push(i),t.push(r.$jscomp$loop$prop$ready$484),1==u.queues_[n].length&&i.start(),r={$jscomp$loop$prop$ready$484:r.$jscomp$loop$prop$ready$484};return c.setCatchFinallyBlocks(2),c.yield(Promise.all(t),4);case 4:c.leaveTryBlock(3);break;case 2:if(a=c.enterCatchBlock(),goog.asserts.assert(u.destroyer_.destroyed(),"Should be destroyed by now"),goog.DEBUG)for(o in u.sourceBuffers_)u.queues_[o].length&&(goog.asserts.assert(1==u.queues_[o].length,"Should be at most one item in queue!"),goog.asserts.assert(t.includes(u.queues_[o][0].p),"The item in queue should be one of our waiters!"),u.queues_[o].shift());throw a;case 3:if(goog.DEBUG)for(s in u.sourceBuffers_)goog.asserts.assert(0==u.sourceBuffers_[s].updating,"SourceBuffers should not be updating after a blocking op!");try{e()}catch(d){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_THREW,d)}finally{for(l in u.sourceBuffers_)u.popFromQueue_(l)}c.jumpToEnd()}}))},shaka.media.MediaSourceEngine.prototype.popFromQueue_=function(e){this.queues_[e].shift(),this.startOperation_(e)},shaka.media.MediaSourceEngine.prototype.startOperation_=function(e){var t=this.queues_[e][0];if(t)try{t.start()}catch(r){"QuotaExceededError"==r.name?t.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.QUOTA_EXCEEDED_ERROR,e)):t.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_THREW,r)),this.popFromQueue_(e)}},shaka.media.MediaSourceEngine.prototype.getTextDisplayer=function(){return goog.asserts.assert(this.textDisplayer_,"TextDisplayer should only be null when this is destroyed"),this.textDisplayer_},shaka.media.MediaSourceEngine.prototype.setTextDisplayer=function(e){var t=this.textDisplayer_;this.textDisplayer_=e,t&&(e.setTextVisibility(t.isTextVisible()),t.destroy()),this.textEngine_&&this.textEngine_.setDisplayer(e)},shaka.media.MediaSourceEngine.prototype.workAroundBrokenPlatforms_=function(e,t,r){var n=this.video_.mediaKeys;return null==t&&n&&shaka.util.Platform.requiresEncryptionInfoInAllInitSegments()&&"mp4"==shaka.util.MimeUtils.getContainerType(this.sourceBufferTypes_[r])&&(shaka.log.debug("Forcing fake encryption information in init segment."),e=shaka.media.ContentWorkarounds.fakeEncryption(e)),e},shaka.media.MediaSourceEngine.createObjectURL=window.URL.createObjectURL,shaka.util.LanguageUtils=function(){},shaka.util.LanguageUtils.areLocaleCompatible=function(e,t){var r=shaka.util.LanguageUtils;return(e=r.normalize(e))==(t=r.normalize(t))},shaka.util.LanguageUtils.areLanguageCompatible=function(e,t){var r=shaka.util.LanguageUtils;e=r.normalize(e),t=r.normalize(t);var n=r.disassembleLocale_(e);return r=r.disassembleLocale_(t),n[0]==r[0]},shaka.util.LanguageUtils.isParentOf=function(e,t){var r=shaka.util.LanguageUtils;e=r.normalize(e),t=r.normalize(t);var n=r.disassembleLocale_(e);return r=r.disassembleLocale_(t),n[0]==r[0]&&1==n.length&&2==r.length},shaka.util.LanguageUtils.isSiblingOf=function(e,t){var r=shaka.util.LanguageUtils;e=r.normalize(e),t=r.normalize(t);var n=r.disassembleLocale_(e);return r=r.disassembleLocale_(t),2==n.length&&2==r.length&&n[0]==r[0]},shaka.util.LanguageUtils.normalize=function(e){var t=shaka.util.LanguageUtils,r=e.split("-");return e=r[0]||"",r=r[1]||"",e=e.toLowerCase(),e=t.isoMap_.get(e)||e,(r=r.toUpperCase())?e+"-"+r:e},shaka.util.LanguageUtils.areSiblings=function(e,t){var r=shaka.util.LanguageUtils,n=r.getBase(e);return r=r.getBase(t),e!=n&&t!=r&&n==r},shaka.util.LanguageUtils.relatedness=function(e,t){var r=shaka.util.LanguageUtils;return e=r.normalize(e),(t=r.normalize(t))==e?4:r.isParentOf(t,e)?3:r.isSiblingOf(t,e)?2:r.isParentOf(e,t)?1:0},shaka.util.LanguageUtils.getBase=function(e){var t=shaka.util.LanguageUtils,r=e.indexOf("-");return e=(e=0<=r?e.substring(0,r):e).toLowerCase(),t.isoMap_.get(e)||e},shaka.util.LanguageUtils.getLocaleForText=function(e){var t=shaka.util.LanguageUtils;return goog.asserts.assert(e.type==shaka.util.ManifestParserUtils.ContentType.TEXT,"Can only get language from text streams"),t.normalize(e.language||"und")},shaka.util.LanguageUtils.getLocaleForVariant=function(e){var t=shaka.util.LanguageUtils;return e.language?t.normalize(e.language):e.audio&&e.audio.language?t.normalize(e.audio.language):e.video&&e.video.language?t.normalize(e.video.language):"und"},shaka.util.LanguageUtils.findClosestLocale=function(e,t){for(var r=shaka.util.LanguageUtils,n=r.normalize(e),i=new Set,a=$jscomp.makeIterator(t),o=a.next();!o.done;o=a.next())i.add(r.normalize(o.value));for(o=(a=$jscomp.makeIterator(i)).next();!o.done;o=a.next())if((o=o.value)==n)return o;for(o=(a=$jscomp.makeIterator(i)).next();!o.done;o=a.next())if(o=o.value,r.isParentOf(o,n))return o;for(o=(a=$jscomp.makeIterator(i)).next();!o.done;o=a.next())if(o=o.value,r.isSiblingOf(o,n))return o;for(o=(i=$jscomp.makeIterator(i)).next();!o.done;o=i.next())if(o=o.value,r.isParentOf(n,o))return o;return null},shaka.util.LanguageUtils.disassembleLocale_=function(e){var t=e.split("-");return goog.asserts.assert(2>=t.length,["Locales should not have more than 2 components. ",e," has too many components."].join()),t},shaka.util.LanguageUtils.isoMap_=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]),shaka.util.StreamUtils=function(){},shaka.util.StreamUtils.chooseCodecsAndFilterManifest=function(e,t){function r(e){var t="";e.video&&(t=n.getCodecBase(e.video.codecs));var r="";return e.audio&&(r=n.getCodecBase(e.audio.codecs)),t+"-"+r}for(var n=shaka.util.MimeUtils,i=shaka.util.StreamUtils.filterVariantsByAudioChannelCount(e.variants,t),a=new shaka.util.MultiMap,o=(i=$jscomp.makeIterator(i)).next();!o.done;o=i.next()){var s=r(o=o.value);a.push(s,o)}var l=null,u=1/0;a.forEach((function(e,t){for(var r=0,n=0,i=$jscomp.makeIterator(t),a=i.next();!a.done;a=i.next())r+=a.value.bandwidth||0,++n;r/=n,shaka.log.debug("codecs",e,"avg bandwidth",r),r<u&&(l=e,u=r)})),goog.asserts.assert(null!=l,"Should have chosen codecs!"),goog.asserts.assert(!isNaN(u),"Bandwidth should be a number!"),e.variants=e.variants.filter((function(e){return r(e)==l||(shaka.log.debug("Dropping Variant (better codec available)",e),!1)}))},shaka.util.StreamUtils.meetsRestrictions=function(e,t,r){var n=function(e,t,r){return e>=t&&e<=r},i=e.video;return!(i&&i.width&&i.height&&(!n(i.width,t.minWidth,Math.min(t.maxWidth,r.width))||!n(i.height,t.minHeight,Math.min(t.maxHeight,r.height))||!n(i.width*i.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!n(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!n(e.bandwidth,t.minBandwidth,t.maxBandwidth))},shaka.util.StreamUtils.applyRestrictions=function(e,t,r){for(var n=!1,i=(e=$jscomp.makeIterator(e)).next();!i.done;i=e.next()){var a=(i=i.value).allowedByApplication;i.allowedByApplication=shaka.util.StreamUtils.meetsRestrictions(i,t,r),a!=i.allowedByApplication&&(n=!0)}return n},shaka.util.StreamUtils.filterManifest=function(e,t,r){var n=shaka.util.StreamUtils;r.variants=r.variants.filter((function(r){if(e&&e.initialized()&&!e.supportsVariant(r))return shaka.log.debug("Dropping variant - not compatible with key system",r),!1;var i=r.audio;return r=r.video,i&&!shaka.media.MediaSourceEngine.isStreamSupported(i)?(shaka.log.debug("Dropping variant - audio not compatible with platform",n.getStreamSummaryString_(i)),!1):r&&!shaka.media.MediaSourceEngine.isStreamSupported(r)?(shaka.log.debug("Dropping variant - video not compatible with platform",n.getStreamSummaryString_(r)),!1):i&&t&&t.audio&&!n.areStreamsCompatible_(i,t.audio)?(shaka.log.debug("Droping variant - not compatible with active audio","active audio",n.getStreamSummaryString_(t.audio),"variant.audio",n.getStreamSummaryString_(i)),!1):!(r&&t&&t.video&&!n.areStreamsCompatible_(r,t.video))||(shaka.log.debug("Droping variant - not compatible with active video","active video",n.getStreamSummaryString_(t.video),"variant.video",n.getStreamSummaryString_(r)),!1)})),r.textStreams=r.textStreams.filter((function(e){var t=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs);return(t=shaka.text.TextEngine.isTypeSupported(t))||shaka.log.debug("Dropping text stream. Is not supported by the platform.",e),t}))},shaka.util.StreamUtils.areStreamsCompatible_=function(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]},shaka.util.StreamUtils.variantToTrack=function(e){var t=e.audio,r=e.video,n=t?t.codecs:null,i=r?r.codecs:null,a=[];i&&a.push(i),n&&a.push(n);var o=[];r&&o.push(r.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),r&&s.push(r.kind),s=s[0]||null;var l=new Set;if(t)for(var u=$jscomp.makeIterator(t.roles),c=u.next();!c.done;c=u.next())l.add(c.value);if(r)for(c=(u=$jscomp.makeIterator(r.roles)).next();!c.done;c=u.next())l.add(c.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:o,codecs:a.join(", "),audioCodec:n,videoCodec:i,primary:e.primary,roles:Array.from(l),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},r&&(e.videoId=r.id,e.originalVideoId=r.originalId,e.width=r.width||null,e.height=r.height||null,e.frameRate=r.frameRate||null,e.pixelAspectRatio=r.pixelAspectRatio||null,e.videoBandwidth=r.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e},shaka.util.StreamUtils.textStreamToTrack=function(e){return{id:e.id,active:!1,type:shaka.util.ManifestParserUtils.ContentType.TEXT,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}},shaka.util.StreamUtils.html5TrackId=function(e){return e.__shaka_id||(e.__shaka_id=shaka.util.StreamUtils.nextTrackId_++),e.__shaka_id},shaka.util.StreamUtils.html5TextTrackToTrack=function(e){var t=shaka.util.MimeUtils.CLOSED_CAPTION_MIMETYPE,r=shaka.util.StreamUtils.html5TrackToGenericShakaTrack_(e);return r.active="disabled"!=e.mode,r.type="text",r.originalTextId=e.id,"captions"==e.kind&&(r.mimeType=t),e.kind&&(r.roles=[e.kind]),r},shaka.util.StreamUtils.html5AudioTrackToTrack=function(e){var t=shaka.util.StreamUtils.html5TrackToGenericShakaTrack_(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind]),t},shaka.util.StreamUtils.html5TrackToGenericShakaTrack_=function(e){return{id:shaka.util.StreamUtils.html5TrackId(e),active:!1,type:"",bandwidth:0,language:shaka.util.LanguageUtils.normalize(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}},shaka.util.StreamUtils.isPlayable=function(e){return e.allowedByApplication&&e.allowedByKeySystem},shaka.util.StreamUtils.getPlayableVariants=function(e){return e.filter((function(e){return shaka.util.StreamUtils.isPlayable(e)}))},shaka.util.StreamUtils.filterVariantsByAudioChannelCount=function(e,t){for(var r=e.filter((function(e){return e.audio&&e.audio.channelsCount})),n=new Map,i=(r=$jscomp.makeIterator(r)).next();!i.done;i=r.next()){var a=(i=i.value).audio.channelsCount;goog.asserts.assert(null!=a,"Must have count after filtering!"),n.has(a)||n.set(a,[]),n.get(a).push(i)}return 0==(r=Array.from(n.keys())).length?e:(i=r.filter((function(e){return e<=t}))).length?n.get(Math.max.apply(Math,$jscomp.arrayFromIterable(i))):n.get(Math.min.apply(Math,$jscomp.arrayFromIterable(r)))},shaka.util.StreamUtils.filterStreamsByLanguageAndRole=function(e,t,r){var n=shaka.util.LanguageUtils,i=e,a=e.filter((function(e){return e.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==o})),t){var s=n.findClosestLocale(n.normalize(t),e.map((function(e){return e.language})));s&&(i=e.filter((function(e){return n.normalize(e.language)==s})))}if(r){if((e=shaka.util.StreamUtils.filterTextStreamsByRole_(i,r)).length)return e;shaka.log.warning("No exact match for the text role could be found.")}else if((e=i.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=i.map((function(e){return e.roles})).reduce(shaka.util.Functional.collapseArrays,[])).length?shaka.util.StreamUtils.filterTextStreamsByRole_(i,e[0]):i},shaka.util.StreamUtils.filterTextStreamsByRole_=function(e,t){return e.filter((function(e){return e.roles.includes(t)}))},shaka.util.StreamUtils.isAudio=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.AUDIO},shaka.util.StreamUtils.isVideo=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.VIDEO},shaka.util.StreamUtils.getVariantStreams=function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t},shaka.util.StreamUtils.getStreamSummaryString_=function(e){return shaka.util.StreamUtils.isAudio(e)?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:shaka.util.StreamUtils.isVideo(e)?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"},shaka.util.StreamUtils.nextTrackId_=0,shaka.abr.SimpleAbrManager=function(){this.switch_=null,this.enabled_=!1,this.bandwidthEstimator_=new shaka.abr.EwmaBandwidthEstimator,this.variants_=[],this.playbackRate_=1,this.startupComplete_=!1,this.config_=this.lastTimeChosenMs_=null},shaka.abr.SimpleAbrManager.prototype.stop=function(){this.switch_=null,this.enabled_=!1,this.variants_=[],this.playbackRate_=1,this.lastTimeChosenMs_=null},shaka.abr.SimpleAbrManager.prototype.init=function(e){this.switch_=e},shaka.abr.SimpleAbrManager.prototype.chooseVariant=function(){var e=shaka.abr.SimpleAbrManager,t=e.filterAndSortVariants_(this.config_.restrictions,this.variants_),r=this.bandwidthEstimator_.getBandwidthEstimate(this.config_.defaultBandwidthEstimate);this.variants_.length&&!t.length&&(shaka.log.warning("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),t=[(t=e.filterAndSortVariants_(null,this.variants_))[0]]),e=t[0]||null;for(var n=(t=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t))).next();!n.done;n=t.next()){var i=n.value;n=i.item;var a=i.next,o=isNaN(this.playbackRate_)?1:Math.abs(this.playbackRate_),s=(i=o*n.bandwidth)/this.config_.bandwidthDowngradeTarget;a=o*(a||{bandwidth:1/0}).bandwidth/this.config_.bandwidthUpgradeTarget,shaka.log.v2("Bandwidth ranges:",(i/1e6).toFixed(3),(s/1e6).toFixed(3),(a/1e6).toFixed(3)),r>=s&&r<=a&&(e=n)}return this.lastTimeChosenMs_=Date.now(),e},shaka.abr.SimpleAbrManager.prototype.enable=function(){this.enabled_=!0},shaka.abr.SimpleAbrManager.prototype.disable=function(){this.enabled_=!1},shaka.abr.SimpleAbrManager.prototype.segmentDownloaded=function(e,t){shaka.log.v2("Segment downloaded:","deltaTimeMs="+e,"numBytes="+t,"lastTimeChosenMs="+this.lastTimeChosenMs_,"enabled="+this.enabled_),goog.asserts.assert(0<=e,"expected a non-negative duration"),this.bandwidthEstimator_.sample(e,t),null!=this.lastTimeChosenMs_&&this.enabled_&&this.suggestStreams_()},shaka.abr.SimpleAbrManager.prototype.getBandwidthEstimate=function(){return this.bandwidthEstimator_.getBandwidthEstimate(this.config_.defaultBandwidthEstimate)},shaka.abr.SimpleAbrManager.prototype.setVariants=function(e){this.variants_=e},shaka.abr.SimpleAbrManager.prototype.playbackRateChanged=function(e){this.playbackRate_=e},shaka.abr.SimpleAbrManager.prototype.configure=function(e){this.config_=e},shaka.abr.SimpleAbrManager.prototype.suggestStreams_=function(){if(shaka.log.v2("Suggesting Streams..."),goog.asserts.assert(null!=this.lastTimeChosenMs_,"lastTimeChosenMs_ should not be null"),this.startupComplete_){if(Date.now()-this.lastTimeChosenMs_<1e3*this.config_.switchInterval)return void shaka.log.v2("Still within switch interval...")}else{if(!this.bandwidthEstimator_.hasGoodEstimate())return void shaka.log.v2("Still waiting for a good estimate...");this.startupComplete_=!0}var e=this.chooseVariant(),t=this.bandwidthEstimator_.getBandwidthEstimate(this.config_.defaultBandwidthEstimate);t=Math.round(t/1e3),e&&(shaka.log.debug("Calling switch_(), bandwidth="+t+" kbps"),this.switch_(e))},shaka.abr.SimpleAbrManager.filterAndSortVariants_=function(e,t){return e&&(t=t.filter((function(t){return goog.asserts.assert(e,"Restrictions should exist!"),shaka.util.StreamUtils.meetsRestrictions(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))},goog.exportSymbol("shaka.abr.SimpleAbrManager",shaka.abr.SimpleAbrManager),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"configure",shaka.abr.SimpleAbrManager.prototype.configure),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"playbackRateChanged",shaka.abr.SimpleAbrManager.prototype.playbackRateChanged),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"setVariants",shaka.abr.SimpleAbrManager.prototype.setVariants),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"getBandwidthEstimate",shaka.abr.SimpleAbrManager.prototype.getBandwidthEstimate),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"segmentDownloaded",shaka.abr.SimpleAbrManager.prototype.segmentDownloaded),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"disable",shaka.abr.SimpleAbrManager.prototype.disable),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"enable",shaka.abr.SimpleAbrManager.prototype.enable),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"chooseVariant",shaka.abr.SimpleAbrManager.prototype.chooseVariant),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"init",shaka.abr.SimpleAbrManager.prototype.init),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"stop",shaka.abr.SimpleAbrManager.prototype.stop),shaka.media.AdaptationSet=function(e,t){this.root_=e,this.variants_=new Set([e]),t=t||[];for(var r=$jscomp.makeIterator(t),n=r.next();!n.done;n=r.next())this.add(n.value)},shaka.media.AdaptationSet.prototype.add=function(e){return this.canInclude(e)?(this.variants_.add(e),!0):(shaka.log.warning("Rejecting variant - not compatible with root."),!1)},shaka.media.AdaptationSet.prototype.canInclude=function(e){return shaka.media.AdaptationSet.areAdaptable(this.root_,e)},shaka.media.AdaptationSet.areAdaptable=function(e,t){var r=shaka.media.AdaptationSet;return!!e.audio==!!t.audio&&!!e.video==!!t.video&&e.language==t.language&&(goog.asserts.assert(!!e.audio==!!t.audio,"Both should either have audio or not have audio."),!(e.audio&&t.audio&&!r.areAudiosCompatible_(e.audio,t.audio))&&(goog.asserts.assert(!!e.video==!!t.video,"Both should either have video or not have video."),!(e.video&&t.video&&!r.areVideosCompatible_(e.video,t.video))))},shaka.media.AdaptationSet.prototype.values=function(){return this.variants_.values()},shaka.media.AdaptationSet.areAudiosCompatible_=function(e,t){var r=shaka.media.AdaptationSet;return!(e.channelsCount!=t.channelsCount||!r.canTransitionBetween_(e,t)||!r.areRolesEqual_(e.roles,t.roles))},shaka.media.AdaptationSet.areVideosCompatible_=function(e,t){var r=shaka.media.AdaptationSet;return!(!r.canTransitionBetween_(e,t)||!r.areRolesEqual_(e.roles,t.roles))},shaka.media.AdaptationSet.canTransitionBetween_=function(e,t){if(e.mimeType!=t.mimeType)return!1;var r=shaka.util.MimeUtils.splitCodecs(e.codecs).map((function(e){return shaka.util.MimeUtils.getCodecBase(e)})),n=shaka.util.MimeUtils.splitCodecs(t.codecs).map((function(e){return shaka.util.MimeUtils.getCodecBase(e)}));if(r.length!=n.length)return!1;r.sort(),n.sort();for(var i=$jscomp.makeIterator(shaka.util.Iterables.range(r.length)),a=i.next();!a.done;a=i.next())if(r[a=a.value]!=n[a])return!1;return!0},shaka.media.AdaptationSet.areRolesEqual_=function(e,t){var r=new Set(e),n=new Set(t);if(r.delete("main"),n.delete("main"),r.size!=n.size)return!1;for(var i=(r=$jscomp.makeIterator(r)).next();!i.done;i=r.next())if(!n.has(i.value))return!1;return!0},shaka.media.AdaptationSetCriteria=function(){},shaka.media.AdaptationSetCriteria.prototype.create=function(e){},shaka.media.ExampleBasedCriteria=function(e){this.example_=e,this.fallback_=new shaka.media.PreferenceBasedCriteria(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")},shaka.media.ExampleBasedCriteria.prototype.create=function(e){var t=this,r=e.filter((function(e){return shaka.media.AdaptationSet.areAdaptable(t.example_,e)}));return r.length?new shaka.media.AdaptationSet(r[0],r):this.fallback_.create(e)},shaka.media.PreferenceBasedCriteria=function(e,t,r,n){this.language_=e,this.role_=t,this.channelCount_=r,this.label_=void 0===n?"":n},shaka.media.PreferenceBasedCriteria.prototype.create=function(e){var t=shaka.media.PreferenceBasedCriteria,r=shaka.util.StreamUtils,n=[];n=t.filterByLanguage_(e,this.language_);var i=e.filter((function(e){return e.primary}));for(n=n.length?n:i.length?i:e,(e=t.filterVariantsByRole_(n,this.role_)).length?n=e:shaka.log.warning("No exact match for variant role could be found."),this.channelCount_&&((r=r.filterVariantsByAudioChannelCount(n,this.channelCount_)).length?n=r:shaka.log.warning("No exact match for the channel count could be found.")),this.label_&&((t=t.filterVariantsByLabel_(n,this.label_)).length?n=t:shaka.log.warning("No exact match for variant label could be found.")),t=new shaka.media.AdaptationSet(n[0]),r=(n=$jscomp.makeIterator(n)).next();!r.done;r=n.next())r=r.value,t.canInclude(r)&&t.add(r);return t},shaka.media.PreferenceBasedCriteria.filterByLanguage_=function(e,t){var r=shaka.util.LanguageUtils,n=r.normalize(t),i=r.findClosestLocale(n,e.map((function(e){return r.getLocaleForVariant(e)})));return i?e.filter((function(e){return i==r.getLocaleForVariant(e)})):[]},shaka.media.PreferenceBasedCriteria.filterVariantsByRole_=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))},shaka.media.PreferenceBasedCriteria.filterVariantsByLabel_=function(e,t){return e.filter((function(e){return!!e.audio&&(e=e.audio.label.toLowerCase())==t.toLowerCase()}))},shaka.media.BufferingObserver=function(e,t){var r=shaka.media.BufferingObserver.State;this.previousState_=r.SATISFIED,this.thresholds_=(new Map).set(r.SATISFIED,t).set(r.STARVING,e)},shaka.media.BufferingObserver.prototype.setThresholds=function(e,t){var r=shaka.media.BufferingObserver.State;this.thresholds_.set(r.SATISFIED,t).set(r.STARVING,e)},shaka.media.BufferingObserver.prototype.update=function(e,t){var r=shaka.media.BufferingObserver.State,n=this.thresholds_.get(this.previousState_),i=this.previousState_;return this.previousState_=r=t||e>=n?r.SATISFIED:r.STARVING,i!=r},shaka.media.BufferingObserver.prototype.setState=function(e){this.previousState_=e},shaka.media.BufferingObserver.prototype.getState=function(){return this.previousState_},shaka.media.BufferingObserver.State={STARVING:0,SATISFIED:1},shaka.media.ManifestParser=function(){},shaka.media.ManifestParser.registerParserByExtension=function(e,t){shaka.media.ManifestParser.parsersByExtension[e]=t},shaka.media.ManifestParser.registerParserByMime=function(e,t){shaka.media.ManifestParser.parsersByMime[e]=t},shaka.media.ManifestParser.unregisterParserByMime=function(e){delete shaka.media.ManifestParser.parsersByMime[e]},shaka.media.ManifestParser.probeSupport=function(){var e=shaka.media.ManifestParser,t={};if(shaka.util.Platform.supportsMediaSource()){for(var r in e.parsersByMime)t[r]=!0;for(var n in e.parsersByExtension)t[n]=!0}r={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var i=(n=$jscomp.makeIterator(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!i.done;i=n.next())i=i.value,shaka.util.Platform.supportsMediaSource()?t[i]=!!e.parsersByMime[i]:t[i]=shaka.util.Platform.supportsMediaType(i);for(var a in r)shaka.util.Platform.supportsMediaSource()?t[a]=!!e.parsersByExtension[a]:t[a]=shaka.util.Platform.supportsMediaType(r[a]);return t},shaka.media.ManifestParser.getFactory=function(e,t,r,n){var i,a,o,s,l;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){if(1==u.nextAddress){if(i=shaka.media.ManifestParser,n){if(a=i.parsersByMime[n.toLowerCase()])return u.return(a);shaka.log.warning("Could not determine manifest type using MIME type ",n)}if(o=i.getExtension(e)){if(s=i.parsersByExtension[o])return u.return(s);shaka.log.warning("Could not determine manifest type for extension ",o)}else shaka.log.warning("Could not find extension for ",e);return n?u.jumpTo(2):u.yield(i.getMimeType(e,t,r),3)}if(2!=u.nextAddress&&(n=u.yieldResult)){if(l=shaka.media.ManifestParser.parsersByMime[n])return u.return(l);shaka.log.warning("Could not determine manifest type using MIME type",n)}throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.UNABLE_TO_GUESS_MANIFEST_TYPE,e)}))},shaka.media.ManifestParser.getMimeType=function(e,t,r){var n,i,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(n=shaka.net.NetworkingEngine.RequestType.MANIFEST,(i=shaka.net.NetworkingEngine.makeRequest([e],r)).method="HEAD",s.yield(t.request(n,i).promise,2)):(a=s.yieldResult,o=a.headers["content-type"],s.return(o?o.toLowerCase().split(";").shift():""))}))},shaka.media.ManifestParser.getExtension=function(e){return 1==(e=new goog.Uri(e).getPath().split("/").pop().split(".")).length?"":e.pop().toLowerCase()},shaka.media.ManifestParser.isSupported=function(e,t){return!!shaka.util.Platform.supportsMediaSource()&&(t in shaka.media.ManifestParser.parsersByMime||shaka.media.ManifestParser.getExtension(e)in shaka.media.ManifestParser.parsersByExtension)},goog.exportSymbol("shaka.media.ManifestParser",shaka.media.ManifestParser),goog.exportProperty(shaka.media.ManifestParser,"unregisterParserByMime",shaka.media.ManifestParser.unregisterParserByMime),goog.exportProperty(shaka.media.ManifestParser,"registerParserByMime",shaka.media.ManifestParser.registerParserByMime),goog.exportProperty(shaka.media.ManifestParser,"registerParserByExtension",shaka.media.ManifestParser.registerParserByExtension),shaka.media.ManifestParser.parsersByMime={},shaka.media.ManifestParser.parsersByExtension={},shaka.media.InitSegmentReference=function(e,t,r){this.getUris=e,this.startByte=t,this.endByte=r},shaka.media.InitSegmentReference.prototype.getStartByte=function(){return this.startByte},shaka.media.InitSegmentReference.prototype.getEndByte=function(){return this.endByte},shaka.media.InitSegmentReference.prototype.getSize=function(){return this.endByte?this.endByte-this.startByte:null},shaka.media.InitSegmentReference.equal=function(e,t){var r=shaka.util.ArrayUtils;return e&&t?e.getStartByte()==t.getStartByte()&&e.getEndByte()==t.getEndByte()&&r.equal(e.getUris(),t.getUris()):e==t},goog.exportSymbol("shaka.media.InitSegmentReference",shaka.media.InitSegmentReference),goog.exportProperty(shaka.media.InitSegmentReference.prototype,"getEndByte",shaka.media.InitSegmentReference.prototype.getEndByte),goog.exportProperty(shaka.media.InitSegmentReference.prototype,"getStartByte",shaka.media.InitSegmentReference.prototype.getStartByte),shaka.media.SegmentReference=function(e,t,r,n,i,a,o,s,l){goog.asserts.assert(e<t,"startTime must be less than endTime"),goog.asserts.assert(null==i||n<i,"startByte must be < endByte"),this.startTime=e,this.endTime=t,this.getUris=r,this.startByte=n,this.endByte=i,this.initSegmentReference=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=l},shaka.media.SegmentReference.prototype.getStartTime=function(){return this.startTime},shaka.media.SegmentReference.prototype.getEndTime=function(){return this.endTime},shaka.media.SegmentReference.prototype.getStartByte=function(){return this.startByte},shaka.media.SegmentReference.prototype.getEndByte=function(){return this.endByte},shaka.media.SegmentReference.prototype.getSize=function(){return this.endByte?this.endByte-this.startByte:null},goog.exportSymbol("shaka.media.SegmentReference",shaka.media.SegmentReference),goog.exportProperty(shaka.media.SegmentReference.prototype,"getEndByte",shaka.media.SegmentReference.prototype.getEndByte),goog.exportProperty(shaka.media.SegmentReference.prototype,"getStartByte",shaka.media.SegmentReference.prototype.getStartByte),goog.exportProperty(shaka.media.SegmentReference.prototype,"getEndTime",shaka.media.SegmentReference.prototype.getEndTime),goog.exportProperty(shaka.media.SegmentReference.prototype,"getStartTime",shaka.media.SegmentReference.prototype.getStartTime),shaka.media.PresentationTimeline=function(e,t,r){this.presentationStartTime_=e,this.presentationDelay_=t,this.segmentAvailabilityDuration_=this.duration_=1/0,this.maxSegmentDuration_=1,this.maxSegmentEndTime_=this.minSegmentStartTime_=null,this.clockOffset_=0,this.static_=!0,this.userSeekStart_=0,this.autoCorrectDrift_=void 0===r||r},shaka.media.PresentationTimeline.prototype.getDuration=function(){return this.duration_},shaka.media.PresentationTimeline.prototype.getMaxSegmentDuration=function(){return this.maxSegmentDuration_},shaka.media.PresentationTimeline.prototype.setDuration=function(e){goog.asserts.assert(0<e,"duration must be > 0"),this.duration_=e},shaka.media.PresentationTimeline.prototype.getPresentationStartTime=function(){return this.presentationStartTime_},shaka.media.PresentationTimeline.prototype.setClockOffset=function(e){this.clockOffset_=e},shaka.media.PresentationTimeline.prototype.setStatic=function(e){this.static_=e},shaka.media.PresentationTimeline.prototype.setSegmentAvailabilityDuration=function(e){goog.asserts.assert(0<=e,"segmentAvailabilityDuration must be >= 0"),this.segmentAvailabilityDuration_=e},shaka.media.PresentationTimeline.prototype.setDelay=function(e){goog.asserts.assert(0<=e,"delay must be >= 0"),this.presentationDelay_=e},shaka.media.PresentationTimeline.prototype.getDelay=function(){return this.presentationDelay_},shaka.media.PresentationTimeline.prototype.notifySegments=function(e){if(0!=e.length){var t=e[e.length-1].endTime;this.notifyMinSegmentStartTime(e[0].startTime),this.maxSegmentDuration_=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.maxSegmentDuration_),this.maxSegmentEndTime_=Math.max(this.maxSegmentEndTime_,t),null!=this.presentationStartTime_&&this.autoCorrectDrift_&&(this.presentationStartTime_=(Date.now()+this.clockOffset_)/1e3-this.maxSegmentEndTime_-this.maxSegmentDuration_),shaka.log.v1("notifySegments:","maxSegmentDuration="+this.maxSegmentDuration_)}},shaka.media.PresentationTimeline.prototype.notifyMinSegmentStartTime=function(e){this.minSegmentStartTime_=null==this.minSegmentStartTime_?e:Math.min(this.minSegmentStartTime_,e)},shaka.media.PresentationTimeline.prototype.notifyMaxSegmentDuration=function(e){this.maxSegmentDuration_=Math.max(this.maxSegmentDuration_,e),shaka.log.v1("notifyNewSegmentDuration:","maxSegmentDuration="+this.maxSegmentDuration_)},shaka.media.PresentationTimeline.prototype.offset=function(e){null!=this.minSegmentStartTime_&&(this.minSegmentStartTime_+=e),null!=this.maxSegmentEndTime_&&(this.maxSegmentEndTime_+=e)},shaka.media.PresentationTimeline.prototype.isLive=function(){return 1/0==this.duration_&&!this.static_},shaka.media.PresentationTimeline.prototype.isInProgress=function(){return 1/0!=this.duration_&&!this.static_},shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityStart=function(){goog.asserts.assert(0<=this.segmentAvailabilityDuration_,"The availability duration should be positive");var e=this.getSegmentAvailabilityEnd()-this.segmentAvailabilityDuration_;return Math.max(this.userSeekStart_,e)},shaka.media.PresentationTimeline.prototype.setUserSeekStart=function(e){this.userSeekStart_=e},shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityEnd=function(){return this.isLive()||this.isInProgress()?Math.min(this.getLiveEdge_(),this.duration_):this.duration_},shaka.media.PresentationTimeline.prototype.getSafeSeekRangeStart=function(e){var t=Math.max(this.minSegmentStartTime_,this.userSeekStart_);if(1/0==this.segmentAvailabilityDuration_)return t;var r=this.getSegmentAvailabilityEnd()-this.segmentAvailabilityDuration_;return e=Math.min(r+e,this.getSeekRangeEnd()),Math.max(t,e)},shaka.media.PresentationTimeline.prototype.getSeekRangeStart=function(){return this.getSafeSeekRangeStart(0)},shaka.media.PresentationTimeline.prototype.getSeekRangeEnd=function(){var e=this.isLive()||this.isInProgress()?this.presentationDelay_:0;return Math.max(0,this.getSegmentAvailabilityEnd()-e)},shaka.media.PresentationTimeline.prototype.usingPresentationStartTime=function(){return!(null==this.presentationStartTime_||null!=this.maxSegmentEndTime_&&this.autoCorrectDrift_)},shaka.media.PresentationTimeline.prototype.getLiveEdge_=function(){goog.asserts.assert(null!=this.presentationStartTime_,"Cannot compute timeline live edge without start time");var e=(Date.now()+this.clockOffset_)/1e3;return Math.max(0,e-this.maxSegmentDuration_-this.presentationStartTime_)},shaka.media.PresentationTimeline.prototype.assertIsValid=function(){goog.DEBUG&&(this.isLive()?goog.asserts.assert(null!=this.presentationStartTime_,"Detected as live stream, but does not match our model of live!"):this.isInProgress()?goog.asserts.assert(null!=this.presentationStartTime_&&1/0==this.segmentAvailabilityDuration_,"Detected as IPR stream, but does not match our model of IPR!"):goog.asserts.assert(1/0==this.segmentAvailabilityDuration_&&1/0!=this.duration_&&this.static_,"Detected as VOD stream, but does not match our model of VOD!"))},goog.exportSymbol("shaka.media.PresentationTimeline",shaka.media.PresentationTimeline),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"usingPresentationStartTime",shaka.media.PresentationTimeline.prototype.usingPresentationStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSeekRangeEnd",shaka.media.PresentationTimeline.prototype.getSeekRangeEnd),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSeekRangeStart",shaka.media.PresentationTimeline.prototype.getSeekRangeStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSafeSeekRangeStart",shaka.media.PresentationTimeline.prototype.getSafeSeekRangeStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSegmentAvailabilityEnd",shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityEnd),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setUserSeekStart",shaka.media.PresentationTimeline.prototype.setUserSeekStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSegmentAvailabilityStart",shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"isInProgress",shaka.media.PresentationTimeline.prototype.isInProgress),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"isLive",shaka.media.PresentationTimeline.prototype.isLive),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"offset",shaka.media.PresentationTimeline.prototype.offset),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifyMaxSegmentDuration",shaka.media.PresentationTimeline.prototype.notifyMaxSegmentDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifyMinSegmentStartTime",shaka.media.PresentationTimeline.prototype.notifyMinSegmentStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifySegments",shaka.media.PresentationTimeline.prototype.notifySegments),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getDelay",shaka.media.PresentationTimeline.prototype.getDelay),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setDelay",shaka.media.PresentationTimeline.prototype.setDelay),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setSegmentAvailabilityDuration",shaka.media.PresentationTimeline.prototype.setSegmentAvailabilityDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setStatic",shaka.media.PresentationTimeline.prototype.setStatic),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setClockOffset",shaka.media.PresentationTimeline.prototype.setClockOffset),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getPresentationStartTime",shaka.media.PresentationTimeline.prototype.getPresentationStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setDuration",shaka.media.PresentationTimeline.prototype.setDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getMaxSegmentDuration",shaka.media.PresentationTimeline.prototype.getMaxSegmentDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getDuration",shaka.media.PresentationTimeline.prototype.getDuration),shaka.media.StallDetector=function(e,t){this.implementation_=e,this.wasMakingProgress_=e.shouldBeMakingProgress(),this.value_=e.getPresentationSeconds(),this.lastUpdateSeconds_=e.getWallSeconds(),this.didJump_=!1,this.stallThresholdSeconds_=t,this.onStall_=function(){}},shaka.media.StallDetector.prototype.release=function(){this.implementation_=null,this.onStall_=function(){}},shaka.media.StallDetector.prototype.onStall=function(e){this.onStall_=e},shaka.media.StallDetector.prototype.poll=function(){var e=this.implementation_,t=e.shouldBeMakingProgress(),r=e.getPresentationSeconds(),n=e.getWallSeconds();return this.value_==r&&this.wasMakingProgress_==t||(this.lastUpdateSeconds_=n,this.value_=r,this.wasMakingProgress_=t,this.didJump_=!1),(t=(r=n-this.lastUpdateSeconds_)>=this.stallThresholdSeconds_&&t&&!this.didJump_)&&(this.onStall_(this.value_,r),this.didJump_=!0,this.value_=e.getPresentationSeconds()),t},shaka.media.StallDetector.Implementation=function(){},shaka.media.StallDetector.Implementation.prototype.shouldBeMakingProgress=function(){},shaka.media.StallDetector.Implementation.prototype.getPresentationSeconds=function(){},shaka.media.StallDetector.Implementation.prototype.getWallSeconds=function(){},shaka.media.StallDetector.MediaElementImplementation=function(e){this.mediaElement_=e},shaka.media.StallDetector.MediaElementImplementation.prototype.shouldBeMakingProgress=function(){return!this.mediaElement_.paused&&0!=this.mediaElement_.playbackRate&&0!=this.mediaElement_.buffered.length&&shaka.media.StallDetector.MediaElementImplementation.hasContentFor_(this.mediaElement_.buffered,this.mediaElement_.currentTime)},shaka.media.StallDetector.MediaElementImplementation.prototype.getPresentationSeconds=function(){return this.mediaElement_.currentTime},shaka.media.StallDetector.MediaElementImplementation.prototype.getWallSeconds=function(){return Date.now()/1e3},shaka.media.StallDetector.MediaElementImplementation.hasContentFor_=function(e,t){for(var r=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(e)),n=r.next();!n.done;n=r.next())if(!(t<(n=n.value).start-.1||t>n.end-.5))return!0;return!1},shaka.media.GapJumpingController=function(e,t,r,n,i){var a=this;this.video_=e,this.timeline_=t,this.config_=r,this.onEvent_=i,this.eventManager_=new shaka.util.EventManager,this.seekingEventReceived_=!1,this.prevReadyState_=e.readyState,this.didFireLargeGap_=!1,this.stallDetector_=n,this.hadSegmentAppended_=!1,this.eventManager_.listen(e,"waiting",(function(){return a.onPollGapJump_()})),this.gapJumpTimer_=new shaka.util.Timer((function(){a.onPollGapJump_()})).tickEvery(.25)},shaka.media.GapJumpingController.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),null!=this.gapJumpTimer_&&(this.gapJumpTimer_.stop(),this.gapJumpTimer_=null),this.stallDetector_&&(this.stallDetector_.release(),this.stallDetector_=null),this.video_=this.timeline_=this.onEvent_=null},shaka.media.GapJumpingController.prototype.onSegmentAppended=function(){this.hadSegmentAppended_=!0,this.onPollGapJump_()},shaka.media.GapJumpingController.prototype.onSeeking=function(){this.seekingEventReceived_=!0,this.didFireLargeGap_=this.hadSegmentAppended_=!1},shaka.media.GapJumpingController.prototype.onPollGapJump_=function(){if(0!=this.video_.readyState){if(this.video_.seeking){if(!this.seekingEventReceived_)return}else this.seekingEventReceived_=!1;if(!this.video_.paused&&(this.video_.readyState!=this.prevReadyState_&&(this.didFireLargeGap_=!1,this.prevReadyState_=this.video_.readyState),!this.stallDetector_||!this.stallDetector_.poll())){var e=this.config_.smallGapLimit,t=this.video_.currentTime,r=this.video_.buffered,n=shaka.media.TimeRangesUtils.getGapIndex(r,t);if(null!=n&&(0!=n||this.hadSegmentAppended_)){var i=r.start(n),a=this.timeline_.getSeekRangeEnd();if(!(i>=a)){e=(a=i-t)<=e;var o=!1;if(!(a<shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE)){if(!e&&!this.didFireLargeGap_){this.didFireLargeGap_=!0;var s=new shaka.util.FakeEvent("largegap",{currentTime:t,gapSize:a});s.cancelable=!0,this.onEvent_(s),this.config_.jumpLargeGaps&&!s.defaultPrevented?o=!0:shaka.log.info("Ignoring large gap at",t,"size",a)}(e||o)&&(0==n?shaka.log.info("Jumping forward",a,"seconds because of gap before start time of",i):shaka.log.info("Jumping forward",a,"seconds because of gap starting at",r.end(n-1),"and ending at",i),this.video_.currentTime=i)}}}}}},shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE=.001,shaka.util.MediaReadyState=function(){},shaka.util.MediaReadyState.waitForReadyState=function(e,t,r,n){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?n():(t=shaka.util.MediaReadyState.READY_STATES_TO_EVENT_NAMES_.value().get(t),r.listenOnce(e,t,n))},shaka.util.MediaReadyState.READY_STATES_TO_EVENT_NAMES_=new shaka.util.Lazy((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])})),shaka.media.VideoWrapper=function(e,t,r){var n=this;this.video_=e,this.onSeek_=t,this.startTime_=r,this.started_=!1,this.eventManager_=new shaka.util.EventManager,this.mover_=new shaka.media.VideoWrapper.PlayheadMover(e,10),shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){n.setStartTime_(n.startTime_)}))},shaka.media.VideoWrapper.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),null!=this.mover_&&(this.mover_.release(),this.mover_=null),this.onSeek_=function(){},this.video_=null},shaka.media.VideoWrapper.prototype.getTime=function(){return this.started_?this.video_.currentTime:this.startTime_},shaka.media.VideoWrapper.prototype.setTime=function(e){var t=this;0<this.video_.readyState?this.mover_.moveTo(e):shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){t.setStartTime_(t.startTime_)}))},shaka.media.VideoWrapper.prototype.setStartTime_=function(e){var t=this;.001>Math.abs(this.video_.currentTime-e)?this.startListeningToSeeks_():(this.eventManager_.listenOnce(this.video_,"seeking",(function(){t.startListeningToSeeks_()})),this.mover_.moveTo(0==this.video_.currentTime?e:this.video_.currentTime))},shaka.media.VideoWrapper.prototype.startListeningToSeeks_=function(){var e=this;goog.asserts.assert(0<this.video_.readyState,"The media element should be ready before we listen for seeking."),this.started_=!0,this.eventManager_.listen(this.video_,"seeking",(function(){return e.onSeek_()}))},shaka.media.VideoWrapper.PlayheadMover=function(e,t){var r=this;this.mediaElement_=e,this.maxAttempts_=t,this.targetTime_=this.originTime_=this.remainingAttempts_=0,this.timer_=new shaka.util.Timer((function(){return r.onTick_()}))},shaka.media.VideoWrapper.PlayheadMover.prototype.release=function(){this.timer_&&(this.timer_.stop(),this.timer_=null),this.mediaElement_=null},shaka.media.VideoWrapper.PlayheadMover.prototype.moveTo=function(e){this.originTime_=this.mediaElement_.currentTime,this.targetTime_=e,this.remainingAttempts_=this.maxAttempts_,this.mediaElement_.currentTime=e,this.timer_.tickEvery(.1)},shaka.media.VideoWrapper.PlayheadMover.prototype.onTick_=function(){0>=this.remainingAttempts_?(shaka.log.warning(["Failed to move playhead from",this.originTime_,"to",this.targetTime_].join(" ")),this.timer_.stop()):this.mediaElement_.currentTime!=this.originTime_?this.timer_.stop():(this.mediaElement_.currentTime=this.targetTime_,this.remainingAttempts_--)},shaka.media.Playhead=function(){},shaka.media.Playhead.prototype.setStartTime=function(e){},shaka.media.Playhead.prototype.getTime=function(){},shaka.media.Playhead.prototype.notifyOfBufferingChange=function(){},shaka.media.SrcEqualsPlayhead=function(e){var t=this;this.mediaElement_=e,this.started_=!1,this.startTime_=null,this.eventManager_=new shaka.util.EventManager;shaka.util.MediaReadyState.waitForReadyState(this.mediaElement_,HTMLMediaElement.HAVE_CURRENT_DATA,this.eventManager_,(function(){null==t.startTime_?t.started_=!0:(t.eventManager_.listenOnce(t.mediaElement_,"seeking",(function(){t.started_=!0})),t.mediaElement_.currentTime=Math.max(0,t.mediaElement_.currentTime+t.startTime_))}))},shaka.media.SrcEqualsPlayhead.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),this.mediaElement_=null},shaka.media.SrcEqualsPlayhead.prototype.setStartTime=function(e){this.startTime_=this.started_?this.startTime_:e},shaka.media.SrcEqualsPlayhead.prototype.getTime=function(){return(this.started_?this.mediaElement_.currentTime:this.startTime_)||0},shaka.media.SrcEqualsPlayhead.prototype.notifyOfBufferingChange=function(){},shaka.media.MediaSourcePlayhead=function(e,t,r,n,i,a){var o=this;this.minSeekRange_=3,this.mediaElement_=e,this.timeline_=t.presentationTimeline,this.minBufferTime_=t.minBufferTime||0,this.config_=r,this.onSeek_=i,this.lastCorrectiveSeek_=null,this.gapController_=new shaka.media.GapJumpingController(e,t.presentationTimeline,r,this.createStallDetector_(e,r),a),this.videoWrapper_=new shaka.media.VideoWrapper(e,(function(){return o.onSeeking_()}),this.getStartTime_(n)),this.checkWindowTimer_=new shaka.util.Timer((function(){o.onPollWindow_()})).tickEvery(.25)},shaka.media.MediaSourcePlayhead.prototype.release=function(){this.videoWrapper_&&(this.videoWrapper_.release(),this.videoWrapper_=null),this.gapController_&&(this.gapController_.release(),this.gapController_=null),this.checkWindowTimer_&&(this.checkWindowTimer_.stop(),this.checkWindowTimer_=null),this.mediaElement_=this.videoWrapper_=this.timeline_=this.config_=null,this.onSeek_=function(){}},shaka.media.MediaSourcePlayhead.prototype.setStartTime=function(e){this.videoWrapper_.setTime(e)},shaka.media.MediaSourcePlayhead.prototype.getTime=function(){var e=this.videoWrapper_.getTime();return 0<this.mediaElement_.readyState&&!this.mediaElement_.paused?this.clampTime_(e):e},shaka.media.MediaSourcePlayhead.prototype.getStartTime_=function(e){return null==e?e=1/0>this.timeline_.getDuration()?this.timeline_.getSeekRangeStart():this.timeline_.getSeekRangeEnd():0>e&&(e=this.timeline_.getSeekRangeEnd()+e),this.clampSeekToDuration_(this.clampTime_(e))},shaka.media.MediaSourcePlayhead.prototype.notifyOfBufferingChange=function(){this.gapController_.onSegmentAppended()},shaka.media.MediaSourcePlayhead.prototype.onPollWindow_=function(){if(0!=this.mediaElement_.readyState&&!this.mediaElement_.paused){var e=this.videoWrapper_.getTime(),t=this.timeline_.getSeekRangeStart(),r=this.timeline_.getSeekRangeEnd();r-t<this.minSeekRange_&&(t=r-this.minSeekRange_),e<t&&(t=this.reposition_(e),shaka.log.info("Jumping forward "+(t-e)+" seconds to catch up with the seek range."),this.mediaElement_.currentTime=t)}},shaka.media.MediaSourcePlayhead.prototype.onSeeking_=function(){this.gapController_.onSeeking();var e=this.videoWrapper_.getTime(),t=this.reposition_(e);if(Math.abs(t-e)>shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE){var r=Date.now()/1e3;if(!this.lastCorrectiveSeek_||this.lastCorrectiveSeek_<r-1)return this.lastCorrectiveSeek_=r,void this.videoWrapper_.setTime(t)}shaka.log.v1("Seek to "+e),this.onSeek_()},shaka.media.MediaSourcePlayhead.prototype.clampSeekToDuration_=function(e){var t=this.timeline_.getDuration();return e>=t?(goog.asserts.assert(0<=this.config_.durationBackoff,"Duration backoff must be non-negative!"),t-this.config_.durationBackoff):e},shaka.media.MediaSourcePlayhead.prototype.reposition_=function(e){goog.asserts.assert(this.config_,"Cannot reposition playhead when it has beeen destroyed");var t=Math.max(this.minBufferTime_,this.config_.rebufferingGoal),r=this.config_.safeSeekOffset,n=this.timeline_.getSeekRangeStart(),i=this.timeline_.getSeekRangeEnd(),a=this.timeline_.getDuration();i-n<this.minSeekRange_&&(n=i-this.minSeekRange_);var o=this.timeline_.getSafeSeekRangeStart(t),s=this.timeline_.getSafeSeekRangeStart(r);return t=this.timeline_.getSafeSeekRangeStart(t+r),e>=a?(shaka.log.v1("Playhead past duration."),this.clampSeekToDuration_(e)):e>i?(shaka.log.v1("Playhead past end."),i):e<n?shaka.media.TimeRangesUtils.isBuffered(this.mediaElement_.buffered,s)?(shaka.log.v1("Playhead before start & start is buffered"),s):(shaka.log.v1("Playhead before start & start is unbuffered"),t):e>=o||shaka.media.TimeRangesUtils.isBuffered(this.mediaElement_.buffered,e)?(shaka.log.v1("Playhead in safe region or in buffered region."),e):(shaka.log.v1("Playhead outside safe region & in unbuffered region."),t)},shaka.media.MediaSourcePlayhead.prototype.clampTime_=function(e){var t=this.timeline_.getSeekRangeStart();return e<t||e>(t=this.timeline_.getSeekRangeEnd())?t:e},shaka.media.MediaSourcePlayhead.prototype.createStallDetector_=function(e,t){if(!t.stallEnabled)return null;var r=t.stallThreshold,n=t.stallSkip;return(r=new shaka.media.StallDetector(new shaka.media.StallDetector.MediaElementImplementation(e),r)).onStall((function(t,r){shaka.log.debug("Stall detected at "+t+" for "+r+" seconds."),n?(shaka.log.debug("Seeking forward "+n+" seconds to break stall."),e.currentTime+=n):(shaka.log.debug("Pausing and unpausing to break stall."),e.pause(),e.play())})),r},shaka.media.SegmentIndex=function(e){goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(e),this.references=e,this.timer_=null,this.numEvicted=0,this.immutable_=!1};shaka.media.SegmentIndex.prototype.destroy=function(){return shaka.Deprecate.deprecateFeature(4,"shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},shaka.media.SegmentIndex.prototype.release=function(){this.immutable_||(this.references=[],this.timer_&&this.timer_.stop(),this.timer_=null)},shaka.media.SegmentIndex.prototype.markImmutable=function(){this.immutable_=!0},shaka.media.SegmentIndex.prototype.find=function(e){for(var t=this.references.length-1;0<=t;--t){var r=this.references[t];if(e>=r.startTime&&e<r.endTime)return t+this.numEvicted}return this.references.length&&e<this.references[0].startTime?this.numEvicted:null},shaka.media.SegmentIndex.prototype.get=function(e){return 0==this.references.length||0>(e-=this.numEvicted)||e>=this.references.length?null:this.references[e]},shaka.media.SegmentIndex.prototype.offset=function(e){if(!this.immutable_)for(var t=$jscomp.makeIterator(this.references),r=t.next();!r.done;r=t.next())(r=r.value).startTime+=e,r.endTime+=e,r.timestampOffset+=e},shaka.media.SegmentIndex.prototype.merge=function(e){goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(e),!this.immutable_&&e.length&&(this.references=this.references.filter((function(t){return t.startTime<e[0].startTime})),this.references.push.apply(this.references,$jscomp.arrayFromIterable(e)),goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(this.references))},shaka.media.SegmentIndex.prototype.evict=function(e){if(!this.immutable_){var t=this.references.length;this.references=this.references.filter((function(t){return t.endTime>e})),this.numEvicted+=t-this.references.length}},shaka.media.SegmentIndex.prototype.fit=function(e,t){if(goog.asserts.assert(null!=t,"Content duration must be known for static content!"),goog.asserts.assert(1/0!=t,"Content duration must be finite for static content!"),!this.immutable_){for(;this.references.length&&this.references[this.references.length-1].startTime>=t;)this.references.pop();for(;this.references.length&&this.references[0].endTime<=e;)this.references.shift(),this.numEvicted++;if(0!=this.references.length){var r=this.references[this.references.length-1];this.references[this.references.length-1]=new shaka.media.SegmentReference(r.startTime,t,r.getUris,r.startByte,r.endByte,r.initSegmentReference,r.timestampOffset,r.appendWindowStart,r.appendWindowEnd)}}},shaka.media.SegmentIndex.prototype.updateEvery=function(e,t){var r=this;goog.asserts.assert(!this.timer_,"SegmentIndex timer already started!"),this.immutable_||(this.timer_&&this.timer_.stop(),this.timer_=new shaka.util.Timer((function(){var e=t();e?r.references.push.apply(r.references,$jscomp.arrayFromIterable(e)):(r.timer_.stop(),r.timer_=null)})),this.timer_.tickEvery(e))},shaka.media.SegmentIndex.prototype[Symbol.iterator]=function(){return this.getIteratorForTime(0)},shaka.media.SegmentIndex.prototype.getIteratorForTime=function(e){return new shaka.media.SegmentIterator(this,this.find(e)||0)},shaka.media.SegmentIndex.forSingleSegment=function(e,t,r){return e=new shaka.media.SegmentReference(e,e+t,(function(){return r}),0,null,null,e,e,e+t),new shaka.media.SegmentIndex([e])},goog.exportSymbol("shaka.media.SegmentIndex",shaka.media.SegmentIndex),goog.exportProperty(shaka.media.SegmentIndex,"forSingleSegment",shaka.media.SegmentIndex.forSingleSegment),goog.exportProperty(shaka.media.SegmentIndex.prototype,"getIteratorForTime",shaka.media.SegmentIndex.prototype.getIteratorForTime),goog.exportProperty(shaka.media.SegmentIndex.prototype,"updateEvery",shaka.media.SegmentIndex.prototype.updateEvery),goog.exportProperty(shaka.media.SegmentIndex.prototype,"fit",shaka.media.SegmentIndex.prototype.fit),goog.exportProperty(shaka.media.SegmentIndex.prototype,"evict",shaka.media.SegmentIndex.prototype.evict),goog.exportProperty(shaka.media.SegmentIndex.prototype,"merge",shaka.media.SegmentIndex.prototype.merge),goog.exportProperty(shaka.media.SegmentIndex.prototype,"offset",shaka.media.SegmentIndex.prototype.offset),goog.exportProperty(shaka.media.SegmentIndex.prototype,"get",shaka.media.SegmentIndex.prototype.get),goog.exportProperty(shaka.media.SegmentIndex.prototype,"find",shaka.media.SegmentIndex.prototype.find),goog.exportProperty(shaka.media.SegmentIndex.prototype,"markImmutable",shaka.media.SegmentIndex.prototype.markImmutable),goog.exportProperty(shaka.media.SegmentIndex.prototype,"release",shaka.media.SegmentIndex.prototype.release),goog.exportProperty(shaka.media.SegmentIndex.prototype,"destroy",shaka.media.SegmentIndex.prototype.destroy),goog.DEBUG&&(shaka.media.SegmentIndex.assertCorrectReferences_=function(e){goog.asserts.assert(e.every((function(t,r){if(0==r)return!0;var n=e[r-1];return n.startTime<t.startTime||!(n.startTime>t.startTime)&&n.endTime<=t.endTime})),"SegmentReferences are incorrect")}),shaka.media.SegmentIterator=function(e,t){this.segmentIndex_=e,this.nextPosition_=t},shaka.media.SegmentIterator.prototype.seek=function(e){return this.nextPosition_=this.segmentIndex_.getIteratorForTime(e).nextPosition_,this.next().value},shaka.media.SegmentIterator.prototype.current=function(){return this.segmentIndex_.get(this.nextPosition_-1)},shaka.media.SegmentIterator.prototype.next=function(){var e=this.segmentIndex_.get(this.nextPosition_++);return{value:e,done:!e}},goog.exportSymbol("shaka.media.SegmentIterator",shaka.media.SegmentIterator),goog.exportProperty(shaka.media.SegmentIterator.prototype,"next",shaka.media.SegmentIterator.prototype.next),goog.exportProperty(shaka.media.SegmentIterator.prototype,"current",shaka.media.SegmentIterator.prototype.current),goog.exportProperty(shaka.media.SegmentIterator.prototype,"seek",shaka.media.SegmentIterator.prototype.seek),shaka.media.MetaSegmentIndex=function(){shaka.media.SegmentIndex.call(this,[]),this.indexes_=[]},$jscomp.inherits(shaka.media.MetaSegmentIndex,shaka.media.SegmentIndex),shaka.media.MetaSegmentIndex.prototype.appendSegmentIndex=function(e){this.indexes_.push(e)},shaka.media.MetaSegmentIndex.prototype.clone=function(){var e=new shaka.media.MetaSegmentIndex;return e.indexes_=this.indexes_.slice(),e},shaka.media.MetaSegmentIndex.prototype.release=function(){for(var e=$jscomp.makeIterator(this.indexes_),t=e.next();!t.done;t=e.next())t.value.release();this.indexes_=[]},shaka.media.MetaSegmentIndex.prototype.find=function(e){for(var t=0,r=$jscomp.makeIterator(this.indexes_),n=r.next();!n.done;n=r.next()){var i=(n=n.value).find(e);if(null!=i)return i+t;t+=n.numEvicted+n.references.length}return null},shaka.media.MetaSegmentIndex.prototype.get=function(e){for(var t=0,r=$jscomp.makeIterator(this.indexes_),n=r.next();!n.done;n=r.next()){var i=(n=n.value).get(e-t);if(i)return i;t+=n.numEvicted+n.references.length}return null},shaka.media.MetaSegmentIndex.prototype.offset=function(e){goog.asserts.assert(!1,"offset() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.merge=function(e){goog.asserts.assert(!1,"merge() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.evict=function(e){goog.asserts.assert(!1,"evict() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.fit=function(e,t){goog.asserts.assert(!1,"fit() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.updateEvery=function(e,t){goog.asserts.assert(!1,"updateEvery() should not be used in MetaSegmentIndex!")},goog.exportSymbol("shaka.media.MetaSegmentIndex",shaka.media.MetaSegmentIndex),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"updateEvery",shaka.media.MetaSegmentIndex.prototype.updateEvery),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"fit",shaka.media.MetaSegmentIndex.prototype.fit),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"evict",shaka.media.MetaSegmentIndex.prototype.evict),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"merge",shaka.media.MetaSegmentIndex.prototype.merge),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"offset",shaka.media.MetaSegmentIndex.prototype.offset),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"get",shaka.media.MetaSegmentIndex.prototype.get),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"find",shaka.media.MetaSegmentIndex.prototype.find),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"release",shaka.media.MetaSegmentIndex.prototype.release),shaka.media.PlayRateController=function(e){var t=this;this.harness_=e,this.isBuffering_=!1,this.rate_=this.harness_.getRate(),this.pollRate_=.25,this.timer_=new shaka.util.Timer((function(){t.harness_.movePlayhead(t.rate_*t.pollRate_)}))},shaka.media.PlayRateController.prototype.release=function(){this.timer_&&(this.timer_.stop(),this.timer_=null),this.harness_=null},shaka.media.PlayRateController.prototype.setBuffering=function(e){this.isBuffering_=e,this.apply_()},shaka.media.PlayRateController.prototype.set=function(e){goog.asserts.assert(0!=e,"Should never set rate of 0 explicitly!"),this.rate_=e,this.apply_()},shaka.media.PlayRateController.prototype.getRealRate=function(){return this.rate_},shaka.media.PlayRateController.prototype.apply_=function(){this.timer_.stop();var e=this.calculateCurrentRate_();if(shaka.log.v1("Changing effective playback rate to",e),0<=e)try{return void this.applyRate_(e)}catch(t){}this.timer_.tickEvery(this.pollRate_),this.applyRate_(0)},shaka.media.PlayRateController.prototype.calculateCurrentRate_=function(){return this.isBuffering_?0:this.rate_},shaka.media.PlayRateController.prototype.applyRate_=function(e){var t=this.harness_.getRate();return t!=e&&this.harness_.setRate(e),t!=e},shaka.media.IPlayheadObserver=function(){},shaka.media.IPlayheadObserver.prototype.poll=function(e,t){},shaka.media.PlayheadObserverManager=function(e){var t=this;this.mediaElement_=e,this.observers_=new Set,this.pollingLoop_=new shaka.util.Timer((function(){t.pollAllObservers_(!1)})).tickEvery(.25)},shaka.media.PlayheadObserverManager.prototype.release=function(){this.pollingLoop_.stop();for(var e=$jscomp.makeIterator(this.observers_),t=e.next();!t.done;t=e.next())t.value.release();this.observers_.clear()},shaka.media.PlayheadObserverManager.prototype.manage=function(e){this.observers_.add(e)},shaka.media.PlayheadObserverManager.prototype.notifyOfSeek=function(){this.pollAllObservers_(!0)},shaka.media.PlayheadObserverManager.prototype.pollAllObservers_=function(e){for(var t=$jscomp.makeIterator(this.observers_),r=t.next();!r.done;r=t.next())r.value.poll(this.mediaElement_.currentTime,e)},shaka.media.RegionTimeline=function(e){var t=this;this.onAddRegion_=function(e){},this.regions_=new Set,this.getSeekRange_=e,this.filterTimer_=new shaka.util.Timer((function(){t.filterBySeekRange_()})).tickEvery(shaka.media.RegionTimeline.REGION_FILTER_INTERVAL)},shaka.media.RegionTimeline.prototype.release=function(){this.onAddRegion_=function(e){},this.regions_.clear(),this.filterTimer_.stop()},shaka.media.RegionTimeline.prototype.setListeners=function(e){this.onAddRegion_=e},shaka.media.RegionTimeline.prototype.addRegion=function(e){null==this.findSimilarRegion_(e)&&(this.regions_.add(e),this.onAddRegion_(e))},shaka.media.RegionTimeline.prototype.filterBySeekRange_=function(){for(var e=this.getSeekRange_(),t=$jscomp.makeIterator(this.regions_),r=t.next();!r.done;r=t.next())(r=r.value).endTime<e.start&&this.regions_.delete(r)},shaka.media.RegionTimeline.prototype.findSimilarRegion_=function(e){for(var t=$jscomp.makeIterator(this.regions_),r=t.next();!r.done;r=t.next())if((r=r.value).schemeIdUri==e.schemeIdUri&&r.id==e.id&&r.startTime==e.startTime&&r.endTime==e.endTime)return r;return null},shaka.media.RegionTimeline.prototype.regions=function(){return this.regions_},shaka.media.RegionTimeline.REGION_FILTER_INTERVAL=2,shaka.media.RegionObserver=function(e){var t=this;this.timeline_=e,this.oldPosition_=new Map,this.onEnter_=function(e,t){},this.onExit_=function(e,t){},this.onSkip_=function(e,t){};var r=shaka.media.RegionObserver.RelativePosition_;e=r.BEFORE_THE_REGION;var n=r.IN_THE_REGION;r=r.AFTER_THE_REGION,this.rules_=[{weWere:null,weAre:n,invoke:function(e,r){return t.onEnter_(e,r)}},{weWere:e,weAre:n,invoke:function(e,r){return t.onEnter_(e,r)}},{weWere:r,weAre:n,invoke:function(e,r){return t.onEnter_(e,r)}},{weWere:n,weAre:e,invoke:function(e,r){return t.onExit_(e,r)}},{weWere:n,weAre:r,invoke:function(e,r){return t.onExit_(e,r)}},{weWere:e,weAre:r,invoke:function(e,r){return t.onSkip_(e,r)}},{weWere:r,weAre:e,invoke:function(e,r){return t.onSkip_(e,r)}}]},shaka.media.RegionObserver.prototype.release=function(){this.timeline_=null,this.oldPosition_.clear(),this.onEnter_=function(e,t){},this.onExit_=function(e,t){},this.onSkip_=function(e,t){}},shaka.media.RegionObserver.prototype.poll=function(e,t){for(var r=shaka.media.RegionObserver,n=$jscomp.makeIterator(this.timeline_.regions()),i=n.next();!i.done;i=n.next()){i=i.value;var a=this.oldPosition_.get(i),o=r.determinePositionRelativeTo_(i,e);this.oldPosition_.set(i,o);for(var s=$jscomp.makeIterator(this.rules_),l=s.next();!l.done;l=s.next())(l=l.value).weWere==a&&l.weAre==o&&l.invoke(i,t)}},shaka.media.RegionObserver.prototype.setListeners=function(e,t,r){this.onEnter_=e,this.onExit_=t,this.onSkip_=r},shaka.media.RegionObserver.determinePositionRelativeTo_=function(e,t){var r=shaka.media.RegionObserver.RelativePosition_;return t<e.startTime?r.BEFORE_THE_REGION:t>e.endTime?r.AFTER_THE_REGION:r.IN_THE_REGION},shaka.media.RegionObserver.RelativePosition_={BEFORE_THE_REGION:1,IN_THE_REGION:2,AFTER_THE_REGION:3},shaka.util.Networking=function(){},shaka.util.Networking.createSegmentRequest=function(e,t,r,n){return e=shaka.net.NetworkingEngine.makeRequest(e,n),0==t&&null==r||(e.headers.Range=r?"bytes="+t+"-"+r:"bytes="+t+"-"),e},shaka.media.StreamingEngine=function(e,t){var r=this;this.playerInterface_=t,this.manifest_=e,this.config_=null,this.bufferingGoalScale_=1,this.currentTextStream_=this.currentVariant_=null,this.mediaStates_=new Map,this.startupComplete_=!1,this.failureCallbackBackoff_=null,this.fatalError_=!1,this.destroyer_=new shaka.util.Destroyer((function(){return r.doDestroy_()}))},shaka.media.StreamingEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.StreamingEngine.prototype.doDestroy_=function(){var e,t,r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){if(1==a.nextAddress){for(e=[],t=$jscomp.makeIterator(i.mediaStates_.values()),r=t.next();!r.done;r=t.next())n=r.value,i.cancelUpdate_(n),e.push(i.abortOperations_(n));return a.yield(Promise.all(e),2)}i.mediaStates_.clear(),i.playerInterface_=null,i.manifest_=null,i.config_=null,a.jumpToEnd()}))},shaka.media.StreamingEngine.prototype.configure=function(e){this.config_=e,this.failureCallbackBackoff_=new shaka.net.Backoff({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},shaka.media.StreamingEngine.prototype.start=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress)return goog.asserts.assert(e.config_,"StreamingEngine configure() must be called before init()!"),t.yield(e.initStreams_(),2);e.destroyer_.ensureNotDestroyed(),shaka.log.debug("init: completed initial Stream setup"),e.startupComplete_=!0,t.jumpToEnd()}))},shaka.media.StreamingEngine.prototype.getCurrentVariant=function(){return this.currentVariant_},shaka.media.StreamingEngine.prototype.getCurrentTextStream=function(){return this.currentTextStream_},shaka.media.StreamingEngine.prototype.loadNewTextStream_=function(e){var t,r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:return t=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(!o.mediaStates_.has(t.TEXT),"Should not call loadNewTextStream_ while streaming text!"),s.setCatchFinallyBlocks(2),s.yield(o.playerInterface_.mediaSourceEngine.clear(t.TEXT),4);case 4:s.leaveTryBlock(3);break;case 2:r=s.enterCatchBlock(),o.playerInterface_&&o.playerInterface_.onError(r);case 3:n=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs),o.playerInterface_.mediaSourceEngine.reinitText(n),i=o.playerInterface_.mediaSourceEngine.getTextDisplayer(),(i.isTextVisible()||o.config_.alwaysStreamText)&&(a=o.createMediaState_(e),o.mediaStates_.set(t.TEXT,a),o.scheduleUpdate_(a,0)),s.jumpToEnd()}}))},shaka.media.StreamingEngine.prototype.unloadTextStream=function(){var e=shaka.util.ManifestParserUtils.ContentType,t=this.mediaStates_.get(e.TEXT);t&&(this.cancelUpdate_(t),this.abortOperations_(t).catch((function(){})),this.mediaStates_.delete(e.TEXT)),this.currentTextStream_=null},shaka.media.StreamingEngine.prototype.setTrickPlay=function(e){var t=this.mediaStates_.get(shaka.util.ManifestParserUtils.ContentType.VIDEO);if(t){var r=t.stream;r&&(shaka.log.debug("setTrickPlay",e),e?(e=r.trickModeVideo)&&!t.restoreStreamAfterTrickPlay&&(shaka.log.debug("Engaging trick mode stream",e),this.switchInternal_(e,!1,0,!1),t.restoreStreamAfterTrickPlay=r):(r=t.restoreStreamAfterTrickPlay)&&(shaka.log.debug("Restoring non-trick-mode stream",r),t.restoreStreamAfterTrickPlay=null,this.switchInternal_(r,!0,0,!1)))}},shaka.media.StreamingEngine.prototype.switchVariant=function(e,t,r){t=void 0!==t&&t,r=void 0===r?0:r,this.currentVariant_=e,this.startupComplete_&&(e.video&&this.switchInternal_(e.video,t,r,!1),e.audio&&this.switchInternal_(e.audio,t,r,!1))},shaka.media.StreamingEngine.prototype.switchTextStream=function(e){if(this.currentTextStream_=e,this.startupComplete_){var t=shaka.util.ManifestParserUtils.ContentType;goog.asserts.assert(e&&e.type==t.TEXT,"Wrong stream type passed to switchTextStream!"),this.switchInternal_(e,!0,0,!1)}},shaka.media.StreamingEngine.prototype.reloadTextStream=function(){var e=this.mediaStates_.get(shaka.util.ManifestParserUtils.ContentType.TEXT);e&&this.switchInternal_(e.stream,!0,0,!0)},shaka.media.StreamingEngine.prototype.switchInternal_=function(e,t,r,n){var i=this,a=shaka.util.ManifestParserUtils.ContentType,o=this.mediaStates_.get(e.type);o||e.type!=a.TEXT?(goog.asserts.assert(o,"switch: expected mediaState to exist"),o&&(o.restoreStreamAfterTrickPlay&&(shaka.log.debug("switch during trick play mode",e),e.trickModeVideo?(o.restoreStreamAfterTrickPlay=e,e=e.trickModeVideo,shaka.log.debug("switch found trick play stream",e)):(o.restoreStreamAfterTrickPlay=null,shaka.log.debug("switch found no special trick play stream"))),o.stream!=e||n?(e.type==a.TEXT&&(n=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs),this.playerInterface_.mediaSourceEngine.reinitText(n)),o.stream=e,o.segmentIterator=null,e=shaka.media.StreamingEngine.logPrefix_(o),shaka.log.debug("switch: switching to Stream "+e),t&&(o.clearingBuffer?o.waitingToFlushBuffer=!0:o.performingUpdate?(o.waitingToClearBuffer=!0,o.clearBufferSafeMargin=r,o.waitingToFlushBuffer=!0):(this.cancelUpdate_(o),this.clearBuffer_(o,!0,r).catch((function(e){i.playerInterface_&&(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!"),i.playerInterface_.onError(e))})))),this.makeAbortDecision_(o).catch((function(e){i.playerInterface_&&(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!"),i.playerInterface_.onError(e))}))):(t=shaka.media.StreamingEngine.logPrefix_(o),shaka.log.debug("switch: Stream "+t+" already active")))):this.loadNewTextStream_(e)},shaka.media.StreamingEngine.prototype.makeAbortDecision_=function(e){var t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){return 1==i.nextAddress?e.operation?(t=e.stream,r=e.operation,t.segmentIndex?i.jumpTo(2):i.yield(t.createSegmentIndex(),2)):i.return():e.operation!=r||e.stream!=t?i.return():(goog.asserts.assert(e.stream.segmentIndex,"Segment index should exist by now!"),n.shouldAbortCurrentRequest_(e)&&(shaka.log.info("Aborting current segment request."),e.operation.abort()),void i.jumpToEnd())}))},shaka.media.StreamingEngine.prototype.shouldAbortCurrentRequest_=function(e){goog.asserts.assert(e.operation,"Abort logic requires an ongoing operation!"),goog.asserts.assert(e.stream&&e.stream.segmentIndex,"Abort logic requires a segment index");var t=this.playerInterface_.getPresentationTime(),r=this.playerInterface_.mediaSourceEngine.bufferEnd(e.type),n=this.getTimeNeeded_(e,t),i=null==(n=e.stream.segmentIndex.find(n))?null:e.stream.segmentIndex.get(n);return n=i?i.getSize():null,i&&!n&&(n=(i.getEndTime()-i.getStartTime())*(e.stream.bandwidth||0)/8),!!n&&((i=i.initSegmentReference)&&(n+=i.getSize()||0),8*n/(i=this.playerInterface_.getBandwidthEstimate())<(r||0)-t-Math.max(this.manifest_.minBufferTime||0,this.config_.rebufferingGoal)||e.operation.getBytesRemaining()>n)},shaka.media.StreamingEngine.prototype.seeked=function(){for(var e=this.playerInterface_.getPresentationTime(),t=this.config_.smallGapLimit,r=shaka.util.ManifestParserUtils.ContentType,n=!1,i=$jscomp.makeIterator(this.mediaStates_.keys()),a=i.next();!a.done;a=i.next()){a=a.value;var o=this.mediaStates_.get(a),s=shaka.media.StreamingEngine.logPrefix_(o);o.segmentIterator=null,this.playerInterface_.mediaSourceEngine.isBuffered(a,e,t)||(null!=this.playerInterface_.mediaSourceEngine.bufferEnd(a)&&(this.forceClearBuffer_(o),n=!0),o.operation&&(o.operation.abort(),shaka.log.debug(s,"Aborting operation due to seek"),o.operation=null),a===r.TEXT&&this.playerInterface_.mediaSourceEngine.resetCaptionParser())}n||shaka.log.debug("(all): seeked: buffered seek: presentationTime="+e)},shaka.media.StreamingEngine.prototype.forceClearBuffer_=function(e){var t=this,r=shaka.media.StreamingEngine.logPrefix_(e);e.clearingBuffer?shaka.log.debug(r,"clear: already clearing the buffer"):e.waitingToClearBuffer?shaka.log.debug(r,"clear: already waiting"):e.performingUpdate?(shaka.log.debug(r,"clear: currently updating"),e.waitingToClearBuffer=!0,e.clearBufferSafeMargin=0):null==this.playerInterface_.mediaSourceEngine.bufferStart(e.type)?(shaka.log.debug(r,"clear: nothing buffered"),null==e.updateTimer&&this.scheduleUpdate_(e,0)):(shaka.log.debug(r,"clear: handling right now"),this.cancelUpdate_(e),this.clearBuffer_(e,!1,0).catch((function(e){t.playerInterface_&&(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!"),t.playerInterface_.onError(e))})))},shaka.media.StreamingEngine.prototype.initStreams_=function(){var e,t,r,n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){if(1==d.nextAddress){if(e=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(c.config_,"StreamingEngine configure() must be called before init()!"),!c.currentVariant_)throw shaka.log.error("init: no Streams chosen"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STREAMING,shaka.util.Error.Code.STREAMING_ENGINE_STARTUP_INVALID_STATE);return t=new Map,r=new Set,c.currentVariant_.audio&&(t.set(e.AUDIO,c.currentVariant_.audio),r.add(c.currentVariant_.audio)),c.currentVariant_.video&&(t.set(e.VIDEO,c.currentVariant_.video),r.add(c.currentVariant_.video)),c.currentTextStream_&&(t.set(e.TEXT,c.currentTextStream_),r.add(c.currentTextStream_)),n=c.playerInterface_.mediaSourceEngine,i=c.config_.forceTransmuxTS,d.yield(n.init(t,i),2)}for(c.destroyer_.ensureNotDestroyed(),c.setDuration_(),a=$jscomp.makeIterator(t.keys()),o=a.next();!o.done;o=a.next())s=o.value,l=t.get(s),c.mediaStates_.has(s)||(u=c.createMediaState_(l),c.mediaStates_.set(s,u),c.scheduleUpdate_(u,0));d.jumpToEnd()}))},shaka.media.StreamingEngine.prototype.createMediaState_=function(e){return{stream:e,type:e.type,segmentIterator:null,lastSegmentReference:null,lastInitSegmentReference:null,lastTimestampOffset:null,lastAppendWindowStart:null,lastAppendWindowEnd:null,restoreStreamAfterTrickPlay:null,endOfStream:!1,performingUpdate:!1,updateTimer:null,waitingToClearBuffer:!1,clearBufferSafeMargin:0,waitingToFlushBuffer:!1,clearingBuffer:!1,recovering:!1,hasError:!1,operation:null}},shaka.media.StreamingEngine.prototype.setDuration_=function(){var e=this.manifest_.presentationTimeline.getDuration();1/0>e?this.playerInterface_.mediaSourceEngine.setDuration(e):this.playerInterface_.mediaSourceEngine.setDuration(Math.pow(2,32))},shaka.media.StreamingEngine.prototype.onUpdate_=function(e){var t,r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){switch(l.nextAddress){case 1:if(s.destroyer_.ensureNotDestroyed(),t=shaka.media.StreamingEngine.logPrefix_(e),goog.asserts.assert(!e.performingUpdate&&null!=e.updateTimer,t+" unexpected call to onUpdate_()"),e.performingUpdate||null==e.updateTimer)return l.return();if(goog.asserts.assert(!e.clearingBuffer,t+" onUpdate_() should not be called when clearing the buffer"),e.clearingBuffer)return l.return();if(e.updateTimer=null,!e.waitingToClearBuffer){l.jumpTo(2);break}return shaka.log.debug(t,"skipping update and clearing the buffer"),l.yield(s.clearBuffer_(e,e.waitingToFlushBuffer,e.clearBufferSafeMargin),3);case 3:return l.return();case 2:if(e.stream.segmentIndex){l.jumpTo(4);break}return r=e.stream,l.yield(e.stream.createSegmentIndex(),5);case 5:if(r!=e.stream)return null==e.updateTimer&&s.scheduleUpdate_(e,0),l.return();case 4:l.setCatchFinallyBlocks(6),null!=(n=s.update_(e))&&(s.scheduleUpdate_(e,n),e.hasError=!1),l.leaveTryBlock(7);break;case 6:return i=l.enterCatchBlock(),l.yield(s.handleStreamingError_(i),8);case 8:return l.return();case 7:if(a=Array.from(s.mediaStates_.values()),!s.startupComplete_||!a.every((function(e){return e.endOfStream}))){l.jumpTo(0);break}return shaka.log.v1(t,"calling endOfStream()..."),l.yield(s.playerInterface_.mediaSourceEngine.endOfStream(),10);case 10:s.destroyer_.ensureNotDestroyed(),0!=(o=s.playerInterface_.mediaSourceEngine.getDuration())&&o<s.manifest_.presentationTimeline.getDuration()&&s.manifest_.presentationTimeline.setDuration(o),l.jumpToEnd()}}))},shaka.media.StreamingEngine.prototype.update_=function(e){goog.asserts.assert(this.manifest_,"manifest_ should not be null"),goog.asserts.assert(this.config_,"config_ should not be null");var t=shaka.util.ManifestParserUtils.ContentType;if(shaka.media.StreamingEngine.isEmbeddedText_(e))return this.playerInterface_.mediaSourceEngine.setSelectedClosedCaptionId(e.stream.originalId||""),null;var r=shaka.media.StreamingEngine.logPrefix_(e),n=this.playerInterface_.getPresentationTime(),i=this.getTimeNeeded_(e,n);shaka.log.v2(r,"timeNeeded="+i);var a=this.playerInterface_.mediaSourceEngine.bufferedAheadOf(e.type,n);shaka.log.v2(r,"update_:","presentationTime="+n,"bufferedAhead="+a);var o=Math.max(this.manifest_.minBufferTime||0,this.config_.rebufferingGoal,this.config_.bufferingGoal)*this.bufferingGoalScale_;if(i>=this.manifest_.presentationTimeline.getDuration())return shaka.log.debug(r,"buffered to end of presentation"),e.endOfStream=!0,e.type==t.VIDEO&&(e=this.mediaStates_.get(t.TEXT))&&shaka.media.StreamingEngine.isEmbeddedText_(e)&&(e.endOfStream=!0),null;if(e.endOfStream=!1,a>=o)return shaka.log.v2(r,"buffering goal met"),.5;if(t=this.playerInterface_.mediaSourceEngine.bufferEnd(e.type),!(t=this.getSegmentReferenceNeeded_(e,n,t))||!this.isSegmentReferenceAvailable_(e,t))return 1;for(r=1/0,a=Array.from(this.mediaStates_.values()),o=(a=$jscomp.makeIterator(a)).next();!o.done;o=a.next())o=o.value,shaka.media.StreamingEngine.isEmbeddedText_(o)||(o=this.getTimeNeeded_(o,n),r=Math.min(r,o));return i>=r+(a=this.manifest_.presentationTimeline.getMaxSegmentDuration()*shaka.media.StreamingEngine.MAX_RUN_AHEAD_SEGMENTS_)?1:(this.fetchAndAppend_(e,n,t).catch((function(){})),null)},shaka.media.StreamingEngine.prototype.getTimeNeeded_=function(e,t){return e.lastSegmentReference?e.lastSegmentReference.endTime:t},shaka.media.StreamingEngine.prototype.getSegmentReferenceNeeded_=function(e,t,r){var n=shaka.media.StreamingEngine.logPrefix_(e);if(goog.asserts.assert(e.stream.segmentIndex,"segment index should have been generated already"),e.segmentIterator)return e.segmentIterator.current();if(e.lastSegmentReference||r)return t=e.lastSegmentReference?e.lastSegmentReference.endTime:r,goog.asserts.assert(null!=t,"Should have a time to search"),shaka.log.v1(n,"looking up segment from new stream endTime:",t),e.segmentIterator=e.stream.segmentIndex.getIteratorForTime(t),null==(e=e.segmentIterator.next().value)&&shaka.log.warning(n,"cannot find segment","endTime:",t),e;r=Math.max(t-this.config_.inaccurateManifestTolerance,0),shaka.log.v1(n,"looking up segment","lookupTime:",r,"presentationTime:",t),e.segmentIterator=e.stream.segmentIndex.getIteratorForTime(r);var i=e.segmentIterator.next().value;return i&&this.isSegmentReferenceAvailable_(e,i)||(e.segmentIterator=e.stream.segmentIndex.getIteratorForTime(t),i=e.segmentIterator.next().value),null==i&&shaka.log.warning(n,"cannot find segment","lookupTime:",r,"presentationTime:",t),i},shaka.media.StreamingEngine.prototype.isSegmentReferenceAvailable_=function(e,t){var r=shaka.media.StreamingEngine.logPrefix_(e),n=this.manifest_.presentationTimeline,i=n.getSegmentAvailabilityStart();return n=n.getSegmentAvailabilityEnd(),!(t.endTime<i||t.startTime>n)||(shaka.log.v2(r,"segment is not available:","reference.startTime="+t.startTime,"reference.endTime="+t.endTime,"availabilityStart="+i,"availabilityEnd="+n),!1)},shaka.media.StreamingEngine.prototype.fetchAndAppend_=function(e,t,r){var n,i,a,o,s,l,u,c,d,f,p,h,g=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(m){switch(m.nextAddress){case 1:return n=shaka.util.ManifestParserUtils.ContentType,i=shaka.media.StreamingEngine,a=i.logPrefix_(e),shaka.log.v1(a,"fetchAndAppend_:","presentationTime="+t,"reference.startTime="+r.startTime,"reference.endTime="+r.endTime),o=e.stream,s=e.segmentIterator,e.performingUpdate=!0,l=g.initSourceBuffer_(e,r),shaka.log.v2(a,"fetching segment"),u=g.fetch_(e,r),m.setCatchFinallyBlocks(2),m.yield(Promise.all([l,u]),4);case 4:return c=m.yieldResult,g.destroyer_.ensureNotDestroyed(),g.fatalError_?m.return():e.waitingToClearBuffer?(shaka.log.info(a,"waitingToClearBuffer, skip append"),e.performingUpdate=!1,g.scheduleUpdate_(e,0),m.return()):m.yield(g.append_(e,t,o,r,c[1]),5);case 5:if(g.destroyer_.ensureNotDestroyed(),g.fatalError_)return m.return();e.lastSegmentReference=r,d=s.next().value,shaka.log.v2(a,"advancing to next segment",d),e.performingUpdate=!1,e.recovering=!1,f=g.playerInterface_.mediaSourceEngine.getBufferedInfo(),p=f[e.type],shaka.log.v1(a,"finished fetch and append",JSON.stringify(p)),e.waitingToClearBuffer||g.playerInterface_.onSegmentAppended(),g.scheduleUpdate_(e,0),m.leaveTryBlock(0);break;case 2:if(h=m.enterCatchBlock(),g.destroyer_.ensureNotDestroyed(h),g.fatalError_)return m.return();if(goog.asserts.assert(h instanceof shaka.util.Error,"Should only receive a Shaka error"),e.performingUpdate=!1,e.type==n.TEXT&&g.config_.ignoreTextStreamFailures)h.code==shaka.util.Error.Code.BAD_HTTP_STATUS?shaka.log.warning(a,"Text stream failed to download. Proceeding without it."):shaka.log.warning(a,"Text stream failed to parse. Proceeding without it."),g.mediaStates_.delete(n.TEXT),m.jumpTo(0);else if(h.code==shaka.util.Error.Code.OPERATION_ABORTED)e.performingUpdate=!1,e.updateTimer=null,g.scheduleUpdate_(e,0),m.jumpTo(0);else{if(h.code!=shaka.util.Error.Code.QUOTA_EXCEEDED_ERROR)return shaka.log.error(a,"failed fetch and append: code="+h.code),e.hasError=!0,h.severity=shaka.util.Error.Severity.CRITICAL,m.yield(g.handleStreamingError_(h),0);g.handleQuotaExceeded_(e,h),m.jumpTo(0)}}}))},shaka.media.StreamingEngine.prototype.retry=function(){if(this.destroyer_.destroyed())return shaka.log.error("Unable to retry after StreamingEngine is destroyed!"),!1;if(this.fatalError_)return shaka.log.error("Unable to retry after StreamingEngine encountered a fatal error!"),!1;for(var e=$jscomp.makeIterator(this.mediaStates_.values()),t=e.next();!t.done;t=e.next()){t=t.value;var r=shaka.media.StreamingEngine.logPrefix_(t);t.hasError&&(shaka.log.info(r,"Retrying after failure..."),t.hasError=!1,this.scheduleUpdate_(t,.1))}return!0},shaka.media.StreamingEngine.prototype.handleQuotaExceeded_=function(e,t){var r=shaka.media.StreamingEngine.logPrefix_(e);if(Array.from(this.mediaStates_.values()).some((function(t){return t!=e&&t.recovering})))shaka.log.debug(r,"MediaSource threw QuotaExceededError:","waiting for another stream to recover...");else{var n=Math.round(100*this.bufferingGoalScale_);if(20<n)this.bufferingGoalScale_-=.2;else{if(!(4<n))return shaka.log.error(r,"MediaSource threw QuotaExceededError too many times"),this.fatalError_=e.hasError=!0,void this.playerInterface_.onError(t);this.bufferingGoalScale_-=.04}shaka.log.warning(r,"MediaSource threw QuotaExceededError:","reducing buffering goals by "+(100-Math.round(100*this.bufferingGoalScale_))+"%"),e.recovering=!0}this.scheduleUpdate_(e,4)},shaka.media.StreamingEngine.prototype.initSourceBuffer_=function(e,t){var r,n,i,a,o,s,l,u,c,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){return r=shaka.media.StreamingEngine,n=r.logPrefix_(e),i=[],a=Math.max(0,t.appendWindowStart-r.APPEND_WINDOW_START_FUDGE_),o=t.appendWindowEnd+r.APPEND_WINDOW_END_FUDGE_,goog.asserts.assert(t.startTime<=o,n+" segment should start before append window end"),(s=t.timestampOffset)==e.lastTimestampOffset&&a==e.lastAppendWindowStart&&o==e.lastAppendWindowEnd||(shaka.log.v1(n,"setting timestamp offset to "+s),shaka.log.v1(n,"setting append window start to "+a),shaka.log.v1(n,"setting append window end to "+o),l=function(){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.setCatchFinallyBlocks(2),e.lastAppendWindowStart=a,e.lastAppendWindowEnd=o,e.lastTimestampOffset=s,r.yield(d.playerInterface_.mediaSourceEngine.setStreamProperties(e.type,s,a,o),4);if(2!=r.nextAddress)return r.leaveTryBlock(0);throw t=r.enterCatchBlock(),e.lastAppendWindowStart=null,e.lastAppendWindowEnd=null,e.lastTimestampOffset=null,t}))},i.push(l())),!shaka.media.InitSegmentReference.equal(t.initSegmentReference,e.lastInitSegmentReference)&&(e.lastInitSegmentReference=t.initSegmentReference)&&(shaka.log.v1(n,"fetching init segment"),u=d.fetch_(e,t.initSegmentReference),c=function(){var t,r,i;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){switch(a.nextAddress){case 1:return a.setCatchFinallyBlocks(2),a.yield(u,4);case 4:return t=a.yieldResult,d.destroyer_.ensureNotDestroyed(),shaka.log.v1(n,"appending init segment"),r=e.stream.closedCaptions&&0<e.stream.closedCaptions.size,a.yield(d.playerInterface_.mediaSourceEngine.appendBuffer(e.type,t,null,null,r),5);case 5:a.leaveTryBlock(0);break;case 2:throw i=a.enterCatchBlock(),e.lastInitSegmentReference=null,i}}))},i.push(c())),f.yield(Promise.all(i),0)}))},shaka.media.StreamingEngine.prototype.append_=function(e,t,r,n,i){var a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){return 1==l.nextAddress?(a=shaka.media.StreamingEngine.logPrefix_(e),o=r.closedCaptions&&0<r.closedCaptions.size,null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length&&(new shaka.util.Mp4Parser).fullBox("emsg",(function(e){return s.parseEMSG_(n,r.emsgSchemeIdUris,e)})).parse(i),l.yield(s.evict_(e,t),2)):3!=l.nextAddress?(s.destroyer_.ensureNotDestroyed(),shaka.log.v1(a,"appending media segment"),l.yield(s.playerInterface_.mediaSourceEngine.appendBuffer(e.type,i,n.startTime,n.endTime,o),3)):(s.destroyer_.ensureNotDestroyed(),shaka.log.v2(a,"appended media segment"),void l.jumpToEnd())}))},shaka.media.StreamingEngine.prototype.parseEMSG_=function(e,t,r){var n=r.reader.readTerminatedString(),i=r.reader.readTerminatedString(),a=r.reader.readUint32(),o=r.reader.readUint32(),s=r.reader.readUint32(),l=r.reader.readUint32();r=r.reader.readBytes(r.reader.getLength()-r.reader.getPosition()),e=e.startTime+o/a,t.includes(n)&&("urn:mpeg:dash:event:2012"==n?this.playerInterface_.onManifestUpdate():(t=new shaka.util.FakeEvent(shaka.Player.EventName.Emsg,{detail:{startTime:e,endTime:e+s/a,schemeIdUri:n,value:i,timescale:a,presentationTimeDelta:o,eventDuration:s,id:l,messageData:r}}),this.playerInterface_.onEvent(t)))},shaka.media.StreamingEngine.prototype.evict_=function(e,t){var r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){if(1==l.nextAddress)return r=shaka.media.StreamingEngine.logPrefix_(e),shaka.log.v2(r,"checking buffer length"),n=Math.max(s.config_.bufferBehind,s.manifest_.presentationTimeline.getMaxSegmentDuration()),null==(i=s.playerInterface_.mediaSourceEngine.bufferStart(e.type))?(shaka.log.v2(r,"buffer behind okay because nothing buffered:","presentationTime="+t,"bufferBehind="+n),l.return()):.01>=(o=(a=t-i)-n)?(shaka.log.v2(r,"buffer behind okay:","presentationTime="+t,"bufferedBehind="+a,"bufferBehind="+n,"underflow="+Math.abs(o)),l.return()):(shaka.log.v1(r,"buffer behind too large:","presentationTime="+t,"bufferedBehind="+a,"bufferBehind="+n,"overflow="+o),l.yield(s.playerInterface_.mediaSourceEngine.remove(e.type,i,i+o),2));s.destroyer_.ensureNotDestroyed(),shaka.log.v1(r,"evicted "+o+" seconds"),l.jumpToEnd()}))},shaka.media.StreamingEngine.isEmbeddedText_=function(e){var t=shaka.util.MimeUtils;return e&&e.type==shaka.util.ManifestParserUtils.ContentType.TEXT&&e.stream.mimeType==t.CLOSED_CAPTION_MIMETYPE},shaka.media.StreamingEngine.prototype.fetch_=function(e,t){var r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(r=shaka.net.NetworkingEngine.RequestType.SEGMENT,n=shaka.util.Networking.createSegmentRequest(t.getUris(),t.startByte,t.endByte,o.config_.retryParameters),shaka.log.v2("fetching: reference=",t),i=o.playerInterface_.netEngine.request(r,n),e.operation=i,s.yield(i.promise,2)):(a=s.yieldResult,e.operation=null,s.return(a.data))}))},shaka.media.StreamingEngine.prototype.clearBuffer_=function(e,t,r){var n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(n=shaka.media.StreamingEngine.logPrefix_(e),goog.asserts.assert(!e.performingUpdate&&null==e.updateTimer,n+" unexpected call to clearBuffer_()"),e.waitingToClearBuffer=!1,e.waitingToFlushBuffer=!1,e.clearBufferSafeMargin=0,e.clearingBuffer=!0,e.lastSegmentReference=null,e.lastInitSegmentReference=null,e.segmentIterator=null,shaka.log.debug(n,"clearing buffer"),r?(i=o.playerInterface_.getPresentationTime(),a=o.playerInterface_.mediaSourceEngine.getDuration(),s.yield(o.playerInterface_.mediaSourceEngine.remove(e.type,i+r,a),3)):s.yield(o.playerInterface_.mediaSourceEngine.clear(e.type),4)):3!=s.nextAddress?(o.destroyer_.ensureNotDestroyed(),t?s.yield(o.playerInterface_.mediaSourceEngine.flush(e.type),3):s.jumpTo(3)):(o.destroyer_.ensureNotDestroyed(),shaka.log.debug(n,"cleared buffer"),e.clearingBuffer=!1,e.endOfStream=!1,o.scheduleUpdate_(e,0),void s.jumpToEnd())}))},shaka.media.StreamingEngine.prototype.scheduleUpdate_=function(e,t){var r=this,n=shaka.media.StreamingEngine.logPrefix_(e),i=e.type;i!=shaka.util.ManifestParserUtils.ContentType.TEXT||this.mediaStates_.has(i)?(shaka.log.v2(n,"updating in "+t+" seconds"),goog.asserts.assert(null==e.updateTimer,n+" did not expect update to be scheduled"),e.updateTimer=new shaka.util.DelayedTick((function(){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(n.setCatchFinallyBlocks(2),n.yield(r.onUpdate_(e),4)):2!=n.nextAddress?n.leaveTryBlock(0):(t=n.enterCatchBlock(),r.playerInterface_&&r.playerInterface_.onError(t),void n.jumpToEnd())}))})).tickAfter(t)):shaka.log.v1(n,"Text stream is unloaded. No update is needed.")},shaka.media.StreamingEngine.prototype.cancelUpdate_=function(e){null!=e.updateTimer&&(e.updateTimer.stop(),e.updateTimer=null)},shaka.media.StreamingEngine.prototype.abortOperations_=function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return e.operation?t.yield(e.operation.abort(),0):t.jumpTo(0)}))},shaka.media.StreamingEngine.prototype.handleStreamingError_=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.yield(t.failureCallbackBackoff_.attempt(),2);t.destroyer_.ensureNotDestroyed(),t.playerInterface_.onError(e),e.handled||t.config_.failureCallback(e),r.jumpToEnd()}))},shaka.media.StreamingEngine.logPrefix_=function(e){return"("+e.type+":"+e.stream.id+")"},shaka.media.StreamingEngine.APPEND_WINDOW_START_FUDGE_=.1,shaka.media.StreamingEngine.APPEND_WINDOW_END_FUDGE_=.01,shaka.media.StreamingEngine.MAX_RUN_AHEAD_SEGMENTS_=1,shaka.routing={},shaka.routing.Walker=function(e,t,r){var n=this;this.implementation_=r,this.currentlyAt_=e,this.currentlyWith_=t,this.waitForWork_=null,this.requests_=[],this.currentStep_=this.currentRoute_=null,this.mainLoopPromise_=Promise.resolve().then((function(){return n.mainLoop_()})),this.destroyer_=new shaka.util.Destroyer((function(){return n.doDestroy_()}))},shaka.routing.Walker.prototype.getCurrentPayload=function(){return this.currentlyWith_},shaka.routing.Walker.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.routing.Walker.prototype.doDestroy_=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress)return r.currentStep_&&r.currentStep_.abort(),r.unblockMainLoop_(),n.yield(r.mainLoopPromise_,2);for(r.currentRoute_&&r.currentRoute_.listeners.onCancel(),e=$jscomp.makeIterator(r.requests_),t=e.next();!t.done;t=e.next())t.value.listeners.onCancel();r.currentRoute_=null,r.requests_=[],r.implementation_=null,n.jumpToEnd()}))},shaka.routing.Walker.prototype.startNewRoute=function(e){var t={onStart:function(){},onEnd:function(){},onCancel:function(){},onError:function(e){},onSkip:function(){},onEnter:function(){}};return this.requests_.push({create:e,listeners:t}),this.currentStep_&&this.currentStep_.abort(),this.unblockMainLoop_(),t},shaka.routing.Walker.prototype.mainLoop_=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return e.destroyer_.destroyed()?t.jumpTo(0):t.yield(e.doOneThing_(),1)}))},shaka.routing.Walker.prototype.doOneThing_=function(){return this.tryNewRoute_()?Promise.resolve():this.currentRoute_?this.takeNextStep_():(goog.asserts.assert(null==this.waitForWork_,"We should not have a promise yet."),this.implementation_.onIdle(this.currentlyAt_),this.waitForWork_=new shaka.util.PublicPromise)},shaka.routing.Walker.prototype.tryNewRoute_=function(){if(goog.asserts.assert(null==this.currentStep_,"We should never have a current step between taking steps."),0==this.requests_.length||this.currentRoute_&&!this.currentRoute_.interruptible)return!1;this.currentRoute_&&(this.currentRoute_.listeners.onCancel(),this.currentRoute_=null);var e=this.requests_.shift(),t=e.create(this.currentlyWith_);return t?(e.listeners.onStart(),this.currentRoute_={node:t.node,payload:t.payload,interruptible:t.interruptible,listeners:e.listeners}):e.listeners.onSkip(),!0},shaka.routing.Walker.prototype.takeNextStep_=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){switch(n.nextAddress){case 1:return goog.asserts.assert(r.currentRoute_,"We need a current route to take the next step."),r.currentlyAt_=r.implementation_.getNext(r.currentlyAt_,r.currentlyWith_,r.currentRoute_.node,r.currentRoute_.payload),r.currentRoute_.listeners.onEnter(r.currentlyAt_),n.setCatchFinallyBlocks(2),r.currentStep_=r.implementation_.enterNode(r.currentlyAt_,r.currentlyWith_,r.currentRoute_.payload),n.yield(r.currentStep_.promise,4);case 4:r.currentStep_=null,r.currentlyAt_==r.currentRoute_.node&&(r.currentRoute_.listeners.onEnd(),r.currentRoute_=null),n.leaveTryBlock(0);break;case 2:return(e=n.enterCatchBlock()).code==shaka.util.Error.Code.OPERATION_ABORTED?(goog.asserts.assert(r.currentRoute_.interruptible,"Do not put abortable steps in non-interruptible routes!"),r.currentRoute_.listeners.onCancel()):r.currentRoute_.listeners.onError(e),r.currentRoute_=null,r.currentStep_=null,t=r,n.yield(r.implementation_.handleError(r.currentlyWith_,e),5);case 5:t.currentlyAt_=n.yieldResult,n.jumpToEnd()}}))},shaka.routing.Walker.prototype.unblockMainLoop_=function(){this.waitForWork_&&(this.waitForWork_.resolve(),this.waitForWork_=null)},shaka.text.SimpleTextDisplayer=function(e){this.textTrack_=null;for(var t=$jscomp.makeIterator(Array.from(e.textTracks)),r=t.next();!r.done;r=t.next())(r=r.value).mode="disabled",r.label==shaka.Player.TextTrackLabel&&(this.textTrack_=r);this.textTrack_||(this.textTrack_=e.addTextTrack("subtitles",shaka.Player.TextTrackLabel)),this.textTrack_.mode="hidden"},shaka.text.SimpleTextDisplayer.prototype.remove=function(e,t){return!!this.textTrack_&&(shaka.text.SimpleTextDisplayer.removeWhere_(this.textTrack_,(function(r){return r.startTime<t&&r.endTime>e})),!0)},shaka.text.SimpleTextDisplayer.prototype.append=function(e){var t=e.map((function(e){if(e.nestedCues.length){var t=e.clone();return t.nestedCues=[],t.payload=function e(t){return t.spacer?"\n":t.nestedCues.length?t.nestedCues.map(e).join(""):t.payload}(e),t}return e})),r=[];e=this.textTrack_.cues?Array.from(this.textTrack_.cues):[];for(var n={},i=(t=$jscomp.makeIterator(t)).next();!i.done;n={$jscomp$loop$prop$inCue$486:n.$jscomp$loop$prop$inCue$486},i=t.next())n.$jscomp$loop$prop$inCue$486=i.value,e.some(function(e){return function(t){return t.startTime==e.$jscomp$loop$prop$inCue$486.startTime&&t.endTime==e.$jscomp$loop$prop$inCue$486.endTime&&t.text==e.$jscomp$loop$prop$inCue$486.payload}}(n))||(i=shaka.text.SimpleTextDisplayer.convertToTextTrackCue_(n.$jscomp$loop$prop$inCue$486))&&r.push(i);for(e=r.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?r.indexOf(t)-r.indexOf(e):r.indexOf(e)-r.indexOf(t)})),n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())this.textTrack_.addCue(n.value)},shaka.text.SimpleTextDisplayer.prototype.destroy=function(){return this.textTrack_&&(shaka.text.SimpleTextDisplayer.removeWhere_(this.textTrack_,(function(e){return!0})),this.textTrack_.mode="disabled"),this.textTrack_=null,Promise.resolve()},shaka.text.SimpleTextDisplayer.prototype.isTextVisible=function(){return"showing"==this.textTrack_.mode},shaka.text.SimpleTextDisplayer.prototype.setTextVisibility=function(e){this.textTrack_.mode=e?"showing":"hidden"},shaka.text.SimpleTextDisplayer.convertToTextTrackCue_=function(e){if(e.startTime>=e.endTime)return shaka.log.warning("Invalid cue times: "+e.startTime+" - "+e.endTime),null;var t=shaka.text.Cue,r=new VTTCue(e.startTime,e.endTime,e.payload);r.lineAlign=e.lineAlign,r.positionAlign=e.positionAlign,e.size&&(r.size=e.size);try{r.align=e.textAlign}catch(n){}return"center"==e.textAlign&&"center"!=r.align&&(r.align="middle"),e.writingMode==t.writingMode.VERTICAL_LEFT_TO_RIGHT?r.vertical="lr":e.writingMode==t.writingMode.VERTICAL_RIGHT_TO_LEFT&&(r.vertical="rl"),e.lineInterpretation==t.lineInterpretation.PERCENTAGE&&(r.snapToLines=!1),null!=e.line&&(r.line=e.line),null!=e.position&&(r.position=e.position),r},shaka.text.SimpleTextDisplayer.removeWhere_=function(e,t){var r=e.mode,n="showing"==r?"showing":"hidden";e.mode=n,goog.asserts.assert(e.cues,'Cues should be accessible when mode is set to "'+n+'".');for(var i=(n=$jscomp.makeIterator(Array.from(e.cues))).next();!i.done;i=n.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=r},goog.exportSymbol("shaka.text.SimpleTextDisplayer",shaka.text.SimpleTextDisplayer),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"setTextVisibility",shaka.text.SimpleTextDisplayer.prototype.setTextVisibility),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"isTextVisible",shaka.text.SimpleTextDisplayer.prototype.isTextVisible),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"destroy",shaka.text.SimpleTextDisplayer.prototype.destroy),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"append",shaka.text.SimpleTextDisplayer.prototype.append),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"remove",shaka.text.SimpleTextDisplayer.prototype.remove),shaka.util.Dom=function(){},shaka.util.Dom.createHTMLElement=function(e){return document.createElement(e)},shaka.util.Dom.createButton=function(){return document.createElement("button")},shaka.util.Dom.asHTMLElement=function(e){return e},shaka.util.Dom.asHTMLMediaElement=function(e){return e},shaka.util.Dom.getElementByClassName=function(e,t){var r=t.getElementsByClassName(e);return goog.asserts.assert(1==r.length,"Should only be one element with class name "+e),shaka.util.Dom.asHTMLElement(r[0])},shaka.util.Dom.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},goog.exportSymbol("shaka.util.Dom",shaka.util.Dom),goog.exportProperty(shaka.util.Dom,"removeAllChildren",shaka.util.Dom.removeAllChildren),shaka.text.UITextDisplayer=function(e,t){var r=this;goog.asserts.assert(t,"videoContainer should be valid."),this.isTextVisible_=!1,this.cues_=[],this.video_=e,this.videoContainer_=t,this.textContainer_=shaka.util.Dom.createHTMLElement("div"),this.textContainer_.classList.add("shaka-text-container"),this.textContainer_.style.textAlign="center",this.textContainer_.style.display="flex",this.textContainer_.style.flexDirection="column",this.textContainer_.style.alignItems="center",this.textContainer_.style.justifyContent="flex-end",this.videoContainer_.appendChild(this.textContainer_),this.captionsTimer_=new shaka.util.Timer((function(){r.updateCaptions_()})).tickEvery(.25),this.currentCuesMap_=new Map},shaka.text.UITextDisplayer.prototype.append=function(e){for(var t=[].concat($jscomp.arrayFromIterable(this.cues_)),r={},n=(e=$jscomp.makeIterator(e)).next();!n.done;r={$jscomp$loop$prop$cue$488:r.$jscomp$loop$prop$cue$488},n=e.next())r.$jscomp$loop$prop$cue$488=n.value,t.some(function(e){return function(t){return shaka.text.Cue.equal(t,e.$jscomp$loop$prop$cue$488)}}(r))||this.cues_.push(r.$jscomp$loop$prop$cue$488);this.updateCaptions_()},shaka.text.UITextDisplayer.prototype.destroy=function(){this.videoContainer_.removeChild(this.textContainer_),this.textContainer_=null,this.isTextVisible_=!1,this.cues_=[],this.captionsTimer_&&this.captionsTimer_.stop(),this.currentCuesMap_.clear()},shaka.text.UITextDisplayer.prototype.remove=function(e,t){return!!this.textContainer_&&(this.cues_=this.cues_.filter((function(r){return r.startTime<e||r.endTime>=t})),this.updateCaptions_(),!0)},shaka.text.UITextDisplayer.prototype.isTextVisible=function(){return this.isTextVisible_},shaka.text.UITextDisplayer.prototype.setTextVisibility=function(e){this.isTextVisible_=e},shaka.text.UITextDisplayer.prototype.updateCaptions_=function(){for(var e=this,t=this.video_.currentTime,r=function(r){return e.cues_.includes(r)&&e.isTextVisible_&&r.startTime<=t&&r.endTime>=t},n=$jscomp.makeIterator(this.currentCuesMap_.keys()),i=n.next();!i.done;i=n.next())if(i=i.value,!r(i)){var a=this.currentCuesMap_.get(i);this.textContainer_.removeChild(a),this.currentCuesMap_.delete(i)}for(n=new Set(this.currentCuesMap_.values()),a=(i=$jscomp.makeIterator(Array.from(this.textContainer_.childNodes))).next();!a.done;a=i.next())a=a.value,n.has(a)||this.textContainer_.removeChild(a);for(n=this.cues_.filter((function(t){return r(t)&&!e.currentCuesMap_.has(t)})).sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next())this.displayCue_(this.textContainer_,i.value)},shaka.text.UITextDisplayer.prototype.displayLeafCue_=function(e,t,r){var n=shaka.util.Dom.createHTMLElement("span");return r&&n.classList.add("shaka-nested-cue"),this.setCaptionStyles_(n,t,!0),e.appendChild(n),n},shaka.text.UITextDisplayer.prototype.displayCue_=function(e,t){if(t.nestedCues.length){var r=shaka.util.Dom.createHTMLElement("p");r.style.width="100%",this.setCaptionStyles_(r,t,!1);for(var n=0;n<t.nestedCues.length;n++)this.displayLeafCue_(r,t.nestedCues[n],!0);e.appendChild(r),this.currentCuesMap_.set(t,r)}else this.currentCuesMap_.set(t,this.displayLeafCue_(e,t,!1))},shaka.text.UITextDisplayer.prototype.setCaptionStyles_=function(e,t,r){var n=shaka.text.Cue,i=e.style,a=0==t.nestedCues.length;if(t.spacer)i.flexBasis="100%",i.height="0";else{if(i.whiteSpace="pre-line",e.textContent=t.payload,a&&(i.backgroundColor=t.backgroundColor),i.border=t.border,i.color=t.color,i.direction=t.direction,i.opacity=t.opacity,i.paddingLeft=shaka.text.UITextDisplayer.convertLengthValue_(t.linePadding,t,this.videoContainer_),i.paddingRight=shaka.text.UITextDisplayer.convertLengthValue_(t.linePadding,t,this.videoContainer_),t.backgroundImage&&(i.backgroundImage="url('"+t.backgroundImage+"')",i.backgroundRepeat="no-repeat",i.backgroundSize="contain",i.backgroundPosition="center",""==t.backgroundColor&&(i.backgroundColor="transparent")),t.backgroundImage&&t.region){e=shaka.text.CueRegion.units.PERCENTAGE;var o=t.region.widthUnits==e?"%":"px";i.height=t.region.height+(t.region.heightUnits==e?"%":"px"),i.width=t.region.width+o}i.justifyContent=t.displayAlign==n.displayAlign.BEFORE?"flex-start":t.displayAlign==n.displayAlign.CENTER?"center":"flex-end",a?i.display="inline-block":(i.display="flex",i.flexDirection="row",i.flexWrap="wrap",i.margin="0",i.alignItems=i.justifyContent,i.justifyContent="center"),r&&(i.maxWidth="100%"),i.fontFamily=t.fontFamily,i.fontWeight=t.fontWeight.toString(),i.fontStyle=t.fontStyle,i.letterSpacing=t.letterSpacing,i.fontSize=shaka.text.UITextDisplayer.convertLengthValue_(t.fontSize,t,this.videoContainer_),t.line?t.lineInterpretation==n.lineInterpretation.PERCENTAGE&&(i.position="absolute",t.writingMode==n.writingMode.HORIZONTAL_TOP_TO_BOTTOM?t.lineAlign==n.lineAlign.START?i.top=t.line+"%":t.lineAlign==n.lineAlign.END&&(i.bottom=t.line+"%"):t.writingMode==n.writingMode.VERTICAL_LEFT_TO_RIGHT?t.lineAlign==n.lineAlign.START?i.left=t.line+"%":t.lineAlign==n.lineAlign.END&&(i.right=t.line+"%"):t.lineAlign==n.lineAlign.START?i.right=t.line+"%":t.lineAlign==n.lineAlign.END&&(i.left=t.line+"%")):t.region&&t.region.id&&!a&&(r=shaka.text.CueRegion.units.PERCENTAGE,a=t.region.widthUnits==r?"%":"px",e=t.region.viewportAnchorUnits==r?"%":"px",i.height=t.region.height+(t.region.heightUnits==r?"%":"px"),i.width=t.region.width+a,i.position="absolute",i.top=t.region.viewportAnchorY+e,i.left=t.region.viewportAnchorX+e),i.lineHeight=t.lineHeight,t.position&&(t.writingMode==n.writingMode.HORIZONTAL_TOP_TO_BOTTOM?i.paddingLeft=t.position:i.paddingTop=t.position),t.positionAlign==n.positionAlign.LEFT?i.cssFloat="left":t.positionAlign==n.positionAlign.RIGHT&&(i.cssFloat="right"),i.textAlign=t.textAlign,i.textDecoration=t.textDecoration.join(" "),i.writingMode=t.writingMode,t.size&&(t.writingMode==n.writingMode.HORIZONTAL_TOP_TO_BOTTOM?i.width=t.size+"%":i.height=t.size+"%")}},shaka.text.UITextDisplayer.getLengthValueInfo_=function(e){return(e=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(e[1]),unit:e[2]}:null},shaka.text.UITextDisplayer.convertLengthValue_=function(e,t,r){var n=shaka.text.UITextDisplayer.getLengthValueInfo_(e);if(!n)return e;var i=n.value;switch(n.unit){case"%":return shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_(i/100,t,r);case"c":return shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_(i,t,r);default:return e}},shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_=function(e,t,r){return r.clientHeight*e/t.cellResolution.rows+"px"},goog.exportSymbol("shaka.text.UITextDisplayer",shaka.text.UITextDisplayer),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"setTextVisibility",shaka.text.UITextDisplayer.prototype.setTextVisibility),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"isTextVisible",shaka.text.UITextDisplayer.prototype.isTextVisible),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"remove",shaka.text.UITextDisplayer.prototype.remove),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"destroy",shaka.text.UITextDisplayer.prototype.destroy),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"append",shaka.text.UITextDisplayer.prototype.append),shaka.util.ConfigUtils=function(){},shaka.util.ConfigUtils.mergeConfigObjects=function(e,t,r,n,i){goog.asserts.assert(e,"Destination config must not be null!");var a,o=i in n,s=!0;for(a in t){var l=i+"."+a,u=o?n[i]:r[a];o||a in r?void 0===t[a]?void 0===u||o?delete e[a]:e[a]=shaka.util.ObjectUtils.cloneObject(u):u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=shaka.util.ObjectUtils.cloneObject(u)),l=shaka.util.ConfigUtils.mergeConfigObjects(e[a],t[a],u,n,l),s=s&&l):typeof t[a]!=typeof u||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=u.constructor?(shaka.log.alwaysError("Invalid config, wrong type for "+l),s=!1):("function"==typeof r[a]&&r[a].length!=t[a].length&&shaka.log.alwaysWarn("Unexpected number of arguments for "+l),e[a]=t[a]):(shaka.log.alwaysError("Invalid config, unrecognized key "+l),s=!1)}return s},shaka.util.ConfigUtils.convertToConfigObject=function(e,t){for(var r={},n=r,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(n[a=e.substring(a,i).replace(/\\\./g,".")]={},n=n[a],a=i+1),i+=1;return n[e.substring(a).replace(/\\\./g,".")]=t,r},goog.exportSymbol("shaka.util.ConfigUtils",shaka.util.ConfigUtils),goog.exportProperty(shaka.util.ConfigUtils,"convertToConfigObject",shaka.util.ConfigUtils.convertToConfigObject),goog.exportProperty(shaka.util.ConfigUtils,"mergeConfigObjects",shaka.util.ConfigUtils.mergeConfigObjects),shaka.util.PlayerConfiguration=function(){},shaka.util.PlayerConfiguration.createDefault=function(){var e=1e6,t=1/0;navigator.connection&&(navigator.connection.downlink&&(e=1e6*navigator.connection.downlink),navigator.connection.saveData&&(t=360));var r={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:shaka.media.DrmEngine.defaultInitDataTransform,logLicenseExchange:!1,updateExpirationTime:1},n={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},i={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),failureCallback:function(e){return shaka.log.error("Unhandled streaming error",e),[e]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2};(shaka.util.Platform.isWebOS()||shaka.util.Platform.isTizen()||shaka.util.Platform.isChromecast())&&(i.stallSkip=0);var a={trackSelectionCallback:function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return t.return(e)}))},progressCallback:function(e,t){return[e,t]},usePersistentLicense:!0},o={drm:r,manifest:n,streaming:i,offline:a,abrFactory:function(){return new shaka.abr.SimpleAbrManager},abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return t.return(shaka.util.PlayerConfiguration.defaultTrackSelect(e,o.preferredAudioLanguage))}))},o},shaka.util.PlayerConfiguration.mergeConfigObjects=function(e,t,r){var n={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return shaka.util.ConfigUtils.mergeConfigObjects(e,t,r||shaka.util.PlayerConfiguration.createDefault(),n,"")},shaka.util.PlayerConfiguration.defaultTrackSelect=function(e,t){var r=shaka.util.ManifestParserUtils.ContentType,n=shaka.util.LanguageUtils,i=e.filter((function(e){return"variant"==e.type})),a=[],o=n.findClosestLocale(t,i.map((function(e){return e.language})));o&&(a=i.filter((function(e){return n.normalize(e.language)==o}))),0==a.length&&(a=i.filter((function(e){return e.primary}))),0==a.length&&(1<new Set(i.map((function(e){return e.language}))).size&&shaka.log.warning("Could not choose a good audio track based on language preferences or primary tracks.  An arbitrary language will be stored!"),a=i);var s=a.filter((function(e){return e.height&&480>=e.height}));if(s.length&&(s.sort((function(e,t){return goog.asserts.assert(null!=e.height,"Null height"),goog.asserts.assert(null!=t.height,"Null height"),t.height-e.height})),a=s.filter((function(e){return e.height==s[0].height}))),i=[],a.length){var l=Math.floor(a.length/2);a.sort((function(e,t){return e.bandwidth-t.bandwidth})),i.push(a[l])}for(l=(a=$jscomp.makeIterator(e)).next();!l.done;l=a.next())(l=l.value).type==r.TEXT&&i.push(l);return i},goog.exportSymbol("shaka.util.PlayerConfiguration",shaka.util.PlayerConfiguration),goog.exportProperty(shaka.util.PlayerConfiguration,"mergeConfigObjects",shaka.util.PlayerConfiguration.mergeConfigObjects),shaka.util.StateHistory=function(){this.open_=null,this.closed_=[]},shaka.util.StateHistory.prototype.update=function(e){null==this.open_?this.start_(e):this.update_(e)},shaka.util.StateHistory.prototype.getTimeSpentIn=function(e){var t=0;this.open_&&this.open_.state==e&&(t+=this.open_.duration);for(var r=$jscomp.makeIterator(this.closed_),n=r.next();!n.done;n=r.next())t+=(n=n.value).state==e?n.duration:0;return t},shaka.util.StateHistory.prototype.getCopy=function(){for(var e=function(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}},t=[],r=$jscomp.makeIterator(this.closed_),n=r.next();!n.done;n=r.next())t.push(e(n.value));return this.open_&&t.push(e(this.open_)),t},shaka.util.StateHistory.prototype.start_=function(e){goog.asserts.assert(null==this.open_,"There must be no open entry in order when we start"),shaka.log.v1("Changing Player state to",e),this.open_={timestamp:this.getNowInSeconds_(),state:e,duration:0}},shaka.util.StateHistory.prototype.update_=function(e){goog.asserts.assert(this.open_,"There must be an open entry in order to update it");var t=this.getNowInSeconds_();this.open_.duration=t-this.open_.timestamp,this.open_.state!=e&&(shaka.log.v1("Changing Player state to",e),this.closed_.push(this.open_),this.open_={timestamp:t,state:e,duration:0})},shaka.util.StateHistory.prototype.getNowInSeconds_=function(){return Date.now()/1e3},shaka.util.SwitchHistory=function(){this.currentText_=this.currentVariant_=null,this.history_=[]},shaka.util.SwitchHistory.prototype.updateCurrentVariant=function(e,t){this.currentVariant_!=e&&(this.currentVariant_=e,this.history_.push({timestamp:this.getNowInSeconds_(),id:e.id,type:"variant",fromAdaptation:t,bandwidth:e.bandwidth}))},shaka.util.SwitchHistory.prototype.updateCurrentText=function(e,t){this.currentText_!=e&&(this.currentText_=e,this.history_.push({timestamp:this.getNowInSeconds_(),id:e.id,type:"text",fromAdaptation:t,bandwidth:null}))},shaka.util.SwitchHistory.prototype.getCopy=function(){for(var e=[],t=$jscomp.makeIterator(this.history_),r=t.next();!r.done;r=t.next())e.push(this.clone_(r.value));return e},shaka.util.SwitchHistory.prototype.getNowInSeconds_=function(){return Date.now()/1e3},shaka.util.SwitchHistory.prototype.clone_=function(e){return{timestamp:e.timestamp,id:e.id,type:e.type,fromAdaptation:e.fromAdaptation,bandwidth:e.bandwidth}},shaka.util.Stats=function(){this.bandwidthEstimate_=this.currentStreamBandwidth_=this.maxSegmentDurationSeconds_=this.liveLatencySeconds_=this.licenseTimeSeconds_=this.drmTimeSeconds_=this.manifestTimeSeconds_=this.loadLatencySeconds_=this.totalCorruptedFrames_=this.totalDecodedFrames_=this.totalDroppedFrames_=this.height_=this.width_=NaN,this.stateHistory_=new shaka.util.StateHistory,this.switchHistory_=new shaka.util.SwitchHistory},shaka.util.Stats.prototype.setDroppedFrames=function(e,t){this.totalDroppedFrames_=e,this.totalDecodedFrames_=t},shaka.util.Stats.prototype.setCorruptedFrames=function(e){this.totalCorruptedFrames_=e},shaka.util.Stats.prototype.setResolution=function(e,t){this.width_=e,this.height_=t},shaka.util.Stats.prototype.setLoadLatency=function(e){this.loadLatencySeconds_=e},shaka.util.Stats.prototype.setManifestTime=function(e){this.manifestTimeSeconds_=e},shaka.util.Stats.prototype.setDrmTime=function(e){this.drmTimeSeconds_=e},shaka.util.Stats.prototype.setLicenseTime=function(e){this.licenseTimeSeconds_=e},shaka.util.Stats.prototype.setLiveLatency=function(e){this.liveLatencySeconds_=e},shaka.util.Stats.prototype.setMaxSegmentDuration=function(e){this.maxSegmentDurationSeconds_=e},shaka.util.Stats.prototype.setCurrentStreamBandwidth=function(e){this.currentStreamBandwidth_=e},shaka.util.Stats.prototype.setBandwidthEstimate=function(e){this.bandwidthEstimate_=e},shaka.util.Stats.prototype.getStateHistory=function(){return this.stateHistory_},shaka.util.Stats.prototype.getSwitchHistory=function(){return this.switchHistory_},shaka.util.Stats.prototype.getBlob=function(){return{width:this.width_,height:this.height_,streamBandwidth:this.currentStreamBandwidth_,decodedFrames:this.totalDecodedFrames_,droppedFrames:this.totalDroppedFrames_,corruptedFrames:this.totalCorruptedFrames_,estimatedBandwidth:this.bandwidthEstimate_,loadLatency:this.loadLatencySeconds_,manifestTimeSeconds:this.manifestTimeSeconds_,drmTimeSeconds:this.drmTimeSeconds_,playTime:this.stateHistory_.getTimeSpentIn("playing"),pauseTime:this.stateHistory_.getTimeSpentIn("paused"),bufferingTime:this.stateHistory_.getTimeSpentIn("buffering"),licenseTime:this.licenseTimeSeconds_,liveLatency:this.liveLatencySeconds_,maxSegmentDuration:this.maxSegmentDurationSeconds_,stateHistory:this.stateHistory_.getCopy(),switchHistory:this.switchHistory_.getCopy()}},shaka.util.Stats.getEmptyBlob=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]}},shaka.Player=function(e,t){shaka.util.FakeEventTarget.call(this);var r=this;this.loadMode_=shaka.Player.LoadMode.NOT_LOADED,this.videoContainer_=this.video_=null,this.isTextVisible_=!1,this.eventManager_=new shaka.util.EventManager,this.abrManagerFactory_=this.abrManager_=this.assetUri_=this.manifest_=this.parserFactory_=this.parser_=this.streamingEngine_=this.regionTimeline_=this.bufferObserver_=this.bufferPoller_=this.playRateController_=this.playheadObservers_=this.playhead_=this.mediaSourceEngine_=this.drmEngine_=this.networkingEngine_=null,this.nextExternalStreamId_=1e9,this.config_=this.defaultConfig_(),this.maxHwRes_={width:1/0,height:1/0},this.stats_=null,this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(this.config_.preferredAudioLanguage,this.config_.preferredVariantRole,this.config_.preferredAudioChannelCount),this.currentTextLanguage_=this.config_.preferredTextLanguage,this.currentTextRole_=this.config_.preferredTextRole,this.cleanupOnUnload_=[],t&&t(this),this.networkingEngine_=this.createNetworkingEngine(),this.adManager_=null,shaka.Player.adManagerFactory_&&(this.adManager_=shaka.util.Functional.callFactory(shaka.Player.adManagerFactory_)),this.eventManager_.listen(window,"online",(function(){r.retryStreaming()})),this.detachNode_={name:"detach"},this.attachNode_={name:"attach"},this.unloadNode_={name:"unload"},this.parserNode_={name:"manifest-parser"},this.manifestNode_={name:"manifest"},this.mediaSourceNode_={name:"media-source"},this.drmNode_={name:"drm-engine"},this.loadNode_={name:"load"},this.srcEqualsDrmNode_={name:"src-equals-drm-engine"},this.srcEqualsNode_={name:"src-equals"};var n=shaka.util.AbortableOperation,i=new Map;i.set(this.attachNode_,(function(e,t){return n.notAbortable(r.onAttach_(e,t))})),i.set(this.detachNode_,(function(e,t){return n.notAbortable(r.onDetach_(e,t))})),i.set(this.unloadNode_,(function(e,t){return n.notAbortable(r.onUnload_(e,t))})),i.set(this.mediaSourceNode_,(function(e,t){var i=r.onInitializeMediaSourceEngine_(e,t);return n.notAbortable(i)})),i.set(this.parserNode_,(function(e,t){var i=r.onInitializeParser_(e,t);return n.notAbortable(i)})),i.set(this.manifestNode_,(function(e,t){return r.onParseManifest_(e,t)})),i.set(this.drmNode_,(function(e,t){var i=r.onInitializeDrm_(e,t);return n.notAbortable(i)})),i.set(this.loadNode_,(function(e,t){return n.notAbortable(r.onLoad_(e,t))})),i.set(this.srcEqualsDrmNode_,(function(e,t){var i=r.onInitializeSrcEqualsDrm_(e,t);return n.notAbortable(i)})),i.set(this.srcEqualsNode_,(function(e,t){return r.onSrcEquals_(e,t)})),this.walker_=new shaka.routing.Walker(this.detachNode_,shaka.Player.createEmptyPayload_(),{getNext:function(e,t,n,i){return r.getNextStep_(e,t,n,i)},enterNode:function(e,t,n){return r.dispatchEvent(r.makeEvent_(shaka.Player.EventName.OnStateChange,{state:e.name})),i.get(e)(t,n)},handleError:function(e,t){return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(shaka.log.warning("The walker saw an error:"),t instanceof shaka.util.Error?shaka.log.warning("Error Code:",t.code):(shaka.log.warning("Error Message:",t.message),shaka.log.warning("Error Stack:",t.stack)),n.yield(r.onUnload_(e,shaka.Player.createEmptyPayload_()),2)):n.return(e.mediaElement?r.attachNode_:r.detachNode_)}))},onIdle:function(e){r.dispatchEvent(r.makeEvent_(shaka.Player.EventName.OnStateIdle,{state:e.name}))}}),e&&this.attach(e,!0)},$jscomp.inherits(shaka.Player,shaka.util.FakeEventTarget),shaka.Player.prototype.makeEvent_=function(e,t){return new shaka.util.FakeEvent(e,t)},shaka.Player.prototype.destroy=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){switch(r.nextAddress){case 1:return t.loadMode_==shaka.Player.LoadMode.DESTROYED?r.return():(t.loadMode_=shaka.Player.LoadMode.DESTROYED,e=t.walker_.startNewRoute((function(e){return{node:t.detachNode_,payload:shaka.Player.createEmptyPayload_(),interruptible:!1}})),r.yield(new Promise((function(t){e.onStart=function(){shaka.log.info("Preparing to destroy walker...")},e.onEnd=function(){t()},e.onCancel=function(){goog.asserts.assert(!1,"Our final detach call should never be cancelled."),t()},e.onError=function(){goog.asserts.assert(!1,"Our final detach call should never see an error"),t()},e.onSkip=function(){goog.asserts.assert(!1,"Our final detach call should never be skipped"),t()}})),2));case 2:return r.yield(t.walker_.destroy(),3);case 3:if(t.eventManager_&&(t.eventManager_.release(),t.eventManager_=null),t.abrManagerFactory_=null,t.abrManager_=null,t.config_=null,t.stats_=null,t.videoContainer_=null,!t.networkingEngine_){r.jumpTo(0);break}return r.yield(t.networkingEngine_.destroy(),5);case 5:t.networkingEngine_=null,r.jumpToEnd()}}))},shaka.Player.registerSupportPlugin=function(e,t){shaka.Player.supportPlugins_[e]=t},shaka.Player.setAdManagerFactory=function(e){shaka.Player.adManagerFactory_=e},shaka.Player.isBrowserSupported=function(){if(!(window.Promise&&window.Uint8Array&&Array.prototype.forEach))return!1;var e=shaka.util.Platform.safariVersion();return!(e&&12>e||!shaka.media.DrmEngine.isBrowserSupported())&&(!!shaka.util.Platform.supportsMediaSource()||shaka.util.Platform.supportsMediaType("application/x-mpegurl"))},shaka.Player.probeSupport=function(){var e,t,r,n,i,a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){if(1==o.nextAddress)return goog.asserts.assert(shaka.Player.isBrowserSupported(),"Must have basic support"),o.yield(shaka.media.DrmEngine.probeSupport(),2);for(a in e=o.yieldResult,t=shaka.media.ManifestParser.probeSupport(),r=shaka.media.MediaSourceEngine.probeSupport(),n={manifest:t,media:r,drm:e},i=shaka.Player.supportPlugins_)n[a]=i[a]();return o.return(n)}))},shaka.Player.prototype.attach=function(e,t){if(t=void 0===t||t,this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());var r=shaka.Player.createEmptyPayload_();r.mediaElement=e,shaka.util.Platform.supportsMediaSource()||(t=!1);var n=t?this.mediaSourceNode_:this.attachNode_,i=this.walker_.startNewRoute((function(e){return{node:n,payload:r,interruptible:!1}}));return i.onStart=function(){return shaka.log.info("Starting attach...")},this.wrapWalkerListenersWithPromise_(i)},shaka.Player.prototype.detach=function(){var e=this;if(this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());var t=this.walker_.startNewRoute((function(t){return{node:e.detachNode_,payload:shaka.Player.createEmptyPayload_(),interruptible:!1}}));return t.onStart=function(){return shaka.log.info("Starting detach...")},this.wrapWalkerListenersWithPromise_(t)},shaka.Player.prototype.unload=function(e){var t=this;if(e=void 0===e||e,this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());shaka.util.Platform.supportsMediaSource()||(e=!1);var r=shaka.Player.createEmptyPayload_(),n=this.walker_.startNewRoute((function(n){var i=n.mediaElement&&e?t.mediaSourceNode_:n.mediaElement?t.attachNode_:t.detachNode_;return goog.asserts.assert(i,"We should have picked a destination."),r.mediaElement=n.mediaElement,{node:i,payload:r,interruptible:!1}}));return n.onStart=function(){return shaka.log.info("Starting unload...")},this.wrapWalkerListenersWithPromise_(n)},shaka.Player.prototype.load=function(e,t,r){var n=this;if(this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());this.dispatchEvent(this.makeEvent_(shaka.Player.EventName.Loading));var i=shaka.Player.createEmptyPayload_();i.uri=e,i.startTimeOfLoad=Date.now()/1e3,r&&(i.mimeType=r),void 0!==t&&(i.startTime=t);var a=this.shouldUseSrcEquals_(i)?this.srcEqualsNode_:this.loadNode_,o=this.walker_.startNewRoute((function(e){return null==e.mediaElement?null:(i.mediaElement=e.mediaElement,{node:a,payload:i,interruptible:!0})}));return this.stats_=new shaka.util.Stats,o.onStart=function(){return shaka.log.info("Starting load of "+e+"...")},new Promise((function(e,t){o.onSkip=function(){return t(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.NO_VIDEO_ELEMENT))},o.onEnd=function(){e(),n.dispatchEvent(n.makeEvent_(shaka.Player.EventName.Loaded))},o.onCancel=function(){return t(n.createAbortLoadError_())},o.onError=function(e){return t(e)}}))},shaka.Player.prototype.shouldUseSrcEquals_=function(e){var t=shaka.util.Platform;if(!t.supportsMediaSource())return!0;var r=e.mimeType,n=e.uri||"";return r||(r={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[shaka.media.ManifestParser.getExtension(n)]),!!r&&((e=""!=(e.mediaElement||t.anyMediaElement()).canPlayType(r))&&(!(r=shaka.media.ManifestParser.isSupported(n,r))||(goog.asserts.assert(e&&r,"Both native and MSE playback should be possible!"),t.isApple()&&this.config_.streaming.useNativeHlsOnSafari)))},shaka.Player.prototype.onAttach_=function(e,t){var r=this;return goog.asserts.assert(null==e.mediaElement||e.mediaElement==t.mediaElement,"The routing logic failed. MediaElement requirement failed."),null==e.mediaElement&&(e.mediaElement=t.mediaElement,this.eventManager_.listen(e.mediaElement,"error",(function(e){return r.onVideoError_(e)}))),this.video_=e.mediaElement,Promise.resolve()},shaka.Player.prototype.onDetach_=function(e,t){return e.mediaElement&&(this.eventManager_.unlisten(e.mediaElement,"error"),e.mediaElement=null),this.video_=null,Promise.resolve()},shaka.Player.prototype.onUnload_=function(e,t){var r,n,i,a,o,s,l,u,c,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){switch(t.nextAddress){case 1:return d.loadMode_!=shaka.Player.LoadMode.DESTROYED&&(d.loadMode_=shaka.Player.LoadMode.NOT_LOADED),r=d.cleanupOnUnload_.map((function(e){return e()})),d.cleanupOnUnload_=[],t.yield(Promise.all(r),2);case 2:if(d.dispatchEvent(d.makeEvent_(shaka.Player.EventName.Unloading)),e.mimeType=null,e.startTime=null,e.uri=null,e.mediaElement&&(d.eventManager_.unlisten(e.mediaElement,"loadedmetadata"),d.eventManager_.unlisten(e.mediaElement,"playing"),d.eventManager_.unlisten(e.mediaElement,"pause"),d.eventManager_.unlisten(e.mediaElement,"ended"),d.eventManager_.unlisten(e.mediaElement,"ratechange")),d.playheadObservers_&&(d.playheadObservers_.release(),d.playheadObservers_=null),d.bufferPoller_&&(d.bufferPoller_.stop(),d.bufferPoller_=null),!d.parser_){t.jumpTo(3);break}return t.yield(d.parser_.stop(),4);case 4:d.parser_=null,d.parserFactory_=null;case 3:if(!d.abrManager_){t.jumpTo(5);break}return t.yield(d.abrManager_.stop(),5);case 5:if(!d.streamingEngine_){t.jumpTo(7);break}return t.yield(d.streamingEngine_.destroy(),8);case 8:d.streamingEngine_=null;case 7:if(d.playRateController_&&(d.playRateController_.release(),d.playRateController_=null),d.playhead_&&(d.playhead_.release(),d.playhead_=null),!d.mediaSourceEngine_){t.jumpTo(9);break}return t.yield(d.mediaSourceEngine_.destroy(),10);case 10:d.mediaSourceEngine_=null;case 9:if(d.adManager_&&d.adManager_.onAssetUnload(),!e.mediaElement||!e.mediaElement.src){t.jumpTo(11);break}return t.yield(new Promise((function(e){return new shaka.util.Timer(e).tickAfter(.1)})),12);case 12:e.mediaElement.removeAttribute("src"),e.mediaElement.load();case 11:if(!d.drmEngine_){t.jumpTo(13);break}return t.yield(d.drmEngine_.destroy(),14);case 14:d.drmEngine_=null;case 13:if(d.assetUri_=null,d.bufferObserver_=null,d.manifest_){for(n=$jscomp.makeIterator(d.manifest_.variants),i=n.next();!i.done;i=n.next())for(a=i.value,o=$jscomp.makeIterator([a.audio,a.video]),s=o.next();!s.done;s=o.next())(l=s.value)&&l.segmentIndex&&l.segmentIndex.release();for(u=$jscomp.makeIterator(d.manifest_.textStreams),s=u.next();!s.done;s=u.next())(c=s.value).segmentIndex&&c.segmentIndex.release()}d.manifest_=null,d.stats_=new shaka.util.Stats,d.lastTextFactory_=null,d.updateBufferState_(),t.jumpToEnd()}}))},shaka.Player.prototype.onInitializeMediaSourceEngine_=function(e,t){var r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){if(1==s.nextAddress)return goog.asserts.assert(shaka.util.Platform.supportsMediaSource(),"We should not be initializing media source on a platform that does not support media source."),goog.asserts.assert(e.mediaElement,"We should have a media element when initializing media source."),goog.asserts.assert(e.mediaElement==t.mediaElement,"|has| and |wants| should have the same media element when initializing media source."),goog.asserts.assert(null==o.mediaSourceEngine_,"We should not have a media source engine yet."),r=shaka.media.MuxJSClosedCaptionParser.isSupported()?new shaka.media.MuxJSClosedCaptionParser:new shaka.media.NoopCaptionParser,n=o.config_.textDisplayFactory,i=shaka.util.Functional.callFactory(n),o.lastTextFactory_=n,a=o.createMediaSourceEngine(e.mediaElement,r,i,(function(e,t,r){o.processTimedMetadataMediaSrc_(e,t,r)})),s.yield(a.open(),2);o.mediaSourceEngine_=a,s.jumpToEnd()}))},shaka.Player.prototype.onInitializeParser_=function(e,t){var r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){if(1==s.nextAddress)return goog.asserts.assert(e.mediaElement,"We should have a media element when initializing the parser."),goog.asserts.assert(e.mediaElement==t.mediaElement,"|has| and |wants| should have the same media element when initializing the parser."),goog.asserts.assert(o.networkingEngine_,"Need networking engine when initializing the parser."),goog.asserts.assert(o.config_,"Need player config when initializing the parser."),e.mimeType=t.mimeType,e.uri=t.uri,goog.asserts.assert(e.uri,"We should have an asset uri when initializing the parsing."),r=e.uri,n=o.networkingEngine_,o.assetUri_=r,i=o,s.yield(shaka.media.ManifestParser.getFactory(r,n,o.config_.manifest.retryParameters,e.mimeType),2);i.parserFactory_=s.yieldResult,goog.asserts.assert(o.parserFactory_,"Must have manifest parser"),o.parser_=shaka.util.Functional.callFactory(o.parserFactory_),a=shaka.util.ObjectUtils.cloneObject(o.config_.manifest),t.mediaElement&&"AUDIO"===t.mediaElement.nodeName&&(a.disableVideo=!0),o.parser_.configure(a),s.jumpToEnd()}))},shaka.Player.prototype.onParseManifest_=function(e,t){var r=this;goog.asserts.assert(e.mimeType==t.mimeType,"|has| and |wants| should have the same mime type when parsing."),goog.asserts.assert(e.uri==t.uri,"|has| and |wants| should have the same uri when parsing."),goog.asserts.assert(e.uri,"|has| should have a valid uri when parsing."),goog.asserts.assert(e.uri==this.assetUri_,"|has.uri| should match the cached asset uri."),goog.asserts.assert(this.networkingEngine_,"Need networking engine to parse manifest."),goog.asserts.assert(this.config_,"Need player config to parse manifest."),goog.asserts.assert(this.parser_,"|this.parser_| should have been set in an earlier step.");var n=e.uri,i=this.networkingEngine_;this.regionTimeline_=new shaka.media.RegionTimeline((function(){return r.seekRange()})),this.regionTimeline_.setListeners((function(e){r.onRegionEvent_(shaka.Player.EventName.TimelineRegionAdded,e),r.adManager_&&r.adManager_.onDashTimedMetadata(e)}));var a={networkingEngine:i,filter:function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return t.return(r.filterManifest_(e))}))},makeTextStreamsForClosedCaptions:function(e){return r.makeTextStreamsForClosedCaptions_(e)},onTimelineRegionAdded:function(e){return r.regionTimeline_.addRegion(e)},onEvent:function(e){return r.dispatchEvent(e)},onError:function(e){return r.onError_(e)}},o=Date.now()/1e3;return new shaka.util.AbortableOperation(function(){var e,t,i,s;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){if(1==l.nextAddress)return e=r,l.yield(r.parser_.start(n,a),2);if(e.manifest_=l.yieldResult,t=r.makeEvent_(shaka.Player.EventName.ManifestParsed),r.dispatchEvent(t),0==r.manifest_.variants.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.NO_VARIANTS);shaka.Player.filterForAVVariants_(r.manifest_),i=Date.now()/1e3,s=i-o,r.stats_.setManifestTime(s),l.jumpToEnd()}))}(),(function(){return shaka.log.info("Aborting parser step..."),r.parser_.stop()}))},shaka.Player.prototype.onInitializeDrm_=function(e,t){var r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(goog.asserts.assert(e.mimeType==t.mimeType,"The load graph should have ensured the mime types matched."),goog.asserts.assert(e.uri==t.uri,"The load graph should have ensured the uris matched"),goog.asserts.assert(i.networkingEngine_,"|onInitializeDrm_| should never be called after |destroy|"),goog.asserts.assert(i.config_,"|onInitializeDrm_| should never be called after |destroy|"),goog.asserts.assert(i.manifest_,"|this.manifest_| should have been set in an earlier step."),goog.asserts.assert(e.mediaElement,"We should have a media element when initializing the DRM Engine."),r=Date.now()/1e3,n=!0,i.drmEngine_=i.createDrmEngine({netEngine:i.networkingEngine_,onError:function(e){i.onError_(e)},onKeyStatus:function(e){i.onKeyStatus_(e)},onExpirationUpdated:function(e,t){i.onExpirationUpdated_(e,t)},onEvent:function(e){i.dispatchEvent(e),e.type==shaka.Player.EventName.DrmSessionUpdate&&n&&(n=!1,e=Date.now()/1e3-r,i.stats_.setDrmTime(e))}}),i.drmEngine_.configure(i.config_.drm),a.yield(i.drmEngine_.initForPlayback(i.manifest_.variants,i.manifest_.offlineSessionIds),2)):3!=a.nextAddress?a.yield(i.drmEngine_.attach(e.mediaElement),3):(i.filterManifest_(i.manifest_),void a.jumpToEnd())}))},shaka.Player.prototype.onLoad_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(h){switch(h.nextAddress){case 1:if(goog.asserts.assert(e.mimeType==t.mimeType,"|has| and |wants| should have the same mime type when loading."),goog.asserts.assert(e.uri==t.uri,"|has| and |wants| should have the same uri when loading."),goog.asserts.assert(e.mediaElement,"We should have a media element when loading."),goog.asserts.assert(!isNaN(t.startTimeOfLoad),"|wants| should tell us when the load was originally requested"),e.startTime=t.startTime,r=e.mediaElement,n=e.uri,p.assetUri_=n,p.playRateController_=new shaka.media.PlayRateController({getRate:function(){return e.mediaElement.playbackRate},setRate:function(t){e.mediaElement.playbackRate=t},movePlayhead:function(t){e.mediaElement.currentTime+=t}}),i=function(){return p.updateStateHistory_()},a=function(){return p.onRateChange_()},p.eventManager_.listen(r,"playing",i),p.eventManager_.listen(r,"pause",i),p.eventManager_.listen(r,"ended",i),p.eventManager_.listen(r,"ratechange",a),o=p.config_.abrFactory,p.abrManager_&&p.abrManagerFactory_==o||(p.abrManagerFactory_=o,p.abrManager_=shaka.util.Functional.callFactory(o),"function"!=typeof p.abrManager_.playbackRateChanged&&(shaka.Deprecate.deprecateFeature(4,"AbrManager","Please use an AbrManager with playbackRateChanged function."),p.abrManager_.playbackRateChanged=function(e){}),p.abrManager_.configure(p.config_.abr)),p.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(p.config_.preferredAudioLanguage,p.config_.preferredVariantRole,p.config_.preferredAudioChannelCount),p.currentTextLanguage_=p.config_.preferredTextLanguage,shaka.Player.applyPlayRange_(p.manifest_.presentationTimeline,p.config_.playRangeStart,p.config_.playRangeEnd),p.abrManager_.init((function(e,t,r){return p.switch_(e,t,r)})),p.playhead_=p.createPlayhead(e.startTime),p.playheadObservers_=p.createPlayheadObserversForMSE_(),s=Math.max(p.manifest_.minBufferTime,p.config_.streaming.rebufferingGoal),p.startBufferManagement_(s),shaka.util.StreamUtils.chooseCodecsAndFilterManifest(p.manifest_,p.config_.preferredAudioChannelCount),p.streamingEngine_=p.createStreamingEngine(),p.streamingEngine_.configure(p.config_.streaming),p.loadMode_=shaka.Player.LoadMode.MEDIA_SOURCE,p.dispatchEvent(p.makeEvent_(shaka.Player.EventName.Streaming)),l=p.chooseVariant_(),goog.asserts.assert(l,"Must choose an initial variant!"),p.addVariantToSwitchHistory_(l,!0),p.streamingEngine_.switchVariant(l,!1,0),(u=p.chooseTextStream_())&&p.addTextStreamToSwitchHistory_(u,!0),p.setInitialTextState_(l,u),u&&p.shouldStreamText_()&&p.streamingEngine_.switchTextStream(u),!p.config_.streaming.startAtSegmentBoundary){h.jumpTo(2);break}return c=p.playhead_.getTime(),h.yield(p.adjustStartTime_(l,c),3);case 3:d=h.yieldResult,p.playhead_.setStartTime(d);case 2:return h.yield(p.streamingEngine_.start(),4);case 4:p.config_.abr.enabled&&(p.abrManager_.enable(),p.onAbrStatusChanged_()),p.filterManifest_(p.manifest_),p.onTracksChanged_(),p.onAdaptation_(),p.updateAbrManagerVariants_(),f=p.manifest_.variants.some((function(e){return e.primary})),p.config_.preferredAudioLanguage||f||shaka.log.warning("No preferred audio language set.  We have chosen an arbitrary language initially"),p.eventManager_.listenOnce(r,"loadedmetadata",(function(){var e=Date.now()/1e3-t.startTimeOfLoad;p.stats_.setLoadLatency(e)})),h.jumpToEnd()}}))},shaka.Player.prototype.onInitializeSrcEqualsDrm_=function(e,t){var r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return 1==t.nextAddress?(r=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(o.networkingEngine_,"|onInitializeSrcEqualsDrm_| should never be called after |destroy|"),goog.asserts.assert(o.config_,"|onInitializeSrcEqualsDrm_| should never be called after |destroy|"),n=Date.now()/1e3,i=!0,o.drmEngine_=o.createDrmEngine({netEngine:o.networkingEngine_,onError:function(e){o.onError_(e)},onKeyStatus:function(e){o.onKeyStatus_(e)},onExpirationUpdated:function(e,t){o.onExpirationUpdated_(e,t)},onEvent:function(e){o.dispatchEvent(e),e.type==shaka.Player.EventName.DrmSessionUpdate&&i&&(i=!1,e=Date.now()/1e3-n,o.stats_.setDrmTime(e))}}),o.drmEngine_.configure(o.config_.drm),a={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"video/mp4",codecs:"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:r.VIDEO,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0},t.yield(o.drmEngine_.initForPlayback([a],[]),2)):t.yield(o.drmEngine_.attach(e.mediaElement),0)}))},shaka.Player.prototype.onSrcEquals_=function(e,t){var r=this;goog.asserts.assert(e.mediaElement,"We should have a media element when loading."),goog.asserts.assert(t.uri,"|has| should have a valid uri when loading."),goog.asserts.assert(!isNaN(t.startTimeOfLoad),"|wants| should tell us when the load was originally requested"),goog.asserts.assert(this.video_==e.mediaElement,"The video element should match our media element"),e.uri=t.uri,e.startTime=t.startTime,this.assetUri_=e.uri,this.playhead_=new shaka.media.SrcEqualsPlayhead(e.mediaElement),null!=e.startTime&&this.playhead_.setStartTime(e.startTime),this.playRateController_=new shaka.media.PlayRateController({getRate:function(){return e.mediaElement.playbackRate},setRate:function(t){e.mediaElement.playbackRate=t},movePlayhead:function(t){e.mediaElement.currentTime+=t}}),this.startBufferManagement_(this.config_.streaming.rebufferingGoal);var n=function(){return r.updateStateHistory_()};this.eventManager_.listen(e.mediaElement,"playing",n),this.eventManager_.listen(e.mediaElement,"pause",n),this.eventManager_.listen(e.mediaElement,"ended",n),this.eventManager_.listen(e.mediaElement,"ratechange",(function(){return r.onRateChange_()})),"none"!=this.video_.preload&&this.eventManager_.listenOnce(this.video_,"loadedmetadata",(function(){var e=Date.now()/1e3-t.startTimeOfLoad;r.stats_.setLoadLatency(e)})),this.video_.audioTracks&&(this.eventManager_.listen(this.video_.audioTracks,"addtrack",(function(){return r.onTracksChanged_()})),this.eventManager_.listen(this.video_.audioTracks,"removetrack",(function(){return r.onTracksChanged_()})),this.eventManager_.listen(this.video_.audioTracks,"change",(function(){return r.onTracksChanged_()}))),this.video_.textTracks&&(this.eventManager_.listen(this.video_.textTracks,"addtrack",(function(e){r.onTracksChanged_(),r.processTimedMetadataSrcEqls_(e)})),this.eventManager_.listen(this.video_.textTracks,"removetrack",(function(){return r.onTracksChanged_()})),this.eventManager_.listen(this.video_.textTracks,"change",(function(){return r.onTracksChanged_()}))),e.mediaElement.src=e.uri,(shaka.util.Platform.isTizen()||shaka.util.Platform.isWebOS())&&e.mediaElement.load(),this.loadMode_=shaka.Player.LoadMode.SRC_EQUALS,this.dispatchEvent(this.makeEvent_(shaka.Player.EventName.Streaming));var i=new shaka.util.PublicPromise;shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){i.resolve()}));var a=!1;return this.cleanupOnUnload_.push((function(){a=!0})),shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_CURRENT_DATA,this.eventManager_,(function(){return $jscomp.asyncExecutePromiseGeneratorProgram((function(e){return 1==e.nextAddress?a?e.return():(r.setupPreferredAudioOnSrc_(),r.getFilteredTextTracks_().find((function(e){return"disabled"!=e.mode}))?e.jumpTo(2):e.yield(new Promise((function(e){r.eventManager_.listenOnce(r.video_.textTracks,"change",e),new shaka.util.Timer(e).tickAfter(1)})),2)):a?e.return():(r.setupPreferredTextOnSrc_(),void e.jumpToEnd())}))})),this.video_.error?i.reject(this.videoErrorToShakaError_()):"none"==this.video_.preload&&(shaka.log.alwaysWarn('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),i.resolve()),this.eventManager_.listenOnce(this.video_,"error",(function(){i.reject(r.videoErrorToShakaError_())})),new shaka.util.AbortableOperation(i,(function(){var e=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);return i.reject(e),Promise.resolve()}))},shaka.Player.prototype.setupPreferredAudioOnSrc_=function(){var e=this.config_.preferredAudioLanguage;if(""!=e){this.selectAudioLanguage(e);var t=this.config_.preferredVariantRole;""!=t&&this.selectAudioLanguage(e,t)}},shaka.Player.prototype.setupPreferredTextOnSrc_=function(){var e=this.config_.preferredTextLanguage;if(""!=e){this.selectTextLanguage(e);var t=this.config_.preferredTextRole;""!=t&&this.selectTextLanguage(e,t)}},shaka.Player.prototype.processTimedMetadataSrcEqls_=function(e){var t=this,r=e.track;goog.asserts.assert(r instanceof TextTrack,"Wrong track type!"),"metadata"==r.kind&&(r.mode="hidden",this.eventManager_.listen(r,"cuechange",(function(){if(r.activeCues)for(var e=$jscomp.makeIterator(r.activeCues),n=e.next();!n.done;n=e.next())n=n.value,t.dispatchMetadataEvent_(n.startTime,n.endTime,n.type,n.value),t.adManager_&&t.adManager_.onCueMetadataChange(n.value)})),new shaka.util.Timer((function(){for(var e=t.getMetadataTracks_(),r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())r.value.mode="hidden"})).tickNow().tickAfter(.5))},shaka.Player.prototype.processTimedMetadataMediaSrc_=function(e,t,r){for(var n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())if((n=n.value).data&&n.cueTime&&n.frames){for(var i=n.cueTime+t,a=r,o=$jscomp.makeIterator(n.frames),s=o.next();!s.done;s=o.next())this.dispatchMetadataEvent_(i,a,"ID3",s.value);this.adManager_&&this.adManager_.onHlsTimedMetadata(n,i)}},shaka.Player.prototype.dispatchMetadataEvent_=function(e,t,r,n){goog.asserts.assert(!t||e<=t,"Metadata start time should be less or equal to the end time!"),this.dispatchEvent(this.makeEvent_(shaka.Player.EventName.Metadata,{startTime:e,endTime:t,metadataType:r,payload:n}))},shaka.Player.filterForAVVariants_=function(e){var t=function(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")};e.variants.some(t)&&(shaka.log.debug("Found variant with audio and video content, so filtering out audio-only content."),e.variants=e.variants.filter(t))},shaka.Player.prototype.createDrmEngine=function(e){return new shaka.media.DrmEngine(e,this.config_.drm.updateExpirationTime)},shaka.Player.prototype.createNetworkingEngine=function(){var e=this;return new shaka.net.NetworkingEngine((function(t,r){e.abrManager_&&e.abrManager_.segmentDownloaded(t,r)}))},shaka.Player.prototype.createPlayhead=function(e){var t=this;return goog.asserts.assert(this.manifest_,"Must have manifest"),goog.asserts.assert(this.video_,"Must have video"),new shaka.media.MediaSourcePlayhead(this.video_,this.manifest_,this.config_.streaming,e,(function(){return t.onSeek_()}),(function(e){return t.dispatchEvent(e)}))},shaka.Player.prototype.createPlayheadObserversForMSE_=function(){var e=this;goog.asserts.assert(this.manifest_,"Must have manifest"),goog.asserts.assert(this.regionTimeline_,"Must have region timeline"),goog.asserts.assert(this.video_,"Must have video element");var t=new shaka.media.RegionObserver(this.regionTimeline_);t.setListeners((function(t,r){e.onRegionEvent_(shaka.Player.EventName.TimelineRegionEnter,t)}),(function(t,r){e.onRegionEvent_(shaka.Player.EventName.TimelineRegionExit,t)}),(function(t,r){r||(e.onRegionEvent_(shaka.Player.EventName.TimelineRegionEnter,t),e.onRegionEvent_(shaka.Player.EventName.TimelineRegionExit,t))}));var r=new shaka.media.PlayheadObserverManager(this.video_);return r.manage(t),r},shaka.Player.prototype.startBufferManagement_=function(e){var t=this;goog.asserts.assert(!this.bufferObserver_,"No buffering observer should exist before initialization."),goog.asserts.assert(!this.bufferPoller_,"No buffer timer should exist before initialization."),this.bufferObserver_=new shaka.media.BufferingObserver(1,2),this.bufferObserver_.setState(shaka.media.BufferingObserver.State.STARVING),this.updateBufferingSettings_(e),this.updateBufferState_(),this.bufferPoller_=new shaka.util.Timer((function(){t.pollBufferState_()})).tickEvery(.25)},shaka.Player.prototype.updateBufferingSettings_=function(e){this.bufferObserver_.setThresholds(e,Math.min(shaka.Player.TYPICAL_BUFFERING_THRESHOLD_,e/2))},shaka.Player.prototype.pollBufferState_=function(){switch(goog.asserts.assert(this.video_,"Need a media element to update the buffering observer"),goog.asserts.assert(this.bufferObserver_,"Need a buffering observer to update"),this.loadMode_){case shaka.Player.LoadMode.SRC_EQUALS:var e=this.isBufferedToEndSrc_();break;case shaka.Player.LoadMode.MEDIA_SOURCE:e=this.isBufferedToEndMS_();break;default:e=!1}var t=shaka.media.TimeRangesUtils.bufferedAheadOf(this.video_.buffered,this.video_.currentTime);this.bufferObserver_.update(t,e)&&this.updateBufferState_()},shaka.Player.prototype.createMediaSourceEngine=function(e,t,r,n){return new shaka.media.MediaSourceEngine(e,t,r,n)},shaka.Player.prototype.createStreamingEngine=function(){var e=this;return goog.asserts.assert(this.playhead_&&this.abrManager_&&this.mediaSourceEngine_&&this.manifest_,"Must not be destroyed"),new shaka.media.StreamingEngine(this.manifest_,{getPresentationTime:function(){return e.playhead_.getTime()},getBandwidthEstimate:function(){return e.abrManager_.getBandwidthEstimate()},mediaSourceEngine:this.mediaSourceEngine_,netEngine:this.networkingEngine_,onError:function(t){return e.onError_(t)},onEvent:function(t){return e.dispatchEvent(t)},onManifestUpdate:function(){return e.onManifestUpdate_()},onSegmentAppended:function(){return e.onSegmentAppended_()}})},shaka.Player.prototype.configure=function(e,t){goog.asserts.assert(this.config_,"Config must not be null!"),goog.asserts.assert("object"==typeof e||2==arguments.length,"String configs should have values!"),2==arguments.length&&"string"==typeof e&&(e=shaka.util.ConfigUtils.convertToConfigObject(e,t)),goog.asserts.assert("object"==typeof e,"Should be an object!"),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(shaka.Deprecate.deprecateFeature(4,"manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay);var r=shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,e,this.defaultConfig_());return this.applyConfig_(),r},shaka.Player.prototype.applyConfig_=function(){if(this.parser_){var e=shaka.util.ObjectUtils.cloneObject(this.config_.manifest);this.video_&&"AUDIO"===this.video_.nodeName&&(e.disableVideo=!0),this.parser_.configure(e)}if(this.drmEngine_&&this.drmEngine_.configure(this.config_.drm),this.streamingEngine_){this.streamingEngine_.configure(this.config_.streaming);try{this.filterManifest_(this.manifest_)}catch(r){this.onError_(r)}this.abrManager_&&this.updateAbrManagerVariants_(),!(e=this.streamingEngine_.getCurrentVariant())||e.allowedByApplication&&e.allowedByKeySystem||(shaka.log.debug("Choosing new variant after changing configuration"),this.chooseVariantAndSwitch_())}if(this.mediaSourceEngine_&&(e=this.config_.textDisplayFactory,this.lastTextFactory_!=e)){var t=shaka.util.Functional.callFactory(e);this.mediaSourceEngine_.setTextDisplayer(t),this.lastTextFactory_=e,this.streamingEngine_&&this.streamingEngine_.reloadTextStream()}this.abrManager_&&(this.abrManager_.configure(this.config_.abr),this.config_.abr.enabled?this.abrManager_.enable():this.abrManager_.disable(),this.onAbrStatusChanged_()),this.bufferObserver_&&(e=this.config_.streaming.rebufferingGoal,this.manifest_&&(e=Math.max(e,this.manifest_.minBufferTime)),this.updateBufferingSettings_(e))},shaka.Player.prototype.getConfiguration=function(){goog.asserts.assert(this.config_,"Config must not be null!");var e=this.defaultConfig_();return shaka.util.PlayerConfiguration.mergeConfigObjects(e,this.config_,this.defaultConfig_()),e},shaka.Player.prototype.getSharedConfiguration=function(){return goog.asserts.assert(this.config_,"Cannot call getSharedConfiguration after call destroy!"),this.config_},shaka.Player.prototype.resetConfiguration=function(){for(var e in goog.asserts.assert(this.config_,"Cannot be destroyed"),this.config_)delete this.config_[e];shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,this.defaultConfig_(),this.defaultConfig_()),this.applyConfig_()},shaka.Player.prototype.getLoadMode=function(){return this.loadMode_},shaka.Player.prototype.getMediaElement=function(){return this.video_},shaka.Player.prototype.getNetworkingEngine=function(){return this.networkingEngine_},shaka.Player.prototype.getAssetUri=function(){return this.assetUri_},shaka.Player.prototype.getAdManager=function(){return shaka.log.warnOnce("getAdManager","Shaka Player's ad features are currently in BETA and are NOT yet covered by semantic versioning compatibility guarantees.  The API may change at any time!"),this.adManager_},shaka.Player.prototype.isLive=function(){return this.manifest_?this.manifest_.presentationTimeline.isLive():!(!this.video_||!this.video_.src)&&1/0==this.video_.duration},shaka.Player.prototype.isInProgress=function(){return!!this.manifest_&&this.manifest_.presentationTimeline.isInProgress()},shaka.Player.prototype.isAudioOnly=function(){if(this.manifest_){var e=this.manifest_.variants;return!!e.length&&!e[0].video}return!(!this.video_||!this.video_.src)&&(this.video_.videoTracks?0==this.video_.videoTracks.length:0==this.video_.videoHeight)},shaka.Player.prototype.seekRange=function(){if(this.manifest_){var e=this.manifest_.presentationTimeline;return{start:e.getSeekRangeStart(),end:e.getSeekRangeEnd()}}return this.video_&&this.video_.src&&(e=this.video_.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},shaka.Player.prototype.keySystem=function(){return shaka.media.DrmEngine.keySystem(this.drmInfo())},shaka.Player.prototype.drmInfo=function(){return this.drmEngine_?this.drmEngine_.getDrmInfo():null},shaka.Player.prototype.getExpiration=function(){return this.drmEngine_?this.drmEngine_.getExpiration():1/0},shaka.Player.prototype.isBuffering=function(){var e=shaka.media.BufferingObserver.State;return!!this.bufferObserver_&&this.bufferObserver_.getState()==e.STARVING},shaka.Player.prototype.getPlaybackRate=function(){return this.video_?this.playRateController_?this.playRateController_.getRealRate():1:0},shaka.Player.prototype.trickPlay=function(e){goog.asserts.assert(0!=e,"Should never set a trick play rate of 0!"),0==e?shaka.log.alwaysWarn("A trick play rate of 0 is unsupported!"):(this.video_.paused&&this.video_.play(),this.playRateController_.set(e),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&(this.abrManager_.playbackRateChanged(e),this.streamingEngine_.setTrickPlay(1<Math.abs(e))))},shaka.Player.prototype.cancelTrickPlay=function(){this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS&&this.playRateController_.set(1),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&(this.playRateController_.set(1),this.abrManager_.playbackRateChanged(1),this.streamingEngine_.setTrickPlay(!1))},shaka.Player.prototype.getVariantTracks=function(){if(this.manifest_){for(var e=this.streamingEngine_?this.streamingEngine_.getCurrentVariant():null,t=[],r=$jscomp.makeIterator(this.manifest_.variants),n=r.next();!n.done;n=r.next())if(n=n.value,shaka.util.StreamUtils.isPlayable(n)){var i=shaka.util.StreamUtils.variantToTrack(n);i.active=n==e,t.push(i)}return t}return this.video_&&this.video_.audioTracks?Array.from(this.video_.audioTracks).map((function(e){return shaka.util.StreamUtils.html5AudioTrackToTrack(e)})):[]},shaka.Player.prototype.getTextTracks=function(){if(this.manifest_){for(var e=this.streamingEngine_?this.streamingEngine_.getCurrentTextStream():null,t=[],r=$jscomp.makeIterator(this.manifest_.textStreams),n=r.next();!n.done;n=r.next()){n=n.value;var i=shaka.util.StreamUtils.textStreamToTrack(n);i.active=n==e,t.push(i)}return t}if(this.video_&&this.video_.src&&this.video_.textTracks){e=this.getFilteredTextTracks_();var a=shaka.util.StreamUtils;return e.map((function(e){return a.html5TextTrackToTrack(e)}))}return[]},shaka.Player.prototype.selectTextTrack=function(e){if(this.manifest_&&this.streamingEngine_){var t=this.manifest_.textStreams.find((function(t){return t.id==e.id}));t?t==this.streamingEngine_.getCurrentTextStream()?shaka.log.debug("Text track already selected."):(this.addTextStreamToSwitchHistory_(t,!1),this.streamingEngine_.switchTextStream(t),this.onTextChanged_(),this.currentTextLanguage_=t.language):shaka.log.error("No stream with id",e.id)}else if(this.video_&&this.video_.src&&this.video_.textTracks){t=this.getFilteredTextTracks_();for(var r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())r=r.value,shaka.util.StreamUtils.html5TrackId(r)==e.id?r.mode=this.isTextVisible_?"showing":"hidden":r.mode="disabled";this.onTextChanged_()}},shaka.Player.prototype.selectVariantTrack=function(e,t,r){if(t=void 0!==t&&t,r=void 0===r?0:r,this.manifest_&&this.streamingEngine_){this.config_.abr.enabled&&shaka.log.alwaysWarn("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var n=this.manifest_.variants.find((function(t){return t.id==e.id}));n?shaka.util.StreamUtils.isPlayable(n)?n==this.streamingEngine_.getCurrentVariant()?shaka.log.debug("Variant already selected."):(this.addVariantToSwitchHistory_(n,!1),this.streamingEngine_.switchVariant(n,t,r),this.onVariantChanged_(),this.currentAdaptationSetCriteria_=new shaka.media.ExampleBasedCriteria(n),this.updateAbrManagerVariants_()):shaka.log.error("Unable to switch to restricted track",e.id):shaka.log.error("No variant with id",e.id)}else if(this.video_&&this.video_.audioTracks){for(t=Array.from(this.video_.audioTracks),r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())r=r.value,shaka.util.StreamUtils.html5TrackId(r)==e.id&&(r.enabled=!0);this.onVariantChanged_()}},shaka.Player.prototype.getAudioLanguagesAndRoles=function(){return shaka.Player.getLanguageAndRolesFrom_(this.getVariantTracks())},shaka.Player.prototype.getTextLanguagesAndRoles=function(){return shaka.Player.getLanguageAndRolesFrom_(this.getTextTracks())},shaka.Player.prototype.getAudioLanguages=function(){return Array.from(shaka.Player.getLanguagesFrom_(this.getVariantTracks()))},shaka.Player.prototype.getTextLanguages=function(){return Array.from(shaka.Player.getLanguagesFrom_(this.getTextTracks()))},shaka.Player.prototype.selectAudioLanguage=function(e,t){var r=shaka.util.LanguageUtils;if(this.manifest_&&this.playhead_)this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(e,t||"",0,""),this.chooseVariantAndSwitch_();else if(this.video_&&this.video_.audioTracks){for(var n=Array.from(this.video_.audioTracks),i=r.normalize(e),a=null,o=null,s=(n=$jscomp.makeIterator(n)).next();!s.done;s=n.next()){s=s.value;var l=shaka.util.StreamUtils.html5AudioTrackToTrack(s);r.normalize(l.language)==i&&(a=s,t?l.roles.includes(t)&&(o=s):0==l.roles.length&&(o=s))}o?(o.enabled=!0,this.onVariantChanged_()):a&&(a.enabled=!0,this.onVariantChanged_())}},shaka.Player.prototype.selectTextLanguage=function(e,t){var r=shaka.util.LanguageUtils;if(this.manifest_&&this.playhead_){this.currentTextLanguage_=e,this.currentTextRole_=t||"";var n=this.chooseTextStream_();n&&(n==this.streamingEngine_.getCurrentTextStream()?shaka.log.debug("Text track already selected."):(this.addTextStreamToSwitchHistory_(n,!1),this.shouldStreamText_()&&(this.streamingEngine_.switchTextStream(n),this.onTextChanged_())))}else{var i=r.normalize(e);(n=this.getTextTracks().find((function(e){return r.normalize(e.language)==i&&(!t||e.roles.includes(t))})))&&this.selectTextTrack(n)}},shaka.Player.prototype.selectVariantsByLabel=function(e){if(this.manifest_&&this.playhead_){for(var t=null,r=$jscomp.makeIterator(this.manifest_.variants),n=r.next();!n.done;n=r.next())if((n=n.value).audio.label==e){t=n;break}null==t?shaka.log.warning("No variants were found with label: "+e+". Ignoring the request to switch."):(this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(t.language,"",0,e),this.chooseVariantAndSwitch_())}},shaka.Player.prototype.isTextTrackVisible=function(){var e=this.isTextVisible_;if(this.mediaSourceEngine_){var t=this.mediaSourceEngine_.getTextDisplayer().isTextVisible();return goog.asserts.assert(t==e,"text visibility has fallen out of sync"),t}return this.video_&&this.video_.src&&this.video_.textTracks?this.getFilteredTextTracks_().some((function(e){return"showing"==e.mode})):e},shaka.Player.prototype.getFilteredTextTracks_=function(){return goog.asserts.assert(this.video_.textTracks,"TextTracks should be valid."),Array.from(this.video_.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&e.label!=shaka.Player.TextTrackLabel}))},shaka.Player.prototype.getMetadataTracks_=function(){return goog.asserts.assert(this.video_.textTracks,"TextTracks should be valid."),Array.from(this.video_.textTracks).filter((function(e){return"metadata"==e.kind}))},shaka.Player.prototype.setTextTrackVisibility=function(e){if(e=!!e,this.isTextVisible_!=e){if(this.isTextVisible_=e,this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE)this.mediaSourceEngine_.getTextDisplayer().setTextVisibility(e),this.config_.streaming.alwaysStreamText||(e?this.streamingEngine_.getCurrentTextStream()||0<(e=shaka.util.StreamUtils.filterStreamsByLanguageAndRole(this.manifest_.textStreams,this.currentTextLanguage_,this.currentTextRole_)).length&&(this.streamingEngine_.switchTextStream(e[0]),this.onTextChanged_()):this.streamingEngine_.unloadTextStream());else if(this.video_&&this.video_.src&&this.video_.textTracks)for(var t=this.getFilteredTextTracks_(),r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())"disabled"!=(r=r.value).mode&&(r.mode=e?"showing":"hidden");this.onTextTrackVisibility_()}},shaka.Player.prototype.getPlayheadTimeAsDate=function(){if(!this.isLive())return shaka.log.warning("getPlayheadTimeAsDate is for live streams!"),null;var e=this.walker_.getCurrentPayload(),t=0;if(this.playhead_)t=this.playhead_.getTime();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.manifest_?(e=this.manifest_.presentationTimeline.getPresentationStartTime(),new Date(1e3*(e+t))):this.video_&&this.video_.getStartDate?(e=this.video_.getStartDate(),isNaN(e.getTime())?(shaka.log.warning("EXT-X-PROGRAM-DATETIME required to get playhead time as Date!"),null):new Date(e.getTime()+1e3*t)):(shaka.log.warning("No way to get playhead time as Date!"),null)},shaka.Player.prototype.getPresentationStartTimeAsDate=function(){if(!this.isLive())return shaka.log.warning("getPresentationStartTimeAsDate is for live streams!"),null;if(this.manifest_){var e=this.manifest_.presentationTimeline.getPresentationStartTime();return goog.asserts.assert(null!=e,"Presentation start time should not be null!"),new Date(1e3*e)}return this.video_&&this.video_.getStartDate?(e=this.video_.getStartDate(),isNaN(e.getTime())?(shaka.log.warning("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),null):e):(shaka.log.warning("No way to get presentation start time as Date!"),null)},shaka.Player.prototype.getBufferedInfo=function(){if(this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE)return this.mediaSourceEngine_.getBufferedInfo();var e={total:[],audio:[],video:[],text:[]};return this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS&&(e.total=shaka.media.TimeRangesUtils.getBufferedInfo(this.video_.buffered)),e},shaka.Player.prototype.getStats=function(){if(this.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE&&this.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS)return shaka.util.Stats.getEmptyBlob();this.updateStateHistory_(),goog.asserts.assert(this.video_,"If we have stats, we should have video_");var e=this.video_;if(e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),this.stats_.setDroppedFrames(Number(e.droppedVideoFrames),Number(e.totalVideoFrames)),this.stats_.setCorruptedFrames(Number(e.corruptedVideoFrames))),e=this.drmEngine_?this.drmEngine_.getLicenseTime():NaN,this.stats_.setLicenseTime(e),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE){if(e=this.streamingEngine_.getCurrentVariant()){var t=(this.playRateController_?this.playRateController_.getRealRate():1)*e.bandwidth;this.stats_.setCurrentStreamBandwidth(t)}e&&e.video&&this.stats_.setResolution(e.video.width||NaN,e.video.height||NaN),this.isLive()&&(e=this.getPresentationStartTimeAsDate().valueOf()+1e3*this.seekRange().end,e=(Date.now()-e)/1e3,this.stats_.setLiveLatency(e)),this.manifest_&&this.manifest_.presentationTimeline&&(e=this.manifest_.presentationTimeline.getMaxSegmentDuration(),this.stats_.setMaxSegmentDuration(e)),e=this.abrManager_.getBandwidthEstimate(),this.stats_.setBandwidthEstimate(e)}return this.stats_.getBlob()},shaka.Player.prototype.addTextTrack=function(e,t,r,n,i,a){if(this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS)throw shaka.log.error("Cannot add text when loaded with src="),Error("State error!");if(this.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE)throw shaka.log.error("Must call load() and wait for it to resolve before adding text tracks."),Error("State error!");var o=shaka.util.ManifestParserUtils.ContentType,s=this.manifest_.presentationTimeline.getDuration();if(1/0==s)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM);return e={id:this.nextExternalStreamId_++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:shaka.media.SegmentIndex.forSingleSegment(0,s,[e]),mimeType:n,codecs:i||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:o.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},this.manifest_.textStreams.push(e),this.onTracksChanged_(),shaka.util.StreamUtils.textStreamToTrack(e)},shaka.Player.prototype.setMaxHardwareResolution=function(e,t){this.maxHwRes_.width=e,this.maxHwRes_.height=t},shaka.Player.prototype.retryStreaming=function(){return this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&this.streamingEngine_.retry()},shaka.Player.prototype.getManifest=function(){return shaka.log.alwaysWarn("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.manifest_},shaka.Player.prototype.getManifestParserFactory=function(){return this.parserFactory_},shaka.Player.prototype.addVariantToSwitchHistory_=function(e,t){this.stats_.getSwitchHistory().updateCurrentVariant(e,t)},shaka.Player.prototype.addTextStreamToSwitchHistory_=function(e,t){this.stats_.getSwitchHistory().updateCurrentText(e,t)},shaka.Player.prototype.defaultConfig_=function(){var e=this,t=shaka.util.PlayerConfiguration.createDefault();return t.streaming.failureCallback=function(t){e.defaultStreamingFailureCallback_(t)},t.textDisplayFactory=function(){return e.videoContainer_?new shaka.text.UITextDisplayer(e.video_,e.videoContainer_):new shaka.text.SimpleTextDisplayer(e.video_)},t},shaka.Player.prototype.setVideoContainer=function(e){this.videoContainer_=e},shaka.Player.prototype.defaultStreamingFailureCallback_=function(e){var t=[shaka.util.Error.Code.BAD_HTTP_STATUS,shaka.util.Error.Code.HTTP_ERROR,shaka.util.Error.Code.TIMEOUT];this.isLive()&&t.includes(e.code)&&(e.severity=shaka.util.Error.Severity.RECOVERABLE,shaka.log.warning("Live streaming error.  Retrying automatically..."),this.retryStreaming())},shaka.Player.prototype.makeTextStreamsForClosedCaptions_=function(e){for(var t=shaka.util.ManifestParserUtils.ContentType,r=shaka.util.MimeUtils,n=shaka.util.ManifestParserUtils.TextStreamKind,i=new Set,a=$jscomp.makeIterator(e.textStreams),o=a.next();!o.done;o=a.next())(o=o.value).mimeType==r.CLOSED_CAPTION_MIMETYPE&&i.add(o.originalId);for(o=(a=$jscomp.makeIterator(e.variants)).next();!o.done;o=a.next())if((o=o.value.video)&&o.closedCaptions)for(var s=$jscomp.makeIterator(o.closedCaptions.keys()),l=s.next();!l.done;l=s.next())if(l=l.value,!i.has(l)){var u=new shaka.media.MetaSegmentIndex;u={id:this.nextExternalStreamId_++,originalId:l,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:r.CLOSED_CAPTION_MIMETYPE,codecs:"",kind:n.CLOSED_CAPTION,encrypted:!1,drmInfos:[],keyIds:new Set,language:o.closedCaptions.get(l),label:null,type:t.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null},e.textStreams.push(u),i.add(l)}},shaka.Player.prototype.filterManifest_=function(e){goog.asserts.assert(e,"Manifest should exist!"),goog.asserts.assert(this.video_,"Must not be destroyed");var t=shaka.util.StreamUtils,r=this.streamingEngine_?this.streamingEngine_.getCurrentVariant():null;if(t.filterManifest(this.drmEngine_,r,e),!e.variants.some(t.isPlayable))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.CONTENT_UNSUPPORTED_BY_BROWSER);if(shaka.util.StreamUtils.applyRestrictions(e.variants,this.config_.restrictions,this.maxHwRes_)&&this.streamingEngine_&&this.onTracksChanged_(),t=this.drmEngine_?this.drmEngine_.getDrmInfo():null)for(var n=(r=$jscomp.makeIterator(e.variants)).next();!n.done;n=r.next()){n=((n=n.value).video?n.video.drmInfos:[]).concat(n.audio?n.audio.drmInfos:[]);for(var i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next())if((i=i.value).keySystem==t.keySystem)for(var a=(i=$jscomp.makeIterator(i.initData||[])).next();!a.done;a=i.next())a=a.value,this.drmEngine_.newInitData(a.initDataType,a.initData)}this.checkRestrictedVariants_(e)},shaka.Player.prototype.adjustStartTime_=function(e,t){var r,n,i,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(r=e.audio,n=e.video,i=function(e,t){var r,n;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){return 1==i.nextAddress?e?i.yield(e.createSegmentIndex(),2):i.return(null):(r=e.segmentIndex[Symbol.iterator]().seek(t))?(n=r.startTime,goog.asserts.assert(n<=t,"Segment should start before target time!"),i.return(n)):i.return(null)}))},s.yield(i(r,t),2)):3!=s.nextAddress?(a=s.yieldResult,s.yield(i(n,t),3)):null!=(o=s.yieldResult)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))},shaka.Player.prototype.updateBufferState_=function(){var e=this.isBuffering();shaka.log.v2("Player changing buffering state to",e),this.stats_&&this.bufferObserver_&&this.playhead_&&(this.playRateController_.setBuffering(e),this.updateStateHistory_()),this.dispatchEvent(this.makeEvent_(shaka.Player.EventName.Buffering,{buffering:e}))},shaka.Player.prototype.onRateChange_=function(){var e=this.video_.playbackRate;0!=e&&(this.playRateController_&&this.playRateController_.set(e),e=this.makeEvent_(shaka.Player.EventName.RateChange),this.dispatchEvent(e))},shaka.Player.prototype.updateStateHistory_=function(){if(this.stats_&&this.bufferObserver_){var e=shaka.media.BufferingObserver.State,t=this.stats_.getStateHistory();this.bufferObserver_.getState()==e.STARVING?t.update("buffering"):this.video_.paused?t.update("paused"):this.video_.ended?t.update("ended"):t.update("playing")}},shaka.Player.prototype.onSeek_=function(){this.playheadObservers_&&this.playheadObservers_.notifyOfSeek(),this.streamingEngine_&&this.streamingEngine_.seeked(),this.bufferObserver_&&this.pollBufferState_()},shaka.Player.prototype.updateAbrManagerVariants_=function(){try{goog.asserts.assert(this.manifest_,"Manifest should exist by now!"),this.checkRestrictedVariants_(this.manifest_)}catch(t){return this.onError_(t),!1}var e=this.manifest_.variants.filter((function(e){return shaka.util.StreamUtils.isPlayable(e)}));return e=this.currentAdaptationSetCriteria_.create(e),this.abrManager_.setVariants(Array.from(e.values())),!0},shaka.Player.prototype.chooseVariant_=function(){return this.updateAbrManagerVariants_()?this.abrManager_.chooseVariant():null},shaka.Player.prototype.chooseTextStream_=function(){return shaka.util.StreamUtils.filterStreamsByLanguageAndRole(this.manifest_.textStreams,this.currentTextLanguage_,this.currentTextRole_)[0]||null},shaka.Player.prototype.chooseVariantAndSwitch_=function(){goog.asserts.assert(this.config_,"Must not be destroyed");var e=this.chooseVariant_();if(e){if(e==this.streamingEngine_.getCurrentVariant())return void shaka.log.debug("Variant already selected.");this.addVariantToSwitchHistory_(e,!0),this.streamingEngine_.switchVariant(e,!0,0),this.onVariantChanged_()}this.onAdaptation_()},shaka.Player.prototype.setInitialTextState_=function(e,t){t?(e.audio&&this.shouldInitiallyShowText_(e.audio,t)&&(this.isTextVisible_=!0),this.isTextVisible_&&(this.mediaSourceEngine_.getTextDisplayer().setTextVisibility(!0),goog.asserts.assert(this.shouldStreamText_(),"Should be streaming text")),this.onTextTrackVisibility_()):this.isTextVisible_=!1},shaka.Player.prototype.shouldInitiallyShowText_=function(e,t){var r=shaka.util.LanguageUtils,n=r.normalize(this.config_.preferredTextLanguage),i=r.normalize(e.language),a=r.normalize(t.language);return r.areLanguageCompatible(a,n)&&!r.areLanguageCompatible(i,a)},shaka.Player.prototype.onManifestUpdate_=function(){this.parser_&&this.parser_.update&&this.parser_.update()},shaka.Player.prototype.onSegmentAppended_=function(){this.playhead_&&this.playhead_.notifyOfBufferingChange(),this.pollBufferState_()},shaka.Player.prototype.switch_=function(e,t,r){t=void 0!==t&&t,r=void 0===r?0:r,shaka.log.debug("switch_"),goog.asserts.assert(this.config_.abr.enabled,"AbrManager should not call switch while disabled!"),goog.asserts.assert(this.manifest_,"We need a manifest to switch variants."),this.streamingEngine_&&e!=this.streamingEngine_.getCurrentVariant()&&(this.addVariantToSwitchHistory_(e,!0),this.streamingEngine_.switchVariant(e,t,r),this.onAdaptation_())},shaka.Player.prototype.onAdaptation_=function(){var e=this.makeEvent_(shaka.Player.EventName.Adaptation);this.delayDispatchEvent_(e)},shaka.Player.prototype.onTracksChanged_=function(){var e=this.makeEvent_(shaka.Player.EventName.TracksChanged);this.delayDispatchEvent_(e)},shaka.Player.prototype.onVariantChanged_=function(){var e=this.makeEvent_(shaka.Player.EventName.VariantChanged);this.delayDispatchEvent_(e)},shaka.Player.prototype.onTextChanged_=function(){var e=this.makeEvent_(shaka.Player.EventName.TextChanged);this.delayDispatchEvent_(e)},shaka.Player.prototype.onTextTrackVisibility_=function(){var e=this.makeEvent_(shaka.Player.EventName.TextTrackVisibility);this.delayDispatchEvent_(e)},shaka.Player.prototype.onAbrStatusChanged_=function(){var e=this.makeEvent_(shaka.Player.EventName.AbrStatusChanged,{newStatus:this.config_.abr.enabled});this.delayDispatchEvent_(e)},shaka.Player.prototype.onError_=function(e){if(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!"),this.loadMode_!=shaka.Player.LoadMode.DESTROYED){var t=this.makeEvent_(shaka.Player.EventName.Error,{detail:e});this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)}},shaka.Player.prototype.onRegionEvent_=function(e,t){this.dispatchEvent(this.makeEvent_(e,{detail:{schemeIdUri:t.schemeIdUri,value:t.value,startTime:t.startTime,endTime:t.endTime,id:t.id,eventElement:t.eventElement}}))},shaka.Player.prototype.videoErrorToShakaError_=function(){if(goog.asserts.assert(this.video_.error,"Video error expected, but missing!"),!this.video_.error)return null;var e=this.video_.error.code;if(1==e)return null;var t=this.video_.error.msExtendedCode;return t&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.VIDEO_ERROR,e,t,this.video_.error.message)},shaka.Player.prototype.onVideoError_=function(e){(e=this.videoErrorToShakaError_())&&this.onError_(e)},shaka.Player.prototype.onKeyStatus_=function(e){if(this.streamingEngine_){var t=Object.keys(e);0==t.length&&shaka.log.warning("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var r=1==t.length&&"00"==t[0];r&&shaka.log.warning("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var n=shaka.Player.restrictedStatuses_,i=!1;if(t.length)for(var a=(t=$jscomp.makeIterator(this.manifest_.variants)).next();!a.done;a=t.next()){a=a.value;for(var o=shaka.util.StreamUtils.getVariantStreams(a),s=(o=$jscomp.makeIterator(o)).next();!s.done;s=o.next()){var l=s.value;if(s=a.allowedByKeySystem,l.keyIds.size){a.allowedByKeySystem=!0;for(var u=(l=$jscomp.makeIterator(l.keyIds)).next();!u.done;u=l.next())u=u.value,u=e[r?"00":u],a.allowedByKeySystem=a.allowedByKeySystem&&!!u&&!n.includes(u)}s!=a.allowedByKeySystem&&(i=!0)}}i&&this.updateAbrManagerVariants_(),(e=this.streamingEngine_.getCurrentVariant())&&!e.allowedByKeySystem&&(shaka.log.debug("Choosing new streams after key status changed"),this.chooseVariantAndSwitch_()),i&&this.onTracksChanged_()}},shaka.Player.prototype.onExpirationUpdated_=function(e,t){this.parser_&&this.parser_.onExpirationUpdated&&this.parser_.onExpirationUpdated(e,t);var r=this.makeEvent_(shaka.Player.EventName.ExpirationUpdated);this.dispatchEvent(r)},shaka.Player.prototype.shouldStreamText_=function(){return this.config_.streaming.alwaysStreamText||this.isTextTrackVisible()},shaka.Player.applyPlayRange_=function(e,t,r){0<t&&(e.isLive()?shaka.log.warning("|playRangeStart| has been configured for live content. Ignoring the setting."):e.setUserSeekStart(t)),r<(t=e.getDuration())&&(e.isLive()?shaka.log.warning("|playRangeEnd| has been configured for live content. Ignoring the setting."):e.setDuration(r))},shaka.Player.prototype.checkRestrictedVariants_=function(e){var t=shaka.Player.restrictedStatuses_,r=this.drmEngine_?this.drmEngine_.getKeyStatuses():{},n=Object.keys(r);n=n.length&&"00"==n[0];for(var i=!1,a=!1,o=new Set,s=new Set,l=(e=$jscomp.makeIterator(e.variants)).next();!l.done;l=e.next()){var u=[];(l=l.value).audio&&u.push(l.audio),l.video&&u.push(l.video);for(var c=(u=$jscomp.makeIterator(u)).next();!c.done;c=u.next())if((c=c.value).keyIds.size)for(var d=(c=$jscomp.makeIterator(c.keyIds)).next();!d.done;d=c.next()){d=d.value;var f=r[n?"00":d];f?t.includes(f)&&s.add(f):o.add(d)}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw t={hasAppRestrictions:a,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)},new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.RESTRICTIONS_CANNOT_BE_MET,t)},shaka.Player.prototype.delayDispatchEvent_=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.yield(Promise.resolve(),2);t.loadMode_!=shaka.Player.LoadMode.DESTROYED&&t.dispatchEvent(e),r.jumpToEnd()}))},shaka.Player.getLanguagesFrom_=function(e){for(var t=new Set,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())(r=r.value).language?t.add(shaka.util.LanguageUtils.normalize(r.language)):t.add("und");return t},shaka.Player.getLanguageAndRolesFrom_=function(e){for(var t=new Map,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){var n=r.value;r="und";var i=[];for(n.language&&(r=shaka.util.LanguageUtils.normalize(n.language)),(i="variant"==n.type?n.audioRoles:n.roles)&&i.length||(i=[""]),t.has(r)||t.set(r,new Set),i=(n=$jscomp.makeIterator(i)).next();!i.done;i=n.next())i=i.value,t.get(r).add(i)}var a=[];return t.forEach((function(e,t){for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next())a.push({language:t,role:n.value})})),a},shaka.Player.prototype.isBufferedToEndMS_=function(){if(goog.asserts.assert(this.video_,"We need a video element to get buffering information"),goog.asserts.assert(this.mediaSourceEngine_,"We need a media source engine to get buffering information"),goog.asserts.assert(this.manifest_,"We need a manifest to get buffering information"),this.video_.ended||this.mediaSourceEngine_.ended())return!0;if(this.manifest_.presentationTimeline.isLive()){var e=this.manifest_.presentationTimeline.getSegmentAvailabilityEnd(),t=shaka.media.TimeRangesUtils.bufferEnd(this.video_.buffered);if(null!=t&&t>=e)return!0}return!1},shaka.Player.prototype.isBufferedToEndSrc_=function(){if(goog.asserts.assert(this.video_,"We need a video element to get buffering information"),this.video_.ended)return!0;var e=shaka.media.TimeRangesUtils.bufferEnd(this.video_.buffered);return null!=e&&e>=this.video_.duration-1},shaka.Player.prototype.createAbortLoadError_=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.LOAD_INTERRUPTED)},shaka.Player.prototype.getNextStep_=function(e,t,r,n){var i=null;return e==this.detachNode_&&(i=r==this.detachNode_?this.detachNode_:this.attachNode_),e==this.attachNode_&&(i=this.getNextAfterAttach_(r,t,n)),e==this.mediaSourceNode_&&(i=this.getNextAfterMediaSource_(r,t,n)),e==this.parserNode_&&(i=this.getNextMatchingAllDependencies_(this.loadNode_,this.manifestNode_,this.unloadNode_,r,t,n)),e==this.manifestNode_&&(i=this.getNextMatchingAllDependencies_(this.loadNode_,this.drmNode_,this.unloadNode_,r,t,n)),e==this.drmNode_&&(i=this.getNextMatchingAllDependencies_(this.loadNode_,this.loadNode_,this.unloadNode_,r,t,n)),e==this.srcEqualsDrmNode_&&(i=r==this.srcEqualsNode_&&t.mediaElement==n.mediaElement?this.srcEqualsNode_:this.unloadNode_),e!=this.loadNode_&&e!=this.srcEqualsNode_||(i=this.unloadNode_),e==this.unloadNode_&&(i=this.getNextAfterUnload_(r,t,n)),goog.asserts.assert(i,"Missing next step!"),i},shaka.Player.prototype.getNextAfterAttach_=function(e,t,r){return e==this.detachNode_||t.mediaElement!=r.mediaElement?this.detachNode_:e==this.attachNode_?this.attachNode_:e==this.mediaSourceNode_||e==this.loadNode_?this.mediaSourceNode_:e==this.srcEqualsNode_?this.srcEqualsDrmNode_:null},shaka.Player.prototype.getNextAfterMediaSource_=function(e,t,r){return e==this.loadNode_&&t.mediaElement==r.mediaElement?this.parserNode_:this.unloadNode_},shaka.Player.prototype.getNextAfterUnload_=function(e,t,r){return r.mediaElement&&t.mediaElement==r.mediaElement?this.attachNode_:this.detachNode_},shaka.Player.prototype.getNextMatchingAllDependencies_=function(e,t,r,n,i,a){return n==e&&i.mediaElement==a.mediaElement&&i.uri==a.uri&&i.mimeType==a.mimeType?t:r},shaka.Player.createEmptyPayload_=function(){return{mediaElement:null,mimeType:null,startTime:null,startTimeOfLoad:NaN,uri:null}},shaka.Player.prototype.wrapWalkerListenersWithPromise_=function(e){var t=this;return new Promise((function(r,n){e.onCancel=function(){return n(t.createAbortLoadError_())},e.onEnd=function(){return r()},e.onError=function(e){return n(e)},e.onSkip=function(){return n(t.createAbortLoadError_())}}))},goog.exportSymbol("shaka.Player",shaka.Player),goog.exportProperty(shaka.Player.prototype,"setVideoContainer",shaka.Player.prototype.setVideoContainer),goog.exportProperty(shaka.Player.prototype,"getManifestParserFactory",shaka.Player.prototype.getManifestParserFactory),goog.exportProperty(shaka.Player.prototype,"getManifest",shaka.Player.prototype.getManifest),goog.exportProperty(shaka.Player.prototype,"retryStreaming",shaka.Player.prototype.retryStreaming),goog.exportProperty(shaka.Player.prototype,"setMaxHardwareResolution",shaka.Player.prototype.setMaxHardwareResolution),goog.exportProperty(shaka.Player.prototype,"addTextTrack",shaka.Player.prototype.addTextTrack),goog.exportProperty(shaka.Player.prototype,"getStats",shaka.Player.prototype.getStats),goog.exportProperty(shaka.Player.prototype,"getBufferedInfo",shaka.Player.prototype.getBufferedInfo),goog.exportProperty(shaka.Player.prototype,"getPresentationStartTimeAsDate",shaka.Player.prototype.getPresentationStartTimeAsDate),goog.exportProperty(shaka.Player.prototype,"getPlayheadTimeAsDate",shaka.Player.prototype.getPlayheadTimeAsDate),goog.exportProperty(shaka.Player.prototype,"setTextTrackVisibility",shaka.Player.prototype.setTextTrackVisibility),goog.exportProperty(shaka.Player.prototype,"isTextTrackVisible",shaka.Player.prototype.isTextTrackVisible),goog.exportProperty(shaka.Player.prototype,"selectVariantsByLabel",shaka.Player.prototype.selectVariantsByLabel),goog.exportProperty(shaka.Player.prototype,"selectTextLanguage",shaka.Player.prototype.selectTextLanguage),goog.exportProperty(shaka.Player.prototype,"selectAudioLanguage",shaka.Player.prototype.selectAudioLanguage),goog.exportProperty(shaka.Player.prototype,"getTextLanguages",shaka.Player.prototype.getTextLanguages),goog.exportProperty(shaka.Player.prototype,"getAudioLanguages",shaka.Player.prototype.getAudioLanguages),goog.exportProperty(shaka.Player.prototype,"getTextLanguagesAndRoles",shaka.Player.prototype.getTextLanguagesAndRoles),goog.exportProperty(shaka.Player.prototype,"getAudioLanguagesAndRoles",shaka.Player.prototype.getAudioLanguagesAndRoles),goog.exportProperty(shaka.Player.prototype,"selectVariantTrack",shaka.Player.prototype.selectVariantTrack),goog.exportProperty(shaka.Player.prototype,"selectTextTrack",shaka.Player.prototype.selectTextTrack),goog.exportProperty(shaka.Player.prototype,"getTextTracks",shaka.Player.prototype.getTextTracks),goog.exportProperty(shaka.Player.prototype,"getVariantTracks",shaka.Player.prototype.getVariantTracks),goog.exportProperty(shaka.Player.prototype,"cancelTrickPlay",shaka.Player.prototype.cancelTrickPlay),goog.exportProperty(shaka.Player.prototype,"trickPlay",shaka.Player.prototype.trickPlay),goog.exportProperty(shaka.Player.prototype,"getPlaybackRate",shaka.Player.prototype.getPlaybackRate),goog.exportProperty(shaka.Player.prototype,"isBuffering",shaka.Player.prototype.isBuffering),goog.exportProperty(shaka.Player.prototype,"getExpiration",shaka.Player.prototype.getExpiration),goog.exportProperty(shaka.Player.prototype,"drmInfo",shaka.Player.prototype.drmInfo),goog.exportProperty(shaka.Player.prototype,"keySystem",shaka.Player.prototype.keySystem),goog.exportProperty(shaka.Player.prototype,"seekRange",shaka.Player.prototype.seekRange),goog.exportProperty(shaka.Player.prototype,"isAudioOnly",shaka.Player.prototype.isAudioOnly),goog.exportProperty(shaka.Player.prototype,"isInProgress",shaka.Player.prototype.isInProgress),goog.exportProperty(shaka.Player.prototype,"isLive",shaka.Player.prototype.isLive),goog.exportProperty(shaka.Player.prototype,"getAdManager",shaka.Player.prototype.getAdManager),goog.exportProperty(shaka.Player.prototype,"getAssetUri",shaka.Player.prototype.getAssetUri),goog.exportProperty(shaka.Player.prototype,"getNetworkingEngine",shaka.Player.prototype.getNetworkingEngine),goog.exportProperty(shaka.Player.prototype,"getMediaElement",shaka.Player.prototype.getMediaElement),goog.exportProperty(shaka.Player.prototype,"getLoadMode",shaka.Player.prototype.getLoadMode),goog.exportProperty(shaka.Player.prototype,"resetConfiguration",shaka.Player.prototype.resetConfiguration),goog.exportProperty(shaka.Player.prototype,"getConfiguration",shaka.Player.prototype.getConfiguration),goog.exportProperty(shaka.Player.prototype,"configure",shaka.Player.prototype.configure),goog.exportProperty(shaka.Player.prototype,"load",shaka.Player.prototype.load),goog.exportProperty(shaka.Player.prototype,"unload",shaka.Player.prototype.unload),goog.exportProperty(shaka.Player.prototype,"detach",shaka.Player.prototype.detach),goog.exportProperty(shaka.Player.prototype,"attach",shaka.Player.prototype.attach),goog.exportProperty(shaka.Player,"probeSupport",shaka.Player.probeSupport),goog.exportProperty(shaka.Player,"isBrowserSupported",shaka.Player.isBrowserSupported),goog.exportProperty(shaka.Player,"setAdManagerFactory",shaka.Player.setAdManagerFactory),goog.exportProperty(shaka.Player,"registerSupportPlugin",shaka.Player.registerSupportPlugin),goog.exportProperty(shaka.Player.prototype,"destroy",shaka.Player.prototype.destroy),shaka.Player.EventName={AbrStatusChanged:"abrstatuschanged",Adaptation:"adaptation",Buffering:"buffering",DrmSessionUpdate:"drmsessionupdate",Emsg:"emsg",Error:"error",ExpirationUpdated:"expirationupdated",LargeGap:"largegap",Loaded:"loaded",Loading:"loading",ManifestParsed:"manifestparsed",Metadata:"metadata",OnStateChange:"onstatechange",OnStateIdle:"onstateidle",RateChange:"ratechange",Streaming:"streaming",TextChanged:"textchanged",TextTrackVisibility:"texttrackvisibility",TimelineRegionAdded:"timelineregionadded",TimelineRegionEnter:"timelineregionenter",TimelineRegionExit:"timelineregionexit",TracksChanged:"trackschanged",Unloading:"unloading",VariantChanged:"variantchanged"},shaka.Player.LoadMode={DESTROYED:0,NOT_LOADED:1,MEDIA_SOURCE:2,SRC_EQUALS:3},goog.exportProperty(shaka.Player,"LoadMode",shaka.Player.LoadMode),shaka.Player.TYPICAL_BUFFERING_THRESHOLD_=.5,shaka.Player.version="v3.0.8-debug",goog.exportProperty(shaka.Player,"version",shaka.Player.version),shaka.Deprecate.init(shaka.Player.version),shaka.Player.restrictedStatuses_=["output-restricted","internal-error"],shaka.Player.supportPlugins_={},shaka.Player.adManagerFactory_=null,shaka.Player.TextTrackLabel="Shaka Player TextTrack",shaka.ads={},shaka.ads.AdsStats=function(){this.loadTimes_=[],this.skipped_=this.playedCompletely_=this.started_=0},shaka.ads.AdsStats.prototype.addLoadTime=function(e){this.loadTimes_.push(e)},shaka.ads.AdsStats.prototype.incrementStarted=function(){this.started_++},shaka.ads.AdsStats.prototype.incrementPlayedCompletely=function(){this.playedCompletely_++},shaka.ads.AdsStats.prototype.incrementSkipped=function(){this.skipped_++},shaka.ads.AdsStats.prototype.getBlob=function(){return{loadTimes:this.loadTimes_,started:this.started_,playedCompletely:this.playedCompletely_,skipped:this.skipped_}},shaka.ads.ClientSideAd=function(e,t){var r=this;this.ad_=e,this.manager_=t,this.isPaused_=!1,this.volume_=this.manager_.getVolume(),this.eventManager_=new shaka.util.EventManager,this.eventManager_.listen(this.manager_,google.ima.AdEvent.Type.PAUSED,(function(){r.isPaused_=!0})),this.eventManager_.listen(this.manager_,google.ima.AdEvent.Type.RESUMED,(function(){r.isPaused_=!1}))},shaka.ads.ClientSideAd.prototype.getDuration=function(){return this.ad_.getDuration()},shaka.ads.ClientSideAd.prototype.getMinSuggestedDuration=function(){return this.ad_.getMinSuggestedDuration()},shaka.ads.ClientSideAd.prototype.getRemainingTime=function(){return this.manager_.getRemainingTime()},shaka.ads.ClientSideAd.prototype.isPaused=function(){return this.isPaused_},shaka.ads.ClientSideAd.prototype.isSkippable=function(){return 0<=this.ad_.getSkipTimeOffset()},shaka.ads.ClientSideAd.prototype.getTimeUntilSkippable=function(){var e=this.ad_.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},shaka.ads.ClientSideAd.prototype.canSkipNow=function(){return this.manager_.getAdSkippableState()},shaka.ads.ClientSideAd.prototype.skip=function(){return this.manager_.skip()},shaka.ads.ClientSideAd.prototype.setPaused=function(e){this.isPaused_=e},shaka.ads.ClientSideAd.prototype.pause=function(){return this.manager_.pause()},shaka.ads.ClientSideAd.prototype.play=function(){return this.manager_.resume()},shaka.ads.ClientSideAd.prototype.getVolume=function(){return this.manager_.getVolume()},shaka.ads.ClientSideAd.prototype.setVolume=function(e){return this.manager_.setVolume(e)},shaka.ads.ClientSideAd.prototype.isMuted=function(){return 0==this.manager_.getVolume()},shaka.ads.ClientSideAd.prototype.resize=function(e,t){this.manager_.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},shaka.ads.ClientSideAd.prototype.setMuted=function(e){e?(this.volume_=this.getVolume(),this.setVolume(0)):this.setVolume(this.volume_)},shaka.ads.ClientSideAd.prototype.getSequenceLength=function(){var e=this.ad_.getAdPodInfo();return null==e?1:e.getTotalAds()},shaka.ads.ClientSideAd.prototype.getPositionInSequence=function(){var e=this.ad_.getAdPodInfo();return null==e?1:e.getAdPosition()},shaka.ads.ClientSideAd.prototype.release=function(){this.manager_=this.ad_=null},goog.exportSymbol("shaka.ads.ClientSideAd",shaka.ads.ClientSideAd),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"release",shaka.ads.ClientSideAd.prototype.release),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getPositionInSequence",shaka.ads.ClientSideAd.prototype.getPositionInSequence),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getSequenceLength",shaka.ads.ClientSideAd.prototype.getSequenceLength),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"setMuted",shaka.ads.ClientSideAd.prototype.setMuted),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"resize",shaka.ads.ClientSideAd.prototype.resize),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isMuted",shaka.ads.ClientSideAd.prototype.isMuted),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"setVolume",shaka.ads.ClientSideAd.prototype.setVolume),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getVolume",shaka.ads.ClientSideAd.prototype.getVolume),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"play",shaka.ads.ClientSideAd.prototype.play),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"pause",shaka.ads.ClientSideAd.prototype.pause),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"skip",shaka.ads.ClientSideAd.prototype.skip),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"canSkipNow",shaka.ads.ClientSideAd.prototype.canSkipNow),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getTimeUntilSkippable",shaka.ads.ClientSideAd.prototype.getTimeUntilSkippable),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isSkippable",shaka.ads.ClientSideAd.prototype.isSkippable),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isPaused",shaka.ads.ClientSideAd.prototype.isPaused),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getRemainingTime",shaka.ads.ClientSideAd.prototype.getRemainingTime),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getMinSuggestedDuration",shaka.ads.ClientSideAd.prototype.getMinSuggestedDuration),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getDuration",shaka.ads.ClientSideAd.prototype.getDuration),shaka.ads.ClientSideAdManager=function(e,t,r,n){var i=this;this.adContainer_=e,this.video_=t,this.requestAdsStartTime_=NaN,this.onEvent_=n,this.ad_=null,this.eventManager_=new shaka.util.EventManager,google.ima.settings.setLocale(r),(e=new google.ima.AdDisplayContainer(this.adContainer_,this.video_)).initialize(),this.adsLoader_=new google.ima.AdsLoader(e),this.adsLoader_.getSettings().setPlayerType("shaka-player"),this.adsLoader_.getSettings().setPlayerVersion(shaka.Player.version),this.imaAdsManager_=null,this.eventManager_.listenOnce(this.adsLoader_,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){i.onAdsManagerLoaded_(e)})),this.eventManager_.listen(this.adsLoader_,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){i.onAdError_(e)})),this.video_.onended=function(){i.adsLoader_.contentComplete()}},shaka.ads.ClientSideAdManager.prototype.requestAds=function(e){goog.asserts.assert(e.adTagUrl||e.adsResponse,"The ad tag needs to be set up before requesting ads, or adsResponse must be filled."),this.requestAdsStartTime_=Date.now()/1e3,this.adsLoader_.requestAds(e)},shaka.ads.ClientSideAdManager.prototype.stop=function(){this.imaAdsManager_&&this.imaAdsManager_.stop(),this.adContainer_&&shaka.util.Dom.removeAllChildren(this.adContainer_)},shaka.ads.ClientSideAdManager.prototype.onAdError_=function(e){shaka.log.warning("There was an ad error from the IMA SDK: "+e.getError()),shaka.log.warning("Resuming playback."),this.onAdComplete_(null),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,{cuepoints:[]}))},shaka.ads.ClientSideAdManager.prototype.onAdsManagerLoaded_=function(e){var t=this;goog.asserts.assert(null!=this.video_,"Video should not be null!");var r=Date.now()/1e3-this.requestAdsStartTime_;if(this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.ADS_LOADED,{loadTime:r})),this.imaAdsManager_=e.getAdsManager(this.video_),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.IMA_AD_MANAGER_LOADED,{imaAdsManager:this.imaAdsManager_})),(r=this.imaAdsManager_.getCuePoints()).length){e=[];for(var n=(r=$jscomp.makeIterator(r)).next();!n.done;n=r.next())n=new shaka.ads.CuePoint(n.value),e.push(n);this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,{cuepoints:e}))}this.addImaEventListeners_();try{this.imaAdsManager_.init(this.video_.offsetWidth,this.video_.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),this.eventManager_.listen(this.video_,"loadeddata",(function(){t.imaAdsManager_.resize(t.video_.offsetWidth,t.video_.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),this.imaAdsManager_.start()}catch(i){this.onAdComplete_(null)}},shaka.ads.ClientSideAdManager.prototype.addImaEventListeners_=function(){var e=this;this.eventManager_.listen(this.imaAdsManager_,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){e.onAdError_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){e.onAdStart_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.STARTED,(function(t){e.onAdStart_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_FIRST_QUARTILE,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.MIDPOINT,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_MIDPOINT,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_THIRD_QUARTILE,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.COMPLETE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_COMPLETE,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){e.onAdComplete_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.onAdComplete_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.SKIPPED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_SKIPPED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_VOLUME_CHANGED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_MUTED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.PAUSED,(function(t){goog.asserts.assert(null!=e.ad_,"Ad should not be null!"),e.ad_.setPaused(!0),e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_PAUSED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.RESUMED,(function(t){goog.asserts.assert(null!=e.ad_,"Ad should not be null!"),e.ad_.setPaused(!1),e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_RESUMED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){goog.asserts.assert(null!=e.ad_,"Ad should not be null!"),e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_SKIP_STATE_CHANGED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CLICK,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_CLICKED))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_PROGRESS,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_BUFFERING,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.IMPRESSION,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_IMPRESSION,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_DURATION_CHANGED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_CLOSED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LOADED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_LOADED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.ALL_ADS_COMPLETED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_LINEAR_CHANGED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_METADATA,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_METADATA,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LOG,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_RECOVERABLE_ERROR,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_BREAK_READY,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.INTERACTION,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_INTERACTION,{originalEvent:t}))}))},shaka.ads.ClientSideAdManager.prototype.onAdStart_=function(e){goog.asserts.assert(this.imaAdsManager_,"Should have an ads manager at this point!");var t=e.getAd();this.ad_=new shaka.ads.ClientSideAd(t,this.imaAdsManager_),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STARTED,{ad:this.ad_,sdkAdObject:t,originalEvent:e})),this.adContainer_.setAttribute("ad-active","true"),this.video_.pause()},shaka.ads.ClientSideAdManager.prototype.onAdComplete_=function(e){this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED,{originalEvent:e})),this.adContainer_.removeAttribute("ad-active"),this.video_.play()},shaka.ads.ServerSideAd=function(e,t){this.ad_=e,this.adProgressData_=null,this.video_=t},shaka.ads.ServerSideAd.prototype.setProgressData=function(e){this.adProgressData_=e},shaka.ads.ServerSideAd.prototype.getDuration=function(){return this.adProgressData_?this.adProgressData_.duration:-1},shaka.ads.ServerSideAd.prototype.getMinSuggestedDuration=function(){return this.getDuration()},shaka.ads.ServerSideAd.prototype.getRemainingTime=function(){return this.adProgressData_?this.adProgressData_.duration-this.adProgressData_.currentTime:-1},shaka.ads.ServerSideAd.prototype.isPaused=function(){return this.video_.paused},shaka.ads.ServerSideAd.prototype.isSkippable=function(){return this.ad_.isSkippable()},shaka.ads.ServerSideAd.prototype.getTimeUntilSkippable=function(){var e=this.ad_.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},shaka.ads.ServerSideAd.prototype.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},shaka.ads.ServerSideAd.prototype.skip=function(){this.video_.currentTime+=this.getRemainingTime()},shaka.ads.ServerSideAd.prototype.pause=function(){return this.video_.pause()},shaka.ads.ServerSideAd.prototype.play=function(){return this.video_.play()},shaka.ads.ServerSideAd.prototype.getVolume=function(){return this.video_.volume},shaka.ads.ServerSideAd.prototype.setVolume=function(e){this.video_.volume=e},shaka.ads.ServerSideAd.prototype.isMuted=function(){return this.video_.muted},shaka.ads.ServerSideAd.prototype.resize=function(e,t){},shaka.ads.ServerSideAd.prototype.setMuted=function(e){this.video_.muted=e},shaka.ads.ServerSideAd.prototype.getSequenceLength=function(){var e=this.ad_.getAdPodInfo();return null==e?1:e.getTotalAds()},shaka.ads.ServerSideAd.prototype.getPositionInSequence=function(){var e=this.ad_.getAdPodInfo();return null==e?1:e.getAdPosition()},shaka.ads.ServerSideAd.prototype.release=function(){this.video_=this.adProgressData_=this.ad_=null},goog.exportSymbol("shaka.ads.ServerSideAd",shaka.ads.ServerSideAd),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"release",shaka.ads.ServerSideAd.prototype.release),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getPositionInSequence",shaka.ads.ServerSideAd.prototype.getPositionInSequence),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getSequenceLength",shaka.ads.ServerSideAd.prototype.getSequenceLength),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"setMuted",shaka.ads.ServerSideAd.prototype.setMuted),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"resize",shaka.ads.ServerSideAd.prototype.resize),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isMuted",shaka.ads.ServerSideAd.prototype.isMuted),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"setVolume",shaka.ads.ServerSideAd.prototype.setVolume),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getVolume",shaka.ads.ServerSideAd.prototype.getVolume),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"play",shaka.ads.ServerSideAd.prototype.play),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"pause",shaka.ads.ServerSideAd.prototype.pause),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"skip",shaka.ads.ServerSideAd.prototype.skip),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"canSkipNow",shaka.ads.ServerSideAd.prototype.canSkipNow),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getTimeUntilSkippable",shaka.ads.ServerSideAd.prototype.getTimeUntilSkippable),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isSkippable",shaka.ads.ServerSideAd.prototype.isSkippable),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isPaused",shaka.ads.ServerSideAd.prototype.isPaused),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getRemainingTime",shaka.ads.ServerSideAd.prototype.getRemainingTime),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getMinSuggestedDuration",shaka.ads.ServerSideAd.prototype.getMinSuggestedDuration),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getDuration",shaka.ads.ServerSideAd.prototype.getDuration),shaka.ads.ServerSideAdManager=function(e,t,r,n){var i=this;this.adContainer_=e,this.video_=t,this.streamPromise_=null,this.streamRequestStartTime_=NaN,this.onEvent_=n,this.isLiveContent_=!1,this.adProgressData_=this.ad_=this.snapForwardTime_=null,this.backupUrl_="",this.eventManager_=new shaka.util.EventManager,(e=new google.ima.dai.api.UiSettings).setLocale(r),this.streamManager_=new google.ima.dai.api.StreamManager(this.video_,this.adContainer_,e),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){shaka.log.info("Ad SS Loaded"),i.onLoaded_(e)})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){shaka.log.info("Ad SS Error"),i.onError_()})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){shaka.log.info("Ad Break Started")})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){shaka.log.info("Ad Started"),i.onAdStart_(e)})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){shaka.log.info("Ad Break Ended"),i.onAdBreakEnded_()})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.onAdProgress_(e)})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){shaka.log.info("Ad event: First Quartile"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_FIRST_QUARTILE))})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){shaka.log.info("Ad event: Midpoint"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_MIDPOINT))})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){shaka.log.info("Ad event: Third Quartile"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_THIRD_QUARTILE))})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){shaka.log.info("Ad event: Complete"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_COMPLETE)),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED)),i.adContainer_.removeAttribute("ad-active"),i.ad_=null})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){shaka.log.info("Ad event: Skipped"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_SKIPPED)),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED))})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){shaka.log.info("Ad event: Cue points changed"),i.onCuePointsChanged_(e)}))},shaka.ads.ServerSideAdManager.prototype.streamRequest=function(e,t){return this.streamPromise_?Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CURRENT_DAI_REQUEST_NOT_FINISHED)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(this.isLiveContent_=!0),this.streamPromise_=new shaka.util.PublicPromise,this.streamManager_.requestStream(e),this.backupUrl_=t||"",this.streamRequestStartTime_=Date.now()/1e3,this.streamPromise_)},shaka.ads.ServerSideAdManager.prototype.replaceAdTagParameters=function(e){this.streamManager_.replaceAdTagParameters(e)},shaka.ads.ServerSideAdManager.prototype.stop=function(){this.streamManager_.reset(),this.backupUrl_="",this.snapForwardTime_=null},shaka.ads.ServerSideAdManager.prototype.onTimedMetadata=function(e,t,r){this.streamManager_.processMetadata(e,t,r)},shaka.ads.ServerSideAdManager.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.streamManager_.onTimedMetadata(t)}},shaka.ads.ServerSideAdManager.prototype.checkForSnapback_=function(){var e=this.video_.currentTime;if(0!=e){this.streamManager_.streamTimeForContentTime(e);var t=this.streamManager_.previousCuePointForStreamTime(e);t&&!t.played&&(shaka.log.info("Seeking back to the start of the ad break at "+t.start+" and will return to "+e),this.snapForwardTime_=e,this.video_.currentTime=t.start)}},shaka.ads.ServerSideAdManager.prototype.onAdStart_=function(e){goog.asserts.assert(this.streamManager_,"Should have a stream manager at this point!"),e=e.getAd(),this.ad_=new shaka.ads.ServerSideAd(e,this.video_),this.adProgressData_&&this.ad_.setProgressData(this.adProgressData_),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STARTED,{ad:this.ad_})),this.adContainer_.setAttribute("ad-active","true")},shaka.ads.ServerSideAdManager.prototype.onAdBreakEnded_=function(){this.adContainer_.removeAttribute("ad-active");var e=this.video_.currentTime;this.snapForwardTime_&&this.snapForwardTime_>e&&(this.video_.currentTime=this.snapForwardTime_,this.snapForwardTime_=null)},shaka.ads.ServerSideAdManager.prototype.onLoaded_=function(e){var t=this,r=Date.now()/1e3-this.streamRequestStartTime_;this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.ADS_LOADED,{loadTime:r})),e=e.getStreamData().url,this.streamPromise_.resolve(e),this.streamPromise_=null,this.isLiveContent_||this.eventManager_.listen(this.video_,"seeked",(function(){t.checkForSnapback_()}))},shaka.ads.ServerSideAdManager.prototype.onError_=function(){this.backupUrl_.length?(shaka.log.warning("IMA stream request returned an error. Falling back to the backup asset uri."),this.streamPromise_.resolve(this.backupUrl_)):this.streamPromise_.reject("IMA Stream request returned an error and there was no backup asset uri provided."),this.streamPromise_=null},shaka.ads.ServerSideAdManager.prototype.onAdProgress_=function(e){this.adProgressData_=e.getStreamData().adProgressData,this.ad_&&this.ad_.setProgressData(this.adProgressData_)},shaka.ads.ServerSideAdManager.prototype.onCuePointsChanged_=function(e){var t=e.getStreamData();e=[];for(var r=(t=$jscomp.makeIterator(t.cuepoints)).next();!r.done;r=t.next())r=r.value,r=new shaka.ads.CuePoint(r.start,r.end),e.push(r);this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,{cuepoints:e}))},shaka.ads.AdManager=function(){shaka.util.FakeEventTarget.call(this),this.ssAdManager_=this.csAdManager_=null,this.stats_=new shaka.ads.AdsStats,this.locale_=navigator.language},$jscomp.inherits(shaka.ads.AdManager,shaka.util.FakeEventTarget),shaka.ads.AdManager.prototype.setLocale=function(e){this.locale_=e},shaka.ads.AdManager.prototype.initClientSide=function(e,t){var r=this;if(!window.google||!google.ima||!google.ima.AdsLoader)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CS_IMA_SDK_MISSING);this.csAdManager_=new shaka.ads.ClientSideAdManager(e,t,this.locale_,(function(e){if(e&&e.type)switch(e.type){case shaka.ads.AdManager.ADS_LOADED:r.stats_.addLoadTime(e.loadTime);break;case shaka.ads.AdManager.AD_STARTED:r.stats_.incrementStarted();break;case shaka.ads.AdManager.AD_COMPLETE:r.stats_.incrementPlayedCompletely();break;case shaka.ads.AdManager.AD_SKIPPED:r.stats_.incrementSkipped()}r.dispatchEvent(e)}))},shaka.ads.AdManager.prototype.onAssetUnload=function(){this.csAdManager_&&this.csAdManager_.stop(),this.dispatchEvent(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED)),this.stats_=new shaka.ads.AdsStats},shaka.ads.AdManager.prototype.requestClientSideAds=function(e){if(!this.csAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CS_AD_MANAGER_NOT_INITIALIZED);this.csAdManager_.requestAds(e)},shaka.ads.AdManager.prototype.initServerSide=function(e,t){var r=this;if(!window.google||!google.ima||!google.ima.dai)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_IMA_SDK_MISSING);this.ssAdManager_=new shaka.ads.ServerSideAdManager(e,t,this.locale_,(function(e){if(e&&e.type)switch(e.type){case shaka.ads.AdManager.ADS_LOADED:r.stats_.addLoadTime(e.loadTime);break;case shaka.ads.AdManager.AD_STARTED:r.stats_.incrementStarted();break;case shaka.ads.AdManager.AD_COMPLETE:r.stats_.incrementPlayedCompletely();break;case shaka.ads.AdManager.AD_SKIPPED:r.stats_.incrementSkipped()}r.dispatchEvent(e)}))},shaka.ads.AdManager.prototype.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.ssAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_AD_MANAGER_NOT_INITIALIZED);e.adTagParameters||(e.adTagParameters={});var r=e.adTagParameters;return(r.mpt||r.mpv)&&shaka.log.alwaysWarn('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="Shaka Player",e.adTagParameters.mpv=shaka.Player.version,this.ssAdManager_.streamRequest(e,t)},shaka.ads.AdManager.prototype.replaceServerSideAdTagParameters=function(e){if(!this.ssAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_AD_MANAGER_NOT_INITIALIZED);(e.mpt||e.mpv)&&shaka.log.alwaysWarn('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv=shaka.Player.version,this.ssAdManager_.replaceAdTagParameters(e)},shaka.ads.AdManager.prototype.getStats=function(){return this.stats_.getBlob()},shaka.ads.AdManager.prototype.onDashTimedMetadata=function(e){if(this.ssAdManager_&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,r=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.ssAdManager_.onTimedMetadata(t,r,e.startTime)}},shaka.ads.AdManager.prototype.onHlsTimedMetadata=function(e,t){this.ssAdManager_?this.ssAdManager_.onTimedMetadata("ID3",e.data,t):shaka.log.warning("ID3 metadata processing was called without initializing server side ad logic. Ad-related metadata will not take effect")},shaka.ads.AdManager.prototype.onCueMetadataChange=function(e){this.ssAdManager_?this.ssAdManager_.onCueMetadataChange(e):shaka.log.warning("ID3 metadata processing was called without initializing server side ad logic. Ad-related metadata will not take effect")},goog.exportSymbol("shaka.ads.AdManager",shaka.ads.AdManager),goog.exportProperty(shaka.ads.AdManager.prototype,"onCueMetadataChange",shaka.ads.AdManager.prototype.onCueMetadataChange),goog.exportProperty(shaka.ads.AdManager.prototype,"onHlsTimedMetadata",shaka.ads.AdManager.prototype.onHlsTimedMetadata),goog.exportProperty(shaka.ads.AdManager.prototype,"onDashTimedMetadata",shaka.ads.AdManager.prototype.onDashTimedMetadata),goog.exportProperty(shaka.ads.AdManager.prototype,"getStats",shaka.ads.AdManager.prototype.getStats),goog.exportProperty(shaka.ads.AdManager.prototype,"replaceServerSideAdTagParameters",shaka.ads.AdManager.prototype.replaceServerSideAdTagParameters),goog.exportProperty(shaka.ads.AdManager.prototype,"requestServerSideStream",shaka.ads.AdManager.prototype.requestServerSideStream),goog.exportProperty(shaka.ads.AdManager.prototype,"initServerSide",shaka.ads.AdManager.prototype.initServerSide),goog.exportProperty(shaka.ads.AdManager.prototype,"requestClientSideAds",shaka.ads.AdManager.prototype.requestClientSideAds),goog.exportProperty(shaka.ads.AdManager.prototype,"onAssetUnload",shaka.ads.AdManager.prototype.onAssetUnload),goog.exportProperty(shaka.ads.AdManager.prototype,"initClientSide",shaka.ads.AdManager.prototype.initClientSide),goog.exportProperty(shaka.ads.AdManager.prototype,"setLocale",shaka.ads.AdManager.prototype.setLocale),shaka.ads.CuePoint=function(e,t){this.start=e,this.end=void 0===t?null:t},shaka.ads.AdManager.ADS_LOADED="ads-loaded",goog.exportProperty(shaka.ads.AdManager,"ADS_LOADED",shaka.ads.AdManager.ADS_LOADED),shaka.ads.AdManager.AD_STARTED="ad-started",goog.exportProperty(shaka.ads.AdManager,"AD_STARTED",shaka.ads.AdManager.AD_STARTED),shaka.ads.AdManager.AD_FIRST_QUARTILE="ad-first-quartile",goog.exportProperty(shaka.ads.AdManager,"AD_FIRST_QUARTILE",shaka.ads.AdManager.AD_FIRST_QUARTILE),shaka.ads.AdManager.AD_MIDPOINT="ad-midpoint",goog.exportProperty(shaka.ads.AdManager,"AD_MIDPOINT",shaka.ads.AdManager.AD_MIDPOINT),shaka.ads.AdManager.AD_THIRD_QUARTILE="ad-third-quartile",goog.exportProperty(shaka.ads.AdManager,"AD_THIRD_QUARTILE",shaka.ads.AdManager.AD_THIRD_QUARTILE),shaka.ads.AdManager.AD_COMPLETE="ad-complete",goog.exportProperty(shaka.ads.AdManager,"AD_COMPLETE",shaka.ads.AdManager.AD_COMPLETE),shaka.ads.AdManager.AD_STOPPED="ad-stopped",goog.exportProperty(shaka.ads.AdManager,"AD_STOPPED",shaka.ads.AdManager.AD_STOPPED),shaka.ads.AdManager.AD_SKIPPED="ad-skipped",goog.exportProperty(shaka.ads.AdManager,"AD_SKIPPED",shaka.ads.AdManager.AD_SKIPPED),shaka.ads.AdManager.AD_VOLUME_CHANGED="ad-volume-changed",goog.exportProperty(shaka.ads.AdManager,"AD_VOLUME_CHANGED",shaka.ads.AdManager.AD_VOLUME_CHANGED),shaka.ads.AdManager.AD_MUTED="ad-muted",goog.exportProperty(shaka.ads.AdManager,"AD_MUTED",shaka.ads.AdManager.AD_MUTED),shaka.ads.AdManager.AD_PAUSED="ad-paused",goog.exportProperty(shaka.ads.AdManager,"AD_PAUSED",shaka.ads.AdManager.AD_PAUSED),shaka.ads.AdManager.AD_RESUMED="ad-resumed",goog.exportProperty(shaka.ads.AdManager,"AD_RESUMED",shaka.ads.AdManager.AD_RESUMED),shaka.ads.AdManager.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",goog.exportProperty(shaka.ads.AdManager,"AD_SKIP_STATE_CHANGED",shaka.ads.AdManager.AD_SKIP_STATE_CHANGED),shaka.ads.AdManager.CUEPOINTS_CHANGED="ad-cue-points-changed",goog.exportProperty(shaka.ads.AdManager,"CUEPOINTS_CHANGED",shaka.ads.AdManager.CUEPOINTS_CHANGED),shaka.ads.AdManager.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",goog.exportProperty(shaka.ads.AdManager,"IMA_AD_MANAGER_LOADED",shaka.ads.AdManager.IMA_AD_MANAGER_LOADED),shaka.ads.AdManager.AD_CLICKED="ad-clicked",goog.exportProperty(shaka.ads.AdManager,"AD_CLICKED",shaka.ads.AdManager.AD_CLICKED),shaka.ads.AdManager.AD_PROGRESS="ad-progress",goog.exportProperty(shaka.ads.AdManager,"AD_PROGRESS",shaka.ads.AdManager.AD_PROGRESS),shaka.ads.AdManager.AD_BUFFERING="ad-buffering",goog.exportProperty(shaka.ads.AdManager,"AD_BUFFERING",shaka.ads.AdManager.AD_BUFFERING),shaka.ads.AdManager.AD_IMPRESSION="ad-impression",goog.exportProperty(shaka.ads.AdManager,"AD_IMPRESSION",shaka.ads.AdManager.AD_IMPRESSION),shaka.ads.AdManager.AD_DURATION_CHANGED="ad-duration-changed",goog.exportProperty(shaka.ads.AdManager,"AD_DURATION_CHANGED",shaka.ads.AdManager.AD_DURATION_CHANGED),shaka.ads.AdManager.AD_CLOSED="ad-closed",goog.exportProperty(shaka.ads.AdManager,"AD_CLOSED",shaka.ads.AdManager.AD_CLOSED),shaka.ads.AdManager.AD_LOADED="ad-loaded",goog.exportProperty(shaka.ads.AdManager,"AD_LOADED",shaka.ads.AdManager.AD_LOADED),shaka.ads.AdManager.ALL_ADS_COMPLETED="all-ads-completed",goog.exportProperty(shaka.ads.AdManager,"ALL_ADS_COMPLETED",shaka.ads.AdManager.ALL_ADS_COMPLETED),shaka.ads.AdManager.AD_LINEAR_CHANGED="ad-linear-changed",goog.exportProperty(shaka.ads.AdManager,"AD_LINEAR_CHANGED",shaka.ads.AdManager.AD_LINEAR_CHANGED),shaka.ads.AdManager.AD_METADATA="ad-metadata",goog.exportProperty(shaka.ads.AdManager,"AD_METADATA",shaka.ads.AdManager.AD_METADATA),shaka.ads.AdManager.AD_RECOVERABLE_ERROR="ad-recoverable-error",goog.exportProperty(shaka.ads.AdManager,"AD_RECOVERABLE_ERROR",shaka.ads.AdManager.AD_RECOVERABLE_ERROR),shaka.ads.AdManager.AD_BREAK_READY="ad-break-ready",goog.exportProperty(shaka.ads.AdManager,"AD_BREAK_READY",shaka.ads.AdManager.AD_BREAK_READY),shaka.ads.AdManager.AD_INTERACTION="ad-interaction",goog.exportProperty(shaka.ads.AdManager,"AD_INTERACTION",shaka.ads.AdManager.AD_INTERACTION),shaka.Player.setAdManagerFactory((function(){return new shaka.ads.AdManager})),shaka.cast={},shaka.cast.CastUtils=function(){},shaka.cast.CastUtils.serialize=function(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof shaka.util.FakeEvent){var r,n={};for(r in t){var i=t[r];i&&"object"==typeof i?"detail"==r&&(n[r]=i):r in Event||(n[r]=i)}return n}return t instanceof Error?shaka.cast.CastUtils.unpackError_(t):t instanceof TimeRanges?shaka.cast.CastUtils.unpackTimeRanges_(t):t instanceof Uint8Array?shaka.cast.CastUtils.unpackUint8Array_(t):"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t}}))},shaka.cast.CastUtils.deserialize=function(e){return JSON.parse(e,(function(e,t){return"NaN"==t?NaN:"-Infinity"==t?-1/0:"Infinity"==t?1/0:t&&"object"==typeof t&&"TimeRanges"==t.__type__?shaka.cast.CastUtils.simulateTimeRanges_(t):t&&"object"==typeof t&&"Uint8Array"==t.__type__?shaka.cast.CastUtils.makeUint8Array_(t):t&&"object"==typeof t&&"Error"==t.__type__?shaka.cast.CastUtils.makeError_(t):t}))},shaka.cast.CastUtils.unpackTimeRanges_=function(e){for(var t={__type__:"TimeRanges",length:e.length,start:[],end:[]},r=(e=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(e))).next();!r.done;r=e.next()){var n=(r=r.value).end;t.start.push(r.start),t.end.push(n)}return t},shaka.cast.CastUtils.simulateTimeRanges_=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}},shaka.cast.CastUtils.unpackUint8Array_=function(e){return{__type__:"Uint8Array",entries:Array.from(e)}},shaka.cast.CastUtils.makeUint8Array_=function(e){return new Uint8Array(e.entries)},shaka.cast.CastUtils.unpackError_=function(e){var t,r=new Set(["name","message","stack"]);for(t in e)r.add(t);var n=$jscomp.makeIterator(Object.getOwnPropertyNames(e));for(t=n.next();!t.done;t=n.next())r.add(t.value);for(n={},t=(r=$jscomp.makeIterator(r)).next();!t.done;t=r.next())n[t=t.value]=e[t];return{__type__:"Error",contents:n}},shaka.cast.CastUtils.makeError_=function(e){e=e.contents;var t,r=Error(e.message);for(t in e)r[t]=e[t];return r},shaka.cast.CastUtils.VideoEvents="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),shaka.cast.CastUtils.VideoAttributes="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),shaka.cast.CastUtils.VideoInitStateAttributes=["loop","playbackRate"],shaka.cast.CastUtils.VideoVoidMethods=["pause","play"],shaka.cast.CastUtils.PlayerGetterMethods={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},shaka.cast.CastUtils.PlayerGetterMethodsThatRequireLive={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},shaka.cast.CastUtils.PlayerInitState=[["getConfiguration","configure"]],shaka.cast.CastUtils.PlayerInitAfterLoadState=[["isTextTrackVisible","setTextTrackVisibility"]],shaka.cast.CastUtils.PlayerVoidMethods="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),shaka.cast.CastUtils.PlayerPromiseMethods=["attach","detach","load","unload"],shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE="urn:x-cast:com.google.shaka.v2",shaka.cast.CastUtils.GENERIC_MESSAGE_NAMESPACE="urn:x-cast:com.google.cast.media",shaka.cast.CastSender=function(e,t,r,n,i,a){var o=this;this.receiverAppId_=e,this.statusChangeTimer_=new shaka.util.Timer(t),this.onFirstCastStateUpdate_=r,this.hasJoinedExistingSession_=!1,this.onRemoteEvent_=n,this.onResumeLocal_=i,this.onInitStateRequired_=a,this.isCasting_=this.apiReady_=!1,this.receiverName_="",this.appData_=null,this.onConnectionStatusChangedBound_=function(){return o.onConnectionStatusChanged_()},this.onMessageReceivedBound_=function(e,t){return o.onMessageReceived_(e,t)},this.cachedProperties_={video:{},player:{}},this.nextAsyncCallId_=0,this.asyncCallPromises_={},this.castPromise_=null,shaka.cast.CastSender.instances_.add(this)},shaka.cast.CastSender.prototype.destroy=function(){return shaka.cast.CastSender.instances_.delete(this),this.rejectAllPromises_(),shaka.cast.CastSender.session_&&this.removeListeners_(),this.statusChangeTimer_&&(this.statusChangeTimer_.stop(),this.statusChangeTimer_=null),this.onResumeLocal_=this.onRemoteEvent_=null,this.isCasting_=this.apiReady_=!1,this.onMessageReceivedBound_=this.onConnectionStatusChangedBound_=this.castPromise_=this.asyncCallPromises_=this.cachedProperties_=this.appData_=null,Promise.resolve()},shaka.cast.CastSender.prototype.apiReady=function(){return this.apiReady_},shaka.cast.CastSender.prototype.hasReceivers=function(){return shaka.cast.CastSender.hasReceivers_},shaka.cast.CastSender.prototype.isCasting=function(){return this.isCasting_},shaka.cast.CastSender.prototype.receiverName=function(){return this.receiverName_},shaka.cast.CastSender.prototype.hasRemoteProperties=function(){return 0!=Object.keys(this.cachedProperties_.video).length},shaka.cast.CastSender.prototype.init=function(){var e=shaka.cast.CastSender;if(window.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.receiverAppId_.length){this.apiReady_=!0,this.statusChangeTimer_.tickNow();var t=new chrome.cast.SessionRequest(this.receiverAppId_);t=new chrome.cast.ApiConfig(t,(function(t){return e.onExistingSessionJoined_(t)}),(function(t){return e.onReceiverStatusChanged_(t)}),"origin_scoped"),chrome.cast.initialize(t,(function(){shaka.log.debug("CastSender: init")}),(function(e){shaka.log.error("CastSender: init error",e)})),shaka.cast.CastSender.hasReceivers_&&this.statusChangeTimer_.tickAfter(shaka.cast.CastSender.STATUS_DELAY),(t=shaka.cast.CastSender.session_)&&t.status!=chrome.cast.SessionStatus.STOPPED?(shaka.log.debug("CastSender: re-using existing connection"),this.onExistingSessionJoined_(t)):shaka.cast.CastSender.session_=null}},shaka.cast.CastSender.prototype.setAppData=function(e){this.appData_=e,this.isCasting_&&this.sendMessage_({type:"appData",appData:this.appData_})},shaka.cast.CastSender.prototype.cast=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(!t.apiReady_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.CAST_API_UNAVAILABLE);if(!shaka.cast.CastSender.hasReceivers_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.NO_CAST_RECEIVERS);if(t.isCasting_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.ALREADY_CASTING);return t.castPromise_=new shaka.util.PublicPromise,chrome.cast.requestSession((function(r){return t.onSessionInitiated_(e,r)}),(function(e){return t.onConnectionError_(e)})),r.yield(t.castPromise_,0)}))},shaka.cast.CastSender.prototype.showDisconnectDialog=function(){var e=this;if(this.isCasting_){var t=this.onInitStateRequired_();chrome.cast.requestSession((function(r){return e.onSessionInitiated_(t,r)}),(function(t){return e.onConnectionError_(t)}))}},shaka.cast.CastSender.prototype.forceDisconnect=function(){if(this.isCasting_){if(this.rejectAllPromises_(),shaka.cast.CastSender.session_){this.removeListeners_();try{shaka.cast.CastSender.session_.stop((function(){}),(function(){}))}catch(e){}shaka.cast.CastSender.session_=null}this.onConnectionStatusChanged_()}},shaka.cast.CastSender.prototype.get=function(e,t){var r=this;goog.asserts.assert("video"==e||"player"==e,"Unexpected target name");var n=shaka.cast.CastUtils;if("video"==e){if(n.VideoVoidMethods.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];return r.remoteCall_.apply(r,[e,t].concat($jscomp.arrayFromIterable(i)))}}else if("player"==e){if(n.PlayerGetterMethodsThatRequireLive[t]){var i=this.get("player","isLive")();if(goog.asserts.assert(i,t+" should be called on a live stream!"),!i)return function(){}}if(n.PlayerVoidMethods.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];return r.remoteCall_.apply(r,[e,t].concat($jscomp.arrayFromIterable(i)))};if(n.PlayerPromiseMethods.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];return r.remoteAsyncCall_.apply(r,[e,t].concat($jscomp.arrayFromIterable(i)))};if(n.PlayerGetterMethods[t])return function(){return r.propertyGetter_(e,t)}}return this.propertyGetter_(e,t)},shaka.cast.CastSender.prototype.set=function(e,t,r){goog.asserts.assert("video"==e||"player"==e,"Unexpected target name"),this.cachedProperties_[e][t]=r,this.sendMessage_({type:"set",targetName:e,property:t,value:r})},shaka.cast.CastSender.prototype.onSessionInitiated_=function(e,t){shaka.log.debug("CastSender: onSessionInitiated"),this.onSessionCreated_(t),this.sendMessage_({type:"init",initState:e,appData:this.appData_}),this.castPromise_.resolve()},shaka.cast.CastSender.prototype.onConnectionError_=function(e){var t=shaka.util.Error.Code.UNEXPECTED_CAST_ERROR;switch(e.code){case"cancel":t=shaka.util.Error.Code.CAST_CANCELED_BY_USER;break;case"timeout":t=shaka.util.Error.Code.CAST_CONNECTION_TIMED_OUT;break;case"receiver_unavailable":t=shaka.util.Error.Code.CAST_RECEIVER_APP_UNAVAILABLE}this.castPromise_.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.CAST,t,e))},shaka.cast.CastSender.prototype.propertyGetter_=function(e,t){return goog.asserts.assert("video"==e||"player"==e,"Unexpected target name"),this.cachedProperties_[e][t]},shaka.cast.CastSender.prototype.remoteCall_=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];goog.asserts.assert("video"==e||"player"==e,"Unexpected target name"),this.sendMessage_({type:"call",targetName:e,methodName:t,args:n})},shaka.cast.CastSender.prototype.remoteAsyncCall_=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];goog.asserts.assert("video"==e||"player"==e,"Unexpected target name"),i=new shaka.util.PublicPromise;var a=this.nextAsyncCallId_.toString();this.nextAsyncCallId_++,this.asyncCallPromises_[a]=i;try{this.sendMessage_({type:"asyncCall",targetName:e,methodName:t,args:n,id:a})}catch(o){i.reject(o)}return i},shaka.cast.CastSender.onExistingSessionJoined_=function(e){for(var t=$jscomp.makeIterator(shaka.cast.CastSender.instances_),r=t.next();!r.done;r=t.next())r.value.onExistingSessionJoined_(e)},shaka.cast.CastSender.prototype.onExistingSessionJoined_=function(e){shaka.log.debug("CastSender: onExistingSessionJoined");var t=this.onInitStateRequired_();this.castPromise_=new shaka.util.PublicPromise,this.hasJoinedExistingSession_=!0,this.onSessionInitiated_(t,e)},shaka.cast.CastSender.onReceiverStatusChanged_=function(e){for(var t=$jscomp.makeIterator(shaka.cast.CastSender.instances_),r=t.next();!r.done;r=t.next())r.value.onReceiverStatusChanged_(e)},shaka.cast.CastSender.prototype.onReceiverStatusChanged_=function(e){shaka.log.debug("CastSender: receiver status",e),shaka.cast.CastSender.hasReceivers_="available"==e,this.statusChangeTimer_.tickNow()},shaka.cast.CastSender.prototype.onSessionCreated_=function(e){shaka.cast.CastSender.session_=e,e.addUpdateListener(this.onConnectionStatusChangedBound_),e.addMessageListener(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,this.onMessageReceivedBound_),this.onConnectionStatusChanged_()},shaka.cast.CastSender.prototype.removeListeners_=function(){var e=shaka.cast.CastSender.session_;e.removeUpdateListener(this.onConnectionStatusChangedBound_),e.removeMessageListener(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,this.onMessageReceivedBound_)},shaka.cast.CastSender.prototype.onConnectionStatusChanged_=function(){var e=!!shaka.cast.CastSender.session_&&"connected"==shaka.cast.CastSender.session_.status;if(shaka.log.debug("CastSender: connection status",e),this.isCasting_&&!e){for(var t in this.onResumeLocal_(),this.cachedProperties_)this.cachedProperties_[t]={};this.rejectAllPromises_()}this.receiverName_=(this.isCasting_=e)?shaka.cast.CastSender.session_.receiver.friendlyName:"",this.statusChangeTimer_.tickNow()},shaka.cast.CastSender.prototype.rejectAllPromises_=function(){for(var e in this.asyncCallPromises_){var t=this.asyncCallPromises_[e];delete this.asyncCallPromises_[e],t.reject(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.LOAD_INTERRUPTED))}},shaka.cast.CastSender.prototype.onMessageReceived_=function(e,t){var r=shaka.cast.CastUtils.deserialize(t);switch(shaka.log.v2("CastSender: message",r),r.type){case"event":var n=r.targetName;r=r.event,r=new shaka.util.FakeEvent(r.type,r),this.onRemoteEvent_(n,r);break;case"update":for(var i in n=r.update)for(var a in r=this.cachedProperties_[i]||{},n[i])r[a]=n[i][a];this.hasJoinedExistingSession_&&(this.onFirstCastStateUpdate_(),this.hasJoinedExistingSession_=!1);break;case"asyncComplete":if(i=r.id,r=r.error,a=this.asyncCallPromises_[i],delete this.asyncCallPromises_[i],goog.asserts.assert(a,"Unexpected async id"),a)if(r){for(n in i=new shaka.util.Error(r.severity,r.category,r.code),r)i[n]=r[n];a.reject(i)}else a.resolve()}},shaka.cast.CastSender.prototype.sendMessage_=function(e){e=shaka.cast.CastUtils.serialize(e);var t=shaka.cast.CastSender.session_;try{t.sendMessage(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,e,(function(){}),shaka.log.error)}catch(r){throw shaka.log.error("Cast session sendMessage threw",r),e=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.CAST,shaka.util.Error.Code.CAST_CONNECTION_TIMED_OUT,r),t=new shaka.util.FakeEvent("error",{detail:e}),this.onRemoteEvent_("player",t),this.forceDisconnect(),e}},shaka.cast.CastSender.STATUS_DELAY=.02,shaka.cast.CastSender.hasReceivers_=!1,shaka.cast.CastSender.session_=null,shaka.cast.CastSender.instances_=new Set,shaka.cast.CastSender.onSdkLoaded_=function(e){if(e)for(var t=(e=$jscomp.makeIterator(shaka.cast.CastSender.instances_)).next();!t.done;t=e.next())t.value.init()},window.__onGCastApiAvailable=shaka.cast.CastSender.onSdkLoaded_,shaka.cast.CastProxy=function(e,t,r){shaka.util.FakeEventTarget.call(this);var n=this;this.localVideo_=e,this.localPlayer_=t,this.eventManager_=this.playerEventTarget_=this.videoEventTarget_=this.playerProxy_=this.videoProxy_=null,this.receiverAppId_=r,this.compiledToExternNames_=new Map,this.sender_=new shaka.cast.CastSender(r,(function(){return n.onCastStatusChanged_()}),(function(){return n.onFirstCastStateUpdate_()}),(function(e,t){return n.onRemoteEvent_(e,t)}),(function(){return n.onResumeLocal_()}),(function(){return n.getInitState_()})),this.init_()},$jscomp.inherits(shaka.cast.CastProxy,shaka.util.FakeEventTarget),shaka.cast.CastProxy.prototype.destroy=function(e){return e&&this.sender_.forceDisconnect(),this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),e=[],this.localPlayer_&&(e.push(this.localPlayer_.destroy()),this.localPlayer_=null),this.sender_&&(e.push(this.sender_.destroy()),this.sender_=null),this.playerProxy_=this.videoProxy_=this.localVideo_=null,Promise.all(e)},shaka.cast.CastProxy.prototype.getVideo=function(){return this.videoProxy_},shaka.cast.CastProxy.prototype.getPlayer=function(){return this.playerProxy_},shaka.cast.CastProxy.prototype.canCast=function(){return this.sender_.apiReady()&&this.sender_.hasReceivers()},shaka.cast.CastProxy.prototype.isCasting=function(){return this.sender_.isCasting()},shaka.cast.CastProxy.prototype.receiverName=function(){return this.sender_.receiverName()},shaka.cast.CastProxy.prototype.cast=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(e=t.getInitState_(),r.yield(t.sender_.cast(e),2)):t.localPlayer_?r.yield(t.localPlayer_.unload(),0):r.return()}))},shaka.cast.CastProxy.prototype.setAppData=function(e){this.sender_.setAppData(e)},shaka.cast.CastProxy.prototype.suggestDisconnect=function(){this.sender_.showDisconnectDialog()},shaka.cast.CastProxy.prototype.forceDisconnect=function(){this.sender_.forceDisconnect()},shaka.cast.CastProxy.prototype.changeReceiverId=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return e==t.receiverAppId_?r.return():(t.receiverAppId_=e,t.sender_.forceDisconnect(),r.yield(t.sender_.destroy(),2));t.sender_=null,t.sender_=new shaka.cast.CastSender(e,(function(){return t.onCastStatusChanged_()}),(function(){return t.onFirstCastStateUpdate_()}),(function(e,r){return t.onRemoteEvent_(e,r)}),(function(){return t.onResumeLocal_()}),(function(){return t.getInitState_()})),t.sender_.init(),r.jumpToEnd()}))},shaka.cast.CastProxy.prototype.init_=function(){var e=this;this.sender_.init(),this.eventManager_=new shaka.util.EventManager;for(var t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoEvents),r=t.next();!r.done;r=t.next())this.eventManager_.listen(this.localVideo_,r.value,(function(t){return e.videoProxyLocalEvent_(t)}));for(var n in shaka.Player.EventName)this.eventManager_.listen(this.localPlayer_,shaka.Player.EventName[n],(function(t){return e.playerProxyLocalEvent_(t)}));for(var i in this.videoProxy_={},t={},this.localVideo_)t.$jscomp$loop$prop$k$491=i,Object.defineProperty(this.videoProxy_,t.$jscomp$loop$prop$k$491,{configurable:!1,enumerable:!0,get:function(t){return function(){return e.videoProxyGet_(t.$jscomp$loop$prop$k$491)}}(t),set:function(t){return function(r){return e.videoProxySet_(t.$jscomp$loop$prop$k$491,r)}}(t)}),t={$jscomp$loop$prop$k$491:t.$jscomp$loop$prop$k$491};this.playerProxy_={},this.iterateOverPlayerMethods_((function(t,r){goog.asserts.assert(e.playerProxy_,"Must have player proxy!"),Object.defineProperty(e.playerProxy_,t,{configurable:!1,enumerable:!0,get:function(){return e.playerProxyGet_(t)}})})),COMPILED&&this.mapCompiledToUncompiledPlayerMethodNames_(),this.videoEventTarget_=new shaka.util.FakeEventTarget,this.videoEventTarget_.dispatchTarget=this.videoProxy_,this.playerEventTarget_=new shaka.util.FakeEventTarget,this.playerEventTarget_.dispatchTarget=this.playerProxy_},shaka.cast.CastProxy.prototype.mapCompiledToUncompiledPlayerMethodNames_=function(){var e=this,t=new Map;this.iterateOverPlayerMethods_((function(r,n){if(t.has(n)){var i=t.get(n);r.length<i.length?e.compiledToExternNames_.set(r,i):e.compiledToExternNames_.set(i,r)}else t.set(n,r)}))},shaka.cast.CastProxy.prototype.iterateOverPlayerMethods_=function(e){function t(e){return"constructor"!=e&&"function"==typeof r[e]&&!n.has(e)}goog.asserts.assert(this.localPlayer_,"Must have player!");var r=this.localPlayer_,n=new Set;for(i in r)t(i)&&(n.add(i),e(i,r[i]));for(var i=Object.getPrototypeOf(r),a=Object.getPrototypeOf({});i&&i!=a;){for(var o=$jscomp.makeIterator(Object.getOwnPropertyNames(i)),s=o.next();!s.done;s=o.next())t(s=s.value)&&(n.add(s),e(s,r[s]));i=Object.getPrototypeOf(i)}},shaka.cast.CastProxy.prototype.getInitState_=function(){var e={video:{},player:{},playerAfterLoad:{},manifest:this.localPlayer_.getAssetUri(),startTime:null};this.localVideo_.pause();for(var t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes),r=t.next();!r.done;r=t.next())r=r.value,e.video[r]=this.localVideo_[r];for(this.localVideo_.ended||(e.startTime=this.localVideo_.currentTime),r=(t=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitState)).next();!r.done;r=t.next()){var n=r.value;r=n[1],n=this.localPlayer_[n[0]](),e.player[r]=n}for(r=(t=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitAfterLoadState)).next();!r.done;r=t.next())r=(n=r.value)[1],n=this.localPlayer_[n[0]](),e.playerAfterLoad[r]=n;return e},shaka.cast.CastProxy.prototype.onCastStatusChanged_=function(){var e=new shaka.util.FakeEvent("caststatuschanged");this.dispatchEvent(e)},shaka.cast.CastProxy.prototype.onFirstCastStateUpdate_=function(){var e=new shaka.util.FakeEvent(this.videoProxy_.paused?"pause":"play");this.videoEventTarget_.dispatchEvent(e)},shaka.cast.CastProxy.prototype.onResumeLocal_=function(){for(var e=this,t=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitState),r=t.next();!r.done;r=t.next()){var n=r.value;r=n[1],n=this.sender_.get("player",n[0])(),this.localPlayer_[r](n)}var i=this.sender_.get("player","getAssetUri")();r=this.sender_.get("video","ended"),t=Promise.resolve();var a=this.localVideo_.autoplay;n=null,r||(n=this.sender_.get("video","currentTime")),i&&(this.localVideo_.autoplay=!1,t=this.localPlayer_.load(i,n));var o={};for(n=(r=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes)).next();!n.done;n=r.next())n=n.value,o[n]=this.sender_.get("video",n);t.then((function(){if(e.localVideo_){for(var t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes),r=t.next();!r.done;r=t.next())r=r.value,e.localVideo_[r]=o[r];for(r=(t=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitAfterLoadState)).next();!r.done;r=t.next()){var n=r.value;r=n[1],n=e.sender_.get("player",n[0])(),e.localPlayer_[r](n)}e.localVideo_.autoplay=a,i&&e.localVideo_.play()}}),(function(t){goog.asserts.assert(t instanceof shaka.util.Error,"Wrong error type!"),t=new shaka.util.FakeEvent(shaka.Player.EventName.Error,{detail:t}),e.localPlayer_.dispatchEvent(t)}))},shaka.cast.CastProxy.prototype.videoProxyGet_=function(e){var t=this;if("addEventListener"==e)return function(e,r,n){return t.videoEventTarget_.addEventListener(e,r,n)};if("removeEventListener"==e)return function(e,r,n){return t.videoEventTarget_.removeEventListener(e,r,n)};if(this.sender_.isCasting()&&!this.sender_.hasRemoteProperties()){var r=this.localVideo_[e];if("function"!=typeof r)return r}return this.sender_.isCasting()?this.sender_.get("video",e):("function"==typeof(e=this.localVideo_[e])&&(e=e.bind(this.localVideo_)),e)},shaka.cast.CastProxy.prototype.videoProxySet_=function(e,t){this.sender_.isCasting()?this.sender_.set("video",e,t):this.localVideo_[e]=t},shaka.cast.CastProxy.prototype.videoProxyLocalEvent_=function(e){this.sender_.isCasting()||(e=new shaka.util.FakeEvent(e.type,e),this.videoEventTarget_.dispatchEvent(e))},shaka.cast.CastProxy.prototype.playerProxyGet_=function(e){var t=this;if(this.compiledToExternNames_.has(e)&&(e=this.compiledToExternNames_.get(e)),"addEventListener"==e)return function(e,r,n){return t.playerEventTarget_.addEventListener(e,r,n)};if("removeEventListener"==e)return function(e,r,n){return t.playerEventTarget_.removeEventListener(e,r,n)};if("getMediaElement"==e)return function(){return t.videoProxy_};if("getSharedConfiguration"==e)return shaka.log.warning("Can't share configuration across a network. Returning copy."),this.sender_.get("player","getConfiguration");if("getNetworkingEngine"==e)return this.sender_.isCasting()&&shaka.log.warning("NOTE: getNetworkingEngine() is always local!"),function(){return t.localPlayer_.getNetworkingEngine()};if("getAdManager"==e)return this.sender_.isCasting()&&shaka.log.warning("NOTE: getAdManager() is always local!"),function(){return t.localPlayer_.getAdManager()};if("setVideoContainer"==e)return this.sender_.isCasting()&&shaka.log.warning("NOTE: setVideoContainer() is always local!"),function(e){return t.localPlayer_.setVideoContainer(e)};if(this.sender_.isCasting()){if("getManifest"==e||"drmInfo"==e)return function(){return shaka.log.alwaysWarn(e+"() does not work while casting!"),null};if("attach"==e||"detach"==e)return function(){return shaka.log.alwaysWarn(e+"() does not work while casting!"),Promise.resolve()}}if(this.sender_.isCasting()&&!this.sender_.hasRemoteProperties()&&shaka.cast.CastUtils.PlayerGetterMethods[e]){var r=this.localPlayer_[e];return goog.asserts.assert("function"==typeof r,"only methods on Player"),r.bind(this.localPlayer_)}return this.sender_.isCasting()?this.sender_.get("player",e):(r=this.localPlayer_[e],goog.asserts.assert("function"==typeof r,"only methods on Player"),r.bind(this.localPlayer_))},shaka.cast.CastProxy.prototype.playerProxyLocalEvent_=function(e){this.sender_.isCasting()||this.playerEventTarget_.dispatchEvent(e)},shaka.cast.CastProxy.prototype.onRemoteEvent_=function(e,t){goog.asserts.assert(this.sender_.isCasting(),"Should only receive remote events while casting"),this.sender_.isCasting()&&("video"==e?this.videoEventTarget_.dispatchEvent(t):"player"==e&&this.playerEventTarget_.dispatchEvent(t))},goog.exportSymbol("shaka.cast.CastProxy",shaka.cast.CastProxy),goog.exportProperty(shaka.cast.CastProxy.prototype,"changeReceiverId",shaka.cast.CastProxy.prototype.changeReceiverId),goog.exportProperty(shaka.cast.CastProxy.prototype,"forceDisconnect",shaka.cast.CastProxy.prototype.forceDisconnect),goog.exportProperty(shaka.cast.CastProxy.prototype,"suggestDisconnect",shaka.cast.CastProxy.prototype.suggestDisconnect),goog.exportProperty(shaka.cast.CastProxy.prototype,"setAppData",shaka.cast.CastProxy.prototype.setAppData),goog.exportProperty(shaka.cast.CastProxy.prototype,"cast",shaka.cast.CastProxy.prototype.cast),goog.exportProperty(shaka.cast.CastProxy.prototype,"receiverName",shaka.cast.CastProxy.prototype.receiverName),goog.exportProperty(shaka.cast.CastProxy.prototype,"isCasting",shaka.cast.CastProxy.prototype.isCasting),goog.exportProperty(shaka.cast.CastProxy.prototype,"canCast",shaka.cast.CastProxy.prototype.canCast),goog.exportProperty(shaka.cast.CastProxy.prototype,"getPlayer",shaka.cast.CastProxy.prototype.getPlayer),goog.exportProperty(shaka.cast.CastProxy.prototype,"getVideo",shaka.cast.CastProxy.prototype.getVideo),goog.exportProperty(shaka.cast.CastProxy.prototype,"destroy",shaka.cast.CastProxy.prototype.destroy),shaka.cast.CastReceiver=function(e,t,r,n){shaka.util.FakeEventTarget.call(this);var i=this;this.video_=e,this.player_=t,this.eventManager_=new shaka.util.EventManager,this.targets_={video:e,player:t},this.appDataCallback_=r||function(){},this.contentIdCallback_=n||function(e){return e},this.metadata_=null,this.isConnected_=!1,this.isIdle_=!0,this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1,this.initialStatusUpdatePending_=!0,this.genericBus_=this.shakaBus_=null,this.pollTimer_=new shaka.util.Timer((function(){i.pollAttributes_()})),this.init_()},$jscomp.inherits(shaka.cast.CastReceiver,shaka.util.FakeEventTarget),shaka.cast.CastReceiver.prototype.isConnected=function(){return this.isConnected_},shaka.cast.CastReceiver.prototype.isIdle=function(){return this.isIdle_},shaka.cast.CastReceiver.prototype.setContentMetadata=function(e){this.metadata_=e},shaka.cast.CastReceiver.prototype.clearContentMetadata=function(){this.metadata_=null},shaka.cast.CastReceiver.prototype.setContentTitle=function(e){this.metadata_||(this.metadata_={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.metadata_.title=e},shaka.cast.CastReceiver.prototype.setContentImage=function(e){this.metadata_||(this.metadata_={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.metadata_.images=[{url:e}]},shaka.cast.CastReceiver.prototype.setContentArtist=function(e){this.metadata_||(this.metadata_={}),this.metadata_.artist=e,this.metadata_.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},shaka.cast.CastReceiver.prototype.destroy=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return t.eventManager_&&(t.eventManager_.release(),t.eventManager_=null),e=[],t.player_&&(e.push(t.player_.destroy()),t.player_=null),t.pollTimer_&&(t.pollTimer_.stop(),t.pollTimer_=null),t.video_=null,t.targets_=null,t.appDataCallback_=null,t.isConnected_=!1,t.isIdle_=!0,t.shakaBus_=null,t.genericBus_=null,r.yield(Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),r.jumpToEnd()}))},shaka.cast.CastReceiver.prototype.init_=function(){var e=this,t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return e.onSendersChanged_()},t.onSenderDisconnected=function(){return e.onSendersChanged_()},t.onSystemVolumeChanged=function(){return e.fakeVolumeChangeEvent_()},this.genericBus_=t.getCastMessageBus(shaka.cast.CastUtils.GENERIC_MESSAGE_NAMESPACE),this.genericBus_.onMessage=function(t){return e.onGenericMessage_(t)},this.shakaBus_=t.getCastMessageBus(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE),this.shakaBus_.onMessage=function(t){return e.onShakaMessage_(t)},goog.DEBUG?shaka.util.Platform.isChromecast()&&t.start():t.start();for(var r=(t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoEvents)).next();!r.done;r=t.next())this.eventManager_.listen(this.video_,r.value,(function(t){return e.proxyEvent_("video",t)}));for(var n in shaka.Player.EventName)this.eventManager_.listen(this.player_,shaka.Player.EventName[n],(function(t){return e.proxyEvent_("player",t)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?this.player_.setMaxHardwareResolution(3840,2160):this.player_.setMaxHardwareResolution(1920,1080),this.eventManager_.listen(this.video_,"loadeddata",(function(){e.startUpdatingUpdateNumber_=!0})),this.eventManager_.listen(this.player_,"loading",(function(){e.isIdle_=!1,e.onCastStatusChanged_()})),this.eventManager_.listen(this.video_,"playing",(function(){e.isIdle_=!1,e.onCastStatusChanged_()})),this.eventManager_.listen(this.video_,"pause",(function(){e.onCastStatusChanged_()})),this.eventManager_.listen(this.player_,"unloading",(function(){e.isIdle_=!0,e.onCastStatusChanged_()})),this.eventManager_.listen(this.video_,"ended",(function(){new shaka.util.Timer((function(){e.video_&&e.video_.ended&&(e.isIdle_=!0,e.onCastStatusChanged_())})).tickAfter(shaka.cast.CastReceiver.IDLE_INTERVAL)}))},shaka.cast.CastReceiver.prototype.onSendersChanged_=function(){this.updateNumber_=0,this.initialStatusUpdatePending_=!0,this.isConnected_=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,this.onCastStatusChanged_()},shaka.cast.CastReceiver.prototype.onCastStatusChanged_=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?r.yield(Promise.resolve(),2):t.player_?(e=new shaka.util.FakeEvent("caststatuschanged"),t.dispatchEvent(e),t.maybeSendMediaInfoMessage_()||t.sendMediaStatus_(),void r.jumpToEnd()):r.return()}))},shaka.cast.CastReceiver.prototype.initState_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(p){switch(p.nextAddress){case 1:for(r in e.player)n=e.player[r],f.player_[r](n);return f.appDataCallback_(t),i=f.video_.autoplay,e.manifest?(f.video_.autoplay=!1,p.setCatchFinallyBlocks(5),p.yield(f.player_.load(e.manifest,e.startTime),7)):p.yield(Promise.resolve(),3);case 7:p.leaveTryBlock(3);break;case 5:return a=p.enterCatchBlock(),goog.asserts.assert(a instanceof shaka.util.Error,"Wrong error type!"),o=shaka.Player.EventName.Error,s=new shaka.util.FakeEvent(o,{detail:a}),f.player_.dispatchEvent(s),p.return();case 3:if(!f.player_)return p.return();for(l in e.video)u=e.video[l],f.video_[l]=u;for(c in e.playerAfterLoad)d=e.playerAfterLoad[c],f.player_[c](d);f.video_.autoplay=i,e.manifest&&(f.video_.play(),f.sendMediaStatus_()),p.jumpToEnd()}}))},shaka.cast.CastReceiver.prototype.proxyEvent_=function(e,t){this.player_&&(this.pollAttributes_(),this.sendMessage_({type:"event",targetName:e,event:t},this.shakaBus_))},shaka.cast.CastReceiver.prototype.pollAttributes_=function(){this.pollTimer_.tickAfter(shaka.cast.CastReceiver.POLL_INTERVAL);for(var e={video:{},player:{}},t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoAttributes),r=t.next();!r.done;r=t.next())r=r.value,e.video[r]=this.video_[r];if(this.player_.isLive())for(var n in t=shaka.cast.CastUtils.PlayerGetterMethodsThatRequireLive)0==this.updateNumber_%t[n]&&(e.player[n]=this.player_[n]());for(var i in shaka.cast.CastUtils.PlayerGetterMethods)0==this.updateNumber_%shaka.cast.CastUtils.PlayerGetterMethods[i]&&(e.player[i]=this.player_[i]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),this.startUpdatingUpdateNumber_&&(this.updateNumber_+=1),this.sendMessage_({type:"update",update:e},this.shakaBus_),this.maybeSendMediaInfoMessage_()},shaka.cast.CastReceiver.prototype.maybeSendMediaInfoMessage_=function(){return!(!this.initialStatusUpdatePending_||!this.video_.duration&&!this.player_.isLive())&&(this.sendMediaInfoMessage_(),this.initialStatusUpdatePending_=!1,!0)},shaka.cast.CastReceiver.prototype.sendMediaInfoMessage_=function(e){e=void 0===e?0:e;var t={contentId:this.player_.getAssetUri(),streamType:this.player_.isLive()?"LIVE":"BUFFERED",contentType:""};this.player_.isLive()||(t.duration=this.video_.duration),this.metadata_&&(t.metadata=this.metadata_),this.sendMediaStatus_(e,t)},shaka.cast.CastReceiver.prototype.fakeVolumeChangeEvent_=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();goog.asserts.assert(e,"System volume should not be null!"),e&&this.sendMessage_({type:"update",update:{video:{volume:e.level,muted:e.muted}}},this.shakaBus_),this.sendMessage_({type:"event",targetName:"video",event:{type:"volumechange"}},this.shakaBus_)},shaka.cast.CastReceiver.prototype.onShakaMessage_=function(e){var t=this,r=shaka.cast.CastUtils.deserialize(e.data);switch(shaka.log.debug("CastReceiver: message",r),r.type){case"init":this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1,this.initialStatusUpdatePending_=!0,this.initState_(r.initState,r.appData),this.pollAttributes_();break;case"appData":this.appDataCallback_(r.appData);break;case"set":var n=r.targetName,i=r.property;if(r=r.value,"video"==n){if(e=cast.receiver.CastReceiverManager.getInstance(),"volume"==i){e.setSystemVolumeLevel(r);break}if("muted"==i){e.setSystemVolumeMuted(r);break}}this.targets_[n][i]=r;break;case"call":(n=this.targets_[r.targetName])[r.methodName].apply(n,r.args);break;case"asyncCall":n=r.targetName,i=r.methodName,"player"==n&&"load"==i&&(this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1);var a=r.id,o=e.senderId;r=(e=this.targets_[n])[i].apply(e,r.args),"player"==n&&"load"==i&&(r=r.then((function(){t.initialStatusUpdatePending_=!0}))),r.then((function(){return t.sendAsyncComplete_(o,a,null)}),(function(e){return t.sendAsyncComplete_(o,a,e)}))}},shaka.cast.CastReceiver.prototype.onGenericMessage_=function(e){var t=this,r=shaka.cast.CastUtils.deserialize(e.data);switch(shaka.log.debug("CastReceiver: message",r),r.type){case"PLAY":this.video_.play(),this.sendMediaStatus_();break;case"PAUSE":this.video_.pause(),this.sendMediaStatus_();break;case"SEEK":e=r.currentTime;var n=r.resumeState;null!=e&&(this.video_.currentTime=Number(e)),n&&"PLAYBACK_START"==n?(this.video_.play(),this.sendMediaStatus_()):n&&"PLAYBACK_PAUSE"==n&&(this.video_.pause(),this.sendMediaStatus_());break;case"STOP":this.player_.unload().then((function(){t.player_&&t.sendMediaStatus_()}));break;case"GET_STATUS":this.sendMediaInfoMessage_(Number(r.requestId));break;case"VOLUME":e=(n=r.volume).level,n=n.muted;var i=this.video_.volume,a=this.video_.muted;null!=e&&(this.video_.volume=Number(e)),null!=n&&(this.video_.muted=n),i==this.video_.volume&&a==this.video_.muted||this.sendMediaStatus_();break;case"LOAD":this.updateNumber_=0,this.initialStatusUpdatePending_=this.startUpdatingUpdateNumber_=!1,e=r.media,n=r.currentTime,i=this.contentIdCallback_(e.contentId),a=r.autoplay||!0,this.appDataCallback_(e.customData),a&&(this.video_.autoplay=!0),this.player_.load(i,n).then((function(){t.player_&&t.sendMediaInfoMessage_()})).catch((function(e){goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!");var n="LOAD_FAILED";e.category==shaka.util.Error.Category.PLAYER&&e.code==shaka.util.Error.Code.LOAD_INTERRUPTED&&(n="LOAD_CANCELLED"),t.sendMessage_({requestId:Number(r.requestId),type:n},t.genericBus_)}));break;default:shaka.log.warning("Unrecognized message type from the generic Chromecast controller!",r.type),this.sendMessage_({requestId:Number(r.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.genericBus_)}},shaka.cast.CastReceiver.prototype.sendAsyncComplete_=function(e,t,r){this.player_&&this.sendMessage_({type:"asyncComplete",id:t,error:r},this.shakaBus_,e)},shaka.cast.CastReceiver.prototype.sendMessage_=function(e,t,r){this.isConnected_&&(e=shaka.cast.CastUtils.serialize(e),r?t.getCastChannel(r).send(e):t.broadcast(e))},shaka.cast.CastReceiver.prototype.getPlayState_=function(){var e=shaka.cast.CastReceiver.PLAY_STATE;return this.isIdle_?e.IDLE:this.player_.isBuffering()?e.BUFFERING:this.video_.paused?e.PAUSED:e.PLAYING},shaka.cast.CastReceiver.prototype.sendMediaStatus_=function(e,t){e=void 0===e?0:e,t=void 0===t?null:t;var r={mediaSessionId:0,playbackRate:this.video_.playbackRate,playerState:this.getPlayState_(),currentTime:this.video_.currentTime,supportedMediaCommands:63,volume:{level:this.video_.volume,muted:this.video_.muted}};t&&(r.media=t),this.sendMessage_({requestId:e,type:"MEDIA_STATUS",status:[r]},this.genericBus_)},goog.exportSymbol("shaka.cast.CastReceiver",shaka.cast.CastReceiver),goog.exportProperty(shaka.cast.CastReceiver.prototype,"destroy",shaka.cast.CastReceiver.prototype.destroy),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentArtist",shaka.cast.CastReceiver.prototype.setContentArtist),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentImage",shaka.cast.CastReceiver.prototype.setContentImage),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentTitle",shaka.cast.CastReceiver.prototype.setContentTitle),goog.exportProperty(shaka.cast.CastReceiver.prototype,"clearContentMetadata",shaka.cast.CastReceiver.prototype.clearContentMetadata),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentMetadata",shaka.cast.CastReceiver.prototype.setContentMetadata),goog.exportProperty(shaka.cast.CastReceiver.prototype,"isIdle",shaka.cast.CastReceiver.prototype.isIdle),goog.exportProperty(shaka.cast.CastReceiver.prototype,"isConnected",shaka.cast.CastReceiver.prototype.isConnected),shaka.cast.CastReceiver.POLL_INTERVAL=.5,shaka.cast.CastReceiver.IDLE_INTERVAL=5,shaka.cast.CastReceiver.PLAY_STATE={IDLE:"IDLE",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED"},shaka.util.Pssh=function(e){var t=this;this.systemIds=[],this.cencKeyIds=[],this.data=[],(new shaka.util.Mp4Parser).box("moov",shaka.util.Mp4Parser.children).fullBox("pssh",(function(e){return t.parsePsshBox_(e)})).parse(e),0==this.data.length&&shaka.log.warning("No pssh box found!")},shaka.util.Pssh.prototype.parsePsshBox_=function(e){if(goog.asserts.assert(null!=e.version,"PSSH boxes are full boxes and must have a valid version"),goog.asserts.assert(null!=e.flags,"PSSH boxes are full boxes and must have a valid flag"),1<e.version)shaka.log.warning("Unrecognized PSSH version found!");else{var t=e.reader.getDataView();if(goog.asserts.assert(12<=t.byteOffset,"DataView at incorrect position"),t=shaka.util.BufferUtils.toUint8(t,-12,e.size),this.data.push(t),this.systemIds.push(shaka.util.Uint8ArrayUtils.toHex(e.reader.readBytes(16))),0<e.version){t=e.reader.readUint32();for(var r=(t=$jscomp.makeIterator(shaka.util.Iterables.range(t))).next();!r.done;r=t.next())shaka.util.Functional.ignored(r.value),r=shaka.util.Uint8ArrayUtils.toHex(e.reader.readBytes(16)),this.cencKeyIds.push(r)}}},shaka.util.Pssh.createPssh=function(e,t){goog.asserts.assert(16==t.byteLength,"Invalid system ID length");var r=e.length,n=12+t.length+4+r,i=new Uint8Array(n),a=shaka.util.BufferUtils.toDataView(i),o=0;return a.setUint32(o,n),o+=4,a.setUint32(o,1886614376),o+=4,a.setUint32(o,0),o+=4,i.set(t,o),o+=t.length,a.setUint32(o,r),o+=4,i.set(e,o),goog.asserts.assert(o+r===n,"PSSH invalid length."),i},shaka.util.Pssh.normaliseInitData=function(e){if(!e)return e;var t=new shaka.util.Pssh(e);if(1>=t.data.length)return e;e=[];for(var r={},n=(t=$jscomp.makeIterator(t.data)).next();!n.done;r={$jscomp$loop$prop$initData$420$493:r.$jscomp$loop$prop$initData$420$493},n=t.next())r.$jscomp$loop$prop$initData$420$493=n.value,e.some(function(e){return function(t){return shaka.util.BufferUtils.equal(t,e.$jscomp$loop$prop$initData$420$493)}}(r))||e.push(r.$jscomp$loop$prop$initData$420$493);return shaka.util.Uint8ArrayUtils.concat.apply(shaka.util.Uint8ArrayUtils,$jscomp.arrayFromIterable(e))},shaka.util.XmlUtils=function(){},shaka.util.XmlUtils.findChild=function(e,t){var r=shaka.util.XmlUtils.findChildren(e,t);return 1!=r.length?null:r[0]},shaka.util.XmlUtils.findChildNS=function(e,t,r){return 1!=(e=shaka.util.XmlUtils.findChildrenNS(e,t,r)).length?null:e[0]},shaka.util.XmlUtils.findChildren=function(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName==t}))},shaka.util.XmlUtils.findChildrenNS=function(e,t,r){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.localName==r&&e.namespaceURI==t}))},shaka.util.XmlUtils.getAttributeNS=function(e,t,r){return e.hasAttributeNS(t,r)?e.getAttributeNS(t,r):null},shaka.util.XmlUtils.getContents=function(e){return Array.from(e.childNodes).every((function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null},shaka.util.XmlUtils.parseAttr=function(e,t,r,n){n=void 0===n?null:n;var i=null;return null!=(e=e.getAttribute(t))&&(i=r(e)),null==i?n:i},shaka.util.XmlUtils.parseDate=function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},shaka.util.XmlUtils.parseDuration=function(e){if(!e)return null;var t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e);return t?(e=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(e)?e:null):(shaka.log.warning("Invalid duration string:",e),null)},shaka.util.XmlUtils.parseRange=function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},shaka.util.XmlUtils.parseInt=function(e){return 0===(e=Number(e))%1?e:null},shaka.util.XmlUtils.parsePositiveInt=function(e){return 0===(e=Number(e))%1&&0<e?e:null},shaka.util.XmlUtils.parseNonNegativeInt=function(e){return 0===(e=Number(e))%1&&0<=e?e:null},shaka.util.XmlUtils.parseFloat=function(e){return e=Number(e),isNaN(e)?null:e},shaka.util.XmlUtils.evalDivision=function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e},shaka.util.XmlUtils.parseXmlString=function(e,t){var r=new DOMParser,n=null,i=null;try{i=r.parseFromString(e,"text/xml")}catch(a){}return i&&i.documentElement.tagName==t&&(n=i.documentElement),n&&0<n.getElementsByTagName("parsererror").length?null:n},shaka.util.XmlUtils.parseXml=function(e,t){try{var r=shaka.util.StringUtils.fromUTF8(e);return shaka.util.XmlUtils.parseXmlString(r,t)}catch(n){return null}},shaka.dash={},shaka.dash.ContentProtection=function(){},shaka.dash.ContentProtection.parseFromAdaptationSet=function(e,t){var r=shaka.dash.ContentProtection,n=shaka.util.ManifestParserUtils,i=r.parseElements_(e),a=null,o=[],s=[],l=new Set(i.map((function(e){return e.keyId})));if(l.delete(null),1<l.size)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_CONFLICTING_KEY_IDS);if(t||(s=i.filter((function(e){return e.schemeUri!=r.MP4Protection_||(goog.asserts.assert(!e.init||e.init.length,"Init data must be null or non-empty."),a=e.init||a,!1)}))).length&&(0==(o=r.convertElements_(a,s)).length&&(o=[n.createDrmInfo("",a)])),i.length&&(t||!s.length))for(o=[],s=(i=$jscomp.makeIterator(r.defaultKeySystems_.values())).next();!s.done;s=i.next())"org.w3.clearkey"!=(s=s.value)&&(s=n.createDrmInfo(s,a),o.push(s));if(n=Array.from(l)[0]||null)for(i=(l=$jscomp.makeIterator(o)).next();!i.done;i=l.next())for(s=(i=$jscomp.makeIterator(i.value.initData)).next();!s.done;s=i.next())s.value.keyId=n;return{defaultKeyId:n,defaultInit:a,drmInfos:o,firstRepresentation:!0}},shaka.dash.ContentProtection.parseFromRepresentation=function(e,t,r){var n=shaka.dash.ContentProtection.parseFromAdaptationSet(e,r);if(t.firstRepresentation)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,r=0==n.drmInfos.length,(0==t.drmInfos.length||e&&!r)&&(t.drmInfos=n.drmInfos),t.firstRepresentation=!1;else if(0<n.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return n.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_COMMON_KEY_SYSTEM);return n.defaultKeyId||t.defaultKeyId},shaka.dash.ContentProtection.getWidevineLicenseUrl=function(e){return(e=shaka.util.XmlUtils.findChildNS(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""},shaka.dash.ContentProtection.parseMsProRecords_=function(e,t){for(var r=[];t<e.byteLength-1;){var n=e.getUint16(t,!0);t+=2;var i=e.getUint16(t,!0);if(t+=2,0!=(1&i)||i+t>e.byteLength)return shaka.log.warning("Malformed MS PRO object"),[];var a=shaka.util.BufferUtils.toUint8(e,t,i);r.push({type:n,value:a}),t+=i}return r},shaka.dash.ContentProtection.parseMsPro_=function(e){var t=0,r=shaka.util.BufferUtils.toDataView(e),n=r.getUint32(t,!0);return t+=4,n!=e.byteLength?(shaka.log.warning("PlayReady Object with invalid length encountered."),[]):shaka.dash.ContentProtection.parseMsProRecords_(r,t+2)},shaka.dash.ContentProtection.getLaurl_=function(e){for(var t=(e=$jscomp.makeIterator(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var r=(t=$jscomp.makeIterator(t.value.childNodes)).next();!r.done;r=t.next())if((r=r.value)instanceof Element&&"LA_URL"==r.tagName)return r.textContent;return""},shaka.dash.ContentProtection.getPlayReadyLicenseUrl=function(e){var t=shaka.util.XmlUtils.findChildNS(e.node,"urn:microsoft:playready","pro");if(!t)return"";var r=(e=shaka.dash.ContentProtection).PLAYREADY_RECORD_TYPES;return t=shaka.util.Uint8ArrayUtils.fromBase64(t.textContent),(t=e.parseMsPro_(t).filter((function(e){return e.type===r.RIGHTS_MANAGEMENT}))[0])?(t=shaka.util.StringUtils.fromUTF16(t.value,!0),(t=shaka.util.XmlUtils.parseXmlString(t,"WRMHEADER"))?e.getLaurl_(t):""):""},shaka.dash.ContentProtection.getInitDataFromPro_=function(e){var t=shaka.util.XmlUtils.findChildNS(e.node,"urn:microsoft:playready","pro");if(!t)return null;t=shaka.util.Uint8ArrayUtils.fromBase64(t.textContent);var r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);return[{initData:shaka.util.Pssh.createPssh(t,r),initDataType:"cenc",keyId:e.keyId}]},shaka.dash.ContentProtection.convertElements_=function(e,t){for(var r=shaka.dash.ContentProtection,n=shaka.util.ManifestParserUtils,i=r.defaultKeySystems_,a=r.licenseUrlParsers_,o=[],s=$jscomp.makeIterator(t),l=s.next();!l.done;l=s.next()){l=l.value;var u=i.get(l.schemeUri);if(u){goog.asserts.assert(!l.init||l.init.length,"Init data must be null or non-empty.");var c=r.getInitDataFromPro_(l);c=n.createDrmInfo(u,l.init||e||c),(u=a.get(u))&&(c.licenseServerUri=u(l)),o.push(c)}}return o},shaka.dash.ContentProtection.parseElements_=function(e){for(var t=[],r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())(r=shaka.dash.ContentProtection.parseElement_(r.value))&&t.push(r);return t},shaka.dash.ContentProtection.parseElement_=function(e){var t=shaka.dash.ContentProtection.CencNamespaceUri_,r=e.getAttribute("schemeIdUri"),n=shaka.util.XmlUtils.getAttributeNS(e,t,"default_KID");if(t=shaka.util.XmlUtils.findChildrenNS(e,t,"pssh").map(shaka.util.XmlUtils.getContents),!r)return shaka.log.error("Missing required schemeIdUri attribute on","ContentProtection element",e),null;if(r=r.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED);var i=[];try{i=t.map((function(e){return{initDataType:"cenc",initData:shaka.util.Uint8ArrayUtils.fromBase64(e),keyId:null}}))}catch(a){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_PSSH_BAD_ENCODING)}return{node:e,schemeUri:r,keyId:n,init:0<i.length?i:null}},shaka.dash.ContentProtection.PLAYREADY_RECORD_TYPES={RIGHTS_MANAGEMENT:1,RESERVED:2,EMBEDDED_LICENSE:3},shaka.dash.ContentProtection.defaultKeySystems_=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),shaka.dash.ContentProtection.licenseUrlParsers_=(new Map).set("com.widevine.alpha",shaka.dash.ContentProtection.getWidevineLicenseUrl).set("com.microsoft.playready",shaka.dash.ContentProtection.getPlayReadyLicenseUrl),shaka.dash.ContentProtection.MP4Protection_="urn:mpeg:dash:mp4protection:2011",shaka.dash.ContentProtection.CencNamespaceUri_="urn:mpeg:cenc:2013",shaka.dash.MpdUtils=function(){},shaka.dash.MpdUtils.fillUriTemplate=function(e,t,r,n,i){var a={RepresentationID:t,Number:r,Bandwidth:n,Time:i};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,r,n,i){if("$$"==t)return"$";var o=a[r];if(goog.asserts.assert(void 0!==o,"Unrecognized identifier"),null==o)return shaka.log.warning("URL template does not have an available substitution for ",'identifier "'+r+'":',e),t;switch("RepresentationID"==r&&n&&(shaka.log.warning("URL template should not contain a width specifier for identifier",'"RepresentationID":',e),n=void 0),"Time"==r&&(goog.asserts.assert("number"==typeof o,"Time value should be a number!"),goog.asserts.assert(.2>Math.abs(o-Math.round(o)),"Calculated $Time$ values must be close to integers"),o=Math.round(o)),i){case void 0:case"d":case"i":case"u":t=o.toString();break;case"o":t=o.toString(8);break;case"x":t=o.toString(16);break;case"X":t=o.toString(16).toUpperCase();break;default:goog.asserts.assert(!1,"Unhandled format specifier"),t=o.toString()}return n=window.parseInt(n,10)||1,Array(Math.max(0,n-t.length)+1).join("0")+t}))},shaka.dash.MpdUtils.createTimeline=function(e,t,r,n){goog.asserts.assert(0<t&&1/0>t,"timescale must be a positive, finite integer"),goog.asserts.assert(0<n,"period duration must be a positive integer");var i=shaka.util.XmlUtils,a=i.findChildren(e,"S");e=[];for(var o=-r,s=(a=$jscomp.makeIterator(shaka.util.Iterables.enumerate(a))).next();!s.done;s=a.next()){var l=(s=s.value).item,u=s.next,c=i.parseAttr(l,"t",i.parseNonNegativeInt);s=i.parseAttr(l,"d",i.parseNonNegativeInt);var d=i.parseAttr(l,"r",i.parseInt);if(null!=c&&(c-=r),!s){shaka.log.warning('"S" element must have a duration:','ignoring the remaining "S" elements.',l);break}if(c=null!=c?c:o,0>(d=d||0))if(u){if(null==(u=i.parseAttr(u,"t",i.parseNonNegativeInt))){shaka.log.warning('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:','ignoring the remaining "S" elements.',l);break}if(c>=u){shaka.log.warning('An "S" element cannot have a negative repeatif its start ','time exceeds the next "S" element\'s start time:','ignoring the remaining "S" elements.',l);break}d=Math.ceil((u-c)/s)-1}else{if(1/0==n){shaka.log.warning('The last "S" element cannot have a negative repeat',"if the Period has an infinite duration:",'ignoring the last "S" element.',l);break}if(c/t>=n){shaka.log.warning('The last "S" element cannot have a negative repeat',"if its start time exceeds the Period's duration:",'igoring the last "S" element.',l);break}d=Math.ceil((n*t-c)/s)-1}for(0<e.length&&c!=o&&(Math.abs((c-o)/t)>=shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS&&shaka.log.warning("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",l),e[e.length-1].end=c/t),u=(l=$jscomp.makeIterator(shaka.util.Iterables.range(d+1))).next();!u.done;u=l.next())shaka.util.Functional.ignored(u.value),o=c+s,e.push({start:c/t,end:o/t,unscaledStart:c}),c=o}return e},shaka.dash.MpdUtils.parseSegmentInfo=function(e,t){goog.asserts.assert(t(e.representation),"There must be at least one element of the given type.");var r=shaka.dash.MpdUtils,n=shaka.util.XmlUtils,i=r.inheritAttribute(e,t,"timescale"),a=1;i&&(a=n.parsePositiveInt(i)||1),i=r.inheritAttribute(e,t,"duration"),(i=n.parsePositiveInt(i||""))&&(i/=a);var o=r.inheritAttribute(e,t,"startNumber"),s=Number(r.inheritAttribute(e,t,"presentationTimeOffset"))||0;n=n.parseNonNegativeInt(o||""),null!=o&&null!=n||(n=1);var l=null;return(o=r.inheritChild(e,t,"SegmentTimeline"))&&(l=r.createTimeline(o,a,s,e.periodInfo.duration||1/0)),{timescale:a,segmentDuration:i,startNumber:n,scaledPresentationTimeOffset:s/a||0,unscaledPresentationTimeOffset:s,timeline:l}},shaka.dash.MpdUtils.inheritAttribute=function(e,t,r){var n=shaka.util.Functional;return goog.asserts.assert(t(e.representation),"There must be at least one element of the given type"),[t(e.representation),t(e.adaptationSet),t(e.period)].filter(n.isNotNull).map((function(e){return e.getAttribute(r)})).reduce((function(e,t){return e||t}))},shaka.dash.MpdUtils.inheritChild=function(e,t,r){var n=shaka.util.Functional;goog.asserts.assert(t(e.representation),"There must be at least one element of the given type"),e=[t(e.representation),t(e.adaptationSet),t(e.period)].filter(n.isNotNull);var i=shaka.util.XmlUtils;return e.map((function(e){return i.findChild(e,r)})).reduce((function(e,t){return e||t}))},shaka.dash.MpdUtils.handleXlinkInElement_=function(e,t,r,n,i,a){var o=shaka.util.XmlUtils,s=shaka.util.Error,l=shaka.util.ManifestParserUtils,u=shaka.dash.MpdUtils.XlinkNamespaceUri_,c=o.getAttributeNS(e,u,"href");o=o.getAttributeNS(e,u,"actuate")||"onRequest";for(var d=$jscomp.makeIterator(Array.from(e.attributes)),f=d.next();!f.done;f=d.next())(f=f.value).namespaceURI==u&&e.removeAttributeNS(f.namespaceURI,f.localName);if(5<=a)return shaka.util.AbortableOperation.failed(new s(s.Severity.CRITICAL,s.Category.MANIFEST,s.Code.DASH_XLINK_DEPTH_LIMIT));if("onLoad"!=o)return shaka.util.AbortableOperation.failed(new s(s.Severity.CRITICAL,s.Category.MANIFEST,s.Code.DASH_UNSUPPORTED_XLINK_ACTUATE));var p=l.resolveUris([n],[c]);return n=shaka.net.NetworkingEngine.RequestType.MANIFEST,l=shaka.net.NetworkingEngine.makeRequest(p,t),n=i.request(n,l),goog.asserts.assert(n instanceof shaka.util.AbortableOperation,"Unexpected implementation of IAbortableOperation!"),n.chain((function(n){if(!(n=shaka.util.XmlUtils.parseXml(n.data,e.tagName)))return shaka.util.AbortableOperation.failed(new s(s.Severity.CRITICAL,s.Category.MANIFEST,s.Code.DASH_INVALID_XML,c));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;n.childNodes.length;){var o=n.childNodes[0];n.removeChild(o),e.appendChild(o)}for(o=(n=$jscomp.makeIterator(Array.from(n.attributes))).next();!o.done;o=n.next())e.setAttributeNode(o.value.cloneNode(!1));return shaka.dash.MpdUtils.processXlinks(e,t,r,p[0],i,a+1)}))},shaka.dash.MpdUtils.processXlinks=function(e,t,r,n,i,a){a=void 0===a?0:a;var o=shaka.dash.MpdUtils,s=shaka.util.XmlUtils,l=o.XlinkNamespaceUri_;if(s.getAttributeNS(e,l,"href"))return s=o.handleXlinkInElement_(e,t,r,n,i,a),r&&(s=s.chain(void 0,(function(s){return o.processXlinks(e,t,r,n,i,a)}))),s;for(var u=[],c=$jscomp.makeIterator(Array.from(e.childNodes)),d=c.next();!d.done;d=c.next())(d=d.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==s.getAttributeNS(d,l,"href")?e.removeChild(d):"SegmentTimeline"!=d.tagName&&u.push(shaka.dash.MpdUtils.processXlinks(d,t,r,n,i,a)));return shaka.util.AbortableOperation.all(u).chain((function(){return e}))},shaka.dash.MpdUtils.XlinkNamespaceUri_="http://www.w3.org/1999/xlink",shaka.media.Mp4SegmentIndexParser=function(){},shaka.media.Mp4SegmentIndexParser.parse=function(e,t,r,n,i,a,o){var s,l=shaka.media.Mp4SegmentIndexParser,u=(new shaka.util.Mp4Parser).fullBox("sidx",(function(e){s=l.parseSIDX_(t,n,i,a,o,r,e)}));if(e&&u.parse(e),s)return s;throw shaka.log.error('Invalid box type, expected "sidx".'),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_WRONG_BOX_TYPE)},shaka.media.Mp4SegmentIndexParser.parseSIDX_=function(e,t,r,n,i,a,o){goog.asserts.assert(null!=o.version,"SIDX is a full box and should have a valid version.");var s=[];o.reader.skip(4);var l=o.reader.readUint32();if(0==l)throw shaka.log.error("Invalid timescale."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_INVALID_TIMESCALE);if(0==o.version)var u=o.reader.readUint32(),c=o.reader.readUint32();else u=o.reader.readUint64(),c=o.reader.readUint64();o.reader.skip(2);var d=o.reader.readUint16();for(e=e+o.size+c,c=(d=$jscomp.makeIterator(shaka.util.Iterables.range(d))).next();!c.done;c=d.next()){shaka.util.Functional.ignored(c.value);var f=o.reader.readUint32();c=(2147483648&f)>>>31,f&=2147483647;var p=o.reader.readUint32();if(o.reader.skip(4),1==c)throw shaka.log.error("Heirarchical SIDXs are not supported."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_TYPE_NOT_SUPPORTED);s.push(new shaka.media.SegmentReference(u/l+r,(u+p)/l+r,(function(){return a}),e,e+f-1,t,r,n,i)),u+=p,e+=f}return o.parser.stop(),s},shaka.util.EbmlParser=function(e){this.dataView_=shaka.util.BufferUtils.toDataView(e),this.reader_=new shaka.util.DataViewReader(this.dataView_,shaka.util.DataViewReader.Endianness.BIG_ENDIAN)},shaka.util.EbmlParser.prototype.hasMoreData=function(){return this.reader_.hasMoreData()},shaka.util.EbmlParser.prototype.parseElement=function(){var e=this.parseId_(),t=this.parseVint_();t=shaka.util.EbmlParser.isDynamicSizeValue_(t)?this.dataView_.byteLength-this.reader_.getPosition():shaka.util.EbmlParser.getVintValue_(t),t=this.reader_.getPosition()+t<=this.dataView_.byteLength?t:this.dataView_.byteLength-this.reader_.getPosition();var r=shaka.util.BufferUtils.toDataView(this.dataView_,this.reader_.getPosition(),t);return this.reader_.skip(t),new shaka.util.EbmlElement(e,r)},shaka.util.EbmlParser.prototype.parseId_=function(){var e=this.parseVint_();if(7<e.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);for(var t=0,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())t=256*t+r.value;return t},shaka.util.EbmlParser.prototype.parseVint_=function(){var e=this.reader_.getPosition(),t=this.reader_.readUint8();if(0==t)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);return t=8-Math.floor(Math.log2(t)),goog.asserts.assert(8>=t&&1<=t,"Incorrect log2 value"),this.reader_.skip(t-1),shaka.util.BufferUtils.toUint8(this.dataView_,e,t)},shaka.util.EbmlParser.getVintValue_=function(e){if(8==e.length&&224&e[1])throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);for(var t=0,r=$jscomp.makeIterator(shaka.util.Iterables.enumerate(e)),n=r.next();!n.done;n=r.next()){var i=(n=n.value).item;t=0==n.i?i&(1<<8-e.length)-1:256*t+i}return t},shaka.util.EbmlParser.isDynamicSizeValue_=function(e){for(var t=shaka.util.BufferUtils,r=$jscomp.makeIterator(shaka.util.EbmlParser.DYNAMIC_SIZES),n=r.next();!n.done;n=r.next())if(t.equal(e,new Uint8Array(n.value)))return!0;return!1};shaka.util.EbmlParser.DYNAMIC_SIZES=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],shaka.util.EbmlElement=function(e,t){this.id=e,this.dataView_=t},shaka.util.EbmlElement.prototype.getOffset=function(){return this.dataView_.byteOffset},shaka.util.EbmlElement.prototype.createParser=function(){return new shaka.util.EbmlParser(this.dataView_)},shaka.util.EbmlElement.prototype.getUint=function(){if(8<this.dataView_.byteLength)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);if(8==this.dataView_.byteLength&&224&this.dataView_.getUint8(0))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);for(var e=0,t=$jscomp.makeIterator(shaka.util.Iterables.range(this.dataView_.byteLength)),r=t.next();!r.done;r=t.next())e=256*e+(r=this.dataView_.getUint8(r.value));return e},shaka.util.EbmlElement.prototype.getFloat=function(){if(4==this.dataView_.byteLength)return this.dataView_.getFloat32(0);if(8==this.dataView_.byteLength)return this.dataView_.getFloat64(0);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_BAD_FLOATING_POINT_SIZE)},shaka.media.WebmSegmentIndexParser=function(){},shaka.media.WebmSegmentIndexParser.parse=function(e,t,r,n,i,a,o){if(t=shaka.media.WebmSegmentIndexParser.parseWebmContainer_(t),(e=new shaka.util.EbmlParser(e).parseElement()).id!=shaka.media.WebmSegmentIndexParser.CUES_ID)throw shaka.log.error("Not a Cues element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUES_ELEMENT_MISSING);return shaka.media.WebmSegmentIndexParser.parseCues_(e,t.segmentOffset,t.timecodeScale,t.duration,r,n,i,a,o)},shaka.media.WebmSegmentIndexParser.parseWebmContainer_=function(e){if((e=new shaka.util.EbmlParser(e)).parseElement().id!=shaka.media.WebmSegmentIndexParser.EBML_ID)throw shaka.log.error("Not an EBML element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_EBML_HEADER_ELEMENT_MISSING);var t=e.parseElement();if(t.id!=shaka.media.WebmSegmentIndexParser.SEGMENT_ID)throw shaka.log.error("Not a Segment element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_SEGMENT_ELEMENT_MISSING);return{segmentOffset:e=t.getOffset(),timecodeScale:(t=shaka.media.WebmSegmentIndexParser.parseSegment_(t)).timecodeScale,duration:t.duration}},shaka.media.WebmSegmentIndexParser.parseSegment_=function(e){e=e.createParser();for(var t=null;e.hasMoreData();){var r=e.parseElement();if(r.id==shaka.media.WebmSegmentIndexParser.INFO_ID){t=r;break}}if(!t)throw shaka.log.error("Not an Info element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_INFO_ELEMENT_MISSING);return shaka.media.WebmSegmentIndexParser.parseInfo_(t)},shaka.media.WebmSegmentIndexParser.parseInfo_=function(e){var t=e.createParser(),r=1e6;for(e=null;t.hasMoreData();){var n=t.parseElement();n.id==shaka.media.WebmSegmentIndexParser.TIMECODE_SCALE_ID?r=n.getUint():n.id==shaka.media.WebmSegmentIndexParser.DURATION_ID&&(e=n.getFloat())}if(null==e)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_DURATION_ELEMENT_MISSING);return{timecodeScale:t=r/1e9,duration:e*t}},shaka.media.WebmSegmentIndexParser.parseCues_=function(e,t,r,n,i,a,o,s,l){var u=[],c=function(){return i};e=e.createParser();for(var d=null,f=null;e.hasMoreData();){var p=e.parseElement();if(p.id==shaka.media.WebmSegmentIndexParser.CUE_POINT_ID){var h=shaka.media.WebmSegmentIndexParser.parseCuePoint_(p);h&&(p=r*h.unscaledTime,h=t+h.relativeOffset,null!=d&&(goog.asserts.assert(null!=f,"last offset cannot be null"),u.push(new shaka.media.SegmentReference(d+o,p+o,c,f,h-1,a,o,s,l))),d=p,f=h)}}return null!=d&&(goog.asserts.assert(null!=f,"last offset cannot be null"),u.push(new shaka.media.SegmentReference(d+o,n+o,c,f,null,a,o,s,l))),u},shaka.media.WebmSegmentIndexParser.parseCuePoint_=function(e){var t=e.createParser();if((e=t.parseElement()).id!=shaka.media.WebmSegmentIndexParser.CUE_TIME_ID)throw shaka.log.warning("Not a CueTime element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUE_TIME_ELEMENT_MISSING);if(e=e.getUint(),(t=t.parseElement()).id!=shaka.media.WebmSegmentIndexParser.CUE_TRACK_POSITIONS_ID)throw shaka.log.warning("Not a CueTrackPositions element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING);t=t.createParser();for(var r=0;t.hasMoreData();){var n=t.parseElement();if(n.id==shaka.media.WebmSegmentIndexParser.CUE_CLUSTER_POSITION){r=n.getUint();break}}return{unscaledTime:e,relativeOffset:r}},shaka.media.WebmSegmentIndexParser.EBML_ID=440786851,shaka.media.WebmSegmentIndexParser.SEGMENT_ID=408125543,shaka.media.WebmSegmentIndexParser.INFO_ID=357149030,shaka.media.WebmSegmentIndexParser.TIMECODE_SCALE_ID=2807729,shaka.media.WebmSegmentIndexParser.DURATION_ID=17545,shaka.media.WebmSegmentIndexParser.CUES_ID=475249515,shaka.media.WebmSegmentIndexParser.CUE_POINT_ID=187,shaka.media.WebmSegmentIndexParser.CUE_TIME_ID=179,shaka.media.WebmSegmentIndexParser.CUE_TRACK_POSITIONS_ID=183,shaka.media.WebmSegmentIndexParser.CUE_CLUSTER_POSITION=241,shaka.dash.SegmentBase=function(){},shaka.dash.SegmentBase.createInitSegment=function(e,t){var r=shaka.util.XmlUtils,n=shaka.util.ManifestParserUtils,i=shaka.dash.MpdUtils.inheritChild(e,t,"Initialization");if(!i)return null;var a=e.representation.baseUris,o=i.getAttribute("sourceURL");return o&&(a=n.resolveUris(e.representation.baseUris,[o])),n=0,o=null,(r=r.parseAttr(i,"range",r.parseRange))&&(n=r.start,o=r.end),new shaka.media.InitSegmentReference((function(){return a}),n,o)},shaka.dash.SegmentBase.createStreamInfo=function(e,t){goog.asserts.assert(e.representation.segmentBase,"Should only be called with SegmentBase");var r=shaka.dash.MpdUtils,n=shaka.dash.SegmentBase,i=shaka.util.XmlUtils,a=Number(r.inheritAttribute(e,n.fromInheritance_,"presentationTimeOffset"))||0,o=1;(r=r.inheritAttribute(e,n.fromInheritance_,"timescale"))&&(o=i.parsePositiveInt(r)||1);var s=a/o||0,l=n.createInitSegment(e,n.fromInheritance_);n.checkSegmentIndexRangeSupport_(e,l);var u=shaka.util.ObjectUtils.shallowCloneObject(e);return{generateSegmentIndex:function(){return n.generateSegmentIndex_(u,t,l,s)}}},shaka.dash.SegmentBase.generateSegmentIndexFromUris=function(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g,m,v,y,b,k,_;return $jscomp.asyncExecutePromiseGeneratorProgram((function(E){return 1==E.nextAddress?(s=e.presentationTimeline,l=!e.dynamic||!e.periodInfo.isLastPeriod,u=e.periodInfo.start,c=e.periodInfo.duration,d=e.representation.mimeType.split("/")[1],p=null,h=[(f=t)(n,i,a),"webm"==d?f(r.getUris(),r.startByte,r.endByte):null],f=null,E.yield(Promise.all(h),2)):(g=E.yieldResult,m=g[0],v=g[1]||null,y=null,b=u-o,k=u,_=c?u+c:1/0,"mp4"==d?y=shaka.media.Mp4SegmentIndexParser.parse(m,i,n,r,b,k,_):(goog.asserts.assert(v,"WebM requires init data"),y=shaka.media.WebmSegmentIndexParser.parse(m,v,n,r,b,k,_)),s.notifySegments(y),goog.asserts.assert(!p,"Should not call generateSegmentIndex twice"),p=new shaka.media.SegmentIndex(y),l&&p.fit(k,_),E.return(p))}))},shaka.dash.SegmentBase.fromInheritance_=function(e){return e.segmentBase},shaka.dash.SegmentBase.computeIndexRange_=function(e){var t=shaka.dash.MpdUtils,r=shaka.dash.SegmentBase,n=shaka.util.XmlUtils,i=t.inheritChild(e,r.fromInheritance_,"RepresentationIndex");return e=t.inheritAttribute(e,r.fromInheritance_,"indexRange"),e=n.parseRange(e||""),i&&(e=n.parseAttr(i,"range",n.parseRange,e)),e},shaka.dash.SegmentBase.computeIndexUris_=function(e){var t=shaka.util.ManifestParserUtils,r=shaka.dash.MpdUtils.inheritChild(e,shaka.dash.SegmentBase.fromInheritance_,"RepresentationIndex"),n=e.representation.baseUris;return r&&(r=r.getAttribute("sourceURL"))&&(n=t.resolveUris(e.representation.baseUris,[r])),n},shaka.dash.SegmentBase.checkSegmentIndexRangeSupport_=function(e,t){var r=shaka.dash.SegmentBase;if(r.checkSegmentIndexSupport(e,t),!r.computeIndexRange_(e))throw shaka.log.error("SegmentBase does not contain sufficient segment information:","the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentBase.checkSegmentIndexSupport=function(e,t){var r=shaka.util.ManifestParserUtils.ContentType,n=e.representation.contentType,i=e.representation.mimeType.split("/")[1];if(n!=r.TEXT&&"mp4"!=i&&"webm"!=i)throw shaka.log.error("SegmentBase specifies an unsupported container type.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_UNSUPPORTED_CONTAINER);if("webm"==i&&!t)throw shaka.log.error("SegmentBase does not contain sufficient segment information:","the SegmentBase uses a WebM container,","but does not contain an Initialization element.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_WEBM_MISSING_INIT)},shaka.dash.SegmentBase.generateSegmentIndex_=function(e,t,r,n){var i=shaka.dash.SegmentBase,a=i.computeIndexUris_(e);return i=i.computeIndexRange_(e),goog.asserts.assert(i,"Index range should not be null!"),shaka.dash.SegmentBase.generateSegmentIndexFromUris(e,t,r,a,i.start,i.end,n)},shaka.dash.SegmentList=function(){},shaka.dash.SegmentList.createStreamInfo=function(e,t){goog.asserts.assert(e.representation.segmentList,"Should only be called with SegmentList");var r=shaka.dash.SegmentList,n=shaka.dash.SegmentBase.createInitSegment(e,r.fromInheritance_),i=r.parseSegmentListInfo_(e);r.checkSegmentListInfo_(e,i);var a=null,o=null;return e.period.id&&e.representation.id&&(o=e.period.id+","+e.representation.id,a=t[o]),r=r.createSegmentReferences_(e.periodInfo.start,e.periodInfo.duration,i.startNumber,e.representation.baseUris,i,n),a?(a.merge(r),o=e.presentationTimeline.getSegmentAvailabilityStart(),a.evict(o)):(e.presentationTimeline.notifySegments(r),a=new shaka.media.SegmentIndex(r),o&&e.dynamic&&(t[o]=a)),e.dynamic&&e.periodInfo.isLastPeriod||a.fit(e.periodInfo.start,e.periodInfo.duration?e.periodInfo.start+e.periodInfo.duration:1/0),{generateSegmentIndex:function(){return Promise.resolve(a)}}},shaka.dash.SegmentList.fromInheritance_=function(e){return e.segmentList},shaka.dash.SegmentList.parseSegmentListInfo_=function(e){var t=shaka.dash.SegmentList,r=shaka.dash.MpdUtils,n=t.parseMediaSegments_(e);return 0==(t=(e=r.parseSegmentInfo(e,t.fromInheritance_)).startNumber)&&(shaka.log.warning("SegmentList@startNumber must be > 0"),t=1),r=0,e.segmentDuration?r=e.segmentDuration*(t-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{segmentDuration:e.segmentDuration,startTime:r,startNumber:t,scaledPresentationTimeOffset:e.scaledPresentationTimeOffset,timeline:e.timeline,mediaSegments:n}},shaka.dash.SegmentList.checkSegmentListInfo_=function(e,t){if(!t.segmentDuration&&!t.timeline&&1<t.mediaSegments.length)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(!t.segmentDuration&&!e.periodInfo.duration&&!t.timeline&&1==t.mediaSegments.length)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(t.timeline&&0==t.timeline.length)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList has an empty timeline.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentList.createSegmentReferences_=function(e,t,r,n,i,a){r=shaka.util.ManifestParserUtils;var o=i.mediaSegments.length;i.timeline&&i.timeline.length!=i.mediaSegments.length&&(o=Math.min(i.timeline.length,i.mediaSegments.length),shaka.log.warning("The number of items in the segment timeline and the number of ","segment URLs do not match, truncating",i.mediaSegments.length,"to",o));for(var s=e-i.scaledPresentationTimeOffset,l=t?e+t:1/0,u=[],c=i.startTime,d={},f=(o=$jscomp.makeIterator(shaka.util.Iterables.range(o))).next();!f.done;d={$jscomp$loop$prop$mediaUri$495:d.$jscomp$loop$prop$mediaUri$495},f=o.next()){var p=f.value;f=i.mediaSegments[p],d.$jscomp$loop$prop$mediaUri$495=r.resolveUris(n,[f.mediaUri]);var h=void 0;null!=i.segmentDuration?h=c+i.segmentDuration:i.timeline?h=i.timeline[p].end:(goog.asserts.assert(1==i.mediaSegments.length&&t,"There should be exactly one segment with a Period duration."),h=c+t),p=function(e){return function(){return e.$jscomp$loop$prop$mediaUri$495}}(d),u.push(new shaka.media.SegmentReference(e+c,e+h,p,f.start,f.end,a,s,e,l)),c=h}return u},shaka.dash.SegmentList.parseMediaSegments_=function(e){var t=[e.representation.segmentList,e.adaptationSet.segmentList,e.period.segmentList].filter(shaka.util.Functional.isNotNull),r=shaka.util.XmlUtils;return t.map((function(e){return r.findChildren(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.indexRangeWarningGiven&&(e.indexRangeWarningGiven=!0,shaka.log.warning("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate.")),{mediaUri:t.getAttribute("media"),start:(t=r.parseAttr(t,"mediaRange",r.parseRange,{start:0,end:null})).start,end:t.end}}))},shaka.dash.SegmentTemplate=function(){},shaka.dash.SegmentTemplate.createStreamInfo=function(e,t,r,n,i){goog.asserts.assert(e.representation.segmentTemplate,"Should only be called with SegmentTemplate");var a=shaka.dash.SegmentTemplate,o=a.createInitSegment_(e),s=a.parseSegmentTemplateInfo_(e);a.checkSegmentTemplateInfo_(e,s);var l=shaka.util.ObjectUtils.shallowCloneObject(e);if(s.indexTemplate)return shaka.dash.SegmentBase.checkSegmentIndexSupport(e,o),{generateSegmentIndex:function(){return a.generateSegmentIndexFromIndexTemplate_(l,t,o,s)}};if(s.segmentDuration)return n||(e.presentationTimeline.notifyMaxSegmentDuration(s.segmentDuration),e.presentationTimeline.notifyMinSegmentStartTime(e.periodInfo.start)),{generateSegmentIndex:function(){return a.generateSegmentIndexFromDuration_(l,s,i,o)}};var u=null;n=null,e.period.id&&e.representation.id&&(n=e.period.id+","+e.representation.id,u=r[n]);var c=a.createFromTimeline_(l,s,o),d=e.periodInfo.start,f=e.periodInfo.duration?e.periodInfo.start+e.periodInfo.duration:1/0,p=1/0!=f;return u?(p&&new shaka.media.SegmentIndex(c).fit(d,f),u.merge(c),u.evict(e.presentationTimeline.getSegmentAvailabilityStart())):(e.presentationTimeline.notifySegments(c),u=new shaka.media.SegmentIndex(c),n&&e.dynamic&&(r[n]=u)),p&&u.fit(d,f),{generateSegmentIndex:function(){return Promise.resolve(u)}}},shaka.dash.SegmentTemplate.fromInheritance_=function(e){return e.segmentTemplate},shaka.dash.SegmentTemplate.parseSegmentTemplateInfo_=function(e){var t=shaka.dash.SegmentTemplate,r=shaka.dash.MpdUtils,n=r.parseSegmentInfo(e,t.fromInheritance_),i=r.inheritAttribute(e,t.fromInheritance_,"media");return e=r.inheritAttribute(e,t.fromInheritance_,"index"),{segmentDuration:n.segmentDuration,timescale:n.timescale,startNumber:n.startNumber,scaledPresentationTimeOffset:n.scaledPresentationTimeOffset,unscaledPresentationTimeOffset:n.unscaledPresentationTimeOffset,timeline:n.timeline,mediaTemplate:i,indexTemplate:e}},shaka.dash.SegmentTemplate.checkSegmentTemplateInfo_=function(e,t){var r=t.indexTemplate?1:0;if(r+=t.timeline?1:0,0==(r+=t.segmentDuration?1:0))throw shaka.log.error("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(1!=r&&(shaka.log.warning("SegmentTemplate containes multiple segment information sources:","the SegmentTemplate should only contain an index URL template,","a SegmentTimeline or a segment duration.",e.representation),t.indexTemplate?(shaka.log.info("Using the index URL template by default."),t.timeline=null):(goog.asserts.assert(t.timeline,"There should be a timeline"),shaka.log.info("Using the SegmentTimeline by default.")),t.segmentDuration=null),!t.indexTemplate&&!t.mediaTemplate)throw shaka.log.error("SegmentTemplate does not contain sufficient segment information:","the SegmentTemplate's media URL template is missing.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentTemplate.generateSegmentIndexFromIndexTemplate_=function(e,t,r,n){var i=shaka.dash.MpdUtils,a=shaka.util.ManifestParserUtils;return goog.asserts.assert(n.indexTemplate,"must be using index template"),i=i.fillUriTemplate(n.indexTemplate,e.representation.id,null,e.bandwidth||null,null),a=a.resolveUris(e.representation.baseUris,[i]),shaka.dash.SegmentBase.generateSegmentIndexFromUris(e,t,r,a,0,null,n.scaledPresentationTimeOffset)},shaka.dash.SegmentTemplate.generateSegmentIndexFromDuration_=function(e,t,r,n){goog.asserts.assert(t.mediaTemplate,"There should be a media template with duration");var i=shaka.dash.MpdUtils,a=shaka.util.ManifestParserUtils,o=e.presentationTimeline,s=e.periodInfo.start,l=e.periodInfo.duration,u=l?s+l:1/0,c=t.segmentDuration;goog.asserts.assert(null!=c,"Segment duration must not be null!");var d=t.startNumber,f=t.timescale,p=t.mediaTemplate,h=e.bandwidth||null,g=e.representation.id,m=e.representation.baseUris,v=s-t.scaledPresentationTimeOffset,y=function(){var e=[Math.max(o.getSegmentAvailabilityStart(),s),Math.min(o.getSegmentAvailabilityEnd(),u)];return goog.asserts.assert(e.every(isFinite),"Available presentation times must be finite!"),goog.asserts.assert(e.every((function(e){return 0<=e})),"Available presentation times must be positive!"),goog.asserts.assert(null!=c,"Segment duration must not be null!"),e=e.map((function(e){return e-s})),[Math.ceil(e[0]/c),Math.ceil(e[1]/c)-1].map((function(e){return e+d}))};l=y(),e=e.dynamic?Math.max(l[0],l[1]-r+1):l[0],r=l[1],l=[];for(var b=function(e){goog.asserts.assert(null!=c,"Segment duration must not be null!");var r=(e-d)*c,o=r+t.scaledPresentationTimeOffset;r+=s;var l=Math.min(r+c,u);return goog.asserts.assert(r<l,"Generated a segment outside of the period!"),new shaka.media.SegmentReference(r,l,(function(){var t=i.fillUriTemplate(p,g,e,h,o*f);return a.resolveUris(m,[t])}),0,null,n,v,s,u)},k=e;k<=r;++k){var _=b(k);l.push(_)}var E=new shaka.media.SegmentIndex(l);if(o.getSegmentAvailabilityEnd()<u){var w=Math.max(e,r+1);E.updateEvery(c,(function(){E.evict(o.getSegmentAvailabilityStart());var e=$jscomp.makeIterator(y());e.next(),e=e.next().value;for(var t=[];w<=e;){var r=b(w);t.push(r),w++}return o.getSegmentAvailabilityEnd()>=u&&!t.length?null:t}))}return Promise.resolve(E)},shaka.dash.SegmentTemplate.createFromTimeline_=function(e,t,r){var n=shaka.dash.MpdUtils,i=shaka.util.ManifestParserUtils,a=e.periodInfo.start,o=e.periodInfo.duration,s=a-t.scaledPresentationTimeOffset;o=o?a+o:1/0;for(var l=[],u={},c=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t.timeline)),d=c.next();!d.done;u={$jscomp$loop$prop$mediaTemplate$497:u.$jscomp$loop$prop$mediaTemplate$497,$jscomp$loop$prop$repId$498:u.$jscomp$loop$prop$repId$498,$jscomp$loop$prop$segmentReplacement$499:u.$jscomp$loop$prop$segmentReplacement$499,$jscomp$loop$prop$bandwidth$500:u.$jscomp$loop$prop$bandwidth$500,$jscomp$loop$prop$timeReplacement$501:u.$jscomp$loop$prop$timeReplacement$501,$jscomp$loop$prop$baseUris$502:u.$jscomp$loop$prop$baseUris$502},d=c.next()){var f=d.value,p=f.item;d=p.start;var h=p.unscaledStart;p=p.end,u.$jscomp$loop$prop$segmentReplacement$499=f.i+t.startNumber,u.$jscomp$loop$prop$timeReplacement$501=h+t.unscaledPresentationTimeOffset,u.$jscomp$loop$prop$repId$498=e.representation.id,u.$jscomp$loop$prop$bandwidth$500=e.bandwidth||null,u.$jscomp$loop$prop$mediaTemplate$497=t.mediaTemplate,u.$jscomp$loop$prop$baseUris$502=e.representation.baseUris,f=function(e){return function(){goog.asserts.assert(e.$jscomp$loop$prop$mediaTemplate$497,"There should be a media template with a timeline");var t=n.fillUriTemplate(e.$jscomp$loop$prop$mediaTemplate$497,e.$jscomp$loop$prop$repId$498,e.$jscomp$loop$prop$segmentReplacement$499,e.$jscomp$loop$prop$bandwidth$500||null,e.$jscomp$loop$prop$timeReplacement$501);return i.resolveUris(e.$jscomp$loop$prop$baseUris$502,[t]).map((function(e){return e.toString()}))}}(u),l.push(new shaka.media.SegmentReference(a+d,a+p,f,0,null,r,s,a,o))}return l},shaka.dash.SegmentTemplate.createInitSegment_=function(e){var t=shaka.dash.MpdUtils,r=shaka.util.ManifestParserUtils,n=t.inheritAttribute(e,shaka.dash.SegmentTemplate.fromInheritance_,"initialization");if(!n)return null;var i=e.representation.id,a=e.bandwidth||null,o=e.representation.baseUris;return new shaka.media.InitSegmentReference((function(){goog.asserts.assert(n,"Should have returned earler");var e=t.fillUriTemplate(n,i,null,a,null);return r.resolveUris(o,[e])}),0,null)},shaka.util.PeriodCombiner=function(){this.variants_=[],this.audioStreams_=[],this.videoStreams_=[],this.textStreams_=[],this.usedPeriodIds_=new Set},shaka.util.PeriodCombiner.prototype.release=function(){for(var e=this.audioStreams_.concat(this.videoStreams_,this.textStreams_),t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.audioStreams_=[],this.videoStreams_=[],this.textStreams_=[],this.variants_=[]},shaka.util.PeriodCombiner.prototype.getVariants=function(){return this.variants_},shaka.util.PeriodCombiner.prototype.getTextStreams=function(){return this.textStreams_},shaka.util.PeriodCombiner.prototype.combinePeriods=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,_,E,w,S,T,x,O,P,A,C,M=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(I){switch(I.nextAddress){case 1:if(r=shaka.util.ManifestParserUtils.ContentType,n=shaka.util.Iterables,shaka.util.PeriodCombiner.filterOutAudioStreamDuplicates_(e),shaka.util.PeriodCombiner.filterOutVideoStreamDuplicates_(e),shaka.util.PeriodCombiner.filterOutTextStreamDuplicates_(e),!t&&1==e.length){i=e[0],M.audioStreams_=i.audioStreams,M.videoStreams_=i.videoStreams,M.textStreams_=i.textStreams,I.jumpTo(2);break}for(a=-1,o=$jscomp.makeIterator(n.enumerate(e)),s=o.next();!s.done;s=o.next())l=s.value,u=l.i,c=l.item,M.usedPeriodIds_.has(c.id)||(M.usedPeriodIds_.add(c.id),-1==a&&(a=u));if(-1==a)return I.return();for(d=e.map((function(e){return e.audioStreams})),f=e.map((function(e){return e.videoStreams})),p=e.map((function(e){return e.textStreams})),h=$jscomp.makeIterator(p),g=h.next();!g.done;g=h.next())g.value.push(shaka.util.PeriodCombiner.dummyTextStream_());return I.yield(shaka.util.PeriodCombiner.combine_(M.audioStreams_,d,a,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),3);case 3:return I.yield(shaka.util.PeriodCombiner.combine_(M.videoStreams_,f,a,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),4);case 4:return I.yield(shaka.util.PeriodCombiner.combine_(M.textStreams_,p,a,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),2);case 2:if(m=0,v=[],M.videoStreams_.length&&M.audioStreams_.length)for(w=$jscomp.makeIterator(M.audioStreams_),S=w.next();!S.done;S=w.next())for(T=S.value,x=$jscomp.makeIterator(M.videoStreams_),O=x.next();!O.done;O=x.next())P=O.value,A=shaka.media.DrmEngine.getCommonDrmInfos(T.drmInfos,P.drmInfos),T.drmInfos.length&&P.drmInfos.length&&!A.length?shaka.log.warning("Incompatible DRM in audio & video, skipping variant creation.",T,P):(C=m++,v.push({id:C,language:T.language,primary:T.primary,audio:T,video:P,bandwidth:(T.bandwidth||0)+(P.bandwidth||0),drmInfos:A,allowedByApplication:!0,allowedByKeySystem:!0}));else for(y=M.videoStreams_.concat(M.audioStreams_),b=$jscomp.makeIterator(y),k=b.next();!k.done;k=b.next())_=k.value,E=m++,v.push({id:E,language:_.language,primary:_.primary,audio:_.type==r.AUDIO?_:null,video:_.type==r.VIDEO?_:null,bandwidth:_.bandwidth||0,drmInfos:_.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0});M.variants_=v,I.jumpToEnd()}}))},shaka.util.PeriodCombiner.filterOutAudioStreamDuplicates_=function(e){for(var t=shaka.util.ArrayUtils,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){r=r.value;for(var n=[],i=$jscomp.makeIterator(r.audioStreams),a=i.next();!a.done;a=i.next()){a=a.value;for(var o=!1,s=$jscomp.makeIterator(n),l=s.next();!l.done;l=s.next())l=l.value,a.id!=l.id&&a.channelsCount==l.channelsCount&&a.language==l.language&&a.bandwidth==l.bandwidth&&a.label==l.label&&a.codecs==l.codecs&&a.mimeType==l.mimeType&&t.hasSameElements(a.roles,l.roles)&&a.audioSamplingRate==l.audioSamplingRate&&a.primary==l.primary&&(o=!0);o||n.push(a)}r.audioStreams=n}},shaka.util.PeriodCombiner.filterOutTextStreamDuplicates_=function(e){for(var t=shaka.util.ArrayUtils,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){r=r.value;for(var n=[],i=$jscomp.makeIterator(r.textStreams),a=i.next();!a.done;a=i.next()){a=a.value;for(var o=!1,s=$jscomp.makeIterator(n),l=s.next();!l.done;l=s.next())l=l.value,a.id!=l.id&&a.language==l.language&&a.label==l.label&&a.codecs==l.codecs&&a.mimeType==l.mimeType&&t.hasSameElements(a.roles,l.roles)&&(o=!0);o||n.push(a)}r.textStreams=n}},shaka.util.PeriodCombiner.filterOutVideoStreamDuplicates_=function(e){for(var t=shaka.util.ArrayUtils,r=shaka.util.MapUtils,n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next()){n=n.value;for(var i=[],a=$jscomp.makeIterator(n.videoStreams),o=a.next();!o.done;o=a.next()){o=o.value;for(var s=!1,l=$jscomp.makeIterator(i),u=l.next();!u.done;u=l.next())u=u.value,o.id!=u.id&&o.width==u.width&&o.frameRate==u.frameRate&&o.codecs==u.codecs&&o.mimeType==u.mimeType&&o.label==u.label&&t.hasSameElements(o.roles,u.roles)&&r.hasSameElements(o.closedCaptions,u.closedCaptions)&&o.bandwidth==u.bandwidth&&(s=!0);s||i.push(o)}n.videoStreams=i}},shaka.util.PeriodCombiner.combineDbStreams=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k;return $jscomp.asyncExecutePromiseGeneratorProgram((function(_){switch(_.nextAddress){case 1:if(t=shaka.util.ManifestParserUtils.ContentType,1==e.length)return _.return(e[0]);for(r=e.map((function(e){return e.filter((function(e){return e.type==t.AUDIO}))})),n=e.map((function(e){return e.filter((function(e){return e.type==t.VIDEO}))})),i=e.map((function(e){return e.filter((function(e){return e.type==t.TEXT}))})),a=$jscomp.makeIterator(i),o=a.next();!o.done;o=a.next())o.value.push(shaka.util.PeriodCombiner.dummyTextStreamDB_());return _.yield(shaka.util.PeriodCombiner.combine_([],r,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),2);case 2:return s=_.yieldResult,_.yield(shaka.util.PeriodCombiner.combine_([],n,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),3);case 3:return l=_.yieldResult,_.yield(shaka.util.PeriodCombiner.combine_([],i,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),4);case 4:if(u=_.yieldResult,c=0,l.length&&s.length)for(h=$jscomp.makeIterator(s),g=h.next();!g.done;g=h.next())for(m=g.value,v=$jscomp.makeIterator(l),y=v.next();!y.done;y=v.next())b=y.value,k=c++,b.variantIds.push(k),m.variantIds.push(k);else for(d=l.concat(s),f=$jscomp.makeIterator(d),p=f.next();!p.done;p=f.next())p.value.variantIds=[c++];return _.return(l.concat(s).concat(u))}}))},shaka.util.PeriodCombiner.combine_=function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,_,E,w,S,T,x;return $jscomp.asyncExecutePromiseGeneratorProgram((function(O){switch(O.nextAddress){case 1:for(a=shaka.util.ManifestParserUtils.ContentType,o=shaka.util.Iterables,s=[],l=$jscomp.makeIterator(o.enumerate(t)),u=l.next();!u.done;u=l.next())c=u.value,d=c.i,f=c.item,d>=r?s.push(new Set(f)):s.push(new Set);p=$jscomp.makeIterator(e),h=p.next();case 2:if(h.done){O.jumpTo(4);break}return g=h.value,O.yield(shaka.util.PeriodCombiner.extendExistingOutputStream_(g,t,r,i,s),5);case 5:if(!O.yieldResult)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.PERIOD_FLATTENING_FAILED);h=p.next(),O.jumpTo(2);break;case 4:m=$jscomp.makeIterator(s),v=m.next();case 6:if(v.done){O.jumpTo(8);break}y=v.value,b=$jscomp.makeIterator(y),k=b.next();case 9:if(k.done){v=m.next(),O.jumpTo(6);break}return _=k.value,O.yield(shaka.util.PeriodCombiner.createNewOutputStream_(_,t,n,i,s),12);case 12:(E=O.yieldResult)&&e.push(E),k=b.next(),O.jumpTo(9);break;case 8:for(w=$jscomp.makeIterator(s),v=w.next();!v.done;v=w.next())for(S=v.value,T={},x=$jscomp.makeIterator(S),k=x.next();!k.done;T={$jscomp$loop$prop$stream$427$504:T.$jscomp$loop$prop$stream$427$504},k=x.next())if(T.$jscomp$loop$prop$stream$427$504=k.value,(T.$jscomp$loop$prop$stream$427$504.type!=a.TEXT||T.$jscomp$loop$prop$stream$427$504.language)&&e.some(function(e){return function(t){return t.mimeType==e.$jscomp$loop$prop$stream$427$504.mimeType&&shaka.util.MimeUtils.getCodecBase(t.codecs)==shaka.util.MimeUtils.getCodecBase(e.$jscomp$loop$prop$stream$427$504.codecs)}}(T)))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.PERIOD_FLATTENING_FAILED);return O.return(e)}}))},shaka.util.PeriodCombiner.extendExistingOutputStream_=function(e,t,r,n,i){var a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return 1==o.nextAddress?(a=shaka.util.PeriodCombiner.findMatchesInAllPeriods_(t,e))?(goog.asserts.assert(e.createSegmentIndex,"outputStream should be a Stream type!"),o.yield(Promise.all(a.map((function(e){return e.createSegmentIndex()}))),2)):o.return(!1):(goog.asserts.assert(a,"Matches should be non-null"),shaka.util.PeriodCombiner.extendOutputStream_(e,a,r,n,i),o.return(!0))}))},shaka.util.PeriodCombiner.createNewOutputStream_=function(e,t,r,n,i){var a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(a=r(e),(o=shaka.util.PeriodCombiner.findMatchesInAllPeriods_(t,a))?a.createSegmentIndex?s.yield(Promise.all(o.map((function(e){return e.createSegmentIndex()}))),2):s.jumpTo(2):s.return(null)):(goog.asserts.assert(o,"Matches should be non-null"),shaka.util.PeriodCombiner.extendOutputStream_(a,o,0,n,i),s.return(a))}))},shaka.util.PeriodCombiner.extendOutputStream_=function(e,t,r,n,i){for(var a=shaka.util.ManifestParserUtils.ContentType,o=shaka.util.LanguageUtils,s=(t=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t))).next();!s.done;s=t.next()){var l=s.value;if(s=l.i,l=l.item,s>=r){n(e,l);var u=!0;e.type==a.AUDIO&&0==o.relatedness(e.language,l.language)&&(u=!1),u&&i[s].delete(l)}}},shaka.util.PeriodCombiner.cloneStream_=function(e){return(e=Object.assign({},e)).originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.segmentIndex=new shaka.media.MetaSegmentIndex,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e},shaka.util.PeriodCombiner.cloneStreamDB_=function(e){return(e=Object.assign({},e)).keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e},shaka.util.PeriodCombiner.concatenateStreams_=function(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))));var r=t.keyIds;if(r=new Set([].concat($jscomp.arrayFromIterable(e.keyIds),$jscomp.arrayFromIterable(r))),e.keyIds=r,e.originalId=null==e.originalId?t.originalId:e.originalId+","+(t.originalId||""),r=shaka.media.DrmEngine.getCommonDrmInfos(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.INCONSISTENT_DRM_ACROSS_PERIODS);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var n=(r=$jscomp.makeIterator(t.closedCaptions)).next();!n.done;n=r.next()){var i=$jscomp.makeIterator(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}goog.asserts.assert(e.segmentIndex instanceof shaka.media.MetaSegmentIndex,"Output streams should have a MetaSegmentIndex!"),goog.asserts.assert(t.segmentIndex,"Input segment index should have been created by now!"),e.segmentIndex.appendSegmentIndex(t.segmentIndex),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=shaka.util.PeriodCombiner.cloneStream_(t.trickModeVideo),e.trickModeVideo.segmentIndex=e.segmentIndex.clone()),shaka.util.PeriodCombiner.concatenateStreams_(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&shaka.util.PeriodCombiner.concatenateStreams_(e.trickModeVideo,t)},shaka.util.PeriodCombiner.concatenateStreamDBs_=function(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var r=t.keyIds;if(r=new Set([].concat($jscomp.arrayFromIterable(e.keyIds),$jscomp.arrayFromIterable(r))),e.keyIds=r,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,$jscomp.arrayFromIterable(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var n=(r=$jscomp.makeIterator(t.closedCaptions)).next();!n.done;n=r.next()){var i=$jscomp.makeIterator(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}},shaka.util.PeriodCombiner.findMatchesInAllPeriods_=function(e,t){for(var r=[],n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next()){if(!(i=shaka.util.PeriodCombiner.findBestMatchInPeriod_(i.value,t)))return null;r.push(i)}return r},shaka.util.PeriodCombiner.findBestMatchInPeriod_=function(e,t){for(var r={audio:shaka.util.PeriodCombiner.areAVStreamsCompatible_,video:shaka.util.PeriodCombiner.areAVStreamsCompatible_,text:shaka.util.PeriodCombiner.areTextStreamsCompatible_}[t.type],n={audio:shaka.util.PeriodCombiner.isAudioStreamBetterMatch_,video:shaka.util.PeriodCombiner.isVideoStreamBetterMatch_,text:shaka.util.PeriodCombiner.isTextStreamBetterMatch_}[t.type],i=null,a=$jscomp.makeIterator(e),o=a.next();!o.done;o=a.next())!r(t,o=o.value)||i&&!n(t,i,o)||(i=o);return i},shaka.util.PeriodCombiner.areAVStreamsCompatible_=function(e,t){return!(t.mimeType!=e.mimeType||shaka.util.MimeUtils.getCodecBase(t.codecs)!=shaka.util.MimeUtils.getCodecBase(e.codecs)||e.drmInfos&&!shaka.media.DrmEngine.areDrmCompatible(e.drmInfos,t.drmInfos))},shaka.util.PeriodCombiner.areTextStreamsCompatible_=function(e,t){return!!e.language&&(!t.language||0!=shaka.util.LanguageUtils.relatedness(e.language,t.language)&&t.kind==e.kind)},shaka.util.PeriodCombiner.isAudioStreamBetterMatch_=function(e,t,r){var n=shaka.util.LanguageUtils,i=shaka.util.PeriodCombiner.BetterOrWorse,a=i.BETTER;if(i=i.WORSE,e.id==r.id)return!0;var o=n.relatedness(e.language,t.language);return(n=n.relatedness(e.language,r.language))>o||!(n<o)&&(!(t.primary||!r.primary)||!(t.primary&&!r.primary)&&(e.roles.length?(a=t.roles.filter((function(t){return e.roles.includes(t)})),(i=r.roles.filter((function(t){return e.roles.includes(t)}))).length>a.length||!(i.length<a.length)&&r.roles.length<t.roles.length):!(r.roles.length||!t.roles.length)||!(r.roles.length&&!t.roles.length)&&((n=shaka.util.PeriodCombiner.compareClosestPreferLower(e.channelsCount,t.channelsCount,r.channelsCount))==a||n!=i&&((n=shaka.util.PeriodCombiner.compareClosestPreferLower(e.audioSamplingRate,t.audioSamplingRate,r.audioSamplingRate))==a||n!=i&&!(!e.bandwidth||shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_(e.bandwidth,t.bandwidth,r.bandwidth)!=a)))))},shaka.util.PeriodCombiner.isVideoStreamBetterMatch_=function(e,t,r){var n=shaka.util.PeriodCombiner.BetterOrWorse,i=n.BETTER;if(n=n.WORSE,e.id==r.id)return!0;var a=shaka.util.PeriodCombiner.compareClosestPreferLower(e.width*e.height,t.width*t.height,r.width*r.height);if(a==i)return!0;if(a==n)return!1;if(e.frameRate){if((a=shaka.util.PeriodCombiner.compareClosestPreferLower(e.frameRate,t.frameRate,r.frameRate))==i)return!0;if(a==n)return!1}return!(!e.bandwidth||shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_(e.bandwidth,t.bandwidth,r.bandwidth)!=i)},shaka.util.PeriodCombiner.isTextStreamBetterMatch_=function(e,t,r){var n=shaka.util.LanguageUtils;if(e.id==r.id)return!0;var i=n.relatedness(e.language,t.language);if((n=n.relatedness(e.language,r.language))>i)return!0;if(n<i)return!1;if(!t.primary&&r.primary)return!0;if(t.primary&&!r.primary)return!1;if(e.roles.length){if(i=t.roles.filter((function(t){return e.roles.includes(t)})),(n=r.roles.filter((function(t){return e.roles.includes(t)}))).length>i.length)return!0;if(n.length<i.length)return!1}else{if(!r.roles.length&&t.roles.length)return!0;if(r.roles.length&&!t.roles.length)return!1}return r.mimeType==e.mimeType&&r.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)},shaka.util.PeriodCombiner.dummyTextStreamDB_=function(){return{id:0,originalId:"",primary:!1,type:shaka.util.ManifestParserUtils.ContentType.TEXT,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null}},shaka.util.PeriodCombiner.dummyTextStream_=function(){var e=shaka.util.ManifestParserUtils.ContentType;return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new shaka.media.SegmentIndex([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:e.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null}},shaka.util.PeriodCombiner.compareClosestPreferLower=function(e,t,r){var n=shaka.util.PeriodCombiner.BetterOrWorse,i=n.BETTER,a=n.WORSE;if(t==e&&e!=r)return a;if(r==e&&e!=t)return i;if(t>e){if(r<=e||r-e<t-e)return i;if(r-e>t-e)return a}else{if(r>e)return a;if(e-r<e-t)return i;if(e-r>e-t)return a}return n.EQUAL},shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_=function(e,t,r){var n=shaka.util.PeriodCombiner.BetterOrWorse,i=n.BETTER,a=n.WORSE;return t=Math.abs(e-t),(e=Math.abs(e-r))<t?i:t<e?a:n.EQUAL},shaka.util.PeriodCombiner.BetterOrWorse={BETTER:1,EQUAL:0,WORSE:-1},shaka.dash.DashParser=function(){var e=this;this.playerInterface_=this.config_=null,this.manifestUris_=[],this.manifest_=null,this.globalId_=1,this.segmentIndexMap_={},this.periodCombiner_=new shaka.util.PeriodCombiner,this.updatePeriod_=0,this.averageUpdateDuration_=new shaka.abr.Ewma(5),this.updateTimer_=new shaka.util.Timer((function(){e.onUpdate_()})),this.operationManager_=new shaka.util.OperationManager},shaka.dash.DashParser.prototype.configure=function(e){goog.asserts.assert(null!=e.dash,"DashManifestConfiguration should not be null!"),this.config_=e},shaka.dash.DashParser.prototype.start=function(e,t){var r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){if(1==i.nextAddress)return goog.asserts.assert(n.config_,"Must call configure() before start()!"),n.manifestUris_=[e],n.playerInterface_=t,i.yield(n.requestManifest_(),2);if(r=i.yieldResult,n.playerInterface_&&n.setUpdateTimer_(r),!n.playerInterface_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);return goog.asserts.assert(n.manifest_,"Manifest should be non-null!"),i.return(n.manifest_)}))},shaka.dash.DashParser.prototype.stop=function(){for(var e=$jscomp.makeIterator(Object.values(this.segmentIndexMap_)),t=e.next();!t.done;t=e.next())t.value.release();return this.periodCombiner_&&this.periodCombiner_.release(),this.config_=this.playerInterface_=null,this.manifestUris_=[],this.manifest_=null,this.segmentIndexMap_={},this.periodCombiner_=null,null!=this.updateTimer_&&(this.updateTimer_.stop(),this.updateTimer_=null),this.operationManager_.destroy()},shaka.dash.DashParser.prototype.update=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(r.setCatchFinallyBlocks(2),r.yield(t.requestManifest_(),4)):2!=r.nextAddress?r.leaveTryBlock(0):(e=r.enterCatchBlock(),t.playerInterface_&&e?(goog.asserts.assert(e instanceof shaka.util.Error,"Bad error type"),t.playerInterface_.onError(e),void r.jumpToEnd()):r.return())}))},shaka.dash.DashParser.prototype.onExpirationUpdated=function(e,t){},shaka.dash.DashParser.prototype.requestManifest_=function(){var e,t,r,n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){return 1==u.nextAddress?(e=shaka.net.NetworkingEngine.RequestType.MANIFEST,t=shaka.net.NetworkingEngine.makeRequest(l.manifestUris_,l.config_.retryParameters),r=l.playerInterface_.networkingEngine,n=Date.now(),i=r.request(e,t),l.operationManager_.manage(i),u.yield(i.promise,2)):3!=u.nextAddress?(a=u.yieldResult,l.playerInterface_?(a.uri&&!l.manifestUris_.includes(a.uri)&&l.manifestUris_.unshift(a.uri),u.yield(l.parseManifest_(a.data,a.uri),3)):u.return(0)):(o=Date.now(),s=(o-n)/1e3,l.averageUpdateDuration_.sample(1,s),u.return(s))}))},shaka.dash.DashParser.prototype.parseManifest_=function(e,t){var r,n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){if(1==u.nextAddress){if(r=shaka.util.Error,n=shaka.dash.MpdUtils,!(i=shaka.util.XmlUtils.parseXml(e,"MPD")))throw new r(r.Severity.CRITICAL,r.Category.MANIFEST,r.Code.DASH_INVALID_XML,t);return a=l.config_.dash.xlinkFailGracefully,o=n.processXlinks(i,l.config_.retryParameters,a,t,l.playerInterface_.networkingEngine),l.operationManager_.manage(o),u.yield(o.promise,2)}return s=u.yieldResult,u.return(l.processManifest_(s,t))}))},shaka.dash.DashParser.prototype.processManifest_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,_,E,w,S,T,x,O=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(P){switch(P.nextAddress){case 1:return r=shaka.util.Functional,n=shaka.util.XmlUtils,i=[t],0<(a=n.findChildren(e,"Location").map(n.getContents).filter(r.isNotNull)).length&&(o=shaka.util.ManifestParserUtils.resolveUris(i,a),i=O.manifestUris_=o),s=n.findChildren(e,"BaseURL").map(n.getContents),l=shaka.util.ManifestParserUtils.resolveUris(i,s),u=O.config_.dash.ignoreMinBufferTime,c=0,u||(c=n.parseAttr(e,"minBufferTime",n.parseDuration)||0),O.updatePeriod_=n.parseAttr(e,"minimumUpdatePeriod",n.parseDuration,-1),d=n.parseAttr(e,"availabilityStartTime",n.parseDate),f=n.parseAttr(e,"timeShiftBufferDepth",n.parseDuration),p=O.config_.dash.ignoreSuggestedPresentationDelay,h=null,p||(h=n.parseAttr(e,"suggestedPresentationDelay",n.parseDuration)),g=n.parseAttr(e,"maxSegmentDuration",n.parseDuration),m=e.getAttribute("type")||"static",O.manifest_?v=O.manifest_.presentationTimeline:(y=O.config_.defaultPresentationDelay||1.5*c,b=null!=h?h:y,v=new shaka.media.PresentationTimeline(d,b,O.config_.dash.autoCorrectDrift)),k={dynamic:"static"!=m,presentationTimeline:v,period:null,periodInfo:null,adaptationSet:null,representation:null,bandwidth:0,indexRangeWarningGiven:!1},_=O.parsePeriods_(k,l,e),E=_.duration,w=_.periods,v.setStatic("static"==m),"static"!=m&&_.durationDerivedFromPeriods||v.setDuration(E||1/0),v.isLive()&&!isNaN(O.config_.availabilityWindowOverride)&&(f=O.config_.availabilityWindowOverride),null==f&&(f=1/0),v.setSegmentAvailabilityDuration(f),v.notifyMaxSegmentDuration(g||1),goog.DEBUG&&v.assertIsValid(),P.yield(O.periodCombiner_.combinePeriods(w,k.dynamic),2);case 2:if(O.manifest_){O.manifest_.variants=O.periodCombiner_.getVariants(),O.manifest_.textStreams=O.periodCombiner_.getTextStreams(),P.jumpTo(3);break}if(O.manifest_={presentationTimeline:v,variants:O.periodCombiner_.getVariants(),textStreams:O.periodCombiner_.getTextStreams(),offlineSessionIds:[],minBufferTime:c||0},!v.usingPresentationStartTime()){P.jumpTo(3);break}return S=shaka.util.XmlUtils,T=S.findChildren(e,"UTCTiming"),P.yield(O.parseUtcTiming_(l,T),5);case 5:if(x=P.yieldResult,!O.playerInterface_)return P.return();v.setClockOffset(x);case 3:return O.playerInterface_.makeTextStreamsForClosedCaptions(O.manifest_),goog.asserts.assert(O.manifest_,"Manifest should exist by now!"),P.yield(O.playerInterface_.filter(O.manifest_),0)}}))},shaka.dash.DashParser.prototype.parsePeriods_=function(e,t,r){var n=shaka.util.XmlUtils,i=n.parseAttr(r,"mediaPresentationDuration",n.parseDuration),a=[],o=0;r=n.findChildren(r,"Period");for(var s=(r=$jscomp.makeIterator(shaka.util.Iterables.enumerate(r))).next();!s.done;s=r.next()){var l=s.value;s=l.i;var u=l.item;l=l.next,o=n.parseAttr(u,"start",n.parseDuration,o);var c=n.parseAttr(u,"duration",n.parseDuration),d=null;if(l){var f=n.parseAttr(l,"start",n.parseDuration);null!=f&&(d=f-o)}else null!=i&&(d=i-o);if(f=shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS,d&&c&&Math.abs(d-c)>f&&shaka.log.warning("There is a gap/overlap between Periods",u),null==d&&(d=c),u=this.parsePeriod_(e,t,{start:o,duration:d,node:u,isLastPeriod:null==d||!l}),a.push(u),null==d){l&&shaka.log.warning("Skipping Period",s+1,"and any subsequent Periods:","Period",s+1,"does not have a valid start time.",l),o=null;break}o+=d}return null!=i?(o!=i&&shaka.log.warning("@mediaPresentationDuration does not match the total duration of ","all Periods."),{periods:a,duration:i,durationDerivedFromPeriods:!1}):{periods:a,duration:o,durationDerivedFromPeriods:!0}},shaka.dash.DashParser.prototype.parsePeriod_=function(e,t,r){var n=this,i=shaka.util.Functional,a=shaka.util.XmlUtils,o=shaka.util.ManifestParserUtils.ContentType;e.period=this.createFrame_(r.node,null,t),e.periodInfo=r,e.period.id||(shaka.log.info("No Period ID given for Period with start time "+r.start+",  Assigning a default"),e.period.id="__shaka_period_"+r.start),t=a.findChildren(r.node,"EventStream");for(var s=(t=$jscomp.makeIterator(t)).next();!s.done;s=t.next())this.parseEventStream_(r.start,r.duration,s.value);if(i=a.findChildren(r.node,"AdaptationSet").map((function(t){return n.parseAdaptationSet_(e,t)})).filter(i.isNotNull),e.dynamic){for(r=[],t=(a=$jscomp.makeIterator(i)).next();!t.done;t=a.next())for(s=(t=$jscomp.makeIterator(t.value.representationIds)).next();!s.done;s=t.next())r.push(s.value);if(a=new Set(r),r.length!=a.size)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_DUPLICATE_REPRESENTATION_ID)}for(r=i.filter((function(e){return!e.trickModeFor})),i=i.filter((function(e){return e.trickModeFor})),a=(i=$jscomp.makeIterator(i)).next();!a.done;a=i.next()){t=(a=a.value).trickModeFor.split(" ");for(var l=(s=$jscomp.makeIterator(r)).next();!l.done;l=s.next()){var u=l.value;if(t.includes(u.id)){l={};for(var c=(u=$jscomp.makeIterator(u.streams)).next();!c.done;l={$jscomp$loop$prop$stream$506:l.$jscomp$loop$prop$stream$506},c=u.next())l.$jscomp$loop$prop$stream$506=c.value,l.$jscomp$loop$prop$stream$506.trickModeVideo=a.streams.find(function(e){return function(t){return shaka.util.MimeUtils.getCodecBase(e.$jscomp$loop$prop$stream$506.codecs)==shaka.util.MimeUtils.getCodecBase(t.codecs)}}(l))}}}if(a=this.config_.disableAudio?[]:this.getSetsOfType_(r,o.AUDIO),i=this.config_.disableVideo?[]:this.getSetsOfType_(r,o.VIDEO),r=this.config_.disableText?[]:this.getSetsOfType_(r,o.TEXT),!i.length&&!a.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_EMPTY_PERIOD);for(o=[],t=(a=$jscomp.makeIterator(a)).next();!t.done;t=a.next())o.push.apply(o,$jscomp.arrayFromIterable(t.value.streams));for(a=[],t=(i=$jscomp.makeIterator(i)).next();!t.done;t=i.next())a.push.apply(a,$jscomp.arrayFromIterable(t.value.streams));for(i=[],t=(r=$jscomp.makeIterator(r)).next();!t.done;t=r.next())i.push.apply(i,$jscomp.arrayFromIterable(t.value.streams));return{id:e.period.id,audioStreams:o,videoStreams:a,textStreams:i}},shaka.dash.DashParser.prototype.getSetsOfType_=function(e,t){return e.filter((function(e){return e.contentType==t}))},shaka.dash.DashParser.prototype.parseAdaptationSet_=function(e,t){var r=this,n=shaka.util.XmlUtils,i=shaka.util.Functional,a=shaka.util.ManifestParserUtils,o=a.ContentType,s=shaka.dash.ContentProtection;if(e.adaptationSet=this.createFrame_(t,e.period,null),e.adaptationSet.contentType==o.IMAGE)return shaka.log.warning("Skipping Image AdaptationSet",e.adaptationSet),null;var l=!1,u=n.findChildren(t,"Role"),c=u.map((function(e){return e.getAttribute("value")})).filter(i.isNotNull),d=void 0;(i=e.adaptationSet.contentType==o.TEXT)&&(d=a.TextStreamKind.SUBTITLE);for(var f=(u=$jscomp.makeIterator(u)).next();!f.done;f=u.next()){var p=(f=f.value).getAttribute("schemeIdUri");if(null==p||"urn:mpeg:dash:role:2011"==p)switch(f=f.getAttribute("value"),f){case"main":l=!0;break;case"caption":case"subtitle":d=f}}p=n.findChildren(t,"EssentialProperty"),u=null,f=!1;for(var h=(p=$jscomp.makeIterator(p)).next();!h.done;h=p.next()){var g=h.value;"http://dashif.org/guidelines/trickmode"==g.getAttribute("schemeIdUri")?u=g.getAttribute("value"):f=!0}g=n.findChildren(t,"Accessibility"),p=shaka.util.LanguageUtils;var m=new Map;for(h=(g=$jscomp.makeIterator(g)).next();!h.done;h=g.next()){var v=h.value;if(h=v.getAttribute("schemeIdUri"),v=v.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==h||"urn:scte:dash:cc:cea-708:2015"==h)if(h=1,null!=v)for(var y=(v=$jscomp.makeIterator(v.split(";"))).next();!y.done;y=v.next()){var b=y.value,k=y=void 0;b.includes("=")?(y=(b=b.split("="))[0].startsWith("CC")?b[0]:"CC"+b[0],k=b[1].split(",")[0].split(":").pop()):(y="CC"+h,h+=2,k=b),m.set(y,p.normalize(k))}else m.set("CC1","und");else"urn:mpeg:dash:role:2011"==h&&null!=v&&(c.push(v),"captions"==v&&(d=a.TextStreamKind.CLOSED_CAPTION))}if(f)return null;a=n.findChildren(t,"ContentProtection");var _=s.parseFromAdaptationSet(a,this.config_.dash.ignoreDrmInfo),E=shaka.util.LanguageUtils.normalize(t.getAttribute("lang")||"und"),w=t.getAttribute("label");if((s=n.findChildren(t,"Label"))&&s.length&&((s=s[0]).textContent&&(w=s.textContent)),s=n.findChildren(t,"Representation"),0==(n=s.map((function(t){return r.parseRepresentation_(e,_,d,E,w,l,c,m,t)})).filter((function(e){return!!e}))).length){if(this.config_.dash.ignoreEmptyAdaptationSet||i)return null;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_EMPTY_ADAPTATION_SET)}if(!e.adaptationSet.contentType||e.adaptationSet.contentType==o.APPLICATION)for(e.adaptationSet.contentType=shaka.dash.DashParser.guessContentType_(n[0].mimeType,n[0].codecs),i=(o=$jscomp.makeIterator(n)).next();!i.done;i=o.next())i.value.type=e.adaptationSet.contentType;for(i=(o=$jscomp.makeIterator(n)).next();!i.done;i=o.next())for(i=i.value,f=(a=$jscomp.makeIterator(_.drmInfos)).next();!f.done;f=a.next())(f=f.value).keyIds=f.keyIds&&i.keyIds?new Set([].concat($jscomp.arrayFromIterable(f.keyIds),$jscomp.arrayFromIterable(i.keyIds))):f.keyIds||i.keyIds;return o=s.map((function(e){return e.getAttribute("id")})).filter(shaka.util.Functional.isNotNull),{id:e.adaptationSet.id||"__fake__"+this.globalId_++,contentType:e.adaptationSet.contentType,language:E,main:l,streams:n,drmInfos:_.drmInfos,trickModeFor:u,representationIds:o}},shaka.dash.DashParser.prototype.parseRepresentation_=function(e,t,r,n,i,a,o,s,l){var u=this,c=shaka.util.XmlUtils,d=shaka.util.ManifestParserUtils.ContentType;if(e.representation=this.createFrame_(l,e.adaptationSet,null),!this.verifyRepresentation_(e.representation))return shaka.log.warning("Skipping Representation",e.representation),null;var f=e.periodInfo.start;e.bandwidth=c.parseAttr(l,"bandwidth",c.parsePositiveInt)||0;var p=e.representation.contentType;d=p==d.TEXT||p==d.APPLICATION;try{if(p=function(e,t,r){return u.requestInitSegment_(e,t,r)},e.representation.segmentBase)var h=shaka.dash.SegmentBase.createStreamInfo(e,p);else if(e.representation.segmentList)h=shaka.dash.SegmentList.createStreamInfo(e,this.segmentIndexMap_);else if(e.representation.segmentTemplate)h=shaka.dash.SegmentTemplate.createStreamInfo(e,p,this.segmentIndexMap_,!!this.manifest_,this.config_.dash.initialSegmentLimit);else{goog.asserts.assert(d,"Must have Segment* with non-text streams.");var g=e.representation.baseUris,m=e.periodInfo.duration||0;h={generateSegmentIndex:function(){return Promise.resolve(shaka.media.SegmentIndex.forSingleSegment(f,m,g))}}}}catch(y){if(d&&y.code==shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)return null;throw y}d=c.findChildren(l,"ContentProtection"),d=shaka.dash.ContentProtection.parseFromRepresentation(d,t,this.config_.dash.ignoreDrmInfo),d=new Set(d?[d]:[]),c.findChildren(l,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(e.representation.mimeType="audio/eac3-joc");var v={id:this.globalId_++,originalId:e.representation.id,createSegmentIndex:function(){var e;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress)return v.segmentIndex?t.jumpTo(0):(e=v,t.yield(h.generateSegmentIndex(),3));e.segmentIndex=t.yieldResult,t.jumpToEnd()}))},segmentIndex:null,mimeType:e.representation.mimeType,codecs:e.representation.codecs,frameRate:e.representation.frameRate,pixelAspectRatio:e.representation.pixelAspectRatio,bandwidth:e.bandwidth,width:e.representation.width,height:e.representation.height,kind:r,encrypted:0<t.drmInfos.length,drmInfos:t.drmInfos,keyIds:d,language:n,label:i,type:e.adaptationSet.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:e.representation.emsgSchemeIdUris,roles:o,channelsCount:e.representation.numChannels,audioSamplingRate:e.representation.audioSamplingRate,closedCaptions:s};return v},shaka.dash.DashParser.prototype.onUpdate_=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){switch(n.nextAddress){case 1:return goog.asserts.assert(0<=r.updatePeriod_,"There should be an update period"),shaka.log.info("Updating manifest..."),e=0,n.setCatchFinallyBlocks(2),n.yield(r.requestManifest_(),4);case 4:e=n.yieldResult,n.leaveTryBlock(3);break;case 2:t=n.enterCatchBlock(),goog.asserts.assert(t instanceof shaka.util.Error,"Should only receive a Shaka error"),r.playerInterface_&&(t.severity=shaka.util.Error.Severity.RECOVERABLE,r.playerInterface_.onError(t));case 3:if(!r.playerInterface_)return n.return();r.setUpdateTimer_(e),n.jumpToEnd()}}))},shaka.dash.DashParser.prototype.setUpdateTimer_=function(e){0>this.updatePeriod_||(e=Math.max(shaka.dash.DashParser.MIN_UPDATE_PERIOD_,this.updatePeriod_-e,this.averageUpdateDuration_.getEstimate()),this.updateTimer_.tickAfter(e))},shaka.dash.DashParser.prototype.createFrame_=function(e,t,r){goog.asserts.assert(t||r,"Must provide either parent or baseUris");var n=shaka.util.ManifestParserUtils,i=shaka.util.XmlUtils;t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,numChannels:null,audioSamplingRate:null},r=r||t.baseUris;var a=i.parseNonNegativeInt,o=i.evalDivision,s=i.findChildren(e,"BaseURL").map(i.getContents),l=e.getAttribute("contentType")||t.contentType,u=e.getAttribute("mimeType")||t.mimeType,c=e.getAttribute("codecs")||t.codecs;o=i.parseAttr(e,"frameRate",o)||t.frameRate;var d=e.getAttribute("sar")||t.pixelAspectRatio,f=this.emsgSchemeIdUris_(i.findChildren(e,"InbandEventStream"),t.emsgSchemeIdUris),p=i.findChildren(e,"AudioChannelConfiguration");p=this.parseAudioChannels_(p)||t.numChannels;var h=i.parseAttr(e,"audioSamplingRate",a)||t.audioSamplingRate;return l||(l=shaka.dash.DashParser.guessContentType_(u,c)),{baseUris:n.resolveUris(r,s),segmentBase:i.findChild(e,"SegmentBase")||t.segmentBase,segmentList:i.findChild(e,"SegmentList")||t.segmentList,segmentTemplate:i.findChild(e,"SegmentTemplate")||t.segmentTemplate,width:i.parseAttr(e,"width",a)||t.width,height:i.parseAttr(e,"height",a)||t.height,contentType:l,mimeType:u,codecs:c,frameRate:o,pixelAspectRatio:d,emsgSchemeIdUris:f,id:e.getAttribute("id"),numChannels:p,audioSamplingRate:h}},shaka.dash.DashParser.prototype.emsgSchemeIdUris_=function(e,t){for(var r=t.slice(),n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())i=i.value.getAttribute("schemeIdUri"),r.includes(i)||r.push(i);return r},shaka.dash.DashParser.prototype.parseAudioChannels_=function(e){for(var t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){var r=t.value;if((t=r.getAttribute("schemeIdUri"))&&(r=r.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return r.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var n=parseInt(r,10);if(!n){shaka.log.warning("Channel parsing failure! Ignoring scheme and value",t,r);continue}return n;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(n=parseInt(r,16))){shaka.log.warning("Channel parsing failure! Ignoring scheme and value",t,r);continue}for(e=0;n;)1&n&&++e,n>>=1;return e;default:shaka.log.warning("Unrecognized audio channel scheme:",t,r)}}return null},shaka.dash.DashParser.prototype.verifyRepresentation_=function(e){var t=shaka.util.ManifestParserUtils.ContentType,r=e.segmentBase?1:0;return r+=e.segmentList?1:0,0==(r+=e.segmentTemplate?1:0)?e.contentType==t.TEXT||e.contentType==t.APPLICATION||(shaka.log.warning("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',e),!1):(1!=r&&(shaka.log.warning("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",e),e.segmentBase?(shaka.log.info("Using SegmentBase by default."),e.segmentList=null):(goog.asserts.assert(e.segmentList,"There should be a SegmentList"),shaka.log.info("Using SegmentList by default.")),e.segmentTemplate=null),!0)},shaka.dash.DashParser.prototype.requestForTiming_=function(e,t,r){var n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){if(1==d.nextAddress)return n=shaka.util.ManifestParserUtils.resolveUris(e,[t]),(i=shaka.net.NetworkingEngine.makeRequest(n,c.config_.retryParameters)).method=r,a=shaka.net.NetworkingEngine.RequestType.TIMING,o=c.playerInterface_.networkingEngine.request(a,i),c.operationManager_.manage(o),d.yield(o.promise,2);if(s=d.yieldResult,"HEAD"==r){if(!s.headers||!s.headers.date)return shaka.log.warning("UTC timing response is missing","expected date header"),d.return(0);l=s.headers.date}else l=shaka.util.StringUtils.fromUTF8(s.data);return u=Date.parse(l),isNaN(u)?(shaka.log.warning("Unable to parse date from UTC timing response"),d.return(0)):d.return(u-Date.now())}))},shaka.dash.DashParser.prototype.parseUtcTiming_=function(e,t){var r,n,i,a,o,s,l,u,c,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){switch(f.nextAddress){case 1:r=t.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),n=d.config_.dash.clockSyncUri,!r.length&&n&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:n}),i=$jscomp.makeIterator(r),a=i.next();case 2:if(a.done){f.jumpTo(4);break}switch(o=a.value,f.setCatchFinallyBlocks(5),s=o.scheme,l=o.value,s){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.jumpTo(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.jumpTo(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return u=Date.parse(l),f.return(isNaN(u)?0:u-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":shaka.log.alwaysWarn("NTP UTCTiming scheme is not supported");break;default:shaka.log.alwaysWarn("Unrecognized scheme in UTCTiming element",s)}f.jumpTo(9);break;case 7:return f.yield(d.requestForTiming_(e,l,"HEAD"),10);case 10:return f.return(f.yieldResult);case 8:return f.yield(d.requestForTiming_(e,l,"GET"),11);case 11:return f.return(f.yieldResult);case 9:f.leaveTryBlock(3);break;case 5:c=f.enterCatchBlock(),shaka.log.warning("Error fetching time from UTCTiming elem",c.message);case 3:a=i.next(),f.jumpTo(2);break;case 4:return shaka.log.alwaysWarn("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))},shaka.dash.DashParser.prototype.parseEventStream_=function(e,t,r){for(var n=shaka.util.XmlUtils,i=n.parseNonNegativeInt,a=r.getAttribute("schemeIdUri")||"",o=r.getAttribute("value")||"",s=n.parseAttr(r,"timescale",i)||1,l=(r=$jscomp.makeIterator(n.findChildren(r,"Event"))).next();!l.done;l=r.next()){l=l.value;var u=n.parseAttr(l,"presentationTime",i)||0,c=n.parseAttr(l,"duration",i)||0;c=(u=u/s+e)+c/s,null!=t&&(u=Math.min(u,e+t),c=Math.min(c,e+t)),l={schemeIdUri:a,value:o,startTime:u,endTime:c,id:l.getAttribute("id")||"",eventElement:l},this.playerInterface_.onTimelineRegionAdded(l)}},shaka.dash.DashParser.prototype.requestInitSegment_=function(e,t,r){var n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){return 1==u.nextAddress?(n=shaka.net.NetworkingEngine.RequestType.SEGMENT,i=shaka.util.Networking.createSegmentRequest(e,t,r,l.config_.retryParameters),a=l.playerInterface_.networkingEngine,o=a.request(n,i),l.operationManager_.manage(o),u.yield(o.promise,2)):(s=u.yieldResult,u.return(s.data))}))},shaka.dash.DashParser.guessContentType_=function(e,t){var r=shaka.util.MimeUtils.getFullType(e,t);return shaka.text.TextEngine.isTypeSupported(r)?shaka.util.ManifestParserUtils.ContentType.TEXT:e.split("/")[0]},goog.exportSymbol("shaka.dash.DashParser",shaka.dash.DashParser),shaka.dash.DashParser.MIN_UPDATE_PERIOD_=3,shaka.media.ManifestParser.registerParserByExtension("mpd",(function(){return new shaka.dash.DashParser})),shaka.media.ManifestParser.registerParserByMime("application/dash+xml",(function(){return new shaka.dash.DashParser})),shaka.media.ManifestParser.registerParserByMime("video/vnd.mpeg.dash.mpd",(function(){return new shaka.dash.DashParser})),shaka.hls={},shaka.hls.Playlist=function(e,t,r,n){this.absoluteUri=e,this.type=t,this.tags=r,this.segments=n||null},shaka.hls.PlaylistType={MASTER:0,MEDIA:1},shaka.hls.Tag=function(e,t,r,n){this.id=e,this.name=t,this.attributes=r,this.value=void 0===n?null:n},shaka.hls.Tag.prototype.toString=function(){var e=function(e){var t=isNaN(Number(e.value))?'"'+e.value+'"':e.value;return e.name+"="+t},t="#"+this.name;return e=this.attributes?this.attributes.map(e):[],this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t},shaka.hls.Tag.prototype.addAttribute=function(e){this.attributes.push(e)},shaka.hls.Tag.prototype.getAttribute=function(e){var t=this.attributes.filter((function(t){return t.name==e}));return goog.asserts.assert(2>t.length,"A tag should not have multiple attributes with the same name!"),t.length?t[0]:null},shaka.hls.Tag.prototype.getAttributeValue=function(e,t){var r=this.getAttribute(e);return r?r.value:t||null},shaka.hls.Tag.prototype.getRequiredAttrValue=function(e){var t=this.getAttribute(e);if(!t)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_REQUIRED_ATTRIBUTE_MISSING,e);return t.value},shaka.hls.Segment=function(e,t){this.tags=t,this.absoluteUri=e},shaka.hls.Attribute=function(e,t){this.name=e,this.value=t},shaka.hls.Utils=function(){},shaka.hls.Utils.filterTagsByName=function(e,t){return e.filter((function(e){return e.name==t}))},shaka.hls.Utils.filterTagsByType=function(e,t){return e.filter((function(e){return e.getRequiredAttrValue("TYPE")==t}))},shaka.hls.Utils.getFirstTagWithName=function(e,t){var r=shaka.hls.Utils.filterTagsByName(e,t);return r.length?r[0]:null},shaka.hls.Utils.getFirstTagWithNameAsNumber=function(e,t,r){return r=void 0===r?0:r,(e=shaka.hls.Utils.getFirstTagWithName(e,t))?Number(e.value):r},shaka.hls.Utils.constructAbsoluteUri=function(e,t){return shaka.util.ManifestParserUtils.resolveUris([e],[t])[0]},shaka.hls.Utils.isComment=function(e){return/^#(?!EXT)/m.test(e)},shaka.util.TextParser=function(e){this.data_=e,this.position_=0},shaka.util.TextParser.prototype.atEnd=function(){return this.position_==this.data_.length},shaka.util.TextParser.prototype.readLine=function(){return this.readRegexReturnCapture_(/(.*?)(\n|$)/gm,1)},shaka.util.TextParser.prototype.readWord=function(){return this.readRegexReturnCapture_(/[^ \t\n]*/gm,0)},shaka.util.TextParser.prototype.skipWhitespace=function(){this.readRegex(/[ \t]+/gm)},shaka.util.TextParser.prototype.readRegex=function(e){return e=this.indexOf_(e),this.atEnd()||null==e||e.position!=this.position_?null:(this.position_+=e.length,e.results)},shaka.util.TextParser.prototype.readRegexReturnCapture_=function(e,t){if(this.atEnd())return null;var r=this.readRegex(e);return r?r[t]:null},shaka.util.TextParser.prototype.indexOf_=function(e){return goog.asserts.assert(e.global,"global flag should be set"),e.lastIndex=this.position_,null==(e=e.exec(this.data_))?null:{position:e.index,length:e[0].length,results:e}},shaka.hls.ManifestTextParser=function(){this.globalId_=0},shaka.hls.ManifestTextParser.prototype.parsePlaylist=function(e,t){var r=shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS,n=shaka.hls.ManifestTextParser.SEGMENT_TAGS,i=shaka.util.StringUtils.fromUTF8(e),a=(i=i.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(a[0]))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_PLAYLIST_HEADER_MISSING);i=shaka.hls.PlaylistType.MASTER;for(var o=!0,s=$jscomp.makeIterator(a),l=s.next();!l.done;l=s.next())if(l=l.value,shaka.hls.Utils.isComment(l)||o)o=!1;else{if(l=this.parseTag_(l),--this.globalId_,r.includes(l.name)){i=shaka.hls.PlaylistType.MEDIA;break}"EXT-X-STREAM-INF"==l.name&&(o=!0)}for(r=[],o=!0,l=(s=$jscomp.makeIterator(shaka.util.Iterables.enumerate(a))).next();!l.done;l=s.next()){var u=l.value;l=u.i;var c=u.item;if(u=u.next,shaka.hls.Utils.isComment(c)||o)o=!1;else{if(c=this.parseTag_(c),n.includes(c.name)){if(i!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);return n=a.splice(l,a.length-l),n=this.parseSegments_(t,n,r),new shaka.hls.Playlist(t,i,r,n)}r.push(c),"EXT-X-STREAM-INF"==c.name&&(o=new shaka.hls.Attribute("URI",u),c.addAttribute(o),o=!0)}}return new shaka.hls.Playlist(t,i,r)},shaka.hls.ManifestTextParser.prototype.parseSegments_=function(e,t,r){for(var n=[],i=[],a=null,o=(t=$jscomp.makeIterator(t)).next();!o.done;o=t.next())o=o.value,/^(#EXT)/.test(o)?(o=this.parseTag_(o),shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS.includes(o.name)?r.push(o):"EXT-X-MAP"==o.name?a=o:i.push(o)):shaka.hls.Utils.isComment(o)||(o=o.trim(),o=shaka.hls.Utils.constructAbsoluteUri(e,o),a&&i.push(a),i=new shaka.hls.Segment(o,i),n.push(i),i=[]);return n},shaka.hls.ManifestTextParser.prototype.parseTag_=function(e){return shaka.hls.ManifestTextParser.parseTag(this.globalId_++,e)},shaka.hls.ManifestTextParser.parseTag=function(e,t){var r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.INVALID_HLS_TAG,t);var n,i=r[1],a=r[2];if(r=[],a){var o,s=(a=new shaka.util.TextParser(a)).readRegex(/^([^,=]+)(?:,|$)/g);for(s&&(n=s[1]),s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=a.readRegex(s);)o=new shaka.hls.Attribute(o[1],o[2]||o[3]),r.push(o)}return new shaka.hls.Tag(e,i,r,n)},shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),shaka.hls.ManifestTextParser.SEGMENT_TAGS="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" "),shaka.net.DataUriPlugin=function(){},shaka.net.DataUriPlugin.parse=function(e,t,r,n){try{var i=shaka.net.DataUriPlugin.parseRaw(e);return shaka.util.AbortableOperation.completed({uri:e,originalUri:e,data:i.data,headers:{"content-type":i.contentType}})}catch(a){return shaka.util.AbortableOperation.failed(a)}},shaka.net.DataUriPlugin.parseRaw=function(e){var t=e.split(":");if(2>t.length||"data"!=t[0])throw shaka.log.error("Bad data URI, failed to parse scheme"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_DATA_URI,e);if(2>(t=t.slice(1).join(":").split(",")).length)throw shaka.log.error("Bad data URI, failed to extract encoding and MIME type"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_DATA_URI,e);var r=t[0];e=window.decodeURIComponent(t.slice(1).join(",")),t=r.split(";"),r=t[0];var n=!1;return 1<t.length&&"base64"==t[t.length-1]&&(n=!0,t.pop()),{data:n?shaka.util.Uint8ArrayUtils.fromBase64(e):shaka.util.StringUtils.toUTF8(e),contentType:r}},goog.exportSymbol("shaka.net.DataUriPlugin",shaka.net.DataUriPlugin),goog.exportProperty(shaka.net.DataUriPlugin,"parse",shaka.net.DataUriPlugin.parse),shaka.net.NetworkingEngine.registerScheme("data",shaka.net.DataUriPlugin.parse),shaka.hls.HlsParser=function(){var e=this;this.config_=this.playerInterface_=null,this.globalId_=1,this.globalVariables_=new Map,this.groupIdToStreamInfosMap_=new Map,this.variantUriSet_=new Set,this.uriToStreamInfosMap_=new Map,this.presentationTimeline_=null,this.masterPlaylistUri_="",this.manifestTextParser_=new shaka.hls.ManifestTextParser,this.updatePlaylistDelay_=0,this.updatePlaylistTimer_=new shaka.util.Timer((function(){e.onUpdate_()})),this.presentationType_=shaka.hls.HlsParser.PresentationType_.VOD,this.manifest_=null,this.maxTargetDuration_=0,this.minTargetDuration_=1/0,this.operationManager_=new shaka.util.OperationManager,this.segmentsToNotifyByStream_=[],this.groupIdToClosedCaptionsMap_=new Map,this.aesEncrypted_=!1,this.groupIdToCodecsMap_=new Map,this.playlistStartTime_=null,this.mapTagToInitSegmentRefMap_=new Map,this.discontinuityToTso_=new Map},shaka.hls.HlsParser.prototype.configure=function(e){this.config_=e},shaka.hls.HlsParser.prototype.start=function(e,t){var r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(goog.asserts.assert(i.config_,"Must call configure() before start()!"),i.playerInterface_=t,a.yield(i.requestManifest_(e),2)):3!=a.nextAddress?(r=a.yieldResult,i.masterPlaylistUri_=r.uri,goog.asserts.assert(r.data,"Response data should be non-null!"),a.yield(i.parseManifest_(r.data),3)):(0<(n=i.updatePlaylistDelay_)&&i.updatePlaylistTimer_.tickAfter(n),goog.asserts.assert(i.manifest_,"Manifest should be non-null"),a.return(i.manifest_))}))},shaka.hls.HlsParser.prototype.stop=function(){this.updatePlaylistTimer_&&(this.updatePlaylistTimer_.stop(),this.updatePlaylistTimer_=null);var e=[];return this.operationManager_&&(e.push(this.operationManager_.destroy()),this.operationManager_=null),this.config_=this.playerInterface_=null,this.variantUriSet_.clear(),this.manifest_=null,this.uriToStreamInfosMap_.clear(),this.groupIdToStreamInfosMap_.clear(),this.groupIdToCodecsMap_.clear(),this.globalVariables_.clear(),Promise.all(e)},shaka.hls.HlsParser.prototype.update=function(){var e,t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){if(1==i.nextAddress)return n.isLive_()?(e=[],n.playlistStartTime_=null,(t=Array.from(n.uriToStreamInfosMap_.values())).length?i.yield(n.updateStream_(t[0]),2):i.jumpTo(2)):i.return();for(r=1;r<t.length;r++)e.push(n.updateStream_(t[r]));return i.yield(Promise.all(e),0)}))},shaka.hls.HlsParser.prototype.updateStream_=function(e){var t,r,n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){if(1==d.nextAddress)return t=shaka.hls.HlsParser.PresentationType_,r=e.absoluteMediaPlaylistUri,d.yield(c.requestManifest_(r),2);if(3!=d.nextAddress){if(n=d.yieldResult,(i=c.manifestTextParser_.parsePlaylist(n.data,n.uri)).type!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);return a=shaka.hls.Utils.filterTagsByName(i.tags,"EXT-X-DEFINE"),o=c.parseMediaVariables_(a),s=e.stream,d.yield(c.createSegments_(e.verbatimMediaPlaylistUri,i,s.type,s.mimeType,e.mediaSequenceToStartTime,o),3)}l=d.yieldResult,s.segmentIndex.merge(l),l.length&&s.segmentIndex.evict(l[0].startTime),u=l[l.length-1],goog.asserts.assert(u,"Should have segments!"),shaka.hls.Utils.getFirstTagWithName(i.tags,"EXT-X-ENDLIST")&&(c.setPresentationType_(t.VOD),c.presentationTimeline_.setDuration(u.endTime)),d.jumpToEnd()}))},shaka.hls.HlsParser.prototype.onExpirationUpdated=function(e,t){},shaka.hls.HlsParser.prototype.parseManifest_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(y){switch(y.nextAddress){case 1:if(t=shaka.hls.Utils,goog.asserts.assert(v.masterPlaylistUri_,"Master playlist URI must be set before calling parseManifest_!"),(r=v.manifestTextParser_.parsePlaylist(e,v.masterPlaylistUri_)).type!=shaka.hls.PlaylistType.MASTER)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_MASTER_PLAYLIST_NOT_PROVIDED);return n=t.filterTagsByName(r.tags,"EXT-X-DEFINE"),v.parseMasterVariables_(n),i=t.filterTagsByName(r.tags,"EXT-X-MEDIA"),a=t.filterTagsByName(r.tags,"EXT-X-STREAM-INF"),v.parseCodecs_(a),y.yield(v.createStreamInfosFromMediaTags_(i),2);case 2:return v.parseClosedCaptions_(i),y.yield(v.createVariantsForTags_(a),3);case 3:return o=y.yieldResult,y.yield(v.parseTexts_(i),4);case 4:if(s=y.yieldResult,!v.playerInterface_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);if(v.aesEncrypted_&&0==o.length)throw shaka.log.info("No stream is created, because we don't support AES-128","encryption yet"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_AES_128_ENCRYPTION_NOT_SUPPORTED);for(u=l=1/0,c=$jscomp.makeIterator(v.uriToStreamInfosMap_.values()),d=c.next();!d.done;d=c.next())f=d.value,l=Math.min(l,f.minTimestamp),"text"!=f.stream.type&&(u=Math.min(u,f.maxTimestamp-f.minTimestamp));if(goog.asserts.assert(null==v.presentationTimeline_,"Presentation timeline created early!"),v.createPresentationTimeline_(),goog.asserts.assert(v.presentationTimeline_,"Presentation timeline not created!"),v.isLive_())v.updatePlaylistDelay_=v.minTargetDuration_,p=shaka.hls.HlsParser.PresentationType_,v.presentationType_==p.LIVE&&(h=v.presentationTimeline_.getDelay(),isNaN(v.config_.availabilityWindowOverride)||(h=v.config_.availabilityWindowOverride),v.presentationTimeline_.setSegmentAvailabilityDuration(h));else for(v.presentationTimeline_.setDuration(u),v.presentationTimeline_.offset(-l),g=$jscomp.makeIterator(v.uriToStreamInfosMap_.values()),d=g.next();!d.done;d=g.next())(m=d.value).stream.segmentIndex.offset(-l),m.stream.segmentIndex.fit(0,u);return v.manifest_={presentationTimeline:v.presentationTimeline_,variants:o,textStreams:s,offlineSessionIds:[],minBufferTime:0},v.playerInterface_.makeTextStreamsForClosedCaptions(v.manifest_),y.yield(v.playerInterface_.filter(v.manifest_),0)}}))},shaka.hls.HlsParser.prototype.parseMasterVariables_=function(e){for(var t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){var r=t.value;t=r.getAttributeValue("NAME"),r=r.getAttributeValue("VALUE"),t&&r&&(this.globalVariables_.has(t)||this.globalVariables_.set(t,r))}},shaka.hls.HlsParser.prototype.parseMediaVariables_=function(e){for(var t=new Map,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){var n=r.value;r=n.getAttributeValue("NAME");var i=n.getAttributeValue("VALUE");n=n.getAttributeValue("IMPORT"),r&&i&&t.set(r,i),n&&(r=this.globalVariables_.get(n))&&t.set(n,r)}return t},shaka.hls.HlsParser.prototype.parseCodecs_=function(e){for(var t=shaka.util.ManifestParserUtils.ContentType,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){var n=r.value,i=n.getAttributeValue("AUDIO");r=n.getAttributeValue("VIDEO");var a=n.getAttributeValue("SUBTITLES");if(n=this.getCodecsForVariantTag_(n),a){var o=this.guessCodecsSafe_(t.TEXT,n);goog.asserts.assert(null!=o,"Text codecs should be valid."),this.groupIdToCodecsMap_.set(a,o),shaka.util.ArrayUtils.remove(n,o)}i&&(a=this.guessCodecs_(t.AUDIO,n),this.groupIdToCodecsMap_.set(i,a)),r&&(i=this.guessCodecs_(t.VIDEO,n),this.groupIdToCodecsMap_.set(r,i))}},shaka.hls.HlsParser.prototype.parseTexts_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(p){if(1==p.nextAddress)return t=shaka.hls.Utils.filterTagsByType(e,"SUBTITLES"),r=t.map((function(e){var t,r;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress)return f.config_.disableText?n.return(null):(n.setCatchFinallyBlocks(2),n.yield(f.createStreamInfoFromMediaTag_(e),4));if(2!=n.nextAddress)return t=n.yieldResult,goog.asserts.assert(t,"Should always have a streamInfo for text"),n.return(t.stream);if(r=n.enterCatchBlock(),f.config_.hls.ignoreTextStreamFailures)return n.return(null);throw r}))})),p.yield(Promise.all(r),2);for(n=p.yieldResult,i=$jscomp.makeIterator(t),a=i.next();!a.done;a=i.next())if(o=a.value,s=o.getRequiredAttrValue("GROUP-ID"),(l=f.groupIdToCodecsMap_.get(s))&&(u=f.groupIdToStreamInfosMap_.get(s)))for(c=$jscomp.makeIterator(u),d=c.next();!d.done;d=c.next())d.value.stream.codecs=l;return p.return(n.filter((function(e){return e})))}))},shaka.hls.HlsParser.prototype.createStreamInfosFromMediaTags_=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(e=e.filter((function(e){var t=e.getAttributeValue("URI")||"";return"SUBTITLES"!=e.getAttributeValue("TYPE")&&""!=t}))).length?n.yield(r.createStreamInfoFromMediaTag_(e[0]),2):n.jumpTo(2):(t=e.slice(1).map((function(e){return r.createStreamInfoFromMediaTag_(e)})),n.yield(Promise.all(t),0))}))},shaka.hls.HlsParser.prototype.createVariantsForTags_=function(e){var t,r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(t=e.map((function(e){var t,r,n,a,o,s,l;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){return 1==u.nextAddress?(t=e.getAttributeValue("FRAME-RATE"),r=Number(e.getRequiredAttrValue("BANDWIDTH")),n=e.getAttributeValue("RESOLUTION"),a=$jscomp.makeIterator(n?n.split("x"):[null,null]),o=a.next().value,s=a.next().value,u.yield(i.createStreamInfosForVariantTag_(e,n,t),2)):(l=u.yieldResult)?(goog.asserts.assert(l.audio.length||l.video.length,"We should have created a stream!"),u.return(i.createVariants_(l.audio,l.video,r,o,s,t))):u.return([])}))})),a.yield(Promise.all(t),2)):(r=a.yieldResult,n=(n=r.reduce(shaka.util.Functional.collapseArrays,[])).filter((function(e){return null!=e})),a.return(n))}))},shaka.hls.HlsParser.prototype.createStreamInfosForVariantTag_=function(e,t,r){var n,i,a,o,s,l,u,c,d,f,p,h,g,m,v=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(y){if(1==y.nextAddress)return n=shaka.util.ManifestParserUtils.ContentType,i=v.getCodecsForVariantTag_(e),a=e.getAttributeValue("AUDIO"),o=e.getAttributeValue("VIDEO"),goog.asserts.assert(null==a||null==o,"Unexpected: both video and audio described by media tags!"),l=(s=a||o)&&v.groupIdToStreamInfosMap_.has(s)?v.groupIdToStreamInfosMap_.get(s):[],u={audio:a?l:[],video:o?l:[]},shaka.log.debug("Guessing stream type for",e.toString()),d=!1,f=e.getRequiredAttrValue("URI"),p=u.audio.find((function(e){return e&&e.verbatimMediaPlaylistUri==f})),h=v.guessCodecsSafe_(n.VIDEO,i),g=t||r||h,1!=i.length||g?!l.length&&1<i.length?(shaka.log.debug("Guessing multiplexed audio+video."),c=n.VIDEO,i=[i.join(",")]):u.audio.length&&p?(shaka.log.debug("Guessing audio-only."),c=n.AUDIO,d=!0):u.video.length?(shaka.log.debug("Guessing audio-only."),c=n.AUDIO):(shaka.log.debug("Guessing video-only."),c=n.VIDEO):(c=n.AUDIO,shaka.log.debug("Guessing audio-only.")),d?y.jumpTo(2):y.yield(v.createStreamInfoFromVariantTag_(e,i,c),3);if(2!=y.nextAddress&&(m=y.yieldResult),m)u[m.stream.type]=[m];else if(null===m)return shaka.log.debug("streamInfo is null"),y.return(null);return v.filterLegacyCodecs_(u),y.return(u)}))},shaka.hls.HlsParser.prototype.getCodecsForVariantTag_=function(e){var t=[];this.config_.disableVideo||t.push("avc1.42E01E"),this.config_.disableAudio||t.push("mp4a.40.2"),t=t.join(",");var r=e.getAttributeValue("CODECS",t).split(/\s*,\s*/);e=new Set,t=[];for(var n=(r=$jscomp.makeIterator(r)).next();!n.done;n=r.next()){n=n.value;var i=shaka.util.MimeUtils.getCodecBase(n);e.has(i)?shaka.log.debug("Ignoring duplicate codec"):(t.push(n),e.add(i))}return t},shaka.hls.HlsParser.prototype.getChannelsCount_=function(e){return(e=e.getAttributeValue("CHANNELS"))?(e=e.split("/")[0],parseInt(e,10)):null},shaka.hls.HlsParser.prototype.getClosedCaptions_=function(e,t){var r=shaka.util.ManifestParserUtils.ContentType,n=e.getAttributeValue("CLOSED-CAPTIONS");return t==r.VIDEO&&n&&"NONE"!=n?this.groupIdToClosedCaptionsMap_.get(n):null},shaka.hls.HlsParser.prototype.getLanguage_=function(e){var t=shaka.util.LanguageUtils;return e=e.getAttributeValue("LANGUAGE")||"und",t.normalize(e)},shaka.hls.HlsParser.prototype.getType_=function(e){return"subtitles"==(e=e.getRequiredAttrValue("TYPE").toLowerCase())&&(e=shaka.util.ManifestParserUtils.ContentType.TEXT),e},shaka.hls.HlsParser.prototype.filterLegacyCodecs_=function(e){for(var t=(e=$jscomp.makeIterator(e.audio.concat(e.video))).next();!t.done;t=e.next())if(t=t.value){var r=t.stream.codecs.split(",");r=r.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=r.join(",")}},shaka.hls.HlsParser.prototype.createVariants_=function(e,t,r,n,i,a){for(var o=shaka.util.ManifestParserUtils.ContentType,s=shaka.media.DrmEngine,l=$jscomp.makeIterator(t),u=l.next();!u.done;u=l.next())this.addVideoAttributes_(u.value.stream,n,i,a);for(n=this.config_.disableAudio,e.length&&!n||(e=[null]),n=this.config_.disableVideo,t.length&&!n||(t=[null]),n=[],i=(e=$jscomp.makeIterator(e)).next();!i.done;i=e.next())for(i=i.value,l=(a=$jscomp.makeIterator(t)).next();!l.done;l=a.next()){var c=l.value;l=i?i.stream:null,u=c?c.stream:null;var d=i?i.stream.drmInfos:null,f=c?c.stream.drmInfos:null;c=(c?c.verbatimMediaPlaylistUri:"")+" - "+(i?i.verbatimMediaPlaylistUri:""),l&&u&&!s.areDrmCompatible(d,f)?shaka.log.warning("Incompatible DRM info in HLS variant.  Skipping."):this.variantUriSet_.has(c)?shaka.log.debug("Skipping variant which only differs in text streams."):(goog.asserts.assert(!l||l.type==o.AUDIO,"Audio parameter mismatch!"),goog.asserts.assert(!u||u.type==o.VIDEO,"Video parameter mismatch!"),l={id:this.globalId_++,language:l?l.language:"und",primary:!!l&&l.primary||!!u&&u.primary,audio:l,video:u,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0},n.push(l),this.variantUriSet_.add(c))}return n},shaka.hls.HlsParser.prototype.parseClosedCaptions_=function(e){e=shaka.hls.Utils.filterTagsByType(e,"CLOSED-CAPTIONS");for(var t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){var r=t.value;goog.asserts.assert("EXT-X-MEDIA"==r.name,"Should only be called on media tags!"),t=this.getLanguage_(r);var n=r.getRequiredAttrValue("GROUP-ID");r=r.getRequiredAttrValue("INSTREAM-ID"),this.groupIdToClosedCaptionsMap_.get(n)||this.groupIdToClosedCaptionsMap_.set(n,new Map),this.groupIdToClosedCaptionsMap_.get(n).set(r,t)}},shaka.hls.HlsParser.prototype.createStreamInfoFromMediaTag_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(p){return 1==p.nextAddress?(goog.asserts.assert("EXT-X-MEDIA"==e.name,"Should only be called on media tags!"),t=e.getRequiredAttrValue("GROUP-ID"),r="",(n=f.getType_(e))!=shaka.util.ManifestParserUtils.ContentType.TEXT&&t&&f.groupIdToCodecsMap_.has(t)&&(r=f.groupIdToCodecsMap_.get(t)),i=f.variableSubstitution_(e.getRequiredAttrValue("URI"),f.globalVariables_),f.uriToStreamInfosMap_.has(i)?p.return(f.uriToStreamInfosMap_.get(i)):(a=f.getLanguage_(e),o=e.getAttributeValue("NAME"),s=e.getAttribute("DEFAULT"),l="YES"==s,u="audio"==n?f.getChannelsCount_(e):null,c=e.getAttributeValue("CHARACTERISTICS"),p.yield(f.createStreamInfo_(i,r,n,a,l,o,u,null,c),2))):(d=p.yieldResult,f.groupIdToStreamInfosMap_.has(t)?f.groupIdToStreamInfosMap_.get(t).push(d):f.groupIdToStreamInfosMap_.set(t,[d]),null==d?p.return(null):f.uriToStreamInfosMap_.has(i)?p.return(f.uriToStreamInfosMap_.get(i)):(f.uriToStreamInfosMap_.set(i,d),p.return(d)))}))},shaka.hls.HlsParser.prototype.createStreamInfoFromVariantTag_=function(e,t,r){var n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){return 1==l.nextAddress?(goog.asserts.assert("EXT-X-STREAM-INF"==e.name,"Should only be called on variant tags!"),n=s.variableSubstitution_(e.getRequiredAttrValue("URI"),s.globalVariables_),s.uriToStreamInfosMap_.has(n)?l.return(s.uriToStreamInfosMap_.get(n)):(i=s.getClosedCaptions_(e,r),a=s.guessCodecs_(r,t),l.yield(s.createStreamInfo_(n,a,r,"und",!1,null,null,i,null),2))):null==(o=l.yieldResult)?l.return(null):s.uriToStreamInfosMap_.has(n)?l.return(s.uriToStreamInfosMap_.get(n)):(s.uriToStreamInfosMap_.set(n,o),l.return(o))}))},shaka.hls.HlsParser.prototype.createStreamInfo_=function(e,t,r,n,i,a,o,s,l){var u,c,d,f,p,h,g,m,v,y,b,k,_,E,w,S,T,x,O,P,A,C,M,I,R,D,j,L,N,U,B,F,z,V,$,W,K=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(H){switch(H.nextAddress){case 1:return u=shaka.hls.Utils.constructAbsoluteUri(K.masterPlaylistUri_,e),H.yield(K.requestManifest_(u),2);case 2:if(c=H.yieldResult,u=c.uri,(d=K.manifestTextParser_.parsePlaylist(c.data,u)).type!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);if(f=[],d.segments)for(p=$jscomp.makeIterator(d.segments),h=p.next();!h.done;h=p.next())g=h.value,m=shaka.hls.Utils.filterTagsByName(g.tags,"EXT-X-KEY"),f.push.apply(f,$jscomp.arrayFromIterable(m));for(v=!1,y=[],b=new Set,k=$jscomp.makeIterator(f),_=k.next();!_.done;_=k.next())if(E=_.value,"NONE"!=(w=E.getRequiredAttrValue("METHOD"))){if(v=!0,"AES-128"==w)return shaka.log.warning("Unsupported HLS Encryption",w),K.aesEncrypted_=!0,H.return(null);if(S=E.getRequiredAttrValue("KEYFORMAT"),x=(T=shaka.hls.HlsParser.KEYFORMATS_TO_DRM_PARSERS_[S])?T(E):null){if(x.keyIds)for(O=$jscomp.makeIterator(x.keyIds),P=O.next();!P.done;P=O.next())A=P.value,b.add(A);y.push(x)}else shaka.log.warning("Unsupported HLS KEYFORMAT",S)}if(v&&!y.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_KEYFORMATS_NOT_SUPPORTED);return C=shaka.hls.Utils.filterTagsByName(d.tags,"EXT-X-DEFINE"),M=K.parseMediaVariables_(C),goog.asserts.assert(null!=d.segments,"Media playlist should have segments!"),K.determinePresentationType_(d),H.yield(K.guessMimeType_(r,t,d,M),3);case 3:return I=H.yieldResult,shaka.hls.HlsParser.RAW_FORMATS_.includes(I)&&(t=""),R=new Map,H.setCatchFinallyBlocks(4),H.yield(K.createSegments_(e,d,r,I,R,M),6);case 6:D=H.yieldResult,H.leaveTryBlock(5);break;case 4:if((j=H.enterCatchBlock()).code==shaka.util.Error.Code.HLS_INTERNAL_SKIP_STREAM)return shaka.log.alwaysWarn("Skipping unsupported HLS stream",I,e),H.return(null);throw j;case 5:if(L=D[0].startTime,N=D[D.length-1].endTime,U=new shaka.media.SegmentIndex(D),B=r==shaka.util.ManifestParserUtils.ContentType.TEXT?shaka.util.ManifestParserUtils.TextStreamKind.SUBTITLE:void 0,F=[],l)for(z=$jscomp.makeIterator(l.split(",")),V=z.next();!V.done;V=z.next())$=V.value,F.push($);return W={id:K.globalId_++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:U,mimeType:I,codecs:t,kind:B,encrypted:v,drmInfos:y,keyIds:b,language:n,label:a,type:r,primary:i,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:F,channelsCount:o,audioSamplingRate:null,closedCaptions:s},H.return({stream:W,verbatimMediaPlaylistUri:e,absoluteMediaPlaylistUri:u,minTimestamp:L,maxTimestamp:N,mediaSequenceToStartTime:R})}}))},shaka.hls.HlsParser.prototype.determinePresentationType_=function(e){var t=shaka.hls.HlsParser.PresentationType_,r=shaka.hls.Utils.getFirstTagWithName(e.tags,"EXT-X-PLAYLIST-TYPE"),n=shaka.hls.Utils.getFirstTagWithName(e.tags,"EXT-X-ENDLIST");n=r&&"VOD"==r.value||n,r=r&&"EVENT"==r.value&&!n,r=!n&&!r,n?this.setPresentationType_(t.VOD):(r?this.setPresentationType_(t.LIVE):this.setPresentationType_(t.EVENT),e=this.getRequiredTag_(e.tags,"EXT-X-TARGETDURATION"),e=Number(e.value),this.maxTargetDuration_=Math.max(e,this.maxTargetDuration_),this.minTargetDuration_=Math.min(e,this.minTargetDuration_))},shaka.hls.HlsParser.prototype.createPresentationTimeline_=function(){this.isLive_()?(this.presentationTimeline_=new shaka.media.PresentationTimeline(0,this.config_.defaultPresentationDelay||3*this.maxTargetDuration_),this.presentationTimeline_.setStatic(!1)):(this.presentationTimeline_=new shaka.media.PresentationTimeline(null,0),this.presentationTimeline_.setStatic(!0)),this.notifySegments_(),goog.asserts.assert(!this.presentationTimeline_.usingPresentationStartTime(),"We should not be using the presentation start time in HLS!")},shaka.hls.HlsParser.prototype.getInitSegmentReference_=function(e,t,r){if(!(t=shaka.hls.Utils.getFirstTagWithName(t,"EXT-X-MAP")))return null;var n=t.getRequiredAttrValue("URI");return e=[r=this.variableSubstitution_(shaka.hls.Utils.constructAbsoluteUri(e,n),r),t.getAttributeValue("BYTERANGE","")].join("-"),this.mapTagToInitSegmentRefMap_.has(e)||(t=this.createInitSegmentReference_(r,t),this.mapTagToInitSegmentRefMap_.set(e,t)),this.mapTagToInitSegmentRefMap_.get(e)},shaka.hls.HlsParser.prototype.createInitSegmentReference_=function(e,t){var r=0,n=null,i=t.getAttributeValue("BYTERANGE");return i&&(r=i.split("@"),n=Number(r[0]),n=(r=Number(r[1]))+n-1),new shaka.media.InitSegmentReference((function(){return[e]}),r,n)},shaka.hls.HlsParser.prototype.createSegmentReference_=function(e,t,r,n,i,a){var o=r.tags,s=this.variableSubstitution_(r.absoluteUri,a);r=this.getRequiredTag_(o,"EXTINF").value.split(","),r=n+Number(r[0]),a=0;var l=null;return(o=shaka.hls.Utils.getFirstTagWithName(o,"EXT-X-BYTERANGE"))&&(a=o.value.split("@"),o=Number(a[0]),a[1]?a=Number(a[1]):(goog.asserts.assert(t,"Cannot refer back to previous HLS segment!"),a=t.endByte+1),l=a+o-1),new shaka.media.SegmentReference(n,r,(function(){return[s]}),a,l,e,i,0,1/0)},shaka.hls.HlsParser.prototype.notifySegments_=function(){if(this.presentationTimeline_){for(var e=$jscomp.makeIterator(this.segmentsToNotifyByStream_),t=e.next();!t.done;t=e.next())this.presentationTimeline_.notifySegments(t.value);this.segmentsToNotifyByStream_=[]}},shaka.hls.HlsParser.prototype.createSegments_=function(e,t,r,n,i,a){var o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,_,E,w,S,T=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(x){switch(x.nextAddress){case 1:if(o=t.segments,goog.asserts.assert(o.length,"Playlist should have segments!"),l=shaka.hls.Utils.getFirstTagWithNameAsNumber(t.tags,"EXT-X-MEDIA-SEQUENCE",0),T.isLive_()&&i.has(l)){u=i.get(l),x.jumpTo(2);break}if(null!=T.playlistStartTime_){x.jumpTo(3);break}return s=T.getInitSegmentReference_(t.absoluteUri,o[0].tags,a),goog.asserts.assert(r!=shaka.util.ManifestParserUtils.ContentType.TEXT,"Should only get start time from audio or video streams"),c=T,x.yield(T.getStartTime_(e,s,n,l,!1,o[0],a),4);case 4:c.playlistStartTime_=x.yieldResult;case 3:u=T.playlistStartTime_;case 2:d=o[0].absoluteUri,shaka.log.debug("First segment",d.split("/").pop(),"starts at",u),f=shaka.hls.Utils.getFirstTagWithNameAsNumber(t.tags,"EXT-X-DISCONTINUITY-SEQUENCE"),p=T.discontinuityToTso_.get(f)||0,h=[],g=function(e){return shaka.util.Iterables.enumerate(e)},m=$jscomp.makeIterator(g(o)),v=m.next();case 5:if(v.done){x.jumpTo(7);break}if(y=v.value,b=y.i,k=y.item,_=h[h.length-1],E=0==b?u:_.endTime,w=l+b,i.set(w,E),s=T.getInitSegmentReference_(t.absoluteUri,k.tags,a),!shaka.hls.Utils.getFirstTagWithName(k.tags,"EXT-X-DISCONTINUITY")){x.jumpTo(8);break}return f++,x.yield(T.getTimestampOffset_(f,e,s,n,w,k,a,E),9);case 9:p=x.yieldResult;case 8:S=T.createSegmentReference_(s,_,k,E,p,a),h.push(S),v=m.next(),x.jumpTo(5);break;case 7:return T.segmentsToNotifyByStream_.push(h),T.notifySegments_(),x.return(h)}}))},shaka.hls.HlsParser.prototype.getTimestampOffset_=function(e,t,r,n,i,a,o,s){var l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){return 1==d.nextAddress?(l=0,c.discontinuityToTso_.has(e)?(l=c.discontinuityToTso_.get(e),d.jumpTo(2)):d.yield(c.getStartTime_(t,r,n,i,!0,a,o),3)):(2!=d.nextAddress&&(u=d.yieldResult,l=s-u,shaka.log.v1("Segment timestampOffset =",l),c.discontinuityToTso_.set(e,l)),d.return(l))}))},shaka.hls.HlsParser.prototype.fetchStartOfSegment_=function(e){var t,r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){switch(l.nextAddress){case 1:return t=shaka.net.NetworkingEngine.RequestType.SEGMENT,r=shaka.util.Networking.createSegmentRequest(e.getUris(),e.startByte,e.endByte,s.config_.retryParameters),s.config_.hls.useFullSegmentsForStartTime?l.return(s.makeNetworkRequest_(r,t)):(n=shaka.util.Networking.createSegmentRequest(e.getUris(),e.startByte,e.startByte+shaka.hls.HlsParser.START_OF_SEGMENT_SIZE_-1,s.config_.retryParameters),l.setCatchFinallyBlocks(2),l.yield(s.makeNetworkRequest_(n,t),4));case 4:return i=l.yieldResult,l.return(i);case 2:if((a=l.enterCatchBlock()).code==shaka.util.Error.Code.OPERATION_ABORTED)throw a;return shaka.log.alwaysWarn("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",n.uris[0]),l.yield(s.makeNetworkRequest_(r,t),5);case 5:return o=l.yieldResult,l.return(o)}}))},shaka.hls.HlsParser.prototype.getStartTime_=function(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(m){switch(m.nextAddress){case 1:if(s=g.createSegmentReference_(t,null,a,0,0,o),g.manifest_&&!i){if(l=g.uriToStreamInfosMap_.get(e),void 0!=(u=l.mediaSequenceToStartTime.get(n)))return shaka.log.v1("Found segment start time in previous manifest",u),m.return(u);shaka.log.debug("Unable to find segment start time in previous manifest!")}if(shaka.log.v1("Fetching segment to find start time"),r=r.toLowerCase(),shaka.hls.HlsParser.RAW_FORMATS_.includes(r))throw shaka.log.alwaysWarn("Raw formats are not yet supported.  Skipping "+r),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INTERNAL_SKIP_STREAM);if("video/webm"==r)throw shaka.log.alwaysWarn("WebM in HLS is not yet supported.  Skipping."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INTERNAL_SKIP_STREAM);if("video/mp4"!=r&&"audio/mp4"!=r){m.jumpTo(2);break}return c=[g.fetchStartOfSegment_(s)],t&&c.push(g.fetchStartOfSegment_(t)),m.yield(Promise.all(c),3);case 3:return d=m.yieldResult,f=d[0],p=d[1]||d[0],m.return(g.getStartTimeFromMp4Segment_(e,f.uri,f.data,p.data));case 2:if("video/mp2t"!=r){m.jumpTo(4);break}return m.yield(g.fetchStartOfSegment_(s),5);case 5:return h=m.yieldResult,goog.asserts.assert(h.data,"Should have a response body!"),m.return(g.getStartTimeFromTsSegment_(e,h.uri,h.data));case 4:throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME,e)}}))},shaka.hls.HlsParser.prototype.getStartTimeFromMp4Segment_=function(e,t,r,n){var i=shaka.util.Mp4Parser,a=0;if((new i).box("moov",i.children).box("trak",i.children).box("mdia",i.children).fullBox("mdhd",(function(e){goog.asserts.assert(0==e.version||1==e.version,"MDHD version can only be 0 or 1"),e.reader.skip(0==e.version?8:16),a=e.reader.readUint32(),e.parser.stop()})).parse(n,!0),!a)throw shaka.log.error("Unable to find timescale in init segment!"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME,e,t);var o=0,s=!1;if((new i).box("moof",i.children).box("traf",i.children).fullBox("tfdt",(function(e){goog.asserts.assert(0==e.version||1==e.version,"TFDT version can only be 0 or 1"),o=(0==e.version?e.reader.readUint32():e.reader.readUint64())/a,s=!0,e.parser.stop()})).parse(r,!0),!s)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME,e,t);return o},shaka.hls.HlsParser.prototype.getStartTimeFromTsSegment_=function(e,t,r){var n=new shaka.util.DataViewReader(r,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),i=function(){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME,e,t)},a=0,o=0;for(r=function(){n.seek(a+188),71!=(o=n.readUint8())&&(n.seek(a+192),o=n.readUint8()),71!=o&&(n.seek(a+204),o=n.readUint8()),71!=o&&i(),n.rewind(1)};;){a=n.getPosition(),71!=(o=n.readUint8())&&i();var s=n.readUint16();if(8191==(8191&s))r();else if(16384&s){if(0!=(s=(48&n.readUint8())>>4)&&2!=s||i(),3==s&&(s=n.readUint8(),n.skip(s)),1==n.readUint32()>>8)return n.skip(3),0!=(r=n.readUint8()>>6)&&1!=r||i(),0==(s=n.readUint8())&&i(),2==r?goog.asserts.assert(5==s,"Bad PES header?"):3==r&&goog.asserts.assert(10==s,"Bad PES header?"),(1073741824*((14&(r=n.readUint8()))>>1)+((65534&(s=n.readUint16()))<<14|(65534&n.readUint16())>>1))/shaka.hls.HlsParser.TS_TIMESCALE_;r()}else r()}},shaka.hls.HlsParser.prototype.guessCodecs_=function(e,t){if(1==t.length)return t[0];var r=this.guessCodecsSafe_(e,t);if(null!=r)return r;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_GUESS_CODECS,t)},shaka.hls.HlsParser.prototype.guessCodecsSafe_=function(e,t){for(var r=$jscomp.makeIterator(shaka.hls.HlsParser.CODEC_REGEXPS_BY_CONTENT_TYPE_[e]),n=r.next();!n.done;n=r.next()){n=n.value;for(var i=$jscomp.makeIterator(t),a=i.next();!a.done;a=i.next())if(a=a.value,n.test(a.trim()))return a.trim()}return e==shaka.util.ManifestParserUtils.ContentType.TEXT?"":null},shaka.hls.HlsParser.prototype.variableSubstitution_=function(e,t){var r=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),n=r.match(/{\$\w*}/g);if(n)for(var i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next()){var a=(i=i.value).slice(2,i.length-1),o=t.get(a);if(!o)throw shaka.log.error("A variable has been found that is not declared",a),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_VARIABLE_NOT_FOUND,a);r=r.replace(i,o)}return r},shaka.hls.HlsParser.prototype.guessMimeType_=function(e,t,r,n){var i,a,o,s,l,u,c,d,f,p,h,g=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(m){if(1==m.nextAddress)return i=shaka.hls.HlsParser,a=shaka.util.ManifestParserUtils.ContentType,o=shaka.net.NetworkingEngine.RequestType.SEGMENT,goog.asserts.assert(r.segments.length,"Playlist should have segments!"),s=g.variableSubstitution_(r.segments[0].absoluteUri,n),l=new goog.Uri(s),u=l.getPath().split(".").pop(),c=i.EXTENSION_MAP_BY_CONTENT_TYPE_[e],(d=c[u])?m.return(d):e==a.TEXT?t&&"vtt"!=t&&"wvtt"!=t?m.return("application/mp4"):m.return("text/vtt"):((f=shaka.net.NetworkingEngine.makeRequest([s],g.config_.retryParameters)).method="HEAD",m.yield(g.makeNetworkRequest_(f,o),2));if(p=m.yieldResult,!(h=p.headers["content-type"]))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_GUESS_MIME_TYPE,u);return m.return(h.split(";")[0])}))},shaka.hls.HlsParser.prototype.getRequiredTag_=function(e,t){var r=shaka.hls.Utils.getFirstTagWithName(e,t);if(!r)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_REQUIRED_TAG_MISSING,t);return r},shaka.hls.HlsParser.prototype.addVideoAttributes_=function(e,t,r,n){e&&(e.width=Number(t)||void 0,e.height=Number(r)||void 0,e.frameRate=Number(n)||void 0)},shaka.hls.HlsParser.prototype.requestManifest_=function(e){var t=shaka.net.NetworkingEngine.RequestType.MANIFEST;return e=shaka.net.NetworkingEngine.makeRequest([e],this.config_.retryParameters),this.makeNetworkRequest_(e,t)},shaka.hls.HlsParser.prototype.onUpdate_=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(shaka.log.info("Updating manifest..."),goog.asserts.assert(0<r.updatePlaylistDelay_,"We should only call |onUpdate_| when we are suppose to be updating."),r.playerInterface_?(n.setCatchFinallyBlocks(2),n.yield(r.update(),4)):n.return()):2!=n.nextAddress?(e=r.updatePlaylistDelay_,r.updatePlaylistTimer_.tickAfter(e),n.leaveTryBlock(0)):(t=n.enterCatchBlock(),r.playerInterface_?(goog.asserts.assert(t instanceof shaka.util.Error,"Should only receive a Shaka error"),t.severity=shaka.util.Error.Severity.RECOVERABLE,r.playerInterface_.onError(t),r.updatePlaylistTimer_.tickAfter(.1),void n.jumpToEnd()):n.return())}))},shaka.hls.HlsParser.prototype.isLive_=function(){return this.presentationType_!=shaka.hls.HlsParser.PresentationType_.VOD},shaka.hls.HlsParser.prototype.setPresentationType_=function(e){this.presentationType_=e,this.presentationTimeline_&&this.presentationTimeline_.setStatic(!this.isLive_()),this.isLive_()||this.updatePlaylistTimer_.stop()},shaka.hls.HlsParser.prototype.makeNetworkRequest_=function(e,t){if(!this.operationManager_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);var r=this.playerInterface_.networkingEngine.request(t,e);return this.operationManager_.manage(r),r.promise},shaka.hls.HlsParser.widevineDrmParser_=function(e){var t=e.getRequiredAttrValue("METHOD"),r=["SAMPLE-AES","SAMPLE-AES-CTR"];return r.includes(t)?(t=e.getRequiredAttrValue("URI"),t=shaka.net.DataUriPlugin.parseRaw(t),t=shaka.util.BufferUtils.toUint8(t.data),t=shaka.util.ManifestParserUtils.createDrmInfo("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=e.getAttributeValue("KEYID"))&&(e=e.toLowerCase(),goog.asserts.assert(e.startsWith("0x"),"Incorrect KEYID format!"),t.keyIds=new Set([e.substr(2)])),t):(shaka.log.error("Widevine in HLS is only supported with [",r.join(", "),"], not",t),null)},goog.exportSymbol("shaka.hls.HlsParser",shaka.hls.HlsParser),shaka.hls.HlsParser.VIDEO_CODEC_REGEXPS_=[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],shaka.hls.HlsParser.AUDIO_CODEC_REGEXPS_=[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],shaka.hls.HlsParser.TEXT_CODEC_REGEXPS_=[/^vtt$/,/^wvtt/,/^stpp/],shaka.hls.HlsParser.CODEC_REGEXPS_BY_CONTENT_TYPE_={audio:shaka.hls.HlsParser.AUDIO_CODEC_REGEXPS_,video:shaka.hls.HlsParser.VIDEO_CODEC_REGEXPS_,text:shaka.hls.HlsParser.TEXT_CODEC_REGEXPS_},shaka.hls.HlsParser.AUDIO_EXTENSIONS_TO_MIME_TYPES_={mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},shaka.hls.HlsParser.RAW_FORMATS_=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],shaka.hls.HlsParser.VIDEO_EXTENSIONS_TO_MIME_TYPES_={mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},shaka.hls.HlsParser.TEXT_EXTENSIONS_TO_MIME_TYPES_={mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"},shaka.hls.HlsParser.EXTENSION_MAP_BY_CONTENT_TYPE_={audio:shaka.hls.HlsParser.AUDIO_EXTENSIONS_TO_MIME_TYPES_,video:shaka.hls.HlsParser.VIDEO_EXTENSIONS_TO_MIME_TYPES_,text:shaka.hls.HlsParser.TEXT_EXTENSIONS_TO_MIME_TYPES_},shaka.hls.HlsParser.KEYFORMATS_TO_DRM_PARSERS_={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":shaka.hls.HlsParser.widevineDrmParser_},shaka.hls.HlsParser.PresentationType_={VOD:"VOD",EVENT:"EVENT",LIVE:"LIVE"},shaka.hls.HlsParser.TS_TIMESCALE_=9e4,shaka.hls.HlsParser.START_OF_SEGMENT_SIZE_=2048,shaka.media.ManifestParser.registerParserByExtension("m3u8",(function(){return new shaka.hls.HlsParser})),shaka.media.ManifestParser.registerParserByMime("application/x-mpegurl",(function(){return new shaka.hls.HlsParser})),shaka.media.ManifestParser.registerParserByMime("application/vnd.apple.mpegurl",(function(){return new shaka.hls.HlsParser})),shaka.net.HttpPluginUtils=function(){},shaka.net.HttpPluginUtils.makeResponse=function(e,t,r,n,i,a){if(200<=r&&299>=r&&202!=r)return{uri:i||n,originalUri:n,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=shaka.util.StringUtils.fromBytesAutoDetect(t)}catch(o){}throw shaka.log.debug("HTTP error text:",i),new shaka.util.Error(401==r||403==r?shaka.util.Error.Severity.CRITICAL:shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.BAD_HTTP_STATUS,n,r,i,e,a)},shaka.net.HttpFetchPlugin=function(){},shaka.net.HttpFetchPlugin.parse=function(e,t,r,n){var i=new shaka.net.HttpFetchPlugin.Headers_;shaka.util.MapUtils.asMap(t.headers).forEach((function(e,t){i.append(t,e)}));var a=new shaka.net.HttpFetchPlugin.AbortController_,o={canceled:!1,timedOut:!1};if(e=shaka.net.HttpFetchPlugin.request_(e,r,{body:t.body||void 0,headers:i,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,n),e=new shaka.util.AbortableOperation(e,(function(){return o.canceled=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new shaka.util.Timer((function(){o.timedOut=!0,a.abort()}));s.tickAfter(t/1e3),e.finally((function(){s.stop()}))}return e},shaka.net.HttpFetchPlugin.request_=function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p,h,g,m;return $jscomp.asyncExecutePromiseGeneratorProgram((function(v){switch(v.nextAddress){case 1:return a=shaka.net.HttpFetchPlugin.fetch_,o=shaka.net.HttpFetchPlugin.ReadableStream_,c=u=0,d=Date.now(),v.setCatchFinallyBlocks(2),v.yield(a(e,r),4);case 4:return s=v.yieldResult,f=s.clone().body.getReader(),h=(p=s.headers.get("Content-Length"))?parseInt(p,10):0,new o({start:function(e){!function t(){var r,n,a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){switch(o.nextAddress){case 1:return o.setCatchFinallyBlocks(2),o.yield(f.read(),4);case 4:r=o.yieldResult,o.leaveTryBlock(3);break;case 2:return n=o.enterCatchBlock(),shaka.log.v1("error reading from stream",n.message),o.return();case 3:r.done||(u+=r.value.byteLength),(100<(a=Date.now())-d||r.done)&&(i(a-d,u-c,h-u),c=u,d=a),r.done?(goog.asserts.assert(!r.value,'readObj should be unset when "done" is true.'),e.close()):(e.enqueue(r.value),t()),o.jumpToEnd()}}))}()}}),v.yield(s.arrayBuffer(),5);case 5:l=v.yieldResult,v.leaveTryBlock(3);break;case 2:if(g=v.enterCatchBlock(),n.canceled)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.OPERATION_ABORTED,e,t);if(n.timedOut)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.TIMEOUT,e,t);throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.HTTP_ERROR,e,g,t);case 3:return m={},s.headers.forEach((function(e,t){m[t.trim()]=e})),v.return(shaka.net.HttpPluginUtils.makeResponse(m,l,s.status,e,s.url,t))}}))},shaka.net.HttpFetchPlugin.isSupported=function(){if(!window.ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!(!window.fetch||!window.AbortController)},goog.exportSymbol("shaka.net.HttpFetchPlugin",shaka.net.HttpFetchPlugin),goog.exportProperty(shaka.net.HttpFetchPlugin,"isSupported",shaka.net.HttpFetchPlugin.isSupported),goog.exportProperty(shaka.net.HttpFetchPlugin,"parse",shaka.net.HttpFetchPlugin.parse),shaka.net.HttpFetchPlugin.fetch_=window.fetch,shaka.net.HttpFetchPlugin.AbortController_=window.AbortController,shaka.net.HttpFetchPlugin.ReadableStream_=window.ReadableStream,shaka.net.HttpFetchPlugin.Headers_=window.Headers,shaka.net.HttpFetchPlugin.isSupported()&&(shaka.net.NetworkingEngine.registerScheme("http",shaka.net.HttpFetchPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.PREFERRED),shaka.net.NetworkingEngine.registerScheme("https",shaka.net.HttpFetchPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.PREFERRED)),shaka.net.HttpXHRPlugin=function(){},shaka.net.HttpXHRPlugin.parse=function(e,t,r,n){var i=new shaka.net.HttpXHRPlugin.Xhr_,a=Date.now(),o=0,s=new Promise((function(s,l){for(var u in i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){l(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.OPERATION_ABORTED,e,r))},i.onload=function(t){t=t.target,goog.asserts.assert(t,"XHR onload has no target!");for(var n=t.getAllResponseHeaders().trim().split("\r\n"),i={},a=(n=$jscomp.makeIterator(n)).next();!a.done;a=n.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=shaka.net.HttpPluginUtils.makeResponse(i,t.response,t.status,e,t.responseURL,r);s(o)}catch(u){goog.asserts.assert(u instanceof shaka.util.Error,"Wrong error type!"),l(u)}},i.onerror=function(t){l(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.HTTP_ERROR,e,t,r))},i.ontimeout=function(t){l(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.TIMEOUT,e,r))},i.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(n(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers){var c=u.toLowerCase();i.setRequestHeader(c,t.headers[u])}i.send(t.body)}));return new shaka.util.AbortableOperation(s,(function(){return i.abort(),Promise.resolve()}))},goog.exportSymbol("shaka.net.HttpXHRPlugin",shaka.net.HttpXHRPlugin),goog.exportProperty(shaka.net.HttpXHRPlugin,"parse",shaka.net.HttpXHRPlugin.parse),shaka.net.HttpXHRPlugin.Xhr_=window.XMLHttpRequest,shaka.net.NetworkingEngine.registerScheme("http",shaka.net.HttpXHRPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.FALLBACK),shaka.net.NetworkingEngine.registerScheme("https",shaka.net.HttpXHRPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.FALLBACK),shaka.offline={},shaka.offline.DownloadProgressEstimator=function(){this.actualDownloaded_=this.estimatedDownloaded_=this.estimatedTotal_=0,this.pending_=new Map,this.nextId_=0},shaka.offline.DownloadProgressEstimator.prototype.open=function(e){this.estimatedTotal_+=e;var t=this.nextId_;return this.nextId_++,this.pending_.set(t,e),t},shaka.offline.DownloadProgressEstimator.prototype.close=function(e,t){if(this.pending_.has(e)){var r=this.pending_.get(e);this.pending_.delete(e),this.estimatedDownloaded_+=r,this.actualDownloaded_+=t}},shaka.offline.DownloadProgressEstimator.prototype.getEstimatedProgress=function(){return 0==this.estimatedTotal_?0:this.estimatedDownloaded_/this.estimatedTotal_},shaka.offline.DownloadProgressEstimator.prototype.getTotalDownloaded=function(){return this.actualDownloaded_},shaka.offline.DownloadManager=function(e){var t=this;this.networkingEngine_=e,this.groups_=new Map,this.destroyer_=new shaka.util.Destroyer((function(){var e=Array.from(t.groups_.values());return Promise.all(e.map((function(e){return e.catch((function(){}))})))})),this.abortCallbacks_=[],this.onProgress_=function(e,t){},this.onInitData_=function(e,t){},this.estimator_=new shaka.offline.DownloadProgressEstimator},shaka.offline.DownloadManager.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.offline.DownloadManager.prototype.setCallbacks=function(e,t){this.onProgress_=e,this.onInitData_=t},shaka.offline.DownloadManager.prototype.abortAll=function(){var e=this.abortCallbacks_.map((function(e){return e()}));return this.abortCallbacks_=[],Promise.all(e)},shaka.offline.DownloadManager.prototype.queue=function(e,t,r,n,i){var a=this;this.destroyer_.ensureNotDestroyed();var o=this.estimator_.open(r);return r=(this.groups_.get(e)||Promise.resolve()).then((function(){var e,r,s,l,u,c,d;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){if(1==f.nextAddress)return f.yield(a.fetchSegment_(t),2);if(e=f.yieldResult,a.destroyer_.destroyed())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.OPERATION_ABORTED);if(n)for(l in r=shaka.util.BufferUtils.toUint8(e),(s=new shaka.util.Pssh(r)).data)u=Number(l),c=s.data[u],d=s.systemIds[u],a.onInitData_(c,d);return a.estimator_.close(o,e.byteLength),a.onProgress_(a.estimator_.getEstimatedProgress(),a.estimator_.getTotalDownloaded()),f.return(i(e))}))})),this.groups_.set(e,r),r},shaka.offline.DownloadManager.prototype.queueWork=function(e,t){this.destroyer_.ensureNotDestroyed();var r=(this.groups_.get(e)||Promise.resolve()).then((function(){return $jscomp.asyncExecutePromiseGeneratorProgram((function(e){return e.yield(t(),0)}))}));return this.groups_.set(e,r),r},shaka.offline.DownloadManager.prototype.waitToFinish=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return 1==t.nextAddress?t.yield(Promise.all(e.groups_.values()),2):t.return(e.estimator_.getTotalDownloaded())}))},shaka.offline.DownloadManager.prototype.fetchSegment_=function(e){var t,r,n,i,a=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return 1==o.nextAddress?(t=shaka.net.NetworkingEngine.RequestType.SEGMENT,r=a.networkingEngine_.request(t,e),n=function(){return r.abort()},a.abortCallbacks_.push(n),o.yield(r.promise,2)):(i=o.yieldResult,shaka.util.ArrayUtils.remove(a.abortCallbacks_,n),o.return(i.data))}))},shaka.offline.indexeddb={},shaka.offline.indexeddb.DBOperation=function(e,t){var r=this;this.transaction_=e,this.store_=e.objectStore(t),this.promise_=new shaka.util.PublicPromise,e.onabort=function(e){e.preventDefault(),r.promise_.reject()},e.onerror=function(e){e.preventDefault(),r.promise_.reject()},e.oncomplete=function(e){r.promise_.resolve()}},shaka.offline.indexeddb.DBOperation.prototype.abort=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress){try{e.transaction_.abort()}catch(r){}return t.setCatchFinallyBlocks(2),t.yield(e.promise_,4)}if(2!=t.nextAddress)return t.leaveTryBlock(0);t.enterCatchBlock(),t.jumpToEnd()}))},shaka.offline.indexeddb.DBOperation.prototype.forEachEntry=function(e){var t=this;return new Promise((function(r,n){var i=t.store_.openCursor();i.onerror=n,i.onsuccess=function(t){var n;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress)return null==i.result?(r(),t.return()):(n=i.result,t.yield(e(n.key,n.value,n),2));n.continue(),t.jumpToEnd()}))}}))},shaka.offline.indexeddb.DBOperation.prototype.store=function(){return this.store_},shaka.offline.indexeddb.DBOperation.prototype.promise=function(){return this.promise_},shaka.offline.indexeddb.DBConnection=function(e){this.connection_=e,this.pending_=[]},shaka.offline.indexeddb.DBConnection.prototype.destroy=function(){return Promise.all(this.pending_.map((function(e){return e.abort()})))},shaka.offline.indexeddb.DBConnection.prototype.startReadOnlyOperation=function(e){return this.startOperation_(e,"readonly")},shaka.offline.indexeddb.DBConnection.prototype.startReadWriteOperation=function(e){return this.startOperation_(e,"readwrite")},shaka.offline.indexeddb.DBConnection.prototype.startOperation_=function(e,t){var r=this,n=this.connection_.transaction([e],t),i=new shaka.offline.indexeddb.DBOperation(n,e);return this.pending_.push(i),i.promise().then((function(){return r.stopTracking_(i)}),(function(){return r.stopTracking_(i)})),i},shaka.offline.indexeddb.DBConnection.prototype.stopTracking_=function(e){shaka.util.ArrayUtils.remove(this.pending_,e)},shaka.offline.indexeddb.BaseStorageCell=function(e,t,r){this.connection_=new shaka.offline.indexeddb.DBConnection(e),this.segmentStore_=t,this.manifestStore_=r},shaka.offline.indexeddb.BaseStorageCell.prototype.destroy=function(){return this.connection_.destroy()},shaka.offline.indexeddb.BaseStorageCell.prototype.hasFixedKeySpace=function(){return!0},shaka.offline.indexeddb.BaseStorageCell.prototype.addSegments=function(e){return this.rejectAdd(this.segmentStore_)},shaka.offline.indexeddb.BaseStorageCell.prototype.removeSegments=function(e,t){return this.remove_(this.segmentStore_,e,t)},shaka.offline.indexeddb.BaseStorageCell.prototype.getSegments=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?n.yield(r.get_(r.segmentStore_,e),2):(t=n.yieldResult,n.return(t.map((function(e){return r.convertSegmentData(e)}))))}))},shaka.offline.indexeddb.BaseStorageCell.prototype.addManifests=function(e){return this.rejectAdd(this.manifestStore_)},shaka.offline.indexeddb.BaseStorageCell.prototype.updateManifestExpiration=function(e,t){var r=this.connection_.startReadWriteOperation(this.manifestStore_),n=r.store();return n.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,n.put(r,e))},r.promise()},shaka.offline.indexeddb.BaseStorageCell.prototype.removeManifests=function(e,t){return this.remove_(this.manifestStore_,e,t)},shaka.offline.indexeddb.BaseStorageCell.prototype.getManifests=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?n.yield(r.get_(r.manifestStore_,e),2):(t=n.yieldResult,n.return(Promise.all(t.map((function(e){return r.convertManifest(e)})))))}))},shaka.offline.indexeddb.BaseStorageCell.prototype.getAllManifests=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(e=r.connection_.startReadOnlyOperation(r.manifestStore_),t=new Map,n.yield(e.forEachEntry((function(e,n){var i;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){if(1==a.nextAddress)return a.yield(r.convertManifest(n),2);i=a.yieldResult,t.set(e,i),a.jumpToEnd()}))})),2)):3!=n.nextAddress?n.yield(e.promise(),3):n.return(t)}))},shaka.offline.indexeddb.BaseStorageCell.prototype.convertSegmentData=function(e){return e},shaka.offline.indexeddb.BaseStorageCell.prototype.convertManifest=function(e){return Promise.resolve(e)},shaka.offline.indexeddb.BaseStorageCell.prototype.rejectAdd=function(e){return Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.NEW_KEY_OPERATION_NOT_SUPPORTED,"Cannot add new value to "+e))},shaka.offline.indexeddb.BaseStorageCell.prototype.add=function(e,t){var r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){if(1==c.nextAddress){for(r=u.connection_.startReadWriteOperation(e),n=r.store(),i=[],a={},o=$jscomp.makeIterator(t),s=o.next();!s.done;a={$jscomp$loop$prop$request$508:a.$jscomp$loop$prop$request$508},s=o.next())l=s.value,a.$jscomp$loop$prop$request$508=n.add(l),a.$jscomp$loop$prop$request$508.onsuccess=function(e){return function(t){i.push(e.$jscomp$loop$prop$request$508.result)}}(a);return c.yield(r.promise(),2)}return c.return(i)}))},shaka.offline.indexeddb.BaseStorageCell.prototype.remove_=function(e,t,r){for(var n=(e=this.connection_.startReadWriteOperation(e)).store(),i={},a=(t=$jscomp.makeIterator(t)).next();!a.done;i={$jscomp$loop$prop$key$510:i.$jscomp$loop$prop$key$510},a=t.next())i.$jscomp$loop$prop$key$510=a.value,n.delete(i.$jscomp$loop$prop$key$510).onsuccess=function(e){return function(){return r(e.$jscomp$loop$prop$key$510)}}(i);return e.promise()},shaka.offline.indexeddb.BaseStorageCell.prototype.get_=function(e,t){var r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){if(1==c.nextAddress){for(r=u.connection_.startReadOnlyOperation(e),n=r.store(),i={},a=[],o={},s=$jscomp.makeIterator(t),l=s.next();!l.done;o={$jscomp$loop$prop$request$512:o.$jscomp$loop$prop$request$512,$jscomp$loop$prop$key$513:o.$jscomp$loop$prop$key$513},l=s.next())o.$jscomp$loop$prop$key$513=l.value,o.$jscomp$loop$prop$request$512=n.get(o.$jscomp$loop$prop$key$513),o.$jscomp$loop$prop$request$512.onsuccess=function(e){return function(){void 0==e.$jscomp$loop$prop$request$512.result&&a.push(e.$jscomp$loop$prop$key$513),i[e.$jscomp$loop$prop$key$513]=e.$jscomp$loop$prop$request$512.result}}(o);return c.yield(r.promise(),2)}if(a.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.KEY_NOT_FOUND,"Could not find values for "+a);return c.return(t.map((function(e){return i[e]})))}))},shaka.offline.indexeddb.EmeSessionStorageCell=function(e,t){this.connection_=new shaka.offline.indexeddb.DBConnection(e),this.store_=t},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.destroy=function(){return this.connection_.destroy()},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.getAll=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(e=r.connection_.startReadOnlyOperation(r.store_),t=[],n.yield(e.forEachEntry((function(e,r){t.push(r)})),2)):3!=n.nextAddress?n.yield(e.promise(),3):n.return(t)}))},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.add=function(e){for(var t=this.connection_.startReadWriteOperation(this.store_),r=t.store(),n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())r.add(n.value);return t.promise()},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.remove=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(t=r.connection_.startReadWriteOperation(r.store_),n.yield(t.forEachEntry((function(t,r,n){e.includes(r.sessionId)&&n.delete()})),2)):n.yield(t.promise(),0)}))},shaka.offline.StorageMuxer=function(){this.mechanisms_=new Map},shaka.offline.StorageMuxer.prototype.destroy=function(){for(var e=[],t=$jscomp.makeIterator(this.mechanisms_.values()),r=t.next();!r.done;r=t.next())e.push(r.value.destroy());return this.mechanisms_.clear(),Promise.all(e)},shaka.offline.StorageMuxer.prototype.init=function(){var e=this;shaka.offline.StorageMuxer.getRegistry_().forEach((function(t,r){var n=t();n?e.mechanisms_.set(r,n):shaka.log.info("Skipping "+r+" as it is not supported on this platform")}));for(var t=[],r=$jscomp.makeIterator(this.mechanisms_.values()),n=r.next();!n.done;n=r.next())t.push(n.value.init());return Promise.all(t)},shaka.offline.StorageMuxer.prototype.getActive=function(){var e=null;if(this.mechanisms_.forEach((function(t,r){t.getCells().forEach((function(t,n){t.hasFixedKeySpace()||e||(e={path:{mechanism:r,cell:n},cell:t})}))})),e)return e;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find a cell that supports add-operations")},shaka.offline.StorageMuxer.prototype.forEachCell=function(e){this.mechanisms_.forEach((function(t,r){t.getCells().forEach((function(t,n){e({mechanism:r,cell:n},t)}))}))},shaka.offline.StorageMuxer.prototype.getCell=function(e,t){var r=this.mechanisms_.get(e);if(!r)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find mechanism with name "+e);if(!(r=r.getCells().get(t)))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find cell with name "+t);return r},shaka.offline.StorageMuxer.prototype.forEachEmeSessionCell=function(e){this.mechanisms_.forEach((function(t,r){e(t.getEmeSessionCell())}))},shaka.offline.StorageMuxer.prototype.getEmeSessionCell=function(){var e=Array.from(this.mechanisms_.keys());if(!e.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.STORAGE_NOT_SUPPORTED,"No supported storage mechanisms found");return this.mechanisms_.get(e[0]).getEmeSessionCell()},shaka.offline.StorageMuxer.prototype.resolvePath=function(e){var t=this.mechanisms_.get(e.mechanism);return t?t.getCells().get(e.cell):null},shaka.offline.StorageMuxer.prototype.erase=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(e=Array.from(r.mechanisms_.values()),(t=0<e.length)||shaka.offline.StorageMuxer.getRegistry_().forEach((function(t,r){var n=t();n&&e.push(n)})),n.yield(Promise.all(e.map((function(e){return e.erase()}))),2)):t?n.jumpTo(0):n.yield(Promise.all(e.map((function(e){return e.destroy()}))),0)}))},shaka.offline.StorageMuxer.register=function(e,t){shaka.offline.StorageMuxer.registry_.set(e,t)},shaka.offline.StorageMuxer.unregister=function(e){shaka.offline.StorageMuxer.registry_.delete(e)},shaka.offline.StorageMuxer.support=function(){for(var e=shaka.offline.StorageMuxer.getRegistry_(),t=(e=$jscomp.makeIterator(e.values())).next();!t.done;t=e.next())if(t=(t=t.value)())return t.destroy(),!0;return!1},shaka.offline.StorageMuxer.overrideSupport=function(e){shaka.offline.StorageMuxer.override_=e},shaka.offline.StorageMuxer.clearOverride=function(){shaka.offline.StorageMuxer.override_=null},shaka.offline.StorageMuxer.getRegistry_=function(){var e=shaka.offline.StorageMuxer.override_,t=shaka.offline.StorageMuxer.registry_;return COMPILED?t:e||t},goog.exportSymbol("shaka.offline.StorageMuxer",shaka.offline.StorageMuxer),goog.exportProperty(shaka.offline.StorageMuxer,"unregister",shaka.offline.StorageMuxer.unregister),goog.exportProperty(shaka.offline.StorageMuxer,"register",shaka.offline.StorageMuxer.register),goog.exportProperty(shaka.offline.StorageMuxer.prototype,"destroy",shaka.offline.StorageMuxer.prototype.destroy),shaka.offline.StorageMuxer.override_=null,shaka.offline.StorageMuxer.registry_=new Map,shaka.offline.indexeddb.V1StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V1StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V1StorageCell.prototype.updateManifestExpiration=function(e,t){var r,n,i,a=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return r=a.connection_.startReadWriteOperation(a.manifestStore_),n=r.store(),i=new shaka.util.PublicPromise,n.get(e).onsuccess=function(r){(r=r.target.result)?(goog.asserts.assert(r.key==e,"With in-line keys, the keys should match"),r.expiration=t,n.put(r),i.resolve()):i.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.KEY_NOT_FOUND,"Could not find values for "+e))},o.yield(Promise.all([r.promise(),i]),0)}))},shaka.offline.indexeddb.V1StorageCell.prototype.convertManifest=function(e){var t,r,n,i,a,o,s;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){if(1==l.nextAddress){for(t=shaka.offline.indexeddb.V1StorageCell,r=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,a=i-e.periods[n].startTime,o=t.convertPeriod_(e.periods[n],a),r.push(o);return l.yield(shaka.util.PeriodCombiner.combineDbStreams(r),2)}return s=l.yieldResult,l.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:s,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})}))},shaka.offline.indexeddb.V1StorageCell.convertPeriod_=function(e,t){var r=shaka.offline.indexeddb.V1StorageCell;r.fillMissingVariants_(e);for(var n=$jscomp.makeIterator(e.streams),i=n.next();!i.done;i=n.next())goog.asserts.assert(i.value.variantIds,"After filling in missing variants, each stream should have variant ids");return e.streams.map((function(n){return r.convertStream_(n,e.startTime,t)}))},shaka.offline.indexeddb.V1StorageCell.convertStream_=function(e,t,r){var n=shaka.offline.indexeddb.V1StorageCell,i=e.initSegmentUri?n.getKeyFromSegmentUri_(e.initSegmentUri):null,a=t+e.presentationTimeOffset,o=t+r;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){return n.convertSegment_(e,i,t,o,a)})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}},shaka.offline.indexeddb.V1StorageCell.convertSegment_=function(e,t,r,n,i){var a=shaka.offline.indexeddb.V1StorageCell.getKeyFromSegmentUri_(e.uri);return{startTime:r+e.startTime,endTime:r+e.endTime,dataKey:a,initSegmentKey:t,appendWindowStart:r,appendWindowEnd:n,timestampOffset:i}},shaka.offline.indexeddb.V1StorageCell.prototype.convertSegmentData=function(e){return{data:e.data}},shaka.offline.indexeddb.V1StorageCell.getKeyFromSegmentUri_=function(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,"Could not parse uri "+e)},shaka.offline.indexeddb.V1StorageCell.fillMissingVariants_=function(e){var t=shaka.util.ManifestParserUtils.ContentType.AUDIO,r=shaka.util.ManifestParserUtils.ContentType.VIDEO,n=e.streams.filter((function(e){return e.contentType==t}));if(e=e.streams.filter((function(e){return e.contentType==r})),!n.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){goog.asserts.assert(n.every((function(e){return!e.variantIds})),"Some audio streams have variant ids and some do not."),goog.asserts.assert(e.every((function(e){return!e.variantIds})),"Some video streams have variant ids and some do not.");for(var i=$jscomp.makeIterator(n),a=i.next();!a.done;a=i.next())a.value.variantIds=[];for(a=(i=$jscomp.makeIterator(e)).next();!a.done;a=i.next())a.value.variantIds=[];if(i=0,e.length&&!n.length){shaka.log.debug("Found video-only content. Creating variants for video.");var o=i++,s=$jscomp.makeIterator(e);for(a=s.next();!a.done;a=s.next())a.value.variantIds.push(o)}if(!e.length&&n.length)for(shaka.log.debug("Found audio-only content. Creating variants for audio."),o=i++,a=(s=$jscomp.makeIterator(n)).next();!a.done;a=s.next())a.value.variantIds.push(o);if(e.length&&n.length)for(shaka.log.debug("Found audio-video content. Creating variants."),a=(n=$jscomp.makeIterator(n)).next();!a.done;a=n.next())for(a=a.value,s=(o=$jscomp.makeIterator(e)).next();!s.done;s=o.next()){s=s.value;var l=i++;a.variantIds.push(l),s.variantIds.push(l)}}},shaka.offline.indexeddb.V2StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V2StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V2StorageCell.prototype.convertManifest=function(e){var t,r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){if(1==l.nextAddress){for(t=[],r=0;r<e.periods.length;++r)n=r==e.periods.length-1?e.duration:e.periods[r+1].startTime,i=n-e.periods[r].startTime,a=s.convertPeriod_(e.periods[r],i),t.push(a);return l.yield(shaka.util.PeriodCombiner.combineDbStreams(t),2)}return o=l.yieldResult,l.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o})}))},shaka.offline.indexeddb.V2StorageCell.prototype.convertPeriod_=function(e,t){for(var r=[],n=$jscomp.makeIterator(e.streams),i=n.next();!i.done;i=n.next())0!=(i=i.value).variantIds.length&&r.push(this.convertStream_(i,e.startTime,e.startTime+t));return r},shaka.offline.indexeddb.V2StorageCell.prototype.convertStream_=function(e,t,r){var n=this;return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(i){return n.convertSegment_(i,e.initSegmentKey,t,r,e.presentationTimeOffset)})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}},shaka.offline.indexeddb.V2StorageCell.prototype.convertSegment_=function(e,t,r,n,i){return{startTime:r+e.startTime,endTime:r+e.endTime,initSegmentKey:t,appendWindowStart:r,appendWindowEnd:n,timestampOffset:r-i,dataKey:e.dataKey}},shaka.offline.indexeddb.V5StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V5StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V5StorageCell.prototype.hasFixedKeySpace=function(){return!1},shaka.offline.indexeddb.V5StorageCell.prototype.addSegments=function(e){return this.add(this.segmentStore_,e)},shaka.offline.indexeddb.V5StorageCell.prototype.addManifests=function(e){return this.add(this.manifestStore_,e)},shaka.offline.indexeddb.V5StorageCell.prototype.convertManifest=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},shaka.offline.indexeddb.StorageMechanism=function(){this.sessions_=this.v5_=this.v3_=this.v2_=this.v1_=this.db_=null},shaka.offline.indexeddb.StorageMechanism.prototype.init=function(){var e=this,t=shaka.offline.indexeddb.StorageMechanism.DB_NAME,r=shaka.offline.indexeddb.StorageMechanism.VERSION,n=new shaka.util.PublicPromise,i=window.indexedDB.open(t,r);return i.onsuccess=function(t){t=i.result,e.db_=t,e.v1_=shaka.offline.indexeddb.StorageMechanism.createV1_(t),e.v2_=shaka.offline.indexeddb.StorageMechanism.createV2_(t),e.v3_=shaka.offline.indexeddb.StorageMechanism.createV3_(t),e.v5_=shaka.offline.indexeddb.StorageMechanism.createV5_(t),e.sessions_=shaka.offline.indexeddb.StorageMechanism.createEmeSessionCell_(t),n.resolve()},i.onupgradeneeded=function(t){e.createStores_(i.result)},i.onerror=function(e){n.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.INDEXED_DB_ERROR,i.error)),e.preventDefault()},n},shaka.offline.indexeddb.StorageMechanism.prototype.destroy=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){switch(t.nextAddress){case 1:if(!e.v1_){t.jumpTo(2);break}return t.yield(e.v1_.destroy(),2);case 2:if(!e.v2_){t.jumpTo(4);break}return t.yield(e.v2_.destroy(),4);case 4:if(!e.v3_){t.jumpTo(6);break}return t.yield(e.v3_.destroy(),6);case 6:if(!e.v5_){t.jumpTo(8);break}return t.yield(e.v5_.destroy(),8);case 8:if(!e.sessions_){t.jumpTo(10);break}return t.yield(e.sessions_.destroy(),10);case 10:e.db_&&e.db_.close(),t.jumpToEnd()}}))},shaka.offline.indexeddb.StorageMechanism.prototype.getCells=function(){var e=new Map;return this.v1_&&e.set("v1",this.v1_),this.v2_&&e.set("v2",this.v2_),this.v3_&&e.set("v3",this.v3_),this.v5_&&e.set("v5",this.v5_),e},shaka.offline.indexeddb.StorageMechanism.prototype.getEmeSessionCell=function(){return goog.asserts.assert(this.sessions_,"Cannot be destroyed."),this.sessions_},shaka.offline.indexeddb.StorageMechanism.prototype.erase=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){switch(t.nextAddress){case 1:if(!e.v1_){t.jumpTo(2);break}return t.yield(e.v1_.destroy(),2);case 2:if(!e.v2_){t.jumpTo(4);break}return t.yield(e.v2_.destroy(),4);case 4:if(!e.v3_){t.jumpTo(6);break}return t.yield(e.v3_.destroy(),6);case 6:if(!e.v5_){t.jumpTo(8);break}return t.yield(e.v5_.destroy(),8);case 8:return e.db_&&e.db_.close(),t.yield(shaka.offline.indexeddb.StorageMechanism.deleteAll_(),10);case 10:return e.db_=null,e.v1_=null,e.v2_=null,e.v3_=null,e.v5_=null,t.yield(e.init(),0)}}))},shaka.offline.indexeddb.StorageMechanism.createV1_=function(e){var t=shaka.offline.indexeddb.StorageMechanism,r=t.V1_SEGMENT_STORE;t=t.V1_MANIFEST_STORE;var n=e.objectStoreNames;return n.contains(t)&&n.contains(r)?(shaka.log.debug("Mounting v1 idb storage cell"),new shaka.offline.indexeddb.V1StorageCell(e,r,t)):null},shaka.offline.indexeddb.StorageMechanism.createV2_=function(e){var t=shaka.offline.indexeddb.StorageMechanism,r=t.V2_SEGMENT_STORE;t=t.V2_MANIFEST_STORE;var n=e.objectStoreNames;return n.contains(t)&&n.contains(r)?(shaka.log.debug("Mounting v2 idb storage cell"),new shaka.offline.indexeddb.V2StorageCell(e,r,t)):null},shaka.offline.indexeddb.StorageMechanism.createV3_=function(e){var t=shaka.offline.indexeddb.StorageMechanism,r=t.V3_SEGMENT_STORE;t=t.V3_MANIFEST_STORE;var n=e.objectStoreNames;return n.contains(t)&&n.contains(r)?(shaka.log.debug("Mounting v3 idb storage cell"),new shaka.offline.indexeddb.V2StorageCell(e,r,t)):null},shaka.offline.indexeddb.StorageMechanism.createV5_=function(e){var t=shaka.offline.indexeddb.StorageMechanism,r=t.V5_SEGMENT_STORE;t=t.V5_MANIFEST_STORE;var n=e.objectStoreNames;return n.contains(t)&&n.contains(r)?(shaka.log.debug("Mounting v5 idb storage cell"),new shaka.offline.indexeddb.V5StorageCell(e,r,t)):null},shaka.offline.indexeddb.StorageMechanism.createEmeSessionCell_=function(e){var t=shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE;return e.objectStoreNames.contains(t)?(shaka.log.debug("Mounting session ID idb storage cell"),new shaka.offline.indexeddb.EmeSessionStorageCell(e,t)):null},shaka.offline.indexeddb.StorageMechanism.prototype.createStores_=function(e){for(var t=$jscomp.makeIterator([shaka.offline.indexeddb.StorageMechanism.V5_SEGMENT_STORE,shaka.offline.indexeddb.StorageMechanism.V5_MANIFEST_STORE,shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE]),r=t.next();!r.done;r=t.next())r=r.value,e.objectStoreNames.contains(r)||e.createObjectStore(r,{autoIncrement:!0})},shaka.offline.indexeddb.StorageMechanism.deleteAll_=function(){var e=shaka.offline.indexeddb.StorageMechanism.DB_NAME,t=new shaka.util.PublicPromise,r=window.indexedDB.deleteDatabase(e);return r.onblocked=function(t){shaka.log.warning("Deleting",e,"is being blocked")},r.onsuccess=function(e){t.resolve()},r.onerror=function(e){t.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.INDEXED_DB_ERROR,r.error)),e.preventDefault()},t},shaka.offline.indexeddb.StorageMechanism.DB_NAME="shaka_offline_db",shaka.offline.indexeddb.StorageMechanism.VERSION=5,shaka.offline.indexeddb.StorageMechanism.V1_SEGMENT_STORE="segment",shaka.offline.indexeddb.StorageMechanism.V2_SEGMENT_STORE="segment-v2",shaka.offline.indexeddb.StorageMechanism.V3_SEGMENT_STORE="segment-v3",shaka.offline.indexeddb.StorageMechanism.V5_SEGMENT_STORE="segment-v5",shaka.offline.indexeddb.StorageMechanism.V1_MANIFEST_STORE="manifest",shaka.offline.indexeddb.StorageMechanism.V2_MANIFEST_STORE="manifest-v2",shaka.offline.indexeddb.StorageMechanism.V3_MANIFEST_STORE="manifest-v3",shaka.offline.indexeddb.StorageMechanism.V5_MANIFEST_STORE="manifest-v5",shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE="session-ids",shaka.offline.StorageMuxer.register("idb",(function(){return shaka.util.Platform.isChromecast()||!window.indexedDB?null:new shaka.offline.indexeddb.StorageMechanism})),shaka.offline.OfflineUri=function(e,t,r,n){this.type_=e,this.mechanism_=t,this.cell_=r,this.key_=n,this.asString_=["offline:",e,"/",t,"/",r,"/",n].join("")},shaka.offline.OfflineUri.prototype.isManifest=function(){return"manifest"==this.type_},shaka.offline.OfflineUri.prototype.isSegment=function(){return"segment"==this.type_},shaka.offline.OfflineUri.prototype.mechanism=function(){return this.mechanism_},shaka.offline.OfflineUri.prototype.cell=function(){return this.cell_},shaka.offline.OfflineUri.prototype.key=function(){return this.key_},shaka.offline.OfflineUri.prototype.toString=function(){return this.asString_},shaka.offline.OfflineUri.parse=function(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var r=e[2];if(!r)return null;var n=e[3];return n&&null!=t?new shaka.offline.OfflineUri(t,r,n,Number(e[4])):null},shaka.offline.OfflineUri.manifest=function(e,t,r){return new shaka.offline.OfflineUri("manifest",e,t,r)},shaka.offline.OfflineUri.segment=function(e,t,r){return new shaka.offline.OfflineUri("segment",e,t,r)},shaka.offline.ManifestConverter=function(e,t){this.mechanism_=e,this.cell_=t},shaka.offline.ManifestConverter.prototype.fromManifestDB=function(e){var t=this,r=new shaka.media.PresentationTimeline(null,0);r.setDuration(e.duration);var n=e.streams.filter((function(e){return t.isAudio_(e)})),i=e.streams.filter((function(e){return t.isVideo_(e)}));n=this.createVariants(n,i,r),i=e.streams.filter((function(e){return t.isText_(e)})).map((function(e){return t.fromStreamDB_(e,r)}));var a=e.drmInfo?[e.drmInfo]:[];if(e.drmInfo)for(var o=$jscomp.makeIterator(n.values()),s=o.next();!s.done;s=o.next())(s=s.value).audio&&s.audio.encrypted&&(s.audio.drmInfos=a),s.video&&s.video.encrypted&&(s.video.drmInfos=a);return{presentationTimeline:r,minBufferTime:2,offlineSessionIds:e.sessionIds,variants:Array.from(n.values()),textStreams:i}},shaka.offline.ManifestConverter.prototype.createVariants=function(e,t,r){for(var n=new Set,i=$jscomp.makeIterator(e),a=i.next();!a.done;a=i.next()){var o=$jscomp.makeIterator(a.value.variantIds);for(a=o.next();!a.done;a=o.next())n.add(a.value)}for(a=(i=$jscomp.makeIterator(t)).next();!a.done;a=i.next())for(a=(o=$jscomp.makeIterator(a.value.variantIds)).next();!a.done;a=o.next())n.add(a.value);for(i=new Map,a=(n=$jscomp.makeIterator(n)).next();!a.done;a=n.next())a=a.value,i.set(a,this.createEmptyVariant_(a));for(n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())for(n=n.value,a=this.fromStreamDB_(n,r),n=(o=$jscomp.makeIterator(n.variantIds)).next();!n.done;n=o.next())n=i.get(n.value),goog.asserts.assert(!n.audio,"A variant should only have one audio stream"),n.language=a.language,n.primary=n.primary||a.primary,n.audio=a;for(e=(t=$jscomp.makeIterator(t)).next();!e.done;e=t.next())for(n=e.value,e=this.fromStreamDB_(n,r),n=(a=$jscomp.makeIterator(n.variantIds)).next();!n.done;n=a.next())n=i.get(n.value),goog.asserts.assert(!n.video,"A variant should only have one video stream"),n.primary=n.primary||e.primary,n.video=e;return i},shaka.offline.ManifestConverter.prototype.fromStreamDB_=function(e,t){var r=this,n=e.segments.map((function(e,t){return r.fromSegmentDB_(t,e)}));return t.notifySegments(n),n=new shaka.media.SegmentIndex(n),{id:e.id,originalId:e.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:n,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,kind:e.kind,encrypted:e.encrypted,drmInfos:[],keyIds:e.keyIds,language:e.language,label:e.label,type:e.type,primary:e.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:e.roles,channelsCount:e.channelsCount,audioSamplingRate:e.audioSamplingRate,closedCaptions:e.closedCaptions}},shaka.offline.ManifestConverter.prototype.fromSegmentDB_=function(e,t){var r=shaka.offline.OfflineUri.segment(this.mechanism_,this.cell_,t.dataKey),n=null!=t.initSegmentKey?this.fromInitSegmentDB_(t.initSegmentKey):null;return new shaka.media.SegmentReference(t.startTime,t.endTime,(function(){return[r.toString()]}),0,null,n,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd)},shaka.offline.ManifestConverter.prototype.fromInitSegmentDB_=function(e){var t=shaka.offline.OfflineUri.segment(this.mechanism_,this.cell_,e);return new shaka.media.InitSegmentReference((function(){return[t.toString()]}),0,null)},shaka.offline.ManifestConverter.prototype.isAudio_=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.AUDIO},shaka.offline.ManifestConverter.prototype.isVideo_=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.VIDEO},shaka.offline.ManifestConverter.prototype.isText_=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.TEXT},shaka.offline.ManifestConverter.prototype.createEmptyVariant_=function(e){return{id:e,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0}},shaka.offline.OfflineManifestParser=function(){this.uri_=null},shaka.offline.OfflineManifestParser.prototype.configure=function(e){},shaka.offline.OfflineManifestParser.prototype.start=function(e,t){var r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){switch(c.nextAddress){case 1:if(r=shaka.offline.OfflineUri.parse(e),u.uri_=r,null==r||!r.isManifest())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,e);return n=new shaka.offline.StorageMuxer,c.setFinallyBlock(2),c.yield(n.init(),4);case 4:return c.yield(n.getCell(r.mechanism(),r.cell()),5);case 5:return i=c.yieldResult,c.yield(i.getManifests([r.key()]),6);case 6:return a=c.yieldResult,o=a[0],s=new shaka.offline.ManifestConverter(r.mechanism(),r.cell()),l=s.fromManifestDB(o),t.makeTextStreamsForClosedCaptions(l),c.return(l);case 2:return c.enterFinallyBlock(),c.yield(n.destroy(),7);case 7:c.leaveFinallyBlock(0)}}))},shaka.offline.OfflineManifestParser.prototype.stop=function(){return Promise.resolve()},shaka.offline.OfflineManifestParser.prototype.update=function(){},shaka.offline.OfflineManifestParser.prototype.onExpirationUpdated=function(e,t){var r,n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){switch(d.nextAddress){case 1:return goog.asserts.assert(c.uri_,"Should not get update event before start has been called"),r=c.uri_,n=new shaka.offline.StorageMuxer,d.setCatchFinallyBlocks(2,3),d.yield(n.init(),5);case 5:return d.yield(n.getCell(r.mechanism(),r.cell()),6);case 6:return i=d.yieldResult,d.yield(i.getManifests([r.key()]),7);case 7:if(a=d.yieldResult,o=a[0],s=o.sessionIds.includes(e),l=void 0==o.expiration||o.expiration>t,!s||!l){d.jumpTo(3);break}return shaka.log.debug("Updating expiration for stored content"),d.yield(i.updateManifestExpiration(r.key(),t),3);case 3:return d.enterFinallyBlock(),d.yield(n.destroy(),10);case 10:d.leaveFinallyBlock(0);break;case 2:u=d.enterCatchBlock(),shaka.log.error("There was an error updating",r,u),d.jumpTo(3)}}))},shaka.media.ManifestParser.registerParserByMime("application/x-offline-manifest",(function(){return new shaka.offline.OfflineManifestParser})),shaka.offline.OfflineScheme=function(){},shaka.offline.OfflineScheme.plugin=function(e,t,r,n){return(t=shaka.offline.OfflineUri.parse(e))&&t.isManifest()?shaka.offline.OfflineScheme.getManifest_(e):t&&t.isSegment()?shaka.offline.OfflineScheme.getSegment_(t.key(),t):shaka.util.AbortableOperation.failed(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,e))},shaka.offline.OfflineScheme.getManifest_=function(e){return e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},shaka.util.AbortableOperation.completed(e)},shaka.offline.OfflineScheme.getSegment_=function(e,t){goog.asserts.assert(t.isSegment(),"Only segment uri's should be given to getSegment");var r=new shaka.offline.StorageMuxer;return shaka.util.AbortableOperation.completed(void 0).chain((function(){return r.init()})).chain((function(){return r.getCell(t.mechanism(),t.cell())})).chain((function(e){return e.getSegments([t.key()])})).chain((function(e){return{uri:t,data:e[0].data,headers:{}}})).finally((function(){return r.destroy()}))},goog.exportSymbol("shaka.offline.OfflineScheme",shaka.offline.OfflineScheme),goog.exportProperty(shaka.offline.OfflineScheme,"plugin",shaka.offline.OfflineScheme.plugin),shaka.net.NetworkingEngine.registerScheme("offline",shaka.offline.OfflineScheme.plugin),shaka.offline.SessionDeleter=function(){},shaka.offline.SessionDeleter.prototype.delete=function(e,t,r){var n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){switch(d.nextAddress){case 1:n=shaka.offline.SessionDeleter,i=[],a=$jscomp.makeIterator(n.createBuckets_(r)),o=a.next();case 2:if(o.done){d.jumpTo(4);break}return s=o.value,l=c.doDelete_(e,t,s),d.yield(l,5);case 5:u=d.yieldResult,i=i.concat(u),o=a.next(),d.jumpTo(2);break;case 4:return d.return(i)}}))},shaka.offline.SessionDeleter.prototype.doDelete_=function(e,t,r){var n,i,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:return n=new shaka.media.DrmEngine({netEngine:t,onError:function(){},onKeyStatus:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),s.setCatchFinallyBlocks(2),n.configure(e),s.yield(n.initForRemoval(r.info.keySystem,r.info.licenseUri,r.info.serverCertificate,r.info.audioCapabilities,r.info.videoCapabilities),4);case 4:s.leaveTryBlock(3);break;case 2:return i=s.enterCatchBlock(),shaka.log.warning("Error initializing EME",i),s.yield(n.destroy(),5);case 5:return s.return([]);case 3:return s.setCatchFinallyBlocks(6),s.yield(n.setServerCertificate(),8);case 8:s.leaveTryBlock(7);break;case 6:return a=s.enterCatchBlock(),shaka.log.warning("Error setting server certificate",a),s.yield(n.destroy(),9);case 9:return s.return([]);case 7:return o=[],s.yield(Promise.all(r.sessionIds.map((function(e){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(r.setCatchFinallyBlocks(2),r.yield(n.removeSession(e),4)):2!=r.nextAddress?(o.push(e),r.leaveTryBlock(0)):(t=r.enterCatchBlock(),shaka.log.warning("Error deleting offline session",t),void r.jumpToEnd())}))}))),10);case 10:return s.yield(n.destroy(),11);case 11:return s.return(o)}}))},shaka.offline.SessionDeleter.createBuckets_=function(e){for(var t=shaka.offline.SessionDeleter,r=[],n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next()){n=n.value;for(var i=!1,a=$jscomp.makeIterator(r),o=a.next();!o.done;o=a.next())if(o=o.value,t.isCompatible_(o.info,n)){o.sessionIds.push(n.sessionId),i=!0;break}i||r.push({info:n,sessionIds:[n.sessionId]})}return r},shaka.offline.SessionDeleter.isCompatible_=function(e,t){var r=shaka.util.ArrayUtils,n=function(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType};return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&r.hasSameElements(e.audioCapabilities,t.audioCapabilities,n)&&r.hasSameElements(e.videoCapabilities,t.videoCapabilities,n)},shaka.offline.StoredContentUtils=function(){},shaka.offline.StoredContentUtils.fromManifest=function(e,t,r,n){return goog.asserts.assert(t.variants.length,"Cannot create stored content from manifest with no variants."),{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:r,expiration:1/0,tracks:t=shaka.offline.StoredContentUtils.getTracks_(t),appMetadata:n}},shaka.offline.StoredContentUtils.fromManifestDB=function(e,t){goog.asserts.assert(t.streams.length,"Cannot create stored content from manifestDB with no streams.");var r=new shaka.offline.ManifestConverter(e.mechanism(),e.cell()).fromManifestDB(t),n=t.appMetadata||{};return r=shaka.offline.StoredContentUtils.getTracks_(r),goog.asserts.assert(null!=t.expiration,"Manifest expiration must be set by now!"),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:r,appMetadata:n}},shaka.offline.StoredContentUtils.getTracks_=function(e){for(var t=shaka.util.StreamUtils,r=[],n=t.getPlayableVariants(e.variants),i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next())r.push(t.variantToTrack(i.value));for(n=(e=$jscomp.makeIterator(e.textStreams)).next();!n.done;n=e.next())r.push(t.textStreamToTrack(n.value));return r},shaka.offline.StreamBandwidthEstimator=function(){this.estimateByStreamId_={}},shaka.offline.StreamBandwidthEstimator.prototype.addVariant=function(e){var t=e.audio,r=e.video;if(t&&!r&&this.setBitrate_(t.id,t.bandwidth||e.bandwidth),!t&&r&&this.setBitrate_(r.id,r.bandwidth||e.bandwidth),t&&r){var n=t.bandwidth||shaka.offline.StreamBandwidthEstimator.DEFAULT_AUDIO_BITRATE_,i=r.bandwidth||e.bandwidth-n;0>=i&&(shaka.log.warning("Audio bit rate consumes variants bandwidth. Setting video bandwidth to match variant's bandwidth."),i=e.bandwidth),this.setBitrate_(t.id,n),this.setBitrate_(r.id,i)}},shaka.offline.StreamBandwidthEstimator.prototype.setBitrate_=function(e,t){this.estimateByStreamId_[e]=t},shaka.offline.StreamBandwidthEstimator.prototype.addText=function(e){this.estimateByStreamId_[e.id]=shaka.offline.StreamBandwidthEstimator.DEFAULT_TEXT_BITRATE_},shaka.offline.StreamBandwidthEstimator.prototype.getSegmentEstimate=function(e,t){var r=t.endTime-t.startTime;return this.getEstimate_(e)*r},shaka.offline.StreamBandwidthEstimator.prototype.getInitSegmentEstimate=function(e){return.5*this.getEstimate_(e)},shaka.offline.StreamBandwidthEstimator.prototype.getEstimate_=function(e){return null==(e=this.estimateByStreamId_[e])&&(e=0,shaka.log.error("Asking for bitrate of stream not given to the estimator")),0==e&&shaka.log.warning("Using bitrate of 0, this stream won't affect progress"),e},shaka.offline.StreamBandwidthEstimator.DEFAULT_AUDIO_BITRATE_=393216,shaka.offline.StreamBandwidthEstimator.DEFAULT_TEXT_BITRATE_=52,shaka.util.ManifestFilter=function(){},shaka.util.ManifestFilter.filterByRestrictions=function(e,t,r){e.variants=e.variants.filter((function(e){return shaka.util.StreamUtils.meetsRestrictions(e,t,r)}))},shaka.util.ManifestFilter.filterByMediaSourceSupport=function(e){var t=shaka.media.MediaSourceEngine;e.variants=e.variants.filter((function(e){var r=!0;return e.audio&&(r=r&&t.isStreamSupported(e.audio)),e.video&&(r=r&&t.isStreamSupported(e.video)),r}))},shaka.util.ManifestFilter.filterByDrmSupport=function(e,t){e.variants=e.variants.filter((function(e){return t.supportsVariant(e)}))},shaka.offline.Storage=function(e){var t=this;if(e&&e.constructor!=shaka.Player)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.LOCAL_PLAYER_INSTANCE_REQUIRED);this.networkingEngine_=this.config_=null,e?(this.config_=e.getSharedConfiguration(),this.networkingEngine_=e.getNetworkingEngine(),goog.asserts.assert(this.networkingEngine_,"Storage should not be initialized with a player that had |destroy| called on it.")):(this.config_=shaka.util.PlayerConfiguration.createDefault(),this.networkingEngine_=new shaka.net.NetworkingEngine),this.segmentsFromStore_=[],this.openOperations_=[],this.openDownloadManagers_=[],this.initSegmentDbKeyCache_=new Map,this.initSegmentDbKeyCache_.set(null,Promise.resolve(null)),this.segmentDbKeyCache_=new Map;var r=!e;this.destroyer_=new shaka.util.Destroyer((function(){var e,n,i,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:return s.yield(Promise.all(t.openDownloadManagers_.map((function(e){return e.abortAll()}))),2);case 2:for(e=function(){},n=[],i=$jscomp.makeIterator(t.openOperations_),a=i.next();!a.done;a=i.next())o=a.value,n.push(o.then(e,e));return s.yield(Promise.all(n),3);case 3:if(!r){s.jumpTo(4);break}return s.yield(t.networkingEngine_.destroy(),4);case 4:t.config_=null,t.networkingEngine_=null,s.jumpToEnd()}}))}))},shaka.offline.Storage.support=function(){return!!shaka.util.Platform.supportsMediaSource()&&shaka.offline.StorageMuxer.support()},shaka.offline.Storage.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.offline.Storage.prototype.configure=function(e,t){return goog.asserts.assert("object"==typeof e||2==arguments.length,"String configs should have values!"),2==arguments.length&&"string"==typeof e&&(e=shaka.util.ConfigUtils.convertToConfigObject(e,t)),goog.asserts.assert("object"==typeof e,"Should be an object!"),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(shaka.Deprecate.deprecateFeature(4,"manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),goog.asserts.assert(this.config_,"Cannot reconfigure stroage after calling destroy."),shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,e)},shaka.offline.Storage.prototype.getConfiguration=function(){goog.asserts.assert(this.config_,"Config must not be null!");var e=shaka.util.PlayerConfiguration.createDefault();return shaka.util.PlayerConfiguration.mergeConfigObjects(e,this.config_,shaka.util.PlayerConfiguration.createDefault()),e},shaka.offline.Storage.prototype.getNetworkingEngine=function(){return this.networkingEngine_},shaka.offline.Storage.prototype.store=function(e,t,r){var n=this;goog.asserts.assert(this.networkingEngine_,"Cannot call |downloadManifest_| after calling |destroy|.");var i=this.getConfiguration(),a=new shaka.offline.DownloadManager(this.networkingEngine_);this.openDownloadManagers_.push(a),t=this.store_(e,t||{},(function(){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(goog.asserts.assert(n.networkingEngine_,"Should not call |store| after |destroy|"),a.yield(shaka.media.ManifestParser.getFactory(e,n.networkingEngine_,i.manifest.retryParameters,r||null),2)):(t=a.yieldResult,a.return(shaka.util.Functional.callFactory(t)))}))}),i,a);var o=new shaka.util.AbortableOperation(t,(function(){return a.abortAll()}));return o.finally((function(){shaka.util.ArrayUtils.remove(n.openDownloadManagers_,a)})),o.then=function(e){return shaka.Deprecate.deprecateFeature(4,"shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),o.promise.then(e)},this.startAbortableOperation_(o)},shaka.offline.Storage.prototype.getStoreInProgress=function(){return shaka.Deprecate.deprecateFeature(4,"shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},shaka.offline.Storage.prototype.store_=function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p,h,g=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(m){switch(m.nextAddress){case 1:return g.requireSupport_(),o=a=null,s=new shaka.offline.StorageMuxer,u=l=null,m.setCatchFinallyBlocks(2,3),m.yield(r(),5);case 5:return a=m.yieldResult,m.yield(g.parseManifest(e,a,n),6);case 6:if(c=m.yieldResult,g.ensureNotDestroyed_(),!(!c.presentationTimeline.isLive()&&!c.presentationTimeline.isInProgress()))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.CANNOT_STORE_LIVE_OFFLINE,e);return m.yield(g.createDrmEngine(c,(function(e){u=u||e}),n),7);case 7:if(o=m.yieldResult,g.ensureNotDestroyed_(),u)throw u;return m.yield(g.filterManifest_(c,o,n),8);case 8:return m.yield(s.init(),9);case 9:return g.ensureNotDestroyed_(),m.yield(s.getActive(),10);case 10:return l=m.yieldResult,g.ensureNotDestroyed_(),goog.asserts.assert(o,"drmEngine should be non-null here."),m.yield(g.downloadManifest_(l.cell,o,c,e,t,n,i),11);case 11:if(d=m.yieldResult,g.ensureNotDestroyed_(),u)throw u;return m.yield(l.cell.addManifests([d]),12);case 12:return f=m.yieldResult,g.ensureNotDestroyed_(),p=shaka.offline.OfflineUri.manifest(l.path.mechanism,l.path.cell,f[0]),m.return(shaka.offline.StoredContentUtils.fromManifestDB(p,d));case 3:return m.enterFinallyBlock(),g.segmentsFromStore_=[],m.yield(s.destroy(),13);case 13:if(!a){m.jumpTo(14);break}return m.yield(a.stop(),14);case 14:if(!o){m.jumpTo(16);break}return m.yield(o.destroy(),16);case 16:m.leaveFinallyBlock(0);break;case 2:if(h=m.enterCatchBlock(),!l){m.jumpTo(18);break}return m.yield(l.cell.removeSegments(g.segmentsFromStore_,(function(){})),18);case 18:throw u||h}}))},shaka.offline.Storage.prototype.filterManifest_=function(e,t,r){var n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y;return $jscomp.asyncExecutePromiseGeneratorProgram((function(b){if(1==b.nextAddress){for(n=shaka.util.StreamUtils,i={width:1/0,height:1/0},shaka.util.ManifestFilter.filterByRestrictions(e,r.restrictions,i),shaka.util.ManifestFilter.filterByMediaSourceSupport(e),shaka.util.ManifestFilter.filterByDrmSupport(e,t),a=[],o=r.preferredAudioChannelCount,shaka.util.StreamUtils.chooseCodecsAndFilterManifest(e,o),s=$jscomp.makeIterator(e.variants),l=s.next();!l.done;l=s.next())u=l.value,goog.asserts.assert(n.isPlayable(u),'We should have already filtered by "is playable"'),a.push(n.variantToTrack(u));for(c=$jscomp.makeIterator(e.textStreams),d=c.next();!d.done;d=c.next())f=d.value,a.push(n.textStreamToTrack(f));return b.yield(r.offline.trackSelectionCallback(a),2)}for(p=b.yieldResult,h=new Set,g=new Set,m=$jscomp.makeIterator(p),v=m.next();!v.done;v=m.next())"variant"==(y=v.value).type&&h.add(y.id),"text"==y.type&&g.add(y.id);e.variants=e.variants.filter((function(e){return h.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return g.has(e.id)})),shaka.offline.Storage.validateManifest_(e),b.jumpToEnd()}))},shaka.offline.Storage.prototype.downloadManifest_=function(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g,m,v,y,b=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(k){switch(k.nextAddress){case 1:return s=shaka.offline.StoredContentUtils.fromManifest(n,r,0,i),l=a.offline.progressCallback,u=function(e,t){s.size=t,l(s,e)},c=function(e,r){p&&a.offline.usePersistentLicense&&h==r&&t.newInitData("cenc",e)},o.setCallbacks(u,c),d=r.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})),f=r.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))})),h=null,(p=d&&!f)&&(g=t.getDrmInfo(),h=shaka.offline.Storage.defaultSystemIds_.get(g.keySystem)),k.setFinallyBlock(2),v=m=b.createOfflineManifest_(o,e,t,r,n,i,a),k.yield(o.waitToFinish(),4);case 4:if(v.size=k.yieldResult,m.expiration=t.getExpiration(),y=t.getSessionIds(),m.sessionIds=a.offline.usePersistentLicense?y:[],d&&a.offline.usePersistentLicense&&!y.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.NO_INIT_DATA_FOR_OFFLINE);return k.return(m);case 2:return k.enterFinallyBlock(),k.yield(o.destroy(),5);case 5:k.leaveFinallyBlock(0)}}))},shaka.offline.Storage.prototype.remove=function(e){return this.startOperation_(this.remove_(e))},shaka.offline.Storage.prototype.remove_=function(e){var t,r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){switch(l.nextAddress){case 1:if(s.requireSupport_(),null==(t=shaka.offline.OfflineUri.parse(e))||!t.isManifest())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,e);return r=t,n=new shaka.offline.StorageMuxer,l.setFinallyBlock(2),l.yield(n.init(),4);case 4:return l.yield(n.getCell(r.mechanism(),r.cell()),5);case 5:return i=l.yieldResult,l.yield(i.getManifests([r.key()]),6);case 6:return a=l.yieldResult,o=a[0],l.yield(Promise.all([s.removeFromDRM_(r,o,n),s.removeFromStorage_(i,r,o)]),2);case 2:return l.enterFinallyBlock(),l.yield(n.destroy(),8);case 8:l.leaveFinallyBlock(0)}}))},shaka.offline.Storage.getCapabilities_=function(e,t){for(var r=shaka.util.MimeUtils,n=[],i=$jscomp.makeIterator(e.streams),a=i.next();!a.done;a=i.next())a=a.value,t&&"video"==a.type?n.push({contentType:r.getFullType(a.mimeType,a.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=a.type||n.push({contentType:r.getFullType(a.mimeType,a.codecs),robustness:e.drmInfo.audioRobustness});return n},shaka.offline.Storage.prototype.removeFromDRM_=function(e,t,r){var n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(e){return goog.asserts.assert(n.networkingEngine_,"Cannot be destroyed"),e.yield(shaka.offline.Storage.deleteLicenseFor_(n.networkingEngine_,n.config_.drm,r,t),0)}))},shaka.offline.Storage.prototype.removeFromStorage_=function(e,t,r){var n=this,i=shaka.offline.Storage.getAllSegmentIds_(r),a=i.length+1,o=0,s=shaka.offline.StoredContentUtils.fromManifestDB(t,r);return r=function(e){o+=1,n.config_.offline.progressCallback(s,o/a)},Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])},shaka.offline.Storage.prototype.removeEmeSessions=function(){return this.startOperation_(this.removeEmeSessions_())},shaka.offline.Storage.prototype.removeEmeSessions_=function(){var e,t,r,n,i,a,o,s,l,u,c,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){switch(f.nextAddress){case 1:return d.requireSupport_(),goog.asserts.assert(d.networkingEngine_,"Cannot be destroyed"),e=d.networkingEngine_,t=d.config_.drm,r=new shaka.offline.StorageMuxer,n=new shaka.offline.SessionDeleter,i=!1,f.setFinallyBlock(2),f.yield(r.init(),4);case 4:a=[],r.forEachEmeSessionCell((function(e){return a.push(e)})),o=$jscomp.makeIterator(a),s=o.next();case 5:if(s.done){f.jumpTo(2);break}return l=s.value,f.yield(l.getAll(),8);case 8:return u=f.yieldResult,f.yield(n.delete(t,e,u),9);case 9:return c=f.yieldResult,f.yield(l.remove(c),10);case 10:c.length!=u.length&&(i=!0),s=o.next(),f.jumpTo(5);break;case 2:return f.enterFinallyBlock(),f.yield(r.destroy(),11);case 11:f.leaveFinallyBlock(3);break;case 3:return f.return(!i)}}))},shaka.offline.Storage.prototype.list=function(){return this.startOperation_(this.list_())},shaka.offline.Storage.prototype.list_=function(){var e,t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){switch(i.nextAddress){case 1:return n.requireSupport_(),e=[],t=new shaka.offline.StorageMuxer,i.setFinallyBlock(2),i.yield(t.init(),4);case 4:return r=Promise.resolve(),t.forEachCell((function(t,n){r=r.then((function(){return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.yield(n.getAllManifests(),2);r.yieldResult.forEach((function(r,n){var i=shaka.offline.OfflineUri.manifest(t.mechanism,t.cell,n);i=shaka.offline.StoredContentUtils.fromManifestDB(i,r),e.push(i)})),r.jumpToEnd()}))}))})),i.yield(r,2);case 2:return i.enterFinallyBlock(),i.yield(t.destroy(),6);case 6:i.leaveFinallyBlock(3);break;case 3:return i.return(e)}}))},shaka.offline.Storage.prototype.parseManifest=function(e,t,r){var n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){if(1==u.nextAddress)return n=null,i=l.networkingEngine_,goog.asserts.assert(i,"Should be initialized!"),a={networkingEngine:i,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(e){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){n=e}},t.configure(r.manifest),l.ensureNotDestroyed_(),u.yield(t.start(e,a),2);if(3!=u.nextAddress)return o=u.yieldResult,l.ensureNotDestroyed_(),s=shaka.offline.Storage.getAllStreamsFromManifest_(o),u.yield(Promise.all(shaka.util.Iterables.map(s,(function(e){return e.createSegmentIndex()}))),3);if(l.ensureNotDestroyed_(),n)throw n;return u.return(o)}))},shaka.offline.Storage.prototype.createDrmEngine=function(e,t,r){var n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){switch(a.nextAddress){case 1:return goog.asserts.assert(i.networkingEngine_,"Cannot call |createDrmEngine| after |destroy|"),(n=new shaka.media.DrmEngine({netEngine:i.networkingEngine_,onError:t,onKeyStatus:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(r.drm),a.yield(n.initForStorage(e.variants,r.offline.usePersistentLicense),2);case 2:return a.yield(n.setServerCertificate(),3);case 3:return a.yield(n.createOrLoad(),4);case 4:return a.return(n)}}))},shaka.offline.Storage.prototype.createOfflineManifest_=function(e,t,r,n,i,a,o){var s=new shaka.offline.StreamBandwidthEstimator;return e=this.createStreams_(e,t,s,r,n,o),o=o.offline.usePersistentLicense,(t=r.getDrmInfo())&&o&&(t.initData=[]),{creationTime:Date.now(),originalManifestUri:i,duration:n.presentationTimeline.getDuration(),size:0,expiration:r.getExpiration(),streams:e,sessionIds:o?r.getSessionIds():[],drmInfo:t,appMetadata:a}},shaka.offline.Storage.prototype.createStreams_=function(e,t,r,n,i,a){for(var o=(n=$jscomp.makeIterator(i.variants)).next();!o.done;o=n.next())r.addVariant(o.value);for(o=(n=$jscomp.makeIterator(i.textStreams)).next();!o.done;o=n.next())r.addText(o.value);o=shaka.offline.Storage.getAllStreamsFromManifest_(i),n=new Map;for(var s=(o=$jscomp.makeIterator(o)).next();!s.done;s=o.next()){s=s.value;var l=this.createStream_(e,t,r,i,s,a);n.set(s.id,l)}for(o=(e=$jscomp.makeIterator(i.variants)).next();!o.done;o=e.next())(t=o.value).audio&&n.get(t.audio.id).variantIds.push(t.id),t.video&&n.get(t.video.id).variantIds.push(t.id);return Array.from(n.values())},shaka.offline.Storage.prototype.createStream_=function(e,t,r,n,i,a){var o=this,s={id:i.id,originalId:i.originalId,primary:i.primary,type:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,kind:i.kind,language:i.language,label:i.label,width:i.width||null,height:i.height||null,encrypted:i.encrypted,keyIds:i.keyIds,segments:[],variantIds:[],roles:i.roles,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,closedCaptions:i.closedCaptions},l=i.id;return n=n.presentationTimeline.getSegmentAvailabilityStart(),shaka.offline.Storage.forEachSegment_(i,n,(function(n){var u=o.getInitSegmentDbKey_(e,l,i.id,t,r,n.initSegmentReference,a),c=o.getSegmentDbKey_(e,l,i.id,t,r,n,a);e.queueWork(l,(function(){var e,t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?r.yield(u,2):3!=r.nextAddress?(e=r.yieldResult,r.yield(c,3)):(t=r.yieldResult,s.segments.push({initSegmentKey:e,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,dataKey:t}),void r.jumpToEnd())}))}))})),s},shaka.offline.Storage.prototype.getInitSegmentDbKey_=function(e,t,r,n,i,a,o){var s=this;return this.initSegmentDbKeyCache_.has(a)?this.initSegmentDbKeyCache_.get(a):(o=shaka.util.Networking.createSegmentRequest(a.getUris(),a.startByte,a.endByte,o.streaming.retryParameters),e=e.queue(t,o,i.getInitSegmentEstimate(r),!0,(function(e){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?r.yield(n.addSegments([{data:e}]),2):(t=r.yieldResult,s.segmentsFromStore_.push(t[0]),r.return(t[0]))}))})),this.initSegmentDbKeyCache_.set(a,e),e)},shaka.offline.Storage.prototype.getSegmentDbKey_=function(e,t,r,n,i,a,o){var s=this,l=[a.getUris()[0],a.startByte,a.endByte].join("-");return this.segmentDbKeyCache_.has(l)?this.segmentDbKeyCache_.get(l):(o=shaka.util.Networking.createSegmentRequest(a.getUris(),a.startByte,a.endByte,o.streaming.retryParameters),e=e.queue(t,o,i.getSegmentEstimate(r,a),!1,(function(e){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?r.yield(n.addSegments([{data:e}]),2):(t=r.yieldResult,s.segmentsFromStore_.push(t[0]),r.return(t[0]))}))})),this.segmentDbKeyCache_.set(l,e),e)},shaka.offline.Storage.forEachSegment_=function(e,t,r){if(null!=(t=e.segmentIndex.find(t)))for(var n=e.segmentIndex.get(t);n;)r(n),n=e.segmentIndex.get(++t)},shaka.offline.Storage.prototype.ensureNotDestroyed_=function(){if(this.destroyer_.destroyed())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.OPERATION_ABORTED)},shaka.offline.Storage.prototype.requireSupport_=function(){if(!shaka.offline.Storage.support())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.STORAGE_NOT_SUPPORTED)},shaka.offline.Storage.prototype.startOperation_=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(t.openOperations_.push(e),r.setFinallyBlock(2),r.yield(e,4)):2!=r.nextAddress?r.return(r.yieldResult):(r.enterFinallyBlock(),shaka.util.ArrayUtils.remove(t.openOperations_,e),r.leaveFinallyBlock(0))}))},shaka.offline.Storage.prototype.startAbortableOperation_=function(e){var t=this,r=e.promise;return this.openOperations_.push(r),e.finally((function(){shaka.util.ArrayUtils.remove(t.openOperations_,r)}))},shaka.offline.Storage.getAllSegmentIds_=function(e){for(var t=[],r=(e=$jscomp.makeIterator(e.streams)).next();!r.done;r=e.next())for(var n=(r=$jscomp.makeIterator(r.value.segments)).next();!n.done;n=r.next())null!=(n=n.value).initSegmentKey&&t.push(n.initSegmentKey),t.push(n.dataKey);return t},shaka.offline.Storage.deleteAll=function(){var e;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return 1==t.nextAddress?(e=new shaka.offline.StorageMuxer,t.setFinallyBlock(2),t.yield(e.erase(),2)):5!=t.nextAddress?(t.enterFinallyBlock(),t.yield(e.destroy(),5)):t.leaveFinallyBlock(0)}))},shaka.offline.Storage.deleteLicenseFor_=function(e,t,r,n){var i,a,o,s;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){return 1==l.nextAddress?n.drmInfo?(i=r.getEmeSessionCell(),a=n.sessionIds.map((function(e){return{sessionId:e,keySystem:n.drmInfo.keySystem,licenseUri:n.drmInfo.licenseServerUri,serverCertificate:n.drmInfo.serverCertificate,audioCapabilities:shaka.offline.Storage.getCapabilities_(n,!1),videoCapabilities:shaka.offline.Storage.getCapabilities_(n,!0)}})),o=new shaka.offline.SessionDeleter,l.yield(o.delete(t,e,a),2)):l.return():3!=l.nextAddress?(s=l.yieldResult,l.yield(i.remove(s),3)):l.yield(i.add(a.filter((function(e){return!s.includes(e.sessionId)}))),0)}))},shaka.offline.Storage.getAllStreamsFromManifest_=function(e){for(var t=new Set,r=$jscomp.makeIterator(e.textStreams),n=r.next();!n.done;n=r.next())t.add(n.value);for(r=(e=$jscomp.makeIterator(e.variants)).next();!r.done;r=e.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video);return t},shaka.offline.Storage.validateManifest_=function(e){var t=new Set(e.variants.map((function(e){return e.video}))),r=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams,1<t.size&&shaka.log.warning("Multiple video tracks selected to be stored");for(var n=(t=$jscomp.makeIterator(r)).next();!n.done;n=t.next()){n=n.value;for(var i=$jscomp.makeIterator(r),a=i.next();!a.done;a=i.next())n!=(a=a.value)&&n.language==a.language&&shaka.log.warning("Similar audio tracks were selected to be stored",n.id,a.id)}for(t=(r=$jscomp.makeIterator(e)).next();!t.done;t=r.next())for(t=t.value,i=(n=$jscomp.makeIterator(e)).next();!i.done;i=n.next())t!=(i=i.value)&&t.language==i.language&&shaka.log.warning("Similar text tracks were selected to be stored",t.id,i.id)},goog.exportSymbol("shaka.offline.Storage",shaka.offline.Storage),goog.exportProperty(shaka.offline.Storage,"deleteAll",shaka.offline.Storage.deleteAll),goog.exportProperty(shaka.offline.Storage.prototype,"list",shaka.offline.Storage.prototype.list),goog.exportProperty(shaka.offline.Storage.prototype,"removeEmeSessions",shaka.offline.Storage.prototype.removeEmeSessions),goog.exportProperty(shaka.offline.Storage.prototype,"remove",shaka.offline.Storage.prototype.remove),goog.exportProperty(shaka.offline.Storage.prototype,"getStoreInProgress",shaka.offline.Storage.prototype.getStoreInProgress),goog.exportProperty(shaka.offline.Storage.prototype,"store",shaka.offline.Storage.prototype.store),goog.exportProperty(shaka.offline.Storage.prototype,"getNetworkingEngine",shaka.offline.Storage.prototype.getNetworkingEngine),goog.exportProperty(shaka.offline.Storage.prototype,"getConfiguration",shaka.offline.Storage.prototype.getConfiguration),goog.exportProperty(shaka.offline.Storage.prototype,"configure",shaka.offline.Storage.prototype.configure),goog.exportProperty(shaka.offline.Storage.prototype,"destroy",shaka.offline.Storage.prototype.destroy),goog.exportProperty(shaka.offline.Storage,"support",shaka.offline.Storage.support),shaka.offline.Storage.defaultSystemIds_=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb"),shaka.Player.registerSupportPlugin("offline",shaka.offline.Storage.support),shaka.polyfill=function(){},shaka.polyfill.installAll=function(){for(var e=$jscomp.makeIterator(shaka.polyfill.polyfills_),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(r){shaka.log.alwaysWarn("Error installing polyfill!",r)}}},shaka.polyfill.register=function(e,t){for(var r={priority:t||0,callback:e},n=$jscomp.makeIterator(shaka.util.Iterables.enumerate(shaka.polyfill.polyfills_)),i=n.next();!i.done;i=n.next()){var a=(i=i.value).i;if(i.item.priority<r.priority)return void shaka.polyfill.polyfills_.splice(a,0,r)}shaka.polyfill.polyfills_.push(r)},goog.exportSymbol("shaka.polyfill",shaka.polyfill),goog.exportProperty(shaka.polyfill,"register",shaka.polyfill.register),goog.exportProperty(shaka.polyfill,"installAll",shaka.polyfill.installAll),shaka.polyfill.polyfills_=[],shaka.polyfill.EncryptionScheme=function(){},shaka.polyfill.EncryptionScheme.install=function(){EncryptionSchemePolyfills.install()},shaka.polyfill.register(shaka.polyfill.EncryptionScheme.install,-1),shaka.polyfill.Fullscreen=function(){},shaka.polyfill.Fullscreen.install=function(){if(window.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),e=shaka.polyfill.Fullscreen.proxyEvent_,document.addEventListener("webkitfullscreenchange",e),document.addEventListener("webkitfullscreenerror",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("mozfullscreenerror",e),document.addEventListener("MSFullscreenChange",e),document.addEventListener("MSFullscreenError",e)}},shaka.polyfill.Fullscreen.proxyEvent_=function(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var r=new Event(t,e);else(r=document.createEvent("Event")).initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(r)},shaka.polyfill.register(shaka.polyfill.Fullscreen.install),shaka.polyfill.InputEvent=function(){},shaka.polyfill.InputEvent.install=function(){shaka.log.debug("InputEvent.install"),shaka.util.Platform.isIE()&&!HTMLInputElement.prototype.originalAddEventListener&&(shaka.log.info("Patching input event support on IE."),HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=shaka.polyfill.InputEvent.addEventListener_)},shaka.polyfill.InputEvent.addEventListener_=function(e,t,r){if("input"==e)switch(this.type){case"range":e="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,e,t,r)},shaka.polyfill.register(shaka.polyfill.InputEvent.install),shaka.polyfill.Languages=function(){},shaka.polyfill.Languages.install=function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})},shaka.polyfill.register(shaka.polyfill.Languages.install),shaka.polyfill.MathRound=function(){},shaka.polyfill.MathRound.install=function(){shaka.log.debug("mathRound.install");var e=shaka.polyfill.MathRound.MAX_ACCURATE_INPUT_+1;if(Math.round(e)!=e){shaka.log.debug("polyfill Math.round");var t=Math.round;Math.round=function(e){var r=e;return e<=shaka.polyfill.MathRound.MAX_ACCURATE_INPUT_&&(r=t(e)),r}}},shaka.polyfill.MathRound.MAX_ACCURATE_INPUT_=4503599627370496,shaka.polyfill.register(shaka.polyfill.MathRound.install),shaka.polyfill.MediaSource=function(){},shaka.polyfill.MediaSource.install=function(){shaka.log.debug("MediaSource.install");var e=shaka.util.Platform.safariVersion();window.MediaSource?window.cast&&cast.__platform__&&cast.__platform__.canDisplayType?(shaka.log.info("Patching Chromecast MSE bugs."),shaka.polyfill.MediaSource.patchCastIsTypeSupported_()):e?(shaka.polyfill.MediaSource.rejectTsContent_(),12>=e?(shaka.log.info("Patching Safari 11 & 12 MSE bugs."),shaka.polyfill.MediaSource.stubAbort_(),shaka.polyfill.MediaSource.patchRemovalRange_()):(shaka.log.info("Patching Safari 13 MSE bugs."),shaka.polyfill.MediaSource.stubAbort_())):shaka.util.Platform.isTizen2()||shaka.util.Platform.isTizen3()||shaka.util.Platform.isTizen4()?shaka.polyfill.MediaSource.rejectCodec_("opus"):shaka.log.info("Using native MSE as-is."):shaka.log.info("No MSE implementation available.")},shaka.polyfill.MediaSource.stubAbort_=function(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var r=[],n=0;n<arguments.length;++n)r[n-0]=arguments[n];return(r=e.apply(this,r)).abort=function(){},r}},shaka.polyfill.MediaSource.patchRemovalRange_=function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,r){return e.call(this,t,r-.001)}},shaka.polyfill.MediaSource.rejectTsContent_=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}},shaka.polyfill.MediaSource.rejectCodec_=function(e){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(r){return shaka.util.MimeUtils.getCodecBase(r)!=e&&t(r)}},shaka.polyfill.MediaSource.patchCastIsTypeSupported_=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var r=t.split(/ *; */);return r.shift(),r.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}},shaka.polyfill.register(shaka.polyfill.MediaSource.install),shaka.polyfill.PatchedMediaKeysApple=function(){},shaka.polyfill.PatchedMediaKeysApple.install=function(){if(window.HTMLVideoElement&&window.WebKitMediaKeys){shaka.log.info("Using Apple-prefixed EME");var e=shaka.polyfill.PatchedMediaKeysApple;delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e.setMediaKeys,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess,navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess}},shaka.polyfill.PatchedMediaKeysApple.requestMediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysApple.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess');var r=shaka.polyfill.PatchedMediaKeysApple;try{var n=new r.MediaKeySystemAccess(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},shaka.polyfill.PatchedMediaKeysApple.setMediaKeys=function(e){shaka.log.debug("PatchedMediaKeysApple.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys');var t=shaka.polyfill.PatchedMediaKeysApple,r=this.mediaKeys;return r&&r!=e&&(goog.asserts.assert(r instanceof t.MediaKeys,"non-polyfill instance of oldMediaKeys"),r.setMedia(null)),delete this.mediaKeys,(this.mediaKeys=e)?(goog.asserts.assert(e instanceof t.MediaKeys,"non-polyfill instance of newMediaKeys"),e.setMedia(this)):Promise.resolve()},shaka.polyfill.PatchedMediaKeysApple.onWebkitNeedKey_=function(e){if(shaka.log.debug("PatchedMediaKeysApple.onWebkitNeedKey_",e),goog.asserts.assert(this.mediaKeys instanceof shaka.polyfill.PatchedMediaKeysApple.MediaKeys,"non-polyfill instance of newMediaKeys"),goog.asserts.assert(null!=e.initData,"missing init data!"),e=shaka.util.BufferUtils.toUint8(e.initData),shaka.util.BufferUtils.toDataView(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=shaka.util.StringUtils.fromUTF16(e.subarray(4),!0),e=shaka.util.StringUtils.toUTF8(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=shaka.util.BufferUtils.toArrayBuffer(e),this.dispatchEvent(t)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess=function(e,t){if(shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess"),this.keySystem=e,e.startsWith("com.apple.fps"))for(var r=$jscomp.makeIterator(t),n=r.next();!n.done;n=r.next())if(n=this.checkConfig_(n.value))return void(this.configuration_=n);throw(r=Error("Unsupported keySystem")).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.checkConfig_=function(e){if("required"==e.persistentState)return null;var t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label},r=!1,n=!1;if(e.audioCapabilities)for(var i=$jscomp.makeIterator(e.audioCapabilities),a=i.next();!a.done;a=i.next())if((a=a.value).contentType){r=!0;var o=a.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,o)&&(t.audioCapabilities.push(a),n=!0)}if(e.videoCapabilities)for(a=(e=$jscomp.makeIterator(e.videoCapabilities)).next();!a.done;a=e.next())(i=a.value).contentType&&(r=!0,a=i.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,a)&&(t.videoCapabilities.push(i),n=!0));return r||(n=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),n?t:null},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.createMediaKeys=function(){shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var e=new shaka.polyfill.PatchedMediaKeysApple.MediaKeys(this.keySystem);return Promise.resolve(e)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.getConfiguration=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration"),this.configuration_},shaka.polyfill.PatchedMediaKeysApple.MediaKeys=function(e){shaka.log.debug("PatchedMediaKeysApple.MediaKeys"),this.nativeMediaKeys_=new WebKitMediaKeys(e),this.eventManager_=new shaka.util.EventManager},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.createSession=function(e){if(shaka.log.debug("PatchedMediaKeysApple.MediaKeys.createSession"),"temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new shaka.polyfill.PatchedMediaKeysApple.MediaKeySession(this.nativeMediaKeys_,e)},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.setServerCertificate=function(e){return shaka.log.debug("PatchedMediaKeysApple.MediaKeys.setServerCertificate"),Promise.resolve(!1)},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.setMedia=function(e){var t=this,r=shaka.polyfill.PatchedMediaKeysApple;if(this.eventManager_.removeAll(),!e)return Promise.resolve();this.eventManager_.listen(e,"webkitneedkey",r.onWebkitNeedKey_);try{return shaka.util.MediaReadyState.waitForReadyState(e,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){e.webkitSetMediaKeys(t.nativeMediaKeys_)})),Promise.resolve()}catch(n){return Promise.reject(n)}},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession=function(e,t){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession"),shaka.util.FakeEventTarget.call(this),this.nativeMediaKeySession_=null,this.nativeMediaKeys_=e,this.updatePromise_=this.generateRequestPromise_=null,this.eventManager_=new shaka.util.EventManager,this.sessionId="",this.expiration=NaN,this.closed=new shaka.util.PublicPromise,this.keyStatuses=new shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap},$jscomp.inherits(shaka.polyfill.PatchedMediaKeysApple.MediaKeySession,shaka.util.FakeEventTarget),shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.generateRequest=function(e,t){var r=this;shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.generateRequest"),this.generateRequestPromise_=new shaka.util.PublicPromise;try{var n=this.nativeMediaKeys_.createSession("video/mp4",shaka.util.BufferUtils.toUint8(t));this.nativeMediaKeySession_=n,this.sessionId=n.sessionId||"",this.eventManager_.listen(this.nativeMediaKeySession_,"webkitkeymessage",(function(e){return r.onWebkitKeyMessage_(e)})),this.eventManager_.listen(n,"webkitkeyadded",(function(e){return r.onWebkitKeyAdded_(e)})),this.eventManager_.listen(n,"webkitkeyerror",(function(e){return r.onWebkitKeyError_(e)})),this.updateKeyStatus_("status-pending")}catch(i){this.generateRequestPromise_.reject(i)}return this.generateRequestPromise_},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.load=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.load"),Promise.reject(Error("MediaKeySession.load not yet supported"))},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.update=function(e){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.update"),this.updatePromise_=new shaka.util.PublicPromise;try{this.nativeMediaKeySession_.update(shaka.util.BufferUtils.toUint8(e))}catch(t){this.updatePromise_.reject(t)}return this.updatePromise_},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.close=function(){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.close");try{this.nativeMediaKeySession_.close(),this.closed.resolve(),this.eventManager_.removeAll()}catch(e){this.closed.reject(e)}return this.closed},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.remove=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.remove"),Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyMessage_=function(e){shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyMessage_",e),goog.asserts.assert(this.generateRequestPromise_,"generateRequestPromise_ should be set before now!"),this.generateRequestPromise_&&(this.generateRequestPromise_.resolve(),this.generateRequestPromise_=null);var t=void 0==this.keyStatuses.getStatus();e=new shaka.util.FakeEvent("message",{messageType:t?"license-request":"license-renewal",message:shaka.util.BufferUtils.toArrayBuffer(e.message)}),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyAdded_=function(e){shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyAdded_",e),goog.asserts.assert(!this.generateRequestPromise_,"Key added during generate!"),goog.asserts.assert(this.updatePromise_,"updatePromise_ should be set before now!"),this.updatePromise_&&(this.updateKeyStatus_("usable"),this.updatePromise_.resolve(),this.updatePromise_=null)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyError_=function(e){if(shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyError_",e),(e=Error("EME PatchedMediaKeysApple key error")).errorCode=this.nativeMediaKeySession_.error,null!=this.generateRequestPromise_)this.generateRequestPromise_.reject(e),this.generateRequestPromise_=null;else if(null!=this.updatePromise_)this.updatePromise_.reject(e),this.updatePromise_=null;else switch(this.nativeMediaKeySession_.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:this.updateKeyStatus_("output-not-allowed");break;default:this.updateKeyStatus_("internal-error")}},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.updateKeyStatus_=function(e){this.keyStatuses.setStatus(e),e=new shaka.util.FakeEvent("keystatuseschange"),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap=function(){this.size=0,this.status_=void 0},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.setStatus=function(e){this.size=void 0==e?0:1,this.status_=e},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.getStatus=function(){return this.status_},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.forEach=function(e){this.status_&&e(this.status_,shaka.media.DrmEngine.DUMMY_KEY_ID.value())},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.get=function(e){if(this.has(e))return this.status_},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.has=function(e){var t=shaka.media.DrmEngine.DUMMY_KEY_ID.value();return!(!this.status_||!shaka.util.BufferUtils.equal(e,t))},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.entries=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.keys=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.values=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysApple.install),shaka.polyfill.PatchedMediaKeysMs=function(){},shaka.polyfill.PatchedMediaKeysMs.install=function(){if(window.HTMLVideoElement&&window.MSMediaKeys&&(!navigator.requestMediaKeySystemAccess||!MediaKeySystemAccess.prototype.getConfiguration)){shaka.log.info("Using ms-prefixed EME v20140218");var e=shaka.polyfill.PatchedMediaKeysMs;delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess,navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess,HTMLMediaElement.prototype.setMediaKeys=e.MediaKeySystemAccess.setMediaKeys}},shaka.polyfill.PatchedMediaKeysMs.requestMediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysMs.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess');var r=shaka.polyfill.PatchedMediaKeysMs;try{var n=new r.MediaKeySystemAccess(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},shaka.polyfill.PatchedMediaKeysMs.onMsNeedKey_=function(e){if(shaka.log.debug("PatchedMediaKeysMs.onMsNeedKey_",e),e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=shaka.util.BufferUtils.toArrayBuffer(shaka.util.Pssh.normaliseInitData(e.initData)),this.dispatchEvent(t)}},shaka.polyfill.PatchedMediaKeysMs.MediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysMs.MediaKeySystemAccess"),this.keySystem=e;for(var r=!1,n=$jscomp.makeIterator(t),i=n.next();!i.done;i=n.next()){var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(i=i.value).initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=$jscomp.makeIterator(i.audioCapabilities),l=s.next();!l.done;l=s.next())if((l=l.value).contentType){o=!0;var u=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.audioCapabilities.push(l),r=!0)}if(i.videoCapabilities)for(l=(s=$jscomp.makeIterator(i.videoCapabilities)).next();!l.done;l=s.next())(l=l.value).contentType&&(o=!0,u=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.videoCapabilities.push(l),r=!0));if(o||(r=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(r=!1),r)return void(this.configuration_=a)}throw(r=Error("Unsupported keySystem")).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r},shaka.polyfill.PatchedMediaKeysMs.MediaKeySystemAccess.prototype.createMediaKeys=function(){shaka.log.debug("PatchedMediaKeysMs.MediaKeySystemAccess.createMediaKeys");var e=new shaka.polyfill.PatchedMediaKeysMs.MediaKeys(this.keySystem);return Promise.resolve(e)},shaka.polyfill.PatchedMediaKeysMs.MediaKeySystemAccess.prototype.getConfiguration=function(){return shaka.log.debug("PatchedMediaKeysMs.MediaKeySystemAccess.getConfiguration"),this.configuration_},shaka.polyfill.PatchedMediaKeysMs.MediaKeySystemAccess.setMediaKeys=function(e){shaka.log.debug("PatchedMediaKeysMs.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys');var t=shaka.polyfill.PatchedMediaKeysMs,r=this.mediaKeys;return r&&r!=e&&(goog.asserts.assert(r instanceof t.MediaKeys,"non-polyfill instance of oldMediaKeys"),r.setMedia(null)),delete this.mediaKeys,(this.mediaKeys=e)?(goog.asserts.assert(e instanceof t.MediaKeys,"non-polyfill instance of newMediaKeys"),e.setMedia(this)):Promise.resolve()},shaka.polyfill.PatchedMediaKeysMs.MediaKeys=function(e){shaka.log.debug("PatchedMediaKeysMs.MediaKeys"),this.nativeMediaKeys_=new MSMediaKeys(e),this.eventManager_=new shaka.util.EventManager},shaka.polyfill.PatchedMediaKeysMs.MediaKeys.prototype.createSession=function(e){if(shaka.log.debug("PatchedMediaKeysMs.MediaKeys.createSession"),"temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new shaka.polyfill.PatchedMediaKeysMs.MediaKeySession(this.nativeMediaKeys_,e)},shaka.polyfill.PatchedMediaKeysMs.MediaKeys.prototype.setServerCertificate=function(e){return shaka.log.debug("PatchedMediaKeysMs.MediaKeys.setServerCertificate"),Promise.resolve(!1)},shaka.polyfill.PatchedMediaKeysMs.MediaKeys.prototype.setMedia=function(e){var t=this,r=shaka.polyfill.PatchedMediaKeysMs;if(this.eventManager_.removeAll(),!e)return Promise.resolve();this.eventManager_.listen(e,"msneedkey",r.onMsNeedKey_);try{return shaka.util.MediaReadyState.waitForReadyState(e,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){e.msSetMediaKeys(t.nativeMediaKeys_)})),Promise.resolve()}catch(n){return Promise.reject(n)}},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession=function(e,t){shaka.log.debug("PatchedMediaKeysMs.MediaKeySession"),shaka.util.FakeEventTarget.call(this),this.nativeMediaKeySession_=null,this.nativeMediaKeys_=e,this.updatePromise_=this.generateRequestPromise_=null,this.eventManager_=new shaka.util.EventManager,this.sessionId="",this.expiration=NaN,this.closed=new shaka.util.PublicPromise,this.keyStatuses=new shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap},$jscomp.inherits(shaka.polyfill.PatchedMediaKeysMs.MediaKeySession,shaka.util.FakeEventTarget),shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.generateRequest=function(e,t){var r=this;shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.generateRequest"),this.generateRequestPromise_=new shaka.util.PublicPromise;try{this.nativeMediaKeySession_=this.nativeMediaKeys_.createSession("video/mp4",shaka.util.BufferUtils.toUint8(t),null),this.eventManager_.listen(this.nativeMediaKeySession_,"mskeymessage",(function(e){return r.onMsKeyMessage_(e)})),this.eventManager_.listen(this.nativeMediaKeySession_,"mskeyadded",(function(e){return r.onMsKeyAdded_(e)})),this.eventManager_.listen(this.nativeMediaKeySession_,"mskeyerror",(function(e){return r.onMsKeyError_(e)})),this.updateKeyStatus_("status-pending")}catch(n){this.generateRequestPromise_.reject(n)}return this.generateRequestPromise_},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.load=function(){return shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.load"),Promise.reject(Error("MediaKeySession.load not yet supported"))},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.update=function(e){shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.update"),this.updatePromise_=new shaka.util.PublicPromise;try{this.nativeMediaKeySession_.update(shaka.util.BufferUtils.toUint8(e))}catch(t){this.updatePromise_.reject(t)}return this.updatePromise_},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.close=function(){shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.close");try{this.nativeMediaKeySession_.close(),this.closed.resolve(),this.eventManager_.removeAll()}catch(e){this.closed.reject(e)}return this.closed},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.remove=function(){return shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.remove"),Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.onMsKeyMessage_=function(e){shaka.log.debug("PatchedMediaKeysMs.onMsKeyMessage_",e),goog.asserts.assert(this.generateRequestPromise_,"generateRequestPromise_ not set in onMsKeyMessage_"),this.generateRequestPromise_&&(this.generateRequestPromise_.resolve(),this.generateRequestPromise_=null);var t=void 0==this.keyStatuses.getStatus();e=new shaka.util.FakeEvent("message",{messageType:t?"license-request":"license-renewal",message:shaka.util.BufferUtils.toArrayBuffer(e.message)}),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.onMsKeyAdded_=function(e){shaka.log.debug("PatchedMediaKeysMs.onMsKeyAdded_",e),this.generateRequestPromise_?(shaka.log.debug("Simulating completion for a PR persistent license."),goog.asserts.assert(!this.updatePromise_,"updatePromise_ and generateRequestPromise_ set in onMsKeyAdded_"),this.updateKeyStatus_("usable"),this.generateRequestPromise_.resolve(),this.generateRequestPromise_=null):(goog.asserts.assert(this.updatePromise_,"updatePromise_ not set in onMsKeyAdded_"),this.updatePromise_&&(this.updateKeyStatus_("usable"),this.updatePromise_.resolve(),this.updatePromise_=null))},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.onMsKeyError_=function(e){if(shaka.log.debug("PatchedMediaKeysMs.onMsKeyError_",e),(e=Error("EME PatchedMediaKeysMs key error")).errorCode=this.nativeMediaKeySession_.error,null!=this.generateRequestPromise_)this.generateRequestPromise_.reject(e),this.generateRequestPromise_=null;else if(null!=this.updatePromise_)this.updatePromise_.reject(e),this.updatePromise_=null;else switch(this.nativeMediaKeySession_.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:this.updateKeyStatus_("output-not-allowed");break;default:this.updateKeyStatus_("internal-error")}},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.updateKeyStatus_=function(e){this.keyStatuses.setStatus(e),e=new shaka.util.FakeEvent("keystatuseschange"),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap=function(){this.size=0,this.status_=void 0},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.setStatus=function(e){this.size=void 0==e?0:1,this.status_=e},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.getStatus=function(){return this.status_},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.forEach=function(e){this.status_&&e(this.status_,shaka.media.DrmEngine.DUMMY_KEY_ID.value())},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.get=function(e){if(this.has(e))return this.status_},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.has=function(e){var t=shaka.media.DrmEngine.DUMMY_KEY_ID.value();return!(!this.status_||!shaka.util.BufferUtils.equal(e,t))},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.entries=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.keys=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.values=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysMs.install),shaka.polyfill.PatchedMediaKeysNop=function(){},shaka.polyfill.PatchedMediaKeysNop.install=function(){if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){shaka.log.info("EME not available.");var e=shaka.polyfill.PatchedMediaKeysNop;navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e.setMediaKeys,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess}},shaka.polyfill.PatchedMediaKeysNop.requestMediaKeySystemAccess=function(e,t){return shaka.log.debug("PatchedMediaKeysNop.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess'),Promise.reject(Error("The key system specified is not supported."))},shaka.polyfill.PatchedMediaKeysNop.setMediaKeys=function(e){return shaka.log.debug("PatchedMediaKeysNop.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys'),null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))},shaka.polyfill.PatchedMediaKeysNop.MediaKeys=function(){throw new TypeError("Illegal constructor.")},shaka.polyfill.PatchedMediaKeysNop.MediaKeys.prototype.createSession=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeys.prototype.setServerCertificate=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess=function(){throw this.keySystem="",new TypeError("Illegal constructor.")},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess.prototype.getConfiguration=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess.prototype.createMediaKeys=function(){},shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysNop.install,-10),shaka.polyfill.PatchedMediaKeysWebkit=function(){},shaka.polyfill.PatchedMediaKeysWebkit.install=function(){var e=shaka.polyfill.PatchedMediaKeysWebkit;if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)shaka.log.info("Using webkit-prefixed EME v0.1b"),e.prefix_="webkit";else{if(!HTMLMediaElement.prototype.generateKeyRequest)return;shaka.log.info("Using nonprefixed EME v0.1b")}goog.asserts.assert(HTMLMediaElement.prototype[e.prefixApi_("generateKeyRequest")],"PatchedMediaKeysWebkit APIs not available!"),navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e.setMediaKeys,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess}},shaka.polyfill.PatchedMediaKeysWebkit.prefixApi_=function(e){var t=shaka.polyfill.PatchedMediaKeysWebkit.prefix_;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e},shaka.polyfill.PatchedMediaKeysWebkit.requestMediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysWebkit.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess');var r=shaka.polyfill.PatchedMediaKeysWebkit;try{var n=new r.MediaKeySystemAccess(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},shaka.polyfill.PatchedMediaKeysWebkit.setMediaKeys=function(e){shaka.log.debug("PatchedMediaKeysWebkit.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys');var t=shaka.polyfill.PatchedMediaKeysWebkit,r=this.mediaKeys;return r&&r!=e&&(goog.asserts.assert(r instanceof t.MediaKeys,"non-polyfill instance of oldMediaKeys"),r.setMedia(null)),delete this.mediaKeys,(this.mediaKeys=e)&&(goog.asserts.assert(e instanceof t.MediaKeys,"non-polyfill instance of newMediaKeys"),e.setMedia(this)),Promise.resolve()},shaka.polyfill.PatchedMediaKeysWebkit.getVideoElement_=function(){var e=document.getElementsByTagName("video");return e.length?e[0]:document.createElement("video")},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess"),this.internalKeySystem_=this.keySystem=e;var r=!1;"org.w3.clearkey"==e&&(this.internalKeySystem_="webkit-org.w3.clearkey",r=!1);for(var n=!1,i=shaka.polyfill.PatchedMediaKeysWebkit.getVideoElement_(),a=$jscomp.makeIterator(t),o=a.next();!o.done;o=a.next()){var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(o=o.value).initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var u=$jscomp.makeIterator(o.audioCapabilities),c=u.next();!c.done;c=u.next())if((c=c.value).contentType){l=!0;var d=c.contentType.split(";")[0];i.canPlayType(d,this.internalKeySystem_)&&(s.audioCapabilities.push(c),n=!0)}if(o.videoCapabilities)for(c=(u=$jscomp.makeIterator(o.videoCapabilities)).next();!c.done;c=u.next())(c=c.value).contentType&&(l=!0,i.canPlayType(c.contentType,this.internalKeySystem_)&&(s.videoCapabilities.push(c),n=!0));if(l||(n=i.canPlayType("video/mp4",this.internalKeySystem_)||i.canPlayType("video/webm",this.internalKeySystem_)),"required"==o.persistentState&&(r?(s.persistentState="required",s.sessionTypes=["persistent-license"]):n=!1),n)return void(this.configuration_=s)}throw r="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(r="None of the requested configurations were supported."),(r=Error(r)).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess.prototype.createMediaKeys=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.createMediaKeys");var e=new shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys(this.internalKeySystem_);return Promise.resolve(e)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess.prototype.getConfiguration=function(){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.getConfiguration"),this.configuration_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys=function(e){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys"),this.keySystem_=e,this.media_=null,this.eventManager_=new shaka.util.EventManager,this.newSessions_=[],this.sessionMap_=new Map},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.setMedia=function(e){var t=this;this.media_=e,this.eventManager_.removeAll();var r=shaka.polyfill.PatchedMediaKeysWebkit.prefix_;e&&(this.eventManager_.listen(e,r+"needkey",(function(e){return t.onWebkitNeedKey_(e)})),this.eventManager_.listen(e,r+"keymessage",(function(e){return t.onWebkitKeyMessage_(e)})),this.eventManager_.listen(e,r+"keyadded",(function(e){return t.onWebkitKeyAdded_(e)})),this.eventManager_.listen(e,r+"keyerror",(function(e){return t.onWebkitKeyError_(e)})))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.createSession=function(e){if(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.createSession"),"temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=shaka.polyfill.PatchedMediaKeysWebkit,r=this.media_||document.createElement("video");return r.src||(r.src="about:blank"),e=new t.MediaKeySession(r,this.keySystem_,e),this.newSessions_.push(e),e},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.setServerCertificate=function(e){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.setServerCertificate"),Promise.resolve(!1)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitNeedKey_=function(e){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitNeedKey_",e),goog.asserts.assert(this.media_,"media_ not set in onWebkitNeedKey_");var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=shaka.util.BufferUtils.toArrayBuffer(e.initData),this.media_.dispatchEvent(t)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyMessage_=function(e){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyMessage_",e);var t=this.findSession_(e.sessionId);if(t){var r=void 0==t.keyStatuses.getStatus();e=new shaka.util.FakeEvent("message",{messageType:r?"licenserequest":"licenserenewal",message:e.message}),t.generated(),t.dispatchEvent(e)}else shaka.log.error("Session not found",e.sessionId)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyAdded_=function(e){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyAdded_",e),e=this.findSession_(e.sessionId),goog.asserts.assert(e,"unable to find session in onWebkitKeyAdded_"),e&&e.ready()},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyError_=function(e){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyError_",e);var t=this.findSession_(e.sessionId);goog.asserts.assert(t,"unable to find session in onWebkitKeyError_"),t&&t.handleError(e)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.findSession_=function(e){var t=this.sessionMap_.get(e);return t?(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",t),t):(t=this.newSessions_.shift())?(t.sessionId=e,this.sessionMap_.set(e,t),shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",t),t):null},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession=function(e,t,r){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession"),shaka.util.FakeEventTarget.call(this),this.media_=e,this.initialized_=!1,this.updatePromise_=this.generatePromise_=null,this.keySystem_=t,this.type_=r,this.sessionId="",this.expiration=NaN,this.closed=new shaka.util.PublicPromise,this.keyStatuses=new shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap},$jscomp.inherits(shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession,shaka.util.FakeEventTarget),shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generated=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.generated"),this.generatePromise_&&(this.generatePromise_.resolve(),this.generatePromise_=null)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.ready=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.ready"),this.updateKeyStatus_("usable"),this.updatePromise_&&this.updatePromise_.resolve(),this.updatePromise_=null},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.handleError=function(e){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.handleError",e);var t=Error("EME v0.1b key error"),r=e.errorCode;r.systemCode=e.systemCode,t.errorCode=r,!e.sessionId&&this.generatePromise_?(45==e.systemCode&&(t.message="Unsupported session type."),this.generatePromise_.reject(t),this.generatePromise_=null):e.sessionId&&this.updatePromise_?(this.updatePromise_.reject(t),this.updatePromise_=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?this.updateKeyStatus_("output-restricted"):1==t?this.updateKeyStatus_("expired"):this.updateKeyStatus_("internal-error"))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generate_=function(e,t){var r=this,n=shaka.polyfill.PatchedMediaKeysWebkit;if(this.initialized_)return Promise.reject(Error("The session is already initialized."));this.initialized_=!0;try{if("persistent-license"==this.type_){var i=shaka.util.StringUtils;if(t)var a=shaka.util.BufferUtils.toUint8(i.toUTF8("LOAD_SESSION|"+t));else{goog.asserts.assert(e,"expecting init data");var o=i.toUTF8("PERSISTENT|");a=shaka.util.Uint8ArrayUtils.concat(o,e)}}else goog.asserts.assert("temporary"==this.type_,"expected temporary session"),goog.asserts.assert(!t,"unexpected offline session ID"),goog.asserts.assert(e,"expecting init data"),a=shaka.util.BufferUtils.toUint8(e);goog.asserts.assert(a,"init data not set!")}catch(k){return Promise.reject(k)}goog.asserts.assert(null==this.generatePromise_,"generatePromise_ should be null"),this.generatePromise_=new shaka.util.PublicPromise;var s=n.prefixApi_("generateKeyRequest");try{this.media_[s](this.keySystem_,a)}catch(k){if("InvalidStateError"!=k.name)return this.generatePromise_=null,Promise.reject(k);new shaka.util.Timer((function(){try{r.media_[s](r.keySystem_,a)}catch(e){r.generatePromise_.reject(e),r.generatePromise_=null}})).tickAfter(.01)}return this.generatePromise_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.update_=function(e,t){var r=this,n=shaka.polyfill.PatchedMediaKeysWebkit;if(this.updatePromise_)this.updatePromise_.then((function(){return r.update_(e,t)})).catch((function(){return r.update_(e,t)}));else{if(this.updatePromise_=e,"webkit-org.w3.clearkey"==this.keySystem_){var i=shaka.util.Uint8ArrayUtils,a=shaka.util.StringUtils.fromUTF8(t),o=JSON.parse(a);"oct"!=o.keys[0].kty&&(this.updatePromise_.reject(Error("Response is not a valid JSON Web Key Set.")),this.updatePromise_=null),a=i.fromBase64(o.keys[0].k),i=i.fromBase64(o.keys[0].kid)}else a=shaka.util.BufferUtils.toUint8(t),i=null;n=n.prefixApi_("addKey");try{this.media_[n](this.keySystem_,a,i,this.sessionId)}catch(s){this.updatePromise_.reject(s),this.updatePromise_=null}}},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.updateKeyStatus_=function(e){this.keyStatuses.setStatus(e),e=new shaka.util.FakeEvent("keystatuseschange"),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generateRequest=function(e,t){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.generateRequest"),this.generate_(t,null)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.load=function(e){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.load"),"persistent-license"==this.type_?this.generate_(null,e):Promise.reject(Error("Not a persistent session."))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.update=function(e){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.update",e),goog.asserts.assert(this.sessionId,"update without session ID");var t=new shaka.util.PublicPromise;return this.update_(t,e),t},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.close=function(){var e=shaka.polyfill.PatchedMediaKeysWebkit;if(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.close"),"persistent-license"!=this.type_){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;e=e.prefixApi_("cancelKeyRequest");try{this.media_[e](this.keySystem_,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.remove=function(){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.remove"),"persistent-license"!=this.type_?Promise.reject(Error("Not a persistent session.")):this.close()},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap=function(){this.size=0,this.status_=void 0},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.setStatus=function(e){this.size=void 0==e?0:1,this.status_=e},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.getStatus=function(){return this.status_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.forEach=function(e){this.status_&&e(this.status_,shaka.media.DrmEngine.DUMMY_KEY_ID.value())},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.get=function(e){if(this.has(e))return this.status_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.has=function(e){var t=shaka.media.DrmEngine.DUMMY_KEY_ID.value();return!(!this.status_||!shaka.util.BufferUtils.equal(e,t))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.entries=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.keys=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.values=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.prefix_="",shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysWebkit.install),shaka.polyfill.PiPWebkit=function(){},shaka.polyfill.PiPWebkit.install=function(){if(window.HTMLVideoElement){var e=HTMLVideoElement.prototype;if((!e.requestPictureInPicture||!document.exitPictureInPicture)&&e.webkitSupportsPresentationMode){var t=shaka.polyfill.PiPWebkit;shaka.log.debug("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=t.requestPictureInPicture_,Object.defineProperty(e,"disablePictureInPicture",{get:t.getDisablePictureInPicture_,set:t.setDisablePictureInPicture_,enumerable:!0,configurable:!0}),document.exitPictureInPicture=t.exitPictureInPicture_,document.addEventListener("webkitpresentationmodechanged",t.proxyEvent_,!0)}}},shaka.polyfill.PiPWebkit.proxyEvent_=function(e){if((e=e.target).webkitPresentationMode==shaka.polyfill.PiPWebkit.PIP_MODE_){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)},shaka.polyfill.PiPWebkit.requestPictureInPicture_=function(){var e=shaka.polyfill.PiPWebkit;return this.webkitSupportsPresentationMode(e.PIP_MODE_)?(this.webkitSetPresentationMode(e.PIP_MODE_),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))},shaka.polyfill.PiPWebkit.exitPictureInPicture_=function(){var e=shaka.polyfill.PiPWebkit,t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode(e.INLINE_MODE_),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))},shaka.polyfill.PiPWebkit.getDisablePictureInPicture_=function(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode(shaka.polyfill.PiPWebkit.PIP_MODE_)},shaka.polyfill.PiPWebkit.setDisablePictureInPicture_=function(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")},shaka.polyfill.PiPWebkit.PIP_MODE_="picture-in-picture",shaka.polyfill.PiPWebkit.INLINE_MODE_="inline",shaka.polyfill.register(shaka.polyfill.PiPWebkit.install),shaka.polyfill.VideoPlayPromise=function(){},shaka.polyfill.VideoPlayPromise.install=function(){if(shaka.log.debug("VideoPlayPromise.install"),window.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}},shaka.polyfill.register(shaka.polyfill.VideoPlayPromise.install),shaka.polyfill.VideoPlaybackQuality=function(){},shaka.polyfill.VideoPlaybackQuality.install=function(){if(window.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=shaka.polyfill.VideoPlaybackQuality.webkit_)}},shaka.polyfill.VideoPlaybackQuality.webkit_=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}},shaka.polyfill.register(shaka.polyfill.VideoPlaybackQuality.install),shaka.polyfill.VTTCue=function(){},shaka.polyfill.VTTCue.install=function(){if(window.VTTCue)shaka.log.info("Using native VTTCue.");else if(window.TextTrackCue){var e=null,t=TextTrackCue.length;3==t?(shaka.log.info("Using VTTCue polyfill from 3 argument TextTrackCue."),e=shaka.polyfill.VTTCue.from3ArgsTextTrackCue_):6==t?(shaka.log.info("Using VTTCue polyfill from 6 argument TextTrackCue."),e=shaka.polyfill.VTTCue.from6ArgsTextTrackCue_):shaka.polyfill.VTTCue.canUse3ArgsTextTrackCue_()&&(shaka.log.info("Using VTTCue polyfill from 3 argument TextTrackCue."),e=shaka.polyfill.VTTCue.from3ArgsTextTrackCue_),e?window.VTTCue=function(t,r,n){return e(t,r,n)}:shaka.log.error("No recognized signature for TextTrackCue found!")}else shaka.log.error("VTTCue not available.")},shaka.polyfill.VTTCue.from3ArgsTextTrackCue_=function(e,t,r){return new window.TextTrackCue(e,t,r)},shaka.polyfill.VTTCue.from6ArgsTextTrackCue_=function(e,t,r){return new window.TextTrackCue(e+"-"+t+"-"+r,e,t,r)},shaka.polyfill.VTTCue.canUse3ArgsTextTrackCue_=function(){try{return!!shaka.polyfill.VTTCue.from3ArgsTextTrackCue_(1,2,"")}catch(e){return!1}},shaka.polyfill.register(shaka.polyfill.VTTCue.install),shaka.text.TtmlTextParser=function(){},shaka.text.TtmlTextParser.prototype.parseInit=function(e){goog.asserts.assert(!1,"TTML does not have init segments")},shaka.text.TtmlTextParser.prototype.parseMedia=function(e,t){var r=shaka.text.TtmlTextParser,n=shaka.util.XmlUtils,i=r.parameterNs_,a=r.styleNs_,o=shaka.util.StringUtils.fromUTF8(e),s=[],l=new DOMParser,u=null;if(""==o)return s;try{u=l.parseFromString(o,"text/xml")}catch(g){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,"Failed to parse TTML.")}if(u){if(o=u.getElementsByTagName("parsererror")[0])throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,o.textContent);if(!(u=u.getElementsByTagName("tt")[0]))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,"TTML does not contain <tt> tag.");o=n.getAttributeNS(u,i,"frameRate"),l=n.getAttributeNS(u,i,"subFrameRate");var c=n.getAttributeNS(u,i,"frameRateMultiplier"),d=n.getAttributeNS(u,i,"tickRate"),f=n.getAttributeNS(u,i,"cellResolution");if(i=u.getAttribute("xml:space")||"default",a=n.getAttributeNS(u,a,"extent"),"default"!=i&&"preserve"!=i)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,"Invalid xml:space value: "+i);n="default"==i,i=new r.RateInfo_(o,l,c,d),o=r.getCellResolution_(f),l=r.getLeafNodes_(u.getElementsByTagName("metadata")[0]),c=r.getLeafNodes_(u.getElementsByTagName("styling")[0]),d=r.getLeafNodes_(u.getElementsByTagName("layout")[0]),f=[];for(var p=$jscomp.makeIterator(d),h=p.next();!h.done;h=p.next())(h=r.parseCueRegion_(h.value,c,a))&&f.push(h);for(u=r.getLeafCues_(u.getElementsByTagName("body")[0]),a=(u=$jscomp.makeIterator(u)).next();!a.done;a=u.next())(a=r.parseCue_(a.value,t.periodStart,i,l,c,d,f,n,!1,o))&&s.push(a)}return s},shaka.text.TtmlTextParser.getLeafNodes_=function(e){var t=[];if(!e)return t;for(var r=$jscomp.makeIterator(e.childNodes),n=r.next();!n.done;n=r.next())(n=n.value).nodeType==Node.ELEMENT_NODE&&"br"!==n.nodeName&&(goog.asserts.assert(n instanceof Element,"Node should be Element!"),n=shaka.text.TtmlTextParser.getLeafNodes_(n),goog.asserts.assert(0<n.length,"Only a null Element should return no leaves!"),t=t.concat(n));return t.length||t.push(e),t},shaka.text.TtmlTextParser.getLeafCues_=function(e){if(!e)return[];for(var t=[],r=(e=$jscomp.makeIterator(e.childNodes)).next();!r.done;r=e.next())(r=r.value)instanceof Element&&(r.hasAttribute("begin")?t.push(r):t=t.concat(shaka.text.TtmlTextParser.getLeafCues_(r)));return t},shaka.text.TtmlTextParser.sanitizeTextContent_=function(e,t){for(var r="",n=$jscomp.makeIterator(e.childNodes),i=n.next();!i.done;i=n.next())"br"==(i=i.value).nodeName&&e.childNodes[0]!==i?r+="\n":i.childNodes&&0<i.childNodes.length?r+=shaka.text.TtmlTextParser.sanitizeTextContent_(i,t):t?r+=i=(i=i.textContent.trim()).replace(/\s+/g," "):r+=i.textContent;return r},shaka.text.TtmlTextParser.parseCue_=function(e,t,r,n,i,a,o,s,l,u){if(l&&"br"==e.nodeName)return(e=new shaka.text.Cue(0,0,"")).spacer=!0,e;var c=/^[\s\n]*$/.test(e.textContent),d=e.nodeType==Node.ELEMENT_NODE&&!e.hasAttribute("begin")&&!e.hasAttribute("end");if(e.nodeType!=Node.ELEMENT_NODE||d&&c||d&&!l)return null;c=shaka.text.TtmlTextParser.parseTime_(e.getAttribute("begin"),r),d=shaka.text.TtmlTextParser.parseTime_(e.getAttribute("end"),r);var f=shaka.text.TtmlTextParser.parseTime_(e.getAttribute("dur"),r);if(null==d&&null!=f&&(d=c+f),!l&&(null==c||null==d))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE);if(c=l&&null==c?0:c+t,d=l&&null==d?0:d+t,f="",l=[],Array.from(e.childNodes).some((function(e){return e.nodeType==Node.TEXT_NODE&&/\S+/.test(e.textContent)})))f=shaka.text.TtmlTextParser.sanitizeTextContent_(e,s);else for(var p=$jscomp.makeIterator(e.childNodes),h=p.next();!h.done;h=p.next())(h=shaka.text.TtmlTextParser.parseCue_(h.value,t,r,n,i,a,o,s,!0,u))&&(h.startTime=h.startTime||c,h.endTime=h.endTime||d,l.push(h));if((t=new shaka.text.Cue(c,d,f)).nestedCues=l,u&&(t.cellResolution=u),(a=shaka.text.TtmlTextParser.getElementsFromCollection_(e,"region",a,"")[0])&&a.getAttribute("xml:id")){var g=a.getAttribute("xml:id");t.region=o.filter((function(e){return e.id==g}))[0]}return n=shaka.text.TtmlTextParser.getElementsFromCollection_(e,"backgroundImage",n,"#",shaka.text.TtmlTextParser.smpteNs_)[0],shaka.text.TtmlTextParser.addStyle_(t,e,a,n,i),t},shaka.text.TtmlTextParser.parseCueRegion_=function(e,t,r){var n,i,a=shaka.text.TtmlTextParser,o=new shaka.text.CueRegion,s=e.getAttribute("xml:id");return s?(o.id=s,s=null,r&&(s=a.percentValues_.exec(r)||a.pixelValues_.exec(r)),r=s?Number(s[1]):null,s=s?Number(s[2]):null,(n=a.getStyleAttributeFromRegion_(e,t,"extent"))&&(null!=(n=(i=a.percentValues_.exec(n))||a.pixelValues_.exec(n))&&(o.width=null!=r?100*Number(n[1])/r:Number(n[1]),o.height=null!=s?100*Number(n[2])/s:Number(n[2]),o.widthUnits=i||null!=r?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX,o.heightUnits=i||null!=s?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX)),(e=a.getStyleAttributeFromRegion_(e,t,"origin"))&&(null!=(n=(i=a.percentValues_.exec(e))||a.pixelValues_.exec(e))&&(o.viewportAnchorX=null!=r?100*Number(n[1])/r:Number(n[1]),o.viewportAnchorY=null!=s?100*Number(n[2])/s:Number(n[2]),o.viewportAnchorUnits=i||null!=r?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX)),o):(shaka.log.warning("TtmlTextParser parser encountered a region with no id. Region will be ignored."),null)},shaka.text.TtmlTextParser.addStyle_=function(e,t,r,n,i){var a=shaka.text.TtmlTextParser,o=shaka.text.Cue;"rtl"==a.getStyleAttribute_(t,r,i,"direction")&&(e.direction=o.direction.HORIZONTAL_RIGHT_TO_LEFT);var s=a.getStyleAttribute_(t,r,i,"writingMode");"tb"==s||"tblr"==s?e.writingMode=o.writingMode.VERTICAL_LEFT_TO_RIGHT:"tbrl"==s?e.writingMode=o.writingMode.VERTICAL_RIGHT_TO_LEFT:"rltb"==s||"rl"==s?e.direction=o.direction.HORIZONTAL_RIGHT_TO_LEFT:s&&(e.direction=o.direction.HORIZONTAL_LEFT_TO_RIGHT),(s=a.getStyleAttribute_(t,r,i,"textAlign"))?(e.positionAlign=a.textAlignToPositionAlign_[s],e.lineAlign=a.textAlignToLineAlign_[s],goog.asserts.assert(s.toUpperCase()in o.textAlign,s.toUpperCase()+" Should be in Cue.textAlign values!"),e.textAlign=o.textAlign[s.toUpperCase()]):e.textAlign=o.textAlign.START,(s=a.getStyleAttribute_(t,r,i,"displayAlign"))&&(goog.asserts.assert(s.toUpperCase()in o.displayAlign,s.toUpperCase()+" Should be in Cue.displayAlign values!"),e.displayAlign=o.displayAlign[s.toUpperCase()]),(s=a.getStyleAttribute_(t,r,i,"color"))&&(e.color=s),(s=a.getStyleAttribute_(t,r,i,"backgroundColor"))&&(e.backgroundColor=s),(s=a.getStyleAttribute_(t,r,i,"border"))&&(e.border=s),(s=a.getStyleAttribute_(t,r,i,"fontFamily"))&&(e.fontFamily=s),(s=a.getStyleAttribute_(t,r,i,"fontWeight"))&&"bold"==s&&(e.fontWeight=o.fontWeight.BOLD),(s=a.getStyleAttribute_(t,r,i,"wrapOption"))&&"noWrap"==s&&(e.wrapLine=!1),(s=a.getStyleAttribute_(t,r,i,"lineHeight"))&&s.match(a.unitValues_)&&(e.lineHeight=s),(s=a.getStyleAttribute_(t,r,i,"fontSize"))&&(s.match(a.unitValues_)||s.match(a.percentValue_))&&(e.fontSize=s),(s=a.getStyleAttribute_(t,r,i,"fontStyle"))&&(goog.asserts.assert(s.toUpperCase()in o.fontStyle,s.toUpperCase()+" Should be in Cue.fontStyle values!"),e.fontStyle=o.fontStyle[s.toUpperCase()]),n&&(o=n.getAttribute("imagetype"),s=n.getAttribute("encoding"),n=n.textContent.trim(),"PNG"==o&&"Base64"==s&&n&&(e.backgroundImage="data:image/png;base64,"+n)),(n=a.getStyleAttribute_(t,r,i,"letterSpacing"))&&n.match(a.unitValues_)&&(e.letterSpacing=n),(n=a.getStyleAttribute_(t,r,i,"linePadding"))&&n.match(a.unitValues_)&&(e.linePadding=n),(n=a.getStyleAttribute_(t,r,i,"opacity"))&&(e.opacity=parseFloat(n)),(r=a.getStyleAttributeFromRegion_(r,i,"textDecoration"))&&a.addTextDecoration_(e,r),(t=a.getStyleAttributeFromElement_(t,i,"textDecoration"))&&a.addTextDecoration_(e,t)},shaka.text.TtmlTextParser.addTextDecoration_=function(e,t){for(var r=shaka.text.Cue,n=$jscomp.makeIterator(t.split(" ")),i=n.next();!i.done;i=n.next())switch(i.value){case"underline":e.textDecoration.includes(r.textDecoration.UNDERLINE)||e.textDecoration.push(r.textDecoration.UNDERLINE);break;case"noUnderline":e.textDecoration.includes(r.textDecoration.UNDERLINE)&&shaka.util.ArrayUtils.remove(e.textDecoration,r.textDecoration.UNDERLINE);break;case"lineThrough":e.textDecoration.includes(r.textDecoration.LINE_THROUGH)||e.textDecoration.push(r.textDecoration.LINE_THROUGH);break;case"noLineThrough":e.textDecoration.includes(r.textDecoration.LINE_THROUGH)&&shaka.util.ArrayUtils.remove(e.textDecoration,r.textDecoration.LINE_THROUGH);break;case"overline":e.textDecoration.includes(r.textDecoration.OVERLINE)||e.textDecoration.push(r.textDecoration.OVERLINE);break;case"noOverline":e.textDecoration.includes(r.textDecoration.OVERLINE)&&shaka.util.ArrayUtils.remove(e.textDecoration,r.textDecoration.OVERLINE)}},shaka.text.TtmlTextParser.getStyleAttribute_=function(e,t,r,n){var i=shaka.text.TtmlTextParser;return(e=i.getStyleAttributeFromElement_(e,r,n))?e:i.getStyleAttributeFromRegion_(t,r,n)},shaka.text.TtmlTextParser.getStyleAttributeFromRegion_=function(e,t,r){var n=shaka.util.XmlUtils,i=shaka.text.TtmlTextParser.styleNs_;if(!e)return null;for(var a=shaka.text.TtmlTextParser.getLeafNodes_(e),o=(a=$jscomp.makeIterator(a)).next();!o.done;o=a.next())if(o=n.getAttributeNS(o.value,i,r))return o;return shaka.text.TtmlTextParser.getInheritedStyleAttribute_(e,t,r)},shaka.text.TtmlTextParser.getStyleAttributeFromElement_=function(e,t,r){var n=shaka.util.XmlUtils.getAttributeNS(e,shaka.text.TtmlTextParser.styleNs_,r);return n||shaka.text.TtmlTextParser.getInheritedStyleAttribute_(e,t,r)},shaka.text.TtmlTextParser.getInheritedStyleAttribute_=function(e,t,r){var n=shaka.util.XmlUtils,i=shaka.text.TtmlTextParser.styleNs_,a=shaka.text.TtmlTextParser.styleEbuttsNs_;e=shaka.text.TtmlTextParser.getElementsFromCollection_(e,"style",t,"");for(var o=null,s=0;s<e.length;s++){var l=n.getAttributeNS(e[s],a,r);l||(l=n.getAttributeNS(e[s],i,r)),l||(l=shaka.text.TtmlTextParser.getStyleAttributeFromElement_(e[s],t,r)),l&&(o=l)}return o},shaka.text.TtmlTextParser.getElementsFromCollection_=function(e,t,r,n,i){var a=[];if(!e||1>r.length)return a;if(e=shaka.text.TtmlTextParser.getInheritedAttribute_(e,t,i))for(e=e.split(" "),t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){t=t.value;for(var o=(i=$jscomp.makeIterator(r)).next();!o.done;o=i.next())if(n+(o=o.value).getAttribute("xml:id")==t){a.push(o);break}}return a},shaka.text.TtmlTextParser.getInheritedAttribute_=function(e,t,r){for(var n=null,i=shaka.util.XmlUtils;e&&!(n=r?i.getAttributeNS(e,r,t):e.getAttribute(t))&&(e=e.parentNode)instanceof Element;);return n},shaka.text.TtmlTextParser.parseTime_=function(e,t){var r=null,n=shaka.text.TtmlTextParser;return n.timeColonFormatFrames_.test(e)?r=n.parseColonTimeWithFrames_(t,e):n.timeColonFormat_.test(e)?r=n.parseTimeFromRegex_(n.timeColonFormat_,e):n.timeColonFormatMilliseconds_.test(e)?r=n.parseTimeFromRegex_(n.timeColonFormatMilliseconds_,e):n.timeFramesFormat_.test(e)?r=n.parseFramesTime_(t,e):n.timeTickFormat_.test(e)?r=n.parseTickTime_(t,e):n.timeHMSFormat_.test(e)&&(r=n.parseTimeFromRegex_(n.timeHMSFormat_,e)),r},shaka.text.TtmlTextParser.parseFramesTime_=function(e,t){var r=shaka.text.TtmlTextParser.timeFramesFormat_.exec(t);return Number(r[1])/e.frameRate},shaka.text.TtmlTextParser.parseTickTime_=function(e,t){var r=shaka.text.TtmlTextParser.timeTickFormat_.exec(t);return Number(r[1])/e.tickRate},shaka.text.TtmlTextParser.parseColonTimeWithFrames_=function(e,t){var r=shaka.text.TtmlTextParser.timeColonFormatFrames_.exec(t),n=Number(r[1]),i=Number(r[2]),a=Number(r[3]),o=Number(r[4]);return(a+=(o+=(Number(r[5])||0)/e.subFrameRate)/e.frameRate)+60*i+3600*n},shaka.text.TtmlTextParser.parseTimeFromRegex_=function(e,t){var r=e.exec(t);return null==r||""==r[0]?null:(Number(r[4])||0)/1e3+(Number(r[3])||0)+60*(Number(r[2])||0)+3600*(Number(r[1])||0)},shaka.text.TtmlTextParser.getCellResolution_=function(e){if(!e)return null;var t=/^(\d+) (\d+)$/.exec(e);return t?{columns:e=parseInt(t[1],10),rows:t=parseInt(t[2],10)}:null},goog.exportSymbol("shaka.text.TtmlTextParser",shaka.text.TtmlTextParser),goog.exportProperty(shaka.text.TtmlTextParser.prototype,"parseMedia",shaka.text.TtmlTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.TtmlTextParser.prototype,"parseInit",shaka.text.TtmlTextParser.prototype.parseInit),shaka.text.TtmlTextParser.RateInfo_=function(e,t,r,n){this.frameRate=Number(e)||30,this.subFrameRate=Number(t)||1,this.tickRate=Number(n),0==this.tickRate&&(this.tickRate=e?this.frameRate*this.subFrameRate:1),r&&(e=/^(\d+) (\d+)$/g.exec(r))&&(this.frameRate*=Number(e[1])/Number(e[2]))},shaka.text.TtmlTextParser.percentValues_=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,shaka.text.TtmlTextParser.percentValue_=/^(\d{1,2}(?:\.\d+)?|100)%$/,shaka.text.TtmlTextParser.unitValues_=/^(\d+px|\d+em|\d*\.?\d+c)$/,shaka.text.TtmlTextParser.pixelValues_=/^(\d+)px (\d+)px$/,shaka.text.TtmlTextParser.timeColonFormatFrames_=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,shaka.text.TtmlTextParser.timeColonFormat_=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,shaka.text.TtmlTextParser.timeColonFormatMilliseconds_=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,shaka.text.TtmlTextParser.timeFramesFormat_=/^(\d*(?:\.\d*)?)f$/,shaka.text.TtmlTextParser.timeTickFormat_=/^(\d*(?:\.\d*)?)t$/,shaka.text.TtmlTextParser.timeHMSFormat_=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,shaka.text.TtmlTextParser.textAlignToLineAlign_={left:shaka.text.Cue.lineAlign.START,center:shaka.text.Cue.lineAlign.CENTER,right:shaka.text.Cue.lineAlign.END,start:shaka.text.Cue.lineAlign.START,end:shaka.text.Cue.lineAlign.END},shaka.text.TtmlTextParser.textAlignToPositionAlign_={left:shaka.text.Cue.positionAlign.LEFT,center:shaka.text.Cue.positionAlign.CENTER,right:shaka.text.Cue.positionAlign.RIGHT},shaka.text.TtmlTextParser.parameterNs_="http://www.w3.org/ns/ttml#parameter",shaka.text.TtmlTextParser.styleNs_="http://www.w3.org/ns/ttml#styling",shaka.text.TtmlTextParser.styleEbuttsNs_="urn:ebu:tt:style",shaka.text.TtmlTextParser.smpteNs_="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",shaka.text.TextEngine.registerParser("application/ttml+xml",(function(){return new shaka.text.TtmlTextParser})),shaka.text.Mp4TtmlParser=function(){this.parser_=new shaka.text.TtmlTextParser},shaka.text.Mp4TtmlParser.prototype.parseInit=function(e){var t=shaka.util.Mp4Parser,r=!1;if((new t).box("moov",t.children).box("trak",t.children).box("mdia",t.children).box("minf",t.children).box("stbl",t.children).fullBox("stsd",t.sampleDescription).box("stpp",(function(e){r=!0,e.parser.stop()})).parse(e),!r)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_TTML)},shaka.text.Mp4TtmlParser.prototype.parseMedia=function(e,t){var r=this,n=shaka.util.Mp4Parser,i=!1,a=[];if((new n).box("mdat",n.allData((function(e){i=!0,a=a.concat(r.parser_.parseMedia(e,t))}))).parse(e,!1),!i)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_TTML);return a},goog.exportSymbol("shaka.text.Mp4TtmlParser",shaka.text.Mp4TtmlParser),goog.exportProperty(shaka.text.Mp4TtmlParser.prototype,"parseMedia",shaka.text.Mp4TtmlParser.prototype.parseMedia),goog.exportProperty(shaka.text.Mp4TtmlParser.prototype,"parseInit",shaka.text.Mp4TtmlParser.prototype.parseInit),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp"',(function(){return new shaka.text.Mp4TtmlParser})),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp.ttml.im1t"',(function(){return new shaka.text.Mp4TtmlParser})),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp.TTML.im1t"',(function(){return new shaka.text.Mp4TtmlParser})),shaka.text.VttTextParser=function(){},shaka.text.VttTextParser.prototype.parseInit=function(e){goog.asserts.assert(!1,"VTT does not have init segments")},shaka.text.VttTextParser.prototype.parseMedia=function(e,t){var r=shaka.text.VttTextParser,n=shaka.util.StringUtils.fromUTF8(e);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_HEADER);var i=t.periodStart;if(n[0].includes("X-TIMESTAMP-MAP")){var a=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=n[0].match(/MPEGTS:(\d+)/m);if(a&&o){if(i=new shaka.util.TextParser(a[1]),null==(i=shaka.text.VttTextParser.parseTime_(i)))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_HEADER);o=Number(o[1]),a=shaka.text.VttTextParser.MPEG_TIMESCALE_;for(var s=shaka.text.VttTextParser.TS_ROLLOVER_/a,l=t.segmentStart;l>=s;)l-=s,o+=shaka.text.VttTextParser.TS_ROLLOVER_;i=t.periodStart+o/a-i}}for(o=[],s=(a=$jscomp.makeIterator(n[0].split("\n"))).next();!s.done;s=a.next())s=s.value,/^Region:/.test(s)&&(s=r.parseRegion_(s),o.push(s));for(a=[],s=(n=$jscomp.makeIterator(n.slice(1))).next();!s.done;s=n.next())s=s.value.split("\n"),(s=r.parseCue_(s,i,o))&&a.push(s);return a},shaka.text.VttTextParser.parseRegion_=function(e){var t=shaka.text.VttTextParser;e=new shaka.util.TextParser(e);var r=new shaka.text.CueRegion;e.readWord(),e.skipWhitespace();for(var n=e.readWord();n;)t.parseRegionSetting_(r,n)||shaka.log.warning("VTT parser encountered an invalid VTTRegion setting: ",n," The setting will be ignored."),e.skipWhitespace(),n=e.readWord();return r},shaka.text.VttTextParser.parseCue_=function(e,t,r){var n=shaka.text.VttTextParser;if(1==e.length&&!e[0]||/^NOTE($|[ \t])/.test(e[0])||"STYLE"==e[0])return null;var i=null;e[0].includes("--\x3e")||(i=e[0],e.splice(0,1));var a=new shaka.util.TextParser(e[0]),o=n.parseTime_(a),s=a.readRegex(/[ \t]+--\x3e[ \t]+/g),l=n.parseTime_(a);if(null==o||null==s||null==l)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE);for(o+=t,l+=t,e=e.slice(1).join("\n").trim(),o=new shaka.text.Cue(o,l,e),a.skipWhitespace(),l=a.readWord();l;)n.parseCueSetting(o,l,r)||shaka.log.warning("VTT parser encountered an invalid VTT setting: ",l," The setting will be ignored."),a.skipWhitespace(),l=a.readWord();return null!=i&&(o.id=i),o},shaka.text.VttTextParser.parseCueSetting=function(e,t,r){var n,i=shaka.text.VttTextParser;if(n=/^align:(start|middle|center|end|left|right)$/.exec(t))i.setTextAlign_(e,n[1]);else if(n=/^vertical:(lr|rl)$/.exec(t))i.setVerticalWritingMode_(e,n[1]);else if(n=/^size:([\d.]+)%$/.exec(t))e.size=Number(n[1]);else if(n=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))e.position=Number(n[1]),n[2]&&i.setPositionAlign_(e,n[2]);else{if(!(n=/^region:(.*)$/.exec(t)))return i.parsedLineValueAndInterpretation_(e,t);(t=i.getRegionById_(r,n[1]))&&(e.region=t)}return!0},shaka.text.VttTextParser.getRegionById_=function(e,t){var r=e.filter((function(e){return e.id==t}));return r.length?(goog.asserts.assert(1==r.length,"VTTRegion ids should be unique!"),r[0]):(shaka.log.warning("VTT parser could not find a region with id: ",t," The region will be ignored."),null)},shaka.text.VttTextParser.parseRegionSetting_=function(e,t){var r;if(r=/^id=(.*)$/.exec(t))e.id=r[1];else if(r=/^width=(\d{1,2}|100)%$/.exec(t))e.width=Number(r[1]);else if(r=/^lines=(\d+)$/.exec(t))e.height=Number(r[1]),e.heightUnits=shaka.text.CueRegion.units.LINES;else if(r=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))e.regionAnchorX=Number(r[1]),e.regionAnchorY=Number(r[2]);else if(r=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))e.viewportAnchorX=Number(r[1]),e.viewportAnchorY=Number(r[2]);else{if(!/^scroll=up$/.exec(t))return!1;e.scroll=shaka.text.CueRegion.scrollMode.UP}return!0},shaka.text.VttTextParser.setTextAlign_=function(e,t){var r=shaka.text.Cue;"middle"==t?e.textAlign=r.textAlign.CENTER:(goog.asserts.assert(t.toUpperCase()in r.textAlign,t.toUpperCase()+" Should be in Cue.textAlign values!"),e.textAlign=r.textAlign[t.toUpperCase()])},shaka.text.VttTextParser.setPositionAlign_=function(e,t){var r=shaka.text.Cue;e.positionAlign="line-left"==t||"start"==t?r.positionAlign.LEFT:"line-right"==t||"end"==t?r.positionAlign.RIGHT:r.positionAlign.CENTER},shaka.text.VttTextParser.setVerticalWritingMode_=function(e,t){var r=shaka.text.Cue;e.writingMode="lr"==t?r.writingMode.VERTICAL_LEFT_TO_RIGHT:r.writingMode.VERTICAL_RIGHT_TO_LEFT},shaka.text.VttTextParser.parsedLineValueAndInterpretation_=function(e,t){var r,n=shaka.text.Cue;if(r=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))e.lineInterpretation=n.lineInterpretation.PERCENTAGE,e.line=Number(r[1]),r[2]&&(goog.asserts.assert(r[2].toUpperCase()in n.lineAlign,r[2].toUpperCase()+" Should be in Cue.lineAlign values!"),e.lineAlign=n.lineAlign[r[2].toUpperCase()]);else{if(!(r=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t)))return!1;e.lineInterpretation=n.lineInterpretation.LINE_NUMBER,e.line=Number(r[1]),r[2]&&(goog.asserts.assert(r[2].toUpperCase()in n.lineAlign,r[2].toUpperCase()+" Should be in Cue.lineAlign values!"),e.lineAlign=n.lineAlign[r[2].toUpperCase()])}return!0},shaka.text.VttTextParser.parseTime_=function(e){if(null==(e=e.readRegex(/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),r=Number(e[3]);return 59<t||59<r?null:Number(e[4])/1e3+r+60*t+3600*(Number(e[1])||0)},goog.exportSymbol("shaka.text.VttTextParser",shaka.text.VttTextParser),goog.exportProperty(shaka.text.VttTextParser.prototype,"parseMedia",shaka.text.VttTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.VttTextParser.prototype,"parseInit",shaka.text.VttTextParser.prototype.parseInit),shaka.text.VttTextParser.MPEG_TIMESCALE_=9e4,shaka.text.VttTextParser.TS_ROLLOVER_=8589934592,shaka.text.TextEngine.registerParser("text/vtt",(function(){return new shaka.text.VttTextParser})),shaka.text.TextEngine.registerParser('text/vtt; codecs="vtt"',(function(){return new shaka.text.VttTextParser})),shaka.text.TextEngine.registerParser('text/vtt; codecs="wvtt"',(function(){return new shaka.text.VttTextParser})),shaka.text.Mp4VttParser=function(){this.timescale_=null},shaka.text.Mp4VttParser.prototype.parseInit=function(e){var t=this,r=shaka.util.Mp4Parser,n=!1;if((new r).box("moov",r.children).box("trak",r.children).box("mdia",r.children).fullBox("mdhd",(function(e){goog.asserts.assert(0==e.version||1==e.version,"MDHD version can only be 0 or 1"),0==e.version?(e.reader.skip(4),e.reader.skip(4),t.timescale_=e.reader.readUint32(),e.reader.skip(4)):(e.reader.skip(8),e.reader.skip(8),t.timescale_=e.reader.readUint32(),e.reader.skip(8)),e.reader.skip(4)})).box("minf",r.children).box("stbl",r.children).fullBox("stsd",r.sampleDescription).box("wvtt",(function(e){n=!0})).parse(e),!this.timescale_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);if(!n)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT)},shaka.text.Mp4VttParser.prototype.parseMedia=function(e,t){if(!this.timescale_)throw shaka.log.error("No init segment for MP4+VTT!"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);var r,n=shaka.text.Mp4VttParser,i=shaka.util.Mp4Parser,a=0,o=[],s=[],l=!1,u=!1,c=!1,d=null;if((new i).box("moof",i.children).box("traf",i.children).fullBox("tfdt",(function(e){l=!0,goog.asserts.assert(0==e.version||1==e.version,"TFDT version can only be 0 or 1"),a=0==e.version?e.reader.readUint32():e.reader.readUint64()})).fullBox("tfhd",(function(e){goog.asserts.assert(null!=e.flags,"A TFHD box should have a valid flags value"),d=n.parseTFHD_(e.flags,e.reader)})).fullBox("trun",(function(e){u=!0,goog.asserts.assert(null!=e.version,"A TRUN box should have a valid version value"),goog.asserts.assert(null!=e.flags,"A TRUN box should have a valid flags value"),o=n.parseTRUN_(e.version,e.flags,e.reader)})).box("mdat",i.allData((function(e){goog.asserts.assert(!c,"VTT cues in mp4 with multiple MDAT are not currently supported"),c=!0,r=e}))).parse(e,!1),!c&&!l&&!u)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);i=a;for(var f=new shaka.util.DataViewReader(r,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),p=$jscomp.makeIterator(o),h=p.next();!h.done;h=p.next()){var g=(h=h.value).duration||d,m=h.timeOffset?a+h.timeOffset:i;i=m+(g||0);var v=0;do{var y=f.readUint32();v+=y;var b=f.readUint32(),k=null;"vttc"==(b=shaka.util.Mp4Parser.typeToString(b))?8<y&&(k=f.readBytes(y-8)):("vtte"!=b&&shaka.log.error("Unknown box "+b+"! Skipping!"),f.skip(y-8)),g?k&&(goog.asserts.assert(null!=this.timescale_,"Timescale should not be null!"),y=shaka.text.Mp4VttParser.parseVTTC_(k,t.periodStart+m/this.timescale_,t.periodStart+i/this.timescale_),s.push(y)):shaka.log.error("WVTT sample duration unknown, and no default found!"),goog.asserts.assert(!h.sampleSize||v<=h.sampleSize,"The samples do not fit evenly into the sample sizes given in the TRUN box!")}while(h.sampleSize&&v<h.sampleSize)}return goog.asserts.assert(!f.hasMoreData(),"MDAT which contain VTT cues and non-VTT data are not currently supported!"),s.filter(shaka.util.Functional.isNotNull)},shaka.text.Mp4VttParser.parseTFHD_=function(e,t){return t.skip(4),1&e&&t.skip(8),2&e&&t.skip(4),8&e?t.readUint32():null},shaka.text.Mp4VttParser.parseTRUN_=function(e,t,r){var n=r.readUint32();1&t&&r.skip(4),4&t&&r.skip(4);for(var i=[],a=(n=$jscomp.makeIterator(shaka.util.Iterables.range(n))).next();!a.done;a=n.next())shaka.util.Functional.ignored(a.value),a={duration:null,sampleSize:null,timeOffset:null},256&t&&(a.duration=r.readUint32()),512&t&&(a.sampleSize=r.readUint32()),1024&t&&r.skip(4),2048&t&&(a.timeOffset=0==e?r.readUint32():r.readInt32()),i.push(a);return i},shaka.text.Mp4VttParser.parseVTTC_=function(e,t,r){var n,i,a;return(new shaka.util.Mp4Parser).box("payl",shaka.util.Mp4Parser.allData((function(e){n=shaka.util.StringUtils.fromUTF8(e)}))).box("iden",shaka.util.Mp4Parser.allData((function(e){i=shaka.util.StringUtils.fromUTF8(e)}))).box("sttg",shaka.util.Mp4Parser.allData((function(e){a=shaka.util.StringUtils.fromUTF8(e)}))).parse(e),n?shaka.text.Mp4VttParser.assembleCue_(n,i,a,t,r):null},shaka.text.Mp4VttParser.assembleCue_=function(e,t,r,n,i){if(e=new shaka.text.Cue(n,i,e),t&&(e.id=t),r)for(r=(t=new shaka.util.TextParser(r)).readWord();r;)shaka.text.VttTextParser.parseCueSetting(e,r,[])||shaka.log.warning("VTT parser encountered an invalid VTT setting: ",r," The setting will be ignored."),t.skipWhitespace(),r=t.readWord();return e},goog.exportSymbol("shaka.text.Mp4VttParser",shaka.text.Mp4VttParser),goog.exportProperty(shaka.text.Mp4VttParser.prototype,"parseMedia",shaka.text.Mp4VttParser.prototype.parseMedia),goog.exportProperty(shaka.text.Mp4VttParser.prototype,"parseInit",shaka.text.Mp4VttParser.prototype.parseInit),shaka.text.TextEngine.registerParser('application/mp4; codecs="wvtt"',(function(){return new shaka.text.Mp4VttParser}));var EmeEncryptionSchemePolyfill=function(){};EmeEncryptionSchemePolyfill.install=function(){EmeEncryptionSchemePolyfill.originalRMKSA_?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(EmeEncryptionSchemePolyfill.originalRMKSA_=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.probeRMKSA_):console.debug("EmeEncryptionSchemePolyfill: EME not found")},EmeEncryptionSchemePolyfill.probeRMKSA_=function(e,t){var r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){return 1==i.nextAddress?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i.yield(EmeEncryptionSchemePolyfill.originalRMKSA_.call(n,e,t),2)):hasEncryptionScheme(r=i.yieldResult)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.originalRMKSA_,i.return(r)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.polyfillRMKSA_,i.return(EmeEncryptionSchemePolyfill.polyfillRMKSA_.call(n,e,t)))}))},EmeEncryptionSchemePolyfill.polyfillRMKSA_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(p){if(1==p.nextAddress){for(console.assert(f==navigator,'bad "this" for requestMediaKeySystemAccess'),r=guessSupportedScheme(e),n=[],i=$jscomp.makeIterator(t),a=i.next();!a.done;a=i.next())o=a.value,s=EmeEncryptionSchemePolyfill.filterCapabilities_(o.videoCapabilities,r),l=EmeEncryptionSchemePolyfill.filterCapabilities_(o.audioCapabilities,r),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!l.length||((u=Object.assign({},o)).videoCapabilities=s,u.audioCapabilities=l,n.push(u));if(!n.length)throw(c=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",c.code=DOMException.NOT_SUPPORTED_ERR,c;return p.yield(EmeEncryptionSchemePolyfill.originalRMKSA_.call(f,e,n),2)}return d=p.yieldResult,p.return(new EmeEncryptionSchemePolyfillMediaKeySystemAccess(d,r))}))},EmeEncryptionSchemePolyfill.filterCapabilities_=function(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e},goog.exportSymbol("EmeEncryptionSchemePolyfill",EmeEncryptionSchemePolyfill),goog.exportProperty(EmeEncryptionSchemePolyfill,"install",EmeEncryptionSchemePolyfill.install);var McEncryptionSchemePolyfill=function(){};McEncryptionSchemePolyfill.install=function(){McEncryptionSchemePolyfill.originalDecodingInfo_?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(McEncryptionSchemePolyfill.originalDecodingInfo_=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.probeDecodingInfo_):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")},McEncryptionSchemePolyfill.probeDecodingInfo_=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(console.assert(r==navigator.mediaCapabilities,'bad "this" for decodingInfo'),n.yield(McEncryptionSchemePolyfill.originalDecodingInfo_.call(r,e),2)):(t=n.yieldResult,e.keySystemConfiguration&&t.keySystemAccess?hasEncryptionScheme(t.keySystemAccess)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.originalDecodingInfo_,n.return(t)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.polyfillDecodingInfo_,n.return(McEncryptionSchemePolyfill.polyfillDecodingInfo_.call(r,e))):n.return(t))}))},McEncryptionSchemePolyfill.polyfillDecodingInfo_=function(e){var t,r,n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){return 1==u.nextAddress?(console.assert(l==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(r=e.keySystemConfiguration,n=r.keySystem,i=r.audio&&r.audio.encryptionScheme,a=r.video&&r.video.encryptionScheme,t=guessSupportedScheme(n),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},i&&i!=t||a&&a!=t)?u.return(o):u.yield(McEncryptionSchemePolyfill.originalDecodingInfo_.call(l,e),2)):((s=u.yieldResult).keySystemAccess&&(s.keySystemAccess=new EmeEncryptionSchemePolyfillMediaKeySystemAccess(s.keySystemAccess,t)),u.return(s))}))},goog.exportSymbol("McEncryptionSchemePolyfill",McEncryptionSchemePolyfill),goog.exportProperty(McEncryptionSchemePolyfill,"install",McEncryptionSchemePolyfill.install);var EmeEncryptionSchemePolyfillMediaKeySystemAccess=function(e,t){this.mksa_=e,this.scheme_=t,this.keySystem=e.keySystem};function guessSupportedScheme(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function hasEncryptionScheme(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}EmeEncryptionSchemePolyfillMediaKeySystemAccess.prototype.getConfiguration=function(){var e=this.mksa_.getConfiguration();if(e.videoCapabilities)for(var t=$jscomp.makeIterator(e.videoCapabilities),r=t.next();!r.done;r=t.next())r.value.encryptionScheme=this.scheme_;if(e.audioCapabilities)for(r=(t=$jscomp.makeIterator(e.audioCapabilities)).next();!r.done;r=t.next())r.value.encryptionScheme=this.scheme_;return e},EmeEncryptionSchemePolyfillMediaKeySystemAccess.prototype.createMediaKeys=function(){return this.mksa_.createMediaKeys()};var EncryptionSchemePolyfills=function(){};EncryptionSchemePolyfills.install=function(){EmeEncryptionSchemePolyfill.install(),McEncryptionSchemePolyfill.install()},goog.exportSymbol("EncryptionSchemePolyfills",EncryptionSchemePolyfills),goog.exportProperty(EncryptionSchemePolyfills,"install",EncryptionSchemePolyfills.install),"undefined"!==typeof module&&module.exports&&(module.exports=EncryptionSchemePolyfills)}.call(exportTo,innerGlobal,innerGlobal,void 0),exportTo.shaka)exports[k]=exportTo.shaka[k]}()}).call(this,__webpack_require__(48))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(r(67)),i=r(259),a=v(r(260)),o=v(r(261)),s=v(r(81)),l=r(82),u=v(r(52)),c=v(r(262)),d=r(68),f=r(84),p=v(r(263)),h=v(r(264)),g=v(r(265)),m=v(r(98));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){return(0,n.default)("ShakaVideoStreamer",(t=e,function(e,r,n){var v;try{v=(0,i.shakaSetup)(t,n,r)}catch(D){return Promise.reject((0,m.default)(t,!1,D))}var y=(0,a.default)(n,v,r),b=(0,o.default)(t,v),k=(0,s.default)(e),_=(0,h.default)(v,k),E=(0,g.default)(v,k),w=(0,p.default)(e,v,k,(0,f.getArrayLogger)(window,"bitrateManager").log),S=(0,l.getPropertyApplier)(n,y,_,E,w),T=(0,f.getArrayLogger)(window,"videoEvents").log,x=(0,c.default)({shakaLib:t,streamer:e,videoElement:n,shakaPlayer:v,streamRangeHelper:y,configuration:r,applyProperties:S,updateStreamState:k,log:T}),O=x.videoElementEventHandlers,P=x.setLifeCycleManager,A=(0,u.default)(k,x.pauseStreamRangeUpdater,(0,f.getArrayLogger)(window,"lifecycle").log);P(A);var C=A.startPlaybackSession,M=A.endPlaybackSession,I=v,R=d.renderWithoutSource;return Promise.resolve({cleanup:function(){return _.cleanup(),E.cleanup(),A.cleanup(),x.cleanup(),w.cleanup(),(0,i.shakaCleanup)(v)},render:R,textTrackManager:_,audioTrackManager:E,thirdPartyPlayer:I,applyProperties:S,handleSourceChange:b,startPlaybackSession:C,endPlaybackSession:M,videoElementEventHandlers:O})}));var t};t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shakaSetup=function(e,t,r){if(window.MediaSource&&MediaSource.isTypeSupported){var i=new e.Player(t);if(r&&r.shakaPlayer){var a=r.shakaPlayer;a.installPolyfills&&e.polyfill.installAll(),a.customConfiguration&&i.configure(a.customConfiguration)}var o=e.log&&e.log,s=r&&r.logLevel;return null!=s&&o&&("VERBOSE"===s?o.setLevel(o.Level.V2):o.setLevel(o.Level[s])),i}throw new n.PlaybackError("STREAM_ERROR_TECHNOLOGY_UNSUPPORTED","shaka","MPEG-DASH playback with Shaka Player is not supported in this browser.")},t.shakaCleanup=function(e){return Promise.resolve(e&&e.destroy())};var n=r(35)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Date(0);var i=function(e,t,r){var i=r&&r.liveEdgeMargin||10;return{adjustForDvrStartOffset:function(){if(e&&e.paused&&t.isLive()){var r=t.seekRange().start||0;r>=e.currentTime&&(e.currentTime=r+10)}},calculateNewState:function(){var r=t.seekRange(),a=t.isLive(),o=a?t.getPresentationStartTimeAsDate():new Date,s=e.currentTime-r.start,l=0!==r.end||0!==r.start?r.end-r.start:e.duration===1/0||isNaN(e.duration)?0:e.duration,u=function(e,t){return t?e===1/0||0===e||e<100?"live":"livedvr":"ondemand"}(l,a),c=a&&s>l-i,d=function(e,t,r,i){if(e){if(isNaN(t)){var a=new Date,o=new Date(a.getTime()-1e3*i);return{absolutePosition:a,absoluteStartPosition:o}}return{absolutePosition:new Date(t.getTime()+1e3*(i+r.start)),absoluteStartPosition:new Date(t.getTime()+1e3*r.start)}}return{absolutePosition:n,absoluteStartPosition:n}}(a,o,r,s);return{position:s,duration:l,playMode:u,isAtLiveEdge:c,absolutePosition:d.absolutePosition,absoluteStartPosition:d.absoluteStartPosition}},setPosition:function(r){isNaN(r)&&r===1/0||(e.currentTime=t.seekRange().start+r)},gotoLive:function(){t.isLive()&&(e.currentTime=t.seekRange().end)}}};t.default=i},function(e,t,r){"use strict";var n=r(42),i=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(r(98)),o=s(r(50));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d="com.widevine.alpha",f="com.microsoft.playready";function p(e,t,r,a){var o,s=r.licenseUrl,l=r.drmType,c=r.licenseAcquisitionDetails||{},p=a&&a.licenseAcquisition||{},h=c.widevineServiceCertificateUrl||p.widevine&&p.widevine.serviceCertificateUrl,g=function(e,t){return/Android(.*)Chrome/.test(e)?{audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:"SW_SECURE_CRYPTO",serviceCertificate:t,_classification:"Android Chrome 58 and newer"}:{audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:"SW_SECURE_DECODE",serviceCertificate:t,_classification:"Desktop"}}(navigator.userAgent,h),m=c.licenseRequestHeaders,v=c.robustness,y=v&&v[d]?{audioRobustness:v[d].audio,videoRobustness:v[d].video}:p.widevine&&p.widevine.robustness?{audioRobustness:p.widevine.robustness.audio,videoRobustness:p.widevine.robustness.video}:{audioRobustness:g.audioRobustness,videoRobustness:g.videoRobustness},b=v&&v[f]?{audioRobustness:v[f].audio,videoRobustness:v[f].video}:p.playReady&&p.playReady.robustness?{audioRobustness:p.playReady.robustness.audio,videoRobustness:p.playReady.robustness.video}:{videoRobustness:"SW_SECURE_DECODE",audioRobustness:"SW_SECURE_CRYPTO"};m&&Object.keys(m).length>0&&function(e,t,r){t.getNetworkingEngine().registerRequestFilter((function(t,n){t===e.net.NetworkingEngine.RequestType.LICENSE&&Object.entries(r).forEach((function(e){var t=i(e,2),r=t[0],a=t[1];n.headers[r]=a}))}))}(e,t,m);var k=l?n({},l,s):(n(o={},d,s),n(o,f,s),o);return t.configure({drm:{servers:k,advanced:{"com.widevine.alpha":u({},y,{serverCertificate:g.serviceCertificate}),"com.microsoft.playready":b}}}),Promise.resolve()}var h=function(e,t){return function(r,n){var i=r.shakaRequestFilter,s=r.shakaResponseFilter,l=(0,o.default)(r.source);if(l)return function(e,t,r){var n=e.getNetworkingEngine();return n&&(n.clearAllRequestFilters(),n.clearAllResponseFilters(),t&&n.registerRequestFilter(t),r&&n.registerResponseFilter(r)),Promise.resolve()}(t,i,s).then((function(){return p(e,t,l,r.configuration)})).then((function(){return t.load(l.streamUrl,l.startPosition)})).catch((function(t){if(t&&t.code!==e.util.Error.Code.LOAD_INTERRUPTED)throw(0,a.default)(e,!1,t,navigator.userAgent,document.location)}));if(n&&n.source){var u=t.getNetworkingEngine();return u.clearAllRequestFilters(),u.clearAllResponseFilters(),t.unload()}return Promise.resolve()}};t.default=h},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(83)),a=o(r(98));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var t=e.streamer,r=e.videoElement,o=e.shakaPlayer,u=e.shakaLib,c=e.streamRangeHelper,d=e.configuration,f=e.applyProperties,p=e.updateStreamState,h=e.log,g=(0,i.default)({streamer:t,videoElement:r,thirdPartyPlayer:o,streamRangeHelper:c,configuration:d,log:h,applyProperties:f,updateStreamState:p}),m=g.videoElementEventHandlers,v=g.pauseStreamRangeUpdater,y={setStage:function(e){},getStage:function(){}},b={error:function(e){var n=e.detail;h&&h("shaka.error");var i=(0,a.default)(u,"started"===y.getStage(),n,navigator.userAgent,document.location);t.props.onPlaybackError&&t.props.onPlaybackError(i),r.error&&p({error:r.error}),"FATAL"===i.severity&&(y.setStage("dead"),p({playState:"inactive",isBuffering:!1,isSeeking:!1})),v.stop()},loading:function(){if(h&&h("shaka.loading"),"new"===y.getStage()){if(y.setStage("starting"),t.props.initialPlaybackProps){var e=t.props.initialPlaybackProps,n=e.isMuted,i=e.volume;f({isMuted:n,volume:i})}p({playState:"starting",isBuffering:!0,volume:r.volume,isMuted:r.muted,isPipAvailable:g.isPipAvailable()})}},streaming:function(){if(h&&h("shaka.streaming"),t.props.initialPlaybackProps){var e=t.props.initialPlaybackProps,n=e.isPaused,i=e.bitrateFix,a=e.bitrateCap;f({bitrateFix:i,bitrateCap:a}),n&&r.pause(),null==i&&p({bitrateFix:null}),null==a&&p({bitrateCap:null})}else p({bitrateFix:null,bitrateCap:null});p(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isMuted:r.muted,volume:r.volume},c.calculateNewState()))},buffering:function(e){var t=e.buffering;h&&h("shaka.buffering."+t.toString()),"started"===y.getStage()?p({isBuffering:t,playState:t?"buffering":r.paused?"playing":"paused"}):p({isBuffering:t})}};return Object.entries(b).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];o.addEventListener(r,i)})),{videoElementEventHandlers:{onCanPlay:m.onCanPlay,onPlaying:m.onPlaying,onPause:m.onPause,onSeeking:m.onSeeking,onSeeked:m.onSeeked,onDurationChange:m.onDurationChange,onTimeUpdate:m.onTimeUpdate,onVolumeChange:m.onVolumeChange,onProgress:m.onProgress,onEnded:m.onEnded},pauseStreamRangeUpdater:v,setLifeCycleManager:function(e){y=e,g.setLifeCycleManager(e)},cleanup:function(){g.cleanup(),Object.entries(b).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];o.removeEventListener(r,i)}))}}};t.default=u},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(9);function a(e){return e&&e.bandwidth||0}function o(e,t){return e-t}function s(e,t){return e.bandwidth-t.bandwidth}function l(e){return e&&Math.ceil(e.bandwidth/1e3)||0}function u(e){return e&&e.active&&"variant"===e.type}function c(e,t,r){return r.indexOf(e)===t}var d={abr:{enabled:!0,restrictions:{maxBandwidth:1/0}}},f=function(e,t,r,f){var p=[];function h(){var e=t.getVariantTracks(),n=l(e.filter(u)[0]),a=e.map(l).filter(c).sort(o),s={};n&&(s.currentBitrate=l(e.filter(u)[0])),(0,i.isShallowEqual)(p,a)||(p=a,s.bitrates=a),Object.keys(s).length>0&&r(s)}var g={loading:function(){p=[]},streaming:h,adaptation:h,trackschanged:h};return Object.entries(g).forEach((function(e){var r=n(e,2),i=r[0],a=r[1];t.addEventListener(i,a)})),{cleanup:function(){Object.entries(g).forEach((function(e){var r=n(e,2),i=r[0],a=r[1];t.removeEventListener(i,a)}))},fixBitrate:function(e){if("string"===typeof e)try{var n=t.getVariantTracks().slice(0).sort(s),i="min"===e?n[0]:"max"===e?n[n.length-1]:null;i?(t.configure({abr:{enabled:!1,restrictions:{maxBandwidth:1/0}}}),t.selectVariantTrack(i),r({bitrateFix:l(i)})):(t.configure(d),r({bitrateFix:null}),f&&f("Unknown string specified for bitrate lock. Please use a value of type number if a bitrate specified by kbps is intended.",e))}catch(o){t.configure(d),r({bitrateFix:null}),f&&f("Attempting to set "+e+"imum bitrate, but no tracks found. A bit too early, maybe?",t.getVariantTracks())}else if(isNaN(e)||null==e||e<0||!e)t.configure(d),r({bitrateFix:null}),f&&f("Resetting bitrate locking.");else{var a=t.getVariantTracks().filter((function(t){return l(t)===e}))[0];a?(t.configure({abr:{enabled:!1,restrictions:{maxBandwidth:1/0}}}),t.selectVariantTrack(a),r({bitrateFix:l(a)}),f&&f("Locking at bitrate "+e+".",a)):(t.configure(d),r({bitrateFix:null}),f&&f("Could not finding matching track for specified lock bitrate "+e+".",t.getVariantTracks()))}},capBitrate:function(e){if(isNaN(e)||e===1/0||null==e||e<0)f&&f("Resetting restrictions for bitrate."),t.configure(d),r({bitrateCap:null});else{var n=t.getVariantTracks().map(a).sort(o)[0];if(n){var i=Math.max(1e3*e,n),s={maxBandwidth:i};t.configure({abr:{enabled:!0,restrictions:s}}),r({bitrateCap:Math.ceil(i/1e3)}),s.maxBandwidth===n?f&&f("Applying restrictions for bitrate, but aligning to lowest available bitrate.",s):f&&f("Applying restrictions for bitrate.",s)}else f&&f("Bitrate range not found. Not safe to applying restrictions for bitrate.",t.getVariantTracks())}}}};t.default=f},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=r(52),o=r(9),s=(i=r(50))&&i.__esModule?i:{default:i};var l=["id","language","kind","label"];function u(e,t){return e&&t&&l.filter((function(r){return function(e,t){return e===t||null==e&&null==t||Number.isNaN(e)&&Number.isNaN(t)}(e[r],t[r])})).length===l.length||!e&&!t}function c(e,t,r){return{id:e,kind:"subtitle"===r.kind?"subtitles":r.kind||"",label:r.label||"",language:r.language||"",origin:t}}var d=["text/vtt","application/ttml+xml"];function f(e){var t=e.contentType;return t&&d.filter((function(e){return 0===t.indexOf(e)})).length>0}var p=function(e,t){var r=[],i=a.emptyTracks;function l(){return(e.getTextTracks()||[]).filter((function(e){return e.active}))[0]}function d(n){var a=null,s=null;try{s=e.isTextTrackVisible()?l():null}catch(f){}if(s){var c=r.filter((function(e){return!e.isBlacklisted&&null!=e.selectableTrack&&u(e.shakaTrack,s)}))[0];a=c?c.selectableTrack:null}if(n){var d=r.filter((function(e){return e.selectableTrack})).map((function(e){return e.selectableTrack}));(0,o.isShallowEqual)(d,i)?t({textTracks:i,currentTextTrack:a}):(i=d,t({textTracks:d,currentTextTrack:a}))}else t({currentTextTrack:a})}function p(){r.length=0,d(!0)}function h(t){var n=t.filter(f);return e.removeEventListener("trackschanged",m.trackschanged),function(e){var t=e.map((function(e){var t={id:null,sourceTrack:e.sourceTrack,shakaTrack:null,isBlacklisted:!1,isLoaded:!1,error:null,selectableTrack:null,shakaLoadPromise:e.addPromise.then((function(e){return t.isLoaded=!0,t.shakaTrack=e,t.selectableTrack=c(e.id,"side-loaded",e),e}),(function(r){return t.error=r||new Error("Shaka rejected adding a track with the URL "+e.sourceTrack.src),t.isBlacklisted=!0,t.isLoaded=!0,null}))};return t}));return r=r.concat(t),Promise.all(t.map((function(e){return e.shakaLoadPromise})))}(n.filter((function(e){var t=r.filter((function(t){return t.sourceTrack&&t.sourceTrack.src===e.src&&t.shakaTrack}));if(0===t.length)return!0;var n=t[0];return!!n.shakaTrack&&(n.sourceTrack=e,n.isBlacklisted=!1,n.isLoaded=!0,n.shakaTrack&&(n.selectableTrack=c(n.shakaTrack.id,"side-loaded",n.shakaTrack)),n.error=null,n.loadPromise=Promise.resolve(),!1)})).map((function(t){var r=t.contentType,n=r?r.indexOf(";charset"):-1;return n>0&&(r=r&&r.substr(0,n)),{addPromise:Promise.resolve(e.addTextTrack(t.src,t.language,t.kind,r,null,t.label)),sourceTrack:t}}))).then((function(){e.addEventListener("trackschanged",m.trackschanged),d(!0)}))}function g(){var t=e.isTextTrackVisible()?l():null;r.filter((function(e){return null!=e.sourceTrack})).forEach((function(r){r.selectableTrack&&(r.selectableTrack=null),t&&r.shakaTrack&&r.shakaTrack.active&&u(t,r.shakaTrack)&&e.setTextTrackVisibility(!1),r.isBlacklisted=!0}))}var m={loading:p,trackschanged:function(){var t=e.getTextTracks()||[];if(0===t.length)p();else{var n=r.filter((function(e){return 1===t.filter((function(t){return u(t,e.shakaTrack)})).length})),i=n.length<r.length;if(t.length>n.length){var a=t.filter((function(e){return 0===n.filter((function(t){return u(e,t.shakaTrack)})).length})).map((function(e){return{sourceTrack:null,shakaTrack:e,isBlacklisted:!1,selectableTrack:c(e.id,"in-stream",e),isLoaded:!0,error:null}}));r=n.concat(a),d(!0)}else i&&(r=n,d(!0))}},texttrackvisibility:function(){return d(!1)}};return Object.entries(m).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];e.addEventListener(i,a)})),{handleSelectedTextTrackChange:function(t){var n,i=t&&r.filter((function(e){return e.selectableTrack===t}))[0];(n=i&&i.shakaTrack)?(e.removeEventListener("texttrackvisibility",m.texttrackvisibility),e.isTextTrackVisible()||e.setTextTrackVisibility(!0),window.setTimeout((function(){var t=(e.getTextTracks()||[]).filter((function(e){return u(e,n)}))[0];t?e.selectTextTrack(t):n&&e.selectTextTrack(n),d(!1),e.addEventListener("texttrackvisibility",m.texttrackvisibility)}),1)):e.isTextTrackVisible()&&e.setTextTrackVisibility(!1)},handleTextTracksPropChange:function(e){g(),h(Array.isArray(e.textTracks)?e.textTracks:[])},handleSourcePropChange:function(e){var t=Array.isArray(e.textTracks)?e.textTracks:[],r=(0,s.default)(e.source);r&&r.textTracks?h(t.concat(r.textTracks)):h(t)},clear:function(){g()},cleanup:function(){p(),Object.entries(m).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];e.removeEventListener(i,a)}))}}};t.default=p},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){var r=e.language,n=e.role;return{selectableTrack:{id:r+n||t,kind:n,label:"",language:r,origin:"in-stream"},language:r,role:n}},a=function(e,t){var r=[];function a(){var n=e.getVariantTracks().filter((function(e){return e.active}))[0],i=n&&r.filter((function(e){return function(e,t){var r=t.language,n=t.role;return e.language===r&&(!n||e.roles&&e.roles.indexOf(n)>=0)}(n,e)})).map((function(e){return e.selectableTrack}))[0];t({currentAudioTrack:i})}function o(){var n=(r=e.getAudioLanguagesAndRoles().map(i)).map((function(e){return e.selectableTrack}));t({audioTracks:n}),a()}var s={loading:o,trackschanged:o,adaptation:a};return Object.entries(s).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];e.addEventListener(i,a)})),{cleanup:function(){Object.entries(s).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];e.removeEventListener(i,a)}))},handleSourceChange:function(){r.length=0},handleSelectedAudioTrackChange:function(t){var n=r.filter((function(e){return e.selectableTrack===t}))[0];n&&(e.selectAudioLanguage(n.language,n.role),a())}}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(67)),i=r(80),a=o(r(267));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("HtmlVideoStreamer",(0,i.getImplementationResolver)(a.default));t.default=s},function(e,t,r){"use strict";var n=r(28),i=r(11),a=r(17),o=r(12),s=r(13),l=r(162);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(35),c=f(r(163)),d=f(r(50));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=function(e){o(r,e);var t=s(r);function r(e,n,o,s){var l;return i(this,r),l=t.call(this,o),p(a(l),"status",void 0),p(a(l),"url",void 0),p(a(l),"method",void 0),l.status=e,l.url=n,l.method=s,l}return r}(l(Error));function m(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";return new u.PlaybackError("STREAM_ERROR_DOWNLOAD","html",r,"FATAL",new g(e.status,t,r,n))}function v(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return r}function y(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))}function b(e){for(var t,r,n,i,a,o,s,l="",u=0;u<e.length;)i=(t=e[u++])>>2,a=(3&t)<<4|(r=u<e.length?e[u++]:Number.NaN)>>4,o=(15&r)<<2|(n=u<e.length?e[u++]:Number.NaN)>>6,s=63&n,isNaN(r)?o=s=64:isNaN(n)&&(s=64),l+=h.charAt(i)+h.charAt(a)+h.charAt(o)+h.charAt(s);return l}function k(e,t,r,n){"string"===typeof r?r=v(r):"number"===typeof r&&(r=v(""+r));var i=0,a=new ArrayBuffer(t.byteLength+4+r.byteLength+4+n.byteLength),o=new DataView(a);new Uint8Array(a,i,t.byteLength).set(t),i+=t.byteLength,o.setUint32(i,r.byteLength,!0),i+=4;var s=e?new Uint8Array(a,i,r.byteLength):new Uint16Array(a,i,r.length);return s.set(r),i+=s.byteLength,o.setUint32(i,n.byteLength,!0),i+=4,new Uint8Array(a,i,n.byteLength).set(n),new Uint8Array(a,0,a.byteLength)}var _=function(e,t,r,i){if(t&&"WebKitMediaKeys"in window){var a=t.contentIdExtractMatch,o=t.fairPlayCertificateUrl,s=t.licenseRequestHeaders&&Object.entries(t.licenseRequestHeaders).map((function(e){var t=n(e,2);return{name:t[0],value:t[1]}}))||[],l="binary"===t.requestFormat,c="base64"===t.requestFormat,d=null,f=t.contentId,p=t.licenseUrl;return e.addEventListener("webkitneedkey",h,!1),{cleanup:w}}function h(t){var r=t.initData,n=l?y(r).replace(/^.*:\/\//,""):f||function(e,t){var r=y(e),n=t?"string"===typeof t?new RegExp(t):t:/([0-9]+)$/;if(n.exec){var i=n.exec(r);return i&&i[0]}}(r,a);if(l?i&&i("Content ID extracted from initData.",f):f||i&&i("Content ID extracted from initData.",f),e.webkitKeys||e.webkitSetMediaKeys(new window.WebKitMediaKeys("com.apple.fps.1_0")),e.webkitKeys){if(!p){var s=y(r).substring(1);p=s.substring(s.indexOf("/",s.indexOf("://")+3))}if(n)if(d){if(!g(n,k(c,r,n,d)))return void S(new u.PlaybackError("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE","html","Could not create key session."))}else{var h=new XMLHttpRequest;h.responseType="arraybuffer",h.addEventListener("load",(function(){h.status&&h.status<400?(d=new Uint8Array(h.response),g(n,k(c,r,n,d))&&S(new u.PlaybackError("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE","html","Could not create key session."))):S(m(h,o,"Download of FairPlay certificate failed."))})),h.addEventListener("error",(function(){return S(m(h,o,"Download of FairPlay certificate was blocked."))}),!1),h.addEventListener("timeout",(function(){return S(m(h,o,"Download of FairPlay certificate timed out."))}),!1),h.open("GET",o,!0),h.send()}else S(new u.PlaybackError("STREAM_ERROR","html","No content ID available. Cannot complete FairPlay license acquisition.","FATAL"))}else S(new u.PlaybackError("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE","html","Safari EME API not available."))}function g(t,r){var n=e.webkitKeys.createSession("video/mp4",r);if(!n)return!1;n.contentId=t,n.addEventListener("webkitkeymessage",v,!1),n.addEventListener("webkitkeyadded",_,!1),n.addEventListener("webkitkeyerror",E,!1)}function v(e){i&&i("Key session ready for license request.");var t=e.target,r=e.message,n=new XMLHttpRequest;n.responseType=l?"arraybuffer":"text",n.addEventListener("load",(function(){if(n.status&&n.status<400)if(l){var e=n.response;t.update(new Uint8Array(e))}else{var r=n.responseText.trim();"<ckc>"===r.substr(0,5)&&"</ckc>"===r.substr(-6)&&(r=r.slice(5,-6)),t.update(function(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(new ArrayBuffer(r)),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}(r))}else S(m(n,p,"Acquisition of FairPlay license failed.","POST"))})),n.addEventListener("error",(function(){return S(m(n,o,"Acquisition of FairPlay license was blocked."))}),!1),n.addEventListener("timeout",(function(){return S(m(n,o,"Acquisition of FairPlay license timed out."))}),!1),n.open("POST",p,!0),s.forEach((function(e){var t=e.name,r=e.value;n.setRequestHeader(t,r)})),l?(n.setRequestHeader("Content-type","application/octet-stream"),n.send(r)):c?n.send(b(r)):(n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(function(e,t){return t?"contentId="+encodeURIComponent(t.toString())+"spc="+encodeURIComponent(b(e)):"spc="+encodeURIComponent(b(e))}(r,f)))}function _(e){i&&i("Decryption key added",e)}function E(e){var t=e.target&&e.target.error&&e.target.error.code||0;if(6===t||4===t){S(new u.PlaybackError("STREAM_ERROR_DRM_OUTPUT_BLOCKED","html","FairPlay blocked the playback because of non-secure output path, e.g. external VGA screen connected.","FATAL",e.target&&e.target.error))}else S(new u.PlaybackError("STREAM_ERROR_DECODE","html","Could not decrypt FairPlay stream.","FATAL",e.target&&e.target.error));w()}function w(){e.removeEventListener("webkitneedkey",h,!1)}function S(e){r&&r(e),w()}};var E=function(e){var t,r=(0,c.default)(e);return function(n,i){t&&t.cleanup();var a=function(e,t){var r=(0,d.default)(e);if(r&&r.licenseUrl){var n=r.licenseUrl,i=t&&t.licenseAcquisition&&t.licenseAcquisition.fairPlay||{},a=r.licenseAcquisitionDetails||{},o=a.fairPlayCertificateUrl||i.serviceCertificateUrl,s=a.contentIdExtractMatch||i.contentIdExtractMatch,l=a.fairPlayRequestFormat||i.requestFormat||"formdata",u=a.licenseRequestHeaders,c=a.contentId;return o?{licenseUrl:n,licenseRequestHeaders:u,fairPlayCertificateUrl:o,requestFormat:l,contentId:c,contentIdExtractMatch:s}:null}return null}(n.source,n.configuration);return a&&(t=_(e,a,n.onPlaybackError)),r(n,i)}};t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(67)),i=r(165),a=m(r(269)),o=m(r(270)),s=m(r(81)),l=r(82),u=m(r(52)),c=r(68),d=r(84),f=m(r(271)),p=(m(r(40)),m(r(272))),h=m(r(273)),g=m(r(274));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,n.default)("HlsjsVideoStreamer",(function(e,t,r,n){var m={videoElement:r,subscribers:[]},v=(0,a.default)(r,m,t),y=(0,o.default)(m),b=(0,s.default)(e),k=(0,p.default)(r,m,b,n),_=(0,f.default)(m,b),E=(0,h.default)(e,m,b,(0,d.getArrayLogger)(window,"bitrateManager").log),w=(0,l.getPropertyApplier)(r,v,k,_,E),S=(0,d.getArrayLogger)(window,"videoEvents").log,T=(0,g.default)({streamer:e,videoElement:r,instanceKeeper:m,streamRangeHelper:v,configuration:t,applyProperties:w,updateStreamState:b,log:S}),x=T.videoElementEventHandlers,O=T.setLifeCycleManager,P=(0,u.default)(b,T.pauseStreamRangeUpdater,(0,d.getArrayLogger)(window,"lifecycle").log);O(P);var A=P.startPlaybackSession,C=P.endPlaybackSession,M=m,I=c.renderWithoutSource;return Promise.resolve({cleanup:function(){return k.cleanup(),P.cleanup(),(0,i.hlsjsCleanup)(m)},render:I,textTrackManager:k,audioTrackManager:_,thirdPartyPlayer:M,applyProperties:w,handleSourceChange:y,startPlaybackSession:A,endPlaybackSession:C,videoElementEventHandlers:x})}));t.default=v},function(e,t,r){"use strict";var n=r(28),i=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=r(40))&&a.__esModule?a:{default:a};var s=new Date(0);var l=function(e,t,r){var a,l,u,c=r&&r.liveEdgeMargin||10,d=0,f=!1;function p(){l=null,d=0,f=!1}var h=(i(a={},o.default.Events.MANIFEST_LOADING,(function(){return p})),i(a,o.default.Events.LEVEL_LOADED,(function(e,t){f=t.details.live,d=t.details.totalduration;var r=t.details&&t.details.fragments&&t.details.fragments[0]&&t.details.fragments[0].programDateTime;r&&(l=new Date(r))})),a);return t.subscribers.push((function(e,t){Object.entries(h).forEach((function(r){var i=n(r,2),a=i[0],o=i[1];e[t](a,o),"on"===t&&(u=e)}))})),{adjustForDvrStartOffset:function(){},calculateNewState:function(){var t;t=d&&f?Math.max((e.currentTime||0)-Math.max(e.duration-d,0),0):e.currentTime||0;var r=f&&d||e.duration,n=function(e,t,r){if(t instanceof Date&&!isNaN(t))return{absolutePosition:new Date(t.getTime()+1e3*r),absoluteStartPosition:t};if(e){var n=new Date,i=new Date(n.getTime()-1e3*r);return{absolutePosition:n,absoluteStartPosition:i}}return{absolutePosition:s,absoluteStartPosition:s}}(f,l,t),i=n.absolutePosition,a=n.absoluteStartPosition;return{position:t,duration:r,playMode:function(e,t){return t?e===1/0||0===e||e<100?"live":"livedvr":"ondemand"}(r,f),isAtLiveEdge:u&&function(e,t,r,n){return!!r&&(e.liveSyncPosition?t.currentTime>e.liveSyncPosition-n:e.config&&e.config.liveSyncDuration?t.currentTime>t.duration-(e.config.liveSyncDuration+n):!(!e.config||!e.config.liveSyncDurationCount)&&t.currentTime>t.duration-(10*e.config.liveSyncDurationCount+n))}(u,e,f,c),absolutePosition:i,absoluteStartPosition:a}},setPosition:function(t){isNaN(t)||t===1/0||isNaN(e.duration)||e.duration===1/0||(e.currentTime=d&&f?t+e.duration-d:t)},gotoLive:function(){f&&u&&(u.liveSyncPosition?e.currentTime=u.liveSyncPosition:u.config&&u.config.liveSyncDuration?e.currentTime=e.duration-(u.config.liveSyncDuration+c):u.config&&u.config.liveSyncDurationCount?e.currentTime=e.duration-(10*u.config.liveSyncDurationCount+c):e.currentTime=e.duration-c)}}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(40)),i=r(35),a=r(165),o=s(r(50));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return function(t,r){var s=e.videoElement;(0,a.hlsjsCleanup)(e);var l=(0,o.default)(t.source);return l?(0,a.hlsjsSetup)(s,t.configuration).then((function(t){return e.hls=t,(0,a.broadcastHlsInstance)(e,"on"),new Promise((function(e,r){try{t.on(n.default.Events.MANIFEST_PARSED,(function a(){t.off(n.default.Events.MANIFEST_PARSED,a);try{l.startPosition?t.startLoad(l.startPosition):t.startLoad(),e()}catch(o){r(new i.PlaybackError("STREAM_ERROR","hlsjs","Stream load start failed.","FATAL",o))}})),t.loadSource(l.streamUrl)}catch(a){r(new i.PlaybackError("STREAM_ERROR","hlsjs","Stream load failed.","FATAL",a))}}))})):Promise.resolve()}};t.default=l},function(e,t,r){"use strict";var n=r(28),i=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=r(40))&&a.__esModule?a:{default:a};var s=function(e,t){return!e&&!t||e===t},l=function(e,t){return!e||!t||e===t},u=function(e,t){var r,a,u=[];function c(){if(a){var e=function(e){var t=[];return e?e.filter((function(e){var r="".concat(e.lang||"","!").concat(e.name||""),n=t.indexOf(r)<0;return n&&t.push(r),n})).map((function(e){return{id:e.id,language:e.lang||"unknown",kind:"",label:e.name||"unknown",origin:"in-stream"}})):[]}(a.audioTracks);(function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(!s(e[r].id,t[r].id)||!s(e[r].language,t[r].language)||!s(e[r].label,t[r].label))return!0;return!1}return!0})(e,u)&&(u=e)}}function d(){var e=null;if(a){var r=a.audioTracks.filter((function(e){return e.id===a.audioTrack}))[0];if(r){var n=r.name,i=r.lang;e=u.filter((function(e){var t=e.label,r=e.language;return t===n&&r===i}))[0]}}t({audioTracks:u,currentAudioTrack:e})}function f(){c(),d()}function p(){u=[]}var h=(i(r={},o.default.Events.MANIFEST_LOADING,(function(){return p})),i(r,o.default.Events.MANIFEST_PARSED,f),i(r,o.default.Events.AUDIO_TRACK_SWITCHED,(function(){c(),d()})),r);return e.subscribers.push((function(e,t){Object.entries(h).forEach((function(r){var i=n(r,2),o=i[0],s=i[1];e[t](o,s),"on"===t&&(a=e)}))})),{cleanup:function(){},handleSourceChange:function(){f()},handleSelectedAudioTrackChange:function(e){var t=e;if(a&&a.audioTracks&&t){var r=(a.audioTracks[a.audioTrack]||{}).groupId,n=a.audioTracks.filter((function(e){return l(e.groupId,r)&&l(e.name,t.label)&&l(e.lang,t.language)}))[0];n&&(a.audioTrack=n.id)}}}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(52),a=r(9),o=(n=r(50))&&n.__esModule?n:{default:n};var s=["disabled","hidden","showing"];function l(e){var t=e.mode;return"number"===typeof t?s[t]:t}function u(e,t){e.mode="number"===typeof e.mode?s.indexOf(t):t}function c(e,t){return Number.isNaN(e)&&Number.isNaN(t)||null==e&&null==t||e===t}function d(e,t,r){return{id:e,kind:r.kind||"",label:r.label||"",language:r.language||"",origin:t}}var f=function(e,t,r,n){var s=[],f=null,p=i.emptyTracks,h=0,g=window.VTTCue||window.TextTrackCue;function m(){f=s.filter((function(e){return null!=e.videoElementTrack&&"showing"===l(e.videoElementTrack)})).map((function(e){return e.selectableTrack}))[0];var e=s.filter((function(e){return e.selectableTrack})).map((function(e){return e.selectableTrack}));(0,a.isShallowEqual)(e,p)?r({currentTextTrack:f,textTracks:p}):(p=e,r({currentTextTrack:f,textTracks:e}))}function v(t){if(Array.isArray(t)){e.textTracks.removeEventListener("addtrack",k),e.textTracks.removeEventListener("removetrack",_);var r=t.filter((function(e){var t=s.filter((function(t){return function(e,t){if(e&&t){if(e.cues&&t.cues){var r=e.cues,n=t.cues;if(r.length===n.length)if(r.filter((function(e,t){return e.start===n[t].start&&e.end===n[t].end&&e.content===n[t].content})).length!==r.length)return!1}return c(e.language,t.language)&&c(e.kind,t.kind)&&c(e.label,t.label)&&c(e.src,t.src)}return c(e,t)}(t.sourceTrack,e)&&!t.isBlacklisted}));if(0===t.length)return!0;var r=t[0];return r.sourceTrack=e,r.isBlacklisted=!1,r.isLoaded=!0,!1})).map((function(t){var r=++h;if(Array.isArray(t.cues)){var n=t.cues,i=e.addTextTrack("subtitles",t.label,t.language);return n.forEach((function(e){i.addCue(new g(e.start,e.end,e.content))})),{id:r,sourceTrack:t,isBlacklisted:!1,videoElementTrack:i,selectableTrack:d(r,"side-loaded",i),loadPromise:Promise.resolve(i),isLoaded:!0}}var a={src:t.src,srclang:t.language,kind:t.kind||"subtitles",label:t.label},o=new Promise((function(e){a.onRef=function(t){var r=t;if(r){u(r.track,"hidden");var n=function t(){r.removeEventListener("load",t),r.removeEventListener("error",i),e(r.track)},i=function t(i){r.removeEventListener("load",n),r.removeEventListener("error",t),e()};r.addEventListener("load",n),r.addEventListener("error",i)}}})),s={id:r,sourceTrack:t,isBlacklisted:!1,videoElementTrack:void 0,selectableTrack:void 0,trackElementData:a,loadPromise:o,isLoaded:!1};return o.then((function(e){null!=e&&(s.videoElementTrack=e,s.selectableTrack=d(r,"side-loaded",e)),s.isLoaded=!0})),s}));return s=s.concat(r),n(s.filter((function(e){return e.trackElementData&&!e.isBlacklisted})).map((function(e){return e.trackElementData}))),Promise.all(r.map((function(e){return e.loadPromise}))).then((function(){e.textTracks.addEventListener("addtrack",k),e.textTracks.addEventListener("removetrack",_),m()}))}return Promise.resolve()}function y(e){if(0!==e.length||0!==s.length){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);var n=s.filter((function(e){return t.indexOf(e.videoElementTrack)>=0}));if(t.length>n.length){var i=t.filter((function(e){return("metadata"!==(t=e).kind&&!("inBandMetadataTrackDispatchType"in t)||t.cues&&t.cues.length||t.label||t.language)&&0===n.filter((function(t){return e===t.videoElementTrack})).length;var t})).map((function(e){var t=++h;return{id:t,sourceTrack:null,videoElementTrack:e,isBlacklisted:!1,selectableTrack:d(t,"in-stream",e),isLoaded:!0}}));s=n.concat(i)}else s=n}}function b(t){y(e.textTracks),s.forEach((function(e){if((t||null!=e.sourceTrack)&&(e.isBlacklisted=!0),null!=e.videoElementTrack&&t){var r=e.videoElementTrack;if(r.cues)for(;r.cues.length;)r.removeCue(r.cues[0]);u(r,"disabled")}e.selectableTrack=null})),p=i.emptyTracks,n([])}function k(){y(e.textTracks),m()}function _(){y(e.textTracks),m()}return e.textTracks.addEventListener("addtrack",k),e.textTracks.addEventListener("removetrack",_),{handleSelectedTextTrackChange:function(e){if(s.filter((function(e){return e.videoElementTrack&&"showing"===l(e.videoElementTrack)})).forEach((function(e){return e.videoElementTrack&&u(e.videoElementTrack,"hidden")})),e){t.hls&&(t.hls.subtitleDisplay=!0);var r=s.filter((function(t){return t.selectableTrack===e}))[0];r&&r.videoElementTrack&&u(r.videoElementTrack,"showing")}else t.hls&&(t.hls.subtitleDisplay=!1);m()},handleTextTracksPropChange:function(e){b(!1),v(e.source&&Array.isArray(e.textTracks)?e.textTracks:[])},handleSourcePropChange:function(t){y(e.textTracks);var r=t.source&&Array.isArray(t.textTracks)?t.textTracks:[],n=(0,o.default)(t.source);n&&n.textTracks?v(r.concat(n.textTracks)):v(r)},clear:function(){b(!0)},cleanup:function(){e.textTracks.removeEventListener("addtrack",k),e.textTracks.removeEventListener("removetrack",_)}}};t.default=f},function(e,t,r){"use strict";var n=r(28),i=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=r(9),s=(a=r(40))&&a.__esModule?a:{default:a};function l(e){return e&&Math.ceil(e.bitrate/1e3)||0}var u=function(e,t,r,a){var u,c,d=[];function f(e,t){if(c){var n=Array.isArray(c.levels)?c.levels.map(l):[];(0,o.isShallowEqual)(d,n)&&(n=d);var i=e===s.default.Events.LEVEL_SWITCHED?t.level:-1===c.currentLevel?c.startLevel:c.currentLevel;if(-1===i)a&&a("No hls.js level reported currently or selected for start."),r({bitrates:n});else{var u=l(c.levels[i]);r({currentBitrate:u,bitrates:n})}}}var p=(i(u={},s.default.Events.MANIFEST_LOADING,(function(){d=[]})),i(u,s.default.Events.MANIFEST_PARSED,f),i(u,s.default.Events.LEVEL_SWITCHED,f),i(u,s.default.Events.LEVEL_UPDATED,f),u);return t.subscribers.push((function(e,t){Object.entries(p).forEach((function(r){var i=n(r,2),a=i[0],o=i[1];e[t](a,o),"on"===t&&(c=e)}))})),{fixBitrate:function(e){if(c)if("min"===e)Array.isArray(c.levels)&&c.levels.length>0&&(c.nextLevel=0,r({bitrateFix:l(c.levels[0])}),a&&a("Fixing bitrate to lowest level out of "+c.levels.length));else if("max"===e)Array.isArray(c.levels)&&c.levels.length>0&&(c.nextLevel=c.levels.length-1,r({bitrateFix:l(c.levels[c.levels.length-1])}),a&&a("Fixing bitrate to highest level out of "+c.levels.length));else if(null==e||isNaN(e)||e<0||!e)a&&a("Resetting fixing of bitrate."),c.nextLevel=-1,r({bitrateFix:null});else if("string"===typeof e)a&&a("Unknown string specified for bitrate lock. Please use a value of type number if a bitrate specified by kbps is intended.",e);else if(Array.isArray(c.levels)){for(var t=0;t<c.levels.length;t++)if(l(c.levels[t])===e)return c.nextLevel=t,a&&a("Fixing bitrate to HLS level "+t,c.levels),void r({bitrateFix:e});a&&a("Desired bitrate lock didn't match any bitrates specified in the hls.levels list. Not applied.",c.levels)}else a&&a("Found no HLS levels from where bitrate fixing can be applied.",c.levels)},capBitrate:function(e){if(c)if(isNaN(e)||e===1/0||null==e||e<0)a&&a("Resetting restrictions for bitrate."),c.autoLevelCapping=-1,r({bitrateCap:null});else if(Array.isArray(c.levels)){for(var t=!1,n=0;n<c.levels.length;n++){var i=l(c.levels[n]);if(i===e){c.autoLevelCapping=n,r({bitrateCap:l(c.levels[n])}),a&&a("Desired bitrate cap "+e+" is equal to level on index "+n+" in hls.js.",c.levels),t=!0;break}if(i>e){n>0?(c.autoLevelCapping=n-1,r({bitrateCap:l(c.levels[n-1])}),a&&a("Desired bitrate cap "+e+" is closest to level on index "+(n-1)+" in hls.js.",c.levels)):(c.autoLevelCapping=0,a&&a("Desired bitrate cap "+e+" appears to be lower than the lowest HLS level. Aligning to lowest level.",c.levels),r({bitrateCap:l(c.levels[0])})),t=!0;break}}t||a&&a("Desired bitrate cap appears to be higher than the higher HLS level. Not applicable.",c.levels)}else a&&a("Found no HLS levels from where bitrate capping can be applied.",c.levels)}}};t.default=u},function(e,t,r){"use strict";var n=r(28),i=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(r(83)),o=l(r(40)),s=r(275);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,r=e.streamer,l=e.videoElement,u=e.instanceKeeper,c=e.streamRangeHelper,d=e.configuration,f=e.applyProperties,p=e.updateStreamState,h=e.log,g=(0,a.default)({streamer:r,videoElement:l,streamRangeHelper:c,configuration:d,log:h,applyProperties:f,updateStreamState:p}),m=g.videoElementEventHandlers,v=g.pauseStreamRangeUpdater,y={setStage:function(e){},getStage:function(){}};function b(e){h&&h("hlsjs.error");var t=(0,s.mapHlsjsError)("started"===y.getStage(),e);r.props.onPlaybackError&&r.props.onPlaybackError(t),l.error&&p({error:l.error}),"FATAL"===t.severity&&(y.setStage("dead"),p({playState:"inactive",isBuffering:!1,isSeeking:!1})),v.stop()}var k=(i(t={},o.default.Events.ERROR,(function(e,t){switch(t.details){case o.default.ErrorDetails.BUFFER_STALLED_ERROR:p({isBuffering:!0}),"started"===y.getStage()&&p({playState:"buffering"});break;case o.default.ErrorDetails.BUFFER_SEEK_OVER_HOLE:case o.default.ErrorDetails.BUFFER_NUDGE_ON_STALL:break;case o.default.ErrorDetails.MANIFEST_PARSING_ERROR:t.url&&!t.url.endsWith("undefined")&&b(t);break;default:b(t)}})),i(t,o.default.Events.MANIFEST_LOADING,(function(){if(h&&h("hlsjs.loading"),"new"===y.getStage()){if(y.setStage("starting"),r.props.initialPlaybackProps){var e=r.props.initialPlaybackProps,t=e.isMuted,n=e.volume;f({isMuted:t,volume:n})}p({playState:"starting",isBuffering:!0,volume:l.volume,isMuted:l.muted,isPipAvailable:g.isPipAvailable()})}})),i(t,o.default.Events.FRAG_BUFFERED,(function(){p({isBuffering:!1})})),i(t,o.default.Events.MANIFEST_PARSED,(function(){if(h&&h("hlsjs.parsed"),r.props.initialPlaybackProps){var e=r.props.initialPlaybackProps,t=e.isPaused,n=e.bitrateFix,i=e.bitrateCap;t&&l.pause(),f({bitrateFix:n,bitrateCap:i}),null==n&&p({bitrateFix:null}),null==i&&p({bitrateCap:null})}else p({bitrateFix:null,bitrateCap:null});p(c.calculateNewState())})),t);return u.subscribers.push((function(e,t){Object.entries(k).forEach((function(r){var i=n(r,2),a=i[0],o=i[1];e[t](a,o)}))})),{videoElementEventHandlers:{onCanPlay:m.onCanPlay,onPlaying:m.onPlaying,onPause:m.onPause,onSeeking:m.onSeeking,onSeeked:m.onSeeked,onDurationChange:m.onDurationChange,onTimeUpdate:m.onTimeUpdate,onVolumeChange:m.onVolumeChange,onProgress:m.onProgress,onEnded:m.onEnded,onError:m.onError},pauseStreamRangeUpdater:v,setLifeCycleManager:function(e){y=e,g.setLifeCycleManager(e)}}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapHlsjsError=function(e,t){var r=t.fatal?"FATAL":"WARNING",n=(t&&t.details&&s.indexOf(t.details)>=0?"STREAM_ERROR_DOWNLOAD":l.indexOf(t.details)>=0&&"STREAM_ERROR_DECODE")||"STREAM_ERROR";return new a.PlaybackError(n,"hlsjs",function(e){var t=(e.type?e.type+"/":"")+(e.details||"");return"string"===typeof e.reason?t+": "+e.reason:t}(t),r,t)};var n,i=(n=r(40))&&n.__esModule?n:{default:n},a=r(35);var o=i.default.ErrorDetails,s=[o.MANIFEST_LOAD_ERROR,o.MANIFEST_LOAD_TIMEOUT,o.LEVEL_LOAD_ERROR,o.LEVEL_LOAD_TIMEOUT,o.AUDIO_TRACK_LOAD_ERROR,o.AUDIO_TRACK_LOAD_TIMEOUT,o.FRAG_LOAD_ERROR,o.FRAG_LOOP_LOADING_ERROR,o.FRAG_LOAD_TIMEOUT,o.KEY_LOAD_ERROR,o.KEY_LOAD_TIMEOUT],l=[o.MANIFEST_PARSING_ERROR,o.MANIFEST_INCOMPATIBLE_CODECS_ERROR,o.FRAG_DECRYPT_ERROR,o.BUFFER_ADD_CODEC_ERROR,o.FRAG_PARSING_ERROR]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(67)),i=p(r(277)),a=p(r(278)),o=p(r(81)),s=r(82),l=p(r(52)),u=p(r(279)),c=r(68),d=r(84),f=p(r(108));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=(0,n.default)("RxVideoStreamer",(function(e,t,r){var n=t&&t.rxPlayer&&t.rxPlayer.customConfiguration,p=t&&t.logLevel;p&&(f.default.LogLevel="VERBOSE"===p?"DEBUG":p);var m=new f.default(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({stopAtEnd:!0},n,{videoElement:r}));r.autoplay=!1;var v=(0,i.default)(m,t),y=(0,a.default)(m),b=(0,o.default)(e),k=(0,s.getPropertyApplier)(r,v),_=(0,d.getArrayLogger)(window,"videoEvents").log,E=(0,u.default)({streamer:e,videoElement:r,rxPlayer:m,streamRangeHelper:v,configuration:t,applyProperties:k,updateStreamState:b,log:_}),w=E.videoElementEventHandlers,S=E.setLifeCycleManager,T=(0,l.default)(b,E.pauseStreamRangeUpdater,(0,d.getArrayLogger)(window,"lifecycle").log);S(T);var x=T.startPlaybackSession,O=T.endPlaybackSession,P=m,A=c.renderWithoutSource;return Promise.resolve({cleanup:function(){return T.cleanup(),E.cleanup(),m.stop(),m.dispose(),Promise.resolve()},render:A,thirdPartyPlayer:P,applyProperties:k,handleSourceChange:y,startPlaybackSession:x,endPlaybackSession:O,videoElementEventHandlers:w,textTrackManager:{handleSourcePropChange:function(){},cleanup:function(){},handleSelectedTextTrackChange:function(){},handleTextTracksPropChange:function(){},clear:function(){}},audioTrackManager:{handleSourceChange:function(){},cleanup:function(){},handleSelectedAudioTrackChange:function(){}}})}));t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Date(0),i=function(e,t){var r=t&&t.liveEdgeMargin||10;return{adjustForDvrStartOffset:function(){e.isLive()&&"PAUSED"===e.getPlayerState()&&e.getMinimumPosition()>=e.getPosition()&&e.seekTo(e.getMinimumPosition()+10)},calculateNewState:function(){var t=e.isLive(),i=t?e.getPosition()-e.getMinimumPosition():e.getPosition(),a=t?e.getMaximumPosition()-e.getMinimumPosition():e.getVideoDuration();return{position:i,duration:a,playMode:t?a>100?"livedvr":"live":"ondemand",isAtLiveEdge:t&&e.getPosition()>e.getMaximumPosition()-r,absolutePosition:t?new Date(1e3*e.getWallClockTime()):n,absoluteStartPosition:t?new Date(1e3*(e.getWallClockTime()-i)):n}},setPosition:function(t){"RELOADING"===e.getPlayerState()||isNaN(t)&&t===1/0||e.seekTo((e.getMinimumPosition()||0)+t)},gotoLive:function(){e.isLive()&&e.seekTo(e.getMaximumPosition())}}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){var n,o=t.source,s=t.initialPlaybackProps,l=(0,a.default)(o);if(l){var u=l.licenseUrl,c=l.startPosition,d=!(s&&s.isPaused),f={url:l.streamUrl,autoPlay:d};if(u){var p=l.licenseAcquisitionDetails&&l.licenseAcquisitionDetails.licenseRequestHeaders,h=function(e,t){if("license-release"!==t)return function(e,t,r){return fetch(e,t?{method:"POST",headers:t,body:r}:{method:"POST",body:r}).then((function(e){return e.ok&&e.arrayBuffer()}))}(u,p,e)};f.keySystems=[{type:"playready",getLicense:h},{type:"widevine",getLicense:h}]}switch(c&&(f.startAt={position:c}),l.contentType){case"application/vnd.ms-sstr+xml":f.transport="smooth";break;case"application/dash+xml":f.transport="dash";break;default:return Promise.reject(new i.PlaybackError("STREAM_ERROR_TECHNOLOGY_UNSUPPORTED","rxplayer","Unspecified source contentType. Cannot decide if the source is a smooth stream or MPEG-DASH stream."))}return f.keySystems&&l.licenseAcquisitionDetails&&l.licenseAcquisitionDetails.widevineServiceCertificateUrl&&navigator.userAgent.indexOf("Edge")<0&&(navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Firefox")>=0)?(n=l.licenseAcquisitionDetails.widevineServiceCertificateUrl,fetch(n).then((function(e){return e.ok&&e.arrayBuffer()}))).then((function(t){f.keySystems[1].serverCertificate=t,e.loadVideo(f)})):(e.loadVideo(f),Promise.resolve())}return e.stop(),Promise.resolve()}};var n,i=r(35),a=(n=r(50))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=r(35),o=(i=r(83))&&i.__esModule?i:{default:i};var s=function(e,t){return new a.PlaybackError("STREAM_ERROR","rxplayer","Rx-player error: "+e.message,t,e)},l=function(e){var t=e.streamer,r=e.rxPlayer,i=e.videoElement,a=e.streamRangeHelper,l=e.configuration,u=e.applyProperties,c=e.updateStreamState,d=e.log,f={setStage:function(e){},getStage:function(){}},p=(0,o.default)({streamer:t,videoElement:i,thirdPartyPlayer:r,streamRangeHelper:a,configuration:l,log:d,applyProperties:u,updateStreamState:c}),h=p.videoElementEventHandlers,g=p.pauseStreamRangeUpdater,m={playerStateChange:function(e){switch(d&&d(e),e){case"LOADING":f.setStage("starting"),c({playState:"starting",isBuffering:!0,volume:i.volume,isMuted:i.muted,isPipAvailable:p.isPipAvailable()});break;case"LOADED":if(t.props.initialPlaybackProps){var r=t.props.initialPlaybackProps,n=r.isMuted,o=r.volume,s=r.bitrateFix,l=r.bitrateCap;u({isMuted:n,volume:o,bitrateFix:s,bitrateCap:l}),null!=o&&v()}f.setStage("started"),i.paused&&(c({playState:"paused",isPaused:!0,isBuffering:!1,isSeeking:!1}),g.start()),c(a.calculateNewState());break;case"PLAYING":c({playState:"playing",isBuffering:!1,isPaused:!1,isSeeking:!1}),g.stop();break;case"PAUSED":c({playState:"paused",isPaused:!0,isBuffering:!1,isSeeking:!1}),g.start();break;case"BUFFERING":case"RELOADING":c({playState:"buffering",isBuffering:!0});break;case"SEEKING":c({playState:"seeking",isBuffering:!0,isSeeking:!0});break;case"ENDED":case"STOPPED":c({playState:"inactive",isBuffering:!1,isSeeking:!1}),g.stop();break;default:d&&d("Unrecognised player state.")}},positionUpdate:function(){c(a.calculateNewState())},warning:function(e){var r=s(e,"WARNING");t.props.onPlaybackError&&t.props.onPlaybackError(r)},error:function(e){var r=s(e,"FATAL");t.props.onPlaybackError&&t.props.onPlaybackError(r),f.setStage("dead"),c({playState:"inactive",isBuffering:!1,isSeeking:!1}),g.stop()}};Object.entries(m).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];r.addEventListener(i,a)}));var v=h.onVolumeChange,y=h.onProgress;return{videoElementEventHandlers:{onVolumeChange:v,onProgress:y},pauseStreamRangeUpdater:g,setLifeCycleManager:function(e){f=e,p.setLifeCycleManager(e)},cleanup:function(){p.cleanup(),Object.entries(m).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];r.removeEventListener(i,a)}))}}};t.default=l},function(e,t,r){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(281),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(48))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,a={},o=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&c(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){c(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(c,0,e)},l.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return a[i]=o,n(i),i++},l.clearImmediate=u}function u(e){delete a[e]}function c(e){if(o)setTimeout(c,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{u(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r(48),r(94))},function(e,t,r){"use strict";var n;n=function(e){var t=e.byteLength,r=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var i=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");a.set(e.subarray(i,i+o)),r=new DataView(a.buffer).getUint32(0),n=8*o,t-=o},this.skipBits=function(e){var i;n>e?(r<<=e,n-=e):(e-=n,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),r<<=e,n-=e)},this.readBits=function(e){var i=Math.min(n,e),a=r>>>32-i;return(n-=i)>0?r<<=i:t>0&&this.loadWord(),(i=e-i)>0?a<<i|this.readBits(i):a},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!==(r&2147483648>>>e))return r<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=n},function(e,t,r){e.exports={generator:r(86),probe:r(284),Transmuxer:r(105).Transmuxer,AudioSegmentStream:r(105).AudioSegmentStream,VideoSegmentStream:r(105).VideoSegmentStream,CaptionParser:r(288)}},function(e,t,r){"use strict";var n,i,a,o,s,l,u=r(87).toUnsigned,c=r(87).toHexString,d=r(100),f=r(101),p=r(102),h=r(103),g=r(104);n=function(e){return d(e,["moov","trak"]).reduce((function(e,t){var r,n,i,a,o;return(r=d(t,["tkhd"])[0])?(n=r[0],a=u(r[i=0===n?12:20]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),(o=d(t,["mdia","mdhd"])[0])?(i=0===(n=o[0])?12:20,e[a]=u(o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3]),e):null):null}),{})},i=function(e,t){var r,n,i;return r=d(t,["moof","traf"]),n=[].concat.apply([],r.map((function(t){return d(t,["tfhd"]).map((function(r){var n,i,a;return n=u(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),i=e[n]||9e4,(a="number"!==typeof(a=d(t,["tfdt"]).map((function(e){var t,r;return t=e[0],r=u(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(r*=Math.pow(2,32),r+=u(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),r}))[0])||isNaN(a)?1/0:a)/i}))}))),i=Math.min.apply(null,n),isFinite(i)?i:0},a=function(e,t){var r,n=d(t,["moof","traf"]),i=0,a=0;if(n&&n.length){var o=d(n[0],["tfhd"])[0],s=d(n[0],["trun"])[0],l=d(n[0],["tfdt"])[0];if(o)r=p(o).trackId;if(l)i=g(l).baseMediaDecodeTime;if(s){var u=h(s);u.samples&&u.samples.length&&(a=u.samples[0].compositionTimeOffset||0)}}return(i+a)/(e[r]||9e4)},o=function(e){var t=d(e,["moov","trak"]),r=[];return t.forEach((function(e){var t=d(e,["mdia","hdlr"]),n=d(e,["tkhd"]);t.forEach((function(e,t){var i,a,o=f(e.subarray(8,12)),s=n[t];"vide"===o&&(a=0===(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),r.push(a))}))})),r},l=function(e){var t=0===e[0]?12:20;return u(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},s=function(e){var t=d(e,["moov","trak"]),r=[];return t.forEach((function(e){var t,n,i={},a=d(e,["tkhd"])[0];a&&(n=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),i.id=0===n?t.getUint32(12):t.getUint32(20));var o=d(e,["mdia","hdlr"])[0];if(o){var s=f(o.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var u=d(e,["mdia","minf","stbl","stsd"])[0];if(u){var p=u.subarray(8);i.codec=f(p.subarray(4,8));var h,g=d(p,[i.codec])[0];g&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(h=g.subarray(78),"avcC"===f(h.subarray(4,8))&&h.length>11?(i.codec+=".",i.codec+=c(h[9]),i.codec+=c(h[10]),i.codec+=c(h[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(h=g.subarray(28),"esds"===f(h.subarray(4,8))&&h.length>20&&0!==h[19]?(i.codec+="."+c(h[19]),i.codec+="."+c(h[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var m=d(e,["mdia","mdhd"])[0];m&&(i.timescale=l(m)),r.push(i)})),r},e.exports={findBox:d,parseType:f,timescale:n,startTime:i,compositionStartTime:a,videoTrackIds:o,tracks:s,getTimescaleFromMediaHeader:l}},function(e,t){e.exports=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}},function(e,t){var r,n=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(e){for(var t=[];e--;)t.push(0);return t};e.exports=function(){if(!r){var e={96e3:[n,[227,64],a(154),[56]],88200:[n,[231],a(170),[56]],64e3:[n,[248,192],a(240),[56]],48e3:[n,[255,192],a(268),[55,148,128],a(54),[112]],44100:[n,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[n,[255,192],a(268),[55,234],a(226),[112]],24e3:[n,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[n,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[i,a(268),[3,121,16],a(47),[7]]};t=e,r=Object.keys(t).reduce((function(e,r){return e[r]=new Uint8Array(t[r].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return r}},function(e,t,r){"use strict";var n,i=r(30),a=r(90),o=function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},s=function(e,t,r){return decodeURIComponent(o(e,t,r))},l=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},u={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,r;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(r=e.data,unescape(o(r,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(n=function(e){var t,r={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,o=[],s=0;if(n.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(t=0;t<r.descriptor.length;t++)this.dispatchType+=("00"+r.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,a,c,d;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))r.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(e),s+=e.data.byteLength,1===o.length&&(i=l(e.data.subarray(6,10)),i+=10),!(s<i)){for(t={data:new Uint8Array(i),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;d<i;)t.data.set(o[0].data.subarray(0,i-d),d),d+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();n=10,64&t.data[5]&&(n+=4,n+=l(t.data.subarray(10,14)),i-=l(t.data.subarray(16,20)));do{if((a=l(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((c={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+a+10)}).key=c.id,u[c.id]&&(u[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var f=c.data,p=(1&f[3])<<30|f[4]<<22|f[5]<<14|f[6]<<6|f[7]>>>2;p*=4,p+=3&f[7],c.timeStamp=p,void 0===t.pts&&void 0===t.dts&&(t.pts=c.timeStamp,t.dts=c.timeStamp),this.trigger("timestamp",c)}t.frames.push(c),n+=10,n+=a}while(n<i);this.trigger("data",t)}}}).prototype=new i,e.exports=n},function(e,t,r){"use strict";var n=r(170).discardEmulationPreventionBytes,i=r(169).CaptionStream,a=r(100),o=r(104),s=r(103),l=r(102),u=function(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(r<i.size)return i;r-=i.size}return null},c=function(e,t){var r=a(e,["moof","traf"]),i=a(e,["mdat"]),c={},d=[];return i.forEach((function(e,t){var n=r[t];d.push({mdat:e,traf:n})})),d.forEach((function(e){var r,i=e.mdat,d=e.traf,f=a(d,["tfhd"]),p=l(f[0]),h=p.trackId,g=a(d,["tfdt"]),m=g.length>0?o(g[0]).baseMediaDecodeTime:0,v=a(d,["trun"]);t===h&&v.length>0&&(r=function(e,t,r){var i,a,o,s,l=new DataView(e.buffer,e.byteOffset,e.byteLength),c=[];for(a=0;a+4<e.length;a+=o)if(o=l.getUint32(a),a+=4,!(o<=0))switch(31&e[a]){case 6:var d=e.subarray(a+1,a+1+o),f=u(a,t);if(i={nalUnitType:"sei_rbsp",size:o,data:d,escapedRBSP:n(d),trackId:r},f)i.pts=f.pts,i.dts=f.dts,s=f;else{if(!s){console.log("We've encountered a nal unit without data. See mux.js#233.");break}i.pts=s.pts,i.dts=s.dts}c.push(i)}return c}(i,function(e,t,r){var n=t,i=r.defaultSampleDuration||0,a=r.defaultSampleSize||0,o=r.trackId,l=[];return e.forEach((function(e){var t=s(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=a),e.trackId=o,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration})),l=l.concat(t)})),l}(v,m,p),h),c[h]||(c[h]=[]),c[h]=c[h].concat(r))})),c};e.exports=function(){var e,t,r,n,a,o,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new i,s=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,a.captions.push(e),a.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===typeof t&&0===Object.keys(t).length)&&(r!==e[0]||n!==t[r])},this.parse=function(e,i,o){var s;if(!this.isInitialized())return null;if(!i||!o)return null;if(this.isNewInit(i,o))r=i[0],n=o[r];else if(null===r||!n)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,i,o)}return null!==(s=function(e,t,r){return null===t?null:{seiNals:c(e,t)[t],timescale:r}}(e,r,n))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),a):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],r=null,n=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(e,t,r){e.exports={tag:r(106),Transmuxer:r(290),getFlvHeader:r(293)}},function(e,t,r){"use strict";var n,i,a,o,s,l,u=r(30),c=r(106),d=r(89),f=r(85),p=r(99).H264Stream,h=r(291),g=r(292);o=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var r=new c(c.METADATA_TAG);return r.dts=t,r.pts=t,r.writeMetaDataDouble("videocodecid",7),r.writeMetaDataDouble("width",e.width),r.writeMetaDataDouble("height",e.height),r},l=function(e,t){var r,n=new c(c.VIDEO_TAG,!0);for(n.dts=t,n.pts=t,n.writeByte(1),n.writeByte(e.profileIdc),n.writeByte(e.profileCompatibility),n.writeByte(e.levelIdc),n.writeByte(255),n.writeByte(225),n.writeShort(e.sps[0].length),n.writeBytes(e.sps[0]),n.writeByte(e.pps.length),r=0;r<e.pps.length;++r)n.writeShort(e.pps[r].length),n.writeBytes(e.pps[r]);return n},(a=function(e){var t,r=[],n=[];a.prototype.init.call(this),this.push=function(t){o(e,t),e&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),r.push(t)},this.flush=function(){var i,a,o,s=new g;if(0!==r.length){for(o=-1/0;r.length;)i=r.shift(),n.length&&i.pts>=n[0]&&(o=n.shift(),this.writeMetaDataTags(s,o)),(e.extraData!==t||i.pts-o>=1e3)&&(this.writeMetaDataTags(s,i.pts),t=e.extraData,o=i.pts),(a=new c(c.AUDIO_TAG)).pts=i.pts,a.dts=i.dts,a.writeBytes(i.data),s.push(a.finalize());n.length=0,t=null,this.trigger("data",{track:e,tags:s.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(t,r){var n;(n=new c(c.METADATA_TAG)).pts=r,n.dts=r,n.writeMetaDataDouble("audiocodecid",10),n.writeMetaDataBoolean("stereo",2===e.channelcount),n.writeMetaDataDouble("audiosamplerate",e.samplerate),n.writeMetaDataDouble("audiosamplesize",16),t.push(n.finalize()),(n=new c(c.AUDIO_TAG,!0)).pts=r,n.dts=r,n.view.setUint16(n.position,e.extraData),n.position+=2,n.length=Math.max(n.length,n.position),t.push(n.finalize())},this.onVideoKeyFrame=function(e){n.push(e)}}).prototype=new u,(i=function(e){var t,r,n=[];i.prototype.init.call(this),this.finishFrame=function(n,i){if(i){if(t&&e&&e.newMetadata&&(i.keyFrame||0===n.length)){var a=s(t,i.dts).finalize(),o=l(e,i.dts).finalize();a.metaDataTag=o.metaDataTag=!0,n.push(a),n.push(o),e.newMetadata=!1,this.trigger("keyframe",i.dts)}i.endNalUnit(),n.push(i.finalize()),r=null}},this.push=function(t){o(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){for(var i,a=new g;n.length&&"access_unit_delimiter_rbsp"!==n[0].nalUnitType;)n.shift();if(0!==n.length){for(;n.length;)"seq_parameter_set_rbsp"===(i=n.shift()).nalUnitType?(e.newMetadata=!0,t=i.config,e.width=t.width,e.height=t.height,e.sps=[i.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,r.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,e.pps=[i.data],r.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(r&&this.finishFrame(a,r),(r=new c(c.VIDEO_TAG)).pts=i.pts,r.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(r.keyFrame=!0),r.endNalUnit()),r.startNalUnit(),r.writeBytes(i.data);r&&this.finishFrame(a,r),this.trigger("data",{track:e,tags:a.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new u,(n=function(e){var t,r,o,s,l,u,c,g,m,v,y,b,k=this;n.prototype.init.call(this),e=e||{},this.metadataStream=new d.MetadataStream,e.metadataStream=this.metadataStream,t=new d.TransportPacketStream,r=new d.TransportParseStream,o=new d.ElementaryStream,s=new d.TimestampRolloverStream("video"),l=new d.TimestampRolloverStream("audio"),u=new d.TimestampRolloverStream("timed-metadata"),c=new f,g=new p,b=new h(e),t.pipe(r).pipe(o),o.pipe(s).pipe(g),o.pipe(l).pipe(c),o.pipe(u).pipe(this.metadataStream).pipe(b),y=new d.CaptionStream,g.pipe(y).pipe(b),o.on("data",(function(e){var t,r,n;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?r=e.tracks[t]:"audio"===e.tracks[t].type&&(n=e.tracks[t]);r&&!m&&(b.numberOfTracks++,m=new i(r),g.pipe(m).pipe(b)),n&&!v&&(b.numberOfTracks++,v=new a(n),c.pipe(v).pipe(b),m&&m.on("keyframe",v.onVideoKeyFrame))}})),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){y.reset()},b.on("data",(function(e){k.trigger("data",e)})),b.on("done",(function(){k.trigger("done")}))}).prototype=new u,e.exports=n},function(e,t,r){"use strict";var n=r(30),i=function e(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,e.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};(i.prototype=new n).flush=function(e){var t,r,n,i,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)(r=this.pendingCaptions[n]).startTime=r.startPts-i,r.startTime/=9e4,r.endTime=r.endPts-i,r.endTime/=9e4,a.captionStreams[r.stream]=!0,a.captions.push(r);for(n=0;n<this.pendingMetadata.length;n++)(t=this.pendingMetadata[n]).cueTime=t.pts-i,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},e.exports=i},function(e,t,r){"use strict";e.exports=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})}},function(e,t,r){"use strict";var n=r(106);e.exports=function(e,t,r){var i,a,o,s=new Uint8Array(9),l=new DataView(s.buffer);return e=e||0,t=void 0===t||t,r=void 0===r||r,l.setUint8(0,70),l.setUint8(1,76),l.setUint8(2,86),l.setUint8(3,1),l.setUint8(4,(t?4:0)|(r?1:0)),l.setUint32(5,s.byteLength),e<=0?((a=new Uint8Array(s.byteLength+4)).set(s),a.set([0,0,0,0],s.byteLength),a):((i=new n(n.METADATA_TAG)).pts=i.dts=0,i.writeMetaDataDouble("duration",e),o=i.finalize().length,(a=new Uint8Array(s.byteLength+o)).set(s),a.set(l.byteLength,o),a)}},function(e,t,r){e.exports=r(89)},function(e,t,r){e.exports={Transmuxer:r(296)}},function(e,t,r){var n=r(30),i=r(89),a=r(166),o=r(297),s=r(298),l=r(88),u=r(91).isLikelyAacData,c=r(85),d=r(172),f=r(51),p=function(e){return e.prototype=new n,e.prototype.init.call(e),e},h=function(e,t){e.on("data",t.trigger.bind(t,"data")),e.on("done",t.trigger.bind(t,"done")),e.on("partialdone",t.trigger.bind(t,"partialdone")),e.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),e.on("audioTimingInfo",t.trigger.bind(t,"audioTimingInfo")),e.on("videoTimingInfo",t.trigger.bind(t,"videoTimingInfo")),e.on("trackinfo",t.trigger.bind(t,"trackinfo")),e.on("id3Frame",(function(r){r.dispatchType=e.metadataStream.dispatchType,r.cueTime=f.videoTsToSeconds(r.pts),t.trigger("id3Frame",r)})),e.on("caption",(function(e){t.trigger("caption",e)}))},g=function e(t){var r=null,n=!0;t=t||{},e.prototype.init.call(this),t.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.push=function(e){if(n){var l=u(e);!l||r&&"aac"===r.type?l||r&&"ts"===r.type||(r=function(e){var t={type:"ts",tracks:{audio:null,video:null},packet:new i.TransportPacketStream,parse:new i.TransportParseStream,elementary:new i.ElementaryStream,timestampRollover:new i.TimestampRolloverStream,adts:new a.Adts,h264:new a.h264.H264Stream,captionStream:new i.CaptionStream,metadataStream:new i.MetadataStream};return t.headOfPipeline=t.packet,t.packet.pipe(t.parse).pipe(t.elementary).pipe(t.timestampRollover),t.timestampRollover.pipe(t.h264),t.h264.pipe(t.captionStream),t.timestampRollover.pipe(t.metadataStream),t.timestampRollover.pipe(t.adts),t.elementary.on("data",(function(r){if("metadata"===r.type){for(var n=0;n<r.tracks.length;n++)t.tracks[r.tracks[n].type]||(t.tracks[r.tracks[n].type]=r.tracks[n],t.tracks[r.tracks[n].type].timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime);t.tracks.video&&!t.videoSegmentStream&&(t.videoSegmentStream=new s(t.tracks.video,e),t.videoSegmentStream.on("timelineStartInfo",(function(r){t.tracks.audio&&!e.keepOriginalTimestamps&&t.audioSegmentStream.setEarliestDts(r.dts-e.baseMediaDecodeTime)})),t.videoSegmentStream.on("timingInfo",t.trigger.bind(t,"videoTimingInfo")),t.videoSegmentStream.on("data",(function(e){t.trigger("data",{type:"video",data:e})})),t.videoSegmentStream.on("done",t.trigger.bind(t,"done")),t.videoSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.videoSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.h264.pipe(t.videoSegmentStream)),t.tracks.audio&&!t.audioSegmentStream&&(t.audioSegmentStream=new o(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adts.pipe(t.audioSegmentStream)),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video})}})),t.captionStream.on("data",(function(r){var n;n=t.tracks.video&&t.tracks.video.timelineStartInfo.pts||0,r.startTime=f.metadataTsToSeconds(r.startPts,n,e.keepOriginalTimestamps),r.endTime=f.metadataTsToSeconds(r.endPts,n,e.keepOriginalTimestamps),t.trigger("caption",r)})),(t=p(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),h(r,this)):(r=function(e){var t={type:"aac",tracks:{audio:null},metadataStream:new i.MetadataStream,aacStream:new d,audioRollover:new i.TimestampRolloverStream("audio"),timedMetadataRollover:new i.TimestampRolloverStream("timed-metadata"),adtsStream:new c(!0)};return t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioRollover).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataRollover).pipe(t.metadataStream),t.metadataStream.on("timestamp",(function(e){t.aacStream.setTimestamp(e.timeStamp)})),t.aacStream.on("data",(function(r){"timed-metadata"!==r.type&&"audio"!==r.type||t.audioSegmentStream||(t.tracks.audio=t.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:e.baseMediaDecodeTime},codec:"adts",type:"audio"},t.audioSegmentStream=new o(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video}))})),(t=p(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),h(r,this)),n=!1}r.headOfPipeline.push(e)},this.flush=function(){r&&(n=!0,r.headOfPipeline.flush())},this.partialFlush=function(){r&&r.headOfPipeline.partialFlush()},this.endTimeline=function(){r&&r.headOfPipeline.endTimeline()},this.reset=function(){r&&r.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(e){t.keepOriginalTimestamps||(t.baseMediaDecodeTime=e),r&&(r.tracks.audio&&(r.tracks.audio.timelineStartInfo.dts=void 0,r.tracks.audio.timelineStartInfo.pts=void 0,l.clearDtsInfo(r.tracks.audio),r.audioRollover&&r.audioRollover.discontinuity()),r.tracks.video&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),r.tracks.video.timelineStartInfo.dts=void 0,r.tracks.video.timelineStartInfo.pts=void 0,l.clearDtsInfo(r.tracks.video)),r.timestampRollover&&r.timestampRollover.discontinuity())},this.setRemux=function(e){t.remux=e,r&&r.coalesceStream&&r.coalesceStream.setRemux(e)},this.setAudioAppendStart=function(e){r&&r.tracks.audio&&r.audioSegmentStream&&r.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){}};g.prototype=new n,e.exports=g},function(e,t,r){"use strict";var n=r(30),i=r(86),a=r(168),o=r(88),s=r(51).ONE_SECOND_IN_TS,l=r(173),u=function e(t,r){var n=[],u=0,c=0,d=0,f=1/0,p=null,h=null;r=r||{},e.prototype.init.call(this),this.push=function(e){o.collectDtsInfo(t,e),t&&l.forEach((function(r){t[r]=e[r]})),n.push(e)},this.setEarliestDts=function(e){c=e},this.setVideoBaseMediaDecodeTime=function(e){f=e},this.setAudioAppendStart=function(e){d=e},this.processFrames_=function(){var e,l,g,m,v;0!==n.length&&0!==(e=a.trimAdtsFramesByEarliestDts(n,t,c)).length&&(t.baseMediaDecodeTime=o.calculateTrackBaseMediaDecodeTime(t,r.keepOriginalTimestamps),a.prefixWithSilence(t,e,d,f),t.samples=a.generateSampleTable(e),g=i.mdat(a.concatenateFrameData(e)),n=[],l=i.moof(u,[t]),u++,t.initSegment=i.initSegment([t]),(m=new Uint8Array(l.byteLength+g.byteLength)).set(l),m.set(g,l.byteLength),o.clearDtsInfo(t),null===p&&(h=p=e[0].pts),h+=e.length*(1024*s/t.samplerate),v={start:p},this.trigger("timingInfo",v),this.trigger("data",{track:t,boxes:m}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:p,end:h}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){o.clearDtsInfo(t),p=null,h=null},this.reset=function(){this.resetTiming_(),n=[],this.trigger("reset")}};u.prototype=new n,e.exports=u},function(e,t,r){"use strict";var n=r(30),i=r(86),a=r(88),o=r(167),s=r(174),l=function e(t,r){var n,l,u,c=0,d=[],f=[],p=null,h=null,g=!0;r=r||{},e.prototype.init.call(this),this.push=function(e){a.collectDtsInfo(t,e),"undefined"===typeof t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],s.forEach((function(e){t[e]=n[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||l||(l=e.data,t.pps=[e.data]),d.push(e)},this.processNals_=function(e){var n;for(d=f.concat(d);d.length&&"access_unit_delimiter_rbsp"!==d[0].nalUnitType;)d.shift();if(0!==d.length){var s=o.groupNalsIntoFrames(d);if(s.length)if(f=s[s.length-1],e&&(s.pop(),s.duration-=f.duration,s.nalCount-=f.length,s.byteLength-=f.byteLength),s.length){if(this.trigger("timelineStartInfo",t.timelineStartInfo),g){if(!(u=o.groupFramesIntoGops(s))[0][0].keyFrame){if(!(u=o.extendFirstKeyFrame(u))[0][0].keyFrame)return d=[].concat.apply([],s).concat(f),void(f=[]);(s=[].concat.apply([],u)).duration=u.duration}g=!1}for(null===p&&(p=s[0].pts,h=p),h+=s.duration,this.trigger("timingInfo",{start:p,end:h}),n=0;n<s.length;n++){var l=s[n];t.samples=o.generateSampleTableForFrame(l);var m=i.mdat(o.concatenateNalDataForFrame(l));a.clearDtsInfo(t),a.collectDtsInfo(t,l),t.baseMediaDecodeTime=a.calculateTrackBaseMediaDecodeTime(t,r.keepOriginalTimestamps);var v=i.moof(c,[t]);c++,t.initSegment=i.initSegment([t]);var y=new Uint8Array(v.byteLength+m.byteLength);y.set(v),y.set(m,v.byteLength),this.trigger("data",{track:t,boxes:y,sequence:c,videoFrameDts:l.dts,videoFramePts:l.pts})}d=[]}else d=[]}},this.resetTimingAndConfig_=function(){n=void 0,l=void 0,p=null,h=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),f=[],d=[],g=!0,this.trigger("reset")}};l.prototype=new n,e.exports=l},function(e,t,r){"use strict";var n,i,a=function(e){return new Date(1e3*e-20828448e5)},o=r(101),s=r(100),l=function(e){var t,r,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[];for(t=0;t+4<e.length;t+=r)if(r=n.getUint32(t),t+=4,r<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[t]&31)}return i},u={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:n(e.subarray(78,e.byteLength))}},avcC:function(e){var t,r,n,i,a=new DataView(e.buffer,e.byteOffset,e.byteLength),o={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(n=6,i=0;i<s;i++)r=a.getUint16(n),n+=2,o.sps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;for(t=e[n],n++,i=0;i<t;i++)r=a.getUint16(n),n+=2,o.pps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;return o},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={majorBrand:o(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)r.compatibleBrands.push(o(e.subarray(n,n+4))),n+=4;return r},dinf:function(e){return{boxes:n(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:n(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:o(e.subarray(8,12)),name:""},r=8;for(r=24;r<e.byteLength;r++){if(0===e[r]){r++;break}t.name+=String.fromCharCode(e[r])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:l(e)}},mdhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:r.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===i.version?(n+=4,i.creationTime=a(r.getUint32(n)),n+=8,i.modificationTime=a(r.getUint32(n)),n+=4,i.timescale=r.getUint32(n),n+=8,i.duration=r.getUint32(n)):(i.creationTime=a(r.getUint32(n)),n+=4,i.modificationTime=a(r.getUint32(n)),n+=4,i.timescale=r.getUint32(n),n+=4,i.duration=r.getUint32(n)),n+=4,t=r.getUint16(n),i.language+=String.fromCharCode(96+(t>>10)),i.language+=String.fromCharCode(96+((992&t)>>5)),i.language+=String.fromCharCode(96+(31&t)),i},mdia:function(e){return{boxes:n(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:n(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(r.streamDescriptor=n(e.subarray(28))[0]),r},moof:function(e){return{boxes:n(e)}},moov:function(e){return{boxes:n(e)}},mvex:function(e){return{boxes:n(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=a(t.getUint32(r)),r+=8,n.modificationTime=a(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=8,n.duration=t.getUint32(r)):(n.creationTime=a(t.getUint32(r)),r+=4,n.modificationTime=a(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=4,n.duration=t.getUint32(r)),r+=4,n.rate=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,r+=8,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,r+=24,n.nextTrackId=t.getUint32(r),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)r.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return r},sidx:r(300),smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:n(e)}},stco:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=r.getUint32(4);for(t=8;i;t+=4,i--)n.chunkOffsets.push(r.getUint32(t));return n},stsc:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=r.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)i.sampleToChunks.push({firstChunk:r.getUint32(t),samplesPerChunk:r.getUint32(t+4),sampleDescriptionIndex:r.getUint32(t+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:n(e.subarray(8))}},stsz:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:r.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(r.getUint32(t));return n},stts:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=r.getUint32(4);for(t=8;i;t+=8,i--)n.timeToSamples.push({sampleCount:r.getUint32(t),sampleDelta:r.getUint32(t+4)});return n},styp:function(e){return u.ftyp(e)},tfdt:r(104),tfhd:r(102),tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=a(t.getUint32(r)),r+=8,n.modificationTime=a(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=8,n.duration=t.getUint32(r)):(n.creationTime=a(t.getUint32(r)),r+=4,n.modificationTime=a(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=4,n.duration=t.getUint32(r)),r+=4,r+=8,n.layer=t.getUint16(r),r+=2,n.alternateGroup=t.getUint16(r),r+=2,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,n.width=t.getUint16(r)+t.getUint16(r+2)/65536,r+=4,n.height=t.getUint16(r)+t.getUint16(r+2)/65536,n},traf:function(e){return{boxes:n(e)}},trak:function(e){return{boxes:n(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:r(103),"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};n=function(e){for(var t,r,n,i,a,s=0,l=[],c=new ArrayBuffer(e.length),d=new Uint8Array(c),f=0;f<e.length;++f)d[f]=e[f];for(t=new DataView(c);s<e.byteLength;)r=t.getUint32(s),n=o(e.subarray(s+4,s+8)),i=r>1?s+r:e.byteLength,(a=(u[n]||function(e){return{data:e}})(e.subarray(s+8,i))).size=r,a.type=n,l.push(a),s=i;return l},i=function(e,t){var r;return t=t||0,r=new Array(2*t+1).join(" "),e.map((function(e,n){return r+e.type+"\n"+Object.keys(e).filter((function(e){return"type"!==e&&"boxes"!==e})).map((function(t){var n=r+"  "+t+": ",i=e[t];if(i instanceof Uint8Array||i instanceof Uint32Array){var a=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map((function(e){return" "+("00"+e.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return a?1===a.length?n+"<"+a.join("").slice(1)+">":n+"<\n"+a.map((function(e){return r+"  "+e})).join("\n")+"\n"+r+"  >":n+"<>"}return n+JSON.stringify(i,null,2).split("\n").map((function(e,t){return 0===t?e:r+"  "+e})).join("\n")})).join("\n")+(e.boxes?"\n"+i(e.boxes,t+1):"")})).join("\n")},e.exports={inspect:n,textify:i,parseType:o,findBox:s,parseTraf:u.traf,parseTfdt:u.tfdt,parseHdlr:u.hdlr,parseTfhd:u.tfhd,parseTrun:u.trun,parseSidx:u.sidx}},function(e,t){var r=Math.pow(2,32);e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=t.getUint32(i),n.firstOffset=t.getUint32(i+4),i+=8):(n.earliestPresentationTime=t.getUint32(i)*r+t.getUint32(i+4),n.firstOffset=t.getUint32(i+8)*r+t.getUint32(i+12),i+=16),i+=2;var a=t.getUint16(i);for(i+=2;a>0;i+=12,a--)n.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return n}},function(e,t,r){"use strict";var n={8:"audio",9:"video",18:"metadata"},i=function(e){for(var t,r=[];e.byteLength>0;)t=0,r.push("0x"+("00"+e[t++].toString(16)).slice(-2).toUpperCase()),e=e.subarray(1);return r.join(" ")},a=function(e,t){var r=e[0]&parseInt("00001111",2);return(t=t||{}).frameType=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"][(e[0]&parseInt("11110000",2))>>>4],t.codecID=r,7===r?function(e,t){var r=e[1]&parseInt("01111111",2)<<16|e[2]<<8|e[3];return(t=t||{}).avcPacketType=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"][e[0]],t.CompositionTime=e[1]&parseInt("10000000",2)?-r:r,1===e[0]?t.nalUnitTypeRaw=i(e.subarray(4,100)):t.data=i(e.subarray(4)),t}(e.subarray(1),t):t},o=function(e,t){var r=(e[0]&parseInt("11110000",2))>>>4;return(t=t||{}).soundFormat=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"][r],t.soundRate=["5.5-kHz","11-kHz","22-kHz","44-kHz"][(e[0]&parseInt("00001100",2))>>>2],t.soundSize=(e[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",t.soundType=e[0]&parseInt("00000001",2)?"Stereo":"Mono",10===r?function(e,t){return(t=t||{}).aacPacketType=["AAC Sequence Header","AAC Raw"][e[0]],t.data=i(e.subarray(1)),t}(e.subarray(1),t):t},s=function(e){var t=function(e){return{tagType:n[e[0]],dataSize:e[1]<<16|e[2]<<8|e[3],timestamp:e[7]<<24|e[4]<<16|e[5]<<8|e[6],streamID:e[8]<<16|e[9]<<8|e[10]}}(e);switch(e[0]){case 8:o(e.subarray(11),t);break;case 9:a(e.subarray(11),t)}return t};e.exports={inspectTag:s,inspect:function(e){var t,r,n=9,i=[];for(n+=4;n<e.byteLength;)t=e[n+1]<<16,t|=e[n+2]<<8,t|=e[n+3],t+=11,r=e.subarray(n,n+t),i.push(s(r)),n+=t+4;return i},textify:function(e){return JSON.stringify(e,null,2)}}},function(e,t,r){"use strict";var n=r(90),i=r(171).handleRollover,a={};a.ts=r(303),a.aac=r(91);var o=r(51).ONE_SECOND_IN_TS,s=function(e,t,r){for(var n,i,o,s,l=0,u=188,c=!1;u<=e.byteLength;)if(71!==e[l]||71!==e[u]&&u!==e.byteLength)l++,u++;else{switch(n=e.subarray(l,u),a.ts.parseType(n,t.pid)){case"pes":i=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"audio"===i&&o&&(s=a.ts.parsePesTime(n))&&(s.type="audio",r.audio.push(s),c=!0)}if(c)break;l+=188,u+=188}for(l=(u=e.byteLength)-188,c=!1;l>=0;)if(71!==e[l]||71!==e[u]&&u!==e.byteLength)l--,u--;else{switch(n=e.subarray(l,u),a.ts.parseType(n,t.pid)){case"pes":i=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"audio"===i&&o&&(s=a.ts.parsePesTime(n))&&(s.type="audio",r.audio.push(s),c=!0)}if(c)break;l-=188,u-=188}},l=function(e,t,r){for(var n,i,o,s,l,u,c,d=0,f=188,p=!1,h={data:[],size:0};f<e.byteLength;)if(71!==e[d]||71!==e[f])d++,f++;else{switch(n=e.subarray(d,f),a.ts.parseType(n,t.pid)){case"pes":if(i=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"video"===i&&(o&&!p&&(s=a.ts.parsePesTime(n))&&(s.type="video",r.video.push(s),p=!0),!r.firstKeyFrame)){if(o&&0!==h.size){for(l=new Uint8Array(h.size),u=0;h.data.length;)c=h.data.shift(),l.set(c,u),u+=c.byteLength;if(a.ts.videoPacketContainsKeyFrame(l)){var g=a.ts.parsePesTime(l);g?(r.firstKeyFrame=g,r.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}h.size=0}h.data.push(n),h.size+=n.byteLength}}if(p&&r.firstKeyFrame)break;d+=188,f+=188}for(d=(f=e.byteLength)-188,p=!1;d>=0;)if(71!==e[d]||71!==e[f])d--,f--;else{switch(n=e.subarray(d,f),a.ts.parseType(n,t.pid)){case"pes":i=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"video"===i&&o&&(s=a.ts.parsePesTime(n))&&(s.type="video",r.video.push(s),p=!0)}if(p)break;d-=188,f-=188}},u=function(e){var t={pid:null,table:null},r={};for(var i in function(e,t){for(var r,n=0,i=188;i<e.byteLength;)if(71!==e[n]||71!==e[i])n++,i++;else{switch(r=e.subarray(n,i),a.ts.parseType(r,t.pid)){case"pat":t.pid||(t.pid=a.ts.parsePat(r));break;case"pmt":t.table||(t.table=a.ts.parsePmt(r))}if(t.pid&&t.table)return;n+=188,i+=188}}(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case n.H264_STREAM_TYPE:r.video=[],l(e,t,r),0===r.video.length&&delete r.video;break;case n.ADTS_STREAM_TYPE:r.audio=[],s(e,t,r),0===r.audio.length&&delete r.audio}}return r};e.exports={inspect:function(e,t){var r;return(r=a.aac.isLikelyAacData(e)?function(e){for(var t,r=!1,n=0,i=null,s=null,l=0,u=0;e.length-u>=3;){switch(a.aac.parseType(e,u)){case"timed-metadata":if(e.length-u<10){r=!0;break}if((l=a.aac.parseId3TagSize(e,u))>e.length){r=!0;break}null===s&&(t=e.subarray(u,u+l),s=a.aac.parseAacTimestamp(t)),u+=l;break;case"audio":if(e.length-u<7){r=!0;break}if((l=a.aac.parseAdtsSize(e,u))>e.length){r=!0;break}null===i&&(t=e.subarray(u,u+l),i=a.aac.parseSampleRate(t)),n++,u+=l;break;default:u++}if(r)return null}if(null===i||null===s)return null;var c=o/i;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*n*c,pts:s+1024*n*c}]}}(e):u(e))&&(r.audio||r.video)?(function(e,t){if(e.audio&&e.audio.length){var r=t;"undefined"===typeof r&&(r=e.audio[0].dts),e.audio.forEach((function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o}))}if(e.video&&e.video.length){var n=t;if("undefined"===typeof n&&(n=e.video[0].dts),e.video.forEach((function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o})),e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=i(a.dts,n),a.pts=i(a.pts,n),a.dtsTime=a.dts/o,a.ptsTime=a.dts/o}}}(r,t),r):null},parseAudioPes_:s}},function(e,t,r){"use strict";var n=r(90),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},a=function(e){return!!(64&e[1])},o=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var r=i(e);return 0===r?"pat":r===t?"pmt":t?"pes":null},parsePat:function(e){var t=a(e),r=4+o(e);return t&&(r+=e[r]+1),(31&e[r+10])<<8|e[r+11]},parsePmt:function(e){var t={},r=a(e),n=4+o(e);if(r&&(n+=e[n]+1),1&e[n+5]){var i;i=3+((15&e[n+1])<<8|e[n+2])-4;for(var s=12+((15&e[n+10])<<8|e[n+11]);s<i;){var l=n+s;t[(31&e[l+1])<<8|e[l+2]]=e[l],s+=5+((15&e[l+3])<<8|e[l+4])}return t}},parsePayloadUnitStartIndicator:a,parsePesType:function(e,t){switch(t[i(e)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!a(e))return null;var t=4+o(e);if(t>=e.byteLength)return null;var r,n=null;return 192&(r=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&r&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+o(e),r=e.subarray(t),n=0,i=0,a=!1;i<r.byteLength-3;i++)if(1===r[i+2]){n=i+5;break}for(;n<r.byteLength;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}i+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&r[i+3])&&(a=!0);do{n++}while(1!==r[n]&&n<r.length);i=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&r[i+3])&&(a=!0),i=n-2,n+=3;break;default:n+=3}return r=r.subarray(i),n-=i,i=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&r[i+3])&&(a=!0),a}}},function(e,t,r){},,function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(r,n){r(t.getItem(e))}))},setItem:function(e,r){return new Promise((function(n,i){n(t.setItem(e,r))}))},removeItem:function(e){return new Promise((function(r,n){r(t.removeItem(e))}))}}};var n,i=(n=r(307))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:a};var a={getItem:i,setItem:i,removeItem:i}},function(e,t,r){"use strict";r.r(t),r.d(t,"Activity",(function(){return c})),r.d(t,"Airplay",(function(){return h})),r.d(t,"AlertCircle",(function(){return y})),r.d(t,"AlertOctagon",(function(){return E})),r.d(t,"AlertTriangle",(function(){return x})),r.d(t,"AlignCenter",(function(){return C})),r.d(t,"AlignJustify",(function(){return D})),r.d(t,"AlignLeft",(function(){return U})),r.d(t,"AlignRight",(function(){return V})),r.d(t,"Anchor",(function(){return H})),r.d(t,"Aperture",(function(){return X})),r.d(t,"Archive",(function(){return ee})),r.d(t,"ArrowDownCircle",(function(){return ie})),r.d(t,"ArrowDownLeft",(function(){return le})),r.d(t,"ArrowDownRight",(function(){return fe})),r.d(t,"ArrowDown",(function(){return me})),r.d(t,"ArrowLeftCircle",(function(){return ke})),r.d(t,"ArrowLeft",(function(){return Se})),r.d(t,"ArrowRightCircle",(function(){return Pe})),r.d(t,"ArrowRight",(function(){return Ie})),r.d(t,"ArrowUpCircle",(function(){return Le})),r.d(t,"ArrowUpLeft",(function(){return Fe})),r.d(t,"ArrowUpRight",(function(){return We})),r.d(t,"ArrowUp",(function(){return Ze})),r.d(t,"AtSign",(function(){return Qe})),r.d(t,"Award",(function(){return rt})),r.d(t,"BarChart2",(function(){return ot})),r.d(t,"BarChart",(function(){return ct})),r.d(t,"BatteryCharging",(function(){return ht})),r.d(t,"Battery",(function(){return yt})),r.d(t,"BellOff",(function(){return Et})),r.d(t,"Bell",(function(){return xt})),r.d(t,"Bluetooth",(function(){return Ct})),r.d(t,"Bold",(function(){return Dt})),r.d(t,"BookOpen",(function(){return Ut})),r.d(t,"Book",(function(){return Vt})),r.d(t,"Bookmark",(function(){return Ht})),r.d(t,"Box",(function(){return Xt})),r.d(t,"Briefcase",(function(){return er})),r.d(t,"Calendar",(function(){return ir})),r.d(t,"CameraOff",(function(){return lr})),r.d(t,"Camera",(function(){return fr})),r.d(t,"Cast",(function(){return mr})),r.d(t,"CheckCircle",(function(){return kr})),r.d(t,"CheckSquare",(function(){return Sr})),r.d(t,"Check",(function(){return Pr})),r.d(t,"ChevronDown",(function(){return Ir})),r.d(t,"ChevronLeft",(function(){return Lr})),r.d(t,"ChevronRight",(function(){return Fr})),r.d(t,"ChevronUp",(function(){return Wr})),r.d(t,"ChevronsDown",(function(){return Zr})),r.d(t,"ChevronsLeft",(function(){return Qr})),r.d(t,"ChevronsRight",(function(){return rn})),r.d(t,"ChevronsUp",(function(){return sn})),r.d(t,"Chrome",(function(){return dn})),r.d(t,"Circle",(function(){return gn})),r.d(t,"Clipboard",(function(){return bn})),r.d(t,"Clock",(function(){return wn})),r.d(t,"CloudDrizzle",(function(){return On})),r.d(t,"CloudLightning",(function(){return Mn})),r.d(t,"CloudOff",(function(){return jn})),r.d(t,"CloudRain",(function(){return Bn})),r.d(t,"CloudSnow",(function(){return $n})),r.d(t,"Cloud",(function(){return Gn})),r.d(t,"Code",(function(){return Yn})),r.d(t,"Codepen",(function(){return ti})),r.d(t,"Codesandbox",(function(){return ai})),r.d(t,"Coffee",(function(){return ui})),r.d(t,"Columns",(function(){return pi})),r.d(t,"Command",(function(){return vi})),r.d(t,"Compass",(function(){return _i})),r.d(t,"Copy",(function(){return Ti})),r.d(t,"CornerDownLeft",(function(){return Ai})),r.d(t,"CornerDownRight",(function(){return Ri})),r.d(t,"CornerLeftDown",(function(){return Ni})),r.d(t,"CornerLeftUp",(function(){return zi})),r.d(t,"CornerRightDown",(function(){return Ki})),r.d(t,"CornerRightUp",(function(){return qi})),r.d(t,"CornerUpLeft",(function(){return Ji})),r.d(t,"CornerUpRight",(function(){return na})),r.d(t,"Cpu",(function(){return sa})),r.d(t,"CreditCard",(function(){return da})),r.d(t,"Crop",(function(){return ga})),r.d(t,"Crosshair",(function(){return ba})),r.d(t,"Database",(function(){return wa})),r.d(t,"Delete",(function(){return Oa})),r.d(t,"Disc",(function(){return Ma})),r.d(t,"DivideCircle",(function(){return ja})),r.d(t,"DivideSquare",(function(){return Ba})),r.d(t,"Divide",(function(){return $a})),r.d(t,"DollarSign",(function(){return Ga})),r.d(t,"DownloadCloud",(function(){return Ya})),r.d(t,"Download",(function(){return to})),r.d(t,"Dribbble",(function(){return ao})),r.d(t,"Droplet",(function(){return uo})),r.d(t,"Edit2",(function(){return ho})),r.d(t,"Edit3",(function(){return yo})),r.d(t,"Edit",(function(){return Eo})),r.d(t,"ExternalLink",(function(){return xo})),r.d(t,"EyeOff",(function(){return Co})),r.d(t,"Eye",(function(){return Do})),r.d(t,"Facebook",(function(){return Uo})),r.d(t,"FastForward",(function(){return Vo})),r.d(t,"Feather",(function(){return Ho})),r.d(t,"Figma",(function(){return Xo})),r.d(t,"FileMinus",(function(){return es})),r.d(t,"FilePlus",(function(){return is})),r.d(t,"FileText",(function(){return ls})),r.d(t,"File",(function(){return fs})),r.d(t,"Film",(function(){return ms})),r.d(t,"Filter",(function(){return ks})),r.d(t,"Flag",(function(){return Ss})),r.d(t,"FolderMinus",(function(){return Ps})),r.d(t,"FolderPlus",(function(){return Is})),r.d(t,"Folder",(function(){return Ls})),r.d(t,"Framer",(function(){return Fs})),r.d(t,"Frown",(function(){return Ws})),r.d(t,"Gift",(function(){return Zs})),r.d(t,"GitBranch",(function(){return Qs})),r.d(t,"GitCommit",(function(){return rl})),r.d(t,"GitMerge",(function(){return ol})),r.d(t,"GitPullRequest",(function(){return cl})),r.d(t,"GitHub",(function(){return hl})),r.d(t,"Gitlab",(function(){return yl})),r.d(t,"Globe",(function(){return El})),r.d(t,"Grid",(function(){return xl})),r.d(t,"HardDrive",(function(){return Cl})),r.d(t,"Hash",(function(){return Dl})),r.d(t,"Headphones",(function(){return Ul})),r.d(t,"Heart",(function(){return Vl})),r.d(t,"HelpCircle",(function(){return Hl})),r.d(t,"Hexagon",(function(){return Xl})),r.d(t,"Home",(function(){return eu})),r.d(t,"Image",(function(){return iu})),r.d(t,"Inbox",(function(){return lu})),r.d(t,"Info",(function(){return fu})),r.d(t,"Instagram",(function(){return mu})),r.d(t,"Italic",(function(){return ku})),r.d(t,"Key",(function(){return Su})),r.d(t,"Layers",(function(){return Pu})),r.d(t,"Layout",(function(){return Iu})),r.d(t,"LifeBuoy",(function(){return Lu})),r.d(t,"Link2",(function(){return Fu})),r.d(t,"Link",(function(){return Wu})),r.d(t,"Linkedin",(function(){return Zu})),r.d(t,"List",(function(){return Qu})),r.d(t,"Loader",(function(){return rc})),r.d(t,"Lock",(function(){return oc})),r.d(t,"LogIn",(function(){return cc})),r.d(t,"LogOut",(function(){return hc})),r.d(t,"Mail",(function(){return yc})),r.d(t,"MapPin",(function(){return Ec})),r.d(t,"Map",(function(){return xc})),r.d(t,"Maximize2",(function(){return Cc})),r.d(t,"Maximize",(function(){return Dc})),r.d(t,"Meh",(function(){return Uc})),r.d(t,"Menu",(function(){return Vc})),r.d(t,"MessageCircle",(function(){return Hc})),r.d(t,"MessageSquare",(function(){return Xc})),r.d(t,"MicOff",(function(){return ed})),r.d(t,"Mic",(function(){return id})),r.d(t,"Minimize2",(function(){return ld})),r.d(t,"Minimize",(function(){return fd})),r.d(t,"MinusCircle",(function(){return md})),r.d(t,"MinusSquare",(function(){return kd})),r.d(t,"Minus",(function(){return Sd})),r.d(t,"Monitor",(function(){return Pd})),r.d(t,"Moon",(function(){return Id})),r.d(t,"MoreHorizontal",(function(){return Ld})),r.d(t,"MoreVertical",(function(){return Fd})),r.d(t,"MousePointer",(function(){return Wd})),r.d(t,"Move",(function(){return Zd})),r.d(t,"Music",(function(){return Qd})),r.d(t,"Navigation2",(function(){return rf})),r.d(t,"Navigation",(function(){return sf})),r.d(t,"Octagon",(function(){return df})),r.d(t,"Package",(function(){return gf})),r.d(t,"Paperclip",(function(){return bf})),r.d(t,"PauseCircle",(function(){return wf})),r.d(t,"Pause",(function(){return Of})),r.d(t,"PenTool",(function(){return Mf})),r.d(t,"Percent",(function(){return jf})),r.d(t,"PhoneCall",(function(){return Bf})),r.d(t,"PhoneForwarded",(function(){return $f})),r.d(t,"PhoneIncoming",(function(){return Gf})),r.d(t,"PhoneMissed",(function(){return Yf})),r.d(t,"PhoneOff",(function(){return tp})),r.d(t,"PhoneOutgoing",(function(){return ap})),r.d(t,"Phone",(function(){return up})),r.d(t,"PieChart",(function(){return pp})),r.d(t,"PlayCircle",(function(){return vp})),r.d(t,"Play",(function(){return _p})),r.d(t,"PlusCircle",(function(){return Tp})),r.d(t,"PlusSquare",(function(){return Ap})),r.d(t,"Plus",(function(){return Rp})),r.d(t,"Pocket",(function(){return Np})),r.d(t,"Power",(function(){return zp})),r.d(t,"Printer",(function(){return Kp})),r.d(t,"Radio",(function(){return qp})),r.d(t,"RefreshCcw",(function(){return Jp})),r.d(t,"RefreshCw",(function(){return nh})),r.d(t,"Repeat",(function(){return sh})),r.d(t,"Rewind",(function(){return dh})),r.d(t,"RotateCcw",(function(){return gh})),r.d(t,"RotateCw",(function(){return bh})),r.d(t,"Rss",(function(){return wh})),r.d(t,"Save",(function(){return Oh})),r.d(t,"Scissors",(function(){return Mh})),r.d(t,"Search",(function(){return jh})),r.d(t,"Send",(function(){return Bh})),r.d(t,"Server",(function(){return $h})),r.d(t,"Settings",(function(){return Gh})),r.d(t,"Share2",(function(){return Yh})),r.d(t,"Share",(function(){return tg})),r.d(t,"ShieldOff",(function(){return ag})),r.d(t,"Shield",(function(){return ug})),r.d(t,"ShoppingBag",(function(){return pg})),r.d(t,"ShoppingCart",(function(){return vg})),r.d(t,"Shuffle",(function(){return _g})),r.d(t,"Sidebar",(function(){return Tg})),r.d(t,"SkipBack",(function(){return Ag})),r.d(t,"SkipForward",(function(){return Rg})),r.d(t,"Slack",(function(){return Ng})),r.d(t,"Slash",(function(){return zg})),r.d(t,"Sliders",(function(){return Kg})),r.d(t,"Smartphone",(function(){return qg})),r.d(t,"Smile",(function(){return Jg})),r.d(t,"Speaker",(function(){return nm})),r.d(t,"Square",(function(){return sm})),r.d(t,"Star",(function(){return dm})),r.d(t,"StopCircle",(function(){return gm})),r.d(t,"Sun",(function(){return bm})),r.d(t,"Sunrise",(function(){return wm})),r.d(t,"Sunset",(function(){return Om})),r.d(t,"Tablet",(function(){return Mm})),r.d(t,"Tag",(function(){return jm})),r.d(t,"Target",(function(){return Bm})),r.d(t,"Terminal",(function(){return $m})),r.d(t,"Thermometer",(function(){return Gm})),r.d(t,"ThumbsDown",(function(){return Ym})),r.d(t,"ThumbsUp",(function(){return tv})),r.d(t,"ToggleLeft",(function(){return av})),r.d(t,"ToggleRight",(function(){return uv})),r.d(t,"Tool",(function(){return pv})),r.d(t,"Trash2",(function(){return vv})),r.d(t,"Trash",(function(){return _v})),r.d(t,"Trello",(function(){return Tv})),r.d(t,"TrendingDown",(function(){return Av})),r.d(t,"TrendingUp",(function(){return Rv})),r.d(t,"Triangle",(function(){return Nv})),r.d(t,"Truck",(function(){return zv})),r.d(t,"Tv",(function(){return Kv})),r.d(t,"Twitch",(function(){return qv})),r.d(t,"Twitter",(function(){return Jv})),r.d(t,"Type",(function(){return ny})),r.d(t,"Umbrella",(function(){return sy})),r.d(t,"Underline",(function(){return dy})),r.d(t,"Unlock",(function(){return gy})),r.d(t,"UploadCloud",(function(){return by})),r.d(t,"Upload",(function(){return wy})),r.d(t,"UserCheck",(function(){return Oy})),r.d(t,"UserMinus",(function(){return My})),r.d(t,"UserPlus",(function(){return jy})),r.d(t,"UserX",(function(){return By})),r.d(t,"User",(function(){return $y})),r.d(t,"Users",(function(){return Gy})),r.d(t,"VideoOff",(function(){return Yy})),r.d(t,"Video",(function(){return tb})),r.d(t,"Voicemail",(function(){return ab})),r.d(t,"Volume1",(function(){return ub})),r.d(t,"Volume2",(function(){return pb})),r.d(t,"VolumeX",(function(){return vb})),r.d(t,"Volume",(function(){return _b})),r.d(t,"Watch",(function(){return Tb})),r.d(t,"WifiOff",(function(){return Ab})),r.d(t,"Wifi",(function(){return Rb})),r.d(t,"Wind",(function(){return Nb})),r.d(t,"XCircle",(function(){return zb})),r.d(t,"XOctagon",(function(){return Kb})),r.d(t,"XSquare",(function(){return qb})),r.d(t,"X",(function(){return Jb})),r.d(t,"Youtube",(function(){return nk})),r.d(t,"ZapOff",(function(){return sk})),r.d(t,"Zap",(function(){return dk})),r.d(t,"ZoomIn",(function(){return gk})),r.d(t,"ZoomOut",(function(){return bk}));var n=r(0),i=r.n(n),a=r(1),o=r.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var u=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,u=l(e,["color","size"]);return i.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"}))}));u.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},u.displayName="Activity";var c=u;function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=f(e,["color","size"]);return i.a.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),i.a.createElement("polygon",{points:"12 15 17 21 7 21 12 15"}))}));p.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},p.displayName="Airplay";var h=p;function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var v=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=m(e,["color","size"]);return i.a.createElement("svg",g({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))}));v.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},v.displayName="AlertCircle";var y=v;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=k(e,["color","size"]);return i.a.createElement("svg",b({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))}));_.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_.displayName="AlertOctagon";var E=_;function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var T=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=S(e,["color","size"]);return i.a.createElement("svg",w({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),i.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),i.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));T.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},T.displayName="AlertTriangle";var x=T;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var A=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=P(e,["color","size"]);return i.a.createElement("svg",O({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"18",y1:"10",x2:"6",y2:"10"}),i.a.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),i.a.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),i.a.createElement("line",{x1:"18",y1:"18",x2:"6",y2:"18"}))}));A.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},A.displayName="AlignCenter";var C=A;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var R=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=I(e,["color","size"]);return i.a.createElement("svg",M({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),i.a.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),i.a.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),i.a.createElement("line",{x1:"21",y1:"18",x2:"3",y2:"18"}))}));R.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},R.displayName="AlignJustify";var D=R;function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var N=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=L(e,["color","size"]);return i.a.createElement("svg",j({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"17",y1:"10",x2:"3",y2:"10"}),i.a.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),i.a.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),i.a.createElement("line",{x1:"17",y1:"18",x2:"3",y2:"18"}))}));N.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},N.displayName="AlignLeft";var U=N;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var z=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=F(e,["color","size"]);return i.a.createElement("svg",B({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"21",y1:"10",x2:"7",y2:"10"}),i.a.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),i.a.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),i.a.createElement("line",{x1:"21",y1:"18",x2:"7",y2:"18"}))}));z.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},z.displayName="AlignRight";var V=z;function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var K=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=W(e,["color","size"]);return i.a.createElement("svg",$({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"5",r:"3"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"8"}),i.a.createElement("path",{d:"M5 12H2a10 10 0 0 0 20 0h-3"}))}));K.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},K.displayName="Anchor";var H=K;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var q=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Z(e,["color","size"]);return i.a.createElement("svg",G({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"14.31",y1:"8",x2:"20.05",y2:"17.94"}),i.a.createElement("line",{x1:"9.69",y1:"8",x2:"21.17",y2:"8"}),i.a.createElement("line",{x1:"7.38",y1:"12",x2:"13.12",y2:"2.06"}),i.a.createElement("line",{x1:"9.69",y1:"16",x2:"3.95",y2:"6.06"}),i.a.createElement("line",{x1:"14.31",y1:"16",x2:"2.83",y2:"16"}),i.a.createElement("line",{x1:"16.62",y1:"12",x2:"10.88",y2:"21.94"}))}));q.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},q.displayName="Aperture";var X=q;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var J=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Q(e,["color","size"]);return i.a.createElement("svg",Y({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"21 8 21 21 3 21 3 8"}),i.a.createElement("rect",{x:"1",y:"3",width:"22",height:"5"}),i.a.createElement("line",{x1:"10",y1:"12",x2:"14",y2:"12"}))}));J.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},J.displayName="Archive";var ee=J;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function re(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ne=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=re(e,["color","size"]);return i.a.createElement("svg",te({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"8 12 12 16 16 12"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}))}));ne.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ne.displayName="ArrowDownCircle";var ie=ne;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var se=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=oe(e,["color","size"]);return i.a.createElement("svg",ae({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"17",y1:"7",x2:"7",y2:"17"}),i.a.createElement("polyline",{points:"17 17 7 17 7 7"}))}));se.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},se.displayName="ArrowDownLeft";var le=se;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var de=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ce(e,["color","size"]);return i.a.createElement("svg",ue({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"7",y1:"7",x2:"17",y2:"17"}),i.a.createElement("polyline",{points:"17 7 17 17 7 17"}))}));de.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},de.displayName="ArrowDownRight";var fe=de;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ge=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=he(e,["color","size"]);return i.a.createElement("svg",pe({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.a.createElement("polyline",{points:"19 12 12 19 5 12"}))}));ge.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ge.displayName="ArrowDown";var me=ge;function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var be=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ye(e,["color","size"]);return i.a.createElement("svg",ve({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 8 8 12 12 16"}),i.a.createElement("line",{x1:"16",y1:"12",x2:"8",y2:"12"}))}));be.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},be.displayName="ArrowLeftCircle";var ke=be;function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var we=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ee(e,["color","size"]);return i.a.createElement("svg",_e({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),i.a.createElement("polyline",{points:"12 19 5 12 12 5"}))}));we.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},we.displayName="ArrowLeft";var Se=we;function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Oe=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xe(e,["color","size"]);return i.a.createElement("svg",Te({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 16 16 12 12 8"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));Oe.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Oe.displayName="ArrowRightCircle";var Pe=Oe;function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Me=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ce(e,["color","size"]);return i.a.createElement("svg",Ae({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),i.a.createElement("polyline",{points:"12 5 19 12 12 19"}))}));Me.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Me.displayName="ArrowRight";var Ie=Me;function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var je=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=De(e,["color","size"]);return i.a.createElement("svg",Re({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"16 12 12 8 8 12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"8"}))}));je.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},je.displayName="ArrowUpCircle";var Le=je;function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ue(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Be=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ue(e,["color","size"]);return i.a.createElement("svg",Ne({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"17",y1:"17",x2:"7",y2:"7"}),i.a.createElement("polyline",{points:"7 17 7 7 17 7"}))}));Be.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Be.displayName="ArrowUpLeft";var Fe=Be;function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $e=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ve(e,["color","size"]);return i.a.createElement("svg",ze({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"7",y1:"17",x2:"17",y2:"7"}),i.a.createElement("polyline",{points:"7 7 17 7 17 17"}))}));$e.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$e.displayName="ArrowUpRight";var We=$e;function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ge=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=He(e,["color","size"]);return i.a.createElement("svg",Ke({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),i.a.createElement("polyline",{points:"5 12 12 5 19 12"}))}));Ge.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ge.displayName="ArrowUp";var Ze=Ge;function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ye=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xe(e,["color","size"]);return i.a.createElement("svg",qe({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"}))}));Ye.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ye.displayName="AtSign";var Qe=Ye;function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=et(e,["color","size"]);return i.a.createElement("svg",Je({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"8",r:"7"}),i.a.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}))}));tt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tt.displayName="Award";var rt=tt;function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function it(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var at=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=it(e,["color","size"]);return i.a.createElement("svg",nt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),i.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),i.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}))}));at.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},at.displayName="BarChart2";var ot=at;function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ut=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=lt(e,["color","size"]);return i.a.createElement("svg",st({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),i.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),i.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"16"}))}));ut.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ut.displayName="BarChart";var ct=ut;function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ft(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var pt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ft(e,["color","size"]);return i.a.createElement("svg",dt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"}),i.a.createElement("line",{x1:"23",y1:"13",x2:"23",y2:"11"}),i.a.createElement("polyline",{points:"11 6 7 12 13 12 9 18"}))}));pt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},pt.displayName="BatteryCharging";var ht=pt;function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=mt(e,["color","size"]);return i.a.createElement("svg",gt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"6",width:"18",height:"12",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"23",y1:"13",x2:"23",y2:"11"}))}));vt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},vt.displayName="Battery";var yt=vt;function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _t=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=kt(e,["color","size"]);return i.a.createElement("svg",bt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}),i.a.createElement("path",{d:"M18.63 13A17.89 17.89 0 0 1 18 8"}),i.a.createElement("path",{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"}),i.a.createElement("path",{d:"M18 8a6 6 0 0 0-9.33-5"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));_t.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_t.displayName="BellOff";var Et=_t;function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function St(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Tt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=St(e,["color","size"]);return i.a.createElement("svg",wt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),i.a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))}));Tt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Tt.displayName="Bell";var xt=Tt;function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var At=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Pt(e,["color","size"]);return i.a.createElement("svg",Ot({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"}))}));At.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},At.displayName="Bluetooth";var Ct=At;function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Rt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=It(e,["color","size"]);return i.a.createElement("svg",Mt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),i.a.createElement("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}))}));Rt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Rt.displayName="Bold";var Dt=Rt;function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Nt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Lt(e,["color","size"]);return i.a.createElement("svg",jt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),i.a.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))}));Nt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Nt.displayName="BookOpen";var Ut=Nt;function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ft(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var zt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ft(e,["color","size"]);return i.a.createElement("svg",Bt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),i.a.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))}));zt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},zt.displayName="Book";var Vt=zt;function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Kt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wt(e,["color","size"]);return i.a.createElement("svg",$t({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}))}));Kt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Kt.displayName="Bookmark";var Ht=Kt;function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var qt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Zt(e,["color","size"]);return i.a.createElement("svg",Gt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),i.a.createElement("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),i.a.createElement("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"}))}));qt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},qt.displayName="Box";var Xt=qt;function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Jt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Qt(e,["color","size"]);return i.a.createElement("svg",Yt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}))}));Jt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Jt.displayName="Briefcase";var er=Jt;function tr(){return(tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var nr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=rr(e,["color","size"]);return i.a.createElement("svg",tr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),i.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),i.a.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}))}));nr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},nr.displayName="Calendar";var ir=nr;function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function or(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var sr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=or(e,["color","size"]);return i.a.createElement("svg",ar({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),i.a.createElement("path",{d:"M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"}))}));sr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},sr.displayName="CameraOff";var lr=sr;function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var dr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=cr(e,["color","size"]);return i.a.createElement("svg",ur({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),i.a.createElement("circle",{cx:"12",cy:"13",r:"4"}))}));dr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},dr.displayName="Camera";var fr=dr;function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=hr(e,["color","size"]);return i.a.createElement("svg",pr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"}),i.a.createElement("line",{x1:"2",y1:"20",x2:"2.01",y2:"20"}))}));gr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},gr.displayName="Cast";var mr=gr;function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var br=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=yr(e,["color","size"]);return i.a.createElement("svg",vr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))}));br.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},br.displayName="CheckCircle";var kr=br;function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Er(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var wr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Er(e,["color","size"]);return i.a.createElement("svg",_r({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"9 11 12 14 22 4"}),i.a.createElement("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}))}));wr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},wr.displayName="CheckSquare";var Sr=wr;function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Or=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xr(e,["color","size"]);return i.a.createElement("svg",Tr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"20 6 9 17 4 12"}))}));Or.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Or.displayName="Check";var Pr=Or;function Ar(){return(Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Mr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Cr(e,["color","size"]);return i.a.createElement("svg",Ar({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"6 9 12 15 18 9"}))}));Mr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Mr.displayName="ChevronDown";var Ir=Mr;function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Dr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var jr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Dr(e,["color","size"]);return i.a.createElement("svg",Rr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"15 18 9 12 15 6"}))}));jr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},jr.displayName="ChevronLeft";var Lr=jr;function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ur(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Br=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ur(e,["color","size"]);return i.a.createElement("svg",Nr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"9 18 15 12 9 6"}))}));Br.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Br.displayName="ChevronRight";var Fr=Br;function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $r=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Vr(e,["color","size"]);return i.a.createElement("svg",zr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"18 15 12 9 6 15"}))}));$r.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$r.displayName="ChevronUp";var Wr=$r;function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Gr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hr(e,["color","size"]);return i.a.createElement("svg",Kr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"7 13 12 18 17 13"}),i.a.createElement("polyline",{points:"7 6 12 11 17 6"}))}));Gr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Gr.displayName="ChevronsDown";var Zr=Gr;function qr(){return(qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Yr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xr(e,["color","size"]);return i.a.createElement("svg",qr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"11 17 6 12 11 7"}),i.a.createElement("polyline",{points:"18 17 13 12 18 7"}))}));Yr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Yr.displayName="ChevronsLeft";var Qr=Yr;function Jr(){return(Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function en(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=en(e,["color","size"]);return i.a.createElement("svg",Jr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"13 17 18 12 13 7"}),i.a.createElement("polyline",{points:"6 17 11 12 6 7"}))}));tn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tn.displayName="ChevronsRight";var rn=tn;function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function an(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var on=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=an(e,["color","size"]);return i.a.createElement("svg",nn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"17 11 12 6 7 11"}),i.a.createElement("polyline",{points:"17 18 12 13 7 18"}))}));on.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},on.displayName="ChevronsUp";var sn=on;function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function un(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var cn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=un(e,["color","size"]);return i.a.createElement("svg",ln({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("line",{x1:"21.17",y1:"8",x2:"12",y2:"8"}),i.a.createElement("line",{x1:"3.95",y1:"6.06",x2:"8.54",y2:"14"}),i.a.createElement("line",{x1:"10.88",y1:"21.94",x2:"15.46",y2:"14"}))}));cn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},cn.displayName="Chrome";var dn=cn;function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pn(e,["color","size"]);return i.a.createElement("svg",fn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}))}));hn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hn.displayName="Circle";var gn=hn;function mn(){return(mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vn(e,["color","size"]);return i.a.createElement("svg",mn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),i.a.createElement("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}))}));yn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yn.displayName="Clipboard";var bn=yn;function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var En=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_n(e,["color","size"]);return i.a.createElement("svg",kn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 6 12 12 16 14"}))}));En.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},En.displayName="Clock";var wn=En;function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Tn(e,["color","size"]);return i.a.createElement("svg",Sn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),i.a.createElement("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),i.a.createElement("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),i.a.createElement("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),i.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),i.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"17"}),i.a.createElement("path",{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}))}));xn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xn.displayName="CloudDrizzle";var On=xn;function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function An(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Cn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=An(e,["color","size"]);return i.a.createElement("svg",Pn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),i.a.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))}));Cn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Cn.displayName="CloudLightning";var Mn=Cn;function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Dn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Rn(e,["color","size"]);return i.a.createElement("svg",In({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));Dn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Dn.displayName="CloudOff";var jn=Dn;function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Un=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Nn(e,["color","size"]);return i.a.createElement("svg",Ln({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"16",y1:"13",x2:"16",y2:"21"}),i.a.createElement("line",{x1:"8",y1:"13",x2:"8",y2:"21"}),i.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"23"}),i.a.createElement("path",{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}))}));Un.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Un.displayName="CloudRain";var Bn=Un;function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zn(e,["color","size"]);return i.a.createElement("svg",Fn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),i.a.createElement("line",{x1:"8",y1:"16",x2:"8.01",y2:"16"}),i.a.createElement("line",{x1:"8",y1:"20",x2:"8.01",y2:"20"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12.01",y2:"22"}),i.a.createElement("line",{x1:"16",y1:"16",x2:"16.01",y2:"16"}),i.a.createElement("line",{x1:"16",y1:"20",x2:"16.01",y2:"20"}))}));Vn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vn.displayName="CloudSnow";var $n=Vn;function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Kn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Hn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Kn(e,["color","size"]);return i.a.createElement("svg",Wn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"}))}));Hn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Hn.displayName="Cloud";var Gn=Hn;function Zn(){return(Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qn(e,["color","size"]);return i.a.createElement("svg",Zn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"16 18 22 12 16 6"}),i.a.createElement("polyline",{points:"8 6 2 12 8 18"}))}));Xn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xn.displayName="Code";var Yn=Xn;function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ei=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jn(e,["color","size"]);return i.a.createElement("svg",Qn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"15.5"}),i.a.createElement("polyline",{points:"22 8.5 12 15.5 2 8.5"}),i.a.createElement("polyline",{points:"2 15.5 12 8.5 22 15.5"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"8.5"}))}));ei.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ei.displayName="Codepen";var ti=ei;function ri(){return(ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ni(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ii=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ni(e,["color","size"]);return i.a.createElement("svg",ri({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),i.a.createElement("polyline",{points:"7.5 4.21 12 6.81 16.5 4.21"}),i.a.createElement("polyline",{points:"7.5 19.79 7.5 14.6 3 12"}),i.a.createElement("polyline",{points:"21 12 16.5 14.6 16.5 19.79"}),i.a.createElement("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),i.a.createElement("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"}))}));ii.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ii.displayName="Codesandbox";var ai=ii;function oi(){return(oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function si(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var li=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=si(e,["color","size"]);return i.a.createElement("svg",oi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),i.a.createElement("path",{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),i.a.createElement("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),i.a.createElement("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),i.a.createElement("line",{x1:"14",y1:"1",x2:"14",y2:"4"}))}));li.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},li.displayName="Coffee";var ui=li;function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function di(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=di(e,["color","size"]);return i.a.createElement("svg",ci({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"}))}));fi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fi.displayName="Columns";var pi=fi;function hi(){return(hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gi(e,["color","size"]);return i.a.createElement("svg",hi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}))}));mi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mi.displayName="Command";var vi=mi;function yi(){return(yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ki=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bi(e,["color","size"]);return i.a.createElement("svg",yi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}))}));ki.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ki.displayName="Compass";var _i=ki;function Ei(){return(Ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Si=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wi(e,["color","size"]);return i.a.createElement("svg",Ei({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))}));Si.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Si.displayName="Copy";var Ti=Si;function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Oi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Oi(e,["color","size"]);return i.a.createElement("svg",xi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"9 10 4 15 9 20"}),i.a.createElement("path",{d:"M20 4v7a4 4 0 0 1-4 4H4"}))}));Pi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pi.displayName="CornerDownLeft";var Ai=Pi;function Ci(){return(Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ii=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mi(e,["color","size"]);return i.a.createElement("svg",Ci({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"15 10 20 15 15 20"}),i.a.createElement("path",{d:"M4 4v7a4 4 0 0 0 4 4h12"}))}));Ii.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ii.displayName="CornerDownRight";var Ri=Ii;function Di(){return(Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ji(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Li=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ji(e,["color","size"]);return i.a.createElement("svg",Di({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"14 15 9 20 4 15"}),i.a.createElement("path",{d:"M20 4h-7a4 4 0 0 0-4 4v12"}))}));Li.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Li.displayName="CornerLeftDown";var Ni=Li;function Ui(){return(Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bi(e,["color","size"]);return i.a.createElement("svg",Ui({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"14 9 9 4 4 9"}),i.a.createElement("path",{d:"M20 20h-7a4 4 0 0 1-4-4V4"}))}));Fi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fi.displayName="CornerLeftUp";var zi=Fi;function Vi(){return(Vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $i(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$i(e,["color","size"]);return i.a.createElement("svg",Vi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"10 15 15 20 20 15"}),i.a.createElement("path",{d:"M4 4h7a4 4 0 0 1 4 4v12"}))}));Wi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Wi.displayName="CornerRightDown";var Ki=Wi;function Hi(){return(Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gi(e,["color","size"]);return i.a.createElement("svg",Hi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"10 9 15 4 20 9"}),i.a.createElement("path",{d:"M4 20h7a4 4 0 0 0 4-4V4"}))}));Zi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zi.displayName="CornerRightUp";var qi=Zi;function Xi(){return(Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yi(e,["color","size"]);return i.a.createElement("svg",Xi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"9 14 4 9 9 4"}),i.a.createElement("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"}))}));Qi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qi.displayName="CornerUpLeft";var Ji=Qi;function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ta(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ra=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ta(e,["color","size"]);return i.a.createElement("svg",ea({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"15 14 20 9 15 4"}),i.a.createElement("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"}))}));ra.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ra.displayName="CornerUpRight";var na=ra;function ia(){return(ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function aa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var oa=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=aa(e,["color","size"]);return i.a.createElement("svg",ia({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),i.a.createElement("rect",{x:"9",y:"9",width:"6",height:"6"}),i.a.createElement("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),i.a.createElement("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),i.a.createElement("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),i.a.createElement("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),i.a.createElement("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),i.a.createElement("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),i.a.createElement("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),i.a.createElement("line",{x1:"1",y1:"14",x2:"4",y2:"14"}))}));oa.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},oa.displayName="Cpu";var sa=oa;function la(){return(la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ua(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ca=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ua(e,["color","size"]);return i.a.createElement("svg",la({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"1",y1:"10",x2:"23",y2:"10"}))}));ca.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ca.displayName="CreditCard";var da=ca;function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ha=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pa(e,["color","size"]);return i.a.createElement("svg",fa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M6.13 1L6 16a2 2 0 0 0 2 2h15"}),i.a.createElement("path",{d:"M1 6.13L16 6a2 2 0 0 1 2 2v15"}))}));ha.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ha.displayName="Crop";var ga=ha;function ma(){return(ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function va(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ya=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=va(e,["color","size"]);return i.a.createElement("svg",ma({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),i.a.createElement("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"18"}))}));ya.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ya.displayName="Crosshair";var ba=ya;function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _a(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ea=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_a(e,["color","size"]);return i.a.createElement("svg",ka({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),i.a.createElement("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),i.a.createElement("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}))}));Ea.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ea.displayName="Database";var wa=Ea;function Sa(){return(Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ta(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xa=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ta(e,["color","size"]);return i.a.createElement("svg",Sa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),i.a.createElement("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),i.a.createElement("line",{x1:"12",y1:"9",x2:"18",y2:"15"}))}));xa.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xa.displayName="Delete";var Oa=xa;function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Aa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ca=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Aa(e,["color","size"]);return i.a.createElement("svg",Pa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));Ca.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ca.displayName="Disc";var Ma=Ca;function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ra(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Da=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ra(e,["color","size"]);return i.a.createElement("svg",Ia({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}))}));Da.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Da.displayName="DivideCircle";var ja=Da;function La(){return(La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Na(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ua=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Na(e,["color","size"]);return i.a.createElement("svg",La({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}))}));Ua.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ua.displayName="DivideSquare";var Ba=Ua;function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function za(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Va=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=za(e,["color","size"]);return i.a.createElement("svg",Fa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"6",r:"2"}),i.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),i.a.createElement("circle",{cx:"12",cy:"18",r:"2"}))}));Va.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Va.displayName="Divide";var $a=Va;function Wa(){return(Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ka(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ha=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ka(e,["color","size"]);return i.a.createElement("svg",Wa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),i.a.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}))}));Ha.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ha.displayName="DollarSign";var Ga=Ha;function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xa=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qa(e,["color","size"]);return i.a.createElement("svg",Za({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"8 17 12 21 16 17"}),i.a.createElement("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),i.a.createElement("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"}))}));Xa.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xa.displayName="DownloadCloud";var Ya=Xa;function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ja(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var eo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ja(e,["color","size"]);return i.a.createElement("svg",Qa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.a.createElement("polyline",{points:"7 10 12 15 17 10"}),i.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))}));eo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},eo.displayName="Download";var to=eo;function ro(){return(ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function no(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var io=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=no(e,["color","size"]);return i.a.createElement("svg",ro({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("path",{d:"M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"}))}));io.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},io.displayName="Dribbble";var ao=io;function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function so(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=so(e,["color","size"]);return i.a.createElement("svg",oo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}))}));lo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lo.displayName="Droplet";var uo=lo;function co(){return(co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var po=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=fo(e,["color","size"]);return i.a.createElement("svg",co({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));po.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},po.displayName="Edit2";var ho=po;function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=mo(e,["color","size"]);return i.a.createElement("svg",go({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 20h9"}),i.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))}));vo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},vo.displayName="Edit3";var yo=vo;function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ko(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _o=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ko(e,["color","size"]);return i.a.createElement("svg",bo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),i.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));_o.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_o.displayName="Edit";var Eo=_o;function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function So(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var To=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=So(e,["color","size"]);return i.a.createElement("svg",wo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.a.createElement("polyline",{points:"15 3 21 3 21 9"}),i.a.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));To.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},To.displayName="ExternalLink";var xo=To;function Oo(){return(Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Po(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ao=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Po(e,["color","size"]);return i.a.createElement("svg",Oo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));Ao.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ao.displayName="EyeOff";var Co=Ao;function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Io(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ro=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Io(e,["color","size"]);return i.a.createElement("svg",Mo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));Ro.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ro.displayName="Eye";var Do=Ro;function jo(){return(jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var No=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Lo(e,["color","size"]);return i.a.createElement("svg",jo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"}))}));No.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},No.displayName="Facebook";var Uo=No;function Bo(){return(Bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var zo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Fo(e,["color","size"]);return i.a.createElement("svg",Bo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"13 19 22 12 13 5 13 19"}),i.a.createElement("polygon",{points:"2 19 11 12 2 5 2 19"}))}));zo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},zo.displayName="FastForward";var Vo=zo;function $o(){return($o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ko=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wo(e,["color","size"]);return i.a.createElement("svg",$o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"}),i.a.createElement("line",{x1:"16",y1:"8",x2:"2",y2:"22"}),i.a.createElement("line",{x1:"17.5",y1:"15",x2:"9",y2:"15"}))}));Ko.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ko.displayName="Feather";var Ho=Ko;function Go(){return(Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var qo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Zo(e,["color","size"]);return i.a.createElement("svg",Go({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"}),i.a.createElement("path",{d:"M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"}),i.a.createElement("path",{d:"M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"}),i.a.createElement("path",{d:"M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"}),i.a.createElement("path",{d:"M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"}))}));qo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},qo.displayName="Figma";var Xo=qo;function Yo(){return(Yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Jo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Qo(e,["color","size"]);return i.a.createElement("svg",Yo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.a.createElement("polyline",{points:"14 2 14 8 20 8"}),i.a.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))}));Jo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Jo.displayName="FileMinus";var es=Jo;function ts(){return(ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ns=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=rs(e,["color","size"]);return i.a.createElement("svg",ts({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.a.createElement("polyline",{points:"14 2 14 8 20 8"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))}));ns.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ns.displayName="FilePlus";var is=ns;function as(){return(as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function os(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ss=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=os(e,["color","size"]);return i.a.createElement("svg",as({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.a.createElement("polyline",{points:"14 2 14 8 20 8"}),i.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.a.createElement("polyline",{points:"10 9 9 9 8 9"}))}));ss.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ss.displayName="FileText";var ls=ss;function us(){return(us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ds=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=cs(e,["color","size"]);return i.a.createElement("svg",us({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),i.a.createElement("polyline",{points:"13 2 13 9 20 9"}))}));ds.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ds.displayName="File";var fs=ds;function ps(){return(ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gs=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=hs(e,["color","size"]);return i.a.createElement("svg",ps({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}),i.a.createElement("line",{x1:"7",y1:"2",x2:"7",y2:"22"}),i.a.createElement("line",{x1:"17",y1:"2",x2:"17",y2:"22"}),i.a.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),i.a.createElement("line",{x1:"2",y1:"7",x2:"7",y2:"7"}),i.a.createElement("line",{x1:"2",y1:"17",x2:"7",y2:"17"}),i.a.createElement("line",{x1:"17",y1:"17",x2:"22",y2:"17"}),i.a.createElement("line",{x1:"17",y1:"7",x2:"22",y2:"7"}))}));gs.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},gs.displayName="Film";var ms=gs;function vs(){return(vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ys(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var bs=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ys(e,["color","size"]);return i.a.createElement("svg",vs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}))}));bs.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},bs.displayName="Filter";var ks=bs;function _s(){return(_s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Es(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ws=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Es(e,["color","size"]);return i.a.createElement("svg",_s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),i.a.createElement("line",{x1:"4",y1:"22",x2:"4",y2:"15"}))}));ws.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ws.displayName="Flag";var Ss=ws;function Ts(){return(Ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Os=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xs(e,["color","size"]);return i.a.createElement("svg",Ts({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),i.a.createElement("line",{x1:"9",y1:"14",x2:"15",y2:"14"}))}));Os.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Os.displayName="FolderMinus";var Ps=Os;function As(){return(As=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ms=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Cs(e,["color","size"]);return i.a.createElement("svg",As({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),i.a.createElement("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),i.a.createElement("line",{x1:"9",y1:"14",x2:"15",y2:"14"}))}));Ms.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ms.displayName="FolderPlus";var Is=Ms;function Rs(){return(Rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ds(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var js=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ds(e,["color","size"]);return i.a.createElement("svg",Rs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}))}));js.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},js.displayName="Folder";var Ls=js;function Ns(){return(Ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Us(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Bs=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Us(e,["color","size"]);return i.a.createElement("svg",Ns({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"}))}));Bs.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Bs.displayName="Framer";var Fs=Bs;function zs(){return(zs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $s=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Vs(e,["color","size"]);return i.a.createElement("svg",zs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("path",{d:"M16 16s-1.5-2-4-2-4 2-4 2"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));$s.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$s.displayName="Frown";var Ws=$s;function Ks(){return(Ks=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Gs=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hs(e,["color","size"]);return i.a.createElement("svg",Ks({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"20 12 20 22 4 22 4 12"}),i.a.createElement("rect",{x:"2",y:"7",width:"20",height:"5"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),i.a.createElement("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),i.a.createElement("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"}))}));Gs.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Gs.displayName="Gift";var Zs=Gs;function qs(){return(qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ys=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xs(e,["color","size"]);return i.a.createElement("svg",qs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"6",y1:"3",x2:"6",y2:"15"}),i.a.createElement("circle",{cx:"18",cy:"6",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"18",r:"3"}),i.a.createElement("path",{d:"M18 9a9 9 0 0 1-9 9"}))}));Ys.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ys.displayName="GitBranch";var Qs=Ys;function Js(){return(Js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function el(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=el(e,["color","size"]);return i.a.createElement("svg",Js({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("line",{x1:"1.05",y1:"12",x2:"7",y2:"12"}),i.a.createElement("line",{x1:"17.01",y1:"12",x2:"22.96",y2:"12"}))}));tl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tl.displayName="GitCommit";var rl=tl;function nl(){return(nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function il(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var al=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=il(e,["color","size"]);return i.a.createElement("svg",nl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"18",cy:"18",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"6",r:"3"}),i.a.createElement("path",{d:"M6 21V9a9 9 0 0 0 9 9"}))}));al.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},al.displayName="GitMerge";var ol=al;function sl(){return(sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ll(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ul=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ll(e,["color","size"]);return i.a.createElement("svg",sl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"18",cy:"18",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"6",r:"3"}),i.a.createElement("path",{d:"M13 6h3a2 2 0 0 1 2 2v7"}),i.a.createElement("line",{x1:"6",y1:"9",x2:"6",y2:"21"}))}));ul.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ul.displayName="GitPullRequest";var cl=ul;function dl(){return(dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var pl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=fl(e,["color","size"]);return i.a.createElement("svg",dl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}));pl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},pl.displayName="GitHub";var hl=pl;function gl(){return(gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ml(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ml(e,["color","size"]);return i.a.createElement("svg",gl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"}))}));vl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},vl.displayName="Gitlab";var yl=vl;function bl(){return(bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _l=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=kl(e,["color","size"]);return i.a.createElement("svg",bl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),i.a.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));_l.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_l.displayName="Globe";var El=_l;function wl(){return(wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Tl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Sl(e,["color","size"]);return i.a.createElement("svg",wl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),i.a.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),i.a.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),i.a.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))}));Tl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Tl.displayName="Grid";var xl=Tl;function Ol(){return(Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Al=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Pl(e,["color","size"]);return i.a.createElement("svg",Ol({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"22",y1:"12",x2:"2",y2:"12"}),i.a.createElement("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}),i.a.createElement("line",{x1:"6",y1:"16",x2:"6.01",y2:"16"}),i.a.createElement("line",{x1:"10",y1:"16",x2:"10.01",y2:"16"}))}));Al.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Al.displayName="HardDrive";var Cl=Al;function Ml(){return(Ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Il(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Rl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Il(e,["color","size"]);return i.a.createElement("svg",Ml({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),i.a.createElement("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),i.a.createElement("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),i.a.createElement("line",{x1:"16",y1:"3",x2:"14",y2:"21"}))}));Rl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Rl.displayName="Hash";var Dl=Rl;function jl(){return(jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ll(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Nl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ll(e,["color","size"]);return i.a.createElement("svg",jl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M3 18v-6a9 9 0 0 1 18 0v6"}),i.a.createElement("path",{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"}))}));Nl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Nl.displayName="Headphones";var Ul=Nl;function Bl(){return(Bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var zl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Fl(e,["color","size"]);return i.a.createElement("svg",Bl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}));zl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},zl.displayName="Heart";var Vl=zl;function $l(){return($l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Kl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wl(e,["color","size"]);return i.a.createElement("svg",$l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),i.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));Kl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Kl.displayName="HelpCircle";var Hl=Kl;function Gl(){return(Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ql=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Zl(e,["color","size"]);return i.a.createElement("svg",Gl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}))}));ql.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ql.displayName="Hexagon";var Xl=ql;function Yl(){return(Yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ql(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Jl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ql(e,["color","size"]);return i.a.createElement("svg",Yl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),i.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))}));Jl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Jl.displayName="Home";var eu=Jl;function tu(){return(tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ru(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var nu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ru(e,["color","size"]);return i.a.createElement("svg",tu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),i.a.createElement("polyline",{points:"21 15 16 10 5 21"}))}));nu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},nu.displayName="Image";var iu=nu;function au(){return(au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ou(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var su=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ou(e,["color","size"]);return i.a.createElement("svg",au({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),i.a.createElement("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}))}));su.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},su.displayName="Inbox";var lu=su;function uu(){return(uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var du=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=cu(e,["color","size"]);return i.a.createElement("svg",uu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))}));du.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},du.displayName="Info";var fu=du;function pu(){return(pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=hu(e,["color","size"]);return i.a.createElement("svg",pu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),i.a.createElement("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),i.a.createElement("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"}))}));gu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},gu.displayName="Instagram";var mu=gu;function vu(){return(vu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var bu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=yu(e,["color","size"]);return i.a.createElement("svg",vu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),i.a.createElement("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),i.a.createElement("line",{x1:"15",y1:"4",x2:"9",y2:"20"}))}));bu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},bu.displayName="Italic";var ku=bu;function _u(){return(_u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Eu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var wu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Eu(e,["color","size"]);return i.a.createElement("svg",_u({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))}));wu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},wu.displayName="Key";var Su=wu;function Tu(){return(Tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ou=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xu(e,["color","size"]);return i.a.createElement("svg",Tu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),i.a.createElement("polyline",{points:"2 17 12 22 22 17"}),i.a.createElement("polyline",{points:"2 12 12 17 22 12"}))}));Ou.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ou.displayName="Layers";var Pu=Ou;function Au(){return(Au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Mu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Cu(e,["color","size"]);return i.a.createElement("svg",Au({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),i.a.createElement("line",{x1:"9",y1:"21",x2:"9",y2:"9"}))}));Mu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Mu.displayName="Layout";var Iu=Mu;function Ru(){return(Ru=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Du(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ju=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Du(e,["color","size"]);return i.a.createElement("svg",Ru({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"}),i.a.createElement("line",{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"}),i.a.createElement("line",{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"}),i.a.createElement("line",{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"}),i.a.createElement("line",{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"}))}));ju.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ju.displayName="LifeBuoy";var Lu=ju;function Nu(){return(Nu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Uu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Bu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Uu(e,["color","size"]);return i.a.createElement("svg",Nu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));Bu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Bu.displayName="Link2";var Fu=Bu;function zu(){return(zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $u=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Vu(e,["color","size"]);return i.a.createElement("svg",zu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),i.a.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}))}));$u.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$u.displayName="Link";var Wu=$u;function Ku(){return(Ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Gu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hu(e,["color","size"]);return i.a.createElement("svg",Ku({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),i.a.createElement("rect",{x:"2",y:"9",width:"4",height:"12"}),i.a.createElement("circle",{cx:"4",cy:"4",r:"2"}))}));Gu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Gu.displayName="Linkedin";var Zu=Gu;function qu(){return(qu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Yu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xu(e,["color","size"]);return i.a.createElement("svg",qu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),i.a.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),i.a.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),i.a.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),i.a.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))}));Yu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Yu.displayName="List";var Qu=Yu;function Ju(){return(Ju=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ec(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ec(e,["color","size"]);return i.a.createElement("svg",Ju({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),i.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),i.a.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),i.a.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),i.a.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),i.a.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),i.a.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}))}));tc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tc.displayName="Loader";var rc=tc;function nc(){return(nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ic(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ac=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ic(e,["color","size"]);return i.a.createElement("svg",nc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))}));ac.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ac.displayName="Lock";var oc=ac;function sc(){return(sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function lc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var uc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=lc(e,["color","size"]);return i.a.createElement("svg",sc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),i.a.createElement("polyline",{points:"10 17 15 12 10 7"}),i.a.createElement("line",{x1:"15",y1:"12",x2:"3",y2:"12"}))}));uc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},uc.displayName="LogIn";var cc=uc;function dc(){return(dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var pc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=fc(e,["color","size"]);return i.a.createElement("svg",dc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),i.a.createElement("polyline",{points:"16 17 21 12 16 7"}),i.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))}));pc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},pc.displayName="LogOut";var hc=pc;function gc(){return(gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=mc(e,["color","size"]);return i.a.createElement("svg",gc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),i.a.createElement("polyline",{points:"22,6 12,13 2,6"}))}));vc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},vc.displayName="Mail";var yc=vc;function bc(){return(bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _c=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=kc(e,["color","size"]);return i.a.createElement("svg",bc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),i.a.createElement("circle",{cx:"12",cy:"10",r:"3"}))}));_c.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_c.displayName="MapPin";var Ec=_c;function wc(){return(wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Tc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Sc(e,["color","size"]);return i.a.createElement("svg",wc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),i.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),i.a.createElement("line",{x1:"16",y1:"6",x2:"16",y2:"22"}))}));Tc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Tc.displayName="Map";var xc=Tc;function Oc(){return(Oc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ac=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Pc(e,["color","size"]);return i.a.createElement("svg",Oc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"15 3 21 3 21 9"}),i.a.createElement("polyline",{points:"9 21 3 21 3 15"}),i.a.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),i.a.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))}));Ac.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ac.displayName="Maximize2";var Cc=Ac;function Mc(){return(Mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ic(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Rc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ic(e,["color","size"]);return i.a.createElement("svg",Mc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))}));Rc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Rc.displayName="Maximize";var Dc=Rc;function jc(){return(jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Nc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Lc(e,["color","size"]);return i.a.createElement("svg",jc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"8",y1:"15",x2:"16",y2:"15"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));Nc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Nc.displayName="Meh";var Uc=Nc;function Bc(){return(Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var zc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Fc(e,["color","size"]);return i.a.createElement("svg",Bc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),i.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),i.a.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}))}));zc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},zc.displayName="Menu";var Vc=zc;function $c(){return($c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Kc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wc(e,["color","size"]);return i.a.createElement("svg",$c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}))}));Kc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Kc.displayName="MessageCircle";var Hc=Kc;function Gc(){return(Gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var qc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Zc(e,["color","size"]);return i.a.createElement("svg",Gc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));qc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},qc.displayName="MessageSquare";var Xc=qc;function Yc(){return(Yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Jc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Qc(e,["color","size"]);return i.a.createElement("svg",Yc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),i.a.createElement("path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"}),i.a.createElement("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"}),i.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),i.a.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"}))}));Jc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Jc.displayName="MicOff";var ed=Jc;function td(){return(td=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var nd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=rd(e,["color","size"]);return i.a.createElement("svg",td({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),i.a.createElement("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),i.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),i.a.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"}))}));nd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},nd.displayName="Mic";var id=nd;function ad(){return(ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function od(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var sd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=od(e,["color","size"]);return i.a.createElement("svg",ad({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"4 14 10 14 10 20"}),i.a.createElement("polyline",{points:"20 10 14 10 14 4"}),i.a.createElement("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),i.a.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))}));sd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},sd.displayName="Minimize2";var ld=sd;function ud(){return(ud=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var dd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=cd(e,["color","size"]);return i.a.createElement("svg",ud({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}))}));dd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},dd.displayName="Minimize";var fd=dd;function pd(){return(pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=hd(e,["color","size"]);return i.a.createElement("svg",pd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));gd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},gd.displayName="MinusCircle";var md=gd;function vd(){return(vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var bd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=yd(e,["color","size"]);return i.a.createElement("svg",vd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));bd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},bd.displayName="MinusSquare";var kd=bd;function _d(){return(_d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ed(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var wd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ed(e,["color","size"]);return i.a.createElement("svg",_d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));wd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},wd.displayName="Minus";var Sd=wd;function Td(){return(Td=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Od=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xd(e,["color","size"]);return i.a.createElement("svg",Td({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),i.a.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"21"}))}));Od.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Od.displayName="Monitor";var Pd=Od;function Ad(){return(Ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Md=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Cd(e,["color","size"]);return i.a.createElement("svg",Ad({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))}));Md.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Md.displayName="Moon";var Id=Md;function Rd(){return(Rd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Dd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var jd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Dd(e,["color","size"]);return i.a.createElement("svg",Rd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),i.a.createElement("circle",{cx:"19",cy:"12",r:"1"}),i.a.createElement("circle",{cx:"5",cy:"12",r:"1"}))}));jd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},jd.displayName="MoreHorizontal";var Ld=jd;function Nd(){return(Nd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ud(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Bd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ud(e,["color","size"]);return i.a.createElement("svg",Nd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),i.a.createElement("circle",{cx:"12",cy:"5",r:"1"}),i.a.createElement("circle",{cx:"12",cy:"19",r:"1"}))}));Bd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Bd.displayName="MoreVertical";var Fd=Bd;function zd(){return(zd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $d=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Vd(e,["color","size"]);return i.a.createElement("svg",zd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}),i.a.createElement("path",{d:"M13 13l6 6"}))}));$d.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$d.displayName="MousePointer";var Wd=$d;function Kd(){return(Kd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Gd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hd(e,["color","size"]);return i.a.createElement("svg",Kd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"5 9 2 12 5 15"}),i.a.createElement("polyline",{points:"9 5 12 2 15 5"}),i.a.createElement("polyline",{points:"15 19 12 22 9 19"}),i.a.createElement("polyline",{points:"19 9 22 12 19 15"}),i.a.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"22"}))}));Gd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Gd.displayName="Move";var Zd=Gd;function qd(){return(qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Yd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xd(e,["color","size"]);return i.a.createElement("svg",qd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M9 18V5l12-2v13"}),i.a.createElement("circle",{cx:"6",cy:"18",r:"3"}),i.a.createElement("circle",{cx:"18",cy:"16",r:"3"}))}));Yd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Yd.displayName="Music";var Qd=Yd;function Jd(){return(Jd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ef(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ef(e,["color","size"]);return i.a.createElement("svg",Jd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"12 2 19 21 12 17 5 21 12 2"}))}));tf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tf.displayName="Navigation2";var rf=tf;function nf(){return(nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function af(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var of=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=af(e,["color","size"]);return i.a.createElement("svg",nf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"3 11 22 2 13 21 11 13 3 11"}))}));of.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},of.displayName="Navigation";var sf=of;function lf(){return(lf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var cf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=uf(e,["color","size"]);return i.a.createElement("svg",lf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}))}));cf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},cf.displayName="Octagon";var df=cf;function ff(){return(ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pf(e,["color","size"]);return i.a.createElement("svg",ff({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}),i.a.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),i.a.createElement("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),i.a.createElement("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"}))}));hf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hf.displayName="Package";var gf=hf;function mf(){return(mf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vf(e,["color","size"]);return i.a.createElement("svg",mf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}))}));yf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yf.displayName="Paperclip";var bf=yf;function kf(){return(kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ef=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_f(e,["color","size"]);return i.a.createElement("svg",kf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"10",y1:"15",x2:"10",y2:"9"}),i.a.createElement("line",{x1:"14",y1:"15",x2:"14",y2:"9"}))}));Ef.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ef.displayName="PauseCircle";var wf=Ef;function Sf(){return(Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Tf(e,["color","size"]);return i.a.createElement("svg",Sf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),i.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))}));xf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xf.displayName="Pause";var Of=xf;function Pf(){return(Pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Af(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Cf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Af(e,["color","size"]);return i.a.createElement("svg",Pf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 19l7-7 3 3-7 7-3-3z"}),i.a.createElement("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),i.a.createElement("path",{d:"M2 2l7.586 7.586"}),i.a.createElement("circle",{cx:"11",cy:"11",r:"2"}))}));Cf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Cf.displayName="PenTool";var Mf=Cf;function If(){return(If=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Df=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Rf(e,["color","size"]);return i.a.createElement("svg",If({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"19",y1:"5",x2:"5",y2:"19"}),i.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2.5"}),i.a.createElement("circle",{cx:"17.5",cy:"17.5",r:"2.5"}))}));Df.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Df.displayName="Percent";var jf=Df;function Lf(){return(Lf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Uf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Nf(e,["color","size"]);return i.a.createElement("svg",Lf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));Uf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Uf.displayName="PhoneCall";var Bf=Uf;function Ff(){return(Ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zf(e,["color","size"]);return i.a.createElement("svg",Ff({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"19 1 23 5 19 9"}),i.a.createElement("line",{x1:"15",y1:"5",x2:"23",y2:"5"}),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));Vf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vf.displayName="PhoneForwarded";var $f=Vf;function Wf(){return(Wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Kf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Hf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Kf(e,["color","size"]);return i.a.createElement("svg",Wf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"16 2 16 8 22 8"}),i.a.createElement("line",{x1:"23",y1:"1",x2:"16",y2:"8"}),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));Hf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Hf.displayName="PhoneIncoming";var Gf=Hf;function Zf(){return(Zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qf(e,["color","size"]);return i.a.createElement("svg",Zf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"23",y1:"1",x2:"17",y2:"7"}),i.a.createElement("line",{x1:"17",y1:"1",x2:"23",y2:"7"}),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));Xf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xf.displayName="PhoneMissed";var Yf=Xf;function Qf(){return(Qf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ep=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jf(e,["color","size"]);return i.a.createElement("svg",Qf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}),i.a.createElement("line",{x1:"23",y1:"1",x2:"1",y2:"23"}))}));ep.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ep.displayName="PhoneOff";var tp=ep;function rp(){return(rp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function np(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ip=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=np(e,["color","size"]);return i.a.createElement("svg",rp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 7 23 1 17 1"}),i.a.createElement("line",{x1:"16",y1:"8",x2:"23",y2:"1"}),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));ip.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ip.displayName="PhoneOutgoing";var ap=ip;function op(){return(op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=sp(e,["color","size"]);return i.a.createElement("svg",op({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));lp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lp.displayName="Phone";var up=lp;function cp(){return(cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=dp(e,["color","size"]);return i.a.createElement("svg",cp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),i.a.createElement("path",{d:"M22 12A10 10 0 0 0 12 2v10z"}))}));fp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fp.displayName="PieChart";var pp=fp;function hp(){return(hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gp(e,["color","size"]);return i.a.createElement("svg",hp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polygon",{points:"10 8 16 12 10 16 10 8"}))}));mp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mp.displayName="PlayCircle";var vp=mp;function yp(){return(yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bp(e,["color","size"]);return i.a.createElement("svg",yp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))}));kp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},kp.displayName="Play";var _p=kp;function Ep(){return(Ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Sp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wp(e,["color","size"]);return i.a.createElement("svg",Ep({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));Sp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Sp.displayName="PlusCircle";var Tp=Sp;function xp(){return(xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Op(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Op(e,["color","size"]);return i.a.createElement("svg",xp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));Pp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pp.displayName="PlusSquare";var Ap=Pp;function Cp(){return(Cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ip=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mp(e,["color","size"]);return i.a.createElement("svg",Cp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));Ip.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ip.displayName="Plus";var Rp=Ip;function Dp(){return(Dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Lp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=jp(e,["color","size"]);return i.a.createElement("svg",Dp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"}),i.a.createElement("polyline",{points:"8 10 12 14 16 10"}))}));Lp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Lp.displayName="Pocket";var Np=Lp;function Up(){return(Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bp(e,["color","size"]);return i.a.createElement("svg",Up({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"12"}))}));Fp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fp.displayName="Power";var zp=Fp;function Vp(){return(Vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$p(e,["color","size"]);return i.a.createElement("svg",Vp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"6 9 6 2 18 2 18 9"}),i.a.createElement("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),i.a.createElement("rect",{x:"6",y:"14",width:"12",height:"8"}))}));Wp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Wp.displayName="Printer";var Kp=Wp;function Hp(){return(Hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gp(e,["color","size"]);return i.a.createElement("svg",Hp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"2"}),i.a.createElement("path",{d:"M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"}))}));Zp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zp.displayName="Radio";var qp=Zp;function Xp(){return(Xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yp(e,["color","size"]);return i.a.createElement("svg",Xp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"1 4 1 10 7 10"}),i.a.createElement("polyline",{points:"23 20 23 14 17 14"}),i.a.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))}));Qp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qp.displayName="RefreshCcw";var Jp=Qp;function eh(){return(eh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function th(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=th(e,["color","size"]);return i.a.createElement("svg",eh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 4 23 10 17 10"}),i.a.createElement("polyline",{points:"1 20 1 14 7 14"}),i.a.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))}));rh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},rh.displayName="RefreshCw";var nh=rh;function ih(){return(ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ah(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var oh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ah(e,["color","size"]);return i.a.createElement("svg",ih({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"17 1 21 5 17 9"}),i.a.createElement("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),i.a.createElement("polyline",{points:"7 23 3 19 7 15"}),i.a.createElement("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"}))}));oh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},oh.displayName="Repeat";var sh=oh;function lh(){return(lh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ch=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=uh(e,["color","size"]);return i.a.createElement("svg",lh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 19 2 12 11 5 11 19"}),i.a.createElement("polygon",{points:"22 19 13 12 22 5 22 19"}))}));ch.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ch.displayName="Rewind";var dh=ch;function fh(){return(fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ph(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ph(e,["color","size"]);return i.a.createElement("svg",fh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"1 4 1 10 7 10"}),i.a.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))}));hh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hh.displayName="RotateCcw";var gh=hh;function mh(){return(mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vh(e,["color","size"]);return i.a.createElement("svg",mh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 4 23 10 17 10"}),i.a.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))}));yh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yh.displayName="RotateCw";var bh=yh;function kh(){return(kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _h(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Eh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_h(e,["color","size"]);return i.a.createElement("svg",kh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 11a9 9 0 0 1 9 9"}),i.a.createElement("path",{d:"M4 4a16 16 0 0 1 16 16"}),i.a.createElement("circle",{cx:"5",cy:"19",r:"1"}))}));Eh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Eh.displayName="Rss";var wh=Eh;function Sh(){return(Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Th(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Th(e,["color","size"]);return i.a.createElement("svg",Sh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),i.a.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),i.a.createElement("polyline",{points:"7 3 7 8 15 8"}))}));xh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xh.displayName="Save";var Oh=xh;function Ph(){return(Ph=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ah(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ch=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ah(e,["color","size"]);return i.a.createElement("svg",Ph({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"6",cy:"6",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"18",r:"3"}),i.a.createElement("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),i.a.createElement("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),i.a.createElement("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"}))}));Ch.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ch.displayName="Scissors";var Mh=Ch;function Ih(){return(Ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Dh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Rh(e,["color","size"]);return i.a.createElement("svg",Ih({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),i.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));Dh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Dh.displayName="Search";var jh=Dh;function Lh(){return(Lh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Uh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Nh(e,["color","size"]);return i.a.createElement("svg",Lh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),i.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))}));Uh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Uh.displayName="Send";var Bh=Uh;function Fh(){return(Fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zh(e,["color","size"]);return i.a.createElement("svg",Fh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}),i.a.createElement("rect",{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"6",y1:"6",x2:"6.01",y2:"6"}),i.a.createElement("line",{x1:"6",y1:"18",x2:"6.01",y2:"18"}))}));Vh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vh.displayName="Server";var $h=Vh;function Wh(){return(Wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Kh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Hh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Kh(e,["color","size"]);return i.a.createElement("svg",Wh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),i.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))}));Hh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Hh.displayName="Settings";var Gh=Hh;function Zh(){return(Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qh(e,["color","size"]);return i.a.createElement("svg",Zh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"18",cy:"5",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"12",r:"3"}),i.a.createElement("circle",{cx:"18",cy:"19",r:"3"}),i.a.createElement("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),i.a.createElement("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}))}));Xh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xh.displayName="Share2";var Yh=Xh;function Qh(){return(Qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var eg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jh(e,["color","size"]);return i.a.createElement("svg",Qh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),i.a.createElement("polyline",{points:"16 6 12 2 8 6"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))}));eg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},eg.displayName="Share";var tg=eg;function rg(){return(rg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ng(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ig=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ng(e,["color","size"]);return i.a.createElement("svg",rg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"}),i.a.createElement("path",{d:"M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));ig.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ig.displayName="ShieldOff";var ag=ig;function og(){return(og=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=sg(e,["color","size"]);return i.a.createElement("svg",og({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))}));lg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lg.displayName="Shield";var ug=lg;function cg(){return(cg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=dg(e,["color","size"]);return i.a.createElement("svg",cg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),i.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),i.a.createElement("path",{d:"M16 10a4 4 0 0 1-8 0"}))}));fg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fg.displayName="ShoppingBag";var pg=fg;function hg(){return(hg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gg(e,["color","size"]);return i.a.createElement("svg",hg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"9",cy:"21",r:"1"}),i.a.createElement("circle",{cx:"20",cy:"21",r:"1"}),i.a.createElement("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}))}));mg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mg.displayName="ShoppingCart";var vg=mg;function yg(){return(yg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bg(e,["color","size"]);return i.a.createElement("svg",yg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"16 3 21 3 21 8"}),i.a.createElement("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),i.a.createElement("polyline",{points:"21 16 21 21 16 21"}),i.a.createElement("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),i.a.createElement("line",{x1:"4",y1:"4",x2:"9",y2:"9"}))}));kg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},kg.displayName="Shuffle";var _g=kg;function Eg(){return(Eg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Sg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wg(e,["color","size"]);return i.a.createElement("svg",Eg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"9",y1:"3",x2:"9",y2:"21"}))}));Sg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Sg.displayName="Sidebar";var Tg=Sg;function xg(){return(xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Og(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Og(e,["color","size"]);return i.a.createElement("svg",xg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"19 20 9 12 19 4 19 20"}),i.a.createElement("line",{x1:"5",y1:"19",x2:"5",y2:"5"}))}));Pg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pg.displayName="SkipBack";var Ag=Pg;function Cg(){return(Cg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ig=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mg(e,["color","size"]);return i.a.createElement("svg",Cg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"5 4 15 12 5 20 5 4"}),i.a.createElement("line",{x1:"19",y1:"5",x2:"19",y2:"19"}))}));Ig.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ig.displayName="SkipForward";var Rg=Ig;function Dg(){return(Dg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Lg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=jg(e,["color","size"]);return i.a.createElement("svg",Dg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"}),i.a.createElement("path",{d:"M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),i.a.createElement("path",{d:"M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"}),i.a.createElement("path",{d:"M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"}),i.a.createElement("path",{d:"M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"}),i.a.createElement("path",{d:"M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"}),i.a.createElement("path",{d:"M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"}),i.a.createElement("path",{d:"M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"}))}));Lg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Lg.displayName="Slack";var Ng=Lg;function Ug(){return(Ug=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bg(e,["color","size"]);return i.a.createElement("svg",Ug({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}))}));Fg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fg.displayName="Slash";var zg=Fg;function Vg(){return(Vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $g(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$g(e,["color","size"]);return i.a.createElement("svg",Vg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),i.a.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),i.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),i.a.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),i.a.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),i.a.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),i.a.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),i.a.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))}));Wg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Wg.displayName="Sliders";var Kg=Wg;function Hg(){return(Hg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gg(e,["color","size"]);return i.a.createElement("svg",Hg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}))}));Zg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zg.displayName="Smartphone";var qg=Zg;function Xg(){return(Xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yg(e,["color","size"]);return i.a.createElement("svg",Xg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));Qg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qg.displayName="Smile";var Jg=Qg;function em(){return(em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=tm(e,["color","size"]);return i.a.createElement("svg",em({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),i.a.createElement("circle",{cx:"12",cy:"14",r:"4"}),i.a.createElement("line",{x1:"12",y1:"6",x2:"12.01",y2:"6"}))}));rm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},rm.displayName="Speaker";var nm=rm;function im(){return(im=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function am(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var om=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=am(e,["color","size"]);return i.a.createElement("svg",im({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}))}));om.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},om.displayName="Square";var sm=om;function lm(){return(lm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function um(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var cm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=um(e,["color","size"]);return i.a.createElement("svg",lm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}))}));cm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},cm.displayName="Star";var dm=cm;function fm(){return(fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pm(e,["color","size"]);return i.a.createElement("svg",fm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("rect",{x:"9",y:"9",width:"6",height:"6"}))}));hm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hm.displayName="StopCircle";var gm=hm;function mm(){return(mm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ym=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vm(e,["color","size"]);return i.a.createElement("svg",mm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"5"}),i.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),i.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),i.a.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),i.a.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),i.a.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),i.a.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),i.a.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),i.a.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))}));ym.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ym.displayName="Sun";var bm=ym;function km(){return(km=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _m(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Em=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_m(e,["color","size"]);return i.a.createElement("svg",km({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17 18a5 5 0 0 0-10 0"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"9"}),i.a.createElement("line",{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"}),i.a.createElement("line",{x1:"1",y1:"18",x2:"3",y2:"18"}),i.a.createElement("line",{x1:"21",y1:"18",x2:"23",y2:"18"}),i.a.createElement("line",{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"}),i.a.createElement("line",{x1:"23",y1:"22",x2:"1",y2:"22"}),i.a.createElement("polyline",{points:"8 6 12 2 16 6"}))}));Em.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Em.displayName="Sunrise";var wm=Em;function Sm(){return(Sm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Tm(e,["color","size"]);return i.a.createElement("svg",Sm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17 18a5 5 0 0 0-10 0"}),i.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"2"}),i.a.createElement("line",{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"}),i.a.createElement("line",{x1:"1",y1:"18",x2:"3",y2:"18"}),i.a.createElement("line",{x1:"21",y1:"18",x2:"23",y2:"18"}),i.a.createElement("line",{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"}),i.a.createElement("line",{x1:"23",y1:"22",x2:"1",y2:"22"}),i.a.createElement("polyline",{points:"16 5 12 9 8 5"}))}));xm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xm.displayName="Sunset";var Om=xm;function Pm(){return(Pm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Am(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Cm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Am(e,["color","size"]);return i.a.createElement("svg",Pm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}))}));Cm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Cm.displayName="Tablet";var Mm=Cm;function Im(){return(Im=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Dm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Rm(e,["color","size"]);return i.a.createElement("svg",Im({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),i.a.createElement("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"}))}));Dm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Dm.displayName="Tag";var jm=Dm;function Lm(){return(Lm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Um=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Nm(e,["color","size"]);return i.a.createElement("svg",Lm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"6"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"2"}))}));Um.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Um.displayName="Target";var Bm=Um;function Fm(){return(Fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zm(e,["color","size"]);return i.a.createElement("svg",Fm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"4 17 10 11 4 5"}),i.a.createElement("line",{x1:"12",y1:"19",x2:"20",y2:"19"}))}));Vm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vm.displayName="Terminal";var $m=Vm;function Wm(){return(Wm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Km(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Hm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Km(e,["color","size"]);return i.a.createElement("svg",Wm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"}))}));Hm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Hm.displayName="Thermometer";var Gm=Hm;function Zm(){return(Zm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qm(e,["color","size"]);return i.a.createElement("svg",Zm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}))}));Xm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xm.displayName="ThumbsDown";var Ym=Xm;function Qm(){return(Qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ev=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jm(e,["color","size"]);return i.a.createElement("svg",Qm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}))}));ev.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ev.displayName="ThumbsUp";var tv=ev;function rv(){return(rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var iv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=nv(e,["color","size"]);return i.a.createElement("svg",rv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}),i.a.createElement("circle",{cx:"8",cy:"12",r:"3"}))}));iv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},iv.displayName="ToggleLeft";var av=iv;function ov(){return(ov=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=sv(e,["color","size"]);return i.a.createElement("svg",ov({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}),i.a.createElement("circle",{cx:"16",cy:"12",r:"3"}))}));lv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lv.displayName="ToggleRight";var uv=lv;function cv(){return(cv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=dv(e,["color","size"]);return i.a.createElement("svg",cv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}))}));fv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fv.displayName="Tool";var pv=fv;function hv(){return(hv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gv(e,["color","size"]);return i.a.createElement("svg",hv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"3 6 5 6 21 6"}),i.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),i.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),i.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))}));mv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mv.displayName="Trash2";var vv=mv;function yv(){return(yv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bv(e,["color","size"]);return i.a.createElement("svg",yv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"3 6 5 6 21 6"}),i.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));kv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},kv.displayName="Trash";var _v=kv;function Ev(){return(Ev=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Sv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wv(e,["color","size"]);return i.a.createElement("svg",Ev({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("rect",{x:"7",y:"7",width:"3",height:"9"}),i.a.createElement("rect",{x:"14",y:"7",width:"3",height:"5"}))}));Sv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Sv.displayName="Trello";var Tv=Sv;function xv(){return(xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ov(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ov(e,["color","size"]);return i.a.createElement("svg",xv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"}),i.a.createElement("polyline",{points:"17 18 23 18 23 12"}))}));Pv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pv.displayName="TrendingDown";var Av=Pv;function Cv(){return(Cv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Iv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mv(e,["color","size"]);return i.a.createElement("svg",Cv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),i.a.createElement("polyline",{points:"17 6 23 6 23 12"}))}));Iv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Iv.displayName="TrendingUp";var Rv=Iv;function Dv(){return(Dv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Lv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=jv(e,["color","size"]);return i.a.createElement("svg",Dv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}))}));Lv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Lv.displayName="Triangle";var Nv=Lv;function Uv(){return(Uv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bv(e,["color","size"]);return i.a.createElement("svg",Uv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"3",width:"15",height:"13"}),i.a.createElement("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),i.a.createElement("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),i.a.createElement("circle",{cx:"18.5",cy:"18.5",r:"2.5"}))}));Fv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fv.displayName="Truck";var zv=Fv;function Vv(){return(Vv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $v(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$v(e,["color","size"]);return i.a.createElement("svg",Vv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}),i.a.createElement("polyline",{points:"17 2 12 7 7 2"}))}));Wv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Wv.displayName="Tv";var Kv=Wv;function Hv(){return(Hv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gv(e,["color","size"]);return i.a.createElement("svg",Hv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"}))}));Zv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zv.displayName="Twitch";var qv=Zv;function Xv(){return(Xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yv(e,["color","size"]);return i.a.createElement("svg",Xv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}))}));Qv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qv.displayName="Twitter";var Jv=Qv;function ey(){return(ey=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ty(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ry=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ty(e,["color","size"]);return i.a.createElement("svg",ey({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"4 7 4 4 20 4 20 7"}),i.a.createElement("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),i.a.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"20"}))}));ry.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ry.displayName="Type";var ny=ry;function iy(){return(iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ay(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var oy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ay(e,["color","size"]);return i.a.createElement("svg",iy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"}))}));oy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},oy.displayName="Umbrella";var sy=oy;function ly(){return(ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var cy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=uy(e,["color","size"]);return i.a.createElement("svg",ly({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"}),i.a.createElement("line",{x1:"4",y1:"21",x2:"20",y2:"21"}))}));cy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},cy.displayName="Underline";var dy=cy;function fy(){return(fy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function py(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=py(e,["color","size"]);return i.a.createElement("svg",fy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}))}));hy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hy.displayName="Unlock";var gy=hy;function my(){return(my=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vy(e,["color","size"]);return i.a.createElement("svg",my({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"16 16 12 12 8 16"}),i.a.createElement("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),i.a.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),i.a.createElement("polyline",{points:"16 16 12 12 8 16"}))}));yy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yy.displayName="UploadCloud";var by=yy;function ky(){return(ky=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _y(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ey=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_y(e,["color","size"]);return i.a.createElement("svg",ky({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.a.createElement("polyline",{points:"17 8 12 3 7 8"}),i.a.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"}))}));Ey.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ey.displayName="Upload";var wy=Ey;function Sy(){return(Sy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ty(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ty(e,["color","size"]);return i.a.createElement("svg",Sy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.a.createElement("polyline",{points:"17 11 19 13 23 9"}))}));xy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xy.displayName="UserCheck";var Oy=xy;function Py(){return(Py=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ay(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Cy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ay(e,["color","size"]);return i.a.createElement("svg",Py({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));Cy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Cy.displayName="UserMinus";var My=Cy;function Iy(){return(Iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ry(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Dy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ry(e,["color","size"]);return i.a.createElement("svg",Iy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.a.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),i.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));Dy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Dy.displayName="UserPlus";var jy=Dy;function Ly(){return(Ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ny(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Uy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ny(e,["color","size"]);return i.a.createElement("svg",Ly({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.a.createElement("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),i.a.createElement("line",{x1:"23",y1:"8",x2:"18",y2:"13"}))}));Uy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Uy.displayName="UserX";var By=Uy;function Fy(){return(Fy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zy(e,["color","size"]);return i.a.createElement("svg",Fy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));Vy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vy.displayName="User";var $y=Vy;function Wy(){return(Wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ky(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Hy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ky(e,["color","size"]);return i.a.createElement("svg",Wy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),i.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),i.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))}));Hy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Hy.displayName="Users";var Gy=Hy;function Zy(){return(Zy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qy(e,["color","size"]);return i.a.createElement("svg",Zy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));Xy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xy.displayName="VideoOff";var Yy=Xy;function Qy(){return(Qy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var eb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jy(e,["color","size"]);return i.a.createElement("svg",Qy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),i.a.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))}));eb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},eb.displayName="Video";var tb=eb;function rb(){return(rb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ib=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=nb(e,["color","size"]);return i.a.createElement("svg",rb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"5.5",cy:"11.5",r:"4.5"}),i.a.createElement("circle",{cx:"18.5",cy:"11.5",r:"4.5"}),i.a.createElement("line",{x1:"5.5",y1:"16",x2:"18.5",y2:"16"}))}));ib.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ib.displayName="Voicemail";var ab=ib;function ob(){return(ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=sb(e,["color","size"]);return i.a.createElement("svg",ob({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),i.a.createElement("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}))}));lb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lb.displayName="Volume1";var ub=lb;function cb(){return(cb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function db(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=db(e,["color","size"]);return i.a.createElement("svg",cb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),i.a.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}))}));fb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fb.displayName="Volume2";var pb=fb;function hb(){return(hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gb(e,["color","size"]);return i.a.createElement("svg",hb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),i.a.createElement("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),i.a.createElement("line",{x1:"17",y1:"9",x2:"23",y2:"15"}))}));mb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mb.displayName="VolumeX";var vb=mb;function yb(){return(yb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bb(e,["color","size"]);return i.a.createElement("svg",yb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}))}));kb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},kb.displayName="Volume";var _b=kb;function Eb(){return(Eb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Sb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wb(e,["color","size"]);return i.a.createElement("svg",Eb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"7"}),i.a.createElement("polyline",{points:"12 9 12 12 13.5 13.5"}),i.a.createElement("path",{d:"M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"}))}));Sb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Sb.displayName="Watch";var Tb=Sb;function xb(){return(xb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ob(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ob(e,["color","size"]);return i.a.createElement("svg",xb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),i.a.createElement("path",{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"}),i.a.createElement("path",{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"}),i.a.createElement("path",{d:"M10.71 5.05A16 16 0 0 1 22.58 9"}),i.a.createElement("path",{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"}),i.a.createElement("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),i.a.createElement("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"}))}));Pb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pb.displayName="WifiOff";var Ab=Pb;function Cb(){return(Cb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ib=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mb(e,["color","size"]);return i.a.createElement("svg",Cb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 12.55a11 11 0 0 1 14.08 0"}),i.a.createElement("path",{d:"M1.42 9a16 16 0 0 1 21.16 0"}),i.a.createElement("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),i.a.createElement("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"}))}));Ib.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ib.displayName="Wifi";var Rb=Ib;function Db(){return(Db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Lb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=jb(e,["color","size"]);return i.a.createElement("svg",Db({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"}))}));Lb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Lb.displayName="Wind";var Nb=Lb;function Ub(){return(Ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bb(e,["color","size"]);return i.a.createElement("svg",Ub({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))}));Fb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fb.displayName="XCircle";var zb=Fb;function Vb(){return(Vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $b(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$b(e,["color","size"]);return i.a.createElement("svg",Vb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))}));Wb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Wb.displayName="XOctagon";var Kb=Wb;function Hb(){return(Hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gb(e,["color","size"]);return i.a.createElement("svg",Hb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}))}));Zb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zb.displayName="XSquare";var qb=Zb;function Xb(){return(Xb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yb(e,["color","size"]);return i.a.createElement("svg",Xb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));Qb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qb.displayName="X";var Jb=Qb;function ek(){return(ek=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rk=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=tk(e,["color","size"]);return i.a.createElement("svg",ek({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),i.a.createElement("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"}))}));rk.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},rk.displayName="Youtube";var nk=rk;function ik(){return(ik=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ak(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ok=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ak(e,["color","size"]);return i.a.createElement("svg",ik({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"12.41 6.75 13 2 10.57 4.92"}),i.a.createElement("polyline",{points:"18.57 12.91 21 10 15.66 10"}),i.a.createElement("polyline",{points:"8 8 3 14 12 14 11 22 16 16"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));ok.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ok.displayName="ZapOff";var sk=ok;function lk(){return(lk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ck=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=uk(e,["color","size"]);return i.a.createElement("svg",lk({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))}));ck.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ck.displayName="Zap";var dk=ck;function fk(){return(fk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hk=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pk(e,["color","size"]);return i.a.createElement("svg",fk({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),i.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),i.a.createElement("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),i.a.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))}));hk.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hk.displayName="ZoomIn";var gk=hk;function mk(){return(mk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yk=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vk(e,["color","size"]);return i.a.createElement("svg",mk({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),i.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),i.a.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))}));yk.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yk.displayName="ZoomOut";var bk=yk},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(22),i=r(7),a={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},o=Object(n.a)("span",{baseStyle:a});i.a&&(o.displayName="VisuallyHidden");var s=Object(n.a)("input",{baseStyle:a});i.a&&(s.displayName="VisuallyHiddenInput")},function(e,t,r){"use strict";r.d(t,"b",(function(){return k})),r.d(t,"a",(function(){return _}));var n=r(4),i=r(7),a=r(18),o=r(27),s=r(0),l="chakra-ui-light",u="chakra-ui-dark",c={classList:{add:o.c,remove:o.c}};function d(e){var t=a.f?document.body:c;t.classList.add(e?u:l),t.classList.remove(e?l:u)}var f="(prefers-color-scheme: dark)";function p(e){var t;return(null!=(t=function(e){var t=null==window.matchMedia?void 0:window.matchMedia(e);if(t)return!!t.media===t.matches}(f))?t:"dark"===e)?"dark":"light"}var h=function(){return document.documentElement.style.getPropertyValue("--chakra-ui-color-mode")},g=function(e){a.f&&document.documentElement.style.setProperty("--chakra-ui-color-mode",e)},m="undefined"!==typeof Storage,v="chakra-ui-color-mode",y={get:function(e){if(!m)return e;var t=window.localStorage.getItem(v);return null!=t?t:e},set:function(e){m&&window.localStorage.setItem(v,e)},type:"localStorage"};var b=s.createContext({});i.a&&(b.displayName="ColorModeContext");var k=function(){var e=s.useContext(b);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e};function _(e){var t=e.value,r=e.children,i=e.options,l=i.useSystemColorMode,u=i.initialColorMode,c=e.colorModeManager,m=void 0===c?y:c,v=s.useState("cookie"===m.type?m.get(u):u),k=Object(n.a)(v,2),_=k[0],E=k[1];s.useEffect((function(){if(a.f&&"localStorage"===m.type){var e=l?p(u):h()||m.get();e&&E(e)}}),[m,l,u]),s.useEffect((function(){var e="dark"===_;d(e),g(e?"dark":"light")}),[_]);var w=s.useCallback((function(e){m.set(e),E(e)}),[m]),S=s.useCallback((function(){w("light"===_?"dark":"light")}),[_,w]);s.useEffect((function(){var e;return l&&(e=function(e){if(!("matchMedia"in window))return o.c;var t=window.matchMedia(f),r=function(){e(t.matches?"dark":"light")};return r(),t.addListener(r),function(){t.removeListener(r)}}(w)),function(){e&&l&&e()}}),[w,l]);var T={colorMode:null!=t?t:_,toggleColorMode:t?o.c:S,setColorMode:t?o.c:w};return s.createElement(b.Provider,{value:T},r)}i.a&&(_.displayName="ColorModeProvider");i.a;i.a},,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(18),l=r(7),u=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=Object(n.a)((function(e,t){var r=Object(i.b)("Heading",e),n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(Object(a.b)(e),["className"]);return u.createElement(o.a.h2,c({ref:t,className:Object(s.c)("chakra-heading",e.className)},n,{__css:r}))}));l.a&&(d.displayName="Heading")},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(4),i=r(71),a=r(27),o=r(18),s=r(7),l=r(19),u=r(0),c=r(29);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){return null!=e&&parseInt(e.toString(),10)>0},p={exit:function(e){return d({},e.animateOpacity&&{opacity:f(e.startingHeight)?1:0},{height:e.startingHeight,transition:{height:{duration:.2,ease:c.a.ease},opacity:{duration:.3,ease:c.a.ease}}})},enter:function(e){return d({},e.animateOpacity&&{opacity:1},{height:e.endingHeight,transition:{height:{duration:.3,ease:c.a.ease},opacity:{duration:.4,ease:c.a.ease}}})}},h=u.forwardRef((function(e,t){var r=e.in,s=e.unmountOnExit,c=e.animateOpacity,h=void 0===c||c,g=e.startingHeight,m=void 0===g?0:g,v=e.endingHeight,y=void 0===v?"auto":v,b=e.style,k=e.className,_=e.onAnimationComplete,E=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["in","unmountOnExit","animateOpacity","startingHeight","endingHeight","style","className","onAnimationComplete"]),w=0===m,S=u.useState(!!r),T=Object(n.a)(S,2),x=T[0],O=T[1],P=u.useState((function(){return w?!r&&!f(m)?"block":"none":"block"})),A=Object(n.a)(P,2),C=A[0],M=A[1];Object(i.a)((function(){M("block"),O(!!r)}),[r]),m>0&&s&&Object(a.e)("startingHeight and unmountOnExit are mutually exclusive. You can't use them together");var I={startingHeight:m,endingHeight:y,animateOpacity:h},R=d({ref:t,onAnimationComplete:function(){!x&&w&&M("none"),null==_||_()},className:Object(o.c)("chakra-collapse",k)},E,{variants:p,style:d({overflow:"hidden"},b),custom:I});return s?u.createElement(l.a,{initial:!1,custom:I},r&&u.createElement(l.b.div,d({},R,{initial:"exit",animate:"enter",exit:"exit"}))):u.createElement(l.b.div,d({},R,{style:d({},R.style,{display:C}),initial:!1,animate:x?"enter":"exit"}))}));s.a&&(h.displayName="Collapse")},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(20),i=r(22),a=r(7),o=r(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=Object(n.a)((function(e,t){var r=e.direction,n=e.align,a=e.justify,l=e.wrap,u=e.basis,c=e.grow,d=e.shrink,f=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["direction","align","justify","wrap","basis","grow","shrink"]),p={display:"flex",flexDirection:r,alignItems:n,justifyContent:a,flexWrap:l,flexBasis:u,flexGrow:c,flexShrink:d};return o.createElement(i.a.div,s({ref:t,__css:p},f))}));a.a&&(l.displayName="Flex")},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(20),i=r(7),a=r(0),o=r(196);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=Object(n.a)((function(e,t){var r=e.icon,n=e.children,i=e.isRound,l=e["aria-label"],u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["icon","children","isRound","aria-label"]),c=r||n,d=a.isValidElement(c)?a.cloneElement(c,{"aria-hidden":!0,focusable:!1}):null;return a.createElement(o.a,s({padding:"0",borderRadius:i?"full":"md",ref:t,"aria-label":l},u),d)}));i.a&&(l.displayName="IconButton")},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(76),i=r(0),a=Object(n.a)({displayName:"DeleteIcon",path:i.createElement("g",{fill:"currentColor"},i.createElement("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"}))})},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(22),i=r(20),a=r(7),o=r(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var u=Object(n.a)("div");a.a&&(u.displayName="Box");var c=Object(i.a)((function(e,t){var r=e.size,n=e.centerContent,i=void 0===n||n,a=l(e,["size","centerContent"]),c=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return o.createElement(u,s({ref:t,boxSize:r,__css:s({},c,{flexShrink:0,flexGrow:0})},a))}));a.a&&(c.displayName="Square");var d=Object(i.a)((function(e,t){var r=e.size,n=l(e,["size"]);return o.createElement(c,s({size:r,ref:t,borderRadius:"9999px"},n))}));a.a&&(d.displayName="Circle")},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return d}));var n=r(4),i=r(25),a=r(0),o=r(198),s=r(75);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function c(e){var t=e.context,r=e.element,n=e.index,a=e.disabled,c=e.focusable,d=u(e,["context","element","index","disabled","focusable"]),f=Object(o.a)(),p=t.register,h=t.unregister,g=t.descendants;return Object(s.a)((function(){if(r||f(),!a||c)return p(l({element:r,disabled:a,focusable:c},d)),function(){r&&h(r)}}),[r,a,c].concat(Object(i.a)(Object.values(d)))),null!=n?n:g.findIndex((function(e){return e.element===r}))}function d(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),r=t[0],o=t[1],s=Object(a.useCallback)((function(e){var t=e.element,r=u(e,["element"]);t&&o((function(e){if(null==e.find((function(e){return e.element===t}))){var n=e.findIndex((function(e){return!(!e.element||!t)&&Boolean(e.element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)})),a=l({element:t},r);return-1===n?[].concat(Object(i.a)(e),[a]):[].concat(Object(i.a)(e.slice(0,n)),[a],Object(i.a)(e.slice(n)))}return e}))}),[]),c=Object(a.useCallback)((function(e){e&&o((function(t){return t.filter((function(t){return e!==t.element}))}))}),[]);return Object(a.useMemo)((function(){return{descendants:r,register:s,unregister:c}}),[r,s,c])}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));r(4);var n=r(41),i=["input:not([disabled])","select:not([disabled])","textarea:not([disabled])","embed","iframe","object","a[href]","area[href]","button:not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"].join(),a=function(e){return 0!==e.button};function o(e){var t=Array.from(e.querySelectorAll(i));return t.unshift(e),t.filter(n.c).filter((function(e){return"none"!==window.getComputedStyle(e).display}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(76),i=Object(n.a)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(112),i=r(20),a=r(56),o=r(39),s=r(22),l=r(18),u=r(7),c=r(0);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=Object(i.a)((function(e,t){var r=Object(a.a)("Switch",e),i=Object(o.b)(e),u=Object(n.a)(i),f=u.state,p=u.getInputProps,h=u.getCheckboxProps,g=u.htmlProps,m=p({},t),v=h(),y=d({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer"},r.track);return c.createElement(s.a.label,d({},g,{className:Object(l.c)("chakra-switch",e.className),__css:{display:"inline-block",verticalAlign:"middle",lineHeight:"normal"}}),c.createElement("input",d({className:"chakra-switch__input"},m)),c.createElement(s.a.span,d({},v,{className:"chakra-switch__track",__css:y}),c.createElement(s.a.span,{__css:r.thumb,className:"chakra-switch__thumb","data-checked":Object(l.d)(f.isChecked),"data-hover":Object(l.d)(f.isHovered)})))}));u.a&&(f.displayName="Switch")},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(62),l=r(18),u=r(7),c=r(0),d=r(61);function f(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=Object(n.a)((function(e,t){var r=Object(i.b)("FormLabel",e),n=Object(a.b)(e),s=n.children,u=n.requiredIndicator,h=void 0===u?c.createElement(g,null):u,m=function(e){var t,r,n=Object(d.c)();return p({},e,{"data-focus":Object(l.d)(null==n?void 0:n.isFocused),"data-disabled":Object(l.d)(null==n?void 0:n.isDisabled),"data-invalid":Object(l.d)(null==n?void 0:n.isInvalid),"data-loading":Object(l.d)(null==n?void 0:n.isLoading),"data-readonly":Object(l.d)(null==n?void 0:n.isReadOnly),id:null!=(t=e.id)?t:null==n?void 0:n.labelId,htmlFor:null!=(r=e.htmlFor)?r:null==n?void 0:n.id})}(f(n,["className","children","requiredIndicator"])),v=Object(d.c)();return c.createElement(o.a.label,p({ref:t,className:Object(l.c)("chakra-form__label",n.className),__css:p({display:"block",textAlign:"left"},r)},m),s,(null==v?void 0:v.isRequired)?h:null)}));u.a&&(h.displayName="FormLabel");var g=Object(n.a)((function(e,t){var r=e.children,n=e.className,i=f(e,["children","className"]),a=Object(d.c)(),u=Object(s.c)();if(!(null==a?void 0:a.isRequired))return null;var h=Object(l.c)("chakra-form__required-indicator",n);return c.createElement(o.a.span,p({role:"presentation","aria-hidden":!0,ref:t},i,{__css:u.requiredIndicator,className:h}),r||"*")}));u.a&&(g.displayName="RequiredIndicator")},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(20),i=r(22),a=r(7),o=(r(63),r(46),r(0));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var u=Object(n.a)((function(e,t){var r=e.area,n=e.templateAreas,a=e.gap,u=e.rowGap,c=e.columnGap,d=e.column,f=e.row,p=e.autoFlow,h=e.autoRows,g=e.templateRows,m=e.autoColumns,v=e.templateColumns,y=l(e,["area","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"]),b={display:"grid",gridArea:r,gridTemplateAreas:n,gridGap:a,gridRowGap:u,gridColumnGap:c,gridAutoColumns:m,gridColumn:d,gridRow:f,gridAutoFlow:p,gridAutoRows:h,gridTemplateRows:g,gridTemplateColumns:v};return o.createElement(i.a.div,s({ref:t,__css:b},y))}));a.a&&(u.displayName="Grid")},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(46),l=r(18),u=r(7),c=r(0);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=Object(n.a)((function(e,t){var r=Object(i.b)("Text",e),n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(Object(a.b)(e),["className","align","decoration","casing"]),u=Object(s.a)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return c.createElement(o.a.p,d({ref:t,className:Object(l.c)("chakra-text",e.className)},u,n,{__css:r}))}));u.a&&(f.displayName="Text")},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(18),l=r(7),u=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=Object(n.a)((function(e,t){var r=Object(i.b)("Link",e),n=Object(a.b)(e),l=n.className,d=n.isExternal,f=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(n,["className","isExternal"]);return u.createElement(o.a.a,c({target:d?"_blank":void 0,rel:d?"noopener noreferrer":void 0,ref:t,className:Object(s.c)("chakra-link",l)},f,{__css:r}))}));l.a&&(d.displayName="Link")},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(14),i=r(22),a=r(20),o=r(63),s=r(64),l=r(18),u=r(7),c=r(0);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){return c.createElement(i.a.div,d({className:"chakra-stack__item"},e,{__css:d({display:"inline-block",flex:"0 0 auto",minWidth:0},e.__css)}))},p="& > *:not(style) ~ *:not(style)",h=Object(a.a)((function(e,t){var r=e.isInline,a=e.direction,u=e.align,h=e.justify,g=e.spacing,m=void 0===g?"0.5rem":g,v=e.wrap,y=e.children,b=e.divider,k=e.className,_=e.shouldWrapChildren,E=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"]),w=r?"row":null!=a?a:"column",S=c.useMemo((function(){var e={column:{mt:m,ml:0},row:{ml:m,mt:0},"column-reverse":{mb:m,mr:0},"row-reverse":{mr:m,mb:0}};return Object(n.a)({flexDirection:w},p,Object(o.b)(w,(function(t){return e[t]})))}),[w,m]),T={marginX:Object(o.b)(w,(function(e){return e.includes("row")?m:0})),marginY:Object(o.b)(w,(function(e){return e.includes("row")?0:m})),borderLeftWidth:Object(o.b)(w,(function(e){return e.includes("row")?"1px":0})),borderBottomWidth:Object(o.b)(w,(function(e){return e.includes("row")?0:"1px"}))},x=!!b,O=!_&&!x,P=Object(s.b)(y),A=O?P:P.map((function(e,t){var r=t+1===P.length,n=_?c.createElement(f,{key:t},e):e;if(!x)return n;var i=r?null:c.cloneElement(b,T);return c.createElement(c.Fragment,{key:t},[n,i])})),C=Object(l.c)("chakra-stack",k);return c.createElement(i.a.div,d({ref:t,display:"flex",alignItems:u,justifyContent:h,flexDirection:S.flexDirection,flexWrap:v,className:C,__css:x?{}:Object(n.a)({},p,S[p])},E),A)}));u.a&&(h.displayName="Stack");var g=Object(a.a)((function(e,t){return c.createElement(h,d({align:"center"},e,{direction:"row",ref:t}))}));u.a&&(g.displayName="HStack");var m=Object(a.a)((function(e,t){return c.createElement(h,d({align:"center"},e,{direction:"column",ref:t}))}));u.a&&(m.displayName="VStack")},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var n=r(20),i=r(0),a=r(43);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e){var t=e.leastDestructiveRef,r=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["leastDestructiveRef"]);return i.createElement(a.a,o({},r,{initialFocusRef:t}))}var l=Object(n.a)((function(e,t){return i.createElement(a.c,o({ref:t,role:"alertdialog"},e))}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return g}));var n=r(14),i=r(110),a=r(20),o=r(22),s=r(64),l=r(7),u=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var f=Object(a.a)((function(e,t){var r=e.children,i=e.styleType,a=void 0===i?"none":i,l=e.stylePosition,f=e.spacing,p=d(e,["children","styleType","stylePosition","spacing"]),h=Object(s.b)(r);return u.createElement(o.a.ul,c({ref:t,listStyleType:a,listStylePosition:l,role:"list",__css:f?Object(n.a)({},"& > *:not(style) ~ *:not(style)",{mt:f}):{}},p),h)}));l.a&&(f.displayName="List");var p=Object(a.a)((function(e,t){var r=d(e,["as"]);return u.createElement(f,c({ref:t,as:"ol",styleType:"decimal",marginLeft:"1em"},r))}));l.a&&(p.displayName="OrderedList");var h=Object(a.a)((function(e,t){var r=d(e,["as"]);return u.createElement(f,c({ref:t,as:"ul",styleType:"initial",marginLeft:"1em"},r))}));l.a&&(h.displayName="UnorderedList");var g=Object(o.a)("li");l.a&&(g.displayName="ListItem");var m=Object(a.a)((function(e,t){return u.createElement(i.a,c({ref:t,role:"presentation",marginRight:"0.5rem",display:"inline",verticalAlign:"text-bottom"},e))}));l.a&&(m.displayName="ListIcon")},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(76),i=r(0),a=Object(n.a)({displayName:"ExternalLinkIcon",path:i.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},i.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.createElement("path",{d:"M15 3h6v6"}),i.createElement("path",{d:"M10 14L21 3"}))})},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(18),l=r(7),u=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=Object(n.a)((function(e,t){var r=Object(i.b)("Badge",e),n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(Object(a.b)(e),["className"]);return u.createElement(o.a.span,c({ref:t,className:Object(s.c)("chakra-badge",e.className)},n,{__css:c({display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},r)}))}));l.a&&(d.displayName="Badge")},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(4),i=r(0),a=r(184),o=r.n(a);function s(e,t){void 0===t&&(t=1500);var r=Object(i.useState)(!1),a=Object(n.a)(r,2),s=a[0],l=a[1],u=Object(i.useCallback)((function(){var t=o()(e);l(t)}),[e]);return Object(i.useEffect)((function(){var e=null;return s&&(e=window.setTimeout((function(){l(!1)}),t)),function(){e&&window.clearTimeout(e)}}),[t,s]),{value:e,onCopy:u,hasCopied:s}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(76),i=r(0),a=Object(n.a)({viewBox:"0 0 14 14",path:i.createElement("g",{fill:"currentColor"},i.createElement("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))})},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(76),i=Object(n.a)({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(93),i=r(7),a=r(46);function o(e){return Object(a.d)({},n.a,e,(function e(t,r){if(Object(i.d)(t))return function(){var n=t.apply(void 0,arguments),o=Object(i.d)(r)?r.apply(void 0,arguments):r;return Object(a.d)({},n,o,e)}}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Xe})),r.d(t,"b",(function(){return Qe})),r.d(t,"d",(function(){return tt})),r.d(t,"c",(function(){return nt}));var n=r(56),i=r(39),a=r(62),o=r(20),s=r(22),l=r(27),u=r(7),c=r(18),d=r(19),f=r(0),p=r(4),h=r(352),g=r(327),m=r(111),v=r(117);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e){var t=e.ref,r=e.handler,n=function(e){var t=f.useRef(e);return f.useEffect((function(){t.current=e}),[e]),t}(r),i=Object(f.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;Object(f.useEffect)((function(){var e=function(e){k(e,t)&&(i.isPointerDown=!0)},a=function(e){i.ignoreEmulatedMouseEvents?i.ignoreEmulatedMouseEvents=!1:i.isPointerDown&&r&&k(e,t)&&(i.isPointerDown=!1,null==n.current||n.current(e))},o=function(e){i.ignoreEmulatedMouseEvents=!0,r&&i.isPointerDown&&k(e,t)&&(i.isPointerDown=!1,null==n.current||n.current(e))};return document.addEventListener("mousedown",e,!0),document.addEventListener("mouseup",a,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",o,!0),function(){document.removeEventListener("mousedown",e,!0),document.removeEventListener("mouseup",a,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",o,!0)}}),[r,t,i.ignoreEmulatedMouseEvents,i.isPointerDown])}function k(e,t){var r=e.target;if(e.button>0)return!1;if(r){var n=r.ownerDocument;if(!n||!n.body.contains(r))return!1}return t.current&&!t.current.contains(r)}var _=r(71),E=r(41);function w(e,t){var r=t.shouldFocus,n=t.visible,i=t.focusRef,a=r&&!n;Object(_.a)((function(){if(a&&!function(e){var t=e.current;if(!t)return!1;var r=Object(c.e)(t);return!!r&&(!Object(c.b)(t,r)&&!!Object(E.e)(r))}(e)){var t=(null==i?void 0:i.current)||e.current;t&&Object(E.a)(t)}}),[a,e,i])}var S=r(25);function T(e){void 0===e&&(e={});var t=e,r=t.timeout,n=void 0===r?300:r,i=t.preventDefault,a=void 0===i?function(){return!0}:i,o=f.useState([]),s=Object(p.a)(o,2),l=s[0],u=s[1],c=f.useRef(),d=function(){c.current&&(clearTimeout(c.current),c.current=null)};return f.useEffect((function(){return d}),[]),function(e){return function(t){if("Backspace"===t.key){var r=Object(S.a)(l);return r.pop(),void u(r)}if(function(e){var t=e.key;return 1===t.length||t.length>1&&/[^a-zA-Z0-9]/.test(t)}(t)){var i=l.concat(t.key);a(t)&&(t.preventDefault(),t.stopPropagation()),u(i),e(i.join("")),d(),c.current=setTimeout((function(){u([]),c.current=null}),n)}}}}var x=r(64);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){if(t)return e.includes("top")?"2px 2px 2px 0 "+t:e.includes("bottom")?"-1px -1px 1px 0 "+t:e.includes("right")?"-1px 1px 1px 0 "+t:e.includes("left")?"1px -1px 1px 0 "+t:void 0}var A={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},C=function(e){return A[e]},M=r(75),I=r(46);function R(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function D(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function j(e){var t=D(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function L(e){return e instanceof D(e).Element||e instanceof Element}function N(e){return e instanceof D(e).HTMLElement||e instanceof HTMLElement}function U(e){return e?(e.nodeName||"").toLowerCase():null}function B(e){return(L(e)?e.ownerDocument:e.document).documentElement}function F(e){return R(B(e)).left+j(e).scrollLeft}function z(e){return D(e).getComputedStyle(e)}function V(e){var t=z(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function $(e,t,r){void 0===r&&(r=!1);var n=B(t),i=R(e),a=N(t),o={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(a||!a&&!r)&&(("body"!==U(t)||V(n))&&(o=function(e){return e!==D(e)&&N(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:j(e);var t}(t)),N(t)?((s=R(t)).x+=t.clientLeft,s.y+=t.clientTop):n&&(s.x=F(n))),{x:i.left+o.scrollLeft-s.x,y:i.top+o.scrollTop-s.y,width:i.width,height:i.height}}function W(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function K(e){return"html"===U(e)?e:e.assignedSlot||e.parentNode||e.host||B(e)}function H(e,t){void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(U(t))>=0?t.ownerDocument.body:N(t)&&V(t)?t:e(K(t))}(e),n="body"===U(r),i=D(r),a=n?[i].concat(i.visualViewport||[],V(r)?r:[]):r,o=t.concat(a);return n?o:o.concat(H(K(a)))}function G(e){return["table","td","th"].indexOf(U(e))>=0}function Z(e){if(!N(e)||"fixed"===z(e).position)return null;var t=e.offsetParent;if(t){var r=B(t);if("body"===U(t)&&"static"===z(t).position&&"static"!==z(r).position)return r}return t}function q(e){for(var t=D(e),r=Z(e);r&&G(r)&&"static"===z(r).position;)r=Z(r);return r&&"body"===U(r)&&"static"===z(r).position?t:r||function(e){for(var t=K(e);N(t)&&["html","body"].indexOf(U(t))<0;){var r=z(t);if("none"!==r.transform||"none"!==r.perspective||r.willChange&&"auto"!==r.willChange)return t;t=t.parentNode}return null}(e)||t}var X="top",Y="bottom",Q="right",J="left",ee=[X,Y,Q,J],te=ee.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),re=[].concat(ee,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),ne=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ie(e){var t=new Map,r=new Set,n=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||function e(i){r.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(n){if(!r.has(n)){var i=t.get(n);i&&e(i)}})),n.push(i)}(e)})),n}function ae(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var oe={placement:"bottom",modifiers:[],strategy:"absolute"};function se(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function le(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,a=void 0===i?oe:i;return function(e,t,r){void 0===r&&(r=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},oe),a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,l={state:i,setOptions:function(r){u(),i.options=Object.assign(Object.assign(Object.assign({},a),i.options),r),i.scrollParents={reference:L(e)?H(e):e.contextElement?H(e.contextElement):[],popper:H(t)};var s=function(e){var t=ie(e);return ne.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign(Object.assign(Object.assign({},r),t),{},{options:Object.assign(Object.assign({},r.options),t.options),data:Object.assign(Object.assign({},r.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,i.options.modifiers)));return i.orderedModifiers=s.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:l,options:n});o.push(s||function(){})}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,r=e.popper;if(se(t,r)){i.rects={reference:$(t,q(r),"fixed"===i.options.strategy),popper:W(r)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<i.orderedModifiers.length;n++)if(!0!==i.reset){var a=i.orderedModifiers[n],o=a.fn,u=a.options,c=void 0===u?{}:u,d=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:d,instance:l})||i)}else i.reset=!1,n=-1}}},update:ae((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!se(e,t))return l;function u(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var ue={passive:!0};function ce(e){return e.split("-")[0]}function de(e){return e.split("-")[1]}function fe(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pe(e){var t,r=e.reference,n=e.element,i=e.placement,a=i?ce(i):null,o=i?de(i):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(a){case X:t={x:s,y:r.y-n.height};break;case Y:t={x:s,y:r.y+r.height};break;case Q:t={x:r.x+r.width,y:l};break;case J:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var u=a?fe(a):null;if(null!=u){var c="y"===u?"height":"width";switch(o){case"start":t[u]=Math.floor(t[u])-Math.floor(r[c]/2-n[c]/2);break;case"end":t[u]=Math.floor(t[u])+Math.ceil(r[c]/2-n[c]/2)}}return t}var he={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ge(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.offsets,o=e.position,s=e.gpuAcceleration,l=e.adaptive,u=function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:Math.round(t*n)/n||0,y:Math.round(r*n)/n||0}}(a),c=u.x,d=u.y,f=a.hasOwnProperty("x"),p=a.hasOwnProperty("y"),h=J,g=X,m=window;if(l){var v=q(r);v===D(r)&&(v=B(r)),i===X&&(g=Y,d-=v.clientHeight-n.height,d*=s?1:-1),i===J&&(h=Q,c-=v.clientWidth-n.width,c*=s?1:-1)}var y,b=Object.assign({position:o},l&&he);return s?Object.assign(Object.assign({},b),{},((y={})[g]=p?"0":"",y[h]=f?"0":"",y.transform=(m.devicePixelRatio||1)<2?"translate("+c+"px, "+d+"px)":"translate3d("+c+"px, "+d+"px, 0)",y)):Object.assign(Object.assign({},b),{},((t={})[g]=p?d+"px":"",t[h]=f?c+"px":"",t.transform="",t))}var me={left:"right",right:"left",bottom:"top",top:"bottom"};function ve(e){return e.replace(/left|right|bottom|top/g,(function(e){return me[e]}))}var ye={start:"end",end:"start"};function be(e){return e.replace(/start|end/g,(function(e){return ye[e]}))}function ke(e,t){var r=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(r){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function _e(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ee(e,t){return"viewport"===t?_e(function(e){var t=D(e),r=B(e),n=t.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+F(e),y:s}}(e)):N(t)?function(e){var t=R(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):_e(function(e){var t=B(e),r=j(e),n=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=Math.max(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-r.scrollLeft+F(e),s=-r.scrollTop;return"rtl"===z(n||t).direction&&(o+=Math.max(t.clientWidth,n?n.clientWidth:0)-i),{width:i,height:a,x:o,y:s}}(B(e)))}function we(e,t,r){var n="clippingParents"===t?function(e){var t=H(K(e)),r=["absolute","fixed"].indexOf(z(e).position)>=0&&N(e)?q(e):e;return L(r)?t.filter((function(e){return L(e)&&ke(e,r)&&"body"!==U(e)})):[]}(e):[].concat(t),i=[].concat(n,[r]),a=i[0],o=i.reduce((function(t,r){var n=Ee(e,r);return t.top=Math.max(n.top,t.top),t.right=Math.min(n.right,t.right),t.bottom=Math.min(n.bottom,t.bottom),t.left=Math.max(n.left,t.left),t}),Ee(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Se(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function Te(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function xe(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,a=r.boundary,o=void 0===a?"clippingParents":a,s=r.rootBoundary,l=void 0===s?"viewport":s,u=r.elementContext,c=void 0===u?"popper":u,d=r.altBoundary,f=void 0!==d&&d,p=r.padding,h=void 0===p?0:p,g=Se("number"!==typeof h?h:Te(h,ee)),m="popper"===c?"reference":"popper",v=e.elements.reference,y=e.rects.popper,b=e.elements[f?m:c],k=we(L(b)?b:b.contextElement||B(e.elements.popper),o,l),_=R(v),E=pe({reference:_,element:y,strategy:"absolute",placement:i}),w=_e(Object.assign(Object.assign({},y),E)),S="popper"===c?w:_,T={top:k.top-S.top+g.top,bottom:S.bottom-k.bottom+g.bottom,left:k.left-S.left+g.left,right:S.right-k.right+g.right},x=e.modifiersData.offset;if("popper"===c&&x){var O=x[i];Object.keys(T).forEach((function(e){var t=[Q,Y].indexOf(e)>=0?1:-1,r=[X,Y].indexOf(e)>=0?"y":"x";T[e]+=O[r]*t}))}return T}function Oe(e,t,r){return Math.max(e,Math.min(t,r))}function Pe(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Ae(e){return[X,Q,Y,J].some((function(t){return e[t]>=0}))}var Ce=le({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=void 0===i||i,o=n.resize,s=void 0===o||o,l=D(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",r.update,ue)})),s&&l.addEventListener("resize",r.update,ue),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",r.update,ue)})),s&&l.removeEventListener("resize",r.update,ue)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=pe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,a=r.adaptive,o=void 0===a||a,s={placement:ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),ge(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),ge(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];N(i)&&U(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});N(n)&&U(n)&&(Object.assign(n.style,a),Object.keys(i).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=void 0===i?[0,0]:i,o=re.reduce((function(e,r){return e[r]=function(e,t,r){var n=ce(e),i=[J,X].indexOf(n)>=0?-1:1,a="function"===typeof r?r(Object.assign(Object.assign({},t),{},{placement:e})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[J,Q].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}(r,t.rects,a),e}),{}),s=o[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0===o||o,l=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,f=r.altBoundary,p=r.flipVariations,h=void 0===p||p,g=r.allowedAutoPlacements,m=t.options.placement,v=ce(m),y=l||(v===m||!h?[ve(m)]:function(e){if("auto"===ce(e))return[];var t=ve(e);return[be(e),t,be(t)]}(m)),b=[m].concat(y).reduce((function(e,r){return e.concat("auto"===ce(r)?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=void 0===l?re:l,c=de(n),d=c?s?te:te.filter((function(e){return de(e)===c})):ee,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,r){return t[r]=xe(e,{placement:r,boundary:i,rootBoundary:a,padding:o})[ce(r)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:r,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:g}):r)}),[]),k=t.rects.reference,_=t.rects.popper,E=new Map,w=!0,S=b[0],T=0;T<b.length;T++){var x=b[T],O=ce(x),P="start"===de(x),A=[X,Y].indexOf(O)>=0,C=A?"width":"height",M=xe(t,{placement:x,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),I=A?P?Q:J:P?Y:X;k[C]>_[C]&&(I=ve(I));var R=ve(I),D=[];if(a&&D.push(M[O]<=0),s&&D.push(M[I]<=0,M[R]<=0),D.every((function(e){return e}))){S=x,w=!1;break}E.set(x,D)}if(w)for(var j=function(e){var t=b.find((function(t){var r=E.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},L=h?3:1;L>0;L--){if("break"===j(L))break}t.placement!==S&&(t.modifiersData[n]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0!==o&&o,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,f=r.tether,p=void 0===f||f,h=r.tetherOffset,g=void 0===h?0:h,m=xe(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=ce(t.placement),y=de(t.placement),b=!y,k=fe(v),_="x"===k?"y":"x",E=t.modifiersData.popperOffsets,w=t.rects.reference,S=t.rects.popper,T="function"===typeof g?g(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):g,x={x:0,y:0};if(E){if(a){var O="y"===k?X:J,P="y"===k?Y:Q,A="y"===k?"height":"width",C=E[k],M=E[k]+m[O],I=E[k]-m[P],R=p?-S[A]/2:0,D="start"===y?w[A]:S[A],j="start"===y?-S[A]:-w[A],L=t.elements.arrow,N=p&&L?W(L):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=U[O],F=U[P],z=Oe(0,w[A],N[A]),V=b?w[A]/2-R-z-B-T:D-z-B-T,$=b?-w[A]/2+R+z+F+T:j+z+F+T,K=t.elements.arrow&&q(t.elements.arrow),H=K?"y"===k?K.clientTop||0:K.clientLeft||0:0,G=t.modifiersData.offset?t.modifiersData.offset[t.placement][k]:0,Z=E[k]+V-G-H,ee=E[k]+$-G,te=Oe(p?Math.min(M,Z):M,C,p?Math.max(I,ee):I);E[k]=te,x[k]=te-C}if(s){var re="x"===k?X:J,ne="x"===k?Y:Q,ie=E[_],ae=Oe(ie+m[re],ie,ie-m[ne]);E[_]=ae,x[_]=ae-ie}t.modifiersData[n]=x}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=r.elements.arrow,a=r.modifiersData.popperOffsets,o=ce(r.placement),s=fe(o),l=[J,Q].indexOf(o)>=0?"height":"width";if(i&&a){var u=r.modifiersData[n+"#persistent"].padding,c=W(i),d="y"===s?X:J,f="y"===s?Y:Q,p=r.rects.reference[l]+r.rects.reference[s]-a[s]-r.rects.popper[l],h=a[s]-r.rects.reference[s],g=q(i),m=g?"y"===s?g.clientHeight||0:g.clientWidth||0:0,v=p/2-h/2,y=u[d],b=m-c[l]-u[f],k=m/2-c[l]/2+v,_=Oe(y,k,b),E=s;r.modifiersData[n]=((t={})[E]=_,t.centerOffset=_-k,t)}},effect:function(e){var t=e.state,r=e.options,n=e.name,i=r.element,a=void 0===i?"[data-popper-arrow]":i,o=r.padding,s=void 0===o?0:o;null!=a&&("string"!==typeof a||(a=t.elements.popper.querySelector(a)))&&ke(t.elements.popper,a)&&(t.elements.arrow=a,t.modifiersData[n+"#persistent"]={padding:Se("number"!==typeof s?s:Te(s,ee))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=xe(t,{elementContext:"reference"}),s=xe(t,{altBoundary:!0}),l=Pe(o,n),u=Pe(s,i,a),c=Ae(l),d=Ae(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),Me=r(60),Ie=Object.prototype.hasOwnProperty;function Re(e,t,r){var n,i=Object(Me.a)(e.keys());try{for(i.s();!(n=i.n()).done;)if(De(r=n.value,t))return r}catch(a){i.e(a)}finally{i.f()}}function De(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&De(e[n],t[n]););return-1===n}if(r===Set){if(e.size!==t.size)return!1;var a,o=Object(Me.a)(e);try{for(o.s();!(a=o.n()).done;){if((i=n=a.value)&&"object"===typeof i&&!(i=Re(t,i)))return!1;if(!t.has(i))return!1}}catch(u){o.e(u)}finally{o.f()}return!0}if(r===Map){if(e.size!==t.size)return!1;var s,l=Object(Me.a)(e);try{for(l.s();!(s=l.n()).done;){if((i=(n=s.value)[0])&&"object"===typeof i&&!(i=Re(t,i)))return!1;if(!De(n[1],t.get(i)))return!1}}catch(u){l.e(u)}finally{l.f()}return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!r||"object"===typeof e){for(r in n=0,e){if(Ie.call(e,r)&&++n&&!Ie.call(t,r))return!1;if(!(r in t)||!De(e[r],t[r]))return!1}return Object.keys(t).length===n}}return e!==e&&t!==t}function je(e,t){return function(r){var n=Object(I.b)(t.map((function(t){return[t,e[t]]}))),i=De(r.popper,n.popper);return De(r.arrow,n.arrow)&&i?r:n}}var Le=[];function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ue(e){var t,r;void 0===e&&(e={});var n=e,i=n.placement,a=void 0===i?"bottom":i,o=n.preventOverflow,s=void 0===o||o,l=n.fixed,u=void 0!==l&&l,c=n.flip,d=void 0===c||c,h=n.arrowSize,g=void 0===h?8:h,m=n.arrowShadowColor,v=n.gutter,y=void 0===v?8:v,b=n.arrowPadding,k=void 0===b?4:b,_=n.offset,E=n.matchWidth,w=n.modifiers,T=void 0===w?[]:w,A=f.useState(null),I=Object(p.a)(A,2),R=I[0],D=I[1],j=f.useState(null),L=Object(p.a)(j,2),N=L[0],U=L[1],B=f.useState(null),F=Object(p.a)(B,2),z=F[0],V=F[1],$=null!=_?_:[0,y],W=function(e,t,r){void 0===r&&(r={});var n=f.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Le},a=f.useState({popper:{position:i.strategy,left:"0",top:"0"}}),o=Object(p.a)(a,2),s=o[0],l=o[1],u=f.useState({}),c=Object(p.a)(u,2),d=c[0],h=c[1],g=f.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);l(je(t.styles,r)),h(je(t.attributes,r))},requires:["computeStyles"]}}),[]),m=f.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(Object(S.a)(i.modifiers),[g,{name:"applyStyles",enabled:!1}])};return De(n.current,e)?n.current||e:(n.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,g]),v=f.useRef();return Object(M.a)((function(){v.current&&v.current.setOptions(m)}),[m]),Object(M.a)((function(){if(null!=e&&null!=t){var n=(r.createPopper||Ce)(e,t,m);return v.current=n,function(){n.destroy(),v.current=null}}}),[e,t,r.createPopper]),f.useEffect((function(){var e=requestAnimationFrame((function(){var e;null==(e=v.current)||e.forceUpdate()}));return function(){cancelAnimationFrame(e)}}),[]),{state:v.current?v.current.state:null,styles:s,attributes:d,update:v.current?v.current.update:null,forceUpdate:v.current?v.current.forceUpdate:null}}(R,N,{placement:a,strategy:u?"fixed":"absolute",modifiers:f.useMemo((function(){return[{name:"offset",options:{offset:null!=$?$:[0,y]},phase:"main"},{name:"preventOverflow",enabled:!!s,phase:"main"},{name:"arrow",enabled:!!z,options:{element:z,padding:k},phase:"main"},{name:"flip",enabled:d,options:{padding:8},phase:"main"},{name:"matchWidth",enabled:!!E,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width=t.rects.reference.width+"px"},effect:function(e){var t=e.state;return function(){var e=t.elements.reference;t.elements.popper.style.width=e.offsetWidth+"px"}}},{name:"applyArrowHide",enabled:!0,phase:"write",fn:function(e){var t,r=e.state,n=r.elements.arrow;n&&(0!==(null==(t=r.modifiersData.arrow)?void 0:t.centerOffset)?n.setAttribute("data-hide",""):n.removeAttribute("data-hide"))}}]}),[z,k,d,s,$,y,E]).concat(T)});f.useEffect((function(){null==W.forceUpdate||W.forceUpdate()}));var K=null!=(t=null==(r=W.state)?void 0:r.placement)?t:a,H=function(e){var t=e.arrowSize,r=e.popperArrowStyles,n=void 0===r?{}:r,i=e.placement,a=O({},n,{width:t,height:t,zIndex:-1}),o=-t/2;return i.startsWith("top")&&(a.bottom=o),i.startsWith("bottom")&&(a.top=o),i.startsWith("left")&&(a.right=o),i.startsWith("right")&&(a.left=o),a}({placement:K,popperArrowStyles:W.styles.arrow,arrowSize:g}),G=f.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Ne({},e,{ref:Object(x.c)(D,t)})}),[]),Z=f.useCallback((function(e,t){var r;return void 0===e&&(e={}),void 0===t&&(t=null),Ne({},e,W.attributes.popper,{ref:Object(x.c)(U,t),style:Ne({},e.style,null==(r=W.styles)?void 0:r.popper)})}),[W.attributes,W.styles]),q=f.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Ne({},e,W.attributes.arrow,{ref:Object(x.c)(V,t),style:Ne({},e.style,H)})}),[W.attributes,H]),X=f.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Ne({},e,{ref:t,style:Ne({boxShadow:P(K,m)},e.style,{position:"absolute",zIndex:-1,width:"100%",height:"100%",transform:"rotate(45deg)"})})}),[K,m]);return{transformOrigin:C(K),getReferenceProps:G,getPopperProps:Z,getArrowWrapperProps:q,getArrowProps:X,state:W.state,forceUpdate:W.forceUpdate,update:W.update,placement:K}}var Be=r(177);function Fe(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ve=Object(x.a)({strict:!1,name:"MenuContext"}),$e=Object(p.a)(Ve,2),We=$e[0],Ke=$e[1];function He(e){var t=e.id,r=e.closeOnSelect,n=void 0===r||r,i=e.closeOnBlur,a=void 0===i||i,o=e.autoSelect,s=void 0===o||o,u=e.isLazy,c=e.placement,d=void 0===c?"bottom-start":c,h=e.fixed,k=function(e){void 0===e&&(e={});var t=e,r=t.onClose,n=t.onOpen,i=t.isOpen,a=t.id,o=f.useState(e.defaultIsOpen||!1),s=Object(p.a)(o,2),u=s[0],c=s[1],d=Object(m.a)(i,u),h=Object(p.a)(d,2),g=h[0],b=h[1],k=Object(v.a)(a,"disclosure"),_=f.useCallback((function(){g||c(!1),null==r||r()}),[g,r]),E=f.useCallback((function(){g||c(!0),null==n||n()}),[g,n]),w=f.useCallback((function(){(b?_:E)()}),[b,E,_]);return{isOpen:!!b,onOpen:E,onClose:_,onToggle:w,isControlled:g,getButtonProps:function(e){return void 0===e&&(e={}),y({},e,{"aria-expanded":"true","aria-controls":k,onClick:Object(l.b)(e.onClick,w)})},getDisclosureProps:function(e){return void 0===e&&(e={}),y({},e,{hidden:!b,id:k})}}}(e),S=k.isOpen,T=k.onOpen,x=k.onClose,O=k.onToggle,P=f.useRef(null),A=f.useRef(null);b({ref:P,handler:function(e){var t;S&&a&&!(null==(t=A.current)?void 0:t.contains(e.target))&&x()}});var C=Ue({placement:d,fixed:h}),M=f.useState(-1),I=Object(p.a)(M,2),R=I[0],D=I[1],j=Object(g.b)();Object(_.a)((function(){S||D(-1)}),[S]),w(P,{focusRef:A,visible:S,shouldFocus:!0});var L=Object(v.b)(t,"menu-button","menu-list"),N=Object(p.a)(L,2),U=N[0],B=N[1];return{openAndFocusMenu:f.useCallback((function(){T(),P.current&&Object(E.a)(P.current)}),[T,P]),openAndFocusFirstItem:f.useCallback((function(){T(),D(0)}),[T,D]),openAndFocusLastItem:f.useCallback((function(){T(),D(j.descendants.length-1)}),[T,D,j.descendants]),onTransitionEnd:f.useCallback((function(){var e,t,r=null==(e=P.current)?void 0:e.contains(document.activeElement);if(S&&!r){var n=null==(t=j.descendants[R])?void 0:t.element;null==n||n.focus({preventScroll:!0})}}),[S,E.b,R,j.descendants]),domContext:j,popper:C,buttonId:U,menuId:B,forceUpdate:C.forceUpdate,orientation:"vertical",isOpen:S,onToggle:O,onOpen:T,onClose:x,menuRef:P,buttonRef:A,focusedIndex:R,closeOnSelect:n,closeOnBlur:a,autoSelect:s,setFocusedIndex:D,isLazy:u}}function Ge(e,t){void 0===t&&(t=null);var r=e.onMouseEnter,n=e.onMouseMove,i=e.onMouseLeave,a=e.onClick,o=e.isDisabled,s=e.isFocusable,l=Fe(e,["onMouseEnter","onMouseMove","onMouseLeave","onClick","isDisabled","isFocusable"]),u=Ke(),c=u.domContext,d=u.setFocusedIndex,p=u.focusedIndex,m=u.closeOnSelect,y=u.onClose,b=u.menuRef,k=u.isOpen,w=f.useRef(null),S="menuitem-"+Object(v.a)(),T=Object(g.a)({element:w.current,context:c,disabled:o,focusable:s}),O=f.useCallback((function(e){null==r||r(e),o||d(T)}),[d,T,o]),P=f.useCallback((function(e){null==n||n(e),document.activeElement!==w.current&&O(e)}),[O]),A=f.useCallback((function(e){null==i||i(e),o||d(-1)}),[d,o]),C=f.useCallback((function(e){null==a||a(e),m&&y()}),[y,a,m]),M=T===p,I=o&&!s;return Object(_.a)((function(){if(k)if(M&&!I&&w.current)Object(E.a)(w.current);else if(document.activeElement!==b.current){var e;null==(e=b.current)||e.focus()}}),[M,I,b,k]),ze({},l,Object(h.a)({onClick:C,onMouseEnter:O,onMouseMove:P,onMouseLeave:A,ref:Object(x.c)(w,t),isDisabled:o,isFocusable:s}),{id:S,role:"menuitem",tabIndex:M?0:-1})}function Ze(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Xe=function(e){var t=e.children,r=Object(n.a)("Menu",e),o=He(Object(i.b)(e)),s=f.useMemo((function(){return o}),[o]),u=s.isOpen,c=s.onClose,d=s.forceUpdate;return f.createElement(We,{value:s},f.createElement(a.b,{value:r},Object(l.d)(t,{isOpen:u,onClose:c,forceUpdate:d})))};u.a&&(Xe.displayName="Menu");var Ye=Object(o.a)((function(e,t){var r=Object(a.c)();return f.createElement(s.a.button,qe({ref:t},e,{__css:qe({display:"inline-flex",appearance:"none",alignItems:"center",outline:0,transition:"all 250ms"},r.button)}))})),Qe=Object(o.a)((function(e,t){var r=e.as,n=function(e,t){void 0===t&&(t=null);var r=Ke(),n=r.isOpen,i=r.onClose,a=r.autoSelect,o=r.popper,s=r.openAndFocusFirstItem,u=r.openAndFocusLastItem,d=r.openAndFocusMenu,p=f.useCallback((function(){n?i():(a?s:d)()}),[a,n,i,s,d]),h=f.useCallback((function(e){var t=Object(c.g)(e),r={Enter:s,ArrowDown:s,ArrowUp:u}[t];r&&(e.preventDefault(),e.stopPropagation(),r(e))}),[s,u]),g=ze({},e,{id:r.buttonId,"data-active":Object(c.d)(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:Object(l.b)(e.onClick,p),onKeyDown:Object(l.b)(e.onKeyDown,h)});return o.getReferenceProps(g,Object(x.c)(r.buttonRef,t))}(Ze(e,["children","as"]),t),i=r||Ye;return f.createElement(i,qe({},n,{className:Object(c.c)("chakra-menu__menu-button",e.className)}),f.createElement(s.a.span,{__css:{pointerEvents:"none",flex:"1 1 auto"}},e.children))}));u.a&&(Qe.displayName="MenuButton");var Je={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},et=Object(s.a)(d.b.div),tt=Object(o.a)((function(e,t){var r,n=Ke(),i=n.isOpen,o=n.onTransitionEnd,u=function(e,t){void 0===t&&(t=null);var r=Ke();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");var n=r.focusedIndex,i=r.setFocusedIndex,a=r.menuRef,o=r.isOpen,s=r.onClose,u=r.menuId,d=r.popper,p=r.domContext.descendants,h=r.isLazy,g=T({preventDefault:function(e){return" "!==e.key}}),m=f.useCallback((function(e){var t=Object(c.g)(e),r={Tab:function(e){e.preventDefault()},Escape:s,ArrowDown:function(){var e=Object(Be.c)(n,p.length);i(e)},ArrowUp:function(){var e=Object(Be.e)(n,p.length);i(e)}}[t];if(r)return e.preventDefault(),void r(e);g((function(e){var t=Object(Be.d)(p,e,(function(e){var t;return(null==(t=e.element)?void 0:t.textContent)||""}),p[n]);if(t){var r=p.indexOf(t);i(r)}}))(e)}),[p,n,g,s,i]);return ze({},e,{ref:Object(x.c)(a,t),children:!h||o?e.children:null,tabIndex:-1,role:"menu",id:u,style:ze({},e.style,{transformOrigin:d.transformOrigin}),"aria-orientation":"vertical",onKeyDown:Object(l.b)(e.onKeyDown,m)})}(e,t),d=function(e){void 0===e&&(e={});var t=Ke(),r=t.popper,n=t.isOpen;return Object(I.d)(r.getPopperProps(e),{style:{visibility:n?"visible":"hidden"}})}(),p=Object(a.c)();return f.createElement(s.a.div,qe({},d,{__css:{zIndex:null==(r=p.list)?void 0:r.zIndex}}),f.createElement(et,qe({},u,{onUpdate:o,className:Object(c.c)("chakra-menu__menu-list",u.className),variants:Je,initial:!1,animate:i?"enter":"exit",__css:qe({outline:0},p.list)})))}));u.a&&(tt.displayName="MenuList");var rt=Object(o.a)((function(e,t){var r=e.type,n=Ze(e,["type"]),i=Object(a.c)(),o=n.as?null!=r?r:void 0:"button",l=qe({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"left",flex:"0 0 auto",outline:0},i.item);return f.createElement(s.a.button,qe({ref:t,type:o},n,{__css:l}))})),nt=Object(o.a)((function(e,t){var r=e.icon,n=e.iconSpacing,i=void 0===n?"0.75rem":n,a=e.command,o=e.children,l=Ge(Ze(e,["icon","iconSpacing","command","children"]),t),u=r||a?f.createElement(s.a.span,{pointerEvents:"none",flex:"1"},o):o;return f.createElement(rt,qe({},l,{className:Object(c.c)("chakra-menu__menuitem",l.className)}),r&&f.createElement(lt,{fontSize:"0.8em",mr:i},r),u,a&&f.createElement(st,null,a))}));u.a&&(nt.displayName="MenuItem");var it=function(e){return f.createElement("svg",qe({viewBox:"0 0 14 14",width:"1em",height:"1em"},e),f.createElement("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))},at=Object(o.a)((function(e,t){var r=e.icon,n=e.iconSpacing,i=void 0===n?"0.75rem":n,a=Ze(e,["icon","iconSpacing"]),o=function(e,t){void 0===t&&(t=null);var r=e.onClick,n=e.isDisabled,i=e.isFocusable,a=e.type,o=void 0===a?"radio":a,s=e.isChecked;return ze({},Fe(e,["onClick","isDisabled","isFocusable","type","isChecked"]),Ge({isDisabled:n,isFocusable:i,onClick:r},t),{role:"menuitem"+o,"aria-checked":s})}(a,t);return f.createElement(rt,qe({},o,{className:Object(c.c)("chakra-menu__menuitem-option",a.className)}),f.createElement(lt,{fontSize:"0.8em",mr:i,opacity:e.isChecked?1:0},r||f.createElement(it,null)),f.createElement(s.a.span,{flex:"1"},o.children))}));at.id="MenuItemOption",u.a&&(at.displayName="MenuItemOption");u.a&&(function(e){var t=e.className,r=e.title,n=function(e){var t=e.children,r=e.type,n=void 0===r?"radio":r,i=e.value,a=e.defaultValue,o=e.onChange,s=Fe(e,["children","type","value","defaultValue","onChange"]),l="radio"===n?"":[],c=Object(m.b)({defaultValue:null!=a?a:l,value:i,onChange:o}),d=Object(p.a)(c,2),h=d[0],g=d[1],v=f.useCallback((function(e){if("radio"===n&&Object(u.h)(h)&&g(e),"checkbox"===n&&Object(u.b)(h)){var t=h.includes(e)?Object(Be.g)(h,e):Object(Be.a)(h,e);g(t)}}),[h,g,n]);return ze({},s,{children:Object(x.b)(t).map((function(e){if("MenuItemOption"!==e.type.id)return e;var t="radio"===n?e.props.value===h:h.includes(e.props.value);return f.cloneElement(e,{type:n,onClick:function(t){v(e.props.value),null==e.props.onClick||e.props.onClick(t)},isChecked:t})}))})}(Ze(e,["className","title"]));return f.createElement(ot,qe({title:r,className:Object(c.c)("chakra-menu__option-group",t)},n))}.displayName="MenuOptionGroup");var ot=Object(o.a)((function(e,t){var r=e.title,n=e.children,i=e.className,o=Ze(e,["title","children","className"]),l=Object(c.c)("chakra-menu__group__title",i),u=Object(a.c)();return f.createElement(s.a.div,{ref:t,className:"chakra-menu__group",role:"group"},r&&f.createElement(s.a.p,qe({className:l},o,{__css:u.groupTitle}),r),n)}));u.a&&(ot.displayName="MenuGroup");var st=Object(o.a)((function(e,t){var r=Object(a.c)();return f.createElement(s.a.span,qe({ref:t},e,{__css:r.command,className:"chakra-menu__command"}))}));u.a&&(st.displayName="MenuCommand");var lt=function(e){var t=e.className,r=e.children,n=Ze(e,["className","children"]),i=f.Children.only(r),a=f.isValidElement(i)?f.cloneElement(i,{focusable:"false","aria-hidden":!0,className:Object(c.c)("chakra-menu__icon",i.props.className)}):null,o=Object(c.c)("chakra-menu__icon-wrapper",t);return f.createElement(s.a.span,qe({className:o},n,{__css:{flexShrink:0}}),a)};u.a&&(lt.displayName="MenuIcon");u.a},function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r(22),i=r(20),a=r(56),o=r(39),s=r(27),l=r(18),u=r(7),c=r(0),d=r(4),f=r(64),p=r(14),h=r(111),g=r(177);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=Object(f.a)({name:"CheckboxGroupContext",strict:!1}),y=Object(d.a)(v,2),b=y[0],k=y[1];u.a&&(function(e){var t=e.colorScheme,r=e.size,n=e.variant,i=e.children,a=function(e){void 0===e&&(e={});var t=e,r=t.defaultValue,n=t.value,i=t.onChange,a=t.isNative,o=Object(c.useState)(r||[]),s=Object(d.a)(o,2),l=s[0],f=s[1],v=Object(h.a)(n,l),y=Object(d.a)(v,2),b=y[0],k=y[1],_=Object(c.useCallback)((function(e){b||f(e),null==i||i(e)}),[b,i]),E=Object(c.useCallback)((function(e){if(k){var t=Object(u.e)(e)?e.target.checked:!k.includes(e),r=Object(u.e)(e)?e.target.value:e,n=t?Object(g.a)(k,r):Object(g.g)(k,r);_(n)}}),[_,k]);return{value:k,onChange:E,setValue:_,getCheckboxProps:function(e){var t;void 0===e&&(e={});var r=a?"checked":"isChecked";return m({},e,(t={},Object(p.a)(t,r,k.includes(e.value)),Object(p.a)(t,"onChange",E),t))}}}(e),o=a.value,s=a.onChange,l=c.useMemo((function(){return{size:r,onChange:s,colorScheme:t,value:o,variant:n}}),[r,s,t,o,n]);return c.createElement(b,{value:l},i)}.displayName="CheckboxGroup");var _=r(19);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var w=_.b.custom(n.a.svg),S=function(e){return c.createElement(w,E({width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16}},e),c.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1"}))},T=function(e){return c.createElement(w,E({width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4}},e),c.createElement("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))},x=function(e){var t=e.open,r=e.children;return c.createElement(_.a,{initial:!1},t&&c.createElement(_.b.div,{variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},r))},O=function(e){var t=e.isIndeterminate,r=e.isChecked,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["isIndeterminate","isChecked"]);return c.createElement(x,{open:r||t},t?c.createElement(T,n):c.createElement(S,n))},P=r(112);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var C=Object(n.a)("div",{baseStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0}}),M=Object(n.a)("label",{baseStyle:{cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative",_disabled:{cursor:"not-allowed"}}}),I=Object(i.a)((function(e,t){var r=k(),i=A({},r,e),u=Object(a.a)("Checkbox",i),d=Object(o.b)(i),f=d.spacing,p=void 0===f?"0.5rem":f,h=d.className,g=d.children,m=d.iconColor,v=d.iconSize,y=d.icon,b=void 0===y?c.createElement(O,null):y,_=d.isChecked,E=d.onChange,w=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(d,["spacing","className","children","iconColor","iconSize","icon","isChecked","onChange"]),S=_;(null==r?void 0:r.value)&&d.value&&(S=r.value.includes(d.value));var T=E;(null==r?void 0:r.onChange)&&d.value&&(T=Object(s.a)(r.onChange,E));var x=Object(P.a)(A({},w,{isChecked:S,onChange:T})),I=x.state,R=x.getInputProps,D=x.getCheckboxProps,j=x.getLabelProps,L=x.htmlProps,N=Object(l.c)("chakra-checkbox",h),U=R({},t),B=j(),F=D(),z=A({opacity:I.isChecked||I.isIndeterminate?1:0,transform:I.isChecked||I.isIndeterminate?"scale(1)":"scale(0.95)",transition:"transform 200ms",fontSize:v,color:m},u.icon),V=c.cloneElement(b,{__css:z,isIndeterminate:I.isIndeterminate,isChecked:I.isChecked});return c.createElement(M,A({__css:u.container,"data-disabled":Object(l.d)(I.isDisabled),className:N},L),c.createElement("input",A({className:"chakra-checkbox__input"},U)),c.createElement(C,A({__css:u.control,className:"chakra-checkbox__control"},F),V),g&&c.createElement(n.a.div,A({className:"chakra-checkbox__label"},B,{__css:A({ml:p},u.label)}),g))}));u.a&&(I.displayName="Checkbox")},function(e,t,r){"use strict";r.d(t,"a",(function(){return R})),r.d(t,"d",(function(){return U})),r.d(t,"b",(function(){return B})),r.d(t,"e",(function(){return F})),r.d(t,"c",(function(){return z}));var n=r(4),i=r(110),a=r(20),o=r(56),s=r(39),l=r(62),u=r(22),c=r(322),d=r(18),f=r(7),p=r(64),h=r(27),g=r(0),m=r(327),v=r(180),y=r(111),b=r(117),k=r(41),_=r(71);var E=r(177);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function T(e){var t=e.onChange,r=e.defaultIndex,i=e.index,a=e.allowMultiple,o=e.allowToggle,s=S(e,["onChange","defaultIndex","index","allowMultiple","allowToggle"]);!function(e){var t=e.index||e.defaultIndex,r=!Object(f.i)(t)&&!Object(f.b)(t)&&e.allowMultiple;Object(h.e)({condition:!!r,message:"If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: "+typeof t+","})}(e),function(e){Object(h.e)({condition:!(!e.allowMultiple||!e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}(e);var l=Object(m.b)(),u=Object(g.useState)(-1),c=Object(n.a)(u,2),d=c[0],p=c[1];Object(v.a)((function(){p(-1)}),[l.descendants]);var b=Object(y.b)({value:i,defaultValue:function(){return a?null!=r?r:[]:null!=r?r:-1},onChange:t,propsMap:{value:"index",defaultValue:"defaultIndex",onChange:"onChange"}}),k=Object(n.a)(b,2),_=k[0],w=k[1];return{index:_,setIndex:w,htmlProps:s,getAccordionItemProps:function(e){var t=!1;null!==e&&(t=Object(f.b)(_)?_.includes(e):_===e);return{isOpen:t,onChange:function(t){if(null!==e)if(a&&Object(f.b)(_)){var r=t?Object(E.a)(_,e):Object(E.g)(_,e);w(r)}else t?w(e):o&&w(-1)}}},focusedIndex:d,setFocusedIndex:p,domContext:l}}var x=Object(p.a)({name:"AccordionContext",errorMessage:"useAccordionContext: `context` is undefined. Seems you forgot to wrap the accordion components in `<Accordion />`"}),O=Object(n.a)(x,2),P=O[0],A=O[1];function C(e){var t=e.isDisabled,r=e.isFocusable,i=e.id,a=S(e,["isDisabled","isFocusable","id"]),o=A(),s=o.getAccordionItemProps,l=o.domContext,u=o.focusedIndex,c=o.setFocusedIndex,f=l.descendants,v=Object(g.useRef)(null),y=Object(b.b)(i,"accordion-button","accordion-panel"),T=Object(n.a)(y,2),x=T[0],O=T[1];!function(e){Object(h.e)({condition:!(!e.isFocusable||e.isDisabled),message:"Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\n    "})}(e);var P=Object(m.a)({element:v.current,context:l,disabled:t,focusable:r}),C=s(-1===P?null:P),M=C.isOpen,I=C.onChange;!function(e,t){var r=t.shouldFocus,n=t.preventScroll;Object(_.a)((function(){var t=e.current;t&&r&&(Object(k.b)(t)||Object(k.a)(t,{preventScroll:n}))}),[r,e,n])}(v,{shouldFocus:P===u});var R=Object(g.useCallback)((function(){null==I||I(!M),c(P)}),[P,M,I,c]),D=Object(g.useCallback)((function(e){var t={ArrowDown:function(){var e,t=Object(E.c)(P,f.length),r=f[t];null==r||null==(e=r.element)||e.focus()},ArrowUp:function(){var e,t=Object(E.e)(P,f.length),r=f[t];null==r||null==(e=r.element)||e.focus()},Home:function(){var e,t=f[0];null==t||null==(e=t.element)||e.focus()},End:function(){var e,t=f[f.length-1];null==t||null==(e=t.element)||e.focus()}}[Object(d.g)(e)];t&&(e.preventDefault(),t(e))}),[f,P]),j=Object(g.useCallback)((function(){return c(P)}),[P,c]),L=Object(g.useCallback)((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),w({},e,{type:"button",ref:Object(p.c)(v,r),id:x,disabled:!!t,"aria-expanded":!!M,"aria-controls":O,onClick:Object(h.b)(e.onClick,R),onFocus:Object(h.b)(e.onFocus,j),onKeyDown:Object(h.b)(e.onKeyDown,D)})}),[x,t,M,R,j,D,O]),N=Object(g.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),w({},e,{ref:t,role:"region",id:O,"aria-labelledby":x,hidden:!M})}),[x,M,O]);return{isOpen:M,isDisabled:t,isFocusable:r,onOpen:function(){null==I||I(!0)},onClose:function(){null==I||I(!1)},getButtonProps:L,getPanelProps:N,htmlProps:a}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var R=Object(a.a)((function(e,t){var r=e.children,n=e.reduceMotion,i=I(e,["children","reduceMotion"]),a=Object(o.a)("Accordion",i),c=T(Object(s.b)(i)),f=c.htmlProps,p=I(c,["htmlProps"]),h=g.useMemo((function(){return M({},p,{reduceMotion:!!n})}),[p,n]);return g.createElement(P,{value:h},g.createElement(l.b,{value:a},g.createElement(u.a.div,M({ref:t},f,{className:Object(d.c)("chakra-accordion",i.className)}),r)))}));f.a&&(R.displayName="Accordion");var D=Object(p.a)({name:"AccordionItemContext",errorMessage:"useAccordionItemContext: `context` is undefined. Seems you forgot to wrap the accordion item parts in `<AccordionItem />` "}),j=Object(n.a)(D,2),L=j[0],N=j[1],U=Object(a.a)((function(e,t){var r=e.children,n=e.className,i=C(e),a=i.htmlProps,o=I(i,["htmlProps"]),s=M({},Object(l.c)().container,{overflowAnchor:"none"}),c=g.useMemo((function(){return o}),[o]);return g.createElement(L,{value:c},g.createElement(u.a.div,M({ref:t},a,{className:Object(d.c)("chakra-accordion__item",n),__css:s}),Object(h.d)(r,{isExpanded:!!o.isOpen,isDisabled:!!o.isDisabled})))}));f.a&&(U.displayName="AccordionItem");var B=Object(a.a)((function(e,t){var r=(0,N().getButtonProps)(e,t),n=M({display:"flex",alignItems:"center",width:"100%",transition:"all 0.2s",outline:0},Object(l.c)().button);return g.createElement(u.a.button,M({},r,{className:Object(d.c)("chakra-accordion__button",e.className),__css:n}))}));f.a&&(B.displayName="AccordionButton");var F=Object(a.a)((function(e,t){var r=A().reduceMotion,n=N(),i=n.getPanelProps,a=n.isOpen,o=i(e,t),s=Object(d.c)("chakra-accordion__panel",e.className),f=Object(l.c)();r||delete o.hidden;var p=g.createElement(u.a.div,M({},o,{__css:f.panel,className:s}));return r?p:g.createElement(c.a,{in:a},p)}));f.a&&(F.displayName="AccordionPanel");var z=function(e){var t=N(),r=t.isOpen,n={fontSize:"1.25em",opacity:t.isDisabled?.4:1,transform:r?"rotate(-180deg)":void 0,transition:A().reduceMotion?void 0:"transform 0.2s",transformOrigin:"center"};return g.createElement(i.a,M({viewBox:"0 0 24 24","aria-hidden":!0,__css:n},e),g.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))};f.a&&(z.displayName="AccordionIcon")},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(36),i=r(0),a=function(){return i.createElement(n.a,{styles:'\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;      \n        -moz-osx-font-smoothing: grayscale; \n        touch-action: manipulation; \n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: \'kern\';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type="button"]::-moz-focus-inner,\n      [type="reset"]::-moz-focus-inner,\n      [type="submit"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type="checkbox"],\n      [type="radio"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type="number"]::-webkit-inner-spin-button,\n      [type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      [type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role="button"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n        vertical-align: middle;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n    '})},o=r(183),s=r(311),l=r(62),u=r(93),c=function(e){var t=e.children,r=e.colorModeManager,c=e.portalZIndex,d=e.resetCSS,f=void 0===d||d,p=e.theme,h=void 0===p?u.a:p;return i.createElement(n.c,{theme:h},i.createElement(s.a,{colorModeManager:r,options:h.config},f&&i.createElement(a,null),i.createElement(l.a,null),c?i.createElement(o.a,{zIndex:c},t):t))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(46),i=r(18),a=r(27),o=r(61);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=r(20),u=r(56),c=r(39),d=r(22),f=r(7),p=r(0);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=Object(l.a)((function(e,t){var r=Object(u.a)("Input",e),l=function(e){var t,r=Object(o.c)(),l=[];(null==r?void 0:r.isInvalid)&&(l.length>0?l.unshift(r.feedbackId):l.push(r.feedbackId)),(null==r?void 0:r.hasHelpText)&&l.push(r.helpTextId);var u=l.join(" ");return s({},Object(n.h)(e,["isInvalid","isDisabled","isReadOnly","isRequired"]),{id:null!=(t=e.id)?t:null==r?void 0:r.id,disabled:e.disabled||e.isDisabled||(null==r?void 0:r.isDisabled),readOnly:e.readOnly||e.isReadOnly||(null==r?void 0:r.isReadOnly),required:e.required||e.isRequired||(null==r?void 0:r.isRequired),"aria-invalid":Object(i.a)(e.isInvalid||(null==r?void 0:r.isInvalid)),"aria-required":Object(i.a)(e.isRequired||(null==r?void 0:r.isRequired)),"aria-readonly":Object(i.a)(e.isReadOnly||(null==r?void 0:r.isReadOnly)),"aria-describedby":u||void 0,onFocus:Object(a.b)(null==r?void 0:r.onFocus,e.onFocus),onBlur:Object(a.b)(null==r?void 0:r.onBlur,e.onBlur)})}(Object(c.b)(e)),f=Object(i.c)("chakra-input",e.className);return p.createElement(d.a.input,h({},l,{__css:r.field,ref:t,className:f}))}));f.a&&(g.displayName="Input"),g.id="Input"},function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return E}));var n=r(4),i=r(20),a=r(39),o=r(56),s=r(62),l=r(22),u=r(64),c=r(18),d=r(0),f=r(110);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e){return d.createElement(f.a,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))};function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m={info:{icon:function(e){return d.createElement(f.a,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}))},colorScheme:"blue"},warning:{icon:h,colorScheme:"orange"},success:{icon:function(e){return d.createElement(f.a,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}))},colorScheme:"green"},error:{icon:h,colorScheme:"red"}},v=Object(u.a)({name:"AlertContext",errorMessage:"useAlertContext: `context` is undefined. Seems you forgot to wrap alert components in `<Alert />`"}),y=Object(n.a)(v,2),b=y[0],k=y[1],_=Object(i.a)((function(e,t){var r=Object(a.b)(e),n=r.status,i=void 0===n?"info":n,u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(r,["status"]),f=m[i].colorScheme,p=Object(o.a)("Alert",g({},e,{colorScheme:f})),h=g({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},p.container);return d.createElement(b,{value:{status:i}},d.createElement(s.b,{value:p},d.createElement(l.a.div,g({role:"alert",ref:t},u,{className:Object(c.c)("chakra-alert",e.className),__css:h}))))})),E=function(e){var t=k().status,r=m[t].icon,n=Object(s.c)();return d.createElement(l.a.span,g({display:"inherit"},e,{className:Object(c.c)("chakra-alert__icon",e.className),__css:n.icon}),d.createElement(r,{w:"100%",h:"100%"}))}},function(e,t,r){"use strict";r.d(t,"e",(function(){return C})),r.d(t,"a",(function(){return M})),r.d(t,"b",(function(){return I})),r.d(t,"c",(function(){return R})),r.d(t,"d",(function(){return D}));var n=r(20),i=r(56),a=r(39),o=r(62),s=r(22),l=r(46),u=r(18),c=r(7),d=r(0),f=r(4),p=r(352),h=r(327),g=r(111),m=r(117),v=r(75),y=r(64),b=r(27);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var E=Object(y.a)({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),w=Object(f.a)(E,2),S=w[0],T=w[1];function x(e,t){return e+"--tab-"+t}function O(e,t){return e+"--tabpanel-"+t}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var C=Object(n.a)((function(e,t){var r=Object(i.a)("Tabs",e),n=Object(a.b)(e),p=n.children,v=n.className,y=function(e){var t=e.defaultIndex,r=e.onChange,n=e.index,i=e.isManual,a=e.isLazy,o=e.orientation,s=void 0===o?"horizontal":o,l=_(e,["defaultIndex","onChange","index","isManual","isLazy","orientation"]),u=d.useState(null!=t?t:0),p=Object(f.a)(u,2),v=p[0],y=p[1],b=Object(g.b)({defaultValue:null!=t?t:0,value:n,onChange:r,propsMap:{value:"index",defaultValue:"defaultIndex",onChange:"onChange"}}),k=Object(f.a)(b,2),E=k[0],w=k[1];d.useEffect((function(){Object(c.i)(n)||y(n)}),[n]);var S=Object(h.b)(),T=Object(h.b)();return{id:Object(m.a)(e.id,"tabs"),selectedIndex:E,focusedIndex:v,setSelectedIndex:w,setFocusedIndex:y,isManual:i,isLazy:a,orientation:s,enabledDomContext:S,domContext:T,htmlProps:l}}(A(n,["children","className"])),b=y.htmlProps,k=A(y,["htmlProps"]),E=d.useMemo((function(){return k}),[k]),w=Object(l.h)(b,["isFitted"]);return d.createElement(S,{value:E},d.createElement(o.b,{value:r},d.createElement(s.a.div,P({className:Object(u.c)("chakra-tabs",v),ref:t},w),p)))}));c.a&&(C.displayName="Tabs");var M=Object(n.a)((function(e,t){var r=Object(o.c)(),n=function(e){var t=e.isDisabled,r=e.isFocusable,n=_(e,["isDisabled","isFocusable"]),i=T(),a=i.setSelectedIndex,o=i.isManual,s=i.id,l=i.setFocusedIndex,c=i.enabledDomContext,f=i.domContext,g=i.selectedIndex,m=d.useRef(null),v=Object(h.a)({disabled:Boolean(t),focusable:Boolean(r),context:c,element:m.current}),E=Object(h.a)({context:f,element:m.current}),w=E===g,S=Object(p.a)(k({},n,{ref:Object(y.c)(m,e.ref),isDisabled:t,isFocusable:r,onClick:Object(b.b)(e.onClick,(function(){l(v),a(E)}))}));return k({},S,{id:x(s,E),role:"tab",tabIndex:w?0:-1,type:"button","aria-selected":Object(u.a)(w),"aria-controls":O(s,E),onFocus:t?void 0:Object(b.b)(e.onFocus,(function(){!o&&!(t&&r)&&a(E)}))})}(P({},e,{ref:t})),i=P({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},r.tab);return d.createElement(s.a.button,P({},n,{className:Object(u.c)("chakra-tabs__tab",e.className),__css:i}))}));c.a&&(M.displayName="Tab");var I=Object(n.a)((function(e,t){var r=function(e){var t=T(),r=t.setFocusedIndex,n=t.focusedIndex,i=t.orientation,a=t.enabledDomContext,o=a.descendants.length,s=d.useCallback((function(e){var t=a.descendants[e];(null==t?void 0:t.element)&&(t.element.focus(),r(e))}),[a.descendants,r]),l=d.useCallback((function(e){var t=function(){return s((n+1)%o)},r=function(){return s((n-1+o)%o)},a="horizontal"===i,l="vertical"===i,c={ArrowRight:function(){return a&&t()},ArrowLeft:function(){return a&&r()},ArrowDown:function(){return l&&t()},ArrowUp:function(){return l&&r()},Home:function(){return s(0)},End:function(){return s(o-1)}}[Object(u.g)(e)];c&&(e.preventDefault(),c(e))}),[o,n,i,s]);return k({},e,{role:"tablist","aria-orientation":i,onKeyDown:Object(b.b)(e.onKeyDown,l)})}(P({},e,{ref:t})),n=P({display:"flex"},Object(o.c)().tablist);return d.createElement(s.a.div,P({},r,{className:Object(u.c)("chakra-tabs__tablist",e.className),__css:n}))}));c.a&&(I.displayName="TabList");var R=Object(n.a)((function(e,t){var r=function(e){var t=e.isSelected,r=e.id;return k({},_(e,["isSelected","id"]),{children:!T().isLazy||t?e.children:null,role:"tabpanel",hidden:!t,id:r})}(P({},e,{ref:t})),n=Object(o.c)();return d.createElement(s.a.div,P({},r,{className:Object(u.c)("chakra-tabs__tab-panel",e.className),__css:n.tabpanel}))}));c.a&&(R.displayName="TabPanel");var D=Object(n.a)((function(e,t){var r=function(e){var t=T(),r=t.id,n=t.selectedIndex;return k({},e,{children:Object(y.b)(e.children).map((function(e,t){return d.cloneElement(e,{isSelected:t===n,id:O(r,t)})}))})}(e);return d.createElement(s.a.div,P({},r,{ref:t,className:Object(u.c)("chakra-tabs__tab-panels",e.className)}))}));c.a&&(D.displayName="TabPanels");var j=Object(n.a)((function(e,t){var r=function(){var e=T(),t=e.selectedIndex,r=e.orientation,n=e.domContext,i="horizontal"===r,a="vertical"===r,o=d.useState((function(){return i?{left:0,width:0}:a?{top:0,height:0}:void 0})),s=Object(f.a)(o,2),l=s[0],u=s[1],p=d.useState(!1),h=Object(f.a)(p,2),g=h[0],m=h[1];return Object(v.a)((function(){var e;if(!Object(c.i)(t)){var r=n.descendants[t],o=null==r||null==(e=r.element)?void 0:e.getBoundingClientRect();if(i&&o){var s=o.left,l=o.width;u({left:s,width:l})}if(a&&o){var d=o.top,f=o.height;u({top:d,height:f})}var p=requestAnimationFrame((function(){m(!0)}));return function(){p&&cancelAnimationFrame(p)}}}),[t,i,a,n.descendants]),k({position:"absolute",transition:g?"all 200ms cubic-bezier(0, 0, 0.2, 1)":"none"},l)}(),n=P({},e.style,r),i=Object(o.c)();return d.createElement(s.a.div,P({ref:t},e,{className:Object(u.c)("chakra-tabs__tab-indicator",e.className),style:n,__css:i.indicator}))}));c.a&&(j.displayName="TabIndicator")},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(20),i=r(22),a=r(46),o=r(7),s=r(0),l=r(4),u=r(75);function c(e){var t=e.src,r=e.srcSet,n=e.onLoad,i=e.onError,a=e.crossOrigin,o=e.sizes,c=e.ignoreFallback,d=Object(s.useState)("pending"),f=Object(l.a)(d,2),p=f[0],h=f[1];Object(s.useEffect)((function(){h(t?"loading":"pending")}),[t]);var g=Object(s.useRef)(),m=Object(s.useCallback)((function(){if(t){v();var e=new Image;e.src=t,a&&(e.crossOrigin=a),r&&(e.srcset=r),o&&(e.sizes=o),e.onload=function(e){v(),h("loaded"),null==n||n(e)},e.onerror=function(e){v(),h("failed"),null==i||i(e)},g.current=e}}),[t,a,r,o,n,i]),v=function(){g.current&&(g.current.onload=null,g.current.onerror=null,g.current=null)};return Object(u.a)((function(){if(!c)return"loading"===p&&m(),function(){v()}}),[p,m,c]),c?"loaded":p}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var p=s.forwardRef((function(e,t){var r=e.htmlWidth,n=e.htmlHeight,i=e.alt,a=f(e,["htmlWidth","htmlHeight","alt"]);return s.createElement("img",d({width:r,height:n,ref:t,alt:i},a))})),h=Object(n.a)((function(e,t){var r=e.fallbackSrc,n=e.fallback,o=e.src,l=e.align,u=e.fit,h=e.loading,g=e.ignoreFallback,m=e.crossOrigin,v=f(e,["fallbackSrc","fallback","src","align","fit","loading","ignoreFallback","crossOrigin"]),y=null!=h||g,b=c(d({},e,{ignoreFallback:y})),k=d({ref:t,objectFit:u,objectPosition:l},y?v:Object(a.h)(v,["onError","onLoad"]));return"loaded"!==b?n||s.createElement(i.a.img,d({as:p,className:"chakra-image__placeholder",src:r},k)):s.createElement(i.a.img,d({as:p,src:o,crossOrigin:m,loading:h,className:"chakra-image"},k))}));o.a&&(h.displayName="Image")},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(4),i=r(328),a=r(64),o=r(18),s=r(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){var t=e.target,r=t.tagName,n=t.isContentEditable;return"INPUT"!==r&&"TEXTAREA"!==r&&!0!==n}function c(e){void 0===e&&(e={});var t=e,r=t.ref,c=t.isDisabled,d=t.isFocusable,f=t.clickOnEnter,p=void 0===f||f,h=t.clickOnSpace,g=void 0===h||h,m=t.onMouseDown,v=t.onMouseUp,y=t.onClick,b=t.onKeyDown,k=t.onKeyUp,_=t.tabIndex,E=t.onMouseOver,w=t.onMouseLeave,S=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"]),T=s.useState(!0),x=Object(n.a)(T,2),O=x[0],P=x[1],A=s.useState(!1),C=Object(n.a)(A,2),M=C[0],I=C[1],R=function(){var e=s.useRef(new Map),t=s.useCallback((function(t,r,n,i){e.current.set(n,{type:r,el:t,options:i}),t.addEventListener(r,n,i)}),[]),r=s.useCallback((function(t,r,n,i){t.removeEventListener(r,n,i),e.current.delete(n)}),[]);return s.useEffect((function(){return function(){e.current.forEach((function(e,t){r(e.el,e.type,t,e.options)}))}}),[r]),{add:t,remove:r}}(),D=O?_:_||0,j=c&&!d,L=s.useCallback((function(e){if(c)return e.stopPropagation(),void e.preventDefault();e.currentTarget.focus(),null==y||y(e)}),[c,y]),N=function e(t){M&&u(t)&&(t.preventDefault(),t.stopPropagation(),I(!1),R.remove(document,"keyup",e,!1))},U=s.useCallback((function(e){if(null==b||b(e),!(c||e.defaultPrevented||e.metaKey)&&u(e.nativeEvent)&&!O){var t=p&&"Enter"===e.key;if(g&&" "===e.key&&(e.preventDefault(),I(!0)),t)e.preventDefault(),e.currentTarget.click();R.add(document,"keyup",N,!1)}}),[c,O,b,p,g]),B=s.useCallback((function(e){(null==k||k(e),c||e.defaultPrevented||e.metaKey)||u(e.nativeEvent)&&!O&&g&&" "===e.key&&(e.preventDefault(),I(!1),e.currentTarget.click())}),[g,O,c,k]),F=function e(t){0===t.button&&(I(!1),R.remove(document,"mouseup",e,!1))},z=s.useCallback((function(e){if(!Object(i.b)(e)){if(c)return e.stopPropagation(),void e.preventDefault();O||I(!0),e.currentTarget.focus({preventScroll:!0}),R.add(document,"mouseup",F,!1),null==m||m(e)}}),[c,O,m]),V=s.useCallback((function(e){Object(i.b)(e)||(O||I(!1),null==v||v(e))}),[v,O]),$=s.useCallback((function(e){c?e.preventDefault():null==E||E(e)}),[c,E]),W=s.useCallback((function(e){M&&(e.preventDefault(),I(!1)),null==w||w(e)}),[M]),K=Object(a.c)(r,(function(e){e&&"BUTTON"!==e.tagName&&P(!1)}));return l({},S,O?{ref:K,type:"button","aria-disabled":j?void 0:c,disabled:j,onClick:L,onMouseDown:m,onMouseUp:v,onKeyUp:k,onKeyDown:b,onMouseOver:E,onMouseLeave:w}:{ref:K,role:"button","data-active":Object(o.d)(M),"aria-disabled":c?"true":void 0,tabIndex:j?void 0:D,onClick:L,onMouseDown:z,onMouseUp:V,onKeyUp:B,onKeyDown:U,onMouseOver:$,onMouseLeave:W})}}]]);
//# sourceMappingURL=2.d8c7c152.chunk.js.map