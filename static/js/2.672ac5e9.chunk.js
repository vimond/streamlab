/*! For license information please see 2.672ac5e9.chunk.js.LICENSE.txt */
(this.webpackJsonpstreamlab=this.webpackJsonpstreamlab||[]).push([[2],[function(e,t,r){"use strict";e.exports=r(207)},function(e,t,r){e.exports=r(214)()},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return c}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}function c(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(58);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return h})),r.d(t,"a",(function(){return g}));var n=r(26),i=r.n(n),a=function(e,t){var r=i()({},e,t);for(var n in e){var a;e[n]&&"object"===typeof t[n]&&i()(r,((a={})[n]=i()(e[n],t[n]),a))}return r},o={breakpoints:[40,52,64].map((function(e){return e+"em"}))},s=function(e){return"@media screen and (min-width: "+e+")"},l=function(e,t){return u(t,e,e)},u=function(e,t,r,n,i){for(t=t&&t.split?t.split("."):[t],n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e},c=function e(t){var r={},n=function(e){var n={},l=!1,c=e.theme&&e.theme.disableStyledSystemCache;for(var p in e)if(t[p]){var h=t[p],g=e[p],m=u(e.theme,h.scale,h.defaults);if("object"!==typeof g)i()(n,h(g,m,e));else{if(r.breakpoints=!c&&r.breakpoints||u(e.theme,"breakpoints",o.breakpoints),Array.isArray(g)){r.media=!c&&r.media||[null].concat(r.breakpoints.map(s)),n=a(n,d(r.media,h,m,g,e));continue}null!==g&&(n=a(n,f(r.breakpoints,h,m,g,e)),l=!0)}}return l&&(n=function(e){var t={};return Object.keys(e).sort((function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})})).forEach((function(r){t[r]=e[r]})),t}(n)),n};n.config=t,n.propNames=Object.keys(t),n.cache=r;var l=Object.keys(t).filter((function(e){return"config"!==e}));return l.length>1&&l.forEach((function(r){var i;n[r]=e(((i={})[r]=t[r],i))})),n},d=function(e,t,r,n,a){var o={};return n.slice(0,e.length).forEach((function(n,s){var l,u=e[s],c=t(n,r,a);u?i()(o,((l={})[u]=i()({},o[u],c),l)):i()(o,c)})),o},f=function(e,t,r,n,a){var o={};for(var l in n){var u=e[l],c=t(n[l],r,a);if(u){var d,f=s(u);i()(o,((d={})[f]=i()({},o[f],c),d))}else i()(o,c)}return o},p=function(e){var t=e.properties,r=e.property,n=e.scale,i=e.transform,a=void 0===i?l:i,o=e.defaultScale;t=t||[r];var s=function(e,r,n){var i={},o=a(e,r,n);if(null!==o)return t.forEach((function(e){i[e]=o})),i};return s.scale=n,s.defaults=o,s},h=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(r){var n=e[r];t[r]=!0!==n?"function"!==typeof n?p(n):n:p({property:r,scale:r})})),c(t)},g=function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){t&&t.config&&i()(e,t.config)}));var a=c(e);return a}},function(e,t,r){"use strict";function n(e){return"number"===typeof e}r.d(t,"f",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"i",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"h",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return d}));function i(e){return Array.isArray(e)}function a(e){return"function"===typeof e}var o=function(e){return"undefined"===typeof e||void 0===e},s=function(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)&&!i(e)},l=function(e){return s(e)&&0===Object.keys(e).length};function u(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return e&&s(e)&&s(e.target)}var d=!1},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return k}));var n=r(0),i=r.n(n),a=(r(1),i.a.createContext(null));var o=function(e){e()},s={notify:function(){}};function l(){var e=o,t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=l())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var c=function(e){var t=e.store,r=e.context,o=e.children,s=Object(n.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=Object(n.useMemo)((function(){return t.getState()}),[t]);Object(n.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,l]);var c=r||a;return i.a.createElement(c.Provider,{value:s},o)},d=(r(24),r(44),r(59),r(107),"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect);r(33);function f(){return Object(n.useContext)(a)}function p(e){void 0===e&&(e=a);var t=e===a?f:function(){return Object(n.useContext)(e)};return function(){return t().store}}var h=p();function g(e){void 0===e&&(e=a);var t=e===a?h:p(e);return function(){return t().dispatch}}var m=g(),v=function(e,t){return e===t};function y(e){void 0===e&&(e=a);var t=e===a?f:function(){return Object(n.useContext)(e)};return function(e,r){void 0===r&&(r=v);var i=t();return function(e,t,r,i){var a,o=Object(n.useReducer)((function(e){return e+1}),0)[1],s=Object(n.useMemo)((function(){return new u(r,i)}),[r,i]),l=Object(n.useRef)(),c=Object(n.useRef)(),f=Object(n.useRef)();try{a=e!==c.current||l.current?e(r.getState()):f.current}catch(p){throw l.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),p}return d((function(){c.current=e,f.current=a,l.current=void 0})),d((function(){function e(){try{var e=c.current(r.getState());if(t(e,f.current))return;f.current=e}catch(p){l.current=p}o({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription)}}var b,k=y(),E=r(57);b=E.unstable_batchedUpdates,o=b},function(e,t,r){"use strict";var n=r(96);Object.defineProperty(t,"__esModule",{value:!0}),t.prefixClassNames=i,t.hydrateClassNames=function(e){var t=e.classes,r=e.selectClasses,o=e.classNames,s=e.classNamePrefix;if(t&&r){var l=r(t);return Array.isArray(l)?l.filter(a).join(" "):l}if(o)return i.apply(void 0,[s].concat(n(o)))},t.getBoundingEventCoordinates=function(e,t){var r,n=(t||e.currentTarget).getBoundingClientRect();r=e.touches&&e.touches.length>0?e.touches[0]:e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e;return{x:Math.max(0,Math.min(r.pageX-n.left,n.width)),y:Math.max(0,Math.min(r.pageY-n.top,n.height)),width:n.width,height:n.height}},t.getKeyboardShortcutBlocker=function(e){return function(t){e.indexOf(t.key)>=0&&(t.preventDefault(),t.stopPropagation())}},t.deepClone=l,t.override=function e(t,r){var n=l(t);if(r){var i=r;Object.getOwnPropertyNames(i).forEach((function(t){s(i[t])?s(n[t])?n[t]=e(n[t],i[t]):n[t]=l(i[t]):n[t]=i[t]}))}return n},t.getIntervalRunner=t.formatClockTime=t.formatTime=t.formatTimeComponent=t.isShallowEqual=t.isObject=t.isDifferent=t.defaultClassNamePrefix=void 0;function i(e){for(var t=null==e?"":e,r=[],n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];for(var o=0;o<i.length;o++)i[o]&&r.push(t+i[o]);return r.join(" ")}t.defaultClassNamePrefix="replay-";var a=function(e){return e};var o=function(e,t){return e!==t&&(!(e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime())&&!(Number.isNaN(e)&&Number.isNaN(t)))};t.isDifferent=o;var s=function(e){return null!=e&&e.constructor==={}.constructor};t.isObject=s;function l(e){if(null==e)return{};var t={},r=e;return Object.keys(e).forEach((function(e){s(r[e])?t[e]=l(r[e]):t[e]=r[e]})),t}t.isShallowEqual=function(e,t){if(e===t)return!0;if(s(e)&&s(t)){var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&(!(r.filter((function(r){return o(e[r],t[r])})).length>0)&&0===n.filter((function(r){return o(t[r],e[r])})).length)}if(Array.isArray(e)&&Array.isArray(t)&&e.length===t.length){for(var i=e.length;i--;)if(e[i]!==t[i])return!1;return!0}return!1};var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r&&0===e?"":e<10&&n?"0".concat(e).concat(t):"".concat(e).concat(t)};t.formatTimeComponent=u;t.formatTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=Math.round(e),n="";"number"!==typeof e||isNaN(e)||e===1/0?r=0:r<0&&(r=-r,n=t);var i=Math.floor(r/86400),a=86400*i,o=Math.floor((r-a)/3600),s=a+3600*o,l=Math.floor((r-s)/60),c=r-s-60*l;return n+u(i,".",!0,!1)+u(o,":",0===i)+u(l,":",!1)+u(c)};t.formatClockTime=function(e){var t=e instanceof Date&&!isNaN(e.getTime()),r=0,n=0,i=0;return t&&null!=e&&(r=t?e.getHours():0,n=t?e.getMinutes():0,i=t?e.getSeconds():0),u(r,":",!1)+u(n,":",!1)+u(i)};t.getIntervalRunner=function(e,t){var r=null;return{start:function(){r||(r=setInterval(e,1e3*t))},stop:function(){r&&(clearInterval(r),r=null)}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return v})),r.d(t,"j",(function(){return y})),r.d(t,"k",(function(){return S})),r.d(t,"l",(function(){return T})),r.d(t,"o",(function(){return x})),r.d(t,"p",(function(){return O})),r.d(t,"s",(function(){return A})),r.d(t,"t",(function(){return M})),r.d(t,"u",(function(){return R})),r.d(t,"v",(function(){return D})),r.d(t,"w",(function(){return j})),r.d(t,"x",(function(){return N})),r.d(t,"C",(function(){return B})),r.d(t,"D",(function(){return F})),r.d(t,"q",(function(){return V})),r.d(t,"r",(function(){return W})),r.d(t,"m",(function(){return H})),r.d(t,"n",(function(){return K})),r.d(t,"A",(function(){return Z})),r.d(t,"B",(function(){return q})),r.d(t,"y",(function(){return Y})),r.d(t,"z",(function(){return Q}));var n=r(6),i={bg:{property:"background",scale:"colors"},bgColor:{property:"backgroundColor",scale:"colors"},background:{property:"background",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundBlendMode:!0,bgImage:{property:"backgroundImage"},bgImg:{property:"backgroundImage"},bgBlendMode:{property:"backgroundBlendMode"},bgSize:{property:"backgroundSize"},bgPosition:{property:"backgroundPosition"},bgPos:{property:"backgroundPosition"},bgRepeat:{property:"backgroundRepeat"},bgAttachment:{property:"backgroundAttachment"}},a=Object(n.c)(i),o=Object(n.b)(i),s={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},rounded:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},roundedTopLeft:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},roundedTopRight:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},roundedBottomLeft:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},roundedBottomRight:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"},borderTopWidth:{property:"borderTopWidth",scale:"borderWidths"},borderTopColor:{property:"borderTopColor",scale:"colors"},borderTopStyle:{property:"borderTopStyle",scale:"borderStyles"},borderBottomWidth:{property:"borderBottomWidth",scale:"borderWidths"},borderBottomColor:{property:"borderBottomColor",scale:"colors"},borderBottomStyle:{property:"borderBottomStyle",scale:"borderStyles"},borderLeftWidth:{property:"borderLeftWidth",scale:"borderWidths"},borderLeftColor:{property:"borderLeftColor",scale:"colors"},borderLeftStyle:{property:"borderLeftStyle",scale:"borderStyles"},borderRightWidth:{property:"borderRightWidth",scale:"borderWidths"},borderRightColor:{property:"borderRightColor",scale:"colors"},borderRightStyle:{property:"borderRightStyle",scale:"borderStyles"},borderTopRadius:{properties:["borderTopLeftRadius","borderTopRightRadius"],scale:"radii"},roundedTop:{properties:["borderTopLeftRadius","borderTopRightRadius"],scale:"radii"},borderBottomRadius:{properties:["borderBottomLeftRadius","borderBottomRightRadius"],scale:"radii"},roundedBottom:{properties:["borderBottomLeftRadius","borderBottomRightRadius"],scale:"radii"},borderLeftRadius:{properties:["borderTopLeftRadius","borderBottomLeftRadius"],scale:"radii"},roundedLeft:{properties:["borderTopLeftRadius","borderBottomLeftRadius"],scale:"radii"},borderRightRadius:{properties:["borderTopRightRadius","borderBottomRightRadius"],scale:"radii"},roundedRight:{properties:["borderTopRightRadius","borderBottomRightRadius"],scale:"radii"}},l=Object(n.c)(s),u=Object(n.b)(s),c={color:{property:"color",scale:"colors"},textColor:{property:"color",scale:"colors"},opacity:!0,fill:{property:"fill",scale:"colors"},stroke:{property:"stroke",scale:"colors"}},d=Object(n.c)(c),f=Object(n.b)(c),p={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:{property:"flexBasis",scale:"sizes"},justifySelf:!0,alignSelf:!0,order:!0,flexDir:{property:"flexDirection"}},h=Object(n.c)(p),g=Object(n.b)(p),m={gridGap:{property:"gridGap",scale:"space"},gridColumnGap:{property:"gridColumnGap",scale:"space"},gridRowGap:{property:"gridRowGap",scale:"space"},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0,placeItems:!0},v=Object(n.c)(m),y=Object(n.b)(m),b=r(7),k=r(46);function E(e,t){var r=!Object(b.f)(e)||e>1?e:100*e+"%";return Object(k.c)(t,e,r)}var _={width:{property:"width",scale:"sizes",transform:E},w:{property:"width",scale:"sizes",transform:E},height:{property:"height",scale:"sizes"},h:{property:"height",scale:"sizes"},boxSize:{properties:["width","height"],scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minW:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},minH:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxW:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},maxH:{property:"maxHeight",scale:"sizes"},d:{property:"display"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0,boxSizing:!0},S=Object(n.c)(_),T=Object(n.b)(_),w={animation:!0,appearance:!0,visibility:!0,userSelect:!0,pointerEvents:!0,cursor:!0,resize:!0,objectFit:!0,objectPosition:!0,float:!0,willChange:!0},x=Object(n.c)(w),O=Object(n.b)(w),P=r(23),C={position:!0,pos:{property:"position"},zIndex:{property:"zIndex",scale:"zIndices"},inset:{properties:["left","top","bottom","right"],scale:"space",transform:P.positiveOrNegative},insetX:{properties:["left","right"],scale:"space",transform:P.positiveOrNegative},insetY:{properties:["top","bottom"],scale:"space",transform:P.positiveOrNegative},top:{property:"top",scale:"space",transform:P.positiveOrNegative},right:{property:"right",scale:"space",transform:P.positiveOrNegative},bottom:{property:"bottom",scale:"space",transform:P.positiveOrNegative},left:{property:"left",scale:"space",transform:P.positiveOrNegative}},A=Object(n.c)(C),M=Object(n.b)(C),I={boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"},shadow:{property:"boxShadow",scale:"shadows"}},R=Object(n.c)(I),D=Object(n.b)(I),L={margin:{property:"margin",transform:P.positiveOrNegative,scale:"space"},m:{property:"margin",transform:P.positiveOrNegative,scale:"space"},marginTop:{property:"marginTop",transform:P.positiveOrNegative,scale:"space"},mt:{property:"marginTop",transform:P.positiveOrNegative,scale:"space"},marginRight:{property:"marginRight",transform:P.positiveOrNegative,scale:"space"},mr:{property:"marginRight",transform:P.positiveOrNegative,scale:"space"},marginBottom:{property:"marginBottom",transform:P.positiveOrNegative,scale:"space"},mb:{property:"marginBottom",transform:P.positiveOrNegative,scale:"space"},marginLeft:{property:"marginLeft",transform:P.positiveOrNegative,scale:"space"},ml:{property:"marginLeft",transform:P.positiveOrNegative,scale:"space"},marginX:{properties:["marginLeft","marginRight"],transform:P.positiveOrNegative,scale:"space"},mx:{properties:["marginLeft","marginRight"],transform:P.positiveOrNegative,scale:"space"},marginY:{properties:["marginTop","marginBottom"],transform:P.positiveOrNegative,scale:"space"},my:{properties:["marginTop","marginBottom"],transform:P.positiveOrNegative,scale:"space"},padding:{property:"padding",scale:"space"},p:{property:"padding",scale:"space"},paddingTop:{property:"paddingTop",scale:"space"},pt:{property:"paddingTop",scale:"space"},paddingRight:{property:"paddingRight",scale:"space"},pr:{property:"paddingRight",scale:"space"},paddingBottom:{property:"paddingBottom",scale:"space"},pb:{property:"paddingBottom",scale:"space"},paddingLeft:{property:"paddingLeft",scale:"space"},pl:{property:"paddingLeft",scale:"space"},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space"},px:{properties:["paddingLeft","paddingRight"],scale:"space"},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space"},py:{properties:["paddingTop","paddingBottom"],scale:"space"}},j=Object(n.c)(L),N=Object(n.b)(L),U={fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes"},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,textDecoration:!0,textDecor:{property:"textDecoration"}},B=Object(n.c)(U),F=Object(n.b)(U),z={outline:!0,outlineOffset:!0,outlineColor:{property:"outlineColor",scale:"colors"}},V=Object(n.c)(z),W=Object(n.b)(z),$={listStyleType:!0,listStylePosition:!0,listStylePos:{property:"listStylePosition"},listStyleImage:!0,listStyleImg:{property:"listStyleImage"}},H=Object(n.c)($),K=Object(n.b)($),G={transition:!0,transitionDuration:{property:"transitionDuration",scale:"transition.duration"},transitionProperty:{property:"transitionProperty",scale:"transition.property"},transitionTimingFunction:{property:"transitionTimingFunction",scale:"transition.easing"}},Z=Object(n.c)(G),q=Object(n.b)(G),X={transform:!0,transformOrigin:!0},Y=Object(n.c)(X),Q=Object(n.b)(X)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){var n=r(95);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(133),i=r(134),a=r(226);e.exports=function(e){return function(){var t,r=n(e);if(i()){var o=n(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return a(this,t)}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},,function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";var n;r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return d}));try{n=window}catch(f){}var i=function(e){var t,r;return null!=(t=null==e||null==(r=e.ownerDocument)?void 0:r.defaultView)?t:n};var a=function(){var e=i();return Boolean("undefined"!==typeof e&&e.document&&e.document.createElement)}();function o(e){var t=e.key,r=e.keyCode;return r>=37&&r<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}var s=function(e){return e?"":void 0},l=function(e){return!!e||void 0},u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")};function c(e){var t=function(e){return(null==e?void 0:e.ownerDocument)||a?document:null}(e);return null==t?void 0:t.activeElement}function d(e,t){return e===t||e.contains(t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return fa})),r.d(t,"b",(function(){return oa})),r.d(t,"c",(function(){return Ln}));var n=r(3);var i=0,a="undefined"!==typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),r=Math.max(0,16.7-(t-i));i=t+r,setTimeout((function(){return e(i)}),r)},o=1/60*1e3,s=!0,l=!1,u=!1,c={delta:0,timestamp:0},d=["read","update","preRender","render","postRender"],f=function(e){return l=e},p=d.reduce((function(e,t){return e[t]=function(e){var t=[],r=[],n=0,i=!1,a=0,o=new WeakSet,s=new WeakSet,l={cancel:function(e){var t=r.indexOf(e);o.add(e),-1!==t&&r.splice(t,1)},process:function(u){var c,d;if(i=!0,t=(c=[r,t])[0],(r=c[1]).length=0,n=t.length)for(a=0;a<n;a++)(d=t[a])(u),!0!==s.has(d)||o.has(d)||(l.schedule(d),e(!0));i=!1},schedule:function(e,a,l){void 0===a&&(a=!1),void 0===l&&(l=!1);var u=l&&i,c=u?t:r;o.delete(e),a&&s.add(e),-1===c.indexOf(e)&&(c.push(e),u&&(n=t.length))}};return l}(f),e}),{}),h=d.reduce((function(e,t){var r=p[t];return e[t]=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),l||y(),r.schedule(e,t,n),e},e}),{}),g=d.reduce((function(e,t){return e[t]=p[t].cancel,e}),{}),m=function(e){return p[e].process(c)},v=function e(t){l=!1,c.delta=s?o:Math.max(Math.min(t-c.timestamp,40),1),s||(o=c.delta),c.timestamp=t,u=!0,d.forEach(m),u=!1,l&&(s=!1,a(e))},y=function(){l=!0,s=!0,u||a(v)},b=function(){return c},k=h,E=function(e,t){return function(r){return Math.max(Math.min(r,t),e)}},_=function(e){return e%1?Number(e.toFixed(5)):e},S=/(-)?(\d[\d\.]*)/g,T=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,w=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,x={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},O=Object(n.a)(Object(n.a)({},x),{transform:E(0,1)}),P=Object(n.a)(Object(n.a)({},x),{default:1}),C=function(e){return{test:function(t){return"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},A=C("deg"),M=C("%"),I=C("px"),R=C("vh"),D=C("vw"),L=Object(n.a)(Object(n.a)({},M),{parse:function(e){return M.parse(e)/100},transform:function(e){return M.transform(100*e)}}),j=E(0,255),N=function(e){return void 0!==e.red},U=function(e){return void 0!==e.hue};var B=function(e){return function(t){if("string"!==typeof t)return t;for(var r={},n=function(e){return e.substring(e.indexOf("(")+1,e.lastIndexOf(")"))}(t).replace(/(,|\/)/g," ").split(/ \s*/),i=0;i<4;i++)r[e[i]]=void 0!==n[i]?parseFloat(n[i]):1;return r}},F=Object(n.a)(Object(n.a)({},x),{transform:function(e){return Math.round(j(e))}});function z(e,t){return e.startsWith(t)&&w.test(e)}var V={test:function(e){return"string"===typeof e?z(e,"rgb"):N(e)},parse:B(["red","green","blue","alpha"]),transform:function(e){var t=e.red,r=e.green,n=e.blue,i=e.alpha,a=void 0===i?1:i;return function(e){var t=e.red,r=e.green,n=e.blue,i=e.alpha;return"rgba("+t+", "+r+", "+n+", "+(void 0===i?1:i)+")"}({red:F.transform(t),green:F.transform(r),blue:F.transform(n),alpha:_(O.transform(a))})}},W={test:function(e){return"string"===typeof e?z(e,"hsl"):U(e)},parse:B(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,i=e.alpha,a=void 0===i?1:i;return function(e){var t=e.hue,r=e.saturation,n=e.lightness,i=e.alpha;return"hsla("+t+", "+r+", "+n+", "+(void 0===i?1:i)+")"}({hue:Math.round(t),saturation:M.transform(_(r)),lightness:M.transform(_(n)),alpha:_(O.transform(a))})}},$=Object(n.a)(Object(n.a)({},V),{test:function(e){return"string"===typeof e&&z(e,"#")},parse:function(e){var t="",r="",n="";return e.length>4?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),t+=t,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),H={test:function(e){return"string"===typeof e&&w.test(e)||N(e)||U(e)},parse:function(e){return V.test(e)?V.parse(e):W.test(e)?W.parse(e):$.test(e)?$.parse(e):e},transform:function(e){return N(e)?V.transform(e):U(e)?W.transform(e):e}},K=function(e){return"number"===typeof e?0:e},G={test:function(e){if("string"!==typeof e||!isNaN(e))return!1;var t=0,r=e.match(S),n=e.match(T);return r&&(t+=r.length),n&&(t+=n.length),t>0},parse:function(e){var t=e,r=[],n=t.match(T);n&&(t=t.replace(T,"${c}"),r.push.apply(r,n.map(H.parse)));var i=t.match(S);return i&&r.push.apply(r,i.map(x.parse)),r},createTransformer:function(e){var t=e,r=0,n=e.match(T),i=n?n.length:0;if(n)for(var a=0;a<i;a++)t=t.replace(n[a],"${c}"),r++;var o=t.match(S),s=o?o.length:0;if(o)for(a=0;a<s;a++)t=t.replace(o[a],"${n}"),r++;return function(e){for(var n=t,a=0;a<r;a++)n=n.replace(a<i?"${c}":"${n}",a<i?H.transform(e[a]):_(e[a]));return n}},getAnimatableNone:function(e){var t=G.parse(e);return G.createTransformer(e)(t.map(K))}},Z=function(e,t,r){return Math.min(Math.max(r,e),t)};function q(e){var t,r,n=e.duration,i=void 0===n?800:n,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,l=void 0===s?0:s,u=e.mass,c=void 0===u?1:u,d=1-o;d=Z(.05,1,d),i=Z(.01,10,i/1e3),d<1?(t=function(e){var t=e*d,r=t*i;return.001-(t-l)/X(e,d)*Math.exp(-r)},r=function(e){var r=e*d*i,n=r*l+l,a=Math.pow(d,2)*Math.pow(e,2)*i,o=Math.exp(-r),s=X(Math.pow(e,2),d);return(.001-t(e)>0?-1:1)*((n-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-l)*i+1)-.001},r=function(e){return Math.exp(-e*i)*(i*i*(l-e))});var f=function(e,t,r){for(var n=r,i=1;i<12;i++)n-=e(n)/t(n);return n}(t,r,5/i);if(isNaN(f))return{stiffness:100,damping:10};var p=Math.pow(f,2)*c;return{stiffness:p,damping:2*d*Math.sqrt(c*p)}}function X(e,t){return e*Math.sqrt(1-t*t)}var Y=["duration","bounce"],Q=["stiffness","damping","mass"];function J(e,t){return t.some((function(t){return void 0!==e[t]}))}function ee(e){var t=e.from,r=void 0===t?0:t,i=e.to,a=void 0===i?1:i,o=e.restSpeed,s=void 0===o?2:o,l=e.restDelta,u=Object(n.d)(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:r},d=function(e){var t=Object(n.a)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!J(e,Q)&&J(e,Y)){var r=q(e);(t=Object(n.a)(Object(n.a)(Object(n.a)({},t),r),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=d.stiffness,p=d.damping,h=d.mass,g=d.velocity,m=d.isResolvedFromDuration,v=te,y=te;function b(){var e=g?-g/1e3:0,t=a-r,n=p/(2*Math.sqrt(f*h)),i=Math.sqrt(f/h)/1e3;if(null!==l&&void 0!==l||(l=Math.abs(a-r)<=1?.01:.4),n<1){var o=X(i,n);v=function(r){var s=Math.exp(-n*i*r);return a-s*((e+n*i*t)/o*Math.sin(o*r)+t*Math.cos(o*r))},y=function(r){var a=Math.exp(-n*i*r);return n*i*a*(Math.sin(o*r)*(e+n*i*t)/o+t*Math.cos(o*r))-a*(Math.cos(o*r)*(e+n*i*t)-o*t*Math.sin(o*r))}}else if(1===n)v=function(r){return a-Math.exp(-i*r)*(t+(e+i*t)*r)};else{var s=i*Math.sqrt(n*n-1);v=function(r){var o=Math.exp(-n*i*r),l=Math.min(s*r,300);return a-o*((e+n*i*t)*Math.sinh(l)+s*t*Math.cosh(l))/s}}}return b(),{next:function(e){var t=v(e);if(m)c.done=e>=u.duration;else{var r=1e3*y(e),n=Math.abs(r)<=s,i=Math.abs(a-t)<=l;c.done=n&&i}return c.value=c.done?a:t,c},flipTarget:function(){var e;g=-g,r=(e=[a,r])[0],a=e[1],b()}}}ee.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var te=function(e){return 0},re=function(e,t,r){var n=t-e;return 0===n?1:(r-e)/n},ne=function(e,t,r){return-r*e+r*t+e},ie=function(e,t,r){var n=e*e,i=t*t;return Math.sqrt(Math.max(0,r*(i-n)+n))},ae=[$,V,W],oe=function(e){return ae.find((function(t){return t.test(e)}))},se=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},le=function(e,t){var r=oe(e),i=oe(t);se(e),se(t),r.transform,i.transform;var a=r.parse(e),o=i.parse(t),s=Object(n.a)({},a),l=r===W?ne:ie;return function(e){for(var t in s)"alpha"!==t&&(s[t]=l(a[t],o[t],e));return s.alpha=ne(a.alpha,o.alpha,e),r.transform(s)}},ue=function(e){return"number"===typeof e},ce=function(e,t){return function(r){return t(e(r))}},de=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(ce)};function fe(e,t){return ue(e)?function(r){return ne(e,t,r)}:H.test(e)?le(e,t):me(e,t)}var pe=function(e,t){var r=Object(n.f)(e),i=r.length,a=e.map((function(e,r){return fe(e,t[r])}));return function(e){for(var t=0;t<i;t++)r[t]=a[t](e);return r}},he=function(e,t){var r=Object(n.a)(Object(n.a)({},e),t),i={};for(var a in r)void 0!==e[a]&&void 0!==t[a]&&(i[a]=fe(e[a],t[a]));return function(e){for(var t in i)r[t]=i[t](e);return r}};function ge(e){for(var t=G.parse(e),r=t.length,n=0,i=0,a=0,o=0;o<r;o++)n||"number"===typeof t[o]?n++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:n,numRGB:i,numHSL:a}}var me=function(e,t){var r=G.createTransformer(t),n=ge(e),i=ge(t);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&(n.numNumbers,i.numNumbers),de(pe(n.parsed,i.parsed),r)},ve=function(e,t){return function(r){return ne(e,t,r)}};function ye(e,t,r){for(var n,i=[],a=r||("number"===typeof(n=e[0])?ve:"string"===typeof n?H.test(n)?le:me:Array.isArray(n)?pe:"object"===typeof n?he:void 0),o=e.length-1,s=0;s<o;s++){var l=a(e[s],e[s+1]);if(t){var u=Array.isArray(t)?t[s]:t;l=de(u,l)}i.push(l)}return i}function be(e,t,r){var n=void 0===r?{}:r,i=n.clamp,a=void 0===i||i,o=n.ease,s=n.mixer,l=e.length;t.length,!o||!Array.isArray(o)||o.length,e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=ye(t,o,s),c=2===l?function(e,t){var r=e[0],n=e[1],i=t[0];return function(e){return i(re(r,n,e))}}(e,u):function(e,t){var r=e.length,n=r-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[n]&&(a=n-1,o=!0),!o){for(var s=1;s<r&&!(e[s]>i||s===n);s++);a=s-1}var l=re(e[a],e[a+1],i);return t[a](l)}}(e,u);return a?function(t){return c(Z(e[0],e[l-1],t))}:c}var ke=function(e){return function(t){return 1-e(1-t)}},Ee=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},_e=function(e){return function(t){return t*t*((e+1)*t-e)}},Se=function(e){var t=_e(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},Te=function(e){return e},we=function(e){return function(t){return Math.pow(t,e)}}(2),xe=ke(we),Oe=Ee(we),Pe=function(e){return 1-Math.sin(Math.acos(e))},Ce=ke(Pe),Ae=Ee(Ce),Me=_e(1.525),Ie=ke(Me),Re=Ee(Me),De=Se(1.525),Le=function(e){if(1===e||0===e)return e;var t=e*e;return e<4/11?7.5625*t:e<8/11?9.075*t-9.9*e+3.4:e<.9?4356/361*t-35442/1805*e+16061/1805:10.8*e*e-20.52*e+10.72},je=ke(Le);function Ne(e,t){return e.map((function(){return t||Oe})).splice(0,e.length-1)}function Ue(e){var t=e.from,r=void 0===t?0:t,n=e.to,i=void 0===n?1:n,a=e.ease,o=e.offset,s=e.duration,l=void 0===s?300:s,u={done:!1,value:r},c=Array.isArray(i)?i:[r,i],d=function(e,t){return e.map((function(e){return e*t}))}(null!==o&&void 0!==o?o:function(e){var t=e.length;return e.map((function(e,r){return 0!==r?r/(t-1):0}))}(c),l);function f(){return be(d,c,{ease:Array.isArray(a)?a:Ne(c,a)})}var p=f();return{next:function(e){return u.value=p(e),u.done=e>=l,u},flipTarget:function(){c.reverse(),p=f()}}}var Be={keyframes:Ue,spring:ee,decay:function(e){var t=e.velocity,r=void 0===t?0:t,n=e.from,i=void 0===n?0:n,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,l=void 0===s?350:s,u=e.restDelta,c=void 0===u?.5:u,d=e.modifyTarget,f={done:!1,value:i},p=o*r,h=i+p,g=void 0===d?h:d(h);return g!==h&&(p=g-i),{next:function(e){var t=-p*Math.exp(-e/l);return f.done=!(t>c||t<-c),f.value=f.done?g:g+t,f},flipTarget:function(){}}}};function Fe(e,t,r){return void 0===r&&(r=0),e-t-r}var ze=function(e){var t=function(t){var r=t.delta;return e(r)};return{start:function(){return k.update(t,!0,!0)},stop:function(){return g.update(t)}}};function Ve(e){var t,r,i,a,o,s=e.from,l=e.autoplay,u=void 0===l||l,c=e.driver,d=void 0===c?ze:c,f=e.elapsed,p=void 0===f?0:f,h=e.repeat,g=void 0===h?0:h,m=e.repeatType,v=void 0===m?"loop":m,y=e.repeatDelay,b=void 0===y?0:y,k=e.onPlay,E=e.onStop,_=e.onComplete,S=e.onRepeat,T=e.onUpdate,w=Object(n.d)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),x=w.to,O=0,P=w.duration,C=!1,A=!0,M=function(e){if(Array.isArray(e.to))return Ue;if(Be[e.type])return Be[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Ue:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?ee:Ue}(w);(null===(r=(t=M).needsInterpolation)||void 0===r?void 0:r.call(t,s,x))&&(o=be([0,100],[s,x],{clamp:!1}),s=0,x=100);var I=M(Object(n.a)(Object(n.a)({},w),{from:s,to:x}));function R(){O++,"reverse"===v?p=function(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n=!0),n?Fe(t+-e,t,r):t-(e-t)+r}(p,P,b,A=O%2===0):(p=Fe(p,P,b),"mirror"===v&&I.flipTarget()),C=!1,S&&S()}function D(e){if(A||(e=-e),p+=e,!C){var t=I.next(Math.max(0,p));a=t.value,o&&(a=o(a)),C=A?t.done:p<=0}null===T||void 0===T||T(a),C&&(0===O&&(null!==P&&void 0!==P||(P=p)),O<g?function(e,t,r,n){return n?e>=t+r:e<=-r}(p,P,b,A)&&R():(i.stop(),_&&_()))}return u&&(null===k||void 0===k||k(),(i=d(D)).start()),{stop:function(){null===E||void 0===E||E(),i.stop()}}}function We(e,t){return t?e*(1e3/t):0}var $e=function(e){return e},He=function(e){return void 0===e&&(e=$e),function(t,r,n){var i=r-n,a=-(0-t+1)*(0-e(Math.abs(i)));return i<=0?r+a:r-a}},Ke=(Math.sqrt,function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")}),Ge=function(e){return Ke(e)&&e.hasOwnProperty("z")},Ze=function(e,t){return Math.abs(e-t)};function qe(e,t){if(ue(e)&&ue(t))return Ze(e,t);if(Ke(e)&&Ke(t)){var r=Ze(e.x,t.x),n=Ze(e.y,t.y),i=Ge(e)&&Ge(t)?Ze(e.z,t.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(i,2))}}var Xe=function(e,t){return 1-3*t+3*e},Ye=function(e,t){return 3*t-6*e},Qe=function(e){return 3*e},Je=function(e,t,r){return((Xe(t,r)*e+Ye(t,r))*e+Qe(t))*e},et=function(e,t,r){return 3*Xe(t,r)*e*e+2*Ye(t,r)*e+Qe(t)};function tt(e,t,r,n){if(e===t&&r===n)return Te;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=Je(.1*a,e,r);function o(t){for(var n=0,a=1;10!==a&&i[a]<=t;++a)n+=.1;--a;var o=n+.1*((t-i[a])/(i[a+1]-i[a])),s=et(o,e,r);return s>=.001?function(e,t,r,n){for(var i=0;i<8;++i){var a=et(t,r,n);if(0===a)return t;t-=(Je(t,r,n)-e)/a}return t}(t,o,e,r):0===s?o:function(e,t,r,n,i){var a,o,s=0;do{(a=Je(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,n,n+.1,e,r)}return function(e){return 0===e||1===e?e:Je(o(e),t,n)}}var rt=r(0),nt=r.n(rt),it=function(e){return"object"===typeof e&&e.hasOwnProperty("current")},at=function(){function e(){this.subscriptions=new Set}return e.prototype.add=function(e){var t=this;return this.subscriptions.add(e),function(){t.subscriptions.delete(e)}},e.prototype.notify=function(e,t,r){var i,a;if(this.subscriptions.size)try{for(var o=Object(n.g)(this.subscriptions),s=o.next();!s.done;s=o.next()){(0,s.value)(e,t,r)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}},e.prototype.clear=function(){this.subscriptions.clear()},e}(),ot=function(){function e(e){var t,r=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new at,this.renderSubscribers=new at,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),r.prev=r.current,r.current=e,r.prev!==r.current&&r.updateSubscribers.notify(r.current),t&&r.renderSubscribers.notify(r.current);var n=b(),i=n.delta,a=n.timestamp;r.lastUpdated!==a&&(r.timeDelta=i,r.lastUpdated=a,k.postRender(r.scheduleVelocityCheck))},this.scheduleVelocityCheck=function(){return k.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current)},this.set(e,!1),this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?We(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(r){t.stopAnimation=e(r)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function st(e){return new ot(e)}var lt=function(e){return 1e3*e},ut={linear:Te,easeIn:we,easeInOut:Oe,easeOut:xe,circIn:Pe,circInOut:Ae,circOut:Ce,backIn:Me,backInOut:Re,backOut:Ie,anticipate:De,bounceIn:je,bounceInOut:function(e){return e<.5?.5*(1-Le(1-2*e)):.5*Le(2*e-1)+.5},bounceOut:Le},ct=function(e){if(Array.isArray(e)){e.length;var t=Object(n.c)(e,4);return tt(t[0],t[1],t[2],t[3])}return"string"===typeof e?ut[e]:e},dt=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!G.test(t)||t.startsWith("url(")))},ft=function(e){return Array.isArray(e)},pt=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},ht=function(e){return{type:"spring",stiffness:550,damping:0===e?100:30,restDelta:.01,restSpeed:10}},gt=function(){return{type:"keyframes",ease:"linear",duration:.3}},mt=function(e){return{type:"keyframes",duration:.8,values:e}},vt={x:pt,y:pt,z:pt,rotate:pt,rotateX:pt,rotateY:pt,rotateZ:pt,scaleX:ht,scaleY:ht,scale:ht,opacity:gt,backgroundColor:gt,color:gt,default:ht};function yt(e){var t=e.yoyo,r=e.loop,i=e.flip,a=e.ease,o=e.times,s=Object(n.d)(e,["yoyo","loop","flip","ease","times"]),l=Object(n.a)({},s);return o&&(l.offset=o),s.duration&&(l.duration=lt(s.duration)),s.repeatDelay&&(l.repeatDelay=lt(s.repeatDelay)),a&&(l.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(a)?a.map(ct):ct(a)),"tween"===s.type&&(l.type="keyframes"),t?l.repeatType="reverse":r?l.repeatType="loop":i&&(l.repeatType="mirror"),l.repeat=r||t||i||s.repeat,"spring"!==s.type&&(l.type="keyframes"),l}function bt(e,t,r){var i;return Array.isArray(t.to)&&(null!==(i=e.duration)&&void 0!==i||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Object(n.e)(e.to),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=Object(n.d)(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Object(n.a)(Object(n.a)({},e),function(e,t){var r;return r=ft(t)?mt:vt[e]||vt.default,Object(n.a)({to:t},r(t))}(r,t.to))),Object(n.a)(Object(n.a)({},t),yt(e))}function kt(e,t,r,i,a){var o,s=function(e,t){return e[t]||e.default||e}(i,e),l=null!==(o=s.from)&&void 0!==o?o:t.get(),u=dt(e,r);"none"===l&&u&&"string"===typeof r&&(l=G.getAnimatableNone(r));var c=dt(e,l);return c&&u&&!1!==s.type?function(){var i={from:l,to:r,velocity:t.getVelocity(),onComplete:a,onUpdate:function(e){return t.set(e)}};return"inertia"===s.type||"decay"===s.type?function(e){var t,r=e.from,i=void 0===r?0:r,a=e.velocity,o=void 0===a?0:a,s=e.min,l=e.max,u=e.power,c=void 0===u?.8:u,d=e.timeConstant,f=void 0===d?750:d,p=e.bounceStiffness,h=void 0===p?500:p,g=e.bounceDamping,m=void 0===g?10:g,v=e.restDelta,y=void 0===v?1:v,k=e.modifyTarget,E=e.driver,_=e.onUpdate,S=e.onComplete;function T(e){return void 0!==s&&e<s||void 0!==l&&e>l}function w(e){return void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l}function x(e){null===t||void 0===t||t.stop(),t=Ve(Object(n.a)(Object(n.a)({},e),{driver:E,onUpdate:function(t){var r;null===_||void 0===_||_(t),null===(r=e.onUpdate)||void 0===r||r.call(e,t)},onComplete:S}))}function O(e){x(Object(n.a)({type:"spring",stiffness:h,damping:m,restDelta:y},e))}if(T(i))O({from:i,velocity:o,to:w(i)});else{var P=c*o+i;"undefined"!==typeof k&&(P=k(P));var C,A,M=w(P),I=M===s?-1:1;x({type:"decay",from:i,velocity:o,timeConstant:f,power:c,restDelta:y,modifyTarget:k,onUpdate:T(P)?function(e){C=A,A=e,o=We(e-C,b().delta),(1===I&&e>M||-1===I&&e<M)&&O({from:e,to:M,velocity:o})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(Object(n.a)(Object(n.a)({},i),s)):Ve(Object(n.a)(Object(n.a)({},bt(s,i,e)),{onUpdate:function(e){var t;i.onUpdate(e),null===(t=s.onUpdate)||void 0===t||t.call(s,e)},onComplete:function(){var e;i.onComplete(),null===(e=s.onComplete)||void 0===e||e.call(s)}}))}:function(){var e;return t.set(r),a(),null===(e=null===s||void 0===s?void 0:s.onComplete)||void 0===e||e.call(s),{stop:function(){}}}}function Et(e,t,r,n){return void 0===n&&(n={}),t.start((function(i){var a,o,s=kt(e,t,r,n,i),l=function(e,t){var r,n,i,a,o;return null!==(o=null!==(a=null!==(n=null===(r=e[t])||void 0===r?void 0:r.delay)&&void 0!==n?n:null===(i=e.default)||void 0===i?void 0:i.delay)&&void 0!==a?a:e.delay)&&void 0!==o?o:0}(n,e),u=function(){return o=s()};return l?a=setTimeout(u,lt(l)):u(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var _t=function(e){return ft(e)?e[e.length-1]||0:e},St=Object(n.a)(Object(n.a)({},x),{transform:Math.round}),Tt={color:H,backgroundColor:H,outlineColor:H,fill:H,stroke:H,borderColor:H,borderTopColor:H,borderRightColor:H,borderBottomColor:H,borderLeftColor:H,borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,size:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,rotate:A,rotateX:A,rotateY:A,rotateZ:A,scale:P,scaleX:P,scaleY:P,scaleZ:P,skew:A,skewX:A,skewY:A,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:O,originX:L,originY:L,originZ:I,zIndex:St,fillOpacity:O,strokeOpacity:O,numOctaves:St},wt=[x,I,M,A,D,R,{test:function(e){return"auto"===e},parse:function(e){return e}}],xt=function(e){return function(t){return t.test(e)}},Ot=function(e){return wt.find(xt(e))},Pt=Object(n.e)(wt,[H,G]),Ct=function(e){return Pt.find(xt(e))},At=function(e){return Tt[e]},Mt=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function It(e){return Array.isArray(e)}function Rt(e){return"string"===typeof e||It(e)}function Dt(e,t,r){var i={};return t?(i=function(e){return"function"===typeof e}(t)?t(null!==r&&void 0!==r?r:e.getVariantPayload(),function(e){var t={};return e.forEachValue((function(e,r){return t[r]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,r){return t[r]=e.getVelocity()})),t}(e)):t,Object(n.a)({transition:e.getDefaultTransition()},i)):i}function Lt(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,st(r))}function jt(e,t,r){var i=(void 0===r?{}:r).priority,a=e.makeTargetAnimatable(Dt(e,t),!1),o=a.transitionEnd,s=void 0===o?{}:o,l=(a.transition,Object(n.d)(a,["transitionEnd","transition"]));for(var u in l=Object(n.a)(Object(n.a)({},l),s)){var c=_t(l[u]);Lt(e,u,c),i||(e.baseTarget[u]=c)}}function Nt(e,t){Object(n.e)(t).reverse().forEach((function(r){var n;jt(e,e.getVariant(r)),null===(n=e.variantChildren)||void 0===n||n.forEach((function(e){Nt(e,t)}))}))}function Ut(e,t){return Array.isArray(t)?Nt(e,t):"string"===typeof t?Nt(e,[t]):void jt(e,t)}function Bt(e,t,r){var n,i,a,o=Object.keys(t).filter((function(t){return!e.hasValue(t)})),s=o.length;if(s)for(var l=0;l<s;l++){var u=o[l],c=t[u],d=null;if(Array.isArray(c)&&(d=c[0]),null===d){var f=null!==(n=r[u])&&void 0!==n?n:e.readNativeValue(u);d=void 0!==f?f:t[u]}"string"===typeof d&&/^\-?\d*\.?\d+$/.test(d)?d=parseFloat(d):!Ct(d)&&G.test(c)&&(d=G.getAnimatableNone(c)),e.addValue(u,st(d)),null!==(i=(a=r)[u])&&void 0!==i||(a[u]=d),e.baseTarget[u]=d}}function Ft(e,t){if(t)return(t[e]||t.default||t).from}function zt(e,t,r){var n,i,a={};for(var o in e)a[o]=null!==(n=Ft(o,t))&&void 0!==n?n:null===(i=r.getValue(o))||void 0===i?void 0:i.get();return a}function Vt(e,t,r){var i;return void 0===r&&(r={}),r.priority&&e.activeOverrides.add(r.priority),e.resetIsAnimating(r.priority),i=It(t)?function(e,t,r){var i=Object(n.e)(t).reverse().map((function(t){return Wt(e,t,r)}));return Promise.all(i)}(e,t,r):Rt(t)?Wt(e,t,r):$t(e,t,r),e.onAnimationStart(),i.then((function(){return e.onAnimationComplete()}))}function Wt(e,t,r){var i,a=r&&r.priority||0,o=e.getVariant(t),s=Dt(e,o,r&&r.custom),l=s.transition||{},u=o?function(){return $t(e,s,r)}:function(){return Promise.resolve()},c=(null===(i=e.variantChildrenOrder)||void 0===i?void 0:i.size)?function(n){void 0===n&&(n=0);var i=l.delayChildren;return function(e,t,r,n,i,a,o){void 0===r&&(r=0);void 0===n&&(n=0);void 0===i&&(i=1);void 0===a&&(a=0);var s=[],l=(e.variantChildrenOrder.size-1)*n,u=1===i?function(e){return e*n}:function(e){return l-e*n};return Array.from(e.variantChildrenOrder).forEach((function(e,n){var i=Wt(e,t,{priority:a,delay:r+u(n),custom:o});s.push(i)})),Promise.all(s)}(e,t,(void 0===i?0:i)+n,l.staggerChildren,l.staggerDirection,a,null===r||void 0===r?void 0:r.custom)}:function(){return Promise.resolve()},d=l.when;if(d){var f=Object(n.c)("beforeChildren"===d?[u,c]:[c,u],2),p=f[0],h=f[1];return p().then(h)}return Promise.all([u(),c(null===r||void 0===r?void 0:r.delay)])}function $t(e,t,r){var i=void 0===r?{}:r,a=i.delay,o=void 0===a?0:a,s=i.priority,l=void 0===s?0:s,u=i.transitionOverride,c=i.custom,d=Dt(e,t,c);u&&(d.transition=u);var f=e.makeTargetAnimatable(d),p=f.transitionEnd,h=f.transition,g=Object(n.d)(f,["transitionEnd","transition"]);l&&(e.resolvedOverrides[l]=g);var m=[];for(var v in g){var y=e.getValue(v);if(y&&g&&void 0!==g[v]){var b=g[v];l||(e.baseTarget[v]=_t(b)),e.isAnimating.has(v)||(e.isAnimating.add(v),m.push(Et(v,y,b,Object(n.a)({delay:o},h))))}}var k=Promise.all(m);return p?k.then((function(){return jt(e,p,{priority:l})})):k}function Ht(e,t,r){var n;e.overrides[r]=t,null===(n=e.variantChildren)||void 0===n||n.forEach((function(e){Ht(e,t,r)}))}function Kt(e,t){var r=e.overrides[t];if(r)return Vt(e,r,{priority:t})}function Gt(e,t){var r;if(null===(r=e.variantChildrenOrder)||void 0===r||r.forEach((function(e){Gt(e,t)})),e.overrides[t]){e.activeOverrides.delete(t);var n=Zt(e);if(e.resetIsAnimating(),n)e.overrides[n]&&Kt(e,n);var i=e.resolvedOverrides[t];if(i){var a={};for(var o in e.baseTarget)void 0!==i[o]&&(a[o]=e.baseTarget[o]);e.onAnimationStart(),$t(e,a).then((function(){e.onAnimationComplete()}))}}}function Zt(e){return e.activeOverrides.size?Math.max.apply(Math,Object(n.e)(Array.from(e.activeOverrides))):0}var qt=function(){function e(e,t){var r=this;this.children=new Set,this.baseTarget={},this.overrides=[],this.resolvedOverrides=[],this.activeOverrides=new Set,this.isAnimating=new Set,this.latest={},this.values=new Map,this.valueSubscriptions=new Map,this.config={},this.isMounted=!1,this.update=function(){return r.config.onUpdate(r.latest)},this.triggerRender=function(){return r.render()},this.ref=function(e){e?r.mount(e):r.unmount(),r.externalRef&&("function"===typeof r.externalRef?r.externalRef(e):it(r.externalRef)&&(r.externalRef.current=e))},this.parent=e,this.rootParent=e?e.rootParent:this,this.treePath=e?Object(n.e)(e.treePath,[e]):[],this.depth=e?e.depth+1:0,this.externalRef=t}return e.prototype.getVariantPayload=function(){return this.config.custom},e.prototype.getVariant=function(e){var t;return null===(t=this.config.variants)||void 0===t?void 0:t[e]},e.prototype.addVariantChild=function(e){this.variantChildren||(this.variantChildren=new Set),this.variantChildren.add(e)},e.prototype.addVariantChildOrder=function(e){this.variantChildrenOrder||(this.variantChildrenOrder=new Set),this.variantChildrenOrder.add(e)},e.prototype.onAnimationStart=function(){var e,t;null===(t=(e=this.config).onAnimationStart)||void 0===t||t.call(e)},e.prototype.onAnimationComplete=function(){var e,t;this.isMounted&&(null===(t=(e=this.config).onAnimationComplete)||void 0===t||t.call(e))},e.prototype.getDefaultTransition=function(){return this.config.transition},e.prototype.resetIsAnimating=function(e){var t;void 0===e&&(e=0),this.isAnimating.clear(),e<Zt(this)&&this.checkOverrideIsAnimating(e),null===(t=this.variantChildren)||void 0===t||t.forEach((function(t){return t.resetIsAnimating(e)}))},e.prototype.checkOverrideIsAnimating=function(e){for(var t=this.overrides.length,r=e+1;r<t;r++){var n=this.resolvedOverrides[r];if(n)for(var i in n)this.isAnimating.add(i)}},e.prototype.subscribe=function(e){var t=this;return this.children.add(e),function(){return t.children.delete(e)}},e.prototype.hasValue=function(e){return this.values.has(e)},e.prototype.addValue=function(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.setSingleStaticValue(e,t.get()),this.subscribeToValue(e,t)},e.prototype.removeValue=function(e){var t;null===(t=this.valueSubscriptions.get(e))||void 0===t||t(),this.valueSubscriptions.delete(e),this.values.delete(e),delete this.latest[e]},e.prototype.getValue=function(e,t){var r=this.values.get(e);return void 0===r&&void 0!==t&&(r=new ot(t),this.addValue(e,r)),r},e.prototype.forEachValue=function(e){this.values.forEach(e)},e.prototype.getInstance=function(){return this.element},e.prototype.updateConfig=function(e){void 0===e&&(e={}),this.config=Object(n.a)({},e)},e.prototype.setSingleStaticValue=function(e,t){this.latest[e]=t},e.prototype.setStaticValues=function(e,t){if("string"===typeof e)this.setSingleStaticValue(e,t);else for(var r in e)this.setSingleStaticValue(r,e[r])},e.prototype.scheduleRender=function(){k.render(this.triggerRender,!1,!0)},e.prototype.scheduleUpdateLayoutDelta=function(){k.preRender(this.rootParent.updateLayoutDelta,!1,!0)},e.prototype.subscribeToValue=function(e,t){var r=this,n=t.onChange((function(t){r.setSingleStaticValue(e,t),r.element&&r.config.onUpdate&&k.update(r.update,!1,!0)})),i=t.onRenderRequest((function(){r.element&&r.scheduleRender()}));this.valueSubscriptions.set(e,(function(){n(),i()}))},e.prototype.mount=function(e){this.parent&&(this.removeFromParent=this.parent.subscribe(this)),this.element=this.current=e},e.prototype.unmount=function(){var e=this;this.forEachValue((function(t,r){return e.removeValue(r)})),g.update(this.update),g.render(this.render),this.removeFromParent&&this.removeFromParent()},e}();function Xt(e){return e}function Yt(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Qt(e){return{x:Object(n.a)({},e.x),y:Object(n.a)({},e.y)}}var Jt={translate:0,scale:1,origin:0,originPoint:0};function er(){return{x:Object(n.a)({},Jt),y:Object(n.a)({},Jt)}}var tr=["","X","Y","Z"],rr=new Set,nr=["transformPerspective","x","y","z"];function ir(e,t){return nr.indexOf(e)-nr.indexOf(t)}["perspective","translate","scale","rotate","skew"].forEach((function(e){var t=new Set(["rotate","skew"]).has(e);tr.forEach((function(r){var n=e+r;nr.push(n),t&&rr.add(n)}))}));var ar=new Set(nr);function or(e){return ar.has(e)}var sr=new Set(["originX","originY","originZ"]);function lr(e){return sr.has(e)}var ur={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function cr(e,t){var r=e.x,n=e.y;return"translate3d("+r.translate/t.x+"px, "+n.translate/t.y+"px, 0) scale("+r.scale+", "+n.scale+")"}var dr=cr(er(),{x:1,y:1});function fr(e){return e.startsWith("--")}function pr(e){return"string"===typeof e&&e.startsWith("var(--")}var hr=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gr(e,t,r){void 0===r&&(r=1);var i=Object(n.c)(function(e){var t=hr.exec(e);if(!t)return[,];var r=Object(n.c)(t,3);return[r[1],r[2]]}(e),2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():pr(o)?gr(o,t,r+1):o}}function mr(e,t){return e/(t.max-t.min)*100}var vr={process:function(e,t){if("string"===typeof e){if(!I.test(e))return e;e=parseFloat(e)}return mr(e,t.x)+"% "+mr(e,t.y)+"%"}},yr={borderRadius:Object(n.a)(Object(n.a)({},vr),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomLeftRadius:vr,borderBottomRightRadius:vr,boxShadow:{process:function(e,t,r,n){var i=e,a=e.includes("var("),o=[];a&&(e=e.replace(hr,(function(e){return o.push(e),"_$css"})));var s=G.parse(e);if(s.length>5)return i;var l=G.createTransformer(e),u="number"!==typeof s[0]?1:0,c=r.x.scale*n.x,d=r.y.scale*n.y;s[0+u]/=c,s[1+u]/=d;var f=ne(c,d,.5);"number"===typeof s[2+u]&&(s[2+u]/=f),"number"===typeof s[3+u]&&(s[3+u]/=f);var p=l(s);if(a){var h=0;p=p.replace("_$css",(function(){var e=o[h];return h++,e}))}return p}}};function br(e,t,r,n,i,a,o,s,l,u,c,d){var f=o.enableHardwareAcceleration,p=o.transformTemplate,h=o.allowTransformNone;a.length=0;var g=!1,m=!1,v=!0;for(var y in e){var b=e[y],k=At(y),E=Mt(b,k);if(or(y)){if(g=!0,n[y]=E,a.push(y),!v)continue;b!==(void 0!==k.default?k.default:0)&&(v=!1)}else if(lr(y))i[y]=E,m=!0;else if("transform"!==y||"function"!==typeof b){var _=fr(y)?r:t;if(s&&yr[y]){var S=yr[y].process(b,d,l,c),T=yr[y].applyTo;if(T)for(var w=T.length,x=0;x<w;x++)_[T[x]]=S;else _[y]=S}else _[y]=E}}s?(t.transform=cr(u,c),t.transform===dr&&(t.transform=""),g&&(t.transform+=" "+function(e,t){var r="";t.sort(ir);for(var n=t.length,i=0;i<n;i++){var a=t[i];rr.has(a)&&(r+=a+"("+e[a]+") ")}return r}(n,a),t.transform=t.transform.trim()),p&&(t.transform=p(n,t.transform)),t.transformOrigin=function(e){var t=e.x,r=e.y;return 100*t.origin+"% "+100*r.origin+"% 0"}(u)):(g&&(t.transform=function(e,t,r,n,i,a){void 0===i&&(i=!0),void 0===a&&(a=!0);var o="";t.sort(ir);for(var s=!1,l=t.length,u=0;u<l;u++){var c=t[u];o+=(ur[c]||c)+"("+e[c]+") ","z"===c&&(s=!0)}return!s&&i?o+="translateZ(0)":o=o.trim(),r?o=r(e,n?"":o):a&&n&&(o="none"),o}(n,a,p,v,f,h)),m&&(t.transformOrigin=function(e){var t=e.originX,r=void 0===t?"50%":t,n=e.originY,i=void 0===n?"50%":n,a=e.originZ;return r+" "+i+" "+(void 0===a?0:a)}(i)))}function kr(e,t){e.min=t.min,e.max=t.max}function Er(e,t,r){return r+t*(e-r)}function _r(e,t,r,n,i){return void 0!==i&&(e=Er(e,i,n)),Er(e,r,n)+t}function Sr(e,t,r,n,i){void 0===t&&(t=0),void 0===r&&(r=1),e.min=_r(e.min,t,r,n,i),e.max=_r(e.max,t,r,n,i)}function Tr(e,t){var r=t.x,n=t.y;Sr(e.x,r.translate,r.scale,r.originPoint),Sr(e.y,n.translate,n.scale,n.originPoint)}function wr(e,t,r,i){var a=Object(n.c)(i,3),o=a[0],s=a[1],l=a[2];e.min=t.min,e.max=t.max;var u=void 0!==r[l]?r[l]:.5,c=ne(t.min,t.max,u);Sr(e,r[o],r[s],c,r.scale)}var xr=["x","scaleX","originX"],Or=["y","scaleY","originY"];function Pr(e,t,r,n,i){return e=Er(e-=t,1/r,n),void 0!==i&&(e=Er(e,1/i,n)),e}function Cr(e,t,r){var i=Object(n.c)(r,3),a=i[0],o=i[1],s=i[2];!function(e,t,r,n,i){void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=.5);var a=ne(e.min,e.max,n)-t;e.min=Pr(e.min,t,r,a,i),e.max=Pr(e.max,t,r,a,i)}(e,t[a],t[o],t[s],t.scale)}function Ar(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=.01),qe(e,t)<r}function Mr(e){return e.max-e.min}function Ir(e,t){var r=.5,n=Mr(e),i=Mr(t);return i>n?r=re(t.min,t.max-n,e.min):n>i&&(r=re(e.min,e.max-i,t.min)),Z(0,1,r)}function Rr(e,t,r,n){e.origin=void 0===n?Ir(t,r):n,e.originPoint=ne(t.min,t.max,e.origin),e.scale=Mr(r)/Mr(t),Ar(e.scale,1,1e-4)&&(e.scale=1),e.translate=ne(r.min,r.max,e.origin)-e.originPoint,Ar(e.translate)&&(e.translate=0)}function Dr(e,t,r,n){Rr(e.x,t.x,r.x,n),Rr(e.y,t.y,r.y,n)}function Lr(e){return[e("x"),e("y")]}function jr(e,t){return Yt(function(e,t){var r=e.top,n=e.left,i=e.bottom,a=e.right;void 0===t&&(t=Xt);var o=t({x:n,y:r}),s=t({x:a,y:i});return{top:o.y,left:o.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}var Nr,Ur=new Set(["width","height","top","left","right","bottom","x","y"]),Br=function(e){return Ur.has(e)},Fr=function(e,t){e.set(t,!1),e.set(t)},zr=function(e){return e===x||e===I};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Nr||(Nr={}));var Vr=function(e,t){return parseFloat(e.split(", ")[t])},Wr=function(e,t){return function(r,n){var i=n.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return Vr(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?Vr(o[1],e):0}},$r=new Set(["x","y","z"]),Hr=nr.filter((function(e){return!$r.has(e)}));var Kr={width:function(e){var t=e.x;return t.max-t.min},height:function(e){var t=e.y;return t.max-t.min},top:function(e,t){var r=t.top;return parseFloat(r)},left:function(e,t){var r=t.left;return parseFloat(r)},bottom:function(e,t){var r=e.y,n=t.top;return parseFloat(n)+(r.max-r.min)},right:function(e,t){var r=e.x,n=t.left;return parseFloat(n)+(r.max-r.min)},x:Wr(4,13),y:Wr(5,14)},Gr=function(e,t,r,i){void 0===r&&(r={}),void 0===i&&(i={}),t=Object(n.a)({},t),i=Object(n.a)({},i);var a=Object.keys(t).filter(Br),o=[],s=!1,l=[];if(a.forEach((function(n){var a=e.getValue(n);if(e.hasValue(n)){var u,c=r[n],d=t[n],f=Ot(c);if(ft(d))for(var p=d.length,h=null===d[0]?1:0;h<p;h++)u?Ot(d[h]):(u=Ot(d[h]))===f||zr(f)&&zr(u);else u=Ot(d);if(f!==u)if(zr(f)&&zr(u)){var g=a.get();"string"===typeof g&&a.set(parseFloat(g)),"string"===typeof d?t[n]=parseFloat(d):Array.isArray(d)&&u===I&&(t[n]=d.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===c||0===d)?0===c?a.set(u.transform(c)):t[n]=f.transform(d):(s||(o=function(e){var t=[];return Hr.forEach((function(r){var n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),s=!0),l.push(n),i[n]=void 0!==i[n]?i[n]:t[n],Fr(a,d))}})),l.length){var u=function(e,t,r){var n=t.getBoundingBox(),i=t.getComputedStyle(),a=i.display,o={top:i.top,left:i.left,bottom:i.bottom,right:i.right,transform:i.transform};"none"===a&&t.setStaticValues("display",e.display||"block"),t.render();var s=t.getBoundingBox();return r.forEach((function(r){var a=t.getValue(r);Fr(a,Kr[r](n,o)),e[r]=Kr[r](s,i)})),e}(t,e,l);return o.length&&o.forEach((function(t){var r=Object(n.c)(t,2),i=r[0],a=r[1];e.getValue(i).set(a)})),e.render(),{target:u,transitionEnd:i}}return{target:t,transitionEnd:i}};function Zr(e,t,r,n){return function(e){return Object.keys(e).some(Br)}(t)?Gr(e,t,r,n):{target:t,transitionEnd:n}}var qr=function(e,t,r,i){var a=function(e,t,r){var i,a=Object(n.d)(t,[]),o=e.getInstance();if(!(o instanceof HTMLElement))return{target:a,transitionEnd:r};for(var s in r&&(r=Object(n.a)({},r)),e.forEachValue((function(e){var t=e.get();if(pr(t)){var r=gr(t,o);r&&e.set(r)}})),a){var l=a[s];if(pr(l)){var u=gr(l,o);u&&(a[s]=u,r&&(null!==(i=r[s])&&void 0!==i||(r[s]=l)))}}return{target:a,transitionEnd:r}}(e,t,i);return Zr(e,t=a.target,r,i=a.transitionEnd)},Xr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultConfig={enableHardwareAcceleration:!0,allowTransformNone:!0},t.style={},t.reactStyle={},t.vars={},t.transform={},t.transformOrigin={},t.transformKeys=[],t.config=t.defaultConfig,t.isLayoutProjectionEnabled=!1,t.layoutUpdateListeners=new at,t.layoutMeasureListeners=new at,t.viewportBoxUpdateListeners=new at,t.hasViewportBoxUpdated=!1,t.targetBoxFinal={x:{min:0,max:1},y:{min:0,max:1}},t.treeScale={x:1,y:1},t.prevTreeScale={x:1,y:1},t.delta=er(),t.deltaFinal=er(),t.deltaTransform=dr,t.stopLayoutAxisAnimation={x:function(){},y:function(){}},t.isTargetBoxLocked=!1,t.axisProgress={x:st(0),y:st(0)},t.updateLayoutDelta=function(){t.isLayoutProjectionEnabled&&t.box&&t.updateLayoutDeltas(),t.children.forEach(Yr)},t}return Object(n.b)(t,e),t.prototype.removeValue=function(t){e.prototype.removeValue.call(this,t),delete this.vars[t],delete this.style[t]},t.prototype.clean=function(){this.style={},this.vars={},this.transform={}},t.prototype.updateConfig=function(e){void 0===e&&(e={}),this.config=Object(n.a)(Object(n.a)({},this.defaultConfig),e)},t.prototype.read=function(e){return this.getComputedStyle()[e]||0},t.prototype.addValue=function(t,r){e.prototype.addValue.call(this,t,r),t.startsWith("rotate")&&(this.layoutOrigin=.5)},t.prototype.readNativeValue=function(e){if(or(e)){var t=At(e);return t&&t.default||0}return this.read(e)},t.prototype.makeTargetAnimatable=function(e,t){void 0===t&&(t=!0);var r=e.transition,i=e.transitionEnd,a=Object(n.d)(e,["transition","transitionEnd"]),o=this.config.transformValues,s=zt(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),t){Bt(this,a,s);var l=qr(this,a,s,i);i=l.transitionEnd,a=l.target}return Object(n.a)({transition:r,transitionEnd:i},a)},t.prototype.enableLayoutProjection=function(){this.isLayoutProjectionEnabled=!0},t.prototype.hide=function(){!1!==this.isVisible&&(this.isVisible=!1,this.scheduleRender())},t.prototype.show=function(){!0!==this.isVisible&&(this.isVisible=!0,this.scheduleRender())},t.prototype.onLayoutUpdate=function(e){return this.layoutUpdateListeners.add(e)},t.prototype.onLayoutMeasure=function(e){return this.layoutMeasureListeners.add(e)},t.prototype.onViewportBoxUpdate=function(e){return this.viewportBoxUpdateListeners.add(e)},t.prototype.layoutReady=function(e){this.layoutUpdateListeners.notify(this.box,this.prevViewportBox||this.box,e)},t.prototype.getBoundingBox=function(){var e=this.config.transformPagePoint;return jr(this.element,e)},t.prototype.getBoundingBoxWithoutTransforms=function(){var e,t,r=this.getBoundingBox();return e=r,t=this.latest,Cr(e.x,t,xr),Cr(e.y,t,Or),r},t.prototype.getComputedStyle=function(){return window.getComputedStyle(this.element)},t.prototype.snapshotBoundingBox=function(){this.prevViewportBox=this.getBoundingBoxWithoutTransforms(),this.rebaseTargetBox(!1,this.prevViewportBox)},t.prototype.rebaseTargetBox=function(e,t){var r=this;void 0===e&&(e=!1),void 0===t&&(t=this.box);var n=this.axisProgress,i=n.x,a=n.y,o=this.box&&!this.isTargetBoxLocked&&!i.isAnimating()&&!a.isAnimating();(e||o)&&Lr((function(e){var n=t[e],i=n.min,a=n.max;r.setAxisTarget(e,i,a)}))},t.prototype.measureLayout=function(){var e=this;this.box=this.getBoundingBox(),this.boxCorrected=Qt(this.box),this.targetBox||(this.targetBox=Qt(this.box)),this.layoutMeasureListeners.notify(this.box,this.prevViewportBox||this.box),k.update((function(){return e.rebaseTargetBox()}))},t.prototype.lockTargetBox=function(){this.isTargetBoxLocked=!0},t.prototype.unlockTargetBox=function(){this.stopLayoutAnimation(),this.isTargetBoxLocked=!1},t.prototype.resetTransform=function(){var e=this.config.transformTemplate;this.element.style.transform=e?e({},""):"none",this.scheduleRender()},t.prototype.setAxisTarget=function(e,t,r){var n=this.targetBox[e];n.min=t,n.max=r,this.hasViewportBoxUpdated=!0,this.rootParent.scheduleUpdateLayoutDelta()},t.prototype.startLayoutAxisAnimation=function(e,t){var r,n=this,i=this.axisProgress[e],a=this.targetBox[e],o=a.min,s=a.max-o;return i.clearListeners(),i.set(o),i.set(o),i.onChange((function(t){return n.setAxisTarget(e,t,t+s)})),null===(r=this.animateMotionValue)||void 0===r?void 0:r.call(this,e,i,0,t)},t.prototype.stopLayoutAnimation=function(){var e=this;Lr((function(t){return e.axisProgress[t].stop()}))},t.prototype.updateLayoutDeltas=function(){var e,t,r,n,i;e=this.boxCorrected,t=this.box,kr(e.x,t.x),kr(e.y,t.y),this.parent&&(this.prevTreeScale.x=this.treeScale.x,this.prevTreeScale.y=this.treeScale.y,r=this.treeScale,n=this.parent.treeScale,i=this.parent.delta,r.x=n.x*i.x.scale,r.y=n.y*i.y.scale),function(e,t){for(var r=t.length,n=0;n<r;n++)Tr(e,t[n].delta)}(this.boxCorrected,this.treePath),Dr(this.delta,this.boxCorrected,this.targetBox,this.layoutOrigin),this.hasViewportBoxUpdated&&this.viewportBoxUpdateListeners.notify(this.targetBox,this.delta),this.hasViewportBoxUpdated=!1;var a=cr(this.delta,this.treeScale);a===this.deltaTransform&&this.prevTreeScale.x===this.treeScale.x&&this.prevTreeScale.y===this.treeScale.y||this.scheduleRender(),this.deltaTransform=a},t.prototype.updateTransformDeltas=function(){var e,t,r;this.isLayoutProjectionEnabled&&this.box&&(e=this.targetBoxFinal,t=this.targetBox,r=this.latest,wr(e.x,t.x,r,xr),wr(e.y,t.y,r,Or),Dr(this.deltaFinal,this.boxCorrected,this.targetBoxFinal,this.layoutOrigin))},t.prototype.build=function(){this.updateTransformDeltas(),void 0!==this.isVisible&&(this.style.visibility=this.isVisible?"visible":"hidden"),br(this.latest,this.style,this.vars,this.transform,this.transformOrigin,this.transformKeys,this.config,this.isLayoutProjectionEnabled&&!!this.box,this.delta,this.deltaFinal,this.treeScale,this.targetBoxFinal)},t.prototype.render=function(){for(var e in this.build(),Object.assign(this.element.style,this.style),this.vars)this.element.style.setProperty(e,this.vars[e])},t}(qt),Yr=function(e){return e.updateLayoutDelta()};function Qr(e){var t=Object(rt.useRef)(null);return null===t.current&&(t.current=e()),t.current}function Jr(e,t,r){return"string"===typeof e?e:I.transform(t+r*e)}var en=function(e,t){return I.transform(e*t)},tn={offset:"stroke-dashoffset",array:"stroke-dasharray"},rn={offset:"strokeDashoffset",array:"strokeDasharray"};var nn={x:0,y:0,width:0,height:0};function an(e,t,r,i,a,o,s,l,u,c,d,f,p,h,g){var m=e.attrX,v=e.attrY,y=e.originX,b=e.originY,k=e.pathLength,E=e.pathSpacing,_=void 0===E?1:E,S=e.pathOffset,T=void 0===S?0:S;return br(Object(n.d)(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),i,r,a,o,s,l,d,f,p,h,g),i.transform&&(t.transform=i.transform,delete i.transform),(void 0!==y||void 0!==b||t.transform)&&(t.transformOrigin=function(e,t,r){return Jr(t,e.x,e.width)+" "+Jr(r,e.y,e.height)}(u||nn,void 0!==y?y:.5,void 0!==b?b:.5)),void 0!==m&&(i.x=m),void 0!==v&&(i.y=v),void 0!==c&&void 0!==k&&function(e,t,r,n,i,a){void 0===n&&(n=1),void 0===i&&(i=0),void 0===a&&(a=!0);var o=a?tn:rn;e[o.offset]=en(-i,t);var s=en(r,t),l=en(n,t);e[o.array]=s+" "+l}(i,c,k,_,T,!1),i}var on=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox"]),sn=/([a-z])([A-Z])/g,ln=function(e){return e.replace(sn,"$1-$2").toLowerCase()},un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attrs={},t.defaultConfig={enableHardwareAcceleration:!1},t.config=t.defaultConfig,t}return Object(n.b)(t,e),t.prototype.mount=function(t){e.prototype.mount.call(this,t),this.measure()},t.prototype.measure=function(){try{this.dimensions="function"===typeof this.element.getBBox?this.element.getBBox():this.element.getBoundingClientRect()}catch(e){this.dimensions={x:0,y:0,width:0,height:0}}"path"===this.element.tagName&&(this.totalPathLength=this.element.getTotalLength())},t.prototype.clean=function(){e.prototype.clean.call(this),this.attrs={}},t.prototype.read=function(e){return e=on.has(e)?e:ln(e),this.element.getAttribute(e)},t.prototype.build=function(){this.updateTransformDeltas(),an(this.latest,this.style,this.vars,this.attrs,this.transform,this.transformOrigin,this.transformKeys,this.config,this.dimensions,this.totalPathLength,this.isLayoutProjectionEnabled&&!!this.box,this.delta,this.deltaFinal,this.treeScale,this.targetBoxFinal)},t.prototype.render=function(){for(var t in e.prototype.render.call(this),this.attrs)this.element.setAttribute(on.has(t)?t:ln(t),this.attrs[t])},t}(Xr);var cn=new Set(["animate","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use","view"]);function dn(e){return"string"===typeof e&&cn.has(e)}var fn=Object(rt.createContext)(null),pn=Object(rt.createContext)({variantContext:{}});function hn(){return Object(rt.useContext)(pn).variantContext}function gn(){return Object(rt.useContext)(pn).visualElement}var mn=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","onLayoutAnimationComplete","onViewportBoxUpdate","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileHover","whileTap","onHoverEnd","onHoverStart"]);function vn(e){return mn.has(e)}var yn=function(e){return!vn(e)};try{var bn=r(217).default;yn=function(e){return e.startsWith("on")?!vn(e):bn(e)}}catch(ka){}var kn=function(e){return e instanceof ot};function En(e,t){var r=t.layout,n=t.layoutId;return or(e)||lr(e)||(r||void 0!==n)&&!!yr[e]}function _n(e,t,r,n,i){for(var a in void 0===n&&(n=!1),n&&(e.reactStyle={}),r){var o=r[a],s=!1;if(kn(o))wn.has(a)||(e.addValue(a,o),s=!0);else if(En(a,i)){if(e.hasValue(a)){if(o!==t[a]){if(kn(t[a]))e.addValue(a,st(o));else e.getValue(a).set(o)}}else e.addValue(a,st(o));s=!0}else n&&(e.reactStyle[a]=o);s&&(t[a]=o)}}var Sn,Tn,wn=new Set([]),xn=function(){return{}},On=Object(rt.createContext)({transformPagePoint:function(e){return e},features:[],isStatic:!1});function Pn(e){var t=e.animate,r=e.variants,n=e.inherit;return void 0===n?!!r&&!t:n}!function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"}(Sn||(Sn={})),function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(Tn||(Tn={}));var Cn={measureLayout:function(e){return e.measureLayout()},layoutReady:function(e){return e.layoutReady()}},An=function(e,t){return e.depth-t.depth};function Mn(){var e=new Set;return{add:function(t){return e.add(t)},flush:function(t){var r=void 0===t?Cn:t,n=r.measureLayout,i=r.layoutReady,a=Array.from(e).sort(An);a.forEach((function(e){return e.resetTransform()})),a.forEach(n),a.forEach(i),a.forEach((function(e){e.isPresent&&(e.presence=Sn.Present)})),e.clear()}}}function In(e){return!!e.forceUpdate}var Rn=Object(rt.createContext)(Mn()),Dn="undefined"!==typeof window?rt.useLayoutEffect:rt.useEffect;function Ln(){var e=Object(rt.useContext)(fn);if(null===e)return[!0,null];var t=e.isPresent,r=e.onExitComplete,n=e.register,i=Bn();Object(rt.useEffect)((function(){return n(i)}),[]);return!t&&r?[!1,function(){return null===r||void 0===r?void 0:r(i)}]:[!0]}function jn(e){return null===e||e.isPresent}var Nn=0,Un=function(){return Nn++},Bn=function(){return Qr(Un)};function Fn(e,t){void 0===t&&(t=!1);var r=Object(rt.useRef)(!0);(!t||t&&r.current)&&e(),r.current=!1}function zn(e){return"string"===typeof e||Array.isArray(e)}function Vn(e){return"object"===typeof e&&"function"===typeof e.start}function Wn(e,t){var r=t.defaultFeatures,i=t.useVisualElement,a=t.render;return Object(rt.forwardRef)((function(t,o){var s=Object(rt.useContext)(On).isStatic,l=i(e,t,s,o);!function(e,t){var r=Qr(xn);for(var n in r){var i=En(n,t),a=void 0!==t[n],o=t.style&&void 0!==t.style[n],s=a&&kn(t[n]),l=o&&kn(t.style[n]);(i&&!a&&!o||!i&&!s&&!l)&&(e.removeValue(n),delete r[n])}_n(e,r,t,!1,t),t.style&&_n(e,r,t.style,!0,t),t.transformValues&&(e.reactStyle=t.transformValues(e.reactStyle))}(l,t);var u=function(e,t,r){var n,i,a=t.variants,o=t.initial,s=t.animate,l=t.whileTap,u=t.whileHover,c=hn(),d=c.parent,f=c.initial,p=c.animate,h=Object(rt.useContext)(fn),g=zn(s)||zn(l)||zn(u)||Vn(s),m=a||g;!1!==(o=null!==(n=null===h||void 0===h?void 0:h.initial)&&void 0!==n?n:o)||Vn(s)||(o=s);var v=Object(rt.useMemo)((function(){return{parent:m?e:d,initial:zn(o)?o:f,animate:zn(s)?s:p}}),[r?o:null]);return Fn((function(){var t=o||f;t&&Ut(e,t)}),!r),m&&!g&&(null===d||void 0===d||d.addVariantChild(e)),jn(h)&&(null===(i=e.variantChildrenOrder)||void 0===i||i.clear()),Object(rt.useEffect)((function(){m&&(null===d||void 0===d||d.addVariantChildOrder(e))})),Object(rt.useEffect)((function(){return e.isMounted=!0,function(){var t;e.isMounted=!1,null===(t=null===d||void 0===d?void 0:d.variantChildren)||void 0===t||t.delete(e)}}),[]),Fn((function(){e.forEachValue((function(t,r){e.baseTarget[r]=t.get()}))}),!0),v}(l,t,s),c=function(e,t,r,i){var a=Object(rt.useContext)(On);if(t||"undefined"===typeof window)return null;for(var o=Object(n.e)(e,a.features),s=o.length,l=[],u=0;u<s;u++){var c=o[u],d=c.shouldRender,f=c.key,p=c.getComponent;if(d(i)){var h=p(i);h&&l.push(Object(rt.createElement)(h,Object(n.a)({key:f},i,{visualElement:r,inherit:Pn(i)})))}}return l}(r,s,l,t),d=Object(rt.useMemo)((function(){return{visualElement:l,variantContext:u}}),[l,u]),f=a(e,t,l);return function(e){var t=Object(rt.useContext)(Rn);Dn((function(){return function(){In(t)&&t.remove(e)}}),[])}(l),Object(rt.createElement)(rt.Fragment,null,Object(rt.createElement)(pn.Provider,{value:d},f),c)}))}function $n(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Hn=$n("dragHorizontal"),Kn=$n("dragVertical");function Gn(e){var t=!1;if("y"===e)t=Kn();else if("x"===e)t=Hn();else{var r=Hn(),n=Kn();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function Zn(e,t,r,n){return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r,n)}}function qn(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Xn(e){return!!e.touches}var Yn={pageX:0,pageY:0};function Qn(e,t){void 0===t&&(t="page");var r=e.touches[0]||e.changedTouches[0]||Yn;return{x:r[t+"X"],y:r[t+"Y"]}}function Jn(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function ei(e,t){return void 0===t&&(t="page"),{point:Xn(e)?Qn(e,t):Jn(e,t)}}function ti(e){return ei(e,"client")}var ri=function(e,t){void 0===t&&(t=!1);var r,n=function(t){return e(t,ei(t))};return t?(r=n,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&r(e)}):n},ni="undefined"!==typeof window,ii={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ai={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function oi(e){return ni&&null===window.onpointerdown?e:ni&&null===window.ontouchstart?ai[e]:ni&&null===window.onmousedown?ii[e]:e}function si(e,t,r,n){return Zn(e,oi(t),ri(r,"pointerdown"===t),n)}function li(e,t,r,n){return function(e,t,r,n){Object(rt.useEffect)((function(){var i=e.current;if(r&&i)return Zn(i,t,r,n)}),[e,t,r,n])}(e,oi(t),r&&ri(r,"pointerdown"===t),n)}var ui=function(){function e(e,t,r){var i=this,a=(void 0===r?{}:r).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var e=fi(i.lastMoveEventInfo,i.history),t=null!==i.startEvent,r=qe(e.offset,{x:0,y:0})>=3;if(t||r){var a=e.point,o=b().timestamp;i.history.push(Object(n.a)(Object(n.a)({},a),{timestamp:o}));var s=i.handlers,l=s.onStart,u=s.onMove;t||(l&&l(i.lastMoveEvent,e),i.startEvent=i.lastMoveEvent),u&&u(i.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){i.lastMoveEvent=e,i.lastMoveEventInfo=ci(t,i.transformPagePoint),qn(e)&&0===e.buttons?i.handlePointerUp(e,t):k.update(i.updatePoint,!0)},this.handlePointerUp=function(e,t){i.end();var r=i.handlers.onEnd;if(r){var n=fi(ci(t,i.transformPagePoint),i.history);r&&r(e,n)}},!(Xn(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=a;var o=ci(ei(e),this.transformPagePoint),s=o.point,l=b().timestamp;this.history=[Object(n.a)(Object(n.a)({},s),{timestamp:l})];var u=t.onSessionStart;u&&u(e,fi(o,this.history)),this.removeListeners=de(si(window,"pointermove",this.handlePointerMove),si(window,"pointerup",this.handlePointerUp),si(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),g.update(this.updatePoint)},e}();function ci(e,t){return t?{point:t(e.point)}:e}function di(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fi(e,t){var r=e.point;return{point:r,delta:di(r,hi(t)),offset:di(r,pi(t)),velocity:gi(t,.1)}}function pi(e){return e[0]}function hi(e){return e[e.length-1]}function gi(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,i=hi(e);r>=0&&(n=e[r],!(i.timestamp-n.timestamp>lt(t)));)r--;if(!n)return{x:0,y:0};var a=(i.timestamp-n.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mi(e,t,r){var n=t.min,i=t.max;return void 0!==n&&e<n?e=r?ne(n,e,r):Math.max(e,n):void 0!==i&&e>i&&(e=r?ne(i,e,r):Math.min(e,i)),e}function vi(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function yi(e,t){var r,i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&(i=(r=Object(n.c)([a,i],2))[0],a=r[1]),{min:e.min+i,max:e.min+a}}var bi,ki=new WeakMap,Ei=function(){function e(e){var t=e.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=t,this.visualElement.enableLayoutProjection(),ki.set(t,this)}return e.prototype.start=function(e,t){var r=this,n=void 0===t?{}:t,i=n.snapToCursor,a=void 0!==i&&i,o=n.cursorProgress;a&&this.snapToCursor(e);var s=this.props.transformPagePoint;this.panSession=new ui(e,{onSessionStart:function(){r.stopMotion()},onStart:function(e,t){var n,i,a=r.props,s=a.drag,l=a.dragPropagation;if(!s||l||(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=Gn(s),r.openGlobalLock)){r.prepareBoundingBox(),r.visualElement.lockTargetBox(),r.resolveDragConstraints();var u=ti(e).point;Lr((function(e){var t=r.visualElement.targetBox[e],n=t.min,i=t.max;r.cursorProgress[e]=o?o[e]:re(n,i,u[e]);var a=r.getAxisMotionValue(e);a&&(r.originPoint[e]=a.get())})),r.isDragging=!0,r.currentDirection=null,null===(i=(n=r.props).onDragStart)||void 0===i||i.call(n,e,t)}},onMove:function(e,t){var n,i,a,o,s=r.props,l=s.dragPropagation,u=s.dragDirectionLock;if(l||r.openGlobalLock){var c=t.offset;if(u&&null===r.currentDirection)return r.currentDirection=function(e,t){void 0===t&&(t=10);var r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(c),void(null!==r.currentDirection&&(null===(i=(n=r.props).onDirectionLock)||void 0===i||i.call(n,r.currentDirection)));r.updateAxis("x",e,c),r.updateAxis("y",e,c),null===(o=(a=r.props).onDrag)||void 0===o||o.call(a,e,t),bi=e}},onEnd:function(e,t){return r.stop(e,t)}},{transformPagePoint:s})},e.prototype.prepareBoundingBox=function(){var e=this.visualElement.getInstance(),t=e.style.transform;this.visualElement.resetTransform(),this.visualElement.measureLayout(),e.style.transform=t,this.visualElement.rebaseTargetBox(!0,this.visualElement.getBoundingBoxWithoutTransforms())},e.prototype.resolveDragConstraints=function(){var e=this,t=this.props.dragConstraints;this.constraints=!!t&&(it(t)?this.resolveRefConstraints(this.visualElement.box,t):function(e,t){var r=t.top,n=t.left,i=t.bottom,a=t.right;return{x:vi(e.x,n,a),y:vi(e.y,r,i)}}(this.visualElement.box,t)),this.constraints&&!this.hasMutatedConstraints&&Lr((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(e.visualElement.box[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(e,t){var r=this.props,n=r.onMeasureDragConstraints,i=r.transformPagePoint,a=t.current;this.constraintsBox=jr(a,i);var o=function(e,t){return{x:yi(e.x,t.x),y:yi(e.y,t.y)}}(e,this.constraintsBox);if(n){var s=n(function(e){var t=e.x,r=e.y;return{top:r.min,bottom:r.max,left:t.min,right:t.max}}(o));this.hasMutatedConstraints=!!s,s&&(o=Yt(s))}return o},e.prototype.cancelDrag=function(){this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null)},e.prototype.stop=function(e,t){var r;this.visualElement.unlockTargetBox(),null===(r=this.panSession)||void 0===r||r.end(),this.panSession=null;var n=this.isDragging;if(this.cancelDrag(),n){var i=this.props,a=i.dragMomentum,o=i.dragElastic,s=i.onDragEnd;if(a||o){var l=t.velocity;this.animateDragEnd(l)}null===s||void 0===s||s(e,t)}},e.prototype.snapToCursor=function(e){var t=this;this.prepareBoundingBox(),Lr((function(r){var n=t.getAxisMotionValue(r);if(n){var i=ti(e).point,a=t.visualElement.box,o=a[r].max-a[r].min,s=a[r].min+o/2,l=i[r]-s;t.originPoint[r]=i[r],n.set(l)}else t.cursorProgress[r]=.5,t.updateVisualElementAxis(r,e)}))},e.prototype.updateAxis=function(e,t,r){if(_i(e,this.props.drag,this.currentDirection))return this.getAxisMotionValue(e)?this.updateAxisMotionValue(e,r):this.updateVisualElementAxis(e,t)},e.prototype.updateAxisMotionValue=function(e,t){var r=this.getAxisMotionValue(e);if(t&&r){var n=this.props.dragElastic,i=this.originPoint[e]+t[e],a=this.constraints?mi(i,this.constraints[e],n):i;r.set(a)}},e.prototype.updateVisualElementAxis=function(e,t){var r,n=this.props.dragElastic,i=this.visualElement.box[e],a=i.max-i.min,o=this.cursorProgress[e],s=function(e,t,r,n,i){var a=e-t*r;return n?mi(a,n,i):a}(ti(t).point[e],a,o,null===(r=this.constraints)||void 0===r?void 0:r[e],n);this.visualElement.setAxisTarget(e,s,s+a)},e.prototype.updateProps=function(e){var t=e.drag,r=void 0!==t&&t,i=e.dragDirectionLock,a=void 0!==i&&i,o=e.dragPropagation,s=void 0!==o&&o,l=e.dragConstraints,u=void 0!==l&&l,c=e.dragElastic,d=void 0===c?.35:c,f=e.dragMomentum,p=void 0===f||f,h=Object(n.d)(e,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=Object(n.a)({drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:u,dragElastic:d,dragMomentum:p},h)},e.prototype.getAxisMotionValue=function(e){var t=this.props,r=t.layout,n=t.layoutId,i="_drag"+e.toUpperCase();return this.props[i]?this.props[i]:r||void 0!==n?void 0:this.visualElement.getValue(e,0)},e.prototype.animateDragEnd=function(e){var t=this,r=this.props,i=r.drag,a=r.dragMomentum,o=r.dragElastic,s=r.dragTransition,l=Lr((function(r){if(_i(r,i,t.currentDirection)){var l=t.constraints?t.constraints[r]:{},u=o?200:1e6,c=o?40:1e7,d=Object(n.a)(Object(n.a)({type:"inertia",velocity:a?e[r]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10},s),l);return t.getAxisMotionValue(r)?t.startAxisValueAnimation(r,d):t.visualElement.startLayoutAxisAnimation(r,d)}}));return Promise.all(l).then((function(){var e,r;null===(r=(e=t.props).onDragTransitionEnd)||void 0===r||r.call(e)}))},e.prototype.stopMotion=function(){var e=this;Lr((function(t){var r=e.getAxisMotionValue(t);r?r.stop():e.visualElement.stopLayoutAnimation()}))},e.prototype.startAxisValueAnimation=function(e,t){var r=this.getAxisMotionValue(e);if(r){var n=r.get();return r.set(n),r.set(n),Et(e,r,0,t)}},e.prototype.scalePoint=function(){var e=this,t=this.props,r=t.drag,n=t.dragConstraints;if(it(n)&&this.constraintsBox){this.stopMotion();var i={x:0,y:0};Lr((function(t){i[t]=Ir(e.visualElement.targetBox[t],e.constraintsBox[t])})),this.prepareBoundingBox(),this.resolveDragConstraints(),Lr((function(t){if(_i(t,r,null)){var n=function(e,t,r){var n=e.max-e.min,i=ne(t.min,t.max-n,r);return{min:i,max:i+n}}(e.visualElement.targetBox[t],e.constraintsBox[t],i[t]),a=n.min,o=n.max;e.visualElement.setAxisTarget(t,a,o)}}))}},e.prototype.mount=function(e){var t=this,r=si(e.getInstance(),"pointerdown",(function(e){var r=t.props,n=r.drag,i=r.dragListener;n&&(void 0===i||i)&&t.start(e)})),n=Zn(window,"resize",(function(){t.scalePoint()})),i=e.onLayoutUpdate((function(){t.isDragging&&t.resolveDragConstraints()})),a=e.prevSnapshot;return(null===a||void 0===a?void 0:a.isDragging)&&this.start(bi,{cursorProgress:a.cursorProgress}),function(){null===r||void 0===r||r(),null===n||void 0===n||n(),null===i||void 0===i||i(),t.cancelDrag()}},e}();function _i(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}var Si=function(e){return function(t){return e(t),null}},Ti=Si((function(e){var t=e.visualElement;return function(e,t){var r=e.dragControls,i=Object(rt.useContext)(On).transformPagePoint,a=Qr((function(){return new Ei({visualElement:t})}));a.updateProps(Object(n.a)(Object(n.a)({},e),{transformPagePoint:i})),Object(rt.useEffect)((function(){return r&&r.subscribe(a)}),[a]),Object(rt.useEffect)((function(){return a.mount(t)}),[])}(Object(n.d)(e,["visualElement"]),t)})),wi={key:"drag",shouldRender:function(e){return!!e.drag||!!e.dragControls},getComponent:function(){return Ti}};function xi(e){return Object(rt.useEffect)((function(){return function(){return e()}}),[])}var Oi=["whileHover","whileTap","whileDrag"],Pi=function(e){return Oi.indexOf(e)+1},Ci=Pi("whileTap");var Ai=Pi("whileHover"),Mi=function(e){return function(t,r){qn(t)&&e(t,r)}};function Ii(e,t){!function(e,t){var r=e.onPan,n=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=r||n||i||a,s=Object(rt.useRef)(null),l=Object(rt.useContext)(On).transformPagePoint,u={onSessionStart:a,onStart:n,onMove:r,onEnd:function(e,t){s.current=null,i&&i(e,t)}};Object(rt.useEffect)((function(){null!==s.current&&s.current.updateHandlers(u)})),li(t,"pointerdown",o&&function(e){s.current=new ui(e,u,{transformPagePoint:l})}),xi((function(){return s.current&&s.current.end()}))}(e,t),function(e,t){var r=e.onTap,n=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=r||n||i||a,s=Object(rt.useRef)(!1),l=Object(rt.useRef)(null);function u(){var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}a&&Ht(t,a,Ci);var c=Object(rt.useRef)(null);c.current=function(e,n){var o=t.getInstance();if(u(),s.current&&o){s.current=!1,a&&Gt(t,Ci);var l=Gn(!0);l&&(l(),!function e(t,r){return!!r&&(t===r||e(t,r.parentElement))}(o,e.target)?null===i||void 0===i||i(e,n):null===r||void 0===r||r(e,n))}},li(t,"pointerdown",o?function(e,r){u(),l.current=de(si(window,"pointerup",(function(e,t){var r;return null===(r=c.current)||void 0===r?void 0:r.call(c,e,t)})),si(window,"pointercancel",(function(e,t){var r;return null===(r=c.current)||void 0===r?void 0:r.call(c,e,t)}))),t.getInstance()&&!s.current&&(s.current=!0,null===n||void 0===n||n(e,r),a&&Kt(t,Ci))}:void 0),xi(u)}(e,t),function(e,t){var r=e.whileHover,n=e.onHoverStart,i=e.onHoverEnd;r&&Ht(t,r,Ai),li(t,"pointerenter",Mi((function(e,i){null===n||void 0===n||n(e,i),r&&Kt(t,Ai)}))),li(t,"pointerleave",Mi((function(e,n){null===i||void 0===i||i(e,n),r&&Gt(t,Ai)})))}(e,t)}var Ri=["onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileTap","whileHover","onHoverStart","onHoverEnd"],Di=Si((function(e){var t=e.visualElement;Ii(Object(n.d)(e,["visualElement"]),t)})),Li={key:"gestures",shouldRender:function(e){return Ri.some((function(t){return e.hasOwnProperty(t)}))},getComponent:function(){return Di}},ji=function(){function e(){this.hasMounted=!1,this.pendingAnimations=[],this.subscribers=new Set}return e.prototype.subscribe=function(e){var t=this;return this.subscribers.add(e),function(){return t.subscribers.delete(e)}},e.prototype.start=function(e,t){var r=this;if(this.hasMounted){var n=[];return this.subscribers.forEach((function(r){var i=Vt(r,e,{transitionOverride:t});n.push(i)})),Promise.all(n)}return new Promise((function(n){r.pendingAnimations.push({animation:[e,t],resolve:n})}))},e.prototype.set=function(e){return this.hasMounted,this.subscribers.forEach((function(t){Ut(t,e)}))},e.prototype.stop=function(){this.subscribers.forEach((function(e){!function(e){e.forEachValue((function(e){return e.stop()}))}(e)}))},e.prototype.mount=function(){var e=this;this.hasMounted=!0,this.pendingAnimations.forEach((function(t){var r=t.animation,i=t.resolve;e.start.apply(e,Object(n.e)(r)).then(i)}))},e.prototype.unmount=function(){this.hasMounted=!1,this.stop()},e}(),Ni=Si((function(e){var t=e.animate,r=e.exit,i=e.visualElement,a=Object(n.c)(Ln(),2),o=a[0],s=a[1],l=Object(rt.useContext)(fn),u=Object(rt.useRef)(!1),c=void 0!==(null===l||void 0===l?void 0:l.custom)?l.custom:e.custom;Object(rt.useEffect)((function(){o?!u.current||!t||"boolean"===typeof t||t instanceof ji||Vt(i,t):(!u.current&&r&&Vt(i,r,{custom:c}).then(s),u.current=!0),o&&(u.current=!1)}),[t,c,r,o,s,e])})),Ui={key:"exit",shouldRender:function(e){return!!e.exit&&!Pn(e)},getComponent:function(){return Ni}};function Bi(e,t){void 0===t&&(t=!1);e.transition;var r=e.transitionEnd,i=Object(n.d)(e,["transition","transitionEnd"]);return t?Object(n.a)(Object(n.a)({},i),r):i}var Fi=function(e){var t,r=e instanceof ot?e.get():e;return Array.from(new Set((t=r)?Array.isArray(t)?t:[t]:[]))};var zi={shouldRender:function(e){return void 0!==e.animate&&!Rt(e.animate)&&!Vn(e.animate)},Component:Si((function(e){var t=e.animate;return function(e,t,r){var i=Object(rt.useRef)(!0),a=Object(rt.useRef)(null);a.current||(a.current=Bi(t,!0)),Object(rt.useEffect)((function(){var o,s,l={},u=Bi(t),c=Bi(t,!0);for(var d in u){var f=i.current&&(!e.hasValue(d)||e.getValue(d).get()!==c[d]),p=null!==c[d],h=(o=a.current[d],void 0!==(s=c[d])&&(Array.isArray(o)&&Array.isArray(s)?!function(e,t){if(null===t)return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}(s,o):o!==s));p&&(h||f)&&(l[d]=u[d])}i.current=!1,a.current=Object(n.a)(Object(n.a)({},a.current),c),Object.keys(l).length&&Vt(e,Object(n.a)(Object(n.a)({},l),{transition:t.transition||r,transitionEnd:t.transitionEnd}))}),[t])}(e.visualElement,t,e.transition)}))},Vi={shouldRender:function(e){return e.variants&&!Vn(e.animate)||Rt(e.animate)},Component:Si((function(e){var t=e.animate,r=e.inherit,n=void 0===r||r;return function(e,t,r,n){var i,a=Fi(r),o=hn(),s=null===(i=o.parent)||void 0===i?void 0:i.isMounted,l=Object(rt.useRef)(!1);Object(rt.useEffect)((function(){var r,i,u=!1;n?(u=!!s,a=Fi(o.animate)):u=l.current||(r=Fi(t),i=a,r.join(",")!==i.join(",")),u&&Vt(e,a),l.current=!0}),[a.join(",")])}(e.visualElement,e.initial,t,n)}))},Wi={shouldRender:function(e){return Vn(e.animate)},Component:Si((function(e){var t=e.animate;return function(e,t){var r=Object(rt.useMemo)((function(){return t.subscribe(e)}),[t]);xi((function(){return null===r||void 0===r?void 0:r()}))}(e.visualElement,t)}))},$i={key:"animation",shouldRender:function(){return!0},getComponent:function(e){return zi.shouldRender(e)?zi.Component:Vi.shouldRender(e)?Vi.Component:Wi.shouldRender(e)?Wi.Component:void 0}};var Hi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameTarget={x:{min:0,max:0},y:{min:0,max:0}},t.stopAxisAnimation={x:void 0,y:void 0},t.animate=function(e,r,i){void 0===i&&(i={});var a=i.originBox,o=i.targetBox,s=i.visibilityAction,l=i.shouldStackAnimate,u=Object(n.d)(i,["originBox","targetBox","visibilityAction","shouldStackAnimate"]),c=t.props,d=c.visualElement,f=c.layout;if(!1===l)return t.safeToRemove();var p=Gi(r=a||r,e=o||e),h=Lr((function(n){if("position"===f){var i=e[n].max-e[n].min;r[n].max=r[n].min+i}if(!d.isTargetBoxLocked)return void 0===s?p?t.animateAxis(n,e[n],r[n],u):d.setAxisTarget(n,e[n].min,e[n].max):void(s===Tn.Hide?d.hide():d.show())}));return d.render(),Promise.all(h).then((function(){var e,r;null===(r=(e=t.props).onLayoutAnimationComplete)||void 0===r||r.call(e),d.isPresent?d.presence=Sn.Present:t.safeToRemove()}))},t}return Object(n.b)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.visualElement;t.animateMotionValue=Et,t.enableLayoutProjection(),this.unsubLayoutReady=t.onLayoutUpdate(this.animate),t.updateConfig(Object(n.a)(Object(n.a)({},t.config),{safeToRemove:function(){return e.safeToRemove()}}))},t.prototype.componentWillUnmount=function(){var e=this;this.unsubLayoutReady(),Lr((function(t){var r,n;return null===(n=(r=e.stopAxisAnimation)[t])||void 0===n?void 0:n.call(r)}))},t.prototype.animateAxis=function(e,t,r,n){var i,a,o=void 0===n?{}:n,s=o.transition,l=o.crossfadeOpacity;null===(a=(i=this.stopAxisAnimation)[e])||void 0===a||a.call(i);var u,c=this.props.visualElement,d=this.frameTarget[e],f=c.axisProgress[e];f.clearListeners(),f.set(0),f.set(0),l&&(u=this.createCrossfadeAnimation(l),c.show());var p=function(){var n=f.get()/1e3;!function(e,t,r,n){e.min=ne(t.min,r.min,n),e.max=ne(t.max,r.max,n)}(d,r,t,n),c.setAxisTarget(e,d.min,d.max),null===u||void 0===u||u(n)};p(),c.updateLayoutDelta();var h=f.onChange(p),g=Et("x"===e?"layoutX":"layoutY",f,1e3,s||this.props.transition||qi).then(h);return this.stopAxisAnimation[e]=function(){f.stop(),h()},g},t.prototype.createCrossfadeAnimation=function(e){var t=this.props.visualElement.getValue("opacity",0);return function(r){t.set(Yi(ne(0,1,r))),e.set(Qi(ne(1,0,r)))}},t.prototype.safeToRemove=function(){var e,t;null===(t=(e=this.props).safeToRemove)||void 0===t||t.call(e)},t.prototype.render=function(){return null},t}(rt.Component);function Ki(e){var t=Object(n.c)(Ln(),2)[1];return Object(rt.createElement)(Hi,Object(n.a)({},e,{safeToRemove:t}))}function Gi(e,t){return Zi(e.x,t.x)||Zi(e.y,t.y)}function Zi(e,t){return e.min!==t.min||e.max!==t.max}var qi={duration:.45,ease:[.4,0,.1,1]};function Xi(e,t,r){return function(n){return n<e?0:n>t?1:r(re(e,t,n))}}var Yi=Xi(0,.5,Ce),Qi=Xi(.5,.95,Te),Ji={key:"animate-layout",shouldRender:function(e){return!!e.layout||!!e.layoutId},getComponent:function(){return Ki}},ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.b)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.syncLayout,r=e.visualElement;In(t)&&t.register(r)},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.syncLayout,r=e.visualElement;return In(t)?t.syncUpdate():(r.snapshotBoundingBox(),t.add(r)),null},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.syncLayout,r=e.visualElement;In(t)||t.flush(),r.rebaseTargetBox()},t.prototype.render=function(){return null},t}(nt.a.Component);function ta(e){var t=Object(rt.useContext)(Rn);return nt.a.createElement(ea,Object(n.a)({},e,{syncLayout:t}))}var ra={key:"measure-layout",shouldRender:function(e){return!!e.drag||!!e.layout||!!e.layoutId},getComponent:function(){return ta}},na=[ra,$i,wi,Li,Ui,Ji],ia={useVisualElement:function(e,t,r,i){var a=gn(),o=Qr((function(){return new(dn(e)?un:Xr)(a,i)}));o.updateConfig(Object(n.a)(Object(n.a)(Object(n.a)({},o.config),{enableHardwareAcceleration:!r}),t)),o.layoutId=t.layoutId;var s=Object(rt.useContext)(fn),l=null===s||s.isPresent;o.isPresent=void 0!==t.isPresent?t.isPresent:l;var u=null===s||void 0===s?void 0:s.id;return o.isPresenceRoot=!a||a.presenceId!==u,Object(rt.useEffect)((function(){if(t.onViewportBoxUpdate)return o.onViewportBoxUpdate(t.onViewportBoxUpdate)}),[t.onViewportBoxUpdate]),o},render:function(e,t,r){var i="string"===typeof e?function(e){var t={};for(var r in e)yn(r)&&(t[r]=e[r]);return t}(t):t;r.clean(),r.build();var a=dn(e)?function(e){return Object(n.a)(Object(n.a)({},e.attrs),{style:Object(n.a)({},e.reactStyle)})}(r):function(e,t){var r=t.drag,i={style:Object(n.a)(Object(n.a)(Object(n.a)({},e.reactStyle),e.style),e.vars)};return r&&(i.draggable=!1,i.style.userSelect="none",i.style.touchAction=!0===r?"none":"pan-"+("x"===r?"y":"x")),i}(r,t);return Object(rt.createElement)(e,Object(n.a)(Object(n.a)(Object(n.a)({},i),{ref:r.ref}),a))}};function aa(e){var t=Object(n.a)(Object(n.a)({},ia),{defaultFeatures:e});var r=new Map;return new Proxy({custom:function(e){return Wn(e,t)}},{get:function(e,n){return"custom"===n?e.custom:(r.has(n)||r.set(n,Wn(n,t)),r.get(n))}})}var oa=aa(na);var sa=0;function la(){var e=sa;return sa++,e}var ua=function(e){var t=e.children,r=e.initial,n=e.isPresent,i=e.onExitComplete,a=e.custom,o=e.presenceAffectsLayout,s=Qr(ca),l=Qr(la),u=Object(rt.useMemo)((function(){return{id:l,initial:r,isPresent:n,custom:a,onExitComplete:function(e){s.set(e,!0);var t=!0;s.forEach((function(e){e||(t=!1)})),t&&(null===i||void 0===i||i())},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}}),o?void 0:[n]);return Object(rt.useMemo)((function(){s.forEach((function(e,t){return s.set(t,!1)}))}),[n]),Object(rt.createElement)(fn.Provider,{value:u},t)};function ca(){return new Map}function da(e){return e.key||""}var fa=function(e){var t=e.children,r=e.custom,i=e.initial,a=void 0===i||i,o=e.onExitComplete,s=e.exitBeforeEnter,l=e.presenceAffectsLayout,u=void 0===l||l,c=function(){var e=Object(rt.useRef)(!1),t=Object(n.c)(Object(rt.useState)(0),2),r=t[0],i=t[1];return xi((function(){return e.current=!0})),Object(rt.useCallback)((function(){!e.current&&i(r+1)}),[r])}(),d=Object(rt.useContext)(Rn);In(d)&&(c=d.forceUpdate);var f=Object(rt.useRef)(!0),p=function(e){var t=[];return rt.Children.forEach(e,(function(e){Object(rt.isValidElement)(e)&&t.push(e)})),t}(t),h=Object(rt.useRef)(p),g=Object(rt.useRef)(new Map).current,m=Object(rt.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var r=da(e);t.set(r,e)}))}(p,g),f.current)return f.current=!1,Object(rt.createElement)(rt.Fragment,null,p.map((function(e){return Object(rt.createElement)(ua,{key:da(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:u},e)})));for(var v=Object(n.e)(p),y=h.current.map(da),b=p.map(da),k=y.length,E=0;E<k;E++){var _=y[E];-1===b.indexOf(_)?m.add(_):m.delete(_)}return s&&m.size&&(v=[]),m.forEach((function(e){if(-1===b.indexOf(e)){var t=g.get(e);if(t){var n=y.indexOf(e);v.splice(n,0,Object(rt.createElement)(ua,{key:da(t),isPresent:!1,onExitComplete:function(){g.delete(e),m.delete(e);var t=h.current.findIndex((function(t){return t.key===e}));h.current.splice(t,1),m.size||(h.current=p,c(),o&&o())},custom:r,presenceAffectsLayout:u},t))}}})),v=v.map((function(e){var t=e.key;return m.has(t)?e:Object(rt.createElement)(ua,{key:da(e),isPresent:!0,presenceAffectsLayout:u},e)})),h.current=v,Object(rt.createElement)(rt.Fragment,null,m.size?v:v.map((function(e){return Object(rt.cloneElement)(e)})))};function pa(e,t){return t&&e!==t.lead?{visibilityAction:Tn.Hide}:t&&e.presence!==Sn.Entering&&e===t.lead&&t.lead!==t.prevLead?{visibilityAction:Tn.Show}:(e.presence===Sn.Entering?r=null===t||void 0===t?void 0:t.getFollowOrigin():e.presence===Sn.Exiting&&(n=null===t||void 0===t?void 0:t.getFollowTarget()),{originBox:r,targetBox:n});var r,n}function ha(e,t){var r,n,i,a={},o=t&&t.lead,s=null===o||void 0===o?void 0:o.presence;return t&&e===o?e.presence===Sn.Entering?a.originBox=t.getFollowOrigin():e.presence===Sn.Exiting&&(a.targetBox=t.getFollowTarget()):t&&e===t.follow&&(a.transition=t.getLeadTransition(),s===Sn.Entering?a.targetBox=t.getLeadTarget():s===Sn.Exiting&&(a.originBox=t.getLeadOrigin())),(null===(r=null===t||void 0===t?void 0:t.follow)||void 0===r?void 0:r.isPresenceRoot)||(null===o||void 0===o?void 0:o.isPresenceRoot)?(t&&e!==o?t&&e===t.follow?o&&s!==Sn.Entering&&s===Sn.Exiting&&(a.crossfadeOpacity=null===(i=null===t||void 0===t?void 0:t.lead)||void 0===i?void 0:i.getValue("opacity",1)):a.visibilityAction=Tn.Hide:e.presence===Sn.Entering&&(a.crossfadeOpacity=null===(n=null===t||void 0===t?void 0:t.follow)||void 0===n?void 0:n.getValue("opacity",0)),a):a}var ga=function(){function e(){this.order=[],this.hasChildren=!1}return e.prototype.add=function(e){var t;if(this.order.push(e),this.snapshot){e.prevSnapshot=this.snapshot,e.prevViewportBox=this.snapshot.boundingBox;var r=this.snapshot.latestMotionValues;for(var n in r)e.hasValue(n)?null===(t=e.getValue(n))||void 0===t||t.set(r[n]):e.addValue(n,st(r[n]))}this.hasChildren=!0},e.prototype.remove=function(e){var t=this.order.findIndex((function(t){return e===t}));-1!==t&&this.order.splice(t,1)},e.prototype.updateLeadAndFollow=function(){this.prevLead=this.lead,this.prevFollow=this.follow;var e=Object(n.c)(function(e,t){for(var r=Object(n.c)(t,2),i=r[0],a=r[1],o=void 0,s=0,l=void 0,u=e.length,c=!1,d=u-1;d>=0;d--){var f=e[d];if(d===u-1&&(c=f.isPresent),c)o=f;else{var p=e[d-1];p&&p.isPresent&&(o=f)}if(o){s=d;break}}if(o||(o=e[0]),l=e[s-1],o)for(d=s-1;d>=0;d--){if((f=e[d]).isPresent){l=f;break}}return o!==i&&!c&&l===a&&e.find((function(e){return e===i}))&&(o=i),[o,l]}(this.order,[this.lead,this.follow]),2),t=e[0],r=e[1];this.lead=t,this.follow=r},e.prototype.updateSnapshot=function(){if(this.lead){var e={boundingBox:this.lead.prevViewportBox,latestMotionValues:{}};this.lead.forEachValue((function(t,r){var n=t.get();or(n)||(e.latestMotionValues[r]=n)}));var t=ki.get(this.lead);t&&t.isDragging&&(e.isDragging=!0,e.cursorProgress=t.cursorProgress),this.snapshot=e}},e.prototype.isLeadPresent=function(){var e;return this.lead&&(null===(e=this.lead)||void 0===e?void 0:e.presence)!==Sn.Exiting},e.prototype.getFollowOrigin=function(){var e;return this.follow?this.follow.prevViewportBox:null===(e=this.snapshot)||void 0===e?void 0:e.boundingBox},e.prototype.getFollowTarget=function(){var e;return null===(e=this.follow)||void 0===e?void 0:e.box},e.prototype.getLeadOrigin=function(){var e;return null===(e=this.lead)||void 0===e?void 0:e.prevViewportBox},e.prototype.getLeadTarget=function(){var e;return null===(e=this.lead)||void 0===e?void 0:e.box},e.prototype.getLeadTransition=function(){var e;return null===(e=this.lead)||void 0===e?void 0:e.config.transition},e}();!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.children=new Set,t.stacks=new Map,t.hasMounted=!1,t.updateScheduled=!1,t.renderScheduled=!1,t.syncContext=Object(n.a)(Object(n.a)({},Mn()),{syncUpdate:function(e){return t.scheduleUpdate(e)},forceUpdate:function(){t.syncContext=Object(n.a)({},t.syncContext),t.scheduleUpdate(!0)},register:function(e){return t.addChild(e)},remove:function(e){return t.removeChild(e)}}),t}Object(n.b)(t,e),t.prototype.componentDidMount=function(){this.hasMounted=!0,this.updateStacks()},t.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},t.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},t.prototype.startLayoutAnimation=function(){var e=this;this.renderScheduled=this.updateScheduled=!1;var t=this.props.type;this.children.forEach((function(e){e.isPresent?e.presence!==Sn.Entering&&(e.presence=e.presence===Sn.Exiting?Sn.Entering:Sn.Present):e.presence=Sn.Exiting})),this.updateStacks();var r="crossfade"===t?ha:pa,n={measureLayout:function(e){return e.measureLayout()},layoutReady:function(t){var n=t.layoutId;t.layoutReady(r(t,e.getStack(n)))}};this.children.forEach((function(t){return e.syncContext.add(t)})),this.syncContext.flush(n),this.stacks.forEach((function(e){return e.snapshot=void 0}))},t.prototype.updateStacks=function(){this.stacks.forEach((function(e){return e.updateLeadAndFollow()}))},t.prototype.scheduleUpdate=function(e){void 0===e&&(e=!1),!e&&this.updateScheduled||(this.updateScheduled=!0,this.children.forEach((function(e){return e.snapshotBoundingBox()})),this.stacks.forEach((function(e){return e.updateSnapshot()})),!e&&this.renderScheduled||(this.renderScheduled=!0,this.forceUpdate()))},t.prototype.addChild=function(e){this.children.add(e),this.addToStack(e),e.presence=this.hasMounted?Sn.Entering:Sn.Present},t.prototype.removeChild=function(e){this.scheduleUpdate(),this.children.delete(e),this.removeFromStack(e)},t.prototype.addToStack=function(e){var t=this.getStack(e.layoutId);null===t||void 0===t||t.add(e)},t.prototype.removeFromStack=function(e){var t=this.getStack(e.layoutId);null===t||void 0===t||t.remove(e)},t.prototype.getStack=function(e){if(void 0!==e)return!this.stacks.has(e)&&this.stacks.set(e,new ga),this.stacks.get(e)},t.prototype.render=function(){return Object(rt.createElement)(Rn.Provider,{value:this.syncContext},this.props.children)}}(rt.Component);function ma(){return{scrollX:st(0),scrollY:st(0),scrollXProgress:st(0),scrollYProgress:st(0)}}ma();var va=st(null);if("undefined"!==typeof window)if(window.matchMedia){var ya=window.matchMedia("(prefers-reduced-motion)"),ba=function(){return va.set(ya.matches)};ya.addListener(ba),ba()}else va.set(!1);!function(){function e(){this.componentControls=new Set}e.prototype.subscribe=function(e){var t=this;return this.componentControls.add(e),function(){return t.componentControls.delete(e)}},e.prototype.start=function(e,t){this.componentControls.forEach((function(r){r.start(e.nativeEvent||e,t)}))},e.prototype.updateConstraints=function(){this.componentControls.forEach((function(e){e.prepareBoundingBox(),e.resolveDragConstraints()}))}}();!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialState={},t}Object(n.b)(t,e),t.prototype.updateLayoutDelta=function(){},t.prototype.build=function(){},t.prototype.clean=function(){},t.prototype.makeTargetAnimatable=function(e){var t=e.transition,r=e.transitionEnd,i=Object(n.d)(e,["transition","transitionEnd"]);return Bt(this,i,zt(i,t||{},this)),Object(n.a)({transition:t,transitionEnd:r},i)},t.prototype.getBoundingBox=function(){return{x:{min:0,max:0},y:{min:0,max:0}}},t.prototype.readNativeValue=function(e){return this.initialState[e]||0},t.prototype.render=function(){this.build()}}(qt)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function i(e){return n.forwardRef(e)}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r(55),i=r(46),a=r(7),o=(r(129),r(0)),s=r(54),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=Object(s.a)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=r(24),d=r(36),f=r(37),p=r(45),h=u,g=function(e){return"theme"!==e},m=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:g},v=function(e,t,r){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},y=function e(t,r){var n,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==r&&(n=r.label,i=r.target);var l=v(t,r,a),u=l||m(s),h=!u("as");return function(){var g=arguments,y=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&y.push("label:"+n+";"),null==g[0]||void 0===g[0].raw)y.push.apply(y,g);else{0,y.push(g[0][0]);for(var b=g.length,k=1;k<b;k++)y.push(g[k],g[0][k])}var E=Object(d.e)((function(e,t,r){var n=h&&e.as||s,a="",c=[],g=e;if(null==e.theme){for(var v in g={},e)g[v]=e[v];g.theme=Object(o.useContext)(d.b)}"string"===typeof e.className?a=Object(f.a)(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var b=Object(p.a)(y.concat(c),t.registered,g);Object(f.b)(t,b,"string"===typeof n);a+=t.key+"-"+b.name,void 0!==i&&(a+=" "+i);var k=h&&void 0===l?m(n):u,E={};for(var _ in e)h&&"as"===_||k(_)&&(E[_]=e[_]);return E.className=a,E.ref=r,Object(o.createElement)(n,E)}));return E.displayName=void 0!==n?n:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=s,E.__emotion_styles=y,E.__emotion_forwardProp=l,Object.defineProperty(E,"toString",{value:function(){return"."+i}}),E.withComponent=function(t,n){return e(t,Object(c.a)({},r,{},n,{shouldForwardProp:v(E,n,!0)})).apply(void 0,y)},E}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));var b=y,k=r(25),E=new Set([].concat(Object(k.a)(n.propNames),["textStyle","layerStyle","apply","isTruncated","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),_=new Set(["htmlWidth","htmlHeight","htmlSize"]),S=function(e){return _.has(e)||!E.has(e)},T=r(39);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var O=n.propNames.reduce((function(e,t){return"object"!==typeof t&&"function"!==typeof t&&(e[t]=t),e}),{});var P=function(e,t){var r=null!=t?t:{},o=r.baseStyle,s=w({},x(r,["baseStyle"]),{shouldForwardProp:S});return b(e,s)(function(e){var t=e.baseStyle;return function(e){var r=e.theme,o=e.layerStyle,s=e.textStyle,l=e.apply,u=e.noOfLines,c=e.isTruncated,d=e.css,f=e.__css,p=e.sx,h=x(e,["theme","layerStyle","textStyle","apply","noOfLines","isTruncated","css","__css","sx"]),g=Object(i.c)(r,"layerStyles."+o,{}),m=Object(i.c)(r,"textStyles."+s,{}),v=Object(i.f)(h,(function(e,t){return t in O})),y={};null!=u?y={overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:u}:c&&(y={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"});var b=Object(i.e)({},f,t,{apply:l},g,m,y,v,p),k=Object(n.css)(b)(e.theme);return Object(i.e)(k,Object(a.d)(d)?d(r):d)}}({baseStyle:o}))};T.a.forEach((function(e){P[e]=P(e)}))},function(e,t,r){"use strict";var n=r(122);r.d(t,"positiveOrNegative",(function(){return n.a}));r(123)},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(70);var i=r(58);function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,l=o(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(l[c]=r[c]);if(n){s=n(r);for(var d=0;d<s.length;d++)a.call(r,s[d])&&(l[s[d]]=r[s[d]])}}return l}},function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return u}));var n=r(7);function i(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Object(n.d)(e)?e.apply(void 0,r):e}function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.some((function(t){return null==t||t(e),null==e?void 0:e.defaultPrevented}))}}function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach((function(t){null==t||t(e)}))}}function s(e){var t;return function(){if(e){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t=e.apply(this,n),e=null}return t}}var l=function(){},u=s((function(e){var t=e.condition,r=e.message;t&&n.a&&console.warn(r)}));s((function(e){var t=e.condition,r=e.message;t&&n.a&&console.error(r)}))},function(e,t,r){var n=r(228),i=r(229),a=r(135),o=r(230);e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]}},function(e,t,r){"use strict";var n=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t]=e[t].concat(r)},this.off=function(t,r){var n;return!!e[t]&&(n=e[t].indexOf(r),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var r,n,i,a;if(r=e[t])if(2===arguments.length)for(i=r.length,n=0;n<i;++n)r[n].call(this,arguments[1]);else{for(a=[],n=arguments.length,n=1;n<arguments.length;++n)a.push(arguments[n]);for(i=r.length,n=0;n<i;++n)r[n].apply(this,a)}},this.dispose=function(){e={}}}};n.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},n.prototype.partialFlush=function(e){this.trigger("partialdone",e)},n.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},n.prototype.reset=function(e){this.trigger("reset",e)},e.exports=n},,,function(e,t,r){"use strict";r.r(t),r.d(t,"__DO_NOT_USE__ActionTypes",(function(){return a})),r.d(t,"applyMiddleware",(function(){return m})),r.d(t,"bindActionCreators",(function(){return d})),r.d(t,"combineReducers",(function(){return u})),r.d(t,"compose",(function(){return g})),r.d(t,"createStore",(function(){return s}));var n=r(109),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var i;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,c=[],d=c,f=!1;function p(){d===c&&(d=c.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function g(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var r=d.indexOf(e);d.splice(r,1),c=null}}}function m(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=l(u,e)}finally{f=!1}for(var t=c=d,r=0;r<t.length;r++){(0,t[r])()}return e}function v(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,m({type:a.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(h())}return r(),{unsubscribe:t(r)}}})[n.a]=function(){return this},e}return m({type:a.INIT}),(i={dispatch:m,subscribe:g,getState:h,replaceReducer:v})[n.a]=y,i}function l(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];0,"function"===typeof e[i]&&(r[i]=e[i])}var o,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof r(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(u){o=u}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var n=!1,i={},a=0;a<s.length;a++){var u=s[a],c=r[u],d=e[u],f=c(d,t);if("undefined"===typeof f){var p=l(u,t);throw new Error(p)}i[u]=f,n=n||f!==d}return(n=n||s.length!==Object.keys(e).length)?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"===typeof e)return c(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var i=e[n];"function"===typeof i&&(r[n]=c(i,t))}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return h({},r,{dispatch:n=g.apply(void 0,a)(r.dispatch)})}}}},function(e,t,r){var n;!function(i){var a=/^\s+/,o=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,d=i.random;function f(e,t){if(t=t||{},(e=e||"")instanceof f)return e;if(!(this instanceof f))return new f(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,s=null,l=null,d=!1,f=!1;"string"==typeof e&&(e=function(e){e=e.replace(a,"").replace(o,"").toLowerCase();var t,r=!1;if(A[e])e=A[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=F.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=F.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=F.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=F.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=F.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=F.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=F.hex8.exec(e))return{r:L(t[1]),g:L(t[2]),b:L(t[3]),a:B(t[4]),format:r?"name":"hex8"};if(t=F.hex6.exec(e))return{r:L(t[1]),g:L(t[2]),b:L(t[3]),format:r?"name":"hex"};if(t=F.hex4.exec(e))return{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=F.hex3.exec(e))return{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(p=e.r,h=e.g,g=e.b,t={r:255*R(p,255),g:255*R(h,255),b:255*R(g,255)},d=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(n=N(e.s),s=N(e.v),t=function(e,t,r){e=6*R(e,360),t=R(t,100),r=R(r,100);var n=i.floor(e),a=e-n,o=r*(1-t),s=r*(1-a*t),l=r*(1-(1-a)*t),u=n%6;return{r:255*[r,s,o,o,l,r][u],g:255*[l,r,r,s,o,o][u],b:255*[o,o,l,r,r,s][u]}}(e.h,n,s),d=!0,f="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(n=N(e.s),l=N(e.l),t=function(e,t,r){var n,i,a;function o(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=R(e,360),t=R(t,100),r=R(r,100),0===t)n=i=a=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*a}}(e.h,n,l),d=!0,f="hsl"),e.hasOwnProperty("a")&&(r=e.a));var p,h,g;return r=I(r),{ok:d,format:e.format||f,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=l(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=r.ok,this._tc_id=s++}function p(e,t,r){e=R(e,255),t=R(t,255),r=R(r,255);var n,i,a=c(e,t,r),o=u(e,t,r),s=(a+o)/2;if(a==o)n=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,l:s}}function h(e,t,r){e=R(e,255),t=R(t,255),r=R(r,255);var n,i,a=c(e,t,r),o=u(e,t,r),s=a,l=a-o;if(i=0===a?0:l/a,a==o)n=0;else{switch(a){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,v:s}}function g(e,t,r,n){var i=[j(l(e).toString(16)),j(l(t).toString(16)),j(l(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,r,n){return[j(U(n)),j(l(e).toString(16)),j(l(t).toString(16)),j(l(r).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var r=f(e).toHsl();return r.s-=t/100,r.s=D(r.s),f(r)}function y(e,t){t=0===t?0:t||10;var r=f(e).toHsl();return r.s+=t/100,r.s=D(r.s),f(r)}function b(e){return f(e).desaturate(100)}function k(e,t){t=0===t?0:t||10;var r=f(e).toHsl();return r.l+=t/100,r.l=D(r.l),f(r)}function E(e,t){t=0===t?0:t||10;var r=f(e).toRgb();return r.r=c(0,u(255,r.r-l(-t/100*255))),r.g=c(0,u(255,r.g-l(-t/100*255))),r.b=c(0,u(255,r.b-l(-t/100*255))),f(r)}function _(e,t){t=0===t?0:t||10;var r=f(e).toHsl();return r.l-=t/100,r.l=D(r.l),f(r)}function S(e,t){var r=f(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,f(r)}function T(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function w(e){var t=f(e).toHsl(),r=t.h;return[f(e),f({h:(r+120)%360,s:t.s,l:t.l}),f({h:(r+240)%360,s:t.s,l:t.l})]}function x(e){var t=f(e).toHsl(),r=t.h;return[f(e),f({h:(r+90)%360,s:t.s,l:t.l}),f({h:(r+180)%360,s:t.s,l:t.l}),f({h:(r+270)%360,s:t.s,l:t.l})]}function O(e){var t=f(e).toHsl(),r=t.h;return[f(e),f({h:(r+72)%360,s:t.s,l:t.l}),f({h:(r+216)%360,s:t.s,l:t.l})]}function P(e,t,r){t=t||6,r=r||30;var n=f(e).toHsl(),i=360/r,a=[f(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(f(n));return a}function C(e,t){t=t||6;for(var r=f(e).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/t;t--;)o.push(f({h:n,s:i,v:a})),a=(a+s)%1;return o}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,i){var a=[j(l(e).toString(16)),j(l(t).toString(16)),j(l(r).toString(16)),j(U(n))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*R(this._r,255))+"%",g:l(100*R(this._g,255))+"%",b:l(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%)":"rgba("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=f(e);r="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:N(e[n]));e=r}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:d(),g:d(),b:d()})},f.mix=function(e,t,r){r=0===r?0:r||50;var n=f(e).toRgb(),i=f(t).toRgb(),a=r/100;return f({r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a})},f.readability=function(e,t){var r=f(e),n=f(t);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},f.isReadable=function(e,t,r){var n,i,a=f.readability(e,t);switch(i=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},f.mostReadable=function(e,t,r){var n,i,a,o,s=null,l=0;i=(r=r||{}).includeFallbackColors,a=r.level,o=r.size;for(var u=0;u<t.length;u++)(n=f.readability(e,t[u]))>l&&(l=n,s=f(t[u]));return f.isReadable(e,s,{level:a,size:o})||!i?s:(r.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],r))};var A=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=f.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(A);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,c(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function D(e){return u(1,c(0,e))}function L(e){return parseInt(e,16)}function j(e){return 1==e.length?"0"+e:""+e}function N(e){return e<=1&&(e=100*e+"%"),e}function U(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return L(e)/255}var F=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function z(e){return!!F.CSS_UNIT.exec(e)}e.exports?e.exports=f:void 0===(n=function(){return f}.call(t,r,t,e))||(e.exports=n)}(Math)},function(e,t,r){"use strict";var n=r(11),i=r(17),a=r(12),o=r(13),s=r(162);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackError=void 0;var u=function(e){a(r,e);var t=o(r);function r(e,a,o){var s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"FATAL",c=arguments.length>4?arguments[4]:void 0;return n(this,r),s=t.call(this,o),l(i(s),"code",void 0),l(i(s),"severity",void 0),l(i(s),"technology",void 0),l(i(s),"sourceError",void 0),s.code=e,s.severity=u,s.technology=a,s.sourceError=c,s}return r}(s(Error));t.PlaybackError=u},function(e,t,r){"use strict";r.d(t,"b",(function(){return se})),r.d(t,"c",(function(){return ue})),r.d(t,"e",(function(){return oe})),r.d(t,"a",(function(){return de})),r.d(t,"d",(function(){return pe}));var n=r(0);var i=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(a){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),a="-ms-",o="-moz-",s="-webkit-",l="comm",u="rule",c="decl",d=Math.abs,f=String.fromCharCode;function p(e){return e.trim()}function h(e,t,r){return e.replace(t,r)}function g(e,t){return 0|e.charCodeAt(t)}function m(e,t,r){return e.slice(t,r)}function v(e){return e.length}function y(e){return e.length}function b(e,t){return t.push(e),e}function k(e,t){return e.map(t).join("")}var E=1,_=1,S=0,T=0,w=0,x="";function O(e,t,r,n,i,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:E,column:_,length:o,return:""}}function P(e,t,r){return O(e,t.root,t.parent,r,t.props,t.children,0)}function C(){return w=T<S?g(x,T++):0,_++,10===w&&(_=1,E++),w}function A(){return g(x,T)}function M(){return T}function I(e,t){return m(x,e,t)}function R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(e){return E=_=1,S=v(x=e),T=0,[]}function L(e){return x="",e}function j(e){return p(I(T-1,function e(t){for(;C();)switch(w){case t:return T;case 34:case 39:return e(34===t||39===t?t:w);case 40:41===t&&e(t);break;case 92:C()}return T}(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(w=A())&&w<33;)C();return R(e)>2||R(w)>3?"":" "}function U(e,t){for(;C()&&e+w!==57&&(e+w!==84||47!==A()););return"/*"+I(t,T-1)+"*"+f(47===e?e:C())}function B(e){for(;!R(A());)C();return I(e,T)}function F(e){return L(function e(t,r,n,i,a,o,s,l,u){var c=0,d=0,p=s,g=0,m=0,y=0,k=1,E=1,_=1,S=0,T="",w=a,x=o,O=i,P=T;for(;E;)switch(y=S,S=C()){case 34:case 39:case 91:case 40:P+=j(S);break;case 9:case 10:case 13:case 32:P+=N(y);break;case 47:switch(A()){case 42:case 47:b(V(U(C(),M()),r,n),u);break;default:P+="/"}break;case 123*k:l[c++]=v(P)*_;case 125*k:case 59:case 0:switch(S){case 0:case 125:E=0;case 59+d:m>0&&b(m>32?W(P+";",i,n,p-1):W(h(P," ","")+";",i,n,p-2),u);break;case 59:P+=";";default:if(b(O=z(P,r,n,c,d,a,l,T,w=[],x=[],p),o),123===S)if(0===d)e(P,r,O,O,w,o,p,l,x);else switch(g){case 100:case 109:case 115:e(t,O,O,i&&b(z(t,O,O,0,0,a,l,T,a,w=[],p),x),a,x,p,l,i?w:x);break;default:e(P,O,O,O,[""],x,p,l,x)}}c=d=m=0,k=_=1,T=P="",p=s;break;case 58:p=1+v(P),m=y;default:switch(P+=f(S),S*k){case 38:_=d>0?1:(P+="\f",-1);break;case 44:l[c++]=(v(P)-1)*_,_=1;break;case 64:45===A()&&(P+=j(C())),g=A(),d=v(T=P+=B(M())),S++;break;case 45:45===y&&2==v(P)&&(k=0)}}return o}("",null,null,null,[""],e=D(e),0,[0],e))}function z(e,t,r,n,i,a,o,s,l,c,f){for(var g=i-1,v=0===i?a:[""],b=y(v),k=0,E=0,_=0;k<n;++k)for(var S=0,T=m(e,g+1,g=d(E=o[k])),w=e;S<b;++S)(w=p(E>0?v[S]+" "+T:h(T,/&\f/g,v[S])))&&(l[_++]=w);return O(e,t,r,0===i?u:s,l,c,f)}function V(e,t,r){return O(e,t,r,l,f(w),m(e,2,-2),0)}function W(e,t,r,n){return O(e,t,r,c,m(e,0,n),m(e,n+1,-1),n)}function $(e,t){switch(function(e,t){return(((t<<2^g(e,0))<<2^g(e,1))<<2^g(e,2))<<2^g(e,3)}(e,t)){case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return s+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return s+e+o+e+a+e+e;case 6828:case 4268:return s+e+a+e+e;case 6165:return s+e+a+"flex-"+e+e;case 5187:return s+e+h(e,/(\w+).+(:[^]+)/,s+"box-$1$2"+a+"flex-$1$2")+e;case 5443:return s+e+a+"flex-item-"+h(e,/flex-|-self/,"")+e;case 4675:return s+e+a+"flex-line-pack"+h(e,/align-content|flex-|-self/,"")+e;case 5548:return s+e+a+h(e,"shrink","negative")+e;case 5292:return s+e+a+h(e,"basis","preferred-size")+e;case 6060:return s+"box-"+h(e,"-grow","")+s+e+a+h(e,"grow","positive")+e;case 4554:return s+h(e,/([^-])(transform)/g,"$1"+s+"$2")+e;case 6187:return h(h(h(e,/(zoom-|grab)/,s+"$1"),/(image-set)/,s+"$1"),e,"")+e;case 5495:case 3959:return h(e,/(image-set\([^]*)/,s+"$1$`$1");case 4968:return h(h(e,/(.+:)(flex-)?(.*)/,s+"box-pack:$3"+a+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+s+e+e;case 4095:case 3583:case 4068:case 2532:return h(e,/(.+)-inline(.+)/,s+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(v(e)-1-t>6)switch(g(e,t+1)){case 109:return h(e,/(.+:)(.+)-([^]+)/,"$1"+s+"$2-$3$1"+o+"$2-$3")+e;case 102:return h(e,/(.+:)(.+)-([^]+)/,"$1"+s+"$2-$3$1"+o+"$3")+e;case 115:return $(h(e,"stretch","fill-available"),t)+e}break;case 4949:if(115!==g(e,t+1))break;case 6444:switch(g(e,v(e)-3-(~function(e,t){return e.indexOf(t)}(e,"!important")&&10))){case 107:case 111:return h(e,e,s+e)+e;case 101:return h(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+s+(45===g(e,14)?"inline-":"")+"box$3$1"+s+"$2$3$1"+a+"$2box$3")+e}break;case 5936:switch(g(e,t+11)){case 114:return s+e+a+h(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return s+e+a+h(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return s+e+a+h(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return s+e+a+e+e}return e}function H(e,t){for(var r="",n=y(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function K(e,t,r,n){switch(e.type){case"@import":case c:return e.return=e.return||e.value;case l:return"";case u:e.value=e.props.join(",")}return v(r=H(e.children,n))?e.return=e.value+"{"+r+"}":""}function G(e){return function(t){t.root||(t=t.return)&&e(t)}}var Z=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}},q=(r(54),function(e,t){return L(function(e,t){var r=-1,n=44;do{switch(R(n)){case 0:38===n&&12===A()&&(t[r]=1),e[r]+=B(T-1);break;case 2:e[r]+=j(n);break;case 4:if(44===n){e[++r]=58===A()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=f(n)}}while(n=C());return e}(D(e),t))}),X=new WeakMap,Y=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)r=r.parent;if((1!==e.props.length||58===t.charCodeAt(0)||X.get(r))&&!n){X.set(e,!0);for(var i=[],a=q(t,i),o=r.props,s=0,l=0;s<a.length;s++)for(var u=0;u<o.length;u++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[u]):o[u]+" "+a[s]}}},Q=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},J=[function(e,t,r,n){if(!e.return)switch(e.type){case c:e.return=$(e.value,e.length);break;case"@keyframes":return H([P(h(e.value,"@","@"+s),e,"")],n);case u:if(e.length)return k(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([P(h(t,/:(read-\w+)/,":-moz-$1"),e,"")],n);case"::placeholder":return H([P(h(t,/:(plac\w+)/,":"+s+"input-$1"),e,""),P(h(t,/:(plac\w+)/,":-moz-$1"),e,""),P(h(t,/:(plac\w+)/,a+"input-$1"),e,"")],n)}return""}))}}],ee=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){document.head.appendChild(e),e.setAttribute("data-s","")}))}var n=e.stylisPlugins||J;var a,o,s={},l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion]"),(function(e){var r=e.getAttribute("data-emotion").split(" ");if(r[0]===t){for(var n=1;n<r.length;n++)s[r[n]]=!0;l.push(e)}}));var u=[Y,Q];var c,d=[K,G((function(e){c.insert(e)}))],f=function(e){var t=y(e);return function(r,n,i,a){for(var o="",s=0;s<t;s++)o+=e[s](r,n,i,a)||"";return o}}(u.concat(n,d));o=function(e,t,r,n){c=r,H(F(e?e+"{"+t.styles+"}":t.styles),f),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new i({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:s,registered:{},insert:o};return p.sheet.hydrate(l),p},te=r(24),re=(r(59),r(37)),ne=r(45),ie=Object.prototype.hasOwnProperty,ae=Object(n.createContext)("undefined"!==typeof HTMLElement?ee({key:"css"}):null),oe=(ae.Provider,function(e){return Object(n.forwardRef)((function(t,r){var i=Object(n.useContext)(ae);return e(t,i,r)}))}),se=Object(n.createContext)({}),le=Z((function(e){return Z((function(t){return function(e,t){return"function"===typeof t?t(e):Object(te.a)({},e,{},t)}(e,t)}))})),ue=function(e){var t=Object(n.useContext)(se);return e.theme!==t&&(t=le(t)(e.theme)),Object(n.createElement)(se.Provider,{value:t},e.children)};var ce="__EMOTION_TYPE_PLEASE_DO_NOT_USE__";oe((function(e,t,r){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[ce],o=[i],s="";"string"===typeof e.className?s=Object(re.a)(t.registered,o,e.className):null!=e.className&&(s=e.className+" ");var l=Object(ne.a)(o,void 0,"function"===typeof i||Array.isArray(i)?Object(n.useContext)(se):void 0);Object(re.b)(t,l,"string"===typeof a);s+=t.key+"-"+l.name;var u={};for(var c in e)ie.call(e,c)&&"css"!==c&&c!==ce&&(u[c]=e[c]);return u.ref=r,u.className=s,Object(n.createElement)(a,u)}));r(129);var de=oe((function(e,t){var r=e.styles,a=Object(ne.a)([r],void 0,"function"===typeof r||Array.isArray(r)?Object(n.useContext)(se):void 0),o=Object(n.useRef)();return Object(n.useLayoutEffect)((function(){var e=t.key+"-global",r=new i({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),n=document.querySelector('style[data-emotion="'+e+" "+a.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==n&&r.hydrate([n]),o.current=r,function(){r.flush()}}),[t]),Object(n.useLayoutEffect)((function(){void 0!==a.next&&Object(re.b)(t,a.next,!0);var e=o.current;if(e.tags.length){var r=e.tags[e.tags.length-1].nextElementSibling;e.before=r,e.flush()}t.insert("",a,e,!1)}),[t,a.name]),null}));function fe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(ne.a)(t)}var pe=function(){var e=fe.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var i=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n=r(46),i=(r(7),["a","b","article","aside","blockquote","button","caption","cite","circle","code","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","img","input","kbd","label","li","mark","nav","ol","p","path","pre","q","rect","s","svg","section","select","strong","small","span","sub","sup","table","tbody","td","textarea","tfoot","th","thead","tr","ul"]);function a(e){return Object(n.h)(e,["styleConfig","size","variant","colorScheme"])}},function(e,t,r){var n;"undefined"!==typeof window&&(n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new o(r,n||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=new Array(a);n<a;n++)o[n]=r[n].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,a),!0;case 6:return c.fn.call(c.context,t,r,n,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,r){!function(t){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,n=/^([^\/?#]*)([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},"./node_modules/webworkify-webpack/index.js":function(e,t,r){function n(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var n=r(r.s=ENTRY_MODULE);return n.default||n}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,n){var a={};a[n]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var l,u=s[1],c=new RegExp("(\\\\n|\\W)"+i(u)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(o);)"dll-reference"!==l[3]&&a[n].push(l[3]);for(c=new RegExp("\\("+i(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(o);)e[l[2]]||(a[n].push(l[1]),e[l[2]]=r(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var d,f=Object.keys(a),p=0;p<f.length;p++)for(var h=0;h<a[f[p]].length;h++)d=a[f[p]][h],isNaN(1*d)||(a[f[p]][h]=1*a[f[p]][h]);return a}function o(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:r.m},s=t.all?{main:Object.keys(i.main)}:function(e,t){for(var r={main:[t]},n={main:[]},i={main:{}};o(r);)for(var s=Object.keys(r),l=0;l<s.length;l++){var u=s[l],c=r[u].pop();if(i[u]=i[u]||{},!i[u][c]&&e[u][c]){i[u][c]=!0,n[u]=n[u]||[],n[u].push(c);for(var d=a(e,e[u][c],u),f=Object.keys(d),p=0;p<f.length;p++)r[f[p]]=r[f[p]]||[],r[f[p]]=r[f[p]].concat(d[f[p]])}}return n}(i,e),l="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(c);return d.objectURL=c,d}},"./src/config.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"hlsDefaultConfig",(function(){return _})),r.d(t,"mergeConfig",(function(){return S})),r.d(t,"enableStreamingMode",(function(){return T}));var n=r("./src/controller/abr-controller.ts"),i=r("./src/controller/audio-stream-controller.ts"),a=r("./src/controller/audio-track-controller.ts"),o=r("./src/controller/subtitle-stream-controller.ts"),s=r("./src/controller/subtitle-track-controller.ts"),l=r("./src/controller/buffer-controller.ts"),u=r("./src/controller/timeline-controller.ts"),c=r("./src/controller/cap-level-controller.ts"),d=r("./src/controller/fps-controller.ts"),f=r("./src/controller/eme-controller.ts"),p=r("./src/utils/xhr-loader.ts"),h=r("./src/utils/fetch-loader.ts"),g=r("./src/utils/cues.ts"),m=r("./src/utils/mediakeys-helper.ts"),v=r("./src/utils/logger.ts");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=k(k({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:p.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:n.default,bufferController:l.default,capLevelController:c.default,fpsController:d.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:m.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:g.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:o.SubtitleStreamController,subtitleTrackController:s.default,timelineController:u.TimelineController,audioStreamController:i.default,audioTrackController:a.default,emeController:f.default});function S(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return y({},e,t)}function T(e){var t=e.loader;t!==h.default&&t!==p.default?(v.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):Object(h.fetchSupported)()&&(e.loader=h.default,e.progressive=!0,e.enableSoftwareAES=!0,v.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/polyfills/number.ts"),i=r("./src/utils/ewma-bandwidth-estimator.ts"),a=r("./src/events.ts"),o=r("./src/utils/buffer-helper.ts"),s=r("./src/errors.ts"),l=r("./src/types/loader.ts"),u=r("./src/utils/logger.ts");function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new i.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,r,d,f=e.prototype;return f.registerListeners=function(){var e=this.hls;e.on(a.Events.FRAG_LOADING,this.onFragLoading,this),e.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var e=this.hls;e.off(a.Events.FRAG_LOADING,this.onFragLoading,this),e.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},f.onFragLoading=function(e,t){var r,n=t.frag;n.type===l.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=n,this.partCurrent=null!=(r=t.part)?r:null,this.timer=self.setInterval(this.onCheck,100)))},f.onLevelLoaded=function(e,t){var r=this.hls.config;t.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},f._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,i=r.autoLevelEnabled,s=r.config,l=r.media;if(e&&l){var c=t?t.stats:e.stats,d=t?t.duration:e.duration;if(c.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!l.paused&&l.playbackRate&&l.readyState){var f=performance.now()-c.loading.start,p=Math.abs(l.playbackRate);if(!(f<=500*d/p)){var h=r.levels,g=r.minAutoLevel,m=h[e.level],v=c.total||Math.max(c.loaded,Math.round(d*m.maxBitrate/8)),y=Math.max(1,c.bwEstimate?c.bwEstimate/8:1e3*c.loaded/f),b=(v-c.loaded)/y,k=l.currentTime,E=(o.BufferHelper.bufferInfo(l,k,s.maxBufferHole).end-k)/p;if(!(E>=2*d/p||b<=E)){var _,S=Number.POSITIVE_INFINITY;for(_=e.level-1;_>g&&!((S=d*h[_].maxBitrate/(6.4*y))<E);_--);if(!(S>=b)){var T=this.bwEstimator.getEstimate();u.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+_+"\n      Current BW estimate: "+(Object(n.isFiniteNumber)(T)?(T/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+S.toFixed(3)+" s\n      Time to underbuffer: "+E.toFixed(3)+" s"),r.nextLoadLevel=_,this.bwEstimator.sample(f,c.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),r.trigger(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:c})}}}}}},f.onFragLoaded=function(e,t){var r=t.frag,i=t.part;if(r.type===l.PlaylistLevelType.MAIN&&Object(n.isFiniteNumber)(r.sn)){var o=i?i.stats:r.stats,s=i?i.duration:r.duration;if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var u=this.hls.levels[r.level],c=(u.loaded?u.loaded.bytes:0)+o.loaded,d=(u.loaded?u.loaded.duration:0)+s;u.loaded={bytes:c,duration:d},u.realBitrate=Math.round(8*c/d)}if(r.bitrateTest){var f={stats:o,frag:r,part:i,id:r.type};this.onFragBuffered(a.Events.FRAG_BUFFERED,f),r.bitrateTest=!1}}},f.onFragBuffered=function(e,t){var r=t.frag,n=t.part,i=n?n.stats:r.stats;if(!i.aborted&&r.type===l.PlaylistLevelType.MAIN&&"initSegment"!==r.sn){var a=i.parsing.end-i.loading.start;this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},f.onError=function(e,t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},f.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},f.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,n=r.maxAutoLevel,i=r.config,a=r.minAutoLevel,s=r.media,l=t?t.duration:e?e.duration:0,c=s?s.currentTime:0,d=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,p=(o.BufferHelper.bufferInfo(s,c,i.maxBufferHole).end-c)/d,h=this.findBestLevel(f,a,n,p,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(h>=0)return h;u.logger.trace((p?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var g=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,v=i.abrBandWidthUpFactor;if(!p){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=v=1)}return h=this.findBestLevel(f,a,n,p+g,m,v),Math.max(h,0)},f.findBestLevel=function(e,t,r,n,i,a){for(var o,s=this.fragCurrent,l=this.partCurrent,c=this.lastLoadedFragLevel,d=this.hls.levels,f=d[c],p=!(null===f||void 0===f||null===(o=f.details)||void 0===o||!o.live),h=null===f||void 0===f?void 0:f.codecSet,g=l?l.duration:s?s.duration:0,m=r;m>=t;m--){var v=d[m];if(v&&(!h||v.codecSet===h)){var y=v.details,b=(l?null===y||void 0===y?void 0:y.partTarget:null===y||void 0===y?void 0:y.averagetargetduration)||g,k=void 0;k=m<=c?i*e:a*e;var E=d[m].maxBitrate,_=E*b/k;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+m+"/"+Math.round(k)+"/"+E+"/"+b+"/"+n+"/"+_),k>E&&(!_||p&&!this.bitrateTestDelay||_<n))return m}}return-1},t=e,(r=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&(!t||!t.canEstimate()))return e;var r=this.getNextABRAutoLevel();return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}}])&&c(t.prototype,r),d&&c(t,d),e}();t.default=d},"./src/controller/audio-stream-controller.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/polyfills/number.ts"),i=r("./src/controller/base-stream-controller.ts"),a=r("./src/events.ts"),o=r("./src/utils/buffer-helper.ts"),s=r("./src/controller/fragment-tracker.ts"),l=r("./src/types/level.ts"),u=r("./src/types/loader.ts"),c=r("./src/loader/fragment.ts"),d=r("./src/demux/chunk-cache.ts"),f=r("./src/demux/transmuxer-interface.ts"),p=r("./src/types/transmuxer.ts"),h=r("./src/controller/fragment-finders.ts"),g=r("./src/utils/discontinuities.ts"),m=r("./src/errors.ts"),v=r("./src/utils/logger.ts");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){var t,r;function k(t,r){var n;return(n=e.call(this,t,r,"[audio-stream-controller]")||this).videoBuffer=null,n.videoTrackCC=-1,n.waitingVideoCC=-1,n.audioSwitch=!1,n.trackId=-1,n.waitingData=null,n.mainDetails=null,n.bufferFlushed=!1,n._registerListeners(),n}r=e,(t=k).prototype=Object.create(r.prototype),t.prototype.constructor=t,b(t,r);var E=k.prototype;return E.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},E._registerListeners=function(){var e=this.hls;e.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(a.Events.ERROR,this.onError,this),e.on(a.Events.BUFFER_RESET,this.onBufferReset,this),e.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},E._unregisterListeners=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(a.Events.ERROR,this.onError,this),e.off(a.Events.BUFFER_RESET,this.onBufferReset,this),e.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},E.onInitPtsFound=function(e,t){var r=t.frag,n=t.id,a=t.initPTS;if("main"===n){var o=r.cc;this.initPTS[r.cc]=a,this.log("InitPTS for cc: "+o+" found from main: "+a),this.videoTrackCC=o,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},E.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=i.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},E.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var t,r=this.levels,n=this.trackId,a=null===r||void 0===r||null===(t=r[n])||void 0===t?void 0:t.details;if(a){if(this.waitForCdnTuneIn(a))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var s,l=performance.now(),u=this.retryDate;(!u||l>=u||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var c=this.waitingData;if(c){var d=c.frag,f=c.part,p=c.cache,g=c.complete;if(void 0!==this.initPTS[d.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var m={frag:d,part:f,payload:p.flush(),networkDetails:null};this._handleFragmentLoadProgress(m),g&&e.prototype._handleFragmentLoadComplete.call(this,m)}else if(this.videoTrackCC!==this.waitingVideoCC)v.logger.log("Waiting fragment cc ("+d.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var y=this.getLoadPosition(),b=o.BufferHelper.bufferInfo(this.mediaBuffer,y,this.config.maxBufferHole);Object(h.fragmentWithinToleranceTest)(b.end,this.config.maxFragLookUpTolerance,d)<0&&(v.logger.log("Waiting fragment cc ("+d.cc+") @ "+d.start+" cancelled because another fragment at "+b.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},E.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},E.onTickEnd=function(){var e=this.media;if(e&&e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length&&(this.loadedmetadata=!0),this.lastCurrentTime=e.currentTime}},E.doTickIdle=function(){var e,t,r=this.hls,n=this.levels,o=this.media,s=this.trackId,l=r.config;if(n&&n[s]&&(o||!this.startFragRequested&&l.startFragPrefetch)){var d=n[s].details;if(!d||d.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(d))this.state=i.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,c.ElementaryStreamTypes.AUDIO,u.PlaylistLevelType.AUDIO));var f=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,u.PlaylistLevelType.AUDIO);if(null!==f){var p=f.len,h=this.getMaxBufferLength(),g=this.audioSwitch;if(!(p>=h)||g){if(!g&&this._streamEnded(f,d))return r.trigger(a.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var m=d.fragments[0].start,v=f.end;if(g){var y=this.getLoadPosition();v=y,d.PTSKnown&&y<m&&(f.end>m||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),o.currentTime=m+.05)}var b=this.getNextFragment(v,d);b?"identity"!==(null===(e=b.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=b.decryptdata)&&void 0!==t&&t.key?this.loadFragment(b,d,v):this.loadKey(b,d):this.bufferFlushed=!0}}}}},E.getMaxBufferLength=function(){var t=e.prototype.getMaxBufferLength.call(this),r=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,u.PlaylistLevelType.MAIN);return null===r?t:Math.max(t,r.len)},E.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},E.onAudioTracksUpdated=function(e,t){var r=t.audioTracks;this.resetTransmuxer(),this.levels=r.map((function(e){return new l.Level(e)}))},E.onAudioTrackSwitching=function(e,t){var r=!!t.url;this.trackId=t.id;var n=this.fragCurrent;null!==n&&void 0!==n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),r?this.setInterval(100):this.resetTransmuxer(),r?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},E.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},E.onLevelLoaded=function(e,t){this.mainDetails=t.details},E.onAudioTrackLoaded=function(e,t){var r,n=this.levels,a=t.details,o=t.id;if(n){this.log("Track "+o+" loaded ["+a.startSN+","+a.endSN+"],duration:"+a.totalduration);var s=n[o],l=0;if(a.live||null!==(r=s.details)&&void 0!==r&&r.live){var u=this.mainDetails;if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed||!u)return;!s.details&&a.hasProgramDateTime&&u.hasProgramDateTime?(Object(g.alignPDT)(a,u),l=a.fragments[0].start):l=this.alignPlaylists(a,s.details)}s.details=a,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&a.live||this.setStartPosition(s.details,l),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(a)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+o)},E._handleFragmentLoadProgress=function(e){var t,r=e.frag,n=e.part,a=e.payload,o=this.config,s=this.trackId,l=this.levels;if(l){var c=l[s];console.assert(c,"Audio track is defined on fragment load progress");var h=c.details;console.assert(h,"Audio track details are defined on fragment load progress");var g=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2",m=this.transmuxer;m||(m=this.transmuxer=new f.default(this.hls,u.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var y=this.initPTS[r.cc],b=null===(t=r.initSegment)||void 0===t?void 0:t.data;if(void 0!==y){var k=n?n.index:-1,E=-1!==k,_=new p.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,a.byteLength,k,E);m.push(a,b,g,"",r,n,h.totalduration,!1,_,y)}else v.logger.log("Unknown video PTS for cc "+r.cc+", waiting for video PTS before demuxing audio frag "+r.sn+" of ["+h.startSN+" ,"+h.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:r,part:n,cache:new d.default,complete:!1}).cache.push(new Uint8Array(a)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},E._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},E.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},E.onBufferCreated=function(e,t){var r=t.tracks.audio;r&&(this.mediaBuffer=r.buffer),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},E.onFragBuffered=function(e,t){var r=t.frag,n=t.part;r.type===u.PlaylistLevelType.AUDIO&&(this.fragContextChanged(r)?this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==r.sn&&(this.fragPrevious=r,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(r,n)))},E.onError=function(t,r){switch(r.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(u.PlaylistLevelType.AUDIO,r);break;case m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case m.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=r.fatal?i.State.ERROR:i.State.IDLE,this.warn(r.details+" while loading frag, switching to "+this.state+" state"));break;case m.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===r.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,a=this.getFwdBufferInfo(this.mediaBuffer,u.PlaylistLevelType.AUDIO);a&&a.len>.5&&(n=!this.reduceMaxBufferLength(a.len)),n&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},E.onBufferFlushed=function(e,t){t.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},E._handleTransmuxComplete=function(e){var t,r="audio",n=this.hls,o=e.remuxResult,s=e.chunkMeta,l=this.getCurrentContext(s);if(!l)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(s.level);var u=l.frag,d=l.part,f=o.audio,p=o.text,h=o.id3,g=o.initSegment;if(!this.fragContextChanged(u)){if(this.state=i.State.PARSING,this.audioSwitch&&f&&this.completeAudioSwitch(),null!==g&&void 0!==g&&g.tracks&&(this._bufferInitSegment(g.tracks,u,s),n.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:u,id:r,tracks:g.tracks})),f){var m=f.startPTS,v=f.endPTS,b=f.startDTS,k=f.endDTS;d&&(d.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:m,endPTS:v,startDTS:b,endDTS:k}),u.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,m,v,b,k),this.bufferFragmentData(f,u,d,s)}if(null!==h&&void 0!==h&&null!==(t=h.samples)&&void 0!==t&&t.length){var E=y({frag:u,id:r},h);n.trigger(a.Events.FRAG_PARSING_METADATA,E)}if(p){var _=y({frag:u,id:r},p);n.trigger(a.Events.FRAG_PARSING_USERDATA,_)}}},E._bufferInitSegment=function(e,t,r){if(this.state===i.State.PARSING){e.video&&delete e.video;var n=e.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:"+n.container+", codecs[parsed]=["+n.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,e);var o=n.initSegment;if(null!==o&&void 0!==o&&o.byteLength){var s={type:"audio",frag:t,part:null,chunkMeta:r,parent:t.type,data:o};this.hls.trigger(a.Events.BUFFER_APPENDING,s)}this.tick()}}},E.loadFragment=function(t,r,a){var o=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||o===s.FragmentState.NOT_LOADED||o===s.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t):r.live&&!Object(n.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,a)))},E.completeAudioSwitch=function(){var t=this.hls,r=this.media,n=this.trackId;r&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:n})},k}(i.default);t.default=k},"./src/controller/audio-track-controller.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/controller/base-playlist-controller.ts"),o=r("./src/types/loader.ts");function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){var t,r;function a(t){var r;return(r=e.call(this,t,"[audio-track-controller]")||this).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.trackName="",r.selectDefaultTrack=!0,r.registerListeners(),r}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r);var u,c,d,f=a.prototype;return f.registerListeners=function(){var e=this.hls;e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(n.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(n.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},f.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},f.onAudioTrackLoaded=function(e,t){var r=t.id,n=t.details,i=this.tracksInGroup[r];if(i){var a=i.details;i.details=t.details,this.log("audioTrack "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&(this.retryCount=0,this.playlistLoaded(r,t,a))}else this.warn("Invalid audio track id "+r)},f.onLevelLoading=function(e,t){this.switchLevel(t.level)},f.onLevelSwitching=function(e,t){this.switchLevel(t.level)},f.switchLevel=function(e){var t=this.hls.levels[e];if(null!==t&&void 0!==t&&t.audioGroupIds){var r=t.audioGroupIds[t.urlId];if(this.groupId!==r){this.groupId=r;var i=this.tracks.filter((function(e){return!r||e.groupId===r}));this.selectDefaultTrack&&!i.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var a={audioTracks:i};this.log("Updating audio tracks, "+i.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(n.Events.AUDIO_TRACKS_UPDATED,a),this.selectInitialTrack()}}},f.onError=function(t,r){e.prototype.onError.call(this,t,r),!r.fatal&&r.context&&r.context.type===o.PlaylistContextType.AUDIO_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},f.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var r=t[this.trackId];this.log("Now switching to audio-track index "+e);var i=t[e],a=i.id,o=i.groupId,s=void 0===o?"":o,l=i.name,u=i.type,c=i.url;if(this.trackId=e,this.trackName=l,this.selectDefaultTrack=!1,this.hls.trigger(n.Events.AUDIO_TRACK_SWITCHING,{id:a,groupId:s,name:l,type:u,url:c}),!i.details||i.details.live){var d=this.switchParams(i.url,null===r||void 0===r?void 0:r.details);this.loadPlaylist(d)}}},f.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,r=this.findTrackId(t)||this.findTrackId();-1!==r?this.setAudioTrack(r):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},f.findTrackId=function(e){for(var t=this.tracksInGroup,r=0;r<t.length;r++){var n=t[r];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},f.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var r=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: "+o)}this.log("loading audio-track playlist for id: "+r),this.clearTimer(),this.hls.trigger(n.Events.AUDIO_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:e||null})}},u=a,(c=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}])&&s(u.prototype,c),d&&s(u,d),a}(a.default);t.default=u},"./src/controller/base-playlist-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r("./src/polyfills/number.ts"),i=r("./src/types/level.ts"),a=r("./src/controller/level-helper.ts"),o=r("./src/utils/logger.ts"),s=r("./src/errors.ts"),l=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,t+":"),this.warn=o.logger.warn.bind(o.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var r=null===t||void 0===t?void 0:t.renditionReports;if(r)for(var a=0;a<r.length;a++){var o=r[a],s=""+o.URI;if(s===e.substr(-s.length)){var l=parseInt(o["LAST-MSN"]),u=parseInt(o["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);void 0!==u&&c>t.partTarget&&(u+=1)}if(Object(n.isFiniteNumber)(l))return new i.HlsUrlParameters(l,Object(n.isFiniteNumber)(u)?u:void 0,i.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,r){var n=this,i=t.details,o=t.stats,s=o.loading.end?Math.max(0,self.performance.now()-o.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!==r&&void 0!==r&&r.live){if(i.reloaded(r),r&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),r&&i.fragments.length>0&&Object(a.mergeDetails)(r,i),!this.canLoad||!i.live)return;var l,u=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,f=i.lastPartSn,p=i.endSN,h=i.lastPartIndex,g=f===p;-1!==h?(u=g?p+1:f,c=g?d?0:h:h+1):u=p+1;var m=i.age,v=m+i.ageHeader,y=Math.min(v-i.partTarget,1.5*i.targetduration);if(y>0){if(r&&y>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+y+" with playlist age: "+i.age),y=0;else{var b=Math.floor(y/i.targetduration);u+=b,void 0!==c&&(c+=Math.round(y%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+c)}i.tuneInGoal=y}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c),d||!g)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c);var k=Object(a.computeReloadInterval)(i,o);void 0!==u&&i.canBlockReload&&(k-=i.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(k)+" ms"),this.timer=self.setTimeout((function(){return n.loadPlaylist(l)}),k)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,r,n){var a=Object(i.getSkipValue)(e,r);return null!==t&&void 0!==t&&t.skip&&e.deltaUpdateFailed&&(r=t.msn,n=t.part,a=i.HlsSkip.No),new i.HlsUrlParameters(r,n,a)},t.retryLoadingOrFail=function(e){var t,r=this,n=this.hls.config,i=this.retryCount<n.levelLoadingMaxRetry;if(i)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var a=Math.min(Math.pow(2,this.retryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return r.loadPlaylist()}),a),this.warn("retry playlist loading #"+this.retryCount+" in "+a+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}()},"./src/controller/base-stream-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"State",(function(){return E})),r.d(t,"default",(function(){return _}));var n=r("./src/polyfills/number.ts"),i=r("./src/task-loop.ts"),a=r("./src/controller/fragment-tracker.ts"),o=r("./src/utils/buffer-helper.ts"),s=r("./src/utils/logger.ts"),l=r("./src/events.ts"),u=r("./src/errors.ts"),c=r("./src/types/transmuxer.ts"),d=r("./src/utils/mp4-tools.ts"),f=r("./src/utils/discontinuities.ts"),p=r("./src/controller/fragment-finders.ts"),h=r("./src/controller/level-helper.ts"),g=r("./src/loader/fragment-loader.ts"),m=r("./src/crypt/decrypter.ts"),v=r("./src/utils/time-ranges.ts"),y=r("./src/types/loader.ts");function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},_=function(e){var t,r;function i(t,r,n){var i;return(i=e.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=E.STOPPED,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=n,i.log=s.logger.log.bind(s.logger,n+":"),i.warn=s.logger.warn.bind(s.logger,n+":"),i.hls=t,i.fragmentLoader=new g.default(t.config),i.fragmentTracker=r,i.config=t.config,i.decrypter=new m.default(t,t.config),t.on(l.Events.KEY_LOADED,i.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,k(t,r);var _,S,T,w=i.prototype;return w.doTick=function(){this.onTickEnd()},w.onTickEnd=function(){},w.startLoad=function(e){},w.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=E.STOPPED},w._streamEnded=function(e,t){var r=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&r&&r.sn===t.endSN&&!e.nextStart){var i=n.getState(r);return i===a.FragmentState.PARTIAL||i===a.FragmentState.OK}return!1},w.onMediaAttached=function(e,t){var r=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===E.STOPPED&&this.startLoad(n.startPosition)},w.onMediaDetaching=function(){var e=this.media;null!==e&&void 0!==e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},w.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,r=this.media,i=this.mediaBuffer,a=this.state,s=r?r.currentTime:0,l=o.BufferHelper.bufferInfo(i||r,s,e.maxBufferHole);if(this.log("media seeking to "+(Object(n.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+a),a===E.ENDED)this.resetLoadingState();else if(t&&!l.len){var u=e.maxFragLookUpTolerance,c=t.start-u,d=s>t.start+t.duration+u;(s<c||d)&&(d&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}r&&(this.lastCurrentTime=s),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},w.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},w.onKeyLoaded=function(e,t){if(this.state===E.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=E.IDLE;var r=this.levels[t.frag.level].details;r&&this.loadFragment(t.frag,r,t.frag.start)}},w.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},w.onHandlerDestroyed=function(){this.state=E.STOPPED,this.hls.off(l.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},w.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=E.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(l.Events.KEY_LOADING,{frag:e})},w.loadFragment=function(e,t,r){this._loadFragForPlayback(e,t,r)},w._loadFragForPlayback=function(e,t,r){var n=this;this._doFragLoad(e,t,r,(function(t){if(n.fragContextChanged(e))return n.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void n.fragmentTracker.removeFragment(e);e.stats.chunkCount++,n._handleFragmentLoadProgress(t)})).then((function(t){if(t){n.fragLoadError=0;var r=n.state;if(!n.fragContextChanged(e))return"payload"in t&&(n.log("Loaded fragment "+e.sn+" of level "+e.level),n.hls.trigger(l.Events.FRAG_LOADED,t),n.state===E.BACKTRACKING)?(n.fragmentTracker.backtrack(e,t),void n.resetFragmentLoading(e)):void n._handleFragmentLoadComplete(t);(r===E.FRAG_LOADING||r===E.BACKTRACKING||!n.fragCurrent&&r===E.PARSING)&&(n.fragmentTracker.removeFragment(e),n.state=E.IDLE)}})).catch((function(t){n.warn(t),n.resetFragmentLoading(e)}))},w.flushMainBuffer=function(e,t,r){if(void 0===r&&(r=null),e-t){var n={startOffset:e,endOffset:t,type:r};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,n)}},w._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(r){if(!r||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return r})).then((function(r){var n=t.hls,i=r.payload,a=e.decryptdata;if(i&&i.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var o=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).then((function(t){var i=self.performance.now();return n.trigger(l.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:o,tdecrypt:i}}),r.payload=t,r}))}return r})).then((function(r){var n=t.fragCurrent,i=t.hls,a=t.levels;if(!a)throw new Error("init load aborted, missing levels");var o=a[e.level].details;console.assert(o,"Level details are defined when init segment is loaded");var s=e.stats;t.state=E.IDLE,t.fragLoadError=0,e.data=new Uint8Array(r.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),r.frag===n&&i.trigger(l.Events.FRAG_BUFFERED,{stats:s,frag:n,part:null,id:e.type}),t.tick()})).catch((function(r){t.warn(r),t.resetFragmentLoading(e)}))},w.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},w.fragBufferedComplete=function(e,t){var r=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+v.default.toString(o.BufferHelper.getBuffered(r))),this.state=E.IDLE,this.tick()},w._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var r=e.frag,n=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),o=new c.ChunkMetadata(r.level,r.sn,r.stats.chunkCount+1,0,n?n.index:-1,!a);t.flush(o)}},w._handleFragmentLoadProgress=function(e){},w._doFragLoad=function(e,t,r,i){var a=this;if(void 0===r&&(r=null),!this.levels)throw new Error("frag load aborted, missing levels");if(r=Math.max(e.start,r||0),this.config.lowLatencyMode&&t){var o=t.partList;if(o&&i){r>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(o,e,r);if(s>-1){var u=o[s];return this.log("Loading part sn: "+e.sn+" p: "+u.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(o.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=u.start+u.duration,this.state=E.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,part:o[s],targetBufferTime:r}),this.doFragPartsLoad(e,o,s,i).catch((function(e){return a.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(o,r))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(r.toFixed(3))),Object(n.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=E.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragmentLoader.load(e,i).catch((function(e){return a.handleFragLoadError(e)}))},w.doFragPartsLoad=function(e,t,r,n){var i=this;return new Promise((function(a,o){var s=[];!function r(u){var c=t[u];i.fragmentLoader.loadPart(e,c,n).then((function(n){s[c.index]=n;var o=n.part;i.hls.trigger(l.Events.FRAG_LOADED,n);var d=t[u+1];if(!d||d.fragment!==e)return a({frag:e,part:o,partsLoaded:s});r(u+1)})).catch(o)}(r)}))},w.handleFragLoadError=function(e){var t=e.data;return t&&t.details===u.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(l.Events.ERROR,t),null},w._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===E.PARSING){var r=t.frag,n=t.part,i=t.level,a=self.performance.now();r.stats.parsing.end=a,n&&(n.stats.parsing.end=a),this.updateLevelTiming(r,n,i,e.partial)}else this.fragCurrent||(this.state=E.IDLE)},w.getCurrentContext=function(e){var t=this.levels,r=e.level,n=e.sn,i=e.part;if(!t||!t[r])return this.warn("Levels object was unset while buffering fragment "+n+" of level "+r+". The current chunk will not be buffered."),null;var a=t[r],o=i>-1?Object(h.getPartWith)(a,n,i):null,s=o?o.fragment:Object(h.getFragmentWithSN)(a,n,this.fragCurrent);return s?{frag:s,part:o,level:a}:null},w.bufferFragmentData=function(e,t,r,n){if(e&&this.state===E.PARSING){var i=e.data1,a=e.data2,o=i;if(i&&a&&(o=Object(d.appendUint8Array)(i,a)),o&&o.length){var s={type:e.type,frag:t,part:r,chunkMeta:n,parent:t.type,data:o};this.hls.trigger(l.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!r&&this.flushBufferGap(t)}}},w.flushBufferGap=function(e){var t=this.media;if(t)if(o.BufferHelper.isBuffered(t,t.currentTime)){var r=t.currentTime,n=o.BufferHelper.bufferInfo(t,r,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-a,n.end-a),r+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},w.getFwdBufferInfo=function(e,t){var r=this.config,i=this.getLoadPosition();if(!Object(n.isFiniteNumber)(i))return null;var a=o.BufferHelper.bufferInfo(e,i,r.maxBufferHole);if(0===a.len&&void 0!==a.nextStart){var s=this.fragmentTracker.getBufferedFrag(i,t);if(s&&a.nextStart<s.end)return o.BufferHelper.bufferInfo(e,i,Math.max(a.nextStart,r.maxBufferHole))}return a},w.getMaxBufferLength=function(e){var t,r=this.config;return t=e?Math.max(8*r.maxBufferSize/e,r.maxBufferLength):r.maxBufferLength,Math.min(t,r.maxMaxBufferLength)},w.reduceMaxBufferLength=function(e){var t=this.config,r=e||t.maxBufferLength;return t.maxMaxBufferLength>=r&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},w.getNextFragment=function(e,t){var r,n,i=t.fragments,a=i.length;if(!a)return null;var o,s=this.config,l=i[0].start;if(t.live){var u=s.initialLiveManifestSize;if(a<u)return this.warn("Not enough fragments to start playback (have: "+a+", need: "+u+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(o=this.getInitialLiveFragment(t,i),this.startPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=l&&(o=i[0]);if(!o){var c=s.lowLatencyMode?t.partEnd:t.fragmentEnd;o=this.getFragmentAtPosition(e,c,t)}return null===(r=o)||void 0===r||!r.initSegment||null!==(n=o)&&void 0!==n&&n.initSegment.data||this.bitrateTest||(o=o.initSegment),o},w.getNextPart=function(e,t,r){for(var n=-1,i=!1,a=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(a=a&&!l.independent,n>-1&&r<l.start)break;var u=l.loaded;!u&&(i||l.independent||a)&&l.fragment===t&&(n=o),i=u}return n},w.loadedEndOfParts=function(e,t){var r=e[e.length-1];return r&&t>r.start&&r.loaded},w.getInitialLiveFragment=function(e,t){var r=this.fragPrevious,n=null;if(r){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),n=Object(p.findFragmentByPDT)(t,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var i=r.sn+1;if(i>=e.startSN&&i<=e.endSN){var a=t[i-e.startSN];r.cc===a.cc&&(n=a,this.log("Live playlist, switching playlist, load frag with next SN: "+n.sn))}n||(n=Object(p.findFragWithCC)(t,r.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+n.sn)}}else{var o=this.hls.liveSyncPosition;null!==o&&(n=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n},w.getFragmentAtPosition=function(e,t,r){var n,i=this.config,o=this.fragPrevious,s=r.fragments,l=r.endSN,u=r.fragmentHint,c=i.maxFragLookUpTolerance,d=!!(i.lowLatencyMode&&r.partList&&u);if(d&&u&&!this.bitrateTest&&(s=s.concat(u),l=u.sn),e<t){var f=e>t-c?0:c;n=Object(p.findFragmentByPTS)(o,s,e,f)}else n=s[s.length-1];if(n){var h=n.sn-r.startSN,g=o&&n.level===o.level,m=s[h+1];if(this.fragmentTracker.getState(n)===a.FragmentState.BACKTRACKED){n=null;for(var v=h;s[v]&&this.fragmentTracker.getState(s[v])===a.FragmentState.BACKTRACKED;)n=o?s[v--]:s[--v];n||(n=m)}else o&&n.sn===o.sn&&!d&&g&&(n.sn<l&&this.fragmentTracker.getState(m)!==a.FragmentState.OK?(this.log("SN "+n.sn+" just loaded, load next one: "+m.sn),n=m):n=null)}return n},w.synchronizeToLiveEdge=function(e){var t=this.config,r=this.media;if(r){var n=this.hls.liveSyncPosition,i=r.currentTime,a=e.fragments[0].start,o=e.edge,s=i>=a-t.maxFragLookUpTolerance&&i<=o;if(null!==n&&r.duration>n&&(i<n||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&r.readyState<4||i<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=n),r.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+o+", reset currentTime to : "+n.toFixed(3)),r.currentTime=n))}}},w.alignPlaylists=function(e,t){var r=this.levels,i=this.levelLastLoaded,a=this.fragPrevious,o=null!==i?r[i]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var l=e.fragments[0].start,u=!t,c=e.alignedSliding&&Object(n.isFiniteNumber)(l);if(u||!c&&!l){Object(f.alignStream)(a,o,e);var d=e.fragments[0].start;return this.log("Live playlist sliding: "+d.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(a?a.sn:"na")+" fragments: "+s),d}return l},w.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},w.setStartPosition=function(e,t){var r=this.startPosition;if(r<t&&(r=-1),-1===r||-1===this.lastCurrentTime){var i=e.startTimeOffset;Object(n.isFiniteNumber)(i)?(r=t+i,i<0&&(r+=e.totalduration),r=Math.min(Math.max(t,r),t+e.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+r),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||t:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},w.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},w.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},w.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=E.IDLE)},w.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var r=t.frag;if(r&&r.type===e){var n=this.fragCurrent;console.assert(n&&r.sn===n.sn&&r.level===n.level&&r.urlId===n.urlId,"Frag load error must match current frag to retry");var i=this.config;if(this.fragLoadError+1<=i.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(r.level))return;var a=Math.min(Math.pow(2,this.fragLoadError)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);this.warn("Fragment "+r.sn+" of "+e+" "+r.level+" failed to load, retrying in "+a+"ms"),this.retryDate=self.performance.now()+a,this.fragLoadError++,this.state=E.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=E.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=E.ERROR)}}},w.afterBufferFlushed=function(e,t,r){if(e){var n=o.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,r),this.state===E.ENDED&&this.resetLoadingState()}},w.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=E.IDLE},w.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!==t&&void 0!==t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},w.updateLevelTiming=function(e,t,r,n){var i=this,a=r.details;console.assert(!!a,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce((function(t,o){var s=e.elementaryStreams[o];if(s){var u=s.endPTS-s.startPTS;if(u<=0)return i.warn("Could not parse fragment "+e.sn+" "+o+" duration reliably ("+u+") resetting transmuxer to fallback to playlist timing"),i.resetTransmuxer(),t||!1;var c=n?0:Object(h.updateFragPTSDTS)(a,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return i.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:a,level:r,drift:c,type:o,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)?(this.state=E.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:e,part:t})):this.resetLoadingState()},w.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},_=i,(S=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&b(_.prototype,S),T&&b(_,T),i}(i.default)},"./src/controller/buffer-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r("./src/polyfills/number.ts"),i=r("./src/events.ts"),a=r("./src/utils/logger.ts"),o=r("./src/errors.ts"),s=r("./src/utils/buffer-helper.ts"),l=r("./src/utils/mediasource-helper.ts"),u=r("./src/loader/fragment.ts"),c=r("./src/controller/buffer-operation-queue.ts"),d=Object(l.getMediaSource)(),f=/([ha]vc.)(?:\.[^.,]+)+/,p=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,r=t.media,n=t.mediaSource;a.logger.log("[buffer-controller]: Media source opened"),r&&(t.updateMediaElementDuration(),e.trigger(i.Events.MEDIA_ATTACHED,{media:r})),n&&n.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){a.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){a.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.BUFFER_EOS,this.onBufferEos,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(i.Events.FRAG_PARSED,this.onFragParsed,this),e.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.BUFFER_EOS,this.onBufferEos,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(i.Events.FRAG_PARSED,this.onFragParsed,this),e.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.details=null,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var r=this.media=t.media;if(r&&d){var n=this.mediaSource=new d;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(n),this._objectUrl=r.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,r=this._objectUrl;if(t){if(a.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(n){a.logger.warn("[buffer-controller]: onMediaDetaching: "+n.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(r&&self.URL.revokeObjectURL(r),e.src===r?(e.removeAttribute("src"),e.load()):a.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var r=e.sourceBuffer[t];try{r&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(r),e.sourceBuffer[t]=void 0)}catch(n){a.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",n)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var r=this,n=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(n){var i=r.tracks[e];if(i&&"function"===typeof i.buffer.changeType){var a=t[e],o=a.codec,s=a.levelCodec,l=a.container;if((i.levelCodec||i.codec).replace(f,"$1")!==(s||o).replace(f,"$1")){var u=l+";codecs="+(s||o);r.appendChangeType(e,u)}}}else r.pendingTracks[e]=t[e]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var r=this,n=this.operationQueue,i={execute:function(){var i=r.sourceBuffer[e];i&&(a.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),n.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){a.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};n.append(i,e)},t.onBufferAppending=function(e,t){var r=this,n=this.hls,l=this.operationQueue,u=this.tracks,c=t.data,d=t.type,f=t.frag,p=t.part,h=t.chunkMeta,g=h.buffering[d],m=self.performance.now();g.start=m;var v=f.stats.buffering,y=p?p.stats.buffering:null;0===v.start&&(v.start=m),y&&0===y.start&&(y.start=m);var b=u.audio,k="audio"===d&&1===h.id&&"audio/mpeg"===(null===b||void 0===b?void 0:b.container),E={execute:function(){if(g.executeStart=self.performance.now(),k){var e=r.sourceBuffer[d];if(e){var t=f.start-e.timestampOffset;Math.abs(t)>=.1&&(a.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+f.start+" (delta: "+t+") sn: "+f.sn+")"),e.timestampOffset=f.start)}}r.appendExecutor(c,d)},onStart:function(){},onComplete:function(){var e=self.performance.now();g.executeEnd=g.end=e,0===v.first&&(v.first=e),y&&0===y.first&&(y.first=e);var t=r.sourceBuffer,n={};for(var a in t)n[a]=s.BufferHelper.getBuffered(t[a]);r.appendError=0,r.hls.trigger(i.Events.BUFFER_APPENDED,{type:d,frag:f,part:p,chunkMeta:h,parent:f.type,timeRanges:n})},onError:function(e){a.logger.error("[buffer-controller]: Error encountered while trying to append to the "+d+" SourceBuffer",e);var t={type:o.ErrorTypes.MEDIA_ERROR,parent:f.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=o.ErrorDetails.BUFFER_FULL_ERROR:(r.appendError++,t.details=o.ErrorDetails.BUFFER_APPEND_ERROR,r.appendError>n.config.appendErrorMaxRetry&&(a.logger.error("[buffer-controller]: Failed "+n.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),n.trigger(i.Events.ERROR,t)}};l.append(E,d)},t.onBufferFlushing=function(e,t){var r=this,n=this.operationQueue,o=function(e){return{execute:r.removeExecutor.bind(r,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(i.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){a.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?n.append(o(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){n.append(o(e),e)}))},t.onFragParsed=function(e,t){var r=this,n=t.frag,o=t.part,s=[],l=o?o.elementaryStreams:n.elementaryStreams;l[u.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(l[u.ElementaryStreamTypes.AUDIO]&&s.push("audio"),l[u.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&a.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+n.type+" level: "+n.level+" sn: "+n.sn),this.blockBuffers((function(){var e=self.performance.now();n.stats.buffering.end=e,o&&(o.stats.buffering.end=e);var t=o?o.stats:n.stats;r.hls.trigger(i.Events.FRAG_BUFFERED,{frag:n,part:o,stats:t,id:n.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var r=this;this.getSourceBufferTypes().reduce((function(e,n){var i=r.sourceBuffer[n];return t.type&&t.type!==n||i&&!i.ended&&(i.ended=!0,a.logger.log("[buffer-controller]: "+n+" sourceBuffer now EOS")),e&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var e=r.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var r=t.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,r=this.media,a=this.sourceBuffer;if(r&&null!==t){var o=this.getSourceBufferTypes();if(o.length){var l=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(n.isFiniteNumber)(l)&&!(l<0)){var u=r.currentTime,c=t.levelTargetDuration,d=Math.max(l,c),f=Math.floor(u/c)*c-d;o.forEach((function(r){var n=a[r];if(n){var o=s.BufferHelper.getBuffered(n);o.length>0&&f>o.start(0)&&(e.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:f}),t.live&&e.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:f}),e.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:f,type:r}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,r=this.media,i=this.mediaSource,o=e.fragments[0].start+e.totalduration,s=r.duration,l=Object(n.isFiniteNumber)(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(a.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(o>l&&o>s||!Object(n.isFiniteNumber)(s))&&(a.logger.log("[buffer-controller]: Updating Media Source duration to "+o.toFixed(3)),i.duration=o)}},t.updateSeekableRange=function(e){var t=this.mediaSource,r=e.fragments;if(r.length&&e.live&&null!==t&&void 0!==t&&t.setLiveSeekableRange){var n=Math.max(0,r[0].start),i=Math.max(n,n+e.totalduration);t.setLiveSeekableRange(n,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,r=this.pendingTracks,n=Object.keys(r).length;if(n&&!e||2===n){this.createSourceBuffers(r),this.pendingTracks={};var a=this.getSourceBufferTypes();if(0===a.length)return void this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});a.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");var n=0;for(var s in e)if(!t[s]){var l=e[s];if(!l)throw Error("source buffer exists for track "+s+", however track does not");var u=l.levelCodec||l.codec,c=l.container+";codecs="+u;a.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var d=t[s]=r.addSourceBuffer(c),f=s;this.addBufferListener(f,"updatestart",this._onSBUpdateStart),this.addBufferListener(f,"updateend",this._onSBUpdateEnd),this.addBufferListener(f,"error",this._onSBUpdateError),this.tracks[s]={buffer:d,codec:u,container:l.container,levelCodec:l.levelCodec,id:l.id},n++}catch(p){a.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+p.message),this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:p,mimeType:c})}}n&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){a.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var r=this.operationQueue.current(e);r&&r.onError(t)},t.removeExecutor=function(e,t,r){var i=this.media,o=this.mediaSource,s=this.operationQueue,l=this.sourceBuffer[e];if(!i||!o||!l)return a.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var u=Object(n.isFiniteNumber)(i.duration)?i.duration:1/0,c=Object(n.isFiniteNumber)(o.duration)?o.duration:1/0,d=Math.max(0,t),f=Math.min(r,u,c);f>d?(a.logger.log("[buffer-controller]: Removing ["+d+","+f+"] from the "+e+" SourceBuffer"),console.assert(!l.updating,e+" sourceBuffer must not be updating"),l.remove(d,f)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var r=this.operationQueue,n=this.sourceBuffer[t];if(!n)return a.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(t);n.ended=!1,console.assert(!n.updating,t+" sourceBuffer must not be updating"),n.appendBuffer(e)},t.blockBuffers=function(e,t){var r=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return a.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(e);var n=this.operationQueue,i=t.map((function(e){return n.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=r.sourceBuffer[e];t&&t.updating||n.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,r){var n=this.sourceBuffer[e];if(n){var i=r.bind(this,e);this.listeners[e].push({event:t,listener:i}),n.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r("./src/utils/logger.ts"),i=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var r=this.queues[t];r.push(e),1===r.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,r=new Promise((function(e){t=e})),n={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,e),r},t.executeNext=function(e){var t=this.buffers,r=this.queues,i=t[e],a=r[e];if(a.length){var o=a[0];try{o.execute()}catch(s){n.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(s),i&&i.updating||(a.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/events.ts");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,r,a,o=e.prototype;return o.setStreamController=function(e){this.streamController=e},o.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},o.registerListeners=function(){var e=this.hls;e.on(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.unregisterListener=function(){var e=this.hls;e.off(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.onFpsDropLevelCapping=function(t,r){e.isLevelAllowed(r.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(r.droppedLevel)},o.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},o.onManifestParsed=function(e,t){var r=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,r.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onMediaDetaching=function(){this.stopCapping()},o.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},o.getMaxLevel=function(t){var r=this,n=this.hls.levels;if(!n.length)return-1;var i=n.filter((function(n,i){return e.isLevelAllowed(i,r.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},o.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},o.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},o.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,t.width||t.height||(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,r){if(!e||!e.length)return-1;for(var n,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=r)&&(n=s,!(i=e[o+1])||n.width!==i.width||n.height!==i.height)){a=o;break}}return a},t=e,a=[{key:"contentScaleFactor",get:function(){var e=1;try{e=self.devicePixelRatio}catch(t){}return e}}],(r=[{key:"mediaWidth",get:function(){return this.getDimensions().width*e.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*e.contentScaleFactor}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},"./src/controller/eme-controller.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/utils/logger.ts"),o=r("./src/utils/mediakeys-helper.ts");function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(e){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=e,this._config=e.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var t,r,l,u=e.prototype;return u.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},u._registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},u._unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},u.getLicenseServerUrl=function(e){switch(e){case o.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},u._attemptKeySystemAccess=function(e,t,r){var n=this,i=function(e,t,r,n){switch(e){case o.KeySystems.WIDEVINE:return function(e,t,r){var n={audioCapabilities:[],videoCapabilities:[]};return e.forEach((function(e){n.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:r.audioRobustness||""})})),t.forEach((function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:r.videoRobustness||""})})),[n]}(t,r,n);default:throw new Error("Unknown key-system: "+e)}}(e,t,r,this._drmSystemOptions);a.logger.log("Requesting encrypted media key-system access");var s=this.requestMediaKeySystemAccess(e,i);this.mediaKeysPromise=s.then((function(t){return n._onMediaKeySystemAccessObtained(e,t)})),s.catch((function(t){a.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))},u._onMediaKeySystemAccessObtained=function(e,t){var r=this;a.logger.log('Access for key-system "'+e+'" obtained');var n={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(n);var i=Promise.resolve().then((function(){return t.createMediaKeys()})).then((function(t){return n.mediaKeys=t,a.logger.log('Media-keys created for key-system "'+e+'"'),r._onMediaKeysCreated(),t}));return i.catch((function(e){a.logger.error("Failed to create media-keys:",e)})),i},u._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},u._onNewMediaKeySession=function(e){var t=this;a.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(r){t._onKeySessionMessage(e,r.message)}),!1)},u._onKeySessionMessage=function(e,t){a.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){a.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t)}))},u.onMediaEncrypted=function(e){var t=this;if(a.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!this.mediaKeysPromise)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var r=function(r){t._media&&(t._attemptSetMediaKeys(r),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};this.mediaKeysPromise.then(r).catch(r)},u._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});a.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},u._generateRequestWithPreferredKeySession=function(e,t){var r=this,o=this._mediaKeysList[0];if(!o)return a.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(o.mediaKeysSessionInitialized)a.logger.warn("Key-Session already initialized but requested again");else{var s=o.mediaKeysSession;if(!s)return a.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return a.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});a.logger.log('Generating key-session request for "'+e+'" init data type'),o.mediaKeysSessionInitialized=!0,s.generateRequest(e,t).then((function(){a.logger.debug("Key-session generation succeeded")})).catch((function(e){a.logger.error("Error generating key-session request:",e),r.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},u._createLicenseXhr=function(e,t,r){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,e,t,r);var i=this._licenseXhrSetup;if(i)try{i.call(this.hls,n,e),i=void 0}catch(o){a.logger.error(o)}try{n.readyState||n.open("POST",e,!0),i&&i.call(this.hls,n,e)}catch(o){throw new Error("issue setting up KeySystem license XHR "+o)}return n},u._onLicenseRequestReadyStageChange=function(e,t,r,o){switch(e.readyState){case 4:if(200===e.status){this._requestLicenseFailureCount=0,a.logger.log("License request succeeded");var s=e.response,l=this._licenseResponseCallback;if(l)try{s=l.call(this.hls,e,t)}catch(c){a.logger.error(c)}o(s)}else{if(a.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var u=3-this._requestLicenseFailureCount+1;a.logger.warn("Retrying license request, "+u+" attempts left"),this._requestLicense(r,o)}}},u._generateLicenseRequestChallenge=function(e,t){switch(e.mediaKeySystemDomain){case o.KeySystems.WIDEVINE:return t}throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},u._requestLicense=function(e,t){a.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return a.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var o=this.getLicenseServerUrl(r.mediaKeySystemDomain),s=this._createLicenseXhr(o,e,t);a.logger.log("Sending license request to URL: "+o);var l=this._generateLicenseRequestChallenge(r,e);s.send(l)}catch(u){a.logger.error("Failure requesting DRM license: "+u),this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},u.onMediaAttached=function(e,t){if(this._emeEnabled){var r=t.media;this._media=r,r.addEventListener("encrypted",this._onMediaEncrypted)}},u.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch((function(){}))}))).then((function(){return e.setMediaKeys(null)})).catch((function(){})))},u.onManifestParsed=function(e,t){if(this._emeEnabled){var r=t.levels.map((function(e){return e.audioCodec})).filter((function(e){return!!e})),n=t.levels.map((function(e){return e.videoCodec})).filter((function(e){return!!e}));this._attemptKeySystemAccess(o.KeySystems.WIDEVINE,r,n)}},t=e,(r=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&s(t.prototype,r),l&&s(t,l),e}();t.default=l},"./src/controller/fps-controller.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/events.ts"),i=r("./src/utils/logger.ts"),a=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var r=this.hls.config;if(r.capLevelOnFPSDrop){var n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&"function"===typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,r){var a=performance.now();if(t){if(this.lastTime){var o=a-this.lastTime,s=r-this.lastDroppedFrames,l=t-this.lastDecodedFrames,u=1e3*s/o,c=this.hls;if(c.trigger(n.Events.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:r}),u>0&&s>c.config.fpsDroppedMonitoringThreshold*l){var d=c.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(n.Events.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();t.default=a},"./src/controller/fragment-finders.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"findFragmentByPDT",(function(){return a})),r.d(t,"findFragmentByPTS",(function(){return o})),r.d(t,"fragmentWithinToleranceTest",(function(){return s})),r.d(t,"pdtWithinToleranceTest",(function(){return l})),r.d(t,"findFragWithCC",(function(){return u}));var n=r("./src/polyfills/number.ts"),i=r("./src/utils/binary-search.ts");function a(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!Object(n.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;r=r||0;for(var i=0;i<e.length;++i){var a=e[i];if(l(t,r,a))return a}return null}function o(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var a=null;if(e?a=t[e.sn-t[0].sn+1]||null:0===r&&0===t[0].start&&(a=t[0]),a&&0===s(r,n,a))return a;var o=i.default.search(t,s.bind(null,r,n));return o||a}function s(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function l(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>e}function u(e,t){return i.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"FragmentState",(function(){return n})),r.d(t,"FragmentTracker",(function(){return o}));var n,i=r("./src/events.ts"),a=r("./src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.BACKTRACKED="BACKTRACKED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(n||(n={}));var o=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===a.PlaylistLevelType.MAIN){var r=this.activeFragment,n=this.activeParts;if(!r)return null;if(n)for(var i=n.length;i--;){var o=n[i],s=o?o.end:r.appendedPTS;if(o.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=n.slice(i-9)),o}else if(r.start<=e&&void 0!==r.appendedPTS&&e<=r.appendedPTS)return r}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var r=this.fragments,n=Object.keys(r),i=n.length;i--;){var a=r[n[i]];if((null===a||void 0===a?void 0:a.body.type)===t&&a.buffered){var o=a.body;if(o.start<=e&&e<=o.end)return o}}return null},t.detectEvictedFragments=function(e,t,r){var n=this;Object.keys(this.fragments).forEach((function(i){var a=n.fragments[i];if(a)if(a.buffered){var o=a.range[e];o&&o.time.some((function(e){var r=!n.isTimeBuffered(e.startPTS,e.endPTS,t);return r&&n.removeFragment(a.body),r}))}else a.body.type===r&&n.removeFragment(a.body)}))},t.detectPartialFragments=function(e){var t=this,r=this.timeRanges,n=e.frag,i=e.part;if(r&&"initSegment"!==n.sn){var a=l(n),o=this.fragments[a];o&&(Object.keys(r).forEach((function(e){var a=n.elementaryStreams[e];if(a){var s=r[e],l=null!==i||!0===a.partial;o.range[e]=t.getBufferedTimes(n,i,l,s)}})),o.backtrack=o.loaded=null,Object.keys(o.range).length?o.buffered=!0:this.removeFragment(o.body))}},t.fragBuffered=function(e){var t=l(e),r=this.fragments[t];r&&(r.backtrack=r.loaded=null,r.buffered=!0)},t.getBufferedTimes=function(e,t,r,n){for(var i={time:[],partial:r},a=t?t.start:e.start,o=t?t.end:e.end,s=e.minEndPTS||o,l=e.maxStartPTS||a,u=0;u<n.length;u++){var c=n.start(u)-this.bufferPadding,d=n.end(u)+this.bufferPadding;if(l>=c&&s<=d){i.time.push({startPTS:Math.max(a,n.start(u)),endPTS:Math.min(o,n.end(u))});break}if(a<d&&o>c)i.partial=!0,i.time.push({startPTS:Math.max(a,n.start(u)),endPTS:Math.min(o,n.end(u))});else if(o<=c)break}return i},t.getPartialFragment=function(e){var t,r,n,i=null,a=0,o=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach((function(u){var c=l[u];c&&s(c)&&(r=c.body.start-o,n=c.body.end+o,e>=r&&e<=n&&(t=Math.min(e-r,n-e),a<=t&&(i=c.body,a=t)))})),i},t.getState=function(e){var t=l(e),r=this.fragments[t];return r?r.buffered?s(r)?n.PARTIAL:n.OK:r.backtrack?n.BACKTRACKED:n.APPENDING:n.NOT_LOADED},t.backtrack=function(e,t){var r=l(e),n=this.fragments[r];if(!n||n.backtrack)return null;var i=n.backtrack=t||n.loaded;return n.loaded=null,i},t.getBacktrackData=function(e){var t=l(e),r=this.fragments[t];if(r){var n,i=r.backtrack;if(null!==i&&void 0!==i&&null!==(n=i.payload)&&void 0!==n&&n.byteLength)return i;this.removeFragment(e)}return null},t.isTimeBuffered=function(e,t,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},t.onFragLoaded=function(e,t){var r=t.frag,n=t.part;if("initSegment"!==r.sn&&!r.bitrateTest&&!n){var i=l(r);this.fragments[i]={body:r,loaded:t,backtrack:null,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var r=this,n=t.frag,i=t.part,o=t.timeRanges;if(n.type===a.PlaylistLevelType.MAIN)if(this.activeFragment=n,i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=o,Object.keys(o).forEach((function(e){var t=o[e];if(r.detectEvictedFragments(e,t),!i)for(var a=0;a<t.length;a++)n.appendedPTS=Math.max(t.end(a),n.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=l(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,r){var n=this;Object.keys(this.fragments).forEach((function(i){var a=n.fragments[i];if(a&&a.buffered){var o=a.body;o.type===r&&o.start<t&&o.end>e&&n.removeFragment(o)}}))},t.removeFragment=function(e){var t=l(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,r;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(r=e.range.audio)||void 0===r?void 0:r.partial))}function l(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"STALL_MINIMUM_DURATION_MS",(function(){return s})),r.d(t,"MAX_START_GAP_JUMP",(function(){return l})),r.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return u})),r.d(t,"SKIP_BUFFER_RANGE_START",(function(){return c})),r.d(t,"default",(function(){return d}));var n=r("./src/utils/buffer-helper.ts"),i=r("./src/errors.ts"),a=r("./src/events.ts"),o=r("./src/utils/logger.ts"),s=250,l=2,u=.1,c=.05,d=function(){function e(e,t,r,n){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n}var t=e.prototype;return t.destroy=function(){this.hls=this.fragmentTracker=this.media=null},t.poll=function(e){var t=this.config,r=this.media,i=this.stalled,a=r.currentTime,u=r.seeking,c=this.seeking&&!u,d=!this.seeking&&u;if(this.seeking=u,a===e){if((d||c)&&(this.stalled=null),!r.paused&&!r.ended&&0!==r.playbackRate&&n.BufferHelper.getBuffered(r).length){var f=n.BufferHelper.bufferInfo(r,a,0),p=f.len>0,h=f.nextStart||0;if(p||h){if(u){var g=f.len>l,m=!h||h-a>l&&!this.fragmentTracker.getPartialFragment(a);if(g||m)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var v,y=Math.max(h,f.start||0)-a,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,k=(null===b||void 0===b||null===(v=b.details)||void 0===v?void 0:v.live)?2*b.details.targetduration:l;if(y>0&&y<=k)return void this._trySkipBufferHole(null)}var E=self.performance.now();if(null!==i){var _=E-i;!u&&_>=s&&this._reportStall(f.len);var S=n.BufferHelper.bufferInfo(r,a,t.maxBufferHole);this._tryFixBufferStall(S,_)}else this.stalled=E}}}else if(this.moved=!0,null!==i){if(this.stallReported){var T=self.performance.now()-i;o.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(T)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,a=n.getPartialFragment(i);a&&this._trySkipBufferHole(a)||e.len>r.maxBufferHole&&t>1e3*r.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,r=this.hls,s=this.media,l=s.currentTime,d=0,f=n.BufferHelper.getBuffered(s),p=0;p<f.length;p++){var h=f.start(p);if(l+t.maxBufferHole>=d&&l<h){var g=Math.max(h+c,s.currentTime+u);return o.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+g),this.moved=!0,this.stalled=null,s.currentTime=g,e&&r.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+g,frag:e}),g}d=f.end(p)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=r.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=n+s*e.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+n+" to "+l),r.currentTime=l,t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+n+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}()},"./src/controller/id3-track-controller.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/events.ts"),i=r("./src/utils/texttrack-utils.ts"),a=r("./src/demux/id3.ts"),o=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners()},t._registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t._unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(Object(i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return Object(i.sendAddTrackEvent)(r,this.media),r}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var r=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,o=0;o<n.length;o++){var s=a.getID3Frames(n[o].data);if(s){var l=n[o].pts,u=o<n.length-1?n[o+1].pts:r.end;u-l<=0&&(u=l+.25);for(var c=0;c<s.length;c++){var d=s[c];if(!a.isTimeStampFrame(d)){var f=new i(l,u,"");f.value=d,this.id3Track.addCue(f)}}}}}},t.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset,a=t.type;if(!a||"audio"===a){var o=this.id3Track;o&&Object(i.removeCuesInRange)(o,r,n)}},e}();t.default=o},"./src/controller/latency-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var n=r("./src/errors.ts"),i=r("./src/events.ts"),a=r("./src/utils/logger.ts");function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,r,s,l=e.prototype;return l.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},l.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},l.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},l.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},l.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},l.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},l.onLevelUpdated=function(e,t){var r=t.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},l.onError=function(e,t){t.details===n.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,a.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},l.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var n=this.config,i=n.lowLatencyMode,a=n.maxLiveSyncPlaybackRate;if(i&&1!==a){var o=this.targetLatency;if(null!==o){var s=r-o,l=s<Math.min(this.maxLatency,o+t.targetduration);if(t.live&&l&&s>.05&&this.forwardBufferLength>1){var u=Math.min(2,Math.max(1,a)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},l.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},l.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},t=e,(r=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,r=e.partHoldBack,n=e.targetduration,i=this.config,a=i.liveSyncDuration,o=i.liveSyncDurationCount,s=i.lowLatencyMode,l=this.hls.userConfig,u=s&&r||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:o*n);var c=n;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,r=this.levelDetails;if(null===e||null===t||null===r)return null;var n=r.edge,i=e-t-this.edgeStalled,a=n-r.totalduration,o=n-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,i),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var r=e.buffered.length;return r?e.buffered.end(r-1):t.edge-this.currentTime}}])&&o(t.prototype,r),s&&o(t,s),e}()},"./src/controller/level-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r("./src/types/level.ts"),i=r("./src/events.ts"),a=r("./src/errors.ts"),o=r("./src/utils/codecs.ts"),s=r("./src/controller/level-helper.ts"),l=r("./src/controller/base-playlist-controller.ts"),u=r("./src/types/loader.ts");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),h=function(e){var t,r;function l(t){var r;return(r=e.call(this,t,"[level-controller]")||this)._levels=[],r._firstLevel=-1,r._startLevel=void 0,r.currentLevelIndex=-1,r.manualLevelIndex=-1,r.onParsedComplete=void 0,r._registerListeners(),r}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r);var h,g,m,v=l.prototype;return v._registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.ERROR,this.onError,this)},v._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.ERROR,this.onError,this)},v.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},v.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},v.onManifestLoaded=function(e,t){var r,l,u=[],c=[],d=[],f={},h=!1,g=!1,m=!1;if(t.levels.forEach((function(e){var t=e.attrs;h=h||!(!e.width||!e.height),g=g||!!e.videoCodec,m=m||!!e.audioCodec,p&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var r=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(l=f[r])?l.url.push(e.url):(l=new n.Level(e),f[r]=l,u.push(l)),t&&(t.AUDIO&&Object(s.addGroupId)(l,"audio",t.AUDIO),t.SUBTITLES&&Object(s.addGroupId)(l,"text",t.SUBTITLES))})),(h||g)&&m&&(u=u.filter((function(e){var t=e.videoCodec,r=e.width,n=e.height;return!!t||!(!r||!n)}))),u=u.filter((function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||Object(o.isCodecSupportedInMp4)(t,"audio"))&&(!r||Object(o.isCodecSupportedInMp4)(r,"video"))})),t.audioTracks&&(c=t.audioTracks.filter((function(e){return!e.audioCodec||Object(o.isCodecSupportedInMp4)(e.audioCodec,"audio")})),Object(s.assignTrackIdsByGroup)(c)),t.subtitles&&(d=t.subtitles,Object(s.assignTrackIdsByGroup)(d)),u.length>0){r=u[0].bitrate,u.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=u;for(var v=0;v<u.length;v++)if(u[v].bitrate===r){this._firstLevel=v,this.log("manifest loaded, "+u.length+" level(s) found, first bitrate: "+r);break}var y=m&&!g,b={levels:u,audioTracks:c,subtitleTracks:d,firstLevel:this._firstLevel,stats:t.stats,audio:m,video:g,altAudio:!y&&c.some((function(e){return!!e.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},v.onError=function(t,r){if(e.prototype.onError.call(this,t,r),!r.fatal){var n=r.context,i=this._levels[this.currentLevelIndex];if(n&&(n.type===u.PlaylistContextType.AUDIO_TRACK&&i.audioGroupIds&&n.groupId===i.audioGroupIds[i.urlId]||n.type===u.PlaylistContextType.SUBTITLE_TRACK&&i.textGroupIds&&n.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var o,s=!1,l=!0;switch(r.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:if(r.frag){var c=this._levels[r.frag.level];c?(c.fragmentError++,c.fragmentError>this.hls.config.fragLoadingMaxRetry&&(o=r.frag.level)):o=r.frag.level}break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:n&&(n.deliveryDirectives&&(l=!1),o=n.level),s=!0;break;case a.ErrorDetails.REMUX_ALLOC_ERROR:o=r.level,s=!0}void 0!==o&&this.recoverLevel(r,o,s,l)}}},v.recoverLevel=function(e,t,r,n){var i=e.details,a=this._levels[t];if(a.loadError++,r){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(n){var o=a.url.length;if(o>1&&a.loadError<o)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var s=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(i+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},v.redundantFailover=function(e){var t=this._levels[e],r=t.url.length;if(r>1){var n=(t.urlId+1)%r;this.warn("Switching to redundant URL-id "+n),this._levels.forEach((function(e){e.urlId=n})),this.level=e}},v.onFragLoaded=function(e,t){var r=t.frag;if(void 0!==r&&r.type===u.PlaylistLevelType.MAIN){var n=this._levels[r.level];void 0!==n&&(n.fragmentError=0,n.loadError=0)}},v.onLevelLoaded=function(e,t){var r,n,i=t.level,a=t.details,o=this._levels[i];if(!o)return this.warn("Invalid level index "+i),void(null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,o.details)):null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(a.deltaUpdateFailed=!0)},v.onAudioTrackSwitched=function(e,t){var r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=this.hls.audioTracks[t.id].groupId,a=0;a<r.audioGroupIds.length;a++)if(r.audioGroupIds[a]===i){n=a;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},v.loadPlaylist=function(e){var t=this.currentLevelIndex,r=this._levels[t];if(this.canLoad&&r&&r.url.length>0){var n=r.urlId,a=r.url[n];if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: "+o)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+n+" "+a),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:a,level:t,id:n,deliveryDirectives:e||null})}},v.removeLevel=function(e,t){var r=function(e,r){return r!==t},n=this._levels.filter((function(n,i){return i!==e||n.url.length>1&&void 0!==t&&(n.url=n.url.filter(r),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(r)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(r)),n.urlId=0,!0)})).map((function(e,t){var r=e.details;return null!==r&&void 0!==r&&r.fragments&&r.fragments.forEach((function(e){e.level=t})),e}));this._levels=n,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:n})},h=l,(g=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,r=this._levels;if(0!==r.length&&(this.currentLevelIndex!==e||null===(t=r[e])||void 0===t||!t.details)){if(e<0||e>=r.length){var n=e<0;if(this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:n,reason:"invalid level idx"}),n)return;e=Math.min(e,r.length-1)}this.clearTimer();var o=this.currentLevelIndex,s=r[o],l=r[e];this.log("switching to level "+e+" from "+o),this.currentLevelIndex=e;var u=c({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete u._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,u);var d=l.details;if(!d||d.live){var f=this.switchParams(l.uri,null===s||void 0===s?void 0:s.details);this.loadPlaylist(f)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&d(h.prototype,g),m&&d(h,m),l}(l.default)},"./src/controller/level-helper.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"addGroupId",(function(){return a})),r.d(t,"assignTrackIdsByGroup",(function(){return o})),r.d(t,"updatePTS",(function(){return s})),r.d(t,"updateFragPTSDTS",(function(){return u})),r.d(t,"mergeDetails",(function(){return c})),r.d(t,"mapPartIntersection",(function(){return d})),r.d(t,"mapFragmentIntersection",(function(){return f})),r.d(t,"adjustSliding",(function(){return p})),r.d(t,"addSliding",(function(){return h})),r.d(t,"computeReloadInterval",(function(){return g})),r.d(t,"getFragmentWithSN",(function(){return m})),r.d(t,"getPartWith",(function(){return v}));var n=r("./src/polyfills/number.ts"),i=r("./src/utils/logger.ts");function a(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}}function o(e){var t={};e.forEach((function(e){var r=e.groupId||"";e.id=t[r]=t[r]||0,t[r]++}))}function s(e,t,r){l(e[t],e[r])}function l(e,t){var r=t.startPTS;if(Object(n.isFiniteNumber)(r)){var i,a=0;t.sn>e.sn?(a=r-e.start,i=e):(a=e.start-r,i=t),i.duration!==a&&(i.duration=a)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function u(e,t,r,a,o,s){a-r<=0&&(i.logger.warn("Fragment should have a positive duration",t),a=r+t.duration,s=o+t.duration);var u=r,c=a,d=t.startPTS,f=t.endPTS;if(Object(n.isFiniteNumber)(d)){var p=Math.abs(d-r);Object(n.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(p,t.deltaPTS):t.deltaPTS=p,u=Math.max(r,d),r=Math.min(r,d),o=Math.min(o,t.startDTS),c=Math.min(a,f),a=Math.max(a,f),s=Math.max(s,t.endDTS)}t.duration=a-r;var h=r-t.start;t.appendedPTS=a,t.start=t.startPTS=r,t.maxStartPTS=u,t.startDTS=o,t.endPTS=a,t.minEndPTS=c,t.endDTS=s;var g,m=t.sn;if(!e||m<e.startSN||m>e.endSN)return 0;var v=m-e.startSN,y=e.fragments;for(y[v]=t,g=v;g>0;g--)l(y[g],y[g-1]);for(g=v;g<y.length-1;g++)l(y[g],y[g+1]);return e.fragmentHint&&l(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,h}function c(e,t){for(var r=null,a=e.fragments,o=a.length-1;o>=0;o--){var s=a[o].initSegment;if(s){r=s;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var l,c=0;if(f(e,t,(function(e,i){var a;e.relurl&&(c=e.cc-i.cc),Object(n.isFiniteNumber)(e.startPTS)&&Object(n.isFiniteNumber)(e.endPTS)&&(i.start=i.startPTS=e.startPTS,i.startDTS=e.startDTS,i.appendedPTS=e.appendedPTS,i.maxStartPTS=e.maxStartPTS,i.endPTS=e.endPTS,i.endDTS=e.endDTS,i.minEndPTS=e.minEndPTS,i.duration=e.endPTS-e.startPTS,i.duration&&(l=i),t.PTSKnown=t.alignedSliding=!0),i.elementaryStreams=e.elementaryStreams,i.loader=e.loader,i.stats=e.stats,i.urlId=e.urlId,e.initSegment?(i.initSegment=e.initSegment,r=e.initSegment):i.initSegment&&i.initSegment.relurl!=(null===(a=r)||void 0===a?void 0:a.relurl)||(i.initSegment=r)})),t.skippedSegments&&(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed)){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var h=t.skippedSegments;h--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}var g=t.fragments;if(c){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var m=0;m<g.length;m++)g[m].cc+=c}t.skippedSegments&&(t.startCC=t.fragments[0].cc),d(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),l?u(t,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):p(e,t),g.length&&(t.totalduration=t.edge-g[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var v=t.advancedDateTime;if(t.advanced&&v){var y=t.edge;t.driftStart||(t.driftStartTime=v,t.driftStart=y),t.driftEndTime=v,t.driftEnd=y}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function d(e,t,r){if(e&&t)for(var n=0,i=0,a=e.length;i<=a;i++){var o=e[i],s=t[i+n];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?r(o,s):n--}}function f(e,t,r){for(var n=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(n?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=i;u<=a;u++){var c=l[o+u],d=s[u];n&&!d&&u<n&&(d=t.fragments[u]=c),c&&d&&r(c,d)}}function p(e,t){var r=t.startSN+t.skippedSegments-e.startSN,n=e.fragments;r<0||r>=n.length||h(t,n[r].start)}function h(e,t){if(t){for(var r=e.fragments,n=e.skippedSegments;n<r.length;n++)r[n].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function g(e,t){var r,n=1e3*e.levelTargetDuration,i=n/2,a=e.age,o=a>0&&a<3*n,s=t.loading.end-t.loading.start,l=e.availabilityDelay;if(!1===e.updated)if(o){var u=333*e.misses;r=Math.max(Math.min(i,2*s),u),e.availabilityDelay=(e.availabilityDelay||0)+r}else r=i;else o?(l=Math.min(l||n/2,a),e.availabilityDelay=l,r=l+n-a):r=n-s;return Math.round(r)}function m(e,t,r){if(!e||!e.details)return null;var n=e.details,i=n.fragments[t-n.startSN];return i||((i=n.fragmentHint)&&i.sn===t?i:t<n.startSN&&r&&r.sn===t?r:null)}function v(e,t,r){if(!e||!e.details)return null;var n=e.details.partList;if(n)for(var i=n.length;i--;){var a=n[i];if(a.index===r&&a.fragment.sn===t)return a}return null}},"./src/controller/stream-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var n=r("./src/polyfills/number.ts"),i=r("./src/controller/base-stream-controller.ts"),a=r("./src/is-supported.ts"),o=r("./src/events.ts"),s=r("./src/utils/buffer-helper.ts"),l=r("./src/controller/fragment-tracker.ts"),u=r("./src/types/loader.ts"),c=r("./src/loader/fragment.ts"),d=r("./src/demux/transmuxer-interface.ts"),f=r("./src/types/transmuxer.ts"),p=r("./src/controller/gap-controller.ts"),h=r("./src/errors.ts"),g=r("./src/utils/logger.ts");function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){var t,r;function y(t,r){var n;return(n=e.call(this,t,r,"[stream-controller]")||this).audioCodecSwap=!1,n.gapController=null,n.level=-1,n._forceStartLoad=!1,n.altAudio=!1,n.audioOnly=!1,n.fragPlaying=null,n.onvplaying=null,n.onvseeked=null,n.fragLastKbps=0,n.stalled=!1,n.couldBacktrack=!1,n.audioCodecSwitch=!1,n.videoBuffer=null,n._registerListeners(),n}r=e,(t=y).prototype=Object.create(r.prototype),t.prototype.constructor=t,v(t,r);var b,k,E,_=y.prototype;return _._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},_.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},_.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},_.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var e,t=this.levels,r=this.level,n=null===t||void 0===t||null===(e=t[r])||void 0===e?void 0:e.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var a,o=self.performance.now(),s=this.retryDate;(!s||o>=s||null!==(a=this.media)&&void 0!==a&&a.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},_.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},_.doTickIdle=function(){var e,t,r=this.hls,n=this.levelLastLoaded,a=this.levels,s=this.media,d=r.config,f=r.nextLoadLevel;if(null!==n&&(s||!this.startFragRequested&&d.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&a&&a[f]){var p=a[f];this.level=r.nextLoadLevel=f;var h=p.details;if(!h||this.state===i.State.WAITING_LEVEL||h.live&&this.levelLastLoaded!==f)this.state=i.State.WAITING_LEVEL;else{var g=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:s,u.PlaylistLevelType.MAIN);if(null!==g&&!(g.len>=this.getMaxBufferLength(p.maxBitrate))){if(this._streamEnded(g,h)){var m={};return this.altAudio&&(m.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,m),void(this.state=i.State.ENDED)}var v=g.end,y=this.getNextFragment(v,h);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn){var b=y.sn-h.startSN;b>1&&(y=h.fragments[b-1],this.fragmentTracker.removeFragment(y))}if(y&&this.fragmentTracker.getState(y)===l.FragmentState.OK&&this.nextLoadPosition>v){var k=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(s,k,u.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,h)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,h,v):this.loadKey(y,h))}}}},_.loadFragment=function(t,r,n){var i,a=this.fragmentTracker.getState(t);if(this.fragCurrent=t,a===l.FragmentState.BACKTRACKED){var o=this.fragmentTracker.getBacktrackData(t);if(o)return this._handleFragmentLoadProgress(o),void this._handleFragmentLoadComplete(o);a=l.FragmentState.NOT_LOADED}a===l.FragmentState.NOT_LOADED||a===l.FragmentState.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,n)):a===l.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},_.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,u.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},_.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,u.PlaylistLevelType.MAIN)},_.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},_.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},_.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!==t&&void 0!==t&&t.readyState){var r,n=this.getAppendedFrag(t.currentTime);if(n&&n.start>1&&this.flushMainBuffer(0,n.start-1),!t.paused&&e){var i=e[this.hls.nextLoadLevel],a=this.fragLastKbps;r=a&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*a)+1:0}else r=0;var o=this.getBufferedFrag(t.currentTime+r);if(o){var s=this.followingBufferedFrag(o);if(s){this.abortCurrentFrag();var l=s.maxStartPTS?s.maxStartPTS:s.start,u=s.duration,c=Math.max(o.end,l+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,.5*u),.75*u));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},_.abortCurrentFrag=function(){var e=this.fragCurrent;this.fragCurrent=null,null!==e&&void 0!==e&&e.loader&&e.loader.abort(),this.state===i.State.KEY_LOADING&&(this.state=i.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},_.flushMainBuffer=function(t,r){e.prototype.flushMainBuffer.call(this,t,r,this.altAudio?"video":null)},_.onMediaAttached=function(t,r){e.prototype.onMediaAttached.call(this,t,r);var n=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new p.default(this.config,n,this.fragmentTracker,this.hls)},_.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},_.onMediaPlaying=function(){this.tick()},_.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(n.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},_.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},_.onManifestParsed=function(e,t){var r,n=!1,i=!1;t.levels.forEach((function(e){(r=e.audioCodec)&&(-1!==r.indexOf("mp4a.40.2")&&(n=!0),-1!==r.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=n&&i&&!Object(a.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},_.onLevelLoading=function(e,t){var r=this.levels;if(r&&this.state===i.State.IDLE){var n=r[t.level];(!n.details||n.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(n.details))&&(this.state=i.State.WAITING_LEVEL)}},_.onLevelLoaded=function(e,t){var r,n=this.levels,a=t.level,s=t.details,l=s.totalduration;if(n){this.log("Level "+a+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+l);var u=this.fragCurrent;!u||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||u.level!==t.level&&u.loader&&(this.state=i.State.IDLE,u.loader.abort());var c=n[a],d=0;if(s.live||null!==(r=c.details)&&void 0!==r&&r.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;d=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=a,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:s,level:a}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=i.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,d),this.tick()}else this.warn("Levels were reset while loading level "+a)},_._handleFragmentLoadProgress=function(e){var t,r=e.frag,n=e.part,i=e.payload,a=this.levels;if(a){var o=a[r.level],s=o.details;if(s){var l=o.videoCodec,c=s.PTSKnown||!s.live,p=null===(t=r.initSegment)||void 0===t?void 0:t.data,h=this._getAudioCodec(o),g=this.transmuxer=this.transmuxer||new d.default(this.hls,u.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=n?n.index:-1,v=-1!==m,y=new f.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,i.byteLength,m,v),b=this.initPTS[r.cc];g.push(i,p,h,l,r,n,s.totalduration,c,y,b)}else this.warn("Dropping fragment "+r.sn+" of level "+r.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},_.onAudioTrackSwitching=function(e,t){var r=this.altAudio,n=!!t.url,i=t.id;if(!n){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;null!==a&&void 0!==a&&a.loader&&(this.log("Switching to main audio track, cancel main fragment load"),a.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;r&&s.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:i})}},_.onAudioTrackSwitched=function(e,t){var r=t.id,n=!!this.hls.audioTracks[r].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},_.onBufferCreated=function(e,t){var r,n,i=t.tracks,a=!1;for(var o in i){var s=i[o];if("main"===s.id){if(n=o,r=s,"video"===o){var l=i[o];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&r?(this.log("Alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},_.onFragBuffered=function(e,t){var r=t.frag,n=t.part;if(!r||r.type===u.PlaylistLevelType.MAIN){if(this.fragContextChanged(r))return this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var a=n?n.stats:r.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,n)}},_.onError=function(e,t){switch(t.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(u.PlaylistLevelType.MAIN,t);break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=i.State.ERROR):t.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case h.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var r=!0,n=this.getFwdBufferInfo(this.media,u.PlaylistLevelType.MAIN);n&&n.len>.5&&(r=!this.reduceMaxBufferLength(n.len)),r&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},_.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var r=s.BufferHelper.getBuffered(e);!this.loadedmetadata&&r.length?(this.loadedmetadata=!0,this.seekToStartPos()):t.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},_.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},_.onBufferFlushed=function(e,t){var r=t.type;if(r!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var n=(r===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,u.PlaylistLevelType.MAIN)}},_.onLevelsUpdated=function(e,t){this.levels=t.levels},_.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},_.seekToStartPos=function(){var e=this.media,t=e.currentTime,r=this.startPosition;if(r>=0&&t<r){if(e.seeking)return void g.logger.log("could not seek to "+r+", already seeking at "+t);var n=s.BufferHelper.getBuffered(e),i=(n.length?n.start(0):0)-r;i>0&&i<this.config.maxBufferHole&&(g.logger.log("adjusting start position by "+i+" to match buffer start"),r+=i,this.startPosition=r),this.log("seek to target start position "+r+" from current time "+t),e.currentTime=r}},_._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},_._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then((function(r){var n=t.hls;if(r&&!n.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=i.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),n.trigger(o.Events.FRAG_LOADED,r)}}))},_._handleTransmuxComplete=function(e){var t,r="main",a=this.hls,s=e.remuxResult,l=e.chunkMeta,u=this.getCurrentContext(l);if(!u)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(l.level);var d=u.frag,f=u.part,p=u.level,h=s.video,g=s.text,m=s.id3,v=s.initSegment,y=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(d)){if(this.state=i.State.PARSING,v){v.tracks&&(this._bufferInitSegment(p,v.tracks,d,l),a.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:d,id:r,tracks:v.tracks}));var b=v.initPTS,k=v.timescale;Object(n.isFiniteNumber)(b)&&(this.initPTS[d.cc]=b,a.trigger(o.Events.INIT_PTS_FOUND,{frag:d,id:r,initPTS:b,timescale:k}))}if(h&&!1!==s.independent){if(p.details){var E=h.startPTS,_=h.endPTS,S=h.startDTS,T=h.endDTS;if(f)f.elementaryStreams[h.type]={startPTS:E,endPTS:_,startDTS:S,endDTS:T};else if(h.firstKeyFrame&&h.independent&&(this.couldBacktrack=!0),h.dropped&&h.independent){if(this.getLoadPosition()+this.config.maxBufferHole<E)return void this.backtrack(d);d.setElementaryStreamInfo(h.type,d.start,_,d.start,T,!0)}d.setElementaryStreamInfo(h.type,E,_,S,T),this.bufferFragmentData(h,d,f,l)}}else if(!1===s.independent)return void this.backtrack(d);if(y){var w=y.startPTS,x=y.endPTS,O=y.startDTS,P=y.endDTS;f&&(f.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:w,endPTS:x,startDTS:O,endDTS:P}),d.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,w,x,O,P),this.bufferFragmentData(y,d,f,l)}if(null!==m&&void 0!==m&&null!==(t=m.samples)&&void 0!==t&&t.length){var C={frag:d,id:r,samples:m.samples};a.trigger(o.Events.FRAG_PARSING_METADATA,C)}if(g){var A={frag:d,id:r,samples:g.samples};a.trigger(o.Events.FRAG_PARSING_USERDATA,A)}}},_._bufferInitSegment=function(e,t,r,n){var a=this;if(this.state===i.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,l=t.video,u=t.audiovideo;if(s){var c=e.audioCodec,d=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===d.indexOf("firefox")&&(c="mp4a.40.5")),-1!==d.indexOf("android")&&"audio/mpeg"!==s.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),s.levelCodec=c,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}l&&(l.levelCodec=e.videoCodec,l.id="main",this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+l.codec+"]")),u&&this.log("Init audiovideo buffer, container:"+u.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+u.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var i=t[e].initSegment;null!==i&&void 0!==i&&i.byteLength&&a.hls.trigger(o.Events.BUFFER_APPENDING,{type:e,data:i,frag:r,part:null,chunkMeta:n,parent:r.type})})),this.tick()}},_.backtrack=function(e){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(e);var t=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,t?this.resetFragmentLoading(e):this.state=i.State.BACKTRACKING},_.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var r=e.currentTime;if(s.BufferHelper.isBuffered(e,r)?t=this.getAppendedFrag(r):s.BufferHelper.isBuffered(e,r+.1)&&(t=this.getAppendedFrag(r+.1)),t){var n=this.fragPlaying,i=t.level;n&&t.sn===n.sn&&n.level===i&&t.urlId===n.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:t}),n&&n.level===i||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:i}),this.fragPlaying=t)}}},b=y,(k=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);return this.followingBufferedFrag(t)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&m(b.prototype,k),E&&m(b,E),y}(i.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"SubtitleStreamController",(function(){return g}));var n=r("./src/events.ts"),i=r("./src/utils/logger.ts"),a=r("./src/utils/buffer-helper.ts"),o=r("./src/controller/fragment-finders.ts"),s=r("./src/utils/discontinuities.ts"),l=r("./src/controller/level-helper.ts"),u=r("./src/controller/fragment-tracker.ts"),c=r("./src/controller/base-stream-controller.ts"),d=r("./src/types/loader.ts"),f=r("./src/types/level.ts");function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){var t,r;function g(t,r){var n;return(n=e.call(this,t,r,"[subtitle-stream-controller]")||this).levels=[],n.currentTrackId=-1,n.tracksBuffered=[],n.mainDetails=null,n._registerListeners(),n}r=e,(t=g).prototype=Object.create(r.prototype),t.prototype.constructor=t,h(t,r);var m,v,y,b=g.prototype;return b.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},b._registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(n.Events.ERROR,this.onError,this),e.on(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},b._unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(n.Events.ERROR,this.onError,this),e.off(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},b.startLoad=function(){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.tick()},b.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},b.onLevelLoaded=function(e,t){this.mainDetails=t.details},b.onSubtitleFragProcessed=function(e,t){var r=t.frag,n=t.success;if(this.fragPrevious=r,this.state=c.State.IDLE,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,o=r.start,s=0;s<i.length;s++)if(o>=i[s].start&&o<=i[s].end){a=i[s];break}var l=r.start+r.duration;a?a.end=l:(a={start:o,end:l},i.push(a)),this.fragmentTracker.fragBuffered(r)}}},b.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset;if(0===r&&n!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,a=this.levels;if(!a.length||!a[i]||!a[i].details)return;var o=n-a[i].details.targetduration;if(o<=0)return;t.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=o)e.shift();else{if(!(e[t].start<o))break;e[t].start=o,t++}})),this.fragmentTracker.removeFragmentsInRange(r,o,d.PlaylistLevelType.SUBTITLE)}},b.onError=function(e,t){var r,n=t.frag;n&&n.type===d.PlaylistLevelType.SUBTITLE&&(null!==(r=this.fragCurrent)&&void 0!==r&&r.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},b.onSubtitleTracksUpdated=function(e,t){var r=this,n=t.subtitleTracks;this.tracksBuffered=[],this.levels=n.map((function(e){return new f.Level(e)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(e){r.tracksBuffered[e.id]=[]})),this.mediaBuffer=null},b.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!==r&&void 0!==r&&r.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},b.onSubtitleTrackLoaded=function(e,t){var r,n=t.details,i=t.id,a=this.currentTrackId,u=this.levels;if(u.length){var d=u[a];if(!(i>=u.length||i!==a)&&d){if(this.mediaBuffer=this.mediaBufferTimeRanges,n.live||null!==(r=d.details)&&void 0!==r&&r.live){var f=this.mainDetails;if(n.deltaUpdateFailed||!f)return;var p=f.fragments[0];d.details?0===this.alignPlaylists(n,d.details)&&p&&Object(l.addSliding)(n,p.start):n.hasProgramDateTime&&f.hasProgramDateTime?Object(s.alignPDT)(n,f):p&&Object(l.addSliding)(n,p.start)}d.details=n,this.levelLastLoaded=i,this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&(Object(o.findFragmentByPTS)(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),d.details=void 0))}}},b._handleFragmentLoadComplete=function(e){var t=e.frag,r=e.payload,i=t.decryptdata,a=this.hls;if(!this.fragContextChanged(t)&&r&&r.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var o=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).then((function(e){var r=performance.now();a.trigger(n.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:o,tdecrypt:r}})}))}},b.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var e,t=this.currentTrackId,r=this.levels;if(!r.length||!r[t]||!r[t].details)return;var s=r[t].details,l=s.targetduration,d=this.config,f=this.media,p=a.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,f.currentTime-l,d.maxBufferHole),h=p.end;if(p.len>this.getMaxBufferLength()+l)return;console.assert(s,"Subtitle track details are defined on idle subtitle stream controller tick");var g,m=s.fragments,v=m.length,y=s.edge,b=this.fragPrevious;if(h<y){var k=d.maxFragLookUpTolerance;b&&s.hasProgramDateTime&&(g=Object(o.findFragmentByPDT)(m,b.endProgramDateTime,k)),g||!(g=Object(o.findFragmentByPTS)(b,m,h,k))&&b&&b.start<m[0].start&&(g=m[0])}else g=m[v-1];null!==(e=g)&&void 0!==e&&e.encrypted?(i.logger.log("Loading key for "+g.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(n.Events.KEY_LOADING,{frag:g})):g&&this.fragmentTracker.getState(g)===u.FragmentState.NOT_LOADED&&this.loadFragment(g,s,h)}}else this.state=c.State.IDLE},b.loadFragment=function(t,r,n){this.fragCurrent=t,e.prototype.loadFragment.call(this,t,r,n)},m=g,(v=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&p(m.prototype,v),y&&p(m,y),g}(c.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/events.ts"),i=r("./src/utils/texttrack-utils.ts"),a=r("./src/controller/base-playlist-controller.ts"),o=r("./src/types/loader.ts");function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){var t,r;function a(t){var r;return(r=e.call(this,t,"[subtitle-track-controller]")||this).media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r.subtitleDisplay=!0,r.registerListeners(),r}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r);var u,d,f,p=a.prototype;return p.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},p.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(n.Events.ERROR,this.onError,this)},p.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(n.Events.ERROR,this.onError,this)},p.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},p.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},p.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),c(this.media.textTracks).forEach((function(e){Object(i.clearCurrentCues)(e)})),this.subtitleTrack=-1,this.media=null)},p.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},p.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},p.onSubtitleTrackLoaded=function(e,t){var r=t.id,n=t.details,i=this.trackId,a=this.tracksInGroup[i];if(a){var o=a.details;a.details=t.details,this.log("subtitle track "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&(this.retryCount=0,this.playlistLoaded(r,t,o))}else this.warn("Invalid subtitle track id "+r)},p.onLevelLoading=function(e,t){this.switchLevel(t.level)},p.onLevelSwitching=function(e,t){this.switchLevel(t.level)},p.switchLevel=function(e){var t=this.hls.levels[e];if(null!==t&&void 0!==t&&t.textGroupIds){var r=t.textGroupIds[t.urlId];if(this.groupId!==r){var i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,a=this.tracks.filter((function(e){return!r||e.groupId===r}));this.tracksInGroup=a;var o=this.findTrackId(null===i||void 0===i?void 0:i.name)||this.findTrackId();this.groupId=r;var s={subtitleTracks:a};this.log("Updating subtitle tracks, "+a.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(n.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==o&&this.setSubtitleTrack(o,i)}}},p.findTrackId=function(e){for(var t=this.tracksInGroup,r=0;r<t.length;r++){var n=t[r];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},p.onError=function(t,r){e.prototype.onError.call(this,t,r),!r.fatal&&r.context&&r.context.type===o.PlaylistContextType.SUBTITLE_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},p.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var r=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: "+o)}this.log("Loading subtitle playlist for id "+r),this.hls.trigger(n.Events.SUBTITLE_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:e||null})}},p.toggleTrackModes=function(e){var t=this,r=this.media,n=this.subtitleDisplay,i=this.trackId;if(r){var a=c(r.textTracks),o=a.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(a).forEach((function(e){e.mode="disabled"}));else{var s=o[i];s&&(s.mode="disabled")}var l=o[e];l&&(l.mode=n?"showing":"hidden")}},p.setSubtitleTrack=function(e,t){var r,i=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(r=i[e])&&void 0!==r&&r.details)||e<-1||e>=i.length)){this.clearTimer();var a=i[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,a){var o=a.id,s=a.groupId,l=void 0===s?"":s,u=a.name,c=a.type,d=a.url;this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:o,groupId:l,name:u,type:c,url:d});var f=this.switchParams(a.url,null===t||void 0===t?void 0:t.details);this.loadPlaylist(f)}else this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},p.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=c(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},u=a,(d=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}])&&s(u.prototype,d),f&&s(u,f),a}(a.default);function c(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"subtitles"===n.kind&&n.label&&t.push(e[r])}return t}t.default=u},"./src/controller/timeline-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"TimelineController",(function(){return f}));var n=r("./src/polyfills/number.ts"),i=r("./src/events.ts"),a=r("./src/utils/cea-608-parser.ts"),o=r("./src/utils/output-filter.ts"),s=r("./src/utils/webvtt-parser.ts"),l=r("./src/utils/texttrack-utils.ts"),u=r("./src/utils/imsc1-ttml-parser.ts"),c=r("./src/types/loader.ts"),d=r("./src/utils/logger.ts"),f=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new o.default(this,"textTrack1"),r=new o.default(this,"textTrack2"),n=new o.default(this,"textTrack3"),s=new o.default(this,"textTrack4");this.cea608Parser1=new a.default(1,t,r),this.cea608Parser2=new a.default(3,n,s)}e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(i.Events.FRAG_LOADING,this.onFragLoading,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(i.Events.FRAG_LOADING,this.onFragLoading,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,r,n,a){for(var o,s,l,u,c=!1,d=a.length;d--;){var f=a[d],p=(o=f[0],s=f[1],l=t,u=r,Math.min(s,u)-Math.max(o,l));if(p>=0&&(f[0]=Math.min(f[0],t),f[1]=Math.max(f[1],r),c=!0,p/(r-t)>.5))return}if(c||a.push([t,r]),this.config.renderTextTracksNatively){var h=this.captionsTracks[e];this.Cues.newCue(h,t,r,n)}else{var g=this.Cues.newCue(null,t,r,n);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:g,track:e})}},t.onInitPtsFound=function(e,t){var r=this,n=t.frag,a=t.id,o=t.initPTS,s=t.timescale,l=this.unparsedVttFrags;"main"===a&&(this.initPTS[n.cc]=o,this.timescale[n.cc]=s),l.length&&(this.unparsedVttFrags=[],l.forEach((function(e){r.onFragLoaded(i.Events.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var n=t.textTracks[r];if(n[e])return n}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,r=this.captionsTracks,n=this.media,i=t[e],a=i.label,o=i.languageCode,s=this.getExistingTrack(e);if(s)r[e]=s,Object(l.clearCurrentCues)(r[e]),Object(l.sendAddTrackEvent)(r[e],n);else{var u=this.createTextTrack("captions",a,o);u&&(u[e]=!0,r[e]=u)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var r={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=r,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},t.createTextTrack=function(e,t,r){var n=this.media;if(n)return n.addTextTrack(e,t,r)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){Object(l.clearCurrentCues)(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)Object(l.clearCurrentCues)(t[r])}},t.onSubtitleTracksUpdated=function(e,t){var r=this;this.textTracks=[];var n=t.subtitleTracks||[],a=n.some((function(e){return e.textCodec===u.IMSC1_CODEC}));if(this.config.enableWebVTT||a&&this.config.enableIMSC1){var o=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=n||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,t){var n;if(t<s.length){for(var i=null,a=0;a<s.length;a++)if(p(s[a],e)){i=s[a];break}i&&(n=i)}n?Object(l.clearCurrentCues)(n):(n=r.createTextTrack("subtitles",e.name,e.lang))&&(n.mode="disabled"),n&&(n.groupId=e.groupId,r.textTracks.push(n))}))}else if(!o&&this.tracks&&this.tracks.length){var c=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:c})}}},t.onManifestLoaded=function(e,t){var r=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var n="textTrack"+t[1],i=r.captionsProperties[n];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.onFragLoading=function(e,t){var r=this.cea608Parser1,n=this.cea608Parser2,i=this.lastSn;if(this.enabled&&r&&n&&t.frag.type===c.PlaylistLevelType.MAIN){var a=t.frag.sn;a!==i+1&&(r.reset(),n.reset()),this.lastSn=a}},t.onFragLoaded=function(e,t){var r=t.frag,a=t.payload,o=this.initPTS,s=this.unparsedVttFrags;if(r.type===c.PlaylistLevelType.SUBTITLE)if(a.byteLength){if(!Object(n.isFiniteNumber)(o[r.cc]))return s.push(t),void(o.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Missing initial subtitle PTS")}));var l=r.decryptdata;if(null==l||null==l.key||"AES-128"!==l.method){var d=this.tracks[r.level],f=this.vttCCs;f[r.cc]||(f[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),d&&d.textCodec===u.IMSC1_CODEC?this._parseIMSC1(r,a):this._parseVTTs(r,a,f)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var r=this,n=this.hls;Object(u.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(t){r._appendCues(t,e.level),n.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){d.logger.log("Failed to parse IMSC1: "+t),n.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e,t,r){var n=this,a=this.hls;Object(s.parseWebVTT)(t,this.initPTS[e.cc],this.timescale[e.cc],r,e.cc,e.start,(function(t){n._appendCues(t,e.level),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(r){n._fallbackToIMSC1(e,t),d.logger.log("Failed to parse VTT cue: "+r),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:r})}))},t._fallbackToIMSC1=function(e,t){var r=this,n=this.tracks[e.level];n.textCodec||Object(u.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(){n.textCodec=u.IMSC1_CODEC,r._parseIMSC1(e,t)}),(function(){n.textCodec="wvtt"}))},t._appendCues=function(e,t){var r=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[t];if("disabled"===n.mode)return;e.forEach((function(e){return Object(l.addCueToTrack)(n,e)}))}else{var a=this.tracks[t].default?"default":"subtitles"+t;r.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:e,track:a})}},t.onFragDecrypted=function(e,t){var r=t.frag;if(r.type===c.PlaylistLevelType.SUBTITLE){if(!Object(n.isFiniteNumber)(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(i.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var r=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&r&&n)for(var i=0;i<t.samples.length;i++){var a=t.samples[i].bytes;if(a){var o=this.extractCea608Data(a);r.addData(t.samples[i].pts,o[0]),n.addData(t.samples[i].pts,o[1])}}},t.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset,i=t.endOffsetSubtitles,a=t.type,o=this.media;if(o&&!(o.currentTime<n)){if(!a||"video"===a){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return Object(l.removeCuesInRange)(s[e],r,n)}))}if(this.config.renderTextTracksNatively&&0===r&&void 0!==i){var u=this.textTracks;Object.keys(u).forEach((function(e){return Object(l.removeCuesInRange)(u[e],r,i)}))}}},t.extractCea608Data=function(e){for(var t=31&e[0],r=2,n=[[],[]],i=0;i<t;i++){var a=e[r++],o=127&e[r++],s=127&e[r++],l=3&a;0===o&&0===s||0!==(4&a)&&(0!==l&&1!==l||(n[l].push(o),n[l].push(s)))}return n},e}();function p(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));var n=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"removePadding",(function(){return i})),r.d(t,"default",(function(){return a}));var n=r("./src/utils/typed-array.ts");function i(e){var t=e.byteLength,r=t&&new DataView(e.buffer).getUint8(t-1);return r?Object(n.sliceUint8)(e,0,t-r):e}var a=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},t.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),p=0,h=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=h^h<<1^h<<2^h<<3^h<<4;m=m>>>8^255&m^99,e[p]=m,t[m]=p;var v=f[p],y=f[v],b=f[y],k=257*f[m]^16843008*m;n[p]=k<<24|k>>>8,i[p]=k<<16|k>>>16,a[p]=k<<8|k>>>24,o[p]=k,k=16843009*b^65537*y^257*v^16843008*p,l[m]=k<<24|k>>>8,u[m]=k<<16|k>>>16,c[m]=k<<8|k>>>24,d[m]=k,p?(p=v^f[f[f[b^v]]],h^=f[f[h]]):p=h=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,p=this.rcon,h=this.invSubMix,g=h[0],m=h[1],v=h[2],y=h[3];for(a=0;a<u;a++)a<i?s=c[a]=t[a]:(l=s,a%i===0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=p[a/i|0]<<24):i>6&&a%i===4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[a]=s=(c[a-i]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?l:g[f[l>>>24]]^m[f[l>>>16&255]]^v[f[l>>>8&255]]^y[f[255&l]],d[o]=d[o]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,r){for(var n,i,a,o,s,l,u,c,d,f,p,h,g,m,v=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,k=this.invSubMix,E=k[0],_=k[1],S=k[2],T=k[3],w=this.uint8ArrayToUint32Array_(r),x=w[0],O=w[1],P=w[2],C=w[3],A=new Int32Array(e),M=new Int32Array(A.length),I=this.networkToHostOrderSwap;t<A.length;){for(d=I(A[t]),f=I(A[t+1]),p=I(A[t+2]),h=I(A[t+3]),s=d^y[0],l=h^y[1],u=p^y[2],c=f^y[3],g=4,m=1;m<v;m++)n=E[s>>>24]^_[l>>16&255]^S[u>>8&255]^T[255&c]^y[g],i=E[l>>>24]^_[u>>16&255]^S[c>>8&255]^T[255&s]^y[g+1],a=E[u>>>24]^_[c>>16&255]^S[s>>8&255]^T[255&l]^y[g+2],o=E[c>>>24]^_[s>>16&255]^S[l>>8&255]^T[255&u]^y[g+3],s=n,l=i,u=a,c=o,g+=4;n=b[s>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^y[g],i=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[g+1],a=b[u>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^y[g+2],o=b[c>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^y[g+3],M[t]=I(n^x),M[t+1]=I(o^O),M[t+2]=I(a^P),M[t+3]=I(i^C),x=d,O=f,P=p,C=h,t+=4}return M.buffer},e}()},"./src/crypt/decrypter.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r("./src/crypt/aes-crypto.ts"),i=r("./src/crypt/fast-aes-key.ts"),a=r("./src/crypt/aes-decryptor.ts"),o=r("./src/utils/logger.ts"),s=r("./src/utils/mp4-tools.ts"),l=r("./src/utils/typed-array.ts"),u=function(){function e(e,t,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var a=self.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(o){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Object(a.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,r,n){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,r);var i=this.flush();i&&n(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,r).then(n)},t.softwareDecrypt=function(e,t,r){var n=this.currentIV,i=this.currentResult,o=this.remainderData;this.logOnce("JS AES decrypt"),o&&(e=Object(s.appendUint8Array)(o,e),this.remainderData=null);var u=this.getValidChunk(e);if(!u.length)return null;n&&(r=n);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new a.default),c.expandKey(t);var d=i;return this.currentResult=c.decrypt(u.buffer,0,r),this.currentIV=Object(l.sliceUint8)(u,-16).buffer,d||null},t.webCryptoDecrypt=function(e,t,r){var a=this,o=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i.default(o,t)),this.fastAesKey.expandKey().then((function(t){return o?new n.default(o,r).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(n){return a.onWebCryptoError(n,e,t,r)}))},t.onWebCryptoError=function(e,t,r,n){return o.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,r,n)},t.getValidChunk=function(e){var t=e,r=e.length-e.length%16;return r!==e.length&&(t=Object(l.sliceUint8)(e,0,r),this.remainderData=Object(l.sliceUint8)(e,r)),t},t.logOnce=function(e){this.logEnabled&&(o.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));var n=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/demux/base-audio-demuxer.ts"),i=r("./src/demux/adts.ts"),a=r("./src/utils/logger.ts"),o=r("./src/demux/id3.ts");function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,r;function n(t,r){var n;return(n=e.call(this)||this).observer=void 0,n.config=void 0,n.observer=t,n.config=r,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,s(t,r);var l=n.prototype;return l.resetInitSegment=function(t,r,n){e.prototype.resetInitSegment.call(this,t,r,n),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}},n.probe=function(e){if(!e)return!1;for(var t=(o.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(i.probe(e,t))return a.logger.log("ADTS sync word found !"),!0;return!1},l.canParse=function(e,t){return i.canParse(e,t)},l.appendFrame=function(e,t,r){i.initTrackConfig(e,this.observer,t,r,e.manifestCodec);var n=i.appendFrame(e,t,r,this.initPTS,this.frameIndex);if(n&&0===n.missing)return n},n}(n.default);l.minProbeByteLength=9,t.default=l},"./src/demux/adts.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"getAudioConfig",(function(){return o})),r.d(t,"isHeaderPattern",(function(){return s})),r.d(t,"getHeaderLength",(function(){return l})),r.d(t,"getFullFrameLength",(function(){return u})),r.d(t,"canGetFrameLength",(function(){return c})),r.d(t,"isHeader",(function(){return d})),r.d(t,"canParse",(function(){return f})),r.d(t,"probe",(function(){return p})),r.d(t,"initTrackConfig",(function(){return h})),r.d(t,"getFrameDuration",(function(){return g})),r.d(t,"parseFrameHeader",(function(){return m})),r.d(t,"appendFrame",(function(){return v}));var n=r("./src/utils/logger.ts"),i=r("./src/errors.ts"),a=r("./src/events.ts");function o(e,t,r,o){var s,l,u,c,d=navigator.userAgent.toLowerCase(),f=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[r+2])>>>6);var h=(60&t[r+2])>>>2;if(!(h>p.length-1))return u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,n.logger.log("manifest codec:"+o+", ADTS type:"+s+", samplingIndex:"+h),/firefox/i.test(d)?h>=6?(s=5,c=new Array(4),l=h-3):(s=2,c=new Array(2),l=h):-1!==d.indexOf("android")?(s=2,c=new Array(2),l=h):(s=5,c=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&h>=6?l=h-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(h>=6&&1===u||/vivaldi/i.test(d))||!o&&1===u)&&(s=2,c=new Array(2)),l=h)),c[0]=s<<3,c[0]|=(14&h)>>1,c[1]|=(1&h)<<7,c[1]|=u<<3,5===s&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[h],channelCount:u,codec:"mp4a.40."+s,manifestCodec:f};e.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+h})}function s(e,t){return 255===e[t]&&240===(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return t+5<e.length}function d(e,t){return t+1<e.length&&s(e,t)}function f(e,t){return c(e,t)&&s(e,t)&&u(e,t)<=e.length-t}function p(e,t){if(d(e,t)){var r=l(e,t);if(t+r>=e.length)return!1;var n=u(e,t);if(n<=r)return!1;var i=t+n;return i===e.length||d(e,i)}return!1}function h(e,t,r,i,a){if(!e.samplerate){var s=o(t,r,i,a);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,n.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function g(e){return 9216e4/e}function m(e,t,r,n,i){var a=l(e,t),o=u(e,t);if((o-=a)>0)return{headerLength:a,frameLength:o,stamp:r+n*i}}function v(e,t,r,n,i){var a=m(t,r,n,i,g(e.samplerate));if(a){var o,s=a.frameLength,l=a.headerLength,u=a.stamp,c=l+s,d=Math.max(0,r+c-t.length);d?(o=new Uint8Array(c-l)).set(t.subarray(r+l,t.length),0):o=t.subarray(r+l,r+c);var f={unit:o,pts:u};return d||e.samples.push(f),{sample:f,length:c,missing:d}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"initPTSFn",(function(){return u}));var n=r("./src/polyfills/number.ts"),i=r("./src/demux/id3.ts"),a=r("./src/demux/dummy-demuxed-track.ts"),o=r("./src/utils/mp4-tools.ts"),s=r("./src/utils/typed-array.ts"),l=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,r){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,r){},t.demux=function(e,t){this.cachedData&&(e=Object(o.appendUint8Array)(this.cachedData,e),this.cachedData=null);var r,n,l=i.getID3Data(e,0),c=l?l.length:0,d=this._audioTrack,f=this._id3Track,p=l?i.getTimeStamp(l):void 0,h=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=u(p,t)),l&&l.length>0&&f.samples.push({pts:this.initPTS,dts:this.initPTS,data:l}),n=this.initPTS;c<h;){if(this.canParse(e,c)){var g=this.appendFrame(d,e,c);g?(this.frameIndex++,n=g.sample.pts,r=c+=g.length):c=h}else i.canParse(e,c)?(l=i.getID3Data(e,c),f.samples.push({pts:n,dts:n,data:l}),r=c+=l.length):c++;if(c===h&&r!==h){var m=Object(s.sliceUint8)(e,r);this.cachedData?this.cachedData=Object(o.appendUint8Array)(this.cachedData,m):this.cachedData=m}}return{audioTrack:d,avcTrack:Object(a.dummyTrack)(),id3Track:f,textTrack:Object(a.dummyTrack)()}},t.demuxSampleAes=function(e,t,r){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(a.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(a.dummyTrack)()}},t.destroy=function(){},e}(),u=function(e,t){return Object(n.isFiniteNumber)(e)?90*e:9e4*t};t.default=l},"./src/demux/chunk-cache.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));var n=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,r=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var r=new Uint8Array(t),n=0,i=0;i<e.length;i++){var a=e[i];r.set(a,n),n+=a.length}return r}(t,r),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,r){"use strict";function n(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}r.r(t),r.d(t,"dummyTrack",(function(){return n}))},"./src/demux/exp-golomb.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/logger.ts"),i=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,r=8,n=0;n<e;n++)0!==r&&(r=(t+this.readEG()+256)%256),t=0===r?t:r},t.readSPS=function(){var e,t,r,n=0,i=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),p=this.skipUEG.bind(this),h=this.skipScalingList.bind(this);s();var g=s();if(l(5),d(3),s(),p(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var m=u();if(3===m&&d(1),p(),p(),d(1),c())for(t=3!==m?8:12,r=0;r<t;r++)c()&&h(r<6?16:64)}p();var v=u();if(0===v)u();else if(1===v)for(d(1),f(),f(),e=u(),r=0;r<e;r++)f();p(),d(1);var y=u(),b=u(),k=l(1);0===k&&d(1),d(1),c()&&(n=u(),i=u(),a=u(),o=u());var E=[1,1];if(c()&&c())switch(s()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*n-2*i),height:(2-k)*(b+1)*16-(k?2:4)*(a+o),pixelRatio:E}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=i},"./src/demux/id3.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isHeader",(function(){return i})),r.d(t,"isFooter",(function(){return a})),r.d(t,"getID3Data",(function(){return o})),r.d(t,"canParse",(function(){return l})),r.d(t,"getTimeStamp",(function(){return u})),r.d(t,"isTimeStampFrame",(function(){return c})),r.d(t,"getID3Frames",(function(){return f})),r.d(t,"decodeFrame",(function(){return p})),r.d(t,"utf8ArrayToStr",(function(){return y})),r.d(t,"testables",(function(){return b}));var n,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){for(var r=t,n=0;i(e,t);)n+=10,n+=s(e,t+6),a(e,t+10)&&(n+=10),t+=n;if(n>0)return e.subarray(r,r+n)},s=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},l=function(e,t){return i(e,t)&&s(e,t+6)+10<=e.length-t},u=function(e){for(var t=f(e),r=0;r<t.length;r++){var n=t[r];if(c(n))return v(n)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},d=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),r=s(e,4);return{type:t,size:r,data:e.subarray(10,10+r)}},f=function(e){for(var t=0,r=[];i(e,t);){for(var n=s(e,t+6),o=(t+=10)+n;t+8<o;){var l=d(e.subarray(t)),u=p(l);u&&r.push(u),t+=l.size+10}a(e,t)&&(t+=10)}return r},p=function(e){return"PRIV"===e.type?h(e):"W"===e.type[0]?m(e):g(e)},h=function(e){if(!(e.size<2)){var t=y(e.data,!0),r=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:r.buffer}}},g=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,r=y(e.data.subarray(t),!0);t+=r.length+1;var n=y(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=y(e.data.subarray(1));return{key:e.type,data:i}}},m=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,r=y(e.data.subarray(t),!0);t+=r.length+1;var n=y(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=y(e.data);return{key:e.type,data:i}},v=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},y=function(e,t){void 0===t&&(t=!1);var r=k();if(r){var n=r.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}for(var a,o,s,l=e.length,u="",c=0;c<l;){if(0===(a=e[c++])&&t)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:o=e[c++],u+=String.fromCharCode((31&a)<<6|63&o);break;case 14:o=e[c++],s=e[c++],u+=String.fromCharCode((15&a)<<12|(63&o)<<6|(63&s)<<0)}}return u},b={decodeTextFrame:g};function k(){return n||"undefined"===typeof self.TextDecoder||(n=new self.TextDecoder("utf-8")),n}},"./src/demux/mp3demuxer.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/demux/base-audio-demuxer.ts"),i=r("./src/demux/id3.ts"),a=r("./src/utils/logger.ts"),o=r("./src/demux/mpegaudio.ts");function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,s(t,r);var l=n.prototype;return l.resetInitSegment=function(t,r,n){e.prototype.resetInitSegment.call(this,t,r,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}},n.probe=function(e){if(!e)return!1;for(var t=(i.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(o.probe(e,t))return a.logger.log("MPEG Audio sync word found !"),!0;return!1},l.canParse=function(e,t){return o.canParse(e,t)},l.appendFrame=function(e,t,r){if(null!==this.initPTS)return o.appendFrame(e,t,r,this.initPTS,this.frameIndex)},n}(n.default);l.minProbeByteLength=4,t.default=l},"./src/demux/mp4demuxer.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/mp4-tools.ts"),i=r("./src/demux/dummy-demuxed-track.ts"),a=function(){function e(e,t){this.remainderData=null,this.config=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.resetContiguity=function(){},e.probe=function(e){return Object(n.findBox)({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.demux=function(e){var t=e,r=Object(i.dummyTrack)();if(this.config.progressive){this.remainderData&&(t=Object(n.appendUint8Array)(this.remainderData,e));var a=Object(n.segmentValidRange)(t);this.remainderData=a.remainder,r.samples=a.valid||new Uint8Array}else r.samples=t;return{audioTrack:Object(i.dummyTrack)(),avcTrack:r,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.flush=function(){var e=Object(i.dummyTrack)();return e.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(i.dummyTrack)(),avcTrack:e,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.demuxSampleAes=function(e,t,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();a.minProbeByteLength=1024,t.default=a},"./src/demux/mpegaudio.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"appendFrame",(function(){return l})),r.d(t,"parseHeader",(function(){return u})),r.d(t,"isHeaderPattern",(function(){return c})),r.d(t,"isHeader",(function(){return d})),r.d(t,"canParse",(function(){return f})),r.d(t,"probe",(function(){return p}));var n=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],a=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function l(e,t,r,n,i){if(!(r+24>t.length)){var a=u(t,r);if(a&&r+a.frameLength<=t.length){var o=n+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(r,r+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),{sample:s,length:a.frameLength,missing:0}}}}function u(e,t){var r=e[t+1]>>3&3,l=e[t+1]>>1&3,u=e[t+2]>>4&15,c=e[t+2]>>2&3;if(1!==r&&0!==u&&15!==u&&3!==c){var d=e[t+2]>>1&1,f=e[t+3]>>6,p=1e3*i[14*(3===r?3-l:3===l?3:4)+u-1],h=a[3*(3===r?0:2===r?1:2)+c],g=3===f?1:2,m=o[r][l],v=s[l],y=8*m*v,b=Math.floor(m*p/h+d)*v;if(null===n){var k=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);n=k?parseInt(k[1]):0}return!!n&&n<=87&&2===l&&p>=224e3&&0===f&&(e[t+3]=128|e[t+3]),{sampleRate:h,channelCount:g,frameLength:b,samplesPerFrame:y}}}function c(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function d(e,t){return t+1<e.length&&c(e,t)}function f(e,t){return c(e,t)&&4<=e.length-t}function p(e,t){if(t+1<e.length&&c(e,t)){var r=u(e,t),n=4;null!==r&&void 0!==r&&r.frameLength&&(n=r.frameLength);var i=t+n;return i===e.length||d(e,i)}return!1}},"./src/demux/sample-aes.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/crypt/decrypter.ts"),i=r("./src/demux/tsdemuxer.ts"),a=function(){function e(e,t,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new n.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,r,n){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){var o=new Uint8Array(a);i.set(o,16),n||s.decryptAacSamples(e,t+1,r)}))},t.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,n),!n)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<=e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},t.getAvcDecryptedUnit=function(e,t){for(var r=new Uint8Array(t),n=0,i=32;i<=e.length-16;i+=160,n+=16)e.set(r.subarray(n,n+16),i);return e},t.decryptAvcSample=function(e,t,r,n,a,o){var s=Object(i.discardEPB)(a.data),l=this.getAvcEncryptedData(s),u=this;this.decryptBuffer(l.buffer,(function(i){a.data=u.getAvcDecryptedUnit(s,i),o||u.decryptAvcSamples(e,t,r+1,n)}))},t.decryptAvcSamples=function(e,t,r,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;!(r>=i.length);r++){var a=i[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,n,a,o),!o)return}}}},e}();t.default=a},"./src/demux/transmuxer-interface.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return d}));var n=r("./node_modules/webworkify-webpack/index.js"),i=r("./src/events.ts"),a=r("./src/demux/transmuxer.ts"),o=r("./src/utils/logger.ts"),s=r("./src/errors.ts"),l=r("./src/utils/mediasource-helper.ts"),u=r("./node_modules/eventemitter3/index.js"),c=Object(l.getMediaSource)()||{isTypeSupported:function(){return!1}},d=function(){function e(e,t,r,l){var d=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=r,this.onFlush=l;var f=e.config,p=function(t,r){(r=r||{}).frag=d.frag,r.id=d.id,e.trigger(t,r)};this.observer=new u.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,p),this.observer.on(i.Events.ERROR,p);var h={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(f.enableWorker&&"undefined"!==typeof Worker){var m;o.logger.log("demuxing in webworker");try{m=this.worker=n("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(t){e.trigger(i.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},m.postMessage({cmd:"init",typeSupported:h,vendor:g,id:t,config:JSON.stringify(f)})}catch(v){o.logger.warn("Error in worker:",v),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new a.default(this.observer,h,f,g,t),this.worker=null}}else this.transmuxer=new a.default(this.observer,h,f,g,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var r=this.observer;r&&r.removeAllListeners(),this.observer=null},t.push=function(e,t,r,n,i,s,l,u,c,d){var f=this;c.transmuxing.start=self.performance.now();var p=this.transmuxer,h=this.worker,g=s?s.start:i.start,m=i.decryptdata,v=this.frag,y=!(v&&i.cc===v.cc),b=!(v&&c.level===v.level),k=v?c.sn-v.sn:-1,E=this.part?c.part-this.part.index:1,_=!b&&(1===k||0===k&&1===E),S=self.performance.now();(b||k||0===i.stats.parsing.start)&&(i.stats.parsing.start=S),!s||!E&&_||(s.stats.parsing.start=S);var T=new a.TransmuxState(y,_,u,b,g);if(!_||y){o.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+y+"\n        trackSwitch: "+b+"\n        contiguous: "+_+"\n        accurateTimeOffset: "+u+"\n        timeOffset: "+g);var w=new a.TransmuxConfig(r,n,t,l,d);this.configureTransmuxer(w)}if(this.frag=i,this.part=s,h)h.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:c,state:T},e instanceof ArrayBuffer?[e]:[]);else if(p){var x=p.push(e,m,c,T);Object(a.isPromise)(x)?x.then((function(e){f.handleTransmuxComplete(e)})):this.handleTransmuxComplete(x)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var r=this.transmuxer,n=this.worker;if(n)n.postMessage({cmd:"flush",chunkMeta:e});else if(r){var i=r.flush(e);Object(a.isPromise)(i)?i.then((function(r){t.handleFlushResult(r,e)})):this.handleFlushResult(i,e)}},t.handleFlushResult=function(e,t){var r=this;e.forEach((function(e){r.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,r=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):r&&r.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var n=r("./src/demux/transmuxer.ts"),i=r("./src/events.ts"),a=r("./src/utils/logger.ts"),o=r("./node_modules/eventemitter3/index.js");function s(e){var t=new o.EventEmitter,r=function(t,r){e.postMessage({event:t,data:r})};t.on(i.Events.FRAG_DECRYPTED,r),t.on(i.Events.ERROR,r),e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.transmuxer=new n.default(t,o.typeSupported,s,o.vendor,o.id),Object(a.enableLogs)(s.debug),r("init",null);break;case"configure":e.transmuxer.configure(o.config);break;case"demux":var u=e.transmuxer.push(o.data,o.decryptdata,o.chunkMeta,o.state);Object(n.isPromise)(u)?u.then((function(t){l(e,t)})):l(e,u);break;case"flush":var d=o.chunkMeta,f=e.transmuxer.flush(d);Object(n.isPromise)(f)?f.then((function(t){c(e,t,d)})):c(e,f,d)}}))}function l(e,t){if((r=t.remuxResult).audio||r.video||r.text||r.id3||r.initSegment){var r,n=[],i=t.remuxResult,a=i.audio,o=i.video;a&&u(n,a),o&&u(n,o),e.postMessage({event:"transmuxComplete",data:t},n)}}function u(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function c(e,t,r){t.forEach((function(t){l(e,t)})),e.postMessage({event:"flush",data:r})}},"./src/demux/transmuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y})),r.d(t,"isPromise",(function(){return k})),r.d(t,"TransmuxConfig",(function(){return E})),r.d(t,"TransmuxState",(function(){return _}));var n,i=r("./src/events.ts"),a=r("./src/errors.ts"),o=r("./src/crypt/decrypter.ts"),s=r("./src/demux/aacdemuxer.ts"),l=r("./src/demux/mp4demuxer.ts"),u=r("./src/demux/tsdemuxer.ts"),c=r("./src/demux/mp3demuxer.ts"),d=r("./src/remux/mp4-remuxer.ts"),f=r("./src/remux/passthrough-remuxer.ts"),p=r("./src/demux/chunk-cache.ts"),h=r("./src/utils/mp4-tools.ts"),g=r("./src/utils/logger.ts");try{n=self.performance.now.bind(self.performance)}catch(S){g.logger.debug("Unable to use Performance API on this environment"),n=self.Date.now}var m=[{demux:u.default,remux:d.default},{demux:l.default,remux:f.default},{demux:s.default,remux:d.default},{demux:c.default,remux:d.default}],v=1024;m.forEach((function(e){var t=e.demux;v=Math.max(v,t.minProbeByteLength)}));var y=function(){function e(e,t,r,n,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new p.default,this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,r,i){var a=this,o=r.transmuxing;o.executeStart=n();var s=new Uint8Array(e),l=this.cache,u=this.config,c=this.currentTransmuxState,d=this.transmuxConfig;i&&(this.currentTransmuxState=i);var f=function(e,t){var r=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(r=t),r}(s,t);if(f&&"AES-128"===f.method){var p=this.getDecrypter();if(!u.enableSoftwareAES)return this.decryptionPromise=p.webCryptoDecrypt(s,f.key.buffer,f.iv.buffer).then((function(e){var t=a.push(e,null,r);return a.decryptionPromise=null,t})),this.decryptionPromise;var g=p.softwareDecrypt(s,f.key.buffer,f.iv.buffer);if(!g)return o.executeEnd=n(),b(r);s=new Uint8Array(g)}var m=i||c,v=m.contiguous,y=m.discontinuity,k=m.trackSwitch,E=m.accurateTimeOffset,_=m.timeOffset,S=d.audioCodec,T=d.videoCodec,w=d.defaultInitPts,x=d.duration,O=d.initSegmentData;if((y||k)&&this.resetInitSegment(O,S,T,x),y&&this.resetInitialTimestamp(w),v||this.resetContiguity(),this.needsProbing(s,y,k)){if(l.dataLength){var P=l.flush();s=Object(h.appendUint8Array)(P,s)}this.configureTransmuxer(s,d)}var C=this.transmux(s,f,_,E,r),A=this.currentTransmuxState;return A.contiguous=!0,A.discontinuity=!1,A.trackSwitch=!1,o.executeEnd=n(),C},t.flush=function(e){var t=this,r=e.transmuxing;r.executeStart=n();var o=this.decrypter,s=this.cache,l=this.currentTransmuxState,u=this.decryptionPromise;if(u)return u.then((function(){return t.flush(e)}));var c=[],d=l.timeOffset;if(o){var f=o.flush();f&&c.push(this.push(f,null,e))}var p=s.dataLength;s.reset();var h=this.demuxer,g=this.remuxer;if(!h||!g)return p>=v&&this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),r.executeEnd=n(),[b(e)];var m=h.flush(d);return k(m)?m.then((function(r){return t.flushRemux(c,r,e),c})):(this.flushRemux(c,m,e),c)},t.flushRemux=function(e,t,r){var i=t.audioTrack,a=t.avcTrack,o=t.id3Track,s=t.textTrack,l=this.currentTransmuxState,u=l.accurateTimeOffset,c=l.timeOffset;g.logger.log("[transmuxer.ts]: Flushed fragment "+r.sn+(r.part>-1?" p: "+r.part:"")+" of level "+r.level);var d=this.remuxer.remux(i,a,o,s,c,u,!0,this.id);e.push({remuxResult:d,chunkMeta:r}),r.transmuxing.executeEnd=n()},t.resetInitialTimestamp=function(e){var t=this.demuxer,r=this.remuxer;t&&r&&(t.resetTimeStamp(e),r.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,r,n){var i=this.demuxer,a=this.remuxer;i&&a&&(i.resetInitSegment(t,r,n),a.resetInitSegment(e,t,r))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,r,n,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,r,n,i):this.transmuxUnencrypted(e,r,n,i)},t.transmuxUnencrypted=function(e,t,r,n){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,o=i.avcTrack,s=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,o,s,l,t,r,!1,this.id),chunkMeta:n}},t.transmuxSampleAes=function(e,t,r,n,i){var a=this;return this.demuxer.demuxSampleAes(e,t,r).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.avcTrack,e.id3Track,e.textTrack,r,n,!1,a.id),chunkMeta:i}}))},t.configureTransmuxer=function(e,t){for(var r,n=this.config,i=this.observer,a=this.typeSupported,o=this.vendor,s=t.audioCodec,u=t.defaultInitPts,c=t.duration,d=t.initSegmentData,p=t.videoCodec,h=0,v=m.length;h<v;h++)if(m[h].demux.probe(e)){r=m[h];break}r||(g.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),r={demux:l.default,remux:f.default});var y=this.demuxer,b=this.remuxer,k=r.remux,E=r.demux;b&&b instanceof k||(this.remuxer=new k(i,n,a,o)),y&&y instanceof E||(this.demuxer=new E(i,n,a),this.probe=E.probe),this.resetInitSegment(d,s,p,c),this.resetInitialTimestamp(u)},t.needsProbing=function(e,t,r){return!this.demuxer||!this.remuxer||t||r},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new o.default(this.observer,this.config)),e},e}(),b=function(e){return{remuxResult:{},chunkMeta:e}};function k(e){return"then"in e&&e.then instanceof Function}var E=function(e,t,r,n,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=r,this.duration=n,this.defaultInitPts=i},_=function(e,t,r,n,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=r,this.trackSwitch=n,this.timeOffset=i}},"./src/demux/tsdemuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"discardEPB",(function(){return k}));var n=r("./src/demux/adts.ts"),i=r("./src/demux/mpegaudio.ts"),a=r("./src/demux/exp-golomb.ts"),o=r("./src/demux/id3.ts"),s=r("./src/demux/sample-aes.ts"),l=r("./src/events.ts"),u=r("./src/utils/mp4-tools.ts"),c=r("./src/utils/logger.ts"),d=r("./src/errors.ts"),f={video:1,audio:2,id3:3,text:4},p=function(){function e(e,t,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=r}e.probe=function(t){var r=e.syncOffset(t);return!(r<0)&&(r&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:f[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",n),this._audioTrack=e.createTrack("audio",n),this._id3Track=e.createTrack("id3",n),this._txtTrack=e.createTrack("text",n),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=r,this._duration=n},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,r=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},t.demux=function(t,r,n,i){var a;void 0===n&&(n=!1),void 0===i&&(i=!1),n||(this.sampleAes=null);var o=this._avcTrack,s=this._audioTrack,f=this._id3Track,p=o.pid,h=o.pesData,y=s.pid,b=f.pid,k=s.pesData,E=f.pesData,_=!1,S=this.pmtParsed,T=this._pmtId,w=t.length;if(this.remainderData&&(w=(t=Object(u.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),w<188&&!i)return this.remainderData=t,{audioTrack:s,avcTrack:o,id3Track:f,textTrack:this._txtTrack};var x=Math.max(0,e.syncOffset(t));(w-=(w+x)%188)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,w,t.buffer.byteLength-w));for(var O=x;O<w;O+=188)if(71===t[O]){var P=!!(64&t[O+1]),C=((31&t[O+1])<<8)+t[O+2],A=void 0;if((48&t[O+3])>>4>1){if((A=O+5+t[O+4])===O+188)continue}else A=O+4;switch(C){case p:P&&(h&&(a=v(h))&&this.parseAVCPES(a,!1),h={data:[],size:0}),h&&(h.data.push(t.subarray(A,O+188)),h.size+=O+188-A);break;case y:P&&(k&&(a=v(k))&&(s.isAAC?this.parseAACPES(a):this.parseMPEGPES(a)),k={data:[],size:0}),k&&(k.data.push(t.subarray(A,O+188)),k.size+=O+188-A);break;case b:P&&(E&&(a=v(E))&&this.parseID3PES(a),E={data:[],size:0}),E&&(E.data.push(t.subarray(A,O+188)),E.size+=O+188-A);break;case 0:P&&(A+=t[A]+1),T=this._pmtId=g(t,A);break;case T:P&&(A+=t[A]+1);var M=m(t,A,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,n);(p=M.avc)>0&&(o.pid=p),(y=M.audio)>0&&(s.pid=y,s.isAAC=M.isAAC),(b=M.id3)>0&&(f.pid=b),_&&!S&&(c.logger.log("reparse from beginning"),_=!1,O=x-188),S=this.pmtParsed=!0;break;case 17:case 8191:break;default:_=!0}}else this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});o.pesData=h,s.pesData=k,f.pesData=E;var I={audioTrack:s,avcTrack:o,id3Track:f,textTrack:this._txtTrack};return i&&this.extractRemainingSamples(I),I},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,r=e.audioTrack,n=e.avcTrack,i=e.id3Track,a=n.pesData,o=r.pesData,s=i.pesData;a&&(t=v(a))?(this.parseAVCPES(t,!0),n.pesData=null):n.pesData=a,o&&(t=v(o))?(r.isAAC?this.parseAACPES(t):this.parseMPEGPES(t),r.pesData=null):(null!==o&&void 0!==o&&o.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=o),s&&(t=v(s))?(this.parseID3PES(t),i.pesData=null):i.pesData=s},t.demuxSampleAes=function(e,t,r){var n=this.demux(e,r,!0,!this.config.progressive),i=this.sampleAes=new s.default(this.observer,this.config,t);return this.decrypt(n,i)},t.decrypt=function(e,t){return new Promise((function(r){var n=e.audioTrack,i=e.avcTrack;n.samples&&n.isAAC?t.decryptAacSamples(n.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){r(e)})):r(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){r(e)}))}))},t.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},t.parseAVCPES=function(e,t){var r,n=this,i=this._avcTrack,s=this.parseAVCNALu(e.data),l=this.avcSample,u=!1;e.data=null,l&&s.length&&!i.audFound&&(y(l,i),l=this.avcSample=h(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:r=!0,l||(l=n.avcSample=h(!0,e.pts,e.dts,"")),l.frame=!0;var s=t.data;if(u&&s.length>4){var c=new a.default(s).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(l.key=!0)}break;case 5:r=!0,l||(l=n.avcSample=h(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:r=!0;var d=new a.default(k(t.data));d.readUByte();for(var f=0,p=0,g=!1,m=0;!g&&d.bytesAvailable>1;){f=0;do{f+=m=d.readUByte()}while(255===m);p=0;do{p+=m=d.readUByte()}while(255===m);if(4===f&&0!==d.bytesAvailable){if(g=!0,181===d.readUByte()&&49===d.readUShort()&&1195456820===d.readUInt()&&3===d.readUByte()){for(var v=d.readUByte(),E=31&v,_=[v,d.readUByte()],S=0;S<E;S++)_.push(d.readUByte()),_.push(d.readUByte()),_.push(d.readUByte());b(n._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}else if(5===f&&0!==d.bytesAvailable){if(g=!0,p>16){for(var T=[],w=0;w<16;w++)T.push(d.readUByte().toString(16)),3!==w&&5!==w&&7!==w&&9!==w||T.push("-");for(var x=p-16,O=new Uint8Array(x),P=0;P<x;P++)O[P]=d.readUByte();b(n._txtTrack.samples,{pts:e.pts,payloadType:f,uuid:T.join(""),userData:Object(o.utf8ArrayToStr)(O),userDataBytes:O})}}else if(p<d.bytesAvailable)for(var C=0;C<p;C++)d.readUByte()}break;case 7:if(r=!0,u=!0,!i.sps){var A=new a.default(t.data).readSPS();i.width=A.width,i.height=A.height,i.pixelRatio=A.pixelRatio,i.sps=[t.data],i.duration=n._duration;for(var M=t.data.subarray(1,4),I="avc1.",R=0;R<3;R++){var D=M[R].toString(16);D.length<2&&(D="0"+D),I+=D}i.codec=I}break;case 8:r=!0,i.pps||(i.pps=[t.data]);break;case 9:r=!1,i.audFound=!0,l&&y(l,i),l=n.avcSample=h(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&r&&l.units.push(t)})),t&&l&&(y(l,i),this.avcSample=null)},t.getLastNalUnit=function(){var e,t,r=this.avcSample;if(!r||0===r.units.length){var n=this._avcTrack.samples;r=n[n.length-1]}if(null!==(e=r)&&void 0!==e&&e.units){var i=r.units;t=i[i.length-1]}return t},t.parseAVCNALu=function(e){var t,r,n=e.byteLength,i=this._avcTrack,a=i.naluState||0,o=a,s=[],l=0,u=-1,c=0;for(-1===a&&(u=0,c=31&e[0],a=0,l=1);l<n;)if(t=e[l++],a)if(1!==a)if(t)if(1===t){if(u>=0){var d={data:e.subarray(u,l-a-1),type:c};s.push(d)}else{var f=this.getLastNalUnit();if(f&&(o&&l<=4-o&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-o)),(r=l-a-1)>0)){var p=new Uint8Array(f.data.byteLength+r);p.set(f.data,0),p.set(e.subarray(0,r),f.data.byteLength),f.data=p}}l<n?(u=l,c=31&e[l],a=0):a=-1}else a=0;else a=3;else a=t?0:2;else a=t?0:1;if(u>=0&&a>=0){var h={data:e.subarray(u,n),type:c,state:a};s.push(h)}if(0===s.length){var g=this.getLastNalUnit();if(g){var m=new Uint8Array(g.data.byteLength+e.byteLength);m.set(g.data,0),m.set(e,g.data.byteLength),g.data=m}}return i.naluState=a,s},t.parseAACPES=function(e){var t,r,i,a,o,s=0,u=this._audioTrack,f=this.aacOverFlow,p=e.data;if(f){this.aacOverFlow=null;var h=f.sample.unit.byteLength,g=Math.min(f.missing,h),m=h-g;f.sample.unit.set(p.subarray(0,g),m),u.samples.push(f.sample),s=f.missing}for(t=s,r=p.length;t<r-1&&!n.isHeader(p,t);t++);if(t===s||(t<r-1?(i="AAC PES did not start with ADTS header,offset:"+t,a=!1):(i="no ADTS header found in AAC PES",a=!0),c.logger.warn("parsing error:"+i),this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:a,reason:i}),!a)){if(n.initTrackConfig(u,this.observer,p,t,this.audioCodec),void 0!==e.pts)o=e.pts;else{if(!f)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var v=n.getFrameDuration(u.samplerate);o=f.sample.pts+v}for(var y=0;t<r;){if(n.isHeader(p,t)){if(t+5<r){var b=n.appendFrame(u,p,t,o,y);if(b){if(!b.missing){t+=b.length,y++;continue}this.aacOverFlow=b}}break}t++}}},t.parseMPEGPES=function(e){var t=e.data,r=t.length,n=0,a=0,o=e.pts;if(void 0!==o)for(;a<r;)if(i.isHeader(t,a)){var s=i.appendFrame(this._audioTrack,t,a,o,n);if(!s)break;a+=s.length,n++}else a++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e){void 0!==e.pts?this._id3Track.samples.push(e):c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function h(e,t,r,n){return{key:e,frame:!1,pts:t,dts:r,units:[],debug:n,length:0}}function g(e,t){return(31&e[t+10])<<8|e[t+11]}function m(e,t,r,n){var i={audio:-1,avc:-1,id3:-1,isAAC:!0},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var o=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!n){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=o);break;case 21:-1===i.id3&&(i.id3=o);break;case 219:if(!n){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=o);break;case 3:case 4:r?-1===i.audio&&(i.audio=o,i.isAAC=!1):c.logger.log("MPEG audio found, not supported in this browser");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function v(e){var t,r,n,i,a,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;var u=t[7];192&u&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&u?i-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(c.logger.warn(Math.round((i-a)/9e4)+"s delta between PTS and DTS, align them"),i=a):a=i);var d=(n=t[8])+9;if(e.size<=d)return null;e.size-=d;for(var f=new Uint8Array(e.size),p=0,h=s.length;p<h;p++){var g=(t=s[p]).byteLength;if(d){if(d>g){d-=g;continue}t=t.subarray(d),g-=d,d=0}f.set(t,o),o+=g}return r&&(r-=n+3),{data:f,pts:i,dts:a,len:r}}return null}function y(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var r=t.samples,n=r.length;if(!n)return void t.dropped++;var i=r[n-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&c.logger.log(e.pts+"/"+e.dts+":"+e.debug)}function b(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var n=r-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)}function k(e){for(var t=e.byteLength,r=[],n=1;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return e;var i=t-r.length,a=new Uint8Array(i),o=0;for(n=0;n<i;o++,n++)o===r[0]&&(o++,r.shift()),a[n]=e[o];return a}p.minProbeByteLength=188,t.default=p},"./src/errors.ts":function(e,t,r){"use strict";var n,i;r.r(t),r.d(t,"ErrorTypes",(function(){return n})),r.d(t,"ErrorDetails",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(n||(n={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(i||(i={}))},"./src/events.ts":function(e,t,r){"use strict";var n;r.r(t),r.d(t,"Events",(function(){return n})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(n||(n={}))},"./src/hls.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var n=r("./node_modules/url-toolkit/src/url-toolkit.js"),i=r("./src/loader/playlist-loader.ts"),a=r("./src/loader/key-loader.ts"),o=r("./src/controller/id3-track-controller.ts"),s=r("./src/controller/latency-controller.ts"),l=r("./src/controller/level-controller.ts"),u=r("./src/controller/fragment-tracker.ts"),c=r("./src/controller/stream-controller.ts"),d=r("./src/is-supported.ts"),f=r("./src/utils/logger.ts"),p=r("./src/config.ts"),h=r("./node_modules/eventemitter3/index.js"),g=r("./src/events.ts"),m=r("./src/errors.ts");function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new h.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var r=this.config=Object(p.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,Object(f.enableLogs)(r.debug),this._autoLevelCapping=-1,r.progressive&&Object(p.enableStreamingMode)(r);var n=r.abrController,d=r.bufferController,g=r.capLevelController,m=r.fpsController,v=this.abrController=new n(this),y=this.bufferController=new d(this),b=this.capLevelController=new g(this),k=new m(this),E=new i.default(this),_=new a.default(this),S=new o.default(this),T=this.levelController=new l.default(this),w=new u.FragmentTracker(this),x=this.streamController=new c.default(this,w);b.setStreamController(x),k.setStreamController(x);var O=[T,x];this.networkControllers=O;var P=[E,_,v,y,b,k,S,w];this.audioTrackController=this.createController(r.audioTrackController,null,O),this.createController(r.audioStreamController,w,O),this.subtitleTrackController=this.createController(r.subtitleTrackController,null,O),this.createController(r.subtitleStreamController,w,O),this.createController(r.timelineController,null,P),this.emeController=this.createController(r.emeController,null,P),this.latencyController=this.createController(s.default,null,P),this.coreComponents=P}e.isSupported=function(){return Object(d.isSupported)()};var t,r,y,b=e.prototype;return b.createController=function(e,t,r){if(e){var n=t?new e(this,t):new e(this);return r&&r.push(n),n}return null},b.on=function(e,t,r){void 0===r&&(r=this),this._emitter.on(e,t,r)},b.once=function(e,t,r){void 0===r&&(r=this),this._emitter.once(e,t,r)},b.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},b.off=function(e,t,r,n){void 0===r&&(r=this),this._emitter.off(e,t,r,n)},b.listeners=function(e){return this._emitter.listeners(e)},b.emit=function(e,t,r){return this._emitter.emit(e,t,r)},b.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(r){f.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.trigger(g.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:r})}return!1},b.listenerCount=function(e){return this._emitter.listenerCount(e)},b.destroy=function(){f.logger.log("destroy"),this.trigger(g.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},b.attachMedia=function(e){f.logger.log("attachMedia"),this._media=e,this.trigger(g.Events.MEDIA_ATTACHING,{media:e})},b.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(g.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(e){this.stopLoad();var t=this.media,r=this.url,i=this.url=n.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});f.logger.log("loadSource:"+i),t&&r&&r!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(g.Events.MANIFEST_LOADING,{url:e})},b.startLoad=function(e){void 0===e&&(e=-1),f.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},b.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},b.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){f.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},b.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,y=[{key:"version",get:function(){return"1.0.7"}},{key:"Events",get:function(){return g.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:p.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}],(r=[{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){f.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){f.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){f.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){f.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){f.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(f.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var r=e.length,n=0;n<r;n++)if(e[n].maxBitrate>t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&v(t.prototype,r),y&&v(t,y),e}();y.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isSupported",(function(){return a})),r.d(t,"changeTypeSupported",(function(){return o}));var n=r("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function a(){var e=Object(n.getMediaSource)();if(!e)return!1;var t=i(),r=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!r&&!!a}function o(){var e,t=i();return"function"===typeof(null===t||void 0===t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/fragment-loader.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return d})),r.d(t,"LoadError",(function(){return p}));var n=r("./src/polyfills/number.ts"),i=r("./src/errors.ts");function a(e){var t="function"===typeof Map?new Map:void 0;return(a=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)})(e)}function o(e,t,r){return(o=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&l(i,r.prototype),i}).apply(null,arguments)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=Math.pow(2,17),d=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var r=this,n=e.url;if(!n)return Promise.reject(new p({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(n?"part list":"url")));this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(n,l){r.loader&&r.loader.destroy();var u=r.loader=e.loader=o?new o(a):new s(a),d=f(e),h={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:c};e.stats=u.stats,u.load(d,h,{onSuccess:function(t,i,a,o){r.resetLoader(e,u),n({frag:e,part:null,payload:t.data,networkDetails:o})},onError:function(t,n,a){r.resetLoader(e,u),l(new p({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:a}))},onAbort:function(t,n,a){r.resetLoader(e,u),l(new p({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:a}))},onTimeout:function(t,n,a){r.resetLoader(e,u),l(new p({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:a}))},onProgress:function(r,n,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))},t.loadPart=function(e,t,r){var n=this;this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(l,u){n.loader&&n.loader.destroy();var d=n.loader=e.loader=o?new o(a):new s(a),h=f(e,t),g={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:c};t.stats=d.stats,d.load(h,g,{onSuccess:function(i,a,o,s){n.resetLoader(e,d),n.updateStatsFromPart(e,t);var u={frag:e,part:t,payload:i.data,networkDetails:s};r(u),l(u)},onError:function(r,a,o){n.resetLoader(e,d),u(new p({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:r,networkDetails:o}))},onAbort:function(r,a,o){e.stats.aborted=t.stats.aborted,n.resetLoader(e,d),u(new p({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:o}))},onTimeout:function(r,a,o){n.resetLoader(e,d),u(new p({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:o}))}})}))},t.updateStatsFromPart=function(e,t){var r=e.stats,n=t.stats,i=n.total;if(r.loaded+=n.loaded,i){var a=Math.round(e.duration/t.duration),o=Math.min(Math.round(r.loaded/i),a),s=(a-o)*Math.round(r.loaded/o);r.total=r.loaded+s}else r.total=Math.max(r.loaded,r.total);var l=r.loading,u=n.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function f(e,t){void 0===t&&(t=null);var r=t||e,i={frag:e,part:t,responseType:"arraybuffer",url:r.url,rangeStart:0,rangeEnd:0},a=r.byteRangeStartOffset,o=r.byteRangeEndOffset;return Object(n.isFiniteNumber)(a)&&Object(n.isFiniteNumber)(o)&&(i.rangeStart=a,i.rangeEnd=o),i}var p=function(e){var t,r;function n(t){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(r=e.call.apply(e,[this].concat(i))||this).data=void 0,r.data=t,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r),n}(a(Error))},"./src/loader/fragment.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"ElementaryStreamTypes",(function(){return n})),r.d(t,"BaseSegment",(function(){return p})),r.d(t,"Fragment",(function(){return h})),r.d(t,"Part",(function(){return g}));var n,i=r("./src/polyfills/number.ts"),a=r("./node_modules/url-toolkit/src/url-toolkit.js"),o=r("./src/utils/logger.ts"),s=r("./src/loader/level-key.ts"),l=r("./src/loader/load-stats.ts");function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(n||(n={}));var p=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[n.AUDIO]=null,t[n.VIDEO]=null,t[n.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var r=e.split("@",2),n=[];1===r.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},f(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(a.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),h=function(e){function t(t,r){var n;return(n=e.call(this,r)||this)._decryptdata=null,n.rawProgramDateTime=null,n.programDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkey=void 0,n.type=void 0,n.loader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.appendedPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.stats=new l.LoadStats,n.urlId=0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.type=t,n}u(t,e);var r=t.prototype;return r.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},r.setDecryptDataFromLevelKey=function(e,t){var r=e;return"AES-128"===(null===e||void 0===e?void 0:e.method)&&e.uri&&!e.iv&&((r=s.LevelKey.fromURI(e.uri)).method=e.method,r.iv=this.createInitializationVector(t),r.keyFormat="identity"),r},r.setElementaryStreamInfo=function(e,t,r,n,i,a){void 0===a&&(a=!1);var o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,r),s.startDTS=Math.min(s.startDTS,n),s.endDTS=Math.max(s.endDTS,i)):o[e]={startPTS:t,endPTS:r,startDTS:n,endDTS:i,partial:a}},r.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[n.AUDIO]=null,e[n.VIDEO]=null,e[n.AUDIOVIDEO]=null},f(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!==typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&o.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(i.isFiniteNumber)(this.programDateTime))return null;var e=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(p),g=function(e){function t(t,r,n,i,a){var o;(o=e.call(this,n)||this).fragOffset=0,o.duration=0,o.gap=!1,o.independent=!1,o.relurl=void 0,o.fragment=void 0,o.index=void 0,o.stats=new l.LoadStats,o.duration=t.decimalFloatingPoint("DURATION"),o.gap=t.bool("GAP"),o.independent=t.bool("INDEPENDENT"),o.relurl=t.enumeratedString("URI"),o.fragment=r,o.index=i;var s=t.enumeratedString("BYTERANGE");return s&&o.setByteRange(s,a),a&&(o.fragOffset=a.fragOffset+a.duration),o}return u(t,e),f(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(p)},"./src/loader/key-loader.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(n.Events.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(n.Events.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var r=t.frag,i=r.type,o=this.loaders[i];if(r.decryptdata){var s=r.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;if(o&&(a.logger.warn("abort previous key loader for type:"+i),o.abort()),!s)return void a.logger.warn("key uri is falsy");var u=l.loader,c=r.loader=this.loaders[i]=new u(l);this.decrypturl=s,this.decryptkey=null;var d={url:s,frag:r,responseType:"arraybuffer"},f={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:0},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(d,f,p)}else this.decryptkey&&(r.decryptdata.key=this.decryptkey,this.hls.trigger(n.Events.KEY_LOADED,{frag:r}))}else a.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,r){var i=r.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=null,delete this.loaders[i.type],this.hls.trigger(n.Events.KEY_LOADED,{frag:i})):a.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var r=t.frag,a=r.loader;a&&a.abort(),delete this.loaders[r.type],this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.loadtimeout=function(e,t){var r=t.frag,a=r.loader;a&&a.abort(),delete this.loaders[r.type],this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},e}()},"./src/loader/level-details.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"LevelDetails",(function(){return a}));var n=r("./src/polyfills/number.ts");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=e}var t,r,a;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},t=e,(r=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(n.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&i(t.prototype,r),a&&i(t,a),e}()},"./src/loader/level-key.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"LevelKey",(function(){return a}));var n=r("./node_modules/url-toolkit/src/url-toolkit.js");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(n.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t,r,a;return e.fromURL=function(t,r){return new e(t,r)},e.fromURI=function(t){return new e(t)},t=e,(r=[{key:"uri",get:function(){return this._uri}}])&&i(t.prototype,r),a&&i(t,a),e}()},"./src/loader/load-stats.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"LoadStats",(function(){return n}));var n=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return m}));var n=r("./src/polyfills/number.ts"),i=r("./node_modules/url-toolkit/src/url-toolkit.js"),a=r("./src/loader/fragment.ts"),o=r("./src/loader/level-details.ts"),s=r("./src/loader/level-key.ts"),l=r("./src/utils/attr-list.ts"),u=r("./src/utils/logger.ts"),c=r("./src/utils/codecs.ts"),d=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),h=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),g=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function e(){}return e.findGroup=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var r=t.shift()+".";return r+=parseInt(t.shift()).toString(16),r+=("000"+parseInt(t.shift()).toString(16)).substr(-4)}return e},e.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,r){var n,i=[],a={},o=!1;for(d.lastIndex=0;null!=(n=d.exec(t));)if(n[1]){var s=new l.AttrList(n[1]),u={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:e.resolve(n[2],r)},c=s.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),v((s.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=e.convertAVC1ToAVCOTI(u.videoCodec)),i.push(u)}else if(n[3]){var f=new l.AttrList(n[3]);f["DATA-ID"]&&(o=!0,a[f["DATA-ID"]]=f)}return{levels:i,sessionData:o?a:null}},e.parseMasterPlaylistMedia=function(t,r,n,i){var a;void 0===i&&(i=[]);var o=[],s=0;for(f.lastIndex=0;null!==(a=f.exec(t));){var u=new l.AttrList(a[1]);if(u.TYPE===n){var c={attrs:u,bitrate:0,id:s++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:n,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?e.resolve(u.URI,r):""};if(i.length){var d=e.findGroup(i,c.groupId)||i[0];y(c,d,"audioCodec"),y(c,d,"textCodec")}o.push(c)}}return o},e.parseLevelPlaylist=function(e,t,r,c,d){var f,m,v,y=new o.LevelDetails(t),k=y.fragments,E=null,_=0,S=0,T=0,w=0,x=null,O=new a.Fragment(c,t),P=-1,C=!1;for(p.lastIndex=0,y.m3u8=e;null!==(f=p.exec(e));){C&&(C=!1,(O=new a.Fragment(c,t)).start=T,O.sn=_,O.cc=w,O.level=r,E&&(O.initSegment=E,O.rawProgramDateTime=E.rawProgramDateTime));var A=f[1];if(A){O.duration=parseFloat(A);var M=(" "+f[2]).slice(1);O.title=M||null,O.tagList.push(M?["INF",A,M]:["INF",A])}else if(f[3])Object(n.isFiniteNumber)(O.duration)&&(O.start=T,v&&(O.levelkey=v),O.sn=_,O.level=r,O.cc=w,O.urlId=d,k.push(O),O.relurl=(" "+f[3]).slice(1),b(O,x),x=O,T+=O.duration,_++,S=0,C=!0);else if(f[4]){var I=(" "+f[4]).slice(1);x?O.setByteRange(I,x):O.setByteRange(I)}else if(f[5])O.rawProgramDateTime=(" "+f[5]).slice(1),O.tagList.push(["PROGRAM-DATE-TIME",O.rawProgramDateTime]),-1===P&&(P=k.length);else{if(!(f=f[0].match(h))){u.logger.warn("No matches on slow regex match for level playlist!");continue}for(m=1;m<f.length&&"undefined"===typeof f[m];m++);var R=(" "+f[m]).slice(1),D=(" "+f[m+1]).slice(1),L=f[m+2]?(" "+f[m+2]).slice(1):"";switch(R){case"PLAYLIST-TYPE":y.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":_=y.startSN=parseInt(D);break;case"SKIP":var j=new l.AttrList(D),N=j.decimalInteger("SKIPPED-SEGMENTS");if(Object(n.isFiniteNumber)(N)){y.skippedSegments=N;for(var U=N;U--;)k.unshift(null);_+=N}var B=j.enumeratedString("RECENTLY-REMOVED-DATERANGES");B&&(y.recentlyRemovedDateranges=B.split("\t"));break;case"TARGETDURATION":y.targetduration=parseFloat(D);break;case"VERSION":y.version=parseInt(D);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"#":(D||L)&&O.tagList.push(L?[D,L]:[D]);break;case"DIS":w++;case"GAP":O.tagList.push([R]);break;case"BITRATE":O.tagList.push([R,D]);break;case"DISCONTINUITY-SEQ":w=parseInt(D);break;case"KEY":var F,z=new l.AttrList(D),V=z.enumeratedString("METHOD"),W=z.URI,$=z.hexadecimalInteger("IV"),H=z.enumeratedString("KEYFORMATVERSIONS"),K=z.enumeratedString("KEYID"),G=null!=(F=z.enumeratedString("KEYFORMAT"))?F:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(G)>-1){u.logger.warn("Keyformat "+G+" is not supported from the manifest");continue}if("identity"!==G)continue;V&&(v=s.LevelKey.fromURL(t,W),W&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(V)>=0&&(v.method=V,v.keyFormat=G,K&&(v.keyID=K),H&&(v.keyFormatVersions=H),v.iv=$));break;case"START":var Z=new l.AttrList(D).decimalFloatingPoint("TIME-OFFSET");Object(n.isFiniteNumber)(Z)&&(y.startTimeOffset=Z);break;case"MAP":var q=new l.AttrList(D);O.relurl=q.URI,q.BYTERANGE&&O.setByteRange(q.BYTERANGE),O.level=r,O.sn="initSegment",v&&(O.levelkey=v),O.initSegment=null,E=O,C=!0;break;case"SERVER-CONTROL":var X=new l.AttrList(D);y.canBlockReload=X.bool("CAN-BLOCK-RELOAD"),y.canSkipUntil=X.optionalFloat("CAN-SKIP-UNTIL",0),y.canSkipDateRanges=y.canSkipUntil>0&&X.bool("CAN-SKIP-DATERANGES"),y.partHoldBack=X.optionalFloat("PART-HOLD-BACK",0),y.holdBack=X.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Y=new l.AttrList(D);y.partTarget=Y.decimalFloatingPoint("PART-TARGET");break;case"PART":var Q=y.partList;Q||(Q=y.partList=[]);var J=S>0?Q[Q.length-1]:void 0,ee=S++,te=new a.Part(new l.AttrList(D),O,t,ee,J);Q.push(te),O.duration+=te.duration;break;case"PRELOAD-HINT":var re=new l.AttrList(D);y.preloadHint=re;break;case"RENDITION-REPORT":var ne=new l.AttrList(D);y.renditionReports=y.renditionReports||[],y.renditionReports.push(ne);break;default:u.logger.warn("line parsed but not handled: "+f)}}}x&&!x.relurl?(k.pop(),T-=x.duration,y.partList&&(y.fragmentHint=x)):y.partList&&(b(O,x),O.cc=w,y.fragmentHint=O);var ie=k.length,ae=k[0],oe=k[ie-1];if((T+=y.skippedSegments*y.targetduration)>0&&ie&&oe){y.averagetargetduration=T/ie;var se=oe.sn;y.endSN="initSegment"!==se?se:0,ae&&(y.startCC=ae.cc,ae.initSegment||y.fragments.every((function(e){return e.relurl&&function(e){var t,r;return g.test(null!=(t=null===(r=i.parseURL(e))||void 0===r?void 0:r.path)?t:"")}(e.relurl)}))&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(O=new a.Fragment(c,t)).relurl=oe.relurl,O.level=r,O.sn="initSegment",ae.initSegment=O,y.needSidxRanges=!0))}else y.endSN=0,y.startCC=0;return y.fragmentHint&&(T+=y.fragmentHint.duration),y.totalduration=T,y.endCC=w,P>0&&function(e,t){for(var r=e[t],n=t;n--;){var i=e[n];if(!i)return;i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(k,P),y},e}();function v(e,t){["video","audio","text"].forEach((function(r){var n=e.filter((function(e){return Object(c.isCodecType)(e,r)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}function y(e,t,r){var n=t[r];n&&(e[r]=n)}function b(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!==t&&void 0!==t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(n.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/polyfills/number.ts"),i=r("./src/events.ts"),a=r("./src/errors.ts"),o=r("./src/utils/logger.ts"),s=r("./src/utils/mp4-tools.ts"),l=r("./src/loader/m3u8-parser.ts"),u=r("./src/types/loader.ts"),c=r("./src/utils/attr-list.ts");function d(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r}var f=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=new(r||n)(t);return e.loader=i,this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var r=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:u.PlaylistContextType.MANIFEST,url:r,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var r=t.id,n=t.level,i=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:null,level:n,responseType:"text",type:u.PlaylistContextType.LEVEL,url:i,deliveryDirectives:a})},t.onAudioTrackLoading=function(e,t){var r=t.id,n=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:u.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:a})},t.onSubtitleTrackLoading=function(e,t){var r=t.id,n=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:u.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:a})},t.load=function(e){var t,r,n,i,a,s,l=this.hls.config,c=this.getInternalLoader(e);if(c){var d=c.context;if(d&&d.url===e.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),c.abort()}switch(e.type){case u.PlaylistContextType.MANIFEST:r=l.manifestLoadingMaxRetry,n=l.manifestLoadingTimeOut,i=l.manifestLoadingRetryDelay,a=l.manifestLoadingMaxRetryTimeout;break;case u.PlaylistContextType.LEVEL:case u.PlaylistContextType.AUDIO_TRACK:case u.PlaylistContextType.SUBTITLE_TRACK:r=0,n=l.levelLoadingTimeOut;break;default:r=l.levelLoadingMaxRetry,n=l.levelLoadingTimeOut,i=l.levelLoadingRetryDelay,a=l.levelLoadingMaxRetryTimeout}if(c=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===u.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===u.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===u.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var f=s.partTarget,p=s.targetduration;f&&p&&(n=Math.min(1e3*Math.max(3*f,.8*p),n))}var h={timeout:n,maxRetry:r,retryDelay:i,maxRetryDelay:a,highWaterMark:0},g={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(e,h,g)},t.loadsuccess=function(e,t,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this.handleSidxRequest(e,r),void this.handlePlaylistLoaded(e,t,r,n);this.resetInternalLoader(r.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,r,n):this.handleMasterPlaylist(e,t,r,n)):this.handleManifestParsingError(e,r,"no EXTM3U delimiter",n)},t.loaderror=function(e,t,r){void 0===r&&(r=null),this.handleNetworkError(t,r,!1,e)},t.loadtimeout=function(e,t,r){void 0===r&&(r=null),this.handleNetworkError(t,r,!0)},t.handleMasterPlaylist=function(e,t,r,n){var a=this.hls,s=e.data,u=d(e,r),f=l.default.parseMasterPlaylist(s,u),p=f.levels,h=f.sessionData;if(p.length){var g=p.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),m=p.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),v=l.default.parseMasterPlaylistMedia(s,u,"AUDIO",g),y=l.default.parseMasterPlaylistMedia(s,u,"SUBTITLES",m),b=l.default.parseMasterPlaylistMedia(s,u,"CLOSED-CAPTIONS");v.length&&(v.some((function(e){return!e.url}))||!p[0].audioCodec||p[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),a.trigger(i.Events.MANIFEST_LOADED,{levels:p,audioTracks:v,subtitles:y,captions:b,url:u,stats:t,networkDetails:n,sessionData:h})}else this.handleManifestParsingError(e,r,"no level found in manifest",n)},t.handleTrackOrLevelPlaylist=function(e,t,r,o){var s=this.hls,f=r.id,p=r.level,h=r.type,g=d(e,r),m=Object(n.isFiniteNumber)(f)?f:0,v=Object(n.isFiniteNumber)(p)?p:m,y=function(e){switch(e.type){case u.PlaylistContextType.AUDIO_TRACK:return u.PlaylistLevelType.AUDIO;case u.PlaylistContextType.SUBTITLE_TRACK:return u.PlaylistLevelType.SUBTITLE;default:return u.PlaylistLevelType.MAIN}}(r),b=l.default.parseLevelPlaylist(e.data,g,v,y,m);if(b.fragments.length){if(h===u.PlaylistContextType.MANIFEST){var k={attrs:new c.AttrList({}),bitrate:0,details:b,name:"",url:g};s.trigger(i.Events.MANIFEST_LOADED,{levels:[k],audioTracks:[],url:g,stats:t,networkDetails:o,sessionData:null})}if(t.parsing.end=performance.now(),b.needSidxRanges){var E,_=null===(E=b.fragments[0].initSegment)||void 0===E?void 0:E.url;this.load({url:_,isSidxRequest:!0,type:h,level:p,levelDetails:b,id:f,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else r.levelDetails=b,this.handlePlaylistLoaded(e,t,r,o)}else s.trigger(i.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:g,reason:"no fragments found in level",level:"number"===typeof r.level?r.level:void 0})},t.handleSidxRequest=function(e,t){var r=Object(s.parseSegmentIndex)(new Uint8Array(e.data));if(r){var n=r.references,i=t.levelDetails;n.forEach((function(e,t){var n=e.info,a=i.fragments[t];0===a.byteRange.length&&a.setByteRange(String(1+n.end-n.start)+"@"+String(n.start)),a.initSegment&&a.initSegment.setByteRange(String(r.moovEndOffset)+"@0")}))}},t.handleManifestParsingError=function(e,t,r,n){this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===u.PlaylistContextType.MANIFEST,url:e.url,reason:r,response:e,context:t,networkDetails:n})},t.handleNetworkError=function(e,t,r,n){void 0===r&&(r=!1),o.logger.warn("[playlist-loader]: A network "+(r?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=a.ErrorDetails.UNKNOWN,l=!1,c=this.getInternalLoader(e);switch(e.type){case u.PlaylistContextType.MANIFEST:s=r?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case u.PlaylistContextType.LEVEL:s=r?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case u.PlaylistContextType.AUDIO_TRACK:s=r?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case u.PlaylistContextType.SUBTITLE_TRACK:s=r?a.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:a.ErrorDetails.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(e.type);var d={type:a.ErrorTypes.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:c,context:e,networkDetails:t};n&&(d.response=n),this.hls.trigger(i.Events.ERROR,d)},t.handlePlaylistLoaded=function(e,t,r,n){var a=r.type,o=r.level,s=r.id,l=r.groupId,c=r.loader,d=r.levelDetails,f=r.deliveryDirectives;if(null!==d&&void 0!==d&&d.targetduration){if(c)switch(d.live&&(c.getCacheAge&&(d.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(d.ageHeader)||(d.ageHeader=0)),a){case u.PlaylistContextType.MANIFEST:case u.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:d,level:o||0,id:s||0,stats:t,networkDetails:n,deliveryDirectives:f});break;case u.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:d,id:s||0,groupId:l||"",stats:t,networkDetails:n,deliveryDirectives:f});break;case u.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:d,id:s||0,groupId:l||"",stats:t,networkDetails:n,deliveryDirectives:f})}}else this.handleManifestParsingError(e,r,"invalid target duration",n)},e}();t.default=f},"./src/polyfills/number.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isFiniteNumber",(function(){return n})),r.d(t,"MAX_SAFE_INTEGER",(function(){return i}));var n=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,r){"use strict";r.r(t);var n=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}();t.default=n},"./src/remux/mp4-generator.ts":function(e,t,r){"use strict";r.r(t);var n=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var a=n.length,o=a;a--;)t+=n[a].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),a=0,t=8;a<o;a++)s.set(n[a],t),t+=n[a].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var i=Math.floor(r/(n+1)),a=Math.floor(r%(n+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var i=Math.floor(r/(n+1)),a=Math.floor(r%(n+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var r,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,i,a=[],o=[];for(r=0;r<t.sps.length;r++)i=(n=t.sps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)i=(n=t.pps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,i=t.duration*t.timescale,a=t.width,o=t.height,s=Math.floor(i/(n+1)),l=Math.floor(i%(n+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,r){var i=e.sdtp(t),a=t.id,o=Math.floor(r/(n+1)),s=Math.floor(r%(n+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,i,a,o,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(r+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)a=(i=u[n]).duration,o=i.size,s=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var r=e.moov(t),n=new Uint8Array(e.FTYP.byteLength+r.byteLength);return n.set(e.FTYP),n.set(r,e.FTYP.byteLength),n},e}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0,t.default=i},"./src/remux/mp4-remuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g})),r.d(t,"normalizePts",(function(){return m}));var n=r("./src/polyfills/number.ts"),i=r("./src/remux/aac-helper.ts"),a=r("./src/remux/mp4-generator.ts"),o=r("./src/events.ts"),s=r("./src/errors.ts"),l=r("./src/utils/logger.ts"),u=r("./src/types/loader.ts"),c=r("./src/utils/timescale-conversion.ts");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=null,p=null,h=!1,g=function(){function e(e,t,r,n){if(void 0===n&&(n=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,null===f){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);f=i?parseInt(i[1]):0}if(null===p){var a=navigator.userAgent.match(/Safari\/(\d+)/i);p=a?parseInt(a[1]):0}h=!!f&&f<75||!!p&&p<600}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,r=e.reduce((function(e,r){var n=r.pts-e;return n<-4294967296?(t=!0,m(e,r.pts)):n>0?e:r.pts}),e[0].pts);return t&&l.logger.debug("PTS rollover detected"),r},t.remux=function(e,t,r,n,i,a,o,s){var c,d,f,p,h,g,v=i,y=i,b=e.pid>-1,k=t.pid>-1,E=t.samples.length,_=e.samples.length>0,S=E>1;if((!b||_)&&(!k||S)||this.ISGenerated||o){this.ISGenerated||(f=this.generateIS(e,t,i));var T=this.isVideoContiguous,w=-1;if(S&&(w=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!T&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,w>0){l.logger.warn("[mp4-remuxer]: Dropped "+w+" out of "+E+" video samples due to a missing keyframe");var x=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(w),t.dropped+=w,y+=(t.samples[0].pts-x)/(t.timescale||9e4)}else-1===w&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+E+" video samples"),g=!1);if(this.ISGenerated){if(_&&S){var O=this.getVideoStartPts(t.samples),P=(m(e.samples[0].pts,O)-O)/t.inputTimeScale;v+=Math.max(0,P),y+=Math.max(0,-P)}if(_){if(e.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,t,i)),d=this.remuxAudio(e,v,this.isAudioContiguous,a,k||S||s===u.PlaylistLevelType.AUDIO?y:void 0),S){var C=d?d.endPTS-d.startPTS:0;t.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,t,i)),c=this.remuxVideo(t,y,T,C)}}else S&&(c=this.remuxVideo(t,y,T,0));c&&(c.firstKeyFrame=w,c.independent=-1!==w)}}return this.ISGenerated&&(r.samples.length&&(h=this.remuxID3(r,i)),n.samples.length&&(p=this.remuxText(n,i))),{audio:d,video:c,initSegment:f,independent:g,text:p,id3:h}},t.generateIS=function(e,t,r){var i,o,s,l=e.samples,u=t.samples,c=this.typeSupported,d={},f=!Object(n.isFiniteNumber)(this._initPTS),p="audio/mp4";if(f&&(i=o=1/0),e.config&&l.length&&(e.timescale=e.samplerate,e.isAAC||(c.mpeg?(p="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),d.audio={id:"audio",container:p,codec:e.codec,initSegment:!e.isAAC&&c.mpeg?new Uint8Array(0):a.default.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(s=e.inputTimeScale,i=o=l[0].pts-Math.round(s*r))),t.sps&&t.pps&&u.length&&(t.timescale=t.inputTimeScale,d.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:a.default.initSegment([t]),metadata:{width:t.width,height:t.height}},f)){s=t.inputTimeScale;var h=this.getVideoStartPts(u),g=Math.round(s*r);o=Math.min(o,m(u[0].dts,h)-g),i=Math.min(i,h-g)}if(Object.keys(d).length)return this.ISGenerated=!0,f&&(this._initPTS=i,this._initDTS=o),{tracks:d,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,r,n){var i,u,p,g=e.inputTimeScale,y=e.samples,b=[],k=y.length,E=this._initPTS,_=this.nextAvcDts,S=8,T=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,x=0,O=!1;r&&null!==_||(_=t*g-(y[0].pts-m(y[0].dts,y[0].pts)));for(var P=0;P<k;P++){var C=y[P];C.pts=m(C.pts-E,_),C.dts=m(C.dts-E,_),C.dts>C.pts&&(x=Math.max(Math.min(x,C.pts-C.dts),-18e3)),C.dts<y[P>0?P-1:P].dts&&(O=!0)}O&&y.sort((function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n})),u=y[0].dts,p=y[y.length-1].dts;var A=Math.round((p-u)/(k-1));if(x<0){if(x<-2*A){l.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-A,!0)+" ms");for(var M=x,I=0;I<k;I++)y[I].dts=M=Math.max(M,y[I].pts-A),y[I].pts=Math.max(M,y[I].pts)}else{l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(x,!0)+" ms to overcome this issue");for(var R=0;R<k;R++)y[R].dts=y[R].dts+x}u=y[0].dts}if(r){var D=u-_,L=D>A;if(L||D<-1){L?l.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(D,!0)+" ms ("+D+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-D,!0)+" ms ("+D+"dts) overlapping between fragments detected"),u=_;var j=y[0].pts-D;y[0].dts=u,y[0].pts=j,l.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(j,!0)+"/"+Object(c.toMsFromMpegTsClock)(u,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(D,!0)+" ms")}}h&&(u=Math.max(0,u));for(var N=0,U=0,B=0;B<k;B++){for(var F=y[B],z=F.units,V=z.length,W=0,$=0;$<V;$++)W+=z[$].data.length;U+=W,N+=V,F.length=W,F.dts=Math.max(F.dts,u),F.pts=Math.max(F.pts,F.dts,0),T=Math.min(F.pts,T),w=Math.max(F.pts,w)}p=y[k-1].dts;var H,K=U+4*N+8;try{H=new Uint8Array(K)}catch(ce){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:K,reason:"fail allocating video mdat "+K})}var G=new DataView(H.buffer);G.setUint32(0,K),H.set(a.default.types.mdat,4);for(var Z=0;Z<k;Z++){for(var q=y[Z],X=q.units,Y=0,Q=0,J=X.length;Q<J;Q++){var ee=X[Q],te=ee.data,re=ee.data.byteLength;G.setUint32(S,re),S+=4,H.set(te,S),S+=re,Y+=4+re}if(Z<k-1)i=y[Z+1].dts-q.dts;else{var ne=this.config,ie=q.dts-y[Z>0?Z-1:Z].dts;if(ne.stretchShortVideoTrack&&null!==this.nextAudioPts){var ae=Math.floor(ne.maxBufferHole*g),oe=(n?T+n*g:this.nextAudioPts)-q.pts;oe>ae?((i=oe-ie)<0&&(i=ie),l.logger.log("[mp4-remuxer]: It is approximately "+oe/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=ie}else i=ie}var se=Math.round(q.pts-q.dts);b.push(new v(q.key,i,Y,se))}if(b.length&&f&&f<70){var le=b[0].flags;le.dependsOn=2,le.isNonSync=0}console.assert(void 0!==i,"mp4SampleDuration must be computed"),this.nextAvcDts=_=p+i,this.isVideoContiguous=!0;var ue={data1:a.default.moof(e.sequenceNumber++,u,d({},e,{samples:b})),data2:H,startPTS:T/g,endPTS:(w+i)/g,startDTS:u/g,endDTS:_/g,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(H.length,"MDAT length must not be zero"),ue},t.remuxAudio=function(e,t,r,n,u){var c=e.inputTimeScale,f=c/(e.samplerate?e.samplerate:c),p=e.isAAC?1024:1152,h=p*f,g=this._initPTS,y=!e.isAAC&&this.typeSupported.mpeg,b=[],k=e.samples,E=y?0:8,_=this.nextAudioPts||-1,S=t*c;if(this.isAudioContiguous=r=r||k.length&&_>0&&(n&&Math.abs(S-_)<9e3||Math.abs(m(k[0].pts-g,S)-_)<20*h),k.forEach((function(e){e.pts=m(e.pts-g,S)})),!r||_<0){if(!(k=k.filter((function(e){return e.pts>=0}))).length)return;_=0===u?0:n?Math.max(0,S):k[0].pts}if(e.isAAC)for(var T=void 0!==u,w=this.config.maxAudioFramesDrift,x=0,O=_;x<k.length;x++){var P=k[x],C=P.pts,A=C-O,M=Math.abs(1e3*A/c);if(A<=-w*h&&T)0===x&&(l.logger.warn("Audio frame @ "+(C/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*A/c)+" ms."),this.nextAudioPts=_=O=C);else if(A>=w*h&&M<1e4&&T){var I=Math.round(A/h);(O=C-I*h)<0&&(I--,O+=h),0===x&&(this.nextAudioPts=_=O),l.logger.warn("[mp4-remuxer]: Injecting "+I+" audio frame @ "+(O/c).toFixed(3)+"s due to "+Math.round(1e3*A/c)+" ms gap.");for(var R=0;R<I;R++){var D=Math.max(O,0),L=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);L||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),L=P.unit.subarray()),k.splice(x,0,{unit:L,pts:D}),O+=h,x++}}P.pts=O,O+=h}for(var j,N=null,U=null,B=0,F=k.length;F--;)B+=k[F].unit.byteLength;for(var z=0,V=k.length;z<V;z++){var W=k[z],$=W.unit,H=W.pts;if(null!==U)b[z-1].duration=Math.round((H-U)/f);else{if(r&&e.isAAC&&(H=_),N=H,!(B>0))return;B+=E;try{j=new Uint8Array(B)}catch(J){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating audio mdat "+B})}y||(new DataView(j.buffer).setUint32(0,B),j.set(a.default.types.mdat,4))}j.set($,E);var K=$.byteLength;E+=K,b.push(new v(!0,p,K,0)),U=H}var G=b.length;if(G){var Z=b[b.length-1];this.nextAudioPts=_=U+f*Z.duration;var q=y?new Uint8Array(0):a.default.moof(e.sequenceNumber++,N/f,d({},e,{samples:b}));e.samples=[];var X=N/c,Y=_/c,Q={data1:q,data2:j,startPTS:X,endPTS:Y,startDTS:X,endDTS:Y,type:"audio",hasAudio:!0,hasVideo:!1,nb:G};return this.isAudioContiguous=!0,console.assert(j.length,"MDAT length must not be zero"),Q}},t.remuxEmptyAudio=function(e,t,r,n){var a=e.inputTimeScale,o=a/(e.samplerate?e.samplerate:a),s=this.nextAudioPts,u=(null!==s?s:n.startDTS*a)+this._initDTS,c=n.endDTS*a+this._initDTS,d=1024*o,f=Math.ceil((c-u)/d),p=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),p){for(var h=[],g=0;g<f;g++){var m=u+g*d;h.push({unit:p,pts:m,dts:m})}return e.samples=h,this.remuxAudio(e,t,r,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t.remuxID3=function(e,t){var r=e.samples.length;if(r){for(var n=e.inputTimeScale,i=this._initPTS,a=this._initDTS,o=0;o<r;o++){var s=e.samples[o];s.pts=m(s.pts-i,t*n)/n,s.dts=m(s.dts-a,t*n)/n}var l=e.samples;return e.samples=[],{samples:l}}},t.remuxText=function(e,t){var r=e.samples.length;if(r){for(var n=e.inputTimeScale,i=this._initPTS,a=0;a<r;a++){var o=e.samples[a];o.pts=m(o.pts-i,t*n)/n}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}},e}();function m(e,t){var r;if(null===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}var v=function(e,t,r,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=r,this.cts=n,this.flags=new y(e)},y=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/polyfills/number.ts"),i=r("./src/utils/mp4-tools.ts"),a=r("./src/loader/fragment.ts"),o=r("./src/utils/logger.ts"),s=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,r){this.audioCodec=t,this.videoCodec=r,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,r=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=Object(i.parseInitSegment)(e);t||(t=u(n.audio,a.ElementaryStreamTypes.AUDIO)),r||(r=u(n.video,a.ElementaryStreamTypes.VIDEO));var s={};n.audio&&n.video?s.audiovideo={container:"video/mp4",codec:t+","+r,initSegment:e,id:"main"}:n.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?s.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:o.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s},t.remux=function(e,t,r,a,s){var u=this.initPTS,c=this.lastEndDTS,d={audio:void 0,video:void 0,text:a,id3:r,initSegment:void 0};Object(n.isFiniteNumber)(c)||(c=this.lastEndDTS=s||0);var f=t.samples;if(!f||!f.length)return d;var p={initPTS:void 0,timescale:1},h=this.initData;if(h&&h.length||(this.generateInitSegment(f),h=this.initData),!h||!h.length)return o.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1),Object(n.isFiniteNumber)(u)||(this.initPTS=p.initPTS=u=l(h,f,c));var g=Object(i.getDuration)(f,h),m=c,v=g+m;Object(i.offsetStartDTS)(h,f,u),g>0?this.lastEndDTS=v:(o.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var y=!!h.audio,b=!!h.video,k="";y&&(k+="audio"),b&&(k+="video");var E={data1:f,startPTS:m,startDTS:m,endPTS:v,endDTS:v,type:k,hasAudio:y,hasVideo:b,nb:1,dropped:0};return d.audio="audio"===E.type?E:void 0,d.video="audio"!==E.type?E:void 0,d.text=a,d.id3=r,d.initSegment=p,d},e}(),l=function(e,t,r){return Object(i.getStartDTS)(e,t)-r};function u(e,t){var r=null===e||void 0===e?void 0:e.codec;return r&&r.length>4?r:"hvc1"===r?"hvc1.1.c.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||t===a.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=s},"./src/task-loop.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));var n=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/level.ts":function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i;function a(e,t){var r=e.canSkipUntil,n=e.canSkipDateRanges,a=e.endSN;return r&&(void 0!==t?t-a:0)<r?n?i.v2:i.Yes:i.No}r.r(t),r.d(t,"HlsSkip",(function(){return i})),r.d(t,"getSkipValue",(function(){return a})),r.d(t,"HlsUrlParameters",(function(){return o})),r.d(t,"Level",(function(){return s})),function(e){e.No="",e.Yes="YES",e.v2="v2"}(i||(i={}));var o=function(){function e(e,t,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=r}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),s=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t,r,i;return t=e,(r=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&n(t.prototype,r),i&&n(t,i),e}()},"./src/types/loader.ts":function(e,t,r){"use strict";var n,i;r.r(t),r.d(t,"PlaylistContextType",(function(){return n})),r.d(t,"PlaylistLevelType",(function(){return i})),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(n||(n={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}))},"./src/types/transmuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"ChunkMetadata",(function(){return n}));var n=function(e,t,r,n,i,a){void 0===n&&(n=0),void 0===i&&(i=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=r,this.size=n,this.part=i,this.partial=a}},"./src/utils/attr-list.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"AttrList",(function(){return a}));var n=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function e(t){for(var r in"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&(this[r]=t[r])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var r=this[e];return r?parseFloat(r):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=n.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(i.lastIndex=0;null!==(t=i.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r},e}()},"./src/utils/binary-search.ts":function(e,t,r){"use strict";r.r(t),t.default={search:function(e,t){for(var r=0,n=e.length-1,i=null,a=null;r<=n;){var o=t(a=e[i=(r+n)/2|0]);if(o>0)r=i+1;else{if(!(o<0))return a;n=i-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"BufferHelper",(function(){return a}));var n=r("./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},a=function(){function e(){}return e.isBuffered=function(t,r){try{if(t)for(var n=e.getBuffered(t),i=0;i<n.length;i++)if(r>=n.start(i)&&r<=n.end(i))return!0}catch(a){}return!1},e.bufferInfo=function(t,r,n){try{if(t){var i,a=e.getBuffered(t),o=[];for(i=0;i<a.length;i++)o.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(o,r,n)}}catch(s){}return{len:0,start:r,end:r,nextStart:void 0}},e.bufferedInfo=function(e,t,r){t=Math.max(0,t),e.sort((function(e,t){var r=e.start-t.start;return r||t.end-e.end}));var n=[];if(r)for(var i=0;i<e.length;i++){var a=n.length;if(a){var o=n[a-1].end;e[i].start-o<r?e[i].end>o&&(n[a-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var s,l=0,u=t,c=t,d=0;d<n.length;d++){var f=n[d].start,p=n[d].end;if(t+r>=f&&t<p)u=f,l=(c=p)-t;else if(t+r<f){s=f;break}}return{len:l,start:u||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(t){return n.logger.log("failed to get media.buffered",t),i}},e}()},"./src/utils/cea-608-parser.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"Row",(function(){return m})),r.d(t,"CaptionScreen",(function(){return v}));var n,i=r("./src/utils/logger.ts"),a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return a.hasOwnProperty(e)&&(t=a[e]),String.fromCharCode(t)},s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(n||(n={}));var f=function(){function e(){this.time=null,this.verboseLevel=n.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&i.logger.log(this.time+" ["+e+"] "+t)},e}(),p=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},h=function(){function e(e,t,r,n,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),g=function(){function e(e,t,r,n,i,a){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new h(t,r,n,i,a)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),m=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<100;t++)this.chars.push(new g);this.logger=e,this.pos=0,this.currPenState=new h}var t=e.prototype;return t.equals=function(e){for(var t=!0,r=0;r<100;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(n.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(n.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=o(e);this.pos>=100?this.logger.log(n.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,r=0;r<100;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),v=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<15;t++)this.rows.push(new m(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,r=0;r<15;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(n.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(n.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<15;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var o=a.rows[i].cueStartTime,s=this.logger.time;if(o&&null!==s&&o<s)for(var l=0;l<this.nrRollUpRows;l++)this.rows[t-this.nrRollUpRows+l+1].copy(a.rows[i+l])}}this.currRow=t;var u=this.rows[this.currRow];if(null!==e.indent){var c=e.indent,d=Math.max(c-1,0);u.setCursor(e.indent),e.color=u.chars[d].penState.foreground}var f={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(f)},t.setBkgData=function(e){this.logger.log(n.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(n.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(n.INFO,"Rolling up")}else this.logger.log(n.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(n=i+1,e?t.push("Row "+n+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},t.getTextAndFormat=function(){return this.rows},e}(),y=function(){function e(e,t,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new v(r),this.nonDisplayedMemory=new v(r),this.lastOutputScreen=new v(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(n.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(n.INFO,r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(n.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(n.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(n.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(n.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(n.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(n.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(n.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(n.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(n.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(n.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(n.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(n.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(n.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(n.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(n.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}this.logger.log(n.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),b=function(){function e(e,t,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new f;this.channels=[null,new y(e,t,n),new y(e+1,r,n)],this.cmdHistory={a:null,b:null},this.logger=n}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var r,i,a,o=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(i=127&t[s],a=127&t[s+1],0!==i||0!==a){if(this.logger.log(n.DATA,"["+p([t[s],t[s+1]])+"] -> ("+p([i,a])+")"),(r=this.parseCmd(i,a))||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),!r&&(o=this.parseChars(i,a))){var l=this.currentChannel;l&&l>0?this.channels[l].insertChars(o):this.logger.log(n.WARNING,"No channel found yet. TEXT-MODE?")}r||o||this.logger.log(n.WARNING,"Couldn't parse cleaned data "+p([i,a])+" orig: "+p([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var r=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(E(e,t,r))return k(null,null,r),this.logger.log(n.DEBUG,"Repeated command ("+p([e,t])+") is dropped"),!0;var i=20===e||21===e||23===e?1:2,a=this.channels[i];return 20===e||21===e||28===e||29===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),k(e,t,r),this.currentChannel=i,!0},t.parseMidrow=function(e,t){var r=0;if((17===e||25===e)&&t>=32&&t<=47){if((r=17===e?1:2)!==this.currentChannel)return this.logger.log(n.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[r];return!!i&&(i.ccMIDROW(t),this.logger.log(n.DEBUG,"MIDROW ("+p([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var r,n=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(E(e,t,n))return k(null,null,n),!0;var i=e<=23?1:2;r=t>=64&&t<=95?1===i?s[e]:u[e]:1===i?l[e]:c[e];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(r,t)),k(e,t,n),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var r,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1===(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},t.parseChars=function(e,t){var r,i,a=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19?(i=17===s?t+80:18===s?t+112:t+144,this.logger.log(n.INFO,"Special char '"+o(i)+"' in channel "+r),a=[i]):e>=32&&e<=127&&(a=0===t?[e]:[e,t]),a){var l=p(a);this.logger.log(n.DEBUG,"Char codes =  "+l.join(",")),k(e,t,this.cmdHistory)}return a},t.parseBackgroundAttributes=function(e,t){var r;if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;var n={};16===e||24===e?(r=Math.floor((t-32)/2),n.background=d[r],t%2===1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(n),k(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var r=this.channels[t];r&&r.cueSplitAtTime(e)}},e}();function k(e,t,r){r.a=e,r.b=t}function E(e,t,r){return r.a===e&&r.b===t}t.default=b},"./src/utils/codecs.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isCodecType",(function(){return i})),r.d(t,"isCodecSupportedInMp4",(function(){return a}));var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(e,t){var r=n[t];return!!r&&!0===r[e.slice(0,4)]}function a(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/vttparser.ts"),i=r("./src/utils/webvtt-parser.ts"),a=r("./src/utils/texttrack-utils.ts"),o=/\s/,s={newCue:function(e,t,r,s){for(var l,u,c,d,f,p=[],h=self.VTTCue||self.TextTrackCue,g=0;g<s.rows.length;g++)if(c=!0,d=0,f="",!(l=s.rows[g]).isEmpty()){for(var m=0;m<l.chars.length;m++)o.test(l.chars[m].uchar)&&c?d++:(f+=l.chars[m].uchar,c=!1);l.cueStartTime=t,t===r&&(r+=1e-4),d>=16?d--:d++;var v=Object(n.fixLineBreaks)(f.trim()),y=Object(i.generateCueId)(t,r,v);e&&e.cues&&e.cues.getCueById(y)||((u=new h(t,r,v)).id=y,u.line=g+1,u.align="left",u.position=10+Math.min(80,10*Math.floor(8*d/32)),p.push(u))}return e&&p.length&&(p.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),p.forEach((function(t){return Object(a.addCueToTrack)(e,t)}))),p}};t.default=s},"./src/utils/discontinuities.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"findFirstFragWithCC",(function(){return o})),r.d(t,"shouldAlignOnDiscontinuities",(function(){return s})),r.d(t,"findDiscontinuousReferenceFrag",(function(){return l})),r.d(t,"adjustSlidingStart",(function(){return c})),r.d(t,"alignStream",(function(){return d})),r.d(t,"alignPDT",(function(){return f}));var n=r("./src/polyfills/number.ts"),i=r("./src/utils/logger.ts"),a=r("./src/controller/level-helper.ts");function o(e,t){for(var r=null,n=0,i=e.length;n<i;n++){var a=e[n];if(a&&a.cc===t){r=a;break}}return r}function s(e,t,r){return!(!t.details||!(r.endCC>r.startCC||e&&e.cc<r.startCC))}function l(e,t){var r=e.fragments,n=t.fragments;if(n.length&&r.length){var a=o(r,n[0].cc);if(a&&(!a||a.startPTS))return a;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function u(e,t){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function c(e,t){for(var r=t.fragments,n=0,i=r.length;n<i;n++)u(r[n],e);t.fragmentHint&&u(t.fragmentHint,e),t.alignedSliding=!0}function d(e,t,r){t&&(function(e,t,r){if(s(e,r,t)){var a=l(r.details,t);a&&Object(n.isFiniteNumber)(a.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),c(a.start,t))}}(e,r,t),!r.alignedSliding&&t.details&&f(r,t.details),r.alignedSliding||!t.details||r.skippedSegments||Object(a.adjustSliding)(t.details,r))}function f(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var r=t.fragments[0].programDateTime,a=e.fragments[0].programDateTime,o=(a-r)/1e3+t.fragments[0].start;o&&Object(n.isFiniteNumber)(o)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(a-r)+"ms, sliding:"+o.toFixed(3)+" "+e.url+" "),c(o,e))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/ewma.ts"),i=function(){function e(e,t,r){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(e),this.fast_=new n.default(t)}var t=e.prototype;return t.update=function(e,t){var r=this.slow_,i=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new n.default(e,r.getEstimate(),r.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new n.default(t,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var r=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();t.default=i},"./src/utils/ewma.ts":function(e,t,r){"use strict";r.r(t);var n=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=r}var t=e.prototype;return t.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();t.default=n},"./src/utils/fetch-loader.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"fetchSupported",(function(){return d}));var n=r("./src/polyfills/number.ts"),i=r("./src/loader/load-stats.ts"),a=r("./src/demux/chunk-cache.ts");function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function s(e,t,r){return(s=l()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i}).apply(null,arguments)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var f=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||p,this.controller=new self.AbortController,this.stats=new i.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,r){var i=this,a=this.stats;if(a.loading.start)throw new Error("Loader can only be used once.");a.loading.start=self.performance.now();var o=function(e,t){var r={method:"GET",mode:"cors",credentials:"same-origin",signal:t};return e.rangeEnd&&(r.headers=new self.Headers({Range:"bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)})),r}(e,this.controller.signal),s=r.onProgress,l="arraybuffer"===e.responseType,u=l?"byteLength":"length";this.context=e,this.config=t,this.callbacks=r,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),r.onTimeout(a,e,i.response)}),t.timeout),self.fetch(this.request).then((function(r){if(i.response=i.loader=r,!r.ok){var o=r.status,u=r.statusText;throw new h(u||"fetch, bad network response",o,r)}return a.loading.first=Math.max(self.performance.now(),a.loading.start),a.total=parseInt(r.headers.get("Content-Length")||"0"),s&&Object(n.isFiniteNumber)(t.highWaterMark)?i.loadProgressively(r,a,e,t.highWaterMark,s):l?r.arrayBuffer():r.text()})).then((function(o){var l=i.response;self.clearTimeout(i.requestTimeout),a.loading.end=Math.max(self.performance.now(),a.loading.first),a.loaded=a.total=o[u];var c={url:l.url,data:o};s&&!Object(n.isFiniteNumber)(t.highWaterMark)&&s(a,e,o,l),r.onSuccess(c,a,e,l)})).catch((function(t){if(self.clearTimeout(i.requestTimeout),!a.aborted){var n=t.code||0;r.onError({code:n,text:t.message},e,t.details)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,r,n,i){void 0===n&&(n=0);var o=new a.default,s=e.body.getReader();return function a(){return s.read().then((function(s){if(s.done)return o.dataLength&&i(t,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,u=l.length;return t.loaded+=u,u<n||o.dataLength?(o.push(l),o.dataLength>=n&&i(t,r,o.flush(),e)):i(t,r,l,e),a()})).catch((function(){return Promise.reject()}))}()},e}();function p(e,t){return new self.Request(e.url,t)}var h=function(e){var t,r;function n(t,r,n){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=r,i.details=n,i}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,u(t,r),n}(o(Error));t.default=f},"./src/utils/imsc1-ttml-parser.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"IMSC1_CODEC",(function(){return c})),r.d(t,"parseIMSC1",(function(){return h}));var n=r("./src/utils/mp4-tools.ts"),i=r("./src/utils/vttparser.ts"),a=r("./src/utils/vttcue.ts"),o=r("./src/demux/id3.ts"),s=r("./src/utils/timescale-conversion.ts"),l=r("./src/utils/webvtt-parser.ts");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c="stpp.ttml.im1t",d=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,p={left:"start",center:"center",right:"end",start:"start",end:"end"};function h(e,t,r,i,c){var d=Object(n.findBox)(new Uint8Array(e),["mdat"]);if(0!==d.length){var f=d[0],h=Object(o.utf8ArrayToStr)(new Uint8Array(e,f.start,f.end-f.start)),k=Object(s.toTimescaleFromScale)(t,1,r);try{i(function(e,t){var r=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var n={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(n).reduce((function(e,t){return e[t]=r.getAttribute("ttp:"+t)||n[t],e}),{}),o="preserve"!==r.getAttribute("xml:space"),s=m(g(r,"styling","style")),c=m(g(r,"layout","region")),d=g(r,"body","[begin]");return[].map.call(d,(function(e){var r=function e(t,r){return[].slice.call(t.childNodes).reduce((function(t,n,i){var a;return"br"===n.nodeName&&i?t+"\n":null!==(a=n.childNodes)&&void 0!==a&&a.length?e(n,r):r?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent}),"")}(e,o);if(!r||!e.hasAttribute("begin"))return null;var n=b(e.getAttribute("begin"),i),d=b(e.getAttribute("dur"),i),f=b(e.getAttribute("end"),i);if(null===n)throw y(e);if(null===f){if(null===d)throw y(e);f=n+d}var h=new a.default(n-t,f-t,r);h.id=Object(l.generateCueId)(h.startTime,h.endTime,h.text);var g=c[e.getAttribute("region")],m=s[e.getAttribute("style")];h.position=10,h.size=80;var k=function(e,t){var r="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(n,i){var a=v(t,r,i)||v(e,r,i);return a&&(n[i]=a),n}),{})}(g,m),E=k.textAlign;if(E){var _=p[E];_&&(h.lineAlign=_),h.align=E}return u(h,k),h})).filter((function(e){return null!==e}))}(h,k))}catch(E){c(E)}}else c(new Error("Could not parse IMSC1 mdat"))}function g(e,t,r){var n=e.getElementsByTagName(t)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function m(e){return e.reduce((function(e,t){var r=t.getAttribute("xml:id");return r&&(e[r]=t),e}),{})}function v(e,t,r){return e.hasAttributeNS(t,r)?e.getAttributeNS(t,r):null}function y(e){return new Error("Could not parse ttml timestamp "+e)}function b(e,t){if(!e)return null;var r=Object(i.parseTimeStamp)(e);return null===r&&(d.test(e)?r=function(e,t){var r=d.exec(e),n=(0|r[4])+(0|r[5])/t.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+n/t.frameRate}(e,t):f.test(e)&&(r=function(e,t){var r=f.exec(e),n=Number(r[1]);switch(r[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/t.frameRate;case"t":return n/t.tickRate}return n}(e,t))),r}},"./src/utils/logger.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"enableLogs",(function(){return s})),r.d(t,"logger",(function(){return l}));var n=function(){},i={trace:n,debug:n,log:n,warn:n,info:n,error:n},a=i;function o(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):n}function s(e){if(self.console&&!0===e||"object"===typeof e){!function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){a[t]=e[t]?e[t].bind(e):o(t)}))}(e,"debug","log","info","warn","error");try{a.log()}catch(t){a=i}}else a=i}var l=i},"./src/utils/mediakeys-helper.ts":function(e,t,r){"use strict";var n;r.r(t),r.d(t,"KeySystems",(function(){return n})),r.d(t,"requestMediaKeySystemAccess",(function(){return i})),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(n||(n={}));var i="undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,r){"use strict";function n(){return self.MediaSource||self.WebKitMediaSource}r.r(t),r.d(t,"getMediaSource",(function(){return n}))},"./src/utils/mp4-tools.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"bin2str",(function(){return s})),r.d(t,"readUint16",(function(){return l})),r.d(t,"readUint32",(function(){return u})),r.d(t,"writeUint32",(function(){return c})),r.d(t,"findBox",(function(){return d})),r.d(t,"parseSegmentIndex",(function(){return f})),r.d(t,"parseInitSegment",(function(){return p})),r.d(t,"getStartDTS",(function(){return h})),r.d(t,"getDuration",(function(){return g})),r.d(t,"computeRawDurationFromSamples",(function(){return m})),r.d(t,"offsetStartDTS",(function(){return v})),r.d(t,"segmentValidRange",(function(){return y})),r.d(t,"appendUint8Array",(function(){return b}));var n=r("./src/utils/typed-array.ts"),i=r("./src/loader/fragment.ts"),a=Math.pow(2,32)-1,o=[].push;function s(e){return String.fromCharCode.apply(null,e)}function l(e,t){"data"in e&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r}function u(e,t){"data"in e&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r}function c(e,t,r){"data"in e&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function d(e,t){var r,n,i,a=[];if(!t.length)return a;"data"in e?(r=e.data,n=e.start,i=e.end):(n=0,i=(r=e).byteLength);for(var l=n;l<i;){var c=u(r,l),f=c>1?l+c:i;if(s(r.subarray(l+4,l+8))===t[0])if(1===t.length)a.push({data:r,start:l+8,end:f});else{var p=d({data:r,start:l+8,end:f},t.slice(1));p.length&&o.apply(a,p)}l=f}return a}function f(e){var t=d(e,["moov"])[0],r=t?t.end:null,n=d(e,["sidx"]);if(!n||!n[0])return null;var i=[],a=n[0],o=a.data[0],s=0===o?8:16,c=u(a,s);s+=4,s+=0===o?8:16,s+=2;var f=a.end+0,p=l(a,s);s+=2;for(var h=0;h<p;h++){var g=s,m=u(a,g);g+=4;var v=2147483647&m;if(1===(2147483648&m)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=u(a,g);g+=4,i.push({referenceSize:v,subsegmentDuration:y,info:{duration:y/c,start:f,end:f+v-1}}),f+=v,s=g+=4}return{earliestPresentationTime:0,timescale:c,version:o,referencesCount:p,references:i,moovEndOffset:r}}function p(e){for(var t=[],r=d(e,["moov","trak"]),n=0;n<r.length;n++){var a=r[n],o=d(a,["tkhd"])[0];if(o){var l=o.data[o.start],c=0===l?12:20,f=u(o,c),p=d(a,["mdia","mdhd"])[0];if(p){var h=u(p,c=0===(l=p.data[p.start])?12:20),g=d(a,["mdia","hdlr"])[0];if(g){var m=s(g.data.subarray(g.start+8,g.start+12)),v={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[m];if(v){var y=d(a,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=s(y.data.subarray(y.start+12,y.start+16))),t[f]={timescale:h,type:v},t[v]={timescale:h,id:f,codec:b}}}}}}return d(e,["moov","mvex","trex"]).forEach((function(e){var r=u(e,4),n=t[r];n&&(n.default={duration:u(e,12),flags:u(e,20)})})),t}function h(e,t){return d(t,["moof","traf"]).reduce((function(t,r){var n=d(r,["tfdt"])[0],i=n.data[n.start],a=d(r,["tfhd"]).reduce((function(t,r){var a=u(r,4),o=e[a];if(o){var s=u(n,4);1===i&&(s*=Math.pow(2,32),s+=u(n,8));var l=s/(o.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t}),null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t}),null)||0}function g(e,t){for(var r=0,n=0,a=0,o=d(e,["moof","traf"]),s=0;s<o.length;s++){var l=o[s],c=d(l,["tfhd"])[0],p=t[u(c,4)];if(p){var h=p.default,g=u(c,0)|(null===h||void 0===h?void 0:h.flags),v=null===h||void 0===h?void 0:h.duration;8&g&&(v=u(c,2&g?12:8));for(var y=p.timescale||9e4,b=d(l,["trun"]),k=0;k<b.length;k++)r=v?v*u(b[k],4):m(b[k]),p.type===i.ElementaryStreamTypes.VIDEO?n+=r/y:p.type===i.ElementaryStreamTypes.AUDIO&&(a+=r/y)}}if(0===n&&0===a){var E=f(e);if(null!==E&&void 0!==E&&E.references)return E.references.reduce((function(e,t){return e+t.info.duration||0}),0)}return n||a}function m(e){var t=u(e,0),r=8;1&t&&(r+=4),4&t&&(r+=4);for(var n=0,i=u(e,4),a=0;a<i;a++)256&t&&(n+=u(e,r),r+=4),512&t&&(r+=4),1024&t&&(r+=4),2048&t&&(r+=4);return n}function v(e,t,r){d(t,["moof","traf"]).forEach((function(t){d(t,["tfhd"]).forEach((function(n){var i=u(n,4),o=e[i];if(o){var s=o.timescale||9e4;d(t,["tfdt"]).forEach((function(e){var t=e.data[e.start],n=u(e,4);if(0===t)c(e,4,n-r*s);else{n*=Math.pow(2,32),n+=u(e,8),n-=r*s,n=Math.max(n,0);var i=Math.floor(n/(a+1)),o=Math.floor(n%(a+1));c(e,4,i),c(e,8,o)}}))}}))}))}function y(e){var t={valid:null,remainder:null},r=d(e,["moof"]);if(!r)return t;if(r.length<2)return t.remainder=e,t;var i=r[r.length-1];return t.valid=Object(n.sliceUint8)(e,0,i.start-8),t.remainder=Object(n.sliceUint8)(e,i.start-8),t}function b(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}},"./src/utils/output-filter.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));var n=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[]},e}()},"./src/utils/texttrack-utils.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"sendAddTrackEvent",(function(){return i})),r.d(t,"addCueToTrack",(function(){return a})),r.d(t,"clearCurrentCues",(function(){return o})),r.d(t,"removeCuesInRange",(function(){return s})),r.d(t,"getCuesInRange",(function(){return l}));var n=r("./src/utils/logger.ts");function i(e,t){var r;try{r=new Event("addtrack")}catch(n){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}function a(e,t){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(a){n.logger.debug("[texttrack-utils]: "+a);var i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}"disabled"===r&&(e.mode=r)}function o(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var r=e.cues.length;r--;)e.removeCue(e.cues[r]);"disabled"===t&&(e.mode=t)}function s(e,t,r){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var i=l(e.cues,t,r),a=0;a<i.length;a++)e.removeCue(i[a]);"disabled"===n&&(e.mode=n)}function l(e,t,r){var n=[],i=function(e,t){if(t<e[0].startTime)return 0;var r=e.length-1;if(t>e[r].endTime)return-1;for(var n=0,i=r;n<=i;){var a=Math.floor((i+n)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&n<r))return a;n=a+1}}return e[n].startTime-t<t-e[i].startTime?n:i}(e,t);if(i>-1)for(var a=i,o=e.length;a<o;a++){var s=e[a];if(s.startTime>=t&&s.endTime<=r)n.push(s);else if(s.startTime>r)return n}return n}},"./src/utils/time-ranges.ts":function(e,t,r){"use strict";r.r(t),t.default={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":function(e,t,r){"use strict";function n(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=e*t*r;return n?Math.round(i):i}function i(e,t,r,i){return void 0===r&&(r=1),void 0===i&&(i=!1),n(e,t,1/r,i)}function a(e,t){return void 0===t&&(t=!1),n(e,1e3,1/9e4,t)}function o(e,t){return void 0===t&&(t=1),n(e,9e4,1/t)}r.r(t),r.d(t,"toTimescaleFromBase",(function(){return n})),r.d(t,"toTimescaleFromScale",(function(){return i})),r.d(t,"toMsFromMpegTsClock",(function(){return a})),r.d(t,"toMpegTsClockFromTimescale",(function(){return o}))},"./src/utils/typed-array.ts":function(e,t,r){"use strict";function n(e,t,r){return Uint8Array.prototype.slice?e.slice(t,r):new Uint8Array(Array.prototype.slice.call(e,t,r))}r.r(t),r.d(t,"sliceUint8",(function(){return n}))},"./src/utils/vttcue.ts":function(e,t,r){"use strict";r.r(t),t.default=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function r(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;var r=t.toLowerCase();return!!~e.indexOf(r)&&r}function n(e){return r(t,e)}function i(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)e[o]=a[o]}return e}function a(t,a,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var u="",c=!1,d=t,f=a,p=o,h=null,g="",m=!0,v="auto",y="start",b=50,k="middle",E=50,_="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return f},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return g},set:function(t){var n=function(t){return r(e,t)}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return v},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return k},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return _},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}()},"./src/utils/vttparser.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"parseTimeStamp",(function(){return a})),r.d(t,"fixLineBreaks",(function(){return d})),r.d(t,"VTTParser",(function(){return f}));var n=r("./src/utils/vttcue.ts"),i=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function a(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+parseFloat(n||0)}var r=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?t(r[2],r[3],0,r[4]):t(r[1],r[2],r[3],r[4]):null}var o=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var r=parseFloat(t);if(r>=0&&r<=100)return this.set(e,r),!0}return!1},e}();function s(e,t,r,n){var i=n?e.split(n):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(r);2===o.length&&t(o[0],o[1])}}var l=new n.default(0,0,""),u="middle"===l.align?"middle":"center";function c(e,t,r){var n=e;function i(){var t=a(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=i(),c(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),c(),t.endTime=i(),c(),function(e,t){var n=new o;s(e,(function(e,t){var i;switch(e){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===t){n.set(e,r[a].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),n.integer(e,i[0]),n.percent(e,i[0])&&n.set("snapToLines",!1),n.alt(e,i[0],["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",u,"end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",u,"end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===l.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",u);var a=n.get("position","auto");"auto"===a&&50===l.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function d(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var f=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function r(){var e=t.buffer,r=0;for(e=d(e);r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var a=(i=r()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:i=r(),t.state){case"HEADER":/:/.test(i)?s(i,(function(e,t){}),/:/):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new n.default(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{c(i,t.cue,t.regionList)}catch(u){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==i.indexOf("--\x3e");if(!i||l&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID")}}}catch(u){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){this.onparsingerror&&this.onparsingerror(e)}return this.onflush&&this.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"generateCueId",(function(){return d})),r.d(t,"parseWebVTT",(function(){return f}));var n=r("./src/polyfills/number.ts"),i=r("./src/utils/vttparser.ts"),a=r("./src/demux/id3.ts"),o=r("./src/utils/timescale-conversion.ts"),s=r("./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,u=function(e,t,r){return void 0===r&&(r=0),e.substr(r,t.length)===t},c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()};function d(e,t,r){return c(e.toString())+c(t.toString())+c(r)}function f(e,t,r,c,f,p,h,g){var m,v=new i.VTTParser,y=Object(a.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(l,"\n").split("\n"),b=[],k=Object(o.toMpegTsClockFromTimescale)(t,r),E="00:00.000",_=0,S=0,T=!0,w=!1;v.oncue=function(e){var t=c[f],r=c.ccOffset,n=(_-k)/9e4;if(null!==t&&void 0!==t&&t.new&&(void 0!==S?r=c.ccOffset=t.start:function(e,t,r){var n=e[t],i=e[n.prevCC];if(!i||!i.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;null!==(a=i)&&void 0!==a&&a.new;){var a;e.ccOffset+=n.start-i.start,n.new=!1,i=e[(n=i).prevCC]}e.presentationOffset=r}(c,f,n)),n&&(r=n-c.presentationOffset),w){var i=e.endTime-e.startTime,a=Object(s.normalizePts)(9e4*(e.startTime+r-S),9e4*p)/9e4;e.startTime=a,e.endTime=a+i}var o=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(o)),e.id||(e.id=d(e.startTime,e.endTime,o)),e.endTime>0&&b.push(e)},v.onparsingerror=function(e){m=e},v.onflush=function(){m?g(m):h(b)},y.forEach((function(e){if(T){if(u(e,"X-TIMESTAMP-MAP=")){T=!1,w=!0,e.substr(16).split(",").forEach((function(e){u(e,"LOCAL:")?E=e.substr(6):u(e,"MPEGTS:")&&(_=parseInt(e.substr(7)))}));try{S=function(e){var t=parseInt(e.substr(-3)),r=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),a=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;if(!Object(n.isFiniteNumber)(t)||!Object(n.isFiniteNumber)(r)||!Object(n.isFiniteNumber)(i)||!Object(n.isFiniteNumber)(a))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*r,t+=6e4*i,t+=36e5*a}(E)/1e3}catch(t){w=!1,m=t}return}""===e&&(T=!1)}v.parse(e+"\n")})),v.flush()}},"./src/utils/xhr-loader.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/utils/logger.ts"),i=r("./src/loader/load-stats.ts"),a=/^age:\s*[\d.]+\s*$/m,o=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=r,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var r=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(r,t.url)}catch(a){r.open("GET",t.url,!0),i(r,t.url)}r.readyState||r.open("GET",t.url,!0)}catch(a){return void this.callbacks.onError({code:r.status,text:a.message},t,r)}t.rangeEnd&&r.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),r.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,r=this.stats;if(e&&t){var i=t.readyState,a=this.config;if(!r.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start)),4===i){t.onreadystatechange=null,t.onprogress=null;var o=t.status;if(o>=200&&o<300){var s,l;if(r.loading.end=Math.max(self.performance.now(),r.loading.first),l="arraybuffer"===e.responseType?(s=t.response).byteLength:(s=t.responseText).length,r.loaded=r.total=l,!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(r,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,r,e,t)}else r.retry>=a.maxRetry||o>=400&&o<499?(n.logger.error(o+" while loading "+e.url),this.callbacks.onError({code:o,text:t.statusText},e,t)):(n.logger.warn(o+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.timeout)}},t.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&a.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}();t.default=o}}).default},e.exports=n())},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return u}));var n=function(e){return e.hasAttribute("tabindex")};function i(e){return!!document.activeElement&&e.contains(document.activeElement)}function a(e){return e instanceof HTMLElement}function o(e){if(!a(e)||function e(t){return!(!t.parentElement||!e(t.parentElement))||t.hidden}(e)||function(e){return!0===Boolean(e.getAttribute("disabled"))||!0===Boolean(e.getAttribute("aria-disabled"))}(e))return!1;var t=e.localName;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;var r={a:function(){return e.hasAttribute("href")},audio:function(){return e.hasAttribute("controls")},video:function(){return e.hasAttribute("controls")}};return t in r?r[t]():!!function(e){var t=e.getAttribute("contenteditable");return"false"!==t&&null!=t}(e)||n(e)}function s(e){return!!e&&(a(e)&&o(e)&&!function(e){return n(e)&&-1===e.tabIndex}(e))}var l=function(e){return document.activeElement===e};function u(e,t){void 0===t&&(t={});var r=t,n=r.isActive,i=void 0===n?l:n,o=r.preventScroll;return i(e)?-1:requestAnimationFrame((function(){e.focus({preventScroll:o}),function(e){return a(e)&&"input"===e.tagName.toLowerCase()&&"select"in e}(e)&&e.select()}))}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Jt})),r.d(t,"c",(function(){return tr})),r.d(t,"f",(function(){return nr})),r.d(t,"e",(function(){return ir})),r.d(t,"b",(function(){return ar})),r.d(t,"d",(function(){return or}));var n=r(4),i=r(110),a=r(20),o=r(56),s=r(39),l=r(22),u=r(7),c=r(0),d=r.n(c);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=function(e){return c.createElement(i.a,f({focusable:"false","aria-hidden":!0},e),c.createElement("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}))},h=Object(a.a)((function(e,t){var r=Object(o.b)("CloseButton",e),n=Object(s.b)(e),i=n.children,a=n.isDisabled,u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(n,["children","isDisabled"]);return c.createElement(l.a.button,f({type:"button","aria-label":"Close",ref:t,disabled:a,__css:f({},{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},r)},u),i||c.createElement(p,{width:"1em",height:"1em"}))}));u.a&&(h.displayName="CloseButton");var g=r(44),m=r(24);r(1);function v(e,t){return function(e,t){var r=Object(c.useState)((function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=t,r.facade}(t,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var y={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},b=function(e){var t=e.children;return c.createElement(c.Fragment,null,c.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:y}),t,t&&c.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:y}))};b.propTypes={},b.defaultProps={children:null};var k=r(3);function E(e){return e}function _(e,t){void 0===t&&(t=E);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var a=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}}}function S(e,t){return void 0===t&&(t=E),_(e,t)}function T(e){void 0===e&&(e={});var t=_(null);return t.options=k.a({async:!0,ssr:!1},e),t}var w=S({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),x=S(),O=S(),P=T({async:!0}),C=[],A=c.forwardRef((function(e,t){var r,n=c.useState(),i=n[0],a=n[1],o=c.useRef(),s=c.useRef(!1),l=c.useRef(null),u=e.children,d=e.disabled,f=e.noFocusGuards,p=e.persistentFocus,h=e.crossFrame,g=e.autoFocus,b=(e.allowTextSelection,e.group),k=e.className,E=e.whiteList,_=e.shards,S=void 0===_?C:_,T=e.as,O=void 0===T?"div":T,A=e.lockProps,M=void 0===A?{}:A,I=e.sideCar,R=e.returnFocus,D=e.onActivation,L=e.onDeactivation,j=c.useState({})[0],N=c.useCallback((function(){l.current=l.current||document&&document.activeElement,o.current&&D&&D(o.current),s.current=!0}),[D]),U=c.useCallback((function(){s.current=!1,L&&L(o.current)}),[L]),B=c.useCallback((function(e){var t=l.current;if(Boolean(R)&&t&&t.focus){var r="object"===typeof R?R:void 0;l.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}),[R]),F=c.useCallback((function(e){s.current&&w.useMedium(e)}),[]),z=x.useMedium,V=c.useCallback((function(e){o.current!==e&&(o.current=e,a(e))}),[]);var W=Object(m.a)(((r={})["data-focus-lock-disabled"]=d&&"disabled",r["data-focus-lock"]=b,r),M),$=!0!==f,H=$&&"tail"!==f,K=v([t,V]);return c.createElement(c.Fragment,null,$&&[c.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:y}),c.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:y})],!d&&c.createElement(I,{id:j,sideCar:P,observed:i,disabled:d,persistentFocus:p,crossFrame:h,autoFocus:g,whiteList:E,shards:S,onActivation:N,onDeactivation:U,returnFocus:B}),c.createElement(O,Object(m.a)({ref:K},W,{className:k,onBlur:z,onFocus:F}),u),H&&c.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:y}))}));A.propTypes={},A.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var M=A;var I=function(e,t){return function(r){var n,i=[];function a(){n=e(i.map((function(e){return e.props}))),t(n)}var o,s,l,u=function(e){var t,o;function s(){return e.apply(this,arguments)||this}o=e,(t=s).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o,s.peek=function(){return n};var l=s.prototype;return l.componentDidMount=function(){i.push(this),a()},l.componentDidUpdate=function(){a()},l.componentWillUnmount=function(){var e=i.indexOf(this);i.splice(e,1),a()},l.render=function(){return d.a.createElement(r,this.props)},s}(c.PureComponent);return o=u,s="displayName",l="SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")",s in o?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,u}},R=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},D=function(e){return Array.isArray(e)?e:[e]},L=function(){return document&&R(document.querySelectorAll("[data-no-focus-lock]")).some((function(e){return e.contains(document.activeElement)}))},j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=function(e){return D(e).filter(Boolean).reduce((function(e,t){var r=t.getAttribute("data-focus-lock");return e.push.apply(e,r?function e(t){for(var r=t.length,n=0;n<r;n+=1)for(var i=function(r){if(n!==r&&t[n].contains(t[r]))return{v:e(t.filter((function(e){return e!==t[r]})))}},a=0;a<r;a+=1){var o=i(a);if("object"===("undefined"===typeof o?"undefined":j(o)))return o.v}return t}(R(function e(t){return t.parentNode?e(t.parentNode):t}(t).querySelectorAll('[data-focus-lock="'+r+'"]:not([data-focus-lock-disabled="disabled"])'))):[t]),e}),[])},U=function(e){return e===document.activeElement},B=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&N(e).reduce((function(e,r){return e||r.contains(t)||function(e){return t=R(e.querySelectorAll("iframe")),r=U,!!t.filter((function(e){return e===r}))[0];var t,r}(r)}),!1)},F=function(e,t){var r=e.tabIndex-t.tabIndex,n=e.index-t.index;if(r){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return r||n},z=function(e,t,r){return R(e).map((function(e,t){return{node:e,index:t,tabIndex:r&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(F)},V=["button:enabled:not([readonly])","select:enabled:not([readonly])","textarea:enabled:not([readonly])","input:enabled:not([readonly])","a[href]","area[href]","iframe","object","embed","[tabindex]","[contenteditable]","[autofocus]"],W=V.join(","),$=W+", [data-focus-guard]",H=function(e,t){return e.reduce((function(e,r){return e.concat(R(r.querySelectorAll(t?$:W)),r.parentNode?R(r.parentNode.querySelectorAll(V.join(","))).filter((function(e){return e===r})):[])}),[])},K=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.push(t),t.parentNode&&e(t.parentNode,r),r},G=function(e,t){for(var r=K(e),n=K(t),i=0;i<r.length;i+=1){var a=r[i];if(n.indexOf(a)>=0)return a}return!1},Z=function(e){return R(e).filter((function(e){return function e(t){return!t||t===document||t.nodeType===Node.DOCUMENT_NODE||!((r=window.getComputedStyle(t,null))&&r.getPropertyValue&&("none"===r.getPropertyValue("display")||"hidden"===r.getPropertyValue("visibility")))&&e(t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode);var r}(e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},q=function(e,t){return z(Z(H(e,t)),!0,t)},X=function(e){return z(Z(H(e)),!1)},Y=function(e){return Z(function(e){var t=e.querySelectorAll("[data-autofocus-inside]");return R(t).map((function(e){return H([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e))},Q=function(e){return"INPUT"===e.tagName&&"radio"===e.type},J=function(e,t){return Q(e)&&e.name?function(e,t){return t.filter(Q).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},ee=function(e,t){return e.length>1?e.indexOf(J(e[t],e)):t},te=function(e){return e[0]&&e.length>1?J(e[0],e):e[0]},re=function(e){return e&&e.dataset&&e.dataset.focusGuard},ne=function(e){return!re(e)},ie=function(e,t,r,n){var i=e.length,a=e[0],o=e[i-1],s=re(r);if(!(e.indexOf(r)>=0)){var l=t.indexOf(r),u=t.indexOf(n||l),c=e.indexOf(n),d=l-u,f=t.indexOf(a),p=t.indexOf(o),h=function(e){var t=new Set;return e.forEach((function(r){return t.add(J(r,e))})),e.filter((function(e){return t.has(e)}))}(t),g=h.indexOf(r)-h.indexOf(n||l),m=ee(e,0),v=ee(e,i-1);return-1===l||-1===c?"NEW_FOCUS":!d&&c>=0?c:l<=f&&s&&Math.abs(d)>1?v:l>=p&&s&&Math.abs(d)>1?m:d&&Math.abs(g)>1?c:l<=f?v:l>p?m:d?Math.abs(d)>1?c:(i+c+d)%i:void 0}},ae=function(e,t,r){var n=D(e),i=D(t),a=n[0],o=null;return i.filter(Boolean).forEach((function(e){o=G(o||e,e)||o,r.filter(Boolean).forEach((function(e){var t=G(a,e);t&&(o=!o||t.contains(o)?t:G(t,o))}))})),o},oe=function(e,t){var r=document&&document.activeElement,n=N(e).filter(ne),i=ae(r||e,e,n),a=X(n),o=q(n).filter((function(e){var t=e.node;return ne(t)}));if(o[0]||(o=a)[0]){var s,l=X([i]).map((function(e){return e.node})),u=function(e,t){var r=new Map;return t.forEach((function(e){return r.set(e.node,e)})),e.map((function(e){return r.get(e)})).filter(Boolean)}(l,o),c=u.map((function(e){return e.node})),d=ie(c,l,r,t);if("NEW_FOCUS"===d){var f=a.map((function(e){return e.node})).filter((s=function(e){return e.reduce((function(e,t){return e.concat(Y(t))}),[])}(n),function(e){return!!e.autofocus||e.dataset&&!!e.dataset.autofocus||s.indexOf(e)>=0}));return{node:f&&f.length?te(f):te(c)}}return void 0===d?d:u[d]}},se=0,le=!1,ue=function(e,t){var r,n=oe(e,t);if(!le&&n){if(se>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),le=!0,void setTimeout((function(){le=!1}),1);se++,(r=n.node).focus(),r.contentWindow&&r.contentWindow.focus(),se--}};function ce(e){var t=window.setImmediate;"undefined"!==typeof t?t(e):setTimeout(e,1)}var de=function(){return document&&document.activeElement===document.body||L()},fe=null,pe=null,he=null,ge=!1,me=function(){return!0};function ve(e,t,r,n){var i=null,a=e;do{var o=n[a];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else{if(!o.lockItem)break;if(a!==e)return;i=null}}while((a+=r)!==t);i&&(i.node.tabIndex=0)}var ye=function(e){return e&&"current"in e?e.current:e},be=function(){var e,t=!1;if(fe){var r=fe,n=r.observed,i=r.persistentFocus,a=r.autoFocus,o=r.shards,s=r.crossFrame,l=n||he&&he.portaledElement,u=document&&document.activeElement;if(l){var c=[l].concat(o.map(ye).filter(Boolean));if(u&&!function(e){return(fe.whiteList||me)(e)}(u)||(i||(s?Boolean(ge):"meanwhile"===ge)||!de()||!pe&&a)&&(!l||B(c)||(e=u,he&&he.portaledElement===e)||(document&&!pe&&u&&!a?(u.blur&&u.blur(),document.body.focus()):(t=ue(c,pe),he={})),ge=!1,pe=document&&document.activeElement),document){var d=document&&document.activeElement,f=function(e){var t=N(e).filter(ne),r=ae(e,e,t),n=q([r],!0),i=q(t).filter((function(e){var t=e.node;return ne(t)})).map((function(e){return e.node}));return n.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:re(t)}}))}(c),p=f.map((function(e){return e.node})).indexOf(d);p>-1&&(f.filter((function(e){var t=e.guard,r=e.node;return t&&r.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),ve(p,f.length,1,f),ve(p,-1,-1,f))}}}return t},ke=function(e){be()&&e&&(e.stopPropagation(),e.preventDefault())},Ee=function(){return ce(be)},_e=function(e){var t=e.target,r=e.currentTarget;r.contains(t)||(he={observerNode:r,portaledElement:t})},Se=function(){ge="just",setTimeout((function(){ge="meanwhile"}),0)};w.assignSyncMedium(_e),x.assignMedium(Ee),O.assignMedium((function(e){return e({moveFocusInside:ue,focusInside:B})}));var Te=I((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!fe&&(document.addEventListener("focusin",ke,!0),document.addEventListener("focusout",Ee),window.addEventListener("blur",Se));var r=fe,n=r&&t&&t.id===r.id;fe=t,r&&!n&&(r.onDeactivation(),e.filter((function(e){return e.id===r.id})).length||r.returnFocus(!t)),t?(pe=null,n&&r.observed===t.observed||t.onActivation(),be(),ce(be)):(document.removeEventListener("focusin",ke,!0),document.removeEventListener("focusout",Ee),window.removeEventListener("blur",Se),pe=null)}))((function(){return null})),we=c.forwardRef((function(e,t){return c.createElement(M,Object(m.a)({sideCar:Te,ref:t},e))})),xe=M.propTypes||{},Oe=(xe.sideCar,Object(g.a)(xe,["sideCar"]));we.propTypes=Oe;var Pe=we,Ce=r(328),Ae=r(41),Me=function(e){var t=e.initialFocusRef,r=e.finalFocusRef,n=e.contentRef,i=e.restoreFocus,a=e.children,o=e.isDisabled,s=e.autoFocus,l=e.persistentFocus,u=c.useCallback((function(){if(null==t?void 0:t.current)t.current.focus();else if(null==n?void 0:n.current){0===Object(Ce.a)(n.current).length&&Object(Ae.a)(n.current)}}),[t,n]),d=c.useCallback((function(){var e;null==r||null==(e=r.current)||e.focus()}),[r]),f=i&&!r;return c.createElement(Pe,{persistentFocus:l,autoFocus:s,disabled:o,onActivation:u,onDeactivation:d,returnFocus:f},a)};u.a&&(Me.displayName="FocusLock");var Ie=r(75),Re=r(64),De=r(18),Le=r(57),je=r(183),Ne=Object(Re.a)({strict:!1,name:"PortalContext"}),Ue=Object(n.a)(Ne,2),Be=Ue[0],Fe=Ue[1],ze=function(e){var t=e.onMount,r=e.onUnmount,i=e.children,a=e.getContainer,o=c.useState((function(){if(De.f){var e=document.createElement("div");return e.className="chakra-portal",e}return null})),s=Object(n.a)(o,1)[0],l=Fe(),u=Object(je.b)(),d=c.useCallback((function(e){s&&e&&e.appendChild(s)}),[s]);Object(Ie.a)((function(){var e,n,i=null==a?void 0:a(),o=null!=(e=null!=(n=null!=i?i:l)?n:null==u?void 0:u.node)?e:document.body;return d(o),null==t||t(),function(){null==r||r(),s&&(null==o?void 0:o.contains(s))&&(null==o||o.removeChild(s))}}),[a,s,l,t,r,null==u?void 0:u.node,d]);var f=(null==u?void 0:u.zIndex)?c.createElement("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:u.zIndex,width:"100%"}},i):i;return s?Le.createPortal(c.createElement(Be,{value:s},f),s):c.createElement(c.Fragment,null,f)};u.a&&(ze.displayName="Portal");var Ve=r(62),We=r(19),$e=r(29);function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ke={initial:"exit",animate:"enter",exit:"exit",variants:{exit:{opacity:0,transition:{duration:.1,ease:$e.a.easeOut}},enter:{opacity:1,transition:{duration:.2,ease:$e.a.easeIn}}}},Ge=c.forwardRef((function(e,t){var r=e.unmountOnExit,n=e.in,i=e.className,a=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["unmountOnExit","in","className"]),o=!r||n&&r;return c.createElement(We.a,null,o&&c.createElement(We.b.div,He({ref:t,className:Object(De.c)("chakra-fade",i)},Ke,{animate:n||r?"enter":"exit"},a)))}));u.a&&(Ge.displayName="Fade");var Ze=r(27),qe=T(),Xe=function(){},Ye=c.forwardRef((function(e,t){var r=c.useRef(null),n=c.useState({onScrollCapture:Xe,onWheelCapture:Xe,onTouchMoveCapture:Xe}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,g=e.inert,m=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,E=k.d(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=p,S=v([r,t]),T=k.a({},E,i);return c.createElement(c.Fragment,null,d&&c.createElement(_,{sideCar:qe,removeScrollBar:u,shards:f,noIsolation:h,inert:g,setCallbacks:a,allowPinchZoom:!!m,lockRef:r}),o?c.cloneElement(c.Children.only(s),k.a({},T,{ref:S})):c.createElement(b,k.a({},T,{className:l,ref:S}),s))}));Ye.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ye.classNames={fullWidth:"width-before-scroll-bar",zeroRight:"right-scroll-bar-position"};var Qe,Je=function(e){var t=e.sideCar,r=k.d(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return c.createElement(n,k.a({},r))};Je.isSideCarExport=!0;function et(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qe||r.nc;return t&&e.setAttribute("nonce",t),e}var tt=function(){var e=0,t=null;return{add:function(r){var n,i;0==e&&(t=et())&&(i=r,(n=t).styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rt=function(){var e=function(){var e=tt();return function(t){c.useEffect((function(){return e.add(t),function(){e.remove()}}),[])}}();return function(t){var r=t.styles;return e(r),null}},nt={left:0,top:0,right:0,gap:0},it=function(e){return parseInt(e||"",10)||0},at=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return nt;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[it(r),it(n),it(i)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ot=rt(),st=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .with-scroll-bars-hidden {\n   overflow: hidden "+n+";\n   padding-right: "+s+"px "+n+";\n  }\n  body {\n    overflow: hidden "+n+";\n    "+[t&&"position: relative "+n+";","margin"===r&&"\n    padding-left: "+i+"px;\n    padding-top: "+a+"px;\n    padding-right: "+o+"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: "+s+"px "+n+";\n    ","padding"===r&&"padding-right: "+s+"px "+n+";"].filter(Boolean).join("")+"\n  }\n  \n  .right-scroll-bar-position {\n    right: "+s+"px "+n+";\n  }\n  \n  .width-before-scroll-bar {\n    margin-right: "+s+"px "+n+";\n  }\n  \n  .right-scroll-bar-position .right-scroll-bar-position {\n    right: 0 "+n+";\n  }\n  \n  .width-before-scroll-bar .width-before-scroll-bar {\n    margin-right: 0 "+n+";\n  }\n"},lt=function(e){var t=c.useState(at(e.gapMode)),r=t[0],n=t[1];c.useEffect((function(){n(at(e.gapMode))}),[e.gapMode]);var i=e.noRelative,a=e.noImportant,o=e.gapMode,s=void 0===o?"margin":o;return c.createElement(ot,{styles:st(r,!i,s,a?"":"!important")})},ut=function(e,t){var r=t;do{if(ct(e,r)){var n=dt(e,r);if(n[1]>n[2])return!0}r=r.parentNode}while(r&&r!==document.body);return!1},ct=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},dt=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},ft=!1;if("undefined"!==typeof window)try{var pt=Object.defineProperty({},"passive",{get:function(){return ft=!0,!0}});window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch(lr){ft=!1}var ht=!!ft&&{passive:!1},gt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mt=function(e){return[e.deltaX,e.deltaY]},vt=function(e){return e&&"current"in e?e.current:e},yt=function(e){return"\n  .block-interactivity-"+e+" {pointer-events: none;}\n  .allow-interactivity-"+e+" {pointer-events: all;}\n"},bt=0,kt=[];var Et,_t=(Et=function(e){var t=c.useRef([]),r=c.useRef([0,0]),n=c.useRef(),i=c.useState(bt++)[0],a=c.useState((function(){return rt()}))[0],o=c.useRef(e);c.useEffect((function(){o.current=e}),[e]),c.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-"+i);var t=[e.lockRef.current].concat((e.shards||[]).map(vt)).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-"+i)})),function(){document.body.classList.remove("block-interactivity-"+i),t.forEach((function(e){return e.classList.remove("allow-interactivity-"+i)}))}}}),[e.inert,e.lockRef.current,e.shards]);var s=c.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!o.current.allowPinchZoom;var i,a=gt(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],u="deltaY"in e?e.deltaY:s[1]-a[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v",f=ut(d,c);if(!f)return!0;if(f?i=d:(i="v"===d?"h":"v",f=ut(d,c)),!f)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var p=n.current||i;return function(e,t,r,n,i){var a=n,o=r.target,s=t.contains(o),l=!1,u=a>0,c=0,d=0;do{var f=dt(e,o),p=f[0],h=f[1]-f[2]-p;(p||h)&&ct(e,o)&&(c+=h,d+=p),o=o.parentNode}while(!s&&o!==document.body||s&&(t.contains(o)||t===o));return(u&&(i&&0===c||!i&&a>c)||!u&&(i&&0===d||!i&&-a>d))&&(l=!0),l}(p,t,e,"h"===p?l:u,!0)}),[]),l=c.useCallback((function(e){var r=e;if(kt.length&&kt[kt.length-1]===a){var n="deltaY"in r?mt(r):gt(r),i=t.current.filter((function(e){return e.name===r.type&&e.target===r.target&&(t=e.delta,i=n,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)r.preventDefault();else if(!i){var l=(o.current.shards||[]).map(vt).filter(Boolean).filter((function(e){return e.contains(r.target)}));(l.length>0?s(r,l[0]):!o.current.noIsolation)&&r.preventDefault()}}}),[]),u=c.useCallback((function(e,r,n,i){var a={name:e,delta:r,target:n,should:i};t.current.push(a),setTimeout((function(){t.current=t.current.filter((function(e){return e!==a}))}),1)}),[]),d=c.useCallback((function(e){r.current=gt(e),n.current=void 0}),[]),f=c.useCallback((function(t){u(t.type,mt(t),t.target,s(t,e.lockRef.current))}),[]),p=c.useCallback((function(t){u(t.type,gt(t),t.target,s(t,e.lockRef.current))}),[]);c.useEffect((function(){return kt.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ht),document.addEventListener("touchmove",l,ht),document.addEventListener("touchstart",d,ht),function(){kt=kt.filter((function(e){return e!==a})),document.removeEventListener("wheel",l,ht),document.removeEventListener("touchmove",l,ht),document.removeEventListener("touchstart",d,ht)}}),[]);var h=e.removeScrollBar,g=e.inert;return c.createElement(c.Fragment,null,g?c.createElement(a,{styles:yt(i)}):null,h?c.createElement(lt,{gapMode:"margin"}):null)},qe.useMedium(Et),Je),St=c.forwardRef((function(e,t){return c.createElement(Ye,k.a({},e,{ref:t,sideCar:_t}))}));St.classNames=Ye.classNames;var Tt=St,wt=r(46);function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ot={enter:{duration:.2,ease:$e.a.easeOut},exit:{duration:.1,ease:$e.a.easeIn}},Pt={initial:"initial",animate:"enter",exit:"exit",variants:{initial:function(e){return{opacity:0,x:e.offsetX,y:e.offsetY,transition:Ot.exit}},exit:function(e){return xt({opacity:0,transition:Ot.exit},e.reverse&&{x:e.offsetX,y:e.offsetY},!e.reverse&&{transitionEnd:{x:e.offsetX,y:e.offsetY}})},enter:{opacity:1,x:0,y:0,transition:Ot.enter}}},Ct=c.forwardRef((function(e,t){var r=e.unmountOnExit,n=e.in,i=e.reverse,a=void 0===i||i,o=e.className,s=e.offsetX,l=void 0===s?0:s,u=e.offsetY,d=void 0===u?8:u,f=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["unmountOnExit","in","reverse","className","offsetX","offsetY"]),p=!r||n&&r,h={offsetX:l,offsetY:d,reverse:a},g=Object(wt.d)(Pt,{custom:h,animate:n||r?"enter":"exit"});return c.createElement(We.a,{custom:h},p&&c.createElement(We.b.div,xt({ref:t,className:Object(De.c)("chakra-offset-slide",o)},g,f)))}));function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}u.a&&(Ct.displayName="SlideFade");var Mt={initial:"exit",animate:"enter",exit:"exit",variants:{exit:function(e){return At({opacity:0},e.reverse?{scale:e.initialScale}:{transitionEnd:{scale:e.initialScale}},{transition:{duration:.1,ease:$e.a.easeOut}})},enter:{opacity:1,scale:1,transition:{duration:.25,ease:$e.a.easeInOut}}}},It=c.forwardRef((function(e,t){var r=e.unmountOnExit,n=e.in,i=e.reverse,a=void 0===i||i,o=e.initialScale,s=void 0===o?.95:o,l=e.className,u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["unmountOnExit","in","reverse","initialScale","className"]),d=!r||n&&r,f={initialScale:s,reverse:a},p=Object(wt.d)(Mt,{custom:f,animate:n||r?"enter":"exit"});return c.createElement(We.a,{custom:f},d&&c.createElement(We.b.div,At({ref:t,className:Object(De.c)("chakra-offset-slide",l)},p,u)))}));function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}u.a&&(It.displayName="ScaleFade");var Dt={slideInBottom:Rt({},Pt,{custom:{offsetY:16,reverse:!0}}),slideInRight:Rt({},Pt,{custom:{offsetX:16,reverse:!0}}),scale:Rt({},Mt,{custom:{initialScale:.95,reverse:!0}})},Lt=Object(l.a)(We.b.section),jt=c.forwardRef((function(e,t){var r=e.preset,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["preset"]),i=Dt[r];return c.createElement(Lt,Rt({ref:t},i,n))})),Nt=r(117),Ut="undefined"!==typeof document?document.body:null,Bt=new WeakMap,Ft=new WeakMap,zt={},Vt=0;function Wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $t=new(function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(r="modals")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.modals=[]}var t,r,n;return t=e,(r=[{key:"add",value:function(e){this.modals.push(e)}},{key:"remove",value:function(e){this.modals=this.modals.filter((function(t){return t!==e}))}},{key:"isTopModal",value:function(e){return this.modals[this.modals.length-1]===e}}])&&Wt(t.prototype,r),n&&Wt(t,n),e}());function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Kt(e){var t,r,i=e.isOpen,a=e.onClose,o=e.id,s=e.closeOnOverlayClick,l=void 0===s||s,u=e.closeOnEsc,d=void 0===u||u,f=e.useInert,p=void 0===f||f,h=e.onOverlayClick,g=e.onEsc,m=Object(c.useRef)(null),v=Object(c.useRef)(null),y=Object(Nt.b)(o,"chakra-modal","chakra-modal--header","chakra-modal--body"),b=Object(n.a)(y,3),k=b[0],E=b[1],_=b[2];t=m,r=i&&p,Object(c.useEffect)((function(){if(t.current){var e=null;return r&&t.current&&(e=function(e,t,r){void 0===t&&(t=Ut),void 0===r&&(r="data-aria-hidden");var n=Array.isArray(e)?e:[e];zt[r]||(zt[r]=new WeakMap);var i=zt[r],a=[];return function e(t){!t||n.indexOf(t)>=0||Array.prototype.forEach.call(t.children,(function(t){if(n.some((function(e){return t.contains(e)})))e(t);else{var o=t.getAttribute("aria-hidden"),s=null!==o&&"false"!==o,l=(Bt.get(t)||0)+1,u=(i.get(t)||0)+1;Bt.set(t,l),i.set(t,u),a.push(t),1===l&&s&&Ft.set(t,!0),1===u&&t.setAttribute(r,"true"),s||t.setAttribute("aria-hidden","true")}}))}(t),Vt++,function(){a.forEach((function(e){var t=Bt.get(e)-1,n=i.get(e)-1;Bt.set(e,t),i.set(e,n),t||(Ft.has(e)||e.removeAttribute("aria-hidden"),Ft.delete(e)),n||e.removeAttribute(r)})),--Vt||(Bt=new WeakMap,Bt=new WeakMap,Ft=new WeakMap,zt={})}}(t.current)),function(){r&&(null==e||e())}}}),[r,t]),function(e,t){Object(c.useEffect)((function(){return t&&$t.add(e),function(){$t.remove(e)}}),[t,e])}(m,i);var S=Object(c.useRef)(null),T=Object(c.useCallback)((function(e){S.current=e.target}),[]),w=Object(c.useCallback)((function(e){"Escape"===e.key&&(e.stopPropagation(),d&&(null==a||a()),null==g||g())}),[d,a,g]),x=Object(c.useState)(!1),O=Object(n.a)(x,2),P=O[0],C=O[1],A=Object(c.useState)(!1),M=Object(n.a)(A,2),I=M[0],R=M[1],D=Object(c.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Ht({role:"dialog"},e,{ref:Object(Re.c)(t,m),id:k,tabIndex:-1,"aria-modal":!0,"aria-labelledby":P?E:void 0,"aria-describedby":I?_:void 0,onClick:Object(Ze.b)(e.onClick,(function(e){return e.stopPropagation()}))})}),[_,I,k,E,P]),L=Object(c.useCallback)((function(e){e.stopPropagation(),S.current===e.target&&$t.isTopModal(m)&&(l&&(null==a||a()),null==h||h())}),[a,l,h]),j=Object(c.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Ht({},e,{ref:Object(Re.c)(t,v),onClick:Object(Ze.b)(e.onClick,L),onKeyDown:Object(Ze.b)(e.onKeyDown,w),onMouseDown:Object(Ze.b)(e.onMouseDown,T)})}),[w,T,L]);return{isOpen:i,onClose:a,headerId:E,bodyId:_,setBodyMounted:R,setHeaderMounted:C,dialogRef:m,overlayRef:v,getDialogProps:D,getDialogContainerProps:j}}function Gt(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var qt=Object(Re.a)({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Xt=Object(n.a)(qt,2),Yt=Xt[0],Qt=Xt[1],Jt=function(e){var t=e.getContainer,r=e.children,n=e.autoFocus,i=e.trapFocus,a=e.initialFocusRef,s=e.finalFocusRef,l=e.returnFocusOnClose,u=e.blockScrollOnMount,d=e.allowPinchZoom,f=e.preserveScrollBarGap,p=e.motionPreset,h=Object(o.a)("Modal",e),g=Zt({},Kt(e),{autoFocus:n,trapFocus:i,initialFocusRef:a,finalFocusRef:s,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:d,preserveScrollBarGap:f,motionPreset:p});return c.createElement(Yt,{value:g},c.createElement(Ve.b,{value:h},c.createElement(We.a,null,g.isOpen&&c.createElement(ze,{getContainer:t},r))))};Jt.defaultProps={returnFocusOnClose:!0,scrollBehavior:"outside",trapFocus:!0,autoFocus:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale"},u.a&&(Jt.displayName="Modal");var er=Object(l.a)(We.b.div),tr=Object(a.a)((function(e,t){var r=e.className,n=e.children,i=Gt(e,["className","children"]),a=Qt(),o=a.getDialogProps,s=a.getDialogContainerProps,u=o(i,t),d=s(),f=Object(De.c)("chakra-modal__content",r),p=Object(Ve.c)(),h=Zt({display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0},p.dialog),g=Zt({display:"flex",width:"100vw",height:"100vh",position:"fixed",left:0,top:0},p.dialogContainer),m=Qt().motionPreset;return c.createElement(rr,null,c.createElement(l.a.div,Zt({},d,{className:"chakra-modal__content-container",__css:g}),c.createElement(jt,Zt({preset:m,className:f},u,{__css:h}),n)))}));function rr(e){var t=Qt(),r=t.autoFocus,i=t.trapFocus,a=t.dialogRef,o=t.initialFocusRef,s=t.blockScrollOnMount,l=t.allowPinchZoom,u=t.finalFocusRef,d=t.returnFocusOnClose,f=t.preserveScrollBarGap,p=Object(We.c)(),h=Object(n.a)(p,2),g=h[0],m=h[1];return c.useEffect((function(){!g&&m&&setTimeout(m)}),[g]),c.createElement(Me,{autoFocus:r,isDisabled:!i,initialFocusRef:o,finalFocusRef:u,restoreFocus:d,contentRef:a},c.createElement(Tt,{removeScrollBar:!f,allowPinchZoom:l,enabled:s,forwardProps:!0},e.children))}u.a&&(tr.displayName="ModalContent");var nr=Object(a.a)((function(e,t){var r=e.className,n=Gt(e,["className"]),i=Object(De.c)("chakra-modal__overlay",r),a=Zt({pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh"},Object(Ve.c)().overlay);return c.createElement(er,Zt({},Ke,{__css:a,ref:t,className:i},n))}));u.a&&(nr.displayName="ModalOverlay");var ir=Object(a.a)((function(e,t){var r=e.className,n=Gt(e,["className"]),i=Qt(),a=i.headerId,o=i.setHeaderMounted;c.useEffect((function(){return o(!0),function(){return o(!1)}}),[o]);var s=Object(De.c)("chakra-modal__header",r),u=Zt({flex:0},Object(Ve.c)().header);return c.createElement(l.a.header,Zt({ref:t,className:s,id:a},n,{__css:u}))}));u.a&&(ir.displayName="ModalHeader");var ar=Object(a.a)((function(e,t){var r=e.className,n=Gt(e,["className"]),i=Qt(),a=i.bodyId,o=i.setBodyMounted;c.useEffect((function(){return o(!0),function(){return o(!1)}}),[o]);var s=Object(De.c)("chakra-modal__body",r),u=Object(Ve.c)();return c.createElement(l.a.div,Zt({ref:t,className:s,id:a},n,{__css:u.body}))}));u.a&&(ar.displayName="ModalBody");var or=Object(a.a)((function(e,t){var r=e.className,n=Gt(e,["className"]),i=Object(De.c)("chakra-modal__footer",r),a=Zt({display:"flex",alignItems:"center",justifyContent:"flex-end"},Object(Ve.c)().footer);return c.createElement(l.a.footer,Zt({ref:t},n,{__css:a,className:i}))}));u.a&&(or.displayName="ModalFooter");var sr=Object(a.a)((function(e,t){var r=e.onClick,n=e.className,i=Gt(e,["onClick","className"]),a=Qt().onClose,o=Object(De.c)("chakra-modal__close-btn",n);return c.createElement(h,Zt({ref:t,position:"absolute",top:"8px",right:"12px",className:o,onClick:Object(Ze.b)(r,(function(e){e.stopPropagation(),a()}))},i))}));u.a&&(sr.displayName="ModalCloseButton")},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=r(54),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=Object(a.a)((function(e){return l(e)?e:e.replace(o,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,r){return p={name:t,styles:r,next:p},t}))}return 1===i[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return p={name:r.name,styles:r.styles,next:p},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)p={name:n.name,styles:n.styles,next:p},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=f(e,t,r[i])+";";else for(var a in r){var o=r[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?n+=a+"{"+t[o]+"}":u(o)&&(n+=c(a)+":"+d(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=f(e,t,o);switch(a){case"animation":case"animationName":n+=c(a)+":"+s+";";break;default:n+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)u(o[l])&&(n+=c(a)+":"+d(a,o[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=p,a=r(e);return p=i,f(e,t,a)}break;case"string":}if(null==t)return r;var o=t[r];return void 0!==o?o:r}var p,h=/label:\s*([^\s;\n{]+)\s*;/g;var g=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";p=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=f(r,t,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=f(r,t,e[s]),i&&(a+=o[s]);h.lastIndex=0;for(var l,u="";null!==(l=h.exec(a));)u+="-"+l[1];return{name:n(a)+u,styles:a,next:p}}},function(e,t,r){"use strict";r.d(t,"h",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"a",(function(){return f})),r.d(t,"g",(function(){return p})),r.d(t,"b",(function(){return h}));var n=r(4),i=r(121),a=r.n(i);r.d(t,"d",(function(){return a.a}));var o=r(26),s=r.n(o);function l(e,t){var r={};return Object.keys(e).forEach((function(n){t.includes(n)||(r[n]=e[n])})),r}function u(e,t,r,n){var i="string"===typeof t?t.split("."):[t];for(n=0;n<i.length&&e;n+=1)e=e[i[n]];return void 0===e?r:e}r.d(t,"e",(function(){return s.a}));var c=function(e){var t=new WeakMap;return function(r,n,i,a){t.has(r)||t.set(r,new Map);var o=t.get(r),s="string"===typeof n?n.split("."):[n];if(o.has(s))return o.get(s);var l=e(r,n,i,a);return o.set(s,l),l}}(u);function d(e,t){var r={};return Object.keys(e).forEach((function(n){var i=e[n];t(i,n,e)&&(r[n]=i)})),r}var f=function(e){return d(e,(function(e){return null!==e&&void 0!==e}))},p=function(e){return Object.keys(e)},h=function(e){return e.reduce((function(e,t){var r=Object(n.a)(t,2),i=r[0],a=r[1];return e[i]=a,e}),{})}},,function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return e.toggleButtonOff||e.toggleButton},p=function(e){return e.toggleButtonOn||e.toggleButton},h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"handleClick",(function(){return e.props.onToggle&&e.props.onToggle(!e.props.isOn)})),d(a(e),"handleKeyDown",(0,u.getKeyboardShortcutBlocker)(["Enter"," "])),d(a(e),"handleKeyUp",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.handleClick())})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.isOn,r=e.label,n=e.className,i=e.classNamePrefix,a=e.toggledOnContent,o=e.toggledOffContent,s=e.onRef,c=e.classes,d=t?"toggled-on":"toggled-off",h=(0,u.hydrateClassNames)({classes:c,selectClasses:t?p:f,classNamePrefix:i,classNames:[n,"toggle-button",d]}),g=t?a:o;return l.createElement("div",{role:"button","aria-pressed":t,title:r,onClick:this.handleClick,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,ref:s,className:h,tabIndex:0},l.createElement("div",{tabIndex:-1},g))}}]),r}(l.Component);d(h,"defaultProps",{useDefaultClassNaming:!0});var g=h;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return"string"===typeof e?{streamUrl:e}:e};t.default=n},function(e,t){var r,n,i,a,o,s,l;r=function(e){return 9e4*e},n=function(e,t){return e*t},i=function(e){return e/9e4},a=function(e,t){return e/t},o=function(e,t){return r(a(e,t))},s=function(e,t){return n(i(e),t)},l=function(e,t,r){return i(r?e:e-t)},e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:r,secondsToAudioTs:n,videoTsToSeconds:i,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s,metadataTsToSeconds:l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.emptyTracks=void 0;var n=[];t.emptyTracks=n;var i=[],a=new Date(0);var o=function(e,t,r){var o="unknown";function s(e){r&&r(e),o=e}return r&&r(o),{startPlaybackSession:function(){s("new"),function(e){e({duration:0,position:0,playMode:"ondemand",playState:"inactive",isBuffering:!1,isPaused:!1,isSeeking:!1,volume:1,muted:!1,bufferedAhead:0,isPipAvailable:!1,isAirPlayAvailable:!1,isPipActive:!1,isAirPlayActive:!1,bitrates:i,audioTracks:n,textTracks:n,absolutePosition:a,absoluteStartPosition:a})}(e),t.stop()},endPlaybackSession:function(r){r&&s(r),function(e){e({playState:"inactive",isBuffering:!1,isPaused:!1,isSeeking:!1,isPipAvailable:!1,isAirPlayAvailable:!1})}(e),t.stop()},getStage:function(){return o},setStage:s,cleanup:function(){t.stop()}}};t.default=o},function(e,t,r){"use strict";r(124);var n=r(69);r.d(t,"pseudoPropNames",(function(){return n.a})),r.d(t,"pseudoSelectors",(function(){return n.b}));var i=r(125);r.o(i,"css")&&r.d(t,"css",(function(){return i.css})),r.o(i,"propNames")&&r.d(t,"propNames",(function(){return i.propNames}))},function(e,t,r){"use strict";t.a=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},function(e,t,r){"use strict";r(10),r(6);var n=r(53);r.o(n,"css")&&r.d(t,"css",(function(){return n.css})),r.o(n,"propNames")&&r.d(t,"propNames",(function(){return n.propNames}));var i=r(175);r.d(t,"css",(function(){return i.a}));var a=r(126);r.o(a,"propNames")&&r.d(t,"propNames",(function(){return a.propNames}));var o=r(127);r.o(o,"propNames")&&r.d(t,"propNames",(function(){return o.propNames}));var s=r(128);r.d(t,"propNames",(function(){return s.a}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(46),i=r(27),a=r(0),o=r(92),s=r.n(o),l=r(311),u=r(62);r(39);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(){return c({},Object(l.b)(),{theme:Object(u.d)()})}function f(e,t,r){var o,l=t.styleConfig,u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["styleConfig"]),c=d(),f=c.theme,p=c.colorMode,h=Object(n.c)(f,"components."+e),g=l||h,m=Object(n.d)({theme:f,colorMode:p},null!=(o=null==g?void 0:g.defaultProps)?o:{},Object(n.a)(Object(n.h)(u,["children"]))),v=Object(a.useRef)({});return Object(a.useMemo)((function(){if(g){var e,t,a,o,l,u=Object(i.d)(null!=(e=g.baseStyle)?e:{},m),c=Object(i.d)(null!=(t=null==(a=g.variants)?void 0:a[m.variant])?t:{},m),d=Object(i.d)(null!=(o=null==(l=g.sizes)?void 0:l[m.size])?o:{},m),f=Object(n.d)({},u,d,c);(null==r?void 0:r.isMultiPart)&&g.parts&&g.parts.forEach((function(e){var t;f[e]=null!=(t=f[e])?t:{}})),s()(v.current,f)||(v.current=f)}return v.current}),[g,m,null==r?void 0:r.isMultiPart])}function p(e,t){return f(e,t,{isMultiPart:!0})}},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=r(208)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(70);function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";var n=r(107),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?o:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var i=p(r);i&&i!==h&&e(t,i,n)}var o=c(r);d&&(o=o.concat(d(r)));for(var s=l(t),g=l(r),m=0;m<o.length;++m){var v=o[m];if(!a[v]&&(!n||!n[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(r,v);try{u(t,v,y)}catch(b){}}}}return t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(58);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n.a)(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return E})),r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return S}));var n=r(4),i=r(117),a=r(74),o=r(75),s=r(20),l=r(56),u=r(39),c=r(62),d=r(22),f=r(64),p=r(18),h=r(7),g=r(0);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var y=Object(f.a)({strict:!1,name:"FormControlContext"}),b=Object(n.a)(y,2),k=b[0],E=b[1];var _=Object(s.a)((function(e,t){var r=Object(l.a)("Form",e),o=function(e){var t=e.id,r=e.isRequired,o=e.isInvalid,s=e.isDisabled,l=e.isLoading,u=e.isReadOnly,c=v(e,["id","isRequired","isInvalid","isDisabled","isLoading","isReadOnly"]),d=Object(i.a)(),f=t||"field-"+d,p=f+"-label",h=f+"-feedback",g=f+"-helptext",m=Object(a.a)(),y=Object(n.a)(m,2),b=y[0],k=y[1],E=Object(a.a)(),_=Object(n.a)(E,2),S=_[0],T=_[1];return{isRequired:!!r,isInvalid:!!o,isLoading:!!l,isReadOnly:!!u,isDisabled:!!s,isFocused:!!S,onFocus:T.on,onBlur:T.off,hasHelpText:b,setHasHelpText:k,id:f,labelId:p,feedbackId:h,helpTextId:g,htmlProps:c}}(Object(u.b)(e)),s=o.htmlProps,f=v(o,["htmlProps"]),h=Object(p.c)("chakra-form-control",e.className);return g.createElement(k,{value:f},g.createElement(c.b,{value:r},g.createElement(d.a.div,m({role:"group",ref:t},s,{className:h,__css:{width:"100%",position:"relative"}}))))}));h.a&&(_.displayName="FormControl");var S=Object(s.a)((function(e,t){var r,n=E(),i=Object(c.c)();if(Object(o.a)((function(){if(!(null==n?void 0:n.isInvalid))return null==n||n.setHasHelpText.on(),function(){return null==n?void 0:n.setHasHelpText.off()}}),[]),null==n?void 0:n.isInvalid)return null;var a=Object(p.c)("chakra-form__helper-text",e.className);return g.createElement(d.a.div,m({ref:t,__css:i.helperText},e,{className:a,id:null!=(r=e.id)?r:null==n?void 0:n.helpTextId}))}));h.a&&(S.displayName="FormHelperText")},function(e,t,r){"use strict";r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return g})),r.d(t,"a",(function(){return m}));var n=r(4),i=r(311),a=r(55),o=r(64),s=r(46),l=r(27),u=r(36),c=r(0);function d(){var e=c.useContext(u.b);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />`");return e}var f=Object(o.a)({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),p=Object(n.a)(f,2),h=p[0],g=p[1],m=function(){var e=Object(i.b)().colorMode;return c.createElement(u.a,{styles:function(t){var r=Object(s.c)(t,"styles.global"),n=Object(l.d)(r,{theme:t,colorMode:e});if(n){var i=Object(a.css)(n)(t);return i}}})}},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r(7),i=r(46),a=r(177),o=Object.freeze(["base","sm","md","lg","xl"]);function s(e,t){return Object(n.b)(e)?e.map((function(e){return null===e?null:t(e)})):Object(n.g)(e)?Object(i.g)(e).reduce((function(r,n){return r[n]=t(e[n]),r}),{}):null!=e?t(e):null}function l(e,t){void 0===t&&(t=o);for(var r=t.map((function(t){var r;return null!=(r=e[t])?r:null}));null===Object(a.b)(r);)r.pop();return r}function u(e,t){void 0===t&&(t=o);var r=Object.keys(e);return r.length>0&&r.every((function(e){return t.includes(e)}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l}));var n=r(0),i=r(7);function a(e){void 0===e&&(e={});var t=e,r=t.strict,i=void 0===r||r,a=t.errorMessage,o=void 0===a?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":a,s=t.name,l=n.createContext(void 0);return l.displayName=s,[l.Provider,function(){var e=n.useContext(l);if(!e&&i)throw new Error(o);return e},l]}function o(e){return n.Children.toArray(e).filter((function(e){return n.isValidElement(e)}))}function s(e,t){if(null!=e)if(Object(i.d)(e))e(t);else try{e.current=t}catch(r){throw new Error("Cannot assign value '"+t+"' to ref '"+e+"'")}}function l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach((function(t){return s(t,e)}))}}},,function(e,t,r){"use strict";var n=r(42),i=r(11),a=r(15),o=r(17),s=r(12),l=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ControlledVideoStreamer=void 0;var u,c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),d=(u=r(137))&&u.__esModule?u:{default:u};function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e,t,r){return t.forEach((function(t){return e(t,r)}))};t.ControlledVideoStreamer=function(e){return c.createElement(d.default.Consumer,null,(function(t){var r=t.videoStreamer;return null!=r?c.cloneElement(r,e):null}))};var v=function(e,t){var r=t||e.streamStateKeysForObservation||[];if(!Array.isArray(r))throw new Error("The component ".concat(e.displayName||e.name," cannot be connected to the player controller because no stream state property keys are specified to be observed."));var u=function(t){s(d,t);var u=l(d);function d(e){var t;i(this,d),t=u.call(this,e),g(o(t),"update",(function(e){return t.setState(e)}));var n=e.inspect(),a={};return n&&r.forEach((function(e){return a[e]=n[e]})),t.state=a,t}return a(d,[{key:"componentWillUnmount",value:function(){m(this.props.unobserve,r,this.update)}},{key:"componentDidMount",value:function(){var e=this;m(this.props.observe,r,this.update);var t=this.props.inspect();t&&r.forEach((function(r){return e.setState(n({},r,t[r]))}))}},{key:"render",value:function(){return c.createElement(e,h({},this.props.passdownProps,{},this.state))}}]),d}(c.Component),f=function(t){return c.createElement(d.default.Consumer,null,(function(r){var n=r.observe,i=r.unobserve,a=r.setProperties,o=r.inspect;return n?c.createElement(u,{observe:n,unobserve:i,inspect:o,passdownProps:h({},t,{setProperties:a,inspect:o})}):c.createElement(e,h({},t,{setProperties:a,inspect:o}))}))};return f.displayName=e.displayName?"Connected"+e.displayName:"Connected"+e.name,f};t.default=v},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9),c=r(68),d=r(35);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t){var r=function(e){o(u,e);var r=s(u);function u(e){var t;return n(this,u),t=r.call(this,e),p(a(t),"implementation",void 0),p(a(t),"videoRef",void 0),p(a(t),"setProperties",(function(e){var r=t.implementation&&t.implementation.applyProperties;r&&r(e)})),p(a(t),"handleTrackElementDataChange",(function(e){t.setState({trackElementData:e})})),p(a(t),"handleSourceChange",(function(e,r){var n=t.implementation;if(n)return n.startPlaybackSession(),n.textTrackManager.clear(),n.handleSourceChange(e,r).then((function(){n.audioTrackManager.handleSourceChange(),n.textTrackManager.handleSourcePropChange(e)})).catch((function(t){return n.endPlaybackSession("dead"),e.onPlaybackError&&e.onPlaybackError(t)}))})),t.videoRef=l.createRef(),t.state={videoElementEventHandlers:{},render:c.renderWithoutSource},t}return i(u,[{key:"componentDidMount",value:function(){var e=this,r=this.videoRef.current;r&&t(this,this.props.configuration,r,this.handleTrackElementDataChange).then((function(t){e.implementation=t;var n=t.render,i=t.videoElementEventHandlers,a=t.thirdPartyPlayer;if(e.setState({render:n,videoElementEventHandlers:i}),e.props.onReady&&e.props.onReady({setProperties:e.setProperties,thirdPartyPlayer:a,play:function(){return r.play()}}),e.props.source)return e.handleSourceChange(e.props)})).catch((function(t){if(!(e.props.onPlaybackError&&t instanceof d.PlaybackError))throw t;e.props.onPlaybackError(t)}))}},{key:"componentWillUnmount",value:function(){var e=this.videoRef.current;if(e){if(e===document.pictureInPictureElement)return document.exitPictureInPicture();"picture-in-picture"===e.webkitPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&e.webkitSetPresentationMode("inline")}if(this.implementation&&(this.implementation.endPlaybackSession&&this.implementation.endPlaybackSession("dead"),this.implementation.cleanup))return this.implementation.cleanup().catch((function(e){throw e}))}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this.videoRef.current,t=document.pictureInPictureElement,r=e.webkitPresentationMode;return{wasPipActive:e===t||"picture-in-picture"===r,previousVideoElement:this.videoRef.current}}},{key:"componentDidUpdate",value:function(e,t,r){var n=this,i=this.implementation;i&&(e.source!==this.props.source?r&&r.wasPipActive?document.exitPictureInPicture?document.exitPictureInPicture().then((function(){return n.handleSourceChange(n.props,e)}),(function(){return n.handleSourceChange(n.props,e)})):r.previousVideoElement&&"function"===typeof r.previousVideoElement.webkitSetPresentationMode&&(r.previousVideoElement.webkitSetPresentationMode("inline"),this.handleSourceChange(this.props,e)):this.handleSourceChange(this.props,e):e.textTracks!==this.props.textTracks&&i.textTrackManager.handleTextTracksPropChange(this.props))}},{key:"render",value:function(){var e=this.videoRef,t=this.state,r=t.videoElementEventHandlers,n=t.render,i=t.trackElementData,a=!this.props.configuration||null==this.props.configuration.playsInline||this.props.configuration.playsInline;return n(e,r,this.props,"video-streamer",a,i)}}]),u}(l.Component);return p(r,"defaultProps",{classNamePrefix:u.defaultClassNamePrefix}),r.displayName=e,r};t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderWithSource=t.renderWithoutSource=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(9);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t=e.src,r=e.srclang,i=e.kind,a=e.label,o=e.onRef;return n.createElement("track",{key:t+(a||""),kind:i,src:t,srcLang:r,label:a,ref:o})};t.renderWithoutSource=function(e,t,r,a,l,u,c){var d=r.className,f=r.classNamePrefix,p=(0,i.prefixClassNames)(f,a,d);return n.createElement("video",o({autoPlay:!0,controls:!1,style:c,className:p,ref:e,playsInline:l},t),Array.isArray(u)&&u.map(s))};t.renderWithSource=function(e,t,r,a,l,u,c){var d=r.className,f=r.classNamePrefix,p=r.source,h=(0,i.prefixClassNames)(f,a,d),g=p&&("string"===typeof p?p:p.streamUrl);return g?n.createElement("video",o({autoPlay:!0,controls:!1,style:c,className:h,src:g,ref:e,playsInline:l},t),Array.isArray(u)&&u.map(s)):n.createElement("video",{className:h,ref:e,src:"",controls:!1,style:c})}},function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(46),i=function(e){return e+":hover &, "+e+"[data-hover] &"},a=function(e){return e+":focus &, "+e+"[data-focus] &"},o=function(e){return e+":active &, "+e+"[data-active] &"},s=function(e){return e+":disabled &, "+e+"[data-disabled] &"},l=function(e){return e+":invalid &, "+e+"[data-invalid] &"},u=function(e){return e+":checked &, "+e+"[data-checked] &"};function c(e){return d(e,"[role=group]","[data-group]")}function d(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.map(e).join(", ")}var f={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible",_disabled:d((function(e){return e+", "+e+":focus, "+e+":hover"}),"&[disabled]","&[aria-disabled=true]","&[data-disabled]"),_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:c(i),_groupFocus:c(a),_groupActive:c(o),_groupDisabled:c(s),_groupInvalid:c(l),_groupChecked:c(u),_placeholder:"&::placeholder",_fullScreen:"&:fullscreen",_selection:"&::selection"},p=Object(n.g)(f)},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),i=function(e,t){var r=n.useRef(!1);return n.useEffect((function(){if(r.current)return e();r.current=!0}),t),r.current}},function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return x})),r.d(t,"a",(function(){return O}));var n="persist/REHYDRATE",i="persist/REGISTER";function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,n){n.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r);return e&&"object"===a(e)&&Object.keys(e).forEach((function(n){"_persist"!==n&&t[n]===r[n]&&(i[n]=e[n])})),i}function u(e){var t,r=e.blacklist||null,n=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:"persist:").concat(e.key),s=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:c;var l=e.writeFailHandler||null,u={},d={},f=[],p=null,h=null;function g(){if(0===f.length)return p&&clearInterval(p),void(p=null);var e=f.shift(),r=i.reduce((function(t,r){return r.in(t,e,u)}),u[e]);if(void 0!==r)try{d[e]=t(r)}catch(n){console.error("redux-persist/createPersistoid: error serializing state",n)}else delete d[e];0===f.length&&(Object.keys(d).forEach((function(e){void 0===u[e]&&delete d[e]})),h=s.setItem(o,t(d)).catch(v))}function m(e){return(!n||-1!==n.indexOf(e)||"_persist"===e)&&(!r||-1===r.indexOf(e))}function v(e){l&&l(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&u[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(u).forEach((function(t){void 0===e[t]&&m(t)&&-1===f.indexOf(t)&&void 0!==u[t]&&f.push(t)})),null===p&&(p=setInterval(g,a)),u=e},flush:function(){for(;0!==f.length;)g();return h||Promise.resolve()}}}function c(e){return JSON.stringify(e)}function d(e){var t,r=e.transforms||[],n="".concat(void 0!==e.keyPrefix?e.keyPrefix:"persist:").concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:f,i.getItem(n).then((function(e){if(e)try{var n={},i=t(e);return Object.keys(i).forEach((function(e){n[e]=r.reduceRight((function(t,r){return r.out(t,e,i)}),t(i[e]))})),n}catch(a){throw a}}))}function f(e){return JSON.parse(e)}function p(e){0}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y(e,t){var r=void 0!==e.version?e.version:-1,i=(e.debug,void 0===e.stateReconciler?l:e.stateReconciler),a=e.getStoredState||d,o=void 0!==e.timeout?e.timeout:5e3,s=null,c=!1,f=!0,h=function(e){return e._persist.rehydrated&&s&&!f&&s.update(e),e};return function(l,d){var m=l||{},y=m._persist,b=v(m,["_persist"]);if("persist/PERSIST"===d.type){var k=!1,E=function(t,r){k||(d.rehydrate(e.key,t,r),k=!0)};if(o&&setTimeout((function(){!k&&E(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),o),f=!1,s||(s=u(e)),y)return g({},t(b,d),{_persist:y});if("function"!==typeof d.rehydrate||"function"!==typeof d.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),a(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,r).then((function(e){E(e)}),(function(e){E(void 0,e)}))}),(function(e){E(void 0,e)})),g({},t(b,d),{_persist:{version:r,rehydrated:!1}})}if("persist/PURGE"===d.type)return c=!0,d.result(function(e){var t=e.storage,r="".concat(void 0!==e.keyPrefix?e.keyPrefix:"persist:").concat(e.key);return t.removeItem(r,p)}(e)),g({},t(b,d),{_persist:y});if("persist/FLUSH"===d.type)return d.result(s&&s.flush()),g({},t(b,d),{_persist:y});if("persist/PAUSE"===d.type)f=!0;else if(d.type===n){if(c)return g({},b,{_persist:g({},y,{rehydrated:!0})});if(d.key===e.key){var _=t(b,d),S=d.payload,T=g({},!1!==i&&void 0!==S?i(S,l,_,e):_,{_persist:g({},y,{rehydrated:!0})});return h(T)}}if(!y)return t(l,d);var w=t(b,d);return w===b?l:h(g({},w,{_persist:y}))}}var b=r(33);function k(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(r,!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T={registry:[],bootstrapped:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return _({},e,{registry:[].concat(k(e.registry),[t.key])});case n:var r=e.registry.indexOf(t.key),a=k(e.registry);return a.splice(r,1),_({},e,{registry:a,bootstrapped:0===a.length});default:return e}};function x(e,t,r){var a=r||!1,o=Object(b.createStore)(w,T,t&&t.enhancer?t.enhancer:void 0),s=function(e){o.dispatch({type:i,key:e})},l=function(t,r,i){var s={type:n,payload:r,err:i,key:t};e.dispatch(s),o.dispatch(s),a&&u.getState().bootstrapped&&(a(),a=!1)},u=_({},o,{purge:function(){var t=[];return e.dispatch({type:"persist/PURGE",result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:"persist/FLUSH",result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:"persist/PAUSE"})},persist:function(){e.dispatch({type:"persist/PERSIST",register:s,rehydrate:l})}});return t&&t.manualPersist||u.persist(),u}function O(e,t){(t||{}).debug;return function(t,r){if(!t)return Promise.resolve(void 0);var n=t._persist&&void 0!==t._persist.version?t._persist.version:-1;if(n===r)return Promise.resolve(t);if(n>r)return Promise.resolve(t);var i=Object.keys(e).map((function(e){return parseInt(e)})).filter((function(e){return r>=e&&e>n})).sort((function(e,t){return e-t}));try{var a=i.reduce((function(t,r){return e[r](t)}),t);return Promise.resolve(a)}catch(o){return Promise.reject(o)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectStreamType=t.isResourcePlayReadyOrWidevine=t.isResourceWidevine=t.isResourcePlayReady=t.isResourceFairPlay=t.isChromiumEdgeOnWindows=t.isLegacyMicrosoft=t.isSafari=t.streamTypes=t.hlsContentTypes=void 0;var n=["application/x-mpegurl","vnd.apple.mpegurl"];t.hlsContentTypes=n;var i=[{name:"progressive",label:"Progressive (MP4, WebM)",contentTypes:["video/mp4","video/webm"],urlMatch:/(\.webm|\.mp4)/,urlNotMatch:/(\/Manifest|\.mpd|\.m3u)/},{name:"dash",label:"MPEG DASH",contentTypes:["application/dash+xml"],urlMatch:/\.mpd/},{name:"hls",label:"HLS",contentTypes:n,urlMatch:/\.m3u/},{name:"smooth",label:"Smooth stream",contentTypes:["application/vnd.ms-sstr+xml"],urlMatch:/\/Manifest/,urlNotMatch:/(\.mpd|\.m3u|\.mp4)/}];t.streamTypes=i;t.isSafari=function(e){return e.indexOf("Safari")>0&&e.indexOf("Chrome")<0&&e.indexOf("Firefox")<0};t.isLegacyMicrosoft=function(e){return e.match(/(Edge\/|rv:11\.0)/)};t.isChromiumEdgeOnWindows=function(e){return e.match(/(Windows NT(.*?)Edg\/)/)};t.isResourceFairPlay=function(e){var t=e.contentType,r=e.drmType?e.drmType:null;return!!(t&&n.indexOf(t.toLowerCase())>=0&&r&&r.match(/(fairplay|com\.apple\.fps)/i))};var a=function(e){return!(!e.drmType||!e.drmType.match(/playready/i))};t.isResourcePlayReady=a;var o=function(e){return!(!e.drmType||!e.drmType.match(/widevine/i))};t.isResourceWidevine=o;t.isResourcePlayReadyOrWidevine=function(e){return a(e)||o(e)};t.detectStreamType=function(e,t){return i.filter((function(r){if(t)return r.contentTypes.indexOf(t.toLowerCase())>=0;var n=r.urlNotMatch;return n?r.urlMatch.test(e)&&!n.test(e):r.urlMatch.test(e)}))[0]||i[0]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(4),i=r(0);function a(e){void 0===e&&(e=!1);var t=Object(i.useState)(e),r=Object(n.a)(t,2),a=r[0],o=r[1];return[a,{on:Object(i.useCallback)((function(){o(!0)}),[]),off:Object(i.useCallback)((function(){o(!1)}),[]),toggle:Object(i.useCallback)((function(){o((function(e){return!e}))}),[])}]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),i=r(18).f?n.useLayoutEffect:n.useEffect},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(20),i=r(7),a=r(0),o=r(110);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){var t=e.viewBox,r=void 0===t?"0 0 24 24":t,l=e.d,u=e.path,c=e.displayName,d=e.defaultProps,f=void 0===d?{}:d,p=Object(n.a)((function(e,t){return a.createElement(o.a,s({ref:t,viewBox:r},f,e),null!=u?u:a.createElement("path",{fill:"currentColor",d:l}))}));return i.a&&(p.displayName=c),p}},function(e,t,r){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),a=/Edge\/(\d+)/.exec(e),o=n||i||a,s=o&&(n?document.documentMode||6:+(a||i)[1]),l=!a&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!a&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),g=!a&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=/Android/.test(e),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=g||/Mac/.test(t),b=/\bCrOS\b/.test(e),k=/win/i.test(t),E=d&&e.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(d=!1,l=!0);var _=y&&(u||d&&(null==E||E<12.11)),S=r||o&&s>=9;function T(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var w,x=function(e,t){var r=e.className,n=T(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function P(e,t){return O(e).appendChild(t)}function C(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function A(e,t,r,n){var i=C(e,t,r,n);return i.setAttribute("role","presentation"),i}function M(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function R(e,t){var r=e.className;T(t).test(r)||(e.className+=(r?" ":"")+t)}function D(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!T(r[n]).test(t)&&(t+=" "+r[n]);return t}w=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var L=function(e){e.select()};function j(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function N(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function U(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var a=n||0,o=i||0;;){var s=e.indexOf("\t",a);if(s<0||s>=t)return o+(t-a);o+=s-a,o+=r-o%r,a=s+1}}g?L=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:o&&(L=function(e){try{e.select()}catch(t){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=j(this.onTimeout,this)};function F(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var z={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},W={origin:"*mouse"},$={origin:"+move"};function H(e,t,r){for(var n=0,i=0;;){var a=e.indexOf("\t",n);-1==a&&(a=e.length);var o=a-n;if(a==e.length||i+o>=t)return n+Math.min(o,t-i);if(i+=a-n,n=a+1,(i+=r-i%r)>=t)return n}}var K=[""];function G(e){for(;K.length<=e;)K.push(Z(K)+" ");return K[e]}function Z(e){return e[e.length-1]}function q(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function X(){}function Y(e,t){var r;return Object.create?r=Object.create(e):(X.prototype=e,r=new X),t&&N(t,r),r}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&J(e))||t.test(e):J(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ne(e){return e.charCodeAt(0)>=768&&re.test(e)}function ie(e,t,r){for(;(r<0?t>0:t<e.length)&&ne(e.charAt(t));)t+=r;return t}function ae(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,a=n<0?Math.ceil(i):Math.floor(i);if(a==t)return e(a)?t:r;e(a)?r=a:t=a+n}}var oe=null;function se(e,t,r){var n;oe=null;for(var i=0;i<e.length;++i){var a=e[i];if(a.from<t&&a.to>t)return i;a.to==t&&(a.from!=a.to&&"before"==r?n=i:oe=i),a.from==t&&(a.from!=a.to&&"before"!=r?n=i:oe=i)}return null!=n?n:oe}var le=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,i=/[1n]/;function a(e,t,r){this.level=e,this.from=t,this.to=r}return function(o,s){var l="ltr"==s?"L":"R";if(0==o.length||"ltr"==s&&!e.test(o))return!1;for(var u,c=o.length,d=[],f=0;f<c;++f)d.push((u=o.charCodeAt(f))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var p=0,h=l;p<c;++p){var g=d[p];"m"==g?d[p]=h:h=g}for(var m=0,v=l;m<c;++m){var y=d[m];"1"==y&&"r"==v?d[m]="n":r.test(y)&&(v=y,"r"==y&&(d[m]="R"))}for(var b=1,k=d[0];b<c-1;++b){var E=d[b];"+"==E&&"1"==k&&"1"==d[b+1]?d[b]="1":","!=E||k!=d[b+1]||"1"!=k&&"n"!=k||(d[b]=k),k=E}for(var _=0;_<c;++_){var S=d[_];if(","==S)d[_]="N";else if("%"==S){var T=void 0;for(T=_+1;T<c&&"%"==d[T];++T);for(var w=_&&"!"==d[_-1]||T<c&&"1"==d[T]?"1":"N",x=_;x<T;++x)d[x]=w;_=T-1}}for(var O=0,P=l;O<c;++O){var C=d[O];"L"==P&&"1"==C?d[O]="L":r.test(C)&&(P=C)}for(var A=0;A<c;++A)if(t.test(d[A])){var M=void 0;for(M=A+1;M<c&&t.test(d[M]);++M);for(var I="L"==(A?d[A-1]:l),R=I==("L"==(M<c?d[M]:l))?I?"L":"R":l,D=A;D<M;++D)d[D]=R;A=M-1}for(var L,j=[],N=0;N<c;)if(n.test(d[N])){var U=N;for(++N;N<c&&n.test(d[N]);++N);j.push(new a(0,U,N))}else{var B=N,F=j.length,z="rtl"==s?1:0;for(++N;N<c&&"L"!=d[N];++N);for(var V=B;V<N;)if(i.test(d[V])){B<V&&(j.splice(F,0,new a(1,B,V)),F+=z);var W=V;for(++V;V<N&&i.test(d[V]);++V);j.splice(F,0,new a(2,W,V)),F+=z,B=V}else++V;B<N&&j.splice(F,0,new a(1,B,N))}return"ltr"==s&&(1==j[0].level&&(L=o.match(/^\s+/))&&(j[0].from=L[0].length,j.unshift(new a(0,0,L[0].length))),1==Z(j).level&&(L=o.match(/\s+$/))&&(Z(j).to-=L[0].length,j.push(new a(0,c-L[0].length,c)))),"rtl"==s?j.reverse():j}}();function ue(e,t){var r=e.order;return null==r&&(r=e.order=le(e.text,t)),r}var ce=[],de=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||ce).concat(r)}};function fe(e,t){return e._handlers&&e._handlers[t]||ce}function pe(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var a=F(i,r);a>-1&&(n[t]=i.slice(0,a).concat(i.slice(a+1)))}}}function he(e,t){var r=fe(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ge(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),he(e,r||t.type,e,t),Ee(t)||t.codemirrorIgnore}function me(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==F(r,t[n])&&r.push(t[n])}function ve(e,t){return fe(e,t).length>0}function ye(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function be(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ke(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ee(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function _e(e){be(e),ke(e)}function Se(e){return e.target||e.srcElement}function Te(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var we,xe,Oe=function(){if(o&&s<9)return!1;var e=C("div");return"draggable"in e||"dragDrop"in e}();function Pe(e){if(null==we){var t=C("span","\u200b");P(e,C("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(we=t.offsetWidth<=1&&t.offsetHeight>2&&!(o&&s<8))}var r=we?C("span","\u200b"):C("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ce(e){if(null!=xe)return xe;var t=P(e,document.createTextNode("A\u062eA")),r=w(t,0,1).getBoundingClientRect(),n=w(t,1,2).getBoundingClientRect();return O(e),!(!r||r.left==r.right)&&(xe=n.right-r.right<3)}var Ae=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var a=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),o=a.indexOf("\r");-1!=o?(r.push(a.slice(0,o)),t+=o+1):(r.push(a),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Me=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ie=function(){var e=C("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Re=null,De={},Le={};function je(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),De[e]=t}function Ne(e){if("string"==typeof e&&Le.hasOwnProperty(e))e=Le[e];else if(e&&"string"==typeof e.name&&Le.hasOwnProperty(e.name)){var t=Le[e.name];"string"==typeof t&&(t={name:t}),(e=Y(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ne("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ne("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=Ne(t);var r=De[t.name];if(!r)return Ue(e,"text/plain");var n=r(e,t);if(Be.hasOwnProperty(t.name)){var i=Be[t.name];for(var a in i)i.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=i[a])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)n[o]=t.modeProps[o];return n}var Be={};function Fe(e,t){N(t,Be.hasOwnProperty(e)?Be[e]:Be[e]={})}function ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ve(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function We(e,t,r){return!e.startState||e.startState(t,r)}var $e=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function He(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],a=i.chunkSize();if(t<a){r=i;break}t-=a}return r.lines[t]}function Ke(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,(function(e){var a=e.text;i==r.line&&(a=a.slice(0,r.ch)),i==t.line&&(a=a.slice(t.ch)),n.push(a),++i})),n}function Ge(e,t,r){var n=[];return e.iter(t,r,(function(e){n.push(e.text)})),n}function Ze(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function qe(e){if(null==e.parent)return null;for(var t=e.parent,r=F(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function Xe(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],a=i.height;if(t<a){e=i;continue e}t-=a,r+=i.chunkSize()}return r}while(!e.lines);for(var o=0;o<e.lines.length;++o){var s=e.lines[o].height;if(t<s)break;t-=s}return r+o}function Ye(e,t){return t>=e.first&&t<e.first+e.size}function Qe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Je(e,t,r){if(void 0===r&&(r=null),!(this instanceof Je))return new Je(e,t,r);this.line=e,this.ch=t,this.sticky=r}function et(e,t){return e.line-t.line||e.ch-t.ch}function tt(e,t){return e.sticky==t.sticky&&0==et(e,t)}function rt(e){return Je(e.line,e.ch)}function nt(e,t){return et(e,t)<0?t:e}function it(e,t){return et(e,t)<0?e:t}function at(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ot(e,t){if(t.line<e.first)return Je(e.first,0);var r=e.first+e.size-1;return t.line>r?Je(r,He(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?Je(e.line,t):r<0?Je(e.line,0):e}(t,He(e,t.line).text.length)}function st(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ot(e,t[n]);return r}$e.prototype.eol=function(){return this.pos>=this.string.length},$e.prototype.sol=function(){return this.pos==this.lineStart},$e.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},$e.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},$e.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},$e.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},$e.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},$e.prototype.skipToEnd=function(){this.pos=this.string.length},$e.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},$e.prototype.backUp=function(e){this.pos-=e},$e.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=U(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},$e.prototype.indentation=function(){return U(this.string,null,this.tabSize)-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},$e.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},$e.prototype.current=function(){return this.string.slice(this.start,this.pos)},$e.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},$e.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},$e.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var lt=function(e,t){this.state=e,this.lookAhead=t},ut=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ct(e,t,r,n){var i=[e.state.modeGen],a={};bt(e,t.text,e.doc.mode,r,(function(e,t){return i.push(e,t)}),a,n);for(var o=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],l=1,u=0;r.state=!0,bt(e,t.text,s.mode,r,(function(e,t){for(var r=l;u<e;){var n=i[l];n>e&&i.splice(l,1,e,i[l+1],n),l+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var a=i[r+1];i[r+1]=(a?a+" ":"")+"overlay "+t}}),a),r.state=o,r.baseTokens=null,r.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:a.bgClass||a.textClass?a:null}}function dt(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=ft(e,qe(t)),i=t.text.length>e.options.maxHighlightLength&&ze(e.doc.mode,n.state),a=ct(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=a.styles,a.classes?t.styleClasses=a.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ft(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new ut(n,!0,t);var a=function(e,t,r){for(var n,i,a=e.doc,o=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=He(a,s-1),u=l.stateAfter;if(u&&(!r||s+(u instanceof lt?u.lookAhead:0)<=a.modeFrontier))return s;var c=U(l.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}(e,t,r),o=a>n.first&&He(n,a-1).stateAfter,s=o?ut.fromSaved(n,o,a):new ut(n,We(n.mode),a);return n.iter(a,t,(function(r){pt(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function pt(e,t,r,n){var i=e.doc.mode,a=new $e(t,e.options.tabSize,r);for(a.start=a.pos=n||0,""==t&&ht(i,r.state);!a.eol();)gt(i,a,r.state),a.start=a.pos}function ht(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Ve(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function gt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Ve(e,r).mode);var a=e.token(t,r);if(t.pos>t.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}ut.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ut.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ut.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ut.fromSaved=function(e,t,r){return t instanceof lt?new ut(e,ze(e.mode,t.state),r,t.lookAhead):new ut(e,ze(e.mode,t),r)},ut.prototype.save=function(e){var t=!1!==e?ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new lt(t,this.maxLookAhead):t};var mt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function vt(e,t,r,n){var i,a,o=e.doc,s=o.mode,l=He(o,(t=ot(o,t)).line),u=ft(e,t.line,r),c=new $e(l.text,e.options.tabSize,u);for(n&&(a=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=gt(s,c,u.state),n&&a.push(new mt(c,i,ze(o.mode,u.state)));return n?a:new mt(c,i,u.state)}function yt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function bt(e,t,r,n,i,a,o){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new $e(t,e.options.tabSize,n),f=e.options.addModeClass&&[null];for(""==t&&yt(ht(r,n.state),a);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&pt(e,t,n,d.pos),d.pos=t.length,l=null):l=yt(gt(r,d,n.state,f),a),f){var p=f[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;u<d.start;)i(u=Math.min(d.start,u+5e3),c);c=l}d.start=d.pos}for(;u<d.pos;){var h=Math.min(d.pos,u+5e3);i(h,c),u=h}}var kt=!1,Et=!1;function _t(e,t,r){this.marker=e,this.from=t,this.to=r}function St(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Tt(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function wt(e,t){if(t.full)return null;var r=Ye(e,t.from.line)&&He(e,t.from.line).markedSpans,n=Ye(e,t.to.line)&&He(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,a=t.to.ch,o=0==et(t.from,t.to),s=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var a=e[i],o=a.marker;if(null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t)||a.from==t&&"bookmark"==o.type&&(!r||!a.marker.insertLeft)){var s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(n||(n=[])).push(new _t(o,a.from,s?null:a.to))}}return n}(r,i,o),l=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var a=e[i],o=a.marker;if(null==a.to||(o.inclusiveRight?a.to>=t:a.to>t)||a.from==t&&"bookmark"==o.type&&(!r||a.marker.insertLeft)){var s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(n||(n=[])).push(new _t(o,s?null:a.from-t,null==a.to?null:a.to-t))}}return n}(n,a,o),u=1==t.text.length,c=Z(t.text).length+(u?i:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var p=St(l,f.marker);p?u&&(f.to=null==p.to?null:p.to+c):f.to=i}}if(l)for(var h=0;h<l.length;++h){var g=l[h];null!=g.to&&(g.to+=c),null==g.from?St(s,g.marker)||(g.from=c,u&&(s||(s=[])).push(g)):(g.from+=c,u&&(s||(s=[])).push(g))}s&&(s=xt(s)),l&&l!=s&&(l=xt(l));var m=[s];if(!u){var v,y=t.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new _t(s[b].marker,null,null));for(var k=0;k<y;++k)m.push(v);m.push(l)}return m}function xt(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ot(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Pt(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Ct(e){return e.inclusiveLeft?-1:0}function At(e){return e.inclusiveRight?1:0}function Mt(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),a=et(n.from,i.from)||Ct(e)-Ct(t);if(a)return-a;var o=et(n.to,i.to)||At(e)-At(t);return o||t.id-e.id}function It(e,t){var r,n=Et&&e.markedSpans;if(n)for(var i=void 0,a=0;a<n.length;++a)(i=n[a]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Mt(r,i.marker)<0)&&(r=i.marker);return r}function Rt(e){return It(e,!0)}function Dt(e){return It(e,!1)}function Lt(e,t){var r,n=Et&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var a=n[i];a.marker.collapsed&&(null==a.from||a.from<t)&&(null==a.to||a.to>t)&&(!r||Mt(r,a.marker)<0)&&(r=a.marker)}return r}function jt(e,t,r,n,i){var a=He(e,t),o=Et&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var u=l.marker.find(0),c=et(u.from,r)||Ct(l.marker)-Ct(i),d=et(u.to,n)||At(l.marker)-At(i);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?et(u.to,r)>=0:et(u.to,r)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?et(u.from,n)<=0:et(u.from,n)<0)))return!0}}}function Nt(e){for(var t;t=Rt(e);)e=t.find(-1,!0).line;return e}function Ut(e,t){var r=He(e,t),n=Nt(r);return r==n?t:qe(n)}function Bt(e,t){if(t>e.lastLine())return t;var r,n=He(e,t);if(!Ft(e,n))return t;for(;r=Dt(n);)n=r.find(1,!0).line;return qe(n)+1}function Ft(e,t){var r=Et&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&zt(e,t,n))return!0}}function zt(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return zt(e,n.line,St(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,a=0;a<t.markedSpans.length;++a)if((i=t.markedSpans[a]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&zt(e,t,i))return!0}function Vt(e){for(var t=0,r=(e=Nt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var a=r.parent;a;a=(r=a).parent)for(var o=0;o<a.children.length;++o){var s=a.children[o];if(s==r)break;t+=s.height}return t}function Wt(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Rt(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Dt(n);){var a=t.find(0,!0);r-=n.text.length-a.from.ch,r+=(n=a.to.line).text.length-a.to.ch}return r}function $t(e){var t=e.display,r=e.doc;t.maxLine=He(r,r.first),t.maxLineLength=Wt(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=Wt(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var Ht=function(e,t,r){this.text=e,Pt(this,t),this.height=r?r(this):1};function Kt(e){e.parent=null,Ot(e)}Ht.prototype.lineNo=function(){return qe(this)},ye(Ht);var Gt={},Zt={};function qt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Zt:Gt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var r=A("span",null,null,l?"padding-right: .1px":null),n={pre:A("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a=i?t.rest[i-1]:t.line,o=void 0;n.pos=0,n.addToken=Qt,Ce(e.display.measure)&&(o=ue(a,e.doc.direction))&&(n.addToken=Jt(n.addToken,o)),n.map=[],tr(a,n,dt(e,a,t!=e.display.externalMeasured&&qe(a))),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=D(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=D(a.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Pe(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return he(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=D(n.pre.className,n.textClass||"")),n}function Yt(e){var t=C("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,r,n,i,a,l){if(t){var u,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var a=e.charAt(i);" "!=a||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(a="\xa0"),n+=a,r=" "==a}return n}(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){u=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var h=d.exec(t),g=h?h.index-p:t.length-p;if(g){var m=document.createTextNode(c.slice(p,p+g));o&&s<9?u.appendChild(C("span",[m])):u.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!h)break;p+=g+1;var v=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=u.appendChild(C("span",G(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?((v=u.appendChild(C("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),o&&s<9?u.appendChild(C("span",[v])):u.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),o&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),r||n||i||f||a){var k=r||"";n&&(k+=n),i&&(k+=i);var E=C("span",[u],k,a);if(l)for(var _ in l)l.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&E.setAttribute(_,l[_]);return e.content.appendChild(E)}e.content.appendChild(u)}}function Jt(e,t){return function(r,n,i,a,o,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var d=void 0,f=0;f<t.length&&!((d=t[f]).to>u&&d.from<=u);f++);if(d.to>=c)return e(r,n,i,a,o,s,l);e(r,n.slice(0,d.to-u),i,a,null,s,l),a=null,n=n.slice(d.to-u),u=d.to}}}function er(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function tr(e,t,r){var n=e.markedSpans,i=e.text,a=0;if(n)for(var o,s,l,u,c,d,f,p=i.length,h=0,g=1,m="",v=0;;){if(v==h){l=u=c=s="",f=null,d=null,v=1/0;for(var y=[],b=void 0,k=0;k<n.length;++k){var E=n[k],_=E.marker;if("bookmark"==_.type&&E.from==h&&_.widgetNode)y.push(_);else if(E.from<=h&&(null==E.to||E.to>h||_.collapsed&&E.to==h&&E.from==h)){if(null!=E.to&&E.to!=h&&v>E.to&&(v=E.to,u=""),_.className&&(l+=" "+_.className),_.css&&(s=(s?s+";":"")+_.css),_.startStyle&&E.from==h&&(c+=" "+_.startStyle),_.endStyle&&E.to==v&&(b||(b=[])).push(_.endStyle,E.to),_.title&&((f||(f={})).title=_.title),_.attributes)for(var S in _.attributes)(f||(f={}))[S]=_.attributes[S];_.collapsed&&(!d||Mt(d.marker,_)<0)&&(d=E)}else E.from>h&&v>E.from&&(v=E.from)}if(b)for(var T=0;T<b.length;T+=2)b[T+1]==v&&(u+=" "+b[T]);if(!d||d.from==h)for(var w=0;w<y.length;++w)er(t,0,y[w]);if(d&&(d.from||0)==h){if(er(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var x=Math.min(p,v);;){if(m){var O=h+m.length;if(!d){var P=O>x?m.slice(0,x-h):m;t.addToken(t,P,o?o+l:l,c,h+P.length==v?u:"",s,f)}if(O>=x){m=m.slice(x-h),h=x;break}h=O,c=""}m=i.slice(a,a=r[g++]),o=qt(r[g++],t.cm.options)}}else for(var C=1;C<r.length;C+=2)t.addToken(t,i.slice(a,a=r[C]),qt(r[C+1],t.cm.options))}function rr(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=Dt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?qe(Z(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Ft(e,t)}function nr(e,t,r){for(var n,i=[],a=t;a<r;a=n){var o=new rr(e.doc,He(e.doc,a),a);n=a+o.size,i.push(o)}return i}var ir=null,ar=null;function or(e,t){var r=fe(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);ir?n=ir.delayedCallbacks:ar?n=ar:(n=ar=[],setTimeout(sr,0));for(var a=function(e){n.push((function(){return r[e].apply(null,i)}))},o=0;o<r.length;++o)a(o)}}function sr(){var e=ar;ar=null;for(var t=0;t<e.length;++t)e[t]()}function lr(e,t,r,n){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];"text"==a?dr(e,t):"gutter"==a?pr(e,t,r,n):"class"==a?fr(e,t):"widget"==a&&hr(e,t,n)}t.changes=null}function ur(e){return e.node==e.text&&(e.node=C("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),o&&s<8&&(e.node.style.zIndex=2)),e.node}function cr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Xt(e,t)}function dr(e,t){var r=t.text.className,n=cr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,fr(e,t)):r&&(t.text.className=r)}function fr(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=ur(t);t.background=n.insertBefore(C("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ur(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function pr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ur(t);t.gutterBackground=C("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var o=ur(t),s=t.gutter=C("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),o.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(C("div",Qe(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=a.hasOwnProperty(u)&&a[u];c&&s.appendChild(C("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[u]+"px; width: "+n.gutterWidth[u]+"px"))}}}function hr(e,t,r){t.alignable&&(t.alignable=null);for(var n=T("CodeMirror-linewidget"),i=t.node.firstChild,a=void 0;i;i=a)a=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);mr(e,t,r)}function gr(e,t,r,n){var i=cr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),fr(e,t),pr(e,t,r,n),mr(e,t,n),t.node}function mr(e,t,r){if(vr(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)vr(e,t.rest[n],t,r,!1)}function vr(e,t,r,n,i){if(t.widgets)for(var a=ur(r),o=0,s=t.widgets;o<s.length;++o){var l=s[o],u=C("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),yr(l,u,r,n),e.display.input.setUneditable(u),i&&l.above?a.insertBefore(u,r.gutter||r.text):a.appendChild(u),or(l,"redraw")}}function yr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function br(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!M(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),P(t.display.measure,C("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function kr(e,t){for(var r=Se(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Er(e){return e.lineSpace.offsetTop}function _r(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Sr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=P(e.measure,C("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Tr(e){return 50-e.display.nativeBarWidth}function wr(e){return e.display.scroller.clientWidth-Tr(e)-e.display.barWidth}function xr(e){return e.display.scroller.clientHeight-Tr(e)-e.display.barHeight}function Or(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(qe(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Pr(e,t,r,n){return Mr(e,Ar(e,t),r,n)}function Cr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[un(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Ar(e,t){var r=qe(t),n=Cr(e,r);n&&!n.text?n=null:n&&n.changes&&(lr(e,n,r,nn(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var r=qe(t=Nt(t)),n=e.display.externalMeasured=new rr(e.doc,t,r);n.lineN=r;var i=n.built=Xt(e,n);return n.text=i.pre,P(e.display.lineMeasure,i.pre),n}(e,t));var i=Or(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Mr(e,t,r,n,i){t.before&&(r=-1);var a,l=r+(n||"");return t.cache.hasOwnProperty(l)?a=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,r){var n=e.options.lineWrapping,i=n&&wr(e);if(!t.measure.heights||n&&t.measure.width!=i){var a=t.measure.heights=[];if(n){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];Math.abs(l.bottom-u.bottom)>2&&a.push((l.bottom+u.top)/2-r.top)}}a.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(a=function(e,t,r,n){var i,a=Dr(t.map,r,n),l=a.node,u=a.start,c=a.end,d=a.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){for(;u&&ne(t.line.text.charAt(a.coverStart+u));)--u;for(;a.coverStart+c<a.coverEnd&&ne(t.line.text.charAt(a.coverStart+c));)++c;if((i=o&&s<9&&0==u&&c==a.coverEnd-a.coverStart?l.parentNode.getBoundingClientRect():Lr(w(l,u,c).getClientRects(),n)).left||i.right||0==u)break;c=u,u-=1,d="right"}o&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Re)return Re;var t=P(e,C("span","x")),r=t.getBoundingClientRect(),n=w(t,0,1).getBoundingClientRect();return Re=Math.abs(r.left-n.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,i))}else{var p;u>0&&(d=n="right"),i=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==n?p.length-1:0]:l.getBoundingClientRect()}if(o&&s<9&&!u&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+rn(e.display),top:h.top,bottom:h.bottom}:Rr}for(var g=i.top-t.rect.top,m=i.bottom-t.rect.top,v=(g+m)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var k=b?y[b-1]:0,E=y[b],_={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:k,bottom:E};return i.left||i.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=g,_.rbottom=m),_}(e,t,r,n)).bogus||(t.cache[l]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}var Ir,Rr={left:0,right:0,top:0,bottom:0};function Dr(e,t,r){for(var n,i,a,o,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,a=1,o="left"):t<l?a=1+(i=t-s):(u==e.length-3||t==l&&e[u+3]>t)&&(i=(a=l-s)-1,t>=l&&(o="right")),null!=i){if(n=e[u+2],s==l&&r==(n.insertLeft?"left":"right")&&(o=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],o="left";if("right"==r&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],o="right";break}return{node:n,start:i,end:a,collapse:o,coverStart:s,coverEnd:l}}function Lr(e,t){var r=Rr;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function jr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Nr(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)jr(e.display.view[t])}function Ur(e){Nr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Br(){return c&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Fr(){return c&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function zr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=br(e.widgets[r]));return t}function Vr(e,t,r,n,i){if(!i){var a=zr(t);r.top+=a,r.bottom+=a}if("line"==n)return r;n||(n="local");var o=Vt(t);if("local"==n?o+=Er(e.display):o-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==n?0:Fr());var l=s.left+("window"==n?0:Br());r.left+=l,r.right+=l}return r.top+=o,r.bottom+=o,r}function Wr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=Br(),i-=Fr();else if("local"==r||!r){var a=e.display.sizer.getBoundingClientRect();n+=a.left,i+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:i-o.top}}function $r(e,t,r,n,i){return n||(n=He(e.doc,t.line)),Vr(e,n,Pr(e,n,t.ch,i),r)}function Hr(e,t,r,n,i,a){function o(t,o){var s=Mr(e,i,t,o?"right":"left",a);return o?s.left=s.right:s.right=s.left,Vr(e,n,s,r)}n=n||He(e.doc,t.line),i||(i=Ar(e,n));var s=ue(n,e.doc.direction),l=t.ch,u=t.sticky;if(l>=n.text.length?(l=n.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return o("before"==u?l-1:l,"before"==u);function c(e,t,r){return o(r?e-1:e,1==s[t].level!=r)}var d=se(s,l,u),f=oe,p=c(l,d,"before"==u);return null!=f&&(p.other=c(l,f,"before"!=u)),p}function Kr(e,t){var r=0;t=ot(e.doc,t),e.options.lineWrapping||(r=rn(e.display)*t.ch);var n=He(e.doc,t.line),i=Vt(n)+Er(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Gr(e,t,r,n,i){var a=Je(e,t,r);return a.xRel=i,n&&(a.outside=n),a}function Zr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Gr(n.first,0,null,-1,-1);var i=Xe(n,r),a=n.first+n.size-1;if(i>a)return Gr(n.first+n.size-1,He(n,a).text.length,null,1,1);t<0&&(t=0);for(var o=He(n,i);;){var s=Qr(e,o,i,t,r),l=Lt(o,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;o=He(n,i=u.line)}}function qr(e,t,r,n){n-=zr(t);var i=t.text.length,a=ae((function(t){return Mr(e,r,t-1).bottom<=n}),i,0);return{begin:a,end:i=ae((function(t){return Mr(e,r,t).top>n}),a,i)}}function Xr(e,t,r,n){return r||(r=Ar(e,t)),qr(e,t,r,Vr(e,t,Mr(e,r,n),"line").top)}function Yr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Qr(e,t,r,n,i){i-=Vt(t);var a=Ar(e,t),o=zr(t),s=0,l=t.text.length,u=!0,c=ue(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?en:Jr)(e,t,r,a,c,n,i);s=(u=1!=d.level)?d.from:d.to-1,l=u?d.to:d.from-1}var f,p,h=null,g=null,m=ae((function(t){var r=Mr(e,a,t);return r.top+=o,r.bottom+=o,!!Yr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(h=t,g=r),!0)}),s,l),v=!1;if(g){var y=n-g.left<g.right-n,b=y==u;m=h+(b?0:1),p=b?"after":"before",f=y?g.left:g.right}else{u||m!=l&&m!=s||m++,p=0==m?"after":m==t.text.length?"before":Mr(e,a,m-(u?1:0)).bottom+o<=i==u?"after":"before";var k=Hr(e,Je(r,m,p),"line",t,a);f=k.left,v=i<k.top?-1:i>=k.bottom?1:0}return Gr(r,m=ie(t.text,m,1),p,v,n-f)}function Jr(e,t,r,n,i,a,o){var s=ae((function(s){var l=i[s],u=1!=l.level;return Yr(Hr(e,Je(r,u?l.to:l.from,u?"before":"after"),"line",t,n),a,o,!0)}),0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=Hr(e,Je(r,u?l.from:l.to,u?"after":"before"),"line",t,n);Yr(c,a,o,!0)&&c.top>o&&(l=i[s-1])}return l}function en(e,t,r,n,i,a,o){var s=qr(e,t,n,o),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,f=0;f<i.length;f++){var p=i[f];if(!(p.from>=u||p.to<=l)){var h=Mr(e,n,1!=p.level?Math.min(u,p.to)-1:Math.max(l,p.from)).right,g=h<a?a-h+1e9:h-a;(!c||d>g)&&(c=p,d=g)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function tn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ir){Ir=C("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ir.appendChild(document.createTextNode("x")),Ir.appendChild(C("br"));Ir.appendChild(document.createTextNode("x"))}P(e.measure,Ir);var r=Ir.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),O(e.measure),r||1}function rn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=C("span","xxxxxxxxxx"),r=C("pre",[t],"CodeMirror-line-like");P(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function nn(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,a=t.gutters.firstChild,o=0;a;a=a.nextSibling,++o){var s=e.display.gutterSpecs[o].className;r[s]=a.offsetLeft+a.clientLeft+i,n[s]=a.clientWidth}return{fixedPos:an(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function an(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function on(e){var t=tn(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/rn(e.display)-3);return function(i){if(Ft(e.doc,i))return 0;var a=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(a+=i.widgets[o].height);return r?a+(Math.ceil(i.text.length/n)||1)*t:a+t}}function sn(e){var t=e.doc,r=on(e);t.iter((function(e){var t=r(e);t!=e.height&&Ze(e,t)}))}function ln(e,t,r,n){var i=e.display;if(!r&&"true"==Se(t).getAttribute("cm-not-content"))return null;var a,o,s=i.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,o=t.clientY-s.top}catch(d){return null}var l,u=Zr(e,a,o);if(n&&u.xRel>0&&(l=He(e.doc,u.line).text).length==u.ch){var c=U(l,l.length,e.options.tabSize)-l.length;u=Je(u.line,Math.max(0,Math.round((a-Sr(e.display).left)/rn(e.display))-c))}return u}function un(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function cn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Et&&Ut(e.doc,t)<i.viewTo&&fn(e);else if(r<=i.viewFrom)Et&&Bt(e.doc,r+n)>i.viewFrom?fn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)fn(e);else if(t<=i.viewFrom){var a=pn(e,r,r+n,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=n):fn(e)}else if(r>=i.viewTo){var o=pn(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):fn(e)}else{var s=pn(e,t,t,-1),l=pn(e,r,r+n,1);s&&l?(i.view=i.view.slice(0,s.index).concat(nr(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):fn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function dn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[un(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==F(o,r)&&o.push(r)}}}function fn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function pn(e,t,r,n){var i,a=un(e,t),o=e.display.view;if(!Et||r==e.doc.first+e.doc.size)return{index:a,lineN:r};for(var s=e.display.viewFrom,l=0;l<a;l++)s+=o[l].size;if(s!=t){if(n>0){if(a==o.length-1)return null;i=s+o[a].size-t,a++}else i=s-t;t+=i,r+=i}for(;Ut(e.doc,r)!=r;){if(a==(n<0?0:o.length-1))return null;r+=n*o[a-(n<0?1:0)].size,a+=n}return{index:a,lineN:r}}function hn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function gn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function mn(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),o=0;o<r.sel.ranges.length;o++)if(t||o!=r.sel.primIndex){var s=r.sel.ranges[o];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&vn(e,s.head,i),l||bn(e,s,a)}}return n}function vn(e,t,r){var n=Hr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(C("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var a=r.appendChild(C("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=n.other.left+"px",a.style.top=n.other.top+"px",a.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function yn(e,t){return e.top-t.top||e.left-t.left}function bn(e,t,r){var n=e.display,i=e.doc,a=document.createDocumentFragment(),o=Sr(e.display),s=o.left,l=Math.max(n.sizerWidth,wr(e)-n.sizer.offsetLeft)-o.right,u="ltr"==i.direction;function c(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),a.appendChild(C("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?l-e:r)+"px;\n                             height: "+(n-t)+"px"))}function d(t,r,n){var a,o,d=He(i,t),f=d.text.length;function p(r,n){return $r(e,Je(t,r),"div",d,n)}function h(t,r,n){var i=Xr(e,d,null,t),a="ltr"==r==("after"==n)?"left":"right";return p("after"==n?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),a)[a]}var g=ue(d,i.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<r&&o.to>t||t==r&&o.to==t)&&(n(Math.max(o.from,t),Math.min(o.to,r),1==o.level?"rtl":"ltr",a),i=!0)}i||n(t,r,"ltr")}(g,r||0,null==n?f:n,(function(e,t,i,d){var m="ltr"==i,v=p(e,m?"left":"right"),y=p(t-1,m?"right":"left"),b=null==r&&0==e,k=null==n&&t==f,E=0==d,_=!g||d==g.length-1;if(y.top-v.top<=3){var S=(u?k:b)&&_,T=(u?b:k)&&E?s:(m?v:y).left,w=S?l:(m?y:v).right;c(T,v.top,w-T,v.bottom)}else{var x,O,P,C;m?(x=u&&b&&E?s:v.left,O=u?l:h(e,i,"before"),P=u?s:h(t,i,"after"),C=u&&k&&_?l:y.right):(x=u?h(e,i,"before"):s,O=!u&&b&&E?l:v.right,P=!u&&k&&_?s:y.left,C=u?h(t,i,"after"):l),c(x,v.top,O-x,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(P,y.top,C-P,y.bottom)}(!a||yn(v,a)<0)&&(a=v),yn(y,a)<0&&(a=y),(!o||yn(v,o)<0)&&(o=v),yn(y,o)<0&&(o=y)})),{start:a,end:o}}var f=t.from(),p=t.to();if(f.line==p.line)d(f.line,f.ch,p.ch);else{var h=He(i,f.line),g=He(i,p.line),m=Nt(h)==Nt(g),v=d(f.line,f.ch,m?h.text.length+1:null).end,y=d(p.line,m?0:null,p.ch).start;m&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}r.appendChild(a)}function kn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function En(e){e.state.focused||(e.display.input.focus(),Sn(e))}function _n(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Tn(e))}),100)}function Sn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(he(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),kn(e))}function Tn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(he(e,"blur",e,t),e.state.focused=!1,x(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function wn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],a=e.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(o&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-r,r=c}else{var d=i.node.getBoundingClientRect();l=d.bottom-d.top,!a&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-l;if((f>.005||f<-.005)&&(Ze(i.line,l),xn(i.line),i.rest))for(var p=0;p<i.rest.length;p++)xn(i.rest[p]);if(u>e.display.sizerWidth){var h=Math.ceil(u/rn(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function xn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function On(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Er(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,a=Xe(t,n),o=Xe(t,i);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;s<a?(a=s,o=Xe(t,Vt(He(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(a=Xe(t,Vt(He(t,l))-e.wrapper.clientHeight),o=l)}return{from:a,to:Math.max(o,a+1)}}function Pn(e,t){var r=e.display,n=tn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,a=xr(e),o={};t.bottom-t.top>a&&(t.bottom=t.top+a);var s=e.doc.height+_r(r),l=t.top<n,u=t.bottom>s-n;if(t.top<i)o.scrollTop=l?0:t.top;else if(t.bottom>i+a){var c=Math.min(t.top,(u?s:t.bottom)-a);c!=i&&(o.scrollTop=c)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,f=wr(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),p=t.right-t.left>f;return p&&(t.right=t.left+f),t.left<10?o.scrollLeft=0:t.left<d?o.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>f+d-3&&(o.scrollLeft=t.right+(p?0:10)-f),o}function Cn(e,t){null!=t&&(In(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function An(e){In(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Mn(e,t,r){null==t&&null==r||In(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function In(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Rn(e,Kr(e,t.from),Kr(e,t.to),t.margin))}function Rn(e,t,r,n){var i=Pn(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Mn(e,i.scrollLeft,i.scrollTop)}function Dn(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||si(e,{top:t}),Ln(e,t,!0),r&&si(e),ri(e,100))}function Ln(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function jn(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,ci(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Nn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+_r(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Tr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Un=function(e,t,r){this.cm=r;var n=this.vert=C("div",[C("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=C("div",[C("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),de(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),de(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,o&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Un.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Un.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Un.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Un.prototype.zeroWidthHack=function(){var e=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Un.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,(function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}))},Un.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Bn=function(){};function Fn(e,t){t||(t=Nn(e));var r=e.display.barWidth,n=e.display.barHeight;zn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&wn(e),zn(e,Nn(e)),r=e.display.barWidth,n=e.display.barHeight}function zn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Bn.prototype.update=function(){return{bottom:0,right:0}},Bn.prototype.setScrollLeft=function(){},Bn.prototype.setScrollTop=function(){},Bn.prototype.clear=function(){};var Vn={native:Un,null:Bn};function Wn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&x(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Vn[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?jn(e,t):Dn(e,t)}),e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var $n=0;function Hn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$n},t=e.curOp,ir?ir.ops.push(t):t.ownsGroup=ir={ops:[t],delayedCallbacks:[]}}function Kn(e){var t=e.curOp;t&&function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r)}finally{ir=null,t(r)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Gn(t[r]);for(var n=0;n<t.length;n++)Zn(t[n]);for(var i=0;i<t.length;i++)qn(t[i]);for(var a=0;a<t.length;a++)Xn(t[a]);for(var o=0;o<t.length;o++)Yn(t[o])}(e)}))}function Gn(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Tr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Tr(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&$t(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Zn(e){e.updatedDisplay=e.mustUpdate&&ai(e.cm,e.update)}function qn(e){var t=e.cm,r=t.display;e.updatedDisplay&&wn(t),e.barMeasure=Nn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Pr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Tr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-wr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Xn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&jn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==I();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Fn(t,e.barMeasure),e.updatedDisplay&&ui(t,e.barMeasure),e.selectionChanged&&kn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&En(e.cm)}function Yn(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&oi(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Ln(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&jn(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ge(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!h){var a=C("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Er(e.display))+"px;\n                         height: "+(t.bottom-t.top+Tr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}(t,function(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?Je(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?Je(t.line,t.ch+1,"before"):t);for(var a=0;a<5;a++){var o=!1,s=Hr(e,t),l=r&&r!=t?Hr(e,r):s,u=Pn(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(Dn(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=u.scrollLeft&&(jn(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(o=!0)),!o)break}return i}(t,ot(n,e.scrollToPos.from),ot(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var o=0;o<i.length;++o)i[o].lines.length||he(i[o],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&he(a[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&he(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Qn(e,t){if(e.curOp)return t();Hn(e);try{return t()}finally{Kn(e)}}function Jn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Hn(e);try{return t.apply(e,arguments)}finally{Kn(e)}}}function ei(e){return function(){if(this.curOp)return e.apply(this,arguments);Hn(this);try{return e.apply(this,arguments)}finally{Kn(this)}}}function ti(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Hn(t);try{return e.apply(this,arguments)}finally{Kn(t)}}}function ri(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,j(ni,e))}function ni(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=ft(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(a){if(n.line>=e.display.viewFrom){var o=a.styles,s=a.text.length>e.options.maxHighlightLength?ze(t.mode,n.state):null,l=ct(e,a,n,!0);s&&(n.state=s),a.styles=l.styles;var u=a.styleClasses,c=l.classes;c?a.styleClasses=c:u&&(a.styleClasses=null);for(var d=!o||o.length!=a.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!d&&f<o.length;++f)d=o[f]!=a.styles[f];d&&i.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=e.options.maxHighlightLength&&pt(e,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ri(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&Qn(e,(function(){for(var t=0;t<i.length;t++)dn(e,i[t],"text")}))}}var ii=function(e,t,r){var n=e.display;this.viewport=t,this.visible=On(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=wr(e),this.force=r,this.dims=nn(e),this.events=[]};function ai(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return fn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==hn(e))return!1;di(e)&&(fn(e),t.dims=nn(e));var i=n.first+n.size,a=Math.max(t.visible.from-e.options.viewportMargin,n.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(n.first,r.viewFrom)),r.viewTo>o&&r.viewTo-o<20&&(o=Math.min(i,r.viewTo)),Et&&(a=Ut(e.doc,a),o=Bt(e.doc,o));var s=a!=r.viewFrom||o!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=nr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=nr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(un(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(nr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,un(e,r)))),n.viewTo=r}(e,a,o),r.viewOffset=Vt(He(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=hn(e);if(!s&&0==u&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=I();if(!t||!M(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&M(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return u>4&&(r.lineDiv.style.display="none"),function(e,t,r){var n=e.display,i=e.options.lineNumbers,a=n.lineDiv,o=a.firstChild;function s(t){var r=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var u=n.view,c=n.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;o!=f.node;)o=s(o);var p=i&&null!=t&&t<=c&&f.lineNumber;f.changes&&(F(f.changes,"gutter")>-1&&(p=!1),lr(e,f,c,r)),p&&(O(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(Qe(e.options,c)))),o=f.node.nextSibling}else{var h=gr(e,f,c,r);a.insertBefore(h,o)}c+=f.size}for(;o;)o=s(o)}(e,r.updateLineNumbers,t.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=I()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&M(document.body,e.anchorNode)&&M(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(c),O(r.cursorDiv),O(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ri(e,400)),r.updateLineNumbers=null,!0}function oi(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=wr(e))n&&(t.visible=On(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+_r(e.display)-xr(e),r.top)}),t.visible=On(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ai(e,t))break;wn(e);var i=Nn(e);gn(e),Fn(e,i),ui(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function si(e,t){var r=new ii(e,t);if(ai(e,r)){wn(e),oi(e,r);var n=Nn(e);gn(e),Fn(e,n),ui(e,n),r.finish()}}function li(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Tr(e)+"px"}function ci(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=an(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=n+"px",o=0;o<r.length;o++)if(!r[o].hidden){e.options.fixedGutter&&(r[o].gutter&&(r[o].gutter.style.left=a),r[o].gutterBackground&&(r[o].gutterBackground.style.left=a));var s=r[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function di(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=Qe(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(C("div",[C("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,o=i.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",li(e.display),!0}return!1}function fi(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var a=e[i],o=null;if("string"!=typeof a&&(o=a.style,a=a.className),"CodeMirror-linenumbers"==a){if(!t)continue;n=!0}r.push({className:a,style:o})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function pi(e){var t=e.gutters,r=e.gutterSpecs;O(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],a=i.className,o=i.style,s=t.appendChild(C("div",null,"CodeMirror-gutter "+a));o&&(s.style.cssText=o),"CodeMirror-linenumbers"==a&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",li(e)}function hi(e){pi(e.display),cn(e),ci(e)}function gi(e,t,n,i){var a=this;this.input=n,a.scrollbarFiller=C("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=C("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=A("div",null,"CodeMirror-code"),a.selectionDiv=C("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=C("div",null,"CodeMirror-cursors"),a.measure=C("div",null,"CodeMirror-measure"),a.lineMeasure=C("div",null,"CodeMirror-measure"),a.lineSpace=A("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var u=A("div",[a.lineSpace],"CodeMirror-lines");a.mover=C("div",[u],null,"position: relative"),a.sizer=C("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=C("div",null,null,"position: absolute; height: 50px; width: 1px;"),a.gutters=C("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=C("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=C("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),o&&s<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),l||r&&v||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=fi(i.gutters,i.lineNumbers),pi(a),n.init(a)}ii.prototype.signal=function(e,t){ve(e,t)&&this.events.push(arguments)},ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)he.apply(null,this.events[e])};var mi=0,vi=null;function yi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function bi(e){var t=yi(e);return t.x*=vi,t.y*=vi,t}function ki(e,t){var n=yi(t),i=n.x,a=n.y,o=e.display,s=o.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||a&&c){if(a&&y&&l)e:for(var f=t.target,p=o.view;f!=s;f=f.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==f){e.display.currentWheelTarget=f;break e}if(i&&!r&&!d&&null!=vi)return a&&c&&Dn(e,Math.max(0,s.scrollTop+a*vi)),jn(e,Math.max(0,s.scrollLeft+i*vi)),(!a||a&&c)&&be(t),void(o.wheelStartX=null);if(a&&null!=vi){var g=a*vi,m=e.doc.scrollTop,v=m+o.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(e.doc.height,v+g+50),si(e,{top:m,bottom:v})}mi<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=a,setTimeout((function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(vi=(vi*mi+r)/(mi+1),++mi)}}),200)):(o.wheelDX+=i,o.wheelDY+=a))}}o?vi=-.53:r?vi=15:c?vi=-.7:f&&(vi=-1/3);var Ei=function(e,t){this.ranges=e,this.primIndex=t};Ei.prototype.primary=function(){return this.ranges[this.primIndex]},Ei.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!tt(r.anchor,n.anchor)||!tt(r.head,n.head))return!1}return!0},Ei.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new _i(rt(this.ranges[t].anchor),rt(this.ranges[t].head));return new Ei(e,this.primIndex)},Ei.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Ei.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(et(t,n.from())>=0&&et(e,n.to())<=0)return r}return-1};var _i=function(e,t){this.anchor=e,this.head=t};function Si(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort((function(e,t){return et(e.from(),t.from())})),r=F(t,i);for(var a=1;a<t.length;a++){var o=t[a],s=t[a-1],l=et(s.to(),o.from());if(n&&!o.empty()?l>0:l>=0){var u=it(s.from(),o.from()),c=nt(s.to(),o.to()),d=s.empty()?o.from()==o.head:s.from()==s.head;a<=r&&--r,t.splice(--a,2,new _i(d?c:u,d?u:c))}}return new Ei(t,r)}function Ti(e,t){return new Ei([new _i(e,t||e)],0)}function wi(e){return e.text?Je(e.from.line+e.text.length-1,Z(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function xi(e,t){if(et(e,t.from)<0)return e;if(et(e,t.to)<=0)return wi(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=wi(t).ch-t.to.ch),Je(r,n)}function Oi(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new _i(xi(i.anchor,t),xi(i.head,t)))}return Si(e.cm,r,e.sel.primIndex)}function Pi(e,t,r){return e.line==t.line?Je(r.line,e.ch-t.ch+r.ch):Je(r.line+(e.line-t.line),e.ch)}function Ci(e){e.doc.mode=Ue(e.options,e.doc.modeOption),Ai(e)}function Ai(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ri(e,100),e.state.modeGen++,e.curOp&&cn(e)}function Mi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Z(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ii(e,t,r,n){function i(e){return r?r[e]:null}function a(e,r,i){!function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ot(e),Pt(e,r);var i=n?n(e):1;i!=e.height&&Ze(e,i)}(e,r,i,n),or(e,"change",e,t)}function o(e,t){for(var r=[],a=e;a<t;++a)r.push(new Ht(u[a],i(a),n));return r}var s=t.from,l=t.to,u=t.text,c=He(e,s.line),d=He(e,l.line),f=Z(u),p=i(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(Mi(e,t)){var g=o(0,u.length-1);a(d,d.text,p),h&&e.remove(s.line,h),g.length&&e.insert(s.line,g)}else if(c==d)if(1==u.length)a(c,c.text.slice(0,s.ch)+f+c.text.slice(l.ch),p);else{var m=o(1,u.length-1);m.push(new Ht(f+c.text.slice(l.ch),p,n)),a(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)a(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,h);else{a(c,c.text.slice(0,s.ch)+u[0],i(0)),a(d,f+d.text.slice(l.ch),p);var v=o(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,v)}or(e,"change",e,t)}function Ri(e,t,r){!function e(n,i,a){if(n.linked)for(var o=0;o<n.linked.length;++o){var s=n.linked[o];if(s.doc!=i){var l=a&&s.sharedHist;r&&!l||(t(s.doc,l),e(s.doc,n,l))}}}(e,null,!0)}function Di(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,sn(e),Ci(e),Li(e),e.options.lineWrapping||$t(e),e.options.mode=t.modeOption,cn(e)}function Li(e){("rtl"==e.doc.direction?R:x)(e.display.lineDiv,"CodeMirror-rtl")}function ji(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ni(e,t){var r={from:rt(t.from),to:wi(t),text:Ke(e,t.from,t.to)};return Vi(e,r,t.from.line,t.to.line+1),Ri(e,(function(e){return Vi(e,r,t.from.line,t.to.line+1)}),!0),r}function Ui(e){for(;e.length&&Z(e).ranges;)e.pop()}function Bi(e,t,r,n){var i=e.history;i.undone.length=0;var a,o,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(a=function(e,t){return t?(Ui(e.done),Z(e.done)):e.done.length&&!Z(e.done).ranges?Z(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Z(e.done)):void 0}(i,i.lastOp==n)))o=Z(a.changes),0==et(t.from,t.to)&&0==et(t.from,o.to)?o.to=wi(t):a.changes.push(Ni(e,t));else{var l=Z(i.done);for(l&&l.ranges||zi(e.sel,i.done),a={changes:[Ni(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,o||he(e,"historyAdded")}function Fi(e,t,r,n){var i=e.history,a=n&&n.origin;r==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||function(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,a,Z(i.done),t))?i.done[i.done.length-1]=t:zi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=r,n&&!1!==n.clearRedo&&Ui(i.undone)}function zi(e,t){var r=Z(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Vi(e,t,r,n){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=r.markedSpans),++a}))}function Wi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function $i(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(Wi(r[i]));return n}(e,t),n=wt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var a=r[i],o=n[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],u=0;u<a.length;++u)if(a[u].marker==l.marker)continue e;a.push(l)}else o&&(r[i]=o)}return r}function Hi(e,t,r){for(var n=[],i=0;i<e.length;++i){var a=e[i];if(a.ranges)n.push(r?Ei.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];n.push({changes:s});for(var l=0;l<o.length;++l){var u=o[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&F(t,Number(c[1]))>-1&&(Z(s)[d]=u[d],delete u[d])}}}return n}function Ki(e,t,r,n){if(n){var i=e.anchor;if(r){var a=et(t,i)<0;a!=et(r,i)<0?(i=t,t=r):a!=et(t,r)<0&&(t=r)}return new _i(i,t)}return new _i(r||t,t)}function Gi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Qi(e,new Ei([Ki(e.sel.primary(),t,r,i)],0),n)}function Zi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),a=0;a<e.sel.ranges.length;a++)n[a]=Ki(e.sel.ranges[a],t[a],null,i);Qi(e,Si(e.cm,n,e.sel.primIndex),r)}function qi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Qi(e,Si(e.cm,i,e.sel.primIndex),n)}function Xi(e,t,r,n){Qi(e,Ti(t,r),n)}function Yi(e,t,r){var n=e.history.done,i=Z(n);i&&i.ranges?(n[n.length-1]=t,Ji(e,t,r)):Qi(e,t,r)}function Qi(e,t,r){Ji(e,t,r),Fi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ji(e,t,r){(ve(e,"beforeSelectionChange")||e.cm&&ve(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new _i(ot(e,t[r].anchor),ot(e,t[r].head))},origin:r&&r.origin};return he(e,"beforeSelectionChange",e,n),e.cm&&he(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Si(e.cm,n.ranges,n.ranges.length-1):t}(e,t,r));var n=r&&r.bias||(et(t.primary().head,e.sel.primary().head)<0?-1:1);ea(e,ra(e,t,n,!0)),r&&!1===r.scroll||!e.cm||An(e.cm)}function ea(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,me(e.cm)),or(e,"cursorActivity",e))}function ta(e){ea(e,ra(e,e.sel,null,!1))}function ra(e,t,r,n){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[a],l=ia(e,o.anchor,s&&s.anchor,r,n),u=ia(e,o.head,s&&s.head,r,n);(i||l!=o.anchor||u!=o.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new _i(l,u))}return i?Si(e.cm,i,t.primIndex):t}function na(e,t,r,n,i){var a=He(e,t.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var s=a.markedSpans[o],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(he(l,"beforeCursorEnter"),l.explicitlyCleared)){if(a.markedSpans){--o;continue}break}if(!l.atomic)continue;if(r){var d=l.find(n<0?1:-1),f=void 0;if((n<0?c:u)&&(d=aa(e,d,-n,d&&d.line==t.line?a:null)),d&&d.line==t.line&&(f=et(d,r))&&(n<0?f<0:f>0))return na(e,d,t,n,i)}var p=l.find(n<0?-1:1);return(n<0?u:c)&&(p=aa(e,p,n,p.line==t.line?a:null)),p?na(e,p,t,n,i):null}}return t}function ia(e,t,r,n,i){var a=n||1,o=na(e,t,r,a,i)||!i&&na(e,t,r,a,!0)||na(e,t,r,-a,i)||!i&&na(e,t,r,-a,!0);return o||(e.cantEdit=!0,Je(e.first,0))}function aa(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ot(e,Je(t.line-1)):null:r>0&&t.ch==(n||He(e,t.line)).text.length?t.line<e.first+e.size-1?Je(t.line+1,0):null:new Je(t.line,t.ch+r)}function oa(e){e.setSelection(Je(e.firstLine(),0),Je(e.lastLine()),V)}function sa(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,a){t&&(n.from=ot(e,t)),r&&(n.to=ot(e,r)),i&&(n.text=i),void 0!==a&&(n.origin=a)}),he(e,"beforeChange",e,n),e.cm&&he(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function la(e,t,r){if(e.cm){if(!e.cm.curOp)return Jn(e.cm,la)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"))||(t=sa(e,t,!0))){var n=kt&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=F(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var i=[{from:t,to:r}],a=0;a<n.length;++a)for(var o=n[a],s=o.find(0),l=0;l<i.length;++l){var u=i[l];if(!(et(u.to,s.from)<0||et(u.from,s.to)>0)){var c=[l,1],d=et(u.from,s.from),f=et(u.to,s.to);(d<0||!o.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(f>0||!o.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)ua(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else ua(e,t)}}function ua(e,t){if(1!=t.text.length||""!=t.text[0]||0!=et(t.from,t.to)){var r=Oi(e,t);Bi(e,t,r,e.cm?e.cm.curOp.id:NaN),fa(e,t,r,wt(e,t));var n=[];Ri(e,(function(e,r){r||-1!=F(n,e.history)||(ma(e.history,t),n.push(e.history)),fa(e,t,null,wt(e,t))}))}}function ca(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,a=e.history,o=e.sel,s="undo"==t?a.done:a.undone,l="undo"==t?a.undone:a.done,u=0;u<s.length&&(i=s[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(a.lastOrigin=a.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(zi(i,l),r&&!i.equals(e.sel))return void Qi(e,i,{clearRedo:!1});o=i}var c=[];zi(o,l),l.push({changes:c,generation:a.generation}),a.generation=i.generation||++a.maxGeneration;for(var d=ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"),f=function(r){var n=i.changes[r];if(n.origin=t,d&&!sa(e,n,!1))return s.length=0,{};c.push(Ni(e,n));var a=r?Oi(e,n):Z(s);fa(e,n,a,$i(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:wi(n)});var o=[];Ri(e,(function(e,t){t||-1!=F(o,e.history)||(ma(e.history,n),o.push(e.history)),fa(e,n,null,$i(e,n))}))},p=i.changes.length-1;p>=0;--p){var h=f(p);if(h)return h.v}}}}function da(e,t){if(0!=t&&(e.first+=t,e.sel=new Ei(q(e.sel.ranges,(function(e){return new _i(Je(e.anchor.line+t,e.anchor.ch),Je(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){cn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)dn(e.cm,n,"gutter")}}function fa(e,t,r,n){if(e.cm&&!e.cm.curOp)return Jn(e.cm,fa)(e,t,r,n);if(t.to.line<e.first)da(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);da(e,i),t={from:Je(e.first,0),to:Je(t.to.line+i,t.to.ch),text:[Z(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:Je(a,He(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ke(e,t.from,t.to),r||(r=Oi(e,t)),e.cm?function(e,t,r){var n=e.doc,i=e.display,a=t.from,o=t.to,s=!1,l=a.line;e.options.lineWrapping||(l=qe(Nt(He(n,a.line))),n.iter(l,o.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&me(e),Ii(n,t,r,on(e)),e.options.lineWrapping||(n.iter(l,a.line+t.text.length,(function(e){var t=Wt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=He(e,n).stateAfter;if(i&&(!(i instanceof lt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}(n,a.line),ri(e,400);var u=t.text.length-(o.line-a.line)-1;t.full?cn(e):a.line!=o.line||1!=t.text.length||Mi(e.doc,t)?cn(e,a.line,o.line+1,u):dn(e,a.line,"text");var c=ve(e,"changes"),d=ve(e,"change");if(d||c){var f={from:a,to:o,text:t.text,removed:t.removed,origin:t.origin};d&&or(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,n):Ii(e,t,n),Ji(e,r,V),e.cantEdit&&ia(e,Je(e.firstLine(),0))&&(e.cantEdit=!1)}}function pa(e,t,r,n,i){var a;n||(n=r),et(n,r)<0&&(r=(a=[n,r])[0],n=a[1]),"string"==typeof t&&(t=e.splitLines(t)),la(e,{from:r,to:n,text:t,origin:i})}function ha(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ga(e,t,r,n){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||((a=e[i]=a.deepCopy()).copied=!0);for(var s=0;s<a.ranges.length;s++)ha(a.ranges[s].anchor,t,r,n),ha(a.ranges[s].head,t,r,n)}else{for(var l=0;l<a.changes.length;++l){var u=a.changes[l];if(r<u.from.line)u.from=Je(u.from.line+n,u.from.ch),u.to=Je(u.to.line+n,u.to.ch);else if(t<=u.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function ma(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;ga(e.done,r,n,i),ga(e.undone,r,n,i)}function va(e,t,r,n){var i=t,a=t;return"number"==typeof t?a=He(e,at(e,t)):i=qe(t),null==i?null:(n(a,i)&&e.cm&&dn(e.cm,i,r),a)}function ya(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function ba(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}_i.prototype.from=function(){return it(this.anchor,this.head)},_i.prototype.to=function(){return nt(this.anchor,this.head)},_i.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ya.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Kt(i),or(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},ba.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var a=Math.min(t,i-e),o=n.height;if(n.removeInner(e,a),this.height-=o-n.height,i==a&&(this.children.splice(r--,1),n.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ya))){var s=[];this.collapse(s),this.children=[new ya(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(e<=a){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var o=i.lines.length%25+25,s=o;s<i.lines.length;){var l=new ya(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++n,0,l),l.parent=this}i.lines=i.lines.slice(0,o),this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ba(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=F(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new ba(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(e<a){var o=Math.min(t,a-e);if(i.iterN(e,o,r))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var ka=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function Ea(e,t,r){Vt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Cn(e,r)}ka.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=qe(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var a=br(this);Ze(r,Math.max(0,r.height-a)),e&&(Qn(e,(function(){Ea(e,r,-a),dn(e,n,"widget")})),or(e,"lineWidgetCleared",e,this,n))}},ka.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=br(this)-t;i&&(Ft(this.doc,n)||Ze(n,n.height+i),r&&Qn(r,(function(){r.curOp.forceUpdate=!0,Ea(r,n,i),or(r,"lineWidgetChanged",r,e,qe(n))})))},ye(ka);var _a=0,Sa=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++_a};function Ta(e,t,r,n,i){if(n&&n.shared)return function(e,t,r,n,i){(n=N(n)).shared=!1;var a=[Ta(e,t,r,n,i)],o=a[0],s=n.widgetNode;return Ri(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),a.push(Ta(e,ot(e,t),ot(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Z(a)})),new wa(a,o)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Jn(e.cm,Ta)(e,t,r,n,i);var a=new Sa(e,i),o=et(t,r);if(n&&N(n,a,!1),o>0||0==o&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=A("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(jt(e,t.line,t,r,a)||t.line!=r.line&&jt(e,r.line,t,r,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Et=!0}a.addToHistory&&Bi(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,r.line+1,(function(e){u&&a.collapsed&&!u.options.lineWrapping&&Nt(e)==u.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&Ze(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new _t(a,l==t.line?t.ch:null,l==r.line?r.ch:null)),++l})),a.collapsed&&e.iter(t.line,r.line+1,(function(t){Ft(e,t)&&Ze(t,0)})),a.clearOnEnter&&de(a,"beforeCursorEnter",(function(){return a.clear()})),a.readOnly&&(kt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++_a,a.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),a.collapsed)cn(u,t.line,r.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var c=t.line;c<=r.line;c++)dn(u,c,"text");a.atomic&&ta(u.doc),or(u,"markerAdded",u,a)}return a}Sa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Hn(e),ve(this,"clear")){var r=this.find();r&&or(this,"clear",r.from,r.to)}for(var n=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=St(o.markedSpans,this);e&&!this.collapsed?dn(e,qe(o),"text"):e&&(null!=s.to&&(i=qe(o)),null!=s.from&&(n=qe(o))),o.markedSpans=Tt(o.markedSpans,s),null==s.from&&this.collapsed&&!Ft(this.doc,o)&&e&&Ze(o,tn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Nt(this.lines[l]),c=Wt(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&cn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ta(e.doc)),e&&or(e,"markerCleared",e,this,n,i),t&&Kn(e),this.parent&&this.parent.clear()}},Sa.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var a=this.lines[i],o=St(a.markedSpans,this);if(null!=o.from&&(r=Je(t?a:qe(a),o.from),-1==e))return r;if(null!=o.to&&(n=Je(t?a:qe(a),o.to),1==e))return n}return r&&{from:r,to:n}},Sa.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Qn(n,(function(){var i=t.line,a=qe(t.line),o=Cr(n,a);if(o&&(jr(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ft(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var l=br(r)-s;l&&Ze(i,i.height+l)}or(n,"markerChanged",n,e)}))},Sa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=F(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Sa.prototype.detachLine=function(e){if(this.lines.splice(F(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ye(Sa);var wa=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function xa(e){return e.findMarks(Je(e.first,0),e.clipPos(Je(e.lastLine())),(function(e){return e.parent}))}function Oa(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Ri(r.primary.doc,(function(e){return n.push(e)}));for(var i=0;i<r.markers.length;i++){var a=r.markers[i];-1==F(n,a.doc)&&(a.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}wa.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();or(this,"clear")}},wa.prototype.find=function(e,t){return this.primary.find(e,t)},ye(wa);var Pa=0,Ca=function e(t,r,n,i,a){if(!(this instanceof e))return new e(t,r,n,i,a);null==n&&(n=0),ba.call(this,[new ya([new Ht("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=Je(n,0);this.sel=Ti(o),this.history=new ji(null),this.id=++Pa,this.modeOption=r,this.lineSep=i,this.direction="rtl"==a?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ii(this,{from:o,to:o,text:t}),Qi(this,Ti(o),V)};(Ca.prototype=Y(ba.prototype,{constructor:Ca,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ge(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ti((function(e){var t=Je(this.first,0),r=this.first+this.size-1;la(this,{from:t,to:Je(r,He(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Mn(this.cm,0,0),Qi(this,Ti(t),V)})),replaceRange:function(e,t,r,n){pa(this,e,t=ot(this,t),r=r?ot(this,r):t,n)},getRange:function(e,t,r){var n=Ke(this,ot(this,e),ot(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Ye(this,e))return He(this,e)},getLineNumber:function(e){return qe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=He(this,e)),Nt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ot(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ti((function(e,t,r){Xi(this,ot(this,"number"==typeof e?Je(e,t||0):e),null,r)})),setSelection:ti((function(e,t,r){Xi(this,ot(this,e),ot(this,t||e),r)})),extendSelection:ti((function(e,t,r){Gi(this,ot(this,e),t&&ot(this,t),r)})),extendSelections:ti((function(e,t){Zi(this,st(this,e),t)})),extendSelectionsBy:ti((function(e,t){Zi(this,st(this,q(this.sel.ranges,e)),t)})),setSelections:ti((function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new _i(ot(this,e[i].anchor),ot(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Qi(this,Si(this.cm,n,t),r)}})),addSelection:ti((function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new _i(ot(this,e),ot(this,t||e))),Qi(this,Si(this.cm,n,n.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Ke(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Ke(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:ti((function(e,t,r){for(var n=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];n[a]={from:o.from(),to:o.to(),text:this.splitLines(e[a]),origin:r}}for(var s=t&&"end"!=t&&function(e,t,r){for(var n=[],i=Je(e.first,0),a=i,o=0;o<t.length;o++){var s=t[o],l=Pi(s.from,i,a),u=Pi(wi(s),i,a);if(i=s.to,a=u,"around"==r){var c=e.sel.ranges[o],d=et(c.head,c.anchor)<0;n[o]=new _i(d?u:l,d?l:u)}else n[o]=new _i(l,l)}return new Ei(n,e.sel.primIndex)}(this,n,t),l=n.length-1;l>=0;l--)la(this,n[l]);s?Yi(this,s):this.cm&&An(this.cm)})),undo:ti((function(){ca(this,"undo")})),redo:ti((function(){ca(this,"redo")})),undoSelection:ti((function(){ca(this,"undo",!0)})),redoSelection:ti((function(){ca(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new ji(this.history.maxGeneration),Ri(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Hi(this.history.done),undone:Hi(this.history.undone)}},setHistory:function(e){var t=this.history=new ji(this.history.maxGeneration);t.done=Hi(e.done.slice(0),null,!0),t.undone=Hi(e.undone.slice(0),null,!0)},setGutterMarker:ti((function(e,t,r){return va(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&te(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:ti((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&va(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,te(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Ye(this,e))return null;if(t=e,!(e=He(this,e)))return null}else if(null==(t=qe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ti((function(e,t,r){return va(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(T(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0}))})),removeLineClass:ti((function(e,t,r){return va(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var a=i.match(T(r));if(!a)return!1;var o=a.index+a[0].length;e[n]=i.slice(0,a.index)+(a.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0}))})),addLineWidget:ti((function(e,t,r){return function(e,t,r,n){var i=new ka(e,r,n),a=e.cm;return a&&i.noHScroll&&(a.display.alignWidgets=!0),va(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,a&&!Ft(e,t)){var n=Vt(t)<e.scrollTop;Ze(t,t.height+br(i)),n&&Cn(a,i.height),a.curOp.forceUpdate=!0}return!0})),a&&or(a,"lineWidgetAdded",a,i,"number"==typeof t?t:qe(t)),i}(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Ta(this,ot(this,e),ot(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Ta(this,e=ot(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=He(this,(e=ot(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ot(this,e),t=ot(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,(function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(i){var a=i.text.length+n;if(a>e)return t=e,!0;e-=a,++r})),ot(this,Je(r,t))},indexFromPos:function(e){var t=(e=ot(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new Ca(Ge(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Ca(Ge(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),a=e.clipPos(i.from),o=e.clipPos(i.to);if(et(a,o)){var s=Ta(e,a,o,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,xa(this)),n},unlinkDoc:function(e){if(e instanceof xo&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Oa(xa(this));break}if(e.history==this.history){var r=[e.id];Ri(e,(function(e){return r.push(e.id)}),!0),e.history=new ji(null),e.history.done=Hi(this.history.done,r),e.history.undone=Hi(this.history.undone,r)}},iterLinkedDocs:function(e){Ri(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ae(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ti((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Qn(t=this.cm,(function(){Li(t),cn(t)})))}))})).eachLine=Ca.prototype.iter;var Aa=0;function Ma(e){var t=this;if(Ia(t),!ge(t,e)&&!kr(t.display,e)){be(e),o&&(Aa=+new Date);var r=ln(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,a=Array(i),s=0,l=function(){++s==i&&Jn(t,(function(){var e={from:r=ot(t.doc,r),to:r,text:t.doc.splitLines(a.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};la(t.doc,e),Yi(t.doc,Ti(ot(t.doc,r),ot(t.doc,wi(e))))}))()},u=function(e,r){if(t.options.allowDropFileTypes&&-1==F(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(a[r]=e),l()},n.readAsText(e)}},c=0;c<n.length;c++)u(n[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Ji(t.doc,Ti(r,r)),f)for(var p=0;p<f.length;++p)pa(t.doc,"",f[p].anchor,f[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(h){}}}}function Ia(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ra(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var Da=!1;function La(){Da||(function(){var e;de(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ra(ja)}),100))})),de(window,"blur",(function(){return Ra(Tn)}))}(),Da=!0)}function ja(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Na={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ua=0;Ua<10;Ua++)Na[Ua+48]=Na[Ua+96]=String(Ua);for(var Ba=65;Ba<=90;Ba++)Na[Ba]=String.fromCharCode(Ba);for(var Fa=1;Fa<=12;Fa++)Na[Fa+111]=Na[Fa+63235]="F"+Fa;var za={};function Va(e){var t,r,n,i,a=e.split(/-(?!$)/);e=a[a.length-1];for(var o=0;o<a.length-1;o++){var s=a[o];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Wa(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=q(r.split(" "),Va),a=0;a<i.length;a++){var o=void 0,s=void 0;a==i.length-1?(s=i.join(" "),o=n):(s=i.slice(0,a+1).join(" "),o="...");var l=t[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else t[s]=o}delete e[r]}for(var u in t)e[u]=t[u];return e}function $a(e,t,r,n){var i=(t=Za(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return $a(e,t.fallthrough,r,n);for(var a=0;a<t.fallthrough.length;a++){var o=$a(e,t.fallthrough[a],r,n);if(o)return o}}}function Ha(e){var t="string"==typeof e?e:Na[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ka(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(_?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(_?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Ga(e,t){if(d&&34==e.keyCode&&e.char)return!1;var r=Na[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Ka(r,e,t))}function Za(e){return"string"==typeof e?za[e]:e}function qa(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var a=t(r[i]);n.length&&et(a.from,Z(n).to)<=0;){var o=n.pop();if(et(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}Qn(e,(function(){for(var t=n.length-1;t>=0;t--)pa(e.doc,"",n[t].from,n[t].to,"+delete");An(e)}))}function Xa(e,t,r){var n=ie(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Ya(e,t,r){var n=Xa(e,t.ch,r);return null==n?null:new Je(t.line,n,r<0?"after":"before")}function Qa(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var a=ue(r,t.doc.direction);if(a){var o,s=i<0?Z(a):a[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=Ar(t,r);o=i<0?r.text.length-1:0;var c=Mr(t,u,o).top;o=ae((function(e){return Mr(t,u,e).top==c}),i<0==(1==s.level)?s.from:s.to-1,o),"before"==l&&(o=Xa(r,o,1))}else o=i<0?s.to:s.from;return new Je(n,o,l)}}return new Je(n,i<0?r.text.length:0,i<0?"before":"after")}za.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},za.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},za.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},za.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},za.default=y?za.macDefault:za.pcDefault;var Ja={selectAll:oa,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return qa(e,(function(t){if(t.empty()){var r=He(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Je(t.head.line+1,0)}:{from:t.head,to:Je(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return qa(e,(function(t){return{from:Je(t.from().line,0),to:ot(e.doc,Je(t.to().line+1,0))}}))},delLineLeft:function(e){return qa(e,(function(e){return{from:Je(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return qa(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return qa(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Je(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Je(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return eo(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return to(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var r=He(e.doc,t),n=function(e){for(var t;t=Dt(e);)e=t.find(1,!0).line;return e}(r);return n!=r&&(t=qe(n)),Qa(!0,e,r,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),$)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),$)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?to(e,t.head):n}),$)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var a=r[i].from(),o=U(e.getLine(a.line),a.ch,n);t.push(G(n-o%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Qn(e,(function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,a=He(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new Je(i.line,i.ch-1)),i.ch>0)i=new Je(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),Je(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=He(e.doc,i.line-1).text;o&&(i=new Je(i.line,1),e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),Je(i.line-1,o.length-1),i,"+transpose"))}r.push(new _i(i,i))}e.setSelections(r)}))},newlineAndIndent:function(e){return Qn(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);An(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function eo(e,t){var r=He(e.doc,t),n=Nt(r);return n!=r&&(t=qe(n)),Qa(!0,e,n,t,1)}function to(e,t){var r=eo(e,t.line),n=He(e.doc,r.line),i=ue(n,e.doc.direction);if(!i||0==i[0].level){var a=Math.max(r.ch,n.text.search(/\S/)),o=t.line==r.line&&t.ch<=a&&t.ch;return Je(r.line,o?0:a,r.sticky)}return r}function ro(e,t,r){if("string"==typeof t&&!(t=Ja[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=z}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var no=new B;function io(e,t,r,n){var i=e.state.keySeq;if(i){if(Ha(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:no.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ao(e,i+" "+t,r,n))return!0}return ao(e,t,r,n)}function ao(e,t,r,n){var i=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=$a(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&$a(t,e.options.extraKeys,r,e)||$a(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&or(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(be(r),kn(e)),!!i}function oo(e,t){var r=Ga(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?io(e,"Shift-"+r,t,(function(t){return ro(e,t,!0)}))||io(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ro(e,t)})):io(e,r,t,(function(t){return ro(e,t)})))}var so=null;function lo(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=I(),!ge(t,e))){o&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=oo(t,e);d&&(so=i?n:null,i||88!=n||Ie||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),r&&!y&&!i&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(x(t,"CodeMirror-crosshair"),pe(document,"keyup",r),pe(document,"mouseover",r))}R(t,"CodeMirror-crosshair"),de(document,"keyup",r),de(document,"mouseover",r)}(t)}}function uo(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function co(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(kr(t.display,e)||ge(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(d&&r==so)return so=null,void be(e);if(!d||e.which&&!(e.which<10)||!oo(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function(e,t,r){return io(e,"'"+r+"'",t,(function(t){return ro(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var fo,po,ho=function(e,t,r){this.time=e,this.pos=t,this.button=r};function go(e){var t=this,r=t.display;if(!(ge(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,kr(r,e))l||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!yo(t,e)){var n=ln(t,e),i=Te(e),a=n?function(e,t){var r=+new Date;return po&&po.compare(r,e,t)?(fo=po=null,"triple"):fo&&fo.compare(r,e,t)?(po=new ho(r,e,t),fo=null,"double"):(fo=new ho(r,e,t),po=null,"single")}(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,r,n,i){var a="Click";return"double"==n?a="Double"+a:"triple"==n&&(a="Triple"+a),io(e,Ka(a=(1==t?"Left":2==t?"Middle":"Right")+a,i),i,(function(t){if("string"==typeof t&&(t=Ja[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=z}finally{e.state.suppressEdits=!1}return n}))}(t,i,n,a,e)||(1==i?n?function(e,t,r,n){o?setTimeout(j(En,e),0):e.curOp.focus=I();var i,a=function(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var a=b?r.shiftKey&&r.metaKey:r.altKey;i.unit=a?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=y?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?r.altKey:r.ctrlKey)),i}(e,r,n),u=e.doc.sel;e.options.dragDrop&&Oe&&!e.isReadOnly()&&"single"==r&&(i=u.contains(t))>-1&&(et((i=u.ranges[i]).from(),t)<0||t.xRel>0)&&(et(i.to(),t)>0||t.xRel<0)?function(e,t,r,n){var i=e.display,a=!1,u=Jn(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,pe(i.wrapper.ownerDocument,"mouseup",u),pe(i.wrapper.ownerDocument,"mousemove",c),pe(i.scroller,"dragstart",d),pe(i.scroller,"drop",u),a||(be(t),n.addNew||Gi(e.doc,r,null,null,n.extend),l&&!f||o&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){a=a||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return a=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),de(i.wrapper.ownerDocument,"mouseup",u),de(i.wrapper.ownerDocument,"mousemove",c),de(i.scroller,"dragstart",d),de(i.scroller,"drop",u),_n(e),setTimeout((function(){return i.input.focus()}),20)}(e,n,t,a):function(e,t,r,n){var i=e.display,a=e.doc;be(t);var o,s,l=a.sel,u=l.ranges;if(n.addNew&&!n.extend?(s=a.sel.contains(r),o=s>-1?u[s]:new _i(r,r)):(o=a.sel.primary(),s=a.sel.primIndex),"rectangle"==n.unit)n.addNew||(o=new _i(r,r)),r=ln(e,t,!0,!0),s=-1;else{var c=mo(e,r,n.unit);o=n.extend?Ki(o,c.anchor,c.head,n.extend):c}n.addNew?-1==s?(s=u.length,Qi(a,Si(e,u.concat([o]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==n.unit&&!n.extend?(Qi(a,Si(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=a.sel):qi(a,s,o,W):(s=0,Qi(a,new Ei([o],0),W),l=a.sel);var d=r;function f(t){if(0!=et(d,t))if(d=t,"rectangle"==n.unit){for(var i=[],u=e.options.tabSize,c=U(He(a,r.line).text,r.ch,u),f=U(He(a,t.line).text,t.ch,u),p=Math.min(c,f),h=Math.max(c,f),g=Math.min(r.line,t.line),m=Math.min(e.lastLine(),Math.max(r.line,t.line));g<=m;g++){var v=He(a,g).text,y=H(v,p,u);p==h?i.push(new _i(Je(g,y),Je(g,y))):v.length>y&&i.push(new _i(Je(g,y),Je(g,H(v,h,u))))}i.length||i.push(new _i(r,r)),Qi(a,Si(e,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,k=o,E=mo(e,t,n.unit),_=k.anchor;et(E.anchor,_)>0?(b=E.head,_=it(k.from(),E.anchor)):(b=E.anchor,_=nt(k.to(),E.head));var S=l.ranges.slice(0);S[s]=function(e,t){var r=t.anchor,n=t.head,i=He(e.doc,r.line);if(0==et(r,n)&&r.sticky==n.sticky)return t;var a=ue(i);if(!a)return t;var o=se(a,r.ch,r.sticky),s=a[o];if(s.from!=r.ch&&s.to!=r.ch)return t;var l,u=o+(s.from==r.ch==(1!=s.level)?0:1);if(0==u||u==a.length)return t;if(n.line!=r.line)l=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=se(a,n.ch,n.sticky),d=c-o||(n.ch-r.ch)*(1==s.level?-1:1);l=c==u-1||c==u?d<0:d>0}var f=a[u+(l?-1:0)],p=l==(1==f.level),h=p?f.from:f.to,g=p?"after":"before";return r.ch==h&&r.sticky==g?t:new _i(new Je(r.line,h,g),n)}(e,new _i(ot(a,_),b)),Qi(a,Si(e,S,s),W)}}var p=i.wrapper.getBoundingClientRect(),h=0;function g(t){e.state.selectingText=!1,h=1/0,t&&(be(t),i.input.focus()),pe(i.wrapper.ownerDocument,"mousemove",m),pe(i.wrapper.ownerDocument,"mouseup",v),a.history.lastSelOrigin=null}var m=Jn(e,(function(t){0!==t.buttons&&Te(t)?function t(r){var o=++h,s=ln(e,r,!0,"rectangle"==n.unit);if(s)if(0!=et(s,d)){e.curOp.focus=I(),f(s);var l=On(i,a);(s.line>=l.to||s.line<l.from)&&setTimeout(Jn(e,(function(){h==o&&t(r)})),150)}else{var u=r.clientY<p.top?-20:r.clientY>p.bottom?20:0;u&&setTimeout(Jn(e,(function(){h==o&&(i.scroller.scrollTop+=u,t(r))})),50)}}(t):g(t)})),v=Jn(e,g);e.state.selectingText=v,de(i.wrapper.ownerDocument,"mousemove",m),de(i.wrapper.ownerDocument,"mouseup",v)}(e,n,t,a)}(t,n,a,e):Se(e)==r.scroller&&be(e):2==i?(n&&Gi(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==i&&(S?t.display.input.onContextMenu(e):_n(t)))}}function mo(e,t,r){if("char"==r)return new _i(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new _i(Je(t.line,0),ot(e.doc,Je(t.line+1,0)));var n=r(e,t);return new _i(n.from,n.to)}function vo(e,t,r,n){var i,a;if(t.touches)i=t.touches[0].clientX,a=t.touches[0].clientY;else try{i=t.clientX,a=t.clientY}catch(c){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&be(t);var o=e.display,s=o.lineDiv.getBoundingClientRect();if(a>s.bottom||!ve(e,r))return Ee(t);a-=s.top-o.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=o.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i)return he(e,r,e,Xe(e.doc,a),e.display.gutterSpecs[l].className,t),Ee(t)}}function yo(e,t){return vo(e,t,"gutterClick",!0)}function bo(e,t){kr(e.display,t)||function(e,t){return!!ve(e,"gutterContextMenu")&&vo(e,t,"gutterContextMenu",!1)}(e,t)||ge(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function ko(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ur(e)}ho.prototype.compare=function(e,t,r){return this.time+400>e&&0==et(t,this.pos)&&r==this.button};var Eo={toString:function(){return"CodeMirror.Init"}},_o={},So={};function To(e,t,r){if(!t!=!(r&&r!=Eo)){var n=e.display.dragFunctions,i=t?de:pe;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function wo(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(x(e.display.wrapper,"CodeMirror-wrap"),$t(e)),sn(e),cn(e),Ur(e),setTimeout((function(){return Fn(e)}),100)}function xo(e,t){var r=this;if(!(this instanceof xo))return new xo(e,t);this.options=t=t?N(t):{},N(_o,t,!1);var n=t.value;"string"==typeof n?n=new Ca(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new xo.inputStyles[t.inputStyle](this),a=this.display=new gi(e,n,i,t);for(var u in a.wrapper.CodeMirror=this,ko(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!v&&a.input.focus(),o&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(e){var t=e.display;de(t.scroller,"mousedown",Jn(e,go)),de(t.scroller,"dblclick",o&&s<11?Jn(e,(function(t){if(!ge(e,t)){var r=ln(e,t);if(r&&!yo(e,t)&&!kr(e.display,t)){be(t);var n=e.findWordAt(r);Gi(e.doc,n.anchor,n.head)}}})):function(t){return ge(e,t)||be(t)}),de(t.scroller,"contextmenu",(function(t){return bo(e,t)})),de(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||bo(e,r)}));var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function a(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}de(t.scroller,"touchstart",(function(i){if(!ge(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!yo(e,i)){t.input.ensurePolled(),clearTimeout(r);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),de(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),de(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!kr(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var o,s=e.coordsChar(t.activeTouch,"page");o=!n.prev||a(n,n.prev)?new _i(s,s):!n.prev.prev||a(n,n.prev.prev)?e.findWordAt(s):new _i(Je(s.line,0),ot(e.doc,Je(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),be(r)}i()})),de(t.scroller,"touchcancel",i),de(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Dn(e,t.scroller.scrollTop),jn(e,t.scroller.scrollLeft,!0),he(e,"scroll",e))})),de(t.scroller,"mousewheel",(function(t){return ki(e,t)})),de(t.scroller,"DOMMouseScroll",(function(t){return ki(e,t)})),de(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ge(e,t)||_e(t)},over:function(t){ge(e,t)||(function(e,t){var r=ln(e,t);if(r){var n=document.createDocumentFragment();vn(e,r,n),e.display.dragCursor||(e.display.dragCursor=C("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),P(e.display.dragCursor,n)}}(e,t),_e(t))},start:function(t){return function(e,t){if(o&&(!e.state.draggingText||+new Date-Aa<100))_e(t);else if(!ge(e,t)&&!kr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var r=C("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),d&&r.parentNode.removeChild(r)}}(e,t)},drop:Jn(e,Ma),leave:function(t){ge(e,t)||Ia(e)}};var l=t.input.getField();de(l,"keyup",(function(t){return uo.call(e,t)})),de(l,"keydown",Jn(e,lo)),de(l,"keypress",Jn(e,co)),de(l,"focus",(function(t){return Sn(e,t)})),de(l,"blur",(function(t){return Tn(e,t)}))}(this),La(),Hn(this),this.curOp.forceUpdate=!0,Di(this,n),t.autofocus&&!v||this.hasFocus()?setTimeout(j(Sn,this),20):Tn(this),So)So.hasOwnProperty(u)&&So[u](this,t[u],Eo);di(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Oo.length;++c)Oo[c](this);Kn(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}xo.defaults=_o,xo.optionHandlers=So;var Oo=[];function Po(e,t,r,n){var i,a=e.doc;null==r&&(r="add"),"smart"==r&&(a.mode.indent?i=ft(e,t).state:r="prev");var o=e.options.tabSize,s=He(a,t),l=U(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=a.mode.indent(i,s.text.slice(c.length),s.text))==z||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>a.first?U(He(a,t-1).text,null,o):0:"add"==r?u=l+e.options.indentUnit:"subtract"==r?u=l-e.options.indentUnit:"number"==typeof r&&(u=l+r),u=Math.max(0,u);var d="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/o);p;--p)f+=o,d+="\t";if(f<u&&(d+=G(u-f)),d!=c)return pa(a,d,Je(t,0),Je(t,c.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<a.sel.ranges.length;h++){var g=a.sel.ranges[h];if(g.head.line==t&&g.head.ch<c.length){var m=Je(t,c.length);qi(a,h,new _i(m,m));break}}}xo.defineInitHook=function(e){return Oo.push(e)};var Co=null;function Ao(e){Co=e}function Mo(e,t,r,n,i){var a=e.doc;e.display.shift=!1,n||(n=a.sel);var o=+new Date-200,s="paste"==i||e.state.pasteIncoming>o,l=Ae(t),u=null;if(s&&n.ranges.length>1)if(Co&&Co.text.join("\n")==t){if(n.ranges.length%Co.text.length==0){u=[];for(var c=0;c<Co.text.length;c++)u.push(a.splitLines(Co.text[c]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=q(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=n.ranges.length-1;f>=0;f--){var p=n.ranges[f],h=p.from(),g=p.to();p.empty()&&(r&&r>0?h=Je(h.line,h.ch-r):e.state.overwrite&&!s?g=Je(g.line,Math.min(He(a,g.line).text.length,g.ch+Z(l).length)):s&&Co&&Co.lineWise&&Co.text.join("\n")==t&&(h=g=Je(h.line,0)));var m={from:h,to:g,text:u?u[f%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming>o?"cut":"+input")};la(e.doc,m),or(e,"inputRead",e,m)}t&&!s&&Ro(e,t),An(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Io(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Qn(t,(function(){return Mo(t,r,0,null,"paste")})),!0}function Ro(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var a=e.getModeAt(i.head),o=!1;if(a.electricChars){for(var s=0;s<a.electricChars.length;s++)if(t.indexOf(a.electricChars.charAt(s))>-1){o=Po(e,i.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(He(e.doc,i.head.line).text.slice(0,i.head.ch))&&(o=Po(e,i.head.line,"smart"));o&&or(e,"electricInput",e,i.head.line)}}}function Do(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,a={anchor:Je(i,0),head:Je(i+1,0)};r.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:r}}function Lo(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function jo(){var e=C("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=C("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Lo(e),t}function No(e,t,r,n,i){var a=t,o=r,s=He(e,t.line),l=i&&"rtl"==e.direction?-r:r;function u(n){var a;if(null==(a=i?function(e,t,r,n){var i=ue(t,e.doc.direction);if(!i)return Ya(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var a=se(i,r.ch,r.sticky),o=i[a];if("ltr"==e.doc.direction&&o.level%2==0&&(n>0?o.to>r.ch:o.from<r.ch))return Ya(t,r,n);var s,l=function(e,r){return Xa(t,e instanceof Je?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||Ar(e,t),Xr(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?l(r,-1):r.ch);if("rtl"==e.doc.direction||1==o.level){var d=1==o.level==n<0,f=l(r,d?1:-1);if(null!=f&&(d?f<=o.to&&f<=c.end:f>=o.from&&f>=c.begin)){var p=d?"before":"after";return new Je(r.line,f,p)}}var h=function(e,t,n){for(var a=function(e,t){return t?new Je(r.line,l(e,1),"before"):new Je(r.line,e,"after")};e>=0&&e<i.length;e+=t){var o=i[e],s=t>0==(1!=o.level),u=s?n.begin:l(n.end,-1);if(o.from<=u&&u<o.to)return a(u,s);if(u=s?o.from:l(o.to,-1),n.begin<=u&&u<n.end)return a(u,s)}},g=h(a+n,n,c);if(g)return g;var m=n>0?c.end:l(c.begin,-1);return null==m||n>0&&m==t.text.length||!(g=h(n>0?0:i.length-1,n,u(m)))?null:g}(e.cm,s,t,r):Ya(s,t,r))){if(n||!function(){var r=t.line+l;return!(r<e.first||r>=e.first+e.size)&&(t=new Je(r,t.ch,t.sticky),s=He(e,r))}())return!1;t=Qa(i,e.cm,s,t.line,l)}else t=a;return!0}if("char"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var c=null,d="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||u(!p);p=!1){var h=s.text.charAt(t.ch)||"\n",g=ee(h,f)?"w":d&&"\n"==h?"n":!d||/\s/.test(h)?null:"p";if(!d||p||g||(g="s"),c&&c!=g){r<0&&(r=1,u(),t.sticky="after");break}if(g&&(c=g),r>0&&!u(!p))break}var m=ia(e,t,a,o,!0);return tt(a,m)&&(m.hitSide=!0),m}function Uo(e,t,r,n){var i,a,o=e.doc,s=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*tn(e.display),3);i=(r>0?t.bottom:t.top)+r*u}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(a=Zr(e,s,i)).outside;){if(r<0?i<=0:i>=o.height){a.hitSide=!0;break}i+=5*r}return a}var Bo=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Fo(e,t){var r=Cr(e,t.line);if(!r||r.hidden)return null;var n=He(e.doc,t.line),i=Or(r,n,t.line),a=ue(n,e.doc.direction),o="left";a&&(o=se(a,t.ch)%2?"right":"left");var s=Dr(i.map,t.ch,o);return s.offset="right"==s.collapse?s.end:s.start,s}function zo(e,t){return t&&(e.bad=!0),e}function Vo(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return zo(e.clipPos(Je(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var a=e.display.view[i];if(a.node==n)return Wo(a,t,r)}}function Wo(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!M(n,t))return zo(Je(qe(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var a=e.rest?Z(e.rest):e.line;return zo(Je(qe(a),a.text.length),i)}var o=3==t.nodeType?t:null,s=t;for(o||1!=t.childNodes.length||3!=t.firstChild.nodeType||(o=t.firstChild,r&&(r=o.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,r,n){for(var i=-1;i<(u?u.length:0);i++)for(var a=i<0?l.map:u[i],o=0;o<a.length;o+=3){var s=a[o+2];if(s==t||s==r){var c=qe(i<0?e.line:e.rest[i]),d=a[o]+n;return(n<0||s!=t)&&(d=a[o+(n?1:0)]),Je(c,d)}}}var d=c(o,s,r);if(d)return zo(d,i);for(var f=s.nextSibling,p=o?o.nodeValue.length-r:0;f;f=f.nextSibling){if(d=c(f,f.firstChild,0))return zo(Je(d.line,d.ch-p),i);p+=f.textContent.length}for(var h=s.previousSibling,g=r;h;h=h.previousSibling){if(d=c(h,h.firstChild,-1))return zo(Je(d.line,d.ch+g),i);g+=h.textContent.length}}Bo.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function a(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function o(e){if(a(e)&&!ge(n,e)){if(n.somethingSelected())Ao({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Do(n);Ao({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,V),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=Co.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=jo(),l=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),l.value=Co.text.join("\n");var u=document.activeElement;L(l),setTimeout((function(){n.display.lineSpace.removeChild(s),u.focus(),u==i&&r.showPrimarySelection()}),50)}}Lo(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),de(i,"paste",(function(e){!a(e)||ge(n,e)||Io(e,n)||s<=11&&setTimeout(Jn(n,(function(){return t.updateFromDOM()})),20)})),de(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),de(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),de(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),de(i,"touchstart",(function(){return r.forceCompositionEnd()})),de(i,"input",(function(){t.composing||t.readFromDOMSoon()})),de(i,"copy",o),de(i,"cut",o)},Bo.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Bo.prototype.prepareSelection=function(){var e=mn(this.cm,!1);return e.focus=document.activeElement==this.div,e},Bo.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Bo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Bo.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),a=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||a.line<t.display.viewFrom)e.removeAllRanges();else{var o=Vo(t,e.anchorNode,e.anchorOffset),s=Vo(t,e.focusNode,e.focusOffset);if(!o||o.bad||!s||s.bad||0!=et(it(o,s),i)||0!=et(nt(o,s),a)){var l=t.display.view,u=i.line>=t.display.viewFrom&&Fo(t,i)||{node:l[0].measure.map[2],offset:0},c=a.line<t.display.viewTo&&Fo(t,a);if(!c){var d=l[l.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&c){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=w(u.node,u.offset,c.offset,c.node)}catch(g){}p&&(!r&&t.state.focused?(e.collapse(u.node,u.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Bo.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Bo.prototype.showMultipleSelections=function(e){P(this.cm.display.cursorDiv,e.cursors),P(this.cm.display.selectionDiv,e.selection)},Bo.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Bo.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return M(this.div,t)},Bo.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Bo.prototype.blur=function(){this.div.blur()},Bo.prototype.getField=function(){return this.div},Bo.prototype.supportsTouch=function(){return!0},Bo.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Qn(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Bo.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Bo.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(m&&c&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Vo(t,e.anchorNode,e.anchorOffset),n=Vo(t,e.focusNode,e.focusOffset);r&&n&&Qn(t,(function(){Qi(t.doc,Ti(r,n),V),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Bo.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,a=n.doc.sel.primary(),o=a.from(),s=a.to();if(0==o.ch&&o.line>n.firstLine()&&(o=Je(o.line-1,He(n.doc,o.line-1).length)),s.ch==He(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=Je(s.line+1,0)),o.line<i.viewFrom||s.line>i.viewTo-1)return!1;o.line==i.viewFrom||0==(e=un(n,o.line))?(t=qe(i.view[0].line),r=i.view[0].node):(t=qe(i.view[e].line),r=i.view[e-1].node.nextSibling);var l,u,c=un(n,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=qe(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!r)return!1;for(var d=n.doc.splitLines(function(e,t,r,n,i){var a="",o=!1,s=e.doc.lineSeparator(),l=!1;function u(){o&&(a+=s,l&&(a+=s),o=l=!1)}function c(e){e&&(u(),a+=e)}function d(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void c(r);var a,f=t.getAttribute("cm-marker");if(f){var p=e.findMarks(Je(n,0),Je(i+1,0),(m=+f,function(e){return e.id==m}));return void(p.length&&(a=p[0].find(0))&&c(Ke(e.doc,a.from,a.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&u();for(var g=0;g<t.childNodes.length;g++)d(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),h&&(o=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;d(t),t!=r;)t=t.nextSibling,l=!1;return a}(n,r,u,t,l)),f=Ke(n.doc,Je(t,0),Je(l,He(n.doc,l).text.length));d.length>1&&f.length>1;)if(Z(d)==Z(f))d.pop(),f.pop(),l--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}for(var p=0,h=0,g=d[0],m=f[0],v=Math.min(g.length,m.length);p<v&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var y=Z(d),b=Z(f),k=Math.min(y.length-(1==d.length?p:0),b.length-(1==f.length?p:0));h<k&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;if(1==d.length&&1==f.length&&t==o.line)for(;p&&p>o.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)p--,h++;d[d.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var E=Je(t,p),_=Je(l,f.length?Z(f).length-h:0);return d.length>1||d[0]||et(E,_)?(pa(n.doc,d,E,_,"+input"),!0):void 0},Bo.prototype.ensurePolled=function(){this.forceCompositionEnd()},Bo.prototype.reset=function(){this.forceCompositionEnd()},Bo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Bo.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Bo.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Qn(this.cm,(function(){return cn(e.cm)}))},Bo.prototype.setUneditable=function(e){e.contentEditable="false"},Bo.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Jn(this.cm,Mo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Bo.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Bo.prototype.onContextMenu=function(){},Bo.prototype.resetPosition=function(){},Bo.prototype.needsContentAttribute=!0;var $o=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};$o.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function a(e){if(!ge(n,e)){if(n.somethingSelected())Ao({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Do(n);Ao({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,V):(r.prevInput="",i.value=t.text.join("\n"),L(i))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(i.style.width="0px"),de(i,"input",(function(){o&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),de(i,"paste",(function(e){ge(n,e)||Io(e,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),de(i,"cut",a),de(i,"copy",a),de(e.scroller,"paste",(function(t){if(!kr(e,t)&&!ge(n,t)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var a=new Event("paste");a.clipboardData=t.clipboardData,i.dispatchEvent(a)}})),de(e.lineSpace,"selectstart",(function(t){kr(e,t)||be(t)})),de(i,"compositionstart",(function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),de(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},$o.prototype.createField=function(e){this.wrapper=jo(),this.textarea=this.wrapper.firstChild},$o.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},$o.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=mn(e);if(e.options.moveInputWithCursor){var i=Hr(e,r.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-a.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-a.left))}return n},$o.prototype.showSelection=function(e){var t=this.cm.display;P(t.cursorDiv,e.cursors),P(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},$o.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&L(this.textarea),o&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",o&&s>=9&&(this.hasSelection=null))}},$o.prototype.getField=function(){return this.textarea},$o.prototype.supportsTouch=function(){return!1},$o.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||I()!=this.textarea))try{this.textarea.focus()}catch(e){}},$o.prototype.blur=function(){this.textarea.blur()},$o.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},$o.prototype.receivedFocus=function(){this.slowPoll()},$o.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},$o.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}))},$o.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Me(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(o&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var a=i.charCodeAt(0);if(8203!=a||n||(n="\u200b"),8666==a)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(n.length,i.length);l<u&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return Qn(t,(function(){Mo(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},$o.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},$o.prototype.onKeyPress=function(){o&&s>=9&&(this.hasSelection=null),this.fastPoll()},$o.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var a=ln(r,e),u=n.scroller.scrollTop;if(a&&!d){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&Jn(r,Qi)(r.doc,Ti(a),V);var c,f=i.style.cssText,p=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(o?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),n.input.focus(),l&&window.scrollTo(null,c),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=m,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),o&&s>=9&&g(),S?(_e(e),de(window,"mouseup",(function e(){pe(window,"mouseup",e),setTimeout(m,20)}))):setTimeout(m,50)}function g(){if(null!=i.selectionStart){var e=r.somethingSelected(),a="\u200b"+(e?i.value:"");i.value="\u21da",i.value=a,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=a.length,n.selForContextMenu=r.doc.sel}}function m(){if(t.contextMenuPending==m&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=f,o&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),null!=i.selectionStart)){(!o||o&&s<9)&&g();var e=0;n.detectingSelectAll=setTimeout((function a(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Jn(r,oa)(r):e++<10?n.detectingSelectAll=setTimeout(a,500):(n.selForContextMenu=null,n.input.reset())}),200)}}},$o.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},$o.prototype.setUneditable=function(){},$o.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(r,n,i,a){e.defaults[r]=n,i&&(t[r]=a?function(e,t,r){r!=Eo&&i(e,t,r)}:i)}e.defineOption=r,e.Init=Eo,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,Ci(e)}),!0),r("indentUnit",2,Ci,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){Ai(e),Ur(e),cn(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var a=e.text.indexOf(t,i);if(-1==a)break;i=a+t.length,r.push(Je(n,a))}n++}));for(var i=r.length-1;i>=0;i--)pa(e.doc,t,r[i],Je(r[i].line,r[i].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=Eo&&e.refresh()})),r("specialCharPlaceholder",Yt,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!k),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){ko(e),hi(e)}),!0),r("keyMap","default",(function(e,t,r){var n=Za(t),i=r!=Eo&&Za(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,wo,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=fi(t,e.options.lineNumbers),hi(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?an(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return Fn(e)}),!0),r("scrollbarStyle","native",(function(e){Wn(e),Fn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=fi(e.options.gutters,t),hi(e)}),!0),r("firstLineNumber",1,hi,!0),r("lineNumberFormatter",(function(e){return e}),hi,!0),r("showCursorWhenSelecting",!1,gn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(Tn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,To),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,gn,!0),r("singleCursorHeightPerLine",!0,gn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Ai,!0),r("addModeClass",!1,Ai,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,Ai,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}(xo),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&Jn(this,t[e])(this,r,i),he(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Za(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:ei((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,cn(this)})),removeOverlay:ei((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void cn(this)}})),indentLine:ei((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ye(this.doc,e)&&Po(this,e,t,r)})),indentSelection:ei((function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Po(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&An(this));else{var a=i.from(),o=i.to(),s=Math.max(r,a.line);r=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;l<r;++l)Po(this,l,e);var u=this.doc.sel.ranges;0==a.ch&&t.length==u.length&&u[n].from().ch>0&&qi(this.doc,n,new _i(a,u[n].to()),V)}}})),getTokenAt:function(e,t){return vt(this,e,t)},getLineTokens:function(e,t){return vt(this,Je(e),t,!0)},getTokenTypeAt:function(e){e=ot(this.doc,e);var t,r=dt(this,He(this.doc,e.line)),n=0,i=(r.length-1)/2,a=e.ch;if(0==a)t=r[2];else for(;;){var o=n+i>>1;if((o?r[2*o-1]:0)>=a)i=o;else{if(!(r[2*o+1]<a)){t=r[2*o+2];break}n=o+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],a=this.getModeAt(e);if("string"==typeof a[t])i[a[t]]&&n.push(i[a[t]]);else if(a[t])for(var o=0;o<a[t].length;o++){var s=i[a[t][o]];s&&n.push(s)}else a.helperType&&i[a.helperType]?n.push(i[a.helperType]):i[a.name]&&n.push(i[a.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(a,this)&&-1==F(n,u.val)&&n.push(u.val)}return n},getStateAfter:function(e,t){var r=this.doc;return ft(this,(e=at(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Hr(this,null==e?r.head:"object"==typeof e?ot(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return $r(this,ot(this.doc,e),t||"page")},coordsChar:function(e,t){return Zr(this,(e=Wr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Wr(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var a=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>a&&(e=a,i=!0),n=He(this.doc,e)}else n=e;return Vr(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-Vt(n):0)},defaultTextHeight:function(){return tn(this.display)},defaultCharWidth:function(){return rn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var a=this.display,o=(e=Hr(this,ot(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n)o=e.top;else if("above"==n||"near"==n){var l=Math.max(a.wrapper.clientHeight,this.doc.height),u=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==i?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&function(e,t){var r=Pn(e,t);null!=r.scrollTop&&Dn(e,r.scrollTop),null!=r.scrollLeft&&jn(e,r.scrollLeft)}(this,{left:s,top:o,right:s+t.offsetWidth,bottom:o+t.offsetHeight})},triggerOnKeyDown:ei(lo),triggerOnKeyPress:ei(co),triggerOnKeyUp:uo,triggerOnMouseDown:ei(go),execCommand:function(e){if(Ja.hasOwnProperty(e))return Ja[e].call(null,this)},triggerElectric:ei((function(e){Ro(this,e)})),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var a=ot(this.doc,e),o=0;o<t&&!(a=No(this.doc,a,i,r,n)).hitSide;++o);return a},moveH:ei((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?No(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),$)})),deleteH:ei((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):qa(this,(function(r){var i=No(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(e,t,r,n){var i=1,a=n;t<0&&(i=-1,t=-t);for(var o=ot(this.doc,e),s=0;s<t;++s){var l=Hr(this,o,"div");if(null==a?a=l.left:l.left=a,(o=Uo(this,l,i,r)).hitSide)break}return o},moveV:ei((function(e,t){var r=this,n=this.doc,i=[],a=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(o){if(a)return e<0?o.from():o.to();var s=Hr(r,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),i.push(s.left);var l=Uo(r,s,e,t);return"page"==t&&o==n.sel.primary()&&Cn(r,$r(r,l,"div").top-s.top),l}),$),i.length)for(var o=0;o<n.sel.ranges.length;o++)n.sel.ranges[o].goalColumn=i[o]})),findWordAt:function(e){var t=He(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var a=t.charAt(r),o=ee(a,i)?function(e){return ee(e,i)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};r>0&&o(t.charAt(r-1));)--r;for(;n<t.length&&o(t.charAt(n));)++n}return new _i(Je(e.line,r),Je(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):x(this.display.cursorDiv,"CodeMirror-overwrite"),he(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei((function(e,t){Mn(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Tr(this)-this.display.barHeight,width:e.scrollWidth-Tr(this)-this.display.barWidth,clientHeight:xr(this),clientWidth:wr(this)}},scrollIntoView:ei((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Je(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){In(e),e.curOp.scrollToPos=t}(this,e):Rn(this,e.from,e.to,e.margin)})),setSize:ei((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Nr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){dn(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,he(this,"refresh",this)})),operation:function(e){return Qn(this,e)},startOperation:function(){return Hn(this)},endOperation:function(){return Kn(this)},refresh:ei((function(){var e=this.display.cachedTextHeight;cn(this),this.curOp.forceUpdate=!0,Ur(this),Mn(this,this.doc.scrollLeft,this.doc.scrollTop),li(this.display),(null==e||Math.abs(e-tn(this.display))>.5||this.options.lineWrapping)&&sn(this),he(this,"refresh",this)})),swapDoc:ei((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Di(this,e),Ur(this),this.display.input.reset(),Mn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,or(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ye(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,a){e.registerHelper(t,n,a),r[t]._global.push({pred:i,val:a})}}(xo);var Ho="iter insert remove copy getEditor constructor".split(" ");for(var Ko in Ca.prototype)Ca.prototype.hasOwnProperty(Ko)&&F(Ho,Ko)<0&&(xo.prototype[Ko]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ca.prototype[Ko]));return ye(Ca),xo.inputStyles={textarea:$o,contenteditable:Bo},xo.defineMode=function(e){xo.defaults.mode||"null"==e||(xo.defaults.mode=e),je.apply(this,arguments)},xo.defineMIME=function(e,t){Le[e]=t},xo.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),xo.defineMIME("text/plain","null"),xo.defineExtension=function(e,t){xo.prototype[e]=t},xo.defineDocExtension=function(e,t){Ca.prototype[e]=t},xo.fromTextArea=function(e,t){if((t=t?N(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=I();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(de(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var a=e.form;i=a.submit;try{var o=a.submit=function(){n(),a.submit=i,a.submit(),a.submit=o}}catch(l){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=xo((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=pe,e.on=de,e.wheelEventPixels=bi,e.Doc=Ca,e.splitLines=Ae,e.countColumn=U,e.findColumn=H,e.isWordChar=J,e.Pass=z,e.signal=he,e.Line=Ht,e.changeEnd=wi,e.scrollbarModel=Vn,e.Pos=Je,e.cmpPos=et,e.modes=De,e.mimeModes=Le,e.resolveMode=Ne,e.getMode=Ue,e.modeExtensions=Be,e.extendMode=Fe,e.copyState=ze,e.startState=We,e.innerMode=Ve,e.commands=Ja,e.keyMap=za,e.keyName=Ga,e.isModifierKey=Ha,e.lookupKey=$a,e.normalizeKeyMap=Wa,e.StringStream=$e,e.SharedTextMarker=wa,e.TextMarker=Sa,e.LineWidget=ka,e.e_preventDefault=be,e.e_stopPropagation=ke,e.e_stop=_e,e.addClass=R,e.contains=M,e.rmClass=x,e.keyNames=Na}(xo),xo.version="5.55.0",xo}()},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return e.button},p=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"handleClick",(function(){return e.props.onClick&&e.props.onClick()})),d(a(e),"handleKeyDown",(0,u.getKeyboardShortcutBlocker)(["Enter"," "])),d(a(e),"handleKeyUp",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.handleClick())})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.label,r=e.className,n=e.classNamePrefix,i=e.classes,a=e.content,o=(0,u.hydrateClassNames)({classes:i,selectClasses:f,classNames:["button",r],classNamePrefix:n});return l.createElement("div",{title:t,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,className:o,role:"button",tabIndex:0},l.createElement("div",{tabIndex:-1},a))}}]),r}(l.Component);d(p,"defaultProps",{useDefaultClassNaming:!0});var h=p;t.default=h},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=r(9),d=(l=r(49))&&l.__esModule?l:{default:l},f=r(239);function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){return e.selectorCollapsed||e.selector},m=function(e){return e.selectorExpanded||e.selector},v=function(e){return e.selectorItemsContainer},y=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),h(a(i),"focusableItems",[]),h(a(i),"toggleElement",null),h(a(i),"onToggleRef",(function(e){i.toggleElement=e})),h(a(i),"handleToggle",(function(e){return i.setState({isExpanded:e})})),h(a(i),"handleItemRef",(function(e,t){i.focusableItems[t]=e})),h(a(i),"renderSelectorItem",(function(e,t){var r=i.props.itemMapper(e);return u.createElement(f.SelectorItem,{key:r.id,item:r,index:t,onSelect:i.props.onSelect,onRef:i.handleItemRef,isSelected:e===i.props.selectedItem,canReceiveFocus:i.state.isExpanded,selectedClassName:"selected",defaultItemClassName:"selector-item",className:i.props.itemClassName,classes:i.props.classes,classNamePrefix:i.props.classNamePrefix})})),h(a(i),"handleKeyDown",(function(e){switch(e.key){case"ArrowUp":case"Up":return void e.preventDefault();case"ArrowDown":case"Down":return void(i.state.isExpanded&&e.preventDefault());default:return}})),h(a(i),"handleKeyUp",(function(e){i.state.isExpanded?("ArrowUp"!==e.key&&"Up"!==e.key||(e.preventDefault(),(0,f.focusElement)(!0,i.props.reverseOrder||!1,i.focusableItems,i.toggleElement)),("ArrowDown"===e.key||"Down"===e.key)&&(e.preventDefault(),(0,f.focusElement)(!1,i.props.reverseOrder||!1,i.focusableItems,i.toggleElement)===i.toggleElement&&i.setState({isExpanded:!1}))):"ArrowUp"!==e.key&&"Up"!==e.key||(e.preventDefault(),i.setState({isExpanded:!0}))})),h(a(i),"handleMouseLeave",(function(){i.setState({isExpanded:!1})})),i.state={isExpanded:!1},i}return i(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.classNamePrefix,n=e.classes,i=e.items,a=e.collapsedToggleContent,o=e.expandedToggleContent,s=e.reverseOrder,l=e.label,f=i?s?i.map(this.renderSelectorItem).reverse():i.map(this.renderSelectorItem):null,p=(0,c.hydrateClassNames)({classes:n,classNamePrefix:r,selectClasses:this.state.isExpanded?m:g,classNames:[t,"selector",this.state.isExpanded?"expanded":"collapsed"]}),h=(0,c.hydrateClassNames)({classes:n,selectClasses:v,classNamePrefix:r,classNames:["selector-items"]}),y=n?{toggleButtonOff:n.selectorToggle||n.selectorToggleOff,toggleButtonOn:n.selectorToggleOn}:null;return u.createElement("div",{className:p,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onMouseLeave:this.handleMouseLeave},u.createElement(d.default,{isOn:this.state.isExpanded,className:"selector-toggle",classNamePrefix:r,classes:y,label:l,onToggle:this.handleToggle,onRef:this.onToggleRef,toggledOffContent:a,toggledOnContent:o}),u.createElement("div",{role:"listbox",className:h},f))}}]),r}(u.Component);h(y,"defaultProps",{useDefaultClassNaming:!0});var b=y;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImplementationResolver=g,t.default=void 0;var n=h(r(67)),i=h(r(248)),a=h(r(81)),o=h(r(249)),s=h(r(250)),l=r(82),u=h(r(52)),c=h(r(83)),d=r(68),f=r(84),p=h(r(163));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){return function(t,r,n,p){var h=(0,i.default)(n,r),g=e(n),m=(0,a.default)(t),v=(0,o.default)(n,m,p),y=(0,s.default)(n,m),b=(0,l.getPropertyApplier)(n,h,v,y),k=(0,f.getArrayLogger)(window,"videoEvents").log,E=(0,c.default)({streamer:t,videoElement:n,streamRangeHelper:h,configuration:r,applyProperties:b,updateStreamState:m,log:k}),_=E.videoElementEventHandlers,S=E.setLifeCycleManager,T=(0,u.default)(m,E.pauseStreamRangeUpdater,(0,f.getArrayLogger)(window,"lifecycle").log);S(T);var w=T.startPlaybackSession,x=T.endPlaybackSession,O=d.renderWithoutSource;return Promise.resolve({cleanup:function(){return v.cleanup(),y.cleanup(),T.cleanup(),E.cleanup(),Promise.resolve()},render:O,textTrackManager:v,audioTrackManager:y,applyProperties:b,handleSourceChange:g,startPlaybackSession:w,endPlaybackSession:x,videoElementEventHandlers:_})}}var m=(0,n.default)("BasicVideoStreamer",g(p.default));t.default=m},function(e,t,r){"use strict";var n=r(42),i=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(9),o=function(e){return null==e||isNaN(e)||e===1/0||"number"!==typeof e||e<0?0:e},s={position:o,duration:o,volume:o};var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r={};function o(o){var s=e.props&&e.props.onStreamStateChange;s&&Object.entries(o).forEach((function(e){var o=i(e,2),l=o[0],u=o[1],c=t[l]?t[l](u):u;(0,a.isDifferent)(r[l],c)&&(r[l]=c,s(n({},l,c)))}))}return o};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyApplier=void 0;t.getPropertyApplier=function(e,t,r,n,i){return function(a){"isPaused"in a&&(a.isPaused?e.pause():e.play().catch((function(e){return console.warn("Play blocked",e)}))),null!=a.volume&&(e.volume=a.volume),null!=a.isMuted&&(e.muted=a.isMuted),null!=a.position&&t.setPosition(a.position),a.isAtLiveEdge&&t.gotoLive(),r&&"selectedTextTrack"in a&&r.handleSelectedTextTrackChange(a.selectedTextTrack),n&&a.selectedAudioTrack&&n.handleSelectedAudioTrackChange(a.selectedAudioTrack),i&&(void 0!==a.bitrateFix&&i.fixBitrate(a.bitrateFix),void 0!==a.bitrateCap&&i.capBitrate(a.bitrateCap)),"isPipActive"in a&&(a.isPipActive?"function"===typeof e.requestPictureInPicture?e.requestPictureInPicture():"function"===typeof e.webkitSetPresentationMode&&e.webkitSetPresentationMode("picture-in-picture"):document.pictureInPictureElement===e?document.exitPictureInPicture():"picture-in-picture"===e.webkitPresentationMode&&e.webkitSetPresentationMode("inline")),a.isAirPlayTargetPickerVisible&&"function"===typeof e.webkitShowPlaybackTargetPicker&&e.webkitShowPlaybackTargetPicker()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(251))&&n.__esModule?n:{default:n},a=(r(35),r(9));function o(e){for(var t=e.currentTime,r=e.buffered,n=0,i=0;i<r.length;++i)if(r.start(i)-2<=t&&r.end(i)+2>=t){n=r.end(i)-t;break}return n}var s=function(e){var t=e.streamer,r=e.videoElement,n=e.streamRangeHelper,s=e.configuration,l=e.applyProperties,u=e.updateStreamState,c=e.log,d=navigator.userAgent.indexOf("Edge")>0||navigator.userAgent.indexOf("Safari")>0&&navigator.userAgent.indexOf("Chrome")<0&&navigator.userAgent.indexOf("Firefox")<0,f={setStage:function(e){},getStage:function(){}};function p(){return document.pictureInPictureEnabled&&!r.disablePictureInPicture||r.webkitSupportsPresentationMode&&r.webkitSupportsPresentationMode("picture-in-picture")&&"function"===typeof r.webkitSetPresentationMode||!1}function h(){u({isPipActive:!0})}function g(){u({isPipActive:!1})}function m(e){"available"===e.availability?u({isAirPlayAvailable:!0}):u({isAirPlayAvailable:!1})}function v(e){u({isAirPlayActive:r.webkitCurrentPlaybackTargetIsWireless})}function y(){"picture-in-picture"===r.webkitPresentationMode?u({isPipActive:!0}):u({isPipActive:!1})}var b=(0,a.getIntervalRunner)((function(){n.adjustForDvrStartOffset(),u(n.calculateNewState())}),s&&s.pauseUpdateInterval||5);return r.addEventListener("enterpictureinpicture",h),r.addEventListener("leavepictureinpicture",g),r.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",v),r.addEventListener("webkitplaybacktargetavailabilitychanged",m),r.addEventListener("webkitpresentationmodechanged",y),{videoElementEventHandlers:{onLoadStart:function(){if(c&&c("loadstart"),"new"===f.getStage()){if(f.setStage("starting"),t.props.initialPlaybackProps){var e=t.props.initialPlaybackProps,n=e.isMuted,i=e.volume,a=e.bitrateFix,o=e.bitrateCap;l({isMuted:n,volume:i,bitrateFix:a,bitrateCap:o})}u({playState:"starting",isBuffering:!0,volume:r.volume,isMuted:r.muted})}},onLoadedMetadata:function(){c&&c("loadedmetadata"),t.props.initialPlaybackProps&&t.props.initialPlaybackProps.isPaused&&r.pause(),u(n.calculateNewState()),u({isPipAvailable:p()})},onCanPlay:function(){c&&c("canplay");var e=f.getStage();"starting"===e?t.props.initialPlaybackProps&&t.props.initialPlaybackProps.isPaused&&f.setStage("started"):"started"===e&&u({isBuffering:!1,playState:r.paused?"paused":"playing"}),u({bufferedAhead:o(r),isPipAvailable:p()}),r.paused&&(u({playState:"paused",isPaused:!0,isBuffering:!1,isSeeking:!1}),b.start())},onWaiting:function(){c&&c("waiting"),u({isBuffering:!0}),"started"===f.getStage()&&u({playState:"buffering"})},onStalled:function(){c&&c("stalled"),d||(u({isBuffering:!0}),"started"===f.getStage()&&u({playState:"buffering"}))},onPlaying:function(){c&&c("playing"),"starting"===f.getStage()&&f.setStage("started"),"started"===f.getStage()&&u({playState:"playing",isBuffering:!1,isPaused:!1,isSeeking:!1}),b.stop()},onPause:function(){c&&c("pause"),"started"===f.getStage()&&u({playState:"paused",isPaused:!0}),b.start()},onSeeking:function(){c&&c("seeking"),b.stop(),"started"===f.getStage()&&u({playState:"seeking",isSeeking:!0})},onSeeked:function(){c&&c("seeked"),d&&(r.paused?(u({playState:"paused",isPaused:!0,isBuffering:!1,isSeeking:!1}),b.start()):(u({playState:"playing",isPaused:!1,isBuffering:!1,isSeeking:!1}),b.stop()))},onDurationChange:function(){c&&c("durationchange"),u(n.calculateNewState())},onTimeUpdate:function(){u(n.calculateNewState())},onVolumeChange:function(){c&&c("volumechange"),u({volume:r.volume,isMuted:r.muted})},onProgress:function(){u({bufferedAhead:o(r)})},onError:function(){var e=(0,i.default)(r);t.props.onPlaybackError&&t.props.onPlaybackError(e),u({error:r.error}),"FATAL"===e.severity&&(f.setStage("dead"),u({playState:"inactive",isBuffering:!1,isSeeking:!1})),b.stop()},onEnded:function(){c&&c("ended"),"started"===f.getStage()&&u({playState:"inactive"}),b.stop()}},pauseStreamRangeUpdater:b,setLifeCycleManager:function(e){f=e},isPipAvailable:p,cleanup:function(){r.removeEventListener("enterpictureinpicture",h),r.removeEventListener("leavepictureinpicture",g),r.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",v),r.removeEventListener("webkitplaybacktargetavailabilitychanged",m),r.removeEventListener("webkitpresentationmodechanged",y)}}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayLogger=void 0;t.getArrayLogger=function(e,t){return document.location.search.indexOf("debugVideoStreamer")>=0?{log:function(){e[t]||(e[t]=[]);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];switch(n.length){case 0:return;case 1:return void e[t].push(n[0]);default:return void e[t].push(n)}}}:{log:function(){}}}},function(e,t,r){"use strict";var n,i=r(30),a=r(51).ONE_SECOND_IN_TS,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(e){var t,r=0;n.prototype.init.call(this),this.push=function(n){var i,s,l,u,c,d,f=0;if(e||(r=0),"audio"===n.type)for(t?(u=t,(t=new Uint8Array(u.byteLength+n.data.byteLength)).set(u),t.set(n.data,u.byteLength)):t=n.data;f+5<t.length;)if(255===t[f]&&240===(246&t[f+1])){if(s=2*(1&~t[f+1]),i=(3&t[f+3])<<11|t[f+4]<<3|(224&t[f+5])>>5,d=(c=1024*(1+(3&t[f+6])))*a/o[(60&t[f+2])>>>2],l=f+i,t.byteLength<l)return;if(this.trigger("data",{pts:n.pts+r*d,dts:n.dts+r*d,sampleCount:c,audioobjecttype:1+(t[f+2]>>>6&3),channelcount:(1&t[f+2])<<2|(192&t[f+3])>>>6,samplerate:o[(60&t[f+2])>>>2],samplingfrequencyindex:(60&t[f+2])>>>2,samplesize:16,data:t.subarray(f+7+s,l)}),r++,t.byteLength===l)return void(t=void 0);t=t.subarray(l)}else f++},this.flush=function(){r=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new i,e.exports=n},function(e,t,r){"use strict";var n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,E,_,S,T,w,x,O,P,C,A,M,I,R,D,L,j,N,U,B=Math.pow(2,32)-1;!function(){var e;if(w={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(e in w)w.hasOwnProperty(e)&&(w[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);x=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),O=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),M={video:C,audio:A},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),j=L,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=L,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(e){var t,r,n=[],i=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)i+=n[t].byteLength;for(r=new Uint8Array(i+8),new DataView(r.buffer,r.byteOffset,r.byteLength).setUint32(0,r.byteLength),r.set(e,4),t=0,i=8;t<n.length;t++)r.set(n[t],i),i+=n[t].byteLength;return r},i=function(){return n(w.dinf,n(w.dref,D))},a=function(e){return n(w.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return n(w.ftyp,x,O,x,P)},y=function(e){return n(w.hdlr,M[e])},s=function(e){return n(w.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),n(w.mdhd,t)},m=function(e){return n(w.mdia,v(e),y(e.type),u(e))},l=function(e){return n(w.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},u=function(e){return n(w.minf,"video"===e.type?n(w.vmhd,I):n(w.smhd,R),i(),k(e))},c=function(e,t){for(var r=[],i=t.length;i--;)r[i]=_(t[i]);return n.apply(null,[w.moof,l(e)].concat(r))},d=function(e){for(var t=e.length,r=[];t--;)r[t]=h(e[t]);return n.apply(null,[w.moov,p(4294967295)].concat(r).concat(f(e)))},f=function(e){for(var t=e.length,r=[];t--;)r[t]=S(e[t]);return n.apply(null,[w.mvex].concat(r))},p=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(w.mvhd,t)},b=function(e){var t,r,i=e.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)t=i[r].flags,a[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return n(w.sdtp,a)},k=function(e){return n(w.stbl,E(e),n(w.stts,U),n(w.stsc,j),n(w.stsz,N),n(w.stco,L))},function(){var e,t;E=function(r){return n(w.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===r.type?e(r):t(r))},e=function(e){var t,r,i=e.sps||[],a=e.pps||[],o=[],s=[];for(t=0;t<i.length;t++)o.push((65280&i[t].byteLength)>>>8),o.push(255&i[t].byteLength),o=o.concat(Array.prototype.slice.call(i[t]));for(t=0;t<a.length;t++)s.push((65280&a[t].byteLength)>>>8),s.push(255&a[t].byteLength),s=s.concat(Array.prototype.slice.call(a[t]));if(r=[w.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(w.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],o,[a.length],s))),n(w.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];r.push(n(w.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return n.apply(null,r)},t=function(e){return n(w.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),a(e))}}(),g=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return n(w.tkhd,t)},_=function(e){var t,r,i,a,o,s;return t=n(w.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(B+1)),s=Math.floor(e.baseMediaDecodeTime%(B+1)),r=n(w.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(i=T(e,92),n(w.traf,t,r,i)):(a=b(e),i=T(e,a.length+92),n(w.traf,t,r,i,a))},h=function(e){return e.duration=e.duration||4294967295,n(w.trak,g(e),m(e))},S=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),n(w.trex,t)},function(){var e,t,r;r=function(e,t){var r=0,n=0,i=0,a=0;return e.length&&(void 0!==e[0].duration&&(r=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,r|n|i|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var i,a,o,s,l,u;for(t+=20+16*(s=e.samples||[]).length,o=r(s,t),(a=new Uint8Array(o.length+16*s.length)).set(o),i=o.length,u=0;u<s.length;u++)l=s[u],a[i++]=(4278190080&l.duration)>>>24,a[i++]=(16711680&l.duration)>>>16,a[i++]=(65280&l.duration)>>>8,a[i++]=255&l.duration,a[i++]=(4278190080&l.size)>>>24,a[i++]=(16711680&l.size)>>>16,a[i++]=(65280&l.size)>>>8,a[i++]=255&l.size,a[i++]=l.flags.isLeading<<2|l.flags.dependsOn,a[i++]=l.flags.isDependedOn<<6|l.flags.hasRedundancy<<4|l.flags.paddingValue<<1|l.flags.isNonSyncSample,a[i++]=61440&l.flags.degradationPriority,a[i++]=15&l.flags.degradationPriority,a[i++]=(4278190080&l.compositionTimeOffset)>>>24,a[i++]=(16711680&l.compositionTimeOffset)>>>16,a[i++]=(65280&l.compositionTimeOffset)>>>8,a[i++]=255&l.compositionTimeOffset;return n(w.trun,a)},e=function(e,t){var i,a,o,s,l,u;for(t+=20+8*(s=e.samples||[]).length,o=r(s,t),(i=new Uint8Array(o.length+8*s.length)).set(o),a=o.length,u=0;u<s.length;u++)l=s[u],i[a++]=(4278190080&l.duration)>>>24,i[a++]=(16711680&l.duration)>>>16,i[a++]=(65280&l.duration)>>>8,i[a++]=255&l.duration,i[a++]=(4278190080&l.size)>>>24,i[a++]=(16711680&l.size)>>>16,i[a++]=(65280&l.size)>>>8,i[a++]=255&l.size;return n(w.trun,i)},T=function(r,n){return"audio"===r.type?e(r,n):t(r,n)}}(),e.exports={ftyp:o,mdat:s,moof:c,moov:d,initSegment:function(e){var t,r=o(),n=d(e);return(t=new Uint8Array(r.byteLength+n.byteLength)).set(r),t.set(n,r.byteLength),t}}},function(e,t){e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},function(e,t,r){var n=r(51).ONE_SECOND_IN_TS;e.exports={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var r,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),r=e.timelineStartInfo.baseMediaDecodeTime,r+=i,r=Math.max(0,r),"audio"===e.type&&(r*=e.samplerate/n,r=Math.floor(r)),r},collectDtsInfo:function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}}},function(e,t,r){"use strict";var n,i,a,o=r(30),s=r(169),l=r(90),u=r(171).TimestampRolloverStream;(n=function(){var e=new Uint8Array(188),t=0;n.prototype.init.call(this),this.push=function(r){var n,i=0,a=188;for(t?((n=new Uint8Array(r.byteLength+t)).set(e.subarray(0,t)),n.set(r,t),t=0):n=r;a<n.byteLength;)71!==n[i]||71!==n[a]?(i++,a++):(this.trigger("data",n.subarray(i,a)),i+=188,a+=188);i<n.byteLength&&(e.set(n.subarray(i),0),t=n.byteLength-i)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new o,(i=function(){var e,t,r,n;i.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var i=0;n.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===n.type?t(e.subarray(i),n):r(e.subarray(i),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},r=function(e,t){var r,i;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},r=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<r;){var a=e[i],o=(31&e[i+1])<<8|e[i+2];a===l.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=o:a===l.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=o:a===l.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][o]=a),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var r={},n=4;if(r.payloadUnitStartIndicator=!!(64&t[1]),r.pid=31&t[1],r.pid<<=8,r.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===r.pid)r.type="pat",e(t.subarray(n),r),this.trigger("data",r);else if(r.pid===this.pmtPid)for(r.type="pmt",e(t.subarray(n),r),this.trigger("data",r);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,r]):this.processPes_(t,n,r)},this.processPes_=function(e,t,r){r.pid===this.programMapTable.video?r.streamType=l.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=l.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=e.subarray(t),this.trigger("data",r)}}).prototype=new o,i.STREAM_TYPES={h264:27,adts:15},(a=function(){var e,t=this,r={data:[],size:0},n={data:[],size:0},i={data:[],size:0},o=function(e,r,n){var i,a,o=new Uint8Array(e.size),s={type:r},l=0,u=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],o.set(a.data,u),u+=a.data.byteLength;!function(e,t){var r;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),192&(r=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&r&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])}(o,s),i="video"===r||s.packetLength<=e.size,(n||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",s)}};a.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case l.H264_STREAM_TYPE:e=r,t="video";break;case l.ADTS_STREAM_TYPE:e=n,t="audio";break;case l.METADATA_STREAM_TYPE:e=i,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var r={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",r)}})[a.type]()},this.reset=function(){r.size=0,r.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(r,"video"),o(n,"audio"),o(i,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new o;var c={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:n,TransportParseStream:i,ElementaryStream:a,TimestampRolloverStream:u,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,Cea708Stream:s.Cea708Stream,MetadataStream:r(287)};for(var d in l)l.hasOwnProperty(d)&&(c[d]=l[d]);e.exports=c},function(e,t,r){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(e,t,r){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return r=r>=0?r:0,(16&e[t+5])>>4?r+20:r+10},a=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){var t=function e(t,r){return t.length-r<10||t[r]!=="I".charCodeAt(0)||t[r+1]!=="D".charCodeAt(0)||t[r+2]!=="3".charCodeAt(0)?r:e(t,r+=i(t,r))}(e,0);return e.length>=t+2&&255===(255&e[t])&&240===(240&e[t+1])&&16===(22&e[t+1])},parseId3TagSize:i,parseAdtsSize:function(e,t){var r=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|r},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,r,n;t=10,64&e[5]&&(t+=4,t+=a(e.subarray(10,14)));do{if((r=a(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+r+10);for(var i=0;i<n.byteLength;i++)if(0===n[i]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i}(n,0,i))){var o=n.subarray(i+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}t+=10,t+=r}while(t<e.byteLength);return null}}},function(e,t){var r="undefined"!==typeof Element,n="function"===typeof Map,i="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=o.length)return!1;for(l=s;0!==l--;)if(!e(t[l],o[l]))return!1;return!0}if(n&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!e(l.value[1],o.get(l.value[0])))return!1;return!0}if(i&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((s=t.length)!=o.length)return!1;for(l=s;0!==l--;)if(t[l]!==o[l])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(r&&t instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!e(t[u[l]],o[u[l]]))return!1;return!0}return t!==t&&o!==o}(e,t)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}}},function(e,t,r){"use strict";var n={parts:["container","button","panel"],baseStyle:{container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{fontSize:"1rem",_focus:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:4,py:2},panel:{pt:2,px:4,pb:5}}},i=r(34),a=r.n(i),o=r(46),s=r(7),l=function(e,t,r){var n=Object(o.c)(e,"colors."+t,t);return a()(n).isValid()?n:r},u=function(e){return function(t){var r=l(t,e);return a()(r).isDark()?"dark":"light"}},c=function(e,t){return function(r){var n=l(r,e);return a()(n).setAlpha(t).toRgbString()}};function d(e,t){return void 0===e&&(e="1rem"),void 0===t&&(t="rgba(255, 255, 255, 0.15)"),{backgroundImage:"linear-gradient(\n    45deg,\n    "+t+" 25%,\n    transparent 25%,\n    transparent 50%,\n    "+t+" 50%,\n    "+t+" 75%,\n    transparent 75%,\n    transparent\n  )",backgroundSize:e+" "+e}}function f(e){var t,r=a.a.random().toHexString();return!e||Object(s.c)(e)?r:e.string&&e.colors?function(e,t){var r=0;if(0===e.length)return t[0];for(var n=0;n<e.length;n+=1)r=e.charCodeAt(n)+((r<<5)-r),r&=r;return r=(r%t.length+t.length)%t.length,t[r]}(e.string,e.colors):e.string&&!e.colors?function(e){var t=0;if(0===e.length)return t.toString();for(var r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t&=t;for(var n="#",i=0;i<3;i+=1){n+=("00"+(t>>8*i&255).toString(16)).substr(-2)}return n}(e.string):e.colors&&!e.string?(t=e.colors)[Math.floor(Math.random()*t.length)]:r}function p(e,t){return function(r){return"dark"===r.colorMode?t:e}}function h(e){var t=e.orientation,r=e.vertical,n=e.horizontal;return t?"vertical"===t?r:n:{}}function g(e){var t=e.theme,r=e.colorScheme;return p(l(t,r+".100",r),c(r+".200",.16)(t))(e)}var m={parts:["container","title","icon"],baseStyle:{container:{px:4,py:3},title:{fontWeight:"bold",lineHeight:6,mr:2},description:{lineHeight:6},icon:{mr:3,w:5,h:6}},variants:{subtle:function(e){var t=e.colorScheme;return{container:{bg:g(e)},icon:{color:p(t+".500",t+".200")(e)}}},"left-accent":function(e){var t=e.colorScheme;return{container:{pl:3,borderLeft:"4px solid",borderColor:p(t+".500",t+".200")(e),bg:g(e)},icon:{color:p(t+".500",t+".200")(e)}}},"top-accent":function(e){var t=e.colorScheme;return{container:{pt:2,borderTop:"4px solid",borderColor:p(t+".500",t+".200")(e),bg:g(e)},icon:{color:p(t+".500",t+".200")(e)}}},solid:function(e){var t=e.colorScheme;return{container:{bg:p(t+".500",t+".200")(e),color:p("white","gray.900")(e)}}}},defaultProps:{variant:"subtle"}},v={px:"1px",0:"0",1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=y({},v,{full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}});function k(e){return{transform:"translate(25%, 25%)",borderRadius:"full",border:"0.2em solid",borderColor:p("white","gray.800")(e)}}function E(e){return{bg:p("gray.200","whiteAlpha.400")(e)}}function _(e){var t=e.name,r=e.theme,n=t?f({string:t}):"gray.400",i=function(e){return function(t){return"dark"===u(e)(t)}}(n)(r),a="white";return i||(a="gray.800"),{bg:n,color:a,borderColor:p("white","gray.800")(e),verticalAlign:"top"}}function S(e){var t=b[e];return{container:{width:e,height:e,fontSize:"calc("+(null!=t?t:e)+" / 2.5)"},excessLabel:{width:e,height:e},label:{fontSize:"calc("+(null!=t?t:e)+" / 2.5)",lineHeight:"100%"!==e?null!=t?t:e:void 0}}}var T={parts:["container","excessLabel","badge","label"],baseStyle:function(e){return{badge:k(e),excessLabel:E(e),container:_(e)}},sizes:{"2xs":S("4"),xs:S("6"),sm:S("8"),md:S("12"),lg:S("16"),xl:S("24"),"2xl":S("32"),full:S("100%")},defaultProps:{size:"md"}};var w={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},variants:{solid:function(e){var t=e.colorScheme,r=e.theme;return{bg:p(t+".500",c(t+".500",.6)(r))(e),color:p("white","whiteAlpha.800")(e)}},subtle:function(e){var t=e.colorScheme,r=e.theme;return{bg:p(t+".100",c(t+".200",.16)(r))(e),color:p(t+".800",t+".200")(e)}},outline:function(e){var t=e.colorScheme,r=e.theme,n=c(t+".200",.8)(r),i=p(l(r,t+".500"),n)(e);return{color:i,boxShadow:"inset 0 0 0px 1px "+i}}},defaultProps:{variant:"subtle",colorScheme:"gray"}},x={parts:["link","separator"],baseStyle:{link:{transition:"all 0.15s ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}}};function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e){var t=e.colorScheme,r=e.theme;if("gray"===t)return{color:p("inherit","whiteAlpha.900")(e),_hover:{bg:p("gray.100","whiteAlpha.200")(e)},_active:{bg:p("gray.200","whiteAlpha.300")(e)}};var n=c(t+".200",.12)(r),i=c(t+".200",.24)(r);return{color:p(t+".600",t+".200")(e),bg:"transparent",_hover:{bg:p(t+".50",n)(e)},_active:{bg:p(t+".100",i)(e)}}}var C={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}};var A={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:P,outline:function(e){var t=e.colorScheme,r=p("gray.200","whiteAlpha.300")(e);return O({border:"1px solid",borderColor:"gray"===t?r:"currentColor"},P(e))},solid:function(e){var t=e.colorScheme;if("gray"===t){var r=p("gray.100","whiteAlpha.200")(e);return{bg:r,_hover:{bg:p("gray.200","whiteAlpha.300")(e),_disabled:{bg:r}},_active:{bg:p("gray.300","whiteAlpha.400")(e)}}}var n=C[t]||{},i=n.bg,a=void 0===i?t+".500":i,o=n.color,s=void 0===o?"white":o,l=n.hoverBg,u=void 0===l?t+".600":l,c=n.activeBg,d=void 0===c?t+".700":c,f=p(a,t+".200")(e);return{bg:f,color:p(s,"gray.800")(e),_hover:{bg:p(u,t+".300")(e),_disabled:{bg:f}},_active:{bg:p(d,t+".400")(e)}}},link:function(e){var t=e.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",color:p(t+".500",t+".200")(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:p(t+".700",t+".500")(e)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:0,p:0}},sizes:{lg:{h:12,minW:12,fontSize:"lg",px:6},md:{h:10,minW:10,fontSize:"md",px:4},sm:{h:8,minW:8,fontSize:"sm",px:3},xs:{h:6,minW:6,fontSize:"xs",px:2}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}};function M(e){var t=e.colorScheme;return{w:"100%",transition:"box-shadow 250ms",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:p(t+".500",t+".200")(e),borderColor:p(t+".500",t+".200")(e),color:p("white","gray.900")(e),_hover:{bg:p(t+".600",t+".300")(e),borderColor:p(t+".600",t+".300")(e)},_disabled:{borderColor:p("gray.200","transparent")(e),bg:p("gray.200","whiteAlpha.300")(e),color:p("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:p(t+".500",t+".200")(e),borderColor:p(t+".500",t+".200")(e),color:p("white","gray.900")(e)},_disabled:{bg:p("gray.100","whiteAlpha.100")(e),borderColor:p("gray.100","transparent")(e)},_focus:{boxShadow:"outline"},_invalid:{borderColor:p("red.500","red.300")(e)}}}var I={userSelect:"none",_disabled:{opacity:.4}},R={parts:["control","label","description","icon"],baseStyle:function(e){return{control:M(e),label:I}},sizes:{sm:{control:{h:3,w:3},label:{fontSize:"sm"},icon:{fontSize:"0.45rem"}},md:{control:{w:4,h:4},label:{fontSize:"md"},icon:{fontSize:"0.625rem"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"},icon:{fontSize:"0.625rem"}}},defaultProps:{size:"md",colorScheme:"blue"}};var D={baseStyle:function(e){return{borderRadius:"md",transition:"all 0.2s",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:p("blackAlpha.100","whiteAlpha.100")(e)},_active:{bg:p("blackAlpha.200","whiteAlpha.200")(e)},_focus:{boxShadow:"outline"}}},sizes:{lg:{w:"40px",h:"40px",fontSize:"16px"},md:{w:"32px",h:"32px",fontSize:"12px"},sm:{w:"24px",h:"24px",fontSize:"10px"}},defaultProps:{size:"md"}},L={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},variants:w.variants,defaultProps:w.defaultProps},j={bg:"blackAlpha.600",zIndex:"modal"};function N(e){return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e.isCentered?"center":"flex-start",overflow:"inside"===e.scrollBehavior?"hidden":"auto"}}function U(e){var t=e.scrollBehavior;return{borderRadius:"md",bg:p("white","gray.700")(e),color:"inherit",my:"3.75rem",zIndex:"modal",maxH:"inside"===t?"calc(100vh - 7.5rem)":void 0,boxShadow:p("lg","dark-lg")(e)}}var B={px:6,py:4,fontSize:"xl",fontWeight:"semibold"};function F(e){return{px:6,py:2,flex:1,overflow:"inside"===e.scrollBehavior?"auto":void 0}}var z={px:6,py:4};function V(e){return"full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}}}var W={parts:["overlay","dialogContainer","dialog","header","body","footer"],baseStyle:function(e){return{overlay:j,dialogContainer:N(e),dialog:U(e),header:B,body:F(e),footer:z}},sizes:{xs:V("xs"),sm:V("sm"),md:V("md"),lg:V("lg"),xl:V("xl"),"2xl":V("2xl"),"3xl":V("3xl"),"4xl":V("4xl"),"5xl":V("5xl"),"6xl":V("6xl"),full:V("full")},defaultProps:{size:"md"}};function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function H(e){return"full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}}}var K={bg:"blackAlpha.600",zIndex:"overlay"},G={display:"flex",zIndex:"modal",justifyContent:"center"};function Z(e){return $({},e.isFullHeight&&{height:"100vh"},{zIndex:"modal",maxH:"100vh",bg:p("white","gray.700")(e),color:"inherit",boxShadow:p("lg","dark-lg")(e)})}var q={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},X={px:6,py:2,flex:1,overflow:"auto"},Y={px:6,py:4},Q={parts:W.parts,baseStyle:function(e){return{overlay:K,dialogContainer:G,dialog:Z(e),header:q,body:X,footer:Y}},sizes:{xs:H("xs"),sm:H("md"),md:H("lg"),lg:H("2xl"),xl:H("4xl"),full:H("full")},defaultProps:{size:"xs"}},J={parts:["preview","input"],baseStyle:{preview:{borderRadius:"md",py:"3px",transition:"all 0.2s"},input:{borderRadius:"md",py:"3px",transition:"all 0.2s",width:"full",_focus:{boxShadow:"outline"},_placeholder:{opacity:.6}}}};function ee(e){return{ml:1,color:p("red.500","red.300")(e)}}function te(e){return{mt:2,color:p("gray.500","whiteAlpha.600")(e),lineHeight:"normal",fontSize:"sm"}}var re={parts:["requiredIndicator","helperText"],baseStyle:function(e){return{requiredIndicator:ee(e),helperText:te(e)}}},ne={baseStyle:{fontSize:"md",mr:3,mb:2,fontWeight:"medium",transition:"all 0.2s",opacity:1,_disabled:{opacity:.4}}},ie={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:["2.5rem",null,"1"]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:["2.25rem",null,"2.5rem"]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:["2rem",null,"2.25rem"]},md:{fontSize:"xl",lineHeight:"1.75rem"},sm:{fontSize:"md",lineHeight:"1.5rem"},xs:{fontSize:"sm",lineHeight:"1.25rem"}},defaultProps:{size:"xl"}},ae={lg:{fontSize:"lg",pl:4,pr:4,h:12,borderRadius:"md"},md:{fontSize:"md",pl:4,pr:4,h:10,borderRadius:"md"},sm:{fontSize:"sm",pl:3,pr:3,h:8,borderRadius:"sm"}};function oe(e){var t=e.focusBorderColor,r=e.errorBorderColor;return{focusBorderColor:t||p("blue.500","blue.300")(e),errorBorderColor:r||p("red.500","red.300")(e)}}var se={parts:["field","addon"],baseStyle:{field:{width:"100%",outline:0,position:"relative",appearance:"none",transition:"all 0.2s"}},sizes:{lg:{field:ae.lg,addon:ae.lg},md:{field:ae.md,addon:ae.md},sm:{field:ae.sm,addon:ae.sm}},variants:{outline:function(e){var t=e.theme,r=oe(e),n=r.focusBorderColor,i=r.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:p("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_focus:{zIndex:1,borderColor:l(t,n),boxShadow:"0 0 0 1px "+l(t,n)},_invalid:{borderColor:l(t,i),boxShadow:"0 0 0 1px "+l(t,i)}},addon:{border:"1px solid",borderColor:p("inherit","whiteAlpha.50")(e),bg:p("gray.100","whiteAlpha.300")(e)}}},filled:function(e){var t=e.theme,r=oe(e),n=r.focusBorderColor,i=r.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:p("gray.100","whiteAlpha.50")(e),_hover:{bg:p("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_focus:{bg:"transparent",borderColor:l(t,n)},_invalid:{borderColor:l(t,i)}},addon:{border:"2px solid",borderColor:"transparent",bg:p("gray.100","whiteAlpha.50")(e)}}},flushed:function(e){var t=e.theme,r=oe(e),n=r.focusBorderColor,i=r.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:0,pl:0,pr:0,bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_focus:{borderColor:l(t,n),boxShadow:"0px 1px 0px 0px "+l(t,n)},_invalid:{borderColor:l(t,i)}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:0,paddingX:0,bg:"transparent"}}},unstyled:{field:{bg:"transparent",pl:0,pr:0,height:"auto"},addon:{bg:"transparent",pl:0,pr:0,height:"auto"}}},defaultProps:{size:"md",variant:"outline"}};var le={baseStyle:function(e){return{bg:p("gray.100","whiteAlpha")(e),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}}},ue={baseStyle:{transition:"all 0.15s ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}};function ce(e){return{bg:p("#fff","gray.700")(e),boxShadow:p("sm","dark-lg")(e),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}}function de(e){return{py:"0.4rem",px:"0.8rem",transition:"background 50ms ease-in 0s",_focus:{bg:p("gray.100","whiteAlpha.100")(e)},_active:{bg:p("gray.200","whiteAlpha.200")(e)},_expanded:{bg:p("gray.100","whiteAlpha.100")(e)},_disabled:{opacity:.4,cursor:"not-allowed"}}}var fe,pe={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},he={opacity:.6},ge={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"0.5rem",opacity:.6},me={parts:["item","command","list","button","groupTitle","divider"],baseStyle:function(e){return{list:ce(e),item:de(e),groupTitle:pe,command:he,divider:ge}}},ve=se.variants,ye=se.defaultProps,be=null==(fe=se.baseStyle)?void 0:fe.field,ke={width:"24px"};function Ee(e){return{borderLeft:"1px solid",borderColor:p("inherit","whiteAlpha.300")(e),color:p("inherit","whiteAlpha.800")(e),_active:{bg:p("gray.200","whiteAlpha.300")(e)},_disabled:{opacity:.4,cursor:"not-allowed"}}}function _e(e){var t,r=null==(t=se.sizes)?void 0:t[e],n={lg:"md",md:"md",sm:"sm"};return{field:null==r?void 0:r.field,stepper:{fontSize:"lg"===e?"14px":"10px",_first:{borderTopRightRadius:n[e]},_last:{borderBottomRightRadius:n[e],mt:"-1px",borderTopWidth:1}}}}var Se={parts:["field","stepper","stepperGroup"],baseStyle:function(e){return{field:be,stepperGroup:ke,stepper:Ee(e)}},sizes:{sm:_e("sm"),md:_e("md"),lg:_e("lg")},variants:ve,defaultProps:ye};function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var we={baseStyle:Te({},se.baseStyle.field,{textAlign:"center"}),sizes:{lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"}},variants:{outline:function(e){return se.variants.outline(e).field},flushed:function(e){return se.variants.flushed(e).field},filled:function(e){return se.variants.filled(e).field},unstyled:se.variants.unstyled.field},defaultProps:se.defaultProps},xe={w:"100%",maxW:"xs",zIndex:10};function Oe(e){return{bg:p("white","gray.700")(e),border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focus:{outline:0,boxShadow:"outline"}}}function Pe(e){return{bg:p("white","gray.700")(e)}}var Ce={px:3,py:2,borderBottomWidth:"1px"},Ae={px:3,py:2},Me={px:3,py:2,borderTopWidth:"1px"},Ie={parts:["popper","content","header","body","footer","arrow"],baseStyle:function(e){return{popper:xe,content:Oe(e),header:Ce,body:Ae,footer:Me,arrow:Pe(e)}}};function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var De={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"};function Le(e){return{bg:p("gray.100","whiteAlpha.300")(e)}}function je(e){return Re({transition:"all 0.3s"},function(e){var t=e.colorScheme,r=e.theme,n=e.isIndeterminate,i=e.hasStripe,a=p(d(),d("1rem","rgba(0,0,0,0.1)"))(e),o=p(t+".500",t+".200")(e),s="linear-gradient(\n    to right,\n    transparent 0%,\n    "+l(r,o)+" 50%,\n    transparent 100%\n  )";return Re({},!n&&i&&a,n?{bgImage:s}:{bgColor:o})}(e))}var Ne={parts:["track","filledTrack","panel"],sizes:{xs:{track:{h:"0.25rem"}},sm:{track:{h:"0.5rem"}},md:{track:{h:"0.75rem"}},lg:{track:{h:"1rem"}}},baseStyle:function(e){return{label:De,filledTrack:je(e),track:Le(e)}},defaultProps:{size:"md",colorScheme:"blue"}};function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Be(e){var t=R.baseStyle(e).control;return Ue({},t,{borderRadius:"full",_checked:Ue({},t._checked,{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})}var Fe={parts:["control","label"],baseStyle:function(e){return{label:R.baseStyle(e).label,control:Be(e)}},sizes:{md:{control:{w:4,h:4},label:{fontSize:"md"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"}},sm:{control:{width:3,height:3},label:{fontSize:"sm"}}},defaultProps:{size:"md",colorScheme:"blue"}};function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ve=se.sizes,We=se.defaultProps,$e=se.variants;function He(e){return ze({},se.baseStyle.field,{appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option":{bg:p("white","gray.700")(e)}})}var Ke={color:"currentColor",fontSize:"1.25rem",_disabled:{opacity:.5}},Ge={parts:["field","icon"],baseStyle:function(e){return{field:He(e),icon:Ke}},sizes:Ve,variants:$e,defaultProps:We},Ze=r(36),qe=function(e,t){return Object(Ze.d)({from:{borderColor:e,background:e},to:{borderColor:t,background:t}})},Xe={baseStyle:function(e){var t=p("gray.100","gray.800")(e),r=p("gray.400","gray.600")(e),n=e.startColor,i=void 0===n?t:n,a=e.endColor,o=void 0===a?r:a,s=e.speed,u=e.theme,c=l(u,i),d=l(u,o);return{opacity:.7,borderRadius:"2px",borderColor:c,background:d,animation:s+"s linear infinite alternate "+qe(c,d)}}},Ye={baseStyle:function(e){return{borderRadius:"md",fontWeight:"semibold",_focus:{boxShadow:"outline",padding:"1rem",position:"fixed",top:"1.5rem",left:"1.5rem",bg:p("white","gray.700")(e)}}}};function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Je=function(e){return Qe({_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},h({orientation:e.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}}))};function et(e){return{borderRadius:"sm",bg:p("gray.200","whiteAlpha.200")(e),_disabled:{bg:p("gray.300","whiteAlpha.300")(e)}}}function tt(e){return Qe({zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transition:"transform 0.2s",_focus:{boxShadow:"outline"},_disabled:{bg:"gray.300"}},function(e){return h({orientation:e.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})}(e))}function rt(e){var t=e.colorScheme;return{bg:p(t+".500",t+".200")(e)}}var nt={parts:["container","thumb","track","filledTrack"],sizes:{lg:function(e){return{thumb:{w:"16px",h:"16px"},track:h({orientation:e.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},md:function(e){return{thumb:{w:"14px",h:"14px"},track:h({orientation:e.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},sm:function(e){return{thumb:{w:"10px",h:"10px"},track:h({orientation:e.orientation,horizontal:{h:"2px"},vertical:{w:"2px"}})}}},baseStyle:function(e){return{container:Je(e),track:et(e),thumb:tt(e),filledTrack:rt(e)}},defaultProps:{size:"md",colorScheme:"blue"}},it={sizes:{xs:{w:"0.75rem",h:"0.75rem"},sm:{w:"1rem",h:"1rem"},md:{w:"1.5rem",h:"1.5rem"},lg:{w:"2rem",h:"2rem"},xl:{w:"3rem",h:"3rem"}},defaultProps:{size:"md"}},at={parts:["label","number","icon","helpText"],baseStyle:{label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:2},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{mr:1,w:"14px",h:"14px",verticalAlign:"middle"}},sizes:{md:{label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}}},defaultProps:{size:"md"}};function ot(e){var t=e.colorScheme;return{borderRadius:"full",p:"2px",transition:"all 120ms",bg:p("gray.300","whiteAlpha.400")(e),_focus:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{bg:p(t+".500",t+".200")(e)}}}var st={bg:"white",transition:"transform 250ms",borderRadius:"full",transform:"translateX(0)"},lt={parts:["track","thumb"],baseStyle:function(e){return{track:ot(e),thumb:st}},sizes:{sm:{track:{w:"1.375rem",h:"0.75rem"},thumb:{w:"0.75rem",h:"0.75rem",_checked:{transform:"translateX(0.625rem)"}}},md:{track:{w:"1.875rem",h:"1rem"},thumb:{w:"1rem",h:"1rem",_checked:{transform:"translateX(0.875rem)"}}},lg:{track:{w:"2.875rem",h:"1.5rem"},thumb:{w:"1.5rem",h:"1.5rem",_checked:{transform:"translateX(1.375rem)"}}}},defaultProps:{size:"md",colorScheme:"blue"}},ut=r(14);function ct(e){return{flex:e.isFitted?1:void 0,transition:"all 0.2s",_focus:{zIndex:1,boxShadow:"outline"}}}function dt(e){var t=e.align,r=void 0===t?"start":t,n=e.orientation;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[r],flexDirection:"vertical"===n?"column":"row"}}var ft={p:4};var pt={parts:["tablist","tab","tabpanel","indicator"],baseStyle:function(e){return{tab:ct(e),tablist:dt(e),tabpanel:ft}},sizes:{sm:{tab:{py:"0.25rem",px:"1rem",fontSize:"0.85rem"}},md:{tab:{fontSize:"1rem",py:"0.5rem",px:"1rem"}},lg:{tab:{fontSize:"1.15rem",py:"0.75rem",px:"1rem"}}},variants:{line:function(e){var t,r,n=e.colorScheme,i="vertical"===e.orientation?"borderLeft":"borderBottom";return{tablist:(t={},Object(ut.a)(t,i,"2px solid"),Object(ut.a)(t,"borderColor","inherit"),t),tab:(r={},Object(ut.a)(r,i,"2px solid"),Object(ut.a)(r,"borderColor","transparent"),Object(ut.a)(r,"mb","-2px"),Object(ut.a)(r,"_selected",{color:p(n+".600",n+".300")(e),borderColor:"currentColor"}),Object(ut.a)(r,"_active",{bg:p("gray.200","whiteAlpha.300")(e)}),Object(ut.a)(r,"_disabled",{opacity:.4,cursor:"not-allowed"}),r)}},enclosed:function(e){var t=e.colorScheme;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:p(t+".600",t+".300")(e),borderColor:"inherit",borderBottomColor:p("white","gray.800")(e)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"enclosed-colored":function(e){var t=e.colorScheme;return{tab:{border:"1px solid",borderColor:"inherit",bg:p("gray.50","whiteAlpha.50")(e),mb:"-1px",_notLast:{mr:"-1px"},_selected:{bg:p("#fff","gray.800")(e),color:p(t+".600",t+".300")(e),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"soft-rounded":function(e){var t=e.colorScheme,r=e.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:l(r,t+".700"),bg:l(r,t+".100")}}}},"solid-rounded":function(e){var t=e.colorScheme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:p("gray.600","inherit")(e),_selected:{color:p("#fff","gray.800")(e),bg:p(t+".600",t+".300")(e)}}}},unstyled:{}},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}},ht={parts:["container","label","closeButton"],variants:{subtle:function(e){return{container:w.variants.subtle(e)}},solid:function(e){return{container:w.variants.solid(e)}},outline:function(e){return{container:w.variants.outline(e)}}},baseStyle:{container:{fontWeight:"medium",lineHeight:1.2,outline:0,_focus:{boxShadow:"outline"}},label:{lineHeight:1.2},closeButton:{fontSize:"18px",w:"1.25rem",h:"1.25rem",borderRadius:"full",ml:"0.375rem",mr:"-1",opacity:.5,_disabled:{opacity:.4},_focus:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}},sizes:{sm:{container:{minH:"1.25rem",minW:"1.25rem",fontSize:"xs",px:2,borderRadius:"md"},closeButton:{mr:"-2px",ml:"0.35rem"}},md:{container:{minH:"1.5rem",minW:"1.5rem",fontSize:"sm",borderRadius:"md",px:2}},lg:{container:{minH:8,minW:8,fontSize:"md",borderRadius:"md",px:3}}},defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}};function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var mt=gt({},se.baseStyle.field,{paddingY:"8px",minHeight:"80px",lineHeight:"short"}),vt={outline:function(e){return se.variants.outline(e).field},flushed:function(e){return se.variants.flushed(e).field},filled:function(e){return se.variants.filled(e).field},unstyled:se.variants.unstyled.field},yt={sm:se.sizes.sm.field,md:se.sizes.md.field,lg:se.sizes.lg.field};function bt(e){return{color:p("red.500","red.300")(e),mt:2,fontSize:"sm"}}function kt(e){return{mr:"0.5em",color:p("red.500","red.300")(e)}}var Et={Accordion:n,Alert:m,Avatar:T,Badge:w,Breadcrumb:x,Button:A,Checkbox:R,CloseButton:D,Code:L,Drawer:Q,Editable:J,Form:re,FormLabel:ne,Heading:ie,Input:se,Kbd:le,Link:ue,Menu:me,Modal:W,NumberInput:Se,PinInput:we,Popover:Ie,Progress:Ne,Radio:Fe,Select:Ge,Skeleton:Xe,SkipLink:Ye,Slider:nt,Spinner:it,Stat:at,Switch:lt,Tabs:pt,Tag:ht,Textarea:{baseStyle:mt,sizes:yt,variants:vt,defaultProps:{size:"md",variant:"outline"}},Tooltip:{baseStyle:function(e){return{px:"8px",py:"2px",bg:p("gray.700","gray.300")(e),color:p("whiteAlpha.900","gray.900")(e),borderRadius:"sm",fontWeight:"medium",pointerEvents:"none",fontSize:"sm",boxShadow:"md",maxW:"320px",zIndex:"tooltip"}}},FormError:{parts:["text","icon"],baseStyle:function(e){return{text:bt(e),icon:kt(e)}}}},_t={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"};function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var xt=wt({},Tt({breakpoints:function(e){var t=Object(o.b)(Object.entries(St({base:"0em"},e)).sort((function(e,t){return parseInt(e[1],10)>parseInt(t[1],10)?1:-1})));return Object.assign(Object.values(t),t)}({sm:"30em",md:"48em",lg:"62em",xl:"80em"}),zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},radii:{none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},colors:{transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#E2F7F4",100:"#C3F0E9",200:"#A0E7DC",300:"#76DCCD",400:"#43CFBA",500:"#00BFA5",600:"#00AC92",700:"#009780",800:"#007D6A",900:"#005A4C"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}}},{letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{sizes:b,shadows:{xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},space:v,borders:_t,transition:{property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}}}),{components:Et,styles:{global:function(e){return{body:{fontFamily:"body",color:p("gray.800","whiteAlpha.900")(e),bg:p("white","gray.800")(e),transition:"background-color 0.2s",lineHeight:"base"},"*::placeholder":{color:p("gray.400","whiteAlpha.400")(e)},"*, *::before, &::after":{borderColor:p("gray.200","whiteAlpha.300")(e),wordWrap:"break-word"}}}},config:{useSystemColorMode:!1,initialColorMode:"light"}});t.a=xt},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){var n=r(231),i=r(232),a=r(135),o=r(233);e.exports=function(e){return n(e)||i(e)||a(e)||o()}},function(e,t,r){"use strict";var n=r(42),i=r(11),a=r(15),o=r(17),s=r(12),l=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=r(9);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return e.slider},h=function(e){return e.sliderDragging||e.slider},g=function(e){return e.sliderTrack},m=function(e){return e.sliderHandle};function v(e,t){var r=e/t;return t===1/0||e===1/0||0===t||isNaN(r)||0===r?"0%":"".concat((100*Math.min(1,r)).toFixed(3),"%")}var y=["Left","ArrowLeft","Down","ArrowDown"],b=["Right","ArrowRight","Up","ArrowUp"],k=y.concat(b),E=function(e){s(r,e);var t=l(r);function r(e){var n;return i(this,r),n=t.call(this,e),f(o(n),"renderedHandle",void 0),f(o(n),"renderedTrack",void 0),f(o(n),"isTouchSupported",void 0),f(o(n),"updateValueFromCoordinates",(function(e,t){if(n.renderedTrack){var r=(0,c.getBoundingEventCoordinates)(e,n.renderedTrack);if(n.props.isVertical){var i=(r.height-r.y)/r.height;n.updateValue(i,t)}else{var a=r.x/r.width;n.updateValue(a,t)}}})),f(o(n),"updateValue",(function(e,t){var r=t.isDragging,i=t.isEnded,a=t.isPreviewing,o=e*n.props.maxValue;a?n.setState({previewValue:o}):(n.state.isDragging&&(n.setState({dragValue:o,previewValue:o}),n.props.onDrag&&n.props.onDrag(o)),n.props.onValueChange&&(i||!n.state.isDragging&&!r)&&n.props.onValueChange(o))})),f(o(n),"handleHandleOrTrackClick",(function(e){n.updateValueFromCoordinates(e,{})})),f(o(n),"handleHandleStartDrag",(function(e){"touchstart"!==e.type&&e.stopPropagation(),n.state.isDragging||(setTimeout((function(){return n.setState({wasClicked:!1})}),1e3),n.setState({isDragging:!0,wasClicked:!0}),n.updateValueFromCoordinates(e,{isDragging:!0}),n.isTouchSupported?(document.addEventListener("touchmove",n.handleHandleDrag),document.addEventListener("touchend",n.handleHandleEndDrag),document.addEventListener("touchcancel",n.handleHandleEndDrag)):(document.addEventListener("mousemove",n.handleHandleDrag),document.addEventListener("mouseup",n.handleHandleEndDrag),document.addEventListener("mouseleave",n.handleHandleEndDrag)))})),f(o(n),"handleHandleDrag",(function(e){n.state.isDragging?n.updateValueFromCoordinates(e,{}):n.updateValueFromCoordinates(e,{isPreviewing:!0})})),f(o(n),"handleHandleEndDrag",(function(e){n.state.isDragging&&n.updateValueFromCoordinates(e,{isDragging:!0,isEnded:!0}),n.isTouchSupported?(document.removeEventListener("touchmove",n.handleHandleDrag),document.removeEventListener("touchend",n.handleHandleEndDrag),document.removeEventListener("touchcancel",n.handleHandleEndDrag)):(document.removeEventListener("mousemove",n.handleHandleDrag),document.removeEventListener("mouseup",n.handleHandleEndDrag),document.removeEventListener("mouseleave",n.handleHandleEndDrag)),n.setState({isDragging:!1})})),f(o(n),"handleMouseEnter",(function(){n.setState({isPointerInside:!0})})),f(o(n),"handleMouseLeave",(function(){n.setState({isPointerInside:!1})})),f(o(n),"handleKeyDown",(0,c.getKeyboardShortcutBlocker)(k)),f(o(n),"handleKeyUp",(function(e){if(!isNaN(n.props.value)&&!isNaN(n.props.maxValue)){var t=n.props.value/n.props.maxValue;y.indexOf(e.key)>=0&&n.updateValue(Math.max(0,t-.025),{}),b.indexOf(e.key)>=0&&n.updateValue(Math.min(1,t+.025),{})}})),f(o(n),"setRenderedHandle",(function(e){n.renderedHandle=e})),f(o(n),"setRenderedTrack",(function(e){n.renderedTrack=e})),n.isTouchSupported="ontouchend"in window,n.state={},n}return a(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.handleContent,i=e.trackContent,a=e.classNamePrefix,o=e.className,s=e.classes,l=e.handleClassName,d=e.trackClassName,f=e.label,y=e.isVertical,b=e.value,k=e.maxValue,E=e.isUpdateBlocked,_=this.state,S=_.dragValue,T=_.previewValue,w=_.isDragging,x=_.isPointerInside,O=_.wasClicked,P=(w||E)&&null!=S?S:b,C=w?h:p,A=(0,c.hydrateClassNames)({classes:s,selectClasses:C,classNamePrefix:a,classNames:["slider",o,w?"dragging":null,O?"clicked":null]}),M=(0,c.hydrateClassNames)({classes:s,selectClasses:m,classNamePrefix:a,classNames:["slider-handle",l]}),I=(0,c.hydrateClassNames)({classes:s,selectClasses:g,classNamePrefix:a,classNames:["slider-track",d]});return u.createElement("div",{onClick:this.handleHandleOrTrackClick,onMouseDown:this.handleHandleStartDrag,onTouchStart:this.handleHandleStartDrag,onTouchMove:this.handleHandleDrag,onTouchEnd:this.handleHandleEndDrag,onMouseUp:this.handleHandleEndDrag,onMouseMove:this.handleHandleDrag,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,title:f,role:"slider","aria-valuemin":0,"aria-valuemax":k,"aria-valuenow":b,className:A,tabIndex:0},u.createElement("div",{className:I,ref:this.setRenderedTrack},i),u.Children.map(t,(function(e){return u.cloneElement(e,{previewValue:T,isDragging:w,isPointerInside:x})})),u.createElement("div",{className:M,style:n({},y?"bottom":"left",v(P,k)),role:"button",tabIndex:-1,ref:this.setRenderedHandle},r))}}]),r}(u.Component);f(E,"defaultProps",{value:0,maxValue:1});var _=E;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(35),i={3016:function(e){return e.data&&e.data[0]&&3===e.data[0]?{classification:"STREAM_ERROR_DECODE"}:{classification:"STREAM_ERROR"}},4012:{classification:"STREAM_ERROR"},6001:{classification:"STREAM_ERROR_DRM_CLIENT_UNAVAILABLE"},6002:{classification:"STREAM_ERROR_DRM_CLIENT_UNAVAILABLE"},6003:{classification:"STREAM_ERROR"},6007:{classification:"STREAM_ERROR_DOWNLOAD"},6008:{classification:"STREAM_ERROR_DOWNLOAD"},6013:{classification:"STREAM_ERROR"},7e3:{classification:""},1:{classification:"STREAM_ERROR_DOWNLOAD"},2:{classification:"STREAM_ERROR_DECODE"},3:{classification:"STREAM_ERROR_DECODE"},4:{classification:"STREAM_ERROR_DECODE"},5:{classification:"STREAM_ERROR_DECODE"},6:{classification:"STREAM_ERROR_DECODE"}},a={classification:"STREAM_ERROR"};function o(e,t){return Object.keys(t).filter((function(r){return t[r]===parseInt(e,10)}))[0]}function s(e,t){if(1001===t.code&&t.data){if(t.data[0]&&/\.ttml|\.vtt|\.srt|subtitle/.test(t.data[0]))return"WARNING";if(502===t.data[1])return"FATAL"}return 4012===t.code||e&&t.code<2e3||2===t.category?"WARNING":"FATAL"}var l=function(e,t,r,l,u){if(r instanceof n.PlaybackError)return r;var c=function(e){if(e.code){var t=i[e.code]||i[Math.floor(e.code/1e3)];return"function"===typeof t?t(e)||a:t||a}return a}(r).classification;if((r.message||"").indexOf("MediaSource")>=0)return new n.PlaybackError("STREAM_ERROR_TECHNOLOGY_UNSUPPORTED","shaka","This browser does not support playing MPEG-DASH streams with Shaka Player.","FATAL",r);if(c){if("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE"===c&&function(e,t){return t&&"http:"===t.protocol&&0!==t.hostname.indexOf("localhost")&&e&&e.indexOf("Edge")<0&&e.indexOf("Chrome")>0}(l,u)){return new n.PlaybackError("STREAM_ERROR","shaka","DRM playback is blocked in Chrome. Likely reason: This page is not served with HTTPS.",s(t,r),r)}return new n.PlaybackError(c,"shaka",function(e,t,r){if(1001===t.code&&null!=t.data[1])return"Shaka request failed with status "+t.data[1]+" for URL "+t.data[0];if(1002===t.code)return"Shaka request could not be performed for URL "+t.data[0];if(1003===t.code)return"Shaka request timed out for URL "+t.data[0];if(t.message)return t.message;if("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE"===r)return"Playback of protected content appears to be disabled in the browser.";if("STREAM_ERROR_DRM_OUTPUT_BLOCKED"===r)return"Playback of protected content appears to be disallowed, perhaps due to a non-secure or HDCP-less screen being connected.";var n=o(t.code,e.util.Error.Code),i="Shaka error "+o(t.category,e.util.Error.Category)+"/"+n+" reported";return t.data[0]?t.data[0].message?i+": "+t.data[0].message:i+". See the sourceError property for more details.":i+" with no further details."}(e,r,c),s(t,r),r)}return new n.PlaybackError("STREAM_ERROR","shaka","Unknown error reported from Shaka Player.","WARNING",r)};t.default=l},function(e,t,r){"use strict";var n,i,a,o=r(30),s=r(282);(i=function(){var e,t,r=0;i.prototype.init.call(this),this.push=function(n){var i;t?((i=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),i.set(n.data,t.byteLength),t=i):t=n.data;for(var a=t.byteLength;r<a-3;r++)if(1===t[r+2]){e=r+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}r+3!==e-2&&this.trigger("data",t.subarray(r+3,e-2));do{e++}while(1!==t[e]&&e<a);r=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(r+3,e-2)),r=e-2,e+=3;break;default:e+=3}t=t.subarray(r),e-=r,r=0},this.reset=function(){t=null,r=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(r+3)),t=null,r=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(n=function(){var e,t,r,o,l,u,c,d=new i;n.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,r=e.pts,o=e.dts,d.push(e))},d.on("data",(function(n){var i={trackId:t,pts:r,dts:o,data:n};switch(31&n[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=l(n.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=l(n.subarray(1)),i.config=u(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",i)})),d.on("done",(function(){e.trigger("done")})),d.on("partialdone",(function(){e.trigger("partialdone")})),d.on("reset",(function(){e.trigger("reset")})),d.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){d.flush()},this.partialFlush=function(){d.partialFlush()},this.reset=function(){d.reset()},this.endTimeline=function(){d.endTimeline()},c=function(e,t){var r,n=8,i=8;for(r=0;r<e;r++)0!==i&&(i=(n+t.readExpGolomb()+256)%256),n=0===i?n:i},l=function(e){for(var t,r,n=e.byteLength,i=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r},u=function(e){var t,r,n,i,o,l,u,d,f,p,h,g,m,v=0,y=0,b=0,k=0,E=1;if(r=(t=new s(e)).readUnsignedByte(),i=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),a[r]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==o?8:12,m=0;m<h;m++)t.readBoolean()&&c(m<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(l=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),m=0;m<u;m++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),d=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),0===(p=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),k=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}g&&(E=g[0]/g[1])}return{profileIdc:r,levelIdc:n,profileCompatibility:i,width:Math.ceil((16*(d+1)-2*v-2*y)*E),height:(2-p)*(f+1)*16-2*b-2*k,sarRatio:g}}}).prototype=new o,e.exports={H264Stream:n,NalByteStream:i}},function(e,t,r){var n=r(87).toUnsigned,i=r(101);e.exports=function e(t,r){var a,o,s,l,u,c=[];if(!r.length)return null;for(a=0;a<t.byteLength;)o=n(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]),s=i(t.subarray(a+4,a+8)),l=o>1?a+o:t.byteLength,s===r[0]&&(1===r.length?c.push(t.subarray(a+8,l)):(u=e(t.subarray(a+8,l),r.slice(1))).length&&(c=c.concat(u))),a=l;return c}},function(e,t){e.exports=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])}},function(e,t){e.exports=function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:r.getUint32(4)},i=1&n.flags[2],a=2&n.flags[2],o=8&n.flags[2],s=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],c=131072&n.flags[0];return t=8,i&&(t+=4,n.baseDataOffset=r.getUint32(12),t+=4),a&&(n.sampleDescriptionIndex=r.getUint32(t),t+=4),o&&(n.defaultSampleDuration=r.getUint32(t),t+=4),s&&(n.defaultSampleSize=r.getUint32(t),t+=4),l&&(n.defaultSampleFlags=r.getUint32(t)),u&&(n.durationIsEmpty=!0),!i&&c&&(n.baseDataOffsetIsMoof=!0),n}},function(e,t,r){var n=r(285);e.exports=function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),a=1&r.flags[2],o=4&r.flags[2],s=1&r.flags[1],l=2&r.flags[1],u=4&r.flags[1],c=8&r.flags[1],d=i.getUint32(4),f=8;for(a&&(r.dataOffset=i.getInt32(f),f+=4),o&&d&&(t={flags:n(e.subarray(f,f+4))},f+=4,s&&(t.duration=i.getUint32(f),f+=4),l&&(t.size=i.getUint32(f),f+=4),c&&(1===r.version?t.compositionTimeOffset=i.getInt32(f):t.compositionTimeOffset=i.getUint32(f),f+=4),r.samples.push(t),d--);d--;)t={},s&&(t.duration=i.getUint32(f),f+=4),l&&(t.size=i.getUint32(f),f+=4),u&&(t.flags=n(e.subarray(f,f+4)),f+=4),c&&(1===r.version?t.compositionTimeOffset=i.getInt32(f):t.compositionTimeOffset=i.getUint32(f),f+=4),r.samples.push(t);return r}},function(e,t,r){var n=r(87).toUnsigned;e.exports=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:n(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t}},function(e,t,r){"use strict";var n,i,a,o,s=r(30),l=r(86),u=r(167),c=r(168),d=r(88),f=r(89),p=r(51),h=r(85),g=r(99).H264Stream,m=r(172),v=r(91).isLikelyAacData,y=r(51).ONE_SECOND_IN_TS,b=r(173),k=r(174),E=function(e,t){var r;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},_=function(e,t,r,n,i,a){return{start:{dts:e,pts:e+(r-t)},end:{dts:e+(n-t),pts:e+(i-r)},prependedContentDuration:a,baseMediaDecodeTime:e}};(i=function(e,t){var r=[],n=0,a=0,o=0,s=1/0;t=t||{},i.prototype.init.call(this),this.push=function(t){d.collectDtsInfo(e,t),e&&b.forEach((function(r){e[r]=t[r]})),r.push(t)},this.setEarliestDts=function(e){a=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var i,u,f,p,h;0!==r.length?(i=c.trimAdtsFramesByEarliestDts(r,e,a),e.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),c.prefixWithSilence(e,i,o,s),e.samples=c.generateSampleTable(i),f=l.mdat(c.concatenateFrameData(i)),r=[],u=l.moof(n,[e]),p=new Uint8Array(u.byteLength+f.byteLength),n++,p.set(u),p.set(f,u.byteLength),d.clearDtsInfo(e),h=Math.ceil(1024*y/e.samplerate),i.length&&this.trigger("timingInfo",{start:i[0].pts,end:i[0].pts+i.length*h}),this.trigger("data",{track:e,boxes:p}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){d.clearDtsInfo(e),r=[],this.trigger("reset")}}).prototype=new s,(n=function(e,t){var r,i,a=0,o=[],s=[];t=t||{},n.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){d.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.config,e.sps=[t.data],k.forEach((function(t){e[t]=r[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var r,n,i,c,f,p,h,g,m=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=u.groupNalsIntoFrames(o),(i=u.groupFramesIntoGops(r))[0][0].keyFrame||((n=this.getGopForFusion_(o[0],e))?(m=n.duration,i.unshift(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.pts=n.pts,i.dts=n.dts,i.duration+=n.duration):i=u.extendFirstKeyFrame(i)),s.length){var v;if(!(v=t.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");d.clearDtsInfo(e),i=v}d.collectDtsInfo(e,i),e.samples=u.generateSampleTable(i),f=l.mdat(u.concatenateNalData(i)),e.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),h=i[0],g=i[i.length-1],this.trigger("segmentTimingInfo",_(e.baseMediaDecodeTime,h.dts,h.pts,g.dts+g.duration,g.pts+g.duration,m)),this.trigger("timingInfo",{start:i[0].pts,end:i[i.length-1].pts+i[i.length-1].duration}),this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),c=l.moof(a,[e]),p=new Uint8Array(c.byteLength+f.byteLength),a++,p.set(c),p.set(f,c.byteLength),this.trigger("data",{track:e,boxes:p}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){d.clearDtsInfo(e),r=void 0,i=void 0},this.getGopForFusion_=function(t){var r,n,i,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)i=(a=this.gopCache_[o]).gop,e.pps&&E(e.pps[0],a.pps[0])&&e.sps&&E(e.sps[0],a.sps[0])&&(i.dts<e.timelineStartInfo.dts||(r=t.dts-i.dts-i.duration)>=-1e4&&r<=45e3&&(!n||s>r)&&(n=a,s=r));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,r,n,i,a,o,l,u;for(a=e.byteLength,o=e.nalCount,l=e.duration,t=r=0;t<s.length&&r<e.length&&(n=s[t],i=e[r],n.pts!==i.pts);)i.pts>n.pts?t++:(r++,a-=i.byteLength,o-=i.nalCount,l-=i.duration);return 0===r?e:r===e.length?null:((u=e.slice(r)).byteLength=a,u.duration=l,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,r,n,i,a,o,l;for(t=s.length-1,r=e.length-1,a=null,o=!1;t>=0&&r>=0;){if(n=s[t],i=e[r],n.pts===i.pts){o=!0;break}n.pts>i.pts?t--:(t===s.length-1&&(a=r),r--)}if(!o&&null===a)return null;if(0===(l=o?r:a))return e;var u=e.slice(l),c=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){s=e}}).prototype=new s,(o=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!==typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"===typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new s,o.prototype.flush=function(e){var t,r,n,i,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,k.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,b.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=l.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=p.metadataTsToSeconds(t.startPts,s,this.keepOriginalTimestamps),t.endTime=p.metadataTsToSeconds(t.endPts,s,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(r=this.pendingMetadata[i]).cueTime=p.metadataTsToSeconds(r.pts,s,this.keepOriginalTimestamps),o.metadata.push(r);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),i=0;i<o.captions.length;i++)t=o.captions[i],this.trigger("caption",t);for(i=0;i<o.metadata.length;i++)r=o.metadata[i],this.trigger("id3Frame",r)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},o.prototype.setRemux=function(e){this.remuxTracks=e},(a=function(e){var t,r,s=this,l=!0;a.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="aac",n.metadataStream=new f.MetadataStream,n.aacStream=new m,n.audioTimestampRolloverStream=new f.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new f.TimestampRolloverStream("timed-metadata"),n.adtsStream=new h,n.coalesceStream=new o(e,n.metadataStream),n.headOfPipeline=n.aacStream,n.aacStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.aacStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.metadataStream.on("timestamp",(function(e){n.aacStream.setTimestamp(e.timeStamp)})),n.aacStream.on("data",(function(a){"timed-metadata"!==a.type&&"audio"!==a.type||n.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new i(r,e),n.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream),s.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!t}))})),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new f.MetadataStream,a.packetStream=new f.TransportPacketStream,a.parseStream=new f.TransportParseStream,a.elementaryStream=new f.ElementaryStream,a.timestampRolloverStream=new f.TimestampRolloverStream,a.adtsStream=new h,a.h264Stream=new g,a.captionStream=new f.CaptionStream,a.coalesceStream=new o(e,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream).pipe(a.timestampRolloverStream),a.timestampRolloverStream.pipe(a.h264Stream),a.timestampRolloverStream.pipe(a.adtsStream),a.timestampRolloverStream.pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",(function(o){var l;if("metadata"===o.type){for(l=o.tracks.length;l--;)t||"video"!==o.tracks[l].type?r||"audio"!==o.tracks[l].type||((r=o.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=o.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;t&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new n(t,e),a.videoSegmentStream.on("timelineStartInfo",(function(t){r&&!e.keepOriginalTimestamps&&(r.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts-s.baseMediaDecodeTime))})),a.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",(function(e){r&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),a.videoSegmentStream.on("timingInfo",s.trigger.bind(s,"videoTimingInfo")),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),r&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new i(r,e),a.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream)),s.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!t})}})),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("id3Frame",(function(e){e.dispatchType=a.metadataStream.dispatchType,s.trigger("id3Frame",e)})),a.coalesceStream.on("caption",this.trigger.bind(this,"caption")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,d.clearDtsInfo(r),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,d.clearDtsInfo(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var r=this.transmuxPipeline_;e.remux=t,r&&r.coalesceStream&&r.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(l){var t=v(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),l=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,e.exports={Transmuxer:a,VideoSegmentStream:n,AudioSegmentStream:i,AUDIO_PROPERTIES:b,VIDEO_PROPERTIES:k,generateVideoSegmentTimingInfo:_}},function(e,t,r){"use strict";var n;(n=function(e,t){var r,i=0,a=16384,o=function(e,t){var r,n=e.position+t;n<e.bytes.byteLength||((r=new Uint8Array(2*n)).set(e.bytes.subarray(0,e.position),0),e.bytes=r,e.view=new DataView(e.bytes.buffer))},s=n.widthBytes||new Uint8Array("width".length),l=n.heightBytes||new Uint8Array("height".length),u=n.videocodecidBytes||new Uint8Array("videocodecid".length);if(!n.widthBytes){for(r=0;r<"width".length;r++)s[r]="width".charCodeAt(r);for(r=0;r<"height".length;r++)l[r]="height".charCodeAt(r);for(r=0;r<"videocodecid".length;r++)u[r]="videocodecid".charCodeAt(r);n.widthBytes=s,n.heightBytes=l,n.videocodecidBytes=u}switch(this.keyFrame=!1,e){case n.VIDEO_TAG:this.length=16,a*=6;break;case n.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case n.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,r){var n,i=t||0;n=i+(r=r||e.byteLength),o(this,r),this.bytes.set(e.subarray(i,n),this.position),this.position+=r,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,r;this.length===i+4?this.length-=4:i>0&&(t=i+4,r=this.length-t,this.position=i,this.view.setUint32(this.position,r),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+r))),i=0},this.writeMetaDataDouble=function(e,t){var r;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(l,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(u,this.position),this.position+=12;else for(r=0;r<e.length;r++)this.bytes[this.position]=e.charCodeAt(r),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var r;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,r=0;r<e.length;r++)o(this,1),this.bytes[this.position]=e.charCodeAt(r),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,r;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case n.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return r=this.length-11,this.bytes[1]=(16711680&r)>>>16,this.bytes[2]=(65280&r)>>>8,this.bytes[3]=(255&r)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=n.frameTime(this.bytes),this}}).AUDIO_TAG=8,n.VIDEO_TAG=9,n.METADATA_TAG=18,n.isAudioFrame=function(e){return n.AUDIO_TAG===e[0]},n.isVideoFrame=function(e){return n.VIDEO_TAG===e[0]},n.isMetaData=function(e){return n.METADATA_TAG===e[0]},n.isKeyFrame=function(e){return n.isVideoFrame(e)?23===e[11]:!!n.isAudioFrame(e)||!!n.isMetaData(e)},n.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},e.exports=n},function(e,t,r){"use strict";e.exports=r(213)},function(e,t,r){(function(t,r){var n;self,n=function(){return function(){var e={3349:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},5991:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,{Z:function(){return i}})},1788:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(4665);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},4665:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:function(){return n}})},3786:function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{Z:function(){return s}});var i=r(4665);function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,r){return(o=a()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&(0,i.Z)(a,r.prototype),a}).apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,n(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)})(e)}},7757:function(e,t,r){e.exports=r(5666)},3774:function(e,t,r){"use strict";r.d(t,{DQ:function(){return a},JJ:function(){return s},cX:function(){return l},w:function(){return o}});var n=r(1946),i=r(2203).Z?{}:window,a=i.HTMLElement,o=(0,n.Z)(i.VTTCue)?i.TextTrackCue:i.VTTCue,s=(0,n.Z)(i.MediaSource)?(0,n.Z)(i.MozMediaSource)?(0,n.Z)(i.WebKitMediaSource)?i.MSMediaSource:i.WebKitMediaSource:i.MozMediaSource:i.MediaSource,l={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}},3666:function(e,t,r){"use strict";r.d(t,{kD:function(){return s},fq:function(){return a},YM:function(){return o},vU:function(){return l},G6:function(){return d},SB:function(){return f},op:function(){return u},yS:function(){return c}});var n,i=r(2203),a=!i.Z&&!!window.MSInputMethodContext&&!!document.documentMode,o=!i.Z&&("Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent)),s=!i.Z&&-1!==navigator.userAgent.toLowerCase().indexOf("edg/"),l=!i.Z&&-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),u=!i.Z&&/SamsungBrowser/.test(navigator.userAgent),c=!i.Z&&/Tizen/.test(navigator.userAgent),d=!i.Z&&(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>=0||"[object SafariRemoteNotification]"===(null===(n=window.safari)||void 0===n?void 0:n.pushNotification.toString())),f=!i.Z&&"string"===typeof navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},5767:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3887),i=r(3666);function a(e){if(i.vU){for(var t=e.textTracks,r=0;r<t.length;r++)t[r].mode="disabled";if(e.hasChildNodes())for(var a=e.childNodes,o=a.length-1;o>=0;o--)if("track"===a[o].nodeName)try{e.removeChild(a[o])}catch(s){n.Z.warn("Compat: Could not remove text track child from element.")}}e.src="",e.removeAttribute("src")}},6139:function(e,t,r){"use strict";r.d(t,{N:function(){return j},Y:function(){return K}});var n,i=r(3610),a=r(2817),o=r(9917),s=r(3714),l=r(8117),u=r(3666),c=r(2203),d=r(5059),f=r(5991),p=r(9589),h=function(){function e(e,t,r){this._keyType=e,this._mediaKeys=t,this._configuration=r}var t=e.prototype;return t.createMediaKeys=function(){var e=this;return new p.Z((function(t){return t(e._mediaKeys)}))},t.getConfiguration=function(){return this._configuration},(0,f.Z)(e,[{key:"keySystem",get:function(){return this._keyType}}]),e}(),g=r(1788),m=r(6716),v=r(3071),y=r(3505),b=r(1959),k=r(8719);if(!c.Z){var E=window.MSMediaKeys;void 0!==E&&void 0!==E.prototype&&"function"===typeof E.isTypeSupported&&"function"===typeof E.prototype.createSession&&(n=E)}var _,S=function(e){function t(t){var r;return(r=e.call(this)||this).expiration=NaN,r.keyStatuses=new Map,r._mk=t,r._closeSession$=new m.x,r.closed=new p.Z((function(e){r._closeSession$.subscribe(e)})),r.update=function(e){return new p.Z((function(t,n){if(void 0===r._ss)return n("MediaKeySession not set.");try{t(r._ss.update(e,""))}catch(i){n(i)}}))},r}(0,g.Z)(t,e);var r=t.prototype;return r.generateRequest=function(e,t){var r=this;return new p.Z((function(e){r._ss=r._mk.createSession("video/mp4",t),(0,v.T)(k.GJ(r._ss),k.GV(r._ss),k.Xe(r._ss)).pipe((0,y.R)(r._closeSession$)).subscribe((function(e){return r.trigger(e.type,e)})),e()}))},r.close=function(){var e=this;return new p.Z((function(t){null!=e._ss&&(e._ss.close(),e._ss=void 0),e._closeSession$.next(),e._closeSession$.complete(),t()}))},r.load=function(){return p.Z.resolve(!1)},r.remove=function(){return p.Z.resolve()},(0,f.Z)(t,[{key:"sessionId",get:function(){var e,t;return null!==(t=null===(e=this._ss)||void 0===e?void 0:e.sessionId)&&void 0!==t?t:""}}]),t}(b.Z),T=function(){function e(e){if(void 0===n)throw new Error("No MSMediaKeys API.");this._mediaKeys=new n(e)}var t=e.prototype;return t._setVideo=function(e){if(this._videoElement=e,void 0!==this._videoElement.msSetMediaKeys)return this._videoElement.msSetMediaKeys(this._mediaKeys)},t.createSession=function(){if(void 0===this._videoElement||void 0===this._mediaKeys)throw new Error("Video not attached to the MediaKeys");return new S(this._mediaKeys)},t.setServerCertificate=function(){throw new Error("Server certificate is not implemented in your browser")},e}();if(!c.Z){var w=window.MozMediaKeys;void 0!==w&&void 0!==w.prototype&&"function"===typeof w.isTypeSupported&&"function"===typeof w.prototype.createSession&&(_=w)}var x=r(9689),O=r(3635);function P(e){return"function"===typeof e.webkitGenerateKeyRequest}var C=function(e){function t(t,r){var n;return(n=e.call(this)||this)._closeSession$=new m.x,n._vid=t,n._key=r,n.sessionId="",n.closed=new p.Z((function(e){n._closeSession$.subscribe(e)})),n.keyStatuses=new Map,n.expiration=NaN,(0,v.T)(k.GJ(t),k.GV(t),k.Xe(t)).pipe((0,y.R)(n._closeSession$)).subscribe((function(e){return n.trigger(e.type,e)})),n.update=function(e){return new p.Z((function(t,r){try{if(n._key.indexOf("clearkey")>=0){var i=e instanceof ArrayBuffer?new Uint8Array(e):e,a=JSON.parse((0,O.uR)(i)),o=(0,x.K)(a.keys[0].k),s=(0,x.K)(a.keys[0].kid);t(n._vid.webkitAddKey(n._key,o,s,""))}else t(n._vid.webkitAddKey(n._key,e,null,""))}catch(l){r(l)}}))},n}(0,g.Z)(t,e);var r=t.prototype;return r.generateRequest=function(e,t){var r=this;return new p.Z((function(e){r._vid.webkitGenerateKeyRequest(r._key,t),e()}))},r.close=function(){var e=this;return new p.Z((function(t){e._closeSession$.next(),e._closeSession$.complete(),t()}))},r.load=function(){return p.Z.resolve(!1)},r.remove=function(){return p.Z.resolve()},t}(b.Z),A=function(){function e(e){this._keySystem=e}var t=e.prototype;return t._setVideo=function(e){if(!P(e))throw new Error("Video not attached to the MediaKeys");this._videoElement=e},t.createSession=function(){if(null==this._videoElement)throw new Error("Video not attached to the MediaKeys");return new C(this._videoElement,this._keySystem)},t.setServerCertificate=function(){throw new Error("Server certificate is not implemented in your browser")},e}(),M=r(6968),I=r(158);function R(e,t){if(void 0===e.webkitSetMediaKeys)throw new Error("No webKitMediaKeys API.");return e.webkitSetMediaKeys(t)}var D=function(e){function t(t,r,n){var i;return(i=e.call(this)||this)._serverCertificate=n,i._closeSession$=new m.x,i._videoElement=t,i._keyType=r,i.closed=new p.Z((function(e){i._closeSession$.subscribe(e)})),i.keyStatuses=new Map,i.expiration=NaN,i.update=function(e){return new p.Z((function(t,r){if(void 0===i._nativeSession||void 0===i._nativeSession.update||"function"!==typeof i._nativeSession.update)return r("Unavailable WebKit key session.");try{t(i._nativeSession.update(e))}catch(n){r(n)}}))},i}(0,g.Z)(t,e);var r=t.prototype;return r.listenEvent=function(e){var t=this;(0,v.T)(k.GJ(e),k.GV(e),k.Xe(e)).pipe((0,y.R)(this._closeSession$)).subscribe((function(e){t.trigger(e.type,e)}))},r.generateRequest=function(e,t){var r=this;return new p.Z((function(e){if(void 0===r._videoElement.webkitKeys||void 0===r._videoElement.webkitKeys.createSession)throw new Error("No WebKitMediaKeys API.");var n,i;if("com.apple.fps.1_0"===(i=r._keyType)||"com.apple.fps.2_0"===i){if(void 0===r._serverCertificate)throw new Error("A server certificate is needed for creating fairplay session.");n=function(e,t){var r=e instanceof Uint8Array?e:new Uint8Array(e),n=t instanceof Uint8Array?t:new Uint8Array(t);if((0,M.dN)(r,0)+4!==r.length)throw new Error("Unsupported WebKit initData.");var i=(0,O.wV)(r),a=i.indexOf("skd://"),o=a>-1?i.substring(a+6):i,s=(0,O.TZ)(o),l=0,u=new Uint8Array(r.byteLength+4+s.byteLength+4+n.byteLength);return u.set(r),l+=r.length,u.set((0,M.O_)(s.byteLength),l),l+=4,u.set(s,l),l+=s.byteLength,u.set((0,M.O_)(n.byteLength),l),l+=4,u.set(n,l),u}(t,r._serverCertificate)}else n=t;var a=r._videoElement.webkitKeys.createSession("video/mp4",n);if(void 0===a||null===a)throw new Error("Impossible to get the key sessions");r.listenEvent(a),r._nativeSession=a,e()}))},r.close=function(){var e=this;return new p.Z((function(t,r){e._closeSession$.next(),e._closeSession$.complete(),void 0===e._nativeSession&&r("No session to close."),e._nativeSession.close(),t()}))},r.load=function(){return p.Z.resolve(!1)},r.remove=function(){return p.Z.resolve()},(0,f.Z)(t,[{key:"sessionId",get:function(){var e,t;return null!==(t=null===(e=this._nativeSession)||void 0===e?void 0:e.sessionId)&&void 0!==t?t:""}}]),t}(b.Z),L=function(){function e(e){if(void 0===I.t)throw new Error("No WebKitMediaKeys API.");this._keyType=e,this._mediaKeys=new I.t(e)}var t=e.prototype;return t._setVideo=function(e){if(this._videoElement=e,void 0===this._videoElement)throw new Error("Video not attached to the MediaKeys");return R(this._videoElement,this._mediaKeys)},t.createSession=function(){if(void 0===this._videoElement||void 0===this._mediaKeys)throw new Error("Video not attached to the MediaKeys");return new D(this._videoElement,this._keyType,this._serverCertificate)},t.setServerCertificate=function(e){return this._serverCertificate=e,p.Z.resolve()},e}(),j=null,N=function(e,t){return"function"===typeof e.setMediaKeys?e.setMediaKeys(t):e.webkitSetMediaKeys?e.webkitSetMediaKeys(t):e.mozSetMediaKeys?e.mozSetMediaKeys(t):e.msSetMediaKeys&&null!==t?e.msSetMediaKeys(t):void 0};if(c.Z||null!=navigator.requestMediaKeySystemAccess&&!(0,d.Z)())j=function(e,t){return(0,l.Z)(navigator.requestMediaKeySystemAccess(e,t))};else{var U,B;if(P(HTMLVideoElement.prototype)){var F={isTypeSupported:function(e){var t=document.querySelector("video");return null==t&&(t=document.createElement("video")),null!=t&&"function"===typeof t.canPlayType&&!!t.canPlayType("video/mp4",e)},createCustomMediaKeys:function(e){return new A(e)},setMediaKeys:function(e,t){if(null!==t){if(!(t instanceof A))throw new Error("Custom setMediaKeys is supposed to be called with old webkit custom MediaKeys.");return t._setVideo(e)}}};U=F.isTypeSupported,B=F.createCustomMediaKeys,N=F.setMediaKeys}else if(void 0!==I.t){var z=function(){if(void 0===I.t)throw new Error("No WebKitMediaKeys API.");return{isTypeSupported:I.t.isTypeSupported,createCustomMediaKeys:function(e){return new L(e)},setMediaKeys:function(e,t){if(null===t)return R(e,t);if(!(t instanceof L))throw new Error("Custom setMediaKeys is supposed to be called with webkit custom MediaKeys.");return t._setVideo(e)}}}();U=z.isTypeSupported,B=z.createCustomMediaKeys,N=z.setMediaKeys}else if(u.fq&&void 0!==n){var V={isTypeSupported:function(e,t){if(void 0===n)throw new Error("No MSMediaKeys API.");return void 0!==t?n.isTypeSupported(e,t):n.isTypeSupported(e)},createCustomMediaKeys:function(e){return new T(e)},setMediaKeys:function(e,t){if(null!==t){if(!(t instanceof T))throw new Error("Custom setMediaKeys is supposed to be called with IE11 custom MediaKeys.");return t._setVideo(e)}}};U=V.isTypeSupported,B=V.createCustomMediaKeys,N=V.setMediaKeys}else if(void 0!==_){var W={isTypeSupported:function(e,t){if(void 0===_)throw new Error("No MozMediaKeys API.");return void 0!==t?_.isTypeSupported(e,t):_.isTypeSupported(e)},createCustomMediaKeys:function(e){if(void 0===_)throw new Error("No MozMediaKeys API.");return new _(e)},setMediaKeys:function(e,t){if(void 0===e.mozSetMediaKeys||"function"!==typeof e.mozSetMediaKeys)throw new Error("Can't set video on MozMediaKeys.");return e.mozSetMediaKeys(t)}};U=W.isTypeSupported,B=W.createCustomMediaKeys,N=W.setMediaKeys}else{var $=window.MediaKeys,H=function(){if(void 0===$)throw new s.Z("MEDIA_KEYS_NOT_SUPPORTED","No `MediaKeys` implementation found in the current browser.");if(void 0===$.isTypeSupported)throw new Error("This browser seems to be unable to play encrypted contents currently. Note: Some browsers do not allow decryption in some situations, like when not using HTTPS.")};U=function(e){return H(),$.isTypeSupported(e)},B=function(e){return H(),new $(e)}}j=function(e,t){if(!U(e))return(0,i._)((function(){return new Error("Unsupported key type")}));for(var r=0;r<t.length;r++){var n=t[r],o=n.videoCapabilities,s=n.audioCapabilities,l=n.initDataTypes,u=n.distinctiveIdentifier,c=!0;if(c=(c=c&&(null==l||l.some((function(e){return"cenc"===e}))))&&"required"!==u){var d={videoCapabilities:o,audioCapabilities:s,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},f=B(e);return(0,a.of)(new h(e,f,d))}}return(0,i._)((function(){return new Error("Unsupported configuration")}))}}function K(e,t){return(0,o.P)((function(){return(0,l.Z)(N(e,t))}))}},158:function(e,t,r){"use strict";var n;if(r.d(t,{t:function(){return n}}),!r(2203).Z){var i=window.WebKitMediaKeys;void 0!==i&&"function"===typeof i.isTypeSupported&&"function"===typeof i.prototype.createSession&&"function"===typeof HTMLMediaElement.prototype.webkitSetMediaKeys&&(n=i)}},8719:function(e,t,r){"use strict";r.d(t,{zh:function(){return F},_K:function(){return W},Oh:function(){return ne},C1:function(){return Z},Q1:function(){return q},GV:function(){return ae},Xe:function(){return oe},GJ:function(){return ie},eX:function(){return se},K4:function(){return H},yj:function(){return V},Qt:function(){return X},gg:function(){return re},ik:function(){return G},d5:function(){return K},UG:function(){return J},ep:function(){return ee},ym:function(){return Q},UA:function(){return Y},_E:function(){return te},$x:function(){return $}});var n=r(1480),i=r(2967),a=new n.y(i.Z),o=r(2401),s=r(3071),l=r(9917),u=r(2817),c=r(2334),d=r(6697),f=r(7991),p=r(6362),h=r(4727),g=r(533),m=r(3833),v=r(3994),y=r(6625);function b(e,t){void 0===t&&(t=f.z);var r=(0,y.H)(e,t);return function e(t,r){return r?function(n){return(0,p.z)(r.pipe((0,h.q)(1),(0,g.l)()),n.pipe(e(t)))}:(0,v.z)((function(e,r){return t(e,r).pipe((0,h.q)(1),(0,m.h)(e))}))}((function(){return r}))}var k=r(6798),E=r(2566),_=r(1973),S={leading:!0,trailing:!1};function T(e,t,r){void 0===t&&(t=f.z),void 0===r&&(r=S);var n=(0,y.H)(e,t);return function(e,t){var r=void 0===t?S:t,n=r.leading,i=r.trailing;return(0,k.e)((function(t,r){var a=!1,o=null,s=null,l=!1,u=function(){null===s||void 0===s||s.unsubscribe(),s=null,i&&(f(),l&&r.complete())},c=function(){s=null,l&&r.complete()},d=function(t){return s=(0,_.Xf)(e(t)).subscribe(new E.Q(r,u,c))},f=function(){if(a){a=!1;var e=o;o=null,r.next(e),!l&&d(e)}};t.subscribe(new E.Q(r,(function(e){a=!0,o=e,(!s||s.closed)&&(n?f():d(e))}),(function(){l=!0,(!(i&&a&&s)||s.closed)&&r.complete()})))}))}((function(){return n}),r)}var w=r(9127),x=r(8430),O=r(3741),P=r(4978),C=r(944),A=r(6923),M=r(3774),I=r(2203),R=r(5059),D=["","webkit","moz","ms"],L=C.Z.INACTIVITY_DELAY,j=I.Z||null==window.devicePixelRatio||0===window.devicePixelRatio?1:window.devicePixelRatio;function N(e,t){return t.filter((function(t){return function(e,t){var r=document.createElement(e.tagName),n="on"+t;return n in r||(r.setAttribute(n,"return;"),"function"===typeof r[n])}(e,t)}))[0]}function U(e,t){var r,n=function(e,t){return e.reduce((function(e,r){return e.concat((null==t?D:t).map((function(e){return e+r})))}),[])}(e,t);return function(e){return e instanceof M.DQ?("undefined"===typeof r&&(r=N(e,n)),(0,A.Z)(r)?(0,o.R)(e,r):a):s.T.apply(void 0,n.map((function(t){return(0,o.R)(e,t)})))}}function B(){var e,t=document;null!=t.hidden?e="":null!=t.mozHidden?e="moz":null!=t.msHidden?e="ms":null!=t.webkitHidden&&(e="webkit");var r=(0,A.Z)(e)?e+"Hidden":"hidden",n=(0,A.Z)(e)?e+"visibilitychange":"visibilitychange";return(0,l.P)((function(){var e=document[r];return(0,o.R)(document,n).pipe((0,w.U)((function(){return!document[r]})),(0,x.O)(!e),(0,O.x)())}))}function F(){return B().pipe((0,P.w)((function(e){return e?(0,u.of)(e):(0,u.of)(e).pipe(b(L))})))}function z(e,t){var r=t.width,n=t.height/(e.clientHeight/e.clientWidth);return Math.min(r,n)}function V(e){return(0,l.P)((function(){if(e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode){var t="picture-in-picture"===e.webkitPresentationMode;return(0,o.R)(e,"webkitpresentationmodechanged").pipe((0,w.U)((function(){return{isEnabled:"picture-in-picture"===e.webkitPresentationMode,pipWindow:null}})),(0,x.O)({isEnabled:t,pipWindow:null}))}var r={isEnabled:document.pictureInPictureElement&&document.pictureInPictureElement===e,pipWindow:null};return(0,s.T)((0,o.R)(e,"enterpictureinpicture").pipe((0,w.U)((function(e){return{isEnabled:!0,pipWindow:e.pictureInPictureWindow}}))),(0,o.R)(e,"leavepictureinpicture").pipe((0,m.h)({isEnabled:!1,pipWindow:null}))).pipe((0,x.O)(r))}))}function W(e){return(0,c.a)([B(),e]).pipe((0,P.w)((function(e){var t=e[0];return e[1].isEnabled||t?(0,u.of)(!0):(0,u.of)(!1).pipe(b(L))})),(0,O.x)())}function $(e,t){return(0,c.a)([t,(0,d.F)(2e4).pipe((0,x.O)(null)),(0,o.R)(window,"resize").pipe(T(500),(0,x.O)(null))]).pipe((0,P.w)((function(t){var r=t[0];if(r.isEnabled){if(null!=r.pipWindow){var n=r.pipWindow,i=z(e,n);return(0,o.R)(n,"resize").pipe((0,x.O)(i*j),(0,w.U)((function(){return z(e,n)*j})))}return(0,u.of)(1/0)}return(0,u.of)(e.clientWidth*j)})),(0,O.x)())}var H=U(["loadedmetadata"]),K=U(["seeking"]),G=U(["seeked"]),Z=U(["ended"]),q=(U(["timeupdate"]),U(["fullscreenchange","FullscreenChange"],D.concat("MS"))),X=function(e){return(0,s.T)(U(["play"])(e),U(["pause"])(e))},Y=function(e){return(0,s.T)(U(["addtrack"])(e),U(["removetrack"])(e))},Q=U(["sourceopen","webkitsourceopen"]),J=U(["sourceclose","webkitsourceclose"]),ee=U(["sourceended","webkitsourceended"]),te=U(["update"]),re=U(["onremovesourcebuffer"]),ne=U((0,R.Z)()?["needkey"]:["encrypted","needkey"]),ie=U(["keymessage","message"]),ae=U(["keyadded","ready"]),oe=U(["keyerror","error"]),se=U(["keystatuseschange"])},2203:function(e,t){"use strict";var r="undefined"===typeof window;t.Z=r},1988:function(e,t,r){"use strict";function n(e){return"function"===typeof window.VTTCue&&e instanceof window.VTTCue}r.d(t,{Z:function(){return n}})},7253:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3887),i=r(3774);function a(e,t,r){if(null==i.w)throw new Error("VTT cues not supported in your target");return e>=t?(n.Z.warn("Compat: Invalid cue times: "+e+" - "+t),null):new i.w(e,t,r)}},5059:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3666),i=r(158);function a(){return n.G6&&void 0!==i.t}},944:function(e,t){"use strict";t.Z={DEFAULT_UNMUTED_VOLUME:.1,DEFAULT_REQUEST_TIMEOUT:3e4,DEFAULT_TEXT_TRACK_MODE:"native",DEFAULT_MANUAL_BITRATE_SWITCHING_MODE:"seamless",DEFAULT_ENABLE_FAST_SWITCHING:!0,DEFAULT_AUDIO_TRACK_SWITCHING_MODE:"seamless",DELTA_POSITION_AFTER_RELOAD:{bitrateSwitch:-.1,trackSwitch:{audio:-.7,video:-.1,other:0}},DEFAULT_CODEC_SWITCHING_BEHAVIOR:"continue",DEFAULT_AUTO_PLAY:!1,DEFAULT_SHOW_NATIVE_SUBTITLE:!0,DEFAULT_STOP_AT_END:!0,DEFAULT_WANTED_BUFFER_AHEAD:30,DEFAULT_MAX_BUFFER_AHEAD:1/0,DEFAULT_MAX_BUFFER_BEHIND:1/0,MAXIMUM_MAX_BUFFER_AHEAD:{text:18e3},MAXIMUM_MAX_BUFFER_BEHIND:{text:18e3},DEFAULT_INITIAL_BITRATES:{audio:0,video:0,other:0},DEFAULT_MIN_BITRATES:{audio:0,video:0,other:0},DEFAULT_MAX_BITRATES:{audio:1/0,video:1/0,other:1/0},INACTIVITY_DELAY:6e4,DEFAULT_THROTTLE_WHEN_HIDDEN:!1,DEFAULT_THROTTLE_VIDEO_BITRATE_WHEN_HIDDEN:!1,DEFAULT_LIMIT_VIDEO_WIDTH:!1,DEFAULT_LIVE_GAP:{DEFAULT:10,LOW_LATENCY:3},BUFFER_DISCONTINUITY_THRESHOLD:.2,FORCE_DISCONTINUITY_SEEK_DELAY:2e3,BITRATE_REBUFFERING_RATIO:1.5,BUFFER_GC_GAPS:{CALM:240,BEEFY:30},DEFAULT_MAX_MANIFEST_REQUEST_RETRY:4,DEFAULT_MAX_REQUESTS_RETRY_ON_ERROR:4,DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE:1/0,INITIAL_BACKOFF_DELAY_BASE:{REGULAR:200,LOW_LATENCY:50},MAX_BACKOFF_DELAY_BASE:{REGULAR:3e3,LOW_LATENCY:1e3},SAMPLING_INTERVAL_MEDIASOURCE:1e3,SAMPLING_INTERVAL_LOW_LATENCY:250,SAMPLING_INTERVAL_NO_MEDIASOURCE:500,ABR_MINIMUM_TOTAL_BYTES:15e4,ABR_MINIMUM_CHUNK_SIZE:16e3,ABR_STARVATION_FACTOR:{DEFAULT:.72,LOW_LATENCY:.72},ABR_REGULAR_FACTOR:{DEFAULT:.8,LOW_LATENCY:.8},ABR_STARVATION_GAP:{DEFAULT:5,LOW_LATENCY:5},OUT_OF_STARVATION_GAP:{DEFAULT:7,LOW_LATENCY:7},ABR_STARVATION_DURATION_DELTA:.1,ABR_FAST_EMA:2,ABR_SLOW_EMA:10,RESUME_GAP_AFTER_SEEKING:{DEFAULT:1.5,LOW_LATENCY:.5},RESUME_GAP_AFTER_NOT_ENOUGH_DATA:{DEFAULT:.5,LOW_LATENCY:.5},RESUME_GAP_AFTER_BUFFERING:{DEFAULT:5,LOW_LATENCY:.5},STALL_GAP:{DEFAULT:.5,LOW_LATENCY:.2},MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT:.15,MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE:.4,MAX_MANIFEST_BUFFERED_DURATION_DIFFERENCE:.3,MINIMUM_SEGMENT_SIZE:.005,APPEND_WINDOW_SECURITIES:{START:.2,END:.1},MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL:50,TEXT_TRACK_SIZE_CHECKS_INTERVAL:250,BUFFER_PADDING:{audio:1,video:3,other:1},SEGMENT_PRIORITIES_STEPS:[2,4,8,12,18,25],MAX_HIGH_PRIORITY_LEVEL:1,MIN_CANCELABLE_PRIORITY:3,EME_DEFAULT_WIDEVINE_ROBUSTNESSES:["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],EME_KEY_SYSTEMS:{clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"],fairplay:["com.apple.fps.1_0"]},MAX_CONSECUTIVE_MANIFEST_PARSING_IN_UNSAFE_MODE:10,MIN_MANIFEST_PARSING_TIME_TO_ENTER_UNSAFE_MODE:200,MIN_DASH_S_ELEMENTS_TO_PARSE_UNSAFELY:300,OUT_OF_SYNC_MANIFEST_REFRESH_DELAY:3e3,FAILED_PARTIAL_UPDATE_MANIFEST_REFRESH_DELAY:3e3,DASH_FALLBACK_LIFETIME_WHEN_MINIMUM_UPDATE_PERIOD_EQUAL_0:3,EME_DEFAULT_MAX_SIMULTANEOUS_MEDIA_KEY_SESSIONS:15,EME_MAX_STORED_PERSISTENT_SESSION_INFORMATION:1e3,EME_SESSION_CLOSING_MAX_RETRY:5,EME_SESSION_CLOSING_INITIAL_DELAY:100,EME_SESSION_CLOSING_MAX_DELAY:1e3,EME_WAITING_DELAY_LOADED_SESSION_EMPTY_KEYSTATUSES:100,FORCED_ENDED_THRESHOLD:8e-4,ADAPTATION_SWITCH_BUFFER_PADDINGS:{video:{before:2,after:2.5},audio:{before:2,after:2.5},text:{before:0,after:0},image:{before:0,after:0}},SOURCE_BUFFER_FLUSHING_INTERVAL:500,CONTENT_REPLACEMENT_PADDING:1.2,CACHE_LOAD_DURATION_THRESHOLDS:{video:50,audio:10},STREAM_EVENT_EMITTER_POLL_INTERVAL:250,DEFAULT_MAXIMUM_TIME_ROUNDING_ERROR:.001}},7794:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(1788),i=r(1959),a=r(7829);function o(e,t){var r;if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n].nativeTrack!==(null===(r=e[n])||void 0===r?void 0:r.nativeTrack))return!0;return!1}function s(e){for(var t,r=[],n={},i=0;i<e.length;i++){var o=e[i],s=""===o.language?"nolang":o.language,l=null!==(t=n[s])&&void 0!==t?t:1,u="gen_audio_"+s+"_"+l.toString();n[s]=l+1;var c={language:o.language,id:u,normalized:(0,a.ZP)(o.language),audioDescription:!1,representations:[]};r.push({track:c,nativeTrack:o})}return r}function l(e){for(var t,r=[],n={},i=0;i<e.length;i++){var o=e[i],s=""===o.language?"nolang":o.language,l=null!==(t=n[s])&&void 0!==t?t:1,u="gen_text_"+s+"_"+l.toString();n[s]=l+1;var c={language:o.language,id:u,normalized:(0,a.ZP)(o.language),closedCaption:"captions"===o.kind};r.push({track:c,nativeTrack:o})}return r}function u(e){for(var t,r=[],n={},i=0;i<e.length;i++){var a=e[i],o=""===a.language?"nolang":a.language,s=null!==(t=n[o])&&void 0!==t?t:1,l="gen_video_"+o+"_"+s.toString();n[o]=s+1,r.push({track:{id:l,representations:[]},nativeTrack:a})}return r}var c=function(e){function t(t){var r,n,i,a;return(r=e.call(this)||this)._preferredAudioTracks=[],r._preferredTextTracks=[],r._preferredVideoTracks=[],r._nativeAudioTracks=t.audioTracks,r._nativeVideoTracks=t.videoTracks,r._nativeTextTracks=t.textTracks,r._audioTracks=void 0!==r._nativeAudioTracks?s(r._nativeAudioTracks):[],r._videoTracks=void 0!==r._nativeVideoTracks?u(r._nativeVideoTracks):[],r._textTracks=void 0!==r._nativeTextTracks?l(r._nativeTextTracks):[],r._lastEmittedNativeAudioTrack=null===(n=r._getPrivateChosenAudioTrack())||void 0===n?void 0:n.nativeTrack,r._lastEmittedNativeVideoTrack=null===(i=r._getPrivateChosenVideoTrack())||void 0===i?void 0:i.nativeTrack,r._lastEmittedNativeTextTrack=null===(a=r._getPrivateChosenTextTrack())||void 0===a?void 0:a.nativeTrack,r._handleNativeTracksCallbacks(),r}(0,n.Z)(t,e);var r=t.prototype;return r.setPreferredAudioTracks=function(e,t){this._preferredAudioTracks=e,t&&this._applyAudioPreferences()},r.setPreferredTextTracks=function(e,t){this._preferredTextTracks=e,t&&this._applyTextPreferences()},r.setPreferredVideoTracks=function(e,t){this._preferredVideoTracks=e,t&&this._applyVideoPreferences()},r.setAudioTrackById=function(e){for(var t=0;t<this._audioTracks.length;t++){var r=this._audioTracks[t],n=r.track,i=r.nativeTrack;if(n.id===e)return i.enabled=!0,void(this._audioTrackLockedOn=i)}throw new Error("Audio track not found.")},r.disableTextTrack=function(){d(this._textTracks),this._textTrackLockedOn=null},r.setTextTrackById=function(e){for(var t=!1,r=0;r<this._textTracks.length;r++){var n=this._textTracks[r],i=n.track,a=n.nativeTrack;i.id===e?(a.mode="showing",t=!0,this._textTrackLockedOn=a):"showing"!==a.mode&&"hidden"!==a.mode||(a.mode="disabled")}if(!t)throw new Error("Text track not found.")},r.disableVideoTrack=function(){p(this._videoTracks),this._videoTrackLockedOn=null},r.setVideoTrackById=function(e){for(var t=0;t<this._videoTracks.length;t++){var r=this._videoTracks[t],n=r.track,i=r.nativeTrack;if(n.id===e)return i.selected=!0,void(this._videoTrackLockedOn=i)}throw new Error("Video track not found.")},r.getChosenAudioTrack=function(){var e=this._getPrivateChosenAudioTrack();return null!=e?e.track:e},r.getChosenTextTrack=function(){var e=this._getPrivateChosenTextTrack();return null!=e?e.track:e},r.getChosenVideoTrack=function(){var e=this._getPrivateChosenVideoTrack();return null!=e?e.track:e},r.getAvailableAudioTracks=function(){return this._audioTracks.map((function(e){var t=e.track,r=e.nativeTrack;return{id:t.id,language:t.language,normalized:t.normalized,audioDescription:t.audioDescription,active:r.enabled,representations:t.representations}}))},r.getAvailableTextTracks=function(){return this._textTracks.map((function(e){var t=e.track,r=e.nativeTrack;return{id:t.id,language:t.language,normalized:t.normalized,closedCaption:t.closedCaption,active:"showing"===r.mode}}))},r.getAvailableVideoTracks=function(){return this._videoTracks.map((function(e){var t=e.track,r=e.nativeTrack;return{id:t.id,representations:t.representations,active:r.selected}}))},r.dispose=function(){void 0!==this._nativeVideoTracks&&(this._nativeVideoTracks.onchange=null,this._nativeVideoTracks.onaddtrack=null,this._nativeVideoTracks.onremovetrack=null),void 0!==this._nativeAudioTracks&&(this._nativeAudioTracks.onchange=null,this._nativeAudioTracks.onaddtrack=null,this._nativeAudioTracks.onremovetrack=null),void 0!==this._nativeTextTracks&&(this._nativeTextTracks.onchange=null,this._nativeTextTracks.onaddtrack=null,this._nativeTextTracks.onremovetrack=null),this.removeEventListener()},r._getPrivateChosenAudioTrack=function(){if(void 0!==this._nativeAudioTracks){for(var e=0;e<this._audioTracks.length;e++){var t=this._audioTracks[e];if(t.nativeTrack.enabled)return t}return null}},r._getPrivateChosenVideoTrack=function(){if(void 0!==this._nativeVideoTracks){for(var e=0;e<this._videoTracks.length;e++){var t=this._videoTracks[e];if(t.nativeTrack.selected)return t}return null}},r._getPrivateChosenTextTrack=function(){if(void 0!==this._nativeTextTracks){for(var e=0;e<this._textTracks.length;e++){var t=this._textTracks[e];if("showing"===t.nativeTrack.mode)return t}return null}},r._setOptimalAudioTrack=function(){if(void 0!==this._audioTrackLockedOn)for(var e=0;e<this._audioTracks.length;e++){var t=this._audioTracks[e].nativeTrack;if(t===this._audioTrackLockedOn)return void(t.enabled=!0)}this._applyAudioPreferences()},r._applyAudioPreferences=function(){this._audioTrackLockedOn=void 0;for(var e=this._preferredAudioTracks,t=0;t<e.length;t++){var r=e[t];if(null!==r&&void 0!==r.language)for(var n=(0,a.ZP)(r.language),i=0;i<this._audioTracks.length;i++){var o=this._audioTracks[i];if(o.track.normalized===n&&o.track.audioDescription===r.audioDescription)return void(o.nativeTrack.enabled=!0)}}},r._setOptimalTextTrack=function(){if(null!==this._textTrackLockedOn){if(void 0!==this._textTrackLockedOn)for(var e=0;e<this._textTracks.length;e++){var t=this._textTracks[e].nativeTrack;if(t===this._textTrackLockedOn)return f(this._textTracks,t),void("showing"!==t.mode&&(t.mode="showing"))}this._applyTextPreferences()}else d(this._textTracks)},r._applyTextPreferences=function(){this._textTrackLockedOn=void 0;for(var e=this._preferredTextTracks,t=0;t<e.length;t++){var r=e[t];if(null===r)return void d(this._textTracks);for(var n=(0,a.ZP)(r.language),i=0;i<this._textTracks.length;i++){var o=this._textTracks[i];if(o.track.normalized===n&&o.track.closedCaption===r.closedCaption)return f(this._textTracks,o.nativeTrack),void("showing"!==o.nativeTrack.mode&&(o.nativeTrack.mode="showing"))}}d(this._textTracks)},r._setOptimalVideoTrack=function(){if(null!==this._videoTrackLockedOn){if(void 0!==this._videoTrackLockedOn)for(var e=0;e<this._videoTracks.length;e++){var t=this._videoTracks[e].nativeTrack;if(t===this._videoTrackLockedOn)return void(t.selected=!0)}this._applyVideoPreferences()}else p(this._videoTracks)},r._applyVideoPreferences=function(){this._videoTrackLockedOn=void 0,this._preferredVideoTracks.some((function(e){return null===e}))&&p(this._videoTracks)},r._handleNativeTracksCallbacks=function(){var e=this;void 0!==this._nativeAudioTracks&&(this._nativeAudioTracks.onaddtrack=function(){var t,r;if(void 0!==e._nativeAudioTracks){var n=s(e._nativeAudioTracks);if(o(e._audioTracks,n)){e._audioTracks=n,e._setOptimalAudioTrack(),e.trigger("availableAudioTracksChange",e.getAvailableAudioTracks());var i=e._getPrivateChosenAudioTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeAudioTrack&&(e.trigger("audioTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeAudioTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeAudioTracks.onremovetrack=function(){var t,r;if(void 0!==e._nativeAudioTracks){var n=s(e._nativeAudioTracks);if(o(e._audioTracks,n)){e._audioTracks=n,e.trigger("availableAudioTracksChange",e.getAvailableAudioTracks());var i=e._getPrivateChosenAudioTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeAudioTrack&&(e.trigger("audioTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeAudioTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeAudioTracks.onchange=function(){if(void 0!==e._audioTracks)for(var t=0;t<e._audioTracks.length;t++){var r=e._audioTracks[t],n=r.track,i=r.nativeTrack;if(i.enabled)return void(i!==e._lastEmittedNativeAudioTrack&&(e.trigger("audioTrackChange",n),e._lastEmittedNativeAudioTrack=i))}null!==e._lastEmittedNativeAudioTrack&&(e.trigger("audioTrackChange",null),e._lastEmittedNativeAudioTrack=null)}),void 0!==this._nativeTextTracks&&(this._nativeTextTracks.onaddtrack=function(){var t,r;if(void 0!==e._nativeTextTracks){var n=l(e._nativeTextTracks);if(o(e._textTracks,n)){e._textTracks=n,e._setOptimalTextTrack(),e.trigger("availableTextTracksChange",e.getAvailableTextTracks());var i=e._getPrivateChosenTextTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeTextTrack&&(e.trigger("textTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeTextTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeTextTracks.onremovetrack=function(){var t,r;if(void 0!==e._nativeTextTracks){var n=l(e._nativeTextTracks);if(o(e._textTracks,n)){e._textTracks=n,e._setOptimalTextTrack(),e.trigger("availableTextTracksChange",e.getAvailableTextTracks());var i=e._getPrivateChosenTextTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeTextTrack&&(e.trigger("textTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeTextTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeTextTracks.onchange=function(){if(void 0!==e._textTracks)for(var t=0;t<e._textTracks.length;t++){var r=e._textTracks[t],n=r.track,i=r.nativeTrack;if("showing"===i.mode)return void(i!==e._lastEmittedNativeTextTrack&&(e.trigger("textTrackChange",n),e._lastEmittedNativeTextTrack=i))}null!==e._lastEmittedNativeTextTrack&&(e.trigger("textTrackChange",null),e._lastEmittedNativeTextTrack=null)}),void 0!==this._nativeVideoTracks&&(this._nativeVideoTracks.onaddtrack=function(){var t,r;if(void 0!==e._nativeVideoTracks){var n=u(e._nativeVideoTracks);if(o(e._videoTracks,n)){e._videoTracks=n,e._setOptimalVideoTrack(),e.trigger("availableVideoTracksChange",e.getAvailableVideoTracks());var i=e._getPrivateChosenVideoTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeVideoTrack&&(e.trigger("videoTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeVideoTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeVideoTracks.onremovetrack=function(){var t,r;if(void 0!==e._nativeVideoTracks){var n=u(e._nativeVideoTracks);if(o(e._videoTracks,n)){e._videoTracks=n,e._setOptimalVideoTrack(),e.trigger("availableVideoTracksChange",e.getAvailableVideoTracks());var i=e._getPrivateChosenVideoTrack();(null===i||void 0===i?void 0:i.nativeTrack)!==e._lastEmittedNativeVideoTrack&&(e.trigger("videoTrackChange",null!==(t=null===i||void 0===i?void 0:i.track)&&void 0!==t?t:null),e._lastEmittedNativeVideoTrack=null!==(r=null===i||void 0===i?void 0:i.nativeTrack)&&void 0!==r?r:null)}}},this._nativeVideoTracks.onchange=function(){if(void 0!==e._videoTracks)for(var t=0;t<e._videoTracks.length;t++){var r=e._videoTracks[t],n=r.track,i=r.nativeTrack;if(i.selected)return void(i!==e._lastEmittedNativeVideoTrack&&(e.trigger("videoTrackChange",n),e._lastEmittedNativeVideoTrack=i))}null!==e._lastEmittedNativeVideoTrack&&(e.trigger("videoTrackChange",null),e._lastEmittedNativeVideoTrack=null)})},t}(i.Z);function d(e){for(var t=0;t<e.length;t++)e[t].nativeTrack.mode="disabled"}function f(e,t){for(var r=0;r<e.length;r++){var n=e[r].nativeTrack;n===t||"showing"!==n.mode&&"hidden"!==n.mode||(n.mode="disabled")}}function p(e){for(var t=0;t<e.length;t++)e[t].nativeTrack.selected=!1}},8281:function(e,t,r){"use strict";r.d(t,{ZP:function(){return et}});var n=r(2817),i=r(6362),a=r(3071),o=r(3610),s=r(3),l=r(1545),u=r(3994),c=r(8515),d=r(4975),f=r(4727),p=r(2006),h=r(9127),g=r(9878),m=r(533),v=r(8719),y=r(3887),b=r(6490),k=r(4791),E=r(6968),_=r(3635),S=(0,E.pX)((0,_.tG)("pssh"),0);function T(e,t){for(var r=0;r<e.length;r++){var n=e[r];if((void 0===t.systemId||void 0===n.systemId||t.systemId===n.systemId)&&(0,k.Z)(t.data,n.data))return!0}return!1}function w(e){var t=e.initData,r=e.initDataType;return null==t?(y.Z.warn("Compat: No init data found on media encrypted event."),null):{type:r,values:function(e){for(var t=[],r=0;r<e.length;){if(e.length<r+8||(0,E.pX)(e,r+4)!==S)return y.Z.warn("Compat: Unrecognized initialization data. Use as is."),[{systemId:void 0,data:e}];var n=(0,E.pX)(new Uint8Array(e),r);if(r+n>e.length)return y.Z.warn("Compat: Unrecognized initialization data. Use as is."),[{systemId:void 0,data:e}];var i=e.subarray(r,r+n),a={systemId:(0,b.Y)(i,8),data:i};T(t,a)?y.Z.warn("Compat: Duplicated PSSH found in initialization data, removing it."):t.push(a),r+=n}return r!==e.length?(y.Z.warn("Compat: Unrecognized initialization data. Use as is."),[{systemId:void 0,data:e}]):t}(new Uint8Array(t))}}var x=r(9917),O=r(2297),P=r(8117);function C(e,t,r){return(0,x.P)((function(){var n;y.Z.debug("Compat: Calling generateRequest on the MediaKeySession");try{n=function(e){y.Z.info("Compat: Trying to move CENC PSSH from init data at the end of it.");for(var t=!1,r=new Uint8Array,n=new Uint8Array,i=0;i<e.length;){if(e.length<i+8||(0,E.pX)(e,i+4)!==S)throw y.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");var a=(0,E.pX)(new Uint8Array(e),i);if(i+a>e.length)throw y.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");var o=e.subarray(i,i+a);if(16===e[i+12]&&119===e[i+13]&&239===e[i+14]&&236===e[i+15]&&192===e[i+16]&&178===e[i+17]&&77===e[i+18]&&2===e[i+19]&&172===e[i+20]&&227===e[i+21]&&60===e[i+22]&&30===e[i+23]&&82===e[i+24]&&226===e[i+25]&&251===e[i+26]&&75===e[i+27]){var s=(0,O.Xj)(o),l=null===s?void 0:o[s[1]];y.Z.info("Compat: CENC PSSH found with version",l),void 0===l?y.Z.warn("Compat: could not read version of CENC PSSH"):t===(1===l)?r=(0,E.zo)(r,o):1===l?(y.Z.warn("Compat: cenc version 1 encountered, removing every other cenc pssh box."),r=o,t=!0):y.Z.warn("Compat: filtering out cenc pssh box with wrong version",l)}else n=(0,E.zo)(n,o);i+=a}if(i!==e.length)throw y.Z.warn("Compat: unrecognized initialization data. Cannot patch it."),new Error("Compat: unrecognized initialization data. Cannot patch it.");return(0,E.zo)(n,r)}(r)}catch(a){n=r}var i=null!==t&&void 0!==t?t:"";return(0,P.Z)(e.generateRequest(i,n)).pipe((0,g.K)((function(t){if(""!==i||!(t instanceof TypeError))throw t;return y.Z.warn('Compat: error while calling `generateRequest` with an empty initialization data type. Retrying with a default "cenc" value.',t),(0,P.Z)(e.generateRequest("cenc",n))})))}))}var A=r(944),M=r(5157),I=r(7714),R=r(8418),D=r(2793),L=r(1946),j=r(3833),N=r(8430),U=r(4181),B=r(6625),F=r(5561);function z(e){if(""===e.sessionId)return!1;var t=e.keyStatuses,r=[];return t.forEach((function(e){r.push(e)})),r.length<=0?(y.Z.debug("EME: isSessionUsable: MediaKeySession given has an empty keyStatuses",e),!1):(0,I.Z)(r,"expired")?(y.Z.debug("EME: isSessionUsable: MediaKeySession given has an expired key",e.sessionId),!1):(0,I.Z)(r,"internal-error")?(y.Z.debug("EME: isSessionUsable: MediaKeySession given has a key with an internal-error",e.sessionId),!1):(y.Z.debug("EME: isSessionUsable: MediaKeySession is usable",e.sessionId),!0)}function V(e,t,r){return(0,x.P)((function(){var i=e.loadedSessionsStore,a=e.persistentSessionsStore;return"temporary"===r?W(i,t):null===a?(y.Z.warn("EME: Cannot create persistent MediaKeySession, PersistentSessionsStore not created."),W(i,t)):function(e,t,r){return(0,x.P)((function(){y.Z.info("EME: Creating persistent MediaKeySession");var i=e.createSession(r,"persistent-license"),a=t.getAndReuse(r);if(null===a)return(0,n.of)({type:"created-session",value:{mediaKeySession:i,sessionType:"persistent-license"}});var o=function(){return y.Z.info("EME: Removing previous persistent session."),null!==t.get(r)&&t.delete(r),e.closeSession(r).pipe((0,h.U)((function(){return{type:"created-session",value:{mediaKeySession:e.createSession(r,"persistent-license"),sessionType:"persistent-license"}}})))};return function(e,t){return(0,x.P)((function(){return y.Z.info("Compat/EME: Load persisted session",t),(0,F.Z)((function(){return(0,P.Z)(e.load(t))}),void 0)})).pipe((0,u.z)((function(t){return!t||e.keyStatuses.size>0?(0,n.of)(t):(0,U.S)((0,B.H)(100),(0,v.eX)(e)).pipe((0,f.q)(1),(0,j.h)(t))})))}(i,a.sessionId).pipe((0,u.z)((function(e){return e?e&&z(i)?(t.add(r,i),y.Z.info("EME: Succeeded to load persistent session."),(0,n.of)({type:"loaded-persistent-session",value:{mediaKeySession:i,sessionType:"persistent-license"}})):(y.Z.warn("EME: Previous persistent session not usable anymore."),o()):(y.Z.warn("EME: No data stored for the loaded session"),t.delete(r),(0,n.of)({type:"created-session",value:{mediaKeySession:i,sessionType:"persistent-license"}}))})),(0,g.K)((function(e){return y.Z.warn("EME: Unable to load persistent session: "+(e instanceof Error?e.toString():"Unknown Error")),o()})))}))}(i,a,t)}))}function W(e,t){return(0,x.P)((function(){y.Z.info("EME: Creating a new temporary session");var r=e.createSession(t,"temporary");return(0,n.of)({type:"created-session",value:{mediaKeySession:r,sessionType:"temporary"}})}))}function $(e,t,r,o){return(0,x.P)((function(){var s=null,c=t.loadedSessionsStore,d=t.persistentSessionsStore,f=c.getAndReuse(e);if(null!==f){if(z(s=f.mediaKeySession))return y.Z.info("EME: Reuse loaded session",s.sessionId),(0,n.of)({type:"loaded-open-session",value:{mediaKeySession:s,sessionType:f.sessionType,initializationData:e}});null!==d&&d.delete(e)}return(null!=s?c.closeSession(e):(0,n.of)(null)).pipe((0,u.z)((function(){return(0,i.z)(function(e,t){if(t<0||t>=e.getLength())return l.E;for(var r=[],n=e.getAll().slice(),i=n.length-t,o=0;o<i;o++){var s=n[o],u=e.closeSession(s.initializationData).pipe((0,j.h)({type:"cleaned-old-session",value:s}),(0,N.O)({type:"cleaning-old-session",value:s}));r.push(u)}return a.T.apply(void 0,r)}(c,o),V(t,e,r).pipe((0,h.U)((function(t){return{type:t.type,value:{mediaKeySession:t.value.mediaKeySession,sessionType:t.value.sessionType,initializationData:e}}}))))})))}))}var H=r(6139),K=r(6033),G=r(9252),Z=r(3666),q=r(9592),X=A.Z.EME_DEFAULT_WIDEVINE_ROBUSTNESSES,Y=A.Z.EME_KEY_SYSTEMS;function Q(e,t,r){var n=t.getConfiguration();if(Z.fq||null==n)return null;var i=e.filter((function(e){return e.type===r.type&&(!0!==e.persistentLicense&&!0!==e.persistentStateRequired||"required"===n.persistentState)&&(!0!==e.distinctiveIdentifierRequired||"required"===n.distinctiveIdentifier)}))[0];return null!=i?{keySystemOptions:i,keySystemAccess:t}:null}function J(e,t){return(0,x.P)((function(){y.Z.info("EME: Searching for compatible MediaKeySystemAccess");var r=K.Z.getState(e);if(null!=r){var i=Q(t,r.mediaKeySystemAccess,r.keySystemOptions);if(null!==i)return y.Z.info("EME: Found cached compatible keySystem",i),(0,n.of)({type:"reuse-media-key-system-access",value:{mediaKeySystemAccess:i.keySystemAccess,options:i.keySystemOptions}})}var a=t.reduce((function(e,t){var r,n=Y[t.type];return r=null!=n?n.map((function(e){return{keyName:t.type,keyType:e,keySystemOptions:t}})):[{keyName:function(e){for(var t=0,r=Object.keys(Y);t<r.length;t++){var n=r[t];if((0,I.Z)(Y[n],e))return n}}(t.type),keyType:t.type,keySystemOptions:t}],e.concat(r)}),[]);return function e(t){if(t>=a.length){var r=new M.Z("INCOMPATIBLE_KEYSYSTEMS","No key system compatible with your wanted configuration has been found in the current browser.");return(0,o._)((function(){return r}))}if(null==H.N){var n=Error("requestMediaKeySystemAccess is not implemented in your browser.");return(0,o._)((function(){return n}))}var i=a[t],s=i.keyName,l=i.keyType,u=i.keySystemOptions,c=function(e,t){var r=["temporary"],n="optional",i="optional";!0===t.persistentLicense&&(n="required",r.push("persistent-license")),!0===t.persistentStateRequired&&(n="required"),!0===t.distinctiveIdentifierRequired&&(i="required");var a=null!=t.videoRobustnesses?t.videoRobustnesses:"widevine"===e?X:[],o=null!=t.audioRobustnesses?t.audioRobustnesses:"widevine"===e?X:[];return 0===a.length&&a.push(void 0),0===o.length&&o.push(void 0),[{initDataTypes:["cenc"],videoCapabilities:(0,q.Z)(a,(function(e){return[{contentType:'video/mp4;codecs="avc1.4d401e"',robustness:e},{contentType:'video/mp4;codecs="avc1.42e01e"',robustness:e},{contentType:'video/webm;codecs="vp8"',robustness:e}]})),audioCapabilities:(0,q.Z)(o,(function(e){return[{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:e},{contentType:"audio/webm;codecs=opus",robustness:e}]})),distinctiveIdentifier:i,persistentState:n,sessionTypes:r}]}(s,u);return y.Z.debug("EME: Request keysystem access "+l+","+(t+1)+" of "+a.length,c),(0,H.N)(l,c).pipe((0,h.U)((function(e){return y.Z.info("EME: Found compatible keysystem",l,c),{type:"create-media-key-system-access",value:{options:u,mediaKeySystemAccess:e}}})),(0,g.K)((function(){return y.Z.debug("EME: Rejected access to keysystem",l,c),e(t+1)})))}(0)}))}var ee=r(2870),te=new WeakMap,re=function(e){te.set(e,null)},ne=function(e,t){var r=t instanceof Uint8Array?t:new Uint8Array(t instanceof ArrayBuffer?t:t.buffer),n=(0,ee.Z)(r);te.set(e,{hash:n,serverCertificate:r})},ie=function(e){var t=te.get(e);return void 0!==t&&(null!==t||void 0)},ae=function(e,t){var r=te.get(e);if(void 0===r||null===r)return!1;var n=r.hash,i=r.serverCertificate,a=t instanceof Uint8Array?t:new Uint8Array(t instanceof ArrayBuffer?t:t.buffer);if((0,ee.Z)(a)!==n||i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(i[o]!==a[o])return!1;return!0},oe=A.Z.EME_SESSION_CLOSING_MAX_RETRY,se=A.Z.EME_SESSION_CLOSING_INITIAL_DELAY,le=A.Z.EME_SESSION_CLOSING_MAX_DELAY;function ue(e){return function r(i){return y.Z.debug("EME: Trying to close a MediaKeySession",e,i),(a=e,(0,U.S)((0,P.Z)(a.close()),(0,B.H)(1e3).pipe((0,u.z)((function(){return(0,P.Z)(a.update(new Uint8Array(1))).pipe((0,h.U)((function(){throw new Error("Compat: Couldn't know if session is closed")})),(0,g.K)((function(e){if(e instanceof Error&&"The session is already closed."===e.message)return(0,n.of)(null);var t=(0,P.Z)(a.closed);return(0,U.S)(t,(0,B.H)(1e3).pipe((0,h.U)((function(){throw new Error("Compat: Couldn't know if session is closed")}))))})))}))))).pipe((0,p.b)((function(){y.Z.debug("EME: Succeeded to close MediaKeySession")})),(0,g.K)((function(n){if(!(n instanceof Error)||"InvalidStateError"!==n.name||""!==e.sessionId)return t(n);var a=i+1;if(a>oe)return t(n);var o=Math.min(Math.pow(2,i)*se,le);return y.Z.warn("EME: attempt to close a mediaKeySession failed, scheduling retry...",o),(0,U.S)([(0,B.H)(o),(0,v.eX)(e),(0,v.GJ)(e)]).pipe((0,f.q)(1),(0,u.z)((function(){return r(a)})))})));var a}(0);function t(e){return y.Z.error("EME: Could not close MediaKeySession: "+(e instanceof Error?e.toString():"Unknown error")),(0,n.of)(null)}}var ce=r(9689),de=function(){function e(e){this.initData=e}return e.prototype.toJSON=function(){return(0,ce.J)(this.initData)},e.decode=function(e){return(0,ce.K)(e)},e}();function fe(e,t){var r,n;return null!==(n=null!==(r=pe(e,t))&&void 0!==r?r:pe(t,e))&&void 0!==n&&n}function pe(e,t){if(0===e.length)return!1;if(t.length<e.length)return null;for(var r=e[0],n=0,i=0;i<t.length;i++){var a=t[i];if(a.systemId===r.systemId){if(a.hash!==r.hash)return!1;var o=r.data instanceof Uint8Array?r.data:"string"===typeof r.data?de.decode(r.data):r.data.initData,s=a.data instanceof Uint8Array?a.data:"string"===typeof a.data?de.decode(a.data):a.data.initData;if(!(0,k.Z)(o,s))return!1;if(t.length-i<e.length)return null;for(n=1;n<e.length;n++){var l=e[n];for(i+=1;i<t.length;i++){var u=t[i];if(l.systemId===u.systemId){if(l.hash!==u.hash)return!1;var c=l.data instanceof Uint8Array?l.data:"string"===typeof l.data?de.decode(l.data):l.data.initData,d=u.data instanceof Uint8Array?u.data:"string"===typeof u.data?de.decode(u.data):u.data.initData;if(!(0,k.Z)(c,d))return!1;break}}if(n===t.length)return null}return!0}}return null}var he=function(){function e(){this._storage=[]}var t=e.prototype;return t.getAll=function(){return this._storage.map((function(e){return e.payload}))},t.getLength=function(){return this._storage.length},t.isEmpty=function(){return 0===this._storage.length},t.get=function(e){var t=this._findIndex(e);return t>=0?this._storage[t].payload:void 0},t.getAndReuse=function(e){var t=this._findIndex(e);if(-1!==t){var r=this._storage.splice(t,1)[0];return this._storage.push(r),r.payload}},t.store=function(e,t){var r=this._findIndex(e);r>=0&&this._storage.splice(r,1);var n=this._formatValuesForStore(e.values);this._storage.push({type:e.type,values:n,payload:t})},t.storeIfNone=function(e,t){if(this._findIndex(e)>=0)return!1;var r=this._formatValuesForStore(e.values);return this._storage.push({type:e.type,values:r,payload:t}),!0},t.remove=function(e){var t=this._findIndex(e);if(-1!==t)return this._storage.splice(t,1)[0].payload},t._findIndex=function(e){for(var t=this._formatValuesForStore(e.values),r=this._storage.length-1;r>=0;r--){var n=this._storage[r];if(n.type===e.type&&fe(n.values,t))return r}return-1},t._formatValuesForStore=function(e){return e.slice().sort((function(e,t){return e.systemId===t.systemId?0:void 0===e.systemId?1:void 0===t.systemId||e.systemId<t.systemId?-1:1})).map((function(e){var t=e.systemId,r=e.data;return{systemId:t,data:r,hash:(0,ee.Z)(r)}}))},e}(),ge=function(){function e(e){this._mediaKeys=e,this._storage=new he}var t=e.prototype;return t.get=function(e){var t=this._storage.get(e);return void 0===t?null:{mediaKeySession:t.mediaKeySession,sessionType:t.sessionType}},t.getAndReuse=function(e){var t=this._storage.getAndReuse(e);return void 0===t?null:{mediaKeySession:t.mediaKeySession,sessionType:t.sessionType}},t.reuse=function(e){return void 0!==this._storage.getAndReuse(e)},t.createSession=function(e,t){var r=this;if(void 0!==this._storage.get(e))throw new M.Z("MULTIPLE_SESSIONS_SAME_INIT_DATA","This initialization data was already stored.");var n=this._mediaKeys.createSession(t),i={mediaKeySession:n,sessionType:t,initializationData:e};return(0,L.Z)(n.closed)||n.closed.then((function(){var t=r._storage.get(e);void 0!==t&&t.mediaKeySession===n&&r._storage.remove(e)})).catch((function(e){y.Z.warn("EME-LSS: MediaKeySession.closed rejected: "+e)})),y.Z.debug("EME-LSS: Add MediaKeySession",i),this._storage.store(e,i),n},t.closeSession=function(e){var t=this;return(0,x.P)((function(){var r=t._storage.remove(e);return void 0===r?(y.Z.warn("EME-LSS: No MediaKeySession found with the given initData and initDataType"),l.E):ue(r.mediaKeySession)}))},t.getLength=function(){return this._storage.getLength()},t.getAll=function(){return this._storage.getAll()},t.closeAllSessions=function(){var e=this;return(0,x.P)((function(){var t=e._storage.getAll().map((function(e){return ue(e.mediaKeySession)}));return y.Z.debug("EME-LSS: Closing all current MediaKeySessions",t.length),e._storage=new he,(0,i.z)(a.T.apply(void 0,t).pipe((0,m.l)()),(0,n.of)(null))}))},e}(),me=r(811),ve=r(6923),ye=function(){function e(e){this.initData=e}return e.prototype.toJSON=function(){return(0,ce.J)(this.initData)},e.decode=function(e){return(0,ce.K)(e)},e}(),be=function(){function e(e){!function(e){(0,me.u)(e,{save:"function",load:"function"},"licenseStorage")}(e),this._entries=[],this._storage=e;try{this._entries=this._storage.load(),Array.isArray(this._entries)||(this._entries=[])}catch(t){y.Z.warn("EME-PSS: Could not get entries from license storage",t),this.dispose()}}var t=e.prototype;return t.getLength=function(){return this._entries.length},t.getAll=function(){return this._entries},t.get=function(e){var t=this._getIndex(e);return-1===t?null:this._entries[t]},t.getAndReuse=function(e){var t=this._getIndex(e);if(-1===t)return null;var r=this._entries.splice(t,1)[0];return this._entries.push(r),r},t.add=function(e,t){if(!(0,L.Z)(t)&&(0,ve.Z)(t.sessionId)){var r=t.sessionId,n=this.get(e);null!==n&&n.sessionId===r||(null!==n&&this.delete(e),y.Z.info("EME-PSS: Add new session",r,t),this._entries.push({version:3,sessionId:r,values:this._formatValuesForStore(e.values),initDataType:e.type}),this._save())}else y.Z.warn("EME-PSS: Invalid Persisten Session given.")},t.delete=function(e){var t=this._getIndex(e);if(-1!==t){var r=this._entries[t];y.Z.warn("EME-PSS: Delete session from store",r),this._entries.splice(t,1),this._save()}else y.Z.warn("EME-PSS: initData to delete not found.")},t.deleteOldSessions=function(e){y.Z.info("EME-PSS: Deleting last "+e+" sessions."),e<=0||(e<=this._entries.length?this._entries.splice(0,e):(y.Z.warn("EME-PSS: Asked to remove more information that it contains",e,this._entries.length),this._entries=[]),this._save())},t.dispose=function(){this._entries=[],this._save()},t._getIndex=function(e){for(var t=this._formatValuesForStore(e.values),r=E.zo.apply(void 0,e.values.map((function(e){return e.data}))),n=(0,ee.Z)(r),i=0;i<this._entries.length;i++){var a=this._entries[i];if(a.initDataType===e.type)switch(a.version){case 3:if(fe(t,a.values))return i;break;case 2:if(a.initDataHash===n)try{var o="string"===typeof a.initData?ye.decode(a.initData):a.initData.initData;if((0,k.Z)(o,r))return i}catch(s){y.Z.warn("EME-PSS: Could not decode initialization data.",s)}break;case 1:if(a.initDataHash===n){if("undefined"===typeof a.initData.length)return i;if((0,k.Z)(a.initData,r))return i}break;default:if(a.initData===n)return i}}return-1},t._save=function(){try{this._storage.save(this._entries)}catch(e){y.Z.warn("EME-PSS: Could not save licenses in localStorage")}},t._formatValuesForStore=function(e){return e.slice().sort((function(e,t){return e.systemId===t.systemId?0:void 0===e.systemId?1:void 0===t.systemId||e.systemId<t.systemId?-1:1})).map((function(e){var t=e.systemId,r=e.data;return{systemId:t,data:new ye(r),hash:(0,ee.Z)(r)}}))},e}();function ke(e,t){return J(e,t).pipe((0,u.z)((function(t){var r=t.value,i=r.options,a=r.mediaKeySystemAccess,o=K.Z.getState(e),s=function(e){if(!0!==e.persistentLicense)return null;var t=e.licenseStorage;if(null==t)throw new M.Z("INVALID_KEY_SYSTEM","No license storage found for persistent license.");return y.Z.debug("EME: Set the given license storage"),new be(t)}(i);if(null!==o&&"reuse-media-key-system-access"===t.type){var l=o.mediaKeys,u=o.loadedSessionsStore;if(!1===ie(l)||!(0,L.Z)(i.serverCertificate)&&ae(l,i.serverCertificate))return(0,n.of)({mediaKeys:l,mediaKeySystemAccess:a,stores:{loadedSessionsStore:u,persistentSessionsStore:s},options:i})}return function(e){return y.Z.info("EME: Calling createMediaKeys on the MediaKeySystemAccess"),(0,F.Z)((function(){return(0,P.Z)(e.createMediaKeys())}),void 0).pipe((0,g.K)((function(e){var t=e instanceof Error?e.message:"Unknown error when creating MediaKeys.";throw new M.Z("CREATE_MEDIA_KEYS_ERROR",t)})))}(a).pipe((0,h.U)((function(e){y.Z.info("EME: MediaKeys created with success",e);var t=new ge(e);return{mediaKeys:e,mediaKeySystemAccess:a,stores:{loadedSessionsStore:t,persistentSessionsStore:s},options:i}})))})))}function Ee(e,t){return ke(e,t).pipe((0,u.z)((function(t){var r,i,a=t.mediaKeys,o=t.mediaKeySystemAccess,l=t.stores,c=t.options;((0,L.Z)(c.licenseStorage)||!0===c.licenseStorage.disableRetroCompatibility)&&(i=o.keySystem,r=(0,G.Z)(i,"com.microsoft.playready")||"com.chromecast.playready"===i||"com.youtube.playready"===i?"9a04f07998404286ab92e65be0885f95":"com.widevine.alpha"===i?"edef8ba979d64acea3c827dcd51d21ed":(0,G.Z)(i,"com.apple.fps")?"94ce86fb07ff4f43adb893d2fa968ca2":(0,G.Z)(i,"com.nagra.")?"adb41c242dbf4a6d958b4457c0d27b95":void 0);var d=new s.t(1),h=null!==e.mediaKeys&&void 0!==e.mediaKeys&&a!==e.mediaKeys,g=(0,n.of)(null);return h&&(y.Z.debug("EME: Disabling old MediaKeys"),g=function(e){return(0,x.P)((function(){return K.Z.setState(e,null),(0,H.Y)(e,null)}))}(e)),g.pipe((0,u.z)((function(){return y.Z.debug("EME: Attaching current MediaKeys"),d.pipe((0,u.z)((function(){var t={loadedSessionsStore:l.loadedSessionsStore,mediaKeySystemAccess:o,mediaKeys:a,keySystemOptions:c};return function(e,t){var r=t.keySystemOptions,i=t.loadedSessionsStore,a=t.mediaKeySystemAccess,o=t.mediaKeys;return(0,x.P)((function(){var t=K.Z.getState(e);return(null!==t&&t.loadedSessionsStore!==i?t.loadedSessionsStore.closeAllSessions():(0,n.of)(null)).pipe((0,u.z)((function(){return K.Z.setState(e,{keySystemOptions:r,mediaKeySystemAccess:a,mediaKeys:o,loadedSessionsStore:i}),e.mediaKeys===o?(0,n.of)(null):(y.Z.info("EME: Attaching MediaKeys to the media element"),(0,H.Y)(e,o).pipe((0,p.b)((function(){y.Z.info("EME: MediaKeys attached with success")}))))})))}))}(e,t)})),(0,f.q)(1),(0,j.h)({type:"attached-media-keys",value:{mediaKeySystemAccess:o,mediaKeys:a,stores:l,options:c}}),(0,N.O)({type:"created-media-keys",value:{mediaKeySystemAccess:o,initializationDataSystemId:r,mediaKeys:a,stores:l,options:c,attachMediaKeys$:d}}))})))})))}var _e=r(3349),Se=r(1788),Te=r(3786),we=r(6716),xe=r(278),Oe=r(7991),Pe=r(1454),Ce=r(6798),Ae=r(1973),Me=r(1819),Ie=r(7853),Re=r(2566),De=(0,Me.d)((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function Le(e){throw new De(e)}var je=r(8474),Ne=r(3505),Ue=r(2572),Be="expired",Fe="internal-error",ze="output-restricted";function Ve(e,t,r){var n=[],i=[],a=[],o=t.fallbackOn,s=void 0===o?{}:o,l=t.throwOnLicenseExpiration;return e.keyStatuses.forEach((function(e,t){var o="string"===typeof e?[e,t]:[t,e],u=o[0],c=function(e,t){return-1!==e.indexOf("playready")&&(Z.YM||Z.kD)?(0,_.wO)(t):t}(r,new Uint8Array(o[1]));switch(u){case Be:var d=new M.Z("KEY_STATUS_CHANGE_ERROR","A decryption key expired");if(!1!==l)throw d;n.push({type:"warning",value:d}),a.push(c);break;case Fe:var f=new M.Z("KEY_STATUS_CHANGE_ERROR","An invalid key status has been encountered: "+u);if(!0!==s.keyInternalError)throw f;n.push({type:"warning",value:f}),i.push(c);break;case ze:var p=new M.Z("KEY_STATUS_CHANGE_ERROR","An invalid key status has been encountered: "+u);if(!0!==s.keyOutputRestricted)throw p;n.push({type:"warning",value:p}),i.push(c);break;default:a.push(c)}})),{warnings:n,blacklistedKeyIDs:i,whitelistedKeyIds:a}}var We=v.Xe,$e=v.GJ,He=v.eX,Ke=function(e){function t(r){var n;return n=e.call(this)||this,Object.setPrototypeOf((0,_e.Z)(n),t.prototype),n.sessionError=r,n}return(0,Se.Z)(t,e),t}((0,Te.Z)(Error));function Ge(e,t,r,i){y.Z.info("EME: Binding session events",e);var o,s,c=new we.x,d=t.getLicenseConfig,f=void 0===d?{}:d,m=We(e).pipe((0,h.U)((function(e){throw new M.Z("KEY_ERROR",e.type)}))),v=He(e).pipe((0,u.z)((function(n){return function(e,t,r,n){y.Z.info("EME: keystatuseschange event received",e,n);var i=(0,x.P)((function(){return(0,F.Z)((function(){return"function"!==typeof t.onKeyStatusesChange?l.E:(0,P.Z)(t.onKeyStatusesChange(n,e))}),void 0)})).pipe((0,h.U)((function(t){return{type:"key-status-change-handled",value:{session:e,license:t}}})),(0,g.K)((function(e){var t=new M.Z("KEY_STATUS_CHANGE_ERROR","Unknown `onKeyStatusesChange` error");throw!(0,L.Z)(e)&&(0,ve.Z)(e.message)&&(t.message=e.message),t})));return(0,a.T)(Ze(e,t,r),i)}(e,t,r,n)}))),b=$e(e).pipe((0,u.z)((function(r){var n=new Uint8Array(r.message),a=(0,ve.Z)(r.messageType)?r.messageType:"license-request";return y.Z.info("EME: Received message event, type "+a,e,r),function(e,t){var r=t.baseDelay,n=t.maxDelay,i=t.totalRetry,a=t.shouldRetry,o=t.onRetry,s=0;return e.pipe((0,g.K)((function(e,t){if(!(0,L.Z)(a)&&!a(e)||s++>=i)throw e;"function"===typeof o&&o(e,s);var l=Math.min(r*Math.pow(2,s-1),n),c=(0,Ue.Z)(l);return(0,B.H)(c).pipe((0,u.z)((function(){return t})))})))}((0,x.P)((function(){var e=t.getLicense(n,a),r=(0,L.Z)(f.timeout)?1e4:f.timeout;return(0,P.Z)(e).pipe(r>=0?function(e,t){var r=(0,Pe.q)(e)?{first:e}:"number"===typeof e?{each:e}:e,n=r.first,i=r.each,a=r.with,o=void 0===a?Le:a,s=r.scheduler,l=void 0===s?null!==t&&void 0!==t?t:Oe.z:s,u=r.meta,c=void 0===u?null:u;if(null==n&&null==i)throw new TypeError("No timeout provided.");return(0,Ce.e)((function(e,t){var r,a,s=null,u=0,d=function(e){a=(0,Ie.A)(t,l,(function(){r.unsubscribe(),(0,Ae.Xf)(o({meta:c,lastValue:s,seen:u})).subscribe(t)}),e)};r=e.subscribe(new Re.Q(t,(function(e){null===a||void 0===a||a.unsubscribe(),u++,t.next(s=e),i>0&&d(i)}),void 0,void 0,(function(){(null===a||void 0===a?void 0:a.closed)||null===a||void 0===a||a.unsubscribe(),s=null}))),d(null!=n?"number"===typeof n?n:+n-l.now():i)}))}(r):xe.y)})),function(e,t){return{totalRetry:null!==t&&void 0!==t?t:2,baseDelay:200,maxDelay:3e3,shouldRetry:function(e){return e instanceof De||(0,L.Z)(e)||!0!==e.noRetry},onRetry:function(t){return e.next({type:"warning",value:qe(t)})}}}(c,f.retry)).pipe((0,h.U)((function(t){return{type:"key-message-handled",value:{session:e,license:t}}})),(0,g.K)((function(e){var t=qe(e);if(!(0,L.Z)(e)&&!0===e.fallbackOnLastTry)throw y.Z.warn("EME: Last `getLicense` attempt failed. Blacklisting the current session."),new Ke(t);throw t})),(0,N.O)({type:"session-message",value:{messageType:a,initializationData:i}}))}))),k=(0,a.T)(b,v).pipe((o=function(t){switch(t.type){case"key-message-handled":case"key-status-change-handled":return function(e,t,r){return(0,L.Z)(t)?(y.Z.info("EME: No message given, skipping session.update"),(0,n.of)({type:"no-update",value:{initializationData:r}})):(y.Z.info("EME: Updating MediaKeySession with message"),(0,P.Z)(e.update(t)).pipe((0,g.K)((function(e){var t=e instanceof Error?e.toString():"`session.update` failed";throw new M.Z("KEY_UPDATE_ERROR",t)})),(0,p.b)((function(){y.Z.info("EME: MediaKeySession update succeeded.")})),(0,j.h)({type:"session-updated",value:{session:e,license:t,initializationData:r}})))}(e,t.value.license,i);default:return(0,n.of)(t)}},(0,je.m)(s)?(0,u.z)(o,s,1):(0,u.z)(o,1))),E=(0,a.T)(Ze(e,t,r),k,m,c);return(0,L.Z)(e.closed)?E:E.pipe((0,Ne.R)((0,P.Z)(e.closed)))}function Ze(e,t,r){return(0,x.P)((function(){if(0===e.keyStatuses.size)return l.E;var a=Ve(e,t,r),o=a.warnings,s=a.blacklistedKeyIDs,u=a.whitelistedKeyIds,c=o.length>0?n.of.apply(void 0,o):l.E,d=(0,n.of)({type:"keys-update",value:{whitelistedKeyIds:u,blacklistedKeyIDs:s}});return(0,i.z)(c,d)}))}function qe(e){if(e instanceof De)return new M.Z("KEY_LOAD_TIMEOUT","The license server took too much time to respond.");var t=new M.Z("KEY_LOAD_ERROR","An error occured when calling `getLicense`.");return!(0,L.Z)(e)&&(0,ve.Z)(e.message)&&(t.message=e.message),t}function Xe(e,t){return(0,x.P)((function(){return"function"!==typeof e.setServerCertificate?(y.Z.warn("EME: Could not set the server certificate. mediaKeys.setServerCertificate is not a function"),l.E):!0===ie(e)?(y.Z.info("EME: The MediaKeys already has a server certificate, skipping..."),l.E):(y.Z.info("EME: Setting server certificate on the MediaKeys"),re(e),function(e,t){return(0,x.P)((function(){return(0,F.Z)((function(){return(0,P.Z)(e.setServerCertificate(t))}),void 0).pipe((0,g.K)((function(e){y.Z.warn("EME: mediaKeys.setServerCertificate returned an error",e);var t=e instanceof Error?e.toString():"`setServerCertificate` error";throw new M.Z("LICENSE_SERVER_CERTIFICATE_ERROR",t)})))}))}(e,t).pipe((0,p.b)((function(){ne(e,t)})),(0,m.l)(),(0,g.K)((function(e){return(0,n.of)({type:"warning",value:e})}))))}))}var Ye=A.Z.EME_DEFAULT_MAX_SIMULTANEOUS_MEDIA_KEY_SESSIONS,Qe=A.Z.EME_MAX_STORED_PERSISTENT_SESSION_INFORMATION,Je=v.Oh,et=function(e,t,r){y.Z.debug("EME: Starting EMEManager logic.");var v=new he,b=new he,_=Ee(e,t).pipe((0,u.z)((function(e){if("attached-media-keys"!==e.type)return(0,n.of)(e);var t=e.value,r=t.mediaKeys,a=t.options.serverCertificate;return(0,L.Z)(a)?(0,n.of)(e):(0,i.z)(Xe(r,a),(0,n.of)(e))})),(0,c.d)()),S=_.pipe((0,d.h)((function(e){return"attached-media-keys"===e.type})),(0,f.q)(1)),T=Je(e).pipe((0,p.b)((function(e){y.Z.debug("EME: Encrypted event received from media element.",e)})),(0,D.Z)((function(e){return w(e)}),null),(0,c.d)({refCount:!0})),x=r.pipe((0,p.b)((function(e){y.Z.debug("EME: Encrypted event received from Player",e)}))),O=(0,a.T)(x,T).pipe((0,u.z)((function(e){return S.pipe((0,h.U)((function(t){return[e,t]})))})),(0,u.z)((function(e){var t=e[0],r=e[1],i=r.value,c=i.mediaKeySystemAccess,d=i.stores,f=i.options,p=b.get(t);if(void 0!==p){if(void 0===t.type){y.Z.error("EME: The current session has already been blacklisted but the current content is not known. Throwing.");var _=p.sessionError;return _.fatal=!0,(0,o._)((function(){return _}))}return y.Z.warn("EME: The current session has already been blacklisted. Blacklisting content."),(0,n.of)({type:"blacklist-protection-data",value:t})}var S,T=new s.t(1);if("content"===f.singleLicensePer&&!v.isEmpty()){var w=t.keyIds;if(void 0===w)return y.Z.warn("EME: Initialization data linked to unknown key id, we'll not able to fallback from it."),(0,n.of)({type:"init-data-ignored",value:{initializationData:t}});var x=v.getAll()[0];return x.lastKeyUpdate$.pipe((0,u.z)((function(e){return w.every((function(t){for(var r=0;r<e.whitelistedKeyIds.length;r++)if((0,k.Z)(e.whitelistedKeyIds[r],t))return!0}))?(r.value.stores.loadedSessionsStore.reuse(x.initializationData),(0,n.of)({type:"init-data-ignored",value:{initializationData:t}})):(0,n.of)({type:"keys-update",value:{blacklistedKeyIDs:w,whitelistedKeyIds:[]}})})))}if(!v.storeIfNone(t,{initializationData:t,lastKeyUpdate$:T}))return y.Z.debug("EME: Init data already received. Skipping it."),(0,n.of)({type:"init-data-ignored",value:{initializationData:t}});!0!==f.persistentLicense?S="temporary":function(e){var t=e.getConfiguration().sessionTypes;return void 0!==t&&(0,I.Z)(t,"persistent-license")}(c)?S="persistent-license":(y.Z.warn('EME: Cannot create "persistent-license" session: not supported'),S="temporary");var O="number"===typeof f.maxSessionCacheSize?f.maxSessionCacheSize:Ye;return $(t,d,S,O).pipe((0,u.z)((function(e){switch(e.type){case"cleaning-old-session":return v.remove(e.value.initializationData),l.E;case"cleaned-old-session":return l.E;case"created-session":case"loaded-open-session":case"loaded-persistent-session":break;default:(0,R.Z)(e)}var r=e.value,i=r.mediaKeySession,o=r.sessionType,s=!1,u=E.zo.apply(void 0,t.values.map((function(e){return e.data}))),p="created-session"!==e.type?l.E:C(i,t.type,u).pipe((0,g.K)((function(e){throw new M.Z("KEY_GENERATE_REQUEST_ERROR",e instanceof Error?e.toString():"Unknown error")})),(0,m.l)());return(0,a.T)(Ge(i,f,c.keySystem,t),p).pipe((0,h.U)((function(e){if("keys-update"!==e.type)return e;var r=t.keyIds;if(void 0!==r&&"init-data"!==f.singleLicensePer){var n,a=r.filter((function(t){return!e.value.whitelistedKeyIds.some((function(e){return(0,k.Z)(e,t)}))&&!e.value.blacklistedKeyIDs.some((function(e){return(0,k.Z)(e,t)}))}));a.length>0&&(n=e.value.blacklistedKeyIDs).push.apply(n,a)}if(T.next(e.value),0===e.value.whitelistedKeyIds.length&&0===e.value.blacklistedKeyIDs.length||"temporary"===o||null===d.persistentSessionsStore||s)return e;var l=d.persistentSessionsStore;return function(e,t){if(!(isNaN(t)||t<0||t>=e.getLength())){var r=e.getLength(),n=r-t;y.Z.info("EME: Too many stored persistent sessions, removing some.",r,n),e.deleteOldSessions(n)}}(l,Qe-1),l.add(t,i),s=!0,e})),(0,g.K)((function(e){if(!(e instanceof Ke))throw e;b.store(t,e);var r=e.sessionError;if(void 0===t.type)throw y.Z.error("EME: Current session blacklisted and content not known. Throwing."),r.fatal=!0,r;return y.Z.warn("EME: Current session blacklisted. Blacklisting content."),(0,n.of)({type:"warning",value:r},{type:"blacklist-protection-data",value:t})})))})))})));return(0,a.T)(_,T.pipe((0,h.U)((function(e){return{type:"encrypted-event-received",value:e}}))),O)}},6033:function(e,t){"use strict";var r=new WeakMap;t.Z={setState:function(e,t){r.set(e,t)},getState:function(e){var t=r.get(e);return void 0===t?null:t},clearState:function(e){r.set(e,null)}}},4507:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(3071),i=r(2817),a=r(9127),o=r(6139),s=r(8719),l=r(5157),u=r(7874),c=r(3887),d=s.Oh;function f(e,t,r){var s=(0,n.T)(d(e),r);return null==u.Z.emeManager?(0,n.T)(s.pipe((0,a.U)((function(){throw c.Z.error("Init: Encrypted event but EME feature not activated"),new l.Z("MEDIA_IS_ENCRYPTED_ERROR","EME feature not activated.")}))),(0,i.of)({type:"eme-disabled"})):0===t.length?(0,n.T)(s.pipe((0,a.U)((function(){throw c.Z.error("Init: Ciphered media and no keySystem passed"),new l.Z("MEDIA_IS_ENCRYPTED_ERROR","Media is encrypted and no `keySystems` given")}))),(0,i.of)({type:"eme-disabled"})):"function"!==typeof o.N?(0,n.T)(s.pipe((0,a.U)((function(){throw c.Z.error("Init: Encrypted event but no EME API available"),new l.Z("MEDIA_IS_ENCRYPTED_ERROR","Encryption APIs not found.")}))),(0,i.of)({type:"eme-disabled"})):(c.Z.debug("Init: Creating EMEManager"),u.Z.emeManager(e,t,r))}},8343:function(e,t){"use strict";var r={loaded:function(e){return{type:"loaded",value:{segmentBuffersStore:e}}},decipherabilityUpdate:function(e){return{type:"decipherabilityUpdate",value:e}},manifestReady:function(e){return{type:"manifestReady",value:{manifest:e}}},manifestUpdate:function(){return{type:"manifestUpdate",value:null}},nullRepresentation:function(e,t){return{type:"representationChange",value:{type:e,representation:null,period:t}}},reloadingMediaSource:function(){return{type:"reloading-media-source",value:void 0}},stalled:function(e){return{type:"stalled",value:e}},unstalled:function(){return{type:"unstalled",value:null}},warning:function(e){return{type:"warning",value:e}}};t.Z=r},2795:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(6362),i=r(2817),a=r(4975),o=r(4727),s=r(3833),l=r(9878),u=r(2006),c=r(8515),d=r(3994),f=r(3666);function p(){return f.op}var h=r(9917),g=r(8117),m=r(5561),v=r(3774),y=r(8719),b=r(3887);function k(e,t,r){var l=e.pipe((0,a.h)((function(e){var n=e.seeking,i=e.stalled,a=e.readyState,o=e.currentRange;return!n&&null===i&&(function(e,t){return!e||!f.SB||t}(r,t.hasAttribute("playsinline"))?(a>=4||3===a&&null!==o)&&(!p()||t.duration>0):a>=1&&t.duration>0)})),(0,o.q)(1),(0,s.h)("can-play"));return p()&&0===t.duration?(0,n.z)((0,i.of)("not-loaded-metadata"),l):l}function E(e){return function(e){return(0,h.P)((function(){return(0,m.Z)((function(){return(0,g.Z)(e.play())}),void 0)}))}(e).pipe((0,s.h)("autoplay"),(0,l.K)((function(e){if(e instanceof Error&&"NotAllowedError"===e.name)return b.Z.warn("Init: Media element can't play. It may be due to browser auto-play policies."),(0,i.of)("autoplay-blocked");throw e})))}function _(e){var t=e.clock$,r=e.mediaElement,n=e.startTime,a=e.mustAutoPlay,s=e.setCurrentTime,l=e.isDirectfile,f=function(e){return e.readyState>=v.cX.HAVE_METADATA?(0,i.of)(null):(0,y.K4)(e).pipe((0,o.q)(1))}(r).pipe((0,o.q)(1),(0,u.b)((function(){b.Z.info("Init: Set initial time",n);var e="function"===typeof n?n():n;s(e)})),(0,c.d)({refCount:!0})),p=f.pipe((0,d.z)((function(){return k(t,r,l).pipe((0,u.b)((function(){return b.Z.info("Init: Can begin to play content")})),(0,d.z)((function(e){return"can-play"===e?a?E(r):(r.autoplay&&b.Z.warn("Init: autoplay is enabled on HTML media element. Media will play as soon as possible."),(0,i.of)("loaded")):(0,i.of)(e)})))})),(0,c.d)({refCount:!0}));return{seek$:f,load$:p}}},8969:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(1545),i=r(2817),a=r(3071),o=r(3994),s=r(5583),l=r(533),u=r(9127),c=r(4975),d=r(4727),f=r(8902),p=r(1480),h=r(3887),g=r(5767),m=r(3714),v=r(4437),y=r(4507),b=r(8343),k=r(2795),E=r(2447),_=r(2983);function S(e){var t=e.autoPlay,r=e.clock$,S=e.keySystems,T=e.mediaElement,w=e.speed$,x=e.setCurrentTime,O=e.startAt,P=e.url;if((0,g.Z)(T),null==P)throw new Error("No URL for a DirectFile content");var C=function(e,t){return new p.y((function(r){return h.Z.info("Setting URL to Element",t,e),e.src=t,r.next(void 0),function(){(0,g.Z)(e)}}))}(T,P);h.Z.debug("Init: Calculating initial time");var A=function(){return function(e,t){if(null==t)return 0;if(null!=t.position)return t.position;if(null!=t.wallClockTime)return t.wallClockTime;if(null!=t.fromFirstPosition)return t.fromFirstPosition;var r=e.duration;if(null==r||!isFinite(r))return h.Z.warn("startAt.fromLastPosition set but no known duration, beginning at 0."),0;if("number"===typeof t.fromLastPosition)return Math.max(0,r+t.fromLastPosition);if(null!=t.percentage){var n=t.percentage;return n>=100?r:n<=0?0:r*(+n/100)}return 0}(T,O)};h.Z.debug("Init: Initial time calculated:",A);var M=(0,k.Z)({clock$:r,mediaElement:T,startTime:A,mustAutoPlay:t,setCurrentTime:x,isDirectfile:!0}),I=M.seek$,R=M.load$,D=C.pipe((0,o.z)((function(){return(0,y.Z)(T,S,n.E)})),(0,v.Z)(),(0,s.B)()),L=(0,E.Z)(T),j=(0,_.Z)(T,w,r).pipe((0,l.l)()),N=r.pipe((0,u.U)((function(e){return null===e.stalled?b.Z.unstalled():b.Z.stalled(e.stalled)}))),U=D.pipe((0,c.h)((function(e){return"created-media-keys"===e.type?(e.value.attachMediaKeys$.next(),!0):"eme-disabled"===e.type||"attached-media-keys"===e.type})),(0,d.q)(1),(0,f.j)(R),(0,o.z)((function(e){if("autoplay-blocked"===e){var t=new m.Z("MEDIA_ERR_BLOCKED_AUTOPLAY","Cannot trigger auto-play automatically: your browser does not allow it.");return(0,i.of)(b.Z.warning(t),b.Z.loaded(null))}if("not-loaded-metadata"===e){var r=new m.Z("MEDIA_ERR_NOT_LOADED_METADATA","Cannot load automatically: your browser falsely announced having loaded the content.");return(0,i.of)(b.Z.warning(r))}return(0,i.of)(b.Z.loaded(null))}))),B=I.pipe((0,l.l)());return(0,a.T)(U,B,D,L,j,N)}},2447:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2401),i=r(3994),a=r(3714);function o(e){return(0,n.R)(e,"error").pipe((0,i.z)((function(){switch(null==e.error?0:e.error.code){case 1:throw new a.Z("MEDIA_ERR_ABORTED","The fetching of the associated resource was aborted by the user's request.");case 2:throw new a.Z("MEDIA_ERR_NETWORK","A network error occurred which prevented the media from being successfully fetched");case 3:throw new a.Z("MEDIA_ERR_DECODE","An error occurred while trying to decode the media resource");case 4:throw new a.Z("MEDIA_ERR_SRC_NOT_SUPPORTED","The media resource has been found to be unsuitable.");default:throw new a.Z("MEDIA_ERR_UNKNOWN","The HTMLMediaElement errored due to an unknown reason.")}})))}},2983:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(9917),i=r(2817),a=r(9127),o=r(8430),s=r(3741),l=r(4978),u=r(2006),c=r(3887);function d(e,t,r){return r.pipe((0,a.U)((function(e){return null!==e.stalled})),(0,o.O)(!1),(0,s.x)()).pipe((0,l.w)((function(r){return r?(0,n.P)((function(){return c.Z.info("Init: Pause playback to build buffer"),e.playbackRate=0,(0,i.of)(0)})):t.pipe((0,u.b)((function(t){c.Z.info("Init: Resume playback speed",t),e.playbackRate=t})))})))}},7127:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(1788),i=r(9917),a=r(2817),o=r(3887),s=r(4123),l=r(4309),u=function(e){function t(){var t;return o.Z.debug("ISB: Creating ImageSegmentBuffer"),(t=e.call(this)||this).bufferType="image",t._buffered=new l.Z,t}(0,n.Z)(t,e);var r=t.prototype;return r.pushChunk=function(e){var t=this;return(0,i.P)((function(){var r,n;if(o.Z.debug("ISB: appending new data."),null===e.data.chunk)return(0,a.of)(void 0);var i=e.data,s=i.appendWindow,l=i.chunk,u=l.start,c=l.end,d=l.timescale,f=null!==(r=s[0])&&void 0!==r?r:0,p=null!==(n=s[1])&&void 0!==n?n:1/0,h=u/d,g=c/d,m=Math.max(f,h),v=Math.min(p,g);return t._buffered.insert(m,v),null!==e.inventoryInfos&&t._segmentInventory.insertChunk(e.inventoryInfos),(0,a.of)(void 0)}))},r.removeBuffer=function(e,t){return(0,i.P)((function(){return o.Z.info("ISB: ignored image data remove order",e,t),(0,a.of)(void 0)}))},r.endOfSegment=function(e){var t=this;return(0,i.P)((function(){return t._segmentInventory.completeSegment(e),(0,a.of)(void 0)}))},r.getBufferedRanges=function(){return this._buffered},r.dispose=function(){o.Z.debug("ISB: disposing image SegmentBuffer"),this._buffered.remove(0,1/0)},t}(s.C)},5192:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var n=r(1788),i=r(3071),a=r(6697),o=r(6362),s=r(2817),l=r(6716),u=r(9917),c=r(8430),d=r(8550),f=r(3833),p=r(3505),h=r(8719),g=r(1480),m=r(9127),v=r(3741),y=r(3887),b=r(2203).Z?void 0:window.ResizeObserver,k=r(944),E=r(4123),_=r(4309),S=r(7874);function T(e,t){return Math.abs(e-t)<=.2}function w(e,t){for(var r=e.length-1;r>=0;r--)if(e[r].start<t)return e.slice(0,r+1);return[]}function x(e,t){for(var r=0;r<e.length;r++)if(e[r].end>t)return e.slice(r,e.length);return[]}function O(e,t,r){var n=Math.max(e.start,t),i=w(e.cues,t),a={start:e.start,end:n,cues:i},o=Math.min(r,e.end),s=x(e.cues,r);return[a,{start:o,end:e.end,cues:s}]}var P=function(){function e(){this._cuesBuffer=[]}var t=e.prototype;return t.get=function(e){for(var t=this._cuesBuffer,r=[],n=t.length-1;n>=0;n--){var i=t[n];if(e<i.end&&e>=i.start){for(var a=i.cues,o=0;o<a.length;o++)e>=a[o].start&&e<a[o].end&&r.push(a[o].element);return r}}return[]},t.remove=function(e,t){for(var r=Math.max(e,t),n=this._cuesBuffer,i=0;i<n.length;i++)if(n[i].end>e){var a=n[i];if(a.start>=r)return;if(a.end>=r){if(e<=a.start)a.cues=x(a.cues,r),a.start=r;else{var o=O(a,e,r),s=o[0],l=o[1];this._cuesBuffer[i]=s,n.splice(i+1,0,l)}return}a.start>=e?(n.splice(i,1),i--):(a.cues=w(a.cues,e),a.end=Math.max(e,a.start))}},t.insert=function(e,t,r){var n=this._cuesBuffer,i={start:t,end:r,cues:e};function a(e){var t=n[e];void 0===t||T(i.end,t.end)?n[e]=i:(t.start>=i.end||(t.cues=x(t.cues,i.end),t.start=i.end),n.splice(e,0,i))}for(var o=0;o<n.length;o++){var s=n[o];if(t<s.end){if(T(t,s.start)){if(T(r,s.end))return void(n[o]=i);if(r<s.end)return s.cues=x(s.cues,r),s.start=r,void n.splice(o,0,i);do{n.splice(o,1),s=n[o]}while(void 0!==s&&r>s.end);return void a(o)}if(t<s.start){if(r<s.start)return void n.splice(o,0,i);if(T(r,s.start))return s.start=r,void n.splice(o,0,i);if(T(r,s.end))return void n.splice(o,1,i);if(r<s.end)return s.cues=x(s.cues,r),s.start=r,void n.splice(o,0,i);do{n.splice(o,1),s=n[o]}while(void 0!==s&&r>s.end);return void a(o)}if(T(s.end,r))return s.cues=w(s.cues,t),s.end=t,void n.splice(o+1,0,i);if(s.end>r){var l=O(s,t,r),u=l[0],c=l[1];return this._cuesBuffer[o]=u,n.splice(o+1,0,i),void n.splice(o+2,0,c)}for(s.cues=w(s.cues,t),s.end=t,s=n[o+1];void 0!==s&&r>s.end;)n.splice(o,1),s=n[o];return void a(o)}}n.push(i)},e}();function C(e,t,r,n){for(var i=[t/r.columns,e/r.rows],a=n.getElementsByClassName("proportional-style"),o=0;o<a.length;o++){var s=a[o];if(s instanceof HTMLElement){var l=s.getAttribute("data-proportional-font-size");null===l||isNaN(+l)||(s.style.fontSize=String(+l*i[1])+"px");var u=s.getAttribute("data-proportional-width");null===u||isNaN(+u)||(s.style.width=String(+u*i[0])+"px");var c=s.getAttribute("data-proportional-height");null===c||isNaN(+c)||(s.style.height=String(+c*i[1])+"px");var d=s.getAttribute("data-proportional-line-height");null===d||isNaN(+d)||(s.style.lineHeight=String(+d*i[1])+"px");var f=s.getAttribute("data-proportional-left");null===f||isNaN(+f)||(s.style.left=String(+f*i[0])+"px");var p=s.getAttribute("data-proportional-top");null===p||isNaN(+p)||(s.style.top=String(+p*i[1])+"px");var h=s.getAttribute("data-proportional-padding-top");null===h||isNaN(+h)||(s.style.paddingTop=String(+h*i[1])+"px");var g=s.getAttribute("data-proportional-padding-bottom");null===g||isNaN(+g)||(s.style.paddingBottom=String(+g*i[1])+"px");var m=s.getAttribute("data-proportional-padding-left");null===m||isNaN(+m)||(s.style.paddingLeft=String(+m*i[0])+"px");var v=s.getAttribute("data-proportional-padding-right");null===v||isNaN(+v)||(s.style.paddingRight=String(+v*i[0])+"px")}}return a.length>0}var A=h.C1,M=h.ik,I=h.d5,R=k.Z.MAXIMUM_HTML_TEXT_TRACK_UPDATE_INTERVAL,D=k.Z.TEXT_TRACK_SIZE_CHECKS_INTERVAL;function L(e,t){try{e.removeChild(t)}catch(r){y.Z.warn("HTSB: Can't remove text track: not in the element.")}}function j(e){var t=e.getAttribute("data-resolution-rows"),r=e.getAttribute("data-resolution-columns");if(null===t||null===r)return null;var n=parseInt(t,10),i=parseInt(r,10);return null===n||null===i?null:{rows:n,columns:i}}var N=function(e){function t(t,r){var n;return y.Z.debug("HTSB: Creating HTMLTextSegmentBuffer"),(n=e.call(this)||this).bufferType="text",n._buffered=new _.Z,n._videoElement=t,n._textTrackElement=r,n._clearSizeUpdates$=new l.x,n._destroy$=new l.x,n._buffer=new P,n._currentCues=[],function(e){var t=I(e),r=M(e),n=A(e),l=(0,i.T)(r,n),u=(0,a.F)(R).pipe((0,c.O)(null));return l.pipe((0,c.O)(null),(0,d.c)((0,o.z)(u.pipe((0,f.h)(!0),(0,p.R)(t)),(0,s.of)(!1))))}(n._videoElement).pipe((0,p.R)(n._destroy$)).subscribe((function(e){if(e){var t=Math.max(n._videoElement.currentTime+R/1e3/2,0),r=n._buffer.get(t);0===r.length?n._disableCurrentCues():n._displayCues(r)}else n._disableCurrentCues()})),n}(0,n.Z)(t,e);var r=t.prototype;return r.pushChunk=function(e){var t=this;return(0,u.P)((function(){return t.pushChunkSync(e),(0,s.of)(void 0)}))},r.removeBuffer=function(e,t){var r=this;return(0,u.P)((function(){return r.removeBufferSync(e,t),(0,s.of)(void 0)}))},r.endOfSegment=function(e){var t=this;return(0,u.P)((function(){return t._segmentInventory.completeSegment(e),(0,s.of)(void 0)}))},r.getBufferedRanges=function(){return this._buffered},r.dispose=function(){y.Z.debug("HTSB: Disposing HTMLTextSegmentBuffer"),this._disableCurrentCues(),this._buffer.remove(0,1/0),this._buffered.remove(0,1/0),this._destroy$.next(),this._destroy$.complete()},r.pushChunkSync=function(e){var t,r;y.Z.debug("HTSB: Appending new html text tracks");var n=e.data,i=n.timestampOffset,a=n.appendWindow,o=n.chunk;if(null!==o){var s,l,u=o.start,c=o.end,d=o.data,f=o.type,p=o.language,h=null!==(t=a[0])&&void 0!==t?t:0,g=null!==(r=a[1])&&void 0!==r?r:1/0,m=function(e,t,r,n){y.Z.debug("HTSB: Finding parser for html text tracks:",e);var i=S.Z.htmlTextTracksParsers[e];if("function"!==typeof i)throw new Error("no parser found for the given text track");y.Z.debug("HTSB: Parser found, parsing...");var a=i(t,r,n);return y.Z.debug("HTTB: Parsed successfully!",a),a}(f,d,i,p);if(0!==h&&g!==1/0){for(var v=0;v<m.length&&m[v].end<=h;)v++;for(m.splice(0,v),v=0;v<m.length&&m[v].start<h;)m[v].start=h,v++;for(v=m.length-1;v>=0&&m[v].start>=g;)v--;for(m.splice(v,m.length),v=m.length-1;v>=0&&m[v].end>g;)m[v].end=g,v--}if(void 0!==u)s=Math.max(h,u);else{if(m.length<=0)return void y.Z.warn("HTSB: Current text tracks have no cues nor start time. Aborting");y.Z.warn("HTSB: No start time given. Guessing from cues."),s=m[0].start}if(void 0!==c)l=Math.min(g,c);else{if(m.length<=0)return void y.Z.warn("HTSB: Current text tracks have no cues nor end time. Aborting");y.Z.warn("HTSB: No end time given. Guessing from cues."),l=m[m.length-1].end}l<=s?y.Z.warn("HTSB: Invalid text track appended: ","the start time is inferior or equal to the end time."):(null!==e.inventoryInfos&&this._segmentInventory.insertChunk(e.inventoryInfos),this._buffer.insert(m,s,l),this._buffered.insert(s,l))}},r.removeBufferSync=function(e,t){y.Z.debug("HTSB: Removing html text track data",e,t),this._buffer.remove(e,t),this._buffered.remove(e,t)},r._disableCurrentCues=function(){if(this._clearSizeUpdates$.next(),this._currentCues.length>0){for(var e=0;e<this._currentCues.length;e++)L(this._textTrackElement,this._currentCues[e].element);this._currentCues=[]}},r._displayCues=function(e){if(this._currentCues.length!==e.length||!this._currentCues.every((function(t,r){return t.element===e[r]}))){this._clearSizeUpdates$.next();for(var t=0;t<this._currentCues.length;t++)L(this._textTrackElement,this._currentCues[t].element);this._currentCues=[];for(var r=0;r<e.length;r++){var n=e[r],i=j(n);this._currentCues.push({element:n,resolution:i}),this._textTrackElement.appendChild(n)}var o=this._currentCues.filter((function(e){return null!==e.resolution}));o.length>0&&function(e,t){return(0,u.P)((function(){if(void 0!==b){var r=-1,n=-1;return new g.y((function(t){var i=new b((function(e){if(0!==e.length){var i=e[0].contentRect,a=i.height,o=i.width;a===r&&o===n||(r=a,n=o,t.next({height:a,width:o}))}else y.Z.error("Compat: Resized but no observed element.")}));return i.observe(e),function(){i.disconnect()}}))}return(0,a.F)(t).pipe((0,c.O)(null),(0,m.U)((function(){var t=e.getBoundingClientRect();return{height:t.height,width:t.width}})),(0,v.x)((function(e,t){return e.height===t.height&&e.width===t.width})))}))}(this._textTrackElement,D).pipe((0,p.R)(this._clearSizeUpdates$),(0,p.R)(this._destroy$)).subscribe((function(e){for(var t=e.height,r=e.width,n=0;n<o.length;n++){var i=o[n];C(t,r,i.resolution,i.element)}}))}},t}(E.C)},9059:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(1788),i=r(9917),a=r(2817),o=r(3666),s=r(3887);function l(e,t){if(o.vU&&function(e,t){var r=e.activeCues;if(null===r)return!1;for(var n=0;n<r.length;n++)if(r[n]===t)return!0;return!1}(e,t)){var r=e.mode;e.mode="hidden";try{e.removeCue(t)}catch(n){s.Z.warn("Compat: Could not remove cue from text track.")}e.mode=r}else try{e.removeCue(t)}catch(n){s.Z.warn("Compat: Could not remove cue from text track.")}}var u=r(4123),c=r(4309),d=r(7874),f=function(e){function t(t,r){var n;s.Z.debug("NTSB: Creating NativeTextSegmentBuffer"),n=e.call(this)||this;var i=function(e,t){var r,n,i,a;if(o.YM){var s=e.textTracks.length;(i=s>0?e.textTracks[s-1]:e.addTextTrack("subtitles")).mode=t?null!==(r=i.HIDDEN)&&void 0!==r?r:"hidden":null!==(n=i.SHOWING)&&void 0!==n?n:"showing"}else a=document.createElement("track"),e.appendChild(a),i=a.track,a.kind="subtitles",i.mode=t?"hidden":"showing";return{track:i,trackElement:a}}(t,r),a=i.track,l=i.trackElement;return n.bufferType="text",n._buffered=new c.Z,n._videoElement=t,n._track=a,n._trackElement=l,n}(0,n.Z)(t,e);var r=t.prototype;return r.pushChunk=function(e){var t=this;return(0,i.P)((function(){var r,n;if(s.Z.debug("NTSB: Appending new native text tracks"),null===e.data.chunk)return(0,a.of)(void 0);var i,o,l=e.data,u=l.timestampOffset,c=l.appendWindow,f=l.chunk,p=f.start,h=f.end,g=f.data,m=f.type,v=f.language,y=null!==(r=c[0])&&void 0!==r?r:0,b=null!==(n=c[1])&&void 0!==n?n:1/0,k=function(e,t,r,n){s.Z.debug("NTSB: Finding parser for native text tracks:",e);var i=d.Z.nativeTextTracksParsers[e];if("function"!==typeof i)throw new Error("no parser found for the given text track");s.Z.debug("NTSB: Parser found, parsing...");var a=i(t,r,n);return s.Z.debug("NTSB: Parsed successfully!",a),a}(m,g,u,v);if(0!==y&&b!==1/0){for(var E=0;E<k.length&&k[E].endTime<=y;)E++;for(k.splice(0,E),E=0;E<k.length&&k[E].startTime<y;)k[E].startTime=y,E++;for(E=k.length-1;E>=0&&k[E].startTime>=b;)E--;for(k.splice(E,k.length),E=k.length-1;E>=0&&k[E].endTime>b;)k[E].endTime=b,E--}if(void 0!==p)i=Math.max(y,p);else{if(k.length<=0)return s.Z.warn("NTSB: Current text tracks have no cues nor start time. Aborting"),(0,a.of)(void 0);s.Z.warn("NTSB: No start time given. Guessing from cues."),i=k[0].startTime}if(void 0!==h)o=Math.min(b,h);else{if(k.length<=0)return s.Z.warn("NTSB: Current text tracks have no cues nor end time. Aborting"),(0,a.of)(void 0);s.Z.warn("NTSB: No end time given. Guessing from cues."),o=k[k.length-1].endTime}if(o<=i)return s.Z.warn("NTSB: Invalid text track appended: ","the start time is inferior or equal to the end time."),(0,a.of)(void 0);if(k.length>0){var _=k[0],S=t._track.cues;null!==S&&S.length>0&&_.startTime<S[S.length-1].startTime&&t._removeData(_.startTime,1/0);for(var T=0;T<k.length;T++)t._track.addCue(k[T])}return t._buffered.insert(i,o),null!==e.inventoryInfos&&t._segmentInventory.insertChunk(e.inventoryInfos),(0,a.of)(void 0)}))},r.removeBuffer=function(e,t){var r=this;return(0,i.P)((function(){return r._removeData(e,t),(0,a.of)(void 0)}))},r.endOfSegment=function(e){var t=this;return(0,i.P)((function(){return t._segmentInventory.completeSegment(e),(0,a.of)(void 0)}))},r.getBufferedRanges=function(){return this._buffered},r.dispose=function(){s.Z.debug("NTSB: Aborting NativeTextSegmentBuffer"),this._removeData(0,1/0);var e=this._trackElement,t=this._videoElement;if(void 0!==e&&t.hasChildNodes())try{t.removeChild(e)}catch(r){s.Z.warn("NTSB: Can't remove track element from the video")}this._track.mode="disabled",void 0!==this._trackElement&&(this._trackElement.innerHTML="")},r._removeData=function(e,t){s.Z.debug("NTSB: Removing native text track data",e,t);var r=this._track,n=r.cues;if(null!==n)for(var i=n.length-1;i>=0;i--){var a=n[i],o=a.startTime,u=a.endTime;o>=e&&o<=t&&u<=t&&l(r,a)}this._buffered.remove(e,t)},t}(u.C)},4123:function(e,t,r){"use strict";r.d(t,{C:function(){return m},f:function(){return g}});var n=r(944),i=r(3887),a=r(5952),o=r(5278),s=n.Z.MAX_MANIFEST_BUFFERED_START_END_DIFFERENCE,l=n.Z.MAX_MANIFEST_BUFFERED_DURATION_DIFFERENCE,u=n.Z.MINIMUM_SEGMENT_SIZE,c=function(){function e(){this._inventory=[]}var t=e.prototype;return t.reset=function(){this._inventory.length=0},t.synchronizeBuffered=function(e){for(var t=this._inventory,r=0,n=t[0],a=null===n||void 0===n?void 0:n.infos.adaptation.type,s=e.length,l=0;l<s;l++){if(void 0===n)return;var c=e.start(l),d=e.end(l);if(d-c<u)i.Z.warn("SI: skipped TimeRange when synchronizing because it was too small",a,c,d);else{for(var f=r;void 0!==n&&(0,o.Z)(n.bufferedEnd,n.end)-c<u;)n=t[++r];var g=null,m=r-f;if(m>0){var v=t[f+m-1];g={end:(0,o.Z)(v.bufferedEnd,v.end),precizeEnd:v.precizeEnd},i.Z.debug("SI: "+m+" segments GCed.",a),t.splice(f,m),r=f}if(void 0===n)return;if(d-(0,o.Z)(n.bufferedStart,n.start)>=u){if(p(n,c,g,a),r===t.length-1)return void h(n,d,a);n=t[++r];for(var y=(0,o.Z)(n.bufferedStart,n.start),b=(0,o.Z)(n.bufferedEnd,n.end),k=l<s-1?e.start(l+1):void 0;void 0!==n&&d-y>=u&&(void 0===k||d-y>=b-k);){var E=t[r-1];void 0===E.bufferedEnd&&(E.bufferedEnd=n.precizeStart?n.start:E.end,i.Z.debug("SI: calculating buffered end of contiguous segment",a,E.bufferedEnd,E.end)),n.bufferedStart=E.bufferedEnd,void 0!==(n=t[++r])&&(y=(0,o.Z)(n.bufferedStart,n.start),b=(0,o.Z)(n.bufferedEnd,n.end))}}var _=t[r-1];void 0!==_&&h(_,d,a)}}null!=n&&(i.Z.debug("SI: last segments have been GCed",a,r,t.length),t.splice(r,t.length-r)),void 0!==a&&"DEBUG"===i.Z.getLevel()&&i.Z.debug("SI: current "+a+" inventory timeline:\n"+function(e){var t={},r=[],n=null,i=null;function a(e){var t=String.fromCharCode(r.length+65);return r.push({letter:t,periodId:e.period.id,representationId:e.representation.id,bitrate:e.representation.bitrate}),t}for(var o="",s=0;s<e.length;s++){var l=e[s];if(void 0!==l.bufferedStart&&void 0!==l.bufferedEnd){var u,c=l.infos.period.id,d=l.infos.representation.id,f=t[c],p=void 0;void 0===f?(p=a(l.infos),t[c]=((u={})[d]=p,u)):void 0===f[d]?(p=a(l.infos),f[d]=p):p=f[d],null===n?o+=l.bufferedStart.toFixed(2)+"|"+p+"|":i===p?n.bufferedEnd+1/60<l.bufferedStart&&(o+=n.bufferedEnd.toFixed(2)+" ~ "+l.bufferedStart.toFixed(2)+"|"+p+"|"):o+=n.bufferedEnd.toFixed(2)+" ~ "+l.bufferedStart.toFixed(2)+"|"+p+"|",n=l,i=p}}return null!==n&&(o+=String(n.end.toFixed(2))),r.forEach((function(e){var t;o+="\n["+e.letter+"] P: "+e.periodId+" || R: "+e.representationId+"("+(null!==(t=e.bitrate)&&void 0!==t?t:"unknown bitrate")+")"})),o}(this._inventory))},t.insertChunk=function(e){var t=e.period,r=e.adaptation,n=e.representation,a=e.segment,o=e.start,s=e.end;if(!a.isInit){var l=r.type;if(o>=s)i.Z.warn("SI: Invalid chunked inserted: starts before it ends",l,o,s);else{for(var u=this._inventory,c={partiallyPushed:!0,estimatedStart:o,start:o,end:s,precizeStart:!1,precizeEnd:!1,bufferedStart:void 0,bufferedEnd:void 0,infos:{segment:a,period:t,adaptation:r,representation:n}},d=u.length-1;d>=0;d--){var f=u[d];if(f.start<=o){if(f.end<=o){for(i.Z.debug("SI: Pushing segment strictly after previous one.",l,o,f.end),this._inventory.splice(d+1,0,c),d+=2;d<u.length&&u[d].start<c.end;){if(u[d].end>c.end)return i.Z.debug("SI: Segment pushed updates the start of the next one",l,c.end,u[d].start),u[d].start=c.end,u[d].bufferedStart=void 0,void(u[d].precizeStart=u[d].precizeStart&&c.precizeEnd);i.Z.debug("SI: Segment pushed removes the next one",l,o,s,u[d].start,u[d].end),u.splice(d,1)}return}if(f.start===o){if(f.end<=s){for(i.Z.debug("SI: Segment pushed replace another one",l,o,s,f.end),this._inventory.splice(d,1,c),d+=1;d<u.length&&u[d].start<c.end;){if(u[d].end>c.end)return i.Z.debug("SI: Segment pushed updates the start of the next one",l,c.end,u[d].start),u[d].start=c.end,u[d].bufferedStart=void 0,void(u[d].precizeStart=u[d].precizeStart&&c.precizeEnd);i.Z.debug("SI: Segment pushed removes the next one",l,o,s,u[d].start,u[d].end),u.splice(d,1)}return}return i.Z.debug("SI: Segment pushed ends before another with the same start",l,o,s,f.end),u.splice(d,0,c),f.start=c.end,f.bufferedStart=void 0,void(f.precizeStart=f.precizeStart&&c.precizeEnd)}if(f.end<=c.end){for(i.Z.debug("SI: Segment pushed updates end of previous one",l,o,s,f.start,f.end),this._inventory.splice(d+1,0,c),f.end=c.start,f.bufferedEnd=void 0,f.precizeEnd=f.precizeEnd&&c.precizeStart,d+=2;d<u.length&&u[d].start<c.end;){if(u[d].end>c.end)return i.Z.debug("SI: Segment pushed updates the start of the next one",l,c.end,u[d].start),u[d].start=c.end,u[d].bufferedStart=void 0,void(u[d].precizeStart=u[d].precizeStart&&c.precizeEnd);i.Z.debug("SI: Segment pushed removes the next one",l,o,s,u[d].start,u[d].end),u.splice(d,1)}return}i.Z.debug("SI: Segment pushed is contained in a previous one",l,o,s,f.start,f.end);var p={partiallyPushed:f.partiallyPushed,start:c.end,end:f.end,precizeStart:f.precizeStart&&f.precizeEnd&&c.precizeEnd,precizeEnd:f.precizeEnd,bufferedStart:void 0,bufferedEnd:f.end,infos:f.infos};return f.end=c.start,f.bufferedEnd=void 0,f.precizeEnd=f.precizeEnd&&c.precizeStart,u.splice(d+1,0,c),void u.splice(d+2,0,p)}}var h=this._inventory[0];if(void 0===h)return i.Z.debug("SI: first segment pushed",l,o,s),void this._inventory.push(c);if(!(h.start>=s)){if(h.end<=s){for(i.Z.debug("SI: Segment pushed starts before and completely recovers the previous first one",l,o,s,h.start,h.end),this._inventory.splice(0,1,c);u.length>1&&u[1].start<c.end;){if(u[1].end>c.end)return i.Z.debug("SI: Segment pushed updates the start of the next one",l,c.end,u[1].start),u[1].start=c.end,u[1].bufferedStart=void 0,void(u[1].precizeStart=c.precizeEnd);i.Z.debug("SI: Segment pushed removes the next one",l,o,s,u[1].start,u[1].end),u.splice(1,1)}return}return i.Z.debug("SI: Segment pushed start of the next one",l,o,s,h.start,h.end),h.start=s,h.bufferedStart=void 0,h.precizeStart=c.precizeEnd,void this._inventory.splice(0,0,c)}i.Z.debug("SI: Segment pushed comes before all previous ones",l,o,s,h.start),this._inventory.splice(0,0,c)}}},t.completeSegment=function(e){if(!e.segment.isInit){for(var t=this._inventory,r=!1,n=0;n<t.length;n++)if((0,a.Z)(t[n].infos,e)){r&&i.Z.warn("SI: Completed Segment is splitted.",e),r=!0;var o=n;for(n+=1;n<t.length&&(0,a.Z)(t[n].infos,e);)n++;var s=n-1,l=s-o,u=t[s].end,c=t[s].bufferedEnd;l>0&&(this._inventory.splice(o+1,l),n-=l),this._inventory[o].partiallyPushed=!1,this._inventory[o].end=u,this._inventory[o].bufferedEnd=c}r||i.Z.warn("SI: Completed Segment not found",e)}},t.getInventory=function(){return this._inventory},e}();function d(e){if(void 0===e.bufferedStart||e.partiallyPushed)return!1;var t=e.start,r=e.end-t;return Math.abs(t-e.bufferedStart)<=s&&(void 0===e.bufferedEnd||e.bufferedEnd>e.bufferedStart&&Math.abs(e.bufferedEnd-e.bufferedStart-r)<=Math.min(l,r/3))}function f(e){if(void 0===e.bufferedEnd||e.partiallyPushed)return!1;var t=e.start,r=e.end,n=r-t;return Math.abs(r-e.bufferedEnd)<=s&&null!=e.bufferedStart&&e.bufferedEnd>e.bufferedStart&&Math.abs(e.bufferedEnd-e.bufferedStart-n)<=Math.min(l,n/3)}function p(e,t,r,n){void 0!==e.bufferedStart?(e.bufferedStart<t&&(i.Z.debug("SI: Segment partially GCed at the start",n,e.bufferedStart,t),e.bufferedStart=t),!e.precizeStart&&d(e)&&(e.start=e.bufferedStart,e.precizeStart=!0)):e.precizeStart?(i.Z.debug("SI: buffered start is precize start",n,e.start),e.bufferedStart=e.start):null!==r&&r.end>t&&(r.precizeEnd||e.start-r.end<=s)?(i.Z.debug("SI: buffered start is end of previous segment",n,t,e.start,r.end),e.bufferedStart=r.end,d(e)&&(e.start=r.end,e.precizeStart=!0)):e.start-t<=s?(i.Z.debug("SI: found true buffered start",n,t,e.start),e.bufferedStart=t,d(e)&&(e.start=t,e.precizeStart=!0)):t<e.start?i.Z.debug("SI: range start too far from expected start",n,t,e.start):(i.Z.debug("SI: Segment appears immediately garbage collected at the start",n,e.bufferedStart,t),e.bufferedStart=t)}function h(e,t,r){void 0!==e.bufferedEnd?(e.bufferedEnd>t&&(i.Z.debug("SI: Segment partially GCed at the end",r,e.bufferedEnd,t),e.bufferedEnd=t),!e.precizeEnd&&t-e.end<=s&&f(e)&&(e.precizeEnd=!0,e.end=t)):e.precizeEnd?(i.Z.debug("SI: buffered end is precize end",r,e.end),e.bufferedEnd=e.end):t-e.end<=s?(i.Z.debug("SI: found true buffered end",r,t,e.end),e.bufferedEnd=t,f(e)&&(e.end=t,e.precizeEnd=!0)):t>e.end?(i.Z.debug("SI: range end too far from expected end",r,t,e.end),e.bufferedEnd=e.end):(i.Z.debug("SI: Segment appears immediately garbage collected at the end",r,e.bufferedEnd,t),e.bufferedEnd=t)}var g,m=function(){function e(){this._segmentInventory=new c}var t=e.prototype;return t.synchronizeInventory=function(){this._segmentInventory.synchronizeBuffered(this.getBufferedRanges())},t.getInventory=function(){return this._segmentInventory.getInventory()},t.getPendingOperations=function(){return[]},e}();!function(e){e[e.Push=0]="Push",e[e.Remove=1]="Remove",e[e.EndOfSegment=2]="EndOfSegment"}(g||(g={}))},4309:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2829),i=function(){function e(){this._ranges=[],this.length=0}var t=e.prototype;return t.insert=function(e,t){(0,n.kR)(this._ranges,{start:e,end:t}),this.length=this._ranges.length},t.remove=function(e,t){var r=[];e>0&&r.push({start:0,end:e}),t<1/0&&r.push({start:t,end:1/0}),this._ranges=(0,n.tn)(this._ranges,r),this.length=this._ranges.length},t.start=function(e){if(e>=this._ranges.length)throw new Error("INDEX_SIZE_ERROR");return this._ranges[e].start},t.end=function(e){if(e>=this._ranges.length)throw new Error("INDEX_SIZE_ERROR");return this._ranges[e].end},e}()},3801:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3349),i=r(1788),a=function(e){function t(r){var i;return i=e.call(this)||this,Object.setPrototypeOf((0,n.Z)(i),t.prototype),i.name="AssertionError",i.message=r,i}return(0,i.Z)(t,e),t}((0,r(3786).Z)(Error))},7839:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3349),i=r(1788),a=function(e){function t(r,i,a,o){var s;return s=e.call(this)||this,Object.setPrototypeOf((0,n.Z)(s),t.prototype),s.name="CustomLoaderError",s.message=r,s.canRetry=i,s.isOfflineError=a,s.xhr=o,s}return(0,i.Z)(t,e),t}((0,r(3786).Z)(Error))},5157:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(3349),i=r(1788),a=r(3786),o=r(5992),s=r(7367),l=function(e){function t(r,i){var a;return a=e.call(this)||this,Object.setPrototypeOf((0,n.Z)(a),t.prototype),a.name="EncryptedMediaError",a.type=o.ZB.ENCRYPTED_MEDIA_ERROR,a.code=r,a.message=(0,s.Z)(a.name,a.code,i),a.fatal=!1,a}return(0,i.Z)(t,e),t}((0,a.Z)(Error))},5992:function(e,t,r){"use strict";r.d(t,{ZB:function(){return n},br:function(){return i},SM:function(){return a}});var n={NETWORK_ERROR:"NETWORK_ERROR",MEDIA_ERROR:"MEDIA_ERROR",ENCRYPTED_MEDIA_ERROR:"ENCRYPTED_MEDIA_ERROR",OTHER_ERROR:"OTHER_ERROR"},i={TIMEOUT:"TIMEOUT",ERROR_EVENT:"ERROR_EVENT",ERROR_HTTP_CODE:"ERROR_HTTP_CODE",PARSE_ERROR:"PARSE_ERROR"},a={PIPELINE_LOAD_ERROR:"PIPELINE_LOAD_ERROR",PIPELINE_PARSE_ERROR:"PIPELINE_PARSE_ERROR",INTEGRITY_ERROR:"INTEGRITY_ERROR",MANIFEST_PARSE_ERROR:"MANIFEST_PARSE_ERROR",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"MANIFEST_INCOMPATIBLE_CODECS_ERROR",MANIFEST_UPDATE_ERROR:"MANIFEST_UPDATE_ERROR",MANIFEST_UNSUPPORTED_ADAPTATION_TYPE:"MANIFEST_UNSUPPORTED_ADAPTATION_TYPE",MEDIA_STARTING_TIME_NOT_FOUND:"MEDIA_STARTING_TIME_NOT_FOUND",MEDIA_TIME_BEFORE_MANIFEST:"MEDIA_TIME_BEFORE_MANIFEST",MEDIA_TIME_AFTER_MANIFEST:"MEDIA_TIME_AFTER_MANIFEST",MEDIA_TIME_NOT_FOUND:"MEDIA_TIME_NOT_FOUND",NO_PLAYABLE_REPRESENTATION:"NO_PLAYABLE_REPRESENTATION",MEDIA_IS_ENCRYPTED_ERROR:"MEDIA_IS_ENCRYPTED_ERROR",CREATE_MEDIA_KEYS_ERROR:"CREATE_MEDIA_KEYS_ERROR",KEY_ERROR:"KEY_ERROR",KEY_STATUS_CHANGE_ERROR:"KEY_STATUS_CHANGE_ERROR",KEY_UPDATE_ERROR:"KEY_UPDATE_ERROR",KEY_LOAD_ERROR:"KEY_LOAD_ERROR",KEY_LOAD_TIMEOUT:"KEY_LOAD_TIMEOUT",KEY_GENERATE_REQUEST_ERROR:"KEY_GENERATE_REQUEST_ERROR",INCOMPATIBLE_KEYSYSTEMS:"INCOMPATIBLE_KEYSYSTEMS",INVALID_ENCRYPTED_EVENT:"INVALID_ENCRYPTED_EVENT",INVALID_KEY_SYSTEM:"INVALID_KEY_SYSTEM",LICENSE_SERVER_CERTIFICATE_ERROR:"LICENSE_SERVER_CERTIFICATE_ERROR",MULTIPLE_SESSIONS_SAME_INIT_DATA:"MULTIPLE_SESSIONS_SAME_INIT_DATA",BUFFER_APPEND_ERROR:"BUFFER_APPEND_ERROR",BUFFER_FULL_ERROR:"BUFFER_FULL_ERROR",BUFFER_TYPE_UNKNOWN:"BUFFER_TYPE_UNKNOWN",MEDIA_ERR_BLOCKED_AUTOPLAY:"MEDIA_ERR_BLOCKED_AUTOPLAY",MEDIA_ERR_PLAY_NOT_ALLOWED:"MEDIA_ERR_PLAY_NOT_ALLOWED",MEDIA_ERR_NOT_LOADED_METADATA:"MEDIA_ERR_NOT_LOADED_METADATA",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN",MEDIA_SOURCE_NOT_SUPPORTED:"MEDIA_SOURCE_NOT_SUPPORTED",MEDIA_KEYS_NOT_SUPPORTED:"MEDIA_KEYS_NOT_SUPPORTED",DISCONTINUITY_ENCOUNTERED:"DISCONTINUITY_ENCOUNTERED",NONE:"NONE"}},7367:function(e,t,r){"use strict";function n(e,t,r){return e+" ("+t+") "+r}r.d(t,{Z:function(){return n}})},9822:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5157),i=r(5992),a=r(3714),o=r(9362),s=r(5389);function l(e){return(e instanceof n.Z||e instanceof a.Z||e instanceof s.Z||e instanceof o.Z)&&Object.keys(i.ZB).indexOf(e.type)>=0}},3714:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(3349),i=r(1788),a=r(3786),o=r(5992),s=r(7367),l=function(e){function t(r,i){var a;return a=e.call(this)||this,Object.setPrototypeOf((0,n.Z)(a),t.prototype),a.name="MediaError",a.type=o.ZB.MEDIA_ERROR,a.code=r,a.message=(0,s.Z)(a.name,a.code,i),a.fatal=!1,a}return(0,i.Z)(t,e),t}((0,a.Z)(Error))},9362:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(3349),i=r(1788),a=r(3786),o=r(5992),s=r(7367),l=function(e){function t(r,i){var a;return a=e.call(this)||this,Object.setPrototypeOf((0,n.Z)(a),t.prototype),a.name="NetworkError",a.type=o.ZB.NETWORK_ERROR,a.xhr=void 0===i.xhr?null:i.xhr,a.url=i.url,a.status=i.status,a.errorType=i.type,a.code=r,a.message=(0,s.Z)(a.name,a.code,i.message),a.fatal=!1,a}return(0,i.Z)(t,e),t.prototype.isHttpError=function(e){return this.errorType===o.br.ERROR_HTTP_CODE&&this.status===e},t}((0,a.Z)(Error))},5389:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(3349),i=r(1788),a=r(3786),o=r(5992),s=r(7367),l=function(e){function t(r,i){var a;return a=e.call(this)||this,Object.setPrototypeOf((0,n.Z)(a),t.prototype),a.name="OtherError",a.type=o.ZB.OTHER_ERROR,a.code=r,a.message=(0,s.Z)(a.name,a.code,i),a.fatal=!1,a}return(0,i.Z)(t,e),t}((0,a.Z)(Error))},9105:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3349),i=r(1788),a=function(e){function t(r,i,a,o){var s;return s=e.call(this)||this,Object.setPrototypeOf((0,n.Z)(s),t.prototype),s.name="RequestError",s.url=r,s.xhr=o,s.status=i,s.type=a,s.message=a,s}return(0,i.Z)(t,e),t}((0,r(3786).Z)(Error))},7273:function(e,t){"use strict";t.Z={dashParsers:{wasm:null,js:null},directfile:null,emeManager:null,htmlTextTracksBuffer:null,htmlTextTracksParsers:{},imageBuffer:null,imageParser:null,nativeTextTracksBuffer:null,nativeTextTracksParsers:{},transports:{}}},7874:function(e,t,r){"use strict";var n=r(7273);t.Z=n.Z},3887:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(8894),i=new(function(){function e(){this.error=n.Z,this.warn=n.Z,this.info=n.Z,this.debug=n.Z,this._levels={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},this._currentLevel="NONE"}var t=e.prototype;return t.setLevel=function(e){var t,r=this._levels[e];"number"===typeof r?(t=r,this._currentLevel=e):(t=0,this._currentLevel="NONE"),this.error=t>=this._levels.ERROR?console.error.bind(console):n.Z,this.warn=t>=this._levels.WARNING?console.warn.bind(console):n.Z,this.info=t>=this._levels.INFO?console.info.bind(console):n.Z,this.debug=t>=this._levels.DEBUG?console.log.bind(console):n.Z},t.getLevel=function(){return this._currentLevel},e}())},8999:function(e,t,r){"use strict";r.d(t,{r:function(){return p},Z:function(){return h}});var n=r(3714),i=r(3887),a=r(3274),o=r(7714),s=r(1946),l=r(7829),u="undefined"!==typeof window&&"function"===typeof window.Set&&"function"===typeof Array.from?function(e){return Array.from(new Set(e))}:function(e){return e.filter((function(e,t,r){return r.indexOf(e)===t}))},c=r(3774),d=r(4791),f=function(){function e(e,t){var r;this.id=e.id,this.bitrate=e.bitrate,this.codec=e.codecs,void 0!==e.height&&(this.height=e.height),void 0!==e.width&&(this.width=e.width),void 0!==e.mimeType&&(this.mimeType=e.mimeType),void 0!==e.contentProtections&&(this.contentProtections=e.contentProtections),void 0!==e.frameRate&&(this.frameRate=e.frameRate),void 0!==e.hdrInfo&&(this.hdrInfo=e.hdrInfo),this.index=e.index,this.isSupported="audio"!==t.type&&"video"!==t.type||(r=this.getMimeTypeString(),null!=c.JJ&&("function"!==typeof c.JJ.isTypeSupported||c.JJ.isTypeSupported(r)))}var t=e.prototype;return t.getMimeTypeString=function(){var e,t;return(null!==(e=this.mimeType)&&void 0!==e?e:"")+';codecs="'+(null!==(t=this.codec)&&void 0!==t?t:"")+'"'},t.getEncryptionData=function(e){for(var t,r=this.getAllEncryptionData(),n=[],i=0;i<r.length;i++)for(var a=!1,o=r[i],s=0;s<o.values.length;s++)if(o.values[s].systemId.toLowerCase()===e.toLowerCase())if(a)n[n.length-1].values.push(o.values[s]);else{var l=null===(t=this.contentProtections)||void 0===t?void 0:t.keyIds.map((function(e){return e.keyId}));n.push({type:o.type,keyIds:l,values:[o.values[s]]}),a=!0}return n},t.getAllEncryptionData=function(){var e;if(void 0===this.contentProtections||0===this.contentProtections.initData.length)return[];var t=null===(e=this.contentProtections)||void 0===e?void 0:e.keyIds.map((function(e){return e.keyId}));return this.contentProtections.initData.map((function(e){return{type:e.type,keyIds:t,values:e.values}}))},t._addProtectionData=function(e,t){var r=!1;if(void 0===this.contentProtections)return this.contentProtections={keyIds:[],initData:[{type:e,values:t}]},!0;for(var n=this.contentProtections.initData,a=0;a<n.length;a++)if(n[a].type===e){for(var o=n[a].values,s=0;s<t.length;s++){var l=t[s],u=void 0;for(u=0;u<o.length;u++)if(l.systemId===o[u].systemId){if((0,d.Z)(l.data,o[u].data))break;i.Z.warn("Manifest: different init data for the same system ID")}u===o.length&&(o.push(l),r=!0)}return r}return this.contentProtections.initData.push({type:e,values:t}),!0},e}(),p=["audio","video","text","image"],h=function(){function e(t,r){void 0===r&&(r={});var a,u=t.trickModeTracks,c=r,d=c.representationFilter,h=c.isManuallyAdded;if(this.parsingErrors=[],this.id=t.id,this.isTrickModeTrack=t.isTrickModeTrack,a=t.type,!(0,o.Z)(p,a))throw i.Z.info("Manifest: Not supported adaptation type",t.type),new n.Z("MANIFEST_UNSUPPORTED_ADAPTATION_TYPE",'"'+t.type+'" is not a valid Adaptation type.');this.type=t.type,void 0!==t.language&&(this.language=t.language,this.normalizedLanguage=(0,l.ZP)(t.language)),void 0!==t.closedCaption&&(this.isClosedCaption=t.closedCaption),void 0!==t.audioDescription&&(this.isAudioDescription=t.audioDescription),void 0!==t.isDub&&(this.isDub=t.isDub),void 0!==t.isSignInterpreted&&(this.isSignInterpreted=t.isSignInterpreted),void 0!==u&&u.length>0&&(this.trickModeTracks=u.map((function(t){return new e(t)})));for(var g=t.representations,m=[],v=!1,y=0;y<g.length;y++){var b=new f(g[y],{type:this.type});((0,s.Z)(d)||d(b,{bufferType:this.type,language:this.language,normalizedLanguage:this.normalizedLanguage,isClosedCaption:this.isClosedCaption,isDub:this.isDub,isAudioDescription:this.isAudioDescription,isSignInterpreted:this.isSignInterpreted}))&&(m.push(b),!v&&b.isSupported&&(v=!0))}if(m.sort((function(e,t){return e.bitrate-t.bitrate})),this.representations=m,this.isSupported=v,this.manuallyAdded=!0===h,this.representations.length>0&&!v){i.Z.warn("Incompatible codecs for adaptation",t);var k=new n.Z("MANIFEST_INCOMPATIBLE_CODECS_ERROR","An Adaptation contains only incompatible codecs.");this.parsingErrors.push(k)}}var t=e.prototype;return t.getAvailableBitrates=function(){for(var e=[],t=0;t<this.representations.length;t++){var r=this.representations[t];!1!==r.decipherable&&e.push(r.bitrate)}return u(e)},t.getPlayableRepresentations=function(){return this.representations.filter((function(e){return e.isSupported&&!1!==e.decipherable}))},t.getRepresentation=function(e){return(0,a.Z)(this.representations,(function(t){var r=t.id;return e===r}))},e}()},5952:function(e,t,r){"use strict";function n(e,t){return e.segment.id===t.segment.id&&e.representation.id===t.representation.id&&e.adaptation.id===t.adaptation.id&&e.period.id===t.period.id}r.d(t,{Z:function(){return n}})},1989:function(e,t,r){"use strict";r.d(t,{ZP:function(){return _}});var n,i=r(1788),a=r(4791),o=r(3274),s=r(1959),l=r(908),u=r(8806),c=r(8999),d=r(9822),f=r(3714),p=r(1679),h=function(){function e(e,t){var r=this;if(this.parsingErrors=[],this.id=e.id,this.adaptations=Object.keys(e.adaptations).reduce((function(n,i){var a=e.adaptations[i];if(null==a)return n;var o=a.map((function(e){var n,i=null;try{i=new c.Z(e,{representationFilter:t})}catch(a){if((0,d.Z)(a)&&"MANIFEST_UNSUPPORTED_ADAPTATION_TYPE"===a.code)return r.parsingErrors.push(a),null;throw a}return(n=r.parsingErrors).push.apply(n,i.parsingErrors),i})).filter((function(e){return null!==e&&e.representations.length>0}));if(o.every((function(e){return!e.isSupported}))&&a.length>0&&("video"===i||"audio"===i))throw new f.Z("MANIFEST_PARSE_ERROR","No supported "+i+" adaptations");return o.length>0&&(n[i]=o),n}),{}),!Array.isArray(this.adaptations.video)&&!Array.isArray(this.adaptations.audio))throw new f.Z("MANIFEST_PARSE_ERROR","No supported audio and video tracks.");this.duration=e.duration,this.start=e.start,null!=this.duration&&null!=this.start&&(this.end=this.start+this.duration),this.streamEvents=void 0===e.streamEvents?[]:e.streamEvents}var t=e.prototype;return t.getAdaptations=function(){var e=this.adaptations;return(0,p.Z)(e).reduce((function(e,t){return null!=t?e.concat(t):e}),[])},t.getAdaptationsForType=function(e){var t=this.adaptations[e];return null==t?[]:t},t.getAdaptation=function(e){return(0,o.Z)(this.getAdaptations(),(function(t){var r=t.id;return e===r}))},t.getSupportedAdaptations=function(e){if(void 0===e)return this.getAdaptations().filter((function(e){return e.isSupported}));var t=this.adaptations[e];return void 0===t?[]:t.filter((function(e){return e.isSupported}))},e}(),g=r(3887),m=function(){function e(e){this._mediaURLs=e.media}var t=e.prototype;return t.getInitSegment=function(){return null},t.getSegments=function(){return[{id:"0",isInit:!1,number:0,mediaURLs:[this._mediaURLs],time:0,end:Number.MAX_VALUE,duration:Number.MAX_VALUE,timescale:1}]},t.getFirstPosition=function(){},t.getLastPosition=function(){},t.shouldRefresh=function(){return!1},t.checkDiscontinuity=function(){return null},t.areSegmentsChronologicallyGenerated=function(){return!0},t.isSegmentStillAvailable=function(){return!0},t.canBeOutOfSyncError=function(){return!1},t.isFinished=function(){return!0},t.isInitialized=function(){return!0},t._replace=function(){g.Z.warn("Tried to replace a static RepresentationIndex")},t._update=function(){g.Z.warn("Tried to update a static RepresentationIndex")},e}();!function(e){e[e.Full=0]="Full",e[e.Partial=1]="Partial"}(n||(n={}));var v=r(5138);function y(e,t,r){e.start=t.start,e.end=t.end,e.duration=t.duration,e.streamEvents=t.streamEvents;for(var i=e.getAdaptations(),a=t.getAdaptations(),s=function(e){var t=i[e],s=(0,o.Z)(a,(function(e){return e.id===t.id}));if(void 0===s)g.Z.warn('Manifest: Adaptation "'+i[e].id+'" not found when merging.');else for(var l=i[e].representations,u=s.representations,c=function(e){var t=l[e],i=(0,o.Z)(u,(function(e){return e.id===t.id}));void 0===i?g.Z.warn('Manifest: Representation "'+l[e].id+'" not found when merging.'):r===n.Full?t.index._replace(i.index):t.index._update(i.index)},d=0;d<l.length;d++)c(d)},l=0;l<i.length;l++)s(l)}var b=(0,l.Z)(),k=(0,l.Z)();function E(e,t){for(var r=[],n=0;n<e.periods.length;n++)for(var i=e.periods[n],a=i.getAdaptations(),o=0;o<a.length;o++)for(var s=a[o],l=s.representations,u=0;u<l.length;u++){var c=l[u],d=t(c);d!==c.decipherable&&(r.push({manifest:e,period:i,adaptation:s,representation:c}),c.decipherable=d)}return r}var _=function(e){function t(t,r){var n,i;n=e.call(this)||this;var a=r.supplementaryTextTracks,o=void 0===a?[]:a,s=r.supplementaryImageTracks,l=void 0===s?[]:s,u=r.representationFilter,c=r.manifestUpdateUrl;return n.parsingErrors=[],n.id=k(),n.expired=null!==(i=t.expired)&&void 0!==i?i:null,n.transport=t.transportType,n.clockOffset=t.clockOffset,n.periods=t.periods.map((function(e){var t,r=new h(e,u);return(t=n.parsingErrors).push.apply(t,r.parsingErrors),r})).sort((function(e,t){return e.start-t.start})),n.adaptations=void 0===n.periods[0]?{}:n.periods[0].adaptations,n._timeBounds=t.timeBounds,n.isDynamic=t.isDynamic,n.isLive=t.isLive,n.isLastPeriodKnown=t.isLastPeriodKnown,n.uris=void 0===t.uris?[]:t.uris,n.updateUrl=c,n.lifetime=t.lifetime,n.suggestedPresentationDelay=t.suggestedPresentationDelay,n.availabilityStartTime=t.availabilityStartTime,n.publishTime=t.publishTime,l.length>0&&n._addSupplementaryImageAdaptations(l),o.length>0&&n._addSupplementaryTextAdaptations(o),n}(0,i.Z)(t,e);var r=t.prototype;return r.getPeriod=function(e){return(0,o.Z)(this.periods,(function(t){return e===t.id}))},r.getPeriodForTime=function(e){return(0,o.Z)(this.periods,(function(t){return e>=t.start&&(void 0===t.end||t.end>e)}))},r.getNextPeriod=function(e){return(0,o.Z)(this.periods,(function(t){return t.start>e}))},r.getPeriodAfter=function(e){var t=e.end;if(void 0===t)return null;var r=(0,o.Z)(this.periods,(function(e){return void 0===e.end||t<e.end}));return void 0===r?null:r},r.getUrl=function(){return this.uris[0]},r.replace=function(e){this._performUpdate(e,n.Full)},r.update=function(e){this._performUpdate(e,n.Partial)},r.getMinimumPosition=function(){var e,t,r=this._timeBounds;if(null===r.timeshiftDepth)return null!==(e=r.absoluteMinimumTime)&&void 0!==e?e:0;var n,i=r.maximumTimeData;if(r.maximumTimeData.isLinear){var a=performance.now()-i.time;n=i.value+a/1e3}else n=i.value;var o=n-r.timeshiftDepth;return Math.max(null!==(t=r.absoluteMinimumTime)&&void 0!==t?t:0,o)},r.getMaximumPosition=function(){var e=this._timeBounds.maximumTimeData;if(!e.isLinear)return e.value;var t=performance.now()-e.time;return e.value+t/1e3},r.updateDeciperabilitiesBasedOnKeyIds=function(e){var t=e.whitelistedKeyIds,r=e.blacklistedKeyIDs,n=E(this,(function(e){if(!1===e.decipherable||void 0===e.contentProtections)return e.decipherable;for(var n=e.contentProtections.keyIds,i=0;i<n.length;i++){for(var o=n[i],s=0;s<r.length;s++)if((0,a.Z)(r[s],o.keyId))return!1;for(var l=0;l<t.length;l++)if((0,a.Z)(t[l],o.keyId))return!0}return e.decipherable}));n.length>0&&this.trigger("decipherabilityUpdate",n)},r.addUndecipherableProtectionData=function(e){var t=E(this,(function(t){var r,n;if(!1===t.decipherable)return!1;for(var i=null!==(n=null===(r=t.contentProtections)||void 0===r?void 0:r.initData)&&void 0!==n?n:[],o=function(t){if((void 0===e.type||i[t].type===e.type)&&e.values.every((function(e){return i[t].values.some((function(t){return(void 0===e.systemId||t.systemId===e.systemId)&&(0,a.Z)(t.data,e.data)}))})))return{v:!1}},s=0;s<i.length;s++){var l=o(s);if("object"===typeof l)return l.v}return t.decipherable}));t.length>0&&this.trigger("decipherabilityUpdate",t)},r.getAdaptations=function(){(0,u.Z)("manifest.getAdaptations() is deprecated. Please use manifest.period[].getAdaptations() instead");var e=this.periods[0];if(void 0===e)return[];var t=e.adaptations,r=[];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];r.push.apply(r,i)}return r},r.getAdaptationsForType=function(e){(0,u.Z)("manifest.getAdaptationsForType(type) is deprecated. Please use manifest.period[].getAdaptationsForType(type) instead");var t=this.periods[0];if(void 0===t)return[];var r=t.adaptations[e];return void 0===r?[]:r},r.getAdaptation=function(e){return(0,u.Z)("manifest.getAdaptation(id) is deprecated. Please use manifest.period[].getAdaptation(id) instead"),(0,o.Z)(this.getAdaptations(),(function(t){var r=t.id;return e===r}))},r._addSupplementaryImageAdaptations=function(e){var t=this,r=(Array.isArray(e)?e:[e]).map((function(e){var r,n=e.mimeType,i=e.url,a="gen-image-ada-"+b(),o="gen-image-rep-"+b(),s=new c.Z({id:a,type:"image",representations:[{bitrate:0,id:o,mimeType:n,index:new m({media:i})}]},{isManuallyAdded:!0});return(r=t.parsingErrors).push.apply(r,s.parsingErrors),s}));if(r.length>0&&this.periods.length>0){var n=this.periods[0].adaptations;n.image=null!=n.image?n.image.concat(r):r}},r._addSupplementaryTextAdaptations=function(e){var t=this,r=(Array.isArray(e)?e:[e]).reduce((function(e,r){var n=r.mimeType,i=r.codecs,a=r.url,o=r.language,s=r.languages,l=r.closedCaption,u=null!=o?[o]:null!=s?s:[];return e.concat(u.map((function(e){var r,o="gen-text-ada-"+b(),s="gen-text-rep-"+b(),u=new c.Z({id:o,type:"text",language:e,closedCaption:l,representations:[{bitrate:0,id:s,mimeType:n,codecs:i,index:new m({media:a})}]},{isManuallyAdded:!0});return(r=t.parsingErrors).push.apply(r,u.parsingErrors),u})))}),[]);if(r.length>0&&this.periods.length>0){var n=this.periods[0].adaptations;n.text=null!=n.text?n.text.concat(r):r}},r._performUpdate=function(e,t){if(this.availabilityStartTime=e.availabilityStartTime,this.expired=e.expired,this.isDynamic=e.isDynamic,this.isLive=e.isLive,this.isLastPeriodKnown=e.isLastPeriodKnown,this.lifetime=e.lifetime,this.parsingErrors=e.parsingErrors,this.suggestedPresentationDelay=e.suggestedPresentationDelay,this.transport=e.transport,this.publishTime=e.publishTime,t===n.Full)this._timeBounds=e._timeBounds,this.uris=e.uris,function(e,t){for(var r=0,i=0;i<t.length;i++){for(var a=t[i],o=r,s=e[o];null!=s&&s.id!==a.id;)s=e[++o];if(null!=s){y(s,a,n.Full);var l=t.slice(r,i),u=o-r;e.splice.apply(e,[r,u].concat(l)),r=i+1}}if(r>e.length)g.Z.error("Manifest: error when updating Periods");else{r<e.length&&e.splice(r,e.length-r);var c=t.slice(r,t.length);c.length>0&&e.push.apply(e,c)}}(this.periods,e.periods);else{this._timeBounds.maximumTimeData=e._timeBounds.maximumTimeData,this.updateUrl=e.uris[0],function(e,t){if(0!==e.length){if(0!==t.length){var r=e[e.length-1];if(r.start<t[0].start){if(r.end!==t[0].start)throw new f.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: not enough data");e.push.apply(e,t)}else{var i=(0,v.Z)(e,(function(e){return e.id===t[0].id}));if(i<0)throw new f.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: incoherent data");y(e[i],t[0],n.Partial);for(var a=i+1,o=1;o<t.length;o++){for(var s=t[o],l=-1,u=a;u<e.length;u++)if(s.id===e[u].id){l=u;break}if(l<0)return void e.splice.apply(e,[a,e.length-a].concat(t.slice(o,t.length)));l>a&&(e.splice(a,l-a),l=a),y(e[l],s,n.Full),a++}a<e.length&&e.splice(a,e.length-a)}}}else e.splice.apply(e,[0,0].concat(t))}(this.periods,e.periods);for(var r=this.getMinimumPosition();this.periods.length>0;){var i=this.periods[0];if(void 0===i.end||i.end>r)break;this.periods.shift()}}this.adaptations=void 0===this.periods[0]?{}:this.periods[0].adaptations,this.trigger("manifestUpdate",null)},t}(s.Z)},2689:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var n=Math.pow(2,32)-1},2297:function(e,t,r){"use strict";r.d(t,{iz:function(){return o},t_:function(){return a},Qy:function(){return s},Xj:function(){return u},nR:function(){return l}});var n=r(3887),i=r(6968);function a(e,t){var r=s(e,t);return null!==r?e.subarray(r[1],r[2]):null}function o(e,t){var r=s(e,t);return null!==r?e.subarray(r[0],r[2]):null}function s(e,t){for(var r,n,a=e.length,o=0,s=0;o+8<=a;){if(n=o,s=(0,i.pX)(e,n),n+=4,r=(0,i.pX)(e,n),n+=4,0===s)s=a-o;else if(1===s){if(n+8>a)return null;s=(0,i.pV)(e,n),n+=8}if(s<0)throw new Error("ISOBMFF: Size out of range");if(r===t)return 1970628964===t&&(n+=16),[o,n,o+s];o+=s}return null}function l(e,t,r,n,a){for(var o,s=e.length,l=0;l<s;l+=o){var u=l;o=(0,i.pX)(e,u),u+=4;var c=(0,i.pX)(e,u);if(u+=4,0===o)o=s-l;else if(1===o){if(u+8>s)return;o=(0,i.pV)(e,u),u+=8}if(1970628964===c&&u+16<=s&&(0,i.pX)(e,u)===t&&(0,i.pX)(e,u+4)===r&&(0,i.pX)(e,u+8)===n&&(0,i.pX)(e,u+12)===a)return u+=16,e.subarray(u,l+o)}}function u(e){var t=e.length;if(t<8)return n.Z.warn("ISOBMFF: box inferior to 8 bytes, cannot find offsets"),null;var r=0,a=(0,i.pX)(e,r);r+=4;var o=(0,i.pX)(e,r);if(r+=4,0===a)a=t;else if(1===a){if(r+8>t)return n.Z.warn("ISOBMFF: box too short, cannot find offsets"),null;a=(0,i.pV)(e,r),r+=8}if(a<0)throw new Error("ISOBMFF: Size out of range");return 1970628964===o&&(r+=16),[0,r,a]}},6807:function(e,t,r){"use strict";r.d(t,{XA:function(){return i},Le:function(){return a},fs:function(){return o},E3:function(){return s}});var n=r(2297);function i(e){var t=(0,n.t_)(e,1836019558);return null===t?null:(0,n.t_)(t,1953653094)}function a(e){return(0,n.t_)(e,1835295092)}function o(e){var t=(0,n.t_)(e,1836019574);if(null===t)return null;var r=(0,n.t_)(t,1953653099);return null===r?null:(0,n.t_)(r,1835297121)}function s(e,t){return void 0===t&&(t=0),(0,n.t_)(e.subarray(t),1701671783)}},6490:function(e,t,r){"use strict";r.d(t,{Z:function(){return s},Y:function(){return l}});var n=r(3887),i="function"===typeof Uint8Array.prototype.slice?function(e,t,r){return e.slice(t,r)}:function(e,t,r){return new Uint8Array(Array.prototype.slice.call(e,t,r))},a=r(3635),o=r(2297);function s(e){var t=0,r=(0,o.t_)(e,1836019574);if(null===r)return[];for(var a=[];t<r.length;){var s=void 0;try{s=(0,o.Qy)(r,1886614376)}catch(d){return n.Z.warn("ISOBMFF:",d),a}if(null==s)return a;var u=i(r,s[0],s[2]),c=l(u,s[1]-s[0]);void 0!==c&&a.push({systemId:c,data:u}),r[s[0]+4]=102,r[s[0]+5]=114,r[s[0]+6]=101,r[s[0]+7]=101,t=s[2]}return a}function l(e,t){if(e[t]>1)n.Z.warn("ISOBMFF: un-handled PSSH version");else{var r=t+4;if(!(r+16>e.length)){var o=i(e,r,r+16);return(0,a.ci)(o)}}}},4644:function(e,t,r){"use strict";r.d(t,{LD:function(){return f},Qx:function(){return c},MM:function(){return d},Wf:function(){return u},J6:function(){return p},s9:function(){return h}});var n=r(3887),i=r(6968),a=r(3635),o=r(2689),s=r(2297),l=r(6807);function u(e,t){var r=(0,s.Qy)(e,1936286840);if(null===r)return null;var n=t,a=r[2]-r[0],o=r[1],l=e[o];o+=8;var u,c=(0,i.pX)(e,o);if(o+=4,0===l)u=(0,i.pX)(e,o),o+=4,n+=(0,i.pX)(e,o)+a,o+=4;else{if(1!==l)return null;u=(0,i.pV)(e,o),o+=8,n+=(0,i.pV)(e,o)+a,o+=8}var d=[];o+=2;var f=(0,i.zK)(e,o);for(o+=2;--f>=0;){var p=(0,i.pX)(e,o);o+=4;var h=2147483647&p;if(1===(2147483648&p)>>>31)throw new Error("sidx with reference_type `1` not yet implemented");var g=(0,i.pX)(e,o);o+=4,o+=4,d.push({time:u,duration:g,timescale:c,range:[n,n+h-1]}),u+=g,n+=h}return d}function c(e){var t=(0,l.XA)(e);if(null!==t){var r=(0,s.t_)(t,1952867444);if(null!==r){var n=r[0];return 1===n?(0,i.pV)(r,4):0===n?(0,i.pX)(r,4):void 0}}}function d(e){var t=(0,l.XA)(e);if(null!==t){var r=(0,s.t_)(t,1953658222);if(null!==r){var n=0,a=r[n];if(n+=1,!(a>1)){var o=(0,i.QI)(r,n);n+=3;var u=(256&o)>0,c=0;if(u||void 0!==(c=function(e){var t=(0,s.t_)(e,1952868452);if(null!==t){var r=1,n=(0,i.QI)(t,r);if(r+=3,(8&n)>0)return r+=4,(1&n)>0&&(r+=8),(2&n)>0&&(r+=4),(0,i.pX)(t,r)}}(t))){var d=(1&o)>0,f=(4&o)>0,p=(512&o)>0,h=(1024&o)>0,g=(2048&o)>0,m=(0,i.pX)(r,n);n+=4,d&&(n+=4),f&&(n+=4);for(var v=m,y=0;v-- >0;)u?(y+=(0,i.pX)(r,n),n+=4):y+=c,p&&(n+=4),h&&(n+=4),g&&(n+=4);return y}}}}}function f(e){var t=(0,l.fs)(e);if(null!==t){var r=(0,s.t_)(t,1835296868);if(null!==r){var n=0,a=r[n];return n+=4,1===a?(0,i.pX)(r,n+16):0===a?(0,i.pX)(r,n+8):void 0}}}function p(e){var t=e.length;if(t<4)throw new Error("Cannot update box length: box too short");var r=(0,i.pX)(e,0);if(0===r){if(t>o.s){var n=new Uint8Array(t+8);return n.set((0,i.kh)(1),0),n.set(e.subarray(4,8),4),n.set((0,i.el)(t+8),8),n.set(e.subarray(8,t),16),n}return e.set((0,i.kh)(t),0),e}if(1===r){if(t<16)throw new Error("Cannot update box length: box too short");return e.set((0,i.el)(t),8),e}if(t<=o.s)return e.set((0,i.kh)(t),0),e;var a=new Uint8Array(t+8);return a.set((0,i.kh)(1),0),a.set(e.subarray(4,8),4),a.set((0,i.el)(t+8),8),a.set(e.subarray(8,t),16),a}function h(e){for(var t=[],r=0;r<e.length;){var o=(0,l.E3)(e,r);if(null===o)break;var s=o.length;r+=s;var u=o[0];if(0!==u)n.Z.warn("ISOBMFF: EMSG version "+u.toString()+" not supported.");else{var c=4,d=(0,a.DM)(o,c),f=d.end,p=d.string;c=f;var h=(0,a.DM)(o,c),g=h.end,m=h.string;c=g;var v=(0,i.pX)(o,c);c+=4;var y=(0,i.pX)(o,c);c+=4;var b=(0,i.pX)(o,c);c+=4;var k=(0,i.pX)(o,c);c+=4;var E={schemeIdUri:p,value:m,timescale:v,presentationTimeDelta:y,eventDuration:b,id:k,messageData:o.subarray(c,s)};t.push(E)}}if(0!==t.length)return t}},3203:function(e,t,r){"use strict";var n=r(6968),i=r(3635);t.Z=function(e){var t=0,r=e.length,a=(0,i.uR)(e.subarray(t+1,t+8));if(t+=8,137!==e[0]||"BIF\r\n\x1a\n"!==a)throw new Error("Invalid BIF file");var o=e[t],s=e[t+=1],l=e[t+=1],u=e[t+=1];t+=1;var c=[o,s,l,u].join(".");if(s>0)throw new Error("Unhandled version: "+s);var d=(0,n.dN)(e,t);t+=4;var f=(0,n.dN)(e,t);t+=4;var p=(0,i.uR)(e.subarray(t,t+4));t+=4;var h=(0,n.qb)(e,t);t+=2;var g=(0,n.qb)(e,t),m=[e[t+=2],e[t+1]].join(":"),v=1===e[t+=2];t=64;var y=[];if(0===d)throw new Error("bif: no images to parse");for(var b=0,k=null;t<r;){var E=(0,n.dN)(e,t);t+=4;var _=(0,n.dN)(e,t);if(t+=4,null!==k){var S=k.timestamp*f,T=f,w=e.slice(k.offset,_);y.push({index:b,duration:T,ts:S,data:w}),b++}if(4294967295===E)break;k={timestamp:E,offset:_}}return{fileFormat:"BIF",version:c,imageCount:d,timescale:1e3,format:p,width:h,height:g,aspectRatio:m,isVod:v,thumbs:y}}},7403:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(3887),i=r(3911),a=r(1915),o=r(6394),s=r(4784);function l(e,t){if(t.timescale!==e.timescale){var r=e.timescale;e.timeline.push({start:t.time/t.timescale*r,duration:t.duration/t.timescale*r,repeatCount:void 0===t.count?0:t.count,range:t.range})}else e.timeline.push({start:t.time,duration:t.duration,repeatCount:void 0===t.count?0:t.count,range:t.range});return!0}var u=function(){function e(e,t){var r,n,a=t.periodStart,o=t.periodEnd,l=t.representationBaseURLs,u=t.representationId,c=t.representationBitrate,d=t.isEMSGWhitelisted,f=null!==(r=e.timescale)&&void 0!==r?r:1,p=(null!=e.presentationTimeOffset?e.presentationTimeOffset:0)-a*f,h=(0,s.k6)(l,void 0!==e.initialization?e.initialization.media:void 0,u,c),g=void 0!==e.initialization?e.initialization.range:void 0!==e.indexRange?[0,e.indexRange[0]-1]:void 0;this._index={indexRange:e.indexRange,indexTimeOffset:p,initialization:{mediaURLs:h,range:g},mediaURLs:(0,s.k6)(l,e.media,u,c),startNumber:e.startNumber,timeline:null!==(n=e.timeline)&&void 0!==n?n:[],timescale:f},this._scaledPeriodEnd=null==o?void 0:(0,i.gT)(o,this._index),this._isInitialized=this._index.timeline.length>0,this._isEMSGWhitelisted=d}var t=e.prototype;return t.getInitSegment=function(){return(0,a.Z)(this._index,this._isEMSGWhitelisted)},t.getSegments=function(e,t){return(0,o.Z)(this._index,e,t,this._isEMSGWhitelisted,this._scaledPeriodEnd)},t.shouldRefresh=function(){return!1},t.getFirstPosition=function(){var e=this._index;return 0===e.timeline.length?null:(0,i.zG)(e.timeline[0].start,e)},t.getLastPosition=function(){var e=this._index.timeline;if(0===e.length)return null;var t=e[e.length-1],r=(0,i.jH)(t,null,this._scaledPeriodEnd);return(0,i.zG)(r,this._index)},t.isSegmentStillAvailable=function(){return!0},t.checkDiscontinuity=function(){return null},t.areSegmentsChronologicallyGenerated=function(){return!0},t.initializeIndex=function(e){for(var t=0;t<e.length;t++)l(this._index,e[t]);this._isInitialized=!0},t.canBeOutOfSyncError=function(){return!1},t.isFinished=function(){return!0},t.isInitialized=function(){return this._isInitialized},t._replace=function(e){this._index=e._index,this._isInitialized=e._isInitialized,this._scaledPeriodEnd=e._scaledPeriodEnd,this._isEMSGWhitelisted=e._isEMSGWhitelisted},t._update=function(){n.Z.error("Base RepresentationIndex: Cannot update a SegmentList")},e}()},1915:function(e,t,r){"use strict";function n(e,t){var r,n,i=e.initialization;return void 0!==t&&(n={isEMSGWhitelisted:t}),{id:"init",isInit:!0,time:0,end:0,duration:0,timescale:1,range:null!=i?i.range:void 0,indexRange:e.indexRange,mediaURLs:null!==(r=null===i||void 0===i?void 0:i.mediaURLs)&&void 0!==r?r:null,privateInfos:n,timestampOffset:-e.indexTimeOffset/e.timescale}}r.d(t,{Z:function(){return n}})},6394:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(3911),i=r(4784);function a(e,t,r){var n=r-e;return n>0?Math.floor(n/t):0}function o(e,t,r,o,s){for(var l=(0,n.gT)(t,e),u=(0,n.gT)(t+r,e),c=e.timeline,d=e.timescale,f=e.mediaURLs,p=e.startNumber,h=null!=p?p:void 0,g=[],m=c.length,v=c.length>0&&null!=c[0].duration?c[0].duration:0,y=0;y<m;y++){var b=c[y],k=b.duration,E=b.start,_=b.range;v=Math.max(v,k);for(var S=(0,n.KF)(b,c[y+1],s),T=a(E,k,l),w=E+T*k;w<u&&T<=S;){var x=null!=h?h+T:void 0,O=null===f?null:f.map((0,i.QB)(w,x)),P=w-e.indexTimeOffset,C={id:String(w),time:P/d,end:(P+k)/d,duration:k/d,isInit:!1,range:_,timescale:1,mediaURLs:O,number:x,timestampOffset:-e.indexTimeOffset/d,privateInfos:{isEMSGWhitelisted:o}};g.push(C),w=E+ ++T*k}if(w>=u)return g;null!=h&&(h+=S+1)}return g}},4784:function(e,t,r){"use strict";r.d(t,{k6:function(){return o},QB:function(){return l}});var n=r(6923),i=r(9829);function a(e){return function(t,r,i){var a=(0,n.Z)(i)?parseInt(i,10):1;return function(e,t){var r=e.toString();return r.length>=t?r:(new Array(t+1).join("0")+r).slice(-t)}(String(e),a)}}function o(e,t,r,n){return 0===e.length?void 0!==t?[s(t,r,n)]:null:e.map((function(e){return s((0,i.Z)(e,t),r,n)}))}function s(e,t,r){return-1===e.indexOf("$")?e:e.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,String(t)).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,a(void 0===r?0:r))}function l(e,t){return function(r){return-1===r.indexOf("$")?r:r.replace(/\$\$/g,"$").replace(/\$Number(|\%0(\d+)d)\$/g,(function(e,r,n){if(void 0===t)throw new Error("Segment number not defined in a $Number$ scheme");return a(t)(e,r,n)})).replace(/\$Time(|\%0(\d+)d)\$/g,(function(t,r,n){if(void 0===e)throw new Error("Segment time not defined in a $Time$ scheme");return a(e)(t,r,n)}))}}},148:function(e,t,r){"use strict";r.d(t,{Z:function(){return Ue}});var n=r(8418),i=r(1946),a=r(944),o=r(3887),s=r(3274),l=r(9829);function u(e){return 0===e.length?0:e.reduce((function(e,t){var r;return Math.min(null!==(r=t.attributes.availabilityTimeOffset)&&void 0!==r?r:0,e)}),1/0)}function c(e){var t=Date.parse(e)-performance.now();if(!isNaN(t))return t;o.Z.warn("DASH Parser: Invalid clock received: ",e)}function d(e){for(var t=e.representations,r=null,n=0;n<t.length;n++){var i=t[n].index.getLastPosition();if(void 0===i)return;null!==i&&(r=null==r?i:Math.min(r,i))}return null===r?null:r}function f(e){for(var t=e.length-1;t>=0;t--){var r=e[t].adaptations,n=void 0===r.audio?void 0:r.audio[0],i=void 0===r.video?void 0:r.video[0];if(void 0!==n||void 0!==i){var a=null,s=null;if(void 0!==n){var l=d(n);if(void 0===l)return;a=l}if(void 0!==i){var u=d(i);if(void 0===u)return;s=u}if(void 0!==n&&null===a||void 0!==i&&null===s)return void o.Z.info("Parser utils: found Period with no segment. ","Going to previous one to calculate last position");if(null!==s)return null!==a?Math.min(a,s):s;if(null!==a)return a}}}function p(e){for(var t=e.representations,r=null,n=0;n<t.length;n++){var i=t[n].index.getFirstPosition();if(void 0===i)return;null!==i&&(r=null==r?i:Math.max(r,i))}return null===r?null:r}function h(e){for(var t=0;t<=e.length-1;t++){var r=e[t].adaptations,n=void 0===r.audio?void 0:r.audio[0],i=void 0===r.video?void 0:r.video[0];if(void 0!==n||void 0!==i){var a=null,s=null;if(void 0!==n){var l=p(n);if(void 0===l)return;a=l}if(void 0!==i){var u=p(i);if(void 0===u)return;s=u}if(void 0!==n&&null===a||void 0!==i&&null===s)return void o.Z.info("Parser utils: found Period with no segment. ","Going to next one to calculate first position");if(null!==s)return null!==a?Math.max(a,s):s;if(null!==a)return a}}}var g=r(9592),m=r(908),v=r(1679),y=r(3635),b=function(){function e(e){this._isDynamic=e.isDynamic,this._timeShiftBufferDepth=e.isDynamic&&void 0!==e.timeShiftBufferDepth?e.timeShiftBufferDepth:null}var t=e.prototype;return t.setLastPosition=function(e,t){this._lastPosition=e,this._positionTime=t},t.lastPositionIsKnown=function(){return this._isDynamic?null!=this._positionTime&&null!=this._lastPosition:null!=this._lastPosition},t.estimateMinimumBound=function(){if(!this._isDynamic||null===this._timeShiftBufferDepth)return 0;var e=this.estimateMaximumBound();return void 0!==e?e-this._timeShiftBufferDepth:void 0},t.estimateMaximumBound=function(){return this._isDynamic&&null!=this._positionTime&&null!=this._lastPosition?Math.max(this._lastPosition-this._positionTime+performance.now()/1e3,0):this._lastPosition},e}(),k=r(7714),E=r(6923),_=r(8999),S=function(e,t){for(var r=0;r<t.length;r++)for(var n=t[r],i=n.adaptation,a=n.trickModeAttachedAdaptationIds,o=0;o<a.length;o++)for(var s=a[o],l=0;l<_.r.length;l++){var u=e[_.r[l]];if(void 0!==u)for(var c=0;c<u.length;c++){var d=u[c];d.id===s&&(void 0===d.trickModeTracks&&(d.trickModeTracks=[]),d.trickModeTracks.push(i))}}},T=["subtitle","caption"];function w(e,t,r,n){function i(e,t){var r=e.split("/")[0];return(0,k.Z)(_.r,r)?r:"application/bif"===e?"image":"application/ttml+xml"===e||"application/mp4"===e&&null!=t&&null!=(0,s.Z)(t,(function(e){return"urn:mpeg:dash:role:2011"===e.schemeIdUri&&(0,k.Z)(T,e.value)}))?"text":void 0}function a(e){switch(e.substring(0,3)){case"avc":case"hev":case"hvc":case"vp8":case"vp9":case"av1":return"video";case"vtt":return"text";case"bif":return"image"}switch(e.substring(0,4)){case"mp4a":return"audio";case"wvtt":case"stpp":return"text"}}if(null!==t){var o=i(t,n);if(void 0!==o)return o}if(null!==r){var l=a(r);if(void 0!==l)return l}for(var u=0;u<e.length;u++){var c=e[u].attributes,d=c.mimeType,f=c.codecs;if(void 0!==d){var p=i(d,n);if(void 0!==p)return p}if(void 0!==f){var h=a(f);if(void 0!==h)return h}}}var x=r(8026),O=r(7403),P=r(3911),C=r(1915),A=r(4784),M=function(){function e(e,t){var r;if(void 0===e.duration)throw new Error("Invalid SegmentList: no duration");var n=t.periodStart,i=t.representationBaseURLs,a=t.representationId,o=t.representationBitrate,s=t.isEMSGWhitelisted;this._isEMSGWhitelisted=s,this._periodStart=n;var l=null!=e.presentationTimeOffset?e.presentationTimeOffset:0,u=null!==(r=e.timescale)&&void 0!==r?r:1,c=l-n*u,d=e.list.map((function(e){return{mediaURLs:(0,A.k6)(i,e.media,a,o),mediaRange:e.mediaRange}}));this._index={list:d,timescale:u,duration:e.duration,indexTimeOffset:c,indexRange:e.indexRange,initialization:null==e.initialization?void 0:{mediaURLs:(0,A.k6)(i,e.initialization.media,a,o),range:e.initialization.range}}}var t=e.prototype;return t.getInitSegment=function(){var e=(0,C.Z)(this._index);return void 0===e.privateInfos&&(e.privateInfos={}),e.privateInfos.isEMSGWhitelisted=this._isEMSGWhitelisted,e},t.getSegments=function(e,t){for(var r=this._index,n=r.duration,i=r.list,a=r.timescale,o=n/a,s=e-this._periodStart,l=(0,P.PZ)(s,t,a),u=l[0],c=l[1],d=Math.min(i.length-1,Math.floor(c/n)),f=[],p=Math.floor(u/n);p<=d;){var h=i[p].mediaRange,g=i[p].mediaURLs,m=p*o+this._periodStart,v={id:String(p),time:m,isInit:!1,range:h,duration:o,timescale:1,end:m+o,mediaURLs:g,timestampOffset:-r.indexTimeOffset/a,privateInfos:{isEMSGWhitelisted:this._isEMSGWhitelisted}};f.push(v),p++}return f},t.shouldRefresh=function(e,t){return!1},t.getFirstPosition=function(){return this._periodStart},t.getLastPosition=function(){var e=this._index,t=e.duration;return e.list.length*t/e.timescale+this._periodStart},t.isSegmentStillAvailable=function(){return!0},t.checkDiscontinuity=function(){return null},t.areSegmentsChronologicallyGenerated=function(){return!0},t.canBeOutOfSyncError=function(){return!1},t.isFinished=function(){return!0},t.isInitialized=function(){return!0},t._replace=function(e){this._index=e._index},t._update=function(){o.Z.error("List RepresentationIndex: Cannot update a SegmentList")},e}(),I=r(9362),R=r(8232),D=r(1091),L=r(5505),j=r(6394),N=a.Z.DEFAULT_MAXIMUM_TIME_ROUNDING_ERROR;function U(e,t,r){return t+N*e>=r}function B(e,t,r,n){var i=e.start,a=e.duration,s=e.repeatCount;return null==i&&(null==t?i=n:null!=t.duration&&(i=t.start+t.duration*(t.repeatCount+1))),null!=a&&!isNaN(a)||null==r||null==r.start||isNaN(r.start)||null==i||isNaN(i)||(a=r.start-i),null==i||isNaN(i)||null==a||isNaN(a)||null!=s&&isNaN(s)?(o.Z.warn('DASH: A "S" Element could not have been parsed.'),null):{start:i,duration:a,repeatCount:void 0===s?0:s}}function F(e){for(var t={},r=0;r<e.attributes.length;r++){var n=e.attributes[r];switch(n.name){case"t":var i=parseInt(n.value,10);isNaN(i)?o.Z.warn('DASH: invalid t ("'+n.value+'")'):t.start=i;break;case"d":var a=parseInt(n.value,10);isNaN(a)?o.Z.warn('DASH: invalid d ("'+n.value+'")'):t.duration=a;break;case"r":var s=parseInt(n.value,10);isNaN(s)?o.Z.warn('DASH: invalid r ("'+n.value+'")'):t.repeatCount=s}}return t}function z(e,t){for(var r=[],n=0;n<e.length;n++)r.push(F(e[n]));for(var i=[],a=0;a<r.length;a++){var o=B(r[a],void 0===i[i.length-1]?null:i[i.length-1],void 0===r[a+1]?null:r[a+1],t);null!=o&&i.push(o)}return i}function V(e,t,r){var n,i=function(e,t){if(0===e.length||0===t.length)return null;var r=e[0].start,n=t[0].getAttribute("t"),i=null===n?null:parseInt(n,10);if(null===i||Number.isNaN(i))return null;if(r===i)return{prevSegmentsIdx:0,newElementsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(r<i)for(var a=e[0],o=0;;){if(a.repeatCount>0){var s=i-a.start;if(s%a.duration===0&&s/a.duration<=a.repeatCount)return{repeatNumberInPrevSegments:s/a.duration,prevSegmentsIdx:o,newElementsIdx:0,repeatNumberInNewElements:0}}if(++o>=e.length)return null;if((a=e[o]).start===i)return{prevSegmentsIdx:o,newElementsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(a.start>i)return null}else for(var l=0,u=t[0],c=i;;){var d=u.getAttribute("d"),f=null===d?null:parseInt(d,10);if(null===f||Number.isNaN(f))return null;var p=u.getAttribute("r"),h=null===p?null:parseInt(p,10);if(null!==h){if(Number.isNaN(h)||h<0)return null;if(h>0){var g=r-c;if(g%f===0&&g/f<=h)return{repeatNumberInPrevSegments:0,repeatNumberInNewElements:g/f,prevSegmentsIdx:0,newElementsIdx:l}}c+=f*(h+1)}else c+=f;if(++l>=t.length)return null;var m=(u=t[l]).getAttribute("t"),v=null===m?null:parseInt(m,10);if(null!==v){if(Number.isNaN(v))return null;c=v}if(c===r)return{newElementsIdx:l,prevSegmentsIdx:0,repeatNumberInPrevSegments:0,repeatNumberInNewElements:0};if(c>i)return null}}(t,e);if(null===i)return o.Z.warn('DASH: Cannot perform "based" update. Common segment not found.'),z(e,r);var a=i.prevSegmentsIdx,s=i.newElementsIdx,l=i.repeatNumberInPrevSegments,u=i.repeatNumberInNewElements,c=t.length-a+s-1;if(c>=e.length)return o.Z.info('DASH: Cannot perform "based" update. New timeline too short'),z(e,r);var d=t.slice(a);if(l>0){var f=d[0];f.start+=f.duration*l,d[0].repeatCount-=l}if(u>0&&0!==s)return o.Z.info('DASH: Cannot perform "based" update. The new timeline has a different form.'),z(e,r);var p=d[d.length-1],h=F(e[c]),g=(null!==(n=h.repeatCount)&&void 0!==n?n:0)-u;if(h.duration!==p.duration||p.repeatCount>g)return o.Z.info('DASH: Cannot perform "based" update. The new timeline has a different form at the beginning.'),z(e,r);void 0!==h.repeatCount&&h.repeatCount>p.repeatCount&&(p.repeatCount=h.repeatCount);for(var m=[],v=[],y=c+1;y<e.length;y++)v.push(F(e[y]));for(var b=0;b<v.length;b++){var k=B(v[b],void 0===m[m.length-1]?p:m[m.length-1],void 0===v[b+1]?null:v[b+1],r);null!==k&&m.push(k)}return d.concat(m)}var W=a.Z.MIN_DASH_S_ELEMENTS_TO_PARSE_UNSAFELY,$=function(){function e(t,r){var n,i,a;if(!e.isTimelineIndexArgument(t))throw new Error("The given index is not compatible with a TimelineRepresentationIndex.");var o=r.manifestBoundsCalculator,s=r.isDynamic,l=r.representationBaseURLs,u=r.representationId,c=r.representationBitrate,d=r.periodStart,f=r.periodEnd,p=r.isEMSGWhitelisted,h=null!==(n=t.timescale)&&void 0!==n?n:1,g=(null!=t.presentationTimeOffset?t.presentationTimeOffset:0)-d*h;this._manifestBoundsCalculator=o,this._isEMSGWhitelisted=p,this._lastUpdate=null==r.receivedTime?performance.now():r.receivedTime,this._unsafelyBaseOnPreviousIndex=null,null!==r.unsafelyBaseOnPreviousRepresentation&&r.unsafelyBaseOnPreviousRepresentation.index instanceof e&&(r.unsafelyBaseOnPreviousRepresentation.index._unsafelyBaseOnPreviousIndex=null,this._unsafelyBaseOnPreviousIndex=r.unsafelyBaseOnPreviousRepresentation.index),this._isDynamic=s,this._parseTimeline=null!==(i=t.timelineParser)&&void 0!==i?i:null,this._index={indexRange:t.indexRange,indexTimeOffset:g,initialization:null==t.initialization?void 0:{mediaURLs:(0,A.k6)(l,t.initialization.media,u,c),range:t.initialization.range},mediaURLs:(0,A.k6)(l,t.media,u,c),startNumber:t.startNumber,timeline:null!==(a=t.timeline)&&void 0!==a?a:null,timescale:h},this._scaledPeriodStart=(0,P.gT)(d,this._index),this._scaledPeriodEnd=null==f?void 0:(0,P.gT)(f,this._index)}var t=e.prototype;return t.getInitSegment=function(){return(0,C.Z)(this._index,this._isEMSGWhitelisted)},t.getSegments=function(e,t){this._refreshTimeline(),null===this._index.timeline&&(this._index.timeline=this._getTimeline());var r=this._index,n=r.mediaURLs,i=r.startNumber,a=r.timeline,o=r.timescale,s=r.indexTimeOffset;return(0,j.Z)({mediaURLs:n,startNumber:i,timeline:a,timescale:o,indexTimeOffset:s},e,t,this._isEMSGWhitelisted,this._scaledPeriodEnd)},t.shouldRefresh=function(){return!1},t.getFirstPosition=function(){this._refreshTimeline(),null===this._index.timeline&&(this._index.timeline=this._getTimeline());var e=this._index.timeline;return 0===e.length?null:(0,P.zG)(e[0].start,this._index)},t.getLastPosition=function(){this._refreshTimeline(),null===this._index.timeline&&(this._index.timeline=this._getTimeline());var t=e.getIndexEnd(this._index.timeline,this._scaledPeriodStart);return null===t?null:(0,P.zG)(t,this._index)},t.isSegmentStillAvailable=function(e){if(e.isInit)return!0;this._refreshTimeline(),null===this._index.timeline&&(this._index.timeline=this._getTimeline());var t=this._index,r=t.timeline,n=t.timescale,i=t.indexTimeOffset;return(0,D.Z)(e,r,n,i)},t.checkDiscontinuity=function(e){this._refreshTimeline();var t=this._index.timeline;return null===t&&(t=this._getTimeline(),this._index.timeline=t),(0,P._j)({timeline:t,timescale:this._index.timescale,indexTimeOffset:this._index.indexTimeOffset},e,this._scaledPeriodEnd)},t.canBeOutOfSyncError=function(e){return!!this._isDynamic&&e instanceof I.Z&&e.isHttpError(404)},t.areSegmentsChronologicallyGenerated=function(){return!0},t._replace=function(e){this._parseTimeline=e._parseTimeline,this._index=e._index,this._isDynamic=e._isDynamic,this._scaledPeriodStart=e._scaledPeriodStart,this._scaledPeriodEnd=e._scaledPeriodEnd,this._lastUpdate=e._lastUpdate,this._manifestBoundsCalculator=e._manifestBoundsCalculator},t._update=function(e){null===this._index.timeline&&(this._index.timeline=this._getTimeline()),null===e._index.timeline&&(e._index.timeline=e._getTimeline()),(0,L.Z)(this._index.timeline,e._index.timeline),this._isDynamic=e._isDynamic,this._scaledPeriodStart=e._scaledPeriodStart,this._scaledPeriodEnd=e._scaledPeriodEnd,this._lastUpdate=e._lastUpdate},t.isFinished=function(){if(!this._isDynamic)return!0;null===this._index.timeline&&(this._index.timeline=this._getTimeline());var e=this._index.timeline;if(void 0===this._scaledPeriodEnd||0===e.length)return!1;var t=e[e.length-1],r=(0,P.jH)(t,null,this._scaledPeriodEnd);return U(this._index.timescale,r,this._scaledPeriodEnd)},t.isInitialized=function(){return!0},e.isTimelineIndexArgument=function(e){return"function"===typeof e.timelineParser||Array.isArray(e.timeline)},t._refreshTimeline=function(){null===this._index.timeline&&(this._index.timeline=this._getTimeline());var e=this._manifestBoundsCalculator.estimateMinimumBound();if(null!=e){var t=(0,P.gT)(e,this._index);(0,R.Z)(this._index.timeline,t)}},e.getIndexEnd=function(e,t){return e.length<=0?null:(0,P.jH)(e[e.length-1],null,t)},t._getTimeline=function(){if(null===this._parseTimeline)return null!==this._index.timeline?this._index.timeline:(o.Z.error("DASH: Timeline already lazily parsed."),[]);var e,t=this._parseTimeline();return this._parseTimeline=null,null===this._unsafelyBaseOnPreviousIndex||t.length<W?z(t,this._scaledPeriodStart):(null===this._unsafelyBaseOnPreviousIndex._index.timeline?(e=this._unsafelyBaseOnPreviousIndex._getTimeline(),this._unsafelyBaseOnPreviousIndex._index.timeline=e):e=this._unsafelyBaseOnPreviousIndex._index.timeline,this._unsafelyBaseOnPreviousIndex=null,V(t,e,this._scaledPeriodStart))},e}(),H=a.Z.MINIMUM_SEGMENT_SIZE,K=function(){function e(e,t){var r,n=t.aggressiveMode,i=t.availabilityTimeOffset,a=t.manifestBoundsCalculator,o=t.isDynamic,s=t.periodEnd,l=t.periodStart,u=t.representationBaseURLs,c=t.representationId,d=t.representationBitrate,f=t.isEMSGWhitelisted,p=null!==(r=e.timescale)&&void 0!==r?r:1;this._availabilityTimeOffset=i,this._manifestBoundsCalculator=a,this._aggressiveMode=n;var h=null!=e.presentationTimeOffset?e.presentationTimeOffset:0,g=h-l*p;if(void 0===e.duration)throw new Error("Invalid SegmentTemplate: no duration");this._index={duration:e.duration,timescale:p,indexRange:e.indexRange,indexTimeOffset:g,initialization:null==e.initialization?void 0:{mediaURLs:(0,A.k6)(u,e.initialization.media,c,d),range:e.initialization.range},mediaURLs:(0,A.k6)(u,e.media,c,d),presentationTimeOffset:h,startNumber:e.startNumber},this._isDynamic=o,this._periodStart=l,this._scaledPeriodEnd=null==s?void 0:(s-l)*p,this._isEMSGWhitelisted=f}var t=e.prototype;return t.getInitSegment=function(){return(0,C.Z)(this._index,this._isEMSGWhitelisted)},t.getSegments=function(e,t){var r=this._index,n=r.duration,i=r.startNumber,a=r.timescale,o=r.mediaURLs,s=this._periodStart*a,l=this._scaledPeriodEnd,u=e*a-s,c=(e+t)*a-s,d=this._getFirstSegmentStart(),f=this._getLastSegmentStart();if(null==d||null==f)return[];var p=Math.max(d,u),h=Math.min(f,c);if(h+n<=p)return[];for(var g=[],m=null==i?1:i,v=Math.floor(p/n),y=v*n;y<=h;y+=n){var b=v+m,k=null!=l&&y+n>l?l-y:n,E=y+s,_=y+this._index.presentationTimeOffset,S=null===o?null:o.map((0,A.QB)(_,b)),T={id:String(b),number:b,time:E/a,end:(E+k)/a,duration:k/a,timescale:1,isInit:!1,scaledDuration:k/a,mediaURLs:S,timestampOffset:-r.indexTimeOffset/a,privateInfos:{isEMSGWhitelisted:this._isEMSGWhitelisted}};g.push(T),v++}return g},t.getFirstPosition=function(){var e=this._getFirstSegmentStart();return null==e?e:e/this._index.timescale+this._periodStart},t.getLastPosition=function(){var e=this._getLastSegmentStart();return null==e?e:(e+this._index.duration)/this._index.timescale+this._periodStart},t.shouldRefresh=function(){return!1},t.checkDiscontinuity=function(){return null},t.areSegmentsChronologicallyGenerated=function(){return!0},t.isSegmentStillAvailable=function(e){if(e.isInit)return!0;var t=this.getSegments(e.time,.1);return 0!==t.length&&t[0].time===e.time&&t[0].end===e.end&&t[0].number===e.number},t.canBeOutOfSyncError=function(){return!1},t.isFinished=function(){if(!this._isDynamic)return!0;if(void 0===this._scaledPeriodEnd)return!1;var e=this._index.timescale,t=this._getLastSegmentStart();return null!=t&&U(e,t+this._index.duration,this._scaledPeriodEnd)},t.isInitialized=function(){return!0},t._replace=function(e){this._index=e._index,this._aggressiveMode=e._aggressiveMode,this._isDynamic=e._isDynamic,this._periodStart=e._periodStart,this._scaledPeriodEnd=e._scaledPeriodEnd,this._manifestBoundsCalculator=e._manifestBoundsCalculator},t._update=function(e){this._replace(e)},t._getFirstSegmentStart=function(){if(!this._isDynamic)return 0;if(0===this._scaledPeriodEnd||void 0===this._scaledPeriodEnd){var e=this._manifestBoundsCalculator.estimateMaximumBound();if(void 0!==e&&e<this._periodStart)return null}var t=this._index,r=t.duration,n=t.timescale,i=this._manifestBoundsCalculator.estimateMinimumBound();if(void 0!==i){var a=i>this._periodStart?(i-this._periodStart)*n:0;return Math.floor(a/r)*r}},t._getLastSegmentStart=function(){var e,t=this._index,r=t.duration,n=t.timescale;if(this._isDynamic){var i=this._manifestBoundsCalculator.estimateMaximumBound();if(void 0===i)return;var a=this._aggressiveMode?r/n:0;if(null!=this._scaledPeriodEnd&&this._scaledPeriodEnd<(i+a-this._periodStart)*this._index.timescale)return this._scaledPeriodEnd<r?null:(Math.floor(this._scaledPeriodEnd/r)-1)*r;var o=(i-this._periodStart)*n;if(o<0)return null;var s=((void 0!==this._availabilityTimeOffset?this._availabilityTimeOffset:0)+a)*n,l=Math.floor((o+s)/r);return l<=0?null:(l-1)*r}var u=null!==(e=this._scaledPeriodEnd)&&void 0!==e?e:0,c=Math.ceil(u/r)-1,d=c*r;return u-d>H*n||0===c?d:(c-1)*r},e}();function G(e,t){var r=[];if(0===t.length)return e;if(0===e.length){for(var n=0;n<t.length;n++)(0,k.Z)(r,t[n].value)||r.push(t[n].value);return r}for(var i=0;i<e.length;i++)for(var a=e[i],o=0;o<t.length;o++){var s=(0,l.Z)(a,t[o].value);(0,k.Z)(r,s)||r.push(s)}return r}function Z(e){var t=e.adaptationProfiles,r=e.manifestProfiles,n=e.codecs;if(void 0!==n)return-1===((null!==t&&void 0!==t?t:"")+(null!==r&&void 0!==r?r:"")).indexOf("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")||"hvc1.2.4.L153.B0"!==n&&"hev1.2.4.L153.B0"!==n?/^vp(08|09|10)/.exec(n)?function(e){var t,r,n,i=e.split("."),a=i[0],o=(i[1],i[2],i[3]),s=(i[4],i[5]),l=i[6],u=i[7];if(("vp08"===a||"vp09"===a||"vp10"===a)&&((void 0!==o&&"10"===o||"12"===o)&&(t=parseInt(o,10)),void 0!==l&&("16"===l?r="pq":"18"===l&&(r="hlg")),void 0!==s&&void 0!==u&&"09"===s&&"09"===u&&(n="rec2020"),void 0!==t&&void 0!==r))return{colorDepth:t,eotf:r,colorSpace:n}}(n):void 0:{colorDepth:10,eotf:"pq",colorSpace:"rec2020"}}function q(e,t,r){for(var n,i,a=[],l=function(l){for(var c=e[l],d=null!=c.attributes.id?c.attributes.id:String(c.attributes.bitrate)+(null!=c.attributes.height?"-"+c.attributes.height:"")+(null!=c.attributes.width?"-"+c.attributes.width:"")+(null!=c.attributes.mimeType?"-"+c.attributes.mimeType:"")+(null!=c.attributes.codecs?"-"+c.attributes.codecs:"");a.some((function(e){return e.id===d}));)d+="-dup";var f=null!==(i=null===(n=r.unsafelyBaseOnPreviousAdaptation)||void 0===n?void 0:n.getRepresentation(d))&&void 0!==i?i:null,p=function(e,t){var r=[];if(void 0!==e.children.inbandEventStreams&&r.push.apply(r,e.children.inbandEventStreams),void 0!==t.children.inbandEventStreams&&r.push.apply(r,t.children.inbandEventStreams),0!==r.length)return r}(c,t),h=function(e,t){var r,n,i,a=G(t.baseURLs,e.children.baseURLs),o=t.aggressiveMode,s=t.availabilityTimeOffset,l=t.manifestBoundsCalculator,c=t.isDynamic,d=t.end,f=t.start,p=t.receivedTime,h=t.timeShiftBufferDepth,g=t.unsafelyBaseOnPreviousRepresentation,m=t.inbandEventStreams,v={aggressiveMode:o,availabilityTimeOffset:s,unsafelyBaseOnPreviousRepresentation:g,isEMSGWhitelisted:function(e){return void 0!==m&&m.some((function(t){return t.schemeIdUri===e.schemeIdUri}))},manifestBoundsCalculator:l,isDynamic:c,periodEnd:d,periodStart:f,receivedTime:p,representationBaseURLs:a,representationBitrate:e.attributes.bitrate,representationId:e.attributes.id,timeShiftBufferDepth:h};if(void 0!==e.children.segmentBase){var y=e.children.segmentBase;v.availabilityTimeOffset=t.availabilityTimeOffset+u(e.children.baseURLs)+(null!==(r=y.availabilityTimeOffset)&&void 0!==r?r:0),i=new O.Z(y,v)}else if(void 0!==e.children.segmentList){var b=e.children.segmentList;i=new M(b,v)}else if(void 0!==e.children.segmentTemplate||t.parentSegmentTemplates.length>0){var k=t.parentSegmentTemplates.slice(),E=e.children.segmentTemplate;void 0!==E&&k.push(E);var _=x.Z.apply(void 0,[{}].concat(k));v.availabilityTimeOffset=t.availabilityTimeOffset+u(e.children.baseURLs)+(null!==(n=_.availabilityTimeOffset)&&void 0!==n?n:0),i=$.isTimelineIndexArgument(_)?new $(_,v):new K(_,v)}else{var S=t.adaptation.children;if(void 0!==S.segmentBase){var T=S.segmentBase;i=new O.Z(T,v)}else if(void 0!==S.segmentList){var w=S.segmentList;i=new M(w,v)}else i=new K({duration:Number.MAX_VALUE,timescale:1,startNumber:0,media:""},v)}return i}(c,(0,x.Z)({},r,{unsafelyBaseOnPreviousRepresentation:f,adaptation:t,inbandEventStreams:p})),g=void 0;null==c.attributes.bitrate?(o.Z.warn("DASH: No usable bitrate found in the Representation."),g=0):g=c.attributes.bitrate;var m={bitrate:g,index:h,id:d},v=void 0;if(null!=c.attributes.codecs?v=c.attributes.codecs:null!=t.attributes.codecs&&(v=t.attributes.codecs),null!=v&&(v="mp4a.40.02"===v?"mp4a.40.2":v,m.codecs=v),null!=c.attributes.frameRate?m.frameRate=c.attributes.frameRate:null!=t.attributes.frameRate&&(m.frameRate=t.attributes.frameRate),null!=c.attributes.height?m.height=c.attributes.height:null!=t.attributes.height&&(m.height=t.attributes.height),null!=c.attributes.mimeType?m.mimeType=c.attributes.mimeType:null!=t.attributes.mimeType&&(m.mimeType=t.attributes.mimeType),null!=c.attributes.width?m.width=c.attributes.width:null!=t.attributes.width&&(m.width=t.attributes.width),null!=t.children.contentProtections){var y=t.children.contentProtections.reduce((function(e,t){var r;if(void 0!==t.attributes.schemeIdUri&&"urn:uuid:"===t.attributes.schemeIdUri.substring(0,9)&&(r=t.attributes.schemeIdUri.substring(9).replace(/-/g,"").toLowerCase()),void 0!==t.attributes.keyId&&t.attributes.keyId.length>0&&e.keyIds.push({keyId:t.attributes.keyId,systemId:r}),void 0!==r){for(var n=t.children.cencPssh,i=[],a=0;a<n.length;a++){var o=n[a];i.push({systemId:r,data:o})}if(i.length>0){var l,u=(0,s.Z)(e.initData,(function(e){return"cenc"===e.type}));void 0===u?e.initData.push({type:"cenc",values:i}):(l=u.values).push.apply(l,i)}}return e}),{keyIds:[],initData:[]});(Object.keys(y.initData).length>0||y.keyIds.length>0)&&(m.contentProtections=y)}m.hdrInfo=Z({adaptationProfiles:t.attributes.profiles,manifestProfiles:r.manifestProfiles,codecs:v}),a.push(m)},c=0;c<e.length;c++)l(c);return a}function X(e){if(null==e)return!1;var t="urn:tva:metadata:cs:AudioPurposeCS:2007"===e.schemeIdUri&&"1"===e.value,r="urn:mpeg:dash:role:2011"===e.schemeIdUri&&"description"===e.value;return t||r}function Y(e){return null!=e&&"urn:tva:metadata:cs:AudioPurposeCS:2007"===e.schemeIdUri&&"2"===e.value}function Q(e){return null!=e&&"urn:mpeg:dash:role:2011"===e.schemeIdUri&&"sign"===e.value}function J(e,t){if((0,E.Z)(e.attributes.id))return e.attributes.id;var r=t.isClosedCaption,n=t.isAudioDescription,i=t.isSignInterpreted,a=t.isTrickModeTrack,o=t.type;return(0,E.Z)(e.attributes.language)&&(o+="-"+e.attributes.language),!0===r&&(o+="-cc"),!0===n&&(o+="-ad"),!0===i&&(o+="-si"),a&&(o+="-trickMode"),(0,E.Z)(e.attributes.contentType)&&(o+="-"+e.attributes.contentType),(0,E.Z)(e.attributes.codecs)&&(o+="-"+e.attributes.codecs),(0,E.Z)(e.attributes.mimeType)&&(o+="-"+e.attributes.mimeType),(0,E.Z)(e.attributes.frameRate)&&(o+="-"+e.attributes.frameRate),o}function ee(e){if(null!=e.children.supplementalProperties)for(var t=e.children.supplementalProperties,r=0;r<t.length;r++){var n=t[r];if("urn:mpeg:dash:adaptation-set-switching:2016"===n.schemeIdUri&&null!=n.value)return n.value.split(",").map((function(e){return e.trim()})).filter((function(e){return e}))}return[]}var te=(0,m.Z)();function re(e,t){var r,n,i=[],a=function(e,t){var r=[];return e.forEach((function(n,i){var a,o;if(null!=n.attributes.start)a=n.attributes.start;else if(0===i)a=t.isDynamic&&null!=t.availabilityStartTime?t.availabilityStartTime:0;else{var s=r[r.length-1];if(null==s||null==s.periodEnd)throw new Error("Missing start time when parsing periods.");a=s.periodEnd}var l=e[i+1];null!=n.attributes.duration?o=n.attributes.duration:i===e.length-1?o=t.duration:null!=l.attributes.start&&(o=l.attributes.start-a);var u=null!=o?a+o:void 0;r.push({periodStart:a,periodDuration:o,periodEnd:u})})),r}(e,t);if(a.length!==e.length)throw new Error("MPD parsing error: the time information are incoherent.");var l=t.isDynamic,c=t.timeShiftBufferDepth,d=new b({isDynamic:l,timeShiftBufferDepth:c});l||null==t.duration||d.setLastPosition(t.duration);for(var f=function(f){var p=e[f],h=t.xlinkInfos.get(p),m=G(t.baseURLs,p.children.baseURLs),b=a[f],_=b.periodStart,T=b.periodDuration,x=b.periodEnd,O=void 0;for(null==p.attributes.id?(o.Z.warn("DASH: No usable id found in the Period. Generating one."),O="gen-dash-period-"+te()):O=p.attributes.id;i.some((function(e){return e.id===O}));)O+="-dup";var P=void 0!==h?h.receivedTime:t.receivedTime,C=u(p.children.baseURLs)+t.availabilityTimeOffset,A=null!==(n=null===(r=t.unsafelyBaseOnPreviousManifest)||void 0===r?void 0:r.getPeriod(O))&&void 0!==n?n:null,M={aggressiveMode:t.aggressiveMode,availabilityTimeOffset:C,baseURLs:m,manifestBoundsCalculator:d,end:x,isDynamic:l,manifestProfiles:t.manifestProfiles,receivedTime:P,segmentTemplate:p.children.segmentTemplate,start:_,timeShiftBufferDepth:c,unsafelyBaseOnPreviousPeriod:A},I=function(e,t){var r,n,i,a,l,c={},d=[],f={},p=[],h={};e.sort((function(e,t){var r,n,i=null!==(r=e.attributes.selectionPriority)&&void 0!==r?r:1;return(null!==(n=t.attributes.selectionPriority)&&void 0!==n?n:1)-i}));for(var g=0;g<e.length;g++){var m=e[g],v=m.children,y=v.essentialProperties,b=v.roles,_=Array.isArray(b)&&b.some((function(e){return"main"===e.value}))&&b.some((function(e){return"urn:mpeg:dash:role:2011"===e.schemeIdUri})),T=m.children.representations,x=u(m.children.baseURLs)+t.availabilityTimeOffset,O=m.attributes.mimeType,P=m.attributes.codecs,C=w(T,(0,E.Z)(O)?O:null,(0,E.Z)(P)?P:null,null!=v.roles?v.roles:null);if(void 0!==C){var A=m.attributes.id,M=void 0,I=ee(m),R=[];void 0!==t.segmentTemplate&&R.push(t.segmentTemplate),void 0!==m.children.segmentTemplate&&R.push(m.children.segmentTemplate);var D={aggressiveMode:t.aggressiveMode,availabilityTimeOffset:x,baseURLs:G(t.baseURLs,v.baseURLs),manifestBoundsCalculator:t.manifestBoundsCalculator,end:t.end,isDynamic:t.isDynamic,manifestProfiles:t.manifestProfiles,parentSegmentTemplates:R,receivedTime:t.receivedTime,start:t.start,timeShiftBufferDepth:t.timeShiftBufferDepth,unsafelyBaseOnPreviousAdaptation:null},L=Array.isArray(y)?(0,s.Z)(y,(function(e){return"http://dashif.org/guidelines/trickmode"===e.schemeIdUri})):void 0,j=null===(r=null===L||void 0===L?void 0:L.value)||void 0===r?void 0:r.split(" "),N=void 0!==j;if("video"===C&&_&&void 0!==c.video&&c.video.length>0&&void 0!==h.video&&!N){var U,B=c.video[h.video];D.unsafelyBaseOnPreviousAdaptation=null!==(i=null===(n=t.unsafelyBaseOnPreviousPeriod)||void 0===n?void 0:n.getAdaptation(B.id))&&void 0!==i?i:null;var F=q(T,m,D);(U=B.representations).push.apply(U,F),M=B.id}else{var z=v.accessibilities,V=void 0;void 0!==b&&b.some((function(e){return"dub"===e.value}))&&(V=!0);var W=void 0;"text"!==C?W=!1:void 0!==z&&(W=z.some(Y));var $=void 0;"audio"!==C?$=!1:void 0!==z&&($=z.some(X));var H=void 0;"video"!==C?H=!1:void 0!==z&&(H=z.some(Q));for(var K=J(m,{isAudioDescription:$,isClosedCaption:W,isSignInterpreted:H,isTrickModeTrack:N,type:C});(0,k.Z)(p,K);)K+="-dup";M=K,p.push(K),D.unsafelyBaseOnPreviousAdaptation=null!==(l=null===(a=t.unsafelyBaseOnPreviousPeriod)||void 0===a?void 0:a.getAdaptation(K))&&void 0!==l?l:null;var Z={id:K,representations:q(T,m,D),type:C,isTrickModeTrack:N};null!=m.attributes.language&&(Z.language=m.attributes.language),null!=W&&(Z.closedCaption=W),null!=$&&(Z.audioDescription=$),!0===V&&(Z.isDub=!0),!0===H&&(Z.isSignInterpreted=!0);var te=c[C];if(void 0!==j)d.push({adaptation:Z,trickModeAttachedAdaptationIds:j});else if(void 0===te)c[C]=[Z],_&&(h[C]=0);else{for(var re=null,ne=function(e){var t=I[e],r=f[t];if(null!=r&&r.newID!==M&&(0,k.Z)(r.adaptationSetSwitchingIDs,A)){var n,i=(0,s.Z)(te,(function(e){return e.id===t}));null!=i&&i.audioDescription===Z.audioDescription&&i.closedCaption===Z.closedCaption&&i.language===Z.language&&(o.Z.info('DASH Parser: merging "switchable" AdaptationSets',A,t),(n=i.representations).push.apply(n,Z.representations),re=i)}},ie=0;ie<I.length;ie++)ne(ie);if(_){var ae=h[C],oe=void 0===ae?0:ae+1;if(null===re)te.splice(oe,0,Z),h[C]=oe;else{var se=te.indexOf(re);se<0?(te.splice(oe,0,Z),h[C]=oe):(void 0===ae||se>ae)&&(te.splice(se,1),te.splice(oe,0,re),h[C]=oe)}}else null===re&&te.push(Z)}}null!=A&&null==f[A]&&(f[A]={newID:M,adaptationSetSwitchingIDs:I})}}return S(c,d),c}(p.children.adaptations,M),R=function(e,t){for(var r,n=[],i=0;i<e.length;i++)for(var a=e[i],o=a.attributes,s=o.schemeIdUri,l=void 0===s?"":s,u=o.timescale,c=void 0===u?1:u,d=0;d<a.children.events.length;d++){var f=a.children.events[d];if(void 0!==f.eventStreamData){var p=(null!==(r=f.presentationTime)&&void 0!==r?r:0)/c+t,h=void 0===f.duration?void 0:p+f.duration/c,g=f.eventStreamData instanceof Element?f.eventStreamData:(new DOMParser).parseFromString((0,y.uR)(new Uint8Array(f.eventStreamData)),"application/xml").documentElement;n.push({start:p,end:h,id:f.id,data:{type:"dash-event-stream",value:{schemeIdUri:l,timescale:c,element:g}}})}}return n}(p.children.eventStreams,_),D={id:O,start:_,end:x,duration:T,adaptations:I,streamEvents:R};if(i.unshift(D),!d.lastPositionIsKnown()){var L=function(e){for(var t=null,r=!0,n=(0,v.Z)(e).filter((function(e){return null!=e})),i=(0,g.Z)(n,(function(e){return e})),a=0;a<i.length;a++)for(var o=i[a].representations,s=0;s<o.length;s++){var l=o[s].index.getLastPosition();null!==l&&(r=!1,"number"===typeof l&&(t=null==t?l:Math.max(t,l)))}return null!=t?t:r?null:void 0}(I);if(l)if("number"===typeof L){var j=performance.now()/1e3;d.setLastPosition(L,j)}else{var N=ne(t,_);if(void 0!==N){var U=N[0],B=N[1];d.setLastPosition(U,B)}}else"number"===typeof L&&d.setLastPosition(L)}},p=e.length-1;p>=0;p--)f(p);if(t.isDynamic&&!d.lastPositionIsKnown()){var h=ne(t,0);if(void 0!==h){var m=h[0],_=h[1];d.setLastPosition(m,_)}}return function(e){if(0===e.length)return[];for(var t=[e[0]],r=1;r<e.length;r++){for(var n=e[r],i=t[t.length-1];null==i.duration||i.start+i.duration>n.start;)o.Z.warn("DASH: Updating overlapping Periods.",i,n),i.duration=n.start-i.start,i.end=n.start,i.duration<=0&&(t.pop(),i=t[t.length-1]);t.push(n)}return t}(i)}function ne(e,t){if(null!=e.clockOffset){var r=e.clockOffset/1e3-e.availabilityStartTime,n=performance.now()/1e3,i=n+r;if(i>=t)return[i,n]}else{var a=Date.now()/1e3;if(a>=t)return o.Z.warn("DASH Parser: no clock synchronization mechanism found. Using the system clock instead."),[a-e.availabilityStartTime,performance.now()/1e3]}}var ie=a.Z.DASH_FALLBACK_LIFETIME_WHEN_MINIMUM_UPDATE_PERIOD_EQUAL_0,ae=function e(t,r,n,i,a){void 0===a&&(a=new WeakMap);var d=t.children,p=t.attributes;if(null==r.externalClockOffset){var g="dynamic"===p.type,m=(0,s.Z)(d.utcTimings,(function(e){return"urn:mpeg:dash:utc:direct:2014"===e.schemeIdUri&&null!=e.value})),v=null!=m&&null!=m.value?c(m.value):void 0,y=null==v||isNaN(v)?void 0:v;if(null!=y&&!0!==i)r.externalClockOffset=y;else if(g&&!0!==i){var b=function(e){var t=e.children.utcTimings.filter((function(e){return"urn:mpeg:dash:utc:http-iso:2014"===e.schemeIdUri&&void 0!==e.value}));return t.length>0?t[0].value:void 0}(t);if(null!=b&&b.length>0)return{type:"needs-clock",value:{url:b,continue:function(i){return r.externalClockOffset=c(i),e(t,r,n,!0)}}}}}for(var k=[],E=0;E<d.periods.length;E++){var _=d.periods[E].attributes,S=_.xlinkHref,T=_.xlinkActuate;null!=S&&"onLoad"===T&&k.push({index:E,ressource:S})}return 0===k.length?function(e,t,r,n){var i,a,s,c,d,p,g=e.children,m=e.attributes,v="dynamic"===m.type,y=G(void 0===t.url?[]:[(0,l.f)(t.url)],g.baseURLs),b=function(e,t){return"dynamic"!==e.type?0:null==e.availabilityStartTime?null==t?0:t:e.availabilityStartTime}(m,t.referenceDateTime),k=m.timeShiftBufferDepth,E=t.externalClockOffset,_=t.unsafelyBaseOnPreviousManifest,S=u(g.baseURLs),T={aggressiveMode:t.aggressiveMode,availabilityStartTime:b,availabilityTimeOffset:S,baseURLs:y,clockOffset:E,duration:m.duration,isDynamic:v,manifestProfiles:e.attributes.profiles,receivedTime:t.manifestReceivedTime,timeShiftBufferDepth:k,unsafelyBaseOnPreviousManifest:_,xlinkInfos:n},w=re(g.periods,T),x=m.duration,O=null;void 0!==m.minimumUpdatePeriod&&m.minimumUpdatePeriod>=0&&(c=0===m.minimumUpdatePeriod?ie:m.minimumUpdatePeriod);var P=function(e){if(0===e.length)throw new Error("DASH Parser: no period available for a dynamic content");return[h(e),f(e)]}(w),C=P[0],A=P[1],M=performance.now();if(v){var I;if(d=C,O=null!==k&&void 0!==k?k:null,void 0!==A)I=A;else{var R=null!==b&&void 0!==b?b:0,D=t.externalClockOffset;if(void 0===D)o.Z.warn("DASH Parser: use system clock to define maximum position"),I=Date.now()/1e3-R;else{var L=performance.now()+D;I=L/1e3-R}}p={isLinear:!0,value:I,time:M},null!==O&&void 0!==d&&I-d>O&&(O=I-d)}else{d=void 0!==C?C:void 0!==(null===(i=w[0])||void 0===i?void 0:i.start)?w[0].start:0;var j=null!==x&&void 0!==x?x:1/0;if(void 0!==w[w.length-1]){var N=w[w.length-1],U=null!==(a=N.end)&&void 0!==a?a:void 0!==N.duration?N.start+N.duration:void 0;void 0!==U&&U<j&&(j=U)}void 0!==A&&A<j&&(j=A),p={isLinear:!1,value:j,time:M}}var B=!v||void 0===e.attributes.minimumUpdatePeriod&&(void 0!==(null===(s=w[w.length-1])||void 0===s?void 0:s.end)||void 0!==e.attributes.duration);return{type:"done",value:{parsed:{availabilityStartTime:b,clockOffset:t.externalClockOffset,isDynamic:v,isLive:v,isLastPeriodKnown:B,periods:w,publishTime:m.publishTime,suggestedPresentationDelay:m.suggestedPresentationDelay,transportType:"dash",timeBounds:{absoluteMinimumTime:d,timeshiftDepth:O,maximumTimeData:p},lifetime:c,uris:null==t.url?g.locations:[t.url].concat(g.locations)},warnings:r}}}(t,r,n,a):{type:"needs-xlinks",value:{xlinksUrls:k.map((function(e){return e.ressource})),continue:function(o){if(o.length!==k.length)throw new Error("DASH parser: wrong number of loaded ressources.");for(var s=o.length-1;s>=0;s--){var l,u=k[s].index,c=o[s],f=c.parsed,p=c.warnings,h=c.receivedTime,g=c.sendingTime,m=c.url;p.length>0&&n.push.apply(n,p);for(var v=0;v<f.length;v++)a.set(f[v],{receivedTime:h,sendingTime:g,url:m});(l=d.periods).splice.apply(l,[u,1].concat(f))}return e(t,r,n,i,a)}}}},oe=r(3349),se=r(1788),le=r(3786),ue=r(9689),ce=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,de=/([0-9]+)-([0-9]+)/;function fe(e,t){return"true"===e?[!0,null]:"false"===e?[!1,null]:[!1,new _e("`"+t+'` property is not a boolean value but "'+e+'"')]}function pe(e,t){var r=parseInt(e,10);return isNaN(r)?[null,new _e("`"+t+'` property is not an integer value but "'+e+'"')]:[r,null]}function he(e,t){var r=parseFloat(e);return isNaN(r)?[null,new _e("`"+t+'` property is not an integer value but "'+e+'"')]:[r,null]}function ge(e,t){if("true"===e)return[!0,null];if("false"===e)return[!1,null];var r=parseInt(e,10);return isNaN(r)?[null,new _e("`"+t+'` property is not a boolean nor an integer but "'+e+'"')]:[r,null]}function me(e,t){var r=Date.parse(e);return isNaN(r)?[null,new _e("`"+t+'` is in an invalid date format: "'+e+'"')]:[new Date(Date.parse(e)).getTime()/1e3,null]}function ve(e,t){if(!(0,E.Z)(e))return[0,new _e("`"+t+"` property is empty")];var r=ce.exec(e);return null===r?[null,new _e("`"+t+'` property has an unrecognized format "'+e+'"')]:[365*parseFloat((0,E.Z)(r[2])?r[2]:"0")*24*60*60+30*parseFloat((0,E.Z)(r[4])?r[4]:"0")*24*60*60+24*parseFloat((0,E.Z)(r[6])?r[6]:"0")*60*60+60*parseFloat((0,E.Z)(r[8])?r[8]:"0")*60+60*parseFloat((0,E.Z)(r[10])?r[10]:"0")+parseFloat((0,E.Z)(r[12])?r[12]:"0"),null]}function ye(e,t){var r=de.exec(e);return null===r?[null,new _e("`"+t+'` property has an unrecognized format "'+e+'"')]:[[+r[1],+r[2]],null]}function be(e,t){try{return[(0,ue.K)(e),null]}catch(r){return[null,new _e("`"+t+'` is not a valid base64 string: "'+e+'"')]}}function ke(e){for(var t,r,n=0;n<e.attributes.length;n++){var i=e.attributes[n];switch(i.name){case"schemeIdUri":t=i.value;break;case"value":r=i.value}}return{schemeIdUri:t,value:r}}function Ee(e,t){return function(r,n){var i=n.asKey,a=(0,n.parser)(r,n.dashName),s=a[0],l=a[1];null!==l&&(o.Z.warn(l.message),t.push(l)),null!==s&&(e[i]=s)}}var _e=function(e){function t(r){var n;return n=e.call(this)||this,Object.setPrototypeOf((0,oe.Z)(n),t.prototype),n.name="MPDError",n.message=r,n}return(0,se.Z)(t,e),t}((0,le.Z)(Error));function Se(e){var t={},r=e.textContent,n=[],i=Ee(t,n);if(null===r||0===r.length)return[void 0,n];for(var a=0;a<e.attributes.length;a++){var o=e.attributes[a];switch(o.name){case"availabilityTimeOffset":"INF"===o.value?t.availabilityTimeOffset=1/0:i(o.value,{asKey:"availabilityTimeOffset",parser:pe,dashName:"availabilityTimeOffset"})}}return[{value:r,attributes:t},n]}function Te(e){for(var t={},r=0;r<e.attributes.length;r++){var n=e.attributes[r];switch(n.name){case"id":t.id=n.value;break;case"lang":t.language=n.value;break;case"contentType":t.contentType=n.value;break;case"par":t.par=n.value}}return t}function we(e){var t=function(e){for(var t=[],r=[],n=0;n<e.length;n++)if(e[n].nodeType===Node.ELEMENT_NODE){var i=e[n];if("cenc:pssh"===i.nodeName){var a=i.textContent;if(null!==a&&a.length>0){var s=be(a,"cenc:pssh"),l=s[0],u=s[1];null!==u&&(o.Z.warn(u.message),t.push(u)),null!==l&&r.push(l)}}}return[{cencPssh:r},t]}(e.childNodes),r=t[0],n=t[1];return[{children:r,attributes:function(e){for(var t={},r=0;r<e.attributes.length;r++){var n=e.attributes[r];switch(n.name){case"schemeIdUri":t.schemeIdUri=n.value;break;case"value":t.value=n.value;break;case"cenc:default_KID":t.keyId=(0,y.nr)(n.value.replace(/-/g,""))}}return t}(e)},n]}function xe(e){for(var t={},r=[],n=Ee(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"range":n(a.value,{asKey:"range",parser:ye,dashName:"range"});break;case"sourceURL":t.media=a.value}}return[t,r]}function Oe(e){for(var t={},r=[],n=Ee(t,r),i=e.childNodes,a=0;a<i.length;a++)if(i[a].nodeType===Node.ELEMENT_NODE){var o=i[a];if("Initialization"===o.nodeName){var s=xe(o),l=s[0],u=s[1];t.initialization=l,r=r.concat(u)}}for(var c=0;c<e.attributes.length;c++){var d=e.attributes[c];switch(d.name){case"timescale":n(d.value,{asKey:"timescale",parser:pe,dashName:"timescale"});break;case"presentationTimeOffset":n(d.value,{asKey:"presentationTimeOffset",parser:he,dashName:"presentationTimeOffset"});break;case"indexRange":n(d.value,{asKey:"indexRange",parser:ye,dashName:"indexRange"});break;case"indexRangeExact":n(d.value,{asKey:"indexRangeExact",parser:fe,dashName:"indexRangeExact"});break;case"availabilityTimeOffset":n(d.value,{asKey:"availabilityTimeOffset",parser:he,dashName:"availabilityTimeOffset"});break;case"availabilityTimeComplete":n(d.value,{asKey:"availabilityTimeComplete",parser:fe,dashName:"availabilityTimeComplete"});break;case"duration":n(d.value,{asKey:"duration",parser:pe,dashName:"duration"});break;case"startNumber":n(d.value,{asKey:"startNumber",parser:pe,dashName:"startNumber"})}}return[t,r]}function Pe(e){for(var t={},r=[],n=Ee(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"media":t.media=a.value;break;case"indexRange":n(a.value,{asKey:"indexRange",parser:ye,dashName:"indexRange"});break;case"index":t.index=a.value;break;case"mediaRange":n(a.value,{asKey:"mediaRange",parser:ye,dashName:"mediaRange"})}}return[t,r]}function Ce(e){for(var t=Oe(e),r=t[0],n=t[1],i=[],a=e.childNodes,o=0;o<a.length;o++)if(a[o].nodeType===Node.ELEMENT_NODE){var s=a[o];if("SegmentURL"===s.nodeName){var l=Pe(s),u=l[0],c=l[1];i.push(u),n=n.concat(c)}}return[(0,x.Z)(r,{list:i}),n]}function Ae(e){var t=null;return function(){if(null===t){var r=e.getElementsByTagName("S");return t=r,r}return t}}function Me(e){for(var t,r=Oe(e),n=r[0],i=r[1],a=0;a<e.childNodes.length;a++)if(e.childNodes[a].nodeType===Node.ELEMENT_NODE){var o=e.childNodes[a];"SegmentTimeline"===o.nodeName&&(t=Ae(o))}for(var s=(0,x.Z)({},n,{duration:n.duration,timelineParser:t}),l=Ee(s,i),u=0;u<e.attributes.length;u++){var c=e.attributes[u];switch(c.nodeName){case"initialization":null==s.initialization&&(s.initialization={media:c.value});break;case"index":s.index=c.value;break;case"availabilityTimeOffset":"INF"===c.value&&(s.availabilityTimeOffset=1/0),l(c.value,{asKey:"availabilityTimeOffset",parser:pe,dashName:"availabilityTimeOffset"});break;case"media":s.media=c.value;break;case"bitstreamSwitching":l(c.value,{asKey:"bitstreamSwitching",parser:fe,dashName:"bitstreamSwitching"})}}return[s,i]}function Ie(e){var t=function(e){for(var t={baseURLs:[]},r=[],n=0;n<e.length;n++)if(e[n].nodeType===Node.ELEMENT_NODE){var i=e[n];switch(i.nodeName){case"BaseURL":var a=Se(i),o=a[0],s=a[1];void 0!==o&&t.baseURLs.push(o),r=r.concat(s);break;case"InbandEventStream":void 0===t.inbandEventStreams&&(t.inbandEventStreams=[]),t.inbandEventStreams.push(ke(i));break;case"SegmentBase":var l=Oe(i),u=l[0],c=l[1];t.segmentBase=u,c.length>0&&(r=r.concat(c));break;case"SegmentList":var d=Ce(i),f=d[0],p=d[1];r=r.concat(p),t.segmentList=f;break;case"SegmentTemplate":var h=Me(i),g=h[0],m=h[1];r=r.concat(m),t.segmentTemplate=g}}return[t,r]}(e.childNodes),r=t[0],n=t[1],i=function(e){for(var t={},r=[],n=Ee(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"audioSamplingRate":t.audioSamplingRate=a.value;break;case"bandwidth":n(a.value,{asKey:"bitrate",parser:pe,dashName:"bandwidth"});break;case"codecs":t.codecs=a.value;break;case"codingDependency":n(a.value,{asKey:"codingDependency",parser:fe,dashName:"codingDependency"});break;case"frameRate":t.frameRate=a.value;break;case"height":n(a.value,{asKey:"height",parser:pe,dashName:"height"});break;case"id":t.id=a.value;break;case"maxPlayoutRate":n(a.value,{asKey:"maxPlayoutRate",parser:he,dashName:"maxPlayoutRate"});break;case"maximumSAPPeriod":n(a.value,{asKey:"maximumSAPPeriod",parser:he,dashName:"maximumSAPPeriod"});break;case"mimeType":t.mimeType=a.value;break;case"profiles":t.profiles=a.value;break;case"qualityRanking":n(a.value,{asKey:"qualityRanking",parser:pe,dashName:"qualityRanking"});break;case"segmentProfiles":t.segmentProfiles=a.value;break;case"width":n(a.value,{asKey:"width",parser:pe,dashName:"width"})}}return void 0===t.bitrate&&r.push(new _e("No bitrate found on a Representation")),[t,r]}(e),a=i[0],o=i[1];return[{children:r,attributes:a},n.concat(o)]}function Re(e){var t=function(e){for(var t={baseURLs:[],representations:[]},r=[],n=[],i=0;i<e.length;i++)if(e[i].nodeType===Node.ELEMENT_NODE){var a=e[i];switch(a.nodeName){case"Accessibility":void 0===t.accessibilities?t.accessibilities=[ke(a)]:t.accessibilities.push(ke(a));break;case"BaseURL":var o=Se(a),s=o[0],l=o[1];void 0!==s&&t.baseURLs.push(s),l.length>0&&(n=n.concat(l));break;case"ContentComponent":t.contentComponent=Te(a);break;case"EssentialProperty":null==t.essentialProperties?t.essentialProperties=[ke(a)]:t.essentialProperties.push(ke(a));break;case"InbandEventStream":void 0===t.inbandEventStreams&&(t.inbandEventStreams=[]),t.inbandEventStreams.push(ke(a));break;case"Representation":var u=Ie(a),c=u[0],d=u[1];t.representations.push(c),d.length>0&&(n=n.concat(d));break;case"Role":null==t.roles?t.roles=[ke(a)]:t.roles.push(ke(a));break;case"SupplementalProperty":null==t.supplementalProperties?t.supplementalProperties=[ke(a)]:t.supplementalProperties.push(ke(a));break;case"SegmentBase":var f=Oe(a),p=f[0],h=f[1];t.segmentBase=p,h.length>0&&(n=n.concat(h));break;case"SegmentList":var g=Ce(a),m=g[0],v=g[1];t.segmentList=m,v.length>0&&(n=n.concat(v));break;case"SegmentTemplate":var y=Me(a),b=y[0],k=y[1];t.segmentTemplate=b,k.length>0&&(n=n.concat(k));break;case"ContentProtection":var E=we(a),_=E[0],S=E[1];S.length>0&&(n=n.concat(S)),void 0!==_&&r.push(_)}}return r.length>0&&(t.contentProtections=r),[t,n]}(e.childNodes),r=t[0],n=t[1],i=function(e){for(var t={},r=[],n=Ee(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"id":t.id=a.value;break;case"group":n(a.value,{asKey:"group",parser:pe,dashName:"group"});break;case"lang":t.language=a.value;break;case"contentType":t.contentType=a.value;break;case"par":t.par=a.value;break;case"minBandwidth":n(a.value,{asKey:"minBitrate",parser:pe,dashName:"minBandwidth"});break;case"maxBandwidth":n(a.value,{asKey:"maxBitrate",parser:pe,dashName:"maxBandwidth"});break;case"minWidth":n(a.value,{asKey:"minWidth",parser:pe,dashName:"minWidth"});break;case"maxWidth":n(a.value,{asKey:"maxWidth",parser:pe,dashName:"maxWidth"});break;case"minHeight":n(a.value,{asKey:"minHeight",parser:pe,dashName:"minHeight"});break;case"maxHeight":n(a.value,{asKey:"maxHeight",parser:pe,dashName:"maxHeight"});break;case"minFrameRate":t.minFrameRate=a.value;break;case"maxFrameRate":t.maxFrameRate=a.value;break;case"selectionPriority":n(a.value,{asKey:"selectionPriority",parser:pe,dashName:"selectionPriority"});break;case"segmentAlignment":n(a.value,{asKey:"segmentAlignment",parser:ge,dashName:"segmentAlignment"});break;case"subsegmentAlignment":n(a.value,{asKey:"subsegmentAlignment",parser:ge,dashName:"subsegmentAlignment"});break;case"bitstreamSwitching":n(a.value,{asKey:"bitstreamSwitching",parser:fe,dashName:"bitstreamSwitching"});break;case"audioSamplingRate":t.audioSamplingRate=a.value;break;case"codecs":t.codecs=a.value;break;case"codingDependency":n(a.value,{asKey:"codingDependency",parser:fe,dashName:"codingDependency"});break;case"frameRate":t.frameRate=a.value;break;case"height":n(a.value,{asKey:"height",parser:pe,dashName:"height"});break;case"maxPlayoutRate":n(a.value,{asKey:"maxPlayoutRate",parser:he,dashName:"maxPlayoutRate"});break;case"maximumSAPPeriod":n(a.value,{asKey:"maximumSAPPeriod",parser:he,dashName:"maximumSAPPeriod"});break;case"mimeType":t.mimeType=a.value;break;case"profiles":t.profiles=a.value;break;case"segmentProfiles":t.segmentProfiles=a.value;break;case"width":n(a.value,{asKey:"width",parser:pe,dashName:"width"})}}return[t,r]}(e),a=i[0],o=i[1];return[{children:r,attributes:a},n.concat(o)]}function De(e){for(var t={children:{events:[]},attributes:{}},r=[],n=Ee(t.attributes,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"schemeIdUri":t.attributes.schemeIdUri=a.value;break;case"timescale":n(a.value,{asKey:"timescale",parser:pe,dashName:"timescale"});break;case"value":t.attributes.value=a.value}}for(var o=0;o<e.childNodes.length;o++)if(e.childNodes[o].nodeType===Node.ELEMENT_NODE){var s=e.childNodes[o];switch(s.nodeName){case"Event":var l=Le(s),u=l[0],c=l[1];t.children.events.push(u),c.length>0&&(r=r.concat(c))}}return[t,r]}function Le(e){for(var t={eventStreamData:e},r=[],n=Ee(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"presentationTime":n(a.value,{asKey:"presentationTime",parser:pe,dashName:"presentationTime"});break;case"duration":n(a.value,{asKey:"duration",parser:pe,dashName:"duration"});break;case"id":t.id=a.value}}return[t,r]}function je(e){var t=function(e){for(var t,r=[],n=[],i=[],a=[],o=0;o<e.length;o++)if(e[o].nodeType===Node.ELEMENT_NODE){var s=e[o];switch(s.nodeName){case"BaseURL":var l=Se(s),u=l[0],c=l[1];void 0!==u&&r.push(u),i=i.concat(c);break;case"AdaptationSet":var d=Re(s),f=d[0],p=d[1];n.push(f),i=i.concat(p);break;case"EventStream":var h=De(s),g=h[0],m=h[1];a.push(g),i=i.concat(m);break;case"SegmentTemplate":var v=Me(s),y=v[0],b=v[1];t=y,b.length>0&&(i=i.concat(b))}}return[{baseURLs:r,adaptations:n,eventStreams:a,segmentTemplate:t},i]}(e.childNodes),r=t[0],n=t[1],i=function(e){for(var t={},r=[],n=Ee(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"id":t.id=a.value;break;case"start":n(a.value,{asKey:"start",parser:ve,dashName:"start"});break;case"duration":n(a.value,{asKey:"duration",parser:ve,dashName:"duration"});break;case"bitstreamSwitching":n(a.value,{asKey:"bitstreamSwitching",parser:fe,dashName:"bitstreamSwitching"});break;case"xlink:href":t.xlinkHref=a.value;break;case"xlink:actuate":t.xlinkActuate=a.value}}return[t,r]}(e),a=i[0],o=i[1];return[{children:r,attributes:a},n.concat(o)]}function Ne(e){var t=function(e){for(var t=[],r=[],n=[],i=[],a=[],o=0;o<e.length;o++)if(e[o].nodeType===Node.ELEMENT_NODE){var s=e[o];switch(s.nodeName){case"BaseURL":var l=Se(s),u=l[0],c=l[1];void 0!==u&&t.push(u),a=a.concat(c);break;case"Location":r.push(null===s.textContent?"":s.textContent);break;case"Period":var d=je(s),f=d[0],p=d[1];n.push(f),a=a.concat(p);break;case"UTCTiming":var h=ke(s);i.push(h)}}return[{baseURLs:t,locations:r,periods:n,utcTimings:i},a]}(e.childNodes),r=t[0],n=t[1],i=function(e){for(var t={},r=[],n=Ee(t,r),i=0;i<e.attributes.length;i++){var a=e.attributes[i];switch(a.name){case"id":t.id=a.value;break;case"profiles":t.profiles=a.value;break;case"type":t.type=a.value;break;case"availabilityStartTime":n(a.value,{asKey:"availabilityStartTime",parser:me,dashName:"availabilityStartTime"});break;case"availabilityEndTime":n(a.value,{asKey:"availabilityEndTime",parser:me,dashName:"availabilityEndTime"});break;case"publishTime":n(a.value,{asKey:"publishTime",parser:me,dashName:"publishTime"});break;case"mediaPresentationDuration":n(a.value,{asKey:"duration",parser:ve,dashName:"mediaPresentationDuration"});break;case"minimumUpdatePeriod":n(a.value,{asKey:"minimumUpdatePeriod",parser:ve,dashName:"minimumUpdatePeriod"});break;case"minBufferTime":n(a.value,{asKey:"minBufferTime",parser:ve,dashName:"minBufferTime"});break;case"timeShiftBufferDepth":n(a.value,{asKey:"timeShiftBufferDepth",parser:ve,dashName:"timeShiftBufferDepth"});break;case"suggestedPresentationDelay":n(a.value,{asKey:"suggestedPresentationDelay",parser:ve,dashName:"suggestedPresentationDelay"});break;case"maxSegmentDuration":n(a.value,{asKey:"maxSegmentDuration",parser:ve,dashName:"maxSegmentDuration"});break;case"maxSubsegmentDuration":n(a.value,{asKey:"maxSubsegmentDuration",parser:ve,dashName:"maxSubsegmentDuration"})}}return[t,r]}(e),a=i[0],o=i[1];return[{children:r,attributes:a},n.concat(o)]}var Ue=function(e,t){var r=e.documentElement;if((0,i.Z)(r)||"MPD"!==r.nodeName)throw new Error("DASH Parser: document root should be MPD");var a=Ne(r),o=a[0],s=a[1];return function e(t){return"done"===t.type?t:"needs-clock"===t.type?{type:"needs-resources",value:{urls:[t.value.url],format:"string",continue:function(r){if(1!==r.length)throw new Error("DASH parser: wrong number of loaded ressources.");var n=t.value.continue(r[0].responseData);return e(n)}}}:"needs-xlinks"===t.type?{type:"needs-resources",value:{urls:t.value.xlinksUrls,format:"string",continue:function(r){for(var n=[],i=0;i<r.length;i++){var a=r[i],o=a.responseData,s=a.receivedTime,l=a.sendingTime,u=a.url,c="<root>"+o+"</root>",d=(new DOMParser).parseFromString(c,"text/xml");if(null==d||0===d.children.length)throw new Error("DASH parser: Invalid external ressources");for(var f=d.children[0].children,p=[],h=[],g=0;g<f.length;g++)if(f[g].nodeType===Node.ELEMENT_NODE){var m=je(f[g]),v=m[0],y=m[1];h.push.apply(h,y),p.push(v)}n.push({url:u,receivedTime:s,sendingTime:l,parsed:p,warnings:h})}var b=t.value.continue(n);return e(b)}}}:void(0,n.Z)(t)}(ae(o,t,s))}},8232:function(e,t,r){"use strict";function n(e,t){for(;e.length>0;){var r=e[0];if(r.start>=t)return;if(r.repeatCount<=0)e.shift();else{var n=e[1];if(null!=n&&n.start<=t)e.shift();else{if(r.duration<=0)return;for(var i=r.start+r.duration,a=1;i<t&&a<=r.repeatCount;)i+=r.duration,a++;if(!(a>r.repeatCount)){var o=r.repeatCount-a;return r.start=i,void(r.repeatCount=o)}e.shift()}}}}r.d(t,{Z:function(){return n}})},3911:function(e,t,r){"use strict";function n(e,t,r){var n,i=e.repeatCount;return i>=0?i:(n=null!=t?t.start:null!=r?r:Number.MAX_VALUE,Math.ceil((n-e.start)/e.duration)-1)}function i(e,t,r){var i=e.start,a=e.duration;return a<=0?i:i+(n(e,t,r)+1)*a}function a(e,t){var r;return e*t.timescale+(null!==(r=t.indexTimeOffset)&&void 0!==r?r:0)}function o(e,t){var r;return(e-(null!==(r=t.indexTimeOffset)&&void 0!==r?r:0))/t.timescale}function s(e,t,r){return[e*r,(e+t)*r]}function l(e,t,r){var n=e.timeline,s=a(t,e);if(s<0)return null;var l=function(e,t){for(var r=0,n=e.length;r<n;){var i=r+n>>>1;e[i].start<=t?r=i+1:n=i}return r-1}(n,s);if(l<0||l>=n.length-1)return null;var u=n[l];if(u.duration<=0)return null;var c=n[l+1];if(void 0===c)return null;var d=c.start;return s>=i(u,c,r)&&s<d?o(d,e):null}r.d(t,{KF:function(){return n},jH:function(){return i},gT:function(){return a},zG:function(){return o},PZ:function(){return s},_j:function(){return l}})},1091:function(e,t,r){"use strict";function n(e,t,r,n){for(var i=0;i<t.length;i++){var a=t[i],o=(a.start-n)/r;if(o>e.time)return!1;if(o===e.time)return a.duration/r===e.duration&&(null==a.range?null==e.range:null!=e.range&&a.range[0]===e.range[0]&&a.range[1]===e.range[1]);if(a.repeatCount>=0&&null!=a.duration){var s=(o-a.start)/a.duration-1;return s%1===0&&s<=a.repeatCount}}return!1}r.d(t,{Z:function(){return n}})},5505:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(3714),i=r(3887),a=r(3911);function o(e,t){var r=e.length;if(0!==e.length){if(0!==t.length){var o=t[0].start,s=e[r-1];if((0,a.jH)(s,t[0])<o)throw new n.Z("MANIFEST_UPDATE_ERROR","Cannot perform partial update: not enough data");for(var l=r-1;l>=0;l--){var u=e[l].start;if(u===o)return void e.splice.apply(e,[l,r-l].concat(t));if(u<o){var c=e[l];if(c.start+c.duration>o)return i.Z.warn("RepresentationIndex: Manifest update removed previous segments"),void e.splice.apply(e,[l,r-l].concat(t));if(void 0===c.repeatCount||c.repeatCount<=0)return c.repeatCount<0&&(c.repeatCount=Math.floor((o-c.start)/c.duration)-1),void e.splice.apply(e,[l+1,r-(l+1)].concat(t));if(c.start+c.duration*(c.repeatCount+1)<=o)return void e.splice.apply(e,[l+1,r-(l+1)].concat(t));var d=(o-c.start)/c.duration-1;if(d%1===0&&c.duration===t[0].duration){var f=t[0].repeatCount<0?-1:t[0].repeatCount+d+1;return e.splice.apply(e,[l,r-l].concat(t)),e[l].start=c.start,void(e[l].repeatCount=f)}return i.Z.warn("RepresentationIndex: Manifest update removed previous segments"),e[l].repeatCount=Math.floor(d),void e.splice.apply(e,[l+1,r-(l+1)].concat(t))}}var p=e[e.length-1],h=t[t.length-1];if(void 0!==p.repeatCount&&p.repeatCount<0)return p.start>h.start?void i.Z.warn("RepresentationIndex: The new index is older than the previous one"):(i.Z.warn('RepresentationIndex: The new index is "bigger" than the previous one'),void e.splice.apply(e,[0,r].concat(t)));p.start+p.duration*(p.repeatCount+1)>=h.start+h.duration*(h.repeatCount+1)?i.Z.warn("RepresentationIndex: The new index is older than the previous one"):(i.Z.warn('RepresentationIndex: The new index is "bigger" than the previous one'),e.splice.apply(e,[0,r].concat(t)))}}else e.splice.apply(e,[0,r].concat(t))}},5734:function(e,t,r){"use strict";var n=r(6923),i=/&#([0-9]+);/g,a=/<br>/gi,o=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,s=/\s*<p (?:class=([^>]+))?>(.*)/i,l=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;function u(e,t){var r=new RegExp("\\s*"+t+":\\s*(\\S+);","i").exec(e);return Array.isArray(r)?r[1]:null}t.Z=function(e,t,r){var c,d,f=/<sync[ >]/gi,p=/<sync[ >]|<\/body>/gi,h=[],g=o.exec(e),m=Array.isArray(g)?g[1]:"";p.exec(e);var v,y=function(e){for(var t=/\.(\S+)\s*{([^}]*)}/gi,r={},n=t.exec(e);null!==n;){var i=n[1],a=u(n[2],"lang");null!=i&&null!=a&&(r[a]=i),n=t.exec(e)}return r}(m),b=function(e){var t=/p\s*{([^}]*)}/gi.exec(e);return null===t?"":t[1]}(m);if((0,n.Z)(r)&&void 0===(v=y[r]))throw new Error("sami: could not find lang "+r+" in CSS");for(;c=f.exec(e),d=p.exec(e),null!==c||null!==d;){if(null===c||null===d||c.index>=d.index)throw new Error("parse error");var k=e.slice(c.index,d.index),E=l.exec(k);if(!Array.isArray(E))throw new Error("parse error (sync time attribute)");var _=+E[1];if(isNaN(_))throw new Error("parse error (sync time attribute NaN)");S(k.split("\n"),_/1e3)}return h;function S(e,r){for(var o=e.length;--o>=0;){var l=s.exec(e[o]);if(Array.isArray(l)){var u=l[1],c=l[2];if(v===u)if("&nbsp;"===c)h[h.length-1].end=r;else{var d=document.createElement("DIV");d.className="rxp-texttrack-region";var f=document.createElement("DIV");f.className="rxp-texttrack-div",f.style.position="absolute",f.style.bottom="0",f.style.width="100%",f.style.color="#fff",f.style.textShadow="-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000";var p=document.createElement("div");p.className="rxp-texttrack-p",(0,n.Z)(b)&&(p.style.cssText=b);for(var g=c.split(a),m=0;m<g.length;m++){0!==m&&p.appendChild(document.createElement("BR"));var y=document.createElement("SPAN");y.className="rxp-texttrack-span",y.textContent=g[m].replace(i,(function(e,t){return String.fromCharCode(t)})),p.appendChild(y)}f.appendChild(p),d.appendChild(f),h.push({element:d,start:r+t,end:-1})}}}}}},1812:function(e,t,r){"use strict";var n=r(7253),i=r(6923),a=/&#([0-9]+);/g,o=/<br>/gi,s=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,l=/\s*<p (?:class=([^>]+))?>(.*)/i,u=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i;function c(e,t){var r=new RegExp("\\s*"+t+":\\s*(\\S+);","i").exec(e);return Array.isArray(r)?r[1]:null}t.Z=function(e,t,r){var d,f,p=/<sync[ >]/gi,h=/<sync[ >]|<\/body>/gi,g=[],m=s.exec(e),v=null!==m?m[1]:"";h.exec(e);var y,b=function(e){for(var t=/\.(\S+)\s*{([^}]*)}/gi,r={},n=t.exec(e);Array.isArray(n);){var i=n[1],a=c(n[2],"lang");null!=i&&null!=a&&(r[a]=i),n=t.exec(e)}return r}(v);if((0,i.Z)(r)&&void 0===(y=b[r]))throw new Error("sami: could not find lang "+r+" in CSS");for(;d=p.exec(e),f=h.exec(e),null!==d||null!==f;){if(null===d||null===f||d.index>=f.index)throw new Error("parse error");var k=e.slice(d.index,f.index),E=u.exec(k);if(null===E)throw new Error("parse error (sync time attribute)");var _=+E[1];if(isNaN(_))throw new Error("parse error (sync time attribute NaN)");S(k.split("\n"),_/1e3)}return function(e){for(var t=[],r=0;r<e.length;r++){var a=e[r],o=a.start,s=a.end,l=a.text;if((0,i.Z)(l)&&null!=s){var u=(0,n.Z)(o,s,l);null!=u&&t.push(u)}}return t}(g);function S(e,r){for(var n,i,s=e.length;--s>=0;)if(null!==(n=l.exec(e[s]))){var u=n,c=u[1],d=u[2];y===c&&("&nbsp;"===d?g[g.length-1].end=r:g.push({text:(i=d,i.replace(o,"\n").replace(a,(function(e,t){return String.fromCharCode(t)}))),start:r+t}))}}}},2061:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6923);function i(e,t){for(var r=t+1;(0,n.Z)(e[r]);)r++;return r}function a(e){for(var t=[],r=0;r<e.length;r++)if((0,n.Z)(e[r])){var a=i(e,r),o=e.slice(r,a);o.length>0&&(1===o.length?o[0].indexOf("--\x3e")>=0&&t.push(o):(o[1].indexOf("--\x3e")>=0||o[0].indexOf("--\x3e")>=0)&&t.push(o)),r=a}return t}},8675:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2061),i=r(788);function a(e,t){for(var r=e.split(/\r\n|\n|\r/),a=(0,n.Z)(r),s=[],l=0;l<a.length;l++){var u=(0,i.Z)(a[l],t);if(null!=u){var c=o(u);null!=c&&s.push(c)}}return s}function o(e){var t=e.start,r=e.end,n=e.payload,i=document.createElement("div");i.className="rxp-texttrack-p",i.style.fontSize="28px",i.style.position="absolute",i.style.bottom="5%",i.style.width="100%",i.style.textAlign="center",i.style.color="#fff",i.style.textShadow="-1px -1px 2px #000,1px -1px 2px #000,-1px 1px 2px #000,1px 1px 2px #000";for(var a=0;a<n.length;a++){0!==a&&i.appendChild(document.createElement("br"));var o=s(n[a]);i.appendChild(o)}return{start:t,end:r,element:i}}function s(e){var t=document.createElement("div");return t.innerHTML=e,function e(t){var r=t.childNodes,n=document.createElement("span");n.className="rxp-texttrack-span";for(var i=0;i<r.length;i++){var a=r[i];if("#text"===a.nodeName){for(var o=a.wholeText.split("\n"),s=0;s<o.length;s++)if(0!==s&&n.appendChild(document.createElement("br")),o[s].length>0){var l=document.createTextNode(o[s]);n.appendChild(l)}}else if("B"===a.nodeName){var u=e(a);u.style.fontWeight="bold",n.appendChild(u)}else if("I"===a.nodeName){var c=e(a);c.style.fontStyle="italic",n.appendChild(c)}else if("U"===a.nodeName){var d=e(a);d.style.textDecoration="underline",n.appendChild(d)}else if("FONT"===a.nodeName&&null!=a.color){var f=e(a);f.style.color=a.color,n.appendChild(f)}else{var p=e(a);n.appendChild(p)}}return n}(t)}},8057:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7253),i=r(2061),a=r(788);function o(e,t){for(var r=e.split(/\r\n|\n|\r/),n=(0,i.Z)(r),o=[],l=0;l<n.length;l++){var u=(0,a.Z)(n[l],t);if(null!==u){var c=s(u);null!==c&&o.push(c)}}return o}function s(e){var t=e.start,r=e.end,i=e.payload.join("\n");return(0,n.Z)(t,r,i)}},788:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6923);function i(e){var t=e.split(":");if((0,n.Z)(t[2])){var r=parseInt(t[0],10),i=parseInt(t[1],10),a=parseFloat(t[2].replace(",","."));if(isNaN(r)||isNaN(i)||isNaN(a))return;return 60*r*60+60*i+a}}function a(e,t){if(0===e.length)return null;var r,a,o=[];if((0,n.Z)(e[1])&&-1!==e[1].indexOf("--\x3e")){var s=e[1].split("--\x3e").map((function(e){return e.trim()}));r=s[0],a=s[1],o=e.slice(2,e.length)}if(!(0,n.Z)(r)||!(0,n.Z)(a)){var l=e[0].split("--\x3e").map((function(e){return e.trim()}));r=l[0],a=l[1],o=e.slice(1,e.length)}if(!(0,n.Z)(r)||!(0,n.Z)(a))return null;var u=i(r),c=i(a);return void 0===u||void 0===c?null:{start:u+t,end:c+t,payload:o}}},1318:function(e,t,r){"use strict";function n(e,t){return e.parentNode instanceof Element?function e(r){var n=[];r.tagName.toLowerCase()===t.toLowerCase()&&n.push(r);var i=r.parentNode;return i instanceof Element&&n.push.apply(n,e(i)),n}(e.parentNode):[]}r.d(t,{Z:function(){return n}})},3791:function(e,t,r){"use strict";r.d(t,{U:function(){return s},b:function(){return l}});var n=r(3274),i=r(7714),a=r(6923),o=r(9252);function s(e,t,r,o){for(var s={},l=e.slice(),u=0;u<=t.length-1;u++){var c=t[u];if(void 0!==c){var d=function(){var e=void 0,t=void 0;if(c.nodeType===Node.ELEMENT_NODE)for(var u=c,d=0;d<=u.attributes.length-1;d++){var f=u.attributes[d],p=f.name;if("style"===p)e=f.value;else if("region"===p)t=f.value;else{var h=p.substring(4);if((0,i.Z)(l,h)&&(s[h]=f.value,l.splice(d,1),0===l.length))return{v:s}}}if((0,a.Z)(e)){var g=(0,n.Z)(r,(function(t){return t.id===e}));if(void 0!==g)for(var m=0;m<=l.length-1;m++){var v=l[m];if(!(0,a.Z)(s[v])&&(0,a.Z)(g.style[v])){if(s[v]=g.style[v],l.splice(m,1),0===l.length)return{v:s};m--}}}if((0,a.Z)(t)){var y=(0,n.Z)(o,(function(e){return e.id===t}));if(void 0!==y)for(var b=0;b<=l.length-1;b++){var k=l[b];if(!(0,a.Z)(s[k])&&(0,a.Z)(y.style[k])){if(s[k]=y.style[k],l.splice(b,1),0===l.length)return{v:s};b--}}}}();if("object"===typeof d)return d.v}}return s}function l(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};for(var t=e,r={},n=0;n<=t.attributes.length-1;n++){var i=t.attributes[n];(0,o.Z)(i.name,"tts")&&(r[i.name.substring(4)]=i.value)}return r}},6177:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(6923),i=r(5336);function a(e,t){var r=e.exec(t);if(null===r||""===r[0])return null;var n=Number(r[1]);isNaN(n)&&(n=0);var i=Number(r[2]);isNaN(i)&&(i=0);var a=Number(r[3]);isNaN(a)&&(a=0);var o=Number(r[4]);return isNaN(o)&&(o=0),o/1e3+a+60*i+3600*n}var o=function(e,t){return i.gu.test(e)?function(e,t){var r=i.gu.exec(t),n=Number(r[1]),a=Number(r[2]),o=Number(r[3]),s=Number(r[4]),l=Number(r[5]);return isNaN(l)&&(l=0),s+=l/e.subFrameRate,(o+=s/e.frameRate)+60*a+3600*n}(t,e):i.KO.test(e)?a(i.KO,e):i.wf.test(e)?a(i.wf,e):i.jb.test(e)?function(e,t){var r=i.jb.exec(t);return Number(r[1])/e.frameRate}(t,e):i.Du.test(e)?function(e,t){var r=i.Du.exec(t);return Number(r[1])/e.tickRate}(t,e):i.te.test(e)?a(i.te,e):void 0};function s(e,t){var r=e.getAttribute("begin"),i=e.getAttribute("dur"),a=e.getAttribute("end"),s=(0,n.Z)(r)?o(r,t):null,l=(0,n.Z)(i)?o(i,t):null,u=(0,n.Z)(a)?o(a,t):null;if(null==s||null==u&&null==l)throw new Error("Invalid text cue");return{start:s,end:null==u?s+l:u}}},7439:function(e,t,r){"use strict";r.d(t,{Z:function(){return T}});var n=r(5403);function i(e){return void 0===e.extent&&void 0===e.origin&&void 0===e.displayAlign&&void 0===e.display&&void 0===e.textAlign&&void 0===e.fontSize}function a(e){e.extent="70% 20%",e.fontSize="1c",e.origin="15% 80%",e.displayAlign="before",e.textAlign="center"}var o,s=r(6177);function l(e,t){void 0===o&&(o=void 0!==e.classList&&"function"===typeof e.classList.add),o?e.classList.add(t):(" "+e.className+" ").indexOf(" "+t+" ")<0&&(e.className+=" "+t)}var u=r(6923),c=r(8026),d=r(1318),f=r(3791),p=r(3887),h=r(5336);function g(e,t){return"-1px -1px "+t+" "+e+",1px -1px "+t+" "+e+",-1px 1px "+t+" "+e+",1px 1px "+t+" "+e}function m(e){var t;return null!=(t=h.Dq.exec(e))?"rgba("+String(parseInt(t[1],16))+","+String(parseInt(t[2],16))+","+String(parseInt(t[3],16))+","+String(parseInt(t[4],16)/255)+")":null!=(t=h.YU.exec(e))?"rgba("+String(parseInt(t[1]+t[1],16))+","+String(parseInt(t[2]+t[2],16))+","+String(parseInt(t[3]+t[3],16))+","+String(parseInt(t[4]+t[4],16)/255)+")":null!=(t=h.GK.exec(e))?"rgb("+String(+t[1])+","+String(+t[2])+","+String(+t[3])+")":null!=(t=h.ev.exec(e))?"rgba("+String(+t[1])+","+String(+t[2])+","+String(+t[3])+","+String(+t[4]/255)+")":e}var v=["color","direction","display","fontFamily","fontSize","fontStyle","fontWeight","textDecoration","textOutline","unicodeBidi","visibility","wrapOption"];function y(e,t,r){var n=t.color;(0,u.Z)(n)&&(e.style.color=m(n));var i=t.backgroundColor;(0,u.Z)(i)&&(e.style.backgroundColor=m(i));var a=t.textOutline;if((0,u.Z)(a)){var o=a.trim().replace(/\s+/g," ").split(" "),s=o.length;if(3===s){var c=m(o[0]),d=o[1];e.style.textShadow=g(c,d)}else if((0,u.Z)(n)&&1===s){var f=o[0];e.style.textShadow=g(n,f)}else if(2===s){var v=/^[#A-Z]/i.test(o[0]);if(v!==/^[0-9]/.test(o[0]))if(v){var y=m(o[0]),b=o[1];e.style.textShadow=g(y,b)}else if((0,u.Z)(n)){var k=o[0];e.style.textShadow=g(n,k)}}}var E=t.textDecoration;if((0,u.Z)(E))switch(E){case"noUnderline":case"noLineThrough":case"noOverline":e.style.textDecoration="none";break;case"lineThrough":e.style.textDecoration="line-through";break;default:e.style.textDecoration=E}var _=t.fontFamily;if((0,u.Z)(_))switch(_){case"proportionalSansSerif":e.style.fontFamily="Arial, Helvetica, Liberation Sans, sans-serif";break;case"monospaceSansSerif":case"sansSerif":e.style.fontFamily="sans-serif";break;case"monospaceSerif":case"default":e.style.fontFamily="Courier New, Liberation Mono, monospace";break;case"proportionalSerif":e.style.fontFamily="serif";break;default:e.style.fontFamily=_}var S=t.fontStyle;(0,u.Z)(S)&&(e.style.fontStyle=S);var T=t.fontWeight;(0,u.Z)(T)&&(e.style.fontWeight=T);var w=t.fontSize;(0,u.Z)(w)?function(e,t){var r=t.trim().split(" ");if(0!==r.length){var n=h.eT.exec(r[0]);null!==n&&("px"===n[2]||"%"===n[2]||"em"===n[2]?e.style.fontSize=n[1]+n[2]:"c"===n[2]?(e.style.position="relative",l(e,"proportional-style"),e.setAttribute("data-proportional-font-size",n[1])):p.Z.warn("TTML Parser: unhandled fontSize unit:",n[2]))}}(e,w):(l(e,"proportional-style"),e.setAttribute("data-proportional-font-size","1"));var x=t.direction;(0,u.Z)(x)&&(e.style.direction=x);var O=t.unicodeBidi;if((0,u.Z)(O))switch(O){case"bidiOverride":e.style.unicodeBidi="bidi-override";break;case"embed":e.style.unicodeBidi="embed";break;default:e.style.unicodeBidi="normal"}var P=t.visibility;(0,u.Z)(P)&&(e.style.visibility=P),"none"===t.display&&(e.style.display="none");var C=t.wrapOption;e.style.whiteSpace="noWrap"===C?r?"nowrap":"pre":r?"normal":"pre-wrap"}function b(e,t){e.style.color="white",e.style.position="absolute";var r=t.extent;(0,u.Z)(r)&&function(e,t){var r=t.trim();if("auto"!==r){var n=r.split(" ");if(2===n.length){var i=h.eT.exec(n[0]),a=h.eT.exec(n[1]);null!==i&&null!==a&&("px"===i[2]||"%"===i[2]||"em"===i[2]?e.style.width=i[1]+i[2]:"c"===i[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-width",i[1])):p.Z.warn("TTML Parser: unhandled extent unit:",i[2]),"px"===a[2]||"%"===a[2]||"em"===a[2]?e.style.height=a[1]+a[2]:"c"===a[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-height",a[1])):p.Z.warn("TTML Parser: unhandled extent unit:",a[2]))}}}(e,r);var n=t.writingMode;(0,u.Z)(n);var i=t.overflow;e.style.overflow=(0,u.Z)(i)?i:"hidden";var a=t.padding;(0,u.Z)(a)&&function(e,t){var r=t.trim().split(" ");if(!(r.length<1)){var n=h.eT.exec(r[0]);if(null!==n){if("px"===n[2]||"%"===n[2]||"em"===n[2]){var i=n[1]+n[2];1===r.length?e.style.padding=i:2===r.length?(e.style.paddingTop=i,e.style.paddingBottom=i):e.style.paddingTop=i}else"c"===n[2]?(l(e,"proportional-style"),1===r.length?(e.setAttribute("data-proportional-padding-top",n[1]),e.setAttribute("data-proportional-padding-bottom",n[1]),e.setAttribute("data-proportional-padding-left",n[1]),e.setAttribute("data-proportional-padding-right",n[1])):2===r.length?(e.setAttribute("data-proportional-padding-top",n[1]),e.setAttribute("data-proportional-padding-bottom",n[1])):e.setAttribute("data-proportional-padding-top",n[1])):p.Z.warn("TTML Parser: unhandled padding unit:",n[2]);if(1!==r.length){var a=h.eT.exec(r[1]);if(null!==a){if("px"===a[2]||"%"===a[2]||"em"===a[2]){var o=a[1]+a[2];r.length<4?(e.style.paddingLeft=o,e.style.paddingRight=o):e.style.paddingRight=o}else"c"===a[2]?(l(e,"proportional-style"),r.length<4?(e.setAttribute("data-proportional-padding-left",a[1]),e.setAttribute("data-proportional-padding-right",a[1])):e.setAttribute("data-proportional-padding-right",a[1])):p.Z.warn("TTML Parser: unhandled padding unit:",a[2]);if(2!==r.length){var s=h.eT.exec(r[2]);if(null!==s){if("px"===s[2]||"%"===s[2]||"em"===s[2]){var u=s[1]+s[2];e.style.paddingBottom=u}else"c"===s[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-padding-bottom",s[1])):p.Z.warn("TTML Parser: unhandled padding unit:",s[2]);if(3!==r.length){var c=h.eT.exec(r[3]);if(null!==c)if("px"===c[2]||"%"===c[2]||"em"===c[2]){var d=c[1]+c[2];e.style.paddingLeft=d}else"c"===c[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-padding-left",c[1])):p.Z.warn("TTML Parser: unhandled padding unit:",c[2])}}}}}}}}(e,a);var o=t.origin;(0,u.Z)(o)&&function(e,t){var r=t.trim();if("auto"!==r){var n=r.split(" ");if(2===n.length){var i=h.eT.exec(n[0]),a=h.eT.exec(n[1]);null!==i&&null!==a&&("px"===i[2]||"%"===i[2]||"em"===i[2]?e.style.left=i[1]+i[2]:"c"===i[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-left",i[1])):p.Z.warn("TTML Parser: unhandled origin unit:",i[2]),"px"===a[2]||"%"===a[2]||"em"===a[2]?e.style.top=a[1]+a[2]:"c"===a[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-top",a[1])):p.Z.warn("TTML Parser: unhandled origin unit:",a[2]))}}}(e,o);var s=t.displayAlign;if((0,u.Z)(s))switch(e.style.display="flex",e.style.flexDirection="column",s){case"before":e.style.justifyContent="flex-start";break;case"center":e.style.justifyContent="center";break;case"after":e.style.justifyContent="flex-end"}var c=t.opacity;(0,u.Z)(c)&&(e.style.opacity=c);var d=t.visibility;(0,u.Z)(d)&&(e.style.visibility=d),"none"===t.display&&(e.style.display="none")}function k(e,t){e.style.margin="0px";var r=t.backgroundColor;(0,u.Z)(r)&&(e.style.backgroundColor=m(r));var n=t.lineHeight;(0,u.Z)(n)&&function(e,t){var r=t.trim();if("auto"!==r){var n=h.eT.exec(r[0]);null!==n&&("px"===n[2]||"%"===n[2]||"em"===n[2]?e.style.lineHeight=n[1]+n[2]:"c"===n[2]?(l(e,"proportional-style"),e.setAttribute("data-proportional-line-height",n[1])):p.Z.warn("TTML Parser: unhandled lineHeight unit:",n[2]))}}(e,n);var i=t.textAlign;if((0,u.Z)(i))switch(i){case"center":e.style.textAlign="center";break;case"left":case"start":e.style.textAlign="left";break;case"right":case"end":e.style.textAlign="right"}}function E(e,t,r){var n=document.createElement("span"),i=null===e.textContent?"":e.textContent;if(r){var a=i.trim();i=a=a.replace(/\s+/g," ")}return n.innerHTML=i,n.className="rxp-texttrack-span",y(n,t,r),n}function _(e,t,r,n,i,a){var o=a.cellResolution,s=a.shouldTrimWhiteSpace,l=(0,d.Z)(e,"div"),p=document.createElement("DIV");if(p.className="rxp-texttrack-region",p.setAttribute("data-resolution-columns",String(o.columns)),p.setAttribute("data-resolution-rows",String(o.rows)),b(p,i),null!==t){var h=(0,f.U)(["backgroundColor"],[].concat(l,[t]),n,r).bodyBackgroundColor;(0,u.Z)(h)&&(p.style.backgroundColor=m(h))}var g=document.createElement("p");g.className="rxp-texttrack-p",k(g,i);for(var y=function(e,t,r,n,i){return function e(n,i,a,o){for(var s=n.childNodes,l=[],d=0;d<s.length;d++){var p=s[d];if("#text"===p.nodeName){var h=(0,f.U)(["backgroundColor"],a,r,t).backgroundColor;(0,u.Z)(h)?i.backgroundColor=h:delete i.backgroundColor;var g=E(p,i,o);l.push(g)}else if("br"===p.nodeName){var m=document.createElement("BR");l.push(m)}else if("span"===p.nodeName&&p.nodeType===Node.ELEMENT_NODE&&p.childNodes.length>0){var y=p.getAttribute("xml:space"),b=(0,u.Z)(y)?"default"===y:o,k=(0,c.Z)({},i,(0,f.U)(v,[p],r,t));l.push.apply(l,e(p,k,[p].concat(a),b))}}return l}(e,(0,c.Z)({},n),[],i)}(e,r,n,i,s),_=0;_<y.length;_++)g.appendChild(y[_]);return p.appendChild(g),p}function S(e){var t=e.paragraph,r=e.ttParams,n=e.body,i=e.regionStyles,a=e.idStyles,o=e.paragraphStyle,l=e.timeOffset,u=e.shouldTrimWhiteSpace;if(!t.hasAttribute("begin")&&!t.hasAttribute("end")&&/^\s*$/.test(null===t.textContent?"":t.textContent))return null;var c=r.cellResolution,d=(0,s.Z)(t,r);return{start:d.start+l,end:d.end+l,element:_(t,n,i,a,o,{cellResolution:c,shouldTrimWhiteSpace:u})}}var T=function(e,t){for(var r=(0,n.Z)(e,t),o=[],s=0;s<r.length;s++){var l=r[s].paragraphStyle;i(l)&&a(l);var u=S(r[s]);null!==u&&o.push(u)}return o}},1570:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(5403),i=r(7253),a=r(1988),o=r(6923),s=r(6177),l=r(5336),u={left:"start",center:"center",right:"end",start:"start",end:"end"},c={left:"line-left",center:"center",right:"line-right"};function d(e){var t=e.paragraph,r=e.timeOffset,n=e.paragraphStyle,d=e.ttParams,f=e.shouldTrimWhiteSpace;if(!t.hasAttribute("begin")&&!t.hasAttribute("end")&&/^\s*$/.test(null===t.textContent?"":t.textContent))return null;var p=(0,s.Z)(t,d),h=p.start,g=p.end,m=function(e,t){return function e(t,r){for(var n=t.childNodes,i="",a=0;a<n.length;a++){var s=n[a];if("#text"===s.nodeName){var l=s.textContent;if(null===l&&(l=""),r){var u=l.trim();l=u=u.replace(/\s+/g," ")}i+=l.replace(/&|\u0026/g,"&amp;").replace(/<|\u003C/g,"&lt;").replace(/>|\u2265/g,"&gt;").replace(/\u200E/g,"&lrm;").replace(/\u200F/g,"&rlm;").replace(/\u00A0/g,"&nbsp;")}else if("br"===s.nodeName)i+="\n";else if("span"===s.nodeName&&s.nodeType===Node.ELEMENT_NODE&&s.childNodes.length>0){var c=s.getAttribute("xml:space");i+=e(s,(0,o.Z)(c)?"default"===c:r)}}return i}(e,t)}(t,f),v=(0,i.Z)(h+r,g+r,m);return null===v?null:((0,a.Z)(v)&&function(e,t){var r=t.extent;if((0,o.Z)(r)){var n=l._0.exec(r);null!=n&&(e.size=Number(n[1]))}switch(t.writingMode){case"tb":case"tblr":e.vertical="lr";break;case"tbrl":e.vertical="rl"}var i=t.origin;(0,o.Z)(i)&&l._0.exec(i);var a=t.align;if((0,o.Z)(a)){e.align=a,"center"===a&&("center"!==e.align&&(e.align="middle"),e.position="auto");var s=c[a];e.positionAlign=void 0===s?"":s;var d=u[a];e.lineAlign=void 0===d?"":d}}(v,n),v)}var f=function(e,t){for(var r=(0,n.Z)(e,t),i=[],a=0;a<r.length;a++){var o=d(r[a]);null!==o&&i.push(o)}return i}},5403:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(3274),i=r(6923),a=r(8026),o=r(3887),s=/(\d+) (\d+)/,l=r(1318),u=r(3791),c=r(5138),d=r(7714),f=["align","backgroundColor","color","direction","display","displayAlign","extent","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","opacity","origin","overflow","padding","textAlign","textDecoration","textOutline","unicodeBidi","visibility","wrapOption","writingMode"];function p(e,t){var r=[],p=(new DOMParser).parseFromString(e,"text/xml");if(null!==p&&void 0!==p){var h=p.getElementsByTagName("tt")[0];if(void 0===h)throw new Error("invalid XML");for(var g=function(e){return e.getElementsByTagName("body")[0]}(h),m=function(e){return e.getElementsByTagName("style")}(h),v=function(e){return e.getElementsByTagName("region")}(h),y=function(e){return e.getElementsByTagName("p")}(h),b=function(e){var t=e.getAttribute("ttp:frameRate"),r=e.getAttribute("ttp:subFramRate"),n=e.getAttribute("ttp:tickRate"),a=e.getAttribute("ttp:frameRateMultiplier"),l=e.getAttribute("xml:space"),u=e.getAttribute("ttp:cellResolution"),c={columns:32,rows:15};if(null!==u){var d=s.exec(u);if(null===d||d.length<3)o.Z.warn("TTML Parser: Invalid cellResolution");else{var f=parseInt(d[1],10),p=parseInt(d[2],10);isNaN(f)||isNaN(p)?o.Z.warn("TTML Parser: Invalid cellResolution"):c={columns:f,rows:p}}}if((0,i.Z)(l)&&"default"!==l&&"preserve"!==l)throw new Error("Invalid spacing style");var h=Number(t);(isNaN(h)||h<=0)&&(h=30);var g=Number(r);(isNaN(g)||g<=0)&&(g=1);var m=Number(n);(isNaN(m)||m<=0)&&(m=void 0);var v=h,y=null!=g?g:1,b=null!==l?l:"default",k=void 0!==m?m:h*g;if(null!==a){var E=/^(\d+) (\d+)$/g.exec(a);null!==E&&(v=h*(Number(E[1])/Number(E[2])))}return{cellResolution:c,tickRate:k,frameRate:v,subFrameRate:y,spaceStyle:b}}(h),k=[],E=0;E<=m.length-1;E++){var _=m[E];if(_ instanceof Element){var S=_.getAttribute("xml:id");if(null!==S){var T=_.getAttribute("style"),w=null===T?[]:T.split(" ");k.push({id:S,style:(0,u.b)(_),extendsStyles:w})}}}!function(e){var t=[];function r(n,i){t.push(i);for(var s=function(i){var s=n.extendsStyles[i],l=(0,c.Z)(e,(function(e){return e.id===s}));if(l<0)o.Z.warn("TTML Parser: unknown style inheritance: "+s);else{var u=e[l];(0,d.Z)(t,l)?o.Z.warn("TTML Parser: infinite style inheritance loop avoided"):r(u,l),n.style=(0,a.Z)({},u.style,n.style)}},l=0;l<n.extendsStyles.length;l++)s(l);n.extendsStyles.length=0}for(var n=0;n<e.length;n++)r(e[n],n),t.length=0}(k);for(var x=[],O=0;O<=v.length-1;O++){var P=v[O];if(P instanceof Element){var C=P.getAttribute("xml:id");null!==C&&function(){var e=(0,u.b)(P),t=P.getAttribute("style");if((0,i.Z)(t)){var r=(0,n.Z)(k,(function(e){return e.id===t}));void 0!==r&&(e=(0,a.Z)({},r.style,e))}x.push({id:C,style:e,extendsStyles:[]})}()}}for(var A=(0,u.U)(f,null!==g?[g]:[],k,x),M="default"===(null!==g?g.getAttribute("xml:space"):void 0)||"default"===b.spaceStyle,I=0;I<y.length;I++){var R=y[I];if(R instanceof Element){var D=(0,l.Z)(R,"div"),L=(0,a.Z)({},A,(0,u.U)(f,[R].concat(D),k,x)),j=R.getAttribute("xml:space"),N=(0,i.Z)(j)?"default"===j:M,U={paragraph:R,timeOffset:t,idStyles:k,regionStyles:x,body:g,paragraphStyle:L,ttParams:b,shouldTrimWhiteSpace:N};null!==U&&r.push(U)}}}return r}},5336:function(e,t,r){"use strict";r.d(t,{YU:function(){return f},Dq:function(){return d},GK:function(){return p},ev:function(){return h},eT:function(){return c},_0:function(){return u},KO:function(){return i},gu:function(){return n},wf:function(){return a},jb:function(){return o},te:function(){return l},Du:function(){return s}});var n=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,i=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,a=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,o=/^(\d*\.?\d*)f$/,s=/^(\d*\.?\d*)t$/,l=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,u=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,c=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/,d=/^#([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})([0-9A-f]{2})$/,f=/^#([0-9A-f])([0-9A-f])([0-9A-f])([0-9A-f])$/,p=/^rgb\( *(\d+) *, *(\d+) *, *(\d+) *\)/,h=/^rgba\( *(\d+) *, *(\d+) *, *(\d+) *, *(\d+) *\)/},1138:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6923),i=r(360);function a(e,t){for(var r=[],a=t;a<e.length;a++)if((0,i.tq)(e,a)){var o=(0,i.$4)(e,a);r.push(e.slice(a,o)),a=o}else if((0,n.Z)(e[a]))for(;(0,n.Z)(e[a]);)a++;return r}},4099:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(1138),i=r(6923),a=r(360),o=r(9525),s={white:"#ffffff",lime:"#00ff00",cyan:"#00ffff",red:"#ff0000",yellow:"#ffff00",magenta:"#ff00ff",blue:"#0000ff",black:"#000000"};function l(e){var t=Object.keys(s).reduce((function(e,t){return e[t]="color: "+s[t]+";",e["bg_"+t]="background-color: "+s[t]+";",e}),{}),r="";return e.forEach((function(e){if(e.length>=2)for(var n=1;n<e.length;n++){var a=e[n];if(Array.isArray(/::cue {/.exec(a)))for(a=e[++n];(0,i.Z)(a)&&!Array.isArray(/}/.exec(a))&&0!==a.length;)r+=a,a=e[++n];else!function(){for(var r=[],o=/::cue\(\.?(.*?)\)(?:,| {)/.exec(a);(0,i.Z)(a)&&Array.isArray(o);)r.push(o[1]),a=e[++n],o=/::cue\(\.?(.*?)\)(?:,| {)/.exec(a);for(var s="";(0,i.Z)(a)&&!Array.isArray(/}/.exec(a))&&0!==a.length;)s+=a,a=e[++n];r.forEach((function(e){void 0===t[e]?t[e]=s:t[e]+=s}))}()}})),{classes:t,global:r}}var u=r(7714);function c(e,t){var r,n=["u","i","b"],a=e.nodeName.toLowerCase().split(".")[0];if((0,u.Z)(["u","i","b","c","#text"],a))if("#text"===a){var o=e.wholeText.split("\n");r=document.createElement("span");for(var s=0;s<o.length;s++)if(s>0&&r.appendChild(document.createElement("br")),o[s].length>0){var l=document.createTextNode(o[s]);r.appendChild(l)}}else{var d=e.nodeName.toLowerCase().split("."),f=[];if(d.forEach((function(e){(0,i.Z)(t[e])&&f.push(t[e])})),0!==f.length){var p=document.createAttribute("style");f.forEach((function(e){p.value+=e}));var h=(0,u.Z)(n,a)?a:"span";(r=document.createElement(h)).setAttributeNode(p)}else{var g=(0,u.Z)(n,a)?a:"span";r=document.createElement(g)}for(var m=0;m<e.childNodes.length;m++){var v=c(e.childNodes[m],t);r.appendChild(v)}}else{r=document.createElement("span");for(var y=0;y<e.childNodes.length;y++){var b=c(e.childNodes[y],t);r.appendChild(b)}}return r}var d,f,p,h=r(1679),g=function(e){if(void 0===e||0===(0,h.Z)(e).length)return"text-align:center";var t=m(e),r=b(e);return"position: absolute;margin: 0;transform: translate("+t.offset+"%,"+r.offset+"%);width: "+S(e.size)+"%;left: "+t.position+"%;top: "+(null!==r.position?r.position+"%":"auto")+";text-align: "+_(e.align)+";"};!function(e){e.LINE_LEFT="line-left",e.CENTER="center",e.LINE_RIGHT="line-right"}(d||(d={})),function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(f||(f={})),function(e){e.START="start",e.CENTER="center",e.END="end"}(p||(p={}));var m=function(e){return{position:v(e),offset:y(e)}},v=function(e){var t,r=w(e.position);if(null!==r)return r;var n=_(e.align);return((t={})[f.LEFT]=0,t[f.CENTER]=50,t[f.RIGHT]=100,t)[n]},y=function(e){var t,r,n=((t={})[d.LINE_LEFT]=0,t[d.CENTER]=-50,t[d.LINE_RIGHT]=-100,t),i=void 0!==e.position?function(e){var t=/,(line-left|line-right|center)/.exec(e);return!Array.isArray(t)||t.length<2?null:t[1]}(e.position):null;return null!==i?n[i]:((r={})[f.LEFT]=0,r[f.CENTER]=-50,r[f.RIGHT]=-100,r)[void 0!==e.align?_(e.align):f.CENTER]},b=function(e){return{position:k(e.line),offset:E(e.line)}},k=function(e){return w(e)},E=function(e){var t,r=((t={})[p.START]=0,t[p.CENTER]=-50,t[p.END]=-100,t);if(void 0===e)return r[p.START];var n=function(e){var t=/,(start|center|end)/.exec(e);return!Array.isArray(t)||t.length<2?null:t[1]}(e);return null!==n?r[n]:r[p.START]},_=function(e){switch(e){case"left":case"start":return"left";case"right":case"end":return"right";default:return"center"}},S=function(e){return T(e,100)},T=function(e,t){var r=w(e);return null!==r?r:t},w=function(e){if(void 0===e)return null;var t=/^([\d.]+)%/.exec(e);return!Array.isArray(t)||t.length<2?null:parseInt(t[1],10)};function x(e,t){var r=e.start,n=e.end,a=e.settings,o=e.header,s=e.payload,l=document.createElement("div"),u=document.createAttribute("style");u.value="width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;",l.setAttributeNode(u);var d=document.createElement("p"),f=function(e){var t=document.createAttribute("style");return t.value=g(e),t}(a);d.setAttributeNode(f);var p=document.createElement("span"),h=document.createAttribute("style");h.value="background-color:rgba(0,0,0,0.8);color:white;",p.setAttributeNode(h);var m=t.global,v=t.classes,y=[m,(0,i.Z)(o)?v[o]:void 0].filter((function(e){return void 0!==e})).join("");return h.value+=y,p.setAttributeNode(h),function(e,t){for(var r=e.replace(/<[0-9]{2}:[0-9]{2}.[0-9]{3}>/,"").replace(/<([u,i,b,c])(\..*?)?(?: .*?)?>(.*?)<\/\1>/g,"<$1$2>$3</$1$2>"),n=(new DOMParser).parseFromString(r,"text/html").body.childNodes,i=[],a=0;a<n.length;a++)i.push(c(n[a],t));return i}(s.join("\n"),v).forEach((function(e){p.appendChild(e)})),l.appendChild(d),d.appendChild(p),{start:r,end:n,element:l}}var O=function(e,t){var r=e.split(/\r\n|\n|\r/g),s=[];if(null===/^WEBVTT( |\t|\n|\r|$)/.exec(r[0]))throw new Error("Can't parse WebVTT: Invalid File.");for(var u=(0,a.yE)(r),c=function(e,t){for(var r=[],n=t;n<e.length;n++)if((0,a.JF)(e,n)){var o=n;for(n++;(0,i.Z)(e[n]);)n++;var s=e.slice(o,n);r.push(s)}else if((0,i.Z)(e[n]))for(;(0,i.Z)(e[n]);)n++;return r}(r,u),d=(0,n.Z)(r,u),f=l(c),p=0;p<d.length;p++){var h=(0,o.Z)(d[p],t);if(null!=h){var g=x(h,f);s.push(g)}}return s}},9405:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(1988),i=r(1138),a=r(9525),o=r(360),s=r(7714),l=r(6923);function u(e,t){if(!(0,l.Z)(e.vertical)||"rl"!==e.vertical&&"lr"!==e.vertical||(t.vertical=e.vertical),(0,l.Z)(e.line)){var r=/^(\d+(\.\d+)?)%(,([a-z]+))?/.exec(e.line);if(Array.isArray(r))t.line=Number(r[1]),t.snapToLines=!1,(0,s.Z)(["start","center","end"],r[4])&&(t.lineAlign=r[4]);else{var n=/^(-?\d+)(,([a-z]+))?/.exec(e.line);Array.isArray(n)&&(t.line=Number(n[1]),t.snapToLines=!0,(0,s.Z)(["start","center","end"],n[3])&&(t.lineAlign=n[3]))}}if((0,l.Z)(e.position)){var i=/^([\d\.]+)%(?:,(line-left|line-right|center))?$/.exec(e.position);if(Array.isArray(i)&&i.length>=2){var a=parseInt(i[1],10);isNaN(a)||(t.position=a,void 0!==i[2]&&(t.positionAlign=i[2]))}}(0,l.Z)(e.size)&&(t.size=e.size),"string"===typeof e.align&&(0,s.Z)(["start","center","end","left"],e.align)&&(t.align=e.align)}var c=r(7253);function d(e){var t=e.start,r=e.end,n=e.payload.join("\n");return(0,c.Z)(t,r,n)}var f=function(e,t){var r=e.split(/\r\n|\n|\r/);if(!/^WEBVTT($| |\t)/.test(r[0]))throw new Error("Can't parse WebVTT: Invalid file.");for(var s=(0,o.yE)(r),l=(0,i.Z)(r,s),c=[],f=0;f<l.length;f++){var p=(0,a.Z)(l[f],t);if(null!=p){var h=d(p);null!=h&&((0,n.Z)(h)&&u(p.settings,h),c.push(h))}}return c}},9525:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6923);function i(e){var t=e.split(":").reverse();if((0,n.Z)(t[2])||(0,n.Z)(t[1])){var r=(0,n.Z)(t[2])?parseInt(t[2],10):0,i=parseInt(t[1],10),a=parseFloat(t[0].replace(",","."));if(isNaN(r)||isNaN(i)||isNaN(a))return;return 60*r*60+60*i+a}}function a(e,t){var r,n,a,o=/-->/;if(o.test(e[0]))r=e[0],n=e.slice(1,e.length);else{if(!o.test(e[1]))return null;a=e[0],r=e[1],n=e.slice(2,e.length)}var s=function(e){var t=/^([\d:.]+)[ |\t]+-->[ |\t]+([\d:.]+)[ |\t]*(.*)$/.exec(e);if(null===t)return null;var r=i(t[1]),n=i(t[2]);return null==r||null==n?null:{start:r,end:n,settings:t[3].split(/ |\t/).reduce((function(e,t){var r=t.split(":");return 2===r.length&&(e[r[0]]=r[1]),e}),{})}}(r);return null===s?null:{start:s.start+t,end:s.end+t,settings:s.settings,payload:n,header:a}}},360:function(e,t,r){"use strict";r.d(t,{yE:function(){return i},tq:function(){return o},JF:function(){return a},$4:function(){return s}});var n=r(6923);function i(e){for(var t=0;t<e.length;){if(""===e[t])return t+1;t++}return t}function a(e,t){return"string"===typeof e[t]&&/^STYLE( .*)?$/g.test(e[t])&&(void 0===e[t+1]||e[t+1].indexOf("--\x3e")<0)}function o(e,t){var r=e[t];if(void 0===r||""===r||a(e,t)||function(e,t){return"string"===typeof e[t]&&/^REGION( .*)?$/g.test(e[t])&&(void 0===e[t+1]||e[t+1].indexOf("--\x3e")<0)}(e,t)||function(e,t){return"string"===typeof e[t]&&/^NOTE( .*)?$/g.test(e[t])&&(void 0===e[t+1]||e[t+1].indexOf("--\x3e")<0)}(e,t))return!1;if(r.indexOf("--\x3e")>=0)return!0;var n=e[t+1];return void 0!==n&&n.indexOf("--\x3e")>=0}function s(e,t){for(var r=t+1;(0,n.Z)(e[r]);)r++;return r}},1732:function(e,t,r){"use strict";r.d(t,{Z:function(){return fe}});var n=r(7874),i=r(8791),a=r(2817),o=r(4597),s=r(5278);function l(e){var t=e.segment,r=e.url;return t.isInit||null===r?(0,a.of)({type:"data-created",value:{responseData:null}}):(0,o.ZP)({url:r,responseType:"arraybuffer",sendProgressEvents:!0})}function u(e){var t=e.response,r=e.content,i=r.segment,o=r.period,l=t.data,u=t.isChunked;if(r.segment.isInit)return(0,a.of)({type:"parsed-init-segment",value:{initializationData:null,protectionDataUpdate:!1,initTimescale:void 0}});if(u)throw new Error("Image data should not be downloaded in chunks");var c=(0,s.Z)(i.timestampOffset,0);if(null===l||null===n.Z.imageParser)return(0,a.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:{duration:i.duration,time:i.time},chunkOffset:c,appendWindow:[o.start,o.end],protectionDataUpdate:!1}});var d=n.Z.imageParser(new Uint8Array(l)),f=d.thumbs;return(0,a.of)({type:"parsed-segment",value:{chunkData:{data:f,start:0,end:Number.MAX_VALUE,timescale:1,type:"bif"},chunkInfos:{time:0,duration:Number.MAX_VALUE,timescale:d.timescale},chunkOffset:c,appendWindow:[o.start,o.end],protectionDataUpdate:!1}})}var c=r(1973),d=r(6362),f=r(2334),p=r(3994),h=r(4975),g=r(9127),m=r(3887),v=r(1989),y=r(8026),b=r(3635),k=r(7445);function E(e){var t=e.aggressiveMode,r=e.referenceDateTime,i=void 0!==e.serverSyncInfos?e.serverSyncInfos.serverTimestamp-e.serverSyncInfos.clientTime:void 0;return function(s){var l,u=s.response,E=s.scheduleRequest,_=s.url,S=s.externalClockOffset,T=null!==(l=u.url)&&void 0!==l?l:_,w=u.responseData,x=null!==i&&void 0!==i?i:S,O={aggressiveMode:!0===t,unsafelyBaseOnPreviousManifest:s.unsafeMode?s.previousManifest:null,url:T,referenceDateTime:r,externalClockOffset:x},P=n.Z.dashParsers;if(null===P.wasm||"uninitialized"===P.wasm.status||"failure"===P.wasm.status)return m.Z.debug("DASH: WASM MPD Parser not initialized. Running JS one."),M();var C=function(e){if(e instanceof ArrayBuffer)return e;if("string"===typeof e)return(0,b.tG)(e).buffer;if(e instanceof Document)return(0,b.tG)(e.documentElement.innerHTML).buffer;throw new Error("DASH Manifest Parser: Unrecognized Manifest format")}(w);if(!function(e){var t=new DataView(e);return 61371===t.getUint16(0)&&191===t.getUint8(2)||65279!==t.getUint16(0)&&65534!==t.getUint16(0)}(C))return m.Z.info("DASH: MPD doesn't seem to be UTF-8-encoded. Running JS parser instead of the WASM one."),M();if("initialized"===P.wasm.status)return m.Z.debug("DASH: Running WASM MPD Parser."),I(P.wasm.runWasmParser(C,O));m.Z.debug("DASH: Awaiting WASM initialization before parsing the MPD.");var A=P.wasm.waitForInitialization().catch((function(){}));return(0,c.Dp)(A).pipe((0,p.z)((function(){return null===P.wasm||"initialized"!==P.wasm.status?(m.Z.warn("DASH: WASM MPD parser initialization failed. Running JS parser instead"),M()):(m.Z.debug("DASH: Running WASM MPD Parser."),I(P.wasm.runWasmParser(C,O)))})));function M(){if(null===P.js)throw new Error("No MPD parser is imported");var e=function(e){if(e instanceof ArrayBuffer)return(new DOMParser).parseFromString((0,b.uR)(new Uint8Array(e)),"text/xml");if("string"===typeof e)return(new DOMParser).parseFromString(e,"text/xml");if(e instanceof Document)return e;throw new Error("DASH Manifest Parser: Unrecognized Manifest format")}(w);return I(P.js(e,O))}function I(t){if("done"===t.type){var r=t.value,n=r.warnings,i=r.parsed,s=n.map((function(e){return{type:"warning",value:e}})),l=new v.ZP(i,e);return(0,d.z)(a.of.apply(void 0,s),(0,k.Z)(l,T))}var u=t.value,c=u.urls.map((function(e){return E((function(){return(0,o.ZP)({url:e,responseType:"string"===u.format?"text":"arraybuffer"}).pipe((0,h.h)((function(e){return"data-loaded"===e.type})),(0,g.U)((function(e){return e.value})))}))}));return(0,f.a)(c).pipe((0,p.z)((function(e){if("string"===u.format){var t=e.map((function(e){if("string"!==typeof e.responseData)throw new Error("External DASH resources should have been a string");return(0,y.Z)(e,{responseData:e.responseData})}));return I(u.continue(t))}var r=e.map((function(e){if(!(e.responseData instanceof ArrayBuffer))throw new Error("External DASH resources should have been ArrayBuffers");return(0,y.Z)(e,{responseData:e.responseData})}));return I(u.continue(r))})))}}}var _=r(1480),S=r(7839);function T(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(n,i)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){T(a,n,i,o,s,"next",e)}function s(e){T(a,n,i,o,s,"throw",e)}o(void 0)}))}}var x=r(7757),O=r.n(x),P=r(944),C=r(9105),A=r(5992),M=r(1946),I=P.Z.DEFAULT_REQUEST_TIMEOUT,R="function"===typeof Headers?Headers:null,D="function"===typeof AbortController?AbortController:null;function L(){return"function"===typeof window.fetch&&!(0,M.Z)(D)&&!(0,M.Z)(R)}var j=function(e){var t;if(!(0,M.Z)(e.headers))if((0,M.Z)(R))t=e.headers;else{t=new R;for(var r=Object.keys(e.headers),n=0;n<r.length;n++){var i=r[n];t.append(i,e.headers[i])}}return new _.y((function(r){m.Z.debug("Fetch: Called with URL",e.url);var n=!1,i=!1,a=!1,o=performance.now(),s=(0,M.Z)(D)?null:new D;function l(){if(!a){if(!(0,M.Z)(s))return void s.abort();m.Z.warn("Fetch: AbortController API not available.")}}var u=(0,M.Z)(e.timeout)?I:e.timeout,c=window.setTimeout((function(){i=!0,l()}),u);return fetch(e.url,{headers:t,method:"GET",signal:(0,M.Z)(s)?void 0:s.signal}).then((function(e){if((0,M.Z)(c)||clearTimeout(c),e.status>=300)return m.Z.warn("Fetch: Request HTTP Error",e),void r.error(new C.Z(e.url,e.status,A.br.ERROR_HTTP_CODE));if(!(0,M.Z)(e.body)){var t=e.headers.get("Content-Length"),n=(0,M.Z)(t)||isNaN(+t)?void 0:+t,i=e.body.getReader(),s=0;return l()}function l(){return u.apply(this,arguments)}function u(){return(u=w(O().mark((function t(){var u,c,d,f,p;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.read();case 2:if((u=t.sent).done||(0,M.Z)(u.value)){t.next=11;break}return s+=u.value.byteLength,c=performance.now(),d={type:"data-chunk",value:{url:e.url,currentTime:c,duration:c-o,sendingTime:o,chunkSize:u.value.byteLength,chunk:u.value.buffer,size:s,totalSize:n}},r.next(d),t.abrupt("return",l());case 11:u.done&&(f=performance.now(),p=f-o,a=!0,r.next({type:"data-complete",value:{duration:p,receivedTime:f,sendingTime:o,size:s,status:e.status,url:e.url}}),r.complete());case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r.error(new C.Z(e.url,e.status,A.br.PARSE_ERROR))})).catch((function(t){if(n)m.Z.debug("Fetch: Request aborted.");else{if(i)return m.Z.warn("Fetch: Request timeouted."),void r.error(new C.Z(e.url,0,A.br.TIMEOUT));m.Z.warn("Fetch: Request Error",t instanceof Error?t.toString():""),r.error(new C.Z(e.url,0,A.br.ERROR_EVENT))}})),function(){n=!0,l()}}))},N=r(8806),U=r(281);function B(e,t){return"audio"===e||"video"===e?"video/mp4"===t.mimeType||"audio/mp4"===t.mimeType?"mp4":"video/webm"===t.mimeType||"audio/webm"===t.mimeType?"webm":void 0:"text"===e&&"application/mp4"===t.mimeType?"mp4":void 0}var F=r(2006),z=r(4460);function V(e){return function(t){return e(t).pipe((0,F.b)((function(e){"data-loaded"!==e.type&&"data-chunk"!==e.type||null===e.value.responseData||"string"===typeof e.value.responseData||"mp4"!==B(t.adaptation.type,t.representation)||(0,z.Z)(new Uint8Array(e.value.responseData),t.segment.isInit)})))}}var W=r(6968);function $(e,t){var r=t.segment;if(void 0===r.range)return(0,o.ZP)({url:e,responseType:"arraybuffer",sendProgressEvents:!0});if(void 0===r.indexRange)return(0,o.ZP)({url:e,headers:{Range:(0,U.Z)(r.range)},responseType:"arraybuffer",sendProgressEvents:!0});if(r.range[1]+1===r.indexRange[0])return(0,o.ZP)({url:e,headers:{Range:(0,U.Z)([r.range[0],r.indexRange[1]])},responseType:"arraybuffer",sendProgressEvents:!0});var n=(0,o.ZP)({url:e,headers:{Range:(0,U.Z)(r.range)},responseType:"arraybuffer",sendProgressEvents:!1}),i=(0,o.ZP)({url:e,headers:{Range:(0,U.Z)(r.indexRange)},responseType:"arraybuffer",sendProgressEvents:!1});return(0,f.a)([n,i]).pipe((0,g.U)((function(t){var r=t[0],n=t[1],i=(0,W.zo)(new Uint8Array(r.value.responseData),new Uint8Array(n.value.responseData)),a=Math.min(r.value.sendingTime,n.value.sendingTime),o=Math.max(r.value.receivedTime,n.value.receivedTime);return{type:"data-loaded",value:{url:e,responseData:i,size:r.value.size+n.value.size,duration:o-a,sendingTime:a,receivedTime:o}}})))}var H=r(3074),K=r(8766);function G(e,t){var r=t.segment,n=void 0!==r.range?{Range:(0,U.Z)(r.range)}:void 0;return j({url:e,headers:n}).pipe((0,H.R)((function(e,t){if("data-complete"===t.type)return null!==e.partialChunk&&m.Z.warn("DASH Pipelines: remaining chunk does not belong to any segment"),{event:t,completeChunks:[],partialChunk:null};var r=new Uint8Array(t.value.chunk),n=function(e){for(var t=0,r=[];t<e.length;){var n=e.subarray(t,1/0),i=(0,K.Z)(n,1836019558);if(i<0)return[r,n];var a=t+i+(0,W.pX)(e,i+t);if(a>e.length)return[r,n];var o=(0,K.Z)(n,1835295092);if(o<0)return[r,n];var s=t+o+(0,W.pX)(e,o+t);if(s>e.length)return[r,n];var l=Math.max(a,s),u=e.subarray(t,l);r.push(u),t=l}return[r,null]}(null!==e.partialChunk?(0,W.zo)(e.partialChunk,r):r);return{event:t,completeChunks:n[0],partialChunk:n[1]}}),{event:null,completeChunks:[],partialChunk:null}),(0,p.z)((function(e){for(var t=[],r=0;r<e.completeChunks.length;r++)t.push({type:"data-chunk",value:{responseData:e.completeChunks[r]}});var n=e.event;if(null!==n&&"data-chunk"===n.type){var i=n.value;t.push({type:"progress",value:{duration:i.duration,size:i.size,totalSize:i.totalSize}})}else if(null!==n&&"data-complete"===n.type){var o=n.value;t.push({type:"data-chunk-complete",value:{duration:o.duration,receivedTime:o.receivedTime,sendingTime:o.sendingTime,size:o.size,url:o.url}})}return a.of.apply(void 0,t)})))}function Z(e,t,r){if(t.segment.isInit)return $(e,t);var n=B(t.adaptation.type,t.representation);if(r&&("mp4"===n||void 0===n)){if(L())return G(e,t);(0,N.Z)("DASH: Your browser does not have the fetch API. You will have a higher chance of rebuffering when playing close to the live edge")}var i=t.segment;return(0,o.ZP)({url:e,responseType:"arraybuffer",sendProgressEvents:!0,headers:void 0!==i.range?{Range:(0,U.Z)(i.range)}:void 0})}var q=r(6490),X=r(4644);function Y(e,t,r,n){for(var i=n[0],a=n[1],o=i;o<a;){var s=te(r,o);if(null==s)return null;var l=s.value,u=o+s.length,c=re(r,u);if(null==c)return null;var d=u+c.length,f=d+c.value;if(l===e)return[d,f];if(t.length>0)for(var p=0;p<t.length;p++)if(l===t[p])return Y(e,t.slice(p+1,t.length),r,[d,f]);o=f}return null}function Q(e,t){var r=Y(2807729,[408125543,357149030],e,[t,e.length]);if(null==r)return null;var n=r[1]-r[0];return 1e9/ne(e,r[0],n)}function J(e,t){var r=Y(17545,[408125543,357149030],e,[t,e.length]);if(null==r)return null;var n=r[1]-r[0];return 4===n?function(e,t){return new DataView(e.buffer).getFloat32(t)}(e,r[0]):8===n?function(e,t){return new DataView(e.buffer).getFloat64(t)}(e,r[0]):null}function ee(e,t){for(var r=1;r<=8;r++)if(e[t]>=Math.pow(2,8-r))return r}function te(e,t){var r=ee(e,t);if(null==r)return m.Z.warn("webm: unrepresentable length"),null;if(t+r>e.length)return m.Z.warn("webm: impossible length"),null;for(var n=0,i=0;i<r;i++)n=e[t+i]*Math.pow(2,8*(r-i-1))+n;return{length:r,value:n}}function re(e,t){var r=ee(e,t);if(null==r)return m.Z.warn("webm: unrepresentable length"),null;if(t+r>e.length)return m.Z.warn("webm: impossible length"),null;for(var n=(e[t]&(1<<8-r)-1)*Math.pow(2,8*(r-1)),i=1;i<r;i++)n=e[t+i]*Math.pow(2,8*(r-i-1))+n;return{length:r,value:n}}function ne(e,t,r){for(var n=0,i=0;i<r;i++)n=e[t+i]*Math.pow(2,8*(r-i-1))+n;return n}var ie=r(7403);function ae(e,t,r,n){var i=(0,X.Qx)(e);if(void 0===i||void 0===n)return null;var a,o=void 0!==r.timestampOffset?i+r.timestampOffset*n:i,s=(0,X.MM)(e);if(t)return{time:o/n,duration:void 0!==s?s/n:void 0};var l=r.duration*n,u=Math.min(.9*n,l/4);return void 0!==s&&Math.abs(s-l)<=u&&(a=s),{time:o/n,duration:void 0!==a?a/n:a}}function oe(e,t){if(0!==e.length){var r=e.reduce((function(e,t){return"urn:mpeg:dash:event:2012"===t.schemeIdUri&&"1"===t.value?(void 0===e.manifestRefreshEventsFromEMSGs&&(e.manifestRefreshEventsFromEMSGs=[]),e.manifestRefreshEventsFromEMSGs.push(t)):(void 0===e.EMSGs&&(e.EMSGs=[]),e.EMSGs.push(t)),e}),{manifestRefreshEventsFromEMSGs:void 0,EMSGs:void 0}),n=r.manifestRefreshEventsFromEMSGs,i=r.EMSGs;return{inbandEvents:null===i||void 0===i?void 0:i.map((function(e){return{type:"emsg",value:e}})),needsManifestRefresh:void 0!==t&&void 0!==n&&function(e,t){if(e.length<=0)return!1;for(var r=e.length,n=0;n<r;n++){var i=t,a=e[n].messageData,o=(0,b.uR)(a),s=Date.parse(o);if(void 0===i||void 0===s||isNaN(s)||s>=i)return!0}return!1}(n,t)}}}function se(e){var t=e.__priv_patchLastSegmentInSidx;return function(e){var r=e.content,n=e.response,i=e.initTimescale,o=r.period,l=r.adaptation,u=r.representation,c=r.segment,d=r.manifest,f=n.data,p=n.isChunked,h=[o.start,o.end];if(null===f)return c.isInit?(0,a.of)({type:"parsed-init-segment",value:{initializationData:null,protectionDataUpdate:!1,initTimescale:void 0}}):(0,a.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:0,appendWindow:h,protectionDataUpdate:!1}});var g=f instanceof Uint8Array?f:new Uint8Array(f),m=B(l.type,u),v="mp4"===m||void 0===m,y=!1;if(v){var b=(0,q.Z)(g);b.length>0&&(y=u._addProtectionData("cenc",b))}if(!c.isInit){var k=v?ae(g,p,c,i):null,E=(0,s.Z)(c.timestampOffset,0);if(v){var _=(0,X.s9)(g);if(void 0!==_){var S=oe(_.filter((function(e){return void 0!==c.privateInfos&&void 0!==c.privateInfos.isEMSGWhitelisted&&c.privateInfos.isEMSGWhitelisted(e)})),d.publishTime);if(void 0!==S){var T=S.needsManifestRefresh,w=S.inbandEvents;return(0,a.of)({type:"parsed-segment",value:{chunkData:g,chunkInfos:k,chunkOffset:E,appendWindow:h,inbandEvents:w,needsManifestRefresh:T,protectionDataUpdate:y}})}}}return(0,a.of)({type:"parsed-segment",value:{chunkData:g,chunkInfos:k,chunkOffset:E,appendWindow:h,protectionDataUpdate:y}})}var x=c.indexRange,O=null;if("webm"===m)O=function(e,t){var r=Y(408125543,[],e,[t,e.length]);if(null==r)return null;var n=r[0],i=r[1],a=Q(e,n);if(null==a)return null;var o=J(e,n);if(null==o)return null;var s=Y(475249515,[],e,[n,i]);if(null==s)return null;for(var l=[],u=s[0];u<s[1];){var c=Y(187,[],e,[u,s[1]]);if(null==c)break;var d=Y(179,[],e,[c[0],c[1]]);if(null==d)return null;var f=ne(e,d[0],d[1]-d[0]),p=Y(241,[183],e,[c[0],c[1]]);if(null==p)return null;var h=ne(e,p[0],p[1]-p[0])+n;l.push({time:f,rangeStart:h}),u=c[1]}for(var g=[],m=0;m<l.length;m++){var v=l[m];m===l.length-1?g.push({time:v.time,timescale:a,duration:0===m?o:o-v.time,range:[v.rangeStart,1/0]}):g.push({time:v.time,timescale:a,duration:l[m+1].time-v.time,range:[v.rangeStart,l[m+1].rangeStart-1]})}return g}(g,0);else if(v&&(O=(0,X.Wf)(g,Array.isArray(x)?x[0]:0),!0===t&&null!==O&&O.length>0)){var P=O[O.length-1];Array.isArray(P.range)&&(P.range[1]=1/0)}u.index instanceof ie.Z&&null!==O&&O.length>0&&u.index.initializeIndex(O);var C=v?(0,X.LD)(g):"webm"===m?Q(g,0):void 0,A=(0,M.Z)(C)?void 0:C;return(0,a.of)({type:"parsed-init-segment",value:{initializationData:g,protectionDataUpdate:y,initTimescale:A}})}}var le=r(6807);function ue(e,t,r,n){var i,a,o=e.segment,s=e.adaptation,l=e.representation;if(o.isInit)return null;null===r?n?(i=o.time,a=o.end):m.Z.warn("Transport: Unavailable time data for current text track."):(i=r.time,void 0!==r.duration?a=i+r.duration:n||(a=i+o.duration));var u=function(e){var t=e.codec;if(void 0===t)throw new Error("Cannot parse subtitles: unknown format");switch(t.toLowerCase()){case"stpp":case"stpp.ttml.im1t":return"ttml";case"wvtt":return"vtt"}throw new Error('The codec used for the subtitles "'+t+'" is not managed yet.')}(l);return{data:function(e){var t=(0,le.Le)(e);return null===t?"":(0,b.uR)(t)}(t),type:u,language:s.language,start:i,end:a}}function ce(e,t,r){var n,i,a=e.segment,o=e.adaptation,s=e.representation;return a.isInit?null:(r?m.Z.warn("Transport: Unavailable time data for current text track."):(n=a.time,i=a.time+a.duration),{data:t,type:function(e){var t=e.mimeType,r=void 0===t?"":t;switch(e.mimeType){case"application/ttml+xml":return"ttml";case"application/x-sami":case"application/smil":return"sami";case"text/vtt":return"vtt"}var n=e.codec;if("srt"===(void 0===n?"":n).toLowerCase())return"srt";throw new Error("could not find a text-track parser for the type "+r)}(s),language:o.language,start:n,end:i})}function de(e){var t=e.__priv_patchLastSegmentInSidx;return function(e){var r=e.response,n=e.content,i=e.initTimescale,o=n.period,l=n.adaptation,u=n.representation,c=n.segment,d=c.timestampOffset,f=void 0===d?0:d,p=r.data,h=r.isChunked;if(null===p)return c.isInit?(0,a.of)({type:"parsed-init-segment",value:{initializationData:null,protectionDataUpdate:!1,initTimescale:void 0}}):(0,a.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:f,appendWindow:[o.start,o.end],protectionDataUpdate:!1}});var g=B(l.type,u);if("webm"===g)throw new Error("Text tracks with a WEBM container are not yet handled.");return"mp4"===g?function(e,t){var r=e.response,n=e.content,i=e.initTimescale,o=n.period,l=n.representation,u=n.segment,c=u.isInit,d=u.indexRange,f=r.data,p=r.isChunked,h="string"===typeof f?(0,b.tG)(f):f instanceof Uint8Array?f:new Uint8Array(f);if(c){var g=(0,X.Wf)(h,Array.isArray(d)?d[0]:0);if(!0===t&&null!==g&&g.length>0){var m=g[g.length-1];Array.isArray(m.range)&&(m.range[1]=1/0)}var v=(0,X.LD)(h);return l.index instanceof ie.Z&&null!==g&&g.length>0&&l.index.initializeIndex(g),(0,a.of)({type:"parsed-init-segment",value:{initializationData:null,protectionDataUpdate:!1,initTimescale:v}})}var y=ae(h,p,u,i),k=ue(n,h,y,p),E=(0,s.Z)(u.timestampOffset,0);return(0,a.of)({type:"parsed-segment",value:{chunkData:k,chunkInfos:y,chunkOffset:E,appendWindow:[o.start,o.end],protectionDataUpdate:!1}})}({response:{data:p,isChunked:h},content:n,initTimescale:i},t):function(e){var t=e.response,r=e.content,n=r.period,i=r.segment,o=i.timestampOffset,s=void 0===o?0:o;if(i.isInit)return(0,a.of)({type:"parsed-init-segment",value:{initializationData:null,protectionDataUpdate:!1,initTimescale:void 0}});var l,u=t.data,c=t.isChunked;if("string"!==typeof u){var d=u instanceof Uint8Array?u:new Uint8Array(u);l=(0,b.uR)(d)}else l=u;var f=ce(r,l,c);return(0,a.of)({type:"parsed-segment",value:{chunkData:f,chunkInfos:null,chunkOffset:s,appendWindow:[n.start,n.end],protectionDataUpdate:!1}})}({response:{data:p,isChunked:h},content:n})}}var fe=function(e){var t=(0,i.Z)({customManifestLoader:e.manifestLoader},null===n.Z.dashParsers.wasm||"initialized"!==n.Z.dashParsers.wasm.status&&"initializing"!==n.Z.dashParsers.wasm.status?"arraybuffer":"text"),r=E(e),s=function(e){var t=e.lowLatencyMode,r=e.segmentLoader;return!0!==e.checkMediaSegmentIntegrity?n:V(n);function n(e){var n=e.url;if(null==n)return(0,a.of)({type:"data-created",value:{responseData:null}});if(t||void 0===r)return Z(n,e,t);var i={adaptation:e.adaptation,manifest:e.manifest,period:e.period,representation:e.representation,segment:e.segment,transport:"dash",url:n};return new _.y((function(a){var o=!1,s=!1,l=r(i,{reject:function(e){var t,r,n;if(void 0===e&&(e={}),!s){o=!0;var i=e,l=null!==(t=null===i||void 0===i?void 0:i.message)&&void 0!==t?t:"Unknown error when fetching a DASH segment through a custom segmentLoader.",u=new S.Z(l,null!==(r=null===i||void 0===i?void 0:i.canRetry)&&void 0!==r&&r,null!==(n=null===i||void 0===i?void 0:i.isOfflineError)&&void 0!==n&&n,null===i||void 0===i?void 0:i.xhr);a.error(u)}},resolve:function(e){s||(o=!0,a.next({type:"data-loaded",value:{responseData:e.data,size:e.size,duration:e.duration}}),a.complete())},progress:function(e){s||a.next({type:"progress",value:{duration:e.duration,size:e.size,totalSize:e.totalSize}})},fallback:function(){s=!0,Z(n,e,t).subscribe(a)}});return function(){o||s||"function"!==typeof l||l()}}))}}(e),c=se(e);return{manifest:{loader:t,parser:r},audio:{loader:s,parser:c},video:{loader:s,parser:c},text:{loader:function(e){var t=e.lowLatencyMode;return!0!==e.checkMediaSegmentIntegrity?r:V(r);function r(e){var r=e.segment.range,n=e.url;if(null===n)return(0,a.of)({type:"data-created",value:{responseData:null}});if(e.segment.isInit)return $(n,e);var i=B(e.adaptation.type,e.representation),s="mp4"===i||void 0===i;if(t&&s){if(L())return G(n,e);(0,N.Z)("DASH: Your browser does not have the fetch API. You will have a higher chance of rebuffering when playing close to the live edge")}var l=s?"arraybuffer":"text";return(0,o.ZP)({url:n,responseType:l,headers:Array.isArray(r)?{Range:(0,U.Z)(r)}:null,sendProgressEvents:!0})}}(e),parser:de(e)},image:{loader:l,parser:u}}}},2339:function(e,t,r){"use strict";r.d(t,{Z:function(){return ye}});var n=r(2817),i=r(9127),a=r(2006),o=r(7874),s=r(3887),l=r(1989),u=r(6807),c=r(8999),d=r(7714),f=r(811),p=r(6968),h=r(6923),g=r(8026),m=r(9829),v=r(3635),y=r(5278),b=r(2689),k={};function E(e){if(null!=k[e])return k[e];var t=(0,v.tG)(e);return k[e]=t,t}function _(e,t){var r=t.length+8;return r<=b.s?(0,p.zo)((0,p.kh)(r),E(e),t):(0,p.zo)((0,p.kh)(1),E(e),(0,p.el)(r+8),t)}function S(e,t){return _(e,p.zo.apply(void 0,t))}var T=r(9689);function w(e){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:(0,p.zo)([8,1,18,16],e)}]}function x(e,t){if(void 0===t&&(t=w),null===e.firstElementChild||"ProtectionHeader"!==e.firstElementChild.nodeName)throw new Error("Protection should have ProtectionHeader child");var r=e.firstElementChild,n=(0,T.K)(null===r.textContent?"":r.textContent),i=function(e){var t=(0,p.qb)(e,8),r=(0,v.wV)(e.subarray(10,t+10)),n=(new DOMParser).parseFromString(r,"application/xml").querySelector("KID");if(null===n)throw new Error("Cannot parse PlayReady private data: invalid XML");var i=null===n.textContent?"":n.textContent,a=(0,v.wO)((0,T.K)(i));return(0,v.ci)(a).toLowerCase()}(n),a=(0,v.nr)(i),o=r.getAttribute("SystemID");return{keyId:a,keySystems:[{systemId:(null!==o?o:"").toLowerCase().replace(/\{|\}/g,""),privateData:n}].concat(t(a))}}var O=r(9362),P=r(8232),C=r(3911),A=r(1091),M=r(5505);function I(e,t,r){var n=e.timeline,i=e.timescale,a=n[n.length-1],o=t.timescale===i?{time:t.time,duration:t.duration}:{time:t.time/t.timescale*i,duration:t.duration/t.timescale*i};return!(r.time===o.time)&&o.time>=(0,C.jH)(a,null)&&(a.duration===o.duration?a.repeatCount++:e.timeline.push({duration:o.duration,start:o.time,repeatCount:0}),!0)}function R(e,t){return e.replace(/\{start time\}/g,String(t))}function D(e,t,r){var n=t-e;return n>0?Math.floor(n/r):0}function L(e,t){var r=e.repeatCount;if(null!=e.duration&&r<0){var n=void 0!==t?t.start:1/0;r=Math.ceil((n-e.start)/e.duration)-1}return r}var j=function(){function e(e,t){var r=t.aggressiveMode,n=t.isLive,i=t.segmentPrivateInfos,a=t.timeShiftBufferDepth,o=null==t.manifestReceivedTime?performance.now():t.manifestReceivedTime;if(this._index=e,this._indexValidityTime=o,this._timeShiftBufferDepth=a,this._initSegmentInfos={bitsPerSample:i.bitsPerSample,channels:i.channels,codecPrivateData:i.codecPrivateData,packetSize:i.packetSize,samplingRate:i.samplingRate,timescale:e.timescale,protection:i.protection},this._isAggressiveMode=r,this._isLive=n,0!==e.timeline.length){var s=e.timeline[e.timeline.length-1],l=(0,C.jH)(s,null);if(this._initialScaledLastPosition=l,n){var u=o/1e3*e.timescale;this._scaledLiveGap=u-l}}}var t=e.prototype;return t.getInitSegment=function(){return{id:"init",isInit:!0,privateInfos:{smoothInitSegment:this._initSegmentInfos},mediaURLs:null,time:0,end:0,duration:0,timescale:1}},t.getSegments=function(e,t){this._refreshTimeline();for(var r,n=function(e,t,r){var n=void 0===e.timescale||0===e.timescale?1:e.timescale;return{up:t*n,to:(t+r)*n}}(this._index,e,t),i=n.up,a=n.to,o=this._index,s=o.timeline,l=o.timescale,u=o.media,c=this._isAggressiveMode,d=[],f=s.length,p=null==this._scaledLiveGap?void 0:performance.now()/1e3*l-this._scaledLiveGap,h=0;h<f;h++){for(var g=s[h],m=g.duration,v=g.start,y=L(g,s[h+1]),b=D(v,i,m),k=v+b*m,E=c?0:m;k<a&&b<=y&&(null==p||k+E<=p);){var _=k,S=null!=r?r+b:void 0,T={id:String(k),isInit:!1,time:_/l,end:(_+m)/l,duration:m/l,timescale:1,number:S,mediaURLs:[R(u,_)],privateInfos:{smoothMediaSegment:{time:_,duration:m}}};d.push(T),k=v+ ++b*m}if(k>=a)return d;null!=r&&(r+=y+1)}return d},t.shouldRefresh=function(e,t){if(this._refreshTimeline(),!this._isLive)return!1;var r=this._index,n=r.timeline,i=r.timescale,a=n[n.length-1];if(void 0===a)return!1;var o=a.repeatCount,s=a.start+(o+1)*a.duration;return!(t*i<s)&&(e*i>=s||e*i>a.start+o*a.duration)},t.getFirstPosition=function(){this._refreshTimeline();var e=this._index;return 0===e.timeline.length?null:e.timeline[0].start/e.timescale},t.getLastPosition=function(){this._refreshTimeline();var e=this._index;if(null==this._scaledLiveGap){var t=e.timeline[e.timeline.length-1];return(0,C.jH)(t,null)/e.timescale}for(var r=e.timeline.length-1;r>=0;r--)for(var n=e.timeline[r],i=performance.now()/1e3*e.timescale,a=n.start,o=n.duration,s=n.repeatCount;s>=0;s--){var l=a+o*(s+1);if((this._isAggressiveMode?l-o:l)<=i-this._scaledLiveGap)return l/e.timescale}},t.checkDiscontinuity=function(e){return this._refreshTimeline(),(0,C._j)(this._index,e,void 0)},t.areSegmentsChronologicallyGenerated=function(){return!0},t.isSegmentStillAvailable=function(e){if(e.isInit)return!0;this._refreshTimeline();var t=this._index,r=t.timeline,n=t.timescale;return(0,A.Z)(e,r,n,0)},t.canBeOutOfSyncError=function(e){return!!this._isLive&&e instanceof O.Z&&(e.isHttpError(404)||e.isHttpError(412))},t._replace=function(e){var t=this._index.timeline,r=e._index.timeline,n=this._index.timescale,i=e._index.timescale;if(this._index=e._index,this._initialScaledLastPosition=e._initialScaledLastPosition,this._indexValidityTime=e._indexValidityTime,this._scaledLiveGap=e._scaledLiveGap,0!==t.length&&0!==r.length&&n===i){var a=t[t.length-1],o=r[r.length-1],l=(0,C.jH)(o,null);if(!((0,C.jH)(a,null)<=l))for(var u=0;u<t.length;u++){var c=t[u],d=(0,C.jH)(c,null);if(d===l)return void(this._index.timeline=this._index.timeline.concat(t.slice(u+1)));if(d>l){if(c.duration!==o.duration)return;var f=l-c.start;if(0===f)return s.Z.warn("Smooth Parser: a discontinuity detected in the previous manifest has been resolved."),void(this._index.timeline=this._index.timeline.concat(t.slice(u)));if(f<0||f%c.duration!==0)return;var p=f/c.duration-1,h=c.repeatCount-p;if(h<0)return;o.repeatCount+=h;var g=t.slice(u+1);return void(this._index.timeline=this._index.timeline.concat(g))}}}},t._update=function(e){(0,M.Z)(this._index.timeline,e._index.timeline),this._initialScaledLastPosition=e._initialScaledLastPosition,this._indexValidityTime=e._indexValidityTime,this._scaledLiveGap=e._scaledLiveGap},t.isFinished=function(){return!this._isLive},t.isInitialized=function(){return!0},t.addNewSegments=function(e,t){this._refreshTimeline();for(var r=0;r<e.length;r++)I(this._index,e[r],t)},t._refreshTimeline=function(){if(null!=this._initialScaledLastPosition){var e=this._index,t=this._timeShiftBufferDepth,r=(performance.now()-this._indexValidityTime)/1e3+this._initialScaledLastPosition/e.timescale;if(null!=t){var n=(r-t)*e.timescale;(0,P.Z)(e.timeline,n)}}},e}();function N(e,t,r){for(var n=e.firstElementChild,i=r;null!==n;)i=t(i,n.nodeName,n),n=n.nextElementSibling;return i}var U={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},B={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4"},F=function(e){void 0===e&&(e={});var t=void 0===e.referenceDateTime?Date.UTC(1970,0,1,0,0,0,0)/1e3:e.referenceDateTime,r=void 0===e.minRepresentationBitrate?0:e.minRepresentationBitrate,n=e.serverSyncInfos,i=void 0!==n?n.serverTimestamp-n.clientTime:void 0;function a(e,t){var r=N(e,(function(e,t,r){return"CustomAttributes"===t&&e.push.apply(e,N(r,(function(e,t,r){if("Attribute"===t){var n=r.getAttribute("Name"),i=r.getAttribute("Value");null!==n&&null!==i&&e.push(n+"="+i)}return e}),[])),e}),[]);function n(t){var r=e.getAttribute(t);return null==r?void 0:r}switch(t){case"audio":var i=n("AudioTag"),a=n("BitsPerSample"),o=n("Channels"),l=n("CodecPrivateData"),u=n("FourCC"),c=n("PacketSize"),d=n("SamplingRate"),f=n("Bitrate"),p=void 0===f||isNaN(parseInt(f,10))?0:parseInt(f,10);if(void 0!==u&&void 0===B[u]||void 0===l)return s.Z.warn("Smooth parser: Unsupported audio codec. Ignoring quality level."),null;var g=function(e,t){var r;return 0===(r="AACH"===t?5:(0,h.Z)(e)?(248&parseInt(e.substring(0,2),16))>>3:2)?"mp4a.40.2":"mp4a.40."+r}(l,u);return{audiotag:void 0!==i?parseInt(i,10):i,bitrate:p,bitsPerSample:void 0!==a?parseInt(a,10):a,channels:void 0!==o?parseInt(o,10):o,codecPrivateData:l,codecs:g,customAttributes:r,mimeType:void 0!==u?B[u]:u,packetSize:void 0!==c?parseInt(c,10):c,samplingRate:void 0!==d?parseInt(d,10):d};case"video":var m=n("CodecPrivateData"),v=n("FourCC"),b=n("MaxWidth"),k=n("MaxHeight"),E=n("Bitrate"),_=void 0===E||isNaN(parseInt(E,10))?0:parseInt(E,10);if(void 0!==v&&void 0===B[v]||void 0===m)return s.Z.warn("Smooth parser: Unsupported video codec. Ignoring quality level."),null;var S=function(e){var t=/00000001\d7([0-9a-fA-F]{6})/.exec(e);return null!==t&&(0,h.Z)(t[1])?"avc1."+t[1]:"avc1.4D401E"}(m);return{bitrate:_,customAttributes:r,mimeType:void 0!==v?B[v]:v,codecPrivateData:m,codecs:S,width:void 0!==b?parseInt(b,10):void 0,height:void 0!==k?parseInt(k,10):void 0};case"text":var T=n("CodecPrivateData"),w=n("FourCC"),x=n("Bitrate");return{bitrate:void 0===x||isNaN(parseInt(x,10))?0:parseInt(x,10),customAttributes:r,mimeType:void 0!==w?B[w]:w,codecPrivateData:(0,y.Z)(T,"")};default:return s.Z.error("Smooth Parser: Unrecognized StreamIndex type: "+t),null}}function o(t){var n=t.root,i=t.timescale,o=t.rootURL,l=t.protections,u=t.timeShiftBufferDepth,y=t.manifestReceivedTime,b=t.isLive,k=n.getAttribute("Timescale"),E=null===k||isNaN(+k)?i:+k,S=n.getAttribute("Type");if(null===S)throw new Error("StreamIndex without type.");(0,d.Z)(c.r,S)||s.Z.warn("Smooth Parser: Unrecognized adaptation type:",S);var T,w=S,x=n.getAttribute("Subtype"),O=n.getAttribute("Language"),P=n.getAttribute("Url"),C=null===P?"":P,A=N(n,(function(e,t,n){switch(t){case"QualityLevel":var i=a(n,w);if(null===i)return e;("video"!==w||i.bitrate>r)&&e.qualityLevels.push(i);break;case"c":e.cNodes.push(n)}return e}),{qualityLevels:[],cNodes:[]}),M=A.qualityLevels,I=A.cNodes,R={timeline:(T=I,T.reduce((function(e,t,r){var n=t.getAttribute("d"),i=t.getAttribute("t"),a=t.getAttribute("r"),o=null!==a?+a-1:0,s=null!==i?+i:void 0,l=null!==n?+n:void 0;if(0===r)s=void 0===s||isNaN(s)?0:s;else{var u=e[r-1];if(null==s||isNaN(s)){if(null==u.duration||isNaN(u.duration))throw new Error("Smooth: Invalid CNodes. Missing timestamp.");s=u.start+u.duration*(u.repeatCount+1)}}if(null==l||isNaN(l)){var c=T[r+1];if(void 0===c)return e;var d=c.getAttribute("t"),f=(0,h.Z)(d)?+d:null;if(null===f)throw new Error("Can't build index timeline from Smooth Manifest.");l=f-s}return e.push({duration:l,start:s,repeatCount:o}),e}),[])),timescale:E};(0,f.Z)(0!==M.length,"Adaptation should have at least one playable representation.");var D=w+((0,h.Z)(O)?"_"+O:""),L=M.map((function(t){var r,n,i,a,s=(0,m.Z)(o,C),c={timeline:R.timeline,timescale:R.timescale,media:(r=s,n=t.bitrate,i=t.customAttributes,r.replace(/\{bitrate\}/g,String(n)).replace(/{CustomAttributes}/g,i.length>0?i[0]:""))},d=(0,h.Z)(t.mimeType)?t.mimeType:U[w],f=t.codecs,k=D+"_"+(null!=w?w+"-":"")+(null!=d?d+"-":"")+(null!=f?f+"-":"")+String(t.bitrate),E=[];l.length>0&&(a=l[0],l.forEach((function(e){var t=e.keyId;e.keySystems.forEach((function(e){E.push({keyId:t,systemId:e.systemId})}))})));var S={bitsPerSample:t.bitsPerSample,channels:t.channels,codecPrivateData:t.codecPrivateData,packetSize:t.packetSize,samplingRate:t.samplingRate,protection:null!=a?{keyId:a.keyId}:void 0},T=null!=e.aggressiveMode&&e.aggressiveMode,x=new j(c,{aggressiveMode:T,isLive:b,manifestReceivedTime:y,segmentPrivateInfos:S,timeShiftBufferDepth:u}),O=(0,g.Z)({},t,{index:x,mimeType:d,codecs:f,id:k});if(E.length>0||void 0!==a){var P=void 0===a?[]:a.keySystems.map((function(e){var t=e.systemId,r=e.privateData,n=t.replace(/-/g,"");return{systemId:n,data:function(e,t){if(32!==e.length)throw new Error("HSS: wrong system id length");return _("pssh",(0,p.zo)([0,0,0,0],(0,v.nr)(e),(0,p.kh)(t.length),t))}(n,r)}}));if(P.length>0){var A=[{type:"cenc",values:P}];O.contentProtections={keyIds:E,initData:A}}else O.contentProtections={keyIds:E,initData:[]}}return O}));if("ADVT"===x)return null;var B={id:D,type:w,representations:L,language:null==O?void 0:O};return"text"===w&&"DESC"===x&&(B.closedCaption=!0),B}return function(r,n,a){var l=(0,m.f)(null==n?"":n),u=r.documentElement;if(null==u||"SmoothStreamingMedia"!==u.nodeName)throw new Error("document root should be SmoothStreamingMedia");var c=u.getAttribute("MajorVersion"),f=u.getAttribute("MinorVersion");if(null===c||null===f||!/^[2]-[0-2]$/.test(c+"-"+f))throw new Error("Version should be 2.0, 2.1 or 2.2");var p,g,v=u.getAttribute("Timescale"),y=(0,h.Z)(v)?isNaN(+v)?1e7:+v:1e7,b=N(u,(function(t,r,n){switch(r){case"Protection":t.protections.push(x(n,e.keySystems));break;case"StreamIndex":t.adaptationNodes.push(n)}return t}),{adaptationNodes:[],protections:[]}),k=b.protections,E=b.adaptationNodes,_="boolean"===typeof(p=u.getAttribute("IsLive"))?p:"string"===typeof p&&"TRUE"===p.toUpperCase();if(_){var S=u.getAttribute("DVRWindowLength");null==S||isNaN(+S)||0===+S||(g=+S/y)}var T,w,O,P,C,A,M=E.reduce((function(e,t){var r=o({root:t,rootURL:l,timescale:y,protections:k,isLive:_,timeShiftBufferDepth:g,manifestReceivedTime:a});if(null===r)return e;var n=r.type,i=e[n];return void 0===i?e[n]=[r]:i.push(r),e}),{}),I=null,R=void 0!==M.video?M.video[0]:void 0,D=void 0!==M.audio?M.audio[0]:void 0;if(void 0!==R||void 0!==D){var L=[],j=[];if(void 0!==R){var U=R.representations[0];if(void 0!==U){var B=U.index.getFirstPosition(),F=U.index.getLastPosition();null!=B&&L.push(B),null!=F&&j.push(F)}}if(void 0!==D){var z=D.representations[0];if(void 0!==z){var V=z.index.getFirstPosition(),W=z.index.getLastPosition();null!=V&&L.push(V),null!=W&&j.push(W)}}L.length>0&&(C=Math.max.apply(Math,L)),j.length>0&&(A=Math.min.apply(Math,j))}var $=u.getAttribute("Duration"),H=null!=$&&0!==+$?+$/y:void 0;_?(T=e.suggestedPresentationDelay,w=t,O=null!==C&&void 0!==C?C:w,P={isLinear:!0,value:null!=A?A:Date.now()/1e3-w,time:performance.now()},I=null!==g&&void 0!==g?g:null):(O=null!==C&&void 0!==C?C:0,P={isLinear:!1,value:void 0!==A?A:void 0!==H?O+H:1/0,time:performance.now()});var K=_?0:O,G=_?void 0:P.value,Z={availabilityStartTime:void 0===w?0:w,clockOffset:i,isLive:_,isDynamic:_,isLastPeriodKnown:!0,timeBounds:{absoluteMinimumTime:O,timeshiftDepth:I,maximumTimeData:P},periods:[{adaptations:M,duration:void 0!==G?G-K:H,end:G,id:"gen-smooth-period-0",start:K}],suggestedPresentationDelay:T,transportType:"smooth",uris:null==n?[]:[n]};return function e(t){var r=[];t.periods.forEach((function(n){var i=n.id;if((0,d.Z)(r,i)){s.Z.warn("Two periods with the same ID found. Updating.");var a=i+"-dup";n.id=a,e(t),r.push(a)}else r.push(i);var o=n.adaptations,l=[];Object.keys(o).forEach((function(r){var n=o[r];void 0!==n&&n.forEach((function(r){var n=r.id;if((0,d.Z)(l,n)){s.Z.warn("Two adaptations with the same ID found. Updating.",n);var i=n+"-dup";r.id=i,e(t),l.push(i)}else l.push(n);var a=[];r.representations.forEach((function(r){var n=r.id;if((0,d.Z)(a,n)){s.Z.warn("Two representations with the same ID found. Updating.",n);var i=n+"-dup";r.id=i,e(t),a.push(i)}else a.push(n)}))}))}))}))}(Z),Z}},z=r(4597),V=r(8806),W=r(4460),$=r(8791),H=r(7445),K=r(4644),G=r(2297);function Z(e,t,r,n,i){var a,o,l,c=[];if(i){var d=(0,u.XA)(e);null!==d?(l=function(e){var t=(0,G.nR)(e,3565190898,3392751253,2387879627,2655430559);if(void 0===t)return[];for(var r=[],n=t[0],i=t[4],a=0;a<i;a++){var o=void 0,s=void 0;1===n?(s=(0,p.pV)(t,16*a+5),o=(0,p.pV)(t,16*a+5+8)):(s=(0,p.pX)(t,8*a+5),o=(0,p.pX)(t,8*a+5+4)),r.push({time:s,duration:o})}return r}(d),o=function(e){var t=(0,G.nR)(e,1830656773,1121273062,2162299933,2952222642);if(void 0!==t)return{duration:(0,p.pV)(t,12),time:(0,p.pV)(t,4)}}(d)):s.Z.warn("smooth: could not find traf atom")}if(void 0!==l)for(var f=0;f<l.length;f++)c.push({time:l[f].time,duration:l[f].duration,timescale:r});if(void 0!==o)return{nextSegments:c,chunkInfos:{time:o.time/r,duration:o.duration/r},scaledSegmentTime:o.time};if(t)return{nextSegments:c,chunkInfos:null,scaledSegmentTime:void 0};var h=n.duration*r,g=Math.min(.9*r,h/4),m=(0,K.MM)(e),v=void 0!==(null===(a=n.privateInfos)||void 0===a?void 0:a.smoothMediaSegment)?n.privateInfos.smoothMediaSegment.time:Math.round(n.time*r);return{nextSegments:c,chunkInfos:void 0!==m&&Math.abs(m-h)<=g?{time:n.time,duration:m/r}:{time:n.time,duration:n.duration},scaledSegmentTime:v}}var q=r(3666);function X(e,t){return _("schm",(0,p.zo)(4,(0,v.tG)(e),(0,p.kh)(t)))}function Y(e){return _("frma",(0,v.tG)(e))}function Q(e){var t=[7,[e.length]];return _("stsd",p.zo.apply(void 0,t.concat(e)))}function J(e,t,r){return _("tenc",(0,p.zo)(6,[e,t],r))}function ee(e,t,r,n,i){var a=[e,t,r];return void 0!==i&&a.push(_("senc",i),function(e){if(0===e.length)return _("saiz",new Uint8Array(0));var t=(0,p.pX)(e,0),r=(0,p.pX)(e,4),n=new Uint8Array(r+9);n.set((0,p.kh)(r),5);for(var i,a,o=9,s=8;s<e.length;)s+=8,2===(2&t)?(a=2,s+=6*(i=(0,p.zK)(e,s))+2):(i=0,a=0),n[o]=6*i+8+a,o++;return _("saiz",n)}(i),function(e,t,r,n){return _("saio",(0,p.zo)(4,[0,0,0,1],(0,p.kh)(e.length+t.length+r.length+n.length+8+8+8+8)))}(n,e,t,r)),S("traf",a)}function te(e,t){var r=(0,G.Qy)(e,1836019558);if(null===r)throw new Error("Smooth: Invalid ISOBMFF given");var n=e.subarray(r[1],r[2]),i=(0,G.iz)(n,1835427940),a=(0,G.t_)(n,1953653094);if(null===a||null===i)throw new Error("Smooth: Invalid ISOBMFF given");var o=(0,G.Qy)(a,1952868452),s=(0,G.Qy)(a,1953658222);if(null===o||null===s)throw new Error("Smooth: Invalid ISOBMFF given");var l=a.subarray(o[0],o[2]),u=a.subarray(s[0],s[2]);l.set([0,0,0,1],o[1]-o[0]+4);var c=function(e){return _("tfdt",(0,p.zo)([1,0,0,0],(0,p.el)(e)))}(t),d=function(e,t){if((1&e[t+3])>0)return e;var r=new Uint8Array(e.length+4);return r.set(e.subarray(0,t+8),0),r[t+3]=1|r[t+3],r.set([0,0,0,0],t+8),r.set(e.subarray(t+8,e.length),t+12),(0,K.J6)(r)}(u,s[1]-s[0]),f=ee(l,c,d,i,(0,G.nR)(a,2721664850,1520127764,2722393154,2086964724)),h=S("moof",[i,f]),g=(0,G.Qy)(h,1836019558),m=(0,G.Qy)(f,1953653094),v=(0,G.Qy)(d,1953658222);if(null===g||null===m||null===v)throw new Error("Smooth: Invalid moof, trun or traf generation");var y=g[1]-g[0]+i.length+(m[1]-m[0])+l.length+c.length+(v[1]-v[0])+8,b=r[2]-r[0],k=h.length-b,E=(0,G.Qy)(e,1835295092);if(null===E)throw new Error("Smooth: Invalid ISOBMFF given");if(!q.YM&&(0===k||k<=-8)){var T=E[1];return h.set((0,p.kh)(T),y),e.set(h,r[0]),k<=-8&&e.set(_("free",new Uint8Array(-k-8)),h.length),e}var w=E[1]+k;h.set((0,p.kh)(w),y);var x=new Uint8Array(e.length+k),O=e.subarray(0,r[0]),P=e.subarray(r[2],e.length);return x.set(O,0),x.set(h,O.length),x.set(P,O.length+h.length),x}var re=r(1480),ne=r(7839),ie=r(281);function ae(e,t,r,n,i,a){var o,s,l,u=S("stbl",[r,_("stts",new Uint8Array(8)),_("stsc",new Uint8Array(8)),_("stsz",new Uint8Array(12)),_("stco",new Uint8Array(8))]),c=S("dinf",[function(e){return _("dref",(0,p.zo)(7,[1],e))}(_("url ",new Uint8Array([0,0,0,1])))]),d=S("minf",[n,c,u]),f=function(e){var t,r;switch(e){case"video":t="vide",r="VideoHandler";break;case"audio":t="soun",r="SoundHandler";break;default:t="hint",r=""}return _("hdlr",(0,p.zo)(8,(0,v.tG)(t),12,(0,v.tG)(r),1))}(t),h=S("mdia",[function(e){return _("mdhd",(0,p.zo)(12,(0,p.kh)(e),8))}(e),f,d]),g=S("trak",[function(e,t,r){return _("tkhd",(0,p.zo)((0,p.kh)(7),8,(0,p.kh)(r),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],(0,p.XT)(e),2,(0,p.XT)(t),2))}(i,a,1),h]),m=S("mvex",[(o=1,_("trex",(0,p.zo)(4,(0,p.kh)(o),[0,0,0,1],12)))]),y=function(e,t,r){return S("moov",[e,t,r])}(function(e,t){return _("mvhd",(0,p.zo)(12,(0,p.kh)(e),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,(0,p.XT)(t+1)))}(e,1),m,g),b=(s="isom",l=["isom","iso2","iso6","avc1","dash"],_("ftyp",p.zo.apply(void 0,[(0,v.tG)(s),[0,0,0,1]].concat(l.map(v.tG)))));return(0,p.zo)(b,y)}function oe(e,t,r,n,i,a,o,s){var l=o.split("00000001"),u=l[1],c=l[2];if(void 0===u||void 0===c)throw new Error("Smooth: unsupported codec private data.");var d,f=function(e,t,r){var n=2===r?1:4===r?3:0,i=e[1],a=e[2],o=e[3];return _("avcC",(0,p.zo)([1,i,a,o,252|n,225],(0,p.XT)(e.length),e,[1],(0,p.XT)(t.length),t))}((0,v.nr)(u),(0,v.nr)(c),a);if(void 0===s)d=Q([function(e,t,r,n,i,a,o){return _("avc1",(0,p.zo)(6,(0,p.XT)(1),16,(0,p.XT)(e),(0,p.XT)(t),(0,p.XT)(r),2,(0,p.XT)(n),6,[0,1,i.length],(0,v.tG)(i),31-i.length,(0,p.XT)(a),[255,255],o))}(t,r,n,i,"AVC Coding",24,f)]);else{var h=S("schi",[J(1,8,s)]),g=X("cenc",65536);d=Q([function(e,t,r,n,i,a,o,s){return _("encv",(0,p.zo)(6,(0,p.XT)(1),16,(0,p.XT)(e),(0,p.XT)(t),(0,p.XT)(r),2,(0,p.XT)(n),6,[0,1,i.length],(0,v.tG)(i),31-i.length,(0,p.XT)(a),[255,255],o,s))}(t,r,n,i,"AVC Coding",24,f,S("sinf",[Y("avc1"),g,h]))])}return ae(e,"video",d,function(){var e=new Uint8Array(12);return e[3]=1,_("vmhd",e)}(),t,r)}var se=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];function le(e,t,r,n,i,a,o){var s=function(e,t){return _("esds",(0,p.zo)(4,[3,25],(0,p.XT)(e),[0,4,17,64,21],11,[5,2],(0,v.nr)(t),[6,1,2]))}(1,0===a.length?function(e,t,r){var n;return n=((n=((n=(63&e)<<4)|31&se.indexOf(t))<<4)|31&r)<<3,(0,v.ci)((0,p.XT)(n))}(2,i,t):a);return ae(e,"audio",function(){if(void 0===o)return Q([function(e,t,r,n,i,a){return _("mp4a",(0,p.zo)(6,(0,p.XT)(e),8,(0,p.XT)(t),(0,p.XT)(r),2,(0,p.XT)(n),(0,p.XT)(i),2,a))}(1,t,r,n,i,s)]);var e=S("schi",[J(1,8,o)]),a=X("cenc",65536),l=S("sinf",[Y("mp4a"),a,e]);return Q([function(e,t,r,n,i,a,o){return _("enca",(0,p.zo)(6,(0,p.XT)(e),8,(0,p.XT)(t),(0,p.XT)(r),2,(0,p.XT)(n),(0,p.XT)(i),2,a,o))}(1,t,r,n,i,s,l)])}(),_("smhd",new Uint8Array(8)),0,0)}function ue(e){var t,r=e.url,n=e.segment.range;return Array.isArray(n)&&(t={Range:(0,ie.Z)(n)}),(0,z.ZP)({url:r,responseType:"arraybuffer",headers:t,sendProgressEvents:!0})}var ce=function(e){return function(t){var r=t.segment,i=t.representation,a=t.adaptation,o=t.period,s=t.manifest,l=t.url;if(r.isInit){if(void 0===r.privateInfos||void 0===r.privateInfos.smoothInitSegment)throw new Error("Smooth: Invalid segment format");var u,c=r.privateInfos.smoothInitSegment,d=c.codecPrivateData,f=c.timescale,p=c.protection,h=void 0===p?{keyId:void 0,keySystems:void 0}:p;if(void 0===d)throw new Error("Smooth: no codec private data.");switch(a.type){case"video":var g=i.width,m=void 0===g?0:g,v=i.height;u=oe(f,m,void 0===v?0:v,72,72,4,d,h.keyId);break;case"audio":var y=c.channels,b=void 0===y?0:y,k=c.bitsPerSample,E=void 0===k?0:k,_=c.packetSize,S=void 0===_?0:_,T=c.samplingRate;u=le(f,b,E,S,void 0===T?0:T,d,h.keyId);break;default:u=new Uint8Array(0)}return(0,n.of)({type:"data-created",value:{responseData:u}})}if(null===l)return(0,n.of)({type:"data-created",value:{responseData:null}});var w={adaptation:a,manifest:s,period:o,representation:i,segment:r,transport:"smooth",url:l};return"function"!==typeof e?ue(w):new re.y((function(t){var r=!1,n=!1,i=e(w,{reject:function(e){var i,a,o;if(void 0===e&&(e={}),!n){r=!0;var s=e,l=null!==(i=null===s||void 0===s?void 0:s.message)&&void 0!==i?i:"Unknown error when fetching a Smooth segment through a custom segmentLoader.",u=new ne.Z(l,null!==(a=null===s||void 0===s?void 0:s.canRetry)&&void 0!==a&&a,null!==(o=null===s||void 0===s?void 0:s.isOfflineError)&&void 0!==o&&o,null===s||void 0===s?void 0:s.xhr);t.error(u)}},resolve:function(e){n||(r=!0,t.next({type:"data-loaded",value:{responseData:e.data,size:e.size,duration:e.duration}}),t.complete())},fallback:function(){n=!0,ue(w).subscribe(t)},progress:function(e){n||t.next({type:"progress",value:{duration:e.duration,size:e.size,totalSize:e.totalSize}})}});return function(){r||n||"function"!==typeof i||i()}}))}},de=/(\.isml?)(\?token=\S+)?$/,fe=/\?token=(\S+)/;function pe(e,t){return(0,h.Z)(t)?e.replace(fe,"?token="+t):e.replace(fe,"")}function he(e){return de.test(e)?((0,V.Z)("Giving a isml URL to loadVideo is deprecated. Please give the Manifest URL directly"),e.replace(de,"$1/manifest$2")):e}var ge=/\.wsx?(\?token=\S+)?/;function me(e,t,r){var n;s.Z.debug("Smooth Parser: update segments information.");for(var i=e.representations,a=0;a<i.length;a++){var o=i[a];o.index instanceof j&&void 0!==(null===(n=null===r||void 0===r?void 0:r.privateInfos)||void 0===n?void 0:n.smoothMediaSegment)?o.index.addNewSegments(t,r.privateInfos.smoothMediaSegment):s.Z.warn("Smooth Parser: should only encounter SmoothRepresentationIndex")}}function ve(e){return"string"===typeof e.mimeType&&e.mimeType.indexOf("mp4")>=0}var ye=function(e){var t=F(e),r=ce(e.segmentLoader),c={customManifestLoader:e.manifestLoader},d={loader:function(t){return t.segment.isInit||!0!==e.checkMediaSegmentIntegrity?r(t):r(t).pipe((0,a.b)((function(e){"data-loaded"!==e.type&&"data-chunk"!==e.type||null===e.value.responseData||(0,W.Z)(new Uint8Array(e.value.responseData),t.segment.isInit)})))},parser:function(e){var t,r,i=e.content,a=e.response,o=e.initTimescale,s=i.segment,l=i.adaptation,u=i.manifest,c=a.data,d=a.isChunked;if(null===c)return s.isInit?(0,n.of)({type:"parsed-init-segment",value:{initializationData:null,protectionDataUpdate:!1,initTimescale:void 0}}):(0,n.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:0,appendWindow:[void 0,void 0],protectionDataUpdate:!1}});var f=c instanceof Uint8Array?c:new Uint8Array(c);if(s.isInit){var p=null===(r=null===(t=s.privateInfos)||void 0===t?void 0:t.smoothInitSegment)||void 0===r?void 0:r.timescale;return(0,n.of)({type:"parsed-init-segment",value:{initializationData:c,initTimescale:p,protectionDataUpdate:!1}})}var h=void 0!==o?Z(f,d,o,s,u.isLive):null;if(null===h||null===h.chunkInfos||void 0===h.scaledSegmentTime)throw new Error("Smooth Segment without time information");var g=h.nextSegments,m=h.chunkInfos,v=te(f,h.scaledSegmentTime);return g.length>0&&me(l,g,s),(0,n.of)({type:"parsed-segment",value:{chunkData:v,chunkInfos:m,chunkOffset:0,appendWindow:[void 0,void 0],protectionDataUpdate:!1}})}};return{manifest:{resolver:function(e){var t,r=e.url;if(void 0===r)return(0,n.of)({url:void 0});ge.test(r)?((0,V.Z)("Giving WSX URL to loadVideo is deprecated. You should only give Manifest URLs."),t=(0,z.ZP)({url:pe(r,""),responseType:"document"}).pipe((0,i.U)((function(e){var t=e.value,r=t.responseData.getElementsByTagName("media")[0].getAttribute("src");if(null===r||0===r.length)throw new Error("Invalid ISML");return r})))):t=(0,n.of)(r);var a=function(e){var t=fe.exec(e);if(null!==t){var r=t[1];if(void 0!==r)return r}return""}(r);return t.pipe((0,i.U)((function(e){return{url:pe(he(e),a)}})))},loader:(0,$.Z)(c,"text"),parser:function(r){var n=r.response,i=r.url,a=void 0===n.url?i:n.url,o="string"===typeof n.responseData?(new DOMParser).parseFromString(n.responseData,"text/xml"):n.responseData,s=n.receivedTime,u=t(o,a,s),c=new l.ZP(u,{representationFilter:e.representationFilter,supplementaryImageTracks:e.supplementaryImageTracks,supplementaryTextTracks:e.supplementaryTextTracks});return(0,H.Z)(c,a)}},audio:d,video:d,text:{loader:function(t){var r=t.segment,i=t.representation,o=t.url;if(r.isInit||null===o)return(0,n.of)({type:"data-created",value:{responseData:null}});var s=ve(i);return s&&!0===e.checkMediaSegmentIntegrity?(0,z.ZP)({url:o,responseType:"arraybuffer",sendProgressEvents:!0}).pipe((0,a.b)((function(e){"data-loaded"===e.type&&(0,W.Z)(new Uint8Array(e.value.responseData),r.isInit)}))):(0,z.ZP)({url:o,responseType:s?"arraybuffer":"text",sendProgressEvents:!0})},parser:function(e){var t,r,i=e.content,a=e.response,o=e.initTimescale,l=i.manifest,c=i.adaptation,d=i.representation,f=i.segment,p=c.language,h=ve(d),g=d.mimeType,m=void 0===g?"":g,y=d.codec,b=void 0===y?"":y,k=a.data,E=a.isChunked;if(f.isInit)return(0,n.of)({type:"parsed-init-segment",value:{initializationData:null,protectionDataUpdate:!1,initTimescale:void 0}});if(null===k)return(0,n.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:0,appendWindow:[void 0,void 0],protectionDataUpdate:!1}});var _,S,T,w,x=null;if(h){var O;O="string"===typeof k?(0,v.tG)(k):k instanceof Uint8Array?k:new Uint8Array(k);var P=void 0!==o?Z(O,E,o,f,l.isLive):null;r=null===P||void 0===P?void 0:P.nextSegments,null===(x=null!==(t=null===P||void 0===P?void 0:P.chunkInfos)&&void 0!==t?t:null)?E?s.Z.warn("Smooth: Unavailable time data for current text track."):(_=f.time,S=f.end):(_=x.time,S=void 0!==x.duration?x.time+x.duration:f.end);var C=b.toLowerCase();if("application/ttml+xml+mp4"===m||"stpp"===C||"stpp.ttml.im1t"===C)w="ttml";else{if("wvtt"!==C)throw new Error("could not find a text-track parser for the type "+m);w="vtt"}var A=(0,u.Le)(O);T=null===A?"":(0,v.uR)(A)}else{var M;if(_=f.time,S=f.end,"string"!==typeof k){var I=k instanceof Uint8Array?k:new Uint8Array(k);M=(0,v.uR)(I)}else M=k;switch(m){case"application/x-sami":case"application/smil":w="sami";break;case"application/ttml+xml":w="ttml";break;case"text/vtt":w="vtt"}if(void 0===w){if("srt"!==b.toLowerCase())throw new Error("could not find a text-track parser for the type "+m);w="srt"}T=M}null!==x&&Array.isArray(r)&&r.length>0&&me(c,r,f);var R=null!==_&&void 0!==_?_:0;return(0,n.of)({type:"parsed-segment",value:{chunkData:{type:w,data:T,start:_,end:S,language:p},chunkInfos:x,chunkOffset:R,appendWindow:[void 0,void 0],protectionDataUpdate:!1}})}},image:{loader:function(e){var t=e.segment,r=e.url;return t.isInit||null===r?(0,n.of)({type:"data-created",value:{responseData:null}}):(0,z.ZP)({url:r,responseType:"arraybuffer",sendProgressEvents:!0})},parser:function(e){var t=e.response,r=e.content,i=t.data,a=t.isChunked;if(r.segment.isInit)return(0,n.of)({type:"parsed-init-segment",value:{initializationData:null,protectionDataUpdate:!1,initTimescale:void 0}});if(a)throw new Error("Image data should not be downloaded in chunks");if(null===i||null===o.Z.imageParser)return(0,n.of)({type:"parsed-segment",value:{chunkData:null,chunkInfos:null,chunkOffset:0,appendWindow:[void 0,void 0],protectionDataUpdate:!1}});var s=o.Z.imageParser(new Uint8Array(i)),l=s.thumbs;return(0,n.of)({type:"parsed-segment",value:{chunkData:{data:l,start:0,end:Number.MAX_VALUE,timescale:1,type:"bif"},chunkInfos:{time:0,duration:Number.MAX_VALUE,timescale:s.timescale},chunkOffset:0,protectionDataUpdate:!1,appendWindow:[void 0,void 0]}})}}}}},281:function(e,t,r){"use strict";function n(e){var t=e[0],r=e[1];return r===1/0?"bytes="+t+"-":"bytes="+t+"-"+r}r.d(t,{Z:function(){return n}})},4460:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5389),i=r(8766);function a(e,t){if(t){if((0,i.Z)(e,1718909296)<0)throw new n.Z("INTEGRITY_ERROR","Incomplete `ftyp` box");if((0,i.Z)(e,1836019574)<0)throw new n.Z("INTEGRITY_ERROR","Incomplete `moov` box")}else{if((0,i.Z)(e,1836019558)<0)throw new n.Z("INTEGRITY_ERROR","Incomplete `moof` box");if((0,i.Z)(e,1835295092)<0)throw new n.Z("INTEGRITY_ERROR","Incomplete `mdat` box")}}},8766:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(6968);function i(e,t){for(var r=e.length,i=0;i+8<=r;){var a=(0,n.pX)(e,i);if(0===a)a=r-i;else if(1===a){if(i+16>r)return-1;a=(0,n.pV)(e,i+8)}if(isNaN(a)||a<=0)return-1;if((0,n.pX)(e,i+4)===t)return i+a<=r?i:-1;i+=a}return-1}},8791:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(1946),i=r(4597),a=r(1480),o=r(7839);function s(e,t){var r=e.customManifestLoader,s=function(e){return function(t){var r=t.url;if(void 0===r)throw new Error("Cannot perform HTTP(s) request. URL not known");return(0,i.ZP)({url:r,responseType:e})}}(t);return(0,n.Z)(r)?s:function(e,t){return function(r){return new a.y((function(n){var i=r.url,a=Date.now()-performance.now(),s=!1,l=!1,u=e(i,{reject:function(e){var t,r,i;if(!l){s=!0;var a=e,u=null!==(t=null===a||void 0===a?void 0:a.message)&&void 0!==t?t:"Unknown error when fetching the Manifest through a custom manifestLoader.",c=new o.Z(u,null!==(r=null===a||void 0===a?void 0:a.canRetry)&&void 0!==r&&r,null!==(i=null===a||void 0===a?void 0:a.isOfflineError)&&void 0!==i&&i,null===a||void 0===a?void 0:a.xhr);n.error(c)}},resolve:function(e){if(!l){s=!0;var t=void 0!==e.receivingTime?e.receivingTime-a:void 0,r=void 0!==e.sendingTime?e.sendingTime-a:void 0;n.next({type:"data-loaded",value:{responseData:e.data,size:e.size,duration:e.duration,url:e.url,receivedTime:t,sendingTime:r}}),n.complete()}},fallback:function(){l=!0,t(r).subscribe(n)}});return function(){s||l||"function"!==typeof u||u()}}))}}(r,s)}},7445:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2817),i=r(6362);function a(e,t){var r=n.of.apply(void 0,e.parsingErrors.map((function(e){return{type:"warning",value:e}})));return(0,i.z)(r,(0,n.of)({type:"parsed",value:{manifest:e,url:t}}))}},4791:function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return!1;return!0}r.d(t,{Z:function(){return n}})},3274:function(e,t,r){"use strict";function n(e,t,r){if("function"===typeof Array.prototype.find)return e.find(t,r);for(var n=e.length>>>0,i=0;i<n;i++){var a=e[i];if(t.call(r,a,i,e))return a}}r.d(t,{Z:function(){return n}})},5138:function(e,t,r){"use strict";function n(e,t,r){if("function"===typeof Array.prototype.findIndex)return e.findIndex(t,r);for(var n=e.length>>>0,i=0;i<n;i++)if(t.call(r,e[i],i,e))return i;return-1}r.d(t,{Z:function(){return n}})},7714:function(e,t,r){"use strict";function n(e,t,r){if("function"===typeof Array.prototype.includes)return e.includes(t,r);var n=e.length>>>0;if(0===n)return!1;for(var i,a,o=0|r,s=o>=0?Math.min(o,n-1):Math.max(n+o,0);s<n;){if((i=e[s])===(a=t)||"number"===typeof i&&"number"===typeof a&&isNaN(i)&&isNaN(a))return!0;s++}return!1}r.d(t,{Z:function(){return n}})},811:function(e,t,r){"use strict";r.d(t,{Z:function(){return a},u:function(){return o}});var n=r(3801),i=r(1946);function a(e,t){if(!e)throw new n.Z(void 0===t?"invalid assertion":t)}function o(e,t,r){for(var n in void 0===r&&(r="object"),a(!(0,i.Z)(e),r+" should be an object"),t)t.hasOwnProperty(n)&&a(typeof e[n]===t[n],r+" should have property "+n+" as a "+t[n])}},8418:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(3801);function i(e){throw new n.Z("Unreachable path taken")}},9689:function(e,t,r){"use strict";r.d(t,{J:function(){return s},K:function(){return l}});var n=r(3887),i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],a=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function o(e){if(e>=a.length)throw new Error("Unable to parse base64 string.");var t=a[e];if(255===t)throw new Error("Unable to parse base64 string.");return t}function s(e){var t,r="",n=e.length;for(t=2;t<n;t+=3)r+=i[e[t-2]>>2],r+=i[(3&e[t-2])<<4|e[t-1]>>4],r+=i[(15&e[t-1])<<2|e[t]>>6],r+=i[63&e[t]];return t===n+1&&(r+=i[e[t-2]>>2],r+=i[(3&e[t-2])<<4],r+="=="),t===n&&(r+=i[e[t-2]>>2],r+=i[(3&e[t-2])<<4|e[t-1]>>4],r+=i[(15&e[t-1])<<2],r+="="),r}function l(e){var t=e.length%4,r=e;0!==t&&(n.Z.warn("base64ToBytes: base64 given miss padding"),r+=3===t?"=":2===t?"==":"===");var i=r.indexOf("=");if(-1!==i&&i<r.length-2)throw new Error("Unable to parse base64 string.");for(var a,s=r.endsWith("==")?2:r.endsWith("=")?1:0,l=r.length,u=new Uint8Array(l/4*3),c=0,d=0;c<l;c+=4,d+=3)a=o(r.charCodeAt(c))<<18|o(r.charCodeAt(c+1))<<12|o(r.charCodeAt(c+2))<<6|o(r.charCodeAt(c+3)),u[d]=a>>16,u[d+1]=a>>8&255,u[d+2]=255&a;return u.subarray(0,u.length-s)}},6968:function(e,t,r){"use strict";function n(){for(var e,t=arguments.length,r=-1,n=0;++r<t;)n+="number"===typeof(e=r<0||arguments.length<=r?void 0:arguments[r])?e:e.length;var i=new Uint8Array(n),a=0;for(r=-1;++r<t;)"number"===typeof(e=r<0||arguments.length<=r?void 0:arguments[r])?a+=e:e.length>0&&(i.set(e,a),a+=e.length);return i}function i(e,t){return(e[t+0]<<8)+(e[t+1]<<0)}function a(e,t){return 65536*e[t+0]+256*e[t+1]+e[t+2]}function o(e,t){return 16777216*e[t+0]+65536*e[t+1]+256*e[t+2]+e[t+3]}function s(e,t){return 4294967296*(16777216*e[t+0]+65536*e[t+1]+256*e[t+2]+e[t+3])+16777216*e[t+4]+65536*e[t+5]+256*e[t+6]+e[t+7]}function l(e){return new Uint8Array([e>>>8&255,255&e])}function u(e){return new Uint8Array([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}function c(e){var t=e%4294967296,r=(e-t)/4294967296;return new Uint8Array([r>>>24&255,r>>>16&255,r>>>8&255,255&r,t>>>24&255,t>>>16&255,t>>>8&255,255&t])}function d(e,t){return(e[t+0]<<0)+(e[t+1]<<8)}function f(e,t){return e[t+0]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function p(e){return new Uint8Array([255&e,e>>>8&255,e>>>16&255,e>>>24&255])}function h(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer)}r.d(t,{zo:function(){return n},zK:function(){return i},QI:function(){return a},pX:function(){return o},pV:function(){return s},qb:function(){return d},dN:function(){return f},XT:function(){return l},kh:function(){return u},el:function(){return c},O_:function(){return p},_f:function(){return h}})},8117:function(e,t,r){"use strict";var n=r(1480),i=r(1973),a=r(2817),o=r(1946);t.Z=function(e){return e instanceof n.y?e:(0,o.Z)(e)||"function"!==typeof e.subscribe&&"function"!==typeof e.then?(0,a.of)(e):(0,i.Dp)(e)}},4437:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n,i=r(5987),a=r(8337),o=1,s={};function l(e){return e in s&&(delete s[e],!0)}var u=function(e){var t=o++;return s[t]=!0,n||(n=Promise.resolve()),n.then((function(){return l(t)&&e()})),t},c=function(e){l(e)},d={setImmediate:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=d.delegate;return((null===r||void 0===r?void 0:r.setImmediate)||u).apply(void 0,(0,i.ev)([],(0,i.CR)(e)))})),clearImmediate:function(e){var t=d.delegate;return((null===t||void 0===t?void 0:t.clearImmediate)||c)(e)},delegate:void 0},f=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return(0,i.ZT)(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=d.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(d.clearImmediate(r),t._scheduled=void 0)},t}(a.o),p=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.flush=function(e){this._active=!0,this._scheduled=void 0;var t,r=this.actions,n=-1;e=e||r.shift();var i=r.length;do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this._active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(9682).v))(f),h=r(6798);function g(){return function(e){return e.pipe((t=p,void 0===r&&(r=0),(0,h.e)((function(e,n){n.add(t.schedule((function(){return e.subscribe(n)}),r))}))));var t,r}}},1959:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},R:function(){return s}});var n=r(1480),i=r(3887),a=r(1946),o=function(){function e(){this._listeners={}}var t=e.prototype;return t.addEventListener=function(e,t){var r=this._listeners[e];Array.isArray(r)?r.push(t):this._listeners[e]=[t]},t.removeEventListener=function(e,t){if((0,a.Z)(e))this._listeners={};else{var r=this._listeners[e];if(Array.isArray(r))if((0,a.Z)(t))delete this._listeners[e];else{var n=r.indexOf(t);-1!==n&&r.splice(n,1),0===r.length&&delete this._listeners[e]}}},t.trigger=function(e,t){var r=this._listeners[e];Array.isArray(r)&&r.slice().forEach((function(e){try{e(t)}catch(r){i.Z.error(r,r instanceof Error?r.stack:null)}}))},e}();function s(e,t){return new n.y((function(r){function n(e){r.next(e)}return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}}))}},2793:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(9917),i=r(9127),a=r(4975);function o(e,t){return function(r){return(0,n.P)((function(){return r.pipe((0,i.U)(e),(0,a.h)((function(e){return e!==t})))}))}}},9592:function(e,t,r){"use strict";function n(e,t){return"function"===typeof Array.prototype.flatMap?e.flatMap(t):e.reduce((function(e,r){var n=t(r);return Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e)}),[])}r.d(t,{Z:function(){return n}})},2572:function(e,t,r){"use strict";function n(e){return e*(.3*(2*Math.random()-1)+1)}r.d(t,{Z:function(){return n}})},2870:function(e,t,r){"use strict";function n(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e[r],t&=t;return t}r.d(t,{Z:function(){return n}})},908:function(e,t,r){"use strict";function n(){var e="",t=-1;return function(){return++t>=Number.MAX_SAFE_INTEGER&&(e+="0",t=0),e+String(t)}}r.d(t,{Z:function(){return n}})},6923:function(e,t,r){"use strict";function n(e){return"string"===typeof e&&e.length>0}r.d(t,{Z:function(){return n}})},1946:function(e,t,r){"use strict";function n(e){return null===e||void 0===e}r.d(t,{Z:function(){return n}})},7829:function(e,t,r){"use strict";var n=r(5553);t.ZP=n.ZP},5553:function(e,t,r){"use strict";r.d(t,{ZP:function(){return c},iH:function(){return u},Y1:function(){return l}});var n=r(6923),i=r(1946),a={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"eus",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fra",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"hye",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"kat",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mri",mk:"mkd",ml:"mal",mn:"mon",mr:"mar",ms:"msa",mt:"mlt",my:"mya",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"nld",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"sqi",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"zho",zu:"zul"},o={alb:"sqi",arm:"hye",baq:"eus",bur:"mya",chi:"zho",cze:"ces",dut:"nld",fre:"fra",geo:"kat",ger:"deu",gre:"ell",ice:"isl",mac:"mkd",mao:"mri",may:"msa",per:"fas",slo:"slk",rum:"ron",tib:"bod",wel:"cym"};function s(e){if((0,i.Z)(e)||""===e)return"";var t=function(e){var t;switch(e.length){case 2:t=a[e];break;case 3:t=o[e]}return t}((""+e).toLowerCase().split("-")[0]);return(0,n.Z)(t)?t:e}function l(e){if(!(0,i.Z)(e)){var t,r=!1;return"string"===typeof e?t=e:(t=e.language,!0===e.closedCaption&&(r=!0)),{language:t,closedCaption:r,normalized:s(t)}}return e}function u(e){if((0,i.Z)(e))return e;if("string"===typeof e)return{language:e,audioDescription:!1,normalized:s(e)};var t={language:e.language,audioDescription:!0===e.audioDescription,normalized:s(s(e.language))};return!0===e.isDub&&(t.isDub=!0),t}var c=s},8894:function(e,t,r){"use strict";function n(){}r.d(t,{Z:function(){return n}})},8026:function(e,t){"use strict";t.Z="function"===typeof Object.assign?Object.assign:function(e){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=0;r<(arguments.length<=1?0:arguments.length-1);r++){var n=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},1679:function(e,t,r){"use strict";t.Z="function"===typeof Object.values?Object.values:function(e){return Object.keys(e).map((function(t){return e[t]}))}},9589:function(e,t,r){"use strict";var n=r(8555),i=r.n(n);t.Z="function"===typeof Promise?Promise:i()},2829:function(e,t,r){"use strict";function n(e,t){return Math.abs(e-t)<1/60}function i(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function a(e,t){return e.end<=t.start}function o(e,t){for(var r=0;r<e.length;r++)if(s(e[r],t))return!0;return!1}function s(e,t){var r=e.start,n=e.end;return r<=t&&t<n}function l(e,t){return s(e,t.start)||e.start<t.end&&t.end<e.end||s(t,e.start)}function u(e,t){return n(t.start,e.end)||n(t.end,e.start)}function c(e){for(var t=[],r=0;r<e.length;r++)t.push({start:e.start(r),end:e.end(r)});return t}function d(e,t){for(var r=e.length-1;r>=0;r--){var n=e.start(r);if(t>=n){var i=e.end(r);if(t<i)return{start:n,end:i}}}return null}function f(e,t){for(var r=e.length,n=0;n<r;n++){var i=e.start(n);if(t<i)return i-t}return 1/0}function p(e,t){for(var r=null,n=[],i=0;i<e.length;i++){var a=e.start(i),o=e.end(i);t<a||t>=o?n.push({start:a,end:o}):r={start:a,end:o}}return{outerRanges:n,innerRange:r}}function h(e,t){var r=d(e,t);return null!==r?r.end-r.start:0}function g(e,t){var r=d(e,t);return null!==r?t-r.start:0}function m(e,t){var r=d(e,t);return null!==r?r.end-t:1/0}function v(e,t){if(t.start===t.end)return e;for(var r=t,n=0;n<e.length;n++){var o=e[n],s=l(r,o),c=u(r,o);if(s||c)r=i(r,o),e.splice(n--,1);else if(0===n){if(a(r,e[0]))break}else if(a(e[n-1],r)&&a(r,o))break}return e.splice(n,0,r),function(e){for(var t=1;t<e.length;t++){var r=e[t-1],n=e[t];if(u(r,n)){var a=i(r,n);e.splice(--t,2,a)}}return e}(function(e){for(var t=0;t<e.length;t++){var r=e[t];r.start===r.end&&e.splice(t--,1)}return e}(e))}function y(e,t){for(var r=[],n=0;n<t.length;n++)l(e,t[n])&&r.push(t[n]);return r}function b(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],a=y(i,t);if(a.length>0)for(var o=0;o<a.length;o++){var s=a[o];r.push({start:Math.max(i.start,s.start),end:Math.min(i.end,s.end)})}}return r}function k(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],a=[],o=y(i,t);if(o.length>0)for(var s=0;s<o.length;s++){var l=o[s];a.push({start:Math.max(i.start,l.start),end:Math.min(i.end,l.end)})}if(0===a.length)r.push(i);else{for(var u=i.start,c=0;c<a.length;c++)a[c].start>u&&r.push({start:u,end:a[c].start}),u=a[c].end;u<i.end&&r.push({start:u,end:i.end})}}return r}r.d(t,{JN:function(){return c},uH:function(){return k},F_:function(){return p},L7:function(){return m},XS:function(){return f},DD:function(){return g},rx:function(){return d},at:function(){return h},kR:function(){return v},Ti:function(){return s},A1:function(){return o},tn:function(){return b}})},4597:function(e,t,r){"use strict";r.d(t,{ZP:function(){return u}});var n=r(1480),i=r(944),a=r(9105),o=r(6923),s=r(1946),l=i.Z.DEFAULT_REQUEST_TIMEOUT,u=function(e){var t={url:e.url,headers:e.headers,responseType:(0,s.Z)(e.responseType)?"json":e.responseType,timeout:(0,s.Z)(e.timeout)?l:e.timeout};return new n.y((function(r){var n=t.url,i=t.headers,l=t.responseType,u=t.timeout,c=new XMLHttpRequest;if(c.open("GET",n,!0),u>=0&&(c.timeout=u),c.responseType=l,"document"===c.responseType&&c.overrideMimeType("text/xml"),!(0,s.Z)(i)){var d=i;for(var f in d)d.hasOwnProperty(f)&&c.setRequestHeader(f,d[f])}var p=performance.now();return c.onerror=function(){r.error(new a.Z(n,c.status,"ERROR_EVENT",c))},c.ontimeout=function(){r.error(new a.Z(n,c.status,"TIMEOUT",c))},!0===e.sendProgressEvents&&(c.onprogress=function(e){var t=performance.now();r.next({type:"progress",value:{url:n,duration:t-p,sendingTime:p,currentTime:t,size:e.loaded,totalSize:e.total}})}),c.onload=function(e){if(4===c.readyState)if(c.status>=200&&c.status<300){var t,i=performance.now(),l=c.response instanceof ArrayBuffer?c.response.byteLength:e.total,u=c.status,d=c.responseType,f=(0,o.Z)(c.responseURL)?c.responseURL:n;if(t="json"===d?"object"===typeof c.response?c.response:function(e){try{return JSON.parse(e)}catch(t){return null}}(c.responseText):c.response,(0,s.Z)(t))return void r.error(new a.Z(n,c.status,"PARSE_ERROR",c));r.next({type:"data-loaded",value:{status:u,url:f,responseType:d,sendingTime:p,receivedTime:i,duration:i-p,size:l,responseData:t}}),r.complete()}else r.error(new a.Z(n,c.status,"ERROR_HTTP_CODE",c))},c.send(),function(){(0,s.Z)(c)||4===c.readyState||c.abort()}}))}},9829:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},f:function(){return s}});var n=/^(?:[a-z]+:)?\/\//i,i=/\/\.{1,2}\//;function a(e){if(!i.test(e))return e;for(var t=[],r=e.split("/"),n=0,a=r.length;n<a;n++)if(".."===r[n])t.pop();else{if("."===r[n])continue;t.push(r[n])}return t.join("/")}function o(){var e=arguments.length;if(0===e)return"";for(var t="",r=0;r<e;r++){var i=r<0||arguments.length<=r?void 0:arguments[r];"string"===typeof i&&""!==i&&(n.test(i)?t=i:("/"===i[0]&&(i=i.substring(1)),"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t=t+"/"+i))}return a(t)}function s(e){var t=e.lastIndexOf("/");if(t<0)return e;if(n.test(e)){var r=e.indexOf("/");if(r>=0&&t===r+1)return e}var i=e.indexOf("?");return i>=0&&i<t?s(e.substring(0,i)):e.substring(0,t+1)}},5561:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(3610);function i(e,t){try{return e(t)}catch(r){return(0,n._)((function(){return r}))}}},9252:function(e,t,r){"use strict";function n(e,t,r){if("function"===typeof String.prototype.startsWith)return e.startsWith(t,r);var n="number"===typeof r?Math.max(r,0):0;return e.substring(n,n+t.length)===t}r.d(t,{Z:function(){return n}})},3635:function(e,t,r){"use strict";r.d(t,{ci:function(){return p},nr:function(){return f},tG:function(){return u},uR:function(){return d},TZ:function(){return s},wV:function(){return l},wO:function(){return h},DM:function(){return g}});var n=r(3887),i=r(811),a="object"===typeof window&&"function"===typeof window.TextDecoder,o="object"===typeof window&&"function"===typeof window.TextEncoder;function s(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint8Array(t),n=0;n<r.length;n+=2){var i=e.charCodeAt(n/2);r[n]=255&i,r[n+1]=i>>8&255}return r}function l(e){if(a)try{return new TextDecoder("utf-16le").decode(e)}catch(i){n.Z.warn("Utils: could not use TextDecoder to parse UTF-16LE, fallbacking to another implementation",i)}for(var t="",r=0;r<e.length;r+=2)t+=String.fromCharCode((e[r+1]<<8)+e[r]);return t}function u(e){if(o)try{return(new TextEncoder).encode(e)}catch(p){n.Z.warn("Utils: could not use TextEncoder to encode string into UTF-8, fallbacking to another implementation",p)}var t,r=encodeURIComponent(e);if("function"===typeof unescape)t=unescape(r);else{var i=/[0-9a-fA-F]/,a=r.length;t="";for(var s=0;s<r.length;s++){var l=!1;if("%"===r[s])if(s<=a-6&&"u"===r[s+1]&&i.test(r[s+2])&&i.test(r[s+3])&&i.test(r[s+4])&&i.test(r[s+5])){var u=parseInt(r.substring(s+1,s+6),16);t+=String.fromCharCode(u),l=!0,s+=5}else if(s<=a-3&&i.test(r[s+1])&&i.test(r[s+2])){var c=parseInt(r.substring(s+1,s+3),16);t+=String.fromCharCode(c),l=!0,s+=2}l||(t+=r[s])}}for(var d=new Uint8Array(t.length),f=0;f<t.length;f++)d[f]=255&t.charCodeAt(f);return d}function c(e,t){var r=e.toString(16);return r.length>=t?r:new Array(t-r.length+1).join("0")+r}function d(e){if(a)try{return(new TextDecoder).decode(e)}catch(u){n.Z.warn("Utils: could not use TextDecoder to parse UTF-8, fallbacking to another implementation",u)}var t=e;239===t[0]&&187===t[1]&&191===t[2]&&(t=t.subarray(3));var r,i=function(e){for(var t="",r=0;r<e.length;r+=16e3){var n=e.subarray(r,r+16e3);t+=String.fromCharCode.apply(null,n)}return t}(t);if("function"===typeof escape)r=escape(i);else{var o=/[A-Za-z0-9*_\+-\.\/]/;r="";for(var s=0;s<i.length;s++)if(o.test(i[s]))r+=i[s];else{var l=i.charCodeAt(s);r+=l>=256?"%u"+c(l,4):"%"+c(l,2)}}return decodeURIComponent(r)}function f(e){for(var t=e.length,r=new Uint8Array(t/2),n=0,i=0;n<t;n+=2,i++)r[i]=255&parseInt(e.substring(n,n+2),16);return r}function p(e,t){void 0===t&&(t="");for(var r="",n=0;n<e.byteLength;n++)r+=(e[n]>>>4).toString(16),r+=(15&e[n]).toString(16),t.length>0&&n<e.byteLength-1&&(r+=t);return r}function h(e){(0,i.Z)(16===e.length,"GUID length should be 16");var t=e[0],r=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=new Uint8Array(16);return c[0]=a,c[1]=n,c[2]=r,c[3]=t,c[4]=s,c[5]=o,c[6]=u,c[7]=l,c.set(e.subarray(8,16),8),c}function g(e,t){for(var r=t;r<e.length&&0!==e[r];)r+=1;return{end:r+1,string:d(e.subarray(t,r))}}},5278:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(1946);function i(){for(var e=0,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=r.length;e<a;){var o=r[e];if(!(0,n.Z)(o))return o;e++}}},8806:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7714),i=[];function a(e){(0,n.Z)(i,e)||(console.warn(e),i.push(e))}},7473:function(e){"use strict";var n=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e},i=function(e){var t,r,i=document.createTextNode(""),a=0;return new e((function(){var e;if(t)r&&(t=r.concat(t));else{if(!r)return;t=r}if(r=t,t=null,"function"===typeof r)return e=r,r=null,void e();for(i.data=a=++a%2;r;)e=r.shift(),r.length||(r=null),e()})).observe(i,{characterData:!0}),function(e){n(e),t?"function"===typeof t?t=[t,e]:t.push(e):(t=e,i.data=a=++a%2)}};e.exports=function(){if("object"===typeof t&&t&&"function"===typeof t.nextTick)return t.nextTick;if("function"===typeof queueMicrotask)return function(e){queueMicrotask(n(e))};if("object"===typeof document&&document){if("function"===typeof MutationObserver)return i(MutationObserver);if("function"===typeof WebKitMutationObserver)return i(WebKitMutationObserver)}return"function"===typeof r?function(e){r(n(e))}:"function"===typeof setTimeout||"object"===typeof setTimeout?function(e){setTimeout(n(e),0)}:null}()},8555:function(e,t,n){"use strict";var i,a=function(){},o="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,s="undefined"===typeof r?setTimeout:r,l=[];function u(){for(var e=0;e<l.length;e++)l[e][0](l[e][1]);l=[],i=!1}function c(e,t){l.push([e,t]),i||(i=!0,s(u,0))}function d(e){var t=e.owner,r=t._state,n=t._data,i=e[r],a=e.then;if("function"===typeof i){r="fulfilled";try{n=i(n)}catch(o){g(a,o)}}f(a,n)||("fulfilled"===r&&p(a,n),"rejected"===r&&g(a,n))}function f(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===typeof t)){var n=t.then;if("function"===typeof n)return n.call(t,(function(n){r||(r=!0,t===n?h(e,n):p(e,n))}),(function(t){r||(r=!0,g(e,t))})),!0}}catch(i){return r||g(e,i),!0}return!1}function p(e,t){e!==t&&f(e,t)||h(e,t)}function h(e,t){"pending"===e._state&&(e._state="settled",e._data=t,c(v,e))}function g(e,t){"pending"===e._state&&(e._state="settled",e._data=t,c(y,e))}function m(e){e._then=e._then.forEach(d)}function v(e){e._state="fulfilled",m(e)}function y(e){e._state="rejected",m(e),!e._handled&&o&&n.g.process.emit("unhandledRejection",e._data,e)}function b(e){n.g.process.emit("rejectionHandled",e)}function k(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof k===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function r(e){g(t,e)}try{e((function(e){p(t,e)}),r)}catch(n){r(n)}}(e,this)}k.prototype={constructor:k,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(a),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&o&&c(b,this)),"fulfilled"===this._state||"rejected"===this._state?c(d,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},k.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new k((function(t,r){var n=[],i=0;function a(e){return i++,function(r){n[e]=r,--i||t(n)}}for(var o,s=0;s<e.length;s++)(o=e[s])&&"function"===typeof o.then?o.then(a(s),r):n[s]=o;i||t(n)}))},k.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new k((function(t,r){for(var n,i=0;i<e.length;i++)(n=e[i])&&"function"===typeof n.then?n.then(t,r):t(n)}))},k.resolve=function(e){return e&&"object"===typeof e&&e.constructor===k?e:new k((function(t){t(e)}))},k.reject=function(e){return new k((function(t,r){r(e)}))},e.exports=k},5666:function(e){var t=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(x){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return{value:void 0,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=k(o,r);if(s){if(s===c)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=l;var c={};function d(){}function f(){}function p(){}var h={};h[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(T([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=p.prototype=d.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,s){var l=u(e[i],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,c;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return f.prototype=v.constructor=p,p.constructor=f,f.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new b(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),s(v,o,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}},1480:function(e,t,r){"use strict";r.d(t,{y:function(){return c}});var n=r(6267),i=r(5720),a=r(6766),o=r(278);function s(e){return 0===e.length?o.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var l=r(3912),u=r(8474),c=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var a,o=(a=e)&&a instanceof n.Lv||function(e){return e&&(0,u.m)(e.next)&&(0,u.m)(e.error)&&(0,u.m)(e.complete)}(a)&&(0,i.Nn)(a)?e:new n.Hp(e,t,r);if(l.v.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(o);else{var s=this.operator,c=this.source;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}return o},e.prototype._deprecatedSyncErrorSubscribe=function(e){var t=e;t._syncErrorHack_isSubscribing=!0;var r=this.operator;if(r)e.add(r.call(e,this.source));else try{e.add(this._subscribe(e))}catch(i){t.__syncError=i}for(var n=t;n;){if("__syncError"in n)try{throw n.__syncError}finally{e.unsubscribe()}n=n.destination}t._syncErrorHack_isSubscribing=!1},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=d(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(r){n(r),null===i||void 0===i||i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[a.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?s(e)(this):this},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!==e&&void 0!==e?e:l.v.Promise)&&void 0!==t?t:Promise}},3:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(5987),i=r(6716),a=r(4318),o=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=a.l);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return(0,n.ZT)(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,a=r._infiniteTimeWindow,o=r._timestampProvider,s=r._windowTime;n||(i.push(t),!a&&i.push(o.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,n=this._infiniteTimeWindow,i=(n?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!n){for(var a=t.now(),o=0,s=1;s<r.length&&r[s]<=a;s+=2)o=s;o&&r.splice(0,o+1)}},t}(i.x)},6716:function(e,t,r){"use strict";r.d(t,{x:function(){return l}});var n=r(5987),i=r(1480),a=r(5720),o=(0,r(1819).d)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),s=r(3699),l=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,n.ZT)(t,e),t.prototype.lift=function(e){var t=new u(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new o},t.prototype.next=function(e){var t,r;if(this._throwIfClosed(),!this.isStopped){var i=this.observers.slice();try{for(var a=(0,n.XA)(i),o=a.next();!o.done;o=a.next())o.value.next(e)}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}},t.prototype.error=function(e){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;for(var t=this.observers;t.length;)t.shift().error(e)}},t.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var e=this.observers;e.length;)e.shift().complete()}},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this.hasError,r=this.isStopped,n=this.observers;return t||r?a.Lc:(n.push(e),new a.w0((function(){return(0,s.P)(n,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new u(e,t)},t}(i.y),u=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return(0,n.ZT)(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:a.Lc},t}(l)},6267:function(e,t,r){"use strict";r.d(t,{Hp:function(){return p},Lv:function(){return f}});var n=r(5987),i=r(8474),a=r(5720),o=r(3912),s=r(5),l=r(2967),u=c("C",void 0,void 0);function c(e,t,r){return{kind:e,value:t,error:r}}var d=r(8380),f=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,(0,a.Nn)(t)&&t.add(r)):r.destination=v,r}return(0,n.ZT)(t,e),t.create=function(e,t,r){return new p(e,t,r)},t.prototype.next=function(e){this.isStopped?m(function(e){return c("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?m(c("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?m(u,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(a.w0),p=function(e){function t(t,r,n){var a,s=e.call(this)||this;if((0,i.m)(t))a=t;else if(t){var u;a=t.next,r=t.error,n=t.complete,s&&o.v.useDeprecatedNextContext?(u=Object.create(t)).unsubscribe=function(){return s.unsubscribe()}:u=t,a=null===a||void 0===a?void 0:a.bind(u),r=null===r||void 0===r?void 0:r.bind(u),n=null===n||void 0===n?void 0:n.bind(u)}return s.destination={next:a?h(a,s):l.Z,error:h(null!==r&&void 0!==r?r:g,s),complete:n?h(n,s):l.Z},s}return(0,n.ZT)(t,e),t}(f);function h(e,t){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{e.apply(void 0,(0,n.ev)([],(0,n.CR)(r)))}catch(a){if(o.v.useDeprecatedSynchronousErrorHandling){if(!t._syncErrorHack_isSubscribing)throw a;t.__syncError=a}else(0,s.h)(a)}}}function g(e){throw e}function m(e,t){var r=o.v.onStoppedNotification;r&&d.z.setTimeout((function(){return r(e,t)}))}var v={closed:!0,next:l.Z,error:g,complete:l.Z}},5720:function(e,t,r){"use strict";r.d(t,{Lc:function(){return l},w0:function(){return s},Nn:function(){return u}});var n=r(5987),i=r(8474),a=(0,r(1819).d)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),o=r(3699),s=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,r,o,s;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var u=(0,n.XA)(l),d=u.next();!d.done;d=u.next())d.value.remove(this)}catch(v){e={error:v}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else l.remove(this);var f=this.initialTeardown;if((0,i.m)(f))try{f()}catch(y){s=y instanceof a?y.errors:[y]}var p=this._teardowns;if(p){this._teardowns=null;try{for(var h=(0,n.XA)(p),g=h.next();!g.done;g=h.next()){var m=g.value;try{c(m)}catch(b){s=null!==s&&void 0!==s?s:[],b instanceof a?s=(0,n.ev)((0,n.ev)([],(0,n.CR)(s)),(0,n.CR)(b.errors)):s.push(b)}}}catch(k){r={error:k}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}}if(s)throw new a(s)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,o.P)(t,e)},e.prototype.remove=function(t){var r=this._teardowns;r&&(0,o.P)(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),l=s.EMPTY;function u(e){return e instanceof s||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function c(e){(0,i.m)(e)?e():e.unsubscribe()}},3912:function(e,t,r){"use strict";r.d(t,{v:function(){return n}});var n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2334:function(e,t,r){"use strict";r.d(t,{a:function(){return g}});var n=r(1480),i=Array.isArray,a=Object.getPrototypeOf,o=Object.prototype,s=Object.keys;function l(e){if(1===e.length){var t=e[0];if(i(t))return{args:t,keys:null};if((n=t)&&"object"===typeof n&&a(n)===o){var r=s(t);return{args:r.map((function(e){return t[e]})),keys:r}}}var n;return{args:e,keys:null}}var u=r(1973),c=r(278),d=r(3211),f=r(2457);function p(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}var h=r(2566);function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,f.yG)(e),i=(0,f.jO)(e),a=l(e),o=a.args,s=a.keys;if(0===o.length)return(0,u.Dp)([],r);var h=new n.y(m(o,r,s?function(e){return p(s,e)}:c.y));return i?h.pipe((0,d.Z)(i)):h}function m(e,t,r){return void 0===r&&(r=c.y),function(n){v(t,(function(){for(var i=e.length,a=new Array(i),o=i,s=i,l=function(i){v(t,(function(){var l=(0,u.Dp)(e[i],t),c=!1;l.subscribe(new h.Q(n,(function(e){a[i]=e,c||(c=!0,s--),s||n.next(r(a.slice()))}),(function(){--o||n.complete()})))}),n)},c=0;c<i;c++)l(c)}),n)}}function v(e,t,r){e?r.add(e.schedule(t)):t()}},6362:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var n=r(9834),i=r(2677),a=r(2457);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.u)()((0,i.h)(e,(0,a.yG)(e)))}},9917:function(e,t,r){"use strict";r.d(t,{P:function(){return a}});var n=r(1480),i=r(1973);function a(e){return new n.y((function(t){(0,i.Xf)(e()).subscribe(t)}))}},1545:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});var n=new(r(1480).y)((function(e){return e.complete()}))},1973:function(e,t,r){"use strict";r.d(t,{Dp:function(){return _},OO:function(){return T},Xf:function(){return S}});var n=r(5987),i=r(5685),a=r(8474);function o(e){return(0,a.m)(null===e||void 0===e?void 0:e.then)}var s=r(6766),l=r(1480),u=r(5720),c=r(3217),d="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",f=r(7853);function p(e,t){if(!e)throw new Error("Iterable cannot be null");return new l.y((function(r){var n=new u.w0;return n.add(t.schedule((function(){var i=e[Symbol.asyncIterator]();n.add(t.schedule((function(){var e=this;i.next().then((function(t){t.done?r.complete():(r.next(t.value),e.schedule())}))})))}))),n}))}function h(e){return(0,a.m)(e[s.L])}function g(e){return(0,a.m)(null===e||void 0===e?void 0:e[d])}function m(e){return Symbol.asyncIterator&&(0,a.m)(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function v(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function y(e){return(0,n.FC)(this,arguments,(function(){var t,r,i;return(0,n.Jh)(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,(0,n.qq)(t.read())];case 3:return r=a.sent(),i=r.value,r.done?[4,(0,n.qq)(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,(0,n.qq)(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function b(e){return(0,a.m)(null===e||void 0===e?void 0:e.getReader)}function k(e,t){if(null!=e){if(h(e))return function(e,t){return new l.y((function(r){var n=new u.w0;return n.add(t.schedule((function(){var i=e[s.L]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}(e,t);if((0,i.z)(e))return(0,c.r)(e,t);if(o(e))return function(e,t){return new l.y((function(r){return t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){r.next(e),r.add(t.schedule((function(){return r.complete()})))})))}),(function(e){r.add(t.schedule((function(){return r.error(e)})))}))}))}))}(e,t);if(m(e))return p(e,t);if(g(e))return function(e,t){return new l.y((function(r){var n;return r.add(t.schedule((function(){n=e[d](),(0,f.A)(r,t,(function(){var e=n.next(),t=e.value;e.done?r.complete():(r.next(t),this.schedule())}))}))),function(){return(0,a.m)(null===n||void 0===n?void 0:n.return)&&n.return()}}))}(e,t);if(b(e))return function(e,t){return p(y(e),t)}(e,t)}throw v(e)}var E=r(5);function _(e,t){return t?k(e,t):S(e)}function S(e){if(e instanceof l.y)return e;if(null!=e){if(h(e))return u=e,new l.y((function(e){var t=u[s.L]();if((0,a.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,i.z)(e))return T(e);if(o(e))return r=e,new l.y((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,E.h)}));if(m(e))return w(e);if(g(e))return t=e,new l.y((function(e){var r,i;try{for(var a=(0,n.XA)(t),o=a.next();!o.done;o=a.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(l){r={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}e.complete()}));if(b(e))return w(y(e))}var t,r,u;throw v(e)}function T(e){return new l.y((function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()}))}function w(e){return new l.y((function(t){(function(e,t){var r,i,a,o;return(0,n.mG)(this,void 0,void 0,(function(){var s,l;return(0,n.Jh)(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=(0,n.KL)(e),u.label=1;case 1:return[4,r.next()];case 2:if((i=u.sent()).done)return[3,4];if(s=i.value,t.next(s),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=u.sent(),a={error:l},[3,11];case 6:return u.trys.push([6,,9,10]),i&&!i.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},2677:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(3217),i=r(1973);function a(e,t){return t?(0,n.r)(e,t):(0,i.OO)(e)}},2401:function(e,t,r){"use strict";r.d(t,{R:function(){return p}});var n=r(5987),i=r(1480),a=r(3994),o=r(5685),s=r(8474),l=r(3211),u=r(2677),c=["addListener","removeListener"],d=["addEventListener","removeEventListener"],f=["on","off"];function p(e,t,r,g){if((0,s.m)(r)&&(g=r,r=void 0),g)return p(e,t,r).pipe((0,l.Z)(g));var m=(0,n.CR)(function(e){return(0,s.m)(e.addEventListener)&&(0,s.m)(e.removeEventListener)}(e)?d.map((function(n){return function(i){return e[n](t,i,r)}})):function(e){return(0,s.m)(e.addListener)&&(0,s.m)(e.removeListener)}(e)?c.map(h(e,t)):function(e){return(0,s.m)(e.on)&&(0,s.m)(e.off)}(e)?f.map(h(e,t)):[],2),v=m[0],y=m[1];if(!v&&(0,o.z)(e))return(0,a.z)((function(e){return p(e,t,r)}))((0,u.h)(e));if(!v)throw new TypeError("Invalid event target");return new i.y((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return v(t),function(){return y(t)}}))}function h(e,t){return function(r){return function(n){return e[r](t,n)}}}},6697:function(e,t,r){"use strict";r.d(t,{F:function(){return a}});var n=r(7991),i=r(6625);function a(e,t){return void 0===e&&(e=0),void 0===t&&(t=n.z),e<0&&(e=0),(0,i.H)(e,e,t)}},3071:function(e,t,r){"use strict";r.d(t,{T:function(){return l}});var n=r(4367),i=r(2677),a=r(1973),o=r(1545),s=r(2457);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,s.yG)(e),l=(0,s._6)(e,1/0),u=e;return u.length?1===u.length?(0,a.Xf)(u[0]):(0,n.J)(l)((0,i.h)(u,r)):o.E}},2817:function(e,t,r){"use strict";r.d(t,{of:function(){return o}});var n=r(2677),i=r(3217),a=r(2457);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.yG)(e);return r?(0,i.r)(e,r):(0,n.h)(e)}},4181:function(e,t,r){"use strict";r.d(t,{S:function(){return l}});var n=r(1480),i=r(1973),a=Array.isArray;function o(e){return 1===e.length&&a(e[0])?e[0]:e}var s=r(2566);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=o(e)).length?(0,i.Xf)(e[0]):new n.y(u(e))}function u(e){return function(t){for(var r=[],n=function(n){r.push((0,i.Xf)(e[n]).subscribe(new s.Q(t,(function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)}))))},a=0;r&&!t.closed&&a<e.length;a++)n(a)}}},3610:function(e,t,r){"use strict";r.d(t,{_:function(){return a}});var n=r(1480),i=r(8474);function a(e,t){var r=(0,i.m)(e)?e:function(){return e},a=function(e){return e.error(r())};return new n.y(t?function(e){return t.schedule(a,0,e)}:a)}},6625:function(e,t,r){"use strict";r.d(t,{H:function(){return s}});var n=r(1480),i=r(7991),a=r(4865),o=r(1454);function s(e,t,r){void 0===e&&(e=0),void 0===r&&(r=i.P);var s=-1;return null!=t&&((0,a.K)(t)?r=t:s=t),new n.y((function(t){var n=(0,o.q)(e)?+e-r.now():e;n<0&&(n=0);var i=0;return r.schedule((function(){t.closed||(t.next(i++),0<=s?this.schedule(void 0,s):t.complete())}),n)}))}},2566:function(e,t,r){"use strict";r.d(t,{Q:function(){return i}});var n=r(5987),i=function(e){function t(t,r,n,i,a){var o=e.call(this,t)||this;return o.onFinalize=a,o._next=r?function(e){try{r(e)}catch(n){t.error(n)}}:e.prototype._next,o._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return(0,n.ZT)(t,e),t.prototype.unsubscribe=function(){var t,r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(r(6267).Lv)},9878:function(e,t,r){"use strict";r.d(t,{K:function(){return o}});var n=r(1973),i=r(2566),a=r(6798);function o(e){return(0,a.e)((function(t,r){var a,s=null,l=!1;s=t.subscribe(new i.Q(r,void 0,void 0,(function(i){a=(0,n.Xf)(e(i,o(e)(t))),s?(s.unsubscribe(),s=null,a.subscribe(r)):l=!0}))),l&&(s.unsubscribe(),s=null,a.subscribe(r))}))}},9834:function(e,t,r){"use strict";r.d(t,{u:function(){return i}});var n=r(4367);function i(){return(0,n.J)(1)}},3741:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(278),i=r(6798),a=r(2566);function o(e,t){return void 0===t&&(t=n.y),e=null!==e&&void 0!==e?e:s,(0,i.e)((function(r,n){var i,o=!0;r.subscribe(new a.Q(n,(function(r){var a=t(r);!o&&e(i,a)||(o=!1,i=a,n.next(r))})))}))}function s(e,t){return e===t}},4975:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(6798),i=r(2566);function a(e,t){return(0,n.e)((function(r,n){var a=0;r.subscribe(new i.Q(n,(function(r){return e.call(t,r,a++)&&n.next(r)})))}))}},533:function(e,t,r){"use strict";r.d(t,{l:function(){return o}});var n=r(6798),i=r(2566),a=r(2967);function o(){return(0,n.e)((function(e,t){e.subscribe(new i.Q(t,a.Z))}))}},9127:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(6798),i=r(2566);function a(e,t){return(0,n.e)((function(r,n){var a=0;r.subscribe(new i.Q(n,(function(r){n.next(e.call(t,r,a++))})))}))}},3833:function(e,t,r){"use strict";r.d(t,{h:function(){return i}});var n=r(9127);function i(e){return(0,n.U)((function(){return e}))}},4367:function(e,t,r){"use strict";r.d(t,{J:function(){return a}});var n=r(3994),i=r(278);function a(e){return void 0===e&&(e=1/0),(0,n.z)(i.y,e)}},9007:function(e,t,r){"use strict";r.d(t,{p:function(){return a}});var n=r(1973),i=r(2566);function a(e,t,r,a,o,s,l,u){var c=[],d=0,f=0,p=!1,h=function(){!p||c.length||d||t.complete()},g=function(e){return d<a?m(e):c.push(e)},m=function e(u){s&&t.next(u),d++;var p=!1;(0,n.Xf)(r(u,f++)).subscribe(new i.Q(t,(function(e){null===o||void 0===o||o(e),s?g(e):t.next(e)}),(function(){p=!0}),void 0,(function(){if(p)try{d--;for(var r=function(){var r=c.shift();l?t.add(l.schedule((function(){return e(r)}))):e(r)};c.length&&d<a;)r();h()}catch(n){t.error(n)}})))};return e.subscribe(new i.Q(t,g,(function(){p=!0,h()}))),function(){null===u||void 0===u||u()}}},3994:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(9127),i=r(1973),a=r(6798),o=r(9007),s=r(8474);function l(e,t,r){return void 0===r&&(r=1/0),(0,s.m)(t)?l((function(r,a){return(0,n.U)((function(e,n){return t(r,e,a,n)}))((0,i.Xf)(e(r,a)))}),r):("number"===typeof t&&(r=t),(0,a.e)((function(t,n){return(0,o.p)(t,n,e,r)})))}},8902:function(e,t,r){"use strict";r.d(t,{j:function(){return a}});var n=r(3994),i=r(8474);function a(e,t,r){return void 0===r&&(r=1/0),(0,i.m)(t)?(0,n.z)((function(){return e}),t,r):("number"===typeof t&&(r=t),(0,n.z)((function(){return e}),r))}},3074:function(e,t,r){"use strict";r.d(t,{R:function(){return o}});var n=r(6798),i=r(2566);function a(e,t,r,n,a){return function(o,s){var l=r,u=t,c=0;o.subscribe(new i.Q(s,(function(t){var r=c++;u=l?e(u,t,r):(l=!0,t),n&&s.next(u)}),a&&function(){l&&s.next(u),s.complete()}))}}function o(e,t){return(0,n.e)(a(e,t,arguments.length>=2,!0))}},5583:function(e,t,r){"use strict";r.d(t,{B:function(){return u}});var n=r(5987),i=r(1973),a=r(4727),o=r(6716),s=r(6267),l=r(6798);function u(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new o.x}:t,n=e.resetOnError,a=void 0===n||n,u=e.resetOnComplete,d=void 0===u||u,f=e.resetOnRefCountZero,p=void 0===f||f;return function(e){var t=null,n=null,o=null,u=0,f=!1,h=!1,g=function(){null===n||void 0===n||n.unsubscribe(),n=null},m=function(){g(),t=o=null,f=h=!1},v=function(){var e=t;m(),null===e||void 0===e||e.unsubscribe()};return(0,l.e)((function(e,l){u++,h||f||g();var y=o=null!==o&&void 0!==o?o:r();l.add((function(){0!==--u||h||f||(n=c(v,p))})),y.subscribe(l),t||(t=new s.Hp({next:function(e){return y.next(e)},error:function(e){h=!0,g(),n=c(m,a,e),y.error(e)},complete:function(){f=!0,g(),n=c(m,d),y.complete()}}),(0,i.Dp)(e).subscribe(t))}))(e)}}function c(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return!0===t?(e(),null):!1===t?null:t.apply(void 0,(0,n.ev)([],(0,n.CR)(r))).pipe((0,a.q)(1)).subscribe((function(){return e()}))}},8515:function(e,t,r){"use strict";r.d(t,{d:function(){return a}});var n=r(3),i=r(5583);function a(e,t,r){var a,o,s,l=!1;return e&&"object"===typeof e?(s=null!==(a=e.bufferSize)&&void 0!==a?a:1/0,t=null!==(o=e.windowTime)&&void 0!==o?o:1/0,l=!!e.refCount,r=e.scheduler):s=null!==e&&void 0!==e?e:1/0,(0,i.B)({connector:function(){return new n.t(s,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}},8430:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var n=r(6362),i=r(2457),a=r(6798);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,i.yG)(e);return(0,a.e)((function(t,i){(r?(0,n.z)(e,t,r):(0,n.z)(e,t)).subscribe(i)}))}},4978:function(e,t,r){"use strict";r.d(t,{w:function(){return o}});var n=r(1973),i=r(6798),a=r(2566);function o(e,t){return(0,i.e)((function(r,i){var o=null,s=0,l=!1,u=function(){return l&&!o&&i.complete()};r.subscribe(new a.Q(i,(function(r){null===o||void 0===o||o.unsubscribe();var l=0,c=s++;(0,n.Xf)(e(r,c)).subscribe(o=new a.Q(i,(function(e){return i.next(t?t(r,e,c,l++):e)}),(function(){o=null,u()})))}),(function(){l=!0,u()})))}))}},8550:function(e,t,r){"use strict";r.d(t,{c:function(){return a}});var n=r(4978),i=r(8474);function a(e,t){return(0,i.m)(t)?(0,n.w)((function(){return e}),t):(0,n.w)((function(){return e}))}},4727:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(1545),i=r(6798),a=r(2566);function o(e){return e<=0?function(){return n.E}:(0,i.e)((function(t,r){var n=0;t.subscribe(new a.Q(r,(function(t){++n<=e&&(r.next(t),e<=n&&r.complete())})))}))}},3505:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(6798),i=r(2566),a=r(1973),o=r(2967);function s(e){return(0,n.e)((function(t,r){(0,a.Xf)(e).subscribe(new i.Q(r,(function(){return r.complete()}),o.Z)),!r.closed&&t.subscribe(r)}))}},2006:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var n=r(8474),i=r(6798),a=r(2566),o=r(278);function s(e,t,r){var s=(0,n.m)(e)||t||r?{next:e,error:t,complete:r}:e;return s?(0,i.e)((function(e,t){e.subscribe(new a.Q(t,(function(e){var r;null===(r=s.next)||void 0===r||r.call(s,e),t.next(e)}),(function(){var e;null===(e=s.complete)||void 0===e||e.call(s),t.complete()}),(function(e){var r;null===(r=s.error)||void 0===r||r.call(s,e),t.error(e)})))})):o.y}},3217:function(e,t,r){"use strict";r.d(t,{r:function(){return i}});var n=r(1480);function i(e,t){return new n.y((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}},8337:function(e,t,r){"use strict";r.d(t,{o:function(){return s}});var n=r(5987),i=function(e){function t(t,r){return e.call(this)||this}return(0,n.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(5720).w0),a={setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.delegate;return((null===r||void 0===r?void 0:r.setInterval)||setInterval).apply(void 0,(0,n.ev)([],(0,n.CR)(e)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=a.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},o=r(3699),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return(0,n.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),a.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;a.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.P)(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i)},9682:function(e,t,r){"use strict";r.d(t,{v:function(){return o}});var n=r(5987),i=r(4318),a=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=i.l.now,e}(),o=function(e){function t(t,r){void 0===r&&(r=a.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return(0,n.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(a)},7991:function(e,t,r){"use strict";r.d(t,{z:function(){return i},P:function(){return a}});var n=r(8337),i=new(r(9682).v)(n.o),a=i},4318:function(e,t,r){"use strict";r.d(t,{l:function(){return n}});var n={now:function(){return(n.delegate||Date).now()},delegate:void 0}},8380:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(5987),i={setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.delegate;return((null===r||void 0===r?void 0:r.setTimeout)||setTimeout).apply(void 0,(0,n.ev)([],(0,n.CR)(e)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=i.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0}},6766:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});var n="function"===typeof Symbol&&Symbol.observable||"@@observable"},2457:function(e,t,r){"use strict";r.d(t,{jO:function(){return o},yG:function(){return s},_6:function(){return l}});var n=r(8474),i=r(4865);function a(e){return e[e.length-1]}function o(e){return(0,n.m)(a(e))?e.pop():void 0}function s(e){return(0,i.K)(a(e))?e.pop():void 0}function l(e,t){return"number"===typeof a(e)?e.pop():t}},3699:function(e,t,r){"use strict";function n(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}r.d(t,{P:function(){return n}})},7853:function(e,t,r){"use strict";function n(e,t,r,n){void 0===n&&(n=0);var i=t.schedule((function(){try{r.call(this)}catch(t){e.error(t)}}),n);return e.add(i),i}r.d(t,{A:function(){return n}})},1819:function(e,t,r){"use strict";function n(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}r.d(t,{d:function(){return n}})},278:function(e,t,r){"use strict";function n(e){return e}r.d(t,{y:function(){return n}})},5685:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var n=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},1454:function(e,t,r){"use strict";function n(e){return e instanceof Date&&!isNaN(e)}r.d(t,{q:function(){return n}})},8474:function(e,t,r){"use strict";function n(e){return"function"===typeof e}r.d(t,{m:function(){return n}})},4865:function(e,t,r){"use strict";r.d(t,{K:function(){return i}});var n=r(8474);function i(e){return e&&(0,n.m)(e.schedule)}},6798:function(e,t,r){"use strict";r.d(t,{e:function(){return i}});var n=r(8474);function i(e){return function(t){if(function(e){return(0,n.m)(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(r){this.error(r)}}));throw new TypeError("Unable to lift unknown Observable type")}}},3211:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(5987),i=r(9127),a=Array.isArray;function o(e){return(0,i.U)((function(t){return function(e,t){return a(t)?e.apply(void 0,(0,n.ev)([],(0,n.CR)(t))):e(t)}(e,t)}))}},2967:function(e,t,r){"use strict";function n(){}r.d(t,{Z:function(){return n}})},5:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(3912),i=r(8380);function a(e){i.z.setTimeout((function(){var t=n.v.onUnhandledError;if(!t)throw e;t(e)}))}},5987:function(e,t,r){"use strict";r.d(t,{ZT:function(){return i},mG:function(){return a},Jh:function(){return o},XA:function(){return s},CR:function(){return l},ev:function(){return u},qq:function(){return c},FC:function(){return d},KL:function(){return f}});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function a(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(t){a(t)}}function s(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}function o(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function s(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function u(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}function c(e){return this instanceof c?(this.v=e,this):new c(e)}function d(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof c?Promise.resolve(r.value.v).then(l,u):d(a[0][2],r)}catch(n){d(a[0][3],n)}var r}function l(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function f(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=s(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}Object.create,Object.create}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,i),a.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var a={};return function(){"use strict";i.d(a,{default:function(){return _i}});var e=i(5991),t=i(1788),r=i(6716),n=i(3),o=i(5987),s=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return(0,o.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r.x),l=i(2817),u=i(1480),c=i(9917),d={connector:function(){return new r.x},resetOnDisconnect:!0};function f(e,t){void 0===t&&(t=d);var r=null,n=t.connector,i=t.resetOnDisconnect,a=void 0===i||i,o=n(),s=new u.y((function(e){return o.subscribe(e)}));return s.connect=function(){return r&&!r.closed||(r=(0,c.P)((function(){return e})).subscribe(o),a&&r.add((function(){return o=n()}))),r},s}var p=i(2334),h=i(6362),g=i(3071),m=i(1545),v=i(3505),y=i(9127),b=i(3741),k=i(3994),E=i(8515),_=i(4975),S=i(5583),T=i(8430),w=i(4727),x=i(3833),O=i(6798),P=i(2566),C=i(8550),A=i(8902),M=i(8719);function I(){if(R()){var e=document;"function"===typeof e.exitFullscreen?e.exitFullscreen():"function"===typeof e.msExitFullscreen?e.msExitFullscreen():"function"===typeof e.mozCancelFullScreen?e.mozCancelFullScreen():"function"===typeof e.webkitExitFullscreen&&e.webkitExitFullscreen()}}function R(){var e=document;return null!=e.fullscreenElement||null!=e.mozFullScreenElement||null!=e.webkitFullscreenElement||null!=e.msFullscreenElement}var D=i(3666),L=i(3887);function j(){var e,t;if(!D.vU)return!0;var r=function(){if(!D.vU)return L.Z.warn("Compat: Can't access Firefox version on no firefox browser."),null;var e=navigator.userAgent,t=/Firefox\/([0-9]+)\./.exec(e);if(null===t)return-1;var r=parseInt(t[1],10);return isNaN(r)?-1:r}();return null===r||r<67||void 0!==(null===(t=null===(e=HTMLVideoElement)||void 0===e?void 0:e.prototype)||void 0===t?void 0:t.requirePictureInPicture)}var N=i(944),U=i(3714),B=i(9822),F=i(5389);function z(e,t){var r=t.defaultCode,n=t.defaultReason;if((0,B.Z)(e))return e;var i=e instanceof Error?e.toString():n;return new F.Z(r,i)}var V=i(5992),W=i(7874),$=i(1989),H=i(4791),K=i(1959),G=i(1946),Z=i(8894),q=i(8026),X=i(9589),Y=i(2829),Q=i(8806),J=i(6139),ee=i(6033);function te(e){return(0,c.P)((function(){var t=ee.Z.getState(e);if(null===t)return(0,l.of)(null);L.Z.info("EME: Disposing of the current MediaKeys");var r=t.loadedSessionsStore;return ee.Z.clearState(e),r.closeAllSessions().pipe((0,A.j)((0,J.Y)(e,null)))}))}function re(e){var t=ee.Z.getState(e);return null==t?null:t.keySystemOptions.type}var ne=i(533);function ie(e){return(0,c.P)((function(){if(L.Z.info("EME: Clearing-up EME session."),D.fq)return L.Z.info("EME: disposing current MediaKeys."),te(e).pipe((0,ne.l)());var t=ee.Z.getState(e);return null!==t&&!0===t.keySystemOptions.closeSessionsOnStop?(L.Z.info("EME: closing all current sessions."),t.loadedSessionsStore.closeAllSessions().pipe((0,ne.l)())):(L.Z.info("EME: Nothing to clear. Returning right away. No state =",null===t),m.E)}))}var ae=i(9878);function oe(e){return(0,O.e)((function(t,r){try{t.subscribe(r)}finally{r.add(e)}}))}var se=i(5561),le=i(2793),ue=i(9105),ce=i(9362);function de(e){return e instanceof ue.Z?new ce.Z("PIPELINE_LOAD_ERROR",e):z(e,{defaultCode:"PIPELINE_LOAD_ERROR",defaultReason:"Unknown error when fetching the Manifest"})}var fe,pe=i(6625),he=i(7839),ge=i(2572);function me(e){return e instanceof ue.Z?e.type===V.br.ERROR_EVENT&&!1===navigator.onLine:e instanceof he.Z&&e.isOfflineError}function ve(e,t,r){var n=r.baseDelay,i=r.maxDelay,a=r.maxRetryRegular,o=r.maxRetryOffline,s=0,l=fe.None,u=e.slice();return 0===u.length?(L.Z.warn("Fetchers: no URL given to `tryURLsWithBackoff`."),m.E):function e(r,c){return t(r).pipe((0,y.U)((function(e){return{type:"response",value:e}})),(0,ae.K)((function(t){if(!function(e){return e instanceof ue.Z?e.type===V.br.ERROR_HTTP_CODE?e.status>=500||404===e.status||415===e.status||412===e.status:e.type===V.br.TIMEOUT||e.type===V.br.ERROR_EVENT:e instanceof he.Z?"boolean"===typeof e.canRetry?e.canRetry:void 0!==e.xhr&&(e.xhr.status>=500||404===e.xhr.status||415===e.xhr.status||412===e.xhr.status):(0,B.Z)(e)&&"INTEGRITY_ERROR"===e.code}(t)){if(u.length<=1)throw t;u.splice(c,1);var r=c>=u.length-1?0:c;return e(u[r],r).pipe((0,T.O)({type:"retry",value:t}))}var d=function(e){return me(e)?fe.Offline:fe.Regular}(t),f=d===fe.Offline?o:a;if(d!==l&&(s=0,l=d),c<u.length-1){var p=c+1;return e(u[p],p).pipe((0,T.O)({type:"retry",value:t}))}if(++s>f)throw t;var h=Math.min(n*Math.pow(2,s-1),i),g=(0,ge.Z)(h),m=u[0];return(0,pe.H)(g).pipe((0,k.z)((function(){return e(m,0)})),(0,T.O)({type:"retry",value:t}))})))}(u[0],0)}function ye(e,t){return ve([null],(function(){return e}),t)}!function(e){e[e.None=0]="None",e[e.Regular=1]="Regular",e[e.Offline=2]="Offline"}(fe||(fe={}));var be=N.Z.DEFAULT_MAX_MANIFEST_REQUEST_RETRY,ke=N.Z.DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE,Ee=N.Z.INITIAL_BACKOFF_DELAY_BASE,_e=N.Z.MAX_BACKOFF_DELAY_BASE,Se=function(){function e(e,t,r){this._manifestUrl=e,this._pipelines=t.manifest,this._backoffOptions=function(e){var t=e.maxRetryRegular,r=e.maxRetryOffline,n=e.lowLatencyMode;return{baseDelay:n?Ee.LOW_LATENCY:Ee.REGULAR,maxDelay:n?_e.LOW_LATENCY:_e.REGULAR,maxRetryRegular:void 0!==t?t:be,maxRetryOffline:void 0!==r?r:ke}}(r)}var t=e.prototype;return t.fetch=function(e){var t,r=this,n=null!==e&&void 0!==e?e:this._manifestUrl,i=null!==(t=this._pipelines.resolver)&&void 0!==t?t:l.of,a=this._pipelines.loader;return(0,se.Z)(i,{url:n}).pipe((0,ae.K)((function(e){throw de(e)})),(0,k.z)((function(e){return ye((0,se.Z)(a,e),r._backoffOptions).pipe((0,ae.K)((function(e){throw de(e)})),(0,y.U)((function(e){return"retry"===e.type?{type:"warning",value:de(e.value)}:{type:"response",parse:function(t){return r._parseLoadedManifest(e.value.value,t)}}})))})))},t.parse=function(e,t){return this._parseLoadedManifest({responseData:e,size:void 0,duration:void 0},t)},t._parseLoadedManifest=function(e,t){var n,i,a=e.sendingTime,o=e.receivedTime,s=performance.now(),l=new r.x,u=(n=this._backoffOptions,i=l,function(e){return ye((0,se.Z)(e,void 0),n).pipe((0,le.Z)((function(e){return"retry"===e.type?(i.next(de(e.value)),null):e.value}),null),(0,ae.K)((function(e){throw de(e)})))});return(0,g.T)(l.pipe((0,y.U)((function(e){return{type:"warning",value:e}}))),this._pipelines.parser({response:e,url:this._manifestUrl,externalClockOffset:t.externalClockOffset,previousManifest:t.previousManifest,scheduleRequest:u,unsafeMode:t.unsafeMode}).pipe((0,ae.K)((function(e){throw z(e,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"Unknown error when parsing the Manifest"})})),(0,y.U)((function(e){if("warning"===e.type)return{type:"warning",value:z(e.value,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"Unknown error when parsing the Manifest"})};var t=performance.now()-s;return L.Z.info("MF: Manifest parsed in "+t+"ms"),{type:"parsed",manifest:e.value.manifest,sendingTime:a,receivedTime:o,parsingTime:t}})),oe((function(){l.complete()}))))},e}(),Te=N.Z.DEFAULT_MAX_REQUESTS_RETRY_ON_ERROR,we=N.Z.DEFAULT_MAX_REQUESTS_RETRY_ON_OFFLINE,xe=N.Z.INITIAL_BACKOFF_DELAY_BASE,Oe=N.Z.MAX_BACKOFF_DELAY_BASE,Pe=i(5138),Ce=function(){function e(e){var t=e.prioritySteps;if(this._minPendingPriority=null,this._waitingQueue=[],this._pendingTasks=[],this._prioritySteps=t,this._prioritySteps.high>=this._prioritySteps.low)throw new Error("FP Error: the max high level priority should be given a lowerpriority number than the min low priority.")}var t=e.prototype;return t.create=function(e,t){var r=this,n=new u.y((function(i){var a,o=!0;return a={observable:n,priority:t,trigger:function(t){null!==a.subscription&&(a.subscription.unsubscribe(),a.subscription=null,o&&i.next({type:"interrupted"})),t&&(r._minPendingPriority=null===r._minPendingPriority?a.priority:Math.min(r._minPendingPriority,a.priority),r._pendingTasks.push(a),a.subscription=e.subscribe({next:function(e){return i.next({type:"data",value:e})},error:function(e){i.error(e),a.subscription=null,a.finished=!0,r._onTaskEnd(a)},complete:function(){i.next({type:"ended"}),o&&i.complete(),a.subscription=null,a.finished=!0,r._onTaskEnd(a)}}))},subscription:null,finished:!1},r._canBeStartedNow(a)?(a.trigger(!0),r._isRunningHighPriorityTasks()&&r._interruptCancellableTasks()):r._waitingQueue.push(a),function(){if(o=!1,null!==a.subscription&&(a.subscription.unsubscribe(),a.subscription=null),!a.finished){var e=(0,Pe.Z)(r._waitingQueue,(function(e){return e.observable===n}));if(e>=0)r._waitingQueue.splice(e,1);else{var t=(0,Pe.Z)(r._pendingTasks,(function(e){return e.observable===n}));if(t<0)return void L.Z.warn("FP: unsubscribing non-existent task");var i=r._pendingTasks.splice(t,1)[0];0===r._pendingTasks.length?(r._minPendingPriority=null,r._loopThroughWaitingQueue()):r._minPendingPriority===i.priority&&(r._minPendingPriority=Math.min.apply(Math,r._pendingTasks.map((function(e){return e.priority}))),r._loopThroughWaitingQueue())}}}}));return n},t.updatePriority=function(e,t){var r=(0,Pe.Z)(this._waitingQueue,(function(t){return t.observable===e}));if(r>=0){var n=this._waitingQueue[r];if(n.priority===t)return;if(n.priority=t,!this._canBeStartedNow(n))return;return this._startWaitingQueueTask(r),void(this._isRunningHighPriorityTasks()&&this._interruptCancellableTasks())}var i=(0,Pe.Z)(this._pendingTasks,(function(t){return t.observable===e}));if(i<0)L.Z.warn("FP: request to update the priority of a non-existent task");else{var a=this._pendingTasks[i];if(a.priority!==t){var o=a.priority;if(a.priority=t,null===this._minPendingPriority||t<this._minPendingPriority)this._minPendingPriority=t;else{if(this._minPendingPriority!==o)return;1===this._pendingTasks.length?this._minPendingPriority=t:this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map((function(e){return e.priority}))),this._loopThroughWaitingQueue()}this._isRunningHighPriorityTasks()&&this._interruptCancellableTasks()}}},t._loopThroughWaitingQueue=function(){var e=this._waitingQueue.reduce((function(e,t){return null===e||e>t.priority?t.priority:e}),null);if(!(null===e||null!==this._minPendingPriority&&this._minPendingPriority<e))for(var t=0;t<this._waitingQueue.length;t++){var r=null===this._minPendingPriority?e:Math.min(this._minPendingPriority,e);this._waitingQueue[t].priority<=r&&(this._startWaitingQueueTask(t),t--)}},t._interruptCancellableTasks=function(){for(var e=0;e<this._pendingTasks.length;e++){var t=this._pendingTasks[e];if(t.priority>=this._prioritySteps.low)return this._interruptPendingTask(t),this._interruptCancellableTasks()}},t._startWaitingQueueTask=function(e){this._waitingQueue.splice(e,1)[0].trigger(!0)},t._interruptPendingTask=function(e){var t=(0,Pe.Z)(this._pendingTasks,(function(t){return t.observable===e.observable}));t<0?L.Z.warn("FP: Interrupting a non-existent pending task. Aborting..."):(this._pendingTasks.splice(t,1),this._waitingQueue.push(e),0===this._pendingTasks.length?this._minPendingPriority=null:this._minPendingPriority===e.priority&&(this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map((function(e){return e.priority})))),e.trigger(!1))},t._onTaskEnd=function(e){var t=(0,Pe.Z)(this._pendingTasks,(function(t){return t.observable===e.observable}));t<0||(this._pendingTasks.splice(t,1),this._pendingTasks.length>0?this._minPendingPriority===e.priority&&(this._minPendingPriority=Math.min.apply(Math,this._pendingTasks.map((function(e){return e.priority})))):(this._minPendingPriority=null,this._loopThroughWaitingQueue()))},t._canBeStartedNow=function(e){return null===this._minPendingPriority||e.priority<=this._minPendingPriority},t._isRunningHighPriorityTasks=function(){return null!==this._minPendingPriority&&this._minPendingPriority<=this._prioritySteps.high},e}(),Ae=i(2006),Me=i(7714),Ie=i(8418),Re=i(908),De=function(){function e(){this._cache=new WeakMap}var t=e.prototype;return t.add=function(e,t){var r=e.representation;e.segment.isInit&&this._cache.set(r,t)},t.get=function(e){var t=e.representation;if(e.segment.isInit){var r=this._cache.get(t);if(void 0!==r)return r}return null},e}(),Le=i(8117);function je(e,t,r){return function(n){return function(n){function i(){var i;return ve(null!==(i=n.segment.mediaURLs)&&void 0!==i?i:[null],(function(t){var r=(0,q.Z)({url:t},n);return(0,h.z)((0,l.of)({type:"request",value:r}),(0,se.Z)(e,r))}),r).pipe((0,ae.K)((function(e){throw de(e)})),(0,y.U)((function(e){if("retry"===e.type)return{type:"warning",value:de(e.value)};if("request"===e.value.type)return e.value;var r=e.value;return"data-loaded"===r.type&&null!=t&&t.add(n,r.value),e.value})))}var a=null!=t?t.get(n):null;return null!=a?(0,Le.Z)(a).pipe((0,y.U)((function(e){return{type:"cache",value:e}})),(0,ae.K)(i)):i()}(n).pipe((0,k.z)((function(e){var t;switch(t="data-chunk-complete"!==e.type&&"data-loaded"!==e.type||void 0===e.value.size||void 0===e.value.duration?m.E:(0,l.of)({type:"metrics",value:{size:e.value.size,duration:e.value.duration,content:n}}),e.type){case"warning":case"request":case"progress":return(0,l.of)(e);case"cache":case"data-created":case"data-loaded":return(0,h.z)((0,l.of)({type:"data",value:e.value}),t);case"data-chunk":return(0,l.of)({type:"chunk",value:e.value});case"data-chunk-complete":return(0,h.z)((0,l.of)({type:"chunk-complete",value:null}),t);default:(0,Ie.Z)(e)}})))}}var Ne=(0,Re.Z)(),Ue=N.Z.MIN_CANCELABLE_PRIORITY,Be=N.Z.MAX_HIGH_PRIORITY_LEVEL,Fe=function(){function e(e,t){this._transport=e,this._prioritizer=new Ce({prioritySteps:{high:Be,low:Ue}}),this._backoffOptions=t}return e.prototype.createSegmentFetcher=function(e,t){var r=function(e,t){var r=t.maxRetryRegular,n=t.maxRetryOffline,i=t.lowLatencyMode;return{maxRetryRegular:"image"===e?0:null!==r&&void 0!==r?r:Te,maxRetryOffline:null!==n&&void 0!==n?n:we,baseDelay:i?xe.LOW_LATENCY:xe.REGULAR,maxDelay:i?Oe.LOW_LATENCY:Oe.REGULAR}}(e,this._backoffOptions),n=function(e,t,r,n){var i=(0,Me.Z)(["audio","video"],e)?new De:void 0,a=je(t[e].loader,i,n),o=t[e].parser;return function(e){var t=Ne(),n=!1;return a(e).pipe((0,Ae.b)((function(e){switch(e.type){case"metrics":r.next(e);break;case"request":var i=e.value.segment;if(void 0===i)return;n=!0,r.next({type:"requestBegin",value:{duration:i.duration,time:i.time,requestTimestamp:performance.now(),id:t}});break;case"progress":var a=e.value;null!=a.totalSize&&a.size<a.totalSize&&r.next({type:"progress",value:{duration:a.duration,size:a.size,totalSize:a.totalSize,timestamp:performance.now(),id:t}})}})),oe((function(){n&&r.next({type:"requestEnd",value:{id:t}})})),(0,_.h)((function(e){switch(e.type){case"warning":case"chunk":case"chunk-complete":case"data":return!0;case"progress":case"metrics":case"request":return!1;default:(0,Ie.Z)(e)}})),(0,k.z)((function(t){if("warning"===t.type)return(0,l.of)(t);if("chunk-complete"===t.type)return(0,l.of)({type:"chunk-complete"});var r="chunk"===t.type,n={type:"chunk",parse:function(n){var i={data:t.value.responseData,isChunked:r};return o({response:i,initTimescale:n,content:e}).pipe((0,ae.K)((function(e){throw z(e,{defaultCode:"PIPELINE_PARSE_ERROR",defaultReason:"Unknown parsing error"})})))}};return r?(0,l.of)(n):(0,h.z)((0,l.of)(n),(0,l.of)({type:"chunk-complete"}))})),(0,S.B)())}}(e,this._transport,t,r);return function(e,t){var r=new WeakMap;return{createRequest:function(n,i){void 0===i&&(i=0);var a=e.create(t(n),i),o=a.pipe((0,y.U)((function(e){return"data"===e.type?e.value:e})));return r.set(o,a),o},updatePriority:function(t,n){var i=r.get(t);void 0!==i?e.updatePriority(i,n):L.Z.warn("Fetchers: Cannot update the priority of a request: task not found.")}}}(this._prioritizer,n)},e}(),ze=i(9007),Ve=i(1973);function We(e,t){return t?function(r){return r.pipe(We((function(r,n){return(0,Ve.Xf)(e(r,n)).pipe((0,y.U)((function(e,i){return t(r,e,n,i)})))})))}:(0,O.e)((function(t,r){var n=0,i=null,a=!1;t.subscribe(new P.Q(r,(function(t){i||(i=new P.Q(r,void 0,(function(){i=null,a&&r.complete()})),(0,Ve.Xf)(e(t,n++)).subscribe(i))}),(function(){a=!0,!i&&r.complete()})))}))}var $e=i(4978),He=i(4437),Ke=i(5278),Ge=function(){function e(e){this._alpha=Math.exp(Math.log(.5)/e),this._lastEstimate=0,this._totalWeight=0}var t=e.prototype;return t.addSample=function(e,t){var r=Math.pow(this._alpha,e),n=t*(1-r)+r*this._lastEstimate;isNaN(n)||(this._lastEstimate=n,this._totalWeight+=e)},t.getEstimate=function(){var e=1-Math.pow(this._alpha,this._totalWeight);return this._lastEstimate/e},e}(),Ze=N.Z.ABR_MINIMUM_TOTAL_BYTES,qe=N.Z.ABR_MINIMUM_CHUNK_SIZE,Xe=N.Z.ABR_FAST_EMA,Ye=N.Z.ABR_SLOW_EMA,Qe=function(){function e(){this._fastEWMA=new Ge(Xe),this._slowEWMA=new Ge(Ye),this._bytesSampled=0}var t=e.prototype;return t.addSample=function(e,t){if(!(t<qe)){var r=8e3*t/e,n=e/1e3;this._bytesSampled+=t,this._fastEWMA.addSample(n,r),this._slowEWMA.addSample(n,r)}},t.getEstimate=function(){if(!(this._bytesSampled<Ze))return Math.min(this._fastEWMA.getEstimate(),this._slowEWMA.getEstimate())},t.reset=function(){this._fastEWMA=new Ge(Xe),this._slowEWMA=new Ge(Ye),this._bytesSampled=0},e}(),Je=i(278),et=i(2967),tt=i(2457);function rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,tt.jO)(e);return(0,O.e)((function(t,n){for(var i=e.length,a=new Array(i),s=e.map((function(){return!1})),l=!1,u=function(t){(0,Ve.Xf)(e[t]).subscribe(new P.Q(n,(function(e){a[t]=e,l||s[t]||(s[t]=!0,(l=s.every(Je.y))&&(s=null))}),et.Z))},c=0;c<i;c++)u(c);t.subscribe(new P.Q(n,(function(e){if(l){var t=(0,o.ev)([e],(0,o.CR)(a));n.next(r?r.apply(void 0,(0,o.ev)([],(0,o.CR)(t))):t)}})))}))}function nt(e){var t=e.map((function(t){return Math.log(t/e[0])})),r=t.map((function(e){return e-t[0]+1})),n=(r[r.length-1]-1)/(2*e.length+10),i=1/n;return e.map((function(t,a){return function(t){if(0===t)return 0;var a=Math.min(Math.max(1,t),e.length-1);return i*(n+(e[a]*r[a-1]-e[a-1]*r[a])/(e[a]-e[a-1]))+4}(a)}))}function it(e,t){var r=nt(t);return L.Z.debug("ABR: Steps for buffer based chooser.",r.map((function(e,r){return{bufferLevel:e,bitrate:t[r]}}))),e.pipe((0,y.U)((function(e){return function(e,t,r){var n=e.bufferGap,i=e.currentBitrate,a=e.currentScore,o=e.speed;if(null==i)return t[0];var s,l=(0,Pe.Z)(t,(function(e){return e===i}));if(l<0||t.length!==r.length)return L.Z.error("ABR: Current Bitrate not found in the calculated levels"),t[0];if(null!=a&&(s=0===o?a:a/o),null!=s&&s>1){var u=r[l],c=function(){for(var e=l+1;e<r.length;e++)if(r[e]>u)return e}();if(null!=c&&n>=r[c])return t[c]}if((null==s||s<1.15)&&n<r[l]){for(var d=l-1;d>=0;d--)if(t[d]<i)return t[d];return i}return i}(e,t,r)})))}var at=N.Z.CACHE_LOAD_DURATION_THRESHOLDS;function ot(){var e=!1;return function(t,r){var n=t.adaptation.type;if("text"===n||"image"===n)return!1;var i=function(e,t){return t<at[e]}(n,r);return!(!i||!e)||(i||e||(e=!0),!1)}}var st=i(3274),lt=N.Z.ABR_REGULAR_FACTOR,ut=N.Z.ABR_STARVATION_DURATION_DELTA,ct=N.Z.ABR_STARVATION_FACTOR,dt=N.Z.ABR_STARVATION_GAP,ft=N.Z.OUT_OF_STARVATION_GAP;function pt(e){if(!(e.progress.length<5)){for(var t=new Ge(2),r=e.progress,n=1;n<r.length;n++){var i=r[n].size-r[n-1].size,a=r[n].timestamp-r[n-1].timestamp,o=8*i/(a/1e3);t.addSample(a/1e3,o)}return t.getEstimate()}}function ht(e,t){var r=8*(e.totalSize-e.size);return Math.max(r/t,0)}function gt(e,t,r,n){var i=t.bufferGap,a=t.speed,o=t.position,s=isFinite(i)?i:0,l=function(e,t){var r=(0,Pe.Z)(e,(function(e){return!(e.duration<=0)&&e.time+e.duration>t&&t-e.time>-1.2}));if(r<0)return[];for(var n=e[r],i=n.time,a=[n],o=r+1;o<e.length&&e[o].time===i;o++)a.push(e[o]);return a}(e,o+s);if(1===l.length){var u=l[0],c=u.duration,d=performance.now(),f=u.progress.length>0?u.progress[u.progress.length-1]:void 0,p=pt(u);if(void 0!==f&&void 0!==p){var h=ht(f,p);if((d-f.timestamp)/1e3<=h&&h-s/a>2e3)return p}var g=(d-u.requestTimestamp)/1e3;if(null!=r&&!(g<=(1.5*c+2)/a)){var m=c/g,v=r.bitrate*Math.min(.7,m);return void 0===n||v<n?v:void 0}}}var mt=function(){function e(e,t){this._initialBitrate=e,this._inStarvationMode=!1,this._config=t?{starvationGap:dt.LOW_LATENCY,outOfStarvationGap:ft.LOW_LATENCY,starvationBitrateFactor:ct.LOW_LATENCY,regularBitrateFactor:lt.LOW_LATENCY}:{starvationGap:dt.DEFAULT,outOfStarvationGap:ft.DEFAULT,starvationBitrateFactor:ct.DEFAULT,regularBitrateFactor:lt.DEFAULT}}var t=e.prototype;return t.getBandwidthEstimate=function(e,t,r,n,i){var a,o,s=this._config,l=e.bufferGap,u=e.position,c=e.duration,d=isFinite(l)?l:0;return isNaN(c)||d+u<c-ut?!this._inStarvationMode&&d<=s.starvationGap?(L.Z.info("ABR: enter starvation mode."),this._inStarvationMode=!0):this._inStarvationMode&&d>=s.outOfStarvationGap&&(L.Z.info("ABR: exit starvation mode."),this._inStarvationMode=!1):this._inStarvationMode&&(L.Z.info("ABR: exit starvation mode."),this._inStarvationMode=!1),this._inStarvationMode&&null!=(o=gt(n,e,r,i))&&(L.Z.info("ABR: starvation mode emergency estimate:",o),t.reset(),a=null==r?o:Math.min(o,r.bitrate)),null==a&&(a=null!=(o=t.getEstimate())?o*(this._inStarvationMode?s.starvationBitrateFactor:s.regularBitrateFactor):null!=i?i*(this._inStarvationMode?s.starvationBitrateFactor:s.regularBitrateFactor):this._initialBitrate),e.speed>1&&(a/=e.speed),{bandwidthEstimate:o,bitrateChosen:a}},t.isUrgent=function(e,t,r,n){return null===t||e!==t.bitrate&&(e>t.bitrate?!this._inStarvationMode:function(e,t){var r=isFinite(e.bufferGap)?e.bufferGap:0,n=e.position+r,i=(0,st.Z)(t,(function(e){return e.duration>0&&e.time+e.duration>n}));if(void 0===i)return!0;var a=performance.now(),o=i.progress.length>0?i.progress[i.progress.length-1]:void 0,s=pt(i);if(void 0===o||void 0===s)return!0;var l=ht(o,s);return(a-o.timestamp)/1e3>1.2*l||l-r/e.speed>-1.5}(n,r))},e}(),vt=i(1679),yt=function(){function e(){this._currentRequests={}}var t=e.prototype;return t.add=function(e){var t=e.id,r=e.time,n=e.duration,i=e.requestTimestamp;this._currentRequests[t]={time:r,duration:n,requestTimestamp:i,progress:[]}},t.addProgress=function(e){var t=this._currentRequests[e.id];null!=t?t.progress.push(e):L.Z.warn("ABR: progress for a request not added")},t.remove=function(e){null==this._currentRequests[e]&&L.Z.warn("ABR: can't remove unknown request"),delete this._currentRequests[e]},t.getRequests=function(){return(0,vt.Z)(this._currentRequests).filter((function(e){return null!=e})).sort((function(e,t){return e.time-t.time}))},e}(),bt=function(){function e(){this._currentRepresentationData=null,this._lastRepresentationWithGoodScore=null}var t=e.prototype;return t.addSample=function(e,t,r){var n,i=r/t,a=this._getEWMA(e);null!=a?(n=a,a.addSample(t,i)):((n=new Ge(5)).addSample(t,i),this._currentRepresentationData={representation:e,ewma:n}),n.getEstimate()>1&&this._lastRepresentationWithGoodScore!==e&&(L.Z.debug("ABR: New last stable representation",e),this._lastRepresentationWithGoodScore=e)},t.getEstimate=function(e){var t=this._getEWMA(e);if(null!=t)return t.getEstimate()},t.getLastStableRepresentation=function(){return this._lastRepresentationWithGoodScore},t._getEWMA=function(e){return null!=this._currentRepresentationData&&this._currentRepresentationData.representation.id===e.id?this._currentRepresentationData.ewma:null},e}();function kt(e,t,r,n){var i=t<=r?r:t>=n?n:t,a=(0,Pe.Z)(e,(function(e){return e.bitrate>i}));return-1===a?e[e.length-1]:0===a?e[0]:e[a-1]}function Et(e,t){var r=e;return null!=t.bitrate&&(r=function(e,t){if(0===e.length)return[];e.sort((function(e,t){return e.bitrate-t.bitrate}));var r=e[0].bitrate,n=Math.max(t,r),i=(0,Pe.Z)(e,(function(e){return e.bitrate>n}));return-1===i?e:e.slice(0,i)}(r,t.bitrate)),null!=t.width&&(r=function(e,t){var r=e.slice().sort((function(e,t){return(0,Ke.Z)(e.width,0)-(0,Ke.Z)(t.width,0)})),n=(0,st.Z)(r,(function(e){return"number"===typeof e.width&&e.width>=t}));if(void 0===n)return e;var i="number"===typeof n.width?n.width:0;return e.filter((function(e){return"number"!==typeof e.width||e.width<=i}))}(r,t.width)),r}function _t(e){var t=e.bandwidthEstimator,r=e.clock$,n=e.filters$,i=e.initialBitrate,a=e.lowLatencyMode,o=e.manualBitrate$,s=e.minAutoBitrate$,u=e.maxAutoBitrate$,d=e.representations,f=e.streamEvents$,h=new bt,m=new mt(null==i?0:i,a),v=new yt,b=ot(),k=f.pipe((0,_.h)((function(e){return"metrics"===e.type})),(0,Ae.b)((function(e){return function(e){var r=e.duration,n=e.size,i=e.content;if(!b(i,r)){t.addSample(r,n);var a=r/1e3,o=i.segment.duration,s=i.representation;h.addSample(s,a,o)}}(e.value)})),(0,ne.l)()),E=f.pipe((0,Ae.b)((function(e){switch(e.type){case"requestBegin":v.add(e.value);break;case"requestEnd":v.remove(e.value.id);break;case"progress":v.addProgress(e.value)}})),(0,ne.l)()),S=f.pipe((0,_.h)((function(e){return"representationChange"===e.type})),(0,y.U)((function(e){return e.value.representation})),(0,T.O)(null)),w=(0,c.P)((function(){if(0===d.length)throw new Error("ABRManager: no representation choice given");return 1===d.length?(0,l.of)({bitrate:void 0,representation:d[0],manual:!1,urgent:!0,knownStableBitrate:void 0}):o.pipe((0,$e.w)((function(e){if(e>=0){var i=kt(d,e,0,1/0);return(0,l.of)({representation:i,bitrate:void 0,knownStableBitrate:void 0,manual:!0,urgent:!0})}var a,o=!0,c=it(f.pipe((0,_.h)((function(e){return"added-segment"===e.type})),rt(r),(0,y.U)((function(e){var t=e[0].value,r=e[1],n=r.speed,i=r.position,a=t.buffered,o=(0,Y.L7)(a,i),s=t.content.representation,l=h.getEstimate(s);return{bufferGap:o,currentBitrate:s.bitrate,currentScore:l,speed:n}}))),d.map((function(e){return e.bitrate}))).pipe((0,T.O)(void 0));return(0,p.a)([r,s,u,n,c]).pipe(rt(S),(0,y.U)((function(e){var r=e[0],n=r[0],i=r[1],s=r[2],l=r[3],u=r[4],c=e[1],f=Et(d,l),p=v.getRequests(),g=m.getBandwidthEstimate(n,t,c,p,a),y=g.bandwidthEstimate,b=g.bitrateChosen;a=y;var k=h.getLastStableRepresentation(),E=null==k?void 0:k.bitrate/(n.speed>0?n.speed:1),_=n.bufferGap;!o&&_<=5?o=!0:o&&isFinite(_)&&_>10&&(o=!1);var S=kt(f,b,i,s);if(o)return L.Z.debug("ABR: Choosing representation with bandwidth estimation.",S),{bitrate:y,representation:S,urgent:m.isUrgent(S.bitrate,c,p,n),manual:!1,knownStableBitrate:E};if(null==u||S.bitrate>=u)return L.Z.debug("ABR: Choosing representation with bandwidth estimation.",S),{bitrate:y,representation:S,urgent:m.isUrgent(S.bitrate,c,p,n),manual:!1,knownStableBitrate:E};var T=kt(f,u,i,s);return u<=s&&L.Z.debug("ABR: Choosing representation with buffer based bitrate ceiling.",T),{bitrate:y,representation:T,urgent:m.isUrgent(u,c,p,n),manual:!1,knownStableBitrate:E}})))})))}));return(0,g.T)(k,E,w)}var St=function(){function e(e){this._manualBitrates=e.manualBitrates,this._minAutoBitrates=e.minAutoBitrates,this._maxAutoBitrates=e.maxAutoBitrates,this._initialBitrates=e.initialBitrates,this._throttlers=e.throttlers,this._bandwidthEstimators={},this._lowLatencyMode=e.lowLatencyMode}var t=e.prototype;return t.get$=function(e,t,r,n){var i=this._getBandwidthEstimator(e),a=(0,Ke.Z)(this._manualBitrates[e],(0,l.of)(-1)),o=(0,Ke.Z)(this._minAutoBitrates[e],(0,l.of)(0)),s=(0,Ke.Z)(this._maxAutoBitrates[e],(0,l.of)(1/0)),u=(0,Ke.Z)(this._initialBitrates[e],0);return _t({bandwidthEstimator:i,streamEvents$:n,clock$:r,filters$:function(e,t,r){var n=[];return null!=e&&n.push(e.pipe((0,y.U)((function(e){return{width:e}})))),null!=r&&n.push(r.pipe((0,y.U)((function(e){return{bitrate:e}})))),null!=t&&n.push(t.pipe((0,y.U)((function(e){return{bitrate:e}})))),n.length>0?(0,p.a)(n).pipe((0,y.U)((function(e){return q.Z.apply(void 0,[{}].concat(e))}))):(0,l.of)({})}(this._throttlers.limitWidth[e],this._throttlers.throttleBitrate[e],this._throttlers.throttle[e]),initialBitrate:u,manualBitrate$:a,minAutoBitrate$:o,maxAutoBitrate$:s,representations:t,lowLatencyMode:this._lowLatencyMode})},t._getBandwidthEstimator=function(e){var t=this._bandwidthEstimators[e];if(null==t){L.Z.debug("ABR: Creating new BandwidthEstimator for ",e);var r=new Qe;return this._bandwidthEstimators[e]=r,r}return t},e}(),Tt=i(4507),wt=i(5767),xt=i(3774),Ot=i(6923),Pt=M.ym;function Ct(e,t,r){if(null!==t&&"closed"!==t.readyState){for(var n=t.readyState,i=t.sourceBuffers,a=i.length-1;a>=0;a--){var o=i[a];try{"open"===n&&(L.Z.info("Init: Removing SourceBuffer from mediaSource",o),o.abort()),t.removeSourceBuffer(o)}catch(s){L.Z.warn("Init: Error while disposing SourceBuffer",s)}}i.length>0&&L.Z.warn("Init: Not all SourceBuffers could have been removed.")}if((0,wt.Z)(e),null!==r)try{L.Z.debug("Init: Revoking previous URL"),URL.revokeObjectURL(r)}catch(s){L.Z.warn("Init: Error while revoking the media source URL",s)}}function At(e){return function(e){return new u.y((function(t){if(null==xt.JJ)throw new U.Z("MEDIA_SOURCE_NOT_SUPPORTED","No MediaSource Object was found in the current browser.");var r=(0,Ot.Z)(e.src)?e.src:null;Ct(e,null,r),L.Z.info("Init: Creating MediaSource");var n=new xt.JJ,i=URL.createObjectURL(n);return L.Z.info("Init: Attaching MediaSource URL to the media element",i),e.src=i,t.next(n),function(){Ct(e,n,i)}}))}(e).pipe((0,k.z)((function(e){return Pt(e).pipe((0,w.q)(1),(0,x.h)(e))})))}var Mt=i(8343),It=N.Z.DEFAULT_LIVE_GAP,Rt=i(3610),Dt=i(6697),Lt=i(2401),jt=i(6968),Nt=i(2870),Ut=i(4123),Bt=N.Z.SOURCE_BUFFER_FLUSHING_INTERVAL,Ft=function(e){function n(t,n,i){var a;a=e.call(this)||this;var o=i.addSourceBuffer(n);return a._destroy$=new r.x,a.bufferType=t,a._mediaSource=i,a._sourceBuffer=o,a._queue=[],a._pendingTask=null,a._lastInitSegment=null,a.codec=n,(0,Dt.F)(Bt).pipe((0,Ae.b)((function(){return a._flush()})),(0,v.R)(a._destroy$)).subscribe(),(0,Lt.R)(a._sourceBuffer,"error").pipe((0,Ae.b)((function(e){return a._onPendingTaskError(e)})),(0,v.R)(a._destroy$)).subscribe(),(0,Lt.R)(a._sourceBuffer,"updateend").pipe((0,Ae.b)((function(){return a._flush()})),(0,v.R)(a._destroy$)).subscribe(),a}(0,t.Z)(n,e);var i=n.prototype;return i.pushChunk=function(e){return L.Z.debug("AVSB: receiving order to push data to the SourceBuffer",this.bufferType,e),this._addToQueue({type:Ut.f.Push,value:e})},i.removeBuffer=function(e,t){return L.Z.debug("AVSB: receiving order to remove data from the SourceBuffer",this.bufferType,e,t),this._addToQueue({type:Ut.f.Remove,value:{start:e,end:t}})},i.endOfSegment=function(e){return L.Z.debug("AVSB: receiving order for validating end of segment",this.bufferType,e.segment),this._addToQueue({type:Ut.f.EndOfSegment,value:e})},i.getBufferedRanges=function(){return this._sourceBuffer.buffered},i.getPendingOperations=function(){var e=function(e){switch(e.type){case Ut.f.Push:case Ut.f.Remove:case Ut.f.EndOfSegment:return{type:e.type,value:e.value}}},t=this._queue.map(e);return null===this._pendingTask?t:[e(this._pendingTask)].concat(t)},i.dispose=function(){for(this._destroy$.next(),this._destroy$.complete(),null!==this._pendingTask&&(this._pendingTask.subject.complete(),this._pendingTask=null);this._queue.length>0;){var e=this._queue.shift();void 0!==e&&e.subject.complete()}if("open"===this._mediaSource.readyState)try{this._sourceBuffer.abort()}catch(t){L.Z.warn("AVSB: Failed to abort a "+this.bufferType+" SourceBuffer:",t)}},i._onPendingTaskError=function(e){if(this._lastInitSegment=null,null!==this._pendingTask){var t=e instanceof Error?e:new Error("An unknown error occured when doing operations on the SourceBuffer");this._pendingTask.subject.error(t)}},i._addToQueue=function(e){var t=this;return new u.y((function(n){var i=0===t._queue.length&&null===t._pendingTask,a=new r.x,o=(0,q.Z)({subject:a},e);t._queue.push(o);var s=a.subscribe(n);return i&&t._flush(),function(){s.unsubscribe();var e=t._queue.indexOf(o);e>=0&&t._queue.splice(e,1)}}))},i._flush=function(){if(!this._sourceBuffer.updating){if(null!==this._pendingTask){var e=this._pendingTask;if(e.type!==Ut.f.Push||0===e.data.length){switch(e.type){case Ut.f.Push:null!==e.inventoryData&&this._segmentInventory.insertChunk(e.inventoryData);break;case Ut.f.EndOfSegment:this._segmentInventory.completeSegment(e.value);break;case Ut.f.Remove:this.synchronizeInventory();break;default:(0,Ie.Z)(e)}var t=e.subject;return this._pendingTask=null,t.next(),t.complete(),void this._flush()}}else{var r=this._queue.shift();if(void 0===r)return;if(r.type!==Ut.f.Push)this._pendingTask=r;else{var n,i=r.value;try{n=this._preparePushOperation(i.data)}catch(c){this._pendingTask=(0,q.Z)({data:[],inventoryData:i.inventoryInfos},r);var a=c instanceof Error?c:new Error("An unknown error occured when preparing a push operation");return this._lastInitSegment=null,void r.subject.error(a)}this._pendingTask=(0,q.Z)({data:n,inventoryData:i.inventoryInfos},r)}}try{switch(this._pendingTask.type){case Ut.f.EndOfSegment:return L.Z.debug("AVSB: Acknowledging complete segment",this._pendingTask.value),void this._flush();case Ut.f.Push:var o=this._pendingTask.data.shift();if(void 0===o)return void this._flush();this._sourceBuffer.appendBuffer(o);break;case Ut.f.Remove:var s=this._pendingTask.value,l=s.start,u=s.end;L.Z.debug("AVSB: removing data from SourceBuffer",this.bufferType,l,u),this._sourceBuffer.remove(l,u);break;default:(0,Ie.Z)(this._pendingTask)}}catch(c){this._onPendingTaskError(c)}}},i._preparePushOperation=function(e){var t=[],r=e.codec,n=e.timestampOffset,i=e.appendWindow,a=!1;if(r!==this.codec&&(L.Z.debug("AVSB: updating codec",r),(a=function(e,t){if("function"===typeof e.changeType){try{e.changeType(t)}catch(r){return L.Z.warn("Could not call 'changeType' on the given SourceBuffer:",r),!1}return!0}return!1}(this._sourceBuffer,r))?this.codec=r:L.Z.debug("AVSB: could not update codec",r,this.codec)),this._sourceBuffer.timestampOffset!==n){var o=n;L.Z.debug("AVSB: updating timestampOffset",this.bufferType,this._sourceBuffer.timestampOffset,o),this._sourceBuffer.timestampOffset=o}if(void 0===i[0]?this._sourceBuffer.appendWindowStart>0&&(this._sourceBuffer.appendWindowStart=0):i[0]!==this._sourceBuffer.appendWindowStart&&(i[0]>=this._sourceBuffer.appendWindowEnd&&(this._sourceBuffer.appendWindowEnd=i[0]+1),this._sourceBuffer.appendWindowStart=i[0]),void 0===i[1]?this._sourceBuffer.appendWindowEnd!==1/0&&(this._sourceBuffer.appendWindowEnd=1/0):i[1]!==this._sourceBuffer.appendWindowEnd&&(this._sourceBuffer.appendWindowEnd=i[1]),null!==e.initSegment&&(a||!this._isLastInitSegment(e.initSegment))){var s=e.initSegment;t.push(s);var l=(0,jt._f)(s);this._lastInitSegment={data:l,hash:(0,Nt.Z)(l)}}return null!==e.chunk&&t.push(e.chunk),t},i._isLastInitSegment=function(e){if(null===this._lastInitSegment)return!1;if(this._lastInitSegment.data===e)return!0;var t=this._lastInitSegment.data;if(t.byteLength===e.byteLength){var r=(0,jt._f)(e);if((0,Nt.Z)(r)===this._lastInitSegment.hash&&(0,H.Z)(t,r))return!0}return!1},n}(Ut.C),zt=["audio","video","text","image"];function Vt(e){return"audio"===e||"video"===e}var Wt=function(){function e(e,t){this._mediaElement=e,this._mediaSource=t,this._initializedSegmentBuffers={},this._onNativeBufferAddedOrDisabled=[]}e.isNative=function(e){return Vt(e)};var t=e.prototype;return t.getBufferTypes=function(){var e=this.getNativeBufferTypes();return null==W.Z.nativeTextTracksBuffer&&null==W.Z.htmlTextTracksBuffer||e.push("text"),null!=W.Z.imageBuffer&&e.push("image"),e},t.getNativeBufferTypes=function(){return"AUDIO"===this._mediaElement.nodeName?["audio"]:["video","audio"]},t.getStatus=function(e){var t=this._initializedSegmentBuffers[e];return void 0===t?{type:"uninitialized"}:null===t?{type:"disabled"}:{type:"initialized",value:t}},t.waitForUsableBuffers=function(){var e=this;return this._areNativeBuffersUsable()?(0,l.of)(void 0):new u.y((function(t){e._onNativeBufferAddedOrDisabled.push((function(){e._areNativeBuffersUsable()&&(t.next(void 0),t.complete())}))}))},t.disableSegmentBuffer=function(t){var r=this._initializedSegmentBuffers[t];if(null!==r){if(void 0!==r)throw new Error("Cannot disable an active SegmentBuffer.");this._initializedSegmentBuffers[t]=null,e.isNative(t)&&this._onNativeBufferAddedOrDisabled.forEach((function(e){return e()}))}else L.Z.warn("SBS: The "+t+" SegmentBuffer was already disabled.")},t.createSegmentBuffer=function(e,t,r){void 0===r&&(r={});var n,i=this._initializedSegmentBuffers[e];if(Vt(e)){if(null!=i)return i instanceof Ft&&i.codec!==t?L.Z.warn("SB: Reusing native SegmentBuffer with codec",i.codec,"for codec",t):L.Z.info("SB: Reusing native SegmentBuffer with codec",t),i;L.Z.info("SB: Adding native SegmentBuffer with codec",t);var a=new Ft(e,t,this._mediaSource);return this._initializedSegmentBuffers[e]=a,this._onNativeBufferAddedOrDisabled.forEach((function(e){return e()})),a}if(null!=i)return L.Z.info("SB: Reusing a previous custom SegmentBuffer for the type",e),i;if("text"===e){if(L.Z.info("SB: Creating a new text SegmentBuffer"),"html"===r.textTrackMode){if(null==W.Z.htmlTextTracksBuffer)throw new Error("HTML Text track feature not activated");n=new W.Z.htmlTextTracksBuffer(this._mediaElement,r.textTrackElement)}else{if(null==W.Z.nativeTextTracksBuffer)throw new Error("Native Text track feature not activated");n=new W.Z.nativeTextTracksBuffer(this._mediaElement,!0===r.hideNativeSubtitle)}return this._initializedSegmentBuffers.text=n,n}if("image"===e){if(null==W.Z.imageBuffer)throw new Error("Image buffer feature not activated");return L.Z.info("SB: Creating a new image SegmentBuffer"),n=new W.Z.imageBuffer,this._initializedSegmentBuffers.image=n,n}throw L.Z.error("SB: Unknown buffer type:",e),new U.Z("BUFFER_TYPE_UNKNOWN","The player wants to create a SegmentBuffer of an unknown type.")},t.disposeSegmentBuffer=function(e){var t=this._initializedSegmentBuffers[e];null!=t?(L.Z.info("SB: Aborting SegmentBuffer",e),t.dispose(),delete this._initializedSegmentBuffers[e]):L.Z.warn("SB: Trying to dispose a SegmentBuffer that does not exist")},t.disposeAll=function(){var e=this;zt.forEach((function(t){"initialized"===e.getStatus(t).type&&e.disposeSegmentBuffer(t)}))},t._areNativeBuffersUsable=function(){var e=this,t=this.getNativeBufferTypes();return!t.some((function(t){return void 0===e._initializedSegmentBuffers[t]}))&&!t.every((function(t){return null===e._initializedSegmentBuffers[t]}))},e}(),$t=function(){function e(e){this._array=[],this._sortingFn=e}var t=e.prototype;return t.add=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.sort(this._sortingFn);for(var n=0,i=0;i<t.length;i++){for(var a=t[i],o=!1;!o&&n<this._array.length;)this._sortingFn(a,this._array[n])<0?(this._array.splice(n,0,a),o=!0):n++;o||this._array.push(a)}},t.length=function(){return this._array.length},t.get=function(e){if(e<0||e>=this._array.length)throw new Error("Invalid index.");return this._array[e]},t.findFirst=function(e){return(0,st.Z)(this._array,e)},t.has=function(e){return(0,Me.Z)(this._array,e)},t.removeElement=function(e){var t=this._array.indexOf(e);if(t>=0)return this._array.splice(t,1),t},t.head=function(){return this._array[0]},t.last=function(){return this._array[this._array.length-1]},t.shift=function(){return this._array.shift()},t.pop=function(){return this._array.pop()},e}(),Ht=function(){function e(e){this._weakMap=new WeakMap,this._fn=e}var t=e.prototype;return t.get=function(e){var t=this._weakMap.get(e);if(void 0===t){var r=this._fn(e);return this._weakMap.set(e,r),r}return t},t.destroy=function(e){this._weakMap.delete(e)},e}(),Kt=i(9834);function Gt(e){var t=e.segmentBuffer,r=e.clock$,n=e.maxBufferBehind$,i=e.maxBufferAhead$;return(0,p.a)([r,n,i]).pipe((0,k.z)((function(e){var r=e[0],n=e[1],i=e[2];return function(e,t,r,n){if(!isFinite(r)&&!isFinite(n))return m.E;var i=[],a=(0,Y.F_)(e.getBufferedRanges(),t),o=a.innerRange,s=a.outerRanges;return function(){if(isFinite(r)){for(var e=0;e<s.length;e++){var n=s[e];t-r>=n.end?i.push(n):t>=n.end&&t-r>n.start&&t-r<n.end&&i.push({start:n.start,end:t-r})}null!=o&&t-r>o.start&&i.push({start:o.start,end:t-r})}}(),function(){if(isFinite(n)){for(var e=0;e<s.length;e++){var r=s[e];t+n<=r.start?i.push(r):t<=r.start&&t+n<r.end&&t+n>r.start&&i.push({start:t+n,end:r.end})}null!=o&&t+n<o.end&&i.push({start:t+n,end:o.end})}}(),(0,Ve.Dp)(i.map((function(t){return L.Z.debug("GC: cleaning range from SegmentBuffer",t),e.removeBuffer(t.start,t.end)}))).pipe((0,Kt.u)(),(0,ne.l)())}(t,r,n,i)})))}var Zt={activePeriodChanged:function(e){return{type:"activePeriodChanged",value:{period:e}}},adaptationChange:function(e,t,r){return{type:"adaptationChange",value:{type:e,adaptation:t,period:r}}},addedSegment:function(e,t,r,n){return{type:"added-segment",value:{content:e,segment:t,segmentData:n,buffered:r}}},bitrateEstimationChange:function(e,t){return{type:"bitrateEstimationChange",value:{type:e,bitrate:t}}},streamComplete:function(e){return{type:"complete-stream",value:{type:e}}},endOfStream:function(){return{type:"end-of-stream",value:void 0}},needsManifestRefresh:function(){return{type:"needs-manifest-refresh",value:void 0}},manifestMightBeOufOfSync:function(){return{type:"manifest-might-be-out-of-sync",value:void 0}},needsMediaSourceReload:function(e,t,r){return{type:"needs-media-source-reload",value:{position:t,autoPlay:r,period:e}}},needsBufferFlush:function(){return{type:"needs-buffer-flush",value:void 0}},needsDecipherabilityFlush:function(e,t,r){return{type:"needs-decipherability-flush",value:{position:e,autoPlay:t,duration:r}}},periodStreamReady:function(e,t,r){return{type:"periodStreamReady",value:{type:e,period:t,adaptation$:r}}},periodStreamCleared:function(e,t){return{type:"periodStreamCleared",value:{type:e,period:t}}},encryptionDataEncountered:function(e){return{type:"encryption-data-encountered",value:e}},representationChange:function(e,t,r){return{type:"representationChange",value:{type:e,period:t,representation:r}}},streamTerminating:function(){return{type:"stream-terminating",value:void 0}},resumeStream:function(){return{type:"resume-stream",value:void 0}},warning:function(e){return{type:"warning",value:e}}},qt=i(7473),Xt=i.n(qt);function Yt(e,t,r,n,i){var a=e.period,o=e.adaptation,s=e.representation,l=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(void 0===n.bufferedStart||void 0===n.bufferedEnd||n.bufferedStart>=t.end)return null;if(n.bufferedEnd>t.start)return r}return null}(i,t);if(null===l){if(null===r){if(n&&void 0!==a.end&&t.end>=a.end)return{start:void 0,end:null};var u=s.index.checkDiscontinuity(t.start);if(null!==u)return{start:void 0,end:u}}return null}var c=i[l];if(void 0!==c.bufferedStart&&c.bufferedStart>t.start&&(null===r||c.infos.segment.end<=r))return L.Z.debug("RS: current discontinuity encountered",o.type,c.bufferedStart),{start:void 0,end:c.bufferedStart};var d=function(e,t,r){if(r<=0)return L.Z.error("RS: Asked to check a discontinuity before the first chunk."),null;for(var n=r;n<e.length;n++){var i=e[n],a=e[n-1];if(void 0===i.bufferedStart||void 0===a.bufferedEnd||i.bufferedStart>=t.end)return null;if(i.bufferedStart-a.bufferedEnd>0)return n}return null}(i,t,l+1);if(null!==d&&(null===r||i[d].infos.segment.end<=r)){var f=i[d-1].bufferedEnd,p=i[d].bufferedStart;return L.Z.debug("RS: future discontinuity encountered",o.type,f,p),{start:f,end:p}}if(null===r){if(n&&void 0!==a.end){if(t.end<a.end)return null;var h=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(void 0===n.bufferedStart)return null;if(n.bufferedStart<t)return r}return null}(i,a.end);if(null!==h){var g=i[h];if(void 0!==g.bufferedEnd&&g.bufferedEnd<a.end)return L.Z.debug("RS: discontinuity encountered at the end of the current period",o.type,g.bufferedEnd,a.end),{start:g.bufferedEnd,end:null}}}if(void 0!==a.end&&t.end>=a.end)return null;for(var m=i.length-1;m>=0;m--){var v=i[m];if(void 0===v.bufferedStart)break;if(v.bufferedStart<t.end){if(void 0!==v.bufferedEnd&&v.bufferedEnd<t.end){var y=s.index.checkDiscontinuity(t.end);if(null!==y)return{start:v.bufferedEnd,end:y}}return null}}}return null}var Qt=i(5952),Jt=N.Z.CONTENT_REPLACEMENT_PADDING,er=N.Z.BITRATE_REBUFFERING_RATIO,tr=N.Z.MAX_TIME_MISSING_FROM_COMPLETE_SEGMENT,rr=N.Z.MINIMUM_SEGMENT_SIZE,nr=Math.min(1/60,rr);function ir(e){var t=e.content,r=e.currentPlaybackTime,n=e.fastSwitchThreshold,i=e.neededRange,a=e.segmentsBeingPushed,o=e.bufferedSegments,s=t.representation.index.getSegments(i.start,i.end-i.start),l=o.filter((function(e){return!or(e.infos,t,r,n)})).filter((function(e,t,r){var n=0===t?null:r[t-1],a=t>=r.length-1?null:r[t+1];return!function(e,t,r){return void 0===e.bufferedStart?(L.Z.warn("Stream: Start of a segment unknown. Assuming it is garbage collected by default.",e),!0):!(null!==t&&void 0!==t.bufferedEnd&&e.bufferedStart-t.bufferedEnd<.1)&&(r<e.bufferedStart&&e.bufferedStart-e.start>tr&&(L.Z.info("Stream: The start of the wanted segment has been garbage collected",e),!0))}(e,n,i.start)&&!function(e,t,r){return void 0===e.bufferedEnd?(L.Z.warn("Stream: End of a segment unknown. Assuming it is garbage collected by default.",e),!0):!(null!==t&&void 0!==t.bufferedStart&&t.bufferedStart-e.bufferedEnd<.1)&&(r>e.bufferedEnd&&e.end-e.bufferedEnd>tr&&(L.Z.info("Stream: The end of the wanted segment has been garbage collected",e),!0))}(e,a,i.end)}));return s.filter((function(e){var i=(0,q.Z)({segment:e},t);if(a.length>0&&a.some((function(e){return(0,Qt.Z)(i,e)})))return!1;var o=e.duration,s=e.time,u=e.end;if(e.isInit)return!0;if(o<rr)return!1;if(a.length>0&&a.some((function(e){if(e.period.id!==t.period.id||e.adaptation.id!==t.adaptation.id)return!1;var a=e.segment;return!(a.time-nr>s)&&!(a.end+nr<u)&&!or(e,i,r,n)})))return!1;for(var c=0;c<l.length;c++){var d=l[c];if(d.infos.period.id===t.period.id){var f=d.infos.segment;if(s-f.time>-nr&&f.end-u>-nr)return!1}}for(var p=0;p<l.length;p++){var h=l[p];if(h.end>s)return h.start>s+nr||ar(l,p).end<u-nr}return!0}))}function ar(e,t){for(var r=t+1;r<e.length-1&&e[r-1].end+nr>e[r].start;)r++;return e[--r]}function or(e,t,r,n){return e.period.id===t.period.id&&!(e.segment.time<r+Jt)&&(e.adaptation.id!==t.adaptation.id||function(e,t,r){var n=e.bitrate;if(void 0===r){var i=n*er;return t.bitrate>i}return n<r&&t.bitrate>n}(e.representation,t.representation,n))}var sr=N.Z.SEGMENT_PRIORITIES_STEPS;function lr(e,t){for(var r=e-(t.position+t.wantedTimeOffset),n=0;n<sr.length;n++)if(r<sr[n])return n;return sr.length}var ur=N.Z.MINIMUM_SEGMENT_SIZE;function cr(e,t,r,n,i){var a,o=e.period,s=e.representation;i.synchronizeInventory();var l,u,c=t.position+t.wantedTimeOffset,d=c+n,f={start:Math.max(c,o.start),end:Math.min(d,null!==(a=o.end)&&void 0!==a?a:1/0)},p=s.index.shouldRefresh(c,d),h=i.getPendingOperations().filter((function(e){return e.type===Ut.f.EndOfSegment})).map((function(e){return e.value})),g=function(e,t){for(var r=Math.max(1/60,ur),n=e.start+r,i=e.end-r,a=[],o=t.length-1;o>=0;o--){var s=t[o],l=s.infos.representation;if(!s.partiallyPushed&&!1!==l.decipherable&&l.isSupported){var u=s.infos.segment,c=u.time/u.timescale;((null==u.duration?s.end:c+u.duration/u.timescale)>n&&c<i||s.end>n&&s.start<i)&&a.unshift(s)}}return a}({start:Math.max(f.start-.5,0),end:f.end+.5},i.getInventory()),m=ir({content:e,currentPlaybackTime:t.getCurrentTime(),fastSwitchThreshold:r,neededRange:f,bufferedSegments:g,segmentsBeingPushed:h}).map((function(e){return{priority:lr(e.time,t),segment:e}})),v=s.index.getLastPosition();if(!s.index.isInitialized()||void 0===o.end||m.length>0)l=!1;else if(void 0===v)l=f.end>=o.end&&s.index.isFinished();else if(null===v)l=s.index.isFinished();else{var y=void 0!==o.end?Math.min(o.end,v):v;l=f.end>=y&&s.index.isFinished()}if(s.index.isInitialized()&&(s.index.areSegmentsChronologicallyGenerated()||l)){var b=null;h.length>0&&(b=Math.min.apply(Math,h.map((function(e){return e.segment.time})))),m.length>0&&(b=null!==b?Math.min(b,m[0].segment.time):m[0].segment.time),u=Yt(e,f,b,l,g)}else u=null;return{imminentDiscontinuity:u,hasFinishedLoading:l,neededSegments:m,shouldRefreshManifest:p}}var dr=N.Z.BUFFER_GC_GAPS.CALM,fr=N.Z.BUFFER_GC_GAPS.BEEFY;function pr(e,t,r){for(var n=(0,Y.F_)(t,e),i=n.innerRange,a=n.outerRanges,o=[],s=0;s<a.length;s++){var l=a[s];(e-r<l.end||e+r>l.start)&&o.push(l)}return null!=i&&(L.Z.debug("Stream: GC removing part of inner range",o),e-r>i.start&&o.push({start:i.start,end:e-r}),e+r<i.end&&o.push({start:e+r,end:i.end})),o}function hr(e,t,r){var n=t.pushChunk(r);return n.pipe((0,ae.K)((function(r){if(!(r instanceof Error)||"QuotaExceededError"!==r.name){var i=r instanceof Error?r.toString():"An unknown error happened when pushing content";throw new U.Z("BUFFER_APPEND_ERROR",i)}return(0,h.z)((a=e,o=t,a.pipe((0,w.q)(1),(0,k.z)((function(e){L.Z.warn("Stream: Running garbage collector");var t=o.getBufferedRanges(),r=pr(e.position,t,dr);return 0===r.length&&(r=pr(e.position,t,fr)),L.Z.debug("Stream: GC cleaning",r),(0,Ve.Dp)(r.map((function(e){var t=e.start,r=e.end;return o.removeBuffer(t,r)}))).pipe((0,Kt.u)())})))).pipe((0,ne.l)()),n).pipe((0,ae.K)((function(e){var t=e instanceof Error?e.toString():"Could not clean the buffer";throw new U.Z("BUFFER_FULL_ERROR",t)})));var a,o})))}var gr=N.Z.APPEND_WINDOW_SECURITIES,mr=function(e){var t,i,a=e.clock$,o=e.content,s=e.segmentBuffer,u=e.segmentFetcher,d=e.terminate$,f=e.options,v=o.manifest,b=o.period,E=o.adaptation,_=o.representation,x=f.bufferGoal$,C=f.drmSystemId,A=f.fastSwitchThreshold$,M=E.type,I=_.index.getInitSegment(),R=null===I?{initializationData:null,protectionDataUpdate:!1,initTimescale:void 0}:null,D=[],j=new n.t(1),N=new r.x,U=null,B=(0,p.a)([a,x,d.pipe((0,w.q)(1),(0,T.O)(null)),N.pipe((0,T.O)(void 0))]).pipe(rt(A),(0,k.z)((function(e){var t=e[0],r=t[0],n=t[1],i=t[2],a=e[1],c=cr(o,r,a,n,s),d=c.neededSegments;if(_.index.isInitialized()){if(d.length>0&&null!==I&&null===R){var f=d[0].priority;d.unshift({segment:I,priority:f})}}else null===I?L.Z.warn("Stream: Uninitialized index without an initialization segment"):null!==R?L.Z.warn("Stream: Uninitialized index with an already loaded initialization segment"):d.unshift({segment:I,priority:lr(b.start,r)});var p=d[0];if(null!==i){if(D=[],i.urgent)return L.Z.debug("Stream: urgent termination request, terminate.",M),j.next(),j.complete(),(0,l.of)(Zt.streamTerminating());if(null===U||void 0===p||U.segment.id!==p.segment.id)return L.Z.debug("Stream: cancel request and terminate.",null===U,M),j.next(),j.complete(),(0,l.of)(Zt.streamTerminating());if(U.priority!==p.priority){var g=U.request$;U.priority=p.priority,u.updatePriority(g,p.priority)}L.Z.debug("Stream: terminate after request.",M)}else if(void 0===p)null!==U&&L.Z.debug("Stream: interrupt segment request.",M),D=[],j.next();else if(null===U)L.Z.debug("Stream: start downloading queue.",M),D=d,j.next();else if(U.segment.id!==p.segment.id)L.Z.debug("Stream: restart download queue.",M),D=d,j.next();else if(U.priority!==p.priority){L.Z.debug("Stream: update request priority.",M);var m=U.request$;U.priority=p.priority,u.updatePriority(m,p.priority)}else L.Z.debug("Stream: update downloading queue",M),D=d.slice().splice(1,d.length);var v=(0,l.of)({type:"stream-status",value:{period:b,position:r.position,bufferType:M,imminentDiscontinuity:c.imminentDiscontinuity,hasFinishedLoading:c.hasFinishedLoading,neededSegments:c.neededSegments}});return c.shouldRefreshManifest?(0,h.z)((0,l.of)(Zt.needsManifestRefresh()),v):v})),(t=function(e){return"stream-terminating"!==e.type},void 0===(i=!0)&&(i=!1),(0,O.e)((function(e,r){var n=0;e.subscribe(new P.Q(r,(function(e){var a=t(e,n++);(a||i)&&r.next(e),!a&&r.complete()})))})))),F=!1,z=m.E;if(void 0!==C){var V=_.getEncryptionData(C);V.length>0&&(z=l.of.apply(void 0,V.map((function(e){return Zt.encryptionDataEncountered(e)}))),F=!0)}var W=j.pipe((0,$e.w)((function(){return D.length>0?function(){var e=(0,c.P)((function(){var t=D.shift();if(void 0===t)return Xt()((function(){N.next()})),m.E;var r=t.segment,n=t.priority,i={manifest:v,period:b,adaptation:E,representation:_,segment:r},a=u.createRequest(i,n);return U={segment:r,priority:n,request$:a},a.pipe((0,k.z)((function(t){switch(t.type){case"warning":return(0,l.of)({type:"retry",value:{segment:r,error:t.value}});case"chunk-complete":return U=null,(0,l.of)({type:"end-of-segment",value:{segment:r}});case"interrupted":return L.Z.info("Stream: segment request interrupted temporarly.",r),m.E;case"chunk":var n=null===R||void 0===R?void 0:R.initTimescale;return t.parse(n).pipe((0,y.U)((function(e){return(0,q.Z)({segment:r},e)})));case"ended":return e;default:(0,Ie.Z)(t)}})))}));return e.pipe(oe((function(){U=null})))}():m.E})),(0,k.z)((function(e){var t;switch(e.type){case"retry":return(0,h.z)((0,l.of)({type:"warning",value:e.value.error}),(0,c.P)((function(){var t=e.value.segment,r=_.index;if(!1===r.isSegmentStillAvailable(t))N.next();else if(r.canBeOutOfSyncError(e.value.error,t))return(0,l.of)(Zt.manifestMightBeOufOfSync());return m.E})));case"parsed-init-segment":R=e.value;var r=_.getAllEncryptionData(),n=!F&&r.length>0?l.of.apply(void 0,r.map((function(e){return Zt.encryptionDataEncountered(e)}))):m.E,i=function(e){var t=e.clock$,r=e.content,n=e.segment,i=e.segmentData,a=e.segmentBuffer;return(0,c.P)((function(){if(null===i)return m.E;var e=r.representation.getMimeTypeString();return hr(t,a,{data:{initSegment:i,chunk:null,timestampOffset:0,appendWindow:[void 0,void 0],codec:e},inventoryInfos:null}).pipe((0,y.U)((function(){var e=a.getBufferedRanges();return Zt.addedSegment(r,n,e,i)})))}))}({clock$:a,content:o,segment:e.segment,segmentData:e.value.initializationData,segmentBuffer:s});return(0,g.T)(n,i);case"parsed-segment":var u=null!==(t=null===R||void 0===R?void 0:R.initializationData)&&void 0!==t?t:null,d=e.value,f=d.inbandEvents,p=d.needsManifestRefresh,v=e.value.protectionDataUpdate&&!F?l.of.apply(void 0,_.getAllEncryptionData().map((function(e){return Zt.encryptionDataEncountered(e)}))):m.E,b=!0===p?(0,l.of)(Zt.needsManifestRefresh()):m.E,k=void 0!==f&&f.length>0?(0,l.of)({type:"inband-events",value:f}):m.E;return(0,h.z)(v,b,k,function(e){var t=e.clock$,r=e.content,n=e.initSegmentData,i=e.parsedSegment,a=e.segment,o=e.segmentBuffer;return(0,c.P)((function(){var e,s;if(null===i.chunkData)return m.E;var l=i.chunkData,u=i.chunkInfos,c=i.chunkOffset,d=i.appendWindow,f=r.representation.getMimeTypeString(),p=[void 0!==d[0]?Math.max(0,d[0]-gr.START):void 0,void 0!==d[1]?d[1]+gr.END:void 0],h={initSegment:n,chunk:l,timestampOffset:c,appendWindow:p,codec:f},g=null!==(e=null===u||void 0===u?void 0:u.time)&&void 0!==e?e:a.time,v=g+(null!==(s=null===u||void 0===u?void 0:u.duration)&&void 0!==s?s:a.duration);void 0!==p[0]&&(g=Math.max(g,p[0])),void 0!==p[1]&&(v=Math.min(v,p[1]));var b=(0,q.Z)({segment:a,start:g,end:v},r);return hr(t,o,{data:h,inventoryInfos:b}).pipe((0,y.U)((function(){var e=o.getBufferedRanges();return Zt.addedSegment(r,a,e,l)})))}))}({clock$:a,content:o,initSegmentData:u,parsedSegment:e.value,segment:e.segment,segmentBuffer:s}));case"end-of-segment":var E=e.value.segment;return s.endOfSegment((0,q.Z)({segment:E},o)).pipe((0,ne.l)());default:(0,Ie.Z)(e)}})));return(0,h.z)(z,(0,g.T)(B,W).pipe((0,S.B)()))};function vr(e,t,r){return t.pipe((0,w.q)(1),(0,k.z)((function(n){var i;if(e.start<=n.position&&(void 0===e.end||e.end>n.position)){var a=n.getCurrentTime()+r,o=Math.min(Math.max(e.start,a),null!==(i=e.end)&&void 0!==i?i:1/0);return(0,l.of)(Zt.needsMediaSourceReload(e,o,!n.isPaused))}return t.pipe((0,y.U)((function(t){return Zt.needsMediaSourceReload(e,t.getCurrentTime(),!t.isPaused)})))})))}var yr=N.Z.DELTA_POSITION_AFTER_RELOAD,br=function(e){var t=e.abrManager,n=e.clock$,i=e.content,a=e.options,o=e.segmentBuffer,u=e.segmentFetcherCreator,d=e.wantedBufferAhead$,f="direct"===a.manualBitrateSwitchingMode,p=i.manifest,v=i.period,E=i.adaptation,T={},x=function(e,t,n){var i=e.manifest,a=e.adaptation,o=new r.x,s=new r.x,u=(0,g.T)(o,s);return{estimator$:(0,g.T)((0,K.R)(i,"decipherabilityUpdate"),(0,l.of)(null)).pipe((0,y.U)((function(){var e=a.getPlayableRepresentations();if(e.length<=0)throw new U.Z("NO_PLAYABLE_REPRESENTATION","No Representation in the chosen "+a.type+" Adaptation can be played");return e})),(0,b.x)((function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<t.length;r++)if(e[r].id!==t[r].id)return!1;return!0})),(0,$e.w)((function(e){return t.get$(a.type,e,n,u)}))),streamFeedback$:o,requestFeedback$:s}}(i,t,n),O=x.estimator$,P=x.requestFeedback$,C=x.streamFeedback$,A=u.createSegmentFetcher(E.type,P),M=new s(null),I=O.pipe((0,Ae.b)((function(e){M.next(e)})),(0,He.Z)(),(0,S.B)()),R=I.pipe((0,_.h)((function(e){return null!=e.bitrate})),(0,b.x)((function(e,t){return e.bitrate===t.bitrate})),(0,y.U)((function(e){var t=e.bitrate;return L.Z.debug("Stream: new "+E.type+" bitrate estimate",t),Zt.bitrateEstimationChange(E.type,t)}))),D=I.pipe(We((function(e,t){return function e(t,r){var i=t.representation;if(f&&t.manual&&!r)return vr(v,n,yr.bitrateSwitch);var s=M.pipe((0,_.h)((function(e){return null===e||e.representation.id!==i.id||e.manual&&!t.manual})),(0,w.q)(1),(0,y.U)((function(e){return null===e?(L.Z.info("Stream: urgent Representation termination",E.type),{urgent:!0}):e.urgent?(L.Z.info("Stream: urgent Representation switch",E.type),{urgent:!0}):(L.Z.info("Stream: slow Representation switch",E.type),{urgent:!1})}))),u=a.enableFastSwitching?M.pipe((0,y.U)((function(e){return null===e?void 0:e.knownStableBitrate})),(0,b.x)()):(0,l.of)(0),g=(0,l.of)(Zt.representationChange(E.type,v,i));return(0,h.z)(g,function e(t,r,i){return(0,c.P)((function(){var s=T[t.id],l=null!=s?s:1;T[t.id]=l;var u=d.pipe((0,y.U)((function(e){return e*l})));return L.Z.info("Stream: changing representation",E.type,t),mr({clock$:n,content:{representation:t,adaptation:E,period:v,manifest:p},segmentBuffer:o,segmentFetcher:A,terminate$:r,options:{bufferGoal$:u,drmSystemId:a.drmSystemId,fastSwitchThreshold$:i}}).pipe((0,ae.K)((function(n){var a=z(n,{defaultCode:"NONE",defaultReason:"Unknown `RepresentationStream` error"});if("BUFFER_FULL_ERROR"===a.code){var o=d.getValue(),s=l;if(s<=.25||o*s<=2)throw a;return T[t.id]=s-.25,e(t,r,i)}throw a})))}))}(i,s,u)).pipe((0,Ae.b)((function(e){if("representationChange"===e.type||"added-segment"===e.type)return C.next(e)})),(0,k.z)((function(t){if("stream-terminating"===t.type){var r=M.getValue();return null===r?m.E:e(r,!1)}return(0,l.of)(t)})))}(e,0===t)})));return(0,g.T)(D,R)};function kr(e,t,r,n){var i=n.period,a=!1;return(0,p.a)([e,t]).pipe((0,k.z)((function(e){var t=e[0],n=e[1],o=t.position;return void 0!==i.end&&o+n>=i.end&&(L.Z.debug('Stream: full "empty" AdaptationStream',r),a=!0),(0,l.of)({type:"stream-status",value:{period:i,bufferType:r,position:t.position,imminentDiscontinuity:null,hasFinishedLoading:a,neededSegments:[],shouldRefreshManifest:!1}})})))}var Er=i(9252),_r=function(e,t){var r=e.split(";"),n=r[0],i=r.slice(1),a=t.split(";"),o=a[0],s=a.slice(1);if(n!==o)return!1;var l=(0,st.Z)(i,(function(e){return(0,Er.Z)(e,"codecs=")})),u=(0,st.Z)(s,(function(e){return(0,Er.Z)(e,"codecs=")}));if(void 0===l||void 0===u)return!1;var c=l.substring(7),d=u.substring(7);return c.split(".")[0]===d.split(".")[0]},Sr=N.Z.ADAPTATION_SWITCH_BUFFER_PADDINGS;function Tr(e,t,r,n,i){if(void 0!==e.codec&&"reload"===i.onCodecSwitch&&!function(e,t){return e.getPlayableRepresentations().some((function(e){return _r(e.getMimeTypeString(),t)}))}(r,e.codec))return{type:"needs-reload",value:void 0};var a=e.getBufferedRanges();if(0===a.length)return{type:"continue",value:void 0};var o=(0,Y.JN)(a),s=t.start,l=null==t.end?1/0:t.end,u=(0,Y.tn)(o,[{start:s,end:l}]);if(0===u.length)return{type:"continue",value:void 0};e.synchronizeInventory();var c=e.getInventory();if(!c.some((function(e){return e.infos.period.id===t.id&&e.infos.adaptation.id!==r.id})))return{type:"continue",value:void 0};var d=function(e,t,r){return e.reduce((function(e,n){if(n.infos.period.id!==t.id||n.infos.adaptation.id!==r.id)return e;var i=n.bufferedStart,a=n.bufferedEnd;return void 0===i||void 0===a||e.push({start:i,end:a}),e}),[])}(c,t,r),f=(0,Y.uH)(u,d);if(0===f.length)return{type:"continue",value:void 0};var p=n.currentTime;if("video"===r.type&&(0,Y.Ti)({start:s,end:l},p)&&(n.readyState>1||!r.getPlayableRepresentations().some((function(t){var r;return _r(t.getMimeTypeString(),null!==(r=e.codec)&&void 0!==r?r:"")})))&&!(0,Y.A1)(d,p))return{type:"needs-reload",value:void 0};var h="audio"===r.type&&"direct"===i.audioTrackSwitchingMode,g=[],m=function(e,t){for(var r=0;r<e.length;r++)if(e[r].infos.period.start>=t.start)return r>0?e[r-1]:null;return e.length>0?e[e.length-1]:null}(c,t);null!==m&&(void 0===m.bufferedEnd||t.start-m.bufferedEnd<1)&&g.push({start:0,end:t.start+1});var v=r.type,y=Sr[v].before;null==y&&(y=0);var b=Sr[v].after;if(null==b&&(b=0),h||g.push({start:p-y,end:p+b}),void 0!==t.end){var k=function(e,t){for(var r=0;r<e.length;r++)if(e[r].infos.period.start>t.start)return e[r];return null}(c,t);null!==k&&(void 0===k.bufferedStart||k.bufferedStart-t.end<1)&&g.push({start:t.end-1,end:Number.MAX_VALUE})}var E=(0,Y.uH)(f,g);return 0===E.length?{type:"continue",value:void 0}:h?{type:"flush-buffer",value:E}:{type:"clean-buffer",value:E}}var wr=N.Z.DELTA_POSITION_AFTER_RELOAD,xr=function(e){var t=e.abrManager,r=e.bufferType,i=e.clock$,a=e.content,o=e.garbageCollectors,s=e.segmentFetcherCreator,u=e.segmentBuffersStore,c=e.options,d=e.wantedBufferAhead$,f=a.period,p=new n.t(1);return p.pipe((0,$e.w)((function(e,n){var p=0===n?0:"audio"===r?wr.trackSwitch.audio:"video"===r?wr.trackSwitch.video:wr.trackSwitch.other;if(null===e){L.Z.info("Stream: Set no "+r+" Adaptation",f);var v,b=u.getStatus(r);if("initialized"===b.type){if(L.Z.info("Stream: Clearing previous "+r+" SegmentBuffer"),Wt.isNative(r))return vr(f,i,p);v=b.value.removeBuffer(f.start,null==f.end?1/0:f.end)}else"uninitialized"===b.type&&u.disableSegmentBuffer(r),v=(0,l.of)(null);return(0,h.z)(v.pipe((0,x.h)(Zt.adaptationChange(r,null,f))),kr(i,d,r,{period:f}))}if(Wt.isNative(r)&&"disabled"===u.getStatus(r).type)return vr(f,i,p);L.Z.info("Stream: Updating "+r+" adaptation",e,f);var E=i.pipe((0,w.q)(1),(0,k.z)((function(n){var v=function(e,t,r,n){var i=e.getStatus(t);if("initialized"===i.type)return L.Z.info("Stream: Reusing a previous SegmentBuffer for the type",t),i.value;var a=function(e){var t=e.representations;return null==t[0]?"":t[0].getMimeTypeString()}(r),o="text"===t?n.textTrackOptions:void 0;return e.createSegmentBuffer(t,a,o)}(u,r,e,c),b={currentTime:n.getCurrentTime(),readyState:n.readyState},E=Tr(v,f,e,b,c);if("needs-reload"===E.type)return vr(f,i,p);var _="flush-buffer"===E.type?(0,l.of)(Zt.needsBufferFlush()):m.E,S="clean-buffer"===E.type||"flush-buffer"===E.type?h.z.apply(void 0,E.value.map((function(e){var t=e.start,r=e.end;return v.removeBuffer(t,r)}))).pipe((0,ne.l)()):m.E,T=o.get(v),w=function(e,n){var o=a.manifest,p=i.pipe((0,y.U)((function(e){var t=n.getBufferedRanges();return(0,q.Z)({},e,{bufferGap:(0,Y.L7)(t,e.position)})})));return br({abrManager:t,clock$:p,content:{manifest:o,period:f,adaptation:e},options:c,segmentBuffer:n,segmentFetcherCreator:s,wantedBufferAhead$:d}).pipe((0,ae.K)((function(e){if(!Wt.isNative(r)){L.Z.error("Stream: "+r+" Stream crashed. Aborting it.",e),u.disposeSegmentBuffer(r);var t=z(e,{defaultCode:"NONE",defaultReason:"Unknown `AdaptationStream` error"});return(0,h.z)((0,l.of)(Zt.warning(t)),kr(i,d,r,{period:f}))}throw L.Z.error("Stream: "+r+" Stream crashed. Stopping playback.",e),e})))}(e,v);return u.waitForUsableBuffers().pipe((0,k.z)((function(){return(0,h.z)(S,_,(0,g.T)(w,T))})))})));return(0,h.z)((0,l.of)(Zt.adaptationChange(r,e,f)),E)})),(0,T.O)(Zt.periodStreamReady(r,f,p)))},Or=i(3074);function Pr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return e.pipe((0,_.h)((function(e){return"complete-stream"===e.type||"stream-status"===e.type&&!e.value.hasFinishedLoading})),(0,y.U)((function(e){return"complete-stream"===e.type})),(0,T.O)(!1),(0,b.x)())}));return(0,p.a)(n).pipe((0,y.U)((function(e){return e.every((function(e){return e}))})),(0,b.x)())}var Cr=N.Z.MAXIMUM_MAX_BUFFER_AHEAD,Ar=N.Z.MAXIMUM_MAX_BUFFER_BEHIND,Mr=function(e,t,n,i,a,o){var s=e.manifest,u=e.initialPeriod,d=o.maxBufferAhead$,f=o.maxBufferBehind$,E=o.wantedBufferAhead$,x=new Ht((function(e){var r=e.bufferType,n=null!=Ar[r]?Ar[r]:1/0,i=null!=Cr[r]?Cr[r]:1/0;return Gt({segmentBuffer:e,clock$:t.pipe((0,y.U)((function(e){return e.position+e.wantedTimeOffset}))),maxBufferBehind$:f.pipe((0,y.U)((function(e){return Math.min(e,n)}))),maxBufferAhead$:d.pipe((0,y.U)((function(e){return Math.min(e,i)})))})})),O=t.pipe((0,le.Z)((function(e){var t=e.position,r=e.wantedTimeOffset+t;if(r<s.getMinimumPosition()){var n=new U.Z("MEDIA_TIME_BEFORE_MANIFEST","The current position is behind the earliest time announced in the Manifest.");return Zt.warning(n)}if(r>s.getMaximumPosition()){var i=new U.Z("MEDIA_TIME_AFTER_MANIFEST","The current position is after the latest time announced in the Manifest.");return Zt.warning(i)}return null}),null)),P=i.getBufferTypes().map((function(e){return function(e,n){var a=new $t((function(e,t){return e.start-t.start})),o=new r.x,u=!1;function d(t){return I(e,t,o).pipe((0,le.Z)((function(e){switch(e.type){case"needs-media-source-reload":var t=a.head();if(void 0===t||t.id!==e.value.period.id)return null;break;case"periodStreamReady":u=!0,a.add(e.value.period);break;case"periodStreamCleared":a.removeElement(e.value.period)}return e}),null),(0,S.B)())}var f=t.pipe((0,le.Z)((function(t){var r,n=t.position,i=t.wantedTimeOffset,l=i+n;if(!u||!function(e){var t=a.head(),r=a.last();return null==t||null==r||t.start>e||(null==r.end?1/0:r.end)<e}(l))return null;var c=null!==(r=s.getPeriodForTime(l))&&void 0!==r?r:s.getNextPeriod(l);return void 0===c?null:(L.Z.info("SO: Current position out of the bounds of the active periods,re-creating Streams.",e,n+i),u=!1,o.next(),c)}),null),(0,k.z)((function(e){if(null==e)throw new U.Z("MEDIA_TIME_NOT_FOUND","The wanted position is not found in the Manifest.");return d(e)}))),p=(0,K.R)(s,"decipherabilityUpdate").pipe((0,k.z)((function(r){var n=i.getStatus(e),a=r.filter((function(t){return t.adaptation.type===e}));if(0===a.length||"initialized"!==n.type)return m.E;var f=a.filter((function(e){return!1===e.representation.decipherable})),p=n.value,g=function(e,t){if(0===t.length)return[];e.synchronizeInventory();for(var r=[],n=e.getInventory(),i=function(i){var a=n[i];if(t.some((function(e){return a.infos.period.id===e.period.id&&a.infos.adaptation.id===e.adaptation.id&&a.infos.representation.id===e.representation.id}))){var o=a.bufferedStart,s=a.bufferedEnd;if(void 0===o||void 0===s){L.Z.warn("SO: No buffered start or end found from a segment.");var l=e.getBufferedRanges(),u=l.length;return 0===u?{v:[]}:{v:[{start:l.start(0),end:l.end(u-1)}]}}var c=r[r.length-1];void 0!==c&&c.end===o?c.end=s:r.push({start:o,end:s})}},a=0;a<n.length;a++){var o=i(a);if("object"===typeof o)return o.v}return r}(p,f);return 0===g.length?m.E:(u=!1,o.next(),h.z.apply(void 0,g.map((function(e){var t=e.start,r=e.end;return p.removeBuffer(t,r).pipe((0,ne.l)())})).concat([t.pipe((0,w.q)(1),(0,k.z)((function(e){return(0,h.z)((0,l.of)(Zt.needsDecipherabilityFlush(e.position,!e.isPaused,e.duration)),(0,c.P)((function(){var t=e.position+e.wantedTimeOffset,r=s.getPeriodForTime(t);if(null==r)throw new U.Z("MEDIA_TIME_NOT_FOUND","The wanted position is not found in the Manifest.");return d(r)})))})))])))})));return(0,g.T)(f,p,d(n))}(e,u).pipe((0,He.Z)(),(0,S.B)())})),C=function(e){var t=e.length;return g.T.apply(void 0,e).pipe((0,_.h)((function(e){var t=e.type;return"periodStreamCleared"===t||"adaptationChange"===t||"representationChange"===t})),(0,Or.R)((function(e,t){switch(t.type){case"periodStreamCleared":var r=t.value,n=r.period,i=r.type,a=e[n.id];void 0!==a&&a.buffers.has(i)&&(a.buffers.delete(i),0===a.buffers.size&&delete e[n.id]);break;case"adaptationChange":if(null!==t.value.adaptation)return e;case"representationChange":var o=t.value,s=o.period,l=o.type,u=e[s.id];if(void 0===u||u.buffers.has(l)){var c=new Set;c.add(l),e[s.id]={period:s,buffers:c}}else u.buffers.add(l)}return e}),{}),(0,y.U)((function(e){for(var r=Object.keys(e),n=[],i=0;i<r.length;i++){var a=e[r[i]];void 0!==a&&a.buffers.size===t&&n.push(a.period)}return n.reduce((function(e,t){return null===e||t.start<e.start?t:e}),null)})),(0,b.x)((function(e,t){return null===e&&null===t||null!==e&&null!==t&&e.id===t.id})))}(P).pipe((0,_.h)((function(e){return null!==e})),(0,y.U)((function(e){return L.Z.info("Stream: New active period",e),Zt.activePeriodChanged(e)}))),A=(0,K.R)(s,"manifestUpdate").pipe((0,y.U)((function(){return s.isLastPeriodKnown})),(0,T.O)(s.isLastPeriodKnown),(0,b.x)()),M=(0,p.a)([Pr.apply(void 0,P),A]).pipe((0,y.U)((function(e){var t=e[0],r=e[1];return t&&r})),(0,b.x)(),(0,y.U)((function(e){return e?Zt.endOfStream():Zt.resumeStream()})));return g.T.apply(void 0,P.concat([C,M,O]));function I(e,u,c){L.Z.info("SO: Creating new Stream for",e,u);var d=new r.x,f=new r.x,p=t.pipe((0,_.h)((function(e){var t=e.position,r=e.wantedTimeOffset;return null!=u.end&&t+r>=u.end}))),m=d.pipe(We((function(t){return I(e,t,f)}))),y=c.pipe((0,w.q)(1),(0,Ae.b)((function(){d.complete(),f.next(),f.complete()})),(0,S.B)()),b=(0,g.T)(p,y),T=xr({abrManager:n,bufferType:e,clock$:t,content:{manifest:s,period:u},garbageCollectors:x,segmentFetcherCreator:a,segmentBuffersStore:i,options:o,wantedBufferAhead$:E}).pipe((0,k.z)((function(t){if("stream-status"===t.type)if(t.value.hasFinishedLoading){var r=s.getPeriodAfter(u);if(null===r)return(0,h.z)((0,l.of)(t),(0,l.of)(Zt.streamComplete(e)));d.next(r)}else f.next();return(0,l.of)(t)})),(0,S.B)()),O=(0,h.z)(T.pipe((0,v.R)(b)),(0,l.of)(Zt.periodStreamCleared(e,u)).pipe((0,Ae.b)((function(){L.Z.info("SO: Destroying Stream for",e,u)}))));return(0,g.T)(O,m,y.pipe((0,ne.l)()))}};function Ir(e,t,r){return function(e){return(0,g.T)((0,M.ym)(e).pipe((0,x.h)(!0)),(0,M.ep)(e).pipe((0,x.h)(!1)),(0,M.UG)(e).pipe((0,x.h)(!1))).pipe((0,T.O)("open"===e.readyState),(0,b.x)())}(e).pipe((0,$e.w)((function(t){return t?function(e){if(0===e.length)return(0,l.of)(void 0);for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push((0,g.T)((0,Lt.R)(n,"updatestart").pipe((0,x.h)(!0)),(0,Lt.R)(n,"update").pipe((0,x.h)(!1)),(0,Dt.F)(500).pipe((0,x.h)(n.updating))).pipe((0,T.O)(n.updating),(0,b.x)()))}return(0,p.a)(t).pipe((0,_.h)((function(e){return e.every((function(e){return!e}))})),(0,x.h)(void 0))}(e.sourceBuffers):m.E})),(0,w.q)(1),(0,y.U)((function(){var n=t.getMaximumPosition(),i=t.isLive?Math.max(Math.pow(2,32),n+31536e3):n;return e.duration>=i||i===r?null:isNaN(e.duration)||!isFinite(e.duration)||i-e.duration>.01?(L.Z.info("Init: Updating duration",i),e.duration=i,i):null})),(0,ae.K)((function(e){return L.Z.warn("Duration Updater: Can't update duration on the MediaSource.",e),(0,l.of)(null)})))}var Rr=i(4181),Dr=M.gg,Lr=M.ym,jr=M._E;function Nr(e){return(0,c.P)((function(){if(L.Z.debug("Init: Trying to call endOfStream"),"open"!==e.readyState)return L.Z.debug("Init: MediaSource not open, cancel endOfStream"),(0,l.of)(null);var t=e.sourceBuffers,r=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n.updating&&t.push(n)}return t}(t);if(0===r.length)return L.Z.info("Init: Triggering end of stream"),e.endOfStream(),(0,l.of)(null);L.Z.debug("Init: Waiting SourceBuffers to be updated before calling endOfStream.");var n,i=r.map((function(e){return jr(e).pipe((0,w.q)(1))}));return(0,Rr.S)(g.T.apply(void 0,i).pipe((n=1,n<=0?function(){return m.E}:(0,O.e)((function(e,t){var r=[];e.subscribe(new P.Q(t,(function(e){r.push(e),n<r.length&&r.shift()}),(function(){var e,n;try{for(var i=(0,o.XA)(r),a=i.next();!a.done;a=i.next()){var s=a.value;t.next(s)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t.complete()}),void 0,(function(){r=null})))})))),Dr(t).pipe((0,w.q)(1))).pipe((0,k.z)((function(){return Nr(e)})))}))}var Ur=i(2795),Br=D.yS,Fr=N.Z.BUFFER_DISCONTINUITY_THRESHOLD,zr=N.Z.FORCE_DISCONTINUITY_SEEK_DELAY;function Vr(e,t,r,n,i){var a=n.pipe(rt(e),(0,Or.R)((function(e,t){return function(e,t,r){for(;e.length>0&&void 0!==e[0].period.end&&e[0].period.end+10<r.position;)e.shift();var n=t.period,i=t.bufferType;if("audio"!==i&&"video"!==i)return e;for(var a=0;a<e.length;a++)if(e[a].period.id===n.id){if(e[a].bufferType===i)return Wr(t)?e[a]=t:e.splice(a,1),e}else if(e[a].period.start>n.start)return Wr(t)&&e.splice(a,0,t),e;return Wr(t)&&e.push(t),e}(e,t[0],t[1])}),[])),o=null,s=null;return e.pipe(rt(a),(0,y.U)((function(e){var n=e[0],a=e[1],l=n.buffered,u=n.currentRange,c=n.position,d=n.event,f=n.stalled;if(null===f)return{type:"unstalled",value:null};if(n.seeking)o=n.position;else if(null!==o){var p=performance.now();if(null===s&&(s=p),Br&&n.position<o&&p-s<zr)return{type:"stalled",value:f};o=null}s=null;var h=f.position;if(null!==h){var g=function(e,t,r){if(0===e.length)return null;for(var n=null,i=0;i<e.length;i++){var a=e[i].period;if(a.start>r)return n;var o=void 0;if(void 0===a.end||a.end>r){var s=e[i],l=s.discontinuity,u=s.position,c=l.start,d=l.end;if(r>=(null!==c&&void 0!==c?c:u)-1/60)if(null===d){var f=t.getPeriodAfter(a);null!==f?o=f.start+1/60:L.Z.warn("Init: discontinuity at Period's end but no next Period")}else r<d+1/60&&(o=d+1/60);void 0!==o&&(L.Z.info("Init: discontinuity found",r,o),n=null!==n&&n>o?n:o)}}return n}(a,r,h);if(null!==g){var m=g+.001;if(!(m<=t.currentTime))return L.Z.warn("SA: skippable discontinuity found in the stream",c,m),i(m),Zt.warning($r(h,m));L.Z.info("Init: position to seek already reached, no seeking",t.currentTime,m)}}if(function(e,t,r,n){return D.vU&&n&&"timeupdate"===r&&null!=t&&t.end-e>10}(c,u,d,null!==f))return L.Z.warn("Init: After freeze seek",c,u),i(c),Zt.warning($r(c,c));var v=null!==h&&void 0!==h?h:c,y=(0,Y.XS)(l,v);if(y<Fr){var b=v+y+1/60;if(t.currentTime<b)return L.Z.warn("Init: discontinuity encountered inferior to the threshold",v,b,Fr),i(b),Zt.warning($r(v,b))}for(var k=r.periods.length-2;k>=0;k--){var E=r.periods[k];if(void 0!==E.end&&E.end<=v){if(r.periods[k+1].start>v&&r.periods[k+1].start>t.currentTime){var _=r.periods[k+1];return i(_.start),Zt.warning($r(v,_.start))}break}}return{type:"stalled",value:f}})))}function Wr(e){return null!==e.discontinuity}function $r(e,t){return new U.Z("DISCONTINUITY_ENCOUNTERED","A discontinuity has been encountered at position "+String(e)+", seeked at position "+String(t))}var Hr=function(e,t){return e.id===t.id&&e.start===t.start&&e.end===t.end},Kr=function(e,t){for(var r=[],n=t.periods,i=0;i<n.length;i++)n[i].streamEvents.forEach((function(t){for(var n=t.start,i=t.end,a=t.id,o=t.data,s=0;s<e.length;s++){var l=e[s];if(Hr(l,{id:a,start:n,end:i}))return void r.push(l)}if(void 0===i){var u={start:n,id:a,data:o,publicEvent:{start:n,data:o}};r.push(u)}else{var c={start:n,end:i,id:a,data:o,publicEvent:{start:n,end:i,data:o}};r.push(c)}}));return r},Gr=N.Z.STREAM_EVENT_EMITTER_POLL_INTERVAL;function Zr(e){return void 0!==e.end}var qr=function(e,t,r){var n=new WeakMap,i=[];return(0,K.R)(e,"manifestUpdate").pipe((0,T.O)(null),(0,Or.R)((function(t){return Kr(t,e)}),[])).pipe((0,Ae.b)((function(e){return i=e})),(0,y.U)((function(e){return e.length>0})),(0,b.x)(),(0,$e.w)((function(e){return e?(0,p.a)([(0,Dt.F)(Gr).pipe((0,T.O)(null)),r]).pipe((0,y.U)((function(e){return e[0],{isSeeking:e[1].seeking,currentTime:t.currentTime}})),(0,O.e)((function(e,t){var r,n=!1;e.subscribe(new P.Q(t,(function(e){var i=r;r=e,n&&t.next([i,e]),n=!0})))})),(0,k.z)((function(e){var t=e[0],r=e[1];return function(e,t,r){for(var i=t.currentTime,a=r.isSeeking,o=r.currentTime,s=[],u=[],c=0;c<e.length;c++){var d=e[c],f=d.start,p=Zr(d)?d.end:void 0;n.has(d)?(f>o||void 0!==p&&o>=p)&&(Zr(d)&&u.push(d.publicEvent),n.delete(d)):f<=o&&void 0!==p&&o<p?(s.push({type:"stream-event",value:d.publicEvent}),n.set(d,!0)):i<f&&o>=(null!==p&&void 0!==p?p:f)&&(a?s.push({type:"stream-event-skip",value:d.publicEvent}):(s.push({type:"stream-event",value:d.publicEvent}),Zr(d)&&u.push(d.publicEvent)))}return(0,h.z)(s.length>0?l.of.apply(void 0,s):m.E,u.length>0?l.of.apply(void 0,u).pipe((0,Ae.b)((function(e){"function"===typeof e.onExit&&e.onExit()})),(0,ne.l)()):m.E)}(i,t,r)}))):m.E})))},Xr=i(2983);function Yr(e){var t=e.mediaElement,n=e.manifest,i=e.clock$,a=e.speed$,o=e.bufferOptions,s=e.abrManager,u=e.segmentFetcherCreator,d=e.setCurrentTime;return function(e,f,h){var b,E=function(e,t){return(0,c.P)((function(){var r;return Ir(t,e,void 0).pipe((0,k.z)((function(n){return null!==n&&(r=n),(0,K.R)(e,"manifestUpdate").pipe((0,$e.w)((function(){return Ir(t,e,r)})),(0,Ae.b)((function(e){null!==e&&(r=e)})))})),(0,ne.l)())}))}(n,e),S=null!==(b=n.getPeriodForTime(f))&&void 0!==b?b:n.getNextPeriod(f);if(void 0===S){var w=new U.Z("MEDIA_STARTING_TIME_NOT_FOUND","Wanted starting time not found in the Manifest.");return(0,Rt._)((function(){return w}))}var x=new Wt(t,e),O=(0,Ur.Z)({clock$:i,mediaElement:t,startTime:f,mustAutoPlay:h,setCurrentTime:d,isDirectfile:!1}),P=O.seek$,C=O.load$,A=C.pipe((0,_.h)((function(e){return"not-loaded-metadata"!==e}))),M=A.pipe((0,k.z)((function(){return qr(n,t,i)}))),I=function(e,t){var r=t.autoPlay,n=t.initialPlay$,i=t.initialSeek$,a=t.manifest,o=t.speed$,s=t.startTime,l=!1,u=!1,c=n.pipe((0,Ae.b)((function(){l=!0})),(0,ne.l)()),d=i.pipe((0,Ae.b)((function(){u=!0})),(0,ne.l)()),f=(0,p.a)([e,o]).pipe((0,y.U)((function(e){var t=e[0],n=e[1],i=a.isLive;return{position:t.position,getCurrentTime:t.getCurrentTime,duration:t.duration,isPaused:l?t.paused:!r,liveGap:i?a.getMaximumPosition()-t.position:1/0,readyState:t.readyState,speed:n,stalled:t.stalled,wantedTimeOffset:u?0:s-t.position}})));return(0,g.T)(c,d,f)}(i,{autoPlay:h,initialPlay$:A,initialSeek$:P,manifest:n,speed$:a,startTime:f}),R=new r.x,D=new r.x,j=Mr({manifest:n,initialPeriod:S},I,s,x,u,o).pipe((0,k.z)((function(t){switch(t.type){case"end-of-stream":return L.Z.debug("Init: end-of-stream order received."),function(e){return Lr(e).pipe((0,T.O)(null),(0,$e.w)((function(){return Nr(e)})))}(e).pipe((0,ne.l)(),(0,v.R)(R));case"resume-stream":return L.Z.debug("Init: resume-stream order received."),R.next(null),m.E;case"stream-status":var r=t.value,n=r.period,i=r.bufferType,a=r.imminentDiscontinuity,o=r.position;return D.next({period:n,bufferType:i,discontinuity:a,position:o}),m.E;default:return(0,l.of)(t)}}))),N=(0,Xr.Z)(t,a,i).pipe((0,ne.l)()),B=Vr(i,t,n,D,d),F=C.pipe((0,k.z)((function(e){if("autoplay-blocked"===e){var t=new U.Z("MEDIA_ERR_BLOCKED_AUTOPLAY","Cannot trigger auto-play automatically: your browser does not allow it.");return(0,l.of)(Mt.Z.warning(t),Mt.Z.loaded(x))}if("not-loaded-metadata"===e){var r=new U.Z("MEDIA_ERR_NOT_LOADED_METADATA","Cannot load automatically: your browser falsely announced having loaded the content.");return(0,l.of)(Mt.Z.warning(r))}return L.Z.debug("Init: The current content is loaded."),(0,l.of)(Mt.Z.loaded(x))})));return(0,g.T)(E,F,N,B,j,M).pipe(oe((function(){x.disposeAll()})))}}var Qr=N.Z.FAILED_PARTIAL_UPDATE_MANIFEST_REFRESH_DELAY,Jr=N.Z.MAX_CONSECUTIVE_MANIFEST_PARSING_IN_UNSAFE_MODE,en=N.Z.MIN_MANIFEST_PARSING_TIME_TO_ENTER_UNSAFE_MODE;function tn(e){var t=e.initialManifest,r=e.manifestFetcher,n=e.minimumManifestUpdateInterval,i=e.scheduleRefresh$,a=function(e){var t=!1;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return new u.y((function(r){if(!t){t=!0;var i=e.apply(void 0,n).subscribe({next:function(e){r.next(e)},error:function(e){t=!1,r.error(e)},complete:function(){t=!1,r.complete()}});return function(){i.unsubscribe(),t=!1}}r.complete()}))}}((function(e,t){return r.fetch(e).pipe((0,k.z)((function(e){return"warning"===e.type?(0,l.of)(e):e.parse(t)})),(0,S.B)())})),o=t.manifest,s=0;return(0,c.P)((function(){return function e(t){var r=t.sendingTime,u=t.parsingTime,c=t.updatingTime,d=void 0!==u?u+(null!==c&&void 0!==c?c:0):void 0,f=s>0?s<Jr:void 0!==d&&d>=en,p=void 0===r?0:performance.now()-r,h=Math.max(n-p,0),v=i.pipe((0,k.z)((function(e){var t=e.completeRefresh,i=e.delay,a=e.canUseUnsafeMode&&f;return rn(null!==i&&void 0!==i?i:0,n,r).pipe((0,x.h)({completeRefresh:t,unsafeMode:a}))}))),y=null===o.expired?m.E:(0,pe.H)(h).pipe((0,A.j)((0,Ve.Dp)(o.expired)),(0,x.h)({completeRefresh:!0,unsafeMode:f})),b=function(){if(void 0===o.lifetime||o.lifetime<0)return m.E;var e,t=1e3*o.lifetime-p;return void 0===d?e=t:o.lifetime<3&&d>=100?(e=Math.min(Math.max(3e3-p,Math.max(t,0)+d),6*t),L.Z.info("MUS: Manifest update rythm is too frequent. Postponing next request.",t,e)):d>=1e3*o.lifetime/10?(e=Math.min(Math.max(t,0)+d,6*t),L.Z.info("MUS: Manifest took too long to parse. Postponing next request",e,e)):e=t,(0,pe.H)(Math.max(e,h)).pipe((0,x.h)({completeRefresh:!1,unsafeMode:f}))}();return(0,g.T)(b,v,y).pipe((0,w.q)(1),(0,k.z)((function(e){return function e(t){var r=t.completeRefresh,i=t.unsafeMode,u=o.updateUrl,c=r||void 0===u,d=c?o.getUrl():u,f=o.clockOffset;return i?(s+=1,L.Z.info('Init: Refreshing the Manifest in "unsafeMode" for the '+String(s)+" consecutive time.")):s>0&&(L.Z.info('Init: Not parsing the Manifest in "unsafeMode" anymore after '+String(s)+" consecutive times."),s=0),a(d,{externalClockOffset:f,previousManifest:o,unsafeMode:i}).pipe((0,k.z)((function(t){if("warning"===t.type)return(0,l.of)(t);var r=t.manifest,i=t.sendingTime,a=t.receivedTime,s=t.parsingTime,u=performance.now();if(c)o.replace(r);else try{o.update(r)}catch(f){var d=f instanceof Error?f.message:"unknown error";return L.Z.warn("MUS: Attempt to update Manifest failed: "+d,"Re-downloading the Manifest fully"),rn(Qr,n,i).pipe((0,k.z)((function(){return e({completeRefresh:!0,unsafeMode:!1})})))}return(0,l.of)({type:"parsed",manifest:o,sendingTime:i,receivedTime:a,parsingTime:s,updatingTime:performance.now()-u})})))}({completeRefresh:e.completeRefresh,unsafeMode:e.unsafeMode})})),(0,k.z)((function(t){return"warning"===t.type?(0,l.of)(t):e(t)})))}(t)}))}function rn(e,t,r){return(0,c.P)((function(){var n=void 0===r?0:performance.now()-r,i=Math.max(t-n,0);return(0,pe.H)(Math.max(e-n,i))}))}var nn=i(2447),an=N.Z.OUT_OF_SYNC_MANIFEST_REFRESH_DELAY,on=function(e){var t,n,i,a=e.adaptiveOptions,o=e.autoPlay,s=e.bufferOptions,u=e.clock$,c=e.keySystems,d=e.lowLatencyMode,f=e.manifest$,h=e.manifestFetcher,b=e.mediaElement,P=e.minimumManifestUpdateInterval,C=e.segmentFetcherCreator,A=e.setCurrentTime,M=e.speed$,I=e.startAt,R=e.textTrackOptions,D=new St(a),j=At(b).pipe((0,E.d)({refCount:!0})),N=new r.x,U=(0,Tt.Z)(b,c,N).pipe((0,He.Z)(),(0,S.B)()),B=(0,nn.Z)(b),F=U.pipe((t=function(e,t){switch(t.type){case"eme-disabled":case"attached-media-keys":return(0,l.of)({isEmeReady:!0,drmSystemId:e.drmSystemId});case"created-media-keys":var r=t.value.initializationDataSystemId;return j.pipe((0,k.z)((function(){return t.value.attachMediaKeys$.next(),!0===t.value.options.disableMediaKeysAttachmentLock?(0,l.of)({isEmeReady:!0,drmSystemId:r}):m.E})),(0,T.O)({isEmeReady:!1,drmSystemId:r}));default:return m.E}},n={isEmeReady:!1,drmSystemId:void 0},void 0===i&&(i=1/0),(0,O.e)((function(e,r){var a=n;return(0,ze.p)(e,r,(function(e,r){return t(a,e,r)}),i,(function(e){a=e}),!1,void 0,(function(){return a=null}))}))),(0,_.h)((function(e){return e.isEmeReady})),(0,w.q)(1),We((function(e){var t=e.drmSystemId;return j.pipe((0,y.U)((function(e){return{mediaSource:e,drmSystemId:t}})))}))),z=(0,p.a)([f,F]).pipe((0,k.z)((function(e){var t=e[0],n=e[1];if("warning"===t.type)return(0,l.of)(t);var i=t.manifest,a=n.mediaSource,c=n.drmSystemId;L.Z.debug("Init: Calculating initial time");var f=function(e,t,r){if(L.Z.debug("Init: calculating initial time"),null!=r){var n=e.getMinimumPosition(),i=e.getMaximumPosition();if(null!=r.position)return L.Z.debug("Init: using startAt.minimumPosition"),Math.max(Math.min(r.position,i),n);if(null!=r.wallClockTime){L.Z.debug("Init: using startAt.wallClockTime");var a=null==e.availabilityStartTime?0:e.availabilityStartTime,o=r.wallClockTime-a;return Math.max(Math.min(o,i),n)}if(null!=r.fromFirstPosition){L.Z.debug("Init: using startAt.fromFirstPosition");var s=r.fromFirstPosition;return s<=0?n:Math.min(i,n+s)}if(null!=r.fromLastPosition){L.Z.debug("Init: using startAt.fromLastPosition");var l=r.fromLastPosition;return l>=0?i:Math.max(n,i+l)}if(null!=r.percentage){L.Z.debug("Init: using startAt.percentage");var u=r.percentage;return u>100?i:u<0?n:n+ +u/100*(i-n)}}var c=e.getMinimumPosition();if(e.isLive){var d,f=e.suggestedPresentationDelay,p=e.clockOffset,h=e.getMaximumPosition();if(null==p)L.Z.info("Init: no clock offset found for a live content, starting close to maximum available position"),d=h;else{L.Z.info("Init: clock offset found for a live content, checking if we can start close to it");var g=null==e.availabilityStartTime?0:e.availabilityStartTime,m=(performance.now()+p)/1e3-g;d=Math.min(h,m)}var v=void 0!==f?f:t?It.LOW_LATENCY:It.DEFAULT;return L.Z.debug("Init: "+d+" defined as the live time, applying a live gap of "+v),Math.max(d-v,c)}return L.Z.info("Init: starting at the minimum available position:",c),c}(i,d,I);L.Z.debug("Init: Initial time calculated:",f);var p=Yr({abrManager:D,bufferOptions:(0,q.Z)({textTrackOptions:R,drmSystemId:c},s),clock$:u,manifest:i,mediaElement:b,segmentFetcherCreator:C,speed$:M,setCurrentTime:A}),m=function e(t,n,i){var a=new r.x,o=p(t,n,i).pipe((0,le.Z)((function(e){switch(e.type){case"needs-manifest-refresh":return E.next({completeRefresh:!1,canUseUnsafeMode:!0}),null;case"manifest-might-be-out-of-sync":return E.next({completeRefresh:!0,canUseUnsafeMode:!1,delay:an}),null;case"needs-media-source-reload":return a.next(e.value),null;case"needs-decipherability-flush":var t=re(b);if(null===(n=t)||n.indexOf("widevine")<0)return a.next(e.value),null;var r=e.value.position;return r+.001<e.value.duration?A(b.currentTime+.001):A(r),null;case"encryption-data-encountered":return N.next(e.value),null;case"needs-buffer-flush":return A(b.currentTime+.001),null}var n;return e}),null)).pipe((0,v.R)(a)),s=a.pipe((0,$e.w)((function(t){return At(b).pipe((0,k.z)((function(r){return e(r,t.position,t.autoPlay)})),(0,T.O)(Mt.Z.reloadingMediaSource()))})));return(0,g.T)(s,o)}(a,f,o),E=new r.x,_=tn({initialManifest:t,manifestFetcher:h,minimumManifestUpdateInterval:P,scheduleRefresh$:E}),S=(0,g.T)((0,K.R)(i,"manifestUpdate").pipe((0,x.h)(Mt.Z.manifestUpdate())),(0,K.R)(i,"decipherabilityUpdate").pipe((0,y.U)(Mt.Z.decipherabilityUpdate))),w=U.pipe((0,Ae.b)((function(e){"keys-update"===e.type?i.updateDeciperabilitiesBasedOnKeyIds(e.value):"blacklist-protection-data"===e.type&&(L.Z.info("Init: blacklisting Representations based on protection data."),i.addUndecipherableProtectionData(e.value))})),(0,ne.l)());return(0,g.T)(S,_,w,m).pipe((0,T.O)(Mt.Z.manifestReady(i)),oe((function(){E.complete()})))})));return(0,g.T)(z,B,U)},sn=N.Z.SAMPLING_INTERVAL_MEDIASOURCE,ln=N.Z.SAMPLING_INTERVAL_LOW_LATENCY,un=N.Z.SAMPLING_INTERVAL_NO_MEDIASOURCE,cn=N.Z.RESUME_GAP_AFTER_SEEKING,dn=N.Z.RESUME_GAP_AFTER_NOT_ENOUGH_DATA,fn=N.Z.RESUME_GAP_AFTER_BUFFERING,pn=N.Z.STALL_GAP,hn=["canplay","play","seeking","seeked","loadedmetadata","ratechange"];function gn(e,t){if(null===e)return 0;var r=t?"LOW_LATENCY":"DEFAULT";switch(e.reason){case"seeking":case"internal-seek":return cn[r];case"not-ready":return dn[r];case"buffering":return fn[r]}}function mn(e,t){var r=e.buffered,n=e.currentTime,i=e.duration,a=e.ended,o=e.paused,s=e.playbackRate,l=e.readyState,u=e.seeking,c=(0,Y.rx)(r,n);return{bufferGap:null!==c?c.end-n:1/0,buffered:r,currentRange:c,position:n,duration:i,ended:a,paused:o,playbackRate:s,readyState:l,seeking:u,event:t}}function vn(e,t,r){var n,i,a,o=r.withMediaSource,s=r.lowLatencyMode,l=t.event,u=t.position,c=t.bufferGap,d=t.currentRange,f=t.duration,p=t.paused,h=t.readyState,g=t.ended,m=e.stalled,v=e.event,y=e.position,b=function(e,t,r){var n=r?"LOW_LATENCY":"DEFAULT";return null!==e&&t-e.end<=pn[n]}(d,f,s),k=h>=1&&"loadedmetadata"!==l&&null===m&&!(b||g),E=null,_=s?pn.LOW_LATENCY:pn.DEFAULT;if(o){if(k)c<=_?(n=!0,E=u+c):c===1/0?(n=!0,E=u):1===h&&(n=!0);else if(null!==m){var S=gn(m,s);!0!==n&&null!==m&&h>1&&(b||g||c<1/0&&c>S)?i=!0:(c===1/0||c<=S)&&(E=c===1/0?u:u+c)}}else k&&(!p&&"timeupdate"===l&&"timeupdate"===v&&u===y||"seeking"===l&&c===1/0)?n=!0:null!==m&&("seeking"!==l&&u!==y||"canplay"===l||c<1/0&&(c>gn(m,s)||b||g))&&(i=!0);return!0===i?null:!0===n||null!==m?(a="seeking"===l||null!==m&&"seeking"===m.reason?"seeking":t.seeking&&("internal-seeking"===l||null!==m&&"internal-seek"===m.reason)?"internal-seek":t.seeking?"seeking":1===h?"not-ready":"buffering",null!==m&&m.reason===a?{reason:m.reason,timestamp:m.timestamp,position:E}:{reason:a,timestamp:performance.now(),position:E}):null}var yn=function(e,t){var r=0;return{clock$:(0,c.P)((function(){var n=(0,q.Z)(mn(e,"init"),{stalled:null,getCurrentTime:function(){return e.currentTime}}),i=hn.map((function(t){return(0,Lt.R)(e,t).pipe((0,x.h)(t))})),a=t.lowLatencyMode?ln:t.withMediaSource?sn:un,o=(0,Dt.F)(a).pipe((0,x.h)("timeupdate"));return g.T.apply(void 0,[o].concat(i)).pipe((0,y.U)((function(i){return n=function(i){var a=i;"seeking"===a&&r>0&&(a="internal-seeking",r-=1);var o=mn(e,a),s=vn(n,o,t),l=(0,q.Z)({},{stalled:s,getCurrentTime:function(){return e.currentTime}},o);return L.Z.debug("API: current media element state",l),l}(i),"DEBUG"===L.Z.getLevel()&&L.Z.debug("API: current playback timeline:\n"+function(e,t){for(var r="",n="",i=0;i<e.length;i++){var a=e.start(i),o=e.end(i),s=a.toFixed(2),l=o.toFixed(2),u=(o-a).toFixed(2),c=s+"|=="+u+"==|"+l;if(r+=c,0===n.length&&o>t){var d=r.length-Math.floor(c.length/2);n=" ".repeat(d)+"^"+t}if(i<e.length-1){var f=e.start(i+1),p=" ~"+(f-o).toFixed(2)+"~ ";if(r+=p,0===n.length&&t<f){var h=r.length-Math.floor(p.length/2);n=" ".repeat(h)+"^"+t}}}return 0===n.length&&(n=" ".repeat(r.length)+"^"+t),r+"\n"+n}(n.buffered,n.position),"\n"+i),n})),(0,T.O)(n))})).pipe((0,E.d)({bufferSize:1,refCount:!0})),setCurrentTime:function(t){e.currentTime=t,r+=1}}},bn=N.Z.FORCED_ENDED_THRESHOLD,kn="STOPPED",En="LOADED",_n="LOADING",Sn="PLAYING",Tn="PAUSED",wn="ENDED",xn="BUFFERING",On="SEEKING",Pn="RELOADING",Cn=i(5553);function An(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"===typeof e)return Mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mn(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var In=N.Z.DEFAULT_AUDIO_TRACK_SWITCHING_MODE,Rn=N.Z.DEFAULT_AUTO_PLAY,Dn=N.Z.DEFAULT_CODEC_SWITCHING_BEHAVIOR,Ln=N.Z.DEFAULT_ENABLE_FAST_SWITCHING,jn=N.Z.DEFAULT_INITIAL_BITRATES,Nn=N.Z.DEFAULT_LIMIT_VIDEO_WIDTH,Un=N.Z.DEFAULT_MANUAL_BITRATE_SWITCHING_MODE,Bn=N.Z.DEFAULT_MIN_BITRATES,Fn=N.Z.DEFAULT_MAX_BITRATES,zn=N.Z.DEFAULT_MAX_BUFFER_AHEAD,Vn=N.Z.DEFAULT_MAX_BUFFER_BEHIND,Wn=N.Z.DEFAULT_SHOW_NATIVE_SUBTITLE,$n=N.Z.DEFAULT_STOP_AT_END,Hn=N.Z.DEFAULT_TEXT_TRACK_MODE,Kn=N.Z.DEFAULT_THROTTLE_WHEN_HIDDEN,Gn=N.Z.DEFAULT_THROTTLE_VIDEO_BITRATE_WHEN_HIDDEN,Zn=N.Z.DEFAULT_WANTED_BUFFER_AHEAD,qn=i(7829);function Xn(e){return e.map((function(e){return null==e?e:{normalized:void 0===e.language?void 0:(0,qn.ZP)(e.language),audioDescription:e.audioDescription,codec:e.codec}}))}function Yn(e){return e.map((function(e){return null==e?e:{normalized:(0,qn.ZP)(e.language),closedCaption:e.closedCaption}}))}var Qn=function(){function e(e){this._periods=new $t((function(e,t){return e.period.start-t.period.start})),this._audioChoiceMemory=new WeakMap,this._textChoiceMemory=new WeakMap,this._videoChoiceMemory=new WeakMap,this._preferredAudioTracks=[],this._preferredTextTracks=[],this._preferredVideoTracks=[],this.trickModeTrackEnabled=e.preferTrickModeTracks}var t=e.prototype;return t.setPreferredAudioTracks=function(e,t){this._preferredAudioTracks=e,t&&this._applyAudioPreferences()},t.setPreferredTextTracks=function(e,t){this._preferredTextTracks=e,t&&this._applyTextPreferences()},t.setPreferredVideoTracks=function(e,t){this._preferredVideoTracks=e,t&&this._applyVideoPreferences()},t.addPeriod=function(e,t,r){var n=ai(this._periods,t),i=t.getSupportedAdaptations(e);if(null!=n){if(null!=n[e])return void L.Z.warn("TrackChoiceManager: "+e+" already added for period",t);n[e]={adaptations:i,adaptation$:r}}else{var a;this._periods.add(((a={period:t})[e]={adaptations:i,adaptation$:r},a))}},t.removePeriod=function(e,t){var r=function(e,t){for(var r=0;r<e.length();r++)if(e.get(r).period.id===t.id)return r}(this._periods,t);if(null!=r){var n=this._periods.get(r);null!=n[e]?(delete n[e],null==n.audio&&null==n.text&&null==n.video&&this._periods.removeElement(n)):L.Z.warn("TrackChoiceManager: "+e+" already removed for period",t)}else L.Z.warn("TrackChoiceManager: "+e+" not found for period",t)},t.resetPeriods=function(){for(;this._periods.length()>0;)this._periods.pop()},t.update=function(){this._resetChosenAudioTracks(),this._resetChosenTextTracks(),this._resetChosenVideoTracks()},t.setInitialAudioTrack=function(e){var t=ai(this._periods,e),r=null!=t?t.audio:null;if(null==r||null==t)throw new Error("TrackChoiceManager: Given Period not found.");var n=e.getSupportedAdaptations("audio"),i=this._audioChoiceMemory.get(e);if(null===i)r.adaptation$.next(null);else if(void 0!==i&&(0,Me.Z)(n,i))r.adaptation$.next(i);else{var a=ei(n,Xn(this._preferredAudioTracks));this._audioChoiceMemory.set(e,a),r.adaptation$.next(a)}},t.setInitialTextTrack=function(e){var t=ai(this._periods,e),r=null!=t?t.text:null;if(null==r||null==t)throw new Error("TrackChoiceManager: Given Period not found.");var n=e.getSupportedAdaptations("text"),i=this._textChoiceMemory.get(e);if(null===i)r.adaptation$.next(null);else if(void 0!==i&&(0,Me.Z)(n,i))r.adaptation$.next(i);else{var a=ri(n,Yn(this._preferredTextTracks));this._textChoiceMemory.set(e,a),r.adaptation$.next(a)}},t.setInitialVideoTrack=function(e){var t=ai(this._periods,e),r=null!=t?t.video:null;if(null==r||null==t)throw new Error("TrackChoiceManager: Given Period not found.");var n,i=e.getSupportedAdaptations("video"),a=this._videoChoiceMemory.get(e);if(null===(n=null===a?null:void 0!==a&&(0,Me.Z)(i,a.baseAdaptation)?a.baseAdaptation:ii(i,this._preferredVideoTracks)))return this._videoChoiceMemory.set(e,null),void r.adaptation$.next(null);var o=li(n,this.trickModeTrackEnabled);this._videoChoiceMemory.set(e,{baseAdaptation:n,adaptation:o}),r.adaptation$.next(o)},t.setAudioTrackByID=function(e,t){var r=ai(this._periods,e),n=null!=r?r.audio:null;if(null==n)throw new Error("TrackChoiceManager: Given Period not found.");var i=(0,st.Z)(n.adaptations,(function(e){return e.id===t}));if(void 0===i)throw new Error("Audio Track not found.");this._audioChoiceMemory.get(e)!==i&&(this._audioChoiceMemory.set(e,i),n.adaptation$.next(i))},t.setTextTrackByID=function(e,t){var r=ai(this._periods,e),n=null!=r?r.text:null;if(null==n)throw new Error("TrackChoiceManager: Given Period not found.");var i=(0,st.Z)(n.adaptations,(function(e){return e.id===t}));if(void 0===i)throw new Error("Text Track not found.");this._textChoiceMemory.get(e)!==i&&(this._textChoiceMemory.set(e,i),n.adaptation$.next(i))},t.setVideoTrackByID=function(e,t){var r=ai(this._periods,e),n=null!=r?r.video:null;if(null==n)throw new Error("LanguageManager: Given Period not found.");var i=(0,st.Z)(n.adaptations,(function(e){return e.id===t}));if(void 0===i)throw new Error("Video Track not found.");var a=li(i,this.trickModeTrackEnabled);this._videoChoiceMemory.set(e,{baseAdaptation:i,adaptation:a}),n.adaptation$.next(a)},t.disableTextTrack=function(e){var t=ai(this._periods,e),r=null!=t?t.text:null;if(null==r)throw new Error("TrackChoiceManager: Given Period not found.");null!==this._textChoiceMemory.get(e)&&(this._textChoiceMemory.set(e,null),r.adaptation$.next(null))},t.disableVideoTrack=function(e){var t=ai(this._periods,e),r=null===t||void 0===t?void 0:t.video;if(void 0===r)throw new Error("TrackManager: Given Period not found.");null!==this._videoChoiceMemory.get(e)&&(this._videoChoiceMemory.set(e,null),r.adaptation$.next(null))},t.disableVideoTrickModeTracks=function(){this.trickModeTrackEnabled=!1,this._resetChosenVideoTracks()},t.enableVideoTrickModeTracks=function(){this.trickModeTrackEnabled=!0,this._resetChosenVideoTracks()},t.isTrickModeEnabled=function(){return this.trickModeTrackEnabled},t.getChosenAudioTrack=function(e){var t=ai(this._periods,e);if(null==(null!=t?t.audio:null))return null;var r=this._audioChoiceMemory.get(e);if(null==r)return null;var n={language:(0,Ke.Z)(r.language,""),normalized:(0,Ke.Z)(r.normalizedLanguage,""),audioDescription:!0===r.isAudioDescription,id:r.id,representations:r.representations.map(si)};return!0===r.isDub&&(n.dub=!0),n},t.getChosenTextTrack=function(e){var t=ai(this._periods,e);if(null==(null!=t?t.text:null))return null;var r=this._textChoiceMemory.get(e);return null==r?null:{language:(0,Ke.Z)(r.language,""),normalized:(0,Ke.Z)(r.normalizedLanguage,""),closedCaption:!0===r.isClosedCaption,id:r.id}},t.getChosenVideoTrack=function(e){var t=ai(this._periods,e);if(null==(null!=t?t.video:null))return null;var r=this._videoChoiceMemory.get(e);if(void 0===r)return null;if(null===r)return null;var n=r.adaptation,i=void 0!==n.trickModeTracks?n.trickModeTracks.map((function(e){var t=e.representations.map(oi),r={id:e.id,representations:t,isTrickModeTrack:!0};return!0===e.isSignInterpreted&&(r.signInterpreted=!0),r})):void 0,a={id:n.id,representations:n.representations.map(oi)};return!0===n.isSignInterpreted&&(a.signInterpreted=!0),!0===n.isTrickModeTrack&&(a.isTrickModeTrack=!0),void 0!==i&&(a.trickModeTracks=i),a},t.getAvailableAudioTracks=function(e){var t=ai(this._periods,e),r=null!=t?t.audio:null;if(null==r)return[];var n=this._audioChoiceMemory.get(e),i=null!=n?n.id:null;return r.adaptations.map((function(e){var t={language:(0,Ke.Z)(e.language,""),normalized:(0,Ke.Z)(e.normalizedLanguage,""),audioDescription:!0===e.isAudioDescription,id:e.id,active:null!=i&&i===e.id,representations:e.representations.map(si)};return!0===e.isDub&&(t.dub=!0),t}))},t.getAvailableTextTracks=function(e){var t=ai(this._periods,e),r=null!=t?t.text:null;if(null==r)return[];var n=this._textChoiceMemory.get(e),i=null!=n?n.id:null;return r.adaptations.map((function(e){return{language:(0,Ke.Z)(e.language,""),normalized:(0,Ke.Z)(e.normalizedLanguage,""),closedCaption:!0===e.isClosedCaption,id:e.id,active:null!=i&&i===e.id}}))},t.getAvailableVideoTracks=function(e){var t,r=ai(this._periods,e),n=null!=r?r.video:null;if(null==n)return[];var i=this._videoChoiceMemory.get(e),a=void 0===i?void 0:null!==(t=null===i||void 0===i?void 0:i.adaptation.id)&&void 0!==t?t:void 0;return n.adaptations.map((function(e){var t=void 0!==e.trickModeTracks?e.trickModeTracks.map((function(e){var t=null!==a&&a===e.id,r=e.representations.map(oi),n={id:e.id,representations:r,isTrickModeTrack:!0,active:t};return!0===e.isSignInterpreted&&(n.signInterpreted=!0),n})):void 0,r={id:e.id,active:null!==a&&a===e.id,representations:e.representations.map(oi)};return!0===e.isSignInterpreted&&(r.signInterpreted=!0),void 0!==t&&(r.trickModeTracks=t),r}))},t._applyAudioPreferences=function(){this._audioChoiceMemory=new WeakMap,this._resetChosenAudioTracks()},t._applyTextPreferences=function(){this._textChoiceMemory=new WeakMap,this._resetChosenTextTracks()},t._applyVideoPreferences=function(){this._videoChoiceMemory=new WeakMap,this._resetChosenVideoTracks()},t._resetChosenAudioTracks=function(){var e=this,t=Xn(this._preferredAudioTracks);!function r(n){if(!(n>=e._periods.length())){var i=e._periods.get(n);if(null!=i.audio){var a=i.period,o=i.audio,s=a.getSupportedAdaptations("audio"),l=e._audioChoiceMemory.get(a);if(null===l||void 0!==l&&(0,Me.Z)(s,l))r(n+1);else{var u=ei(s,t);e._audioChoiceMemory.set(a,u),o.adaptation$.next(u),r(0)}}else r(n+1)}}(0)},t._resetChosenTextTracks=function(){var e=this,t=Yn(this._preferredTextTracks);!function r(n){if(!(n>=e._periods.length())){var i=e._periods.get(n);if(null!=i.text){var a=i.period,o=i.text,s=a.getSupportedAdaptations("text"),l=e._textChoiceMemory.get(a);if(null===l||void 0!==l&&(0,Me.Z)(s,l))r(n+1);else{var u=ri(s,t);e._textChoiceMemory.set(a,u),o.adaptation$.next(u),r(0)}}else r(n+1)}}(0)},t._resetChosenVideoTracks=function(){var e=this,t=this._preferredVideoTracks;!function r(n){if(!(n>=e._periods.length())){var i=e._periods.get(n);if(null!=i.video){var a=i.period,o=i.video,s=a.getSupportedAdaptations("video"),l=e._videoChoiceMemory.get(a);if(null!==l){if(void 0!==l&&(0,Me.Z)(s,l.baseAdaptation)){var u=li(l.baseAdaptation,e.trickModeTrackEnabled);return u.id===l.adaptation.id?void r(n+1):(e._videoChoiceMemory.set(a,{baseAdaptation:l.baseAdaptation,adaptation:u}),o.adaptation$.next(u),r(0))}var c=ii(s,t);if(null===c)return e._videoChoiceMemory.set(a,null),o.adaptation$.next(null),r(0);var d=li(c,e.trickModeTrackEnabled);return e._videoChoiceMemory.set(a,{baseAdaptation:c,adaptation:d}),o.adaptation$.next(d),r(0)}r(n+1)}else r(n+1)}}(0)},e}();function Jn(e){return function(t){var r;if(void 0!==e.normalized&&(null!==(r=t.normalizedLanguage)&&void 0!==r?r:"")!==e.normalized)return!1;if(void 0!==e.audioDescription)if(e.audioDescription){if(!0!==t.isAudioDescription)return!1}else if(!0===t.isAudioDescription)return!1;if(void 0===e.codec)return!0;var n=e.codec.test,i=function(e){return void 0!==e.codec&&n.test(e.codec)};return e.codec.all?t.representations.every(i):t.representations.some(i)}}function ei(e,t){if(0===e.length)return null;for(var r=0;r<t.length;r++){var n=t[r];if(null===n)return null;var i=Jn(n),a=(0,st.Z)(e,i);if(void 0!==a)return a}return e[0]}function ti(e){return function(t){return(0,Ke.Z)(t.normalizedLanguage,"")===e.normalized&&(e.closedCaption?!0===t.isClosedCaption:!0!==t.isClosedCaption)}}function ri(e,t){if(0===e.length)return null;for(var r=0;r<t.length;r++){var n=t[r];if(null===n)return null;var i=ti(n),a=(0,st.Z)(e,i);if(void 0!==a)return a}return null}function ni(e){return function(t){if(void 0!==e.signInterpreted&&e.signInterpreted!==t.isSignInterpreted)return!1;if(void 0===e.codec)return!0;var r=e.codec.test,n=function(e){return void 0!==e.codec&&r.test(e.codec)};return e.codec.all?t.representations.every(n):t.representations.some(n)}}function ii(e,t){if(0===e.length)return null;for(var r=0;r<t.length;r++){var n=t[r];if(null===n)return null;var i=ni(n),a=(0,st.Z)(e,i);if(void 0!==a)return a}return e[0]}function ai(e,t){for(var r=0;r<e.length();r++){var n=e.get(r);if(n.period.id===t.id)return n}}function oi(e){return{id:e.id,bitrate:e.bitrate,frameRate:e.frameRate,width:e.width,height:e.height,codec:e.codec,hdrInfo:e.hdrInfo}}function si(e){return{id:e.id,bitrate:e.bitrate,codec:e.codec}}function li(e,t){var r;return t&&void 0!==(null===(r=e.trickModeTracks)||void 0===r?void 0:r[0])?e.trickModeTracks[0]:e}var ui=N.Z.DEFAULT_UNMUTED_VOLUME,ci=M.zh,di=M._K,fi=M.C1,pi=M.Q1,hi=M.Qt,gi=M.yj,mi=M.d5,vi=M.UA,yi=M.$x,bi=function(i){function a(e){var t;void 0===e&&(e={}),t=i.call(this)||this;var a=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g;if((0,G.Z)(e.maxBufferAhead))t=zn;else if(t=Number(e.maxBufferAhead),isNaN(t))throw new Error("Invalid maxBufferAhead parameter. Should be a number.");if((0,G.Z)(e.maxBufferBehind))r=Vn;else if(r=Number(e.maxBufferBehind),isNaN(r))throw new Error("Invalid maxBufferBehind parameter. Should be a number.");if((0,G.Z)(e.wantedBufferAhead))n=Zn;else if(n=Number(e.wantedBufferAhead),isNaN(n))throw new Error("Invalid wantedBufferAhead parameter. Should be a number.");var m=(0,G.Z)(e.limitVideoWidth)?Nn:!!e.limitVideoWidth;if((0,G.Z)(e.throttleWhenHidden)?i=Kn:((0,Q.Z)("`throttleWhenHidden` API is deprecated. Consider using `throttleVideoBitrateWhenHidden` instead."),i=!!e.throttleWhenHidden),a=!i&&((0,G.Z)(e.throttleVideoBitrateWhenHidden)?Gn:!!e.throttleVideoBitrateWhenHidden),void 0!==e.preferredTextTracks?Array.isArray(e.preferredTextTracks)?s=e.preferredTextTracks:((0,Q.Z)("Invalid `preferredTextTracks` option, it should be an Array"),s=[]):s=[],void 0!==e.preferredAudioTracks?Array.isArray(e.preferredAudioTracks)?o=e.preferredAudioTracks:((0,Q.Z)("Invalid `preferredAudioTracks` option, it should be an Array"),o=[]):o=[],void 0!==e.preferredVideoTracks?Array.isArray(e.preferredVideoTracks)?l=e.preferredVideoTracks:((0,Q.Z)("Invalid `preferredVideoTracks` option, it should be an Array"),l=[]):l=[],(0,G.Z)(e.videoElement))u=document.createElement("video");else{if(!(e.videoElement instanceof HTMLMediaElement))throw new Error("Invalid videoElement parameter. Should be a HTMLMediaElement.");u=e.videoElement}if((0,G.Z)(e.initialVideoBitrate))c=jn.video;else if(c=Number(e.initialVideoBitrate),isNaN(c))throw new Error("Invalid initialVideoBitrate parameter. Should be a number.");if((0,G.Z)(e.initialAudioBitrate))d=jn.audio;else if(d=Number(e.initialAudioBitrate),isNaN(d))throw new Error("Invalid initialAudioBitrate parameter. Should be a number.");if((0,G.Z)(e.minVideoBitrate))p=Bn.video;else if(p=Number(e.minVideoBitrate),isNaN(p))throw new Error("Invalid maxVideoBitrate parameter. Should be a number.");if((0,G.Z)(e.minAudioBitrate))f=Bn.audio;else if(f=Number(e.minAudioBitrate),isNaN(f))throw new Error("Invalid minAudioBitrate parameter. Should be a number.");if((0,G.Z)(e.maxVideoBitrate))g=Fn.video;else{if(g=Number(e.maxVideoBitrate),isNaN(g))throw new Error("Invalid maxVideoBitrate parameter. Should be a number.");if(p>g)throw new Error('Invalid maxVideoBitrate parameter. Its value, "'+g+'", is inferior to the set minVideoBitrate, "'+p+'"')}if((0,G.Z)(e.maxAudioBitrate))h=Fn.audio;else{if(h=Number(e.maxAudioBitrate),isNaN(h))throw new Error("Invalid maxAudioBitrate parameter. Should be a number.");if(f>h)throw new Error('Invalid maxAudioBitrate parameter. Its value, "'+h+'", is inferior to the set minAudioBitrate, "'+f+'"')}return{maxBufferAhead:t,maxBufferBehind:r,limitVideoWidth:m,videoElement:u,wantedBufferAhead:n,throttleWhenHidden:i,throttleVideoBitrateWhenHidden:a,preferredAudioTracks:o,preferredTextTracks:s,preferredVideoTracks:l,initialAudioBitrate:d,initialVideoBitrate:c,minAudioBitrate:f,minVideoBitrate:p,maxAudioBitrate:h,maxVideoBitrate:g,stopAtEnd:(0,G.Z)(e.stopAtEnd)?$n:!!e.stopAtEnd}}(e),o=a.initialAudioBitrate,l=a.initialVideoBitrate,u=a.limitVideoWidth,c=a.minAudioBitrate,d=a.minVideoBitrate,f=a.maxAudioBitrate,p=a.maxBufferAhead,h=a.maxBufferBehind,g=a.maxVideoBitrate,m=a.preferredAudioTracks,k=a.preferredTextTracks,E=a.preferredVideoTracks,_=a.throttleWhenHidden,S=a.throttleVideoBitrateWhenHidden,T=a.videoElement,w=a.wantedBufferAhead,x=a.stopAtEnd;return T.preload="auto",t.version="3.26.0",t.log=L.Z,t.state="STOPPED",t.videoElement=T,t._priv_destroy$=new r.x,t._priv_pictureInPictureEvent$=new n.t(1),gi(T).pipe((0,v.R)(t._priv_destroy$)).subscribe(t._priv_pictureInPictureEvent$),pi(T).pipe((0,v.R)(t._priv_destroy$)).subscribe((function(){return t.trigger("fullscreenChange",t.isFullscreen())})),vi(T.textTracks).pipe((0,v.R)(t._priv_destroy$),(0,y.U)((function(e){for(var t=e.target,r=[],n=0;n<t.length;n++){var i=t[n];r.push(i)}return r})),(0,b.x)((function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}))).subscribe((function(e){return t._priv_onNativeTextTracksNext(e)})),t._priv_playing$=new n.t(1),t._priv_speed$=new s(T.playbackRate),t._priv_preferTrickModeTracks=!1,t._priv_contentLock$=new s(!1),t._priv_bufferOptions={wantedBufferAhead$:new s(w),maxBufferAhead$:new s(p),maxBufferBehind$:new s(h)},t._priv_bitrateInfos={lastBitrates:{audio:o,video:l},minAutoBitrates:{audio:new s(c),video:new s(d)},maxAutoBitrates:{audio:new s(f),video:new s(g)},manualBitrates:{audio:new s(-1),video:new s(-1)}},t._priv_throttleWhenHidden=_,t._priv_throttleVideoBitrateWhenHidden=S,t._priv_limitVideoWidth=u,t._priv_mutedMemory=ui,t._priv_trackChoiceManager=null,t._priv_mediaElementTrackChoiceManager=null,t._priv_currentError=null,t._priv_contentInfos=null,t._priv_contentEventsMemory={},t._priv_stopAtEnd=x,t._priv_setPlayerState(kn),t._priv_preferredAudioTracks=m,t._priv_preferredTextTracks=k,t._priv_preferredVideoTracks=E,t._priv_lastContentPlaybackInfos={},t}(0,t.Z)(a,i);var o=a.prototype;return o.stop=function(){null!==this._priv_contentInfos&&(this._priv_contentInfos.stop$.next(),this._priv_contentInfos.stop$.complete()),this._priv_cleanUpCurrentContentState(),this.state!==kn&&this._priv_setPlayerState(kn)},o.dispose=function(){this.stop(),null!==this.videoElement&&te(this.videoElement).subscribe(Z.Z),this._priv_destroy$.next(),this._priv_destroy$.complete(),this._priv_playing$.complete(),this._priv_speed$.complete(),this._priv_contentLock$.complete(),this._priv_bufferOptions.wantedBufferAhead$.complete(),this._priv_bufferOptions.maxBufferAhead$.complete(),this._priv_bufferOptions.maxBufferBehind$.complete(),this._priv_pictureInPictureEvent$.complete(),this._priv_bitrateInfos.manualBitrates.video.complete(),this._priv_bitrateInfos.manualBitrates.audio.complete(),this._priv_bitrateInfos.minAutoBitrates.video.complete(),this._priv_bitrateInfos.minAutoBitrates.audio.complete(),this._priv_bitrateInfos.maxAutoBitrates.video.complete(),this._priv_bitrateInfos.maxAutoBitrates.audio.complete(),this._priv_lastContentPlaybackInfos={},this.videoElement=null},o.loadVideo=function(e){var t=function(e){var t,r,n,i,a,o,s,l,u,c,d,f;if((0,G.Z)(e))throw new Error("No option set on loadVideo");if((0,G.Z)(e.url)){if((0,G.Z)(null===(t=e.transportOptions)||void 0===t?void 0:t.initialManifest)&&(0,G.Z)(null===(r=e.transportOptions)||void 0===r?void 0:r.manifestLoader))throw new Error("Unable to load a content: no url set on loadVideo.\nPlease provide at least either an `url` argument, a `transportOptions.initialManifest` option or a `transportOptions.manifestLoader` option so the RxPlayer can load the content.")}else s=String(e.url);if((0,G.Z)(e.transport))throw new Error("No transport set on loadVideo");l=String(e.transport);var p=(0,G.Z)(e.autoPlay)?Rn:!!e.autoPlay;if((0,G.Z)(e.keySystems))u=[];else for(var h,g=An(u=Array.isArray(e.keySystems)?e.keySystems:[e.keySystems]);!(h=g()).done;){var m=h.value;if("string"!==typeof m.type||"function"!==typeof m.getLicense)throw new Error("Invalid key system given: Missing type string or getLicense callback")}var v=void 0!==e.lowLatencyMode&&!!e.lowLatencyMode,y="object"===typeof e.transportOptions&&null!==e.transportOptions?e.transportOptions:{},b=null===(n=e.transportOptions)||void 0===n?void 0:n.initialManifest,k=null!==(a=null===(i=e.transportOptions)||void 0===i?void 0:i.minimumManifestUpdateInterval)&&void 0!==a?a:0,E=(0,G.Z)(e.audioTrackSwitchingMode)?In:e.audioTrackSwitchingMode;(0,Me.Z)(["seamless","direct"],E)||(L.Z.warn("The `audioTrackSwitchingMode` loadVideo option must match one of the following strategy name:\n- `seamless`\n- `direct`\nIf badly set, "+In+" strategy will be used as default"),E=In);var _=(0,G.Z)(e.onCodecSwitch)?Dn:e.onCodecSwitch;(0,Me.Z)(["continue","reload"],_)||(L.Z.warn("The `onCodecSwitch` loadVideo option must match one of the following string:\n- `continue`\n- `reload`\nIf badly set, "+Dn+" will be used as default"),_=Dn);var S=(0,q.Z)({},y,{supplementaryImageTracks:[],supplementaryTextTracks:[],lowLatencyMode:v});if(delete S.initialManifest,delete S.minimumManifestUpdateInterval,void 0!==e.supplementaryTextTracks){(0,Q.Z)("The `supplementaryTextTracks` loadVideo option is deprecated.\nPlease use the `TextTrackRenderer` tool instead.");for(var T,w=Array.isArray(e.supplementaryTextTracks)?e.supplementaryTextTracks:[e.supplementaryTextTracks],x=An(w);!(T=x()).done;){var O=T.value;if("string"!==typeof O.language||"string"!==typeof O.mimeType||"string"!==typeof O.url)throw new Error("Invalid supplementary text track given. Missing either language, mimetype or url")}S.supplementaryTextTracks=w}if(void 0!==e.supplementaryImageTracks){(0,Q.Z)("The `supplementaryImageTracks` loadVideo option is deprecated.\nPlease use the `parseBifThumbnails` tool instead.");for(var P,C=Array.isArray(e.supplementaryImageTracks)?e.supplementaryImageTracks:[e.supplementaryImageTracks],A=An(C);!(P=A()).done;){var M=P.value;if("string"!==typeof M.mimeType||"string"!==typeof M.url)throw new Error("Invalid supplementary image track given. Missing either mimetype or url")}S.supplementaryImageTracks=C}if((0,G.Z)(e.textTrackMode))c=Hn;else{if("native"!==e.textTrackMode&&"html"!==e.textTrackMode)throw new Error("Invalid textTrackMode.");c=e.textTrackMode}(0,G.Z)(e.defaultAudioTrack)||(0,Q.Z)("The `defaultAudioTrack` loadVideo option is deprecated.\nPlease use the `preferredAudioTracks` constructor option or the`setPreferredAudioTracks` method instead");var I=(0,Cn.iH)(e.defaultAudioTrack);(0,G.Z)(e.defaultTextTrack)||(0,Q.Z)("The `defaultTextTrack` loadVideo option is deprecated.\nPlease use the `preferredTextTracks` constructor option or the`setPreferredTextTracks` method instead");var R=(0,Cn.Y1)(e.defaultTextTrack),D=!Wn;(0,G.Z)(e.hideNativeSubtitle)||((0,Q.Z)("The `hideNativeSubtitle` loadVideo option is deprecated"),D=!!e.hideNativeSubtitle);var j=null!==(o=e.manualBitrateSwitchingMode)&&void 0!==o?o:Un,N=(0,G.Z)(e.enableFastSwitching)?Ln:e.enableFastSwitching;if("html"===c){if((0,G.Z)(e.textTrackElement))throw new Error('You have to provide a textTrackElement in "html" textTrackMode.');if(!(e.textTrackElement instanceof HTMLElement))throw new Error("textTrackElement should be an HTMLElement.");d=e.textTrackElement}else(0,G.Z)(e.textTrackElement)||L.Z.warn('API: You have set a textTrackElement without being in an "html" textTrackMode. It will be ignored.');if(!(0,G.Z)(e.startAt))if(e.startAt.wallClockTime instanceof Date){var U=e.startAt.wallClockTime.getTime()/1e3;f=(0,q.Z)({},e.startAt,{wallClockTime:U})}else f=e.startAt;return{autoPlay:p,defaultAudioTrack:I,defaultTextTrack:R,enableFastSwitching:N,hideNativeSubtitle:D,keySystems:u,initialManifest:b,lowLatencyMode:v,manualBitrateSwitchingMode:j,audioTrackSwitchingMode:E,minimumManifestUpdateInterval:k,networkConfig:(0,G.Z)(e.networkConfig)?{}:{manifestRetry:e.networkConfig.manifestRetry,offlineRetry:e.networkConfig.offlineRetry,segmentRetry:e.networkConfig.segmentRetry},onCodecSwitch:_,startAt:f,textTrackElement:d,textTrackMode:c,transport:l,transportOptions:S,url:s}}(e);L.Z.info("API: Calling loadvideo",t),this._priv_lastContentPlaybackInfos={options:t},this._priv_initializeContentPlayback(t)},o.reload=function(e){var t,r=this._priv_lastContentPlaybackInfos,n=r.options,i=r.manifest,a=r.lastPlaybackPosition;if(void 0===n||void 0===i||void 0===a)throw new Error("API: Can't reload without having previously loaded a content.");if(function(e){var t,r,n,i;if(null===e||"object"!==typeof e&&void 0!==e)throw new Error("API: reload - Invalid options format.");if(null===(null===e||void 0===e?void 0:e.reloadAt)||"object"!==typeof(null===e||void 0===e?void 0:e.reloadAt)&&void 0!==(null===e||void 0===e?void 0:e.reloadAt))throw new Error("API: reload - Invalid 'reloadAt' option format.");if("number"!==typeof(null===(t=null===e||void 0===e?void 0:e.reloadAt)||void 0===t?void 0:t.position)&&void 0!==(null===(r=null===e||void 0===e?void 0:e.reloadAt)||void 0===r?void 0:r.position))throw new Error("API: reload - Invalid 'reloadAt.position' option format.");if("number"!==typeof(null===(n=null===e||void 0===e?void 0:e.reloadAt)||void 0===n?void 0:n.relative)&&void 0!==(null===(i=null===e||void 0===e?void 0:e.reloadAt)||void 0===i?void 0:i.relative))throw new Error("API: reload - Invalid 'reloadAt.relative' option format.")}(e),void 0!==e&&void 0!==e.reloadAt&&void 0!==e.reloadAt.position)t=e.reloadAt.position;else{var o;if("STOPPED"===this.state||"ENDED"===this.state)o=a;else{if(null===this.videoElement)throw new Error("Can't reload when video element does not exist.");o=this.videoElement.currentTime}t=void 0!==e&&void 0!==e.reloadAt&&void 0!==e.reloadAt.relative?e.reloadAt.relative+o:o}var s=Object.assign(Object.assign({},n),{initialManifest:i});s.startAt={position:t},this._priv_initializeContentPlayback(s)},o._priv_initializeContentPlayback=function(e){var t,n,i,a=this,o=e.autoPlay,s=e.audioTrackSwitchingMode,u=e.defaultAudioTrack,d=e.defaultTextTrack,M=e.enableFastSwitching,I=e.initialManifest,R=e.keySystems,D=e.lowLatencyMode,N=e.manualBitrateSwitchingMode,U=e.minimumManifestUpdateInterval,B=e.networkConfig,F=e.onCodecSwitch,z=e.startAt,V=e.transport,H=e.transportOptions,K=e.url;if(null===this.videoElement)throw new Error("the attached video element is disposed");var G,Z="directfile"===V,X=new r.x,Y={url:K,stop$:X,isDirectFile:Z,segmentBuffersStore:null,thumbnails:null,manifest:null,currentPeriod:null,activeAdaptations:null,activeRepresentations:null,initialAudioTrack:u,initialTextTrack:d},Q=this.videoElement,J=yn(Q,{withMediaSource:!Z,lowLatencyMode:D}),ee=J.setCurrentTime,te=J.clock$,re=this._priv_speed$.pipe((0,b.x)());if(Z){if(this.stop(),this._priv_currentError=null,this._priv_playing$.next(!1),null===W.Z.directfile)throw new Error("DirectFile feature not activated in your build.");this._priv_contentInfos=Y,this._priv_mediaElementTrackChoiceManager=new W.Z.directfile.mediaElementTrackChoiceManager(this.videoElement);var ne=void 0===u?this._priv_preferredAudioTracks:[u];this._priv_mediaElementTrackChoiceManager.setPreferredAudioTracks(ne,!0);var ie=void 0===d?this._priv_preferredTextTracks:[d];this._priv_mediaElementTrackChoiceManager.setPreferredTextTracks(ie,!0),this._priv_mediaElementTrackChoiceManager.setPreferredVideoTracks(this._priv_preferredVideoTracks,!0),this.trigger("availableAudioTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableAudioTracks()),this.trigger("availableVideoTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableVideoTracks()),this.trigger("availableTextTracksChange",this._priv_mediaElementTrackChoiceManager.getAvailableTextTracks()),this.trigger("audioTrackChange",null!==(t=this._priv_mediaElementTrackChoiceManager.getChosenAudioTrack())&&void 0!==t?t:null),this.trigger("textTrackChange",null!==(n=this._priv_mediaElementTrackChoiceManager.getChosenTextTrack())&&void 0!==n?n:null),this.trigger("videoTrackChange",null!==(i=this._priv_mediaElementTrackChoiceManager.getChosenVideoTrack())&&void 0!==i?i:null),this._priv_mediaElementTrackChoiceManager.addEventListener("availableVideoTracksChange",(function(e){return a.trigger("availableVideoTracksChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("availableAudioTracksChange",(function(e){return a.trigger("availableAudioTracksChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("availableTextTracksChange",(function(e){return a.trigger("availableTextTracksChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("audioTrackChange",(function(e){return a.trigger("audioTrackChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("videoTrackChange",(function(e){return a.trigger("videoTrackChange",e)})),this._priv_mediaElementTrackChoiceManager.addEventListener("textTrackChange",(function(e){return a.trigger("textTrackChange",e)}));var ae=W.Z.directfile.initDirectFile({autoPlay:o,clock$:te,keySystems:R,mediaElement:Q,speed$:this._priv_speed$,startAt:z,setCurrentTime:ee,url:K}).pipe((0,v.R)(X));G=f(ae,{connector:function(){return new r.x},resetOnDisconnect:!1})}else{var oe=W.Z.transports[V];if("function"!==typeof oe)throw this.stop(),this._priv_currentError=null,this._priv_playing$.next(!1),new Error('transport "'+V+'" not supported');var se,le=oe(H),ue=B.offlineRetry,ce=B.segmentRetry,de=B.manifestRetry,fe=new Se(K,le,{lowLatencyMode:D,maxRetryRegular:de,maxRetryOffline:ue}),pe=new Fe(le,{lowLatencyMode:D,maxRetryOffline:ue,maxRetryRegular:ce});(se=(se=I instanceof $.ZP?(0,l.of)({type:"parsed",manifest:I}):void 0!==I?fe.parse(I,{previousManifest:null,unsafeMode:!1}):fe.fetch(K).pipe((0,k.z)((function(e){return"warning"===e.type?(0,l.of)(e):e.parse({previousManifest:null,unsafeMode:!1})})))).pipe((0,v.R)(X),(0,E.d)())).subscribe(),this.stop(),this._priv_currentError=null,this._priv_playing$.next(!1),this._priv_contentInfos=Y;var he=j(),ge={throttle:{},throttleBitrate:{},limitWidth:{}};this._priv_throttleWhenHidden&&(he?ge.throttle={video:ci().pipe((0,y.U)((function(e){return e?1/0:0})),(0,v.R)(X))}:L.Z.warn("API: Can't apply throttleWhenHidden because browser can't be trusted for visibility.")),this._priv_throttleVideoBitrateWhenHidden&&(he?ge.throttleBitrate={video:di(this._priv_pictureInPictureEvent$).pipe((0,y.U)((function(e){return e?1/0:0})),(0,v.R)(X))}:L.Z.warn("API: Can't apply throttleVideoBitrateWhenHidden because browser can't be trusted for visibility.")),this._priv_limitVideoWidth&&(he?ge.limitWidth={video:yi(Q,this._priv_pictureInPictureEvent$).pipe((0,v.R)(X))}:L.Z.warn("API: Can't apply limitVideoWidth because browser can't be trusted for video size."));var me={initialBitrates:this._priv_bitrateInfos.lastBitrates,lowLatencyMode:D,manualBitrates:this._priv_bitrateInfos.manualBitrates,minAutoBitrates:this._priv_bitrateInfos.minAutoBitrates,maxAutoBitrates:this._priv_bitrateInfos.maxAutoBitrates,throttlers:ge},ve="native"===e.textTrackMode?{textTrackMode:"native",hideNativeSubtitle:e.hideNativeSubtitle}:{textTrackMode:"html",textTrackElement:e.textTrackElement},ye=(0,q.Z)({audioTrackSwitchingMode:s,enableFastSwitching:M,manualBitrateSwitchingMode:N,onCodecSwitch:F},this._priv_bufferOptions),be=on({adaptiveOptions:me,autoPlay:o,bufferOptions:ye,clock$:te,keySystems:R,lowLatencyMode:D,manifest$:se,manifestFetcher:fe,mediaElement:Q,minimumManifestUpdateInterval:U,segmentFetcherCreator:pe,setCurrentTime:ee,speed$:re,startAt:z,textTrackOptions:ve}).pipe((0,v.R)(X));G=f(be,{connector:function(){return new r.x},resetOnDisconnect:!1})}var ke,Ee,_e=G.pipe((0,_.h)((function(e){return"stalled"===e.type||"unstalled"===e.type})),(0,y.U)((function(e){return e.value})),(0,b.x)((function(e,t){return null===e&&null===t||null!==e&&null!==t&&e.reason===t.reason}))),Te=G.pipe((0,_.h)((function(e){return"loaded"===e.type})),(0,S.B)()),we=G.pipe((0,_.h)((function(e){return"reloading-media-source"===e.type})),(0,S.B)()),xe=fi(Q),Oe=mi(Q),Pe=(0,p.a)([this._priv_playing$,_e.pipe((0,T.O)(null)),xe.pipe((0,T.O)(null)),Oe.pipe((0,T.O)(null))]).pipe((0,v.R)(X),(0,y.U)((function(e){var t=e[0],r=e[1];return function(e,t,r){if(e.ended)return wn;if(null!==r){var n=Math.abs(e.duration-e.currentTime);return null!=bn&&n<bn?wn:"seeking"===r.reason?On:xn}return t?Sn:Tn}(Q,t,r)}))),Ce=(0,h.z)((0,l.of)(_n),Te.pipe((0,w.q)(1),(0,x.h)(En)),(0,g.T)(Pe.pipe((0,v.R)(we),(ke=function(e){return e===Tn},(0,O.e)((function(e,t){var r=!1,n=0;e.subscribe(new P.Q(t,(function(e){return(r||(r=!ke(e,n++)))&&t.next(e)})))})))),we.pipe((0,C.c)(Te.pipe((0,w.q)(1),(0,A.j)(Pe),(0,T.O)(Pn)))))).pipe((0,b.x)());X.pipe((0,w.q)(1)).subscribe((function(){void 0!==Ee&&Ee.unsubscribe()})),hi(Q).pipe((0,v.R)(X)).subscribe((function(e){return a._priv_onPlayPauseNext("play"===e.type)})),te.pipe((0,v.R)(X)).subscribe((function(e){return a._priv_triggerPositionUpdate(e)})),Te.pipe((0,C.c)(function(e,t){return(0,c.P)((function(){if(null===e)return m.E;var r=t.pipe((0,_.h)((function(e){return"seeking"===e.event})),(0,x.h)("seeking")),n=r.pipe((0,C.c)(t.pipe((0,_.h)((function(e){return"seeked"===e.event})),(0,x.h)("seeked"),(0,w.q)(1)))),i=(0,g.T)(r,n);return e.seeking?i.pipe((0,T.O)("seeking")):i}))}(this.videoElement,te)),(0,v.R)(X)).subscribe((function(e){L.Z.info('API: Triggering "'+e+'" event'),a.trigger(e,null)})),Ce.pipe((0,v.R)(X)).subscribe((function(e){return a._priv_setPlayerState(e)})),(this._priv_stopAtEnd?fi(Q):m.E).pipe((0,v.R)(X)).subscribe((function(){X.next(),X.complete()})),G.subscribe({next:function(e){return a._priv_onPlaybackEvent(e)},error:function(e){return a._priv_onPlaybackError(e)},complete:function(){return a._priv_onPlaybackFinished()}}),this._priv_contentLock$.pipe((0,_.h)((function(e){return!e})),(0,w.q)(1),(0,v.R)(X)).subscribe((function(){Ee=G.connect()}))},o.getError=function(){return this._priv_currentError},o.getManifest=function(){return(0,Q.Z)("getManifest is deprecated. Please open an issue if you used this API."),null===this._priv_contentInfos?null:this._priv_contentInfos.manifest},o.getCurrentAdaptations=function(){if((0,Q.Z)("getCurrentAdaptations is deprecated. Please open an issue if you used this API."),null===this._priv_contentInfos)return null;var e=this._priv_contentInfos,t=e.currentPeriod,r=e.activeAdaptations;return null===t||null===r||(0,G.Z)(r[t.id])?null:r[t.id]},o.getCurrentRepresentations=function(){return(0,Q.Z)("getCurrentRepresentations is deprecated. Please open an issue if you used this API."),this._priv_getCurrentRepresentations()},o.getVideoElement=function(){return this.videoElement},o.getNativeTextTrack=function(){if((0,Q.Z)("getNativeTextTrack is deprecated. Please open an issue if you used this API."),null===this.videoElement)throw new Error("Disposed player");var e=this.videoElement;return e.textTracks.length>0?e.textTracks[0]:null},o.getPlayerState=function(){return this.state},o.isLive=function(){if(null===this._priv_contentInfos)return!1;var e=this._priv_contentInfos,t=e.isDirectFile,r=e.manifest;return!t&&null!==r&&r.isLive},o.areTrickModeTracksEnabled=function(){return this._priv_preferTrickModeTracks},o.getUrl=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.isDirectFile,r=e.manifest,n=e.url;return t?n:null!==r?r.getUrl():void 0}},o.getVideoDuration=function(){if(null===this.videoElement)throw new Error("Disposed player");return this.videoElement.duration},o.getVideoBufferGap=function(){if(null===this.videoElement)throw new Error("Disposed player");var e=this.videoElement;return(0,Y.L7)(e.buffered,e.currentTime)},o.getVideoLoadedTime=function(){if(null===this.videoElement)throw new Error("Disposed player");var e=this.videoElement;return(0,Y.at)(e.buffered,e.currentTime)},o.getVideoPlayedTime=function(){if(null===this.videoElement)throw new Error("Disposed player");var e=this.videoElement;return(0,Y.DD)(e.buffered,e.currentTime)},o.getWallClockTime=function(){if(null===this.videoElement)throw new Error("Disposed player");if(null===this._priv_contentInfos)return this.videoElement.currentTime;var e=this._priv_contentInfos,t=e.isDirectFile,r=e.manifest;return t?this.videoElement.currentTime:null!==r?this.videoElement.currentTime+(void 0!==r.availabilityStartTime?r.availabilityStartTime:0):0},o.getPosition=function(){if(null===this.videoElement)throw new Error("Disposed player");return this.videoElement.currentTime},o.getPlaybackRate=function(){return this._priv_speed$.getValue()},o.setPlaybackRate=function(e,t){this._priv_speed$.next(e);var r=null===t||void 0===t?void 0:t.preferTrickModeTracks;"boolean"===typeof r&&(this._priv_preferTrickModeTracks=r,null!==this._priv_trackChoiceManager&&(r&&!this._priv_trackChoiceManager.isTrickModeEnabled()?this._priv_trackChoiceManager.enableVideoTrickModeTracks():!r&&this._priv_trackChoiceManager.isTrickModeEnabled()&&this._priv_trackChoiceManager.disableVideoTrickModeTracks()))},o.getAvailableVideoBitrates=function(){if(null===this._priv_contentInfos)return[];var e=this._priv_contentInfos,t=e.currentPeriod,r=e.activeAdaptations;if(null===t||null===r)return[];var n=r[t.id];return void 0===n||(0,G.Z)(n.video)?[]:n.video.getAvailableBitrates()},o.getAvailableAudioBitrates=function(){if(null===this._priv_contentInfos)return[];var e=this._priv_contentInfos,t=e.currentPeriod,r=e.activeAdaptations;if(null===t||null===r)return[];var n=r[t.id];return void 0===n||(0,G.Z)(n.audio)?[]:n.audio.getAvailableBitrates()},o.getManualAudioBitrate=function(){return this._priv_bitrateInfos.manualBitrates.audio.getValue()},o.getManualVideoBitrate=function(){return this._priv_bitrateInfos.manualBitrates.video.getValue()},o.getVideoBitrate=function(){var e=this._priv_getCurrentRepresentations();if(null!==e&&!(0,G.Z)(e.video))return e.video.bitrate},o.getAudioBitrate=function(){var e=this._priv_getCurrentRepresentations();if(null!==e&&!(0,G.Z)(e.audio))return e.audio.bitrate},o.getMinVideoBitrate=function(){return this._priv_bitrateInfos.minAutoBitrates.video.getValue()},o.getMinAudioBitrate=function(){return this._priv_bitrateInfos.minAutoBitrates.audio.getValue()},o.getMaxVideoBitrate=function(){return this._priv_bitrateInfos.maxAutoBitrates.video.getValue()},o.getMaxAudioBitrate=function(){return this._priv_bitrateInfos.maxAutoBitrates.audio.getValue()},o.play=function(){var e=this;if(null===this.videoElement)throw new Error("Disposed player");var t=this.videoElement.play();return(0,G.Z)(t)||"function"!==typeof t.catch?X.Z.resolve():t.catch((function(t){if("NotAllowedError"===t.name){var r=new U.Z("MEDIA_ERR_PLAY_NOT_ALLOWED",t.toString());e.trigger("warning",r)}throw t}))},o.pause=function(){if(null===this.videoElement)throw new Error("Disposed player");this.videoElement.pause()},o.seekTo=function(e){if(null===this.videoElement)throw new Error("Disposed player");if(null===this._priv_contentInfos)throw new Error("player: no content loaded");var t,r=this._priv_contentInfos,n=r.isDirectFile,i=r.manifest;if(!n&&null===i)throw new Error("player: the content did not load yet");if("number"===typeof e)t=e;else if("object"===typeof e){var a=e,o=this.videoElement.currentTime;if((0,G.Z)(a.relative))if((0,G.Z)(a.position)){if((0,G.Z)(a.wallClockTime))throw new Error('invalid time object. You must set one of the following properties: "relative", "position" or "wallClockTime"');t=n||null===i?a.wallClockTime:a.wallClockTime-(void 0!==i.availabilityStartTime?i.availabilityStartTime:0)}else t=a.position;else t=o+a.relative}if(void 0===t)throw new Error("invalid time given");var s=t;if(null!==i&&!i.isLive){var l=i.getMaximumPosition();s=void 0!==l?Math.min(t,l-.001):t}return this.videoElement.currentTime=s,t},o.isFullscreen=function(){return(0,Q.Z)("isFullscreen is deprecated. Fullscreen management should now be managed by the application"),R()},o.setFullscreen=function(e){if(void 0===e&&(e=!0),(0,Q.Z)("setFullscreen is deprecated. Fullscreen management should now be managed by the application"),null===this.videoElement)throw new Error("Disposed player");e?function(e){if(!R()){var t=e;"function"===typeof t.requestFullscreen?t.requestFullscreen():"function"===typeof t.msRequestFullscreen?t.msRequestFullscreen():"function"===typeof t.mozRequestFullScreen?t.mozRequestFullScreen():"function"===typeof t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}(this.videoElement):I()},o.exitFullscreen=function(){(0,Q.Z)("exitFullscreen is deprecated. Fullscreen management should now be managed by the application"),I()},o.getVolume=function(){if(null===this.videoElement)throw new Error("Disposed player");return this.videoElement.volume},o.setVolume=function(e){if(null===this.videoElement)throw new Error("Disposed player");var t=this.videoElement;e!==t.volume&&(t.volume=e,this.trigger("volumeChange",e))},o.isMute=function(){return 0===this.getVolume()},o.mute=function(){this._priv_mutedMemory=this.getVolume(),this.setVolume(0)},o.unMute=function(){0===this.getVolume()&&this.setVolume(0===this._priv_mutedMemory?ui:this._priv_mutedMemory)},o.setVideoBitrate=function(e){this._priv_bitrateInfos.manualBitrates.video.next(e)},o.setAudioBitrate=function(e){this._priv_bitrateInfos.manualBitrates.audio.next(e)},o.setMinVideoBitrate=function(e){var t=this._priv_bitrateInfos.maxAutoBitrates.video.getValue();if(e>t)throw new Error('Invalid minimum video bitrate given. Its value, "'+e+'" is superior the current maximum video birate, "'+t+'".');this._priv_bitrateInfos.minAutoBitrates.video.next(e)},o.setMinAudioBitrate=function(e){var t=this._priv_bitrateInfos.maxAutoBitrates.audio.getValue();if(e>t)throw new Error('Invalid minimum audio bitrate given. Its value, "'+e+'" is superior the current maximum audio birate, "'+t+'".');this._priv_bitrateInfos.minAutoBitrates.audio.next(e)},o.setMaxVideoBitrate=function(e){var t=this._priv_bitrateInfos.minAutoBitrates.video.getValue();if(e<t)throw new Error('Invalid maximum video bitrate given. Its value, "'+e+'" is inferior the current minimum video birate, "'+t+'".');this._priv_bitrateInfos.maxAutoBitrates.video.next(e)},o.setMaxAudioBitrate=function(e){var t=this._priv_bitrateInfos.minAutoBitrates.audio.getValue();if(e<t)throw new Error('Invalid maximum audio bitrate given. Its value, "'+e+'" is inferior the current minimum audio birate, "'+t+'".');this._priv_bitrateInfos.maxAutoBitrates.audio.next(e)},o.setMaxBufferBehind=function(e){this._priv_bufferOptions.maxBufferBehind$.next(e)},o.setMaxBufferAhead=function(e){this._priv_bufferOptions.maxBufferAhead$.next(e)},o.setWantedBufferAhead=function(e){this._priv_bufferOptions.wantedBufferAhead$.next(e)},o.getMaxBufferBehind=function(){return this._priv_bufferOptions.maxBufferBehind$.getValue()},o.getMaxBufferAhead=function(){return this._priv_bufferOptions.maxBufferAhead$.getValue()},o.getWantedBufferAhead=function(){return this._priv_bufferOptions.wantedBufferAhead$.getValue()},o.getCurrentKeySystem=function(){if(null===this.videoElement)throw new Error("Disposed player");return re(this.videoElement)},o.getAvailableAudioTracks=function(){var e,t;if(null===this._priv_contentInfos)return[];var r=this._priv_contentInfos,n=r.currentPeriod;return r.isDirectFile?null!==(t=null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e?void 0:e.getAvailableAudioTracks())&&void 0!==t?t:[]:null===this._priv_trackChoiceManager||null===n?[]:this._priv_trackChoiceManager.getAvailableAudioTracks(n)},o.getAvailableTextTracks=function(){var e,t;if(null===this._priv_contentInfos)return[];var r=this._priv_contentInfos,n=r.currentPeriod;return r.isDirectFile?null!==(t=null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e?void 0:e.getAvailableTextTracks())&&void 0!==t?t:[]:null===this._priv_trackChoiceManager||null===n?[]:this._priv_trackChoiceManager.getAvailableTextTracks(n)},o.getAvailableVideoTracks=function(){var e,t;if(null===this._priv_contentInfos)return[];var r=this._priv_contentInfos,n=r.currentPeriod;return r.isDirectFile?null!==(t=null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e?void 0:e.getAvailableVideoTracks())&&void 0!==t?t:[]:null===this._priv_trackChoiceManager||null===n?[]:this._priv_trackChoiceManager.getAvailableVideoTracks(n)},o.getAudioTrack=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.currentPeriod;if(e.isDirectFile){if(null===this._priv_mediaElementTrackChoiceManager)return;return this._priv_mediaElementTrackChoiceManager.getChosenAudioTrack()}if(null!==this._priv_trackChoiceManager&&null!==t)return this._priv_trackChoiceManager.getChosenAudioTrack(t)}},o.getTextTrack=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.currentPeriod;if(e.isDirectFile){if(null===this._priv_mediaElementTrackChoiceManager)return;return this._priv_mediaElementTrackChoiceManager.getChosenTextTrack()}if(null!==this._priv_trackChoiceManager&&null!==t)return this._priv_trackChoiceManager.getChosenTextTrack(t)}},o.getVideoTrack=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.currentPeriod;if(e.isDirectFile){if(null===this._priv_mediaElementTrackChoiceManager)return;return this._priv_mediaElementTrackChoiceManager.getChosenVideoTrack()}if(null!==this._priv_trackChoiceManager&&null!==t)return this._priv_trackChoiceManager.getChosenVideoTrack(t)}},o.setAudioTrack=function(e){var t;if(null===this._priv_contentInfos)throw new Error("No content loaded");var r=this._priv_contentInfos,n=r.currentPeriod;if(r.isDirectFile)try{return void(null===(t=this._priv_mediaElementTrackChoiceManager)||void 0===t||t.setAudioTrackById(e))}catch(i){throw new Error("player: unknown audio track")}if(null===this._priv_trackChoiceManager||null===n)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setAudioTrackByID(n,e)}catch(i){throw new Error("player: unknown audio track")}},o.setTextTrack=function(e){var t;if(null===this._priv_contentInfos)throw new Error("No content loaded");var r=this._priv_contentInfos,n=r.currentPeriod;if(r.isDirectFile)try{return void(null===(t=this._priv_mediaElementTrackChoiceManager)||void 0===t||t.setTextTrackById(e))}catch(i){throw new Error("player: unknown text track")}if(null===this._priv_trackChoiceManager||null===n)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setTextTrackByID(n,e)}catch(i){throw new Error("player: unknown text track")}},o.disableTextTrack=function(){var e;if(null!==this._priv_contentInfos){var t=this._priv_contentInfos,r=t.currentPeriod;if(t.isDirectFile)null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e||e.disableTextTrack();else if(null!==this._priv_trackChoiceManager&&null!==r)return this._priv_trackChoiceManager.disableTextTrack(r)}},o.setVideoTrack=function(e){var t;if(null===this._priv_contentInfos)throw new Error("No content loaded");var r=this._priv_contentInfos,n=r.currentPeriod;if(r.isDirectFile)try{return void(null===(t=this._priv_mediaElementTrackChoiceManager)||void 0===t||t.setVideoTrackById(e))}catch(i){throw new Error("player: unknown video track")}if(null===this._priv_trackChoiceManager||null===n)throw new Error("No compatible content launched.");try{this._priv_trackChoiceManager.setVideoTrackByID(n,e)}catch(i){throw new Error("player: unknown video track")}},o.disableVideoTrack=function(){if(null!==this._priv_contentInfos){var e=this._priv_contentInfos,t=e.currentPeriod;if(e.isDirectFile&&null!==this._priv_mediaElementTrackChoiceManager)return this._priv_mediaElementTrackChoiceManager.disableVideoTrack();if(null!==this._priv_trackChoiceManager&&null!==t)return this._priv_trackChoiceManager.disableVideoTrack(t)}},o.getPreferredAudioTracks=function(){return this._priv_preferredAudioTracks},o.getPreferredTextTracks=function(){return this._priv_preferredTextTracks},o.getPreferredVideoTracks=function(){return this._priv_preferredVideoTracks},o.setPreferredAudioTracks=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))throw new Error("Invalid `setPreferredAudioTracks` argument. Should have been an Array.");this._priv_preferredAudioTracks=e,null!==this._priv_trackChoiceManager?this._priv_trackChoiceManager.setPreferredAudioTracks(e,t):null!==this._priv_mediaElementTrackChoiceManager&&this._priv_mediaElementTrackChoiceManager.setPreferredAudioTracks(e,t)},o.setPreferredTextTracks=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))throw new Error("Invalid `setPreferredTextTracks` argument. Should have been an Array.");this._priv_preferredTextTracks=e,null!==this._priv_trackChoiceManager?this._priv_trackChoiceManager.setPreferredTextTracks(e,t):null!==this._priv_mediaElementTrackChoiceManager&&this._priv_mediaElementTrackChoiceManager.setPreferredTextTracks(e,t)},o.setPreferredVideoTracks=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))throw new Error("Invalid `setPreferredVideoTracks` argument. Should have been an Array.");this._priv_preferredVideoTracks=e,null!==this._priv_trackChoiceManager?this._priv_trackChoiceManager.setPreferredVideoTracks(e,t):null!==this._priv_mediaElementTrackChoiceManager&&this._priv_mediaElementTrackChoiceManager.setPreferredVideoTracks(e,t)},o.getImageTrackData=function(){return(0,Q.Z)("`getImageTrackData` is deprecated.Please use the `parseBifThumbnails` tool instead."),null===this._priv_contentInfos?null:this._priv_contentInfos.thumbnails},o.getMinimumPosition=function(){if(null===this._priv_contentInfos)return null;if(this._priv_contentInfos.isDirectFile)return 0;var e=this._priv_contentInfos.manifest;return null!==e?e.getMinimumPosition():null},o.getMaximumPosition=function(){if(null===this._priv_contentInfos)return null;var e=this._priv_contentInfos,t=e.isDirectFile,r=e.manifest;if(t){if(null===this.videoElement)throw new Error("Disposed player");return this.videoElement.duration}return null!==r?r.getMaximumPosition():null},o.__priv_getSegmentBufferContent=function(e){if(null===this._priv_contentInfos||null===this._priv_contentInfos.segmentBuffersStore)return null;var t=this._priv_contentInfos.segmentBuffersStore.getStatus(e);return"initialized"===t.type?t.value.getInventory():null},o._priv_cleanUpCurrentContentState=function(){var e,t=this;L.Z.debug("Locking `contentLock` to clean-up the current content."),this._priv_contentLock$.next(!0),this._priv_contentInfos=null,this._priv_trackChoiceManager=null,null===(e=this._priv_mediaElementTrackChoiceManager)||void 0===e||e.dispose(),this._priv_mediaElementTrackChoiceManager=null,this._priv_contentEventsMemory={};var r=function(){L.Z.debug("Unlocking `contentLock`. Next content can begin."),t._priv_contentLock$.next(!1)};(0,G.Z)(this.videoElement)?r():ie(this.videoElement).subscribe(Z.Z,(function(e){L.Z.error("API: An error arised when trying to clean-up the EME session:"+(e instanceof Error?e.toString():"Unknown Error")),r()}),(function(){L.Z.debug("API: EME session cleaned-up with success!"),r()}))},o._priv_onPlaybackEvent=function(e){switch(e.type){case"inband-events":var t=e.value;return void this.trigger("inbandEvents",t);case"stream-event":this.trigger("streamEvent",e.value);break;case"stream-event-skip":this.trigger("streamEventSkip",e.value);break;case"activePeriodChanged":this._priv_onActivePeriodChanged(e.value);break;case"periodStreamReady":this._priv_onPeriodStreamReady(e.value);break;case"periodStreamCleared":this._priv_onPeriodStreamCleared(e.value);break;case"reloading-media-source":this._priv_onReloadingMediaSource();break;case"representationChange":this._priv_onRepresentationChange(e.value);break;case"adaptationChange":this._priv_onAdaptationChange(e.value);break;case"bitrateEstimationChange":this._priv_onBitrateEstimationChange(e.value);break;case"manifestReady":this._priv_onManifestReady(e.value);break;case"warning":this._priv_onPlaybackWarning(e.value);break;case"loaded":if(null===this._priv_contentInfos)return void L.Z.error("API: Loaded event while no content is loaded");this._priv_contentInfos.segmentBuffersStore=e.value.segmentBuffersStore;break;case"decipherabilityUpdate":this.trigger("decipherabilityUpdate",e.value);break;case"added-segment":if(null===this._priv_contentInfos)return void L.Z.error("API: Added segment while no content is loaded");var r=e.value,n=r.content,i=r.segmentData;if("image"===n.adaptation.type&&!(0,G.Z)(i)&&"bif"===i.type){var a=i.data;this._priv_contentInfos.thumbnails=a,this.trigger("imageTrackUpdate",{data:this._priv_contentInfos.thumbnails})}}},o._priv_onPlaybackError=function(e){var t=z(e,{defaultCode:"NONE",defaultReason:"An unknown error stopped content playback."});t.fatal=!0,null!==this._priv_contentInfos&&(this._priv_contentInfos.stop$.next(),this._priv_contentInfos.stop$.complete()),this._priv_cleanUpCurrentContentState(),this._priv_currentError=t,L.Z.error("API: The player stopped because of an error:",e),this._priv_setPlayerState(kn),this._priv_currentError===t&&this.trigger("error",t)},o._priv_onPlaybackFinished=function(){L.Z.info("API: Previous playback finished. Stopping and cleaning-up..."),null!==this._priv_contentInfos&&(this._priv_contentInfos.stop$.next(),this._priv_contentInfos.stop$.complete()),this._priv_cleanUpCurrentContentState(),this._priv_setPlayerState(wn)},o._priv_onPlaybackWarning=function(e){var t=z(e,{defaultCode:"NONE",defaultReason:"An unknown error happened."});L.Z.warn("API: Sending warning:",t),this.trigger("warning",t)},o._priv_onManifestReady=function(e){var t=this,r=e.manifest,n=this._priv_contentInfos;if(null!==n){n.manifest=r,this._priv_lastContentPlaybackInfos.manifest=r;var i=n.initialAudioTrack,a=n.initialTextTrack;this._priv_trackChoiceManager=new Qn({preferTrickModeTracks:this._priv_preferTrickModeTracks});var o=void 0===i?this._priv_preferredAudioTracks:[i];this._priv_trackChoiceManager.setPreferredAudioTracks(o,!0);var s=void 0===a?this._priv_preferredTextTracks:[a];this._priv_trackChoiceManager.setPreferredTextTracks(s,!0),this._priv_trackChoiceManager.setPreferredVideoTracks(this._priv_preferredVideoTracks,!0),(0,K.R)(r,"manifestUpdate").pipe((0,v.R)(n.stop$)).subscribe((function(){null!==t._priv_trackChoiceManager&&t._priv_trackChoiceManager.update()}))}else L.Z.error("API: The manifest is loaded but no content is.")},o._priv_onActivePeriodChanged=function(e){var t,r,n,i,a,o,s=e.period;if(null!==this._priv_contentInfos){if(this._priv_contentInfos.currentPeriod=s,this._priv_contentEventsMemory.periodChange!==s&&(this._priv_contentEventsMemory.periodChange=s,this.trigger("periodChange",s)),this.trigger("availableAudioTracksChange",this.getAvailableAudioTracks()),this.trigger("availableTextTracksChange",this.getAvailableTextTracks()),this.trigger("availableVideoTracksChange",this.getAvailableVideoTracks()),null!==this._priv_trackChoiceManager){var l=this._priv_trackChoiceManager.getChosenAudioTrack(s),u=this._priv_trackChoiceManager.getChosenTextTrack(s),c=this._priv_trackChoiceManager.getChosenVideoTrack(s);this.trigger("audioTrackChange",l),this.trigger("textTrackChange",u),this.trigger("videoTrackChange",c)}else this.trigger("audioTrackChange",null),this.trigger("textTrackChange",null),this.trigger("videoTrackChange",null);this._priv_triggerAvailableBitratesChangeEvent("availableAudioBitratesChange",this.getAvailableAudioBitrates()),this._priv_triggerAvailableBitratesChangeEvent("availableVideoBitratesChange",this.getAvailableVideoBitrates());var d=null!==(n=null===(r=null===(t=this._priv_getCurrentRepresentations())||void 0===t?void 0:t.audio)||void 0===r?void 0:r.bitrate)&&void 0!==n?n:-1;this._priv_triggerCurrentBitrateChangeEvent("audioBitrateChange",d);var f=null!==(o=null===(a=null===(i=this._priv_getCurrentRepresentations())||void 0===i?void 0:i.video)||void 0===a?void 0:a.bitrate)&&void 0!==o?o:-1;this._priv_triggerCurrentBitrateChangeEvent("videoBitrateChange",f)}else L.Z.error("API: The active period changed but no content is loaded")},o._priv_onPeriodStreamReady=function(e){var t=e.type,r=e.period,n=e.adaptation$;switch(t){case"video":null===this._priv_trackChoiceManager?(L.Z.error("API: TrackChoiceManager not instanciated for a new video period"),n.next(null)):(this._priv_trackChoiceManager.addPeriod(t,r,n),this._priv_trackChoiceManager.setInitialVideoTrack(r));break;case"audio":null===this._priv_trackChoiceManager?(L.Z.error("API: TrackChoiceManager not instanciated for a new "+t+" period"),n.next(null)):(this._priv_trackChoiceManager.addPeriod(t,r,n),this._priv_trackChoiceManager.setInitialAudioTrack(r));break;case"text":null===this._priv_trackChoiceManager?(L.Z.error("API: TrackChoiceManager not instanciated for a new "+t+" period"),n.next(null)):(this._priv_trackChoiceManager.addPeriod(t,r,n),this._priv_trackChoiceManager.setInitialTextTrack(r));break;default:var i=r.adaptations[t];!(0,G.Z)(i)&&i.length>0?n.next(i[0]):n.next(null)}},o._priv_onPeriodStreamCleared=function(e){var t=e.type,r=e.period;switch(t){case"audio":case"text":case"video":null!==this._priv_trackChoiceManager&&this._priv_trackChoiceManager.removePeriod(t,r)}if(null!==this._priv_contentInfos){var n=this._priv_contentInfos,i=n.activeAdaptations,a=n.activeRepresentations;if(!(0,G.Z)(i)&&!(0,G.Z)(i[r.id])){var o=i[r.id];delete o[t],0===Object.keys(o).length&&delete i[r.id]}if(!(0,G.Z)(a)&&!(0,G.Z)(a[r.id])){var s=a[r.id];delete s[t],0===Object.keys(s).length&&delete a[r.id]}}},o._priv_onReloadingMediaSource=function(){null!==this._priv_contentInfos&&(this._priv_contentInfos.segmentBuffersStore=null),null!==this._priv_trackChoiceManager&&this._priv_trackChoiceManager.resetPeriods()},o._priv_onAdaptationChange=function(e){var t=e.type,r=e.adaptation,n=e.period;if(null!==this._priv_contentInfos){null===this._priv_contentInfos.activeAdaptations&&(this._priv_contentInfos.activeAdaptations={});var i,a=this._priv_contentInfos,o=a.activeAdaptations,s=a.currentPeriod,l=o[n.id];if((0,G.Z)(l)?o[n.id]=((i={})[t]=r,i):l[t]=r,null!==this._priv_trackChoiceManager&&null!==s&&!(0,G.Z)(n)&&n.id===s.id)switch(t){case"audio":var u=this._priv_trackChoiceManager.getChosenAudioTrack(s);this.trigger("audioTrackChange",u);var c=this.getAvailableAudioBitrates();this._priv_triggerAvailableBitratesChangeEvent("availableAudioBitratesChange",c);break;case"text":var d=this._priv_trackChoiceManager.getChosenTextTrack(s);this.trigger("textTrackChange",d);break;case"video":var f=this._priv_trackChoiceManager.getChosenVideoTrack(s);this.trigger("videoTrackChange",f);var p=this.getAvailableVideoBitrates();this._priv_triggerAvailableBitratesChangeEvent("availableVideoBitratesChange",p)}}else L.Z.error("API: The adaptations changed but no content is loaded")},o._priv_onRepresentationChange=function(e){var t,r=e.type,n=e.period,i=e.representation;if(null!==this._priv_contentInfos){null===this._priv_contentInfos.activeRepresentations&&(this._priv_contentInfos.activeRepresentations={});var a,o=this._priv_contentInfos,s=o.activeRepresentations,l=o.currentPeriod,u=s[n.id];(0,G.Z)(u)?s[n.id]=((a={})[r]=i,a):u[r]=i;var c=null!==(t=null===i||void 0===i?void 0:i.bitrate)&&void 0!==t?t:-1;(0,G.Z)(n)||null===l||l.id!==n.id||("video"===r?this._priv_triggerCurrentBitrateChangeEvent("videoBitrateChange",c):"audio"===r&&this._priv_triggerCurrentBitrateChangeEvent("audioBitrateChange",c))}else L.Z.error("API: The representations changed but no content is loaded")},o._priv_onBitrateEstimationChange=function(e){var t=e.type,r=e.bitrate;void 0!==r&&(this._priv_bitrateInfos.lastBitrates[t]=r),this.trigger("bitrateEstimationChange",{type:t,bitrate:r})},o._priv_onPlayPauseNext=function(e){if(null===this.videoElement)throw new Error("Disposed player");this._priv_playing$.next(e)},o._priv_onNativeTextTracksNext=function(e){this.trigger("nativeTextTracksChange",e)},o._priv_setPlayerState=function(e){this.state!==e&&(this.state=e,L.Z.info("API: playerStateChange event",e),this.trigger("playerStateChange",e))},o._priv_triggerPositionUpdate=function(e){var t;if(null!==this._priv_contentInfos){if(this.state!==Pn){var r=this._priv_contentInfos,n=r.isDirectFile,i=r.manifest;if((n||null!==i)&&!(0,G.Z)(e)){this._priv_lastContentPlaybackInfos.lastPlaybackPosition=e.position;var a=null!==i?i.getMaximumPosition():void 0,o={position:e.position,duration:e.duration,playbackRate:e.playbackRate,maximumBufferTime:a,bufferGap:isFinite(e.bufferGap)?e.bufferGap:0};if(null!==i&&void 0!==a&&i.isLive&&e.position>0){var s=null!==(t=i.availabilityStartTime)&&void 0!==t?t:0;o.wallClockTime=e.position+s,o.liveGap=a-e.position}this.trigger("positionUpdate",o)}}}else L.Z.warn("API: Cannot perform time update: no content loaded.")},o._priv_triggerAvailableBitratesChangeEvent=function(e,t){var r=this._priv_contentEventsMemory[e];(void 0===r||(0,H.Z)(t,r))&&(this._priv_contentEventsMemory[e]=t,this.trigger(e,t))},o._priv_triggerCurrentBitrateChangeEvent=function(e,t){t!==this._priv_contentEventsMemory[e]&&(this._priv_contentEventsMemory[e]=t,this.trigger(e,t))},o._priv_getCurrentRepresentations=function(){if(null===this._priv_contentInfos)return null;var e=this._priv_contentInfos,t=e.currentPeriod,r=e.activeRepresentations;return null===t||null===r||(0,G.Z)(r[t.id])?null:r[t.id]},(0,e.Z)(a,null,[{key:"ErrorTypes",get:function(){return V.ZB}},{key:"ErrorCodes",get:function(){return V.SM}},{key:"LogLevel",get:function(){return L.Z.getLevel()},set:function(e){L.Z.setLevel(e)}}]),a}(K.Z);bi.version="3.26.0";var ki=bi,Ei=i(7273);!function(){Ei.Z.emeManager=i(8281).ZP,Ei.Z.imageBuffer=i(7127).Z,Ei.Z.imageParser=i(3203).Z,Ei.Z.transports.smooth=i(2339).Z,Ei.Z.transports.dash=i(1732).Z,Ei.Z.dashParsers.js=i(148).Z,Ei.Z.nativeTextTracksBuffer=i(9059).Z,Ei.Z.nativeTextTracksParsers.vtt=i(9405).Z,Ei.Z.nativeTextTracksParsers.ttml=i(1570).Z,Ei.Z.nativeTextTracksParsers.sami=i(1812).Z,Ei.Z.nativeTextTracksParsers.srt=i(8057).Z,Ei.Z.htmlTextTracksBuffer=i(5192).Z,Ei.Z.htmlTextTracksParsers.sami=i(5734).Z,Ei.Z.htmlTextTracksParsers.ttml=i(7439).Z,Ei.Z.htmlTextTracksParsers.srt=i(8675).Z,Ei.Z.htmlTextTracksParsers.vtt=i(4099).Z;var e=i(8969).Z,t=i(7794).Z;Ei.Z.directfile={initDirectFile:e,mediaElementTrackChoiceManager:t}}();var _i=ki}(),a=a.default}()},e.exports=n()}).call(this,r(94),r(280).setImmediate)},function(e,t,r){"use strict";(function(e,n){var i,a=r(178);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:n;var o=Object(a.a)(i);t.a=o}).call(this,r(48),r(216)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(20),i=r(22),a=r(18),o=r(7),s=r(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={path:s.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},s.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),s.createElement("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),s.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})),viewBox:"0 0 24 24"},c=Object(n.a)((function(e,t){var r=e.as,n=e.viewBox,o=e.color,c=void 0===o?"currentColor":o,d=e.focusable,f=void 0!==d&&d,p=e.children,h=e.className,g=e.__css,m=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["as","viewBox","color","focusable","children","className","__css"]),v={ref:t,focusable:f,className:Object(a.c)("chakra-icon",h),__css:l({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:c},g)},y=null!=n?n:u.viewBox;if(r&&"string"!==typeof r)return s.createElement(i.a.svg,l({as:r},v,m));var b=null!=p?p:u.path;return s.createElement(i.a.svg,l({verticalAlign:"middle",viewBox:y},v,m),b)}));o.a&&(c.displayName="Icon")},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return l}));var n=r(4),i=r(27),a=r(0);function o(e,t){var r=a.useRef(void 0!==e).current;return[r,r&&"undefined"!==typeof e?e:t]}var s={value:"value",defaultValue:"defaultValue",onChange:"onChange"};function l(e){var t=e.value,r=e.defaultValue,o=e.onChange,l=e.name,u=void 0===l?"Component":l,c=e.propsMap,d=void 0===c?s:c,f=a.useState(r),p=Object(n.a)(f,2),h=p[0],g=p[1],m=a.useRef(void 0!==t).current;a.useEffect((function(){var e=void 0!==t,r=e?"a controlled":"an uncontrolled",n=m?"a controlled":"an uncontrolled";Object(i.e)({condition:m!==e,message:"Warning: "+u+" is changing from "+n+" to "+r+" component. Components should not switch from controlled to uncontrolled (or vice versa). Use the '"+d.value+"' with an '"+d.onChange+"' handler. If you want an uncontrolled component, remove the "+d.value+" prop and use '"+d.defaultValue+"' instead. \"More info: https://fb.me/react-controlled-components"})}),[t,m,u]);var v=a.useRef(r).current;a.useEffect((function(){Object(i.e)({condition:v!==r,message:"Warning: A component is changing the default value of an uncontrolled "+u+" after being initialized. To suppress this warning opt to use a controlled "+u+"."})}),[JSON.stringify(r)]);var y=m?t:h,b=a.useCallback((function(e){var t=Object(i.d)(e,y);m||g(t),null==o||o(t)}),[o]);return[y,b]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(4),i=r(74),a=r(111),o=r(75),s=r(18),l=r(27),u=r(64),c=r(310),d=r(0);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){void 0===e&&(e={});var t=e,r=t.defaultIsChecked,p=t.isChecked,g=t.isFocusable,m=t.isDisabled,v=t.isReadOnly,y=t.isRequired,b=t.onChange,k=t.isIndeterminate,E=t.isInvalid,_=t.name,S=t.value,T=t.id,w=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["defaultIsChecked","isChecked","isFocusable","isDisabled","isReadOnly","isRequired","onChange","isIndeterminate","isInvalid","name","value","id"]),x=Object(i.a)(),O=Object(n.a)(x,2),P=O[0],C=O[1],A=Object(i.a)(),M=Object(n.a)(A,2),I=M[0],R=M[1],D=Object(i.a)(),L=Object(n.a)(D,2),j=L[0],N=L[1],U=Object(d.useRef)(null),B=Object(d.useState)(!!r),F=Object(n.a)(B,2),z=F[0],V=F[1],W=Object(a.a)(p,z),$=Object(n.a)(W,2),H=$[0],K=$[1],G=Object(d.useCallback)((function(e){v||m?e.preventDefault():(H||V(K?e.target.checked:!!k||e.target.checked),null==b||b(e))}),[v,m,K,H,k,b]);Object(o.a)((function(){U.current&&(U.current.indeterminate=Boolean(k))}),[k]);var Z=m&&!g,q=Object(d.useCallback)((function(e){" "===e.key&&N.on()}),[N]),X=Object(d.useCallback)((function(e){" "===e.key&&N.off()}),[N]);Object(o.a)((function(){U.current&&((U.current.checked&&!K||!U.current.checked&&K)&&V(U.current.checked))}),[U.current]);return{state:{isInvalid:E,isFocused:P,isChecked:K,isActive:j,isHovered:I,isIndeterminate:k,isDisabled:m,isReadOnly:v,isRequired:y},getCheckboxProps:function(e,t){void 0===e&&(e={}),void 0===t&&(t=null);return f({},e,{ref:t,"data-active":Object(s.d)(j),"data-hover":Object(s.d)(I),"data-checked":Object(s.d)(K),"data-focus":Object(s.d)(P),"data-indeterminate":Object(s.d)(k),"data-disabled":Object(s.d)(m),"data-invalid":Object(s.d)(E),"data-readonly":Object(s.d)(v),"aria-hidden":!0,onMouseDown:Object(l.b)(e.onMouseDown,(function(e){e.preventDefault(),N.on()})),onMouseUp:Object(l.b)(e.onMouseUp,N.off),onMouseEnter:Object(l.b)(e.onMouseEnter,R.on),onMouseLeave:Object(l.b)(e.onMouseLeave,R.off)})},getInputProps:function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),f({},e,{ref:Object(u.c)(U,t),type:"checkbox",name:_,value:S,id:T,onChange:Object(l.b)(e.onChange,G),onBlur:Object(l.b)(e.onBlur,C.off),onFocus:Object(l.b)(e.onFocus,C.on),onKeyDown:Object(l.b)(e.onKeyDown,q),onKeyUp:Object(l.b)(e.onKeyUp,X),required:y,checked:K,disabled:Z,readOnly:v,"aria-invalid":E,"aria-disabled":m,style:c.b})},getLabelProps:function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),f({},e,{ref:t,onMouseDown:Object(l.b)(e.onMouseDown,h),onTouchStart:Object(l.b)(e.onTouchStart,h),"data-disabled":Object(s.d)(m),"data-checked":Object(s.d)(K),"data-invalid":Object(s.d)(E)})},htmlProps:w}}function h(e){e.preventDefault(),e.stopPropagation()}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(256))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(266))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(268))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(276))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(0),i=r(179),a=!1,o=0,s=function(){return++o};function l(e,t){return e+"-"+t}function u(e,t){var r=function(e){var t=e||(a?s():null),r=Object(n.useState)(t),o=r[0],l=r[1];return Object(i.a)((function(){null===o&&l(s())}),[]),Object(n.useEffect)((function(){!1===a&&(a=!0)}),[]),null!=o?String(o):void 0}(),o=null!=e?e:r;return t?l(t,o):o}function c(e){for(var t=u(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=n.map((function(e){return l(e,t)}));return a}},,,,function(e,t,r){(function(e,r){var n=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var o="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,l=o||s||Function("return this")(),u=t&&!t.nodeType&&t,c=u&&"object"==typeof r&&r&&!r.nodeType&&r,d=c&&c.exports===u,f=d&&o.process,p=function(){try{var e=c&&c.require&&c.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(t){}}(),h=p&&p.isTypedArray;function g(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var m,v,y=Array.prototype,b=Function.prototype,k=Object.prototype,E=l["__core-js_shared__"],_=b.toString,S=k.hasOwnProperty,T=function(){var e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),w=k.toString,x=_.call(Object),O=RegExp("^"+_.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=d?l.Buffer:void 0,C=l.Symbol,A=l.Uint8Array,M=P?P.allocUnsafe:void 0,I=(m=Object.getPrototypeOf,v=Object,function(e){return m(v(e))}),R=Object.create,D=k.propertyIsEnumerable,L=y.splice,j=C?C.toStringTag:void 0,N=function(){try{var e=le(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),U=P?P.isBuffer:void 0,B=Math.max,F=Date.now,z=le(l,"Map"),V=le(Object,"create"),W=function(){function e(){}return function(t){if(!ke(t))return{};if(R)return R(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function $(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function H(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function G(e){var t=this.__data__=new H(e);this.size=t.size}function Z(e,t){var r=ge(e),n=!r&&he(e),i=!r&&!n&&ve(e),a=!r&&!n&&!i&&_e(e),o=r||n||i||a,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var u in e)!t&&!S.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ue(u,l))||s.push(u);return s}function q(e,t,r){(void 0!==r&&!pe(e[t],r)||void 0===r&&!(t in e))&&Q(e,t,r)}function X(e,t,r){var n=e[t];S.call(e,t)&&pe(n,r)&&(void 0!==r||t in e)||Q(e,t,r)}function Y(e,t){for(var r=e.length;r--;)if(pe(e[r][0],t))return r;return-1}function Q(e,t,r){"__proto__"==t&&N?N(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}$.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},$.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$.prototype.get=function(e){var t=this.__data__;if(V){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return S.call(t,e)?t[e]:void 0},$.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:S.call(t,e)},$.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=V&&void 0===t?"__lodash_hash_undefined__":t,this},H.prototype.clear=function(){this.__data__=[],this.size=0},H.prototype.delete=function(e){var t=this.__data__,r=Y(t,e);return!(r<0)&&(r==t.length-1?t.pop():L.call(t,r,1),--this.size,!0)},H.prototype.get=function(e){var t=this.__data__,r=Y(t,e);return r<0?void 0:t[r][1]},H.prototype.has=function(e){return Y(this.__data__,e)>-1},H.prototype.set=function(e,t){var r=this.__data__,n=Y(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new $,map:new(z||H),string:new $}},K.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return se(this,e).get(e)},K.prototype.has=function(e){return se(this,e).has(e)},K.prototype.set=function(e,t){var r=se(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},G.prototype.clear=function(){this.__data__=new H,this.size=0},G.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},G.prototype.get=function(e){return this.__data__.get(e)},G.prototype.has=function(e){return this.__data__.has(e)},G.prototype.set=function(e,t){var r=this.__data__;if(r instanceof H){var n=r.__data__;if(!z||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new K(n)}return r.set(e,t),this.size=r.size,this};var J,ee=function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[J?o:++n];if(!1===t(i[s],s,i))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j&&j in Object(e)?function(e){var t=S.call(e,j),r=e[j];try{e[j]=void 0;var n=!0}catch(a){}var i=w.call(e);n&&(t?e[j]=r:delete e[j]);return i}(e):function(e){return w.call(e)}(e)}function re(e){return Ee(e)&&"[object Arguments]"==te(e)}function ne(e){return!(!ke(e)||function(e){return!!T&&T in e}(e))&&(ye(e)?O:n).test(function(e){if(null!=e){try{return _.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function ie(e){if(!ke(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ce(e),r=[];for(var n in e)("constructor"!=n||!t&&S.call(e,n))&&r.push(n);return r}function ae(e,t,r,n,i){e!==t&&ee(t,(function(a,o){if(i||(i=new G),ke(a))!function(e,t,r,n,i,a,o){var s=de(e,r),l=de(t,r),u=o.get(l);if(u)return void q(e,r,u);var c=a?a(s,l,r+"",e,t,o):void 0,d=void 0===c;if(d){var f=ge(l),p=!f&&ve(l),h=!f&&!p&&_e(l);c=l,f||p||h?ge(s)?c=s:Ee(g=s)&&me(g)?c=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(s):p?(d=!1,c=function(e,t){if(t)return e.slice();var r=e.length,n=M?M(r):new e.constructor(r);return e.copy(n),n}(l,!0)):h?(d=!1,c=function(e,t){var r=t?function(e){var t=new e.constructor(e.byteLength);return new A(t).set(new A(e)),t}(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(l,!0)):c=[]:function(e){if(!Ee(e)||"[object Object]"!=te(e))return!1;var t=I(e);if(null===t)return!0;var r=S.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&_.call(r)==x}(l)||he(l)?(c=s,he(s)?c=function(e){return function(e,t,r,n){var i=!r;r||(r={});var a=-1,o=t.length;for(;++a<o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),i?Q(r,s,l):X(r,s,l)}return r}(e,Se(e))}(s):ke(s)&&!ye(s)||(c=function(e){return"function"!=typeof e.constructor||ce(e)?{}:W(I(e))}(l))):d=!1}var g;d&&(o.set(l,c),i(c,l,n,a,o),o.delete(l));q(e,r,c)}(e,t,o,r,ae,n,i);else{var s=n?n(de(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),q(e,o,s)}}),Se)}function oe(e,t){return fe(function(e,t,r){return t=B(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=B(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),g(e,this,s)}}(e,t,xe),e+"")}function se(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function le(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ne(r)?r:void 0}function ue(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&i.test(e))&&e>-1&&e%1==0&&e<t}function ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k)}function de(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var fe=function(e){var t=0,r=0;return function(){var n=F(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(N?function(e,t){return N(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:xe);function pe(e,t){return e===t||e!==e&&t!==t}var he=re(function(){return arguments}())?re:function(e){return Ee(e)&&S.call(e,"callee")&&!D.call(e,"callee")},ge=Array.isArray;function me(e){return null!=e&&be(e.length)&&!ye(e)}var ve=U||function(){return!1};function ye(e){if(!ke(e))return!1;var t=te(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ee(e){return null!=e&&"object"==typeof e}var _e=h?function(e){return function(t){return e(t)}}(h):function(e){return Ee(e)&&be(e.length)&&!!a[te(e)]};function Se(e){return me(e)?Z(e,!0):ie(e)}var Te,we=(Te=function(e,t,r,n){ae(e,t,r,n)},oe((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,a=n>2?t[2]:void 0;for(i=Te.length>3&&"function"==typeof i?(n--,i):void 0,a&&function(e,t,r){if(!ke(r))return!1;var n=typeof t;return!!("number"==n?me(r)&&ue(t,r.length):"string"==n&&t in r)&&pe(r[t],e)}(t[0],t[1],a)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var o=t[r];o&&Te(e,o,r,i)}return e})));function xe(e){return e}r.exports=we}).call(this,r(48),r(212)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(7),i=r(176),a=r.n(i);function o(e,t){if(!t||null==e)return e;var r,i,o=e.toString();if(i="-",o.slice(0,0+i.length)===i){var s=t[o.slice(1)];r=Object(n.h)(s)?"-"+s:Object(n.f)(s)?-1*s:e}else{var l;r=null!=(l=t[e])?l:e}var u=r||e;return a()(u)||Number.isNaN(Number(u))||(u=Number(u)),u}},function(e,t){},function(e,t,r){"use strict";r(7),r(69)},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(25),i=r(6),a=r(10),o=r(53),s=Object(i.a)(a.a,a.c,a.e,a.g,a.k,a.q,a.i,a.o,a.s,a.u,a.w,a.C,a.y,a.m,a.A),l=(Object(i.a)(a.w,a.k,a.g,a.i,a.s).propNames,[].concat(Object(n.a)(s.propNames),Object(n.a)(o.pseudoPropNames)))},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseConfiguration=void 0;t.baseConfiguration={videoStreamer:{logLevel:"WARNING"},interactionDetector:{inactivityDelay:2},keyboardShortcuts:{keyMap:{togglePause:[" ","Enter","P"],toggleFullscreen:"F",decreaseVolume:"-",increaseVolume:"+",skipBack:",",skipForward:".",toggleUserActive:"C",toggleMute:"M"}},responsivenessRules:[{className:"narrow",width:{max:500}},{className:"medium-width",width:{min:500,max:1e3}},{className:"wide",width:{min:1e3}}],userSettings:{hasPrecedence:!1,storageKey:"replay-settings",settingsStoragePolicy:{volume:"local",isMuted:"local",textTrackLanguage:"local",textTrackKind:"local",audioTrackLanguage:"local",audioTrackKind:"local"}},controls:{skipButtonOffset:-10,qualitySelectionStrategy:"cap-bitrate",liveDisplayMode:"clock-time"},playbackMonitor:{visibleAtStart:!1}}},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13),l=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=p(r(137)),d=r(9),f=p(r(138));function p(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){o(r,e);var t=s(r);function r(e){var i;n(this,r),i=t.call(this,e),v(a(i),"inspectableStreamState",{}),v(a(i),"observeManager",function(){var e={};return{observe:function(t,r){t in e||(e[t]=[]),e[t].push(r)},unobserve:function(t,r){if(Array.isArray(e[t])){var n=e[t].indexOf(r);-1!==n&&e[t].splice(n,1)}},update:function(t){Object.keys(t).forEach((function(r){Array.isArray(e[r])&&e[r].forEach((function(e){e(t)}))}))},unobserveAll:function(){Object.entries(e).forEach((function(e){for(var t=l(e,2),r=(t[0],t[1]);r.length;)r.pop()}))}}}()),v(a(i),"inspect",(function(){return i.inspectableStreamState})),v(a(i),"mergeConfiguration",(0,f.default)(d.override)),v(a(i),"setProperties",(function(e){return i.state.setProperties(e)})),v(a(i),"play",(function(){return i.state.play()})),v(a(i),"onVideoStreamerReady",(function(e){var t=e.setProperties,r=e.play;i.inspectableStreamState={},i.setState({setProperties:t,play:r})})),v(a(i),"onStreamStateChange",(function(e){i.observeManager.update(e),i.inspectableStreamState=m({},i.inspectableStreamState,{},e),i.props.onStreamStateChange&&i.props.onStreamStateChange(e)}));var o={initialPlaybackProps:i.props.initialPlaybackProps,onReady:i.onVideoStreamerReady,onPlaybackError:i.props.onStreamerError,onStreamStateChange:i.onStreamStateChange};return i.state={videoStreamerProps:o,setProperties:function(){},play:function(){return Promise.resolve()}},i}return i(r,[{key:"componentDidMount",value:function(){var e,t=this,r=this.props.onPlaybackActionsReady;r&&r({play:function(){return t.play()},pause:function(){return e({isPaused:!0})},setPosition:function(t){return e({position:t})},gotoLive:function(){return e({isAtLiveEdge:!0})},setVolume:function(t){return e({volume:t})},setIsMuted:function(t){return e({isMuted:t})},mute:function(){return e({isMuted:!0})},unmute:function(){return e({isMuted:!1})},requestPictureInPicture:function(){return e({isPipActive:!0})},exitPictureInPicture:function(){return e({isPipActive:!1})},showAirPlayTargetPicker:function(){return e({isAirPlayTargetPickerVisible:!0})},setSelectedAudioTrack:function(t){return e({selectedAudioTrack:t})},setSelectedTextTrack:function(t){return e({selectedTextTrack:t})},capBitrate:function(t){return e({bitrateCap:t})},fixBitrate:function(t){return e({bitrateFix:t})},setProperties:e=function(e){return t.setProperties(e)},inspect:function(){return t.inspect()}})}},{key:"componentWillUnmount",value:function(){this.observeManager.unobserveAll()}},{key:"render",value:function(){var e,t,r=this.state,n=r.setProperties,i=r.videoStreamerProps,a=this.observeManager,o=this.props,s=o.render,l=o.externalProps,d=o.configuration,f=o.options,p=this.mergeConfiguration(d,f),h=a.observe,g=a.unobserve,v={setProperties:n,videoStreamer:(e=this.props.children,t=m({},i,{configuration:p.videoStreamer}),u.Children.map(e,(function(e,r){return 0===r?u.cloneElement(e,t):e}))[0]),observe:h,inspect:this.inspect,unobserve:g};return u.createElement(c.default.Provider,{value:v},s({controllerApi:v,configuration:p,externalProps:l}))}}]),r}(u.Component);t.default=y},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,r){var n=r(136);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";function n(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(0)).createContext({setProperties:function(){},videoStreamer:null,inspect:function(){return{}},observe:null,unobserve:function(){}});t.default=i},function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}r.r(t),t.default=function(e,t){var r;void 0===t&&(t=n);var i,a=[],o=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return o&&r===this&&t(n,a)||(i=e.apply(this,n),o=!0,r=this,a=n),i}}},function(e,t,r){"use strict";var n,i=r(11),a=r(17),o=r(12),s=r(13);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){o(r,e);var t=s(r);function r(){var e;i(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),l(a(e),"baseClassName","controls-bar"),e}return r}(((n=r(140))&&n.__esModule?n:{default:n}).default);u.displayName="ControlsBar";var c=u;t.default=c},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"baseClassName","container"),d(a(e),"selectClasses",(function(e){return e.container})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.classNamePrefix,n=e.classes,i=e.children,a=this.selectClasses,o=(0,u.hydrateClassNames)({classes:n,selectClasses:a,classNamePrefix:r,classNames:[t,this.baseClassName]});return l.createElement("div",{className:o},i)}}]),r}(l.Component);d(f,"defaultProps",{classNamePrefix:u.defaultClassNamePrefix,useDefaultClassNaming:!0});var p=f;t.default=p},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(t){e.props.setProperties&&e.props.setProperties({isFullscreen:t})})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.isFullscreen,r=e.fullscreenContent,n=e.normalContent,i=e.label,a=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:a,isOn:t,className:"fullscreen-button",label:i,onToggle:this.handleToggle,toggledOnContent:r,toggledOffContent:n})}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),h.displayName="FullscreenButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=(s=r(78))&&s.__esModule?s:{default:s},c=r(9);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}var f=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"render",value:function(){var e=this.props,t=e.content,r=e.label,n=e.classNamePrefix,i=e.onClick;return i?l.createElement(u.default,{classNamePrefix:n,className:"exit-button",label:r,onClick:i,content:t}):null}}]),r}(l.Component);!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(f,"defaultProps",{classNamePrefix:c.defaultClassNamePrefix}),f.displayName="ExitButton";var p=f;t.default=p},function(e,t,r){"use strict";var n=r(17),i=r(11),a=r(15),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PropTableRow=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9),c=p(r(78)),d=p(r(66)),f=p(r(144));function p(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=["playMode","playState","isPaused","isBuffering","isSeeking","position","duration","absolutePosition","absoluteStartPosition","isAtLiveEdge","isPipAvailable","isPipActive","isAirPlayAvailable","isAirPlayActive","bufferedAhead","bitrateFix","bitrateCap","currentBitrate","bitrates","currentTextTrack","textTracks","currentAudioTrack","audioTracks","volume","isMuted","error"],v=function e(t){if(t instanceof Date)return isNaN(t.getTime())?t.toString():t.toISOString();if("number"===typeof t)return t%1!==0?t.toFixed(2):t;if("function"===typeof t)return"function :-o";if(t instanceof Error){var r=[];return t.message&&r.push("message: '".concat(t.message,"'")),t.code&&r.push("code: '".concat(t.code,"'")),t.severity&&r.push("severity: '".concat(t.severity,"'")),"{".concat(r.join(","),"}")}return Array.isArray(t)?"["+t.map(e).join(",")+"]":"boolean"===typeof t?t.toString():"string"===typeof t?t:t?JSON.stringify(t).replace(/(")(([A-Z]|[a-z]|[0-9])+)(")(:)/g,"$2$5").replace(/(handlers|props|methods|constants):\{(.*?)},/g,""):t},y=function(e){o(r,e);var t=s(r);function r(e){var n;return i(this,r),(n=t.call(this,e)).state={currentValue:e.inspect()[e.propertyName]},n}return a(r,[{key:"render",value:function(){var e=this.props,t=e.prefixedClassNames,r=e.propertyName,n=this.state,i=n.currentValue,a=n.previousValue,o=v(i),s=v(a);return l.createElement("tr",null,l.createElement("th",{title:r,className:t.propName},r),l.createElement("td",{title:o,className:t.currentValue},o),l.createElement("td",{title:s,className:t.previousValue},s))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.propertyName in e&&(0,u.isDifferent)(e[e.propertyName],t.currentValue)?{currentValue:e[e.propertyName],previousValue:t.currentValue}:null}}]),r}(l.Component);t.PropTableRow=y;var b={};m.forEach((function(e){b[e]=(0,d.default)(y,[e])}));var k=function(e){return!!(e.configuration&&e.configuration.playbackMonitor&&e.configuration.playbackMonitor.visibleAtStart)},E=function(e){var t=e.prefixedClassNames;return l.createElement("tr",{className:t.headerRow},l.createElement("th",{className:t.propName},"Property name"),l.createElement("th",{className:t.currentValue},"Current value"),l.createElement("th",{className:t.previousValue},"Previous value"))},_=function(e){o(r,e);var t=s(r);function r(e){var a;return i(this,r),a=t.call(this,e),g(n(a),"handleCloseClick",(function(){return a.setState({isMonitorVisible:!1})})),g(n(a),"handleKeyDown",(function(e){e.ctrlKey&&e.altKey&&"KeyM"===e.code&&a.setState({isMonitorVisible:!a.state.isMonitorVisible})})),a.state={isMonitorVisible:k(e)},a}return a(r,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e,t,r){!k(e)&&k(this.props)&&this.setState({isMonitorVisible:!0})}},{key:"render",value:function(){var e=this.props,t=e.label,r=e.classNamePrefix,n=e.closeButtonContent;return this.state.isMonitorVisible?l.createElement("div",{title:t,className:(0,u.prefixClassNames)(r,"playback-monitor")},l.createElement("div",{className:(0,u.prefixClassNames)(r,"playback-monitor-header")},l.createElement(c.default,{className:"playback-monitor-close-button",classNamePrefix:r,content:n,label:"Close",onClick:this.handleCloseClick}),l.createElement("p",{className:(0,u.prefixClassNames)(r,"playback-monitor-version")},"Replay v",f.default)),l.createElement("table",{className:(0,u.prefixClassNames)(r,"playback-monitor-stream-state")},l.createElement("tbody",null,function(e){var t={headerRow:(0,u.prefixClassNames)(e,"playback-monitor-table-header"),propName:(0,u.prefixClassNames)(e,"playback-monitor-property-name"),currentValue:(0,u.prefixClassNames)(e,"playback-monitor-current-value"),previousValue:(0,u.prefixClassNames)(e,"playback-monitor-previous-value")};return[l.createElement(E,{key:"header-row",prefixedClassNames:t})].concat(m.map((function(e){var r=b[e];return l.createElement(r,{key:"prop-row-".concat(e),prefixedClassNames:t,propertyName:e})})))}(r)))):null}}]),r}(l.Component);g(_,"defaultProps",{classNamePrefix:u.defaultClassNamePrefix}),_.displayName="PlaybackMonitor";var S=_;t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="0.0.0";try{n="3.2.0"}catch(a){}var i=n;t.default=i},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getConnectedPlayerUIContainer=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),l=r(9),u=g(r(146)),c=g(r(147)),d=g(r(148)),f=g(r(149)),p=g(r(150)),h=g(r(237));function g(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k={responsivenessPrefix:"player-size-",volumePrefix:"volume-level-",isFullscreen:"is-fullscreen",isUserActive:"is-user-active",isUserInactive:"is-user-inactive",isBuffering:"is-buffering",isSeeking:"is-seeking",isPlaying:"is-playing",isPaused:"is-paused",isStarting:"is-starting",isMuted:"is-muted",isAtLiveEdge:"is-at-live-edge",isLive:"is-live",isOnDemand:"is-on-demand",isDvrEnabled:"is-dvr-enabled",isFailed:"is-failed"},E=function(e){return e},_=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,g=r(p.default),m=r(f.default);return t=e=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"render",value:function(){var e=this.props,t=e.classNamePrefix,r=e.render,n=e.configuration,i=e.aspectRatio,a=e.className,o=t?t.substr(0,t.length-1):a;return s.createElement(c.default,{rootClassName:o,aspectRatio:i||n&&n.aspectRatio,aspectFixClassName:"aspect-ratio-fix",classNamePrefix:t,render:function(){return s.createElement(u.default,{render:function(e){var i=e.onRef,a=y(e,["onRef"]);return s.createElement(d.default,{configuration:n,render:function(e){var o=e.handleMouseMove,l=e.handleTouchStart,u=e.handleTouchEnd,c=e.handleFocus,d=y(e,["handleMouseMove","handleTouchStart","handleTouchEnd","handleFocus"]);return s.createElement(m,{configuration:n,fullscreenState:a,nudge:d.nudge,toggleFixedUserActive:d.toggleFixedUserActive,render:function(e){var f=e.handleKeyDown;return s.createElement(h.default,{onRef:i,configuration:n,render:function(e){var n=e.onRef,i=e.responsiveClassNames;return s.createElement(g,v({},a,d,{classNameDefinitions:k,classNamePrefix:t,className:"ui-container",extraClassNames:i,render:function(e){return s.createElement("div",{className:e,tabIndex:0,ref:n,onMouseMove:o,onTouchStart:l,onTouchEnd:u,onKeyDown:f,onFocus:c},r({fullscreenState:a,interactionState:d}))}}))}})}})}})}})}})}}]),r}(s.Component),b(e,"defaultProps",{classNamePrefix:l.defaultClassNamePrefix,className:l.defaultClassNamePrefix.substr(0,l.defaultClassNamePrefix.length-1),aspectRatio:{horizontal:16,vertical:9}}),t};t.getConnectedPlayerUIContainer=_;var S=_();t.default=S},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(236);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),d(a(i),"fullscreenTarget",void 0),d(a(i),"unsubscribe",void 0),d(a(i),"onRef",(function(e){i.fullscreenTarget=e,i.setState({isFullscreen:(0,u.getFullscreenElement)()===e})})),d(a(i),"onFullscreenChange",(function(){var e=(0,u.getFullscreenElement)();i.setState({isFullscreen:!(!e||e!==i.fullscreenTarget)})})),d(a(i),"enterFullscreen",(function(){i.fullscreenTarget&&(0,u.enterFullscreen)(i.fullscreenTarget)})),d(a(i),"exitFullscreen",(function(){i.fullscreenTarget&&(0,u.exitFullscreen)(i.fullscreenTarget)})),d(a(i),"setProperties",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isFullscreen;t?i.enterFullscreen():i.exitFullscreen()})),i.state={isFullscreen:!1},i.unsubscribe=(0,u.notifyFullscreenChange)(i.onFullscreenChange),i}return i(r,[{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this.props.render,t=this.state.isFullscreen,r=this.enterFullscreen,n=this.exitFullscreen,i=this.onRef;return e({isFullscreen:t,enterFullscreen:r,exitFullscreen:n,setProperties:this.setProperties,onRef:i})}}]),r}(l.Component);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(9),o=(n=r(138))&&n.__esModule?n:{default:n};function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={position:"relative",maxHeight:"100vh"},d={display:"block",width:"100%",paddingTop:"56.25%",pointerEvents:"none"},f=(0,o.default)((function(e){return e?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},d,{paddingTop:(100*e.vertical/e.horizontal).toFixed(2)+"%"}):d})),p=function(e){var t=e.aspectRatio,r=e.render,n=e.rootClassName,o=void 0===n?"":n,s=e.aspectFixClassName,l=e.classNamePrefix,u=void 0===l?a.defaultClassNamePrefix:l;if(s)return i.createElement("div",{className:"".concat(o," ").concat((0,a.prefixClassNames)(u,s))},r());var d=f(t);return i.createElement("div",{className:o,style:c},i.createElement("div",{style:d}),r())};t.default=p},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return e&&e.interactionDetector&&null!=e.interactionDetector.inactivityDelay?e.interactionDetector.inactivityDelay:0},f=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),c(a(i),"isFixed",!1),c(a(i),"intervalId",void 0),c(a(i),"inactivityTimeoutId",void 0),c(a(i),"flags",{isMouseMoved:!0,isTouched:!1,isTouching:!1,isEntered:!1,clientX:-1,clientY:-1}),c(a(i),"handleMouseMove",(function(e){e.clientX===i.flags.clientX&&e.clientY===i.flags.clientY||(i.flags.isMouseMoved=!0,i.flags.clientX=e.clientX,i.flags.clientY=e.clientY)})),c(a(i),"handleTouchStart",(function(){i.flags.isTouched=!0,i.flags.isTouching=!0})),c(a(i),"handleTouchEnd",(function(){i.flags.isTouching=!1})),c(a(i),"nudge",(function(){i.flags.isMouseMoved=!0})),c(a(i),"toggleFixedUserActive",(function(){i.isFixed=!i.isFixed,i.isFixed?i.flags.isMouseMoved=!0:i.setState({isUserActive:!1})})),c(a(i),"handleFocus",(function(e){e.target===e.currentTarget&&i.nudge()})),c(a(i),"setInactive",(function(){i.isFixed||i.flags.isMouseMoved||i.setState({isUserActive:!1})})),c(a(i),"updateActivity",(function(){(i.flags.isMouseMoved||i.flags.isTouched||i.flags.isTouching)&&(i.flags.isTouched=!1,i.flags.isMouseMoved=!1,i.state.isUserActive||i.setState({isUserActive:!0}),clearTimeout(i.inactivityTimeoutId),i.inactivityTimeoutId=setTimeout(i.setInactive,1e3*d(i.props.configuration)))})),i.state={isUserActive:!0},i}return i(r,[{key:"componentDidMount",value:function(){d(this.props.configuration)>=0&&(this.intervalId=setInterval(this.updateActivity,250))}},{key:"componentDidUpdate",value:function(e,t){var r=d(this.props.configuration);r!==d(e.configuration)&&(this.intervalId&&clearInterval(this.intervalId),r>=0?this.intervalId=setInterval(this.updateActivity,250):this.setState({isUserActive:!0}))}},{key:"componentWillUnmount",value:function(){this.intervalId&&clearInterval(this.intervalId),this.inactivityTimeoutId&&clearTimeout(this.inactivityTimeoutId)}},{key:"render",value:function(){var e=this.state.isUserActive,t=this.props.render;return t({isUserActive:e,handleMouseMove:this.handleMouseMove,handleTouchStart:this.handleTouchStart,handleTouchEnd:this.handleTouchEnd,handleFocus:this.handleFocus,toggleFixedUserActive:this.toggleFixedUserActive,nudge:this.nudge})}}]),r}(l.Component);t.default=f},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13),l=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){return"string"===typeof e&&(e.length>1?e===t:e.toLowerCase()===t.toLowerCase())},p=function(e,t){if(e.keyMap)return Object.entries(e.keyMap).filter((function(e){var r=l(e,2),n=(r[0],r[1]);return!!(f(n,t)||Array.isArray(n)&&n.filter((function(e){return f(e,t)})).length)})).map((function(e){return e[0]}))[0]},h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"handleKeyDown",(function(t){var r=e.props,n=r.nudge,i=r.toggleFixedUserActive,a=r.configuration,o=r.setProperties,s=r.fullscreenState,l=r.isPaused,u=r.isMuted,c=r.position,d=r.duration,f=r.volume,h=r.playMode,g=r.inspect;if(g){var m=g();l=m.isPaused,u=m.isMuted,c=m.position,d=m.duration,f=m.volume,h=m.playMode}if(a&&a.keyboardShortcuts){var v=a.keyboardShortcuts.skipOffset||30,y=a.keyboardShortcuts.volumeStep||.1,b=p(a.keyboardShortcuts,t.key);if(b){switch(b){case"togglePause":o&&o({isPaused:!l});break;case"toggleMute":o&&o({isMuted:!u});break;case"toggleFullscreen":s&&s.setProperties({isFullscreen:!s.isFullscreen});break;case"skipBack":o&&null!=c&&o({position:Math.max(c-v,0)});break;case"skipForward":if(o&&d){var k=(c||0)+v;(k<d||"ondemand"!==h)&&o({position:Math.min(k,d)})}break;case"decreaseVolume":o&&null!=f&&o({volume:Math.max(f-y,0)});break;case"increaseVolume":o&&null!=f&&o({volume:Math.min(f+y,1)});break;case"toggleUserActive":i&&i()}n&&"toggleUserActive"!==b&&n(),t.preventDefault()}else"Tab"===t.key&&n&&n()}})),e}return i(r,[{key:"render",value:function(){var e=this.handleKeyDown;return this.props.render({handleKeyDown:e})}}]),r}(u.Component);t.default=h},function(e,t,r){"use strict";var n=r(96),i=r(11),a=r(15),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(151))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){o(r,e);var t=s(r);function r(){return i(this,r),t.apply(this,arguments)}return a(r,[{key:"render",value:function(){var e=this.props,t=e.render,r=e.classNamePrefix,i=e.classNameDefinitions,a=e.className,o=e.extraClassNames,s=p(e,["render","classNamePrefix","classNameDefinitions","className","extraClassNames"]);return t((0,c.default)(s,i,r,a?[a].concat(n(o)):o))}}]),r}(u.Component);h(g,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix,extraClassNames:[]}),h(g,"streamStateKeysForObservation",["isPaused","isSeeking","isBuffering","isMuted","volume","isAtLiveEdge","playState","error","playMode"]);var m=g;t.default=m},function(e,t,r){"use strict";var n=r(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(9),a=["low","medium","high"],o=function(e){return e&&"inactive"!==e&&"starting"!==e},s=function(e,t,r){var s=e.isPaused,l=e.isSeeking,u=e.isBuffering,c=e.isMuted,d=e.volume,f=e.isAtLiveEdge,p=e.playState,h=e.playMode,g=e.error,m=e.isUserActive,v=e.isFullscreen,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],b=t||{},k=[];if(o(p)&&null!=s&&(s?k.push(b.isPaused):k.push(b.isPlaying)),u&&k.push(b.isBuffering),l&&k.push(b.isSeeking),c&&k.push(b.isMuted),f&&k.push(b.isAtLiveEdge),"starting"===p&&k.push(b.isStarting),"ondemand"===h?k.push(b.isOnDemand):"live"===h?k.push(b.isLive):"livedvr"===h&&(k.push(b.isLive),k.push(b.isDvrEnabled)),null!=d&&null!=b.volumePrefix){var E=Math.min(Math.floor(d*a.length),a.length-1);k.push(b.volumePrefix+a[E])}return v&&k.push(b.isFullscreen),null!=m&&(m?k.push(b.isUserActive):k.push(b.isUserInactive)),g&&k.push(b.isFailed),i.prefixClassNames.apply(void 0,[r].concat(n(k.concat(y))))};t.default=s},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(78))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleClick",(function(){var t=e.props.setProperties;if(t){var r=("function"===typeof e.props.inspect?e.props.inspect().position:e.props.position)+e.props.offset;isNaN(r)||t({position:r})}})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.content,r=e.label,n=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:n,className:"skip-button",label:r,onClick:this.handleClick,content:t})}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix,offset:-30}),h.displayName="SkipButton";var g=h;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(9);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,i.formatTime)(null==e?0:Math[r?"min":"max"](0,e),t)},s=function(e){var t,r=e.position,a=e.duration,s=e.absolutePosition,l=e.playMode,u=e.liveDisplayMode,c=void 0===u?"clock-time":u,d=e.negativeMark,f=e.label,p=e.positionLabel,h=e.durationLabel,g=(e.clockTimeLabel,e.classNamePrefix),m=void 0===g?i.defaultClassNamePrefix:g;return"ondemand"===l?n.createElement("div",{className:(0,i.prefixClassNames)(m,"time-display"),title:f},n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-position"),title:p},o(r,d)),n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-duration"),title:h},o(a,d))):("live-offset"!==c||"livedvr"!==l)&&((t=s)instanceof Date&&!isNaN(t.getTime())&&t.getTime()>15147612e5)?n.createElement("div",{className:(0,i.prefixClassNames)(m,"time-display","time-display-no-duration"),title:f},n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-clock-time"),title:p},(0,i.formatClockTime)(s))):n.createElement("div",{className:(0,i.prefixClassNames)(m,"time-display"),title:f},n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-position"),title:p},o((r||a||0)-(a||0),d,!0)),"livedvr"===l&&n.createElement("span",{className:(0,i.prefixClassNames)(m,"time-display-duration"),title:h},o(a,d)))};s.streamStateKeysForObservation=["position","duration","absolutePosition","playMode"],s.displayName="TimeDisplay";var l=s;t.default=l},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(79))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleSelect",(function(t){e.props.setProperties&&("fix-bitrate"===e.props.selectionStrategy?e.props.setProperties({bitrateFix:t}):e.props.setProperties({bitrateCap:t}))})),p(a(e),"bitrateToItem",(function(t){return{id:t,label:t===1/0?e.props.autoLabel:e.props.formatBitrateLabel(t,t===e.props.currentBitrate),data:t}})),p(a(e),"isSelected",(function(t,r,n){var i=e.props,a=i.bitrateFix,o=i.bitrateCap,s=i.selectionStrategy,l=null!=a&&null!=o?"fix-bitrate"===s?a:o:a||o;return"min"===l?1===r:"max"===l?r===n.length-1:t===l})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.bitrates,r=e.label,n=e.toggleContent,i=e.classNamePrefix;if(Array.isArray(t)&&t.length>1){var a=[1/0].concat(t),o=a.filter(this.isSelected)[0]||a[0];return u.createElement(c.default,{items:a,itemMapper:this.bitrateToItem,classNamePrefix:i,className:"quality-selector",selectedItem:o,label:r,onSelect:this.handleSelect,reverseOrder:!0,expandedToggleContent:n,collapsedToggleContent:n})}return null}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix,selectionStrategy:"cap-bitrate"}),p(h,"streamStateKeysForObservation",["bitrates","currentBitrate","bitrateFix","bitrateCap"]),h.displayName="QualitySelector";var g=h;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(9);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var o="buffering-indicator",s=function(e){var t=e.children,r=e.content,a=e.isBuffering,s=e.isSeeking,l=e.playState,u=e.renderStrategy,c=void 0===u?"when-buffering":u,d=e.label,f=e.classNamePrefix,p=void 0===f?i.defaultClassNamePrefix:f,h=a||s||"starting"===l||"buffering"===l||"seeking"===l;return"always"===c?h?n.createElement("div",{title:d,className:(0,i.prefixClassNames)(p,o,"buffering")},t||r):n.createElement("div",{className:(0,i.prefixClassNames)(p,o)},t||r):h?n.createElement("div",{title:d,className:(0,i.prefixClassNames)(p,o,"buffering")},t||r):null};s.streamStateKeysForObservation=["isBuffering","isSeeking","playState"],s.displayName="BufferingIndicator";var l=s;t.default=l},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(79))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(".")},g=function(e){var t=e.label,r=e.kind,n=void 0===r?"":r,i=e.language,a=void 0===i?"unknown":i;return t||(n?"[".concat(a,"] ").concat(n):"[".concat(a,"]"))},m=function(e){return{id:e.id||h(e.language,e.label)||e.label,label:g(e),data:e}},v=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleSelect",(function(t){e.props.setProperties&&e.props.setProperties({selectedAudioTrack:t})})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.audioTracks,r=e.currentAudioTrack,n=e.label,i=e.toggleContent,a=e.classNamePrefix;if(Array.isArray(t)&&t.length>1){var o=t[0];if(r){var s=t.indexOf(r);s>=0&&(o=t[s])}return u.createElement(c.default,{items:t,itemMapper:m,classNamePrefix:a,className:"audio-selector",selectedItem:o,label:n,onSelect:this.handleSelect,reverseOrder:!0,expandedToggleContent:i,collapsedToggleContent:i})}return null}}]),r}(u.Component);p(v,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(v,"streamStateKeysForObservation",["audioTracks","currentAudioTrack"]),v.displayName="AudioSelector";var y=v;t.default=y},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(t){e.props.setProperties&&e.props.setProperties({isPaused:t})})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.isPaused,r=e.pausedContent,n=e.playingContent,i=e.label,a=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:a,isOn:t,className:"play-pause-button",useDefaultClassNaming:!0,label:i,onToggle:this.handleToggle,toggledOnContent:r,toggledOffContent:n})}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(h,"streamStateKeysForObservation",["isPaused"]),h.displayName="PlayPauseButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(79))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(".")},g=function(e){var t=e.label,r=e.kind,n=void 0===r?"subtitles":r,i=e.language,a=void 0===i?"unknown":i;return t||("subtitles"!==n?"[".concat(a,"] ").concat(n):"[".concat(a,"]"))||""},m=function(e){return e.noTrack?{id:0,label:e.label||"",data:e}:{id:e.id||h(e.language,e.kind,e.origin)||e.label,label:g(e),data:e}},v=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),p(a(i),"handleSelect",(function(e){i.props.setProperties&&(e.noTrack?i.props.setProperties({selectedTextTrack:null}):i.props.setProperties({selectedTextTrack:e}))})),i.state={noSubtitlesItem:{noTrack:!0,label:i.props.noSubtitlesLabel}},i}return i(r,[{key:"render",value:function(){var e=this.props,t=e.textTracks,r=e.currentTextTrack,n=e.label,i=e.toggleContent,a=e.classNamePrefix;if(Array.isArray(t)&&t.length>0){var o=[this.state.noSubtitlesItem].concat(t),s=this.state.noSubtitlesItem;if(r){var l=t.indexOf(r)+1;l>0&&(s=o[l])}return u.createElement(c.default,{items:o,itemMapper:m,classNamePrefix:a,className:"subtitles-selector",selectedItem:s,label:n,onSelect:this.handleSelect,reverseOrder:!0,expandedToggleContent:i,collapsedToggleContent:i})}return null}}]),r}(u.Component);p(v,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(v,"streamStateKeysForObservation",["textTracks","currentTextTrack"]),v.displayName="SubtitlesSelector";var y=v;t.default=y},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9),c=f(r(49)),d=f(r(97));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),h(a(e),"handleMuteToggleClick",(function(t){e.props.setProperties&&e.props.setProperties({isMuted:t})})),h(a(e),"handleVolumeSliderChange",(function(t){var r=e.props.setProperties;r&&r({isMuted:!1,volume:t})})),e}return i(r,[{key:"render",value:function(){var e=navigator.userAgent.match(/(iPad|iPhone|iPod)/i),t=this.props,r=t.volume,n=t.isMuted,i=t.label,a=t.volumeSliderLabel,o=t.muteToggleLabel,s=t.classNamePrefix,f=t.mutedContent,p=t.unmutedContent,h=t.volumeSliderHandleContent,g=t.volumeSliderTrackContent,m=(0,u.prefixClassNames)(s,"volume",e&&"volume-disabled");return l.createElement("div",{className:m,title:i},l.createElement(c.default,{label:o,isOn:n,toggledOffContent:p,toggledOnContent:f,onToggle:this.handleMuteToggleClick,classNamePrefix:s,className:"mute-toggle"}),!e&&l.createElement(d.default,{label:a,value:n?0:r,maxValue:1,handleContent:h,trackContent:g,onValueChange:this.handleVolumeSliderChange,classNamePrefix:s,className:"volume-slider",trackClassName:"volume-slider-track",handleClassName:"volume-slider-handle"}))}}]),r}(l.Component);h(g,"defaultProps",{classNamePrefix:u.defaultClassNamePrefix}),h(g,"streamStateKeysForObservation",["volume","isMuted"]),g.displayName="Volume";var m=g;t.default=m},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(t){t&&e.props.setProperties&&e.props.setProperties({isAtLiveEdge:!0})})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.playMode,r=e.isAtLiveEdge,n=e.isAtLiveEdgeContent,i=e.isNotAtLiveEdgeContent,a=e.label,o=e.classNamePrefix;return"livedvr"===t?u.createElement(c.default,{classNamePrefix:o,isOn:r,className:"goto-live-button",label:a,onToggle:this.handleToggle,toggledOnContent:n,toggledOffContent:i}):null}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(h,"streamStateKeysForObservation",["isAtLiveEdge","playMode"]),h.displayName="GotoLiveButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=r(9),d=(l=r(97))&&l.__esModule?l:{default:l};function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),p(a(i),"timeoutId",void 0),p(a(i),"handleSliderChange",(function(e){i.props.setProperties&&i.props.setProperties({position:e})})),p(a(i),"handleDrag",(function(){i.setState({isDragging:!0}),i.timeoutId&&clearTimeout(i.timeoutId),i.timeoutId=setTimeout((function(){i.setState({isDragging:!1}),i.timeoutId=null}),800)})),i.state={isDragging:!1},i}return i(r,[{key:"componentWillUnmount",value:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"render",value:function(){var e=this.props,t=e.position,r=e.duration,n=e.isSeeking,i=e.label,a=e.classNamePrefix,o=e.children,s=e.handleContent,l=e.trackContent,c=e.reduceDragGlitch;return u.createElement(d.default,{label:i,value:t,maxValue:r,isUpdateBlocked:n||this.state.isDragging,handleContent:s,trackContent:l,onValueChange:this.handleSliderChange,onDrag:c?this.handleDrag:void 0,classNamePrefix:a,className:"timeline",trackClassName:"timeline-track",handleClassName:"timeline-handle"},o)}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:c.defaultClassNamePrefix,reduceDragGlitch:!0}),p(h,"streamStateKeysForObservation",["position","duration","isSeeking"]),h.displayName="Timeline";var g=h;t.default=g},function(e,t,r){var n=r(133),i=r(95),a=r(246),o=r(247);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){var n=t.source,a=(0,i.default)(n);return a&&a.streamUrl?"number"===typeof a.startPosition&&a.streamUrl.indexOf("#t=")<0?e.src="".concat(a.streamUrl,"#t=").concat(a.startPosition.toFixed(2)):e.src=a.streamUrl:e.src&&(e.removeAttribute("src"),e.load()),Promise.resolve()}};var n,i=(n=r(50))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={playPauseButton:{label:"Toggle play/pause"},skipButton:{label:"Skip back 10 seconds",seconds:"\u201310"},timeDisplay:{label:"Video times",clockTimeLabel:"Clock time",positionLabel:"Current time",durationLabel:"Duration",negativeMark:"\u2013"},timeline:{label:"Timeline"},gotoLiveButton:{label:"Play from live position",isLive:"Live",gotoLive:"Go live"},volume:{label:"Volume and mute",muteToggleLabel:"Toggle mute",volumeSliderLabel:"Volume setting"},audioSelector:{label:"Audio track selector"},subtitlesSelector:{label:"Subtitles selector",noSubtitlesLabel:"No subtitles"},qualitySelector:{label:"Video quality selector",autoLabel:"Automatic",formatBitrateLabel:function(e,t){return"".concat(e," kbps").concat(t?" \u2022":"")}},pipButton:{label:"Toggle picture-in-picture mode"},airPlayButton:{label:"Select AirPlay device"},fullscreenButton:{label:"Toggle fullscreen"},bufferingIndicator:{label:"Video is buffering"},exitButton:{label:"Exit"}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.broadcastHlsInstance=l,t.hlsjsSetup=function(e,t,r){return new Promise((function(n,l){if(i.default.isSupported()){var c=r&&r.hlsjs&&r.hlsjs.customConfiguration,d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({autoStartLoad:!1,debug:r&&u.indexOf(r.logLevel)>=0},c),f=t&&t.licenseUrl;if(f){d.widevineLicenseUrl=f,d.emeEnabled=!0;var p=t&&t.licenseAcquisitionDetails;if(p&&p.robustness&&p.robustness["com.widevine.alpha"]){var h=p.robustness["com.widevine.alpha"],g=h.audio,m=h.video;d.drmSystemOptions={audioRobustness:g,videoRobustness:m}}}var v=new i.default(d);v.on(i.default.Events.MEDIA_ATTACHED,(function(){n(v)})),v.attachMedia(e)}else l(new a.PlaybackError("STREAM_ERROR_TECHNOLOGY_UNSUPPORTED","hlsjs","Hls.js is not supported in this browser."))}))},t.hlsjsCleanup=function(e){var t=e.hls;return t?(t.stopLoad(),l(e,"off"),Promise.resolve(t.destroy())):Promise.resolve()};var n,i=(n=r(40))&&n.__esModule?n:{default:n},a=r(35);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=e.hls;r&&e.subscribers.forEach((function(e){return e(r,t)}))}var u=["DEBUG","VERBOSE","INFO"]},function(e,t,r){e.exports={Adts:r(85),h264:r(99)}},function(e,t){var r=function(e,t){var r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return r.dataOffset=t,r.compositionTimeOffset=e.pts-e.dts,r.duration=e.duration,r.size=4*e.length,r.size+=e.byteLength,e.keyFrame&&(r.flags.dependsOn=2,r.flags.isNonSyncSample=0),r};e.exports={groupNalsIntoFrames:function(e){var t,r,n=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(r=e[t]).nalUnitType?(n.length&&(n.duration=r.dts-n.dts,i.byteLength+=n.byteLength,i.nalCount+=n.length,i.duration+=n.duration,i.push(n)),(n=[r]).byteLength=r.data.byteLength,n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.duration=r.dts-n.dts,n.byteLength+=r.data.byteLength,n.push(r));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.length,i.duration+=n.duration,i.push(n),i},groupFramesIntoGops:function(e){var t,r,n=[],i=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(r=e[t]).keyFrame?(n.length&&(i.push(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration),(n=[r]).nalCount=r.length,n.byteLength=r.byteLength,n.pts=r.pts,n.dts=r.dts,n.duration=r.duration):(n.duration+=r.duration,n.nalCount+=r.length,n.byteLength+=r.byteLength,n.push(r));return i.length&&n.duration<=0&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration,i.push(n),i},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var n,i,a,o,s,l=t||0,u=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)s=o[i],l+=(a=r(s,l)).size,u.push(a);return u},concatenateNalData:function(e){var t,r,n,i,a,o,s=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],r=0;r<i.length;r++)for(a=i[r],n=0;n<a.length;n++)o=a[n],d.setUint32(s,o.data.byteLength),s+=4,c.set(o.data,s),s+=o.data.byteLength;return c},generateSampleTableForFrame:function(e,t){var n,i=[];return n=r(e,t||0),i.push(n),i},concatenateNalDataForFrame:function(e){var t,r,n=0,i=e.byteLength,a=e.length,o=new Uint8Array(i+4*a),s=new DataView(o.buffer);for(t=0;t<e.length;t++)r=e[t],s.setUint32(n,r.data.byteLength),n+=4,o.set(r.data,n),n+=r.data.byteLength;return o}}},function(e,t,r){var n=r(286),i=r(51);e.exports={prefixWithSilence:function(e,t,r,a){var o,s,l,u,c,d=0,f=0,p=0;if(t.length&&(o=i.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(i.ONE_SECOND_IN_TS/(e.samplerate/1024)),r&&a&&(d=o-Math.max(r,a),p=(f=Math.floor(d/s))*s),!(f<1||p>i.ONE_SECOND_IN_TS/2))){for((l=n()[e.samplerate])||(l=t[0].data),u=0;u<f;u++)c=t[0],t.splice(0,0,{data:l,dts:c.dts-s,pts:c.pts-s});e.baseMediaDecodeTime-=Math.floor(i.videoTsToAudioTs(p,e.samplerate))}},trimAdtsFramesByEarliestDts:function(e,t,r){return t.minSegmentDts>=r?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=r&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,r,n=[];for(t=0;t<e.length;t++)r=e[t],n.push({size:r.data.byteLength,duration:1024});return n},concatenateFrameData:function(e){var t,r,n=0,i=new Uint8Array(function(e){var t,r=0;for(t=0;t<e.length;t++)r+=e[t].data.byteLength;return r}(e));for(t=0;t<e.length;t++)r=e[t],i.set(r.data,n),n+=r.data.byteLength;return i}}},function(e,t,r){"use strict";var n=r(30),i=r(170),a=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new g(0,0),new g(0,1),new g(1,0),new g(1,1)],this.cc708Stream_=new c,this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done"))};(a.prototype=new n).push=function(e){var t,r,n;if("sei_rbsp"===e.nalUnitType&&(t=i.parseSei(e.escapedRBSP)).payload&&t.payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(r=i.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=i.parseCaptionPackets(e.pts,r),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},a.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},a.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},a.prototype.flush=function(){return this.flushStream("flush")},a.prototype.partialFlush=function(){return this.flushStream("partialFlush")},a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},a.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},a.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},a.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},a.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)},a.prototype.dispatchCea708Packet=function(e){this.cc708Stream_.push(e)};var o={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},s=function(e){return 32<=e&&e<=127||160<=e&&e<=255},l=function(e){this.windowNum=e,this.reset()};l.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},l.prototype.getText=function(){return this.rows.join("\n")},l.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},l.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"===typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},l.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},l.prototype.addText=function(e){this.rows[this.rowIdx]+=e},l.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var u=function(e){this.serviceNum=e,this.text="",this.currentWindow=new l(-1),this.windows=[]};u.prototype.init=function(e,t){this.startPts=e;for(var r=0;r<8;r++)this.windows[r]=new l(r),"function"===typeof t&&(this.windows[r].beforeRowOverflow=t)},u.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]};var c=function e(){e.prototype.init.call(this);var t=this;this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(t.new708Packet(),t.add708Bytes(e)):(null===t.current708Packet&&t.new708Packet(),t.add708Bytes(e))}};c.prototype=new n,c.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},c.prototype.add708Bytes=function(e){var t=e.ccData,r=t>>>8,n=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(r),this.current708Packet.data.push(n)},c.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,r=null,n=null,i=0,a=t[i++];for(e.seq=a>>6,e.sizeCode=63&a;i<t.length;i++)n=31&(a=t[i++]),7===(r=a>>5)&&n>0&&(r=a=t[i++]),this.pushServiceBlock(r,i,n),n>0&&(i+=n-1)},c.prototype.pushServiceBlock=function(e,t,r){var n,i=t,a=this.current708Packet.data,o=this.services[e];for(o||(o=this.initService(e,i));i<t+r&&i<a.length;i++)n=a[i],s(n)?i=this.handleText(i,o):16===n?i=this.extendedCommands(i,o):128<=n&&n<=135?i=this.setCurrentWindow(i,o):152<=n&&n<=159?i=this.defineWindow(i,o):136===n?i=this.clearWindows(i,o):140===n?i=this.deleteWindows(i,o):137===n?i=this.displayWindows(i,o):138===n?i=this.hideWindows(i,o):139===n?i=this.toggleWindows(i,o):151===n?i=this.setWindowAttributes(i,o):144===n?i=this.setPenAttributes(i,o):145===n?i=this.setPenColor(i,o):146===n?i=this.setPenLocation(i,o):143===n?o=this.reset(i,o):8===n?o.currentWindow.backspace():12===n?o.currentWindow.clearText():13===n?o.currentWindow.pendingNewLine=!0:14===n?o.currentWindow.clearText():141===n&&i++},c.prototype.extendedCommands=function(e,t){var r=this.current708Packet.data[++e];return s(r)&&(e=this.handleText(e,t,!0)),e},c.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},c.prototype.initService=function(e,t){var r=this;return this.services[e]=new u(e),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},c.prototype.handleText=function(e,t,r){var n=function(e){var t=o[e]||e;return 4096&e&&e===t?"":String.fromCharCode(t)}((r?4096:0)|this.current708Packet.data[e]),i=t.currentWindow;return i.pendingNewLine&&!i.isEmpty()&&i.newLine(this.getPts(e)),i.pendingNewLine=!1,i.addText(n),e},c.prototype.setCurrentWindow=function(e,t){var r=7&this.current708Packet.data[e];return t.setCurrentWindow(r),e},c.prototype.defineWindow=function(e,t){var r=this.current708Packet.data,n=r[e],i=7&n;t.setCurrentWindow(i);var a=t.currentWindow;return n=r[++e],a.visible=(32&n)>>5,a.rowLock=(16&n)>>4,a.columnLock=(8&n)>>3,a.priority=7&n,n=r[++e],a.relativePositioning=(128&n)>>7,a.anchorVertical=127&n,n=r[++e],a.anchorHorizontal=n,n=r[++e],a.anchorPoint=(240&n)>>4,a.rowCount=15&n,n=r[++e],a.columnCount=63&n,n=r[++e],a.windowStyle=(56&n)>>3,a.penStyle=7&n,a.virtualRowCount=a.rowCount+1,e},c.prototype.setWindowAttributes=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.winAttr;return n=r[++e],i.fillOpacity=(192&n)>>6,i.fillRed=(48&n)>>4,i.fillGreen=(12&n)>>2,i.fillBlue=3&n,n=r[++e],i.borderType=(192&n)>>6,i.borderRed=(48&n)>>4,i.borderGreen=(12&n)>>2,i.borderBlue=3&n,n=r[++e],i.borderType+=(128&n)>>5,i.wordWrap=(64&n)>>6,i.printDirection=(48&n)>>4,i.scrollDirection=(12&n)>>2,i.justify=3&n,n=r[++e],i.effectSpeed=(240&n)>>4,i.effectDirection=(12&n)>>2,i.displayEffect=3&n,e},c.prototype.flushDisplayed=function(e,t){for(var r=[],n=0;n<8;n++)t.windows[n].visible&&!t.windows[n].isEmpty()&&r.push(t.windows[n].getText());t.endPts=e,t.text=r.join("\n\n"),this.pushCaption(t),t.startPts=e},c.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},c.prototype.displayWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible=1);return e},c.prototype.hideWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible=0);return e},c.prototype.toggleWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible^=1);return e},c.prototype.clearWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&t.windows[i].clearText();return e},c.prototype.deleteWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&t.windows[i].reset();return e},c.prototype.setPenAttributes=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penAttr;return n=r[++e],i.textTag=(240&n)>>4,i.offset=(12&n)>>2,i.penSize=3&n,n=r[++e],i.italics=(128&n)>>7,i.underline=(64&n)>>6,i.edgeType=(56&n)>>3,i.fontStyle=7&n,e},c.prototype.setPenColor=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penColor;return n=r[++e],i.fgOpacity=(192&n)>>6,i.fgRed=(48&n)>>4,i.fgGreen=(12&n)>>2,i.fgBlue=3&n,n=r[++e],i.bgOpacity=(192&n)>>6,i.bgRed=(48&n)>>4,i.bgGreen=(12&n)>>2,i.bgBlue=3&n,n=r[++e],i.edgeRed=(48&n)>>4,i.edgeGreen=(12&n)>>2,i.edgeBlue=3&n,e},c.prototype.setPenLocation=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,n=r[++e],i.row=15&n,n=r[++e],i.column=63&n,e},c.prototype.reset=function(e,t){var r=this.getPts(e);return this.flushDisplayed(r,t),this.initService(t.serviceNum,e)};var d={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},f=function(e){return null===e?"":(e=d[e]||e,String.fromCharCode(e))},p=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],h=function(){for(var e=[],t=15;t--;)e.push("");return e},g=function e(t,r){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=r||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,r,n,i,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=h();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=h();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=h()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,i))a=f((n=(3&n)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(n,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=f((n=(3&n)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(n,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&i)&&this.addFormatting(e.pts,["i"]),1===(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,i))this.column_+=3&i;else if(this.isPAC(n,i)){var o=p.indexOf(7968&t);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14===(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===i&&(i=null),a=f(n),a+=f(i),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};g.prototype=new n,g.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},g.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=h(),this.nonDisplayed_=h(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},g.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},g.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},g.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},g.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},g.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},g.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},g.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},g.prototype.isNormalChar=function(e){return e>=32&&e<=127},g.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=h(),this.displayed_=h()),void 0!==t&&t!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[t-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},g.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,r)},g.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},g.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t,this.nonDisplayed_[this.row_]=r},g.prototype.rollUp=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},g.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},g.prototype.paintOn=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},e.exports={CaptionStream:a,Cea608Stream:g,Cea708Stream:c}},function(e,t,r){"use strict";e.exports={parseSei:function(e){for(var t=0,r={payloadType:-1,payloadSize:0},n=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!r.payload&&4===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){r.payloadType=n,r.payloadSize=i,r.payload=e.subarray(t,t+i);break}r.payload=void 0}t+=i,n=0,i=0}return r},parseUserData:function(e){return 181!==e.payload[0]||49!==(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var r,n,i,a,o=[];if(!(64&t[0]))return o;for(n=31&t[0],r=0;r<n;r++)a={type:3&t[(i=3*r)+2],pts:e},4&t[i+2]&&(a.ccData=t[i+3]<<8|t[i+4],o.push(a));return o},discardEmulationPreventionBytes:function(e){for(var t,r,n=e.byteLength,i=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r},USER_DATA_REGISTERED_ITU_T_T35:4}},function(e,t,r){"use strict";var n=r(30),i=function(e,t){var r=1;for(e>t&&(r=-1);Math.abs(t-e)>4294967296;)e+=8589934592*r;return e},a=function e(t){var r,n;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=i(e.dts,n),e.pts=i(e.pts,n),r=e.dts,this.trigger("data",e))},this.flush=function(){n=r,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,r=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};a.prototype=new n,e.exports={TimestampRolloverStream:a,handleRollover:i}},function(e,t,r){"use strict";var n,i=r(30),a=r(91);(n=function(){var e=new Uint8Array,t=0;n.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(r){var n,i,o,s,l=0,u=0;for(e.length?(s=e.length,(e=new Uint8Array(r.byteLength+s)).set(e.subarray(0,s)),e.set(r,s)):e=r;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!==(255&e[u])||240!==(240&e[u+1]))u++;else{if(e.length-u<7)break;if(u+(l=a.parseAdtsSize(e,u))>e.length)break;o={type:"audio",data:e.subarray(u,u+l),pts:t,dts:t},this.trigger("data",o),u+=l}else{if(e.length-u<10)break;if(u+(l=a.parseId3TagSize(e,u))>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+l)},this.trigger("data",i),u+=l}n=e.length-u,e=n>0?e.subarray(u):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new i,e.exports=n},function(e,t){e.exports=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"]},function(e,t){e.exports=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"]},function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(60),i=r(25),a=r(4),o=r(177),s=r(27),l=r(63),u=r(7),c=r(46),d=r(6),f=r(10),p=Object(d.a)(f.b,f.d,f.f,f.h,f.l,f.r,f.j,f.p,f.t,f.v,f.x,f.D,f.z,f.B,f.n),h=r(53),g={themeBreakpoints:[],breakpoints:[],breakpointValues:[],mediaQueries:[]},m=function(e){return function(t){var r={},n=function(e){if(void 0===e&&(e=[]),g.themeBreakpoints===e)return g;var t=Object.entries(e).filter((function(e){var t=Object(a.a)(e,1)[0];return Object(o.f)(t)})).reduce((function(e,t){var r=Object(a.a)(t,2),n=r[0],i=r[1];return e.breakpoints.push(n),e.breakpointValues.push(i),e}),{breakpoints:[],breakpointValues:[]}),r=t.breakpoints,n=t.breakpointValues,s=[null].concat(Object(i.a)(n.map((function(e){return"@media screen and (min-width: "+e+")"})).slice(1)));return g.themeBreakpoints=e,g.mediaQueries=s,g.breakpointValues=n,g.breakpoints=r,{breakpoints:r,mediaQueries:s}}(t.breakpoints),c=n.breakpoints,d=n.mediaQueries;for(var f in e){var p=Object(s.d)(e[f],t);if(null!=p)if(p=Object(l.a)(p,c)?Object(l.c)(p,c):p,Object(u.b)(p))for(var h=p.slice(0,d.length).length,m=0;m<h;m+=1){var v=d[m];v?(r[v]=r[v]||{},null!=p[m]&&(r[v][f]=p[m])):r[f]=p[m]}else r[f]=p}return r}},v=function e(t){return void 0===t&&(t={}),function(r){void 0===r&&(r={});var i="theme"in r?r.theme:r,a={},o=Object(s.d)(t,i),l=m(o)(i);for(var d in l){var f,g=l[d],v=Object(s.d)(g,i),y=d in h.pseudoSelectors?h.pseudoSelectors[d]:d,b=p.config[y];if("apply"!==y)if(Object(u.g)(v))a[y]=e(v)(i);else{var k=Object(c.c)(i,null==b?void 0:b.scale,{}),E=null!=(f=null==b||null==b.transform?void 0:b.transform(v,k))?f:Object(c.c)(k,v,v);if(null==b?void 0:b.properties){var _,S=Object(n.a)(b.properties);try{for(S.s();!(_=S.n()).done;){a[_.value]=E}}catch(w){S.e(w)}finally{S.f()}}else(null==b?void 0:b.property)?a[b.property]=E:a[y]=E}else{var T=e(Object(c.c)(i,v))(i);a=Object(c.d)({},a,T)}}return a}}},function(e,t){e.exports=function(e){var t=e.length;if(!e||!t)return null;for(var r=t;r--;)if(!isNaN(e[r]))return e.slice(r+1,t)||null;return null}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"g",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return c}));var n=r(25);function i(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function a(e,t){return[].concat(Object(n.a)(e),[t])}function o(e,t){return e.filter((function(e){return e!==t}))}function s(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!0);var i=t-1;if(-1===e)return r>0?0:i;var a=e+r;return a<0?n?i:0:a>=t?n?0:e>t?t:e:a}function l(e,t,r){return void 0===r&&(r=!0),s(e,t,-1,r)}function u(e,t,r,n){if(null==t)return n;if(!n)return e.find((function(e){return r(e).toLowerCase().startsWith(t.toLowerCase())}));var i,a=e.filter((function(e){return r(e).toLowerCase().startsWith(t.toLowerCase())}));return a.length>0?a.includes(n)?((i=a.indexOf(n)+1)===a.length&&(i=0),a[i]):(i=e.indexOf(a[0]),e[i]):n}var c=function(e){return Number.isNaN(parseInt(e,10))}},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"===typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0),i=r.n(n),a=(r(130),o()?i.a.useLayoutEffect:i.a.useEffect);"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math&&self;function o(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function i(e,t){return void 0===t&&(t=[]),n.useEffect((function(){return function(){return e()}}),t)}},function(e,t,r){"use strict";(function(e){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.UnControlled=t.Controlled=void 0;var o,s=r(0),l="undefined"===typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER;l||(o=r(77));var u=function(){function e(){}return e.equals=function(e,t){var r=this,n=Object.keys,a=i(e),o=i(t);return e&&t&&"object"===a&&a===o?n(e).length===n(t).length&&n(e).every((function(n){return r.equals(e[n],t[n])})):e===t},e}(),c=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,r){var n=this.editor.getDoc();r&&this.editor.focus(),t?n.setCursor(e):n.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,r){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!u.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!u.equals(e.cursor,t.cursor)&&this.delegateCursor(r.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!u.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,r){t.props.onBlur(t.editor,r)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,r){t.props.onContextMenu(t.editor,r)}));break;case"onCopy":t.editor.on("copy",(function(e,r){t.props.onCopy(t.editor,r)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e,r){t.props.onCut(t.editor,r)}));break;case"onDblClick":t.editor.on("dblclick",(function(e,r){t.props.onDblClick(t.editor,r)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,r){t.props.onDragEnter(t.editor,r)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e,r){t.props.onDragLeave(t.editor,r)}));break;case"onDragOver":t.editor.on("dragover",(function(e,r){t.props.onDragOver(t.editor,r)}));break;case"onDragStart":t.editor.on("dragstart",(function(e,r){t.props.onDragStart(t.editor,r)}));break;case"onDrop":t.editor.on("drop",(function(e,r){t.props.onDrop(t.editor,r)}));break;case"onFocus":t.editor.on("focus",(function(e,r){t.props.onFocus(t.editor,r)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,r,n,i){t.props.onGutterClick(t.editor,r,n,i)}));break;case"onInputRead":t.editor.on("inputRead",(function(e,r){t.props.onInputRead(t.editor,r)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,r){t.props.onKeyDown(t.editor,r)}));break;case"onKeyHandled":t.editor.on("keyHandled",(function(e,r,n){t.props.onKeyHandled(t.editor,r,n)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,r){t.props.onKeyPress(t.editor,r)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,r){t.props.onKeyUp(t.editor,r)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e,r){t.props.onMouseDown(t.editor,r)}));break;case"onPaste":t.editor.on("paste",(function(e,r){t.props.onPaste(t.editor,r)}));break;case"onRenderLine":t.editor.on("renderLine",(function(e,r,n){t.props.onRenderLine(t.editor,r,n)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,r){t.props.onSelection(t.editor,r)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e,r){t.props.onTouchStart(t.editor,r)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,r,n){t.props.onViewportChange(t.editor,r,n)}))}}))},e}(),d=function(e){function t(t){var r=e.call(this,t)||this;return l||(r.applied=!1,r.appliedNext=!1,r.appliedUserDefined=!1,r.deferred=null,r.emulating=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1),r}return a(t,e),t.prototype.hydrate=function(e){var t=this,r=e&&e.options?e.options:{},i=n({},o.defaults,this.editor.options,r);Object.keys(i).some((function(e){return t.editor.getOption(e)!==i[e]}))&&Object.keys(i).forEach((function(e){r.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&(t.editor.setOption(e,i[e]),t.mirror.setOption(e,i[e]))})),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),r=t.lastLine(),n=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:r,ch:n}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var r=t.getCursor();t.setValue(e),t.setCursor(r)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;l||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&o.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=o(this.ref,this.props.options),this.shared=new c(this.editor,this.props),this.mirror=o((function(){}),this.props.options),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(t,r){if(!e.emulating){r.cancel(),e.deferred=r;var n=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,n)}})),this.editor.on("change",(function(t,r){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,r,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!l){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(o)},t.prototype.shouldComponentUpdate=function(e,t){return!l},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(s.Component);t.Controlled=d;var f=function(e){function t(t){var r=e.call(this,t)||this;return l||(r.applied=!1,r.appliedUserDefined=!1,r.continueChange=!1,r.detached=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1,r.onBeforeChangeCb=function(){r.continueChange=!0}),r}return a(t,e),t.prototype.hydrate=function(e){var t=this,r=e&&e.options?e.options:{},i=n({},o.defaults,this.editor.options,r);if(Object.keys(i).some((function(e){return t.editor.getOption(e)!==i[e]}))&&Object.keys(i).forEach((function(e){r.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&t.editor.setOption(e,i[e])})),!this.hydrated){var a=this.editor.getDoc(),s=a.lastLine(),l=a.getLine(a.lastLine()).length;a.replaceRange(e.value||"",{line:0,ch:0},{line:s,ch:l})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;l||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&o.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=o(this.ref,this.props.options),this.shared=new c(this.editor,this.props),this.editor.on("beforeChange",(function(t,r){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,r,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,r){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,r,e.editor.getValue()):e.props.onChange(e.editor,r,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!l&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(o)},t.prototype.shouldComponentUpdate=function(e,t){var r=!0;return l&&(r=!1),this.detached&&e.detach&&(r=!1),r},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(s.Component);t.UnControlled=f}).call(this,r(48))},function(e,t,r){(function(t){var r=function(){var e={},r=function(){"use strict";var e,t,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(t){throw{name:"SyntaxError",message:t,at:e,text:r}},o=function(n){return n&&n!==t&&a("Expected '"+n+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},s=function(){var e,r="";for("-"===t&&(r="-",o("-"));t>="0"&&t<="9";)r+=t,o();if("."===t)for(r+=".";o()&&t>="0"&&t<="9";)r+=t;if("e"===t||"E"===t)for(r+=t,o(),"-"!==t&&"+"!==t||(r+=t,o());t>="0"&&t<="9";)r+=t,o();if(e=+r,isFinite(e))return e;a("Bad number")},l=function(){var e,r,n,s="";if('"'===t)for(;o();){if('"'===t)return o(),s;if("\\"===t)if(o(),"u"===t){for(n=0,r=0;r<4&&(e=parseInt(o(),16),isFinite(e));r+=1)n=16*n+e;s+=String.fromCharCode(n)}else{if("string"!==typeof i[t])break;s+=i[t]}else s+=t}a("Bad string")},u=function(){for(;t&&t<=" ";)o()},c=function(){var e=[];if("["===t){if(o("["),u(),"]"===t)return o("]"),e;for(;t;){if(e.push(n()),u(),"]"===t)return o("]"),e;o(","),u()}}a("Bad array")},d=function(){var e,r={};if("{"===t){if(o("{"),u(),"}"===t)return o("}"),r;for(;t;){if(e=l(),u(),o(":"),Object.hasOwnProperty.call(r,e)&&a("Duplicate key '"+e+"'"),r[e]=n(),u(),"}"===t)return o("}"),r;o(","),u()}}a("Bad object")};return n=function(){switch(u(),t){case"{":return d();case"[":return c();case'"':return l();case"-":return s();default:return t>="0"&&t<="9"?s():function(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}a("Unexpected '"+t+"'")}()}},function(i,o){var s;return r=i,e=0,t=" ",s=n(),u(),t&&a("Syntax error"),"function"===typeof o?function e(t,r){var n,i,a=t[r];if(a&&"object"===typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(void 0!==(i=e(a,n))?a[n]=i:delete a[n]);return o.call(t,r,a)}({"":s},""):s}}();var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=a[s-1];case 13:this.$={};break;case 14:this.$=a[s-1];break;case 15:this.$=[a[s-2],a[s]];break;case 16:this.$={},this.$[a[s][0]]=a[s][1];break;case 17:this.$=a[s-2],a[s-2][a[s][0]]=a[s][1];break;case 18:this.$=[];break;case 19:this.$=a[s-1];break;case 20:this.$=[a[s]];break;case 21:this.$=a[s-2],a[s-2].push(a[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],a=this.table,o="",s=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;function d(){var e;return"number"!==typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}i.push(c),"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,h,g,m,v,y,b,k,E,_={};;){if(h=r[r.length-1],this.defaultActions[h]?g=this.defaultActions[h]:(null==f&&(f=d()),g=a[h]&&a[h][f]),"undefined"===typeof g||!g.length||!g[0]){if(!u){for(v in k=[],a[h])this.terminals_[v]&&v>2&&k.push("'"+this.terminals_[v]+"'");var S="";S=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+this.terminals_[f]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:c,expected:k})}if(3==u){if(1==f)throw new Error(S||"Parsing halted.");l=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,f=d()}for(;!(2..toString()in a[h]);){if(0==h)throw new Error(S||"Parsing halted.");E=1,r.length=r.length-2*E,n.length=n.length-E,i.length=i.length-E,h=r[r.length-1]}p=f,f=2,g=a[h=r[r.length-1]]&&a[h][2],u=3}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+f);switch(g[0]){case 1:r.push(f),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(g[1]),f=null,p?(f=p,p=null):(l=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[g[1]][1],_.$=n[n.length-y],_._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},"undefined"!==typeof(m=this.performAction.call(_,o,l,s,this.yy,g[1],n,i)))return m;y&&(r=r.slice(0,-1*y*2),n=n.slice(0,-1*y),i=i.slice(0,-1*y)),r.push(this.productions_[g[1]][0]),n.push(_.$),i.push(_._$),b=a[r[r.length-2]][r[r.length-1]],r.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,r,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),o=0;o<a.length&&(!(r=this._input.match(this.rules[a[o]]))||t&&!(r[0].length>t[0].length)||(t=r,n=o,this.options.flex));o++);return t?((i=t[0].match(/\n.*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,a[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!==typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}();return e.lexer=t,e}(),i=n.parse;return n.parse=function(e){var t=i.call(n,e),a="undefined"===typeof r?(!0)("./doug-json-parse"):r;try{a(e)}catch(s){if(/Duplicate key|Bad string|Unexpected/.test(s.message)){var o=e.substring(0,s.at).split("\n").length;throw SyntaxError(s.message+" on line "+o)}}return t},"undefined"!==typeof e&&(e.parser=n,e.parse=function(){return n.parse.apply(n,arguments)},e.main=function(r){if(!r[1])throw new Error("Usage: "+r[0]+" FILE");if("undefined"!==typeof t)var n=(!0)("fs").readFileSync((!0)("path").join(t.cwd(),r[1]),"utf8");else n=(!0)("file").path((!0)("file").cwd()).join(r[1]).read({charset:"utf-8"});return e.parser.parse(n)},!1===(!0).main&&e.main("undefined"!==typeof t?t.argv.slice(1):(!0)("system").args)),e}();e.exports&&(e.exports=r)}).call(this,r(94))},function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(4),i=r(0),a=r(64),o=r(7),s=r(198),l=r(75),u=Object(a.a)({strict:!1,name:"PortalManagerContext"}),c=Object(n.a)(u,2),d=c[0],f=c[1],p=function(e){var t=e.children,r=e.zIndex,n=i.useRef(null),a=Object(s.a)();Object(l.a)((function(){a()}),[]);var o=f(),u={node:(null==o?void 0:o.node)||n.current,zIndex:r};return i.createElement(d,{value:u},t,i.createElement("div",{className:"chakra-portal-manager",ref:n}))};o.a&&(p.displayName="PortalManager")},function(e,t,r){"use strict";var n=r(223),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,a,o,s,l,u,c=!1;t||(t={}),r=t.debug||!1;try{if(o=n(),s=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=i[t.format]||i.default;window.clipboardData.setData(a,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(d){r&&console.error("unable to copy using execCommand: ",d),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(d){r&&console.error("unable to copy using clipboardData: ",d),r&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),o()}return c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Replay",{enumerable:!0,get:function(){return i.default}}),t.Components=void 0;var n,i=(n=r(224))&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(254));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}t.Components=a},,function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(80))&&n.__esModule?n:{default:n}).default;t.default=i},function(e,t,r){"use strict";var n={codecs:r(166),mp4:r(283),flv:r(289),mp2t:r(294),partial:r(295)};n.mp4.tools=r(299),n.flv.tools=r(301),n.mp2t.tools=r(302),e.exports=n},,function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(0);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?u(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){function t(){var e,r;a(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return d(u(r=s(this,(e=l(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),d(u(r),"_unsubscribe",void 0),d(u(r),"handlePersistorState",(function(){r.props.persistor.getState().bootstrapped&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally((function(){return r.setState({bootstrapped:!0})})):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())})),r}var r,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&o(r.prototype,n),i&&o(r,i),t}(n.PureComponent);d(f,"defaultProps",{children:null,loading:null})},function(e,t,r){"use strict";var n=r(33).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?n:n.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"===typeof i?i(r,n,e):t(i)}}}}var i=n();i.withExtraArgument=n,t.a=i},function(e,t,r){"use strict";var n;t.__esModule=!0,t.default=void 0;var i=(0,((n=r(306))&&n.__esModule?n:{default:n}).default)("local");t.default=i},function(e,t,r){"use strict";t.__esModule=!0,t.DEFAULT_VERSION=t.REGISTER=t.PURGE=t.PERSIST=t.PAUSE=t.REHYDRATE=t.FLUSH=t.KEY_PREFIX=void 0;t.KEY_PREFIX="persist:";t.FLUSH="persist/FLUSH";t.REHYDRATE="persist/REHYDRATE";t.PAUSE="persist/PAUSE";t.PERSIST="persist/PERSIST";t.PURGE="persist/PURGE";t.REGISTER="persist/REGISTER";t.DEFAULT_VERSION=-1},function(e,t,r){(function(e){!function(){var r="undefined"!=typeof window?window:e,n={};for(var i in function(e,t,r){var n;function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};var s=function(r){r=["object"==typeof globalThis&&globalThis,r,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<r.length;++n){var i=r[n];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function l(e,t){if(t)e:{for(var r=s,n=e.split("."),i=0;i<n.length-1;i++){var a=n[i];if(!(a in r))break e;r=r[a]}(a=t(i=r[n=n[n.length-1]]))!=i&&null!=a&&o(r,n,{configurable:!0,writable:!0,value:a})}}function u(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:a(e)}}function d(e){if(!(e instanceof Array)){e=c(e);for(var t,r=[];!(t=e.next()).done;)r.push(t.value);e=r}return e}l("Symbol",(function(e){function t(e,t){this.g=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",n=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(r+(i||"")+"_"+n++,i)}})),l("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var n=s[t[r]];"function"===typeof n&&"function"!=typeof n.prototype[e]&&o(n.prototype,e,{configurable:!0,writable:!0,value:function(){return u(a(this))}})}return e}));var f,p="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{var h;e:{var g={};try{g.__proto__={a:!0},h=g.a;break e}catch(wg){}h=!1}f=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=f;function v(e,t){if(e.prototype=p(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var r in t)if("prototype"!=r)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}else e[r]=t[r];e.vg=t.prototype}function y(){this.s=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.D=this.i=null}function b(e){if(e.s)throw new TypeError("Generator is already running");e.s=!0}function k(e,t){e.i={Wd:t,ae:!0},e.g=e.m||e.j}function E(e,t,r){return e.g=r,{value:t}}function _(e){e.g=0}function S(e,t,r){e.m=t,void 0!=r&&(e.j=r)}function T(e){e.m=0,e.j=2}function w(e,t){e.g=t,e.m=0}function x(e){e.m=0;var t=e.i.Wd;return e.i=null,t}function O(e){e.D=[e.i],e.m=0,e.j=0}function P(e,t){var r=e.D.splice(0)[0];(r=e.i=e.i||r)?r.ae?e.g=e.m||e.j:void 0!=r.v&&e.j<r.v?(e.g=r.v,e.i=null):e.g=e.j:e.g=t}function C(e){this.g=new y,this.h=e}function A(e,t,r,n){try{var i=t.call(e.g.l,r);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.s=!1,i;var a=i.value}catch(o){return e.g.l=null,k(e.g,o),M(e)}return e.g.l=null,n.call(e.g,a),M(e)}function M(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.s=!1,{value:t.value,done:!1}}catch(r){e.g.h=void 0,k(e.g,r)}if(e.g.s=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.ae)throw t.Wd;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function I(e){this.next=function(t){return b(e.g),e.g.l?t=A(e,e.g.l.next,t,e.g.u):(e.g.u(t),t=M(e)),t},this.throw=function(t){return b(e.g),e.g.l?t=A(e,e.g.l.throw,t,e.g.u):(k(e.g,t),t=M(e)),t},this.return=function(t){return function(e,t){b(e.g);var r=e.g.l;return r?A(e,"return"in r?r.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),M(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function R(e,t){var r=new I(new C(t));return m&&e.prototype&&m(r,e.prototype),r}function D(e){return function(e){function t(t){return e.next(t)}function r(t){return e.throw(t)}return new Promise((function(n,i){!function e(a){a.done?n(a.value):Promise.resolve(a.value).then(t,r).then(e,i)}(e.next())}))}(new I(new C(e)))}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""}function N(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var a=e[i];if(t.call(r,a,i,e))return{ha:i,ue:a}}return{ha:-1,ue:void 0}}function U(e,t){e instanceof String&&(e+="");var r=0,n=!1,i={next:function(){if(!n&&r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}y.prototype.u=function(e){this.h=e},y.prototype.return=function(e){this.i={return:e},this.g=this.j},y.prototype.v=function(e){this.g=e},l("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(i){t.reject(i)}}function r(){this.g=null}function n(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var a=s.setTimeout;r.prototype.i=function(e){a(e,0)},r.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(n){this.j(n)}}}this.g=null},r.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.I),reject:e(this.l)}},t.prototype.I=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.N(e);else{e:switch(typeof e){case"object":var r=null!=e;break e;case"function":r=!0;break e;default:r=!1}r?this.H(e):this.m(e)}},t.prototype.H=function(e){var t=void 0;try{t=e.then}catch(i){return void this.l(i)}"function"==typeof t?this.S(t,e):this.m(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.m=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.L(),this.D()},t.prototype.L=function(){var e=this;a((function(){if(e.F()){var t=s.console;"undefined"!==typeof t&&t.error(e.i)}}),1)},t.prototype.F=function(){if(this.s)return!1;var e=s.CustomEvent,t=s.Event,r=s.dispatchEvent;return"undefined"===typeof r||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,r(e))},t.prototype.D=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)o.h(this.g[e]);this.g=null}};var o=new r;return t.prototype.N=function(e){var t=this.j();e.rc(t.resolve,t.reject)},t.prototype.S=function(e,t){var r=this.j();try{e.call(t,r.resolve,r.reject)}catch(n){r.reject(n)}},t.prototype.then=function(e,r){function n(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(r){a(r)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.rc(n(e,i),n(r,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.rc=function(e,t){function r(){switch(n.h){case 1:e(n.i);break;case 2:t(n.i);break;default:throw Error("Unexpected state: "+n.h)}}var n=this;null==this.g?o.h(r):this.g.push(r),this.s=!0},t.resolve=n,t.reject=function(e){return new t((function(t,r){r(e)}))},t.race=function(e){return new t((function(t,r){for(var i=c(e),a=i.next();!a.done;a=i.next())n(a.value).rc(t,r)}))},t.all=function(e){var r=c(e),i=r.next();return i.done?n([]):new t((function(e,t){function a(t){return function(r){o[t]=r,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,n(i.value).rc(a(o.length-1),t),i=r.next()}while(!i.done)}))},t})),l("WeakMap",(function(e){function t(e){if(this.g=(l+=Math.random()+1).toString(),e){e=c(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function r(){}function n(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!L(e,s)){var t=new r;o(e,s,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof r?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),r=Object.seal({}),n=new e([[t,2],[r,3]]);return 2==n.get(t)&&3==n.get(r)&&(n.delete(t),n.set(r,4),!n.has(t)&&4==n.get(r))}catch(i){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var l=0;return t.prototype.set=function(e,t){if(!n(e))throw Error("Invalid WeakMap key");if(i(e),!L(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.g]=t,this},t.prototype.get=function(e){return n(e)&&L(e,s)?e[s][this.g]:void 0},t.prototype.has=function(e){return n(e)&&L(e,s)&&L(e[s],this.g)},t.prototype.delete=function(e){return!!(n(e)&&L(e,s)&&L(e[s],this.g))&&delete e[s][this.g]},t})),l("Map",(function(e){function t(){var e={};return e.Sa=e.next=e.head=e}function r(e,t){var r=e.g;return u((function(){if(r){for(;r.head!=e.g;)r=r.Sa;for(;r.next!=r.head;)return r=r.next,{done:!1,value:t(r)};r=null}return{done:!0,value:void 0}}))}function n(e,t){var r=t&&typeof t;"object"==r||"function"==r?a.has(t)?r=a.get(t):(r=""+ ++o,a.set(t,r)):r="p_"+t;var n=e.h[r];if(n&&L(e.h,r))for(var i=0;i<n.length;i++){var s=n[i];if(t!==t&&s.key!==s.key||t===s.key)return{id:r,list:n,index:i,ga:s}}return{id:r,list:n,index:-1,ga:void 0}}function i(e){if(this.h={},this.g=t(),this.size=0,e){e=c(e);for(var r;!(r=e.next()).done;)r=r.value,this.set(r[0],r[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e(c([[t,"s"]]));if("s"!=r.get(t)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=n.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!n.next().done)}catch(a){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var r=n(this,e=0===e?0:e);return r.list||(r.list=this.h[r.id]=[]),r.ga?r.ga.value=t:(r.ga={next:this.g,Sa:this.g.Sa,head:this.g,key:e,value:t},r.list.push(r.ga),this.g.Sa.next=r.ga,this.g.Sa=r.ga,this.size++),this},i.prototype.delete=function(e){return!(!(e=n(this,e)).ga||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.h[e.id],e.ga.Sa.next=e.ga.next,e.ga.next.Sa=e.ga.Sa,e.ga.head=null,this.size--,!0)},i.prototype.clear=function(){this.h={},this.g=this.g.Sa=t(),this.size=0},i.prototype.has=function(e){return!!n(this,e).ga},i.prototype.get=function(e){return(e=n(this,e).ga)&&e.value},i.prototype.entries=function(){return r(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return r(this,(function(e){return e.key}))},i.prototype.values=function(){return r(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var r,n=this.entries();!(r=n.next()).done;)r=r.value,e.call(t,r[1],r[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),l("Set",(function(e){function t(e){if(this.g=new Map,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e(c([t]));if(!r.has(t)||1!=r.size||r.add(t)!=r||1!=r.size||r.add({x:4})!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=n.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&n.next().done)}catch(a){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var r=this;this.g.forEach((function(n){return e.call(t,n,n,r)}))},t)})),l("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),l("Array.prototype.includes",(function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length,i=t||0;for(0>i&&(i=Math.max(i+n,0));i<n;i++){var a=r[i];if(a===e||Object.is(a,e))return!0}return!1}})),l("String.prototype.includes",(function(e){return e||function(e,t){return-1!==j(this,e,"includes").indexOf(e,t||0)}})),l("Array.prototype.findIndex",(function(e){return e||function(e,t){return N(this,e,t).ha}})),l("Array.prototype.values",(function(e){return e||function(){return U(this,(function(e,t){return t}))}})),l("Array.prototype.find",(function(e){return e||function(e,t){return N(this,e,t).ue}})),l("String.prototype.startsWith",(function(e){return e||function(e,t){for(var r=j(this,e,"startsWith"),n=r.length,i=e.length,a=Math.max(0,Math.min(0|t,r.length)),o=0;o<i&&a<n;)if(r[a++]!=e[o++])return!1;return o>=i}})),l("Array.prototype.keys",(function(e){return e||function(){return U(this,(function(e){return e}))}}));var B="function"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)L(n,i)&&(e[i]=n[i])}return e};l("Object.assign",(function(e){return e||B})),l("Array.from",(function(e){return e||function(e,t,r){t=null!=t?t:function(e){return e};var n=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)n.push(t.call(r,i.value,a++))}else for(i=e.length,a=0;a<i;a++)n.push(t.call(r,e[a],a));return n}})),l("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),l("Array.prototype.entries",(function(e){return e||function(){return U(this,(function(e,t){return[e,t]}))}})),l("String.prototype.repeat",(function(e){return e||function(e){var t=j(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}})),l("Object.values",(function(e){return e||function(e){var t,r=[];for(t in e)L(e,t)&&r.push(e[t]);return r}})),l("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}})),l("Object.entries",(function(e){return e||function(e){var t,r=[];for(t in e)L(e,t)&&r.push([t,e[t]]);return r}}));var F=this||self;function z(e,t){var r,n=e.split("."),i=F;n[0]in i||"undefined"==typeof i.execScript||i.execScript("var "+n[0]);for(;n.length&&(r=n.shift());)n.length||void 0===t?i=i[r]&&i[r]!==Object.prototype[r]?i[r]:i[r]={}:i[r]=t}function V(e){this.i=Math.exp(Math.log(.5)/e),this.h=this.g=0}function W(e,t,r){var n=Math.pow(e.i,t);r=r*(1-n)+n*e.g,isNaN(r)||(e.g=r,e.h+=t)}function $(e){return e.g/(1-Math.pow(e.i,e.h))}function H(){this.h=new V(2),this.i=new V(5),this.g=0}function K(){}function G(){}function Z(){}function q(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];Y.has(e)||(Y.add(e),Z.apply(K,d(r)))}function X(){}H.prototype.getBandwidthEstimate=function(e){return 128e3>this.g?e:Math.min($(this.h),$(this.i))};var Y=new Set;if(e.console&&e.console.log.bind){var Q={},J=(Q[1]=console.error.bind(console),Q[2]=console.warn.bind(console),Q[3]=console.info.bind(console),Q[4]=console.log.bind(console),Q[5]=console.debug.bind(console),Q[6]=console.debug.bind(console),Q);Z=J[2],G=J[1]}function ee(e,t){for(var r=[],n=c(e),i=n.next();!i.done;i=n.next())r.push(t(i.value));return r}var te=function e(t){var r;return R(e,(function(e){return 1==e.g&&(r=0),3!=e.g?r<t?E(e,r,3):e.v(0):(r++,e.v(2))}))},re=function e(t){var r,n,i,a,o,s;return R(e,(function(e){return 1==e.g&&(r=-1,i=n=void 0,a=c(t),o=a.next()),5!=e.g?o.done?-1==r?e.v(0):E(e,{ha:r,rf:n,item:i,next:void 0},0):(s=o.value,0<=r?E(e,{ha:r,item:i,rf:n,next:s},5):e.v(5)):(r++,n=i,i=s,o=a.next(),e.v(2))}))};function ne(){}function ie(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(ae(e)==ae(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;for(var r=se(e),n=se(t),i=c(te(e.byteLength)),a=i.next();!a.done;a=i.next())if(r[a=a.value]!=n[a])return!1;return!0}function ae(e){return e instanceof ArrayBuffer?e:e.buffer}function oe(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function se(e,t,r){return ue(e,void 0===t?0:t,r=void 0===r?1/0:r,Uint8Array)}function le(e,t,r){return ue(e,void 0===t?0:t,r=void 0===r?1/0:r,DataView)}function ue(e,t,r,n){var i=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,i)),new n(ae(e),t,Math.min(t+Math.max(r,0),i)-t)}function ce(e,t,r,n){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=e,this.category=t,this.code=r,this.data=i,this.handled=!1}function de(e){this.h=e,this.g=void 0}function fe(){}function pe(e){return e?(239==(e=se(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),(e=(new TextDecoder).decode(e)).includes("\ufffd")&&G('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e):""}function he(e,t,r){if(!e)return"";if(!r&&0!=e.byteLength%2)throw new ce(2,2,2004);var n=Math.floor(e.byteLength/2);r=new Uint16Array(n),e=le(e);for(var i=(n=c(te(n))).next();!i.done;i=n.next())r[i=i.value]=e.getUint16(2*i,t);return ye.value()(r)}function ge(e){function t(e){return r.byteLength<=e||32<=r[e]&&126>=r[e]}if(!e)return"";var r=se(e);if(239==r[0]&&187==r[1]&&191==r[2])return pe(r);if(254==r[0]&&255==r[1])return he(r.subarray(2),!1);if(255==r[0]&&254==r[1])return he(r.subarray(2),!0);if(0==r[0]&&0==r[2])return he(e,!1);if(0==r[1]&&0==r[3])return he(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return pe(e);throw new ce(2,2,2003)}function me(e){return oe((new TextEncoder).encode(e))}function ve(e,t){for(var r=new ArrayBuffer(2*e.length),n=new DataView(r),i=c(re(e)),a=i.next();!a.done;a=i.next())a=a.value,n.setUint16(2*a.ha,a.item.charCodeAt(0),t);return r}z("shaka.util.BufferUtils",ne),ne.toDataView=le,ne.toUint8=se,ne.toArrayBuffer=oe,ne.equal=ie,ce.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},z("shaka.util.Error",ce),ce.Severity={RECOVERABLE:1,CRITICAL:2},ce.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},ce.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},de.prototype.value=function(){return void 0==this.g&&(this.g=this.h()),this.g},z("shaka.util.StringUtils",fe),fe.resetFromCharCode=function(){ye.g=void 0},fe.toUTF16=ve,fe.toUTF8=me,fe.fromBytesAutoDetect=ge,fe.fromUTF16=he,fe.fromUTF8=pe;var ye=new de((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(r){return!1}}for(var t={Ua:65536};0<t.Ua;(t={Ua:t.Ua}).Ua/=2)if(e(t.Ua))return function(e){return function(t){for(var r="",n=0;n<t.length;n+=e.Ua)r+=String.fromCharCode.apply(null,t.subarray(n,n+e.Ua));return r}}(t);return null}));function be(e,t){this.R=le(e),this.h=t==Ee,this.g=0}function ke(){return new ce(2,3,3e3)}(n=be.prototype).na=function(){return this.g<this.R.byteLength},n.Z=function(){return this.g},n.Pe=function(){return this.R.byteLength},n.$=function(){try{var e=this.R.getUint8(this.g);return this.g+=1,e}catch(t){throw ke()}},n.Fb=function(){try{var e=this.R.getUint16(this.g,this.h);return this.g+=2,e}catch(t){throw ke()}},n.M=function(){try{var e=this.R.getUint32(this.g,this.h);return this.g+=4,e}catch(t){throw ke()}},n.he=function(){try{var e=this.R.getInt32(this.g,this.h);return this.g+=4,e}catch(t){throw ke()}},n.kb=function(){try{if(this.h)var e=this.R.getUint32(this.g,!0),t=this.R.getUint32(this.g+4,!0);else t=this.R.getUint32(this.g,!1),e=this.R.getUint32(this.g+4,!1)}catch(r){throw ke()}if(2097151<t)throw new ce(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},n.Za=function(e){if(this.g+e>this.R.byteLength)throw ke();var t=se(this.R,this.g,e);return this.g+=e,t},n.skip=function(e){if(this.g+e>this.R.byteLength)throw ke();this.g+=e},n.je=function(e){if(this.g<e)throw ke();this.g-=e},n.seek=function(e){if(0>e||e>this.R.byteLength)throw ke();this.g=e},n.Yb=function(){for(var e=this.g;this.na()&&0!=this.R.getUint8(this.g);)this.g+=1;return e=se(this.R,e,this.g-e),this.g+=1,pe(e)},z("shaka.util.DataViewReader",be),be.prototype.readTerminatedString=be.prototype.Yb,be.prototype.seek=be.prototype.seek,be.prototype.rewind=be.prototype.je,be.prototype.skip=be.prototype.skip,be.prototype.readBytes=be.prototype.Za,be.prototype.readUint64=be.prototype.kb,be.prototype.readInt32=be.prototype.he,be.prototype.readUint32=be.prototype.M,be.prototype.readUint16=be.prototype.Fb,be.prototype.readUint8=be.prototype.$,be.prototype.getLength=be.prototype.Pe,be.prototype.getPosition=be.prototype.Z,be.prototype.hasMoreData=be.prototype.na;var Ee=1;function _e(e,t){this.g=e,this.h=t}function Se(e,t){var r=new _e(4,0),n=xe,i=n.g,a=r.h-i.h;(0<(r.g-i.g||a)?n.i:n.h)(n.g,r,e,t)}function Te(e,t,r,n){Z([r,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",n].join(" "))}function we(e,t,r,n){G([r,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",n].join(""))}be.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Ee},_e.prototype.toString=function(){return"v"+this.g+"."+this.h};var xe=null;function Oe(e,t){return e.concat(t)}function Pe(){}function Ce(e){return null!=e}function Ae(e){var t=Object.create(e.prototype||Object.prototype);try{var r=e.call(t);r||(Se("Factories requiring new","Factories should be plain functions"),r=t)}catch(n){Se("Factories requiring new","Factories should be plain functions"),r=new e}return r}function Me(){this.i=[],this.h=[],this.g=!1}function Ie(e){for(var t=Ne(e);e.reader.na()&&!e.parser.g;)e.parser.Fc(e.start+t,e.reader,e.partialOkay)}function Re(e){for(var t=Ne(e),r=e.reader.M(),n=(r=c(te(r))).next();!n.done&&(e.parser.Fc(e.start+t,e.reader,e.partialOkay),!e.parser.g);n=r.next());}function De(e){return function(t){e(t.reader.Za(t.reader.R.byteLength-t.reader.Z()))}}function Le(e){for(var t=0,r=(e=c(e)).next();!r.done;r=e.next())t=t<<8|r.value.charCodeAt(0);return t}function je(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Ne(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}(n=Me.prototype).box=function(e,t){var r=Le(e);return this.i[r]=Ue,this.h[r]=t,this},n.U=function(e,t){var r=Le(e);return this.i[r]=Be,this.h[r]=t,this},n.stop=function(){this.g=!0},n.parse=function(e,t,r){for(e=new be(e,0),this.g=!1;e.na()&&!this.g;)this.Fc(0,e,t,r)},n.Fc=function(e,t,r,n){var i=t.Z();if(n&&i+8>t.R.byteLength)this.g=!0;else{var a=t.M(),o=t.M(),s=!1;switch(a){case 0:a=t.R.byteLength-i;break;case 1:if(n&&t.Z()+8>t.R.byteLength)return void(this.g=!0);a=t.kb(),s=!0}var l=this.h[o];if(l){var u=null,c=null;if(this.i[o]==Be){if(n&&t.Z()+4>t.R.byteLength)return void(this.g=!0);u=(c=t.M())>>>24,c&=16777215}o=i+a,r&&o>t.R.byteLength&&(o=t.R.byteLength),n&&o>t.R.byteLength?this.g=!0:(n=o-t.Z(),l({parser:this,partialOkay:r||!1,version:u,flags:c,reader:t=new be(t=0<n?t.Za(n):new Uint8Array(0),0),size:a,start:i+e,has64BitSize:s}))}else t.skip(Math.min(i+a-t.Z(),t.R.byteLength-t.Z()))}},z("shaka.util.Mp4Parser",Me),Me.headerSize=Ne,Me.typeToString=je,Me.allData=De,Me.sampleDescription=Re,Me.children=Ie,Me.prototype.parseNext=Me.prototype.Fc,Me.prototype.parse=Me.prototype.parse,Me.prototype.stop=Me.prototype.stop,Me.prototype.fullBox=Me.prototype.U,Me.prototype.box=Me.prototype.box;var Ue=0,Be=1;function Fe(e){this.h=e,this.g=null}function ze(e){this.h=e,this.g=null}function Ve(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function We(e){return""!=Xe().canPlayType(e)}function $e(){return qe("Xbox One")}function He(){return qe("Tizen")}function Ke(){return qe("CrKey")}function Ge(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!He()}function Ze(){if(!Ge())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function qe(e){return(navigator.userAgent||"").includes(e)}function Xe(){return Qe||(Ye||(Ye=new ze((function(){Qe=null}))),(Qe=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Qe=document.createElement("video")),Ye.T(1),Qe)}Fe.prototype.T=function(t){var r=this;this.stop();var n=!0,i=null;return this.g=function(){e.clearTimeout(i),n=!1},i=e.setTimeout((function(){n&&r.h()}),1e3*t),this},Fe.prototype.stop=function(){this.g&&(this.g(),this.g=null)},ze.prototype.bc=function(){return this.stop(),this.h(),this},ze.prototype.T=function(e){var t=this;return this.stop(),this.g=new Fe((function(){t.h()})).T(e),this},ze.prototype.Ba=function(e){var t=this;return this.stop(),this.g=new Fe((function(){t.g.T(e),t.h()})).T(e),this},ze.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},z("shaka.util.Timer",ze),ze.prototype.stop=ze.prototype.stop,ze.prototype.tickEvery=ze.prototype.Ba,ze.prototype.tickAfter=ze.prototype.T,ze.prototype.tickNow=ze.prototype.bc;var Ye=null,Qe=null;function Je(){}function et(e){return e=se(e),e=ye.value()(e),btoa(e)}function tt(e,t){t=void 0==t||t;var r=et(e).replace(/\+/g,"-").replace(/\//g,"_");return t?r:r.replace(/[=]*$/,"")}function rt(t){var r=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));t=new Uint8Array(r.length);for(var n=(r=c(re(r))).next();!n.done;n=r.next())t[(n=n.value).ha]=n.item.charCodeAt(0);return t}function nt(t){for(var r=t.length/2,n=new Uint8Array(r),i=(r=c(te(r))).next();!i.done;i=r.next())n[i=i.value]=e.parseInt(t.substr(2*i,2),16);return n}function it(e){var t=se(e);e="";for(var r=(t=c(t)).next();!r.done;r=t.next())1==(r=(r=r.value).toString(16)).length&&(r="0"+r),e+=r;return e}function at(e){for(var t=[],r=0;r<arguments.length;++r)t[r]=arguments[r];var n=0,i=c(t);for(r=i.next();!r.done;r=i.next())n+=r.value.byteLength;for(n=new Uint8Array(n),i=0,r=(t=c(t)).next();!r.done;r=t.next())r=r.value,n.set(se(r),i),i+=r.byteLength;return n}function ot(e,t,r,n,i){var a=lt.value(),o=e.subarray(r.start,r.start+r.size),s=le(o),l=new Uint8Array(r.size+a.byteLength);for(l.set(o,0),(o=le(l)).setUint32(4,i),l.set(a,r.size),i=s.getUint32(4),o.setUint32(r.size+16,i),st(l,0,l.byteLength),i=new Uint8Array(e.byteLength+l.byteLength),r=$e()?r.start:r.start+r.size,a=e.subarray(r),i.set(e.subarray(0,r)),i.set(l,r),i.set(a,r+l.byteLength),n=(e=c(n)).next();!n.done;n=e.next())st(i,(n=n.value).start,n.size+l.byteLength);return l=le(i,t.start),t=Ne(t),e=l.getUint32(t),l.setUint32(t,e+1),i}function st(e,t,r){0!=(t=(e=le(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,r>>32),e.setUint32(12,4294967295&r)):e.setUint32(0,r))}z("shaka.util.Uint8ArrayUtils",Je),Je.concat=at,Je.toHex=it,Je.fromHex=nt,Je.fromBase64=rt,Je.toBase64=tt,Je.toStandardBase64=et,Je.equal=function(e,t){return Se("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),ie(e,t)};var lt=new de((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function ut(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t}function ct(e,t){var r=e.indexOf(t);-1<r&&e.splice(r,1)}function dt(e,t,r){if(r||(r=ut),e.length!=t.length)return!1;t=t.slice();for(var n={},i=(e=c(e)).next();!i.done;n={Pc:n.Pc},i=e.next()){if(n.Pc=i.value,-1==(i=t.findIndex(function(e){return function(t){return r(e.Pc,t)}}(n))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function ft(e,t,r){if(r||(r=ut),e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}function pt(e,t,r){this.startTime=e,this.direction=kt,this.endTime=t,this.payload=r,this.region=new At,this.position=null,this.positionAlign=gt,this.size=0,this.textAlign=mt,this.writingMode=Et,this.lineInterpretation=_t,this.line=null,this.lineHeight="",this.lineAlign=St,this.displayAlign=yt,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Ot,this.fontStyle=Pt,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=this.lineBreak=!1,this.cellResolution={columns:32,rows:15}}function ht(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var r in e)if("startTime"!=r&&"endTime"!=r&&"payload"!=r)if("nestedCues"==r){if(!ft(e.nestedCues,t.nestedCues,ht))return!1}else if("region"==r||"cellResolution"==r){for(var n in e[r])if(e[r][n]!=t[r][n])return!1}else if(Array.isArray(e[r])){if(!ft(e[r],t[r]))return!1}else if(e[r]!=t[r])return!1;return!0}pt.prototype.clone=function(){var e,t=new pt(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},z("shaka.text.Cue",pt);var gt="auto";pt.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:gt};var mt="center",vt={LEFT:"left",RIGHT:"right",CENTER:mt,START:"start",END:"end"};pt.textAlign=vt;var yt="after",bt={BEFORE:"before",CENTER:"center",AFTER:yt};pt.displayAlign=bt;var kt="ltr";pt.direction={HORIZONTAL_LEFT_TO_RIGHT:kt,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Et="horizontal-tb";pt.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Et,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var _t=0;pt.lineInterpretation={LINE_NUMBER:_t,PERCENTAGE:1};var St="start",Tt={CENTER:"center",START:St,END:"end"};pt.lineAlign=Tt;var wt={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};pt.defaultTextColor=wt;var xt={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};pt.defaultTextBackgroundColor=xt;var Ot=400;pt.fontWeight={NORMAL:Ot,BOLD:700};var Pt="normal",Ct={NORMAL:Pt,ITALIC:"italic",OBLIQUE:"oblique"};function At(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Mt,this.scroll=It}pt.fontStyle=Ct,pt.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},z("shaka.text.CueRegion",At);var Mt=1;At.units={PX:0,PERCENTAGE:Mt,LINES:2};var It="";function Rt(e,t,r,n,i){if(n>=i)return null;for(var a=-1,o=-1,s=0;s<r.length;s++)if(r[s].some((function(e){return null!=e&&""!=e.g.trim()}))){a=s;break}for(s=r.length-1;0<=s;s--)if(r[s].some((function(e){return null!=e&&""!=e.g.trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var l=s=!1,u="white",c="black",d=Dt(n,i,s,l,u,c);a<=o;a++){for(var f=r[a],p=-1,h=-1,g=0;g<f.length;g++)if(null!=f[g]&&""!==f[g].g.trim()){p=g;break}for(g=f.length-1;0<=g;g--)if(null!=f[g]&&""!==f[g].g.trim()){h=g;break}if(-1===p||-1===h)f=Lt(n,i),e.nestedCues.push(f);else{for(;p<=h;p++)if(g=f[p]){var m=g.l,v=g.i,y=g.j,b=g.h;m==s&&v==l&&y==u&&b==c||(d.payload&&e.nestedCues.push(d),d=Dt(n,i,m,v,y,b),s=m,l=v,u=y,c=b),d.payload+=g.g}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=Lt(n,i),e.nestedCues.push(d)),d=Dt(n,i,s,l,u,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function Dt(e,t,r,n,i,a){return e=new pt(e,t,""),r&&e.textDecoration.push("underline"),n&&(e.fontStyle="italic"),e.color=i,e.backgroundColor=a,e}function Lt(e,t){var r=new pt(e,t,"");return r.lineBreak=!0,r}function jt(e,t,r,n,i){this.g=e,this.l=t,this.i=r,this.h=n,this.j=i}function Nt(){this.l=!1,this.F=this.I=0,this.H=Ht,this.i=[],this.g=this.h=this.j=0,this.D=this.s=!1,this.u="white",this.m="black",Ut(this)}function Ut(e){e.i=[];for(var t=0;15>t;t++)e.i.push(Bt())}function Bt(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function Ft(e,t){zt(e)&&(e.i[e.h][e.g]=new jt(t,e.D,e.s,e.m,e.u),e.g++)}function zt(e){var t=e.g<e.F&&0<=e.g;return e.h<e.I&&0<=e.h&&t}function Vt(e,t,r){var n=new pt(e.j,t,"");return n.textAlign=e.H===Wt?"left":e.H===$t?"right":mt,(r=Rt(n,"svc"+r,e.i,e.j,t))&&(e.j=t),r}At.scrollMode={NONE:It,UP:"up"},Nt.prototype.isVisible=function(){return this.l};var Wt=0,$t=1,Ht=2;function Kt(){this.i=[],this.h=null,this.g=0}function Gt(e,t){3===t.type?(e.g=2*(63&t.value)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),0===e.g&&(e.i.push(new Zt(e.h)),e.h=null,e.g=0))}function Zt(e){this.g=0,this.h=e}function qt(e){if(!e.na())throw new ce(2,2,3e3);return e.h[e.g++]}function Xt(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Yt(e,t,r,n){if(128<=r&&135>=r)n=7&r,e.h[n]&&(e.g=e.h[n]);else{if(136===r){r=qt(t).value,t=null;for(var i=(r=c(Qt(e,r))).next();!i.done;i=r.next())(i=e.h[i.value]).isVisible()&&(t=Vt(i,n,e.i)),Ut(i);return t}if(137===r)for(t=qt(t).value,r=(t=c(Qt(e,t))).next();!r.done;r=t.next())(r=e.h[r.value]).isVisible()||(r.j=n),r.l=!0;else{if(138===r){for(r=qt(t).value,t=null,i=(r=c(Qt(e,r))).next();!i.done;i=r.next())(i=e.h[i.value]).isVisible()&&(t=Vt(i,n,e.i)),i.l=!1;return t}if(139===r){for(r=qt(t).value,t=null,i=(r=c(Qt(e,r))).next();!i.done;i=r.next())(i=e.h[i.value]).isVisible()?t=Vt(i,n,e.i):i.j=n,i.l=!i.l;return t}if(140===r)return Jt(e,t=qt(t).value,n);if(143===r)return n=Jt(e,255,n),er(e),n;if(144===r)t.skip(1),n=qt(t).value,e.g&&(e.g.s=0<(128&n),e.g.D=0<(64&n));else if(145===r)n=qt(t).value,r=qt(t).value,t.skip(1),e.g&&(t=tr((48&r)>>4,(12&r)>>2,3&r),e.g.u=tr((48&n)>>4,(12&n)>>2,3&n),e.g.m=t);else if(146===r)n=qt(t).value,t=qt(t).value,e.g&&((e=e.g).h=15&n,e.g=63&t);else if(151===r)t.skip(1),t.skip(1),n=qt(t).value,t.skip(1),e.g&&(e.g.H=3&n);else if(152<=r&&159>=r){if(r=(15&r)-8,!(i=null!==e.h[r])){var a=new Nt;a.j=n,e.h[r]=a}n=qt(t).value,qt(t),qt(t),a=qt(t).value;var o=qt(t).value;t=qt(t).value,i&&0===(7&t)||((t=e.h[r]).h=0,t.g=0,t.D=!1,t.s=!1,t.u="white",t.m="black"),(t=e.h[r]).l=0<(32&n),t.I=1+(15&a),t.F=1+(63&o),e.g=e.h[r]}}}return null}Zt.prototype.na=function(){return this.g<this.h.length},Zt.prototype.Z=function(){return this.g},Zt.prototype.skip=function(e){if(this.g+e>this.h.length)throw new ce(2,2,3e3);this.g+=e};var Qt=function e(t,r){var n;return R(e,(function(e){return 1==e.g&&(n=0),5!=e.g?8>n?1===(1&r)&&t.h[n]?E(e,n,5):e.v(5):e.v(0):(r>>=1,n++,e.v(2))}))};function Jt(e,t,r){for(var n=null,i=(t=c(Qt(e,t))).next();!i.done;i=t.next()){i=i.value;var a=e.h[i];a.isVisible()&&(n=Vt(a,r,e.i)),e.h[i]=null}return n}function er(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function tr(e,t,r){var n={0:0,1:0,2:1,3:1};return nr[(e=n[e])<<2|(t=n[t])<<1|(r=n[r])]}var rr=new Map([[32," "],[33,"\xa0"],[37,"\u2026"],[42,"\u0160"],[44,"\u0152"],[48,"\u2588"],[49,"\u2018"],[50,"\u2019"],[51,"\u201c"],[52,"\u201d"],[53,"\u2022"],[57,"\u2122"],[58,"\u0161"],[60,"\u0153"],[61,"\u2120"],[63,"\u0178"],[118,"\u215b"],[119,"\u215c"],[120,"\u215d"],[121,"\u215e"],[122,"\u2502"],[123,"\u2510"],[124,"\u2514"],[125,"\u2500"],[126,"\u2518"],[127,"\u250c"]]),nr="black blue green cyan red magenta yellow white".split(" ");function ir(e,t){this.i=[],this.g=1,this.h=0,this.D=e,this.u=t,this.j=this.m=!1,this.l="white",this.s="black",or(this)}function ar(e,t,r){return Rt(new pt(t,r,""),"CC"+(e.D<<1|e.u+1),e.i,t,r)}function or(e){ur(e,0,15),e.g=1}function sr(e,t,r){if(!(32>r||127<r)){var n="";switch(t){case cr:n=hr.has(r)?hr.get(r):String.fromCharCode(r);break;case dr:n=gr.get(r);break;case fr:e.i[e.g].pop(),n=mr.get(r);break;case pr:e.i[e.g].pop(),n=vr.get(r)}n&&e.i[e.g].push(new jt(n,e.m,e.j,e.s,e.l))}}function lr(e,t,r,n){if(t>=r)for(--n;0<=n;n--)e.i[t+n]=e.i[r+n].map((function(e){return e}));else for(var i=0;i<n;i++)e.i[t+i]=e.i[r+i].map((function(e){return e}))}function ur(e,t,r){for(var n=0;n<=r;n++)e.i[t+n]=[]}var cr=0,dr=1,fr=2,pr=3,hr=new Map([[39,"\u2019"],[42,"\xe1"],[92,"\xe9"],[92,"\xe9"],[94,"\xed"],[95,"\xf3"],[96,"\xfa"],[123,"\xe7"],[124,"\xf7"],[125,"\xd1"],[126,"\xf1"],[127,"\u2588"]]),gr=new Map([[48,"\xae"],[49,"\xb0"],[50,"\xbd"],[51,"\xbf"],[52,"\u2122"],[53,"\xa2"],[54,"\xa3"],[55,"\u266a"],[56,"\xe0"],[57,"\u2800"],[58,"\xe8"],[59,"\xe2"],[60,"\xea"],[61,"\xee"],[62,"\xf4"],[63,"\xfb"]]),mr=new Map([[32,"\xc1"],[33,"\xc9"],[34,"\xd3"],[35,"\xda"],[36,"\xdc"],[37,"\xfc"],[38,"\u2018"],[39,"\xa1"],[40,"*"],[41,"'"],[42,"\u2500"],[43,"\xa9"],[44,"\u2120"],[45,"\xb7"],[46,"\u201c"],[47,"\u201d"],[48,"\xc0"],[49,"\xc2"],[50,"\xc7"],[51,"\xc8"],[52,"\xca"],[53,"\xcb"],[54,"\xeb"],[55,"\xce"],[56,"\xcf"],[57,"\xef"],[58,"\xd4"],[59,"\xd9"],[60,"\xf9"],[61,"\xdb"],[62,"\xab"],[63,"\xbb"]]),vr=new Map([[32,"\xc3"],[33,"\xe3"],[34,"\xcd"],[35,"\xcc"],[36,"\xec"],[37,"\xd2"],[38,"\xf2"],[39,"\xd5"],[40,"\xf5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xc4"],[49,"\xe4"],[50,"\xd6"],[51,"\xf6"],[52,"\xdf"],[53,"\xa5"],[54,"\xa4"],[55,"\u2502"],[56,"\xc5"],[57,"\xe5"],[58,"\xd8"],[59,"\xf8"],[60,"\u250c"],[61,"\u2510"],[62,"\u2514"],[63,"\u2518"]]);function yr(e,t){this.h=_r,this.s=new ir(e,t),this.i=new ir(e,t),this.l=new ir(e,t),this.g=this.i,this.j=0,this.m=null}function br(e,t,r){e.g=e.i;var n=e.g,i=null;return e.h!==Tr&&e.h!==wr&&(i=ar(n,e.j,r),(r=e.i).g=0<r.h?r.h:0,ur(r,0,15),(r=e.l).g=0<r.h?r.h:0,ur(r,0,15),n.g=15),e.h=Tr,n.h=t,i}function kr(e){e.h=Sr,e.g=e.l,e.g.h=0}function Er(e){q("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.s,e.h=wr}var _r=0,Sr=1,Tr=3,wr=4,xr="black green blue cyan red yellow magenta black".split(" "),Or="white green blue cyan red yellow magenta white_italics".split(" ");function Pr(){this.h=[],this.g=[],this.i=new Kt,this.l=0,this.u=new Map([["CC1",new yr(0,0)],["CC2",new yr(0,1)],["CC3",new yr(1,0)],["CC4",new yr(1,1)]]),this.s=this.m=0,this.j=new Map,Cr(this)}function Cr(e){e.m=0,e.s=0;for(var t=(e=c(e.u.values())).next();!t.done;t=e.next())(t=t.value).h=2,t.g=t.i,t.m=null,or(t.i),or(t.l),or(t.s)}function Ar(e,t){var r=t.type;if(16===(112&t.za)){var n=t.za>>3&1;0===r?e.m=n:e.s=n}if(r=e.u.get("CC"+(r<<1|(r?e.s:e.m)+1)),255===t.za&&255===t.Pa||!t.za&&!t.Pa||!Ir(t.za)||!Ir(t.Pa))return 45<=++e.l&&Cr(e),null;if(e.l=0,t.za&=127,t.Pa&=127,!t.za&&!t.Pa)return null;if(n=null,16===(112&t.za))e:{var i=t.za;if(n=t.Pa,r.m===(i<<8|n))r.m=null;else if(r.m=i<<8|n,16===(240&i)&&64===(192&n)){i=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&i)<<1|n>>5&1];var a=(30&n)>>1,o="white",s=!1;if(7>a?o=Or[a]:7===a&&(s=!0),n=1===(1&n),r.h!==wr){if(a=r.g,r.h===Tr&&i!==a.g){var l=1+i-a.h;lr(a,l,1+a.g-a.h,a.h),ur(a,0,l-1),ur(a,i+1,15-i)}a.g=i,r.g.m=n,r.g.j=s,r.g.l=o,r.g.s="black"}}else if(17===(247&i)&&32===(240&n))r.g.m=!1,r.g.j=!1,r.g.l="white",sr(r.g,cr,32),o=!1,"white_italics"===(i=Or[(14&n)>>1])&&(i="white",o=!0),r.g.m=1===(1&n),r.g.j=o,r.g.l=i;else if(16===(247&i)&&32===(240&n)||23===(247&i)&&45===(255&n))o="black",0===(7&i)&&(o=xr[(14&n)>>1]),r.g.s=o;else if(17===(247&i)&&48===(240&n))sr(r.g,dr,n);else if(18===(246&i)&&32===(224&n))sr(r.g,1&i?pr:fr,n);else if(20===(246&i)&&32===(240&n)){switch(n=t.pts,i=null,t.Pa){case 32:kr(r);break;case 33:(r=r.g).i[r.g].pop();break;case 37:i=br(r,2,n);break;case 38:i=br(r,3,n);break;case 39:i=br(r,4,n);break;case 40:sr(r.g,cr,32);break;case 41:r.h=2,r.g=r.i,r.g.h=0,r.j=n;break;case 42:or(r.s),Er(r);break;case 43:Er(r);break;case 44:i=r.i,o=null,r.h!==wr&&(o=ar(i,r.j,n)),ur(i,0,15),i=o;break;case 45:i=r.g,r.h!==Tr?i=null:(o=ar(i,r.j,n),lr(i,(s=i.g-i.h+1)-1,s,i.h),ur(i,0,s-1),ur(i,i.g,15-i.g),r.j=n,i=o);break;case 46:ur(r.l,0,15);break;case 47:i=null,r.h!==wr&&(i=ar(r.i,r.j,n)),o=r.l,r.l=r.i,r.i=o,kr(r),r.j=n}n=i;break e}n=null}else i=t.Pa,sr(r.g,cr,t.za),sr(r.g,cr,i);return n}function Mr(e,t){var r=[];try{for(;t.na();){var n=qt(t).value,i=(224&n)>>5,a=31&n;if(7===i&&0!=a&&(i=63&qt(t).value),0!=i){e.j.has(i)||e.j.set(i,new Xt(i));for(var o=e.j.get(i),s=t.Z();t.Z()-s<a;){var l=qt(i=t),u=l.value,c=l.pts;if(16===u)u=u<<16|qt(i).value;if(0<=u&&31>=u){var d=c;if(o.g){var f=o.g;switch(i=null,u){case 8:!zt(f)||0>=f.g&&0>=f.h||(0>=f.g?(f.g=f.F-1,f.h--):f.g--,f.i[f.h][f.g]=null);break;case 13:if(f.isVisible()&&(i=Vt(f,d,o.i)),f.h+1>=f.I){d=f;for(var p=0,h=1;15>h;h++,p++)d.i[p]=d.i[h];for(h=0;1>h;h++,p++)d.i[p]=Bt()}else f.h++;f.g=0;break;case 14:f.isVisible()&&(i=Vt(f,d,o.i)),f.i[f.h]=Bt(),f.g=0;break;case 12:f.isVisible()&&(i=Vt(f,d,o.i)),Ut(f),(d=f).h=0,d.g=0}var g=i}else g=null}else if(128<=u&&159>=u)g=Yt(o,i,u,c);else{if(4096<=u&&4127>=u)8<=(d=255&u)&&15>=d?i.skip(1):16<=d&&23>=d?i.skip(2):24<=d&&31>=d&&i.skip(3);else if(4224<=u&&4255>=u)128<=(d=255&u)&&135>=d?i.skip(4):136<=d&&143>=d&&i.skip(5);else if(32<=u&&127>=u)i=u,o.g&&Ft(o.g,127===i?"\u266a":String.fromCharCode(i));else if(160<=u&&255>=u)o.g&&Ft(o.g,String.fromCharCode(u));else if(4128<=u&&4223>=u){if(i=255&u,o.g)if(rr.has(i)){var m=rr.get(i);Ft(o.g,m)}else Ft(o.g,"_")}else 4256<=u&&4351>=u&&o.g&&Ft(o.g,160!=(255&u)?"_":"[CC]");g=null}(i=g)&&r.push(i)}}}}catch(v){if(!(v instanceof ce&&3e3===v.code))throw v;q("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return r}function Ir(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function Rr(){}var Dr=function e(t,r){var n,i,a,o;return R(e,(function(e){if(1==e.g){for(var t=0,s=0,l=0;s<r.length;)2==t&&3==r[s]?t=0:(0==r[s]?t++:t=0,r[l]=r[s],l++),s++;n=s-l,i=0}if(4!=e.g){if(!(i+n<r.length))return e.v(0);for(a=0;255==r[i];)a+=255,i++;for(a+=r[i++],o=0;255==r[i];)o+=255,i++;return o+=r[i++],4!=a?e.v(4):E(e,r.subarray(i,i+o),4)}return i+=o,e.v(2)}))};function Lr(e,t){var r=null,n=null,i=e.M();return 1&t&&e.skip(8),2&t&&e.skip(4),8&t&&(r=e.M()),16&t&&(n=e.M()),{trackId:i,Ud:r,He:n}}function jr(e,t){return{bd:1==t?e.kb():e.M()}}function Nr(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),{timescale:e.M()}}function Ur(e,t,r){var n=e.M(),i=[];1&r&&e.skip(4),4&r&&e.skip(4);for(var a=c(te(n)),o=a.next();!o.done;o=a.next())o={Ed:null,sampleSize:null,Hc:null},256&r&&(o.Ed=e.M()),512&r&&(o.sampleSize=e.M()),1024&r&&e.skip(4),2048&r&&(o.Hc=0==t?e.M():e.he()),i.push(o);return{ug:n,ke:i}}function Br(){this.j=new Rr,this.i=new Map,this.h=this.g=0}function Fr(){this.h=new Br,this.g=new Pr}function zr(e,t){for(var r=e.h.parse(t),n=(r=c(r)).next();!n.done;n=r.next()){var i=n.value,a=se(i.pf);if(n=e.g,i=i.pts,181===(a=new be(a,0)).$()&&49===a.Fb()&&1195456820===a.M()&&3===a.$()){var o=a.$();if(0!==(64&o)){o&=31,a.skip(1);for(var s=0;s<o;s++){var l=a.$(),u=(4&l)>>2,f=a.$(),p=a.$();u&&(0===(l&=3)||1===l?n.h.push({pts:i,type:l,za:f,Pa:p,order:n.h.length}):(n.g.push({pts:i,type:l,value:f,order:n.g.length}),n.g.push({pts:i,type:2,value:p,order:n.g.length})))}}}}return function(e){function t(e,t){return e.pts-t.pts||e.order-t.order}var r=[];e.h.sort(t),e.g.sort(t);for(var n=c(e.h),i=n.next();!i.done;i=n.next())(i=Ar(e,i.value))&&r.push(i);for(i=(n=c(e.g)).next();!i.done;i=n.next())Gt(e.i,i.value);for(i=(n=c(e.i.i)).next();!i.done;i=n.next())i=Mr(e,i.value),r.push.apply(r,d(i));return e.i.i=[],e.h=[],e.g=[],r}(e.g)}function Vr(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Wr(e,t,r){return r=void 0===r?0:r,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+r>=e.start(0)}function $r(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var r=0,n=c(Hr(e)),i=n.next();!i.done;i=n.next()){var a=i.value;i=a.start,(a=a.end)>t&&(r+=a-Math.max(i,t))}return r}function Hr(e){if(!e)return[];for(var t=[],r=c(te(e.length)),n=r.next();!n.done;n=r.next())n=n.value,t.push({start:e.start(n),end:e.end(n)});return t}Br.prototype.init=function(e){var t=this,r=[],n=[];if((new Me).box("moov",Ie).box("mvex",Ie).U("trex",(function(e){var r=e.reader;r.skip(4),r.skip(4),e=r.M(),r=r.M(),t.g=e,t.h=r})).box("trak",Ie).U("tkhd",(function(e){var t=e.reader;1==e.version?(t.skip(8),t.skip(8),e=t.kb()):(t.skip(4),t.skip(4),e=t.M()),r.push(e)})).box("mdia",Ie).U("mdhd",(function(e){e=Nr(e.reader,e.version),n.push(e.timescale)})).parse(e,!0),!r.length||!n.length||r.length!=n.length)throw new ce(2,2,2010);r.forEach((function(e,r){t.i.set(e,n[r])}))},Br.prototype.parse=function(e){var t=this,r=[],n=this.g,i=this.h,a=[],o=null,s=9e4;return(new Me).box("moof",Ie).box("traf",Ie).U("trun",(function(e){a=Ur(e.reader,e.version,e.flags).ke})).U("tfhd",(function(e){e=Lr(e.reader,e.flags),n=e.Ud||t.g,i=e.He||t.h,e=e.trackId,t.i.has(e)&&(s=t.i.get(e))})).U("tfdt",(function(e){o=jr(e.reader,e.version).bd})).box("mdat",(function(e){if(null===o)throw new ce(2,2,2010);e=e.reader;var l=o,u=s,d=n,f=i,p=a,h=0,g=f;for(p.length&&(g=p[0].sampleSize||f);e.na();){var m=e.M();if(6==(31&e.$())){var v=0;p.length>h&&(v=p[h].Hc||0),v=(l+v)/u;for(var y=c(Dr(t.j,e.Za(m-1))),b=y.next();!b.done;b=y.next())r.push({pf:b.value,pts:v})}else e.skip(m-1);0==(g-=m+4)&&(l=p.length>h?l+(p[h].Ed||d):l+d,h++,g=p.length>h&&p[h].sampleSize||f)}})).parse(e,!1),r},Fr.prototype.init=function(e){this.h.init(e)};var Kr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Gr(e){var t;e instanceof Gr?(Zr(this,e.Da),this.nb=e.nb,this.Ga=e.Ga,qr(this,e.Eb),this.wa=e.wa,Xr(this,e.g.clone()),this.eb=e.eb):e&&(t=String(e).match(Kr))?(Zr(this,t[1]||"",!0),this.nb=Yr(t[2]||""),this.Ga=Yr(t[3]||"",!0),qr(this,t[4]),this.wa=Yr(t[5]||"",!0),Xr(this,t[6]||"",!0),this.eb=Yr(t[7]||"")):this.g=new on(null)}function Zr(e,t,r){e.Da=r?Yr(t,!0):t,e.Da&&(e.Da=e.Da.replace(/:$/,""))}function qr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Eb=t}else e.Eb=null}function Xr(e,t,r){t instanceof on?e.g=t:(r||(t=Qr(t,nn)),e.g=new on(t))}function Yr(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function Qr(e,t,r){return null!=e?(e=encodeURI(e).replace(t,Jr),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(n=Gr.prototype).Da="",n.nb="",n.Ga="",n.Eb=null,n.wa="",n.eb="",n.toString=function(){var e=[],t=this.Da;if(t&&e.push(Qr(t,en,!0),":"),t=this.Ga){e.push("//");var r=this.nb;r&&e.push(Qr(r,en,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Eb)&&e.push(":",String(t))}return(t=this.wa)&&(this.Ga&&"/"!=t.charAt(0)&&e.push("/"),e.push(Qr(t,"/"==t.charAt(0)?rn:tn,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.eb)&&e.push("#",Qr(t,an)),e.join("")},n.resolve=function(e){var t=this.clone();"data"===t.Da&&(t=new Gr);var r=!!e.Da;r?Zr(t,e.Da):r=!!e.nb,r?t.nb=e.nb:r=!!e.Ga,r?t.Ga=e.Ga:r=null!=e.Eb;var n=e.wa;if(r)qr(t,e.Eb);else if(r=!!e.wa){if("/"!=n.charAt(0))if(this.Ga&&!this.wa)n="/"+n;else{var i=t.wa.lastIndexOf("/");-1!=i&&(n=t.wa.substr(0,i+1)+n)}if(".."==n||"."==n)n="";else if(-1!=n.indexOf("./")||-1!=n.indexOf("/.")){i=0==n.lastIndexOf("/",0),n=n.split("/");for(var a=[],o=0;o<n.length;){var s=n[o++];"."==s?i&&o==n.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==n.length&&a.push("")):(a.push(s),i=!0)}n=a.join("/")}}return r?t.wa=n:r=""!==e.g.toString(),r?Xr(t,e.g.clone()):r=!!e.eb,r&&(t.eb=e.eb),t},n.clone=function(){return new Gr(this)};var en=/[#\/\?@]/g,tn=/[#\?:]/g,rn=/[#\?]/g,nn=/[#\?@]/g,an=/#/g;function on(e){this.g=e||null}function sn(e,t){if(0==t.length)return e;var r=t.map((function(e){return new Gr(e)}));return e.map((function(e){return new Gr(e)})).map((function(e){return r.map((function(t){return e.resolve(t)}))})).reduce(Oe,[]).map((function(e){return e.toString()}))}function ln(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,sessionType:"",initData:t||[],keyIds:new Set}}function un(e,t){if(1==t.length)return t[0];var r=cn(e,t);if(null!=r)return r;throw new ce(2,4,4025,t)}function cn(e,t){for(var r=c(pn[e]),n=r.next();!n.done;n=r.next()){n=n.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,n.test(a.trim()))return a.trim()}return e==dn?"":null}(n=on.prototype).ta=null,n.tc=null,n.add=function(e,t){if(!this.ta&&(this.ta={},this.tc=0,this.g))for(var r=this.g.split("&"),n=0;n<r.length;n++){var i=r[n].indexOf("="),a=null;if(0<=i){var o=r[n].substring(0,i);a=r[n].substring(i+1)}else o=r[n];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.g=null,(r=this.ta.hasOwnProperty(e)&&this.ta[e])||(this.ta[e]=r=[]),r.push(t),this.tc++,this},n.toString=function(){if(this.g)return this.g;if(!this.ta)return"";var e,t=[];for(e in this.ta)for(var r=encodeURIComponent(e),n=this.ta[e],i=0;i<n.length;i++){var a=r;""!==n[i]&&(a+="="+encodeURIComponent(n[i])),t.push(a)}return this.g=t.join("&")},n.clone=function(){var e=new on;if(e.g=this.g,this.ta){var t,r={};for(t in this.ta)r[t]=this.ta[t].concat();e.ta=r,e.tc=this.tc}return e};var dn="text",fn={Na:"video",ab:"audio",fa:dn,Wf:"image",Of:"application"},pn={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function hn(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r}function gn(){}hn.prototype.resolve=function(){},hn.prototype.reject=function(){},z("shaka.dependencies",gn),gn.has=function(e){return vn.has(e)},gn.add=function(e,t){if(!mn[e])throw Error(e+" is not supported");vn.set(e,(function(){return t}))};var mn={muxjs:"muxjs"};gn.Allowed=mn;var vn=new Map([["muxjs",function(){return e.muxjs}]]);function yn(){var e=this;this.s=vn.get("muxjs")(),this.g=new this.s.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.h=null,this.m=[],this.j=[],this.i=[],this.l=!1,this.g.on("data",(function(t){e.j=t.captions,e.i=t.metadata,e.m.push(at(t.initSegment,t.data))})),this.g.on("done",(function(){var t={data:at.apply(Je,d(e.m)),captions:e.j,metadata:e.i};e.h.resolve(t),e.l=!1}))}function bn(e,t){if(!vn.get("muxjs")()||!kn(e))return!1;if(t)return MediaSource.isTypeSupported(En(t,e));var r=En("audio",e),n=En("video",e);return MediaSource.isTypeSupported(r)||MediaSource.isTypeSupported(n)}function kn(e){return"mp2t"==e.toLowerCase().split(";")[0].split("/")[1]}function En(e,t){var r=t.replace(/mp2t/i,"mp4");"audio"==e&&(r=r.replace("video","audio"));var n=/avc1\.(66|77|100)\.(\d+)/.exec(r);if(n){var i="avc1.",a=n[1],o=Number(n[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),r=r.replace(n[0],i)}return r}function _n(e,t){var r=e;return t&&(r+='; codecs="'+t+'"'),r}function Sn(e,t,r){return e=_n(e,t),vn.get("muxjs")()&&kn(e)?En(r,e):e}function Tn(e){var t=(e=e.split("."))[0];return e.pop(),t}function wn(e){return(e=e.split(/ *; */)).shift(),(e=e.find((function(e){return e.startsWith("codecs=")})))?e.split("=")[1].replace(/^"|"$/g,""):""}yn.prototype.destroy=function(){return this.g.dispose(),this.g=null,Promise.resolve()};var xn=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function On(e){this.s=null,this.i=e,this.j=this.D=0,this.l=1/0,this.h=this.g=null,this.u="",this.m=new Map}function Pn(e){return!(!Mn[e]&&"application/cea-608"!=e&&"application/cea-708"!=e)}function Cn(e,t,r){if(e.u=t,t=e.m.get(t))for(var n=c(t.keys()),i=n.next();!i.done;i=n.next())(i=t.get(i.value).filter((function(e){return e.endTime<=r})))&&e.i.append(i)}function An(e,t,r,n,i){for(var a=r+" "+n,o=new Map,s=(t=c(t)).next();!s.done;s=t.next()){var l=s.value;s=l.stream,l=l.cue,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),l.startTime+=i,l.endTime+=i,l.startTime>=e.j&&l.startTime<e.l&&(o.get(s).get(a).push(l),s==e.u&&e.i.append([l]))}for(a=(i=c(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.m.has(a)||e.m.set(a,new Map),s=(t=c(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,l=o.get(a).get(s),e.m.get(a).set(s,l);e.g=null==e.g?Math.max(r,e.j):Math.min(e.g,Math.max(r,e.j)),e.h=Math.max(e.h,Math.min(n,e.l))}On.prototype.destroy=function(){return this.i=this.s=null,this.m.clear(),Promise.resolve()},On.prototype.remove=function(e,t){var r=this;return D((function(n){if(1==n.g)return E(n,Promise.resolve(),2);!r.i||!r.i.remove(e,t)||null==r.g||t<=r.g||e>=r.h||(e<=r.g&&t>=r.h?r.g=r.h=null:e<=r.g&&t<r.h?r.g=t:e>r.g&&t>=r.h&&(r.h=e)),_(n)}))},z("shaka.text.TextEngine",On),On.prototype.destroy=On.prototype.destroy,On.findParser=function(e){return Mn[e]},On.unregisterParser=function(e){delete Mn[e]},On.registerParser=function(e,t){Mn[e]=t};var Mn={};function In(e){this.g=!1,this.h=new hn,this.i=e}function Rn(e,t){if(e.g){if(t instanceof ce&&7003==t.code)throw t;throw new ce(2,7,7003,t)}}function Dn(){this.g={}}function Ln(e,t){for(var r in e.g)t(r,e.g[r])}function jn(){this.g=new Dn}function Nn(e,t,r,n){this.target=e,this.type=t,this.listener=r,this.g=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var r=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!r.has(e)})),function(e){var t=Un;if(void 0==t){t=!1;try{var r={},n={get:function(){return t=!0,!1}};Object.defineProperty(r,"passive",n),Object.defineProperty(r,"capture",n),n=function(){},e.addEventListener("test",n,r),e.removeEventListener("test",n,r)}catch(i){t=!1}Un=t}return t||!1}(e)?t:t.capture||!1}(e,n),this.target.addEventListener(t,r,this.g)}In.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then((function(){e.h.resolve()}),(function(){e.h.resolve()})))},Dn.prototype.push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},Dn.prototype.get=function(e){return(e=this.g[e])?e.slice():null},Dn.prototype.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter((function(e){return e!=t})),0==this.g[e].length&&delete this.g[e])},Dn.prototype.size=function(){return Object.keys(this.g).length},(n=jn.prototype).release=function(){this.lb(),this.g=null},n.B=function(e,t,r,n){this.g&&(e=new Nn(e,t,r,n),this.g.push(t,e))},n.ua=function(e,t,r,n){var i=this;this.B(e,t,(function n(a){i.Ca(e,t,n),r(a)}),n)},n.Ca=function(e,t,r){if(this.g)for(var n=this.g.get(t)||[],i=(n=c(n)).next();!i.done;i=n.next())(i=i.value).target!=e||r!=i.listener&&r||(i.Ca(),this.g.remove(t,i))},n.lb=function(){if(this.g){var e,t=this.g,r=[];for(e in t.g)r.push.apply(r,d(t.g[e]));for(r=(t=c(r)).next();!r.done;r=t.next())r.value.Ca();this.g.g={}}},z("shaka.util.EventManager",jn),jn.prototype.removeAll=jn.prototype.lb,jn.prototype.unlisten=jn.prototype.Ca,jn.prototype.listenOnce=jn.prototype.ua,jn.prototype.listen=jn.prototype.B,jn.prototype.release=jn.prototype.release,Nn.prototype.Ca=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var Un=void 0;function Bn(e,t,r,n){var i=this;this.g=e,this.m=r,this.j={},this.I={},this.i=null,this.L=n||function(){},this.l={},this.h=new jn,this.u={},this.D=t,this.F=new hn,this.s=function(e,t){var r=new MediaSource;return e.h.ua(r,"sourceopen",(function(){URL.revokeObjectURL(e.H),t.resolve()})),e.H=ei(r),e.g.src=e.H,r}(this,this.F),this.J=new In((function(){return function(e){var t,r,n,i,a,o,s;return D((function(l){if(1==l.g){for(r in t=[],e.l)for(n=e.l[r],i=n[0],e.l[r]=n.slice(0,1),i&&t.push(i.p.catch(Pe)),a=c(n.slice(1)),o=a.next();!o.done;o=a.next())o.value.p.reject(new ce(2,7,7003,void 0));for(s in e.i&&t.push(e.i.destroy()),e.m&&t.push(e.m.destroy()),e.u)t.push(e.u[s].destroy());return E(l,Promise.all(t),2)}e.h&&(e.h.release(),e.h=null),e.g&&(e.g.removeAttribute("src"),e.g.load(),e.g=null),e.s=null,e.i=null,e.m=null,e.j={},e.u={},e.D=null,e.l={},_(l)}))}(i)})),this.H=""}function Fn(e){var t=_n(e.mimeType,e.codecs),r=function(e){var t=[e.mimeType];return xn.forEach((function(r,n){var i=e[n];i&&t.push(r+'="'+i+'"')})),"PQ"==e.hdr&&t.push('eotf="smpte2084"'),t.join(";")}(e);return Pn(t)||MediaSource.isTypeSupported(r)||bn(t,e.type)}function zn(e,t){e.i||(e.i=new On(e.m)),"application/cea-608"!=t&&"application/cea-708"!=t&&(e.i.s=Ae(Mn[t]))}function Vn(e){return!e.s||"ended"==e.s.readyState}function Wn(e,t){if(t==dn)var r=e.i.g;else r=!(r=Hn(e,t))||1==r.length&&1e-6>r.end(0)-r.start(0)?null:1==r.length&&0>r.start(0)?0:r.length?r.start(0):null;return r}function $n(e,t){return t==dn?e.i.h:Vr(Hn(e,t))}function Hn(e,t){try{return e.j[t].buffered}catch(r){return null}}function Kn(e,t,r,n,i,a){var o,s,l,u,d,f,p,h;return D((function(g){return 1==g.g?t==(o=fn).fa?E(g,function(e,t,r,n){var i,a,o;return D((function(s){return 1==s.g?E(s,Promise.resolve(),2):e.s&&e.i?null==r||null==n?(e.s.parseInit(se(t)),s.return()):(i={periodStart:e.D,segmentStart:r,segmentEnd:n},a=e.s.parseMedia(se(t),i),o=a.filter((function(t){return t.startTime>=e.j&&t.startTime<e.l})),e.i.append(o),null==e.g&&(e.g=Math.max(r,e.j)),e.h=Math.min(n,e.l),void _(s)):s.return()}))}(e.i,r,n,i),0):e.u[t]?E(g,function(e,t){e.l=!0,e.h=new hn,e.m=[],e.j=[],e.i=[];var r=se(t);return e.g.push(r),e.g.flush(),e.l&&e.h.reject(new ce(2,3,3018)),e.h}(e.u[t],r),10):a?(e.i||zn(e,"text/vtt"),null==n&&null==i?e.D.init(r):(s=zr(e.D,r)).length&&(l=e.j[o.Na].timestampOffset,An(e.i,s,n,i,l)),r=Jn(e,r,n,t),E(g,qn(e,t,(function(){e.j[t].appendBuffer(r)})),0)):(r=Jn(e,r,n,t),E(g,qn(e,t,(function(){e.j[t].appendBuffer(r)})),0)):(u=g.h,e.i||zn(e,"text/vtt"),u.metadata&&(d=e.j[t].timestampOffset,e.L(u.metadata,d,i)),u.captions&&u.captions.length&&(f=e.j[o.Na].timestampOffset,p=function(e){for(var t=[],r=(e=c(e)).next();!r.done;r=e.next())r=r.value,t.push({stream:r.stream,cue:new pt(r.startTime,r.endTime,r.text)});return t}(u.captions),An(e.i,p,n,i,f)),h=u.data,h=Jn(e,h,n,t),E(g,qn(e,t,(function(){e.j[t].appendBuffer(h)})),0))}))}function Gn(e,t){return D((function(r){return t==fn.fa?e.i?E(r,e.i.remove(0,1/0),0):r.return():E(r,qn(e,t,(function(){var r=e.s.duration;0>=r?Zn(e,t):e.j[t].remove(0,r)})),0)}))}function Zn(e,t){var r=e.l[t][0];r&&(r.p.resolve(),Yn(e,t))}function qn(e,t,r){return Rn(e.J),r={start:r,p:new hn},e.l[t].push(r),1==e.l[t].length&&Qn(e,t),r.p}function Xn(e,t){var r,n,i,a,o;return D((function(s){switch(s.g){case 1:for(i in Rn(e.J),r=[],n={},e.j)n.Jb=new hn,a={start:function(e){return function(){return e.Jb.resolve()}}(n),p:n.Jb},e.l[i].push(a),r.push(n.Jb),1==e.l[i].length&&a.start(),n={Jb:n.Jb};return S(s,2),E(s,Promise.all(r),4);case 4:w(s,3);break;case 2:throw x(s);case 3:try{t()}catch(l){throw new ce(2,3,3015,l)}finally{for(o in e.j)Yn(e,o)}_(s)}}))}function Yn(e,t){e.l[t].shift(),Qn(e,t)}function Qn(e,t){var r=e.l[t][0];if(r)try{r.start()}catch(n){"QuotaExceededError"==n.name?r.p.reject(new ce(2,3,3017,t)):r.p.reject(new ce(2,3,3015,n)),Yn(e,t)}}function Jn(e,t,r,n){var i=e.g.mediaKeys;return null==r&&i&&(He()||$e())&&"mp4"==e.I[n].split(";")[0].split("/")[1]&&(t=function(e){function t(){i=!0}function r(e){a.push(e),Ie(e)}e=se(e);var n,i=!1,a=[],o=[];if((new Me).box("moov",r).box("trak",r).box("mdia",r).box("minf",r).box("stbl",r).U("stsd",(function(e){n=e,a.push(e),Re(e)})).U("encv",t).U("enca",t).U("avc1",(function(e){o.push({box:e,td:1701733238})})).U("ec-3",(function(e){o.push({box:e,td:1701733217})})).U("mp4a",(function(e){o.push({box:e,td:1701733217})})).parse(e),i)return e;if(0==o.length||!n)throw it(e),new ce(2,3,3019);o.reverse();for(var s=c(o),l=s.next();!l.done;l=s.next())l=l.value,e=ot(e,n,l.box,a,l.td);return e}(t)),t}(n=Bn.prototype).destroy=function(){return this.J.destroy()},n.init=function(e,t){var r,n,i,a,o,s,l,u=this;return D((function(d){if(1==d.g)return r=fn,E(d,u.F,2);for(n={},i=c(e.keys()),a=i.next();!a.done;n={qa:n.qa},a=i.next())n.qa=a.value,o=e.get(n.qa),s=_n(o.mimeType,o.codecs),n.qa==r.fa?zn(u,s):(!t&&MediaSource.isTypeSupported(s)||!bn(s,n.qa)||(u.u[n.qa]=new yn,s=En(n.qa,s)),l=u.s.addSourceBuffer(s),u.h.B(l,"error",function(e){return function(){u.l[e.qa][0].p.reject(new ce(2,3,3014,u.g.error?u.g.error.code:0))}}(n)),u.h.B(l,"updateend",function(e){return function(){return Zn(u,e.qa)}}(n)),u.j[n.qa]=l,u.I[n.qa]=s,u.l[n.qa]=[]);_(d)}))},n.vc=function(){var e={total:Hr(this.g.buffered),audio:Hr(Hn(this,"audio")),video:Hr(Hn(this,"video")),text:[]};if(this.i){var t=this.i.g,r=this.i.h;null!=t&&null!=r&&e.text.push({start:t,end:r})}return e},n.remove=function(e,t,r){var n=this;return D((function(i){return E(i,e==fn.fa?n.i.remove(t,r):qn(n,e,(function(){r<=t?Zn(n,e):n.j[e].remove(t,r)})),0)}))},n.flush=function(e){var t=this;return D((function(r){return e==fn.fa?r.return():E(r,qn(t,e,(function(){t.g.currentTime-=.001,Zn(t,e)})),0)}))},n.endOfStream=function(e){var t=this;return D((function(r){return E(r,Xn(t,(function(){Vn(t)||(e?t.s.endOfStream(e):t.s.endOfStream())})),0)}))},n.Ja=function(e){var t=this;return D((function(r){return E(r,Xn(t,(function(){t.s.duration=e})),0)}))},n.getDuration=function(){return this.s.duration};var ei=e.URL.createObjectURL;function ti(e,t){return e=ii(e),t=ii(t),e.split("-")[0]==t.split("-")[0]}function ri(e,t){e=ii(e),t=ii(t);var r=e.split("-"),n=t.split("-");return r[0]==n[0]&&1==r.length&&2==n.length}function ni(e,t){e=ii(e),t=ii(t);var r=e.split("-"),n=t.split("-");return 2==r.length&&2==n.length&&r[0]==n[0]}function ii(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=li.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function ai(e,t){return e=ii(e),(t=ii(t))==e?4:ri(t,e)?3:ni(t,e)?2:ri(e,t)?1:0}function oi(e){return e.language?ii(e.language):e.audio&&e.audio.language?ii(e.audio.language):e.video&&e.video.language?ii(e.video.language):"und"}function si(e,t){for(var r=ii(e),n=new Set,i=c(t),a=i.next();!a.done;a=i.next())n.add(ii(a.value));for(a=(i=c(n)).next();!a.done;a=i.next())if((a=a.value)==r)return a;for(a=(i=c(n)).next();!a.done;a=i.next())if(ri(a=a.value,r))return a;for(a=(i=c(n)).next();!a.done;a=i.next())if(ni(a=a.value,r))return a;for(a=(n=c(n)).next();!a.done;a=n.next())if(ri(r,a=a.value))return a;return null}var li=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function ui(e,t){var r=Oi(e.variants,t),n=function(e){var t="",r=1/0;return Ln(e,(function(e,n){for(var i=0,a=0,o=c(n),s=o.next();!s.done;s=o.next())i+=s.value.bandwidth||0,++a;(i/=a)<r&&(t=e,r=i)})),t}(r=function(e){var t=0,r=new Map,n=e.size();return Ln(e,(function(e,i){for(var a=c(i),o=a.next();!o.done;o=a.next()){var s=(o=o.value).video;if(s&&s.width&&s.height){s=s.width*s.height*(s.frameRate||1),r.has(s)||r.set(s,new Dn);var l=r.get(s);l.push(e,o),l.size()===n&&(t=Math.max(t,s))}}})),t?r.get(t):e}(r=function(e){for(var t=new Dn,r=(e=c(e)).next();!r.done;r=e.next()){var n=ci(r=r.value);t.push(n,r)}return t}(r)));e.variants=e.variants.filter((function(e){return ci(e)==n}))}function ci(e){var t="";e.video&&(t=Tn(e.video.codecs));var r="";return e.audio&&(r=Tn(e.audio.codecs)),t+"-"+r}function di(e,t,r){function n(e,t,r){return e>=t&&e<=r}var i=e.video;return!(i&&i.width&&i.height&&(!n(i.width,t.minWidth,Math.min(t.maxWidth,r.width))||!n(i.height,t.minHeight,Math.min(t.maxHeight,r.height))||!n(i.width*i.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!n(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!n(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function fi(e,t,r,n){return D((function(i){if(1==i.g)return n?E(i,hi(r,0<r.offlineSessionIds.length),2):(pi(r,e),gi(r),i.v(2));yi(t,r),function(e){e.textStreams=e.textStreams.filter((function(e){return Pn(_n(e.mimeType,e.codecs))}))}(r),function(e){e.imageStreams=e.imageStreams.filter((function(e){var t=["image/svg+xml","image/png","image/jpeg"];return(qe("Web0S")||He()||Ke())&&t.push("image/webp"),t.includes(e.mimeType)}))}(r),_(i)}))}function pi(e,t){e.variants=e.variants.filter((function(e){return!(t&&t.L&&!function(e,t){var r=t.audio,n=t.video;if(r&&r.encrypted&&(r=Aa(r),!Pa(e,r))||n&&n.encrypted&&(n=Aa(n),!Pa(e,n)))return!1;var i=xa(e.i);return 0==(n=Ua(t)).length||n.some((function(e){return e.keySystem==i}))}(t,e))}))}function hi(e,t){return D((function(r){if(1==r.g)return E(r,mi(e.variants,t),2);e.variants=e.variants.filter((function(e){var t=e.video;return $e()&&t&&(t.width&&1920<t.width||t.height&&1080<t.height)&&t.codecs.includes("avc1.")?(Ai(e),!1):((t=e.decodingInfos.some((function(e){return e.supported})))||Ai(e),t)})),_(r)}))}function gi(e){e.variants=e.variants.filter((function(e){var t=e.audio;return e=e.video,!(t&&!Fn(t)||e&&!Fn(e)||$e()&&e&&(e.width&&1920<e.width||e.height&&1080<e.height)&&e.codecs.includes("avc1."))}))}function mi(e,t){var r,n,i,a,o,s,l,u,d,f;return D((function(p){if(e.some((function(e){return e.decodingInfos.length})))return p.return();for(r=navigator.mediaCapabilities,n=[],i=function(e,t){var n;return D((function(i){return 1==i.g?(S(i,2),E(i,r.decodingInfo(t),4)):2!=i.g?(n=i.h,e.decodingInfos.push(n),w(i,0)):(x(i),JSON.stringify(t),void _(i))}))},a=c(e),o=a.next();!o.done;o=a.next())for(s=o.value,l=vi(s,t),u=c(l),d=u.next();!d.done;d=u.next())f=d.value,n.push(i(s,f));return E(p,Promise.all(n),0)}))}function vi(e,t){var r=e.audio,n=e.video,i={type:"media-source"};if(n){var a=n.codecs;if(n.codecs.includes(",")){var o=n.codecs.split(",");a="vp9"==(a=un("video",o))?"vp09.00.10.08":a,o=un("audio",o),o=Sn(n.mimeType,o,"audio"),i.audio={contentType:o,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}a=Sn(n.mimeType,"vp9"==a?"vp09.00.10.08":a,"video"),i.video={contentType:a,width:n.width||1,height:n.height||1,bitrate:n.bandwidth||e.bandwidth||1,framerate:n.frameRate||1}}r&&(a="ac-3"==r.codecs.toLowerCase()&&He()?"ec-3":r.codecs,a=Sn(r.mimeType,a,"audio"),i.audio={contentType:a,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});var s=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]);if(!s.length)return[i];a=[],o=new Map;for(var l=(s=c(s)).next();!l.done;l=s.next()){var u=l.value;o.get(u.keySystem)||o.set(u.keySystem,[]),o.get(u.keySystem).push(u)}s=t?"required":"optional",u=t?["persistent-license"]:["temporary"];for(var d=c(o.keys()),f=d.next();!f.done;f=d.next()){var p=f.value;f=Object.assign({},i);var h=o.get(p);for(p={keySystem:p,initDataType:"cenc",persistentState:s,distinctiveIdentifier:"optional",sessionTypes:u},l=(h=c(h)).next();!l.done;l=h.next()){if((l=l.value).initData&&l.initData.length){for(var g=new Set,m=c(l.initData),v=m.next();!v.done;v=m.next())g.add(v.value.initDataType);p.initDataType=l.initData[0].initDataType}l.distinctiveIdentifierRequired&&(p.distinctiveIdentifier="required"),l.persistentStateRequired&&(p.persistentState="required"),l.sessionType&&(p.sessionTypes=[l.sessionType]),r&&(p.audio?p.audio.robustness=p.audio.robustness||l.audioRobustness:p.audio={robustness:l.audioRobustness}),n&&(p.video?p.video.robustness=p.video.robustness||l.videoRobustness:p.video={robustness:l.videoRobustness})}f.keySystemConfiguration=p,a.push(f)}return a}function yi(e,t){t.variants=t.variants.filter((function(t){var r=t.audio;return t=t.video,!(r&&e&&e.audio&&!bi(r,e.audio)||t&&e&&e.video&&!bi(t,e.video))}))}function bi(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function ki(e){var t=e.audio,r=e.video,n=t?t.codecs:null,i=r?r.codecs:null,a=[];i&&a.push(i),n&&a.push(n);var o=[];r&&o.push(r.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),r&&s.push(r.kind),s=s[0]||null;var l=new Set;if(t)for(var u=c(t.roles),d=u.next();!d.done;d=u.next())l.add(d.value);if(r)for(d=(u=c(r.roles)).next();!d.done;d=u.next())l.add(d.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:o,codecs:a.join(", "),audioCodec:n,videoCodec:i,primary:e.primary,roles:Array.from(l),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},r&&(e.videoId=r.id,e.originalVideoId=r.originalId,e.width=r.width||null,e.height=r.height||null,e.frameRate=r.frameRate||null,e.pixelAspectRatio=r.pixelAspectRatio||null,e.videoBandwidth=r.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function Ei(e){return{id:e.id,active:!1,type:dn,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null}}function _i(e){return{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:e.width||null,height:e.height||null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:e.tilesLayout||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId}}function Si(e){return e.__shaka_id||(e.__shaka_id=Ii++),e.__shaka_id}function Ti(e){var t=wi(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function wi(e){return{id:Si(e),active:!1,type:"",bandwidth:0,language:ii(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function xi(e){return e.allowedByApplication&&e.allowedByKeySystem}function Oi(e,t){for(var r=e.filter((function(e){return e.audio&&e.audio.channelsCount})),n=new Map,i=(r=c(r)).next();!i.done;i=r.next()){var a=(i=i.value).audio.channelsCount;n.has(a)||n.set(a,[]),n.get(a).push(i)}return 0==(r=Array.from(n.keys())).length?e:(i=r.filter((function(e){return e<=t}))).length?n.get(Math.max.apply(Math,d(i))):n.get(Math.min.apply(Math,d(r)))}function Pi(e,t,r,n){var i=e,a=e.filter((function(e){return e.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==o})),t){var s=si(ii(t),e.map((function(e){return e.language})));s&&(i=e.filter((function(e){return ii(e.language)==s})))}if(i=i.filter((function(e){return e.forced==n})),r){if((e=Ci(i,r)).length)return e}else if((e=i.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=i.map((function(e){return e.roles})).reduce(Oe,[])).length?Ci(i,e[0]):i}function Ci(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function Ai(e){var t=[];return e.audio&&t.push(Mi(e.audio)),e.video&&t.push(Mi(e.video)),t.join(", ")}function Mi(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}var Ii=0;function Ri(){var e=this;this.j=null,this.i=!1,this.g=new H,navigator.connection&&navigator.connection.addEventListener("change",(function(){if(e.o.useNetworkInformation&&e.i){e.g=new H;var t=e.chooseVariant();t&&e.j(t)}})),this.h=[],this.m=1,this.s=!1,this.o=this.l=null}function Di(e){var t=e.o.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&e.o.useNetworkInformation&&(t=1e6*navigator.connection.downlink),t}function Li(e,t){return e&&(t=t.filter((function(t){return di(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function ji(e,t){this.h=e,this.g=new Set([e]);for(var r=c(t=t||[]),n=r.next();!n.done;n=r.next())this.add(n.value)}function Ni(e,t){var r;if(!(r=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(r=e.audio&&t.audio)){r=e.audio;var n=t.audio;r=!((!(!r.channelsCount||!n.channelsCount||2<r.channelsCount||2<n.channelsCount)||r.channelsCount==n.channelsCount)&&Ui(r,n)&&Bi(r.roles,n.roles))}return!r&&(r=e.video&&t.video)&&(r=!(Ui(r=e.video,n=t.video)&&Bi(r.roles,n.roles))),!r}function Ui(e,t){if(e.mimeType!=t.mimeType)return!1;var r=e.codecs.split(",").map((function(e){return Tn(e)})),n=t.codecs.split(",").map((function(e){return Tn(e)}));if(r.length!=n.length)return!1;r.sort(),n.sort();for(var i=c(te(r.length)),a=i.next();!a.done;a=i.next())if(r[a=a.value]!=n[a])return!1;return!0}function Bi(e,t){var r=new Set(e),n=new Set(t);if(r.delete("main"),n.delete("main"),r.size!=n.size)return!1;for(var i=(r=c(r)).next();!i.done;i=r.next())if(!n.has(i.value))return!1;return!0}function Fi(e){this.g=e,this.h=new zi(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}function zi(e,t,r,n){this.i=e,this.j=t,this.g=r,this.h=void 0===n?"":n}function Vi(){this.g=Hi,this.h=(new Map).set(Hi,2).set($i,1)}function Wi(e,t,r){e.h.set(Hi,r).set($i,t)}(n=Ri.prototype).stop=function(){this.j=null,this.i=!1,this.h=[],this.m=1,this.l=null},n.init=function(e){this.j=e},n.chooseVariant=function(){var e=Li(this.o.restrictions,this.h),t=this.g.getBandwidthEstimate(Di(this));this.h.length&&!e.length&&(e=[(e=Li(null,this.h))[0]]);for(var r=e[0]||null,n=(e=c(re(e))).next();!n.done;n=e.next()){var i=n.value;n=i.item;var a=isNaN(this.m)?1:Math.abs(this.m);i=a*(i.next||{bandwidth:1/0}).bandwidth/this.o.bandwidthUpgradeTarget,t>=a*n.bandwidth/this.o.bandwidthDowngradeTarget&&t<=i&&(r=n)}return this.l=Date.now(),r},n.enable=function(){this.i=!0},n.disable=function(){this.i=!1},n.segmentDownloaded=function(e,t){var r=this.g;if(!(16e3>t)){var n=8e3*t/e,i=e/1e3;r.g+=t,W(r.h,i,n),W(r.i,i,n)}if(null!=this.l&&this.i)e:{if(this.s){if(Date.now()-this.l<1e3*this.o.switchInterval)break e}else{if(!(128e3<=this.g.g))break e;this.s=!0}r=this.chooseVariant(),this.g.getBandwidthEstimate(Di(this)),r&&this.j(r)}},n.getBandwidthEstimate=function(){return this.g.getBandwidthEstimate(this.o.defaultBandwidthEstimate)},n.setVariants=function(e){this.h=e},n.playbackRateChanged=function(e){this.m=e},n.configure=function(e){this.o=e},z("shaka.abr.SimpleAbrManager",Ri),Ri.prototype.configure=Ri.prototype.configure,Ri.prototype.playbackRateChanged=Ri.prototype.playbackRateChanged,Ri.prototype.setVariants=Ri.prototype.setVariants,Ri.prototype.getBandwidthEstimate=Ri.prototype.getBandwidthEstimate,Ri.prototype.segmentDownloaded=Ri.prototype.segmentDownloaded,Ri.prototype.disable=Ri.prototype.disable,Ri.prototype.enable=Ri.prototype.enable,Ri.prototype.chooseVariant=Ri.prototype.chooseVariant,Ri.prototype.init=Ri.prototype.init,Ri.prototype.stop=Ri.prototype.stop,ji.prototype.add=function(e){return!!Ni(this.h,e)&&(this.g.add(e),!0)},ji.prototype.values=function(){return this.g.values()},Fi.prototype.create=function(e){var t=this,r=e.filter((function(e){return Ni(t.g,e)}));return r.length?new ji(r[0],r):this.h.create(e)},zi.prototype.create=function(e){var t=[];t=function(e,t){var r=si(ii(t),e.map((function(e){return oi(e)})));return r?e.filter((function(e){return r==oi(e)})):[]}(e,this.i);var r=e.filter((function(e){return e.primary}));for((e=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(t=t.length?t:r.length?r:e,this.j)).length&&(t=e),this.g&&((e=Oi(t,this.g)).length&&(t=e)),this.h&&((e=function(e,t){return e.filter((function(e){return!!e.audio&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(t,this.h)).length&&(t=e)),e=new ji(t[0]),r=(t=c(t)).next();!r.done;r=t.next())r=r.value,Ni(e.h,r)&&e.add(r);return e};var $i=0,Hi=1;function Ki(e,t){var r={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==e.maxAttempts?r.maxAttempts:e.maxAttempts,this.j=null==e.baseDelay?r.baseDelay:e.baseDelay,this.s=null==e.fuzzFactor?r.fuzzFactor:e.fuzzFactor,this.m=null==e.backoffFactor?r.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function Gi(e){var t,r;return D((function(n){if(1==n.g){if(e.g>=e.l){if(!e.i)throw new ce(2,7,1010);e.g=1,e.h=e.j}return t=e.g,e.g++,0==t?n.return():(r=e.h*(1+(2*Math.random()-1)*e.s),E(n,new Promise((function(e){new ze(e).T(r/1e3)})),2))}e.h*=e.m,_(n)}))}function Zi(e,t){this.promise=e,this.i=t,this.g=!1}function qi(e){return new Zi(Promise.reject(e),(function(){return Promise.resolve()}))}function Xi(){var e=Promise.reject(new ce(2,7,7001));return e.catch((function(){})),new Zi(e,(function(){return Promise.resolve()}))}function Yi(e){return new Zi(Promise.resolve(e),(function(){return Promise.resolve()}))}function Qi(e){return new Zi(e,(function(){return e.catch((function(){}))}))}function Ji(e){return new Zi(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function ea(t,r){for(var n in r=void 0===r?{}:r)Object.defineProperty(this,n,{value:r[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function ta(){this.oc=new Dn,this.nc=this}function ra(e){var t=new Set;return function e(r){switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return r;default:if(!r||r.buffer&&r.buffer.constructor==ArrayBuffer)return r;if(t.has(r))return null;var n=r.constructor==Array;if(r.constructor!=Object&&!n)return null;t.add(r);var i,a=n?[]:{};for(i in r)a[i]=e(r[i]);return n&&(a.length=r.length),a}}(e)}function na(e){var t,r={};for(t in e)r[t]=e[t];return r}function ia(){this.g=[]}function aa(e,t){e.g.push(t.finally((function(){ct(e.g,t)})))}function oa(e){ta.call(this),this.i=!1,this.l=new ia,this.g=new Set,this.h=new Set,this.j=e||null,this.m=!1}function sa(e,t,r,n){r=r||fa;var i=pa[e];(!i||r>=i.priority)&&(pa[e]={priority:r,qf:t,sf:void 0!==n&&n})}function la(e,t,r){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,streamDataCallback:void 0===r?null:r}}function ua(){this.g=0}function ca(e,t,r){Zi.call(this,e,t),this.h=r}Zi.prototype.abort=function(){return this.g=!0,this.i()},Zi.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},Zi.prototype.aa=function(e,t){function r(r){return function(s){if(i.g&&r)a.reject(o);else{var l=r?e:t;l?n=function(e,t,r){try{var n=e(t);return n&&n.promise&&n.abort?(r.resolve(n.promise),function(){return n.abort()}):(r.resolve(n),function(){return Promise.resolve(n).then((function(){}),(function(){}))})}catch(i){return r.reject(i),function(){return Promise.resolve()}}}(l,s,a):(r?a.resolve:a.reject)(s)}}}function n(){return a.reject(o),i.abort()}var i=this,a=new hn,o=new ce(2,7,7001);return this.promise.then(r(!0),r(!1)),new Zi(a,(function(){return n()}))},z("shaka.util.AbortableOperation",Zi),Zi.prototype.chain=Zi.prototype.aa,Zi.prototype.finally=Zi.prototype.finally,Zi.all=Ji,Zi.prototype.abort=Zi.prototype.abort,Zi.notAbortable=Qi,Zi.completed=Yi,Zi.aborted=Xi,Zi.failed=qi,ea.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ea.prototype.stopImmediatePropagation=function(){this.g=!0},ea.prototype.stopPropagation=function(){},z("shaka.util.FakeEvent",ea),ta.prototype.addEventListener=function(e,t){this.oc.push(e,t)},ta.prototype.removeEventListener=function(e,t){this.oc.remove(e,t)},ta.prototype.dispatchEvent=function(e){var t=this.oc.get(e.type)||[],r=this.oc.get("All");for(r&&(t=t.concat(r)),r=(t=c(t)).next();!r.done;r=t.next()){r=r.value,e.target=this.nc,e.currentTarget=this.nc;try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(n){}if(e.g)break}return e.defaultPrevented},ia.prototype.destroy=function(){for(var e=[],t=c(this.g),r=t.next();!r.done;r=t.next())(r=r.value).promise.catch((function(){})),e.push(r.abort());return this.g=[],Promise.all(e)},v(oa,ta),(n=oa.prototype).Jd=function(e){this.m=e},n.tf=function(e){this.g.add(e)},n.Kf=function(e){this.g.delete(e)},n.Ee=function(){this.g.clear()},n.uf=function(e){this.h.add(e)},n.Lf=function(e){this.h.delete(e)},n.Fe=function(){this.h.clear()},n.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),this.l.destroy()},n.request=function(e,t){var r=this,n=new ua;if(this.i){var i=Promise.reject(new ce(2,7,7001));return i.catch((function(){})),new ca(i,(function(){return Promise.resolve()}),n)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?ra(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},t.uris=ra(t.uris);var a=(i=function(e,t,r){for(var n=Yi(void 0),i={},a=(e=c(e.g)).next();!a.done;i={Uc:i.Uc},a=e.next())i.Uc=a.value,n=n.aa(function(e){return function(){return r.body&&(r.body=oe(r.body)),e.Uc(t,r)}}(i));return n.aa(void 0,(function(e){if(e instanceof ce&&7001==e.code)throw e;throw new ce(2,1,1006,e)}))}(this,e,t)).aa((function(){return function e(t,r,n,i,a,o,s){t.m&&(n.uris[a]=n.uris[a].replace("http://","https://"));var l=new Gr(n.uris[a]),u=l.Da,c=!1;u||(u=(u=location.protocol).slice(0,-1),Zr(l,u),n.uris[a]=l.toString()),u=u.toLowerCase();var d=(u=pa[u])?u.qf:null;if(!d)return qi(new ce(2,1,1e3,l));var f,p=u.sf,h=null,g=null,m=!1;return Qi(Gi(i)).aa((function(){if(t.i)return Xi();f=Date.now();var e=d(n.uris[a],n,r,(function(e,n,i){h&&h.stop(),g&&g.T(o/1e3),t.j&&r==da&&(t.j(e,n),c=!0,s.g=i)}));if(!p)return e;var i=n.retryParameters.connectionTimeout;i&&(h=new ze((function(){m=!0,e.abort()}))).T(i/1e3);var o=n.retryParameters.stallTimeout;return o&&(g=new ze((function(){m=!0,e.abort()}))),e})).aa((function(e){return h&&h.stop(),g&&g.stop(),void 0==e.timeMs&&(e.timeMs=Date.now()-f),{response:e,ff:c}}),(function(l){if(h&&h.stop(),g&&g.stop(),t.i)return Xi();if(m&&(l=new ce(1,1,1003,n.uris[a],r)),l instanceof ce){if(7001==l.code)throw l;if(1010==l.code)throw o;if(1==l.severity){var u=new ea("retry",{error:l});return t.dispatchEvent(u),a=(a+1)%n.uris.length,e(t,r,n,i,a,l,s)}}throw l}))}(r,e,t,new Ki(t.retryParameters,!1),0,null,n)})),o=a.aa((function(t){return function(e,t,r){for(var n=Yi(void 0),i={},a=(e=c(e.h)).next();!a.done;i={Vc:i.Vc},a=e.next())i.Vc=a.value,n=n.aa(function(e){return function(){var n=r.response;return n.data&&(n.data=oe(n.data)),e.Vc(t,n)}}(i));return n.aa((function(){return r}),(function(e){var t=2;if(e instanceof ce){if(7001==e.code)throw e;t=e.severity}throw new ce(t,1,1007,e)}))}(r,e,t)})),s=Date.now(),l=0;i.promise.then((function(){l=Date.now()-s}),(function(){}));var u=0;a.promise.then((function(){u=Date.now()}),(function(){}));var d=o.aa((function(t){var n=Date.now()-u,i=t.response;return i.timeMs+=l,i.timeMs+=n,t.ff||!r.j||i.fromCache||e!=da||r.j(i.timeMs,i.data.byteLength),i}),(function(e){throw e&&(e.severity=2),e}));return i=new ca(d.promise,(function(){return d.abort()}),n),aa(this.l,i),i},z("shaka.net.NetworkingEngine",oa),oa.prototype.request=oa.prototype.request,oa.prototype.destroy=oa.prototype.destroy,oa.makeRequest=la,oa.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},oa.prototype.clearAllResponseFilters=oa.prototype.Fe,oa.prototype.unregisterResponseFilter=oa.prototype.Lf,oa.prototype.registerResponseFilter=oa.prototype.uf,oa.prototype.clearAllRequestFilters=oa.prototype.Ee,oa.prototype.unregisterRequestFilter=oa.prototype.Kf,oa.prototype.registerRequestFilter=oa.prototype.tf,oa.unregisterScheme=function(e){delete pa[e]},oa.registerScheme=sa,oa.prototype.setForceHTTPS=oa.prototype.Jd,oa.NumBytesRemainingClass=ua,v(ca,Zi),oa.PendingRequest=ca;var da=1;oa.RequestType={MANIFEST:0,SEGMENT:da,LICENSE:2,APP:3,TIMING:4};var fa=3;oa.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:fa};var pa={};function ha(){}function ga(e){return new Gr(e=ge(e)).Ga}function ma(e,t,r){function n(e){le(a).setUint32(o,e.byteLength,!0),o+=4,a.set(se(e),o),o+=e.byteLength}if(!r||!r.byteLength)throw new ce(2,6,6015);var i;i="string"==typeof t?ve(t,!0):t,e=ve(e=ge(e),!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+r.byteLength),o=0;return n(e),n(i),n(r),a}function va(e){for(var t=new Map,r=c(Object.keys(e)),n=r.next();!n.done;n=r.next())n=n.value,t.set(n,e[n]);return t}function ya(e){var t={};return e.forEach((function(e,r){t[r]=e})),t}function ba(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var r=c(e),n=r.next();!n.done;n=r.next()){var i=c(n.value);if(n=i.next().value,i=i.next().value,!t.has(n))return!1;if((n=t.get(n))!=i||void 0==n)return!1}return!0}function ka(e,t){var r=this;t=void 0===t?1:t,this.C=e,this.u=new Set,this.g=this.m=null,this.oa=this.L=!1,this.H=0,this.i=null,this.h=new jn,this.j=new Map,this.D=[],this.s=new hn,this.o=null,this.l=function(t){r.s.reject(t),e.onError(t)},this.pa=new Map,this.X=new Map,this.S=new ze((function(){return function(e){var t=e.pa,r=e.X;r.clear(),t.forEach((function(e,t){return r.set(t,e)})),(t=Array.from(r.values())).length&&t.every((function(e){return"expired"==e}))&&e.l(new ce(2,6,6014)),e.C.Dc(ya(r))}(r)})),this.F=!1,this.I=[],this.N=!1,this.ca=new ze((function(){!function(e){e.j.forEach((function(t,r){var n=t.xd,i=r.expiration;isNaN(i)&&(i=1/0),i!=n&&(e.C.onExpirationUpdated(r.sessionId,i),t.xd=i)}))}(r)})).Ba(t),this.s.catch((function(){})),this.J=new In((function(){return function(e){return D((function(t){switch(t.g){case 1:return e.h.release(),e.h=null,e.s.reject(),e.ca.stop(),e.ca=null,e.S.stop(),e.S=null,E(t,ja(e),2);case 2:if(!e.g){t.v(3);break}return S(t,4),E(t,e.g.setMediaKeys(null),6);case 6:w(t,5);break;case 4:x(t);case 5:e.g=null;case 3:e.i=null,e.u.clear(),e.m=null,e.D=[],e.o=null,e.l=function(){},e.C=null,_(t)}}))}(r)}))}function Ea(e,t,r,n){return e.D=r,e.F=0<r.length,_a(e,t,!!n)}function _a(t,r,n){var i,a,o,s,l,u,f,p,h,g,m,v,y;return D((function(b){if(1==b.g){if(i=function(t){if(0==(t=va(t.o.clearKeys)).size)return null;var r=[],n=[];t.forEach((function(e,t){var i=nt(t),a=nt(e);i={kty:"oct",kid:tt(i,!1),k:tt(a,!1)},r.push(i),n.push(i.kid)})),t=JSON.stringify({keys:r});var i=JSON.stringify({kids:n});return i=[{initData:se(me(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,sessionType:"",initData:i,keyIds:new Set(n)}}(t))for(a=c(r),o=a.next();!o.done;o=a.next())(s=o.value).video&&(s.video.drmInfos=[i]),s.audio&&(s.audio.drmInfos=[i]);for((l=r.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||(u=va(t.o.servers),function(e,t){var r=[];t.forEach((function(e,t){r.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var n=c(e),i=n.next();!i.done;i=n.next())(i=i.value).video&&(i.video.drmInfos=r),i.audio&&(i.audio.drmInfos=r)}(r,u)),f=c(r),o=f.next();!o.done;o=f.next())for(p=o.value,h=Ua(p),g=c(h),m=g.next();!m.done;m=g.next())za(m.value,va(t.o.servers),va(t.o.advanced||{}));return n?E(b,mi(r,t.F),2):(v=function(e,t){for(var r=new Set,n=c(t),i=n.next();!i.done;i=n.next()){var a=c(Ua(i.value));for(i=a.next();!i.done;i=a.next())r.add(i.value)}for(n=c(r),i=n.next();!i.done;i=n.next())za(i.value,va(e.o.servers),va(e.o.advanced||{}));a=e.F?"required":"optional";var o=e.F?["persistent-license"]:["temporary"];for(n=new Map,r=c(r),i=r.next();!i.done;i=r.next())i=i.value,n.set(i.keySystem,{initDataTypes:["cenc"],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(r=c(t),i=r.next();!i.done;i=r.next())for(i=i.value,a=c([i.audio,i.video]),i=a.next();!i.done;i=a.next())if(o=i.value){var s=Aa(o),l=null;"ac-3"==o.codecs.toLowerCase()&&He()&&(l=Aa(o,"ec-3"));var u=c(o.drmInfos);for(i=u.next();!i.done;i=u.next()){var f=i.value;(i=n.get(f.keySystem)).drmInfos.push(f),f.initData&&f.initData.length&&(i.initDataTypes=[].concat(d(new Set(f.initData.map((function(e){return e.initDataType})))))),f.distinctiveIdentifierRequired&&(i.distinctiveIdentifier="required"),f.persistentStateRequired&&(i.persistentState="required"),f.sessionType&&(i.sessionTypes=[f.sessionType]);var p={robustness:(f="audio"==o.type?f.audioRobustness:f.videoRobustness)||"",contentType:s};"audio"==o.type?i.audioCapabilities.push(p):i.videoCapabilities.push(p),l&&(f={robustness:f||"",contentType:l},"audio"==o.type?i.audioCapabilities.push(f):i.videoCapabilities.push(f))}}return n}(t,r),b.v(2))}return l||Object.keys(t.o.servers).length?(y=Ma(t,v,r,n),b.return(l?y:y.catch((function(){})))):(t.L=!0,b.return(Promise.resolve()))}))}function Sa(e){return D((function(t){if(1==t.g)return e.m&&e.i&&e.i.serverCertificate&&e.i.serverCertificate.length?(S(t,3),E(t,e.m.setServerCertificate(e.i.serverCertificate),5)):t.v(0);if(3!=t.g)return w(t,0);throw new ce(2,6,6004,x(t).message)}))}function Ta(e){for(var t=(e.i?e.i.initData:[])||[],r=c(t),n=r.next();!n.done;n=r.next())wa(e,(n=n.value).initDataType,n.initData);for(n=(r=c(e.D)).next();!n.done;n=r.next())Ia(e,n.value);return t.length||e.D.length||e.s.resolve(),e.s}function wa(e,t,r){for(var n=e.j.values(),i=(n=c(n)).next();!i.done;i=n.next())if(ie(r,i.value.initData)&&!qe("Tizen 2"))return;!function(e,t,r){var n=e.i.sessionType;try{var i=e.m.createSession(n)}catch(a){return void e.l(new ce(2,6,6005,a.message))}e.h.B(i,"message",(function(t){e.g&&e.o.delayLicenseRequestUntilPlayed&&e.g.paused&&!e.N?e.I.push(t):Da(e,t)})),e.h.B(i,"keystatuseschange",(function(t){return La(e,t)})),e.j.set(i,{initData:r,loaded:!1,xd:1/0,Ka:null,type:n});try{r=e.o.initDataTransform(r,t,e.i)}catch(a){return t=a,a instanceof ce||(t=new ce(2,6,6016,a)),void e.l(t)}e.o.logLicenseExchange&&tt(r),i.generateRequest(t,r).catch((function(t){if(!e.J.g){e.j.delete(i);var r=t.errorCode;if(r&&r.systemCode){var n=r.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}e.l(new ce(2,6,6006,t.message,t,n))}}))}(e,t,r)}function xa(e){return e?e.keySystem:""}function Oa(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}function Pa(e,t){if(navigator.userAgent.match(/Edge\//))return!0;if(t=t.toLowerCase(),He()&&t.includes('codecs="ac-3"')){var r=t.replace("ac-3","ec-3");return e.u.has(t)||e.u.has(r)}return e.u.has(t)}function Ca(e){return e=ee(e=e.j.keys(),(function(e){return e.sessionId})),Array.from(e)}function Aa(e,t){var r=_n(e.mimeType,t||e.codecs);return bn(r)?En(e.type,r):r}function Ma(e,t,r,n){var i,a,o,s,l,u,d,f,p,h,g,m,v;return D((function(y){switch(y.g){case 1:if(i=new Map,n){e:{for(var b=c(r),k=b.next();!k.done;k=b.next()){var _=c(Ua(k.value));for(k=_.next();!k.done;k=_.next()){var T=k.value;i.has(T.keySystem)||i.set(T.keySystem,[]),i.get(T.keySystem).push(T)}}if(1==i.size&&i.has(""))throw new ce(2,6,6e3);for(_=(b=c([!0,!1])).next();!_.done;_=b.next())for(_=_.value,k=(T=c(r)).next();!k.done;k=T.next()){var O=c(k.value.decodingInfos);for(k=O.next();!k.done;k=O.next()){var P=k.value;if(P.supported&&P.keySystemAccess){var C=c(k=i.get(P.keySystemAccess.keySystem));for(k=C.next();!k.done;k=C.next())if(!!k.value.licenseServerUri==_){a=P.keySystemAccess;break e}}}}a=null}y.v(2);break}return E(y,function(e,t){var r,n,i,a,o,s,l,u,d,f,p;return D((function(h){switch(h.g){case 1:if(1==t.size&&t.has(""))throw new ce(2,6,6e3);for(n=c(t.values()),i=n.next();!i.done;i=n.next())0==(a=i.value).audioCapabilities.length&&delete a.audioCapabilities,0==a.videoCapabilities.length&&delete a.videoCapabilities;o=c([!0,!1]),s=o.next();case 2:if(s.done){h.v(4);break}l=s.value,u=c(t.keys()),d=u.next();case 5:if(d.done){s=o.next(),h.v(2);break}if(f=d.value,p=t.get(f),p.drmInfos.some((function(e){return!!e.licenseServerUri}))!=l){h.v(6);break}return S(h,8),E(h,navigator.requestMediaKeySystemAccess(f,[p]),10);case 10:return r=h.h,h.return(r);case 8:x(h);case 9:Rn(e.J);case 6:d=u.next(),h.v(5);break;case 4:return h.return(r)}}))}(e,t),3);case 3:a=y.h;case 2:if(!(o=a))throw new ce(2,6,6001);for(Rn(e.J),S(y,4),e.u.clear(),s=o.getConfiguration(),l=s.audioCapabilities||[],u=s.videoCapabilities||[],d=c(l),f=d.next();!f.done;f=d.next())p=f.value,e.u.add(p.contentType.toLowerCase());for(h=c(u),f=h.next();!f.done;f=h.next())g=f.value,e.u.add(g.contentType.toLowerCase());if(n){for(_=o.keySystem,Fa(b=i.get(o.keySystem),T=[],k=[],O=[],P=new Set),C=e.F?"persistent-license":"temporary",_={keySystem:_,licenseServerUri:T[0],distinctiveIdentifierRequired:b[0].distinctiveIdentifierRequired,persistentStateRequired:b[0].persistentStateRequired,sessionType:b[0].sessionType||C,audioRobustness:b[0].audioRobustness||"",videoRobustness:b[0].videoRobustness||"",serverCertificate:k[0],initData:O,keyIds:P},T=(b=c(b)).next();!T.done;T=b.next())(T=T.value).distinctiveIdentifierRequired&&(_.distinctiveIdentifierRequired=T.distinctiveIdentifierRequired),T.persistentStateRequired&&(_.persistentStateRequired=T.persistentStateRequired);b=_}else b=o.keySystem,_=t.get(o.keySystem),T=[],k=[],O=[],P=new Set,Fa(_.drmInfos,T,k,O,P),b={keySystem:b,licenseServerUri:T[0],distinctiveIdentifierRequired:"required"==_.distinctiveIdentifier,persistentStateRequired:"required"==_.persistentState,sessionType:_.sessionTypes[0]||"temporary",audioRobustness:(_.audioCapabilities?_.audioCapabilities[0].robustness:"")||"",videoRobustness:(_.videoCapabilities?_.videoCapabilities[0].robustness:"")||"",serverCertificate:k[0],initData:O,keyIds:P};if(e.i=b,!e.i.licenseServerUri)throw new ce(2,6,6012,e.i.keySystem);return E(y,o.createMediaKeys(),6);case 6:return m=y.h,Rn(e.J),e.m=m,e.L=!0,E(y,Sa(e),7);case 7:Rn(e.J),w(y,0);break;case 4:if(v=x(y),Rn(e.J,v),e.i=null,e.u.clear(),v instanceof ce)throw v;throw new ce(2,6,6002,v.message)}}))}function Ia(e,t){var r,n,a,o,s;return D((function(l){switch(l.g){case 1:try{r=e.m.createSession("persistent-license")}catch(i){return n=new ce(2,6,6005,i.message),e.l(n),l.return(Promise.reject(n))}return e.h.B(r,"message",(function(t){e.g&&e.o.delayLicenseRequestUntilPlayed&&e.g.paused&&!e.N?e.I.push(t):Da(e,t)})),e.h.B(r,"keystatuseschange",(function(t){return La(e,t)})),a={initData:null,loaded:!1,xd:1/0,Ka:null,type:"persistent-license"},e.j.set(r,a),S(l,2),E(l,r.load(t),4);case 4:return o=l.h,Rn(e.J),o?(a.loaded=!0,Ba(e)&&e.s.resolve(),l.return(r)):(e.j.delete(r),e.l(new ce(2,6,6013)),l.return(Promise.resolve()));case 2:s=x(l),Rn(e.J,s),e.j.delete(r),e.l(new ce(2,6,6005,s.message));case 3:return l.return(Promise.resolve())}}))}function Ra(e,t,r){return"skd"==t&&(t=r.serverCertificate,e=ma(e,r=ga(e),t)),e}function Da(e,t){var r,n,i,a,o,s,l,u,d,f,p,h;D((function(g){switch(g.g){case 1:return r=t.target,e.o.logLicenseExchange&&tt(t.message),n=e.j.get(r),i=e.i.licenseServerUri,a=e.o.advanced[e.i.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=la([i],e.o.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=r.sessionId,Oa(e.i.keySystem)&&function(e){var t=he(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){for(var r=c((t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader")),n=r.next();!n.done;n=r.next())n=n.value,e.headers[n.getElementsByTagName("name")[0].textContent]=n.getElementsByTagName("value")[0].textContent;e.body=rt(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(o),s=Date.now(),S(g,2),E(g,e.C.Bb.request(2,o).promise,4);case 4:l=g.h,w(g,3);break;case 2:return u=x(g),d=new ce(2,6,6007,u),e.l(d),n&&n.Ka&&n.Ka.reject(d),g.return();case 3:return e.J.g?g.return():(e.H+=(Date.now()-s)/1e3,e.o.logLicenseExchange&&tt(l.data),S(g,5),E(g,r.update(l.data),7));case 7:w(g,6);break;case 5:return f=x(g),p=new ce(2,6,6008,f.message),e.l(p),n&&n.Ka&&n.Ka.reject(p),g.return();case 6:h=new ea("drmsessionupdate"),e.C.onEvent(h),n&&(n.Ka&&n.Ka.resolve(),new ze((function(){n.loaded=!0,Ba(e)&&e.s.resolve()})).T(Wa)),_(g)}}))}function La(e,t){var r=t.target,n=e.j.get(r),i=!1;r.keyStatuses.forEach((function(t,r){if("string"==typeof r){var a=r;r=t,t=a}if(Oa(e.i.keySystem)&&16==r.byteLength&&navigator.userAgent.match(/Edge?\//)){var o=(a=le(r)).getUint32(0,!0),s=a.getUint16(4,!0),l=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,l,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(i=!0),a=it(r),e.pa.set(a,t)}));var a=r.expiration-Date.now();(0>a||i&&1e3>a)&&n&&!n.Ka&&(e.j.delete(r),r.close().catch((function(){}))),Ba(e)&&(e.s.resolve(),e.S.T($a))}function ja(e){var t;return D((function(r){return t=Array.from(e.j.entries()),e.j.clear(),E(r,Promise.all(t.map((function(t){var r=(t=c(t)).next().value,n=t.next().value;return D((function(t){return 1==t.g?(S(t,2),e.oa||e.D.includes(r.sessionId)||"persistent-license"!==n.type?E(t,function(e){var t;return D((function(r){return 1==r.g?(t=new Promise((function(e,t){new ze(t).T(Va)})),S(r,2),E(r,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=r.g?w(r,0):(x(r),void _(r))}))}(r),5):E(t,r.remove(),5)):2!=t.g?w(t,0):(x(t),void _(t))}))}))),0)}))}function Na(e,t){if(!e.length)return t;if(!t.length)return e;for(var r=[],n=c(e),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=c(t),o=a.next();!o.done;o=a.next())if(o=o.value,i.keySystem==o.keySystem){a=(a=(a=[]).concat(i.initData||[])).concat(o.initData||[]);var s=i.keyIds&&o.keyIds?new Set([].concat(d(i.keyIds),d(o.keyIds))):i.keyIds||o.keyIds;r.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,initData:a,keyIds:s});break}}return r}function Ua(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function Ba(e){return function(e,t){for(var r=c(e),n=r.next();!n.done;n=r.next())if(!t(n.value))return!1;return!0}(e=e.j.values(),(function(e){return e.loaded}))}function Fa(e,t,r,n,i){for(var a={},o=(e=c(e)).next();!o.done;a={xa:a.xa},o=e.next()){if(a.xa=o.value,t.includes(a.xa.licenseServerUri)||t.push(a.xa.licenseServerUri),a.xa.serverCertificate&&(r.some(function(e){return function(t){return ie(t,e.xa.serverCertificate)}}(a))||r.push(a.xa.serverCertificate)),a.xa.initData){o={};for(var s=c(a.xa.initData),l=s.next();!l.done;o={fc:o.fc},l=s.next())o.fc=l.value,n.some(function(e){return function(t){var r=e.fc;return!(!t.keyId||t.keyId!=r.keyId)||t.initDataType==r.initDataType&&ie(t.initData,r.initData)}}(o))||n.push(o.fc)}if(a.xa.keyIds)for(s=(o=c(a.xa.keyIds)).next();!s.done;s=o.next())i.add(s.value)}}function za(t,r,n){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(r.size&&(r=r.get(t.keySystem)||"",t.licenseServerUri=r),t.keyIds||(t.keyIds=new Set),(n=n.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=n.persistentStateRequired),t.videoRobustness||(t.videoRobustness=n.videoRobustness),t.audioRobustness||(t.audioRobustness=n.audioRobustness),t.serverCertificate||(t.serverCertificate=n.serverCertificate),n.sessionType&&(t.sessionType=n.sessionType)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}z("shaka.util.FairPlayUtils",ha),ha.initDataTransform=ma,ha.defaultGetContentId=ga,(n=ka.prototype).destroy=function(){return this.J.destroy()},n.configure=function(e){this.o=e},n.Mb=function(e){var t,r=this;return D((function(n){if(1==n.g)return r.m?(r.g=e,r.h.ua(r.g,"play",(function(){for(var e=c(r.I),t=e.next();!t.done;t=e.next())Da(r,t.value);r.N=!0,r.I=[]})),"webkitCurrentPlaybackTargetIsWireless"in r.g&&r.h.B(r.g,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return ja(r)})),E(n,r.g.setMediaKeys(r.m).catch((function(e){return Promise.reject(new ce(2,6,6003,e.message))})),2)):(r.h.ua(e,"encrypted",(function(){r.l(new ce(2,6,6010))})),n.return());Rn(r.J),Ta(r),r.i.initData.length||r.D.length||(t=function(e){return wa(r,e.initDataType,se(e.initData))},r.h.B(r.g,"encrypted",t)),_(n)}))},n.Qb=function(){for(var e=1/0,t=this.j.keys(),r=(t=c(t)).next();!r.done;r=t.next())r=r.value,isNaN(r.expiration)||(e=Math.min(e,r.expiration));return e},n.xc=function(){return ya(this.X)};var Va=1,Wa=5,$a=.5,Ha=new de((function(){return oe(new Uint8Array([0]))}));function Ka(){}function Ga(e,t,r,n){var i,a,o,s;return D((function(l){if(1==l.g)return n&&(i=Xa[n.toLowerCase()])?l.return(i):(a=qa(e))&&(o=Ya[a])?l.return(o):n?l.v(2):E(l,Za(e,t,r),3);if(2!=l.g&&(n=l.h)&&(s=Xa[n]))return l.return(s);throw new ce(2,4,4e3,e)}))}function Za(e,t,r){var n,i,a;return D((function(o){return 1==o.g?((n=la([e],r)).method="HEAD",E(o,t.request(0,n).promise,2)):(i=o.h,a=i.headers["content-type"],o.return(a?a.toLowerCase().split(";").shift():""))}))}function qa(e){return 1==(e=new Gr(e).wa.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}z("shaka.media.ManifestParser",Ka),Ka.unregisterParserByMime=function(e){delete Xa[e]},Ka.registerParserByMime=function(e,t){Xa[e]=t},Ka.registerParserByExtension=function(e,t){Ya[e]=t};var Xa={},Ya={};function Qa(e,t,r){this.ma=e,this.ja=t,this.da=r}function Ja(e,t,r,n,i,a,o,s,l,u){u=void 0===u?[]:u,this.startTime=e,this.endTime=t,this.i=r,this.ja=n,this.da=i,this.h=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=l,this.g=u}function eo(e,t,r){this.j=e,this.Gc=t,this.m=this.l=1/0,this.g=1,this.h=this.i=null,this.s=0,this.u=!0,this.D=0,this.F=void 0===r||r,this.H=0}function to(e,t){this.j=e,this.m=no(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.s=t,this.i=function(){}}function ro(e){this.g=e}function no(e){if(e.g.paused||0==e.g.playbackRate||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime;for(var r=(e=c(Hr(e.g.buffered))).next();!r.done;r=e.next())if(!(t<(r=r.value).start-.1||t>r.end-.5)){t=!0;break e}t=!1}return t}function io(e,t,r,n,i){var a=this;this.g=e,this.D=t,this.o=r,this.u=i,this.h=new jn,this.s=!1,this.F=e.readyState,this.j=!1,this.i=n,this.m=!1,this.h.B(e,"waiting",(function(){return ao(a)})),this.l=new ze((function(){ao(a)})).Ba(.25)}function ao(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.s)return}else e.s=!1;if(!e.g.paused||0==e.g.currentTime){var t;if(e.g.readyState!=e.F&&(e.j=!1,e.F=e.g.readyState),!(t=!e.i)){var r=(t=e.i).j,n=no(r),i=r.g.currentTime,a=Date.now()/1e3;t.g==i&&t.m==n||(t.l=a,t.g=i,t.m=n,t.h=!1),(n=(i=a-t.l)>=t.s&&n&&!t.h)&&(t.i(t.g,i),t.h=!0,t.g=r.g.currentTime),t=!n}if(t){var o=e.o.smallGapLimit;if(i=e.g.currentTime,!(null==(r=function(e,t,r){return!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)?null:0<=(e=Hr(e).findIndex((function(e,n,i){return e.start>t&&(0==n||i[n-1].end-t<=r)})))?e:null}(t=e.g.buffered,i,e.o.gapDetectionThreshold))||0==r&&!e.m||(n=t.start(r),n>=e.D.Qa()))){o=(a=n-i)<=o;var s=!1;.001>a||(o||e.j||(e.j=!0,(i=new ea("largegap",{currentTime:i,gapSize:a})).cancelable=!0,e.u(i),e.o.jumpLargeGaps&&!i.defaultPrevented&&(s=!0)),!o&&!s)||(0!=r&&t.end(r-1),e.g.currentTime=n)}}}}}function oo(e,t,r,n){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?n():(t=so.value().get(t),r.ua(e,t,n))}Qa.prototype.Tb=function(){return this.ja},Qa.prototype.Pb=function(){return this.da},z("shaka.media.InitSegmentReference",Qa),Qa.prototype.getEndByte=Qa.prototype.Pb,Qa.prototype.getStartByte=Qa.prototype.Tb,(n=Ja.prototype).ma=function(){return this.i()},n.$e=function(){return this.startTime},n.Ne=function(){return this.endTime},n.Tb=function(){return this.ja},n.Pb=function(){return this.da},z("shaka.media.SegmentReference",Ja),Ja.prototype.getEndByte=Ja.prototype.Pb,Ja.prototype.getStartByte=Ja.prototype.Tb,Ja.prototype.getEndTime=Ja.prototype.Ne,Ja.prototype.getStartTime=Ja.prototype.$e,Ja.prototype.getUris=Ja.prototype.ma,(n=eo.prototype).getDuration=function(){return this.l},n.Te=function(){return this.g},n.Ja=function(e){this.l=e},n.Ze=function(){return this.j},n.pe=function(e){this.s=e},n.ac=function(e){this.u=e},n.Md=function(e){this.m=e},n.Ff=function(e){this.Gc=e},n.Me=function(){return this.Gc},n.Cb=function(e){if(0!=e.length){var t=e[e.length-1].endTime;this.vd(e[0].startTime),this.g=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.g),this.h=Math.max(this.h,t),null!=this.j&&this.F&&(this.j=(Date.now()+this.s)/1e3-this.h-this.g)}},n.vd=function(e){this.i=null==this.i?e:Math.min(this.i,e)},n.ud=function(e){this.g=Math.max(this.g,e)},n.offset=function(e){null!=this.i&&(this.i+=e),null!=this.h&&(this.h+=e)},n.Y=function(){return 1/0==this.l&&!this.u},n.ib=function(){return 1/0!=this.l&&!this.u},n.Ya=function(){return Math.max(this.D,this.fb()-this.m)},n.qe=function(e){this.D=e},n.fb=function(){return this.Y()||this.ib()?Math.min(Math.max(0,(Date.now()+this.s)/1e3-this.g-this.j)+this.H,this.l):this.l},n.Sb=function(e){var t=Math.max(this.i,this.D);return 1/0==this.m?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.fb()-this.m+e,this.Qa()))},n.xb=function(){return this.Sb(0)},n.Qa=function(){return Math.max(0,this.fb()-(this.Y()||this.ib()?this.Gc:0))},n.te=function(){return!(null==this.j||null!=this.h&&this.F)},n.oe=function(e){this.H=e},z("shaka.media.PresentationTimeline",eo),eo.prototype.setAvailabilityTimeOffset=eo.prototype.oe,eo.prototype.usingPresentationStartTime=eo.prototype.te,eo.prototype.getSeekRangeEnd=eo.prototype.Qa,eo.prototype.getSeekRangeStart=eo.prototype.xb,eo.prototype.getSafeSeekRangeStart=eo.prototype.Sb,eo.prototype.getSegmentAvailabilityEnd=eo.prototype.fb,eo.prototype.setUserSeekStart=eo.prototype.qe,eo.prototype.getSegmentAvailabilityStart=eo.prototype.Ya,eo.prototype.isInProgress=eo.prototype.ib,eo.prototype.isLive=eo.prototype.Y,eo.prototype.offset=eo.prototype.offset,eo.prototype.notifyMaxSegmentDuration=eo.prototype.ud,eo.prototype.notifyMinSegmentStartTime=eo.prototype.vd,eo.prototype.notifySegments=eo.prototype.Cb,eo.prototype.getDelay=eo.prototype.Me,eo.prototype.setDelay=eo.prototype.Ff,eo.prototype.setSegmentAvailabilityDuration=eo.prototype.Md,eo.prototype.setStatic=eo.prototype.ac,eo.prototype.setClockOffset=eo.prototype.pe,eo.prototype.getPresentationStartTime=eo.prototype.Ze,eo.prototype.setDuration=eo.prototype.Ja,eo.prototype.getMaxSegmentDuration=eo.prototype.Te,eo.prototype.getDuration=eo.prototype.getDuration,to.prototype.release=function(){this.j=null,this.i=function(){}},io.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.l&&(this.l.stop(),this.l=null),this.i&&(this.i.release(),this.i=null),this.g=this.D=this.u=null},io.prototype.yd=function(){this.m=!0,ao(this)};var so=new de((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function lo(e,t,r){var n=this;this.g=e,this.l=t,this.j=r,this.m=!1,this.h=new jn,this.i=new ho(e),oo(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){fo(n,n.j)}))}function uo(e){return e.m?e.g.currentTime:e.j}function co(e,t){0<e.g.readyState?go(e.i,t):oo(e.g,HTMLMediaElement.HAVE_METADATA,e.h,(function(){fo(e,e.j)}))}function fo(e,t){.001>Math.abs(e.g.currentTime-t)?po(e):(e.h.ua(e.g,"seeking",(function(){po(e)})),go(e.i,0==e.g.currentTime?t:e.g.currentTime))}function po(e){e.m=!0,e.h.B(e.g,"seeking",(function(){return e.l()}))}function ho(e){var t=this;this.h=e,this.m=10,this.l=this.j=this.i=0,this.g=new ze((function(){0>=t.i||t.h.currentTime!=t.j?t.g.stop():(t.h.currentTime=t.l,t.i--)}))}function go(e,t){e.j=e.h.currentTime,e.l=t,e.i=e.m,e.h.currentTime=t,e.g.Ba(.1)}function mo(e){var t=this;this.g=e,this.j=!1,this.i=null,this.h=new jn,oo(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.h,(function(){null==t.i?t.j=!0:(t.h.ua(t.g,"seeking",(function(){t.j=!0})),t.g.currentTime=Math.max(0,t.g.currentTime+t.i))}))}function vo(e,t,r,n,i,a){var o=this;this.i=e,this.g=t.presentationTimeline,this.H=t.minBufferTime||0,this.o=r,this.D=i,this.u=null,this.j=new io(e,t.presentationTimeline,r,function(e,t){if(!t.stallEnabled)return null;var r=t.stallSkip,n=new to(new ro(e),t.stallThreshold);return function(e,t){e.i=t}(n,(function(){r?e.currentTime+=r:(e.pause(),e.play())})),n}(e,r),a),this.h=new lo(e,(function(){var e=o.j;e.s=!0,e.m=!1,e.j=!1;var t=uo(o.h);return e=bo(o,t),.001<Math.abs(e-t)&&(t=Date.now()/1e3,!o.u||o.u<t-1)?(o.u=t,co(o.h,e),e=void 0):(o.D(),e=void 0),e}),function(e,t){return null==t?t=1/0>e.g.getDuration()?e.g.xb():e.g.Qa():0>t&&(t=e.g.Qa()+t),yo(e,ko(e,t))}(this,n)),this.s=new ze((function(){if(0!=o.i.readyState&&!o.i.paused){var e=uo(o.h),t=o.g.xb(),r=o.g.Qa();3>r-t&&(t=r-3),e<t&&(e=bo(o,e),o.i.currentTime=e)}})).Ba(.25)}function yo(e,t){var r=e.g.getDuration();return t>=r?r-e.o.durationBackoff:t}function bo(e,t){var r=Math.max(e.H,e.o.rebufferingGoal),n=e.o.safeSeekOffset,i=e.g.xb(),a=e.g.Qa(),o=e.g.getDuration();3>a-i&&(i=a-3);var s=e.g.Sb(r),l=e.g.Sb(n);return r=e.g.Sb(r+n),t>=o?yo(e,t):t>a?a:t<i?Wr(e.i.buffered,l)?l:r:t>=s||Wr(e.i.buffered,t)?t:r}function ko(e,t){var r=e.g.xb();return t<r||t>(r=e.g.Qa())?r:t}function Eo(e){this.g=e,this.h=null,this.i=0,this.j=!1}function _o(e,t,r){return new Eo([new Ja(e,e+t,(function(){return r}),0,null,null,e,e,e+t)])}function So(e,t,r){this.i=e,this.h=t,this.g=r}function To(){Eo.call(this,[]),this.l=[]}function wo(e){var t=this;this.g=e,this.j=!1,this.i=this.g.zc(),this.h=new ze((function(){t.g.fe(.25*t.i)}))}function xo(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{return void(e.g.zc()!=t&&e.g.Ld(t))}catch(r){}e.h.Ba(.25),0!=e.g.zc()&&e.g.Ld(0)}function Oo(e){var t=this;this.h=e,this.g=new Set,this.i=new ze((function(){Po(t,!1)})).Ba(.25)}function Po(e,t){for(var r=c(e.g),n=r.next();!n.done;n=r.next()){n=n.value;for(var i=e.h.currentTime,a=t,o=c(n.l.g),s=o.next();!s.done;s=o.next()){s=s.value;var l=n.j.get(s),u=i<s.startTime?Mo:i>s.endTime?Ro:Io;n.j.set(s,u);for(var d=c(n.m),f=d.next();!f.done;f=d.next())(f=f.value).qb==l&&f.pb==u&&f.hb(s,a)}}}function Co(e){var t=this;this.h=function(){},this.g=new Set,this.j=e,this.i=new ze((function(){for(var e=t.j(),r=c(t.g),n=r.next();!n.done;n=r.next())(n=n.value).endTime<e.start&&t.g.delete(n)})).Ba(2)}function Ao(e){var t=this;this.l=e,this.j=new Map,this.g=function(){},this.h=function(){},this.i=function(){},this.m=[{qb:null,pb:Io,hb:function(e,r){return t.g(e,r)}},{qb:Mo,pb:Io,hb:function(e,r){return t.g(e,r)}},{qb:Ro,pb:Io,hb:function(e,r){return t.g(e,r)}},{qb:Io,pb:Mo,hb:function(e,r){return t.h(e,r)}},{qb:Io,pb:Ro,hb:function(e,r){return t.h(e,r)}},{qb:Mo,pb:Ro,hb:function(e,r){return t.i(e,r)}},{qb:Ro,pb:Mo,hb:function(e,r){return t.i(e,r)}}]}lo.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.l=function(){},this.g=null},ho.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null},mo.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.g=null},mo.prototype.m=function(e){this.i=this.j?this.i:e},mo.prototype.l=function(){return(this.j?this.g.currentTime:this.i)||0},mo.prototype.F=function(){},vo.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.s&&(this.s.stop(),this.s=null),this.i=this.h=this.g=this.o=null,this.D=function(){}},vo.prototype.m=function(e){co(this.h,e)},vo.prototype.l=function(){var e=uo(this.h);return 0<this.i.readyState&&!this.i.paused?ko(this,e):e},vo.prototype.F=function(){this.j.yd()},(n=Eo.prototype).destroy=function(){return Se("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},n.release=function(){this.j||(this.g=[],this.h&&this.h.stop(),this.h=null)},n.jf=function(){this.j=!0},n.find=function(e){for(var t=this.g.length-1,r=t;0<=r;--r){var n=this.g[r],i=r<t?this.g[r+1].startTime:n.endTime;if(e>=n.startTime&&e<i)return r+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},n.get=function(e){return 0==this.g.length||0>(e-=this.i)||e>=this.g.length?null:this.g[e]},n.offset=function(e){if(!this.j)for(var t=c(this.g),r=t.next();!r.done;r=t.next())(r=r.value).startTime+=e,r.endTime+=e,r.timestampOffset+=e},n.Bc=function(e){!this.j&&e.length&&(this.g=this.g.filter((function(t){return t.startTime<e[0].startTime})),this.g.push.apply(this.g,d(e)))},n.Ab=function(e,t){var r=this;e=e.filter((function(e){return e.endTime>t&&(0==r.g.length||e.endTime>r.g[0].startTime)})),this.Bc(e),this.cb(t)},n.cb=function(e){if(!this.j){var t=this.g.length;this.g=this.g.filter((function(t){return t.endTime>e})),this.i+=t-this.g.length}},n.Xa=function(e,t,r){if(r=void 0!==r&&r,!this.j){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),r||this.i++;0!=this.g.length&&(e=this.g[this.g.length-1],this.g[this.g.length-1]=new Ja(e.startTime,t,e.i,e.ja,e.da,e.h,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd))}},n.Jc=function(e,t){var r=this;this.j||(this.h&&this.h.stop(),this.h=new ze((function(){var e=t();e?r.g.push.apply(r.g,d(e)):(r.h.stop(),r.h=null)})),this.h.Ba(e))},Eo.prototype[Symbol.iterator]=function(){return this.wb(0)},Eo.prototype.wb=function(e){var t=this.find(e);if(null==t)return null;t--;var r=this.get(t+1),n=-1;if(r&&0<r.g.length)for(var i=r.g.length-1;0<=i;--i){var a=r.g[i];if(e>=a.startTime&&e<a.endTime){t++,n=i-1;break}}return new So(this,t,n)},z("shaka.media.SegmentIndex",Eo),Eo.forSingleSegment=_o,Eo.prototype.getIteratorForTime=Eo.prototype.wb,Eo.prototype.updateEvery=Eo.prototype.Jc,Eo.prototype.fit=Eo.prototype.Xa,Eo.prototype.evict=Eo.prototype.cb,Eo.prototype.mergeAndEvict=Eo.prototype.Ab,Eo.prototype.merge=Eo.prototype.Bc,Eo.prototype.offset=Eo.prototype.offset,Eo.prototype.get=Eo.prototype.get,Eo.prototype.find=Eo.prototype.find,Eo.prototype.markImmutable=Eo.prototype.jf,Eo.prototype.release=Eo.prototype.release,Eo.prototype.destroy=Eo.prototype.destroy,So.prototype.seek=function(e){return Se("shaka.media.SegmentIterator","Please use SegmentIndex.getIteratorForTime instead of seek()."),(e=this.i.wb(e))?(this.h=e.h,this.g=e.g):(this.h=Number.MAX_VALUE,this.g=0),this.next().value},So.prototype.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.ma().length&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},So.prototype.next=function(){var e=this.i.get(this.h);return e&&0<e.g.length?(this.g++,e.ma().length&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:e=this.current(),done:!e}},z("shaka.media.SegmentIterator",So),So.prototype.next=So.prototype.next,So.prototype.current=So.prototype.current,So.prototype.seek=So.prototype.seek,v(To,Eo),(n=To.prototype).clone=function(){var e=new To;return e.l=this.l.slice(),e},n.release=function(){for(var e=c(this.l),t=e.next();!t.done;t=e.next())t.value.release();this.l=[]},n.find=function(e){for(var t=0,r=c(this.l),n=r.next();!n.done;n=r.next()){var i=(n=n.value).find(e);if(null!=i)return i+t;t+=n.i+n.g.length}return null},n.get=function(e){for(var t=0,r=c(this.l),n=r.next();!n.done;n=r.next()){var i=(n=n.value).get(e-t);if(i)return i;t+=n.i+n.g.length}return null},n.offset=function(){},n.Bc=function(){},n.cb=function(){},n.Ab=function(){},n.Xa=function(){},n.Jc=function(){},z("shaka.media.MetaSegmentIndex",To),To.prototype.updateEvery=To.prototype.Jc,To.prototype.fit=To.prototype.Xa,To.prototype.mergeAndEvict=To.prototype.Ab,To.prototype.evict=To.prototype.cb,To.prototype.merge=To.prototype.Bc,To.prototype.offset=To.prototype.offset,To.prototype.get=To.prototype.get,To.prototype.find=To.prototype.find,To.prototype.release=To.prototype.release,wo.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},wo.prototype.set=function(e){this.i=e,xo(this)},wo.prototype.wc=function(){return this.g.wc()},Oo.prototype.release=function(){this.i.stop();for(var e=c(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},Co.prototype.release=function(){this.h=function(){},this.g.clear(),this.i.stop()},Ao.prototype.release=function(){this.l=null,this.j.clear(),this.g=function(){},this.h=function(){},this.i=function(){}};var Mo=1,Io=2,Ro=3;function Do(e,t,r,n,i){return e=la(e,n,i),0==t&&null==r||(e.headers.Range=r?"bytes="+t+"-"+r:"bytes="+t+"-"),e}function Lo(e,t){var r=this;this.C=t,this.A=e,this.o=null,this.j=1,this.i=this.h=null,this.g=new Map,this.m=!1,this.s=null,this.l=!1,this.J=new In((function(){return function(e){var t,r,n,i;return D((function(a){if(1==a.g){for(t=[],r=c(e.g.values()),n=r.next();!n.done;n=r.next())Go(i=n.value),t.push(Zo(i));return E(a,Promise.all(t),2)}e.g.clear(),e.C=null,e.A=null,e.o=null,_(a)}))}(r)}))}function jo(e,t){var r=e.g.get("video");if(r){var n=r.stream;if(n)if(t){var i=n.trickModeVideo;i&&!r.mb&&(Bo(e,i,!1,0,!1),r.mb=n)}else(n=r.mb)&&(r.mb=null,Bo(e,n,!0,0,!1))}}function No(e,t,r,n){r=void 0!==r&&r,n=void 0===n?0:n,e.h=t,e.m&&(t.video&&Bo(e,t.video,r,n,!1),t.audio&&Bo(e,t.audio,r,n,!1))}function Uo(e,t){e.i=t,e.m&&Bo(e,t,!0,0,!1)}function Bo(e,t,r,n,i){var a=e.g.get(t.type);a||t.type!=dn?a&&(a.mb&&(t.trickModeVideo?(a.mb=t,t=t.trickModeVideo):a.mb=null),a.stream!=t||i)&&(t.type==dn&&zn(e.C.P,_n(t.mimeType,t.codecs)),a.stream=t,a.ba=null,r&&(a.Nb?a.Mc=!0:a.Ra?(a.ob=!0,a.sc=n,a.Mc=!0):(Go(a),Ho(e,a,!0,n).catch((function(t){e.C&&e.C.onError(t)})))),function(e,t){var r,n;return D((function(i){if(1==i.g)return t.va?(r=t.stream,n=t.va,r.segmentIndex?i.v(2):E(i,r.createSegmentIndex(),2)):i.return();if(t.va!=n||t.stream!=r)return i.return();var a=e.C.yc(),o=$n(e.C.P,t.type),s=t.stream.segmentIndex.find(t.Aa?t.Aa.endTime:a),l=null==s?null:t.stream.segmentIndex.get(s);s=l&&l.da?l.da-l.ja:null,l&&!s&&(s=(l.endTime-l.startTime)*(t.stream.bandwidth||0)/8),s?((l=l.h)&&(s+=(l.da?l.da-l.ja:null)||0),a=8*s/(l=e.C.getBandwidthEstimate())<(o||0)-a-Math.max(e.A.minBufferTime||0,e.o.rebufferingGoal)||t.va.h.g>s):a=!1,a&&t.va.abort(),_(i)}))}(e,a).catch((function(t){e.C&&e.C.onError(t)}))):function(e,t){var r,n,i,a,o;D((function(s){switch(s.g){case 1:return r=fn,S(s,2),E(s,Gn(e.C.P,r.fa),4);case 4:w(s,3);break;case 2:n=x(s),e.C&&e.C.onError(n);case 3:i=_n(t.mimeType,t.codecs),zn(e.C.P,i),a=e.C.P.m,(a.isTextVisible()||e.o.alwaysStreamText)&&(o=zo(t),e.g.set(r.fa,o),Ko(e,o,0)),_(s)}}))}(e,t)}function Fo(e,t){t.Nb||t.ob||(t.Ra?(t.ob=!0,t.sc=0):null==Wn(e.C.P,t.type)?null==t.La&&Ko(e,t,0):(Go(t),Ho(e,t,!1,0).catch((function(t){e.C&&e.C.onError(t)}))))}function zo(e){return{stream:e,type:e.type,ba:null,Aa:null,Ac:null,qd:null,pd:null,od:null,mb:null,endOfStream:!1,Ra:!1,La:null,ob:!1,sc:0,Mc:!1,Nb:!1,Cd:!1,Ub:!1,va:null}}function Vo(e,t,r,n,i,a){var o;return D((function(s){return 1==s.g?(o=n.closedCaptions&&0<n.closedCaptions.size,null!=n.emsgSchemeIdUris&&0<n.emsgSchemeIdUris.length&&(new Me).U("emsg",(function(t){var r=n.emsgSchemeIdUris;if(0===t.version)var a=t.reader.Yb(),o=t.reader.Yb(),s=t.reader.M(),l=t.reader.M(),u=t.reader.M(),c=t.reader.M(),d=i.startTime+l/s;else s=t.reader.M(),l=(d=t.reader.kb()/s+i.timestampOffset)-i.startTime,u=t.reader.M(),c=t.reader.M(),a=t.reader.Yb(),o=t.reader.Yb();t=t.reader.Za(t.reader.R.byteLength-t.reader.Z()),r.includes(a)&&("urn:mpeg:dash:event:2012"==a?e.C.nf():(r=new ea(cl,{detail:{startTime:d,endTime:d+u/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:l,eventDuration:u,id:c,messageData:t}}),e.C.onEvent(r)))})).parse(a),E(s,function(e,t,r){var n,i,a;return D((function(o){if(1==o.g)return n=Math.max(e.o.bufferBehind,e.A.presentationTimeline.g),null==(i=Wn(e.C.P,t.type))||.01>=(a=r-i-n)?o.return():E(o,e.C.P.remove(t.type,i,i+a),2);Rn(e.J),_(o)}))}(e,t,r),2)):3!=s.g?(Rn(e.J),E(s,Kn(e.C.P,t.type,a,i.startTime,i.endTime,o),3)):(Rn(e.J),void _(s))}))}function Wo(e){return e&&e.type==dn&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function $o(e,t,r,n){var i,a,o,s;return D((function(l){return 1==l.g?(i=da,a=Do(r.ma(),r.ja,r.da,e.o.retryParameters,n),o=e.C.Bb.request(i,a),t.va=o,E(l,o.promise,2)):(s=l.h,t.va=null,l.return(s.data))}))}function Ho(e,t,r,n){var i,a;return D((function(o){return 1==o.g?(t.ob=!1,t.Mc=!1,t.sc=0,t.Nb=!0,t.Aa=null,t.Ac=null,t.ba=null,n?(i=e.C.yc(),a=e.C.P.getDuration(),E(o,e.C.P.remove(t.type,i+n,a),3)):E(o,Gn(e.C.P,t.type),4)):3!=o.g?(Rn(e.J),r?E(o,e.C.P.flush(t.type),3):o.v(3)):(Rn(e.J),t.Nb=!1,t.endOfStream=!1,Ko(e,t,0),void _(o))}))}function Ko(e,t,r){var n=t.type;(n!=dn||e.g.has(n))&&(t.La=new Fe((function(){var r;return D((function(n){return 1==n.g?(S(n,2),E(n,e.Wb(t),4)):2!=n.g?w(n,0):(r=x(n),e.C&&e.C.onError(r),void _(n))}))})).T(r))}function Go(e){null!=e.La&&(e.La.stop(),e.La=null)}function Zo(e){return D((function(t){return e.va?E(t,e.va.abort(),0):t.v(0)}))}function qo(e,t){return D((function(r){if(1==r.g)return E(r,Gi(e.s),2);Rn(e.J),e.C.onError(t),t.handled||e.o.failureCallback(t),_(r)}))}function Xo(e,t){var r=il(),n=this;this.j=t,this.i=e,this.l=r,this.s=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then((function(){return function(e){return D((function(t){if(e.J.g)t=t.v(0);else{if(0==e.m.length||e.g&&!e.g.gb)var r=!1;else{e.g&&(e.g.Ha.jb(),e.g=null);var n=(r=e.m.shift()).create(e.l);n?(r.Ha.Db(),e.g={node:n.node,payload:n.payload,gb:n.gb,Ha:r.Ha}):r.Ha.Ec(),r=!0}r?r=Promise.resolve():e.g?r=function(e){var t,r;return D((function(n){switch(n.g){case 1:return e.i=e.j.Ve(e.i,e.l,e.g.node,e.g.payload),S(n,2),e.h=e.j.Je(e.i,e.l,e.g.payload),E(n,e.h.promise,4);case 4:e.h=null,e.i==e.g.node&&(e.g.Ha.Cc(),e.g=null),w(n,0);break;case 2:return 7001==(t=x(n)).code?e.g.Ha.jb():e.g.Ha.onError(t),e.g=null,e.h=null,r=e,E(n,e.j.handleError(e.l,t),5);case 5:r.i=n.h,_(n)}}))}(e):(e.j.mf(e.i),e.s=new hn,r=e.s),t=E(t,r,1)}return t}))}(n)})),this.J=new In((function(){return function(e){var t,r;return D((function(n){if(1==n.g)return e.h&&e.h.abort(),Qo(e),E(n,e.u,2);for(e.g&&e.g.Ha.jb(),t=c(e.m),r=t.next();!r.done;r=t.next())r.value.Ha.jb();e.g=null,e.m=[],e.j=null,_(n)}))}(n)}))}function Yo(e,t){var r={Db:function(){},Cc:function(){},jb:function(){},onError:function(){},Ec:function(){},tg:function(){}};return e.m.push({create:t,Ha:r}),e.h&&e.h.abort(),Qo(e),r}function Qo(e){e.s&&(e.s.resolve(),e.s=null)}function Jo(e){this.g=null;for(var t=c(Array.from(e.textTracks)),r=t.next();!r.done;r=t.next())(r=r.value).mode="disabled","Shaka Player TextTrack"==r.label&&(this.g=r);this.g||(this.g=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}function es(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(r){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function ts(e,t){var r=e.mode;e.mode="showing"==r?"showing":"hidden";for(var n=c(Array.from(e.cues)),i=n.next();!i.done;i=n.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=r}function rs(){}function ns(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function is(t,r){var n=this;this.u=!1,this.j=[],this.g=t,this.m=r,this.i=document.createElement("div"),this.i.classList.add("shaka-text-container"),this.i.style.textAlign="center",this.i.style.display="flex",this.i.style.flexDirection="column",this.i.style.alignItems="center",this.i.style.justifyContent="flex-end",this.m.appendChild(this.i),this.D=new ze((function(){as(n)})).Ba(.25),this.l=new Map,this.h=new jn,this.h.B(document,"fullscreenchange",(function(){as(n,!0)})),this.s=null,"ResizeObserver"in e&&(this.s=new ResizeObserver((function(){as(n,!0)})),this.s.observe(this.i))}function as(e,t){function r(t){return e.j.includes(t)&&e.u&&t.startTime<=n&&t.endTime>n}t=void 0!==t&&t;for(var n=e.g.currentTime,i=c(e.l.keys()),a=i.next();!a.done;a=i.next())if(!r(a=a.value)||t){var o=e.l.get(a);e.i.removeChild(o),e.l.delete(a)}for(i=new Set(e.l.values()),o=(a=c(Array.from(e.i.childNodes))).next();!o.done;o=a.next())o=o.value,i.has(o)||e.i.removeChild(o);for(a=(i=c(i=e.j.filter((function(t){return r(t)&&!e.l.has(t)})).sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})))).next();!a.done;a=i.next())a=a.value,o=os(e,e.i,a,!1),e.l.set(a,o)}function os(e,t,r,n){var i=n?"span":"div";(r.lineBreak||r.spacer)&&(r.spacer&&Se("shaka.extern.Cue","Please use lineBreak instead of spacer."),i="br");var a=document.createElement(i);if("br"!=i)for(function(e,t,r,n){var i=t.style,a=0==r.nestedCues.length;i.whiteSpace="pre-wrap";var o=r.payload.replace(/\s+$/g,(function(e){return"\xa0".repeat(e.length)}));n?t.textContent=o:o.length&&((i=document.createElement("span")).textContent=o,t.appendChild(i),i=i.style),i.backgroundColor=r.backgroundColor,i.border=r.border,i.color=r.color,i.direction=r.direction,i.opacity=r.opacity,i.paddingLeft=ss(r.linePadding,r,e.m),i.paddingRight=ss(r.linePadding,r,e.m),r.backgroundImage&&(i.backgroundImage="url('"+r.backgroundImage+"')",i.backgroundRepeat="no-repeat",i.backgroundSize="contain",i.backgroundPosition="center",""==r.backgroundColor&&(i.backgroundColor="transparent")),i.verticalAlign="before"==r.displayAlign?"top":"center"==r.displayAlign?"middle":"bottom",a||(i.margin="0"),i.fontFamily=r.fontFamily,i.fontWeight=r.fontWeight.toString(),i.fontStyle=r.fontStyle,i.letterSpacing=r.letterSpacing,i.fontSize=ss(r.fontSize,r,e.m),r.line?1==r.lineInterpretation&&(i.position="absolute",r.writingMode==Et?r.lineAlign==St?i.top=r.line+"%":"end"==r.lineAlign&&(i.bottom=r.line+"%"):"vertical-lr"==r.writingMode?r.lineAlign==St?i.left=r.line+"%":"end"==r.lineAlign&&(i.right=r.line+"%"):r.lineAlign==St?i.right=r.line+"%":"end"==r.lineAlign&&(i.left=r.line+"%")):r.region&&r.region.id&&(!n&&!a||r.backgroundImage)&&(e=r.region.widthUnits==Mt?"%":"px",t=r.region.viewportAnchorUnits==Mt?"%":"px",i.height=r.region.height+(r.region.heightUnits==Mt?"%":"px"),i.width=r.region.width+e,i.position="absolute",i.top=r.region.viewportAnchorY+t,i.left=r.region.viewportAnchorX+t),i.lineHeight=r.lineHeight,r.position&&(r.writingMode==Et?i.paddingLeft=r.position:i.paddingTop=r.position),"line-left"==r.positionAlign?i.cssFloat="left":"line-right"==r.positionAlign&&(i.cssFloat="right"),i.textAlign=r.textAlign,i.textDecoration=r.textDecoration.join(" "),i.writingMode=r.writingMode,"writingMode"in document.documentElement.style&&i.writingMode==r.writingMode||(i.webkitWritingMode=r.writingMode),r.size&&(r.writingMode==Et?i.width=r.size+"%":i.height=r.size+"%")}(e,a,r,n),n=(r=c(r.nestedCues)).next();!n.done;n=r.next())os(e,a,n.value,!0);return t.appendChild(a),a}function ss(e,t,r){var n=(n=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(n[1]),Jf:n[2]}:null;if(!n)return e;var i=n.value;switch(n.Jf){case"%":return i/100*r.clientHeight/t.cellResolution.rows+"px";case"c":return r.clientHeight*i/t.cellResolution.rows+"px";default:return e}}function ls(){}function us(e,t,r,n,i){var a,o=i in n,s=!0;for(a in t){var l=i+"."+a,u=o?n[i]:r[a];o||a in r?void 0===t[a]?void 0===u||o?delete e[a]:e[a]=ra(u):u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=ra(u)),l=us(e[a],t[a],u,n,l),s=s&&l):typeof t[a]!=typeof u||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=u.constructor?(G("Invalid config, wrong type for "+l),s=!1):("function"==typeof r[a]&&r[a].length!=t[a].length&&Z("Unexpected number of arguments for "+l),e[a]=t[a]):(G("Invalid config, unrecognized key "+l),s=!1)}return s}function cs(e,t){for(var r={},n=r,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(n[a=e.substring(a,i).replace(/\\\./g,".")]={},n=n[a],a=i+1),i+=1;return n[e.substring(a).replace(/\\\./g,".")]=t,r}function ds(){}function fs(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:Ra,logLicenseExchange:!1,updateExpirationTime:1},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"}},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(e){return[e]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1};(navigator.userAgent.match(/Edge\//)||He()||Ke())&&(n.gapDetectionThreshold=.5),(qe("Web0S")||He()||Ke())&&(n.stallSkip=0);var i={trackSelectionCallback:function(e){return D((function(t){return t.return(e)}))},downloadSizeCallback:function(e){var t;return D((function(r){return 1==r.g?navigator.storage&&navigator.storage.estimate?E(r,navigator.storage.estimate(),3):r.return(!0):(t=r.h,r.return(t.usage+e<.95*t.quota))}))},progressCallback:function(e,t){return[e,t]},usePersistentLicense:!0},a={drm:t,manifest:r,streaming:n,offline:i,abrFactory:function(){return new Ri},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferForcedSubs:!1,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,useMediaCapabilities:!1,textDisplayFactory:function(){return null}};return i.trackSelectionCallback=function(e){return D((function(t){return t.return(function(e,t){var r=e.filter((function(e){return"variant"==e.type})),n=[],i=si(t,r.map((function(e){return e.language})));i&&(n=r.filter((function(e){return ii(e.language)==i}))),0==n.length&&(n=r.filter((function(e){return e.primary}))),0==n.length&&(r.map((function(e){return e.language})),n=r);var a=n.filter((function(e){return e.height&&480>=e.height}));if(a.length&&(a.sort((function(e,t){return t.height-e.height})),n=a.filter((function(e){return e.height==a[0].height}))),r=[],n.length){var o=Math.floor(n.length/2);n.sort((function(e,t){return e.bandwidth-t.bandwidth})),r.push(n[o])}for(n=c(e),o=n.next();!o.done;o=n.next())(o=o.value).type!=dn&&"image"!=o.type||r.push(o);return r}(e,a.preferredAudioLanguage))}))},a}function ps(e,t,r){var n={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return us(e,t,r||fs(),n,"")}function hs(){this.g=null,this.h=[]}function gs(e,t){if(null==e.g)e.g={timestamp:Date.now()/1e3,state:t,duration:0};else{var r=Date.now()/1e3;e.g.duration=r-e.g.timestamp,e.g.state!=t&&(e.h.push(e.g),e.g={timestamp:r,state:t,duration:0})}}function ms(e,t){var r=0;e.g&&e.g.state==t&&(r+=e.g.duration);for(var n=c(e.h),i=n.next();!i.done;i=n.next())r+=(i=i.value).state==t?i.duration:0;return r}function vs(){this.i=this.h=null,this.g=[]}function ys(e,t,r){e.h!=t&&(e.h=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:r,bandwidth:t.bandwidth}))}function bs(e,t,r){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:r,bandwidth:null}))}function ks(){this.s=this.u=this.I=this.F=this.m=this.j=this.H=this.l=this.i=this.L=this.N=this.S=this.D=this.X=NaN,this.h=new hs,this.g=new vs}function Es(t,r){ta.call(this);var n=this;this.l=Ml,this.kc=this.g=null,this.X=!1,this.h=new jn,this.Zc=this.u=this.Va=this.A=this.pc=this.s=this.i=this.cc=this.H=this.lc=this.F=this.Fa=this.D=this.I=this.m=this.O=null,this.gd=1e9,this.o=As(this),this.fd={width:1/0,height:1/0},this.j=null,this.oa=new zi(this.o.preferredAudioLanguage,this.o.preferredVariantRole,this.o.preferredAudioChannelCount),this.pa=this.o.preferredTextLanguage,this.Wa=this.o.preferredTextRole,this.mc=this.o.preferForcedSubs,this.$c=[],r&&r(this),this.O=function(e){return new oa((function(t,r){e.u&&e.u.segmentDownloaded(t,r)}))}(this),this.O.Jd(this.o.streaming.forceHTTPS),this.L=null,Nl&&(this.L=Ae(Nl)),this.h.B(e,"online",(function(){n.Dd()})),this.ra={name:"detach"},this.Oa={name:"attach"},this.S={name:"unload"},this.kd={name:"manifest-parser"},this.ed={name:"manifest"},this.Ea={name:"media-source"},this.cd={name:"drm-engine"},this.N={name:"load"},this.ld={name:"src-equals-drm-engine"},this.Ma={name:"src-equals"};var i=new Map;i.set(this.Oa,(function(e,t){return Qi(function(e,t,r){return null==t.G&&(t.G=r.G,e.h.B(t.G,"error",(function(){var t=Gs(e);t&&Hs(e,t)}))),e.g=t.G,Promise.resolve()}(n,e,t))})),i.set(this.ra,(function(e){return e.G&&(n.h.Ca(e.G,"error"),e.G=null),n.g=null,Qi(e=Promise.resolve())})),i.set(this.S,(function(e){return Qi(Ss(n,e))})),i.set(this.Ea,(function(e){return Qi(e=function(e,t){var r,n,i,a;return D((function(o){if(1==o.g)return r=new Fr,n=e.o.textDisplayFactory,i=Ae(n),e.dd=n,E(o,(a=function(e,t,r,n){return new Bn(e,t,r,n)}(t.G,r,i,(function(t,r,n){for(var i=(t=c(t)).next();!i.done;i=t.next())if((i=i.value).data&&i.cueTime&&i.frames){for(var a=i.cueTime+r,o=n,s=c(i.frames),l=s.next();!l.done;l=s.next())Ts(e,a,o,"ID3",l.value);e.L&&e.L.onHlsTimedMetadata(i,a)}}))).F,2);e.I=a,_(o)}))}(n,e))})),i.set(this.kd,(function(e,t){return Qi(function(e,t,r){var n,i,a,o;return D((function(s){if(1==s.g)return t.mimeType=r.mimeType,t.uri=r.uri,n=t.uri,i=e.O,e.Va=n,a=e,E(s,Ga(n,i,e.o.manifest.retryParameters,t.mimeType),2);a.pc=s.h,e.s=Ae(e.pc),o=ra(e.o.manifest),r.G&&"AUDIO"===r.G.nodeName&&(o.disableVideo=!0),e.s.configure(o),_(s)}))}(n,e,t))})),i.set(this.ed,(function(e){return function(e,t){var r=t.uri,n=e.O;e.cc=new Co((function(){return e.Fd()})),function(e,t){e.h=t}(e.cc,(function(t){Ks(e,Sl,t),e.L&&e.L.onDashTimedMetadata(t)}));var i={networkingEngine:n,filter:function(t){return D((function(r){return r.return(e.uc(t))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var r=new Set,n=c(t.textStreams),i=n.next();!i.done;i=n.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||r.add(i.originalId);for(n=c(t.variants),i=n.next();!i.done;i=n.next())if((i=i.value.video)&&i.closedCaptions)for(var a=c(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!r.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",l=new To;s={id:e.gd++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:l,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:i.closedCaptions.get(o),label:null,type:dn,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},t.textStreams.push(s),r.add(o)}}(e,t)},onTimelineRegionAdded:function(t){var r=e.cc;e:{for(var n=c(r.g),i=n.next();!i.done;i=n.next())if((i=i.value).schemeIdUri==t.schemeIdUri&&i.id==t.id&&i.startTime==t.startTime&&i.endTime==t.endTime){n=i;break e}n=null}null==n&&(r.g.add(t),r.h(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return Hs(e,t)},isLowLatencyMode:function(){return e.o.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return e.o.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){e.configure("streaming.lowLatencyMode",!0)}},a=Date.now()/1e3;return new Zi(function(){var t,n,o,s;return D((function(l){if(1==l.g)return t=e,E(l,e.s.start(r,i),2);if(t.A=l.h,n=_s(gl),e.dispatchEvent(n),0==e.A.variants.length)throw new ce(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.A),o=Date.now()/1e3,s=o-a,e.j.H=s,_(l)}))}(),(function(){return e.s.stop()}))}(n,e)})),i.set(this.cd,(function(e){return Qi(e=function(e,t){var r,n;return D((function(i){return 1==i.g?(r=Date.now()/1e3,n=!0,e.m=ws(e,{Bb:e.O,onError:function(t){Hs(e,t)},Dc:function(t){Zs(e,t)},onExpirationUpdated:function(t,r){qs(e,t,r)},onEvent:function(t){e.dispatchEvent(t),t.type==ul&&n&&(n=!1,e.j.j=Date.now()/1e3-r)}}),e.o.useMediaCapabilities||gi(e.A),e.m.configure(e.o.drm),E(i,Ea(e.m,e.A.variants,e.A.offlineSessionIds,e.o.useMediaCapabilities),2)):3!=i.g?E(i,e.m.Mb(t.G),3):E(i,e.uc(e.A),0)}))}(n,e))})),i.set(this.N,(function(e,t){return Qi(function(e,t,r){var n,i,a,o,s,l,u,d,f,p;return D((function(h){switch(h.g){case 1:if(t.startTime=r.startTime,n=t.G,i=t.uri,e.Va=i,e.F=new wo({zc:function(){return t.G.playbackRate},wc:function(){return t.G.defaultPlaybackRate},Ld:function(e){t.G.playbackRate=e},fe:function(e){t.G.currentTime+=e}}),a=function(){return Ds(e)},o=function(){return Rs(e)},e.h.B(n,"playing",a),e.h.B(n,"pause",a),e.h.B(n,"ended",a),e.h.B(n,"ratechange",o),s=e.o.abrFactory,e.u&&e.Zc==s||(e.Zc=s,e.u=Ae(s),"function"!=typeof e.u.playbackRateChanged&&(Se("AbrManager","Please use an AbrManager with playbackRateChanged function."),e.u.playbackRateChanged=function(){}),e.u.configure(e.o.abr)),e.oa=new zi(e.o.preferredAudioLanguage,e.o.preferredVariantRole,e.o.preferredAudioChannelCount),e.pa=e.o.preferredTextLanguage,e.Wa=e.o.preferredTextRole,Xs(e.A.presentationTimeline,e.o.playRangeStart,e.o.playRangeEnd),e.u.init((function(t,r,n){r=void 0!==r&&r,n=void 0===n?0:n,e.i&&t!=e.i.h&&(ys(e.j.g,t,!0),No(e.i,t,r,n),Bs(e))})),e.D=function(e,t){return new vo(e.g,e.A,e.o.streaming,t,(function(){if(e.Fa&&Po(e.Fa,!0),e.i)for(var t=e.i,r=t.C.yc(),n=t.o.smallGapLimit,i=c(t.g.keys()),a=i.next();!a.done;a=i.next()){a=a.value;var o=t.g.get(a);o.ba=null;var s=t.C.P;if(a==dn?s=null!=(s=s.i).g&&null!=s.h&&(r>=s.g&&r<s.h):s=Wr(s=Hn(s,a),r,n),!s&&(null!=$n(t.C.P,a)&&Fo(t,o),o.va&&(o.va.abort(),o.va=null),a===dn))for((a=t.C.P.D.g).l=0,a.h=[],a.g=[],(o=a.i).i=[],o.h=[],o.g=0,Cr(a),o=(a=c(a.j.values())).next();!o.done;o=a.next())er(o.value)}e.H&&Os(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.Fa=function(e){var t=new Ao(e.cc);!function(e,t,r,n){e.g=t,e.h=r,e.i=n}(t,(function(t){Ks(e,Tl,t)}),(function(t){Ks(e,wl,t)}),(function(t,r){r||(Ks(e,Tl,t),Ks(e,wl,t))}));var r=new Oo(e.g);return r.g.add(t),r}(e),l=Math.max(e.A.minBufferTime,e.o.streaming.rebufferingGoal),xs(e,l),ui(e.A,e.o.preferredAudioChannelCount),e.i=function(e){return new Lo(e.A,{yc:function(){return e.D.l()},getBandwidthEstimate:function(){return e.u.getBandwidthEstimate()},P:e.I,Bb:e.O,onError:function(t){return Hs(e,t)},onEvent:function(t){return e.dispatchEvent(t)},nf:function(){e.s&&e.s.update&&e.s.update()},yd:function(){e.D&&e.D.F(),Os(e)}})}(e),e.i.configure(e.o.streaming),e.l=Il,e.dispatchEvent(_s(kl)),u=Ls(e)?e.u.chooseVariant():null,ys(e.j.g,u,!0),No(e.i,u,!1,0),(d=Pi(e.A.textStreams,e.pa,e.Wa,e.mc)[0]||null)&&bs(e.j.g,d,!0),d?(u.audio&&function(e,t,r){return e=ii(e.o.preferredTextLanguage),t=ii(t.language),ti(r=ii(r.language),e)&&!ti(t,r)}(e,u.audio,d)&&(e.X=!0),e.X&&e.I.m.setTextVisibility(!0),Ws(e)):e.X=!1,d&&(e.o.streaming.alwaysStreamText||e.nd())&&Uo(e.i,d),!e.o.streaming.startAtSegmentBoundary){h.v(2);break}return f=e.D.l(),E(h,function(e,t){var r,n,i,a,o;return D((function(s){return 1==s.g?(r=e.audio,n=e.video,i=function(e,t){var r,n;return D((function(i){return 1==i.g?e?E(i,e.createSegmentIndex(),2):i.return(null):(r=e.segmentIndex[Symbol.iterator]().seek(t))?(n=r.startTime,i.return(n)):i.return(null)}))},E(s,i(r,t),2)):3!=s.g?(a=s.h,E(s,i(n,t),3)):null!=(o=s.h)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(u,f),3);case 3:p=h.h,e.D.m(p);case 2:return E(h,e.i.start(),4);case 4:e.o.abr.enabled&&(e.u.enable(),$s(e)),yi(e.i?e.i.h:null,e.A),Qs(e.A),Fs(e),Bs(e),Ls(e),e.A.variants.some((function(e){return e.primary})),e.h.ua(n,"loadedmetadata",(function(){e.j.l=Date.now()/1e3-r.Nd})),_(h)}}))}(n,e,t))})),i.set(this.ld,(function(e,t){return Qi(function(e,t,r){var n,i,a,o;return D((function(s){return 1==s.g?(n=fn,i=Date.now()/1e3,a=!0,e.m=ws(e,{Bb:e.O,onError:function(t){Hs(e,t)},Dc:function(t){Zs(e,t)},onExpirationUpdated:function(t,r){qs(e,t,r)},onEvent:function(t){e.dispatchEvent(t),t.type==ul&&a&&(a=!1,e.j.j=Date.now()/1e3-i)}}),e.m.configure(e.o.drm),o={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:r.mimeType?r.mimeType.split(";")[0]:"video/mp4",codecs:r.mimeType?wn(r.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:n.Na,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},E(s,Ea(e.m,[o],[]),2)):E(s,e.m.Mb(t.G),0)}))}(n,e,t))})),i.set(this.Ma,(function(e,t){return function(e,t,r){function n(){return Ds(e)}t.uri=r.uri,t.startTime=r.startTime,e.Va=t.uri,e.D=new mo(t.G),null!=t.startTime&&e.D.m(t.startTime),e.F=new wo({zc:function(){return t.G.playbackRate},wc:function(){return t.G.defaultPlaybackRate},Ld:function(e){t.G.playbackRate=e},fe:function(e){t.G.currentTime+=e}}),xs(e,e.o.streaming.rebufferingGoal),e.h.B(t.G,"playing",n),e.h.B(t.G,"pause",n),e.h.B(t.G,"ended",n),e.h.B(t.G,"ratechange",(function(){return Rs(e)})),"none"!=e.g.preload&&e.h.ua(e.g,"loadedmetadata",(function(){e.j.l=Date.now()/1e3-r.Nd})),e.g.audioTracks&&(e.h.B(e.g.audioTracks,"addtrack",(function(){return Fs(e)})),e.h.B(e.g.audioTracks,"removetrack",(function(){return Fs(e)})),e.h.B(e.g.audioTracks,"change",(function(){return Fs(e)}))),e.g.textTracks&&(e.h.B(e.g.textTracks,"addtrack",(function(t){Fs(e),function(e,t){var r=t.track;"metadata"==r.kind&&(r.mode="hidden",e.h.B(r,"cuechange",(function(){if(r.activeCues)for(var t=c(r.activeCues),n=t.next();!n.done;n=t.next())n=n.value,Ts(e,n.startTime,n.endTime,n.type,n.value),e.L&&e.L.onCueMetadataChange(n.value)})),new ze((function(){for(var t=function(e){return Array.from(e.g.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),r=(t=c(t)).next();!r.done;r=t.next())r.value.mode="hidden"})).bc().T(.5))}(e,t)})),e.h.B(e.g.textTracks,"removetrack",(function(){return Fs(e)})),e.h.B(e.g.textTracks,"change",(function(){return Fs(e)}))),t.G.src=t.uri,(He()||qe("Web0S"))&&t.G.load(),e.l=Rl,e.dispatchEvent(_s(kl));var i=new hn;oo(e.g,HTMLMediaElement.HAVE_METADATA,e.h,(function(){i.resolve()}));var a=!1;return e.$c.push((function(){a=!0})),oo(e.g,HTMLMediaElement.HAVE_CURRENT_DATA,e.h,(function(){return D((function(t){return 1==t.g?a?t.return():(function(e){var t=e.o.preferredAudioLanguage;if(""!=t){e.Gd(t);var r=e.o.preferredVariantRole;""!=r&&e.Gd(t,r)}}(e),Cs(e).find((function(e){return"disabled"!=e.mode}))?t.v(2):E(t,new Promise((function(t){e.h.ua(e.g.textTracks,"change",t),new ze(t).T(1)})),2)):a?t.return():(function(e){var t=e.o.preferredTextLanguage,r=e.o.preferForcedSubs;if(""!=t){e.Hd(t,"",r);var n=e.o.preferredTextRole;""!=n&&e.Hd(t,n,r)}}(e),void _(t))}))})),e.g.error?i.reject(Gs(e)):"none"==e.g.preload&&(Z('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),i.resolve()),e.h.ua(e.g,"error",(function(){i.reject(Gs(e))})),new Zi(i,(function(){return i.reject(new ce(2,7,7001)),Promise.resolve()}))}(n,e,t)})),this.ca=new Xo(this.ra,{Ve:function(e,t,r,i){var a=null;return e==n.ra&&(a=r==n.ra?n.ra:n.Oa),e==n.Oa&&(a=r==n.ra||t.G!=i.G?n.ra:r==n.Oa?n.Oa:r==n.Ea||r==n.N?n.Ea:r==n.Ma?n.ld:null),e==n.Ea&&(a=r==n.N&&t.G==i.G?n.kd:n.S),e==n.kd&&(a=nl(n.N,n.ed,n.S,r,t,i)),e==n.ed&&(a=nl(n.N,n.cd,n.S,r,t,i)),e==n.cd&&(a=nl(n.N,n.N,n.S,r,t,i)),e==n.ld&&(a=r==n.Ma&&t.G==i.G?n.Ma:n.S),e!=n.N&&e!=n.Ma||(a=n.S),e==n.S&&(a=i.G&&t.G==i.G?n.Oa:n.ra),a},Je:function(e,t,r){return n.dispatchEvent(_s(vl,{state:e.name})),i.get(e)(t,r)},handleError:function(e){return D((function(t){return 1==t.g?E(t,Ss(n,e),2):t.return(e.G?n.Oa:n.ra)}))},mf:function(e){n.dispatchEvent(_s(yl,{state:e.name}))}}),t&&this.Mb(t,!0)}function _s(e,t){return new ea(e,t)}function Ss(e,t){var r,n,i,a,o,s,l,u,d;return D((function(f){switch(f.g){case 1:return e.l!=Al&&(e.l=Ml),r=e.$c.map((function(e){return e()})),e.$c=[],E(f,Promise.all(r),2);case 2:if(e.dispatchEvent(_s(Ol)),t.mimeType=null,t.startTime=null,t.uri=null,t.G&&(e.h.Ca(t.G,"loadedmetadata"),e.h.Ca(t.G,"playing"),e.h.Ca(t.G,"pause"),e.h.Ca(t.G,"ended"),e.h.Ca(t.G,"ratechange")),e.Fa&&(e.Fa.release(),e.Fa=null),e.lc&&(e.lc.stop(),e.lc=null),!e.s){f.v(3);break}return E(f,e.s.stop(),4);case 4:e.s=null,e.pc=null;case 3:if(!e.u){f.v(5);break}return E(f,e.u.stop(),5);case 5:if(!e.i){f.v(7);break}return E(f,e.i.destroy(),8);case 8:e.i=null;case 7:if(e.F&&(e.F.release(),e.F=null),e.D&&(e.D.release(),e.D=null),!e.I){f.v(9);break}return E(f,e.I.destroy(),10);case 10:e.I=null;case 9:if(e.L&&e.L.onAssetUnload(),!t.G||!t.G.src){f.v(11);break}return E(f,new Promise((function(e){return new ze(e).T(.1)})),12);case 12:for(t.G.removeAttribute("src"),t.G.load();t.G.lastChild;)t.G.removeChild(t.G.firstChild);case 11:if(!e.m){f.v(13);break}return E(f,e.m.destroy(),14);case 14:e.m=null;case 13:if(e.Va=null,e.H=null,e.A){for(n=c(e.A.variants),i=n.next();!i.done;i=n.next())for(a=i.value,o=c([a.audio,a.video]),s=o.next();!s.done;s=o.next())(l=s.value)&&l.segmentIndex&&l.segmentIndex.release();for(u=c(e.A.textStreams),s=u.next();!s.done;s=u.next())(d=s.value).segmentIndex&&d.segmentIndex.release()}e.A=null,e.j=new ks,e.dd=null,Is(e),_(f)}}))}function Ts(e,t,r,n,i){e.dispatchEvent(_s(ml,{startTime:t,endTime:r,pg:n,payload:i}))}function ws(e,t){return new ka(t,e.o.drm.updateExpirationTime)}function xs(e,t){e.H=new Vi,e.H.g=$i,Wi(e.H,t,Math.min(.5,t/2)),Is(e),e.lc=new ze((function(){Os(e)})).Ba(.25)}function Os(e){switch(e.l){case Rl:if(e.g.ended)var t=!0;else{var r=Vr(e.g.buffered);t=null!=r&&r>=e.g.duration-1}break;case Il:e:if(e.g.ended||Vn(e.I))t=!0;else{if(e.A.presentationTimeline.Y()){r=e.A.presentationTimeline.fb();var n=Vr(e.g.buffered);if(null!=n&&n>=r){t=!0;break e}}t=!1}break;default:t=!1}n=$r(e.g.buffered,e.g.currentTime);var i=t,a=(r=e.H).h.get(r.g);t=r.g,n=i||n>=a?Hi:$i,r.g=n,t!=n&&Is(e)}function Ps(e){if(e.s){var t=ra(e.o.manifest);e.g&&"AUDIO"===e.g.nodeName&&(t.disableVideo=!0),e.s.configure(t)}if(e.m&&e.m.configure(e.o.drm),e.i){e.i.configure(e.o.streaming);try{Ms(e,e.A)}catch(a){Hs(e,a)}e.u&&Ls(e),!(t=e.i.h)||t.allowedByApplication&&t.allowedByKeySystem||js(e)}if(e.O&&e.O.Jd(e.o.streaming.forceHTTPS),e.I&&(t=e.o.textDisplayFactory,e.dd!=t)){var r=Ae(t),n=e.I,i=n.m;n.m=r,i&&(r.setTextVisibility(i.isTextVisible()),i.destroy()),n.i&&(n.i.i=r),e.dd=t,e.i&&((r=(t=e.i).g.get(dn))&&Bo(t,r.stream,!0,0,!0))}e.u&&(e.u.configure(e.o.abr),e.o.abr.enabled?e.u.enable():e.u.disable(),$s(e)),e.H&&(t=e.o.streaming.rebufferingGoal,e.A&&(t=Math.max(t,e.A.minBufferTime)),Wi(e.H,t,Math.min(.5,t/2))),e.A&&Xs(e.A.presentationTimeline,e.o.playRangeStart,e.o.playRangeEnd)}function Cs(e){return Array.from(e.g.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function As(e){var t=fs();return t.streaming.failureCallback=function(t){e.Y()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.Dd())},t.textDisplayFactory=function(){return e.kc?new is(e.g,e.kc):new Jo(e.g)},t}function Ms(e,t){if(e.l!=Al){for(var r=e.o.restrictions,n=e.fd,i=!1,a=c(t.variants),o=a.next();!o.done;o=a.next()){var s=(o=o.value).allowedByApplication;o.allowedByApplication=di(o,r,n),s!=o.allowedByApplication&&(i=!0)}if(i&&e.i&&Fs(e),(r=e.m?e.m.i:null)&&e.m.m)for(i=(n=c(t.variants)).next();!i.done;i=n.next())for(a=(i=c(((i=i.value).video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]))).next();!a.done;a=i.next())if((a=a.value).keySystem==r.keySystem)for(o=(a=c(a.initData||[])).next();!o.done;o=a.next())o=o.value,wa(e.m,o.initDataType,o.initData);Ys(e,t)}}function Is(e){var t=e.md();if(e.j&&e.H&&e.D){var r=e.F;r.j=t,xo(r),Ds(e)}e.dispatchEvent(_s(ll,{buffering:t}))}function Rs(e){var t=e.g.playbackRate;0!=t&&(e.F&&e.F.set(t),t=_s(bl),e.dispatchEvent(t))}function Ds(e){if(e.j&&e.H){var t=e.j.h;e.H.g==$i?gs(t,"buffering"):e.g.paused?gs(t,"paused"):e.g.ended?gs(t,"ended"):gs(t,"playing")}}function Ls(e){try{Ys(e,e.A)}catch(r){return Hs(e,r),!1}var t=e.A.variants.filter((function(e){return xi(e)}));return t=e.oa.create(t),e.u.setVariants(Array.from(t.values())),!0}function js(e){var t;(t=Ls(e)?e.u.chooseVariant():null)&&(Ns(e,t,!0,!0,0),Bs(e))}function Ns(e,t,r,n,i){var a=e.i.h;t!=a&&(ys(e.j.g,t,r),No(e.i,t,n,i),r=null,a&&(r=ki(a)),zs(e,r,t=ki(t)))}function Us(e,t){var r=Array.from(e.g.audioTracks).find((function(e){return e.enabled}));t.enabled=!0,zs(e,r=Ti(r),Ti(t))}function Bs(e){Js(e,_s(sl))}function Fs(e){Js(e,_s(xl))}function zs(e,t,r){Js(e,t=_s(Pl,{sg:t,rg:r}))}function Vs(e){Js(e,_s(El))}function Ws(e){Js(e,_s(_l))}function $s(e){Js(e,_s(ol,{qg:e.o.abr.enabled}))}function Hs(e,t){if(e.l!=Al){var r=_s(dl,{detail:t});e.dispatchEvent(r),r.defaultPrevented&&(t.handled=!0)}}function Ks(e,t,r){e.dispatchEvent(_s(t,{detail:{schemeIdUri:r.schemeIdUri,value:r.value,startTime:r.startTime,endTime:r.endTime,id:r.id,eventElement:r.eventElement}}))}function Gs(e){if(!e.g.error)return null;var t=e.g.error.code;if(1==t)return null;var r=e.g.error.msExtendedCode;return r&&(0>r&&(r+=Math.pow(2,32)),r=r.toString(16)),new ce(2,3,3016,t,r,e.g.error.message)}function Zs(e,t){if(e.i){var r=Object.keys(t),n=1==r.length&&"00"==r[0],i=!1;if(r.length)for(var a=(r=c(e.A.variants)).next();!a.done;a=r.next()){var o=[];(a=a.value).audio&&o.push(a.audio),a.video&&o.push(a.video);for(var s=(o=c(o)).next();!s.done;s=o.next()){var l=s.value;if(s=a.allowedByKeySystem,l.keyIds.size){a.allowedByKeySystem=!0;for(var u=(l=c(l.keyIds)).next();!u.done;u=l.next())u=u.value,u=t[n?"00":u],a.allowedByKeySystem=a.allowedByKeySystem&&!!u&&!Ll.includes(u)}s!=a.allowedByKeySystem&&(i=!0)}}i&&Ls(e),(n=e.i.h)&&!n.allowedByKeySystem&&js(e),i&&Fs(e)}}function qs(e,t,r){e.s&&e.s.onExpirationUpdated&&e.s.onExpirationUpdated(t,r),t=_s(fl),e.dispatchEvent(t)}function Xs(e,t,r){0<t&&(e.Y()||e.qe(t)),r<(t=e.getDuration())&&(e.Y()||e.Ja(r))}function Ys(e,t){var r=e.m?e.m.xc():{},n=Object.keys(r);n=n.length&&"00"==n[0];for(var i=!1,a=!1,o=new Set,s=new Set,l=c(t.variants),u=l.next();!u.done;u=l.next()){var d=[];(u=u.value).audio&&d.push(u.audio),u.video&&d.push(u.video);for(var f=(d=c(d)).next();!f.done;f=d.next())if((f=f.value).keyIds.size)for(var p=(f=c(f.keyIds)).next();!p.done;p=f.next()){p=p.value;var h=r[n?"00":p];h?Ll.includes(h)&&s.add(h):o.add(p)}u.allowedByApplication?u.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new ce(2,4,4012,r={hasAppRestrictions:a,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)})}function Qs(e){if(!e.variants.some(xi))throw new ce(2,4,4032)}function Js(e,t){D((function(r){if(1==r.g)return E(r,Promise.resolve(),2);e.l!=Al&&e.dispatchEvent(t),_(r)}))}function el(e){for(var t=new Set,r=(e=c(e)).next();!r.done;r=e.next())(r=r.value).language?t.add(ii(r.language)):t.add("und");return t}function tl(e){for(var t=new Map,r=new Map,n=(e=c(e)).next();!n.done;n=e.next()){var i="und",a=[];(n=n.value).language&&(i=ii(n.language)),(a="variant"==n.type?n.audioRoles:n.roles)&&a.length||(a=[""]),t.has(i)||t.set(i,new Set);for(var o=(a=c(a)).next();!o.done;o=a.next())o=o.value,t.get(i).add(o),n.label&&(r.has(i)||r.set(i,new Map),r.get(i).set(o,n.label))}var s=[];return t.forEach((function(e,t){for(var n=c(e),i=n.next();!i.done;i=n.next()){i=i.value;var a=null;r.has(t)&&r.get(t).has(i)&&(a=r.get(t).get(i)),s.push({language:t,role:i,label:a})}})),s}function rl(){return new ce(2,7,7e3)}function nl(e,t,r,n,i,a){return n==e&&i.G==a.G&&i.uri==a.uri&&i.mimeType==a.mimeType?t:r}function il(){return{G:null,mimeType:null,startTime:null,Nd:NaN,uri:null}}function al(e){return new Promise((function(t,r){e.jb=function(){return r(rl())},e.Cc=function(){return t()},e.onError=function(e){return r(e)},e.Ec=function(){return r(rl())}}))}Lo.prototype.destroy=function(){return this.J.destroy()},Lo.prototype.configure=function(e){this.o=e,this.s=new Ki({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},Lo.prototype.start=function(){var e=this;return D((function(t){if(1==t.g)return E(t,function(e){var t,r,n,i,a,o,s,l,u,d;return D((function(f){if(1==f.g){if(t=fn,!e.h)throw new ce(2,5,5006);return r=new Map,n=new Set,e.h.audio&&(r.set(t.ab,e.h.audio),n.add(e.h.audio)),e.h.video&&(r.set(t.Na,e.h.video),n.add(e.h.video)),e.i&&(r.set(t.fa,e.i),n.add(e.i)),i=e.C.P,a=e.o.forceTransmuxTS,E(f,i.init(r,a),2)}Rn(e.J);var p=e.A.presentationTimeline.getDuration();for(1/0>p?e.C.P.Ja(p):e.C.P.Ja(Math.pow(2,32)),o=c(r.keys()),s=o.next();!s.done;s=o.next())l=s.value,u=r.get(l),e.g.has(l)||(d=zo(u),e.g.set(l,d),Ko(e,d,0));_(f)}))}(e),2);Rn(e.J),e.m=!0,_(t)}))},Lo.prototype.Wb=function(t){var r,n,i,a,o,s=this;return D((function(l){switch(l.g){case 1:if(Rn(s.J),t.Ra||null==t.La||t.Nb)return l.return();if(t.La=null,!t.ob){l.v(2);break}return E(l,Ho(s,t,t.Mc,t.sc),3);case 3:return l.return();case 2:if(t.stream.segmentIndex){l.v(4);break}return r=t.stream,E(l,t.stream.createSegmentIndex(),5);case 5:if(r!=t.stream)return null==t.La&&Ko(s,t,0),l.return();case 4:S(l,6),null!=(n=function(t,r){if(Wo(r))return function(e,t){var r=$n(e,"video")||0;Cn(e.i,t,r)}(t.C.P,r.stream.originalId||""),null;r.type==dn&&function(e){e.i&&Cn(e.i,"",0)}(t.C.P);var n=t.C.yc(),i=r.Aa?r.Aa.endTime:n,a=function(e,t,r){return t==dn?null==(e=e.i).h||e.h<r?0:e.h-Math.max(r,e.g):$r(e=Hn(e,t),r)}(t.C.P,r.type,n),o=Math.max(t.A.minBufferTime||0,t.o.rebufferingGoal,t.o.bufferingGoal)*t.j;if(i>=t.A.presentationTimeline.getDuration())return r.endOfStream=!0,"video"==r.type&&(n=t.g.get(dn))&&Wo(n)&&(n.endOfStream=!0),null;if(r.endOfStream=!1,a>=o)return.5;if(a=$n(t.C.P,r.type),!(a=function(e,t,r,n){if(t.ba)return t.ba.current();if(t.Aa||n)return t.ba=t.stream.segmentIndex.wb(t.Aa?t.Aa.endTime:n),t.ba&&t.ba.next().value;e=e.o.inaccurateManifestTolerance,n=Math.max(r-e,0);var i=null;return e&&(t.ba=t.stream.segmentIndex.wb(n),i=t.ba&&t.ba.next().value),i||(t.ba=t.stream.segmentIndex.wb(r),i=t.ba&&t.ba.next().value),i}(t,r,n,a)))return 1;o=1/0;for(var s=Array.from(t.g.values()),l=(s=c(s)).next();!l.done;l=s.next())Wo(l=l.value)||l.ba&&!l.ba.current()||(o=Math.min(o,l.Aa?l.Aa.endTime:n));return i>=o+t.A.presentationTimeline.g?1:(function(t,r,n,i){var a,o,s,l,u,c,d,f,p,h,g,m,v;return D((function(y){switch(y.g){case 1:return a=fn,o=r.stream,s=r.ba,r.Ra=!0,l=function(e,t,r){var n,i,a,o,s,l,u;return D((function(c){return n=[],i=Math.max(0,r.appendWindowStart-.1),a=r.appendWindowEnd+.01,(o=r.timestampOffset)==t.qd&&i==t.pd&&a==t.od||(s=function(){var r;return D((function(n){if(1==n.g)return S(n,2),t.pd=i,t.od=a,t.qd=o,E(n,function(e,t,r,n,i){return D((function(a){return t==fn.fa?(e.i.D=r,function(e,t,r){e.j=t,e.l=r}(e.i,n,i),a.return()):E(a,Promise.all([qn(e,t,(function(){var r=e.j[t].appendWindowStart,n=e.j[t].appendWindowEnd;e.j[t].abort(),e.j[t].appendWindowStart=r,e.j[t].appendWindowEnd=n,Zn(e,t)})),qn(e,t,(function(){var n=r;0>n&&(n+=.001),e.j[t].timestampOffset=n,Zn(e,t)})),qn(e,t,(function(){e.j[t].appendWindowStart=0,e.j[t].appendWindowEnd=i,e.j[t].appendWindowStart=n,Zn(e,t)}))]),0)}))}(e.C.P,t.type,o,i,a),4);if(2!=n.g)return w(n,0);throw r=x(n),t.pd=null,t.od=null,t.qd=null,r}))},n.push(s())),!function(e,t){return e&&t?e.Tb()==t.Tb()&&e.Pb()==t.Pb()&&ft(e.ma(),t.ma()):e==t}(r.h,t.Ac)&&(t.Ac=r.h)&&(l=$o(e,t,r.h),u=function(){var r,n,i;return D((function(a){switch(a.g){case 1:return S(a,2),E(a,l,4);case 4:return r=a.h,Rn(e.J),n=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,E(a,Kn(e.C.P,t.type,r,null,null,n),5);case 5:w(a,0);break;case 2:throw i=x(a),t.Ac=null,i}}))},n.push(u())),E(c,Promise.all(n),0)}))}(t,r,i),S(y,2),u="video/mp4"==o.mimeType||"audio/mp4"==o.mimeType,c=e.ReadableStream,t.o.lowLatencyMode&&c&&u?(p=new Uint8Array(0),h=function(e){var a,s,u;return D((function(c){return 1==c.g?E(c,l,2):(Rn(t.J),t.l?c.return():(p=function(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(p,e),a=!1,s=0,(new Me).box("mdat",(function(e){s=e.size+e.start,a=!0})).parse(p,!1,!0),a?(u=p.subarray(0,s),p=p.subarray(s),E(c,Vo(t,r,n,o,i,u),0)):c.v(0)))}))},E(y,$o(t,r,i,h),5)):(d=$o(t,r,i),E(y,Promise.all([l,d]),6));case 6:return f=y.h,Rn(t.J),t.l?y.return():r.ob?(r.Ra=!1,Ko(t,r,0),y.return()):E(y,Vo(t,r,n,o,i,f[1]),5);case 5:if(Rn(t.J),t.l)return y.return();r.Aa=i,s.next(),r.Ra=!1,r.Cd=!1,g=t.C.P.vc(),m=g[r.type],JSON.stringify(m),r.ob||t.C.yd(),Ko(t,r,0),w(y,0);break;case 2:if(v=x(y),Rn(t.J,v),t.l)return y.return();if(r.Ra=!1,r.type==a.fa&&t.o.ignoreTextStreamFailures)t.g.delete(a.fa),y.v(0);else if(7001==v.code)r.Ra=!1,r.La=null,Ko(t,r,0),y.v(0);else if(3017==v.code)(function(e,t,r){if(!Array.from(e.g.values()).some((function(e){return e!=t&&e.Cd}))){var n=Math.round(100*e.j);if(20<n)e.j-=.2;else{if(!(4<n))return t.Ub=!0,e.l=!0,void e.C.onError(r);e.j-=.04}t.Cd=!0}Ko(e,t,4)})(t,r,v),y.v(0);else{if(1001!=v.code||!v.data||404!=v.data[1])return r.Ub=!0,v.severity=2,E(y,qo(t,v),0);r.Ra=!1,r.La=null,Ko(t,r,1),y.v(0)}}}))}(t,r,n,a).catch((function(){})),null)}(s,t))&&(Ko(s,t,n),t.Ub=!1),w(l,7);break;case 6:return i=x(l),E(l,qo(s,i),8);case 8:return l.return();case 7:if(a=Array.from(s.g.values()),!s.m||!a.every((function(e){return e.endOfStream}))){l.v(0);break}return E(l,s.C.P.endOfStream(),10);case 10:Rn(s.J),0!=(o=s.C.P.getDuration())&&o<s.A.presentationTimeline.getDuration()&&s.A.presentationTimeline.Ja(o),_(l)}}))},Xo.prototype.destroy=function(){return this.J.destroy()},(n=Jo.prototype).remove=function(e,t){return!!this.g&&(ts(this.g,(function(r){return r.startTime<t&&r.endTime>e})),!0)},n.append=function(e){function t(e){var r=[],n=700<=e.fontWeight,i="italic"==e.fontStyle,a=e.textDecoration.includes("underline");return n&&r.push("b"),i&&r.push("i"),a&&r.push("u"),n=r.reduce((function(e,t){return e+"<"+t+">"}),""),r=r.reduceRight((function(e,t){return e+"</"+t+">"}),""),e.lineBreak||e.spacer?(e.spacer&&Se("shaka.extern.Cue","Please use lineBreak instead of spacer."),"\n"):e.nestedCues.length?e.nestedCues.map(t).join(""):n+e.payload+r}var r=e.map((function(e){if(e.nestedCues.length){var r=e.clone();return r.nestedCues=[],r.payload=t(e),r}return e})),n=[];e=this.g.cues?Array.from(this.g.cues):[];for(var i={},a=(r=c(r)).next();!a.done;i={rb:i.rb},a=r.next())i.rb=a.value,e.some(function(e){return function(t){return t.startTime==e.rb.startTime&&t.endTime==e.rb.endTime&&t.text==e.rb.payload}}(i))||(a=es(i.rb))&&n.push(a);for(i=(e=c(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!i.done;i=e.next())this.g.addCue(i.value)},n.destroy=function(){return this.g&&(ts(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=null,Promise.resolve()},n.isTextVisible=function(){return"showing"==this.g.mode},n.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"},z("shaka.text.SimpleTextDisplayer",Jo),Jo.prototype.setTextVisibility=Jo.prototype.setTextVisibility,Jo.prototype.isTextVisible=Jo.prototype.isTextVisible,Jo.prototype.destroy=Jo.prototype.destroy,Jo.prototype.append=Jo.prototype.append,Jo.prototype.remove=Jo.prototype.remove,z("shaka.util.Dom",rs),rs.removeAllChildren=ns,(n=is.prototype).append=function(e){for(var t=[].concat(d(this.j)),r={},n=(e=c(e)).next();!n.done;r={dc:r.dc},n=e.next())r.dc=n.value,t.some(function(e){return function(t){return ht(t,e.dc)}}(r))||this.j.push(r.dc);as(this)},n.destroy=function(){this.m.removeChild(this.i),this.i=null,this.u=!1,this.j=[],this.D&&this.D.stop(),this.l.clear(),this.h&&(this.h.release(),this.h=null),this.s&&(this.s.disconnect(),this.s=null)},n.remove=function(e,t){return!!this.i&&(this.j=this.j.filter((function(r){return r.startTime<e||r.endTime>=t})),as(this),!0)},n.isTextVisible=function(){return this.u},n.setTextVisibility=function(e){this.u=e},z("shaka.text.UITextDisplayer",is),is.prototype.setTextVisibility=is.prototype.setTextVisibility,is.prototype.isTextVisible=is.prototype.isTextVisible,is.prototype.remove=is.prototype.remove,is.prototype.destroy=is.prototype.destroy,is.prototype.append=is.prototype.append,z("shaka.text.WebVttGenerator",(function(){})),z("shaka.util.ConfigUtils",ls),ls.convertToConfigObject=cs,ls.mergeConfigObjects=us,z("shaka.util.PlayerConfiguration",ds),ds.mergeConfigObjects=ps,v(Es,ta),(n=Es.prototype).destroy=function(){var e,t=this;return D((function(r){switch(r.g){case 1:return t.l==Al?r.return():(t.l=Al,e=Yo(t.ca,(function(){return{node:t.ra,payload:il(),gb:!1}})),E(r,new Promise((function(t){e.Db=function(){},e.Cc=function(){t()},e.jb=function(){t()},e.onError=function(){t()},e.Ec=function(){t()}})),2));case 2:return E(r,t.ca.destroy(),3);case 3:if(t.h&&(t.h.release(),t.h=null),t.Zc=null,t.u=null,t.o=null,t.j=null,t.kc=null,!t.O){r.v(0);break}return E(r,t.O.destroy(),5);case 5:t.O=null,_(r)}}))},n.Mb=function(e,t){if(t=void 0===t||t,this.l==Al)return Promise.reject(rl());var r=il();r.G=e,Ve()||(t=!1);var n=t?this.Ea:this.Oa,i=Yo(this.ca,(function(){return{node:n,payload:r,gb:!1}}));return i.Db=function(){},al(i)},n.detach=function(){var e=this;if(this.l==Al)return Promise.reject(rl());var t=Yo(this.ca,(function(){return{node:e.ra,payload:il(),gb:!1}}));return t.Db=function(){},al(t)},n.Pd=function(e){var t=this;if(e=void 0===e||e,this.l==Al)return Promise.reject(rl());Ve()||(e=!1);var r=il(),n=Yo(this.ca,(function(n){var i=n.G&&e?t.Ea:n.G?t.Oa:t.ra;return r.G=n.G,{node:i,payload:r,gb:!1}}));return n.Db=function(){},al(n)},n.load=function(e,t,r){var n=this;if(this.l==Al)return Promise.reject(rl());this.dispatchEvent(_s(hl));var i=il();i.uri=e,i.Nd=Date.now()/1e3,r&&(i.mimeType=r),void 0!==t&&(i.startTime=t);var a=function(e,t){if(!Ve())return!0;var r=t.mimeType,n=t.uri||"";if(r||(r={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[qa(n)]),r){if(""==(t.G||Xe()).canPlayType(r))return!1;if(!Ve()||!(r in Xa)&&!(qa(n)in Ya)||e.o.streaming.preferNativeHls)return!0;if(Ge())return e.o.streaming.useNativeHlsOnSafari}return!1}(this,i)?this.Ma:this.N,o=Yo(this.ca,(function(e){return null==e.G?null:(i.G=e.G,{node:a,payload:i,gb:!0})}));return this.j=new ks,o.Db=function(){},new Promise((function(e,t){o.Ec=function(){return t(new ce(2,7,7002))},o.Cc=function(){e(),n.dispatchEvent(_s(pl))},o.jb=function(){return t(rl())},o.onError=function(e){return t(e)}}))},n.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=cs(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(Se("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),e.streaming&&e.streaming.lowLatencyMode&&(void 0==e.streaming.inaccurateManifestTolerance&&(e.streaming.inaccurateManifestTolerance=0),void 0==e.streaming.rebufferingGoal&&(e.streaming.rebufferingGoal=.01));var r=ps(this.o,e,As(this));return Ps(this),r},n.getConfiguration=function(){var e=As(this);return ps(e,this.o,As(this)),e},n.zf=function(){for(var e in this.o)delete this.o[e];ps(this.o,As(this),As(this)),Ps(this)},n.Qe=function(){return this.l},n.Ue=function(){return this.g},n.Rb=function(){return this.O},n.hd=function(){return this.Va},n.Yd=function(){return this.L?this.L:null},n.Y=function(){return this.A?this.A.presentationTimeline.Y():!(!this.g||!this.g.src)&&1/0==this.g.duration},n.ib=function(){return!!this.A&&this.A.presentationTimeline.ib()},n.gf=function(){if(this.A){var e=this.A.variants;return!!e.length&&!e[0].video}return!(!this.g||!this.g.src)&&(this.g.videoTracks?0==this.g.videoTracks.length:0==this.g.videoHeight)},n.Fd=function(){if(this.A){var e=this.A.presentationTimeline;return{start:e.xb(),end:e.Qa()}}return this.g&&this.g.src&&(e=this.g.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},n.keySystem=function(){return xa(this.drmInfo())},n.drmInfo=function(){return this.m?this.m.i:null},n.Qb=function(){return this.m?this.m.Qb():1/0},n.xc=function(){return this.m?this.m.xc():{}},n.md=function(){return!!this.H&&this.H.g==$i},n.We=function(){return this.g?this.F?this.F.i:1:0},n.If=function(e){0==e?Z("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.F.set(e),this.l==Il&&(this.u.playbackRateChanged(e),jo(this.i,1<Math.abs(e))))},n.Ce=function(){var e=this.F.wc();this.l==Rl&&this.F.set(e),this.l==Il&&(this.F.set(e),this.u.playbackRateChanged(e),jo(this.i,!1))},n.jd=function(){if(this.A){for(var e=this.i?this.i.h:null,t=[],r=c(this.A.variants),n=r.next();!n.done;n=r.next())if(xi(n=n.value)){var i=ki(n);i.active=n==e,t.push(i)}return t}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map((function(e){return Ti(e)})):[]},n.yb=function(){if(this.A){for(var e=this.i?this.i.i:null,t=[],r=c(this.A.textStreams),n=r.next();!n.done;n=r.next()){var i=Ei(n=n.value);i.active=n==e,t.push(i)}return t}return this.g&&this.g.src&&this.g.textTracks?Cs(this).map((function(e){var t=wi(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t})):[]},n.Oe=function(){return this.A?this.A.imageStreams.map((function(e){return _i(e)})):[]},n.df=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y=this;return D((function(b){return 1==b.g?y.A?(r=y.A.imageStreams.find((function(t){return t.id==e})))?r.segmentIndex?b.v(3):E(b,r.createSegmentIndex(),3):b.return(null):b.v(2):2!=b.g?null==(n=r.segmentIndex.find(t))?b.return(null):(i=r.segmentIndex.get(n),(a=/(\d+)x(\d+)/.exec(r.tilesLayout))?(o=r.width||0,s=r.height||0,l=parseInt(a[1],10),u=parseInt(a[2],10),c=o/l,d=s/u,p=f=0,1<(h=l*u)&&(g=t-i.startTime,m=i.endTime-i.startTime,v=Math.floor(g*h/m),f=v%l/l*o,p=v%u/u*s),b.return({height:d,positionX:f,positionY:p,uris:i.ma(),width:c})):b.return(null)):b.return(null)}))},n.me=function(e){if(this.A&&this.i){var t=this.A.textStreams.find((function(t){return t.id==e.id}));t&&t!=this.i.i&&(bs(this.j.g,t,!1),Uo(this.i,t),Vs(this),this.pa=t.language)}else if(this.g&&this.g.src&&this.g.textTracks){for(var r=(t=c(t=Cs(this))).next();!r.done;r=t.next())Si(r=r.value)==e.id?r.mode=this.X?"showing":"hidden":r.mode="disabled";Vs(this)}},n.ne=function(e,t,r){if(t=void 0!==t&&t,r=void 0===r?0:r,this.A&&this.i){this.o.abr.enabled&&Z("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var n=this.A.variants.find((function(t){return t.id==e.id}));n&&xi(n)&&(Ns(this,n,!1,t,r),this.oa=new Fi(n),Ls(this))}else if(this.g&&this.g.audioTracks)for(r=(t=c(t=Array.from(this.g.audioTracks))).next();!r.done;r=t.next())if(Si(r=r.value)==e.id){Us(this,r);break}},n.Le=function(){return tl(this.jd())},n.cf=function(){return tl(this.yb())},n.Ke=function(){return Array.from(el(this.jd()))},n.bf=function(){return Array.from(el(this.yb()))},n.Gd=function(e,t){if(this.A&&this.D){if(this.oa=new zi(e,t||"",0,""),!this.o.abr.enabled){for(var r=function(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0},n=this.i.h,i=this.oa.create(this.A.variants),a=null,o=(i=c(i.values())).next();!o.done;o=i.next())o=o.value,(!a||r(a,n)>r(o,n))&&(a=o);if(a)return r=ki(a),void this.ne(r,!0)}js(this)}else if(this.g&&this.g.audioTracks){for(i=Array.from(this.g.audioTracks),r=ii(e),a=n=null,o=(i=c(i)).next();!o.done;o=i.next()){var s=Ti(o=o.value);ii(s.language)==r&&(n=o,t?s.roles.includes(t)&&(a=o):0==s.roles.length&&(a=o))}a?Us(this,a):n&&Us(this,n)}},n.Hd=function(e,t,r){if(r=void 0!==r&&r,this.A&&this.D)this.pa=e,this.Wa=t||"",this.mc=r,(e=Pi(this.A.textStreams,this.pa,this.Wa,this.mc)[0]||null)&&e!=this.i.i&&(bs(this.j.g,e,!1),this.o.streaming.alwaysStreamText||this.nd())&&(Uo(this.i,e),Vs(this));else{var n=ii(e);(e=this.yb().find((function(e){return ii(e.language)==n&&(!t||e.roles.includes(t))&&e.forced==r})))&&this.me(e)}},n.Af=function(e){if(this.A&&this.D){for(var t=null,r=c(this.A.variants),n=r.next();!n.done;n=r.next())if((n=n.value).audio.label==e){t=n;break}null!=t&&(this.oa=new zi(t.language,"",0,e),js(this))}},n.nd=function(){var e=this.X;return this.I?this.I.m.isTextVisible():this.g&&this.g.src&&this.g.textTracks?Cs(this).some((function(e){return"showing"==e.mode})):e},n.Gf=function(e){if(e=!!e,this.X!=e){if(this.X=e,this.l==Il)this.I.m.setTextVisibility(e),this.o.streaming.alwaysStreamText||(e?this.i.i||0<(e=Pi(this.A.textStreams,this.pa,this.Wa,this.mc)).length&&(Uo(this.i,e[0]),Vs(this)):function(e){var t=e.g.get(dn);t&&(Go(t),Zo(t).catch((function(){})),e.g.delete(dn)),e.i=null}(this.i));else if(this.g&&this.g.src&&this.g.textTracks)for(var t=Cs(this),r=(t=c(t)).next();!r.done;r=t.next())"disabled"!=(r=r.value).mode&&(r.mode=e?"showing":"hidden");Ws(this)}},n.Ye=function(){if(!this.Y())return null;var e=this.ca.l,t=0;if(this.D)t=this.D.l();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.A?new Date(1e3*(this.A.presentationTimeline.j+t)):this.g&&this.g.getStartDate?(e=this.g.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},n.Zd=function(){if(!this.Y())return null;if(this.A)return new Date(1e3*this.A.presentationTimeline.j);if(this.g&&this.g.getStartDate){var e=this.g.getStartDate();return isNaN(e.getTime())?null:e}return null},n.vc=function(){if(this.l==Il)return this.I.vc();var e={total:[],audio:[],video:[],text:[]};return this.l==Rl&&(e.total=Hr(this.g.buffered)),e},n.getStats=function(){if(this.l!=Il&&this.l!=Rl)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Ds(this);var e=this.g,t=e.currentTime/e.duration;if(!isNaN(t)){var r=this.j;t=Math.round(100*t),r.i=isNaN(r.i)?t:Math.max(r.i,t)}e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),r=this.j,t=Number(e.totalVideoFrames),r.S=Number(e.droppedVideoFrames),r.N=t,this.j.L=Number(e.corruptedVideoFrames)),this.m?e=(e=this.m).H?e.H:NaN:e=NaN,this.j.m=e,this.l==Il&&((e=this.i.h)&&(this.j.u=(this.F?this.F.i:1)*e.bandwidth),e&&e.video&&(r=this.j,t=e.video.height||NaN,r.X=e.video.width||NaN,r.D=t),this.Y()&&(e=this.Zd().valueOf()+1e3*this.Fd().end,this.j.F=(Date.now()-e)/1e3),this.A&&this.A.presentationTimeline&&(this.j.I=this.A.presentationTimeline.g),e=this.u.getBandwidthEstimate(),this.j.s=e);var n=this.j;e=n.X,r=n.D,t=n.u;for(var i=n.N,a=n.S,o=n.L,s=n.s,l=n.i,u=n.l,d=n.H,f=n.j,p=ms(n.h,"playing"),h=ms(n.h,"paused"),g=ms(n.h,"buffering"),m=n.m,v=n.F,y=n.I,b=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var r=[],n=c(e.h),i=n.next();!i.done;i=n.next())r.push(t(i.value));return e.g&&r.push(t(e.g)),r}(n.h),k=[],E=(n=c(n.g.g)).next();!E.done;E=n.next())E=E.value,k.push({timestamp:E.timestamp,id:E.id,type:E.type,fromAdaptation:E.fromAdaptation,bandwidth:E.bandwidth});return{width:e,height:r,streamBandwidth:t,decodedFrames:i,droppedFrames:a,corruptedFrames:o,estimatedBandwidth:s,completionPercent:l,loadLatency:u,manifestTimeSeconds:d,drmTimeSeconds:f,playTime:p,pauseTime:h,bufferingTime:g,licenseTime:m,liveLatency:v,maxSegmentDuration:y,stateHistory:b,switchHistory:k}},n.addTextTrack=function(e,t,r,n,i,a,o){if(o=void 0!==o&&o,Se("addTextTrack","Please use an addTextTrackAsync."),this.l!=Il&&this.l!=Rl)throw new ce(1,7,7004);if(!n){var s=qa(e);if(!(n={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"}[s]))throw new ce(1,2,2011,s)}if(this.l==Rl){if("text/vtt"!=n)throw new ce(1,2,2013,n);if(o&&(r="forced"),(n=document.createElement("track")).src=e,n.label=a||"",n.kind=r,n.srclang=t,this.g.getAttribute("crossorigin")||this.g.setAttribute("crossorigin","anonymous"),this.g.appendChild(n),e=this.yb().find((function(e){return e.language==t&&e.label==(a||"")&&e.kind==r})))return Fs(this),e;throw new ce(1,2,2012)}if(1/0==(s=this.A.presentationTimeline.getDuration()))throw new ce(1,4,4033);if(!Pn(_n((e={id:this.gd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:_o(0,s,[e]),mimeType:n||"",codecs:i||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:dn,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}).mimeType,e.codecs)))throw new ce(2,2,2014,n);return this.A.textStreams.push(e),Fs(this),Ei(e)},n.ye=function(e,t,r,n,i,a,o){o=void 0!==o&&o;var s,l,u,d,f,p,h,g,m,v,y,b=this;return D((function(k){switch(k.g){case 1:if(b.l!=Il&&b.l!=Rl)throw new ce(1,7,7004);if(n){k.v(2);break}if(s=qa(e),n={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"}[s]){k.v(3);break}return S(k,4),E(k,Za(e,b.O,b.o.streaming.retryParameters),6);case 6:n=k.h,w(k,3);break;case 4:x(k);case 3:if(!n)throw new ce(1,2,2011,s);case 2:if(b.l!=Rl){k.v(7);break}if("text/vtt"==n){k.v(8);break}return E(k,function(e,t,r){var n,i,a;return D((function(o){return 1==o.g?(n=da,(i=la([e],r)).method="GET",E(o,t.request(n,i).promise,2)):(a=o.h,o.return(a.data))}))}(e,b.O,b.o.streaming.retryParameters),9);case 9:l=k.h,u=function(e,t,r){var n=Mn[r];if(n)return r=n(),e={periodStart:0,segmentStart:0,segmentEnd:e.g.duration},t=se(t),function(e){function t(e){var r=[],n=700<=e.fontWeight,i="italic"==e.fontStyle,a=e.textDecoration.includes("underline");return n&&r.push("b"),i&&r.push("i"),a&&r.push("u"),n=r.reduce((function(e,t){return e+"<"+t+">"}),""),r=r.reduceRight((function(e,t){return e+"</"+t+">"}),""),e.lineBreak||e.spacer?(e.spacer&&Se("shaka.text.Cue","Please use lineBreak instead of spacer."),"\n"):e.nestedCues.length?e.nestedCues.map(t).join(""):n+e.payload+r}var r=e.map((function(e){if(e.nestedCues.length){var r=e.clone();return r.nestedCues=[],r.payload=t(e),r}return e}));e="WEBVTT\n\n";for(var n=(r=c(r)).next();!n.done;n=r.next()){var i=function(e){var t=Math.floor(e/3600),r=Math.floor(e/60%60),n=Math.floor(e%60);return(10>t?"0":"")+t+":"+(10>r?"0":"")+r+":"+(10>n?"0":"")+n+"."+(100>(e=Math.floor(1e3*e%1e3))?10>e?"00":"0":"")+e};e+=i((n=n.value).startTime)+" --\x3e "+i(n.endTime)+"\n",e+=n.payload+"\n\n"}return e}(t=r.parseMedia(t,e));throw new ce(2,2,2014,r)}(b,l,n),d=new Blob([u],{type:"text/vtt"}),e=ei(d),n="text/vtt";case 8:if(o&&(r="forced"),(f=document.createElement("track")).src=e,f.label=a||"",f.kind=r,f.srclang=t,b.g.getAttribute("crossorigin")||b.g.setAttribute("crossorigin","anonymous"),b.g.appendChild(f),p=b.yb(),h=p.find((function(e){return e.language==t&&e.label==(a||"")&&e.kind==r})))return Fs(b),k.return(h);throw new ce(1,2,2012);case 7:if(g=fn,1/0==(m=b.A.presentationTimeline.getDuration()))throw new ce(1,4,4033);if(v={id:b.gd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:_o(0,m,[e]),mimeType:n||"",codecs:i||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:g.fa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},y=_n(v.mimeType,v.codecs),!Pn(y))throw new ce(2,2,2014,n);return b.A.textStreams.push(v),Fs(b),k.return(Ei(v))}}))},n.Kd=function(e,t){this.fd.width=e,this.fd.height=t},n.Dd=function(){if(this.l==Il){var e=this.i;if(e.J.g)e=!1;else if(e.l)e=!1;else{for(var t=c(e.g.values()),r=t.next();!r.done;r=t.next())(r=r.value).Ub&&(r.Ub=!1,Ko(e,r,.1));e=!0}}else e=!1;return e},n.Re=function(){return Z("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.A},n.Se=function(){return this.pc},n.re=function(e){this.kc=e},n.uc=function(e){var t=this;return D((function(r){if(1==r.g)return E(r,function(e,t){var r;return D((function(n){if(1==n.g)return r=e.i?e.i.h:null,E(n,fi(e.m,r,t,e.o.useMediaCapabilities),2);Qs(t),_(n)}))}(t,e),2);Ms(t,e),_(r)}))},z("shaka.Player",Es),Es.prototype.setVideoContainer=Es.prototype.re,Es.prototype.getManifestParserFactory=Es.prototype.Se,Es.prototype.getManifest=Es.prototype.Re,Es.prototype.retryStreaming=Es.prototype.Dd,Es.prototype.setMaxHardwareResolution=Es.prototype.Kd,Es.prototype.addTextTrackAsync=Es.prototype.ye,Es.prototype.addTextTrack=Es.prototype.addTextTrack,Es.prototype.getStats=Es.prototype.getStats,Es.prototype.getBufferedInfo=Es.prototype.vc,Es.prototype.getPresentationStartTimeAsDate=Es.prototype.Zd,Es.prototype.getPlayheadTimeAsDate=Es.prototype.Ye,Es.prototype.setTextTrackVisibility=Es.prototype.Gf,Es.prototype.isTextTrackVisible=Es.prototype.nd,Es.prototype.selectVariantsByLabel=Es.prototype.Af,Es.prototype.selectTextLanguage=Es.prototype.Hd,Es.prototype.selectAudioLanguage=Es.prototype.Gd,Es.prototype.getTextLanguages=Es.prototype.bf,Es.prototype.getAudioLanguages=Es.prototype.Ke,Es.prototype.getTextLanguagesAndRoles=Es.prototype.cf,Es.prototype.getAudioLanguagesAndRoles=Es.prototype.Le,Es.prototype.selectVariantTrack=Es.prototype.ne,Es.prototype.selectTextTrack=Es.prototype.me,Es.prototype.getThumbnails=Es.prototype.df,Es.prototype.getImageTracks=Es.prototype.Oe,Es.prototype.getTextTracks=Es.prototype.yb,Es.prototype.getVariantTracks=Es.prototype.jd,Es.prototype.cancelTrickPlay=Es.prototype.Ce,Es.prototype.trickPlay=Es.prototype.If,Es.prototype.getPlaybackRate=Es.prototype.We,Es.prototype.isBuffering=Es.prototype.md,Es.prototype.getKeyStatuses=Es.prototype.xc,Es.prototype.getExpiration=Es.prototype.Qb,Es.prototype.drmInfo=Es.prototype.drmInfo,Es.prototype.keySystem=Es.prototype.keySystem,Es.prototype.seekRange=Es.prototype.Fd,Es.prototype.isAudioOnly=Es.prototype.gf,Es.prototype.isInProgress=Es.prototype.ib,Es.prototype.isLive=Es.prototype.Y,Es.prototype.getAdManager=Es.prototype.Yd,Es.prototype.getAssetUri=Es.prototype.hd,Es.prototype.getNetworkingEngine=Es.prototype.Rb,Es.prototype.getMediaElement=Es.prototype.Ue,Es.prototype.getLoadMode=Es.prototype.Qe,Es.prototype.resetConfiguration=Es.prototype.zf,Es.prototype.getConfiguration=Es.prototype.getConfiguration,Es.prototype.configure=Es.prototype.configure,Es.prototype.load=Es.prototype.load,Es.prototype.unload=Es.prototype.Pd,Es.prototype.detach=Es.prototype.detach,Es.prototype.attach=Es.prototype.Mb,Es.probeSupport=function(e){var t,r,n,i,a;return e=void 0===e||e,D((function(o){if(1==o.g)return t={},e?E(o,function(){var e,t,r,n,i,a;return D((function(o){return 1==o.g?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),r=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:t}],n=new Map,i=function(e){var t,i,a;return D((function(o){switch(o.g){case 1:return S(o,2),E(o,navigator.requestMediaKeySystemAccess(e,r),4);case 4:return t=o.h,a=!!(i=t.getConfiguration().sessionTypes)&&i.includes("persistent-license"),qe("Tizen 3")&&(a=!1),n.set(e,{persistentState:a}),E(o,t.createMediaKeys(),5);case 5:w(o,0);break;case 2:x(o),n.set(e,null),_(o)}}))},a=e.map((function(e){return i(e)})),E(o,Promise.all(a),2)):o.return(ya(n))}))}(),3):o.v(2);2!=o.g&&(t=o.h);var s={};if(Ve()){for(var l in Xa)s[l]=!0;for(var u in Ya)s[u]=!0}l={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var d=(u=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!d.done;d=u.next())s[d=d.value]=Ve()?!!Xa[d]:We(d);for(var f in l)s[f]=Ve()?!!Ya[f]:We(l[f]);for(r=s,s={},l=(f=c('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(","))).next();!l.done;l=f.next())s[l=l.value]=Ve()?!!Pn(l)||(MediaSource.isTypeSupported(l)||bn(l)):We(l),s[u=l.split(";")[0]]=s[u]||s[l];for(a in n={manifest:r,media:s,drm:t},i=jl)n[a]=i[a]();return o.return(n)}))},Es.isBrowserSupported=function(){if(e.Promise||Z("A Promise implementation or polyfill is required"),e.TextDecoder&&e.TextEncoder||Z("A TextDecoder/TextEncoder implementation or polyfill is required"),!(e.Promise&&e.Uint8Array&&e.TextDecoder&&e.TextEncoder&&Array.prototype.forEach)||qe("Trident/"))return!1;var t=Ze();return!(t&&12>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Ve()||We("application/x-mpegurl"))},Es.setAdManagerFactory=function(e){Nl=e},Es.registerSupportPlugin=function(e,t){jl[e]=t},Es.prototype.destroy=Es.prototype.destroy;var ol="abrstatuschanged",sl="adaptation",ll="buffering",ul="drmsessionupdate",cl="emsg",dl="error",fl="expirationupdated",pl="loaded",hl="loading",gl="manifestparsed",ml="metadata",vl="onstatechange",yl="onstateidle",bl="ratechange",kl="streaming",El="textchanged",_l="texttrackvisibility",Sl="timelineregionadded",Tl="timelineregionenter",wl="timelineregionexit",xl="trackschanged",Ol="unloading",Pl="variantchanged",Cl={Pf:ol,Qf:sl,Rf:ll,Sf:ul,Uf:cl,Error:dl,Vf:fl,Xf:"largegap",Yf:pl,Zf:hl,$f:gl,Metadata:ml,ag:vl,bg:yl,cg:bl,dg:"sessiondata",eg:kl,fg:El,gg:_l,hg:Sl,ig:Tl,jg:wl,kg:xl,lg:Ol,mg:Pl},Al=0,Ml=1,Il=2,Rl=3;Es.LoadMode={DESTROYED:Al,NOT_LOADED:Ml,MEDIA_SOURCE:Il,SRC_EQUALS:Rl},Es.version="v3.1.1";var Dl=["3","1"];xe=new function(e){this.g=e,this.i=Te,this.h=we}(new _e(Number(Dl[0]),Number(Dl[1])));var Ll=["output-restricted","internal-error"],jl={},Nl=null;function Ul(){this.h=[],this.j=this.i=this.g=0}function Bl(e,t){var r=this;this.i=e,this.g=t,this.j=!1,this.l=this.g.getVolume(),this.h=new jn,this.h.B(this.g,google.ima.AdEvent.Type.PAUSED,(function(){r.j=!0})),this.h.B(this.g,google.ima.AdEvent.Type.RESUMED,(function(){r.j=!1}))}function Fl(e,t,r,n){var i=this;this.m=e,this.g=t,this.u=NaN,this.j=n,this.s=null,this.h=new jn,google.ima.settings.setLocale(r),(e=new google.ima.AdDisplayContainer(this.m,this.g)).initialize(),this.l=new google.ima.AdsLoader(e),this.l.getSettings().setPlayerType("shaka-player"),this.l.getSettings().setPlayerVersion("v3.1.1"),this.i=null,this.h.ua(this.l,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){!function(t,r){t.j(new ea("ads-loaded",{loadTime:Date.now()/1e3-t.u})),t.i=r.getAdsManager(t.g),t.j(new ea("ima-ad-manager-loaded",{imaAdManager:t.i}));var n=t.i.getCuePoints();if(n.length){for(var i=[],a=(n=c(n)).next();!a.done;a=n.next())i.push(new Gl(a.value));t.j(new ea("ad-cue-points-changed",{cuepoints:i}))}!function(e){e.h.B(e.i,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){zl(e,t)})),e.h.B(e.i,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){Vl(e,t)})),e.h.B(e.i,google.ima.AdEvent.Type.STARTED,(function(t){Vl(e,t)})),e.h.B(e.i,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e.j(new ea("ad-first-quartile",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.MIDPOINT,(function(t){e.j(new ea("ad-midpoint",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e.j(new ea("ad-third-quartile",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.COMPLETE,(function(t){e.j(new ea("ad-complete",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){Wl(e,t)})),e.h.B(e.i,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){Wl(e,t)})),e.h.B(e.i,google.ima.AdEvent.Type.SKIPPED,(function(t){e.j(new ea("ad-skipped",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e.j(new ea("ad-volume-changed",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e.j(new ea("ad-muted",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.PAUSED,(function(t){e.s.j=!0,e.j(new ea("ad-paused",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.RESUMED,(function(t){e.s.j=!1,e.j(new ea("ad-resumed",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){e.j(new ea("ad-skip-state-changed",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.CLICK,(function(t){e.j(new ea("ad-clicked",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e.j(new ea("ad-progress",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.j(new ea("ad-buffering",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.IMPRESSION,(function(t){e.j(new ea("ad-impression",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e.j(new ea("ad-duration-changed",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e.j(new ea("ad-closed",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.LOADED,(function(t){e.j(new ea("ad-loaded",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.j(new ea("all-ads-completed",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e.j(new ea("ad-linear-changed",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.AD_METADATA,(function(t){e.j(new ea("ad-metadata",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.LOG,(function(t){e.j(new ea("ad-recoverable-error",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e.j(new ea("ad-break-ready",{originalEvent:t}))})),e.h.B(e.i,google.ima.AdEvent.Type.INTERACTION,(function(t){e.j(new ea("ad-interaction",{originalEvent:t}))}))}(t);try{t.i.init(t.g.offsetWidth,t.g.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),t.h.B(t.g,"loadeddata",(function(){t.i.resize(t.g.offsetWidth,t.g.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.i.start()}catch(e){Wl(t,null)}}(i,e)})),this.h.B(this.l,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){zl(i,e)})),this.g.onended=function(){i.l.contentComplete()}}function zl(e,t){t.getError(),Wl(e,null),e.j(new ea("ad-cue-points-changed",{cuepoints:[]}))}function Vl(e,t){var r=t.getAd();e.s=new Bl(r,e.i),e.j(new ea("ad-started",{ad:e.s,sdkAdObject:r,originalEvent:t})),e.m.setAttribute("ad-active","true"),e.g.pause()}function Wl(e,t){e.j(new ea("ad-stopped",{originalEvent:t})),e.m.removeAttribute("ad-active"),e.g.play()}function $l(e,t){this.i=e,this.h=null,this.g=t}function Hl(e,t,r,n){var i=this;this.u=e,this.g=t,this.l=null,this.I=NaN,this.j=n,this.H=!1,this.D=this.m=this.s=null,this.F="",this.h=new jn,(e=new google.ima.dai.api.UiSettings).setLocale(r),this.i=new google.ima.dai.api.StreamManager(this.g,this.u,e),this.j(new ea("ima-stream-manager-loaded",{imaStreamManager:this.i})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.j(new ea("ads-loaded",{loadTime:Date.now()/1e3-e.I}));var r=t.getStreamData().url;e.l.resolve(r),e.l=null,e.H||e.h.B(e.g,"seeked",(function(){var t=e.g.currentTime;if(0!=t){e.i.streamTimeForContentTime(t);var r=e.i.previousCuePointForStreamTime(t);r&&!r.played&&(e.s=t,e.g.currentTime=r.start)}}))}(i,e)})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.F.length?i.l.resolve(i.F):i.l.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.l=null})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),i.m=new $l(e,i.g),i.D&&(i.m.h=i.D),i.j(new ea("ad-started",{ad:i.m})),i.u.setAttribute("ad-active","true")})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.u.removeAttribute("ad-active");var e=i.g.currentTime;i.s&&i.s>e&&(i.g.currentTime=i.s,i.s=null)})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.D=e.getStreamData().adProgressData,i.m&&(i.m.h=i.D)})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.j(new ea("ad-first-quartile"))})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.j(new ea("ad-midpoint"))})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.j(new ea("ad-third-quartile"))})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.j(new ea("ad-complete")),i.j(new ea("ad-stopped")),i.u.removeAttribute("ad-active"),i.m=null})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.j(new ea("ad-skipped")),i.j(new ea("ad-stopped"))})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var r=(t=c(t.cuepoints)).next();!r.done;r=t.next())r=r.value,e.push(new Gl(r.start,r.end));i.j(new ea("ad-cue-points-changed",{cuepoints:e}))}))}function Kl(){ta.call(this),this.g=this.h=null,this.j=new Ul,this.i=navigator.language}function Gl(e,t){this.start=e,this.end=void 0===t?null:t}function Zl(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof ea){var r={};for(i in t){var n=t[i];n&&"object"==typeof n?"detail"==i&&(r[i]=n):i in Event||(r[i]=n)}return r}if(t instanceof Error){var i=new Set(["name","message","stack"]);for(r in t)i.add(r);for(r=(n=c(Object.getOwnPropertyNames(t))).next();!r.done;r=n.next())i.add(r.value);for(n={},r=(i=c(i)).next();!r.done;r=i.next())n[r=r.value]=t[r];i={__type__:"Error",contents:n}}else if(t instanceof TimeRanges)for(i={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=(r=c(Hr(t))).next();!n.done;n=r.next()){var a=(n=n.value).end;i.start.push(n.start),i.end.push(a)}else i=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return i}}))}function ql(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var r=NaN;else if("-Infinity"==t)r=-1/0;else if("Infinity"==t)r=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)r=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)r=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){r=t.contents;var n,i=Error(r.message);for(n in r)i[n]=r[n];r=i}else r=t;return r}))}(n=Bl.prototype).getDuration=function(){return this.i.getDuration()},n.getMinSuggestedDuration=function(){return this.i.getMinSuggestedDuration()},n.getRemainingTime=function(){return this.g.getRemainingTime()},n.isPaused=function(){return this.j},n.isSkippable=function(){return 0<=this.i.getSkipTimeOffset()},n.getTimeUntilSkippable=function(){var e=this.i.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},n.canSkipNow=function(){return this.g.getAdSkippableState()},n.skip=function(){return this.g.skip()},n.pause=function(){return this.g.pause()},n.play=function(){return this.g.resume()},n.getVolume=function(){return this.g.getVolume()},n.setVolume=function(e){return this.g.setVolume(e)},n.isMuted=function(){return 0==this.g.getVolume()},n.resize=function(e,t){this.g.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},n.setMuted=function(e){e?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},n.getSequenceLength=function(){var e=this.i.getAdPodInfo();return null==e?1:e.getTotalAds()},n.getPositionInSequence=function(){var e=this.i.getAdPodInfo();return null==e?1:e.getAdPosition()},n.release=function(){this.g=this.i=null},z("shaka.ads.ClientSideAd",Bl),Bl.prototype.release=Bl.prototype.release,Bl.prototype.getPositionInSequence=Bl.prototype.getPositionInSequence,Bl.prototype.getSequenceLength=Bl.prototype.getSequenceLength,Bl.prototype.setMuted=Bl.prototype.setMuted,Bl.prototype.resize=Bl.prototype.resize,Bl.prototype.isMuted=Bl.prototype.isMuted,Bl.prototype.setVolume=Bl.prototype.setVolume,Bl.prototype.getVolume=Bl.prototype.getVolume,Bl.prototype.play=Bl.prototype.play,Bl.prototype.pause=Bl.prototype.pause,Bl.prototype.skip=Bl.prototype.skip,Bl.prototype.canSkipNow=Bl.prototype.canSkipNow,Bl.prototype.getTimeUntilSkippable=Bl.prototype.getTimeUntilSkippable,Bl.prototype.isSkippable=Bl.prototype.isSkippable,Bl.prototype.isPaused=Bl.prototype.isPaused,Bl.prototype.getRemainingTime=Bl.prototype.getRemainingTime,Bl.prototype.getMinSuggestedDuration=Bl.prototype.getMinSuggestedDuration,Bl.prototype.getDuration=Bl.prototype.getDuration,Fl.prototype.stop=function(){this.i&&this.i.stop(),this.m&&ns(this.m)},(n=$l.prototype).getDuration=function(){return this.h?this.h.duration:-1},n.getMinSuggestedDuration=function(){return this.getDuration()},n.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},n.isPaused=function(){return this.g.paused},n.isSkippable=function(){return this.i.isSkippable()},n.getTimeUntilSkippable=function(){var e=this.i.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},n.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},n.skip=function(){this.g.currentTime+=this.getRemainingTime()},n.pause=function(){return this.g.pause()},n.play=function(){return this.g.play()},n.getVolume=function(){return this.g.volume},n.setVolume=function(e){this.g.volume=e},n.isMuted=function(){return this.g.muted},n.resize=function(){},n.setMuted=function(e){this.g.muted=e},n.getSequenceLength=function(){var e=this.i.getAdPodInfo();return null==e?1:e.getTotalAds()},n.getPositionInSequence=function(){var e=this.i.getAdPodInfo();return null==e?1:e.getAdPosition()},n.release=function(){this.g=this.h=this.i=null},z("shaka.ads.ServerSideAd",$l),$l.prototype.release=$l.prototype.release,$l.prototype.getPositionInSequence=$l.prototype.getPositionInSequence,$l.prototype.getSequenceLength=$l.prototype.getSequenceLength,$l.prototype.setMuted=$l.prototype.setMuted,$l.prototype.resize=$l.prototype.resize,$l.prototype.isMuted=$l.prototype.isMuted,$l.prototype.setVolume=$l.prototype.setVolume,$l.prototype.getVolume=$l.prototype.getVolume,$l.prototype.play=$l.prototype.play,$l.prototype.pause=$l.prototype.pause,$l.prototype.skip=$l.prototype.skip,$l.prototype.canSkipNow=$l.prototype.canSkipNow,$l.prototype.getTimeUntilSkippable=$l.prototype.getTimeUntilSkippable,$l.prototype.isSkippable=$l.prototype.isSkippable,$l.prototype.isPaused=$l.prototype.isPaused,$l.prototype.getRemainingTime=$l.prototype.getRemainingTime,$l.prototype.getMinSuggestedDuration=$l.prototype.getMinSuggestedDuration,$l.prototype.getDuration=$l.prototype.getDuration,Hl.prototype.stop=function(){this.i.reset(),this.F="",this.s=null},Hl.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.i.onTimedMetadata(t)}},v(Kl,ta),(n=Kl.prototype).setLocale=function(e){this.i=e},n.initClientSide=function(t,r){var n=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new ce(2,10,1e4);this.h=new Fl(t,r,this.i,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":n.j.h.push(e.loadTime);break;case"ad-started":n.j.g++;break;case"ad-complete":n.j.i++;break;case"ad-skipped":n.j.j++}n.dispatchEvent(e)}))},n.onAssetUnload=function(){this.h&&this.h.stop(),this.dispatchEvent(new ea("ad-stopped")),this.j=new Ul},n.requestClientSideAds=function(e){if(!this.h)throw new ce(1,10,10001);var t=this.h;t.u=Date.now()/1e3,t.l.requestAds(e)},n.initServerSide=function(t,r){var n=this;if(!e.google||!google.ima||!google.ima.dai)throw new ce(2,10,10002);this.g=new Hl(t,r,this.i,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":n.j.h.push(e.loadTime);break;case"ad-started":n.j.g++;break;case"ad-complete":n.j.i++;break;case"ad-skipped":n.j.j++}n.dispatchEvent(e)}))},n.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.g)throw new ce(1,10,10003);e.adTagParameters||(e.adTagParameters={});var r=e.adTagParameters;(r.mpt||r.mpv)&&Z('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v3.1.1";var n=t;return(r=this.g).l?r=Promise.reject(new ce(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(r.H=!0),r.l=new hn,r.i.requestStream(e),r.F=n||"",r.I=Date.now()/1e3,r=r.l),r},n.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new ce(1,10,10003);(e.mpt||e.mpv)&&Z('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v3.1.1",this.g.i.replaceAdTagParameters(e)},n.getStats=function(){var e=this.j;return{loadTimes:e.h,started:e.g,playedCompletely:e.i,skipped:e.j}},n.onDashTimedMetadata=function(e){if(this.g&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,r=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.g.i.processMetadata(t,r,e.startTime)}},n.onHlsTimedMetadata=function(e,t){this.g&&this.g.i.processMetadata("ID3",e.data,t)},n.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)},z("shaka.ads.AdManager",Kl),Kl.prototype.onCueMetadataChange=Kl.prototype.onCueMetadataChange,Kl.prototype.onHlsTimedMetadata=Kl.prototype.onHlsTimedMetadata,Kl.prototype.onDashTimedMetadata=Kl.prototype.onDashTimedMetadata,Kl.prototype.getStats=Kl.prototype.getStats,Kl.prototype.replaceServerSideAdTagParameters=Kl.prototype.replaceServerSideAdTagParameters,Kl.prototype.requestServerSideStream=Kl.prototype.requestServerSideStream,Kl.prototype.initServerSide=Kl.prototype.initServerSide,Kl.prototype.requestClientSideAds=Kl.prototype.requestClientSideAds,Kl.prototype.onAssetUnload=Kl.prototype.onAssetUnload,Kl.prototype.initClientSide=Kl.prototype.initClientSide,Kl.prototype.setLocale=Kl.prototype.setLocale,Kl.ADS_LOADED="ads-loaded",Kl.AD_STARTED="ad-started",Kl.AD_FIRST_QUARTILE="ad-first-quartile",Kl.AD_MIDPOINT="ad-midpoint",Kl.AD_THIRD_QUARTILE="ad-third-quartile",Kl.AD_COMPLETE="ad-complete",Kl.AD_STOPPED="ad-stopped",Kl.AD_SKIPPED="ad-skipped",Kl.AD_VOLUME_CHANGED="ad-volume-changed",Kl.AD_MUTED="ad-muted",Kl.AD_PAUSED="ad-paused",Kl.AD_RESUMED="ad-resumed",Kl.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Kl.CUEPOINTS_CHANGED="ad-cue-points-changed",Kl.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Kl.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Kl.AD_CLICKED="ad-clicked",Kl.AD_PROGRESS="ad-progress",Kl.AD_BUFFERING="ad-buffering",Kl.AD_IMPRESSION="ad-impression",Kl.AD_DURATION_CHANGED="ad-duration-changed",Kl.AD_CLOSED="ad-closed",Kl.AD_LOADED="ad-loaded",Kl.ALL_ADS_COMPLETED="all-ads-completed",Kl.AD_LINEAR_CHANGED="ad-linear-changed",Kl.AD_METADATA="ad-metadata",Kl.AD_RECOVERABLE_ERROR="ad-recoverable-error",Kl.AD_BREAK_READY="ad-break-ready",Kl.AD_INTERACTION="ad-interaction",Nl=function(){return new Kl};var Xl="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Yl="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Ql=["loop","playbackRate"],Jl=["pause","play"],eu={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getTextTracks:2,getStats:5,getVariantTracks:2,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},tu={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},ru=[["getConfiguration","configure"]],nu=[["isTextTrackVisible","setTextTrackVisibility"]],iu="addTextTrack addTextTrackAsync cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),au=["attach","detach","load","unload"];function ou(e,t,r,n,i,a){var o=this;this.L=e,this.j=new ze(t),this.ca=r,this.D=!1,this.u=n,this.I=i,this.S=a,this.h=this.m=!1,this.X="",this.s=null,this.F=function(){return du(o)},this.H=function(e,t){var r=ql(t);switch(r.type){case"event":var n=r.targetName;r=new ea((r=r.event).type,r),o.u(n,r);break;case"update":for(var i in n=r.update)for(var a in r=o.g[i]||{},n[i])r[a]=n[i][a];o.D&&(o.ca(),o.D=!1);break;case"asyncComplete":if(i=r.id,r=r.error,a=o.i[i],delete o.i[i],a)if(r){for(n in i=new ce(r.severity,r.category,r.code),r)i[n]=r[n];a.reject(i)}else a.resolve()}},this.g={video:{},player:{}},this.N=0,this.i={},this.l=null,vu.add(this)}function su(e,t,r){mu=r,r.addUpdateListener(e.F),r.addMessageListener("urn:x-cast:com.google.shaka.v2",e.H),du(e),pu(e,{type:"init",initState:t,appData:e.s}),e.l.resolve()}function lu(e,t){var r=8003;switch(t.code){case"cancel":r=8004;break;case"timeout":r=8005;break;case"receiver_unavailable":r=8006}e.l.reject(new ce(2,8,r,t))}function uu(e,t){var r=e.S();e.l=new hn,e.D=!0,su(e,r,t)}function cu(e){var t=mu;t.removeUpdateListener(e.F),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.H)}function du(e){var t=!!mu&&"connected"==mu.status;if(e.h&&!t){for(var r in e.I(),e.g)e.g[r]={};fu(e)}e.h=t,e.X=t?mu.receiver.friendlyName:"",e.j.bc()}function fu(e){for(var t in e.i){var r=e.i[t];delete e.i[t],r.reject(new ce(1,7,7e3))}}function pu(e,t){var r=Zl(t),n=mu;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",r,(function(){}),X)}catch(i){throw n=new ea("error",{detail:r=new ce(2,8,8005,i)}),e.u("player",n),e.ub(),r}}(n=ou.prototype).destroy=function(){return vu.delete(this),fu(this),mu&&cu(this),this.j&&(this.j.stop(),this.j=null),this.I=this.u=null,this.h=this.m=!1,this.H=this.F=this.l=this.i=this.g=this.s=null,Promise.resolve()},n.sa=function(){return this.h},n.Bd=function(){return this.X},n.init=function(){if(this.L.length)if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.bc();var t=new chrome.cast.SessionRequest(this.L);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=c(vu),r=t.next();!r.done;r=t.next())uu(r.value,e)}),(function(e){for(var t=c(vu),r=t.next();!r.done;r=t.next())r=r.value,gu="available"==e,r.j.bc()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),gu&&this.j.T(hu),(t=mu)&&t.status!=chrome.cast.SessionStatus.STOPPED?uu(this,t):mu=null}else e.__onGCastApiAvailable||(e.__onGCastApiAvailable=yu),e.__onGCastApiAvailable!=yu&&Z("A global Cast SDK hook is already installed! Shaka Player will be unable to receive a notification when the Cast SDK is ready.")},n.Id=function(e){this.s=e,this.h&&pu(this,{type:"appData",appData:this.s})},n.cast=function(e){var t=this;return D((function(r){if(!t.m)throw new ce(1,8,8e3);if(!gu)throw new ce(1,8,8001);if(t.h)throw new ce(1,8,8002);return t.l=new hn,chrome.cast.requestSession((function(r){return su(t,e,r)}),(function(e){return lu(t,e)})),E(r,t.l,0)}))},n.ub=function(){if(this.h){if(fu(this),mu){cu(this);try{mu.stop((function(){}),(function(){}))}catch(wg){}mu=null}du(this)}},n.get=function(e,t){var r=this;if("video"==e){if(Jl.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return r.ie.apply(r,[e,t].concat(d(i)))}}else if("player"==e){if(tu[t]&&!this.get("player","isLive")())return function(){};if(iu.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return r.ie.apply(r,[e,t].concat(d(i)))};if(au.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return r.wf.apply(r,[e,t].concat(d(i)))};if(eu[t])return function(){return r.g[e][t]}}return this.g[e][t]},n.set=function(e,t,r){this.g[e][t]=r,pu(this,{type:"set",targetName:e,property:t,value:r})},n.ie=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];pu(this,{type:"call",targetName:e,methodName:t,args:n})},n.wf=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];i=new hn;var a=this.N.toString();this.N++,this.i[a]=i;try{pu(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:a})}catch(o){i.reject(o)}return i};var hu=.02,gu=!1,mu=null,vu=new Set;function yu(e){if(e)for(var t=(e=c(vu)).next();!t.done;t=e.next())t.value.init()}function bu(e,t,r){ta.call(this);var n=this;this.j=e,this.i=t,this.h=this.s=this.l=this.u=this.m=null,this.F=r,this.D=new Map,this.g=new ou(r,(function(){return _u(n)}),(function(){return Su(n)}),(function(e,t){return xu(n,e,t)}),(function(){return Tu(n)}),(function(){return Eu(n)})),function(e){e.g.init(),e.h=new jn;for(var t=c(Xl),r=t.next();!r.done;r=t.next())e.h.B(e.j,r.value,(function(t){e.g.sa()||(t=new ea(t.type,t),e.l.dispatchEvent(t))}));for(var n in Cl)e.h.B(e.i,Cl[n],(function(t){e.g.sa()||e.s.dispatchEvent(t)}));for(var i in e.m={},t={},e.j)t.Hb=i,Object.defineProperty(e.m,t.Hb,{configurable:!1,enumerable:!0,get:function(t){return function(){return wu(e,t.Hb)}}(t),set:function(t){return function(r){var n=t.Hb;e.g.sa()?e.g.set("video",n,r):e.j[n]=r}}(t)}),t={Hb:t.Hb};e.u={},ku(e,(function(t){Object.defineProperty(e.u,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.D.has(t)&&(t=e.D.get(t)),"addEventListener"==t)return function(t,r,n){return e.s.addEventListener(t,r,n)};if("removeEventListener"==t)return function(t,r,n){return e.s.removeEventListener(t,r,n)};if("getMediaElement"==t)return function(){return e.m};if("getSharedConfiguration"==t)return e.g.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.i.Rb()};if("getAdManager"==t)return function(){return e.i.Yd()};if("setVideoContainer"==t)return function(t){return e.i.re(t)};if(e.g.sa()){if("getManifest"==t||"drmInfo"==t)return function(){return Z(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return Z(t+"() does not work while casting!"),Promise.resolve()}}return e.g.sa()&&0==Object.keys(e.g.g.video).length&&eu[t]||!e.g.sa()?e.i[t].bind(e.i):e.g.get("player",t)}(e,t)}})})),function(e){var t=new Map;ku(e,(function(r,n){if(t.has(n)){var i=t.get(n);r.length<i.length?e.D.set(r,i):e.D.set(i,r)}else t.set(n,r)}))}(e),e.l=new ta,e.l.nc=e.m,e.s=new ta,e.s.nc=e.u}(this)}function ku(e,t){function r(e){return"constructor"!=e&&"function"==typeof n[e]&&!i.has(e)}var n=e.i,i=new Set;for(a in n)r(a)&&(i.add(a),t(a,n[a]));for(var a=Object.getPrototypeOf(n),o=Object.getPrototypeOf({});a&&a!=o;){for(var s=c(Object.getOwnPropertyNames(a)),l=s.next();!l.done;l=s.next())r(l=l.value)&&(i.add(l),t(l,n[l]));a=Object.getPrototypeOf(a)}}function Eu(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.i.hd(),startTime:null};e.j.pause();for(var r=c(Ql),n=r.next();!n.done;n=r.next())n=n.value,t.video[n]=e.j[n];for(e.j.ended||(t.startTime=e.j.currentTime),n=(r=c(ru)).next();!n.done;n=r.next()){var i=n.value;n=i[1],i=e.i[i[0]](),t.player[n]=i}for(n=(r=c(nu)).next();!n.done;n=r.next())n=(i=n.value)[1],i=e.i[i[0]](),t.playerAfterLoad[n]=i;return t}function _u(e){var t=new ea("caststatuschanged");e.dispatchEvent(t)}function Su(e){var t=new ea(e.m.paused?"pause":"play");e.l.dispatchEvent(t)}function Tu(e){for(var t=c(ru),r=t.next();!r.done;r=t.next()){var n=r.value;r=n[1],n=e.g.get("player",n[0])(),e.i[r](n)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var a=e.j.autoplay;n=null,r||(n=e.g.get("video","currentTime")),i&&(e.j.autoplay=!1,t=e.i.load(i,n));var o={};for(n=(r=c(Ql)).next();!n.done;n=r.next())n=n.value,o[n]=e.g.get("video",n);t.then((function(){if(e.j){for(var t=c(Ql),r=t.next();!r.done;r=t.next())r=r.value,e.j[r]=o[r];for(r=(t=c(nu)).next();!r.done;r=t.next()){var n=r.value;r=n[1],n=e.g.get("player",n[0])(),e.i[r](n)}e.j.autoplay=a,i&&e.j.play()}}),(function(t){t=new ea(dl,{detail:t}),e.i.dispatchEvent(t)}))}function wu(e,t){if("addEventListener"==t)return function(t,r,n){return e.l.addEventListener(t,r,n)};if("removeEventListener"==t)return function(t,r,n){return e.l.removeEventListener(t,r,n)};if(e.g.sa()&&0==Object.keys(e.g.g.video).length){var r=e.j[t];if("function"!=typeof r)return r}return e.g.sa()?e.g.get("video",t):("function"==typeof(r=e.j[t])&&(r=r.bind(e.j)),r)}function xu(e,t,r){e.g.sa()&&("video"==t?e.l.dispatchEvent(r):"player"==t&&e.s.dispatchEvent(r))}function Ou(e,t,r,n){ta.call(this);var i=this;this.g=e,this.i=t,this.h=new jn,this.N={video:e,player:t},this.H=r||function(){},this.S=n||function(e){return e},this.j=null,this.I=!1,this.s=!0,this.m=0,this.F=!1,this.D=!0,this.u=this.l=null,this.L=new ze((function(){Mu(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Pu(e)},t.onSenderDisconnected=function(){return Pu(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Lu(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.l),Lu(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.u=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.u.onMessage=function(t){return function(e,t){var r=ql(t.data);switch(r.type){case"PLAY":e.g.play(),ju(e);break;case"PAUSE":e.g.pause(),ju(e);break;case"SEEK":var n=r.currentTime,i=r.resumeState;null!=n&&(e.g.currentTime=Number(n)),i&&"PLAYBACK_START"==i?(e.g.play(),ju(e)):i&&"PLAYBACK_PAUSE"==i&&(e.g.pause(),ju(e));break;case"STOP":e.i.Pd().then((function(){e.i&&ju(e)}));break;case"GET_STATUS":Ru(e,Number(r.requestId));break;case"VOLUME":i=r.volume,n=i.level,i=i.muted;var a=e.g.volume,o=e.g.muted;null!=n&&(e.g.volume=Number(n)),null!=i&&(e.g.muted=i),a==e.g.volume&&o==e.g.muted||ju(e);break;case"LOAD":e.m=0,e.F=!1,e.D=!1,n=r.media,i=r.currentTime,a=e.S(n.contentId),o=r.autoplay||!0,e.H(n.customData),o&&(e.g.autoplay=!0),e.i.load(a,i).then((function(){e.i&&Ru(e)})).catch((function(t){var n="LOAD_FAILED";7==t.category&&7e3==t.code&&(n="LOAD_CANCELLED"),Lu(e,{requestId:Number(r.requestId),type:n},e.u)}));break;default:Lu(e,{requestId:Number(r.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.u)}}(e,t)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(t){return function(e,t){var r=ql(t.data);switch(r.type){case"init":e.m=0,e.F=!1,e.D=!0,function(e,t,r){var n,i,a,o,s,l,u,c,d;D((function(f){switch(f.g){case 1:for(n in t.player)i=t.player[n],e.i[n](i);return e.H(r),a=e.g.autoplay,t.manifest?(e.g.autoplay=!1,S(f,5),E(f,e.i.load(t.manifest,t.startTime),7)):E(f,Promise.resolve(),3);case 7:w(f,3);break;case 5:return o=x(f),s=new ea(dl,{detail:o}),e.i&&e.i.dispatchEvent(s),f.return();case 3:if(!e.i)return f.return();for(l in t.video)u=t.video[l],e.g[l]=u;for(c in t.playerAfterLoad)d=t.playerAfterLoad[c],e.i[c](d);e.g.autoplay=a,t.manifest&&(e.g.play(),ju(e)),_(f)}}))}(e,r.initState,r.appData),Mu(e);break;case"appData":e.H(r.appData);break;case"set":var n=r.targetName,i=r.property;if(r=r.value,"video"==n){var a=cast.receiver.CastReceiverManager.getInstance();if("volume"==i){a.setSystemVolumeLevel(r);break}if("muted"==i){a.setSystemVolumeMuted(r);break}}e.N[n][i]=r;break;case"call":(n=e.N[r.targetName])[r.methodName].apply(n,r.args);break;case"asyncCall":n=r.targetName,i=r.methodName,"player"==n&&"load"==i&&(e.m=0,e.F=!1);var o=r.id,s=t.senderId;a=e.N[n],r=a[i].apply(a,r.args),"player"==n&&"load"==i&&(r=r.then((function(){e.D=!0}))),r.then((function(){return Du(e,s,o,null)}),(function(t){return Du(e,s,o,t)}))}}(e,t)},t.start();for(var r=(t=c(Xl)).next();!r.done;r=t.next())e.h.B(e.g,r.value,(function(t){return Au(e,"video",t)}));for(var n in Cl)e.h.B(e.i,Cl[n],(function(t){return Au(e,"player",t)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.i.Kd(3840,2160):e.i.Kd(1920,1080),e.h.B(e.g,"loadeddata",(function(){e.F=!0})),e.h.B(e.i,"loading",(function(){e.s=!1,Cu(e)})),e.h.B(e.g,"playing",(function(){e.s=!1,Cu(e)})),e.h.B(e.g,"pause",(function(){Cu(e)})),e.h.B(e.i,"unloading",(function(){e.s=!0,Cu(e)})),e.h.B(e.g,"ended",(function(){new ze((function(){e.g&&e.g.ended&&(e.s=!0,Cu(e))})).T(Uu)}))}(this)}function Pu(e){e.m=0,e.D=!0,e.I=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Cu(e)}function Cu(e){var t;D((function(r){return 1==r.g?E(r,Promise.resolve(),2):e.i?(t=new ea("caststatuschanged"),e.dispatchEvent(t),Iu(e)||ju(e),void _(r)):r.return()}))}function Au(e,t,r){e.i&&(Mu(e),Lu(e,{type:"event",targetName:t,event:r},e.l))}function Mu(e){e.L.T(Nu);for(var t={video:{},player:{}},r=c(Yl),n=r.next();!n.done;n=r.next())n=n.value,t.video[n]=e.g[n];if(e.i.Y())for(var i in tu)0==e.m%tu[i]&&(t.player[i]=e.i[i]());for(var a in eu)0==e.m%eu[a]&&(t.player[a]=e.i[a]());(r=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=r.level,t.video.muted=r.muted),e.F&&(e.m+=1),Lu(e,{type:"update",update:t},e.l),Iu(e)}function Iu(e){return!(!e.D||!e.g.duration&&!e.i.Y())&&(Ru(e),e.D=!1,!0)}function Ru(e,t){var r={contentId:e.i.hd(),streamType:e.i.Y()?"LIVE":"BUFFERED",contentType:""};e.i.Y()||(r.duration=e.g.duration),e.j&&(r.metadata=e.j),ju(e,void 0===t?0:t,r)}function Du(e,t,r,n){e.i&&Lu(e,{type:"asyncComplete",id:r,error:n},e.l,t)}function Lu(e,t,r,n){e.I&&(e=Zl(t),n?r.getCastChannel(n).send(e):r.broadcast(e))}function ju(e,t,r){r=void 0===r?null:r;var n={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.s?Bu:e.i.md()?zu:e.g.paused?Vu:Fu,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};r&&(n.media=r),Lu(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[n]},e.u)}v(bu,ta),(n=bu.prototype).destroy=function(e){return e&&this.g.ub(),this.h&&(this.h.release(),this.h=null),e=[],this.i&&(e.push(this.i.destroy()),this.i=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.u=this.m=this.j=null,Promise.all(e)},n.ef=function(){return this.m},n.Xe=function(){return this.u},n.Ae=function(){return this.g.m&&gu},n.sa=function(){return this.g.sa()},n.Bd=function(){return this.g.Bd()},n.cast=function(){var e,t=this;return D((function(r){return 1==r.g?(e=Eu(t),E(r,t.g.cast(e),2)):t.i?E(r,t.i.Pd(),0):r.return()}))},n.Id=function(e){this.g.Id(e)},n.Hf=function(){!function(e){if(e.h){var t=e.S();chrome.cast.requestSession((function(r){return su(e,t,r)}),(function(t){return lu(e,t)}))}}(this.g)},n.ub=function(){this.g.ub()},n.De=function(e){var t=this;return D((function(r){if(1==r.g)return e==t.F?r.return():(t.F=e,t.g.ub(),E(r,t.g.destroy(),2));t.g=null,t.g=new ou(e,(function(){return _u(t)}),(function(){return Su(t)}),(function(e,r){return xu(t,e,r)}),(function(){return Tu(t)}),(function(){return Eu(t)})),t.g.init(),_(r)}))},z("shaka.cast.CastProxy",bu),bu.prototype.changeReceiverId=bu.prototype.De,bu.prototype.forceDisconnect=bu.prototype.ub,bu.prototype.suggestDisconnect=bu.prototype.Hf,bu.prototype.setAppData=bu.prototype.Id,bu.prototype.cast=bu.prototype.cast,bu.prototype.receiverName=bu.prototype.Bd,bu.prototype.isCasting=bu.prototype.sa,bu.prototype.canCast=bu.prototype.Ae,bu.prototype.getPlayer=bu.prototype.Xe,bu.prototype.getVideo=bu.prototype.ef,bu.prototype.destroy=bu.prototype.destroy,v(Ou,ta),(n=Ou.prototype).isConnected=function(){return this.I},n.hf=function(){return this.s},n.Df=function(e){this.j=e},n.Ge=function(){this.j=null},n.Ef=function(e){this.j||(this.j={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.j.title=e},n.Cf=function(e){this.j||(this.j={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.j.images=[{url:e}]},n.Bf=function(e){this.j||(this.j={}),this.j.artist=e,this.j.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},n.destroy=function(){var e,t=this;return D((function(r){if(1==r.g)return t.h&&(t.h.release(),t.h=null),e=[],t.i&&(e.push(t.i.destroy()),t.i=null),t.L&&(t.L.stop(),t.L=null),t.g=null,t.N=null,t.H=null,t.I=!1,t.s=!0,t.l=null,t.u=null,E(r,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),_(r)}))},z("shaka.cast.CastReceiver",Ou),Ou.prototype.destroy=Ou.prototype.destroy,Ou.prototype.setContentArtist=Ou.prototype.Bf,Ou.prototype.setContentImage=Ou.prototype.Cf,Ou.prototype.setContentTitle=Ou.prototype.Ef,Ou.prototype.clearContentMetadata=Ou.prototype.Ge,Ou.prototype.setContentMetadata=Ou.prototype.Df,Ou.prototype.isIdle=Ou.prototype.hf,Ou.prototype.isConnected=Ou.prototype.isConnected;var Nu=.5,Uu=5,Bu="IDLE",Fu="PLAYING",zu="BUFFERING",Vu="PAUSED";function Wu(e){var t=this;this.g=[],this.h=[],this.data=[],(new Me).box("moov",Ie).U("pssh",(function(e){if(!(1<e.version)){var r=se(e.reader.R,-12,e.size);if(t.data.push(r),t.g.push(it(e.reader.Za(16))),0<e.version){r=e.reader.M();for(var n=(r=c(te(r))).next();!n.done;n=r.next())n=it(e.reader.Za(16)),t.h.push(n)}}})).parse(e)}function $u(e,t){var r=e.length,n=t.length+16+r,i=new Uint8Array(n),a=le(i),o=0;return a.setUint32(o,n),o+=4,a.setUint32(o,1886614376),o+=4,a.setUint32(o,0),o+=4,i.set(t,o),o+=t.length,a.setUint32(o,r),i.set(e,o+4),i}function Hu(e,t){var r=Gu(e,t);return 1!=r.length?null:r[0]}function Ku(e,t,r){return 1!=(e=Zu(e,t,r)).length?null:e[0]}function Gu(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName==t}))}function Zu(e,t,r){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.localName==r&&e.namespaceURI==t}))}function qu(e,t,r){return e.hasAttributeNS(t,r)?e.getAttributeNS(t,r):null}function Xu(e){return Array.from(e.childNodes).every(Yu)?e.textContent.trim():null}function Yu(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function Qu(e,t,r,n){n=void 0===n?null:n;var i=null;return null!=(e=e.getAttribute(t))&&(i=r(e)),null==i?n:i}function Ju(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function ec(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function tc(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function rc(e){return 0===(e=Number(e))%1?e:null}function nc(e){return 0===(e=Number(e))%1&&0<e?e:null}function ic(e){return 0===(e=Number(e))%1&&0<=e?e:null}function ac(e){return e=Number(e),isNaN(e)?null:e}function oc(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e}function sc(e,t){var r=new DOMParser,n=null,i=null;try{i=r.parseFromString(e,"text/xml")}catch(a){}return i&&i.documentElement.tagName==t&&(n=i.documentElement),n&&0<n.getElementsByTagName("parsererror").length?null:n}function lc(e,t){try{return sc(pe(e),t)}catch(r){return null}}function uc(e,t,r){var n=function(e){for(var t=[],r=(e=c(e)).next();!r.done;r=e.next())(r=dc(r.value))&&t.push(r);return t}(e),i=null;e=[];var a=[],o=new Set(n.map((function(e){return e.keyId})));if(o.delete(null),1<o.size)throw new ce(2,4,4010);if(t||(a=n.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.le||(i=e.init||i,!1)}))).length&&(0==(e=function(e,t,r){for(var n=[],i=(t=c(t)).next();!i.done;i=t.next()){i=i.value;var a=r[i.le];if(a){var o;if(o=Ku(i.node,"urn:microsoft:playready","pro")){o=rt(o.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);o=[{initData:$u(o,s),initDataType:"cenc",keyId:i.keyId}]}else o=null;o=ln(a,i.init||e||o),(a=pc.get(a))&&(o.licenseServerUri=a(i)),n.push(o)}}return n}(i,a,r)).length&&(e=[ln("",i)])),n.length&&(t||!a.length))for(e=[],r=(t=c(Object.values(r))).next();!r.done;r=t.next())"org.w3.clearkey"!=(r=r.value)&&e.push(ln(r,i));if(o=Array.from(o)[0]||null)for(r=(t=c(e)).next();!r.done;r=t.next())for(n=(r=c(r.value.initData)).next();!n.done;n=r.next())n.value.keyId=o;return{Td:o,ng:i,drmInfos:e,Xd:!0}}function cc(e){return(e=Ku(e.node,"urn:microsoft:playready","pro"))&&(e=function(e){var t=0,r=le(e),n=r.getUint32(t,!0);if(n!=e.byteLength)return[];e:{for(e=t+6,t=[];e<r.byteLength-1;){n=r.getUint16(e,!0),e+=2;var i=r.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>r.byteLength){r=[];break e}var a=se(r,e,i);t.push({type:n,value:a}),e+=i}r=t}return r}(e=rt(e.textContent)).filter((function(e){return e.type===fc}))[0])&&(e=sc(e=he(e.value,!0),"WRMHEADER"))?function(e){for(var t=(e=c(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var r=(t=c(t.value.childNodes)).next();!r.done;r=t.next())if((r=r.value)instanceof Element&&"LA_URL"==r.tagName)return r.textContent;return""}(e):""}function dc(e){var t=e.getAttribute("schemeIdUri"),r=qu(e,"urn:mpeg:cenc:2013","default_KID"),n=Zu(e,"urn:mpeg:cenc:2013","pssh").map(Xu);if(!t)return null;if(t=t.toLowerCase(),r&&(r=r.replace(/-/g,"").toLowerCase()).includes(" "))throw new ce(2,4,4009);var i=[];try{i=n.map((function(e){return{initDataType:"cenc",initData:rt(e),keyId:null}}))}catch(a){throw new ce(2,4,4007)}return{node:e,le:t,keyId:r,init:0<i.length?i:null}}var fc=1,pc=(new Map).set("com.widevine.alpha",(function(e){return(e=Ku(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",cc).set("com.microsoft.playready.recommendation",cc).set("com.microsoft.playready.software",cc).set("com.microsoft.playready.hardware",cc);function hc(t,r,n,i,a){var o={RepresentationID:r,Number:n,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,r,n,i){if("$$"==t)return"$";var a=o[r];if(null==a)return t;switch("RepresentationID"==r&&n&&(n=void 0),"Time"==r&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return n=e.parseInt(n,10)||1,Array(Math.max(0,n-t.length)+1).join("0")+t}))}function gc(e,t){var r=mc(e,t,"timescale"),n=1;r&&(n=nc(r)||1);var i=mc(e,t,"duration");r=nc(i||""),"image"==e.K.contentType&&(r=ac(i||"")),r&&(r/=n);var a=mc(e,t,"startNumber");i=Number(mc(e,t,"presentationTimeOffset"))||0;var o=ic(a||"");null!=a&&null!=o||(o=1);var s=vc(e,t,"SegmentTimeline");if(a=null,s){a=n;var l=e.V.duration||1/0,u=Gu(s,"S");s=[];for(var d=-i,f=(u=c(re(u))).next();!f.done;f=u.next()){var p=(f=f.value).item,h=f.next,g=Qu(p,"t",ic);f=Qu(p,"d",ic);var m=Qu(p,"r",rc);if(null!=g&&(g-=i),!f)break;if(p=null!=g?g:d,0>(g=m||0))if(h){if(null==(h=Qu(h,"t",ic)))break;if(p>=h)break;g=Math.ceil((h-p)/f)-1}else{if(1/0==l)break;if(p/a>=l)break;g=Math.ceil((l*a-p)/f)-1}for(0<s.length&&p!=d&&(s[s.length-1].end=p/a),g=(h=c(te(g+1))).next();!g.done;g=h.next())d=p+f,s.push({start:p/a,end:d/a,Mf:p}),p=d}a=s}return{timescale:n,ia:r,Gb:o,Ta:i/n||0,Qd:i,timeline:a}}function mc(e,t,r){return[t(e.K),t(e.ka),t(e.ea)].filter(Ce).map((function(e){return e.getAttribute(r)})).reduce((function(e,t){return e||t}))}function vc(e,t,r){return[t(e.K),t(e.ka),t(e.ea)].filter(Ce).map((function(e){return Hu(e,r)})).reduce((function(e,t){return e||t}))}function yc(e,t,r,n,i,a){if(a=void 0===a?0:a,qu(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,r,n,i,a){for(var o=qu(e,"http://www.w3.org/1999/xlink","href"),s=qu(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=c(Array.from(e.attributes)),u=l.next();!u.done;u=l.next())"http://www.w3.org/1999/xlink"==(u=u.value).namespaceURI&&e.removeAttributeNS(u.namespaceURI,u.localName);if(5<=a)return qi(new ce(2,4,4028));if("onLoad"!=s)return qi(new ce(2,4,4027));var d=sn([n],[o]);return i.request(0,la(d,t)).aa((function(n){if(!(n=lc(n.data,e.tagName)))return qi(new ce(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;n.childNodes.length;){var s=n.childNodes[0];n.removeChild(s),e.appendChild(s)}for(s=(n=c(Array.from(n.attributes))).next();!s.done;s=n.next())e.setAttributeNode(s.value.cloneNode(!1));return yc(e,t,r,d[0],i,a+1)}))}(e,t,r,n,i,a);return r&&(o=o.aa(void 0,(function(){return yc(e,t,r,n,i,a)}))),o}o=[];for(var s=c(Array.from(e.childNodes)),l=s.next();!l.done;l=s.next())(l=l.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==qu(l,"http://www.w3.org/1999/xlink","href")?e.removeChild(l):"SegmentTimeline"!=l.tagName&&o.push(yc(l,t,r,n,i,a)));return Ji(o).aa((function(){return e}))}function bc(e,t,r,n,i,a,o){var s,l=(new Me).U("sidx",(function(e){s=function(e,t,r,n,i,a,o){var s=[];o.reader.skip(4);var l=o.reader.M();if(0==l)throw new ce(2,3,3005);if(0==o.version)var u=o.reader.M(),d=o.reader.M();else u=o.reader.kb(),d=o.reader.kb();o.reader.skip(2);var f=o.reader.Fb();for(e=e+o.size+d,f=c(te(f)),d=f.next();!d.done;d=f.next()){var p=o.reader.M();d=(2147483648&p)>>>31,p&=2147483647;var h=o.reader.M();if(o.reader.skip(4),1==d)throw new ce(2,3,3006);s.push(new Ja(u/l+r,(u+h)/l+r,(function(){return a}),e,e+p-1,t,r,n,i)),u+=h,e+=p}return o.parser.stop(),s}(t,n,i,a,o,r,e)}));if(e&&l.parse(e),s)return s;throw new ce(2,3,3004)}function kc(e){this.h=le(e),this.g=new be(this.h,0)}function Ec(e){var t=_c(e);if(7<t.length)throw new ce(2,3,3002);for(var r=0,n=(t=c(t)).next();!n.done;n=t.next())r=256*r+n.value;t=_c(e);e:{for(var i=(n=c(Sc)).next();!i.done;i=n.next())if(ie(t,new Uint8Array(i.value))){n=!0;break e}n=!1}if(n)t=e.h.byteLength-e.g.Z();else{if(8==t.length&&224&t[1])throw new ce(2,3,3001);n=0;for(var a=(i=c(re(t))).next();!a.done;a=i.next()){var o=(a=a.value).item;n=0==a.ha?o&(1<<8-t.length)-1:256*n+o}t=n}return t=e.g.Z()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Z(),n=le(e.h,e.g.Z(),t),e.g.skip(t),new Tc(r,n)}function _c(e){var t=e.g.Z(),r=e.g.$();if(0==r)throw new ce(2,3,3002);return r=8-Math.floor(Math.log2(r)),e.g.skip(r-1),se(e.h,t,r)}kc.prototype.na=function(){return this.g.na()};var Sc=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Tc(e,t){this.id=e,this.g=t}function wc(e){if(8<e.g.byteLength)throw new ce(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new ce(2,3,3001);for(var t=0,r=c(te(e.g.byteLength)),n=r.next();!n.done;n=r.next())t=256*t+(n=e.g.getUint8(n.value));return t}function xc(e){var t=new kc(e.g);if(179!=(e=Ec(t)).id)throw new ce(2,3,3013);if(e=wc(e),183!=(t=Ec(t)).id)throw new ce(2,3,3012);t=new kc(t.g);for(var r=0;t.na();){var n=Ec(t);if(241==n.id){r=wc(n);break}}return{Nf:e,vf:r}}function Oc(e,t){var r=vc(e,t,"Initialization");if(!r)return null;var n=e.K.ya,i=r.getAttribute("sourceURL");i&&(n=sn(e.K.ya,[i])),i=0;var a=null;return(r=Qu(r,"range",tc))&&(i=r.start,a=r.end),new Qa((function(){return n}),i,a)}function Pc(e,t){var r=Number(mc(e,Ac,"presentationTimeOffset"))||0,n=mc(e,Ac,"timescale"),i=1;n&&(i=nc(n)||1);var a=r/i||0,o=Oc(e,Ac);!function(e,t){if(Ic(e,t),!Mc(e))throw new ce(2,4,4002)}(e,o);var s=na(e);return{vb:function(){var e=vc(s,Ac,"RepresentationIndex"),r=s.K.ya;return e&&(e=e.getAttribute("sourceURL"))&&(r=sn(s.K.ya,[e])),e=Mc(s),Cc(s,t,o,r,e.start,e.end,a)}}}function Cc(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g,m,v,y,b,k,_;return D((function(S){if(1==S.g)return s=e.presentationTimeline,l=!e.bb||!e.V.be,u=e.V.start,c=e.V.duration,d=e.K.mimeType.split("/")[1],p=null,h=[(f=t)(n,i,a),"webm"==d?f(r.ma(),r.ja,r.da):null],f=null,E(S,Promise.all(h),2);if(g=S.h,m=g[0],v=g[1]||null,null,b=u-o,k=u,_=c?u+c:1/0,"mp4"==d)var T=bc(m,i,n,r,b,k,_);else{if(440786851!=Ec(T=new kc(v)).id)throw new ce(2,3,3008);var w=Ec(T);if(408125543!=w.id)throw new ce(2,3,3009);T=w.g.byteOffset,w=new kc(w.g);for(var x=null;w.na();){var O=Ec(w);if(357149030==O.id){x=O;break}}if(!x)throw new ce(2,3,3010);for(x=new kc(x.g),O=1e6,w=null;x.na();){var P=Ec(x);if(2807729==P.id)O=wc(P);else if(17545==P.id)if(4==P.g.byteLength)w=P.g.getFloat32(0);else{if(8!=P.g.byteLength)throw new ce(2,3,3003);w=P.g.getFloat64(0)}}if(null==w)throw new ce(2,3,3011);if(w*=x=O/1e9,475249515!=(O=Ec(new kc(m))).id)throw new ce(2,3,3007);T=function(e,t,r,n,i,a,o,s,l){function u(){return i}var c=[];e=new kc(e.g);for(var d=null,f=null;e.na();){var p=Ec(e);if(187==p.id){var h=xc(p);h&&(p=r*h.Nf,h=t+h.vf,null!=d&&c.push(new Ja(d+o,p+o,u,f,h-1,a,o,s,l)),d=p,f=h)}}return null!=d&&c.push(new Ja(d+o,n+o,u,f,null,a,o,s,l)),c}(O,T,x,w,n,r,b,k,_)}return y=T,s.Cb(y),p=new Eo(y),l&&p.Xa(k,_,!0),S.return(p)}))}function Ac(e){return e.Zb}function Mc(e){var t=vc(e,Ac,"RepresentationIndex");return e=tc((e=mc(e,Ac,"indexRange"))||""),t&&(e=Qu(t,"range",tc,e)),e}function Ic(e,t){var r=e.K.mimeType.split("/")[1];if(e.K.contentType!=dn&&"mp4"!=r&&"webm"!=r)throw new ce(2,4,4006);if("webm"==r&&!t)throw new ce(2,4,4005)}function Rc(e,t){var r=Oc(e,Dc),n=function(e){var t=function(e){return[e.K.$a,e.ka.$a,e.ea.$a].filter(Ce).map((function(e){return Gu(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.$d&&(e.$d=!0),{lf:t.getAttribute("media"),start:(t=Qu(t,"mediaRange",tc,{start:0,end:null})).start,end:t.end}}))}(e),r=(e=gc(e,Dc)).Gb;0==r&&(r=1);var n=0;return e.ia?n=e.ia*(r-1):e.timeline&&0<e.timeline.length&&(n=e.timeline[0].start),{ia:e.ia,startTime:n,Gb:r,Ta:e.Ta,timeline:e.timeline,zb:t}}(e);if(!n.ia&&!n.timeline&&1<n.zb.length)throw new ce(2,4,4002);if(!n.ia&&!e.V.duration&&!n.timeline&&1==n.zb.length)throw new ce(2,4,4002);if(n.timeline&&0==n.timeline.length)throw new ce(2,4,4002);var i=null,a=null;return e.ea.id&&e.K.id&&(a=e.ea.id+","+e.K.id,i=t[a]),r=function(e,t,r,n,i){var a=n.zb.length;n.timeline&&n.timeline.length!=n.zb.length&&(a=Math.min(n.timeline.length,n.zb.length));for(var o=e-n.Ta,s=t?e+t:1/0,l=[],u=n.startTime,d={},f=(a=c(te(a))).next();!f.done;d={Rc:d.Rc},f=a.next()){f=f.value;var p=n.zb[f];d.Rc=sn(r,[p.lf]);var h;h=null!=n.ia?u+n.ia:n.timeline?n.timeline[f].end:u+t,l.push(new Ja(e+u,e+h,function(e){return function(){return e.Rc}}(d),p.start,p.end,i,o,e,s)),u=h}return l}(e.V.start,e.V.duration,e.K.ya,n,r),n=!i,i?i.Ab(r,e.presentationTimeline.Ya()):(e.presentationTimeline.Cb(r),i=new Eo(r),a&&e.bb&&(t[a]=i)),e.bb&&e.V.be||i.Xa(e.V.start,e.V.duration?e.V.start+e.V.duration:1/0,n),{vb:function(){return Promise.resolve(i)}}}function Dc(e){return e.$a}function Lc(e,t,r,n,i,a){var o=function(e){var t=mc(e,jc,"initialization");if(!t)return null;var r=e.K.id,n=e.bandwidth||null,i=e.K.ya;return new Qa((function(){var e=hc(t,r,null,n,null);return sn(i,[e])}),0,null)}(e),s=function(e){var t=gc(e,jc),r=mc(e,jc,"media");return e=mc(e,jc,"index"),{ia:t.ia,timescale:t.timescale,Gb:t.Gb,Ta:t.Ta,Qd:t.Qd,timeline:t.timeline,sd:r,Vb:e}}(e);!function(e){var t=e.Vb?1:0;if(t+=e.timeline?1:0,0==(t+=e.ia?1:0))throw new ce(2,4,4002);if(1!=t&&(e.Vb&&(e.timeline=null),e.ia=null),!e.Vb&&!e.sd)throw new ce(2,4,4002)}(s);var l=na(e);if(s.Vb)return Ic(e,o),{vb:function(){var e=hc(s.Vb,l.K.id,null,l.bandwidth||null,null);return e=sn(l.K.ya,[e]),Cc(l,t,o,e,0,null,s.Ta)}};if(s.ia)return n||(e.presentationTimeline.ud(s.ia),e.presentationTimeline.vd(e.V.start)),{vb:function(){return function(e,t,r,n,i){function a(e){var r=(e-h)*p,i=r+t.Ta;return new Ja(r+=u,Math.min(r+p,s()),(function(){var t=hc(m,y,e,v,i*g);return sn(b,[t])}),0,null,n,k,u,s())}function o(){var e=[Math.max(l.Ya(),u),Math.min(l.fb(),s())].map((function(e){return e-u}));return[Math.ceil(e[0]/p),Math.ceil(e[1]/p)-1].map((function(e){return e+h}))}function s(){var e=null!=d&&i[d]||f;return e?u+e:1/0}var l=e.presentationTimeline,u=e.V.start,d=e.ea.id,f=e.V.duration,p=t.ia,h=t.Gb,g=t.timescale,m=t.sd,v=e.bandwidth||null,y=e.K.id,b=e.K.ya,k=u-t.Ta,E=o();e=e.bb?Math.max(E[0],E[1]-r+1):E[0],E=E[1],r=[];for(var _=e;_<=E;++_){var S=a(_);r.push(S)}var T=new Eo(r);if(r=l.fb()<s(),_=l.Y(),r||_){var w=Math.max(e,E+1);T.Jc(p,(function(){var e=l.Ya();T.cb(e);var t=c(o());t.next(),t=t.next().value;for(var r=[];w<=t;){var n=a(w);r.push(n),w++}return e>s()&&!r.length?null:r}))}return Promise.resolve(T)}(l,s,i,o,a)}};var u=null;n=null,e.ea.id&&e.K.id&&(n=e.ea.id+","+e.K.id,u=r[n]);var d=function(e,t,r){var n=e.V.start,i=e.V.duration,a=n-t.Ta;i=i?n+i:1/0;for(var o=[],s={},l=c(re(t.timeline)),u=l.next();!u.done;s={Qc:s.Qc,Tc:s.Tc,Wc:s.Wc,Nc:s.Nc,Yc:s.Yc,Oc:s.Oc},u=l.next()){var d=(u=u.value).item,f=d.start,p=d.Mf;d=d.end,s.Wc=u.ha+t.Gb,s.Yc=p+t.Qd,s.Tc=e.K.id,s.Nc=e.bandwidth||null,s.Qc=t.sd,s.Oc=e.K.ya,o.push(new Ja(n+f,n+d,function(e){return function(){var t=hc(e.Qc,e.Tc,e.Wc,e.Nc||null,e.Yc);return sn(e.Oc,[t]).map((function(e){return e.toString()}))}}(s),0,null,r,a,n,i))}return o}(l,s,o),f=e.V.start,p=e.V.duration?e.V.start+e.V.duration:1/0,h=1/0!=p;return u?(h&&new Eo(d).Xa(f,p,!0),u.Ab(d,e.presentationTimeline.Ya())):(e.presentationTimeline.Cb(d),u=new Eo(d),n&&e.bb&&(r[n]=u)),h&&u.Xa(f,p),{vb:function(){return Promise.resolve(u)}}}function jc(e){return e.$b}function Nc(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.m=new Set}function Uc(e,t,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,S,T,w,x,O,P,C,A,M,I,R,L;return D((function(D){switch(D.g){case 1:if(n=fn,function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var r=[],n=c(t.qc),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=!1,o=c(r),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&dt(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(a=!0);a||r.push(i)}t.qc=r}}(t),function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var r=[],n=c(t.Lc),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=!1,o=c(r),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.label==s.label&&dt(i.roles,s.roles)&&ba(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(a=!0);a||r.push(i)}t.Lc=r}}(t),function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var r=[],n=c(t.textStreams),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=!1,o=c(r),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.language==s.language&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&dt(i.roles,s.roles)&&(a=!0);a||r.push(i)}t.textStreams=r}}(t),!r&&1==t.length){i=t[0],e.g=i.qc,e.h=i.Lc,e.j=i.textStreams,e.i=i.imageStreams,D.v(2);break}for(a=-1,o=c(re(t)),s=o.next();!s.done;s=o.next())l=s.value,u=l.ha,d=l.item,e.m.has(d.id)||(e.m.add(d.id),-1==a&&(a=u));if(-1==a)return D.return();for(f=t.map((function(e){return e.qc})),p=t.map((function(e){return e.Lc})),h=t.map((function(e){return e.textStreams})),g=t.map((function(e){return e.imageStreams})),m=c(h),v=m.next();!v.done;v=m.next())v.value.push({id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Eo([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:dn,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null});return E(D,Fc(e.g,f,a,Wc,Hc),3);case 3:return E(D,Fc(e.h,p,a,Wc,Hc),4);case 4:return E(D,Fc(e.j,h,a,Wc,Hc),5);case 5:return E(D,Fc(e.i,g,a,Wc,Hc),2);case 2:if(y=0,b=[],e.h.length&&e.g.length)for(O=c(e.g),P=O.next();!P.done;P=O.next())for(C=P.value,A=c(e.h),M=A.next();!M.done;M=A.next())I=M.value,R=Na(C.drmInfos,I.drmInfos),C.drmInfos.length&&I.drmInfos.length&&!R.length||(L=y++,b.push({id:L,language:C.language,primary:C.primary,audio:C,video:I,bandwidth:(C.bandwidth||0)+(I.bandwidth||0),drmInfos:R,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(k=e.h.concat(e.g),S=c(k),T=S.next();!T.done;T=S.next())w=T.value,x=y++,b.push({id:x,language:w.language,primary:w.primary,audio:w.type==n.ab?w:null,video:w.type==n.Na?w:null,bandwidth:w.bandwidth||0,drmInfos:w.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});e.l=b,_(D)}}))}function Bc(e){var t,r,n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,_;return D((function(S){switch(S.g){case 1:if(t=fn,1==e.length)return S.return(e[0]);for(r=e.map((function(e){return e.filter((function(e){return e.type==t.ab}))})),n=e.map((function(e){return e.filter((function(e){return e.type==t.Na}))})),i=e.map((function(e){return e.filter((function(e){return e.type==t.fa}))})),a=c(i),o=a.next();!o.done;o=a.next())o.value.push({id:0,originalId:"",primary:!1,type:dn,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null});return E(S,Fc([],r,0,$c,Kc),2);case 2:return s=S.h,E(S,Fc([],n,0,$c,Kc),3);case 3:return l=S.h,E(S,Fc([],i,0,$c,Kc),4);case 4:if(u=S.h,d=0,l.length&&s.length)for(g=c(s),m=g.next();!m.done;m=g.next())for(v=m.value,y=c(l),b=y.next();!b.done;b=y.next())k=b.value,_=d++,k.variantIds.push(_),v.variantIds.push(_);else for(f=l.concat(s),p=c(f),h=p.next();!h.done;h=p.next())h.value.variantIds=[d++];return S.return(l.concat(s).concat(u))}}))}function Fc(e,t,r,n,i){var a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,_,S,T,w;return D((function(x){switch(x.g){case 1:for(a=fn,o=[],s=c(re(t)),l=s.next();!l.done;l=s.next())u=l.value,d=u.ha,f=u.item,d>=r?o.push(new Set(f)):o.push(new Set);p=c(e),h=p.next();case 2:if(h.done){x.v(4);break}return E(x,function(e,t,r,n,i){var a;return D((function(o){return 1==o.g?(a=Gc(t,e))?E(o,zc(a),2):o.return(!1):(Vc(e,a,r,n,i),o.return(!0))}))}(h.value,t,r,i,o),5);case 5:if(!x.h)throw new ce(2,4,4037);h=p.next(),x.v(2);break;case 4:g=c(o),m=g.next();case 6:if(m.done){x.v(8);break}v=m.value,y=c(v),b=y.next();case 9:if(b.done){m=g.next(),x.v(6);break}return E(x,function(e,t,r,n,i){var a,o;return D((function(s){return 1==s.g?(a=r(e),(o=Gc(t,a))?a.createSegmentIndex?E(s,zc(o),2):s.v(2):s.return(null)):(Vc(a,o,0,n,i),s.return(a))}))}(b.value,t,n,i,o),12);case 12:(k=x.h)&&e.push(k),b=y.next(),x.v(9);break;case 8:for(_=c(o),m=_.next();!m.done;m=_.next())for(S=m.value,T={},w=c(S),b=w.next();!b.done;T={sb:T.sb},b=w.next())if(T.sb=b.value,(T.sb.type!=a.fa||T.sb.language)&&e.some(function(e){return function(t){return t.mimeType==e.sb.mimeType&&Tn(t.codecs)==Tn(e.sb.codecs)}}(T)))throw new ce(2,4,4037);return x.return(e)}}))}function zc(e){for(var t=[],r=(e=c(e)).next();!r.done;r=e.next())r=r.value,t.push(r.createSegmentIndex()),r.trickModeVideo&&!r.trickModeVideo.segmentIndex&&t.push(r.trickModeVideo.createSegmentIndex());return Promise.all(t)}function Vc(e,t,r,n,i){for(var a=(t=c(re(t))).next();!a.done;a=t.next()){var o=a.value;if(a=o.ha,o=o.item,a>=r){n(e,o);var s=!0;"audio"==e.type&&0==ai(e.language,o.language)&&(s=!1),s&&i[a].delete(o)}}}function Wc(e){return(e=Object.assign({},e)).originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.segmentIndex=new To,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e}function $c(e){return(e=Object.assign({},e)).keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function Hc(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))));var r=t.keyIds;if(r=new Set([].concat(d(e.keyIds),d(r))),e.keyIds=r,null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||""),r=Na(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new ce(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var n=(r=c(t.closedCaptions)).next();!n.done;n=r.next()){var i=c(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}e.segmentIndex.l.push(t.segmentIndex),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Wc(t.trickModeVideo),e.trickModeVideo.segmentIndex=e.segmentIndex.clone()),Hc(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&Hc(e.trickModeVideo,t)}function Kc(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var r=t.keyIds;if(r=new Set([].concat(d(e.keyIds),d(r))),e.keyIds=r,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,d(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var n=(r=c(t.closedCaptions)).next();!n.done;n=r.next()){var i=c(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}}function Gc(e,t){for(var r=[],n=c(e),i=n.next();!i.done;i=n.next()){for(var a=t,o={audio:Zc,video:Zc,text:qc,image:Xc}[a.type],s={audio:Yc,video:Qc,text:Jc,image:ed}[a.type],l=null,u=(i=c(i.value)).next();!u.done;u=i.next())!o(a,u=u.value)||l&&!s(a,l,u)||(l=u);if(!(a=l))return null;r.push(a)}return r}function Zc(e,t){var r;if(!(r=t.mimeType!=e.mimeType||Tn(t.codecs)!=Tn(e.codecs))&&(r=e.drmInfos)){r=e.drmInfos;var n=t.drmInfos;r=!(!r.length||!n.length||0<Na(r,n).length)}return!r}function qc(e,t){return!!e.language&&(!t.language||0!=ai(e.language,t.language)&&t.kind==e.kind)}function Xc(e){return!!e.tilesLayout}function Yc(e,t,r){if(e.id==r.id)return!0;var n=ai(e.language,t.language),i=ai(e.language,r.language);return i>n||!(i<n)&&(!(t.primary||!r.primary)||!(t.primary&&!r.primary)&&(e.roles.length?(n=t.roles.filter((function(t){return e.roles.includes(t)})),(i=r.roles.filter((function(t){return e.roles.includes(t)}))).length>n.length||!(i.length<n.length)&&r.roles.length<t.roles.length):!(r.roles.length||!t.roles.length)||!(r.roles.length&&!t.roles.length)&&((n=td(e.channelsCount,t.channelsCount,r.channelsCount))==nd||n!=ad&&((n=td(e.audioSamplingRate,t.audioSamplingRate,r.audioSamplingRate))==nd||n!=ad&&!(!e.bandwidth||rd(e.bandwidth,t.bandwidth,r.bandwidth)!=nd)))))}function Qc(e,t,r){if(e.id==r.id)return!0;var n=td(e.width*e.height,t.width*t.height,r.width*r.height);if(n==nd)return!0;if(n==ad)return!1;if(e.frameRate){if((n=td(e.frameRate,t.frameRate,r.frameRate))==nd)return!0;if(n==ad)return!1}return!(!e.bandwidth||rd(e.bandwidth,t.bandwidth,r.bandwidth)!=nd)}function Jc(e,t,r){if(e.id==r.id)return!0;var n=ai(e.language,t.language),i=ai(e.language,r.language);if(i>n)return!0;if(i<n)return!1;if(!t.primary&&r.primary)return!0;if(t.primary&&!r.primary)return!1;if(e.roles.length){if(n=t.roles.filter((function(t){return e.roles.includes(t)})),(i=r.roles.filter((function(t){return e.roles.includes(t)}))).length>n.length)return!0;if(i.length<n.length)return!1}else{if(!r.roles.length&&t.roles.length)return!0;if(r.roles.length&&!t.roles.length)return!1}return r.mimeType==e.mimeType&&r.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function ed(e,t,r){return e.id==r.id||r.mimeType==e.mimeType}function td(e,t,r){if(t==e&&e!=r)return ad;if(r==e&&e!=t)return nd;if(t>e){if(r<=e||r-e<t-e)return nd;if(r-e>t-e)return ad}else{if(r>e)return ad;if(e-r<e-t)return nd;if(e-r>e-t)return ad}return id}function rd(e,t,r){return t=Math.abs(e-t),(e=Math.abs(e-r))<t?nd:t<e?ad:id}Nc.prototype.release=function(){for(var e=c(this.g.concat(this.h,this.j,this.i)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};var nd=1,id=0,ad=-1;function od(){var e=this;this.C=this.o=null,this.h=[],this.A=null,this.D=1,this.l={},this.H={},this.g=new Nc,this.u=0,this.F=new V(5),this.s=new ze((function(){e.Wb()})),this.i=new ia,this.j=1/0,this.m=!1}function sd(e){var t,r,n,i,a,o,s;return D((function(l){return 1==l.g?(t=la(e.h,e.o.retryParameters),r=e.C.networkingEngine,n=Date.now(),i=r.request(0,t),aa(e.i,i),E(l,i.promise,2)):3!=l.g?(a=l.h,e.C?(a.uri&&!e.h.includes(a.uri)&&e.h.unshift(a.uri),E(l,function(e,t,r){var n,i,a,o;return D((function(s){if(1==s.g){if(!(n=lc(t,"MPD")))throw new ce(2,4,4001,r);return e.o.dash.disableXlinkProcessing?s.return(ld(e,n,r)):(i=e.o.dash.xlinkFailGracefully,a=yc(n,e.o.retryParameters,i,r,e.C.networkingEngine),aa(e.i,a),E(s,a.promise,2))}return o=s.h,s.return(ld(e,o,r))}))}(e,a.data,a.uri),3)):l.return(0)):(o=Date.now(),s=(o-n)/1e3,W(e.F,1,s),l.return(s))}))}function ld(e,t,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,T,O,P,C,A,M,I,R,L,j;return D((function(N){switch(N.g){case 1:if(n=[r],0<(i=Gu(t,"Location").map(Xu).filter(Ce)).length&&(a=sn(n,i),n=e.h=a),o=Gu(t,"BaseURL"),s=o.map(Xu),l=sn(n,s),u=0,o&&o.length&&(u=Qu(o[0],"availabilityTimeOffset",ac)||0),d=e.o.dash.ignoreMinBufferTime,f=0,d||(f=Qu(t,"minBufferTime",ec)||0),e.u=Qu(t,"minimumUpdatePeriod",ec,-1),p=Qu(t,"availabilityStartTime",Ju),h=Qu(t,"timeShiftBufferDepth",ec),g=e.o.dash.ignoreSuggestedPresentationDelay,m=null,g||(m=Qu(t,"suggestedPresentationDelay",ec)),v=e.o.dash.ignoreMaxSegmentDuration,y=null,v||(y=Qu(t,"maxSegmentDuration",ec)),b=t.getAttribute("type")||"static",e.A)for(k=e.A.presentationTimeline,T=c(Object.values(e.l)),O=T.next();!O.done;O=T.next())O.value.cb(k.Ya());else P=e.o.defaultPresentationDelay||1.5*f,k=new eo(p,null!=m?m:P,e.o.dash.autoCorrectDrift);C=t.getAttribute("profiles")||"",A={bb:"static"!=b,presentationTimeline:k,ea:null,V:null,ka:null,K:null,bandwidth:0,$d:!1,tb:u,profiles:C.split(",")};for(var U=Qu(t,"mediaPresentationDuration",ec),B=[],F=0,z=Gu(t,"Period"),V=(z=c(re(z))).next();!V.done;V=z.next()){var W=V.value;V=W.item,W=W.next,F=Qu(V,"start",ec,F);var $=Qu(V,"duration",ec),H=null;if(W){var K=Qu(W,"start",ec);null!=K&&(H=K-F)}else null!=U&&(H=U-F);if(null==H&&(H=$),V=ud(e,A,l,{start:F,duration:H,node:V,be:null==H||!W}),B.push(V),A.ea.id&&H&&(e.H[A.ea.id]=H),null==H){F=null;break}F+=H}return I=(M=null!=U?{periods:B,duration:U,Vd:!1}:{periods:B,duration:F,Vd:!0}).duration,R=M.periods,k.ac("static"==b),"static"!=b&&M.Vd||k.Ja(I||1/0),e.j&&!e.m&&e.C.isAutoLowLatencyMode()&&(e.C.enableLowLatencyMode(),e.m=e.C.isLowLatencyMode()),e.m?k.oe(e.j):e.j&&Z("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),k.Y()&&!isNaN(e.o.availabilityWindowOverride)&&(h=e.o.availabilityWindowOverride),null==h&&(h=1/0),k.Md(h),k.ud(y||1),E(N,Uc(e.g,R,A.bb),2);case 2:if(e.A){e.A.variants=e.g.l,e.A.textStreams=e.g.j,e.A.imageStreams=e.g.i,e.C.filter(e.A),N.v(3);break}if(e.A={presentationTimeline:k,variants:e.g.l,textStreams:e.g.j,imageStreams:e.g.i,offlineSessionIds:[],minBufferTime:f||0},!k.te()){N.v(3);break}return L=Gu(t,"UTCTiming"),E(N,function(e,t,r){var n,i,a,o,s,l,u,d;return D((function(f){switch(f.g){case 1:n=r.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),i=e.o.dash.clockSyncUri,!n.length&&i&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=c(n),o=a.next();case 2:if(o.done){f.v(4);break}switch(s=o.value,S(f,5),l=s.scheme,u=s.value,l){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.v(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.v(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(u),f.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Z("NTP UTCTiming scheme is not supported");break;default:Z("Unrecognized scheme in UTCTiming element",l)}f.v(9);break;case 7:return E(f,pd(e,t,u,"HEAD"),10);case 10:return f.return(f.h);case 8:return E(f,pd(e,t,u,"GET"),11);case 11:return f.return(f.h);case 9:w(f,3);break;case 5:x(f);case 3:o=a.next(),f.v(2);break;case 4:return Z("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))}(e,l,L),5);case 5:if(j=N.h,!e.C)return N.return();k.pe(j);case 3:e.C.makeTextStreamsForClosedCaptions(e.A),_(N)}}))}function ud(e,t,r,n){t.ea=fd(n.node,null,r),t.V=n,t.ea.tb=t.tb,t.ea.id||(t.ea.id="__shaka_period_"+n.start);for(var i=(r=c(r=Gu(n.node,"EventStream"))).next();!i.done;i=r.next())hd(e,n.start,n.duration,i.value);if(r=Gu(n.node,"AdaptationSet").map((function(r){return function(e,t,r){t.ka=fd(r,t.ea,null);var n=!1,i=Gu(r,"Role"),a=i.map((function(e){return e.getAttribute("value")})).filter(Ce),o=void 0,s=t.ka.contentType==dn;s&&(o="subtitle");for(var l=(i=c(i)).next();!l.done;l=i.next()){var u=(l=l.value).getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(l=l.getAttribute("value"),l){case"main":n=!0;break;case"caption":case"subtitle":o=l}}u=Gu(r,"EssentialProperty"),i=null,l=!1;for(var f=(u=c(u)).next();!f.done;f=u.next())"http://dashif.org/guidelines/trickmode"==(f=f.value).getAttribute("schemeIdUri")?i=f.getAttribute("value"):l=!0;u=Gu(r,"Accessibility");var p=new Map;for(u=c(u),f=u.next();!f.done;f=u.next()){var h=f.value;if(f=h.getAttribute("schemeIdUri"),h=h.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==f)if(f=1,null!=h)for(var g=c(h=h.split(";")),m=g.next();!m.done;m=g.next()){var v=m.value,y=m=void 0;v.includes("=")?(v=v.split("="),m=v[0].startsWith("CC")?v[0]:"CC"+v[0],y=v[1]):(m="CC"+f,2==h.length?f+=2:f++,y=v),p.set(m,ii(y))}else p.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==f)if(f=1,null!=h)for(h=c(h.split(";")),m=h.next();!m.done;m=h.next())m=m.value,v=g=void 0,m.includes("=")?(m=m.split("="),g="svc"+m[0],v=m[1].split(",")[0].split(":").pop()):(g="svc"+f,f++,v=m),p.set(g,ii(v));else p.set("svc1","und");else"urn:mpeg:dash:role:2011"==f&&null!=h&&(a.push(h),"captions"==h&&(o="caption"))}if(l)return null;var b=uc(l=Gu(r,"ContentProtection"),e.o.dash.ignoreDrmInfo,e.o.dash.keySystemsByURI),k=ii(r.getAttribute("lang")||"und"),S=r.getAttribute("label");if((l=Gu(r,"Label"))&&l.length&&((l=l[0]).textContent&&(S=l.textContent)),l=Gu(r,"Representation"),0==(r=l.map((function(r){return function(e,t,r,n,i,a,o,s,l,u){if(t.K=fd(u,t.ka,null),e.j=Math.min(e.j,t.K.tb),!function(e){var t=e.Zb?1:0;return t+=e.$a?1:0,0==(t+=e.$b?1:0)?e.contentType==dn||"application"==e.contentType:(1!=t&&(e.Zb&&(e.$a=null),e.$b=null),!0)}(t.K))return null;var c=t.V.start;t.bandwidth=Qu(u,"bandwidth",nc)||0;var d=t.K.contentType,f=d==dn||"application"==d;d="image"==d;try{var p=function(t,r,n){return function(e,t,r,n){var i,a,o,s,l;return D((function(u){return 1==u.g?(i=da,a=Do(t,r,n,e.o.retryParameters),o=e.C.networkingEngine,s=o.request(i,a),aa(e.i,s),E(u,s.promise,2)):(l=u.h,u.return(l.data))}))}(e,t,r,n)};if(t.K.Zb)var h=Pc(t,p);else if(t.K.$a)h=Rc(t,e.l);else if(t.K.$b)h=Lc(t,p,e.l,!!e.A,e.o.dash.initialSegmentLimit,e.H);else{var g=t.K.ya,m=t.V.duration||0;h={vb:function(){return Promise.resolve(_o(c,m,g))}}}}catch(T){if((f||d)&&4002==T.code)return null;throw T}p=function(e,t,r,n){var i=uc(e,r,n);if(t.Xd)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,r=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!r)&&(t.drmInfos=i.drmInfos),t.Xd=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new ce(2,4,4008);return i.Td||t.Td}(p=Gu(u,"ContentProtection"),r,e.o.dash.ignoreDrmInfo,e.o.dash.keySystemsByURI),p=new Set(p?[p]:[]);var v=!1;Gu(u,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(t.K.mimeType="audio/eac3-joc",v=!0);var y,b,k=!1;if(f&&(k=s.includes("forced_subtitle")),d&&((u=Gu(u,"EssentialProperty").find((function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.getAttribute("schemeIdUri"))})))&&(y=u.getAttribute("value")),!y))return null;u=t.K.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(u.includes("hvc1.2.4.L153.B0")||u.includes("hev1.2.4.L153.B0"))&&(b="PQ");var S={id:e.D++,originalId:t.K.id,createSegmentIndex:function(){var e;return D((function(t){if(1==t.g)return S.segmentIndex?t.v(0):(e=S,E(t,h.vb(),3));e.segmentIndex=t.h,_(t)}))},segmentIndex:null,mimeType:t.K.mimeType,codecs:t.K.codecs,frameRate:t.K.frameRate,pixelAspectRatio:t.K.pixelAspectRatio,bandwidth:t.bandwidth,width:t.K.width,height:t.K.height,kind:n,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:p,language:i,label:a,type:t.ka.contentType,primary:o,trickModeVideo:null,emsgSchemeIdUris:t.K.emsgSchemeIdUris,roles:s,forced:k,channelsCount:t.K.wd,audioSamplingRate:t.K.audioSamplingRate,spatialAudio:v,closedCaptions:l,hdr:b,tilesLayout:y};return S}(e,t,b,o,k,S,n,a,p,r)})).filter((function(e){return!!e}))).length){if(i="image"==t.ka.contentType,e.o.dash.ignoreEmptyAdaptationSet||s||i)return null;throw new ce(2,4,4003)}if(!t.ka.contentType||"application"==t.ka.contentType)for(t.ka.contentType=gd(r[0].mimeType,r[0].codecs),s=c(r),u=s.next();!u.done;u=s.next())u.value.type=t.ka.contentType;for(s=c(r),u=s.next();!u.done;u=s.next())for(u=u.value,f=c(b.drmInfos),h=f.next();!h.done;h=f.next())(h=h.value).keyIds=h.keyIds&&u.keyIds?new Set([].concat(d(h.keyIds),d(u.keyIds))):h.keyIds||u.keyIds;return s=l.map((function(e){return e.getAttribute("id")})).filter(Ce),{id:t.ka.id||"__fake__"+e.D++,contentType:t.ka.contentType,language:k,og:n,streams:r,drmInfos:b.drmInfos,Od:i,yf:s}}(e,t,r)})).filter(Ce),t.bb){n=[];for(var a=(i=c(r)).next();!a.done;a=i.next())for(var o=(a=c(a.value.yf)).next();!o.done;o=a.next())n.push(o.value);if(n.length!=new Set(n).size)throw new ce(2,4,4018)}for(n=r.filter((function(e){return!e.Od})),i=(r=c(r=r.filter((function(e){return e.Od})))).next();!i.done;i=r.next()){a=(i=i.value).Od.split(" ");for(var s=(o=c(n)).next();!s.done;s=o.next()){var l=s.value;if(a.includes(l.id)){s={};for(var u=(l=c(l.streams)).next();!u.done;s={jc:s.jc},u=l.next())s.jc=u.value,s.jc.trickModeVideo=i.streams.find(function(e){return function(t){return Tn(e.jc.codecs)==Tn(t.codecs)}}(s))}}}if(i=e.o.disableAudio?[]:cd(n,"audio"),o=e.o.disableVideo?[]:cd(n,"video"),a=e.o.disableText?[]:cd(n,dn),r=e.o.disableThumbnails?[]:cd(n,"image"),!o.length&&!i.length)throw new ce(2,4,4004);for(n=[],s=(i=c(i)).next();!s.done;s=i.next())n.push.apply(n,d(s.value.streams));for(i=[],s=(o=c(o)).next();!s.done;s=o.next())i.push.apply(i,d(s.value.streams));for(o=[],s=(a=c(a)).next();!s.done;s=a.next())o.push.apply(o,d(s.value.streams));for(a=[],s=(r=c(r)).next();!s.done;s=r.next())a.push.apply(a,d(s.value.streams));return{id:t.ea.id,qc:n,Lc:i,textStreams:o,imageStreams:a}}function cd(e,t){return e.filter((function(e){return e.contentType==t}))}function dd(e,t){0>e.u||e.s.T(Math.max(3,e.u-t,$(e.F)))}function fd(e,t,r){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,wd:null,audioSamplingRate:null,tb:0},r=r||t.ya;for(var n=Gu(e,"BaseURL"),i=n.map(Xu),a=e.getAttribute("contentType")||t.contentType,o=e.getAttribute("mimeType")||t.mimeType,s=e.getAttribute("codecs")||t.codecs,l=Qu(e,"frameRate",oc)||t.frameRate,u=e.getAttribute("sar")||t.pixelAspectRatio,d=Gu(e,"InbandEventStream"),f=t.emsgSchemeIdUris.slice(),p=(d=c(d)).next();!p.done;p=d.next())p=p.value.getAttribute("schemeIdUri"),f.includes(p)||f.push(p);d=function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){var r=t.value;if((t=r.getAttribute("schemeIdUri"))&&(r=r.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return r.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(r,10)))continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(t=parseInt(r,16)))continue;for(e=0;t;)1&t&&++e,t>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(t=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(r=parseInt(r,10))&&0<r&&r<t.length)return t[r]}}return null}(d=Gu(e,"AudioChannelConfiguration"))||t.wd,p=Qu(e,"audioSamplingRate",ic)||t.audioSamplingRate,a||(a=gd(o,s));var h=Hu(e,"SegmentBase"),g=Hu(e,"SegmentTemplate"),m=h&&Qu(h,"availabilityTimeOffset",ac)||0,v=g&&Qu(g,"availabilityTimeOffset",ac)||0;return n=n&&n.length&&Qu(n[0],"availabilityTimeOffset",ac)||0,n=t.tb+n+m+v,{ya:sn(r,i),Zb:h||t.Zb,$a:Hu(e,"SegmentList")||t.$a,$b:g||t.$b,width:Qu(e,"width",ic)||t.width,height:Qu(e,"height",ic)||t.height,contentType:a,mimeType:o,codecs:s,frameRate:l,pixelAspectRatio:u,emsgSchemeIdUris:f,id:e.getAttribute("id"),wd:d,audioSamplingRate:p,tb:n}}function pd(e,t,r,n){var i,a,o,s,l,u;return D((function(c){if(1==c.g)return i=sn(t,[r]),(a=la(i,e.o.retryParameters)).method=n,o=e.C.networkingEngine.request(4,a),aa(e.i,o),E(c,o.promise,2);if(s=c.h,"HEAD"==n){if(!s.headers||!s.headers.date)return c.return(0);l=s.headers.date}else l=pe(s.data);return u=Date.parse(l),isNaN(u)?c.return(0):c.return(u-Date.now())}))}function hd(e,t,r,n){for(var i=n.getAttribute("schemeIdUri")||"",a=n.getAttribute("value")||"",o=Qu(n,"timescale",ic)||1,s=(n=c(Gu(n,"Event"))).next();!s.done;s=n.next()){var l=Qu(s=s.value,"presentationTime",ic)||0,u=Qu(s,"duration",ic)||0;u=(l=l/o+t)+u/o,null!=r&&(l=Math.min(l,t+r),u=Math.min(u,t+r)),s={schemeIdUri:i,value:a,startTime:l,endTime:u,id:s.getAttribute("id")||"",eventElement:s},e.C.onTimelineRegionAdded(s)}}function gd(e,t){return Pn(_n(e,t))?dn:e.split("/")[0]}function md(e,t,r,n){this.g=e,this.type=t,this.W=r,this.segments=n||null}function vd(e,t,r,n){this.id=e,this.name=t,this.g=r,this.value=void 0===n?null:n}function yd(e,t,r){return(e=e.getAttribute(t))?e.value:r||null}function bd(e,t){var r=e.getAttribute(t);if(!r)throw new ce(2,4,4023,t);return r.value}function kd(e,t,r){r=void 0===r?[]:r,this.W=t,this.g=e,this.h=r}function Ed(e,t){this.name=e,this.value=t}function _d(e,t){return e.filter((function(e){return e.name==t}))}function Sd(e,t){return e.filter((function(e){return bd(e,"TYPE")==t}))}function Td(e,t){var r=_d(e,t);return r.length?r[0]:null}function wd(e,t,r){return r=void 0===r?0:r,(e=Td(e,t))?Number(e.value):r}function xd(e){this.h=e,this.g=0}function Od(e){Pd(e,/[ \t]+/gm)}function Pd(e,t){t.lastIndex=e.g;var r=t.exec(e.h);return r=null==r?null:{position:r.index,length:r[0].length,results:r},e.g==e.h.length||null==r||r.position!=e.g?null:(e.g+=r.length,r.results)}function Cd(e){return e.g==e.h.length?null:(e=Pd(e,/[^ \t\n]*/gm))?e[0]:null}function Ad(){this.g=0}function Md(e,t,r){var n=(t=(t=pe(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new ce(2,4,4015);t=0;for(var i=!0,a=c(n),o=a.next();!o.done;o=a.next())if(o=o.value,/^#(?!EXT)/m.test(o)||i)i=!1;else{if(o=Id(e.g++,o),--e.g,Rd.includes(o.name)){t=1;break}"EXT-X-STREAM-INF"==o.name&&(i=!0)}a=[],i=!0;for(var s=(o=c(re(n))).next();!s.done;s=o.next()){var l=s.value;s=l.ha;var u=l.item;if(l=l.next,/^#(?!EXT)/m.test(u)||i)i=!1;else{if(u=Id(e.g++,u),Dd.includes(u.name)){if(1!=t)throw new ce(2,4,4017);l=n.splice(s,n.length-s),n=r,i=[],o=[],s=[],u=null;for(var d=(l=c(l)).next();!d.done;d=l.next())d=d.value,/^(#EXT)/.test(d)?(d=Id(e.g++,d),Rd.includes(d.name)?a.push(d):"EXT-X-MAP"==d.name?u=d:"EXT-X-PART"==d.name?s.push(d):"EXT-X-PRELOAD-HINT"==d.name?"PART"==yd(d,"TYPE")?s.push(d):"MAP"==yd(d,"TYPE")&&(d.name="EXT-X-MAP",u=d):o.push(d)):/^#(?!EXT)/m.test(d)||(d=sn([n],[d.trim()])[0],u&&o.push(u),i.push(new kd(d,o,s)),o=[],s=[]);return s.length&&(u&&o.push(u),i.push(new kd("",o,s))),new md(r,t,a,i)}a.push(u),"EXT-X-STREAM-INF"==u.name&&(u.g.push(new Ed("URI",l)),i=!0)}}return new md(r,t,a)}function Id(e,t){var r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new ce(2,4,4016,t);var n,i=r[1],a=r[2];if(r=[],a){var o;(o=Pd(a=new xd(a),/^([^,=]+)(?:,|$)/g))&&(n=o[1]);for(var s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=Pd(a,s);)r.push(new Ed(o[1],o[2]||o[3]))}return new vd(e,i,r,n)}(n=od.prototype).configure=function(e){this.o=e},n.start=function(e,t){var r,n=this;return D((function(i){if(1==i.g)return n.m=t.isLowLatencyMode(),n.h=[e],n.C=t,E(i,sd(n),2);if(r=i.h,n.C&&dd(n,r),!n.C)throw new ce(2,7,7001);return i.return(n.A)}))},n.stop=function(){for(var e=c(Object.values(this.l)),t=e.next();!t.done;t=e.next())t.value.release();return this.g&&this.g.release(),this.o=this.C=null,this.h=[],this.A=null,this.l={},this.g=null,null!=this.s&&(this.s.stop(),this.s=null),this.i.destroy()},n.update=function(){var e,t=this;return D((function(r){return 1==r.g?(S(r,2),E(r,sd(t),4)):2!=r.g?w(r,0):(e=x(r),t.C&&e?(t.C.onError(e),void _(r)):r.return())}))},n.onExpirationUpdated=function(){},n.Wb=function(){var e,t,r=this;return D((function(n){switch(n.g){case 1:return e=0,S(n,2),E(n,sd(r),4);case 4:e=n.h,w(n,3);break;case 2:t=x(n),r.C&&(t.severity=1,r.C.onError(t));case 3:if(!r.C)return n.return();dd(r,e),_(n)}}))},z("shaka.dash.DashParser",od),Ya.mpd=function(){return new od},Xa["application/dash+xml"]=function(){return new od},Xa["video/vnd.mpeg.dash.mpd"]=function(){return new od},vd.prototype.toString=function(){var e="#"+this.name,t=this.g?this.g.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e},vd.prototype.getAttribute=function(e){var t=this.g.filter((function(t){return t.name==e}));return t.length?t[0]:null};var Rd="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),Dd="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function Ld(){}function jd(e){try{var t=Nd(e);return Yi({uri:e,ge:e,data:t.data,headers:{"content-type":t.contentType}})}catch(r){return qi(r)}}function Nd(t){var r=t.split(":");if(2>r.length||"data"!=r[0])throw new ce(2,1,1004,t);if(2>(r=r.slice(1).join(":").split(",")).length)throw new ce(2,1,1004,t);var n=r[0];t=e.decodeURIComponent(r.slice(1).join(",")),r=n.split(";"),n=r[0];var i=!1;return 1<r.length&&"base64"==r[r.length-1]&&(i=!0,r.pop()),{data:i?rt(t):me(t),contentType:n}}function Ud(){var e=this;this.o=this.C=null,this.Ma=1,this.u=new Map,this.m=new Map,this.Fa=new Set,this.h=new Map,this.g=null,this.L="",this.X=new Ad,this.Ea=0,this.s=new ze((function(){e.Wb()})),this.j=af,this.A=null,this.oa=0,this.F=1/0,this.S=this.Wa=0,this.D=new ia,this.pa=[],this.I=new Map,this.Va=!1,this.l=new Map,this.N=null,this.ca=new Map,this.H=new Map,this.i=!1}function Bd(e,t){var r,n,i,a,o,s,l,u,c,d,f,p;return D((function(h){if(1==h.g)return r=lf,n=t.xe,i=new Gr(n),e.i&&t.Be&&Xr(i,new on("_HLS_skip=YES")),E(h,ef(e,la([i.toString()],e.o.retryParameters),0),2);if(3!=h.g){if(a=h.h,1!=(o=Md(e.X,a.data,a.uri)).type)throw new ce(2,4,4017);return s=_d(o.W,"EXT-X-DEFINE"),l=Fd(e,s),u=t.stream,E(h,qd(e,t.Kc,o,u.mimeType,t.rd,l,t.Ie),3)}c=h.h,u.segmentIndex.Ab(c,e.g.Ya()),c.length&&(d=wd(o.W,"EXT-X-MEDIA-SEQUENCE",0),f=t.rd.get(d),u.segmentIndex.cb(f)),p=c[c.length-1],Td(o.W,"EXT-X-ENDLIST")&&(Jd(e,r.we),e.g.Ja(p.endTime)),_(h)}))}function Fd(e,t){for(var r=new Map,n=c(t),i=n.next();!i.done;i=n.next()){var a=i.value;i=yd(a,"NAME");var o=yd(a,"VALUE");a=yd(a,"IMPORT"),i&&o&&r.set(i,o),a&&(i=e.u.get(a))&&r.set(a,i)}return r}function zd(e,t){var r=[];e.o.disableVideo||r.push("avc1.42E01E"),e.o.disableAudio||r.push("mp4a.40.2");var n=yd(t,"CODECS",r.join(",")).split(/\s*,\s*/);r=new Set;for(var i=[],a=(n=c(n)).next();!a.done;a=n.next()){var o=Tn(a=a.value);r.has(o)||(i.push(a),r.add(o))}return i}function Vd(e){return ii(e=yd(e,"LANGUAGE")||"und")}function Wd(e,t){var r,n,i,a,o,s,l,u,c,d,f,p,h;return D((function(g){if(1==g.g){r=bd(t,"GROUP-ID"),n="";var m=bd(t,"TYPE").toLowerCase();return"subtitles"==m&&(m=dn),(i=m)!=dn&&r&&e.l.has(r)&&(n=e.l.get(r)),a=Qd(bd(t,"URI"),e.u),e.h.has(a)?g.return(e.h.get(a)):(o=Vd(t),s=yd(t,"NAME"),l=t.getAttribute("DEFAULT"),u="YES"==l,m="audio"==i&&(m=yd(t,"CHANNELS"))?parseInt(m.split("/")[0],10):null,c=m,m="audio"==i&&(!!(m=yd(t,"CHANNELS"))&&m.includes("/JOC")),d=m,f=yd(t,"CHARACTERISTICS"),p=yd(t,"FORCED"),E(g,$d(e,a,n,i,o,u,s,c,null,f,"YES"==p,d),2))}return h=g.h,e.m.has(r)?e.m.get(r).push(h):e.m.set(r,[h]),null==h?g.return(null):e.h.has(a)?g.return(e.h.get(a)):(e.h.set(a,h),g.return(h))}))}function $d(e,t,r,n,i,a,o,s,l,u,f,p){var h,g,m,v,y,b,k,_,T,O,P,C,A,M,I,R,L,j,N,U,B,F,z,V,W,$,H,K,G,q,X,Y,Q,J,ee,te,re,ne,ie;return D((function(ae){switch(ae.g){case 1:return h=sn([e.L],[t])[0],E(ae,ef(e,la([h],e.o.retryParameters),0),2);case 2:if(g=ae.h,h=g.uri,1!=(m=Md(e.X,g.data,h)).type)throw new ce(2,4,4017);if(v=[],m.segments)for(y=c(m.segments),b=y.next();!b.done;b=y.next())k=b.value,_=_d(k.W,"EXT-X-KEY"),v.push.apply(v,d(_));for(T=!1,O=[],P=new Set,C=c(v),A=C.next();!A.done;A=C.next())if(M=A.value,"NONE"!=(I=bd(M,"METHOD"))){if(T=!0,"AES-128"==I)return e.Va=!0,ae.return(null);if(R=bd(M,"KEYFORMAT"),j=(L=nf[R])?L(M):null){if(j.keyIds)for(N=c(j.keyIds),U=N.next();!U.done;U=N.next())B=U.value,P.add(B);O.push(j)}}if(T&&!O.length)throw new ce(2,4,4026);return F=_d(m.W,"EXT-X-DEFINE"),z=Fd(e,F),function(e,t){var r=Td(t.W,"EXT-X-PLAYLIST-TYPE"),n=Td(t.W,"EXT-X-ENDLIST");if(n=r&&"VOD"==r.value||n,r=r&&"EVENT"==r.value&&!n,r=!n&&!r,n)Jd(e,af);else{if(Jd(e,r?sf:of),!(n=Td(t.W,"EXT-X-TARGETDURATION")))throw new ce(2,4,4024,"EXT-X-TARGETDURATION");n=Number(n.value),r=Td(t.W,"EXT-X-PART-INF"),e.i&&r?(e.Wa=Number(bd(r,"PART-TARGET")),e.F=Math.min(e.Wa,e.F),r=Td(t.W,"EXT-X-SERVER-CONTROL"),e.S=r?Number(bd(r,"PART-HOLD-BACK")):0):e.F=Math.min(n,e.F),e.oa=Math.max(n,e.oa)}}(e,m),E(ae,function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p,h,g;return D((function(m){return 1==m.g?(a=fn,o=da,s=Qd(n.segments[0].g,i),l=new Gr(s),u=l.wa.split(".").pop(),c=rf[t],(d=c[u])?m.return(d):t==a.fa?r&&"vtt"!=r&&"wvtt"!=r?m.return("application/mp4"):m.return("text/vtt"):((f=la([s],e.o.retryParameters)).method="HEAD",E(m,ef(e,f,o),2))):(p=m.h,(h=p.headers["content-type"])?m.return(h.split(";")[0]):(g=c.mp4,m.return(g)))}))}(e,n,r,m,z),3);case 3:return V=ae.h,tf.includes(V)&&(r=""),W=new Map,$=new Map,S(ae,4),E(ae,qd(e,t,m,V,W,z,$),6);case 6:H=ae.h,w(ae,5);break;case 4:if(4035==(K=x(ae)).code)return Z("Skipping unsupported HLS stream",V,t),ae.return(null);throw K;case 5:if(G=H[0].startTime,q=H[H.length-1].endTime,X=new Eo(H),Y=n==dn?"subtitle":void 0,Q=[],u)for(J=c(u.split(",")),ee=J.next();!ee.done;ee=J.next())te=ee.value,Q.push(te);return ne=!!(re=Td(m.W,"EXT-X-SERVER-CONTROL"))&&null!=re.getAttribute("CAN-SKIP-UNTIL"),ie={id:e.Ma++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:X,mimeType:V,codecs:r,kind:Y,encrypted:T,drmInfos:O,keyIds:P,language:i,label:o,type:n,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:Q,forced:f,channelsCount:s,audioSamplingRate:null,spatialAudio:p,closedCaptions:l,hdr:void 0,tilesLayout:void 0},ae.return({stream:ie,Kc:t,xe:h,ee:G,kf:q,rd:W,Ie:$,Be:ne})}}))}function Hd(e,t,r,n){return(r=Td(r,"EXT-X-MAP"))?(t=[n=Qd(sn([t],[bd(r,"URI")])[0],n),yd(r,"BYTERANGE","")].join("-"),e.ca.has(t)||(r=function(e,t){var r=0,n=null,i=yd(t,"BYTERANGE");return i&&(r=i.split("@"),n=Number(r[0]),r=Number(r[1]),n=r+n-1),new Qa((function(){return[e]}),r,n)}(n,r),e.ca.set(t,r)),e.ca.get(t)):null}function Kd(e,t,r,n,i,a,o,s){var l=n.W,u=Qd(n.g,o),d=Td(l,"EXTINF"),f=o=0,p=null,h=[];if(e.i&&n.h.length){e={};for(var g=(n=c(re(n.h))).next();!g.done;e={Sc:e.Sc},g=n.next()){var m=(g=g.value).ha;g=g.item;var v=0==m?r:h[h.length-1];m=0==m?i:v.endTime;var y=Number(yd(g,"DURATION"));y=m+y;var b=0,k=null;"EXT-X-PRELOAD-HINT"==g.name?b=(v=yd(g,"BYTERANGE-START"))?Number(v):0:(b=(v=c(Gd(v,b=yd(g,"BYTERANGE")))).next().value,k=v.next().value),g=yd(g,"URI"),e.Sc=sn([s],[g])[0],h.push(new Ja(m,y,function(e){return function(){return[e.Sc]}}(e),b,k,t,a,0,1/0))}}else if(!d)throw new ce(2,4,4024,"EXTINF");return o=d?i+Number(d.value.split(",")[0]):h[h.length-1].endTime,(s=Td(l,"EXT-X-BYTERANGE"))?(f=(r=c(Gd(r,s.value))).next().value,p=r.next().value):h.length&&(f=h[0].ja,p=h[h.length-1].da),new Ja(i,o,(function(){return u.length?[u]:[]}),f,p,t,a,0,1/0,h)}function Gd(e,t){var r=0,n=null;return t&&(r=t.split("@"),n=Number(r[0]),n=(r=r[1]?Number(r[1]):e.da+1)+n-1),[r,n]}function Zd(e){if(e.g){for(var t=c(e.pa),r=t.next();!r.done;r=t.next())e.g.Cb(r.value);e.pa=[]}}function qd(e,t,r,n,i,a,o){var s,l,u,d,f,p,h,g,m,v,y,b,k,_,S,T,w,x,O,P;return D((function(C){switch(C.g){case 1:if(s=r.segments,u=wd(r.W,"EXT-X-MEDIA-SEQUENCE",0),f=(d=Td(r.W,"EXT-X-SKIP"))?Number(yd(d,"SKIPPED-SEGMENTS")):0,p=u+f,e.j!=af&&i.has(p)){h=i.get(p),C.v(2);break}if(null!=e.N){C.v(3);break}return l=Hd(e,r.g,s[0].W,a),g=e,E(C,Yd(e,t,l,n,p,!1,s[0],a),4);case 4:g.N=C.h;case 3:h=e.N;case 2:if(s[0].g.split("/").pop(),m=wd(r.W,"EXT-X-DISCONTINUITY-SEQUENCE"),e.i&&(o.has(m)||o.set(m,p),f))for(;o.has(m+1)&&o.get(m+1)<p;)m++;v=e.H.get(m)||0,y=[],b=c(function(e){return re(e)}(s)),k=b.next();case 5:if(k.done){C.v(7);break}if(_=k.value,S=_.ha,T=_.item,w=y[y.length-1],x=0==S?h:w.endTime,p=u+f+S,i.set(p,x),l=Hd(e,r.g,T.W,a),!Td(T.W,"EXT-X-DISCONTINUITY")){C.v(8);break}return m++,o.set(m,p),E(C,function(e,t,r,n,i,a,o,s,l){var u,c;return D((function(d){return 1==d.g?(u=0,e.H.has(t)?(u=e.H.get(t),d.v(2)):E(d,Yd(e,r,n,i,a,!0,o,s),3)):(2!=d.g&&(c=d.h,u=l-c,e.H.set(t,u)),d.return(u))}))}(e,m,t,l,n,p,T,a,x),9);case 9:v=C.h;case 8:!e.i&&e.C.isAutoLowLatencyMode()&&(e.C.enableLowLatencyMode(),e.i=e.C.isLowLatencyMode()),O=Td(T.W,"EXTINF"),e.i||O?(P=Kd(e,l,w,T,x,v,a,r.g),y.push(P)):e.i||Z("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),k=b.next(),C.v(5);break;case 7:return e.pa.push(y),Zd(e),C.return(y)}}))}function Xd(e,t){var r,n,i,a,o,s;return D((function(l){switch(l.g){case 1:return r=da,n=Do(t.ma(),t.ja,t.da,e.o.retryParameters),e.o.hls.useFullSegmentsForStartTime?l.return(ef(e,n,r)):(i=Do(t.ma(),t.ja,t.ja+2048-1,e.o.retryParameters),S(l,2),E(l,ef(e,i,r),4));case 4:return a=l.h,l.return(a);case 2:if(7001==(o=x(l)).code)throw o;return Z("Unable to fetch the starting part of HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),E(l,ef(e,n,r),5);case 5:return s=l.h,l.return(s)}}))}function Yd(e,t,r,n,i,a,o,s){var l,u,c,d,f,p,h,g;return D((function(m){switch(m.g){case 1:if(l=Kd(e,r,null,o,0,0,s,""),e.A&&!a&&(u=e.h.get(t),void 0!=(c=u.rd.get(i))))return m.return(c);if(n=n.toLowerCase(),tf.includes(n))throw Z("Raw formats are not yet supported.  Skipping "+n),new ce(1,4,4035);if("video/webm"==n)throw Z("WebM in HLS is not yet supported.  Skipping."),new ce(1,4,4035);if("video/mp4"!=n&&"audio/mp4"!=n){m.v(2);break}return d=[Xd(e,l)],r&&d.push(Xd(e,r)),E(m,Promise.all(d),3);case 3:return f=m.h,p=f[0],h=f[1]||f[0],m.return(function(e,t,r,n){var i=0;if((new Me).box("moov",Ie).box("trak",Ie).box("mdia",Ie).U("mdhd",(function(e){i=Nr(e.reader,e.version).timescale,e.parser.stop()})).parse(n,!0),!i)throw new ce(2,4,4030,e,t);var a=0,o=!1;if((new Me).box("moof",Ie).box("traf",Ie).U("tfdt",(function(e){a=jr(e.reader,e.version).bd/i,o=!0,e.parser.stop()})).parse(r,!0),!o)throw new ce(2,4,4030,e,t);return a}(t,p.uri,p.data,h.data));case 2:if("video/mp2t"!=n){m.v(4);break}return E(m,Xd(e,l),5);case 5:return g=m.h,m.return(function(e,t,r){function n(){a.seek(o+188),71!=(s=a.$())&&(a.seek(o+192),s=a.$()),71!=s&&(a.seek(o+204),s=a.$()),71!=s&&i(),a.je(1)}function i(){throw new ce(2,4,4030,e,t)}for(var a=new be(r,0),o=0,s=0;;)if(o=a.Z(),71!=(s=a.$())&&i(),8191==(8191&(r=a.Fb())))n();else if(16384&r){if(0!=(r=(48&a.$())>>4)&&2!=r||i(),3==r&&(r=a.$(),a.skip(r)),1==a.M()>>8){a.skip(3),0!=(r=a.$()>>6)&&1!=r||i(),0==a.$()&&i(),r=a.$();var l=a.Fb(),u=a.Fb();return(1073741824*((14&r)>>1)+((65534&l)<<14|(65534&u)>>1))/9e4}n()}else n()}(t,g.uri,g.data));case 4:throw new ce(2,4,4030,t)}}))}function Qd(e,t){var r=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),n=r.match(/{\$\w*}/g);if(n)for(var i=(n=c(n)).next();!i.done;i=n.next()){var a=(i=i.value).slice(2,i.length-1),o=t.get(a);if(!o)throw new ce(2,4,4039,a);r=r.replace(i,o)}return r}function Jd(e,t){e.j=t,e.g&&e.g.ac(e.j==af),e.j!=af||e.s.stop()}function ef(e,t,r){if(!e.D)throw new ce(2,7,7001);return t=e.C.networkingEngine.request(r,t),aa(e.D,t),t.promise}z("shaka.net.DataUriPlugin",Ld),Ld.parse=jd,sa("data",jd),(n=Ud.prototype).configure=function(e){this.o=e},n.start=function(e,t){var r,n,i=this;return D((function(a){return 1==a.g?(i.C=t,i.i=t.isLowLatencyMode(),E(a,ef(i,la([e],i.o.retryParameters),0),2)):3!=a.g?(r=a.h,i.L=r.uri,E(a,function(e,t){var r,n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,T,w,O,P,C,A;return D((function(M){switch(M.g){case 1:if(0!=(r=Md(e.X,t,e.L)).type)throw new ce(2,4,4022);for(var I=c(_d(r.W,"EXT-X-DEFINE")),R=I.next();!R.done;R=I.next()){var L=R.value;R=yd(L,"NAME"),L=yd(L,"VALUE"),R&&L&&(e.u.has(R)||e.u.set(R,L))}for(n=_d(r.W,"EXT-X-MEDIA"),R=(I=c(i=_d(r.W,"EXT-X-STREAM-INF"))).next();!R.done;R=I.next()){var j=R.value;L=yd(j,"AUDIO"),R=yd(j,"VIDEO");var N=yd(j,"SUBTITLES");if(j=zd(e,j),N){var U=cn(dn,j);e.l.set(N,U),ct(j,U)}L&&(N=un("audio",j),e.l.set(L,N)),R&&(L=un("video",j),e.l.set(R,L))}for(a=_d(r.W,"EXT-X-SESSION-DATA"),o=c(a),s=o.next();!s.done;s=o.next())l=s.value,u=yd(l,"DATA-ID"),d=yd(l,"URI"),f=yd(l,"LANGUAGE"),p=yd(l,"VALUE"),h={id:u},d&&(h.uri=sn([e.L],[d])[0]),f&&(h.language=f),p&&(h.value=p),g=new ea("sessiondata",h),e.C&&e.C.onEvent(g);return E(M,function(e,t){var r;return D((function(n){return 1==n.g?(t=t.filter((function(e){var t=yd(e,"URI")||"";return"SUBTITLES"!=yd(e,"TYPE")&&""!=t}))).length?E(n,Wd(e,t[0]),2):n.v(2):(r=t.slice(1).map((function(t){return Wd(e,t)})),E(n,Promise.all(r),0))}))}(e,n),2);case 2:for(R=(I=c(I=Sd(n,"CLOSED-CAPTIONS"))).next();!R.done;R=I.next())R=Vd(N=R.value),L=bd(N,"GROUP-ID"),N=bd(N,"INSTREAM-ID"),e.I.get(L)||e.I.set(L,new Map),e.I.get(L).set(N,R);return E(M,function(e,t){var r,n,i;return D((function(a){return 1==a.g?(r=t.map((function(t){var r,n,i,a,o,s,l,u;return D((function(d){if(1==d.g)return r=yd(t,"FRAME-RATE"),n=Number(yd(t,"AVERAGE-BANDWIDTH"))||Number(bd(t,"BANDWIDTH")),i=yd(t,"RESOLUTION"),a=c(i?i.split("x"):[null,null]),o=a.next().value,s=a.next().value,l=yd(t,"VIDEO-RANGE"),E(d,function(e,t){var r,n,i,a,o,s,l,u,d,f,p,h,g,m;return D((function(v){if(1==v.g)return r=fn,n=zd(e,t),i=yd(t,"AUDIO"),a=yd(t,"VIDEO"),s=(o=i||a)&&e.m.has(o)?e.m.get(o):[],l={audio:i?s:[],video:a?s:[]},d=!1,f=bd(t,"URI"),p=l.audio.find((function(e){return e&&e.Kc==f})),h=cn(r.Na,n),(g=cn(r.ab,n))&&!h?u=r.ab:!s.length&&g&&h?(u=r.Na,n=[[h,g].join()]):l.audio.length&&p?(u=r.ab,d=!0):u=l.video.length?r.ab:r.Na,d?v.v(2):E(v,function(e,t,r,n){var i,a,o,s;return D((function(l){if(1==l.g){if(i=Qd(bd(t,"URI"),e.u),e.h.has(i))return l.return(e.h.get(i));var u=yd(t,"CLOSED-CAPTIONS");return a="video"==n&&u&&"NONE"!=u?e.I.get(u):null,o=un(n,r),E(l,$d(e,i,o,n,"und",!1,null,null,a,null,!1,!1),2)}return null==(s=l.h)?l.return(null):e.h.has(i)?l.return(e.h.get(i)):(e.h.set(i,s),l.return(s))}))}(e,t,n,u),3);if(2!=v.g&&(m=v.h),m)l[m.stream.type]=[m];else if(null===m)return v.return(null);return function(e){for(var t=(e=c(e.audio.concat(e.video))).next();!t.done;t=e.next())if(t=t.value){var r=t.stream.codecs.split(",");r=r.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=r.join(",")}}(l),v.return(l)}))}(e,t),2);if(u=d.h){for(var f=d.return,p=u.audio,h=u.video,g=c(h),m=g.next();!m.done;m=g.next())(m=m.value.stream)&&(m.width=Number(o)||void 0,m.height=Number(s)||void 0,m.frameRate=Number(r)||void 0,m.hdr=l||void 0);for(g=e.o.disableAudio,p.length&&!g||(p=[null]),g=e.o.disableVideo,h.length&&!g||(h=[null]),g=[],m=(p=c(p)).next();!m.done;m=p.next()){m=m.value;for(var v=c(h),y=v.next();!y.done;y=v.next()){var b=y.value;y=m?m.stream:null;var k=b?b.stream:null,_=m?m.stream.drmInfos:null,S=b?b.stream.drmInfos:null;b=(b?b.Kc:"")+" - "+(m?m.Kc:""),y&&k&&_.length&&S.length&&!(0<Na(_,S).length)||e.Fa.has(b)||(y={id:e.Ma++,language:y?y.language:"und",primary:!!y&&y.primary||!!k&&k.primary,audio:y,video:k,bandwidth:n,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},g.push(y),e.Fa.add(b))}}d=f.call(d,g)}else d=d.return([]);return d}))})),E(a,Promise.all(r),2)):(n=a.h,i=(i=n.reduce(Oe,[])).filter((function(e){return null!=e})),a.return(i))}))}(e,i),3);case 3:return m=M.h,E(M,function(e,t){var r,n,i,a,o,s,l,u,d,f,p;return D((function(h){if(1==h.g)return r=Sd(t,"SUBTITLES"),n=r.map((function(t){var r,n;return D((function(i){if(1==i.g)return e.o.disableText?i.return(null):(S(i,2),E(i,Wd(e,t),4));if(2!=i.g)return r=i.h,i.return(r.stream);if(n=x(i),e.o.hls.ignoreTextStreamFailures)return i.return(null);throw n}))})),E(h,Promise.all(n),2);for(i=h.h,a=c(r),o=a.next();!o.done;o=a.next())if(s=o.value,l=bd(s,"GROUP-ID"),(u=e.l.get(l))&&(d=e.m.get(l)))for(f=c(d),p=f.next();!p.done;p=f.next())p.value.stream.codecs=u;return h.return(i.filter((function(e){return e})))}))}(e,n),4);case 4:if(v=M.h,!e.C)throw new ce(2,7,7001);if(e.Va&&0==m.length)throw new ce(2,4,4034);for(b=y=1/0,k=c(e.h.values()),T=k.next();!T.done;T=k.next())w=T.value,y=Math.min(y,w.ee),"text"!=w.stream.type&&(b=Math.min(b,w.kf-w.ee));if(e.j!=af?(e.g=new eo(0,e.o.defaultPresentationDelay?e.o.defaultPresentationDelay:e.S?e.S:3*e.oa),e.g.ac(!1)):(e.g=new eo(null,0),e.g.ac(!0)),Zd(e),e.j!=af)e.Ea=e.F,O=lf,e.j==O.ve&&(P=e.g.Gc,isNaN(e.o.availabilityWindowOverride)||(P=e.o.availabilityWindowOverride),e.g.Md(P));else for(e.g.Ja(b),e.g.offset(-y),C=c(e.h.values()),T=C.next();!T.done;T=C.next())(A=T.value).stream.segmentIndex.offset(-y),A.stream.segmentIndex.Xa(0,b);e.A={presentationTimeline:e.g,variants:m,textStreams:v,imageStreams:[],offlineSessionIds:[],minBufferTime:0},e.C.makeTextStreamsForClosedCaptions(e.A),_(M)}}))}(i,r.data),3)):(0<(n=i.Ea)&&i.s.T(n),a.return(i.A))}))},n.stop=function(){this.s&&(this.s.stop(),this.s=null);var e=[];return this.D&&(e.push(this.D.destroy()),this.D=null),this.o=this.C=null,this.Fa.clear(),this.A=null,this.h.clear(),this.m.clear(),this.l.clear(),this.u.clear(),Promise.all(e)},n.update=function(){var e,t,r,n=this;return D((function(i){if(1==i.g)return n.j==af?i.return():(e=[],n.N=null,(t=Array.from(n.h.values())).length?E(i,Bd(n,t[0]),2):i.v(2));for(r=1;r<t.length;r++)e.push(Bd(n,t[r]));return E(i,Promise.all(e),0)}))},n.onExpirationUpdated=function(){},n.Wb=function(){var e,t,r=this;return D((function(n){return 1==n.g?r.C?(S(n,2),E(n,r.update(),4)):n.return():2!=n.g?(e=r.Ea,r.s.T(e),w(n,0)):(t=x(n),r.C?(t.severity=1,r.C.onError(t),r.s.T(.1),void _(n)):n.return())}))},z("shaka.hls.HlsParser",Ud);var tf=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],rf={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}},nf={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=bd(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=ln("com.widevine.alpha",[{initDataType:"cenc",initData:t=se((t=Nd(t=bd(e,"URI"))).data)}]),(e=yd(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null},"com.microsoft.playready":function(e){var t=bd(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?ln("com.microsoft.playready",[{initDataType:"cenc",initData:e=$u(e=se((e=Nd(e=bd(e,"URI"))).data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]))}]):null}},af="VOD",of="EVENT",sf="LIVE",lf={we:af,Tf:of,ve:sf};function uf(e,t,r,n,i,a){if(200<=r&&299>=r&&202!=r)return{uri:i||n,ge:n,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=ge(t)}catch(o){}throw new ce(401==r||403==r?2:1,1,1001,n,r,i,e,a)}function cf(){}function df(e,t,r,n){var i=new mf;va(t.headers).forEach((function(e,t){i.append(t,e)}));var a=new hf,o={Rd:!1,se:!1};if(e=new Zi(e=function(e,t,r,n,i,a){var o,s,l,u,c,d,f,p,h,g,m,v;return D((function(y){switch(y.g){case 1:return o=pf,s=gf,d=c=0,f=Date.now(),S(y,2),E(y,o(e,r),4);case 4:return l=y.h,p=l.clone().body.getReader(),g=(h=l.headers.get("Content-Length"))?parseInt(h,10):0,new s({start:function(e){!function t(){var r,n;return D((function(o){switch(o.g){case 1:return S(o,2),E(o,p.read(),4);case 4:r=o.h,w(o,3);break;case 2:return x(o),o.return();case 3:if(r.done){o.v(5);break}if(c+=r.value.byteLength,!a){o.v(5);break}return E(o,a(r.value),5);case 5:(100<(n=Date.now())-f||r.done)&&(i(n-f,c-d,g-c),d=c,f=n),r.done?e.close():(e.enqueue(r.value),t()),_(o)}}))}()}}),E(y,l.arrayBuffer(),5);case 5:u=y.h,w(y,3);break;case 2:if(m=x(y),n.Rd)throw new ce(1,1,7001,e,t);if(n.se)throw new ce(1,1,1003,e,t);throw new ce(1,1,1002,e,m,t);case 3:return v={},l.headers.forEach((function(e,t){v[t.trim()]=e})),y.return(uf(v,u,l.status,e,l.url,t))}}))}(e,r,{body:t.body||void 0,headers:i,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,n,t.streamDataCallback),(function(){return o.Rd=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new ze((function(){o.se=!0,a.abort()}));s.T(t/1e3),e.finally((function(){s.stop()}))}return e}function ff(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(wg){return!1}return!(!e.fetch||!e.AbortController)}Ya.m3u8=function(){return new Ud},Xa["application/x-mpegurl"]=function(){return new Ud},Xa["application/vnd.apple.mpegurl"]=function(){return new Ud},z("shaka.net.HttpFetchPlugin",cf),cf.isSupported=ff,cf.parse=df;var pf=e.fetch,hf=e.AbortController,gf=e.ReadableStream,mf=e.Headers;function vf(){}function yf(e,t,r,n){var i=new bf,a=Date.now(),o=0;return new Zi(new Promise((function(s,l){for(var u in i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){l(new ce(1,1,7001,e,r))},i.onload=function(t){for(var n=(t=t.target).getAllResponseHeaders().trim().split("\r\n"),i={},a=(n=c(n)).next();!a.done;a=n.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=uf(i,t.response,t.status,e,t.responseURL,r);s(o)}catch(u){l(u)}},i.onerror=function(t){l(new ce(1,1,1002,e,t,r))},i.ontimeout=function(){l(new ce(1,1,1003,e,r))},i.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(n(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers)i.setRequestHeader(u.toLowerCase(),t.headers[u]);i.send(t.body)})),(function(){return i.abort(),Promise.resolve()}))}ff()&&(sa("http",df,2,!0),sa("https",df,2,!0)),z("shaka.net.HttpXHRPlugin",vf),vf.parse=yf;var bf=e.XMLHttpRequest;function kf(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function Ef(e){var t=this;this.O=e,this.g=new Map,this.J=new In((function(){var e=Array.from(t.g.values());return Promise.all(e.map((function(e){return e.catch((function(){}))})))})),this.h=[],this.de=function(){},this.ce=function(){},this.Lb=new kf}function _f(e){var t=e.h.map((function(e){return e()}));return e.h=[],Promise.all(t)}function Sf(e,t,r,n,i,a){Rn(e.J);var o=function(e,t){e.i+=t;var r=e.l;return e.l++,e.g.set(r,t),r}(e.Lb,n);return n=(e.g.get(t)||Promise.resolve()).then((function(){var t,n,s,l,u,c,d;return D((function(f){if(1==f.g)return E(f,function(e,t){var r,n,i,a;return D((function(o){return 1==o.g?(r=da,n=e.O.request(r,t),i=function(){return n.abort()},e.h.push(i),E(o,n.promise,2)):(a=o.h,ct(e.h,i),o.return(a.data))}))}(e,r),2);if(t=f.h,e.J.g)throw new ce(2,9,7001);if(i)for(l in n=se(t),(s=new Wu(n)).data)u=Number(l),c=s.data[u],d=s.g[u],e.ce(c,d);e.Lb.close(o,t.byteLength);var p=e.Lb;return e.de(0==p.i?0:p.j/p.i,e.Lb.h),f.return(a(t))}))})),e.g.set(t,n),n}function Tf(e,t){var r=this;this.i=e,this.h=e.objectStore(t),this.g=new hn,e.onabort=function(e){e.preventDefault(),r.g.reject()},e.onerror=function(e){e.preventDefault(),r.g.reject()},e.oncomplete=function(){r.g.resolve()}}function wf(e,t){return new Promise((function(r,n){var i=e.h.openCursor();i.onerror=n,i.onsuccess=function(){var e;return D((function(n){if(1==n.g)return null==i.result?(r(),n.return()):(e=i.result,E(n,t(e.key,e.value,e),2));e.continue(),_(n)}))}}))}function xf(e){this.h=e,this.g=[]}function Of(e,t){return Pf(e,t,"readwrite")}function Pf(e,t,r){var n=new Tf(r=e.h.transaction([t],r),t);return e.g.push(n),n.promise().then((function(){ct(e.g,n)}),(function(){ct(e.g,n)})),n}function Cf(e,t,r){this.g=new xf(e),this.i=t,this.h=r}function Af(e){return Promise.reject(new ce(2,9,9011,"Cannot add new value to "+e))}function Mf(e,t,r,n){t=(e=Of(e.g,t)).store();for(var i={},a=(r=c(r)).next();!a.done;i={hc:i.hc},a=r.next())i.hc=a.value,t.delete(i.hc).onsuccess=function(e){return function(){return n(e.hc)}}(i);return e.promise()}function If(e,t,r){var n,i,a,o,s,l,u;return D((function(d){if(1==d.g){for(n=Pf(e.g,t,"readonly"),i=n.store(),a={},o=[],s={},l=c(r),u=l.next();!u.done;s={Kb:s.Kb,Ib:s.Ib},u=l.next())s.Ib=u.value,s.Kb=i.get(s.Ib),s.Kb.onsuccess=function(e){return function(){void 0==e.Kb.result&&o.push(e.Ib),a[e.Ib]=e.Kb.result}}(s);return E(d,n.promise(),2)}if(o.length)throw new ce(2,9,9012,"Could not find values for "+o);return d.return(r.map((function(e){return a[e]})))}))}function Rf(e){this.g=new xf(e)}function Df(){this.g=new Map}function Lf(e,t,r){if(!(e=e.g.get(t)))throw new ce(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(r)))throw new ce(2,9,9013,"Could not find cell with name "+r);return t}function jf(e,t){Nf.set(e,t)}sa("http",yf,1,!0),sa("https",yf,1,!0),kf.prototype.close=function(e,t){if(this.g.has(e)){var r=this.g.get(e);this.g.delete(e),this.j+=r,this.h+=t}},Ef.prototype.destroy=function(){return this.J.destroy()},Tf.prototype.abort=function(){var e=this;return D((function(t){if(1==t.g){try{e.i.abort()}catch(r){}return S(t,2),E(t,e.g,4)}if(2!=t.g)return w(t,0);x(t),_(t)}))},Tf.prototype.store=function(){return this.h},Tf.prototype.promise=function(){return this.g},xf.prototype.destroy=function(){return Promise.all(this.g.map((function(e){return e.abort()})))},(n=Cf.prototype).destroy=function(){return this.g.destroy()},n.hasFixedKeySpace=function(){return!0},n.addSegments=function(){return Af(this.i)},n.removeSegments=function(e,t){return Mf(this,this.i,e,t)},n.getSegments=function(e){var t,r=this;return D((function(n){return 1==n.g?E(n,If(r,r.i,e),2):(t=n.h,n.return(t.map((function(e){return r.Sd(e)}))))}))},n.addManifests=function(){return Af(this.h)},n.updateManifestExpiration=function(e,t){var r=Of(this.g,this.h),n=r.store();return n.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,n.put(r,e))},r.promise()},n.removeManifests=function(e,t){return Mf(this,this.h,e,t)},n.getManifests=function(e){var t,r=this;return D((function(n){return 1==n.g?E(n,If(r,r.h,e),2):(t=n.h,n.return(Promise.all(t.map((function(e){return r.Ob(e)})))))}))},n.getAllManifests=function(){var e,t,r=this;return D((function(n){return 1==n.g?(e=Pf(r.g,r.h,"readonly"),t=new Map,E(n,wf(e,(function(e,n){var i;return D((function(a){if(1==a.g)return E(a,r.Ob(n),2);i=a.h,t.set(e,i),_(a)}))})),2)):3!=n.g?E(n,e.promise(),3):n.return(t)}))},n.Sd=function(e){return e},n.Ob=function(e){return Promise.resolve(e)},n.add=function(e,t){var r,n,i,a,o,s,l,u=this;return D((function(d){if(1==d.g){for(r=Of(u.g,e),n=r.store(),i=[],a={},o=c(t),s=o.next();!s.done;a={ic:a.ic},s=o.next())l=s.value,a.ic=n.add(l),a.ic.onsuccess=function(e){return function(){i.push(e.ic.result)}}(a);return E(d,r.promise(),2)}return d.return(i)}))},Rf.prototype.destroy=function(){return this.g.destroy()},Rf.prototype.getAll=function(){var e,t,r=this;return D((function(n){return 1==n.g?(e=Pf(r.g,"session-ids","readonly"),t=[],E(n,wf(e,(function(e,r){t.push(r)})),2)):3!=n.g?E(n,e.promise(),3):n.return(t)}))},Rf.prototype.add=function(e){for(var t=Of(this.g,"session-ids"),r=t.store(),n=(e=c(e)).next();!n.done;n=e.next())r.add(n.value);return t.promise()},Rf.prototype.remove=function(e){var t,r=this;return D((function(n){return 1==n.g?E(n,wf(t=Of(r.g,"session-ids"),(function(t,r,n){e.includes(r.sessionId)&&n.delete()})),2):E(n,t.promise(),0)}))},Df.prototype.destroy=function(){for(var e=[],t=c(this.g.values()),r=t.next();!r.done;r=t.next())e.push(r.value.destroy());return this.g.clear(),Promise.all(e)},Df.prototype.init=function(){var e=this;Nf.forEach((function(t,r){var n=t();n&&e.g.set(r,n)}));for(var t=[],r=c(this.g.values()),n=r.next();!n.done;n=r.next())t.push(n.value.init());return Promise.all(t)},z("shaka.offline.StorageMuxer",Df),Df.unregister=function(e){Nf.delete(e)},Df.register=jf,Df.prototype.destroy=Df.prototype.destroy;var Nf=new Map;function Uf(){Cf.apply(this,arguments)}function Bf(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var r=c(t),n=r.next();!n.done;n=r.next())n.value.variantIds=[];for(r=c(e),n=r.next();!n.done;n=r.next())n.value.variantIds=[];if(r=0,e.length&&!t.length){var i=r++,a=c(e);for(n=a.next();!n.done;n=a.next())n.value.variantIds.push(i)}if(!e.length&&t.length)for(i=r++,a=c(t),n=a.next();!n.done;n=a.next())n.value.variantIds.push(i);if(e.length&&t.length)for(t=c(t),n=t.next();!n.done;n=t.next())for(n=n.value,i=c(e),a=i.next();!a.done;a=i.next()){a=a.value;var o=r++;n.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var r=c(e.streams),n=r.next();!n.done;n=r.next());return e.streams.map((function(r){return function(e,t,r){var n=e.initSegmentUri?Ff(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+r;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:n,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var r=Ff(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:r,initSegmentKey:n,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}(r,e.startTime,t)}))}function Ff(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new ce(2,9,9004,"Could not parse uri "+e)}function zf(){Cf.apply(this,arguments)}function Vf(e,t,r){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(n){return{startTime:t+n.startTime,endTime:t+n.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:r,timestampOffset:t-e.presentationTimeOffset,dataKey:n.dataKey}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}function Wf(){Cf.apply(this,arguments)}function $f(){this.m=this.j=this.i=this.h=this.g=this.l=null}function Hf(e,t,r,n){this.g=e,this.i=t,this.h=r,this.l=n,this.j=["offline:",e,"/",t,"/",r,"/",n].join("")}function Kf(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var r=e[2];if(!r)return null;var n=e[3];return n&&null!=t?new Hf(t,r,n,Number(e[4])):null}function Gf(e,t){this.h=e,this.g=t}function Zf(e,t){var r=new eo(null,0);r.Ja(t.duration);var n=t.streams.filter((function(e){return"audio"==e.type})),i=t.streams.filter((function(e){return"video"==e.type}));n=function(e,t,r,n){for(var i=new Set,a=c(t),o=a.next();!o.done;o=a.next()){var s=c(o.value.variantIds);for(o=s.next();!o.done;o=s.next())i.add(o.value)}for(a=c(r),o=a.next();!o.done;o=a.next())for(s=c(o.value.variantIds),o=s.next();!o.done;o=s.next())i.add(o.value);for(a=new Map,i=c(i),o=i.next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=c(t),i=t.next();!i.done;i=t.next())for(i=i.value,o=qf(e,i,n),s=c(i.variantIds),i=s.next();!i.done;i=s.next())(i=a.get(i.value)).language=o.language,i.primary=i.primary||o.primary,i.audio=o;for(r=c(r),t=r.next();!t.done;t=r.next())for(i=t.value,t=qf(e,i,n),o=c(i.variantIds),i=o.next();!i.done;i=o.next())(i=a.get(i.value)).primary=i.primary||t.primary,i.video=t;return a}(e,n,i,r),i=t.streams.filter((function(e){return e.type==dn})).map((function(t){return qf(e,t,r)}));var a=t.streams.filter((function(e){return"image"==e.type})).map((function(t){return qf(e,t,r)})),o=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var s=c(n.values()),l=s.next();!l.done;l=s.next())(l=l.value).audio&&l.audio.encrypted&&(l.audio.drmInfos=o),l.video&&l.video.encrypted&&(l.video.drmInfos=o);return{presentationTimeline:r,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(n.values()),textStreams:i,imageStreams:a}}function qf(e,t,r){var n=t.segments.map((function(t){return function(e,t){var r=new Hf("segment",e.h,e.g,t.dataKey);return new Ja(t.startTime,t.endTime,(function(){return[r.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var r=new Hf("segment",e.h,e.g,t);return new Qa((function(){return[r.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd)}(e,t)}));return r.Cb(n),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Eo(n),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout}}function Xf(){this.g=null}function Yf(){}function Qf(e){var t=Kf(e);return t&&"manifest"==t.g?e=Yi(e={uri:e,ge:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):e=t&&"segment"==t.g?function(e,t){var r=new Df;return Yi(void 0).aa((function(){return r.init()})).aa((function(){return Lf(r,t.Ia(),t.la())})).aa((function(e){return e.getSegments([t.key()])})).aa((function(e){return{uri:t,data:e[0].data,headers:{}}})).finally((function(){return r.destroy()}))}(t.key(),t):qi(new ce(2,1,9004,e)),e}function Jf(e,t,r){var n,i,a,o,s,l;return D((function(u){switch(u.g){case 1:n=[];for(var d=[],f=c(r),p=f.next();!p.done;p=f.next()){p=p.value;for(var h=!1,g=c(d),m=g.next();!m.done;m=g.next())if(ep((m=m.value).info,p)){m.sessionIds.push(p.sessionId),h=!0;break}h||d.push({info:p,sessionIds:[p.sessionId]})}i=c(d),a=i.next();case 2:if(a.done){u.v(4);break}return o=a.value,s=function(e,t,r){var n,i;return D((function(a){switch(a.g){case 1:return n=new ka({Bb:t,onError:function(){},Dc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),S(a,2),n.configure(e),E(a,function(e,t,r,n,i,a){var o=new Map;return(i={audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:r,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:n,initData:null,keyIds:null}],o.set(t,i),Ma(e,o,[],!1)}(n,r.info.keySystem,r.info.licenseUri,r.info.serverCertificate,r.info.audioCapabilities,r.info.videoCapabilities),4);case 4:w(a,3);break;case 2:return x(a),E(a,n.destroy(),5);case 5:return a.return([]);case 3:return S(a,6),E(a,Sa(n),8);case 8:w(a,7);break;case 6:return x(a),E(a,n.destroy(),9);case 9:return a.return([]);case 7:return i=[],E(a,Promise.all(r.sessionIds.map((function(e){return D((function(t){return 1==t.g?(S(t,2),E(t,function(e,t){var r,n,i;return D((function(a){return 1==a.g?E(a,Ia(e,t),2):(r=a.h)?(n=[],(i=e.j.get(r))&&(i.Ka=new hn,n.push(i.Ka)),n.push(r.remove()),E(a,Promise.all(n),0)):a.return()}))}(n,e),4)):2!=t.g?(i.push(e),w(t,0)):(x(t),void _(t))}))}))),10);case 10:return E(a,n.destroy(),11);case 11:return a.return(i)}}))}(e,t,o),E(u,s,5);case 5:l=u.h,n=n.concat(l),a=i.next(),u.v(2);break;case 4:return u.return(n)}}))}function ep(e,t){function r(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&dt(e.audioCapabilities,t.audioCapabilities,r)&&dt(e.videoCapabilities,t.videoCapabilities,r)}function tp(e,t){var r=Zf(new Gf(e.Ia(),e.la()),t),n=t.appMetadata||{};return r=rp(r),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:r,appMetadata:n}}function rp(e){for(var t=[],r=function(e){return e.filter((function(e){return xi(e)}))}(e.variants),n=(r=c(r)).next();!n.done;n=r.next())t.push(ki(n.value));for(r=(e=c(e.textStreams)).next();!r.done;r=e.next())t.push(Ei(r.value));return t}function np(){this.g={}}function ip(e,t){var r=e.g[t];return null==r&&(r=0),r}function ap(e){var t=this;if(e&&e.constructor!=Es)throw new ce(2,9,9008);this.O=this.o=null,e?(this.o=e.o,this.O=e.Rb()):(this.o=fs(),this.O=new oa),this.Ic=[],this.Xb=[],this.zd=[];var r=!e;this.J=new In((function(){var e,n,i,a,o;return D((function(s){switch(s.g){case 1:return E(s,Promise.all(t.zd.map((function(e){return _f(e)}))),2);case 2:for(e=function(){},n=[],i=c(t.Xb),a=i.next();!a.done;a=i.next())o=a.value,n.push(o.then(e,e));return E(s,Promise.all(n),3);case 3:if(!r){s.v(4);break}return E(s,t.O.destroy(),4);case 4:t.o=null,t.O=null,_(s)}}))}))}function op(){if(Ve())e:{for(var e=c(Nf.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function sp(e,t){for(var r=[],n=c(e.streams),i=n.next();!i.done;i=n.next())i=i.value,t&&"video"==i.type?r.push({contentType:_n(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=i.type||r.push({contentType:_n(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return r}function lp(e,t,r){return D((function(n){return E(n,function(e,t,r,n){var i,a,o;return D((function(s){return 1==s.g?n.drmInfo?(i=function(e){var t=Array.from(e.g.keys());if(!t.length)throw new ce(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}(r),a=n.sessionIds.map((function(e){return{sessionId:e,keySystem:n.drmInfo.keySystem,licenseUri:n.drmInfo.licenseServerUri,serverCertificate:n.drmInfo.serverCertificate,audioCapabilities:sp(n,!1),videoCapabilities:sp(n,!0)}})),E(s,Jf(t,e,a),2)):s.return():3!=s.g?(o=s.h,E(s,i.remove(o),3)):E(s,i.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}(e.O,e.o.drm,r,t),0)}))}function up(e,t,r){function n(){}var i=function(e){for(var t=[],r=(e=c(e.streams)).next();!r.done;r=e.next())for(var n=(r=c(r.value.segments)).next();!n.done;n=r.next())null!=(n=n.value).initSegmentKey&&t.push(n.initSegmentKey),t.push(n.dataKey);return t}(r);return tp(t,r),Promise.all([e.removeSegments(i,n),e.removeManifests([t.key()],n)])}function cp(e,t,r,n,i,a,o,s,l){var u={id:a.id,originalId:a.originalId,primary:a.primary,type:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:a.pixelAspectRatio,hdr:a.hdr,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,encrypted:a.encrypted,keyIds:a.keyIds,segments:[],variantIds:[],roles:a.roles,forced:a.forced,channelsCount:a.channelsCount,audioSamplingRate:a.audioSamplingRate,spatialAudio:a.spatialAudio,closedCaptions:a.closedCaptions,tilesLayout:a.tilesLayout},c=a.id;return function(e,t,r){if(null!=(t=e.segmentIndex.find(t)))for(var n=e.segmentIndex.get(t);n;)r(n),n=e.segmentIndex.get(++t)}(a,i.presentationTimeline.Ya(),(function(i){var d=function(e,t,r,n,i,a,o,s,l){return l.has(o)?l.get(o):(s=Do(o.ma(),o.ja,o.da,s.streaming.retryParameters),t=Sf(t,r,s,.5*ip(a,n),!0,(function(t){var r;return D((function(n){return 1==n.g?E(n,i.addSegments([{data:t}]),2):(r=n.h,e.Ic.push(r[0]),n.return(r[0]))}))})),l.set(o,t),t)}(e,t,c,a.id,r,n,i.h,o,s),f=function(e,t,r,n,i,a,o,s,l){var u=[o.ma()[0],o.ja,o.da].join("-");return l.has(u)?l.get(u):(s=Do(o.ma(),o.ja,o.da,s.streaming.retryParameters),t=Sf(t,r,s,function(e,t,r){return r=r.endTime-r.startTime,ip(e,t)*r}(a,n,o),!1,(function(t){var r;return D((function(n){return 1==n.g?E(n,i.addSegments([{data:t}]),2):(r=n.h,e.Ic.push(r[0]),n.return(r[0]))}))})),l.set(u,t),t)}(e,t,c,a.id,r,n,i,o,l);!function(e,t,r){Rn(e.J);var n=(e.g.get(t)||Promise.resolve()).then((function(){return D((function(e){return E(e,r(),0)}))}));e.g.set(t,n)}(t,c,(function(){var e,t;return D((function(r){return 1==r.g?E(r,d,2):3!=r.g?(e=r.h,E(r,f,3)):(t=r.h,u.segments.push({initSegmentKey:e,startTime:i.startTime,endTime:i.endTime,appendWindowStart:i.appendWindowStart,appendWindowEnd:i.appendWindowEnd,timestampOffset:i.timestampOffset,dataKey:t}),void _(r))}))}))})),u}function dp(e){if(e.J.g)throw new ce(2,9,7001)}function fp(){if(!op())throw new ce(2,9,9e3)}function pp(e,t){return D((function(r){return 1==r.g?(e.Xb.push(t),T(r),E(r,t,4)):2!=r.g?r.return(r.h):(O(r),ct(e.Xb,t),P(r,0))}))}function hp(e){for(var t=new Set,r=c(e.textStreams),n=r.next();!n.done;n=r.next())t.add(n.value);for(n=(r=c(e.imageStreams)).next();!n.done;n=r.next())t.add(n.value);for(r=(e=c(e.variants)).next();!r.done;r=e.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video);return t}v(Uf,Cf),Uf.prototype.updateManifestExpiration=function(e,t){var r,n,i,a=this;return D((function(o){return r=Of(a.g,a.h),n=r.store(),i=new hn,n.get(e).onsuccess=function(r){(r=r.target.result)?(r.expiration=t,n.put(r),i.resolve()):i.reject(new ce(2,9,9012,"Could not find values for "+e))},E(o,Promise.all([r.promise(),i]),0)}))},Uf.prototype.Ob=function(e){var t,r,n,i,a,o;return D((function(s){if(1==s.g){for(t=[],r=0;r<e.periods.length;++r)n=r==e.periods.length-1?e.duration:e.periods[r+1].startTime,i=n-e.periods[r].startTime,a=Bf(e.periods[r],i),t.push(a);return E(s,Bc(t),2)}return o=s.h,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})}))},Uf.prototype.Sd=function(e){return{data:e.data}},v(zf,Cf),zf.prototype.Ob=function(e){var t,r,n,i,a,o;return D((function(s){if(1==s.g){for(t=[],r=0;r<e.periods.length;++r){n=r==e.periods.length-1?e.duration:e.periods[r+1].startTime,i=n-e.periods[r].startTime;for(var l=e.periods[r],u=[],d=c(l.streams),f=d.next();!f.done;f=d.next())0!=(f=f.value).variantIds.length&&u.push(Vf(f,l.startTime,l.startTime+i));a=u,t.push(a)}return E(s,Bc(t),2)}return o=s.h,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o})}))},v(Wf,Cf),Wf.prototype.hasFixedKeySpace=function(){return!1},Wf.prototype.addSegments=function(e){return this.add(this.i,e)},Wf.prototype.addManifests=function(e){return this.add(this.h,e)},Wf.prototype.Ob=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(n=$f.prototype).init=function(){var t=this,r=new hn,n=e.indexedDB.open("shaka_offline_db",5);return n.onsuccess=function(){var e=n.result;t.l=e;var i=e.objectStoreNames;i=i.contains("manifest")&&i.contains("segment")?new Uf(e,"segment","manifest"):null,t.g=i,i=(i=e.objectStoreNames).contains("manifest-v2")&&i.contains("segment-v2")?new zf(e,"segment-v2","manifest-v2"):null,t.h=i,i=(i=e.objectStoreNames).contains("manifest-v3")&&i.contains("segment-v3")?new zf(e,"segment-v3","manifest-v3"):null,t.i=i,i=(i=e.objectStoreNames).contains("manifest-v5")&&i.contains("segment-v5")?new Wf(e,"segment-v5","manifest-v5"):null,t.j=i,e=e.objectStoreNames.contains("session-ids")?new Rf(e):null,t.m=e,r.resolve()},n.onupgradeneeded=function(){for(var e=n.result,t=c(["segment-v5","manifest-v5","session-ids"]),r=t.next();!r.done;r=t.next())r=r.value,e.objectStoreNames.contains(r)||e.createObjectStore(r,{autoIncrement:!0})},n.onerror=function(e){r.reject(new ce(2,9,9001,n.error)),e.preventDefault()},r},n.destroy=function(){var e=this;return D((function(t){switch(t.g){case 1:if(!e.g){t.v(2);break}return E(t,e.g.destroy(),2);case 2:if(!e.h){t.v(4);break}return E(t,e.h.destroy(),4);case 4:if(!e.i){t.v(6);break}return E(t,e.i.destroy(),6);case 6:if(!e.j){t.v(8);break}return E(t,e.j.destroy(),8);case 8:if(!e.m){t.v(10);break}return E(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),_(t)}}))},n.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},n.getEmeSessionCell=function(){return this.m},n.erase=function(){var t=this;return D((function(r){switch(r.g){case 1:if(!t.g){r.v(2);break}return E(r,t.g.destroy(),2);case 2:if(!t.h){r.v(4);break}return E(r,t.h.destroy(),4);case 4:if(!t.i){r.v(6);break}return E(r,t.i.destroy(),6);case 6:if(!t.j){r.v(8);break}return E(r,t.j.destroy(),8);case 8:return t.l&&t.l.close(),E(r,function(){var t=new hn,r=e.indexedDB.deleteDatabase("shaka_offline_db");return r.onblocked=function(){},r.onsuccess=function(){t.resolve()},r.onerror=function(e){t.reject(new ce(2,9,9001,r.error)),e.preventDefault()},t}(),10);case 10:return t.l=null,t.g=null,t.h=null,t.i=null,t.j=null,E(r,t.init(),0)}}))},jf("idb",(function(){return Ke()||!e.indexedDB?null:new $f})),Hf.prototype.Ia=function(){return this.i},Hf.prototype.la=function(){return this.h},Hf.prototype.key=function(){return this.l},Hf.prototype.toString=function(){return this.j},(n=Xf.prototype).configure=function(){},n.start=function(e,t){var r,n,i,a,o,s,l=this;return D((function(u){switch(u.g){case 1:if(r=Kf(e),l.g=r,null==r||"manifest"!=r.g)throw new ce(2,1,9004,e);return n=new Df,T(u),E(u,n.init(),4);case 4:return E(u,Lf(n,r.Ia(),r.la()),5);case 5:return E(u,u.h.getManifests([r.key()]),6);case 6:return i=u.h,a=i[0],o=new Gf(r.Ia(),r.la()),s=Zf(o,a),t.makeTextStreamsForClosedCaptions(s),u.return(s);case 2:return O(u),E(u,n.destroy(),7);case 7:P(u,0)}}))},n.stop=function(){return Promise.resolve()},n.update=function(){},n.onExpirationUpdated=function(e,t){var r,n,i,a,o,s,l,u=this;return D((function(c){switch(c.g){case 1:return r=u.g,n=new Df,S(c,2,3),E(c,n.init(),5);case 5:return E(c,Lf(n,r.Ia(),r.la()),6);case 6:return E(c,(i=c.h).getManifests([r.key()]),7);case 7:if(a=c.h,o=a[0],s=o.sessionIds.includes(e),l=void 0==o.expiration||o.expiration>t,!s||!l){c.v(3);break}return E(c,i.updateManifestExpiration(r.key(),t),3);case 3:return O(c),E(c,n.destroy(),10);case 10:P(c,0);break;case 2:x(c),c.v(3)}}))},Xa["application/x-offline-manifest"]=function(){return new Xf},z("shaka.offline.OfflineScheme",Yf),Yf.plugin=Qf,sa("offline",Qf),(n=ap.prototype).destroy=function(){return this.J.destroy()},n.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=cs(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(Se("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),ps(this.o,e)},n.getConfiguration=function(){var e=fs();return ps(e,this.o,fs()),e},n.Rb=function(){return this.O},n.store=function(e,t,r){var n=this,i=this.getConfiguration(),a=new Ef(this.O);this.zd.push(a);var o=new Zi(t=function(e,t,r,n,i,a){var o,s,l,u,d,f,p,h,g,m;return D((function(v){switch(v.g){case 1:return fp(),s=o=null,l=new Df,d=u=null,S(v,2,3),E(v,n(),5);case 5:return o=v.h,E(v,function(e,t,r,n){var i,a,o,s,l;return D((function(u){if(1==u.g)return i=null,a=e.O,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){}},r.configure(n.manifest),dp(e),E(u,r.start(t,o),2);if(3!=u.g)return s=u.h,dp(e),l=hp(s),E(u,Promise.all(ee(l,(function(e){return e.createSegmentIndex()}))),3);if(dp(e),i)throw i;return u.return(s)}))}(e,t,o,i),6);case 6:if(f=v.h,dp(e),!(!f.presentationTimeline.Y()&&!f.presentationTimeline.ib()))throw new ce(2,9,9005,t);return E(v,function(e,t,r,n){var i;return D((function(a){switch(a.g){case 1:return(i=new ka({Bb:e.O,onError:r,Dc:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(n.drm),E(a,function(e,t,r,n){return e.oa=!0,e.D=[],e.F=r,_a(e,t,!!n)}(i,t.variants,n.offline.usePersistentLicense,n.useMediaCapabilities),2);case 2:return E(a,Sa(i),3);case 3:return E(a,Ta(i),4);case 4:return a.return(i)}}))}(e,f,(function(e){d=d||e}),i),7);case 7:if(s=v.h,dp(e),d)throw d;return E(v,e.uc(f,s,i),8);case 8:return E(v,l.init(),9);case 9:return dp(e),E(v,function(e){var t=null;if(e.g.forEach((function(e,r){e.getCells().forEach((function(e,n){e.hasFixedKeySpace()||t||(t={path:{Ia:r,la:n},la:e})}))})),t)return t;throw new ce(2,9,9013,"Could not find a cell that supports add-operations")}(l),10);case 10:return u=v.h,dp(e),E(v,function(e,t,r,n,i,a,o,s){var l,u,d,f,p,h,g,m,v,y;return D((function(b){switch(b.g){case 1:return l=function(e,t,r){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=rp(t),appMetadata:r}}(i,n,a),u=o.offline.progressCallback,function(e,t,r){e.de=t,e.ce=r}(s,(function(e,t){l.size=t,u(l,e)}),(function(e,t){p&&o.offline.usePersistentLicense&&h==t&&wa(r,"cenc",e)})),d=n.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})),f=n.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))})),h=null,(p=d&&!f)&&(g=r.i,h=gp.get(g.keySystem)),T(b),v=m=function(e,t,r,n,i,a,o,s){for(var l=new np,u=c(i.variants),d=u.next();!d.done;d=u.next()){var f=l,p=(d=d.value).audio,h=d.video;if(p&&!h&&(f.g[p.id]=p.bandwidth||d.bandwidth),!p&&h&&(f.g[h.id]=h.bandwidth||d.bandwidth),p&&h){var g=p.bandwidth||393216,m=h.bandwidth||d.bandwidth-g;0>=m&&(m=d.bandwidth),f.g[p.id]=g,f.g[h.id]=m}}for(u=c(i.textStreams),f=u.next();!f.done;f=u.next())l.g[f.value.id]=52;for(u=c(i.imageStreams),f=u.next();!f.done;f=u.next())f=f.value,l.g[f.id]=f.bandwidth||2048;for((f=new Map).set(null,Promise.resolve(null)),d=new Map,p=hp(i),u=new Map,p=c(p),h=p.next();!h.done;h=p.next())h=h.value,g=cp(e,t,r,l,i,h,s,f,d),u.set(h.id,g);for(e=c(i.variants),d=e.next();!d.done;d=e.next())(t=d.value).audio&&u.get(t.audio.id).variantIds.push(t.id),t.video&&u.get(t.video.id).variantIds.push(t.id);return e=Array.from(u.values()),s=s.offline.usePersistentLicense,(t=n.i)&&s&&(t.initData=[]),{creationTime:Date.now(),originalManifestUri:a,duration:i.presentationTimeline.getDuration(),size:0,expiration:n.Qb(),streams:e,sessionIds:s?Ca(n):[],drmInfo:t,appMetadata:o}}(e,s,t,r,n,i,a,o),E(b,function(e){return D((function(t){return 1==t.g?E(t,Promise.all(e.g.values()),2):t.return(e.Lb.h)}))}(s),4);case 4:if(v.size=b.h,m.expiration=r.Qb(),y=Ca(r),m.sessionIds=o.offline.usePersistentLicense?y:[],d&&o.offline.usePersistentLicense&&!y.length)throw new ce(2,9,9007);return b.return(m);case 2:return O(b),E(b,s.destroy(),5);case 5:P(b,0)}}))}(e,u.la,s,f,t,r,i,a),11);case 11:if(p=v.h,dp(e),d)throw d;return E(v,u.la.addManifests([p]),12);case 12:return h=v.h,dp(e),g=new Hf("manifest",u.path.Ia,u.path.la,h[0]),v.return(tp(g,p));case 3:return O(v),e.Ic=[],E(v,l.destroy(),13);case 13:if(!o){v.v(14);break}return E(v,o.stop(),14);case 14:if(!s){v.v(16);break}return E(v,s.destroy(),16);case 16:P(v,0);break;case 2:if(m=x(v),!u){v.v(18);break}return E(v,u.la.removeSegments(e.Ic,(function(){})),18);case 18:throw d||m}}))}(this,e,t||{},(function(){var t;return D((function(a){return 1==a.g?E(a,Ga(e,n.O,i.manifest.retryParameters,r||null),2):(t=a.h,a.return(Ae(t)))}))}),i,a),(function(){return _f(a)}));return o.finally((function(){ct(n.zd,a)})),o.then=function(e){return Se("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),o.promise.then(e)},function(e,t){var r=t.promise;return e.Xb.push(r),t.finally((function(){ct(e.Xb,r)}))}(this,o)},n.af=function(){return Se("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},n.uc=function(e,t,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,y,b,k,T,O,P,C,A,M,I,R;return D((function(D){switch(D.g){case 1:for(n={width:1/0,height:1/0},function(e,t,r){e.variants=e.variants.filter((function(e){return di(e,t,r)}))}(e,r.restrictions,n),r.useMediaCapabilities?hi(e,r.offline.usePersistentLicense):(gi(e),pi(e,t)),i=[],a=r.preferredAudioChannelCount,ui(e,a),o=c(e.variants),s=o.next();!s.done;s=o.next())l=s.value,i.push(ki(l));for(u=c(e.textStreams),d=u.next();!d.done;d=u.next())f=d.value,i.push(Ei(f));for(p=c(e.imageStreams),h=p.next();!h.done;h=p.next())g=h.value,i.push(_i(g));return E(D,r.offline.trackSelectionCallback(i),2);case 2:for(m=D.h,v=e.presentationTimeline.getDuration(),y=0,b=c(m),k=b.next();!k.done;k=b.next())T=k.value,O=T.bandwidth*v/8,y+=O;return S(D,3),E(D,r.offline.downloadSizeCallback(y),5);case 5:if(!D.h)throw new ce(2,9,9014);w(D,4);break;case 3:if((P=x(D))instanceof ce)throw P;throw new ce(2,9,9015);case 4:for(C=new Set,A=new Set,M=new Set,I=c(m),k=I.next();!k.done;k=I.next())"variant"==(R=k.value).type&&C.add(R.id),"text"==R.type&&A.add(R.id),"image"==R.type&&M.add(R.id);e.variants=e.variants.filter((function(e){return C.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return A.has(e.id)})),e.imageStreams=e.imageStreams.filter((function(e){return M.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var r=c(t),n=r.next();!n.done;n=r.next())for(var i=(n=c(t)).next();!i.done;i=n.next());for(t=c(e),r=t.next();!r.done;r=t.next())for(r=c(e),n=r.next();!n.done;n=r.next());}(e),_(D)}}))},n.remove=function(e){return pp(this,function(e,t){var r,n,i,a,o,s;return D((function(l){switch(l.g){case 1:if(fp(),null==(r=Kf(t))||"manifest"!=r.g)throw new ce(2,9,9004,t);return n=r,i=new Df,T(l),E(l,i.init(),4);case 4:return E(l,Lf(i,n.Ia(),n.la()),5);case 5:return E(l,(a=l.h).getManifests([n.key()]),6);case 6:return o=l.h,s=o[0],E(l,Promise.all([lp(e,s,i),up(a,n,s)]),2);case 2:return O(l),E(l,i.destroy(),8);case 8:P(l,0)}}))}(this,e))},n.xf=function(){return pp(this,function(e){var t,r,n,i,a,o,s,l,u,d;return D((function(f){switch(f.g){case 1:return fp(),t=e.O,r=e.o.drm,n=new Df,i=!1,T(f),E(f,n.init(),4);case 4:a=[],function(e,t){e.g.forEach((function(e){t(e.getEmeSessionCell())}))}(n,(function(e){return a.push(e)})),o=c(a),s=o.next();case 5:if(s.done){f.v(2);break}return E(f,(l=s.value).getAll(),8);case 8:return u=f.h,E(f,Jf(r,t,u),9);case 9:return d=f.h,E(f,l.remove(d),10);case 10:d.length!=u.length&&(i=!0),s=o.next(),f.v(5);break;case 2:return O(f),E(f,n.destroy(),11);case 11:P(f,3);break;case 3:return f.return(!i)}}))}(this))},n.list=function(){return pp(this,function(){var e,t,r;return D((function(n){switch(n.g){case 1:return fp(),e=[],t=new Df,T(n),E(n,t.init(),4);case 4:return r=Promise.resolve(),function(e,t){e.g.forEach((function(e,r){e.getCells().forEach((function(e,n){t({Ia:r,la:n},e)}))}))}(t,(function(t,n){r=r.then((function(){return D((function(r){if(1==r.g)return E(r,n.getAllManifests(),2);r.h.forEach((function(r,n){var i=tp(new Hf("manifest",t.Ia,t.la,n),r);e.push(i)})),_(r)}))}))})),E(n,r,2);case 2:return O(n),E(n,t.destroy(),6);case 6:P(n,3);break;case 3:return n.return(e)}}))}())},z("shaka.offline.Storage",ap),ap.deleteAll=function(){var e;return D((function(t){return 1==t.g?(e=new Df,T(t),E(t,function(e){var t,r;return D((function(n){return 1==n.g?(t=Array.from(e.g.values()),(r=0<t.length)||Nf.forEach((function(e){(e=e())&&t.push(e)})),E(n,Promise.all(t.map((function(e){return e.erase()}))),2)):r?n.v(0):E(n,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.g?(O(t),E(t,e.destroy(),5)):P(t,0)}))},ap.prototype.list=ap.prototype.list,ap.prototype.removeEmeSessions=ap.prototype.xf,ap.prototype.remove=ap.prototype.remove,ap.prototype.getStoreInProgress=ap.prototype.af,ap.prototype.store=ap.prototype.store,ap.prototype.getNetworkingEngine=ap.prototype.Rb,ap.prototype.getConfiguration=ap.prototype.getConfiguration,ap.prototype.configure=ap.prototype.configure,ap.prototype.destroy=ap.prototype.destroy,ap.support=op;var gp=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function mp(){}function vp(e,t){for(var r={priority:t||0,ze:e},n=c(re(yp)),i=n.next();!i.done;i=n.next()){var a=(i=i.value).ha;if(i.item.priority<r.priority)return void yp.splice(a,0,r)}yp.push(r)}jl.offline=op,z("shaka.polyfill",mp),mp.register=vp,mp.installAll=function(){for(var e=c(yp),t=e.next();!t.done;t=e.next()){t=t.value;try{t.ze()}catch(r){Z("Error installing polyfill!",r)}}};var yp=[];function bp(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),r=document.createEvent("Event");r.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(r)}function kp(e){var t,r,n,i,a,o,s,l,u,c;return D((function(d){switch(d.g){case 1:return t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},e&&(!e.video||(r=e.video.contentType,MediaSource.isTypeSupported(r)))&&(!e.audio||(n=e.audio.contentType,MediaSource.isTypeSupported(n)))?e.keySystemConfiguration?(i=e.keySystemConfiguration,a=[],o=[],i.audio&&(s={robustness:i.audio.robustness||"",contentType:e.audio.contentType},a.push(s)),i.video&&(l={robustness:i.video.robustness||"",contentType:e.video.contentType},o.push(l)),u={initDataTypes:[i.initDataType],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(u.audioCapabilities=a),o.length&&(u.videoCapabilities=o),S(d,3),E(d,navigator.requestMediaKeySystemAccess(i.keySystem,[u]),5)):(t.supported=!0,d.return(Promise.resolve(t))):d.return(t);case 5:c=d.h,w(d,4);break;case 3:x(d);case 4:c&&(t.supported=!0,t.keySystemAccess=c);case 2:return d.return(t)}}))}function Ep(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var r=[],n=0;n<arguments.length;++n)r[n]=arguments[n];return(r=e.apply(this,r)).abort=function(){},r}}function _p(){ta.call(this),this.type="",this.angle=0}function Sp(e,t){try{var r=new xp(e,t);return Promise.resolve(r)}catch(n){return Promise.reject(n)}}function Tp(e){var t=this.mediaKeys;return t&&t!=e&&Pp(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Pp(e,this):Promise.resolve()}function wp(e){if(le(e=se(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=me(e=he(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=oe(e),this.dispatchEvent(t)}function xp(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var r=c(t),n=r.next();!n.done;n=r.next()){var i=n.value;if("required"==i.persistentState)n=null;else{n={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),l=s.next();!l.done;l=s.next())(l=l.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(n.audioCapabilities.push(l),o=!0));if(i.videoCapabilities)for(l=(i=c(i.videoCapabilities)).next();!l.done;l=i.next())(s=l.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(n.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),n=o?n:null}if(n)return void(this.g=n)}throw(r=Error("Unsupported keySystem")).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r}function Op(e){this.g=new WebKitMediaKeys(e),this.h=new jn}function Pp(e,t){if(e.h.lb(),!t)return Promise.resolve();e.h.B(t,"webkitneedkey",wp);try{return oo(t,HTMLMediaElement.HAVE_METADATA,e.h,(function(){t.webkitSetMediaKeys(e.g)})),Promise.resolve()}catch(r){return Promise.reject(r)}}function Cp(e){ta.call(this),this.j=null,this.l=e,this.i=this.g=null,this.h=new jn,this.sessionId="",this.expiration=NaN,this.closed=new hn,this.keyStatuses=new Mp}function Ap(e,t){var r=e.keyStatuses;r.size=void 0==t?0:1,r.g=t,r=new ea("keystatuseschange"),e.dispatchEvent(r)}function Mp(){this.size=0,this.g=void 0}function Ip(e,t){try{var r=new Dp(e,t);return Promise.resolve(r)}catch(n){return Promise.reject(n)}}function Rp(e){if(e.initData){var t=new CustomEvent("encrypted");t.initDataType="cenc",t.initData=oe(function(e){if(!e)return e;var t=new Wu(e);if(1>=t.data.length)return e;e=[];for(var r={},n=(t=c(t.data)).next();!n.done;r={ec:r.ec},n=t.next())r.ec=n.value,e.some(function(e){return function(t){return ie(t,e.ec)}}(r))||e.push(r.ec);return at.apply(Je,d(e))}(e.initData)),this.dispatchEvent(t)}}function Dp(e,t){this.keySystem=e;for(var r=!1,n=c(t),i=n.next();!i.done;i=n.next()){var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(i=i.value).initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),l=s.next();!l.done;l=s.next())(l=l.value).contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(a.audioCapabilities.push(l),r=!0));if(i.videoCapabilities)for(l=(s=c(i.videoCapabilities)).next();!l.done;l=s.next())(l=l.value).contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&(a.videoCapabilities.push(l),r=!0));if(o||(r=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(r=!1),r)return void(this.g=a)}throw(r=Error("Unsupported keySystem")).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r}function Lp(e){var t=this.mediaKeys;return t&&t!=e&&Np(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Np(e,this):Promise.resolve()}function jp(e){this.g=new MSMediaKeys(e),this.h=new jn}function Np(e,t){if(e.h.lb(),!t)return Promise.resolve();e.h.B(t,"msneedkey",Rp);try{return oo(t,HTMLMediaElement.HAVE_METADATA,e.h,(function(){t.msSetMediaKeys(e.g)})),Promise.resolve()}catch(r){return Promise.reject(r)}}function Up(e){ta.call(this),this.j=null,this.l=e,this.i=this.g=null,this.h=new jn,this.sessionId="",this.expiration=NaN,this.closed=new hn,this.keyStatuses=new Fp}function Bp(e,t){var r=e.keyStatuses;r.size=void 0==t?0:1,r.g=t,r=new ea("keystatuseschange"),e.dispatchEvent(r)}function Fp(){this.size=0,this.g=void 0}function zp(){return Promise.reject(Error("The key system specified is not supported."))}function Vp(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Wp(){throw new TypeError("Illegal constructor.")}function $p(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Hp(e){return rh?rh+e.charAt(0).toUpperCase()+e.slice(1):e}function Kp(e,t){try{var r=new Zp(e,t);return Promise.resolve(r)}catch(n){return Promise.reject(n)}}function Gp(e){var t=this.mediaKeys;return t&&t!=e&&Xp(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Xp(e,this),Promise.resolve()}function Zp(e,t){this.g=this.keySystem=e;var r=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",r=!1);var n=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=c(t),o=a.next();!o.done;o=a.next()){var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(o=o.value).initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var u=c(o.audioCapabilities),d=u.next();!d.done;d=u.next())(d=d.value).contentType&&(l=!0,i.canPlayType(d.contentType.split(";")[0],this.g)&&(s.audioCapabilities.push(d),n=!0));if(o.videoCapabilities)for(d=(u=c(o.videoCapabilities)).next();!d.done;d=u.next())(d=d.value).contentType&&(l=!0,i.canPlayType(d.contentType,this.g)&&(s.videoCapabilities.push(d),n=!0));if(l||(n=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==o.persistentState&&(r?(s.persistentState="required",s.sessionTypes=["persistent-license"]):n=!1),n)return void(this.h=s)}throw r="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(r="None of the requested configurations were supported."),(r=Error(r)).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r}function qp(e){this.l=e,this.g=null,this.h=new jn,this.i=[],this.j=new Map}function Xp(e,t){e.g=t,e.h.lb();var r=rh;t&&(e.h.B(t,r+"needkey",(function(t){var r=new CustomEvent("encrypted");r.initDataType="cenc",r.initData=oe(t.initData),e.g.dispatchEvent(r)})),e.h.B(t,r+"keymessage",(function(t){var r=Yp(e,t.sessionId);r&&(t=new ea("message",{messageType:void 0==r.keyStatuses.g?"licenserequest":"licenserenewal",message:t.message}),r.h&&(r.h.resolve(),r.h=null),r.dispatchEvent(t))})),e.h.B(t,r+"keyadded",(function(t){(t=Yp(e,t.sessionId))&&(eh(t,"usable"),t.g&&t.g.resolve(),t.g=null)})),e.h.B(t,r+"keyerror",(function(t){var r=Yp(e,t.sessionId);r&&r.handleError(t)})))}function Yp(e,t){var r=e.j.get(t);return r||((r=e.i.shift())?(r.sessionId=t,e.j.set(t,r),r):null)}function Qp(e,t,r){ta.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=r,this.sessionId="",this.expiration=NaN,this.closed=new hn,this.keyStatuses=new th}function Jp(e,t,r){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(r)var n=se(me("LOAD_SESSION|"+r));else{var i=me("PERSISTENT|");n=at(i,t)}else n=se(t)}catch(o){return Promise.reject(o)}e.h=new hn;var a=Hp("generateKeyRequest");try{e.j[a](e.i,n)}catch(o){if("InvalidStateError"!=o.name)return e.h=null,Promise.reject(o);new ze((function(){try{e.j[a](e.i,n)}catch(t){e.h.reject(t),e.h=null}})).T(.01)}return e.h}function eh(e,t){var r=e.keyStatuses;r.size=void 0==t?0:1,r.g=t,r=new ea("keystatuseschange"),e.dispatchEvent(r)}function th(){this.size=0,this.g=void 0}vp((function(){Tg()}),-2),vp((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",bp),document.addEventListener("webkitfullscreenerror",bp),document.addEventListener("mozfullscreenchange",bp),document.addEventListener("mozfullscreenerror",bp),document.addEventListener("MSFullscreenChange",bp),document.addEventListener("MSFullscreenError",bp)}})),vp((function(){})),vp((function(){!Ke()&&navigator.mediaCapabilities||!e.MediaSource||(navigator.mediaCapabilities={},navigator.mediaCapabilities.decodingInfo=kp)}),-1),vp((function(){var t=Ze();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var r=t.split(/ *; */);return r.shift(),r.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}}():t?(function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}}(),12>=t?(Ep(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,r){return e.call(this,t,r-.001)}}()):Ep()):(qe("Tizen 2")||qe("Tizen 3")||qe("Tizen 4"))&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=Tn(t)&&e(t)}}()),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var r=t.split(/ *; */),n=r.findIndex((function(e){return e.startsWith("codecs=")}));if(0>n)return e(t);var i=r[n].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex((function(e){return e.startsWith("vp09")}));return 0<=a&&(i[a]="vp9",r[n]='codecs="'+i.join(",")+'"',t=r.join("; ")),e(t)}}()})),v(_p,ta),_p.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var r=!1;switch(e){case"natural":r=t("default");break;case"any":r=!0,this.unlock();break;default:r=t(e)}return r?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},_p.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},vp((function(){screen.orientation||void 0!=e.orientation&&function(){function t(){switch(e.orientation){case-90:r.type="landscape-secondary",r.angle=270;break;case 0:r.type="portrait-primary",r.angle=0;break;case 90:r.type="landscape-primary",r.angle=90;break;case 180:r.type="portrait-secondary",r.angle=180}}var r=new _p;screen.orientation=r,t(),e.addEventListener("orientationchange",(function(){t();var e=new ea("change",{});r.dispatchEvent(e)}))}()})),xp.prototype.createMediaKeys=function(){var e=new Op(this.keySystem);return Promise.resolve(e)},xp.prototype.getConfiguration=function(){return this.g},Op.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Cp(this.g,e)},Op.prototype.setServerCertificate=function(){return Promise.resolve(!1)},v(Cp,ta),(n=Cp.prototype).generateRequest=function(e,t){var r=this;this.g=new hn;try{var n=this.l.createSession("video/mp4",se(t));this.j=n,this.sessionId=n.sessionId||"",this.h.B(this.j,"webkitkeymessage",(function(e){r.g&&(r.g.resolve(),r.g=null),e=new ea("message",{messageType:void 0==r.keyStatuses.g?"license-request":"license-renewal",message:oe(e.message)}),r.dispatchEvent(e)})),this.h.B(n,"webkitkeyadded",(function(){r.i&&(Ap(r,"usable"),r.i.resolve(),r.i=null)})),this.h.B(n,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=r.j.error,null!=r.g)r.g.reject(e),r.g=null;else if(null!=r.i)r.i.reject(e),r.i=null;else switch(r.j.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Ap(r,"output-not-allowed");break;default:Ap(r,"internal-error")}})),Ap(this,"status-pending")}catch(i){this.g.reject(i)}return this.g},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.i=new hn;try{this.j.update(se(e))}catch(t){this.i.reject(t)}return this.i},n.close=function(){try{this.j.close(),this.closed.resolve(),this.h.lb()}catch(wg){this.closed.reject(wg)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(n=Mp.prototype).forEach=function(e){this.g&&e(this.g,Ha.value())},n.get=function(e){if(this.has(e))return this.g},n.has=function(e){var t=Ha.value();return!(!this.g||!ie(e,t))},n.entries=function(){},n.keys=function(){},n.values=function(){},vp((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Tp,e.MediaKeys=Op,e.MediaKeySystemAccess=xp,navigator.requestMediaKeySystemAccess=Sp)})),Dp.prototype.createMediaKeys=function(){var e=new jp(this.keySystem);return Promise.resolve(e)},Dp.prototype.getConfiguration=function(){return this.g},jp.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Up(this.g,e)},jp.prototype.setServerCertificate=function(){return Promise.resolve(!1)},v(Up,ta),(n=Up.prototype).generateRequest=function(e,t){var r=this;this.g=new hn;try{this.j=this.l.createSession("video/mp4",se(t),null),this.h.B(this.j,"mskeymessage",(function(e){r.g&&(r.g.resolve(),r.g=null),e=new ea("message",{messageType:void 0==r.keyStatuses.g?"license-request":"license-renewal",message:oe(e.message)}),r.dispatchEvent(e)})),this.h.B(this.j,"mskeyadded",(function(){r.g?(Bp(r,"usable"),r.g.resolve(),r.g=null):r.i&&(Bp(r,"usable"),r.i.resolve(),r.i=null)})),this.h.B(this.j,"mskeyerror",(function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=r.j.error,null!=r.g)r.g.reject(e),r.g=null;else if(null!=r.i)r.i.reject(e),r.i=null;else switch(r.j.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Bp(r,"output-not-allowed");break;default:Bp(r,"internal-error")}})),Bp(this,"status-pending")}catch(n){this.g.reject(n)}return this.g},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(e){this.i=new hn;try{this.j.update(se(e))}catch(t){this.i.reject(t)}return this.i},n.close=function(){try{this.j.close(),this.closed.resolve(),this.h.lb()}catch(wg){this.closed.reject(wg)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(n=Fp.prototype).forEach=function(e){this.g&&e(this.g,Ha.value())},n.get=function(e){if(this.has(e))return this.g},n.has=function(e){var t=Ha.value();return!(!this.g||!ie(e,t))},n.entries=function(){},n.keys=function(){},n.values=function(){},vp((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,e.MediaKeys=jp,e.MediaKeySystemAccess=Dp,navigator.requestMediaKeySystemAccess=Ip,HTMLMediaElement.prototype.setMediaKeys=Lp)})),Wp.prototype.createSession=function(){},Wp.prototype.setServerCertificate=function(){},$p.prototype.getConfiguration=function(){},$p.prototype.createMediaKeys=function(){},vp((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=zp,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Vp,e.MediaKeys=Wp,e.MediaKeySystemAccess=$p)}),-10),Zp.prototype.createMediaKeys=function(){var e=new qp(this.g);return Promise.resolve(e)},Zp.prototype.getConfiguration=function(){return this.h},qp.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.g||document.createElement("video");return t.src||(t.src="about:blank"),e=new Qp(t,this.l,e),this.i.push(e),e},qp.prototype.setServerCertificate=function(){return Promise.resolve(!1)},v(Qp,ta),(n=Qp.prototype).handleError=function(e){var t=Error("EME v0.1b key error"),r=e.errorCode;r.systemCode=e.systemCode,t.errorCode=r,!e.sessionId&&this.h?(45==e.systemCode&&(t.message="Unsupported session type."),this.h.reject(t),this.h=null):e.sessionId&&this.g?(this.g.reject(t),this.g=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?eh(this,"output-restricted"):eh(this,1==t?"expired":"internal-error"))},n.generateRequest=function(e,t){return Jp(this,t,null)},n.load=function(e){return"persistent-license"==this.l?Jp(this,null,e):Promise.reject(Error("Not a persistent session."))},n.update=function(e){var t=new hn;return function e(t,r,n){if(t.g)t.g.then((function(){return e(t,r,n)})).catch((function(){return e(t,r,n)}));else{if(t.g=r,"webkit-org.w3.clearkey"==t.i){var i=pe(n),a=JSON.parse(i);"oct"!=a.keys[0].kty&&(t.g.reject(Error("Response is not a valid JSON Web Key Set.")),t.g=null),i=rt(a.keys[0].k),a=rt(a.keys[0].kid)}else i=se(n),a=null;var o=Hp("addKey");try{t.j[o](t.i,i,a,t.sessionId)}catch(s){t.g.reject(s),t.g=null}}}(this,t,e),t},n.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Hp("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(n=th.prototype).forEach=function(e){this.g&&e(this.g,Ha.value())},n.get=function(e){if(this.has(e))return this.g},n.has=function(e){var t=Ha.value();return!(!this.g||!ie(e,t))},n.entries=function(){},n.keys=function(){},n.values=function(){};var rh="";function nh(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function ih(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function ah(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function oh(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function sh(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function lh(){return new Promise((function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,r){e({usage:t,quota:r})}),t)}))}function uh(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function ch(t,r,n){return new e.TextTrackCue(t,r,n)}function dh(t,r,n){return new e.TextTrackCue(t+"-"+r+"-"+n,t,r,n)}function fh(){}vp((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)rh="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Kp,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Gp,e.MediaKeys=qp,e.MediaKeySystemAccess=Zp}})),vp((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=ih,Object.defineProperty(t,"disablePictureInPicture",{get:oh,set:sh,enumerable:!0,configurable:!0}),document.exitPictureInPicture=ah,document.addEventListener("webkitpresentationmodechanged",nh,!0))}})),vp((function(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=lh)})),vp((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}})),vp((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=uh)}})),vp((function(){if(!e.VTTCue&&e.TextTrackCue){var t=null,r=TextTrackCue.length;if(3==r)t=ch;else if(6==r)t=dh;else{try{var n=!!ch(1,2,"")}catch(i){n=!1}n&&(t=ch)}t&&(e.VTTCue=function(e,r,n){return t(e,r,n)})}})),fh.prototype.parseInit=function(){},fh.prototype.parseMedia=function(e,t){for(var r=null,n=[],i=pe(e).split(/\r?\n/),a=(i=c(i)).next();!a.done;a=i.next())if((a=a.value)&&!/^\s+$/.test(a)&&(a=ph.exec(a))){var o=hh.exec(a[1]);a=new pt(o=60*parseInt(o[1],10)+parseFloat(o[2].replace(",",".")),t.segmentEnd?t.segmentEnd:o+2,a[2]),r&&(r.endTime=o,n.push(r)),r=a}return r&&n.push(r),n},z("shaka.text.LrcTextParser",fh),fh.prototype.parseMedia=fh.prototype.parseMedia,fh.prototype.parseInit=fh.prototype.parseInit;var ph=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,hh=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function gh(){}function mh(e,t,r,n,i,a,o,s,l,u){var d=e.parentNode;if(e.nodeType==Node.TEXT_NODE){var f=document.createElement("span");f.textContent=e.textContent,e=f}if(s="default"==(e.getAttribute("xml:space")||(s?"default":"preserve")),f=/\S/.test(e.textContent),!(e.hasAttribute("begin")||e.hasAttribute("end")||e.hasAttribute("dur")||f||"br"==e.tagName||l&&!s))return null;var p=Th(e,r);for(f=p.start,p=p.end;d&&d.nodeType==Node.ELEMENT_NODE&&"tt"!=d.tagName;)f=(p=Sh(d,r,f,p)).start,p=p.end,d=d.parentNode;if(null==f&&(f=0),f+=t,p=null==p?1/0:p+t,"br"==e.tagName)return(n=new pt(f,p,"")).lineBreak=!0,n;var h="";if(d=[],Array.from(e.childNodes).every((function(e){return e.nodeType==Node.TEXT_NODE})))h=e.textContent,s&&(h=(h=h.trim()).replace(/\s+/g," "));else for(var g=c(e.childNodes),m=g.next();!m.done;m=g.next())(m=mh(m.value,t,r,n,i,a,o,s,!0,u))&&d.push(m);if((t=new pt(f,p,h)).nestedCues=d,u&&(t.cellResolution=u),(a=_h(e,"region",a,"")[0])&&a.getAttribute("xml:id")){var v=a.getAttribute("xml:id");t.region=o.filter((function(e){return e.id==v}))[0]}for(o=null,r=(u=c(Fh)).next();!r.done&&!(o=_h(e,"backgroundImage",n,"#",r.value)[0]);r=u.next());return function(e,t,r,n,i,a,o){"rtl"==yh(t,r,i,"direction",a=a||o)&&(e.direction="rtl"),"tb"==(o=yh(t,r,i,"writingMode",a))||"tblr"==o?e.writingMode="vertical-lr":"tbrl"==o?e.writingMode="vertical-rl":"rltb"==o||"rl"==o?e.direction="rtl":o&&(e.direction=kt),(o=yh(t,r,i,"textAlign",a))?(e.positionAlign=Bh[o],e.lineAlign=Uh[o],e.textAlign=vt[o.toUpperCase()]):e.textAlign="start",(o=yh(t,r,i,"displayAlign",a))&&(e.displayAlign=bt[o.toUpperCase()]);(o=yh(t,r,i,"color",a))&&(e.color=o);(o=yh(t,r,i,"backgroundColor",a))&&(e.backgroundColor=o);(o=yh(t,r,i,"border",a))&&(e.border=o);(o=yh(t,r,i,"fontFamily",a))&&(e.fontFamily=o);(o=yh(t,r,i,"fontWeight",a))&&"bold"==o&&(e.fontWeight=700),o=yh(t,r,i,"wrapOption",a),e.wrapLine=!o||"noWrap"!=o,(o=yh(t,r,i,"lineHeight",a))&&o.match(Ah)&&(e.lineHeight=o),(o=yh(t,r,i,"fontSize",a))&&(o.match(Ah)||o.match(Ch))&&(e.fontSize=o),(o=yh(t,r,i,"fontStyle",a))&&(e.fontStyle=Ct[o.toUpperCase()]);if(n){o=n.getAttribute("imageType")||n.getAttribute("imagetype");var s=n.getAttribute("encoding");n=n.textContent.trim(),"PNG"==o&&"Base64"==s&&n&&(e.backgroundImage="data:image/png;base64,"+n)}(n=yh(t,r,i,"letterSpacing",a))&&n.match(Ah)&&(e.letterSpacing=n),(n=yh(t,r,i,"linePadding",a))&&n.match(Ah)&&(e.linePadding=n),(a=yh(t,r,i,"opacity",a))&&(e.opacity=parseFloat(a));(r=bh(r,i,"textDecoration"))&&vh(e,r),(t=kh(t,i,"textDecoration"))&&vh(e,t)}(t,e,a,o,i,l,0==d.length),t}function vh(e,t){for(var r=c(t.split(" ")),n=r.next();!n.done;n=r.next())switch(n.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&ct(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&ct(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&ct(e.textDecoration,"overline")}}function yh(e,t,r,n,i){return i=void 0===i||i,(e=kh(e,r,n))?e:i?bh(t,r,n):null}function bh(e,t,r){if(!e)return null;var n=qu(e,"http://www.w3.org/ns/ttml#styling",r);return n||Eh(e,t,r)}function kh(e,t,r){var n=qu(e,"http://www.w3.org/ns/ttml#styling",r);return n||Eh(e,t,r)}function Eh(e,t,r){e=_h(e,"style",t,"");for(var n=null,i=0;i<e.length;i++){var a=qu(e[i],"urn:ebu:tt:style",r);a||(a=qu(e[i],"http://www.w3.org/ns/ttml#styling",r)),a||(a=kh(e[i],t,r)),a&&(n=a)}return n}function _h(e,t,r,n,i){var a=[];if(!e||1>r.length)return a;var o=e;for(e=null;o&&!(e=i?qu(o,i,t):o.getAttribute(t))&&(o=o.parentNode)instanceof Element;);if(t=e)for(i=(t=c(t.split(" "))).next();!i.done;i=t.next())for(i=i.value,o=(e=c(r)).next();!o.done;o=e.next())if(n+(o=o.value).getAttribute("xml:id")==i){a.push(o);break}return a}function Sh(e,t,r,n){return e=Th(e,t),null==r?r=e.start:null!=e.start&&(r+=e.start),null==n?n=e.end:null!=e.start&&(n+=e.start),{start:r,end:n}}function Th(e,t){var r=wh(e.getAttribute("begin"),t),n=wh(e.getAttribute("end"),t),i=wh(e.getAttribute("dur"),t);return null==n&&null!=i&&(n=r+i),{start:r,end:n}}function wh(e,t){var r=null;if(Ih.test(e)){r=Ih.exec(e);var n=Number(r[1]),i=Number(r[2]),a=Number(r[3]),o=Number(r[4]);r=(a+=(o+=(Number(r[5])||0)/t.h)/t.frameRate)+60*i+3600*n}else if(Rh.test(e))r=xh(Rh,e);else if(Dh.test(e))r=xh(Dh,e);else if(Lh.test(e))r=Lh.exec(e),r=Number(r[1])/t.frameRate;else if(jh.test(e))r=jh.exec(e),r=Number(r[1])/t.g;else if(Nh.test(e))r=xh(Nh,e);else if(e)throw new ce(2,2,2001,"Could not parse cue time range in TTML");return r}function xh(e,t){var r=e.exec(t);return null==r||""==r[0]?null:(Number(r[4])||0)/1e3+(Number(r[3])||0)+60*(Number(r[2])||0)+3600*(Number(r[1])||0)}function Oh(e,t,r,n){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(n),0==this.g&&(this.g=e?this.frameRate*this.h:1),r&&(e=/^(\d+) (\d+)$/g.exec(r))&&(this.frameRate*=Number(e[1])/Number(e[2]))}Mn["application/x-subtitle-lrc"]=function(){return new fh},gh.prototype.parseInit=function(){},gh.prototype.parseMedia=function(e,t){var r=pe(e),n=[],i=new DOMParser,a=null;if(""==r)return n;try{a=i.parseFromString(r,"text/xml")}catch(k){throw new ce(2,2,2005,"Failed to parse TTML.")}if(a){if(r=a.getElementsByTagName("parsererror")[0])throw new ce(2,2,2005,r.textContent);var o=a.getElementsByTagName("tt")[0];if(!o)throw new ce(2,2,2005,"TTML does not contain <tt> tag.");if(!(i=o.getElementsByTagName("body")[0]))return[];r=qu(o,"http://www.w3.org/ns/ttml#parameter","frameRate");var s=qu(o,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),l=qu(o,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),u=qu(o,"http://www.w3.org/ns/ttml#parameter","tickRate"),d=qu(o,"http://www.w3.org/ns/ttml#parameter","cellResolution");a=o.getAttribute("xml:space")||"default";var f=qu(o,"http://www.w3.org/ns/ttml#styling","extent");if("default"!=a&&"preserve"!=a)throw new ce(2,2,2005,"Invalid xml:space value: "+a);a="default"==a,r=new Oh(r,s,l,u),d=d&&(d=/^(\d+) (\d+)$/.exec(d))?{columns:parseInt(d[1],10),rows:parseInt(d[2],10)}:null,s=(s=o.getElementsByTagName("metadata")[0])?function(e){return Array.from(e.childNodes).filter((function(e){return e instanceof Element}))}(s):[],l=Array.from(o.getElementsByTagName("style")),u=[];for(var p=c(o=Array.from(o.getElementsByTagName("region"))),h=p.next();!h.done;h=p.next()){var g=h.value;h=new At;var m=g.getAttribute("xml:id");if(m){h.id=m;var v,y,b=null;f&&(b=Ph.exec(f)||Mh.exec(f)),m=b?Number(b[1]):null,b=b?Number(b[2]):null,(v=bh(g,l,"extent"))&&(null!=(v=(y=Ph.exec(v))||Mh.exec(v))&&(h.width=Number(v[1]),h.height=Number(v[2]),y||(null!=m&&(h.width=100*h.width/m),null!=b&&(h.height=100*h.height/b)),h.widthUnits=y||null!=m?Mt:0,h.heightUnits=y||null!=b?Mt:0)),(g=bh(g,l,"origin"))&&(null!=(v=(y=Ph.exec(g))||Mh.exec(g))&&(h.viewportAnchorX=Number(v[1]),h.viewportAnchorY=Number(v[2]),y||(null!=b&&(h.viewportAnchorY=100*h.viewportAnchorY/b),null!=m&&(h.viewportAnchorX=100*h.viewportAnchorX/m)),h.viewportAnchorUnits=y||null!=m?Mt:0))}else h=null;h&&u.push(h)}if(Gu(i,"p").length)throw new ce(2,2,2001,"<p> can only be inside <div> in TTML");for(f=(i=c(Gu(i,"div"))).next();!f.done;f=i.next()){if(Gu(f=f.value,"span").length)throw new ce(2,2,2001,"<span> can only be inside <p> in TTML");if((p=Gu(f,"p"))&&p.length)for(p=(f=c(p)).next();!p.done;p=f.next())(p=mh(p.value,t.periodStart,r,s,l,o,u,a,!1,d))&&n.push(p);else(f=mh(f,t.periodStart,r,s,l,o,u,a,!1,d))&&n.push(f)}}return n},z("shaka.text.TtmlTextParser",gh),gh.prototype.parseMedia=gh.prototype.parseMedia,gh.prototype.parseInit=gh.prototype.parseInit;var Ph=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Ch=/^(\d{1,2}(?:\.\d+)?|100)%$/,Ah=/^(\d+px|\d+em|\d*\.?\d+c)$/,Mh=/^(\d+)px (\d+)px$/,Ih=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Rh=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Dh=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Lh=/^(\d*(?:\.\d*)?)f$/,jh=/^(\d*(?:\.\d*)?)t$/,Nh=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Uh={left:St,center:"center",right:"end",start:St,end:"end"},Bh={left:"line-left",center:"center",right:"line-right"},Fh=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function zh(){this.s=new gh}function Vh(){}function Wh(e){for(var t=c(Object.entries(wt)),r=t.next();!r.done;r=t.next()){var n=c(r.value);r=n.next().value,n=n.next().value;var i=new pt(0,0,"");i.color=n,e.set(r,i)}for(r=(t=c(Object.entries(xt))).next();!r.done;r=t.next())r=(n=c(r.value)).next().value,n=n.next().value,(i=new pt(0,0,"")).backgroundColor=n,e.set(r,i)}function $h(e,t,r){0===r.size&&Wh(r);e:{var n=e;e=[];for(var i=-1,a="",o=0;o<n.length;o++)if("/"===n[o]){var s=n.indexOf(">",o);if(s<=o){e=n;break e}s=n.substring(o+1,s);var l=e.pop();if(l===s)a+="/"+s+">";else{if(!l.startsWith("c.")||"c"!==s){e=n;break e}a+="/"+l+">"}o+=s.length+1}else"<"===n[o]?i=o+1:">"===n[o]&&0<i&&(e.push(n.substr(i,o-i)),i=-1),a+=n[o];e=a}if(i=sc("<span>"+e+"</span>","span")){if(n=[],1==(i=i.childNodes).length&&((a=i[0]).nodeType==Node.TEXT_NODE||a.nodeType==Node.CDATA_SECTION_NODE))return void(t.payload=e);for(i=(e=c(i)).next();!i.done;i=e.next())Kh(i.value,t,n,r);t.nestedCues=n}else t.payload=e}function Hh(e,t){return e&&0<e.length?e:t}function Kh(e,t,r,n){var i=t.clone();if(e.nodeType===Node.ELEMENT_NODE&&e.nodeName)for(var a=c(e.nodeName.split(/[ .]+/)),o=a.next();!o.done;o=a.next()){if(o=o.value,n.has(o)){var s=n.get(o);s&&(i.backgroundColor=Hh(s.backgroundColor,i.backgroundColor),i.color=Hh(s.color,i.color),i.fontFamily=Hh(s.fontFamily,i.fontFamily),i.fontSize=Hh(s.fontSize,i.fontSize),i.fontWeight=s.fontWeight,i.fontStyle=s.fontStyle,i.opacity=s.opacity,i.wrapLine=s.wrapLine)}switch(o){case"b":i.fontWeight=700;break;case"i":i.fontStyle="italic";break;case"u":i.textDecoration.push("underline")}}if(Yu(e))for(a=!0,n=c(e.textContent.split("\n")),e=n.next();!e.done;e=n.next())e=e.value,a||((a=t.clone()).lineBreak=!0,r.push(a)),0<e.length&&((a=i.clone()).payload=e,r.push(a)),a=!1;else for(e=(t=c(e.childNodes)).next();!e.done;e=t.next())Kh(e.value,i,r,n)}function Gh(e,t,r){var n;(n=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=n[1],e.textAlign="middle"==t?mt:vt[t.toUpperCase()]):(n=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==n[1]?"vertical-lr":"vertical-rl":(n=/^size:([\d.]+)%$/.exec(t))?e.size=Number(n[1]):(n=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(n[1]),n[2]&&(t=n[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(n=/^region:(.*)$/.exec(t))?(t=function(e,t){var r=e.filter((function(e){return e.id==t}));return r.length?r[0]:null}(r,n[1]))&&(e.region=t):(r=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(r[1]),r[2]&&(e.lineAlign=Tt[r[2].toUpperCase()])):(r=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=_t,e.line=Number(r[1]),r[2]&&(e.lineAlign=Tt[r[2].toUpperCase()]))}function Zh(e){if(null==(e=Pd(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),r=Number(e[3]);return 59<t||59<r?null:Number(e[4])/1e3+r+60*t+3600*(Number(e[1])||0)}function qh(){this.g=null}function Xh(e,t,r){var n,i,a;return(new Me).box("payl",De((function(e){n=pe(e)}))).box("iden",De((function(e){i=pe(e)}))).box("sttg",De((function(e){a=pe(e)}))).parse(e),n?function(e,t,r,n,i){if(n=new pt(n,i,""),$h(e,n,new Map),t&&(n.id=t),r)for(e=new xd(r),t=Cd(e);t;)Gh(n,t,[]),Od(e),t=Cd(e);return n}(n,i,a,t,r):null}function Yh(){}function Qh(e){if(null==(e=Pd(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),r=Number(e[3]);return 59<t||59<r?null:Number(e[4])/1e3+r+60*t+3600*(Number(e[1])||0)}function Jh(){this.s=new Vh}function eg(e){var t="WEBVTT\n\n";if(""==e)return t;for(var r=(e=c((e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!r.done;r=e.next())(r=r.value.split(/\n/))[0].match(/\d+/)&&r.shift(),r[0]=r[0].replace(/,/g,"."),t+=r.join("\n")+"\n\n";return t}function tg(){}function rg(e,t){var r=t.Fontname;if(r&&(e.fontFamily=r),(r=t.Fontsize)&&(e.fontSize=r+"px"),(r=t.PrimaryColour)&&(r=ng(r))&&(e.color=r),(r=t.BackColour)&&(r=ng(r))&&(e.backgroundColor=r),t.Bold&&(e.fontWeight=700),t.Italic&&(e.fontStyle="italic"),t.Underline&&e.textDecoration.push("underline"),(r=t.Spacing)&&(e.letterSpacing=r+"px"),r=t.Alignment)switch(parseInt(r,10)){case 1:e.displayAlign=yt,e.textAlign="start";break;case 2:e.displayAlign=yt,e.textAlign=mt;break;case 3:e.displayAlign=yt,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=mt;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=mt;break;case 11:e.displayAlign="center",e.textAlign="end"}(r=t.AlphaLevel)&&(e.opacity=parseFloat(r))}function ng(e){return 0<=(e=parseInt(e.replace("&H",""),16))?"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function ig(e){return 3600*((e=cg.exec(e))[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}Mn["application/ttml+xml"]=function(){return new gh},zh.prototype.parseInit=function(e){var t=!1;if((new Me).box("moov",Ie).box("trak",Ie).box("mdia",Ie).box("minf",Ie).box("stbl",Ie).U("stsd",Re).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new ce(2,2,2007)},zh.prototype.parseMedia=function(e,t){var r=this,n=!1,i=[];if((new Me).box("mdat",De((function(e){n=!0,i=i.concat(r.s.parseMedia(e,t))}))).parse(e,!1),!n)throw new ce(2,2,2007);return i},z("shaka.text.Mp4TtmlParser",zh),zh.prototype.parseMedia=zh.prototype.parseMedia,zh.prototype.parseInit=zh.prototype.parseInit,Mn['application/mp4; codecs="stpp"']=function(){return new zh},Mn['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new zh},Mn['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new zh},Vh.prototype.parseInit=function(){},Vh.prototype.parseMedia=function(e,t){var r=pe(e),n=(r=r.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new ce(2,2,2e3);if(r=t.periodStart,n[0].includes("X-TIMESTAMP-MAP")){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);if(i&&a){if(null==(r=Zh(new xd(i[1]))))throw new ce(2,2,2e3);for(a=Number(a[1]),i=t.segmentStart;95443.7176888889<=i;)i-=95443.7176888889,a+=8589934592;r=t.periodStart+a/9e4-r}}a=[];for(var o=(i=c(n[0].split("\n"))).next();!o.done;o=i.next())if(o=o.value,/^Region:/.test(o)){o=new xd(o);var s=new At;Cd(o),Od(o);for(var l=Cd(o);l;){var u=s,d=l;(l=/^id=(.*)$/.exec(d))?u.id=l[1]:(l=/^width=(\d{1,2}|100)%$/.exec(d))?u.width=Number(l[1]):(l=/^lines=(\d+)$/.exec(d))?(u.height=Number(l[1]),u.heightUnits=2):(l=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(u.regionAnchorX=Number(l[1]),u.regionAnchorY=Number(l[2])):(l=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(u.viewportAnchorX=Number(l[1]),u.viewportAnchorY=Number(l[2])):/^scroll=up$/.exec(d)&&(u.scroll="up"),Od(o),l=Cd(o)}a.push(s)}for(Wh(i=new Map),o=[],s=(n=c(n.slice(1))).next();!s.done;s=n.next()){if((1!=(s=s.value.split("\n")).length||s[0])&&!/^NOTE($|[ \t])/.test(s[0])&&"STYLE"==s[0]&&s[1].includes("::cue")){u="global",(l=s[1].match(/\((.*)\)/))&&(u=l.pop()),l=s.slice(2,-1),s[1].includes("}")&&(d=/\{(.*?)\}/.exec(s[1]))&&(l=d[1].split(";")),d=new pt(0,0,"");for(var f=!1,p=0;p<l.length;p++){var h=/^\s*([^:]+):\s*(.*)/.exec(l[p]);if(h){var g=h[2].trim().replace(";","");switch(h[1].trim()){case"background-color":f=!0,d.backgroundColor=g;break;case"color":f=!0,d.color=g;break;case"font-family":f=!0,d.fontFamily=g;break;case"font-size":f=!0,d.fontSize=g;break;case"font-weight":700<=parseInt(g,10)&&(f=!0,d.fontWeight=700);break;case"font-style":switch(g){case"normal":f=!0,d.fontStyle=Pt;break;case"italic":f=!0,d.fontStyle="italic";break;case"oblique":f=!0,d.fontStyle="oblique"}break;case"opacity":f=!0,d.opacity=parseFloat(g);break;case"white-space":f=!0,d.wrapLine="noWrap"!=g}}}f&&i.set(u,d)}if(p=r,1==s.length&&!s[0]||/^NOTE($|[ \t])/.test(s[0])||"STYLE"==s[0])s=null;else{if(u=null,s[0].includes("--\x3e")||(u=s[0],s.splice(0,1)),d=Zh(l=new xd(s[0])),h=Pd(l,/[ \t]+--\x3e[ \t]+/g),f=Zh(l),null==d||null==h||null==f)throw new ce(2,2,2001,"Could not parse cue time range in WebVTT");for(d+=p,f+=p,p=s.slice(1).join("\n").trim(),i.has("global")?((s=i.get("global").clone()).startTime=d,s.endTime=f,s.payload=""):s=new pt(d,f,""),$h(p,s,i),Od(l),d=Cd(l);d;)Gh(s,d,a),Od(l),d=Cd(l);null!=u&&(s.id=u)}s&&o.push(s)}return o},z("shaka.text.VttTextParser",Vh),Vh.prototype.parseMedia=Vh.prototype.parseMedia,Vh.prototype.parseInit=Vh.prototype.parseInit,Mn["text/vtt"]=function(){return new Vh},Mn['text/vtt; codecs="vtt"']=function(){return new Vh},Mn['text/vtt; codecs="wvtt"']=function(){return new Vh},qh.prototype.parseInit=function(e){var t=this,r=!1;if((new Me).box("moov",Ie).box("trak",Ie).box("mdia",Ie).U("mdhd",(function(e){e=Nr(e.reader,e.version),t.g=e.timescale})).box("minf",Ie).box("stbl",Ie).U("stsd",Re).box("wvtt",(function(){r=!0})).parse(e),!this.g)throw new ce(2,2,2008);if(!r)throw new ce(2,2,2008)},qh.prototype.parseMedia=function(e,t){if(!this.g)throw new ce(2,2,2008);var r,n=0,i=[],a=[],o=!1,s=!1,l=!1,u=null;if((new Me).box("moof",Ie).box("traf",Ie).U("tfdt",(function(e){o=!0,n=jr(e.reader,e.version).bd})).U("tfhd",(function(e){u=Lr(e.reader,e.flags).Ud})).U("trun",(function(e){s=!0,i=Ur(e.reader,e.version,e.flags).ke})).box("mdat",De((function(e){l=!0,r=e}))).parse(e,!1),!l&&!o&&!s)throw new ce(2,2,2008);for(var d=n,f=new be(r,0),p=c(i),h=p.next();!h.done;h=p.next()){var g=(h=h.value).Ed||u,m=h.Hc?n+h.Hc:d;d=m+(g||0);var v=0;do{var y=f.M();v+=y;var b=null;"vttc"==je(f.M())?8<y&&(b=f.Za(y-8)):f.skip(y-8),g&&b&&(y=Xh(b,t.periodStart+m/this.g,t.periodStart+d/this.g),a.push(y))}while(h.sampleSize&&v<h.sampleSize)}return a.filter(Ce)},z("shaka.text.Mp4VttParser",qh),qh.prototype.parseMedia=qh.prototype.parseMedia,qh.prototype.parseInit=qh.prototype.parseInit,Mn['application/mp4; codecs="wvtt"']=function(){return new qh},Yh.prototype.parseInit=function(){},Yh.prototype.parseMedia=function(e){var t=pe(e).replace(/\r+/g,"");if(e=[],""==(t=t.trim()))return e;for(var r=(t=c(t.split("\n\n"))).next();!r.done;r=t.next()){var n=new xd((r=r.value.split("\n"))[0]),i=Qh(n),a=Pd(n,/,/g);if(n=Qh(n),null==i||null==a||null==n)throw new ce(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new pt(i,n,r.slice(1).join("\n").trim()))}return e},z("shaka.text.SbvTextParser",Yh),Yh.prototype.parseMedia=Yh.prototype.parseMedia,Yh.prototype.parseInit=Yh.prototype.parseInit,Mn["text/x-subviewer"]=function(){return new Yh},Jh.prototype.parseInit=function(){},Jh.prototype.parseMedia=function(e,t){var r=pe(e);return r=se(me(r=eg(r))),this.s.parseMedia(r,t)},z("shaka.text.SrtTextParser",Jh),Jh.srt2webvtt=eg,Jh.prototype.parseMedia=Jh.prototype.parseMedia,Jh.prototype.parseInit=Jh.prototype.parseInit,Mn["text/srt"]=function(){return new Jh},tg.prototype.parseInit=function(){},tg.prototype.parseMedia=function(e){for(var t="",r="",n=(e=c(e=pe(e).split(/\r?\n\s*\r?\n/))).next();!n.done;n=e.next()){var i=sg.exec(n.value);i&&(n=i[1],i=i[2],"V4 Styles"==n||"V4+ Styles"==n?t=i:"Events"==n&&(r=i))}e=[],n=null;for(var a=(t=c(t.split(/\r?\n/))).next();!a.done;a=t.next())if(i=a.value,!/^\s*;/.test(i)&&(a=lg.exec(i)))if(i=a[1].trim(),a=a[2].trim(),"Format"==i)n=a.split(ug);else if("Style"==i){i=a.split(ug),a={};for(var o=0;o<n.length&&o<i.length;o++)a[n[o]]=i[o];e.push(a)}for(n=[],t=null,i={},a=(r=c(r.split(/\r?\n/))).next();!a.done;i={Xc:i.Xc},a=r.next())if(a=a.value,!/^\s*;/.test(a)&&(o=lg.exec(a)))if(a=o[1].trim(),o=o[2].trim(),"Format"==a)t=o.split(ug);else if("Dialogue"==a){o=o.split(ug),a={};for(var s=0;s<t.length&&s<o.length;s++)a[t[s]]=o[s];o=new pt(s=ig(a.Start),ig(a.End),o.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),i.Xc=a.Style,(a=e.find(function(e){return function(t){return t.Name==e.Xc}}(i)))&&rg(o,a),n.push(o)}return n},z("shaka.text.SsaTextParser",tg),tg.prototype.parseMedia=tg.prototype.parseMedia,tg.prototype.parseInit=tg.prototype.parseInit;var ag,og,sg=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,lg=/^\s*([^:]+):\s*(.*)/,ug=/\s*,\s*/,cg=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function dg(){}function fg(){ag?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(ag=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=pg):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function pg(e,t){var r,n=this;return D((function(i){return 1==i.g?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),E(i,ag.call(n,e,t),2)):_g(r=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=ag,i.return(r)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=hg,i.return(hg.call(n,e,t)))}))}function hg(e,t){var r,n,i,a,o,s,l,u,d,f,p=this;return D((function(h){if(1==h.g){for(console.assert(p==navigator,'bad "this" for requestMediaKeySystemAccess'),r=Eg(e),n=[],i=c(t),a=i.next();!a.done;a=i.next())o=a.value,s=gg(o.videoCapabilities,r),l=gg(o.audioCapabilities,r),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!l.length||((u=Object.assign({},o)).videoCapabilities=s,u.audioCapabilities=l,n.push(u));if(!n.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return E(h,ag.call(p,e,n),2)}return f=h.h,h.return(new kg(f,r))}))}function gg(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e}function mg(){}function vg(){og?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(og=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=yg):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function yg(e){var t,r,n=this;return D((function(i){return 1==i.g?(console.assert(n==navigator.mediaCapabilities,'bad "this" for decodingInfo'),E(i,og.call(n,e),2)):(t=i.h,e.keySystemConfiguration?(r=t.keySystemAccess)&&_g(r)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=og,i.return(t)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=bg,i.return(bg.call(n,e))):i.return(t))}))}function bg(e){var t,r,n,i,a,o,s,l,u,c=this;return D((function(d){switch(d.g){case 1:return console.assert(c==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(r=e.keySystemConfiguration,n=r.keySystem,i=r.audio&&r.audio.encryptionScheme,a=r.video&&r.video.encryptionScheme,t=Eg(n),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},i&&i!=t||a&&a!=t)?d.return(o):E(d,og.call(c,e),2);case 2:if((s=d.h).keySystemAccess){s.keySystemAccess=new kg(s.keySystemAccess,t),d.v(3);break}if(!e.keySystemConfiguration){d.v(3);break}var f=e.keySystemConfiguration,p=[],h=[];return f.audio&&p.push({robustness:f.audio.robustness||"",contentType:e.audio.contentType}),f.video&&h.push({robustness:f.video.robustness||"",contentType:e.video.contentType}),f={initDataTypes:f.initDataType?[f.initDataType]:[],distinctiveIdentifier:f.distinctiveIdentifier,persistentState:f.persistentState,sessionTypes:f.sessionTypes},p.length&&(f.audioCapabilities=p),h.length&&(f.videoCapabilities=h),l=f,u=s,E(d,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[l]),5);case 5:u.keySystemAccess=d.h;case 3:return d.return(s)}}))}function kg(e,t){this.h=e,this.g=t,this.keySystem=e.keySystem}function Eg(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function _g(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function Sg(){}function Tg(){fg(),vg()}Mn["text/x-ssa"]=function(){return new tg},z("EmeEncryptionSchemePolyfill",dg),dg.install=fg,z("McEncryptionSchemePolyfill",mg),mg.install=vg,kg.prototype.getConfiguration=function(){var e=this.h.getConfiguration();if(e.videoCapabilities)for(var t=c(e.videoCapabilities),r=t.next();!r.done;r=t.next())r.value.encryptionScheme=this.g;if(e.audioCapabilities)for(r=(t=c(e.audioCapabilities)).next();!r.done;r=t.next())r.value.encryptionScheme=this.g;return e},kg.prototype.createMediaKeys=function(){return this.h.createMediaKeys()},z("EncryptionSchemePolyfills",Sg),Sg.install=Tg,"undefined"!==typeof r&&r.exports&&(r.exports=Sg)}.call(n,r,r,void 0),n.shaka)t[i]=n.shaka[i]}()}).call(this,r(48))},function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(36),i=r(20),a=r(56),o=r(39),s=r(22),l=r(18),u=r(7),c=r(310),d=r(0);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=Object(n.d)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),h=Object(i.a)((function(e,t){var r=Object(a.b)("Spinner",e),n=Object(o.b)(e),i=n.label,u=void 0===i?"Loading...":i,h=n.thickness,g=void 0===h?"2px":h,m=n.speed,v=void 0===m?"0.45s":m,y=n.color,b=n.emptyColor,k=void 0===b?"transparent":b,E=n.className,_=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(n,["label","thickness","speed","color","emptyColor","className"]),S=Object(l.c)("chakra-spinner",E),T=f({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:g,borderBottomColor:k,borderLeftColor:k,color:y,animation:p+" "+v+" linear infinite"},r);return d.createElement(s.a.div,f({ref:t,__css:T,className:S},_),u&&d.createElement(c.a,null,u))}));u.a&&(h.displayName="Spinner");var g=r(46),m=r(4),v=r(64);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=Object(v.a)({strict:!1,name:"ButtonGroupContext"}),k=Object(m.a)(b,2),E=k[0],_=k[1],S=Object(i.a)((function(e,t){var r=e.size,n=e.colorScheme,i=e.variant,a=e.className,o=e.spacing,u=void 0===o?"0.5rem":o,c=e.isAttached,f=e.isDisabled,p=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["size","colorScheme","variant","className","spacing","isAttached","isDisabled"]),h=Object(l.c)("chakra-button__group",a),g=d.useMemo((function(){return{size:r,colorScheme:n,variant:i,isDisabled:f}}),[r,n,i,f]),m={display:"inline-flex"};return m=y({},m,c?{"> *:first-of-type:not(:last-of-type)":{borderRightRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderLeftRadius:0}}:{"& > *:not(style) ~ *:not(style)":{marginLeft:u}}),d.createElement(E,{value:g},d.createElement(s.a.div,y({ref:t,role:"group",__css:m,className:h},p)))}));function T(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}u.a&&(S.displayName="ButtonGroup");var x=Object(i.a)((function(e,t){var r,n=_(),i=Object(a.b)("Button",w({},n,e)),u=Object(o.b)(e),c=u.isDisabled,f=void 0===c?null==n?void 0:n.isDisabled:c,p=u.isLoading,h=u.isActive,m=u.isFullWidth,v=u.children,y=u.leftIcon,b=u.rightIcon,k=u.loadingText,E=u.iconSpacing,S=void 0===E?"0.5rem":E,x=u.type,C=void 0===x?"button":x,A=u.spinner,M=u.className,I=u.as,R=T(u,["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","className","as"]),D=Object(g.d)({},null!=(r=null==i?void 0:i._focus)?r:{},{zIndex:1}),L=w({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",transition:"all 250ms",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:m?"100%":"auto"},i,!!n&&{_focus:D});return d.createElement(s.a.button,w({disabled:f||p,ref:t,as:I,type:I?void 0:C,"data-active":Object(l.d)(h),"data-loading":Object(l.d)(p),__css:L,className:Object(l.c)("chakra-button",M)},R),y&&!p&&d.createElement(O,{mr:S},y),p&&d.createElement(P,{__css:{fontSize:"1em",lineHeight:"normal"},spacing:S,label:k},A),p?k||d.createElement(s.a.span,{opacity:0},v):v,b&&!p&&d.createElement(O,{ml:S},b))}));u.a&&(x.displayName="Button");var O=function(e){var t=e.children,r=e.className,n=T(e,["children","className"]),i=d.isValidElement(t)?d.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,a=Object(l.c)("chakra-button__icon",r);return d.createElement(s.a.span,w({},n,{className:a}),i)};u.a&&(O.displayName="ButtonIcon");var P=function(e){var t=e.label,r=e.spacing,n=e.children,i=void 0===n?d.createElement(h,{color:"currentColor",width:"1em",height:"1em"}):n,a=e.className,o=e.__css,u=T(e,["label","spacing","children","className","__css"]),c=Object(l.c)("chakra-button__spinner",a),f=w({display:"flex",alignItems:"center",position:t?"relative":"absolute",mr:t?r:0},o);return d.createElement(s.a.div,w({className:c},u,{__css:f}),i)};u.a&&(P.displayName="ButtonSpinner")},function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s="undefined"!==typeof window?window:null,l=null===s,u=l?void 0:s.document,c=function(){return!1},d=l?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=u.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",f=function(e){return"string"===typeof e||e instanceof String},p=function(e){if(f(e)){var t=u.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},h=function(e,t,r){var n=e[t];return void 0!==n?n:r},g=function(e,t,r,n){if(t){if("end"===n)return 0;if("center"===n)return e/2}else if(r){if("start"===n)return 0;if("center"===n)return e/2}return e},m=function(e,t){var r=u.createElement("div");return r.className="gutter gutter-"+t,r},v=function(e,t,r){var n={};return f(t)?n[e]=t:n[e]=d+"("+t+"% - "+r+"px)",n},y=function(e,t){var r;return(r={})[e]=t+"px",r},b=function(e,t){if(void 0===t&&(t={}),l)return{};var r,n,i,a,o,d,f=e;Array.from&&(f=Array.from(f));var b=p(f[0]).parentNode,k=getComputedStyle?getComputedStyle(b):null,E=k?k.flexDirection:null,_=h(t,"sizes")||f.map((function(){return 100/f.length})),S=h(t,"minSize",100),T=Array.isArray(S)?S:f.map((function(){return S})),w=h(t,"expandToMin",!1),x=h(t,"gutterSize",10),O=h(t,"gutterAlign","center"),P=h(t,"snapOffset",30),C=h(t,"dragInterval",1),A=h(t,"direction","horizontal"),M=h(t,"cursor","horizontal"===A?"col-resize":"row-resize"),I=h(t,"gutter",m),R=h(t,"elementStyle",v),D=h(t,"gutterStyle",y);function L(e,t,n,i){var a=R(r,t,n,i);Object.keys(a).forEach((function(t){e.style[t]=a[t]}))}function j(){return d.map((function(e){return e.size}))}function N(e){return"touches"in e?e.touches[0][n]:e[n]}function U(e){var t=d[this.a],r=d[this.b],n=t.size+r.size;t.size=e/this.size*n,r.size=n-e/this.size*n,L(t.element,t.size,this._b,t.i),L(r.element,r.size,this._c,r.i)}function B(e){var r,n=d[this.a],i=d[this.b];this.dragging&&(r=N(e)-this.start+(this._b-this.dragOffset),C>1&&(r=Math.round(r/C)*C),r<=n.minSize+P+this._b?r=n.minSize+this._b:r>=this.size-(i.minSize+P+this._c)&&(r=this.size-(i.minSize+this._c)),U.call(this,r),h(t,"onDrag",c)(j()))}function F(){var e=d[this.a].element,t=d[this.b].element,n=e.getBoundingClientRect(),o=t.getBoundingClientRect();this.size=n[r]+o[r]+this._b+this._c,this.start=n[i],this.end=n[a]}function z(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var r=e[o];return 0===r?null:r-="horizontal"===A?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(b);if(null===t)return e;if(T.reduce((function(e,t){return e+t}),0)>t)return e;var r=0,n=[],i=e.map((function(i,a){var o=t*i/100,s=g(x,0===a,a===e.length-1,O),l=T[a]+s;return o<l?(r+=l-o,n.push(0),l):(n.push(o-l),o)}));return 0===r?e:i.map((function(e,i){var a=e;if(r>0&&n[i]-r>0){var o=Math.min(r,n[i]-r);r-=o,a=e-o}return a/t*100}))}function V(){var e=d[this.a].element,r=d[this.b].element;this.dragging&&h(t,"onDragEnd",c)(j()),this.dragging=!1,s.removeEventListener("mouseup",this.stop),s.removeEventListener("touchend",this.stop),s.removeEventListener("touchcancel",this.stop),s.removeEventListener("mousemove",this.move),s.removeEventListener("touchmove",this.move),this.stop=null,this.move=null,e.removeEventListener("selectstart",c),e.removeEventListener("dragstart",c),r.removeEventListener("selectstart",c),r.removeEventListener("dragstart",c),e.style.userSelect="",e.style.webkitUserSelect="",e.style.MozUserSelect="",e.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",this.gutter.style.cursor="",this.parent.style.cursor="",u.body.style.cursor=""}function W(e){if(!("button"in e)||0===e.button){var r=d[this.a].element,n=d[this.b].element;this.dragging||h(t,"onDragStart",c)(j()),e.preventDefault(),this.dragging=!0,this.move=B.bind(this),this.stop=V.bind(this),s.addEventListener("mouseup",this.stop),s.addEventListener("touchend",this.stop),s.addEventListener("touchcancel",this.stop),s.addEventListener("mousemove",this.move),s.addEventListener("touchmove",this.move),r.addEventListener("selectstart",c),r.addEventListener("dragstart",c),n.addEventListener("selectstart",c),n.addEventListener("dragstart",c),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",this.gutter.style.cursor=M,this.parent.style.cursor=M,u.body.style.cursor=M,F.call(this),this.dragOffset=N(e)-this.end}}"horizontal"===A?(r="width",n="clientX",i="left",a="right",o="clientWidth"):"vertical"===A&&(r="height",n="clientY",i="top",a="bottom",o="clientHeight"),_=z(_);var $=[];function H(e){var t=e.i===$.length,r=t?$[e.i-1]:$[e.i];F.call(r);var n=t?r.size-e.minSize-r._c:e.minSize+r._b;U.call(r,n)}return(d=f.map((function(e,t){var n,i={element:p(e),size:_[t],minSize:T[t],i:t};if(t>0&&((n={a:t-1,b:t,dragging:!1,direction:A,parent:b})._b=g(x,t-1===0,!1,O),n._c=g(x,!1,t===f.length-1,O),"row-reverse"===E||"column-reverse"===E)){var a=n.a;n.a=n.b,n.b=a}if(t>0){var o=I(t,A,i.element);!function(e,t,n){var i=D(r,t,n);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}(o,x,t),n._a=W.bind(n),o.addEventListener("mousedown",n._a),o.addEventListener("touchstart",n._a),b.insertBefore(o,i.element),n.gutter=o}return L(i.element,i.size,g(x,0===t,t===f.length-1,O),t),t>0&&$.push(n),i}))).forEach((function(e){var t=e.element.getBoundingClientRect()[r];t<e.minSize&&(w?H(e):e.minSize=t)})),{setSizes:function(e){var t=z(e);t.forEach((function(e,r){if(r>0){var n=$[r-1],i=d[n.a],a=d[n.b];i.size=t[r-1],a.size=e,L(i.element,i.size,n._b,i.i),L(a.element,a.size,n._c,a.i)}}))},getSizes:j,collapse:function(e){H(d[e])},destroy:function(e,t){$.forEach((function(n){if(!0!==t?n.parent.removeChild(n.gutter):(n.gutter.removeEventListener("mousedown",n._a),n.gutter.removeEventListener("touchstart",n._a)),!0!==e){var i=R(r,n.a.size,n._b);Object.keys(i).forEach((function(e){d[n.a].element.style[e]="",d[n.b].element.style[e]=""}))}}))},parent:b,pairs:$}};function k(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}var E=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props,t=(e.children,e.gutter),r=k(e,["children","gutter"]);r.gutter=function(e,r){var n;return t?n=t(e,r):(n=document.createElement("div")).className="gutter gutter-"+r,n.__isSplitGutter=!0,n},this.split=b(this.parent.children,r)},t.prototype.componentDidUpdate=function(e){var t=this,r=this.props,n=(r.children,r.minSize),i=r.sizes,a=r.collapsed,o=k(r,["children","minSize","sizes","collapsed"]),s=e.minSize,l=e.sizes,u=e.collapsed,c=["expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"].map((function(r){return t.props[r]!==e[r]})).reduce((function(e,t){return e||t}),!1);if(Array.isArray(n)&&Array.isArray(s)){var d=!1;n.forEach((function(e,t){d=d||e!==s[t]})),c=c||d}else c=!(!Array.isArray(n)&&!Array.isArray(s))||(c||n!==s);if(c)o.minSize=n,o.sizes=i||this.split.getSizes(),this.split.destroy(!0,!0),o.gutter=function(e,t,r){return r.previousSibling},this.split=b(Array.from(this.parent.children).filter((function(e){return!e.__isSplitGutter})),o);else if(i){var f=!1;i.forEach((function(e,t){f=f||e!==l[t]})),f&&this.split.setSizes(this.props.sizes)}Number.isInteger(a)&&(a!==u||c)&&this.split.collapse(a)},t.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},t.prototype.render=function(){var e=this,t=this.props,r=(t.sizes,t.minSize,t.expandToMin,t.gutterSize,t.gutterAlign,t.snapOffset,t.dragInterval,t.direction,t.cursor,t.gutter,t.elementStyle,t.gutterStyle,t.onDrag,t.onDragStart,t.onDragEnd,t.collapsed,t.children),n=k(t,["sizes","minSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]);return i.a.createElement("div",Object.assign({},{ref:function(t){e.parent=t}},n),r)},t}(i.a.Component);E.propTypes={sizes:o.a.arrayOf(o.a.number),minSize:o.a.oneOfType([o.a.number,o.a.arrayOf(o.a.number)]),expandToMin:o.a.bool,gutterSize:o.a.number,gutterAlign:o.a.string,snapOffset:o.a.number,dragInterval:o.a.number,direction:o.a.string,cursor:o.a.string,gutter:o.a.func,elementStyle:o.a.func,gutterStyle:o.a.func,onDrag:o.a.func,onDragStart:o.a.func,onDragEnd:o.a.func,collapsed:o.a.number,children:o.a.arrayOf(o.a.element)},E.defaultProps={sizes:void 0,minSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};t.a=E},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(4),i=r(0),a=r(180);function o(){var e=i.useRef(!1),t=i.useState(0),r=Object(n.a)(t,2),o=r[0],s=r[1];return Object(a.a)((function(){e.current=!0})),i.useCallback((function(){e.current||s(o+1)}),[o])}},,,,,,,,,function(e,t,r){"use strict";var n=r(26),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function k(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}function E(){}function _(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=k.prototype;var S=_.prototype=new E;S.constructor=_,n(S,k.prototype),S.isPureReactComponent=!0;var T={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var n,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,n)&&!x.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:T.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g,A=[];function M(e,t,r,n){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function R(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case o:l=!0}}if(l)return n(i,t,""===r?"."+D(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+D(s=t[u],u);l+=e(s,c,n,i)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=r+D(s,u++),n,i);else if("object"===s)throw n=""+t,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return l}(e,"",t,r)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,n,r,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+r)),n.push(e))}function N(e,t,r,n,i){var a="";null!=r&&(a=(""+r).replace(C,"$&/")+"/"),R(e,j,t=M(t,a,n,i)),I(t)}var U={current:null};function B(){var e=U.current;if(null===e)throw Error(v(321));return e}var F={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return N(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;R(e,L,t=M(null,null,t,r)),I(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(v(143));return e}},t.Component=k,t.Fragment=s,t.Profiler=u,t.PureComponent=_,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(v(267,e));var i=n({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return B().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,r){return B().useReducer(e,t,r)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,r){"use strict";var n=r(0),i=r(26),a=r(209);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function s(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,d=null,f={onError:function(e){l=!0,u=e}};function p(e,t,r,n,i,a,o,c,d){l=!1,u=null,s.apply(f,arguments)}var h=null,g=null,m=null;function v(e,t,r){var n=e.type||"unknown-event";e.currentTarget=m(r),function(e,t,r,n,i,a,s,f,h){if(p.apply(this,arguments),l){if(!l)throw Error(o(198));var g=u;l=!1,u=null,c||(c=!0,d=g)}}(n,t,void 0,e),e.currentTarget=null}var y=null,b={};function k(){if(y)for(var e in b){var t=b[e],r=y.indexOf(e);if(!(-1<r))throw Error(o(96,e));if(!_[r]){if(!t.extractEvents)throw Error(o(97,e));for(var n in _[r]=t,r=t.eventTypes){var i=void 0,a=r[n],s=t,l=n;if(S.hasOwnProperty(l))throw Error(o(99,l));S[l]=a;var u=a.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&E(u[i],s,l);i=!0}else a.registrationName?(E(a.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(o(98,n,e))}}}}function E(e,t,r){if(T[e])throw Error(o(100,e));T[e]=t,w[e]=t.eventTypes[r].dependencies}var _=[],S={},T={},w={};function x(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!b.hasOwnProperty(t)||b[t]!==n){if(b[t])throw Error(o(102,t));b[t]=n,r=!0}}r&&k()}var O=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),P=null,C=null,A=null;function M(e){if(e=g(e)){if("function"!==typeof P)throw Error(o(280));var t=e.stateNode;t&&(t=h(t),P(e.stateNode,e.type,t))}}function I(e){C?A?A.push(e):A=[e]:C=e}function R(){if(C){var e=C,t=A;if(A=C=null,M(e),t)for(e=0;e<t.length;e++)M(t[e])}}function D(e,t){return e(t)}function L(e,t,r,n,i){return e(t,r,n,i)}function j(){}var N=D,U=!1,B=!1;function F(){null===C&&null===A||(j(),R())}function z(e,t,r){if(B)return e(t,r);B=!0;try{return N(e,t,r)}finally{B=!1,F()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,$={},H={};function K(e,t,r,n,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var Z=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Z,q);G[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Z,q);G[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Z,q);G[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(e,t,r,n){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!W.call(H,e)||!W.call($,e)&&(V.test(e)?H[e]=!0:($[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,re=J?Symbol.for("react.fragment"):60107,ne=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,ae=J?Symbol.for("react.provider"):60109,oe=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ue=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,de=J?Symbol.for("react.memo"):60115,fe=J?Symbol.for("react.lazy"):60116,pe=J?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case ie:return"Profiler";case ne:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return me(e.type);case pe:return me(e.render);case fe:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,a=me(e.type);r=null,n&&(r=me(n.type)),n=a,a="",i?a=" (at "+i.fileName.replace(Q,"")+":"+i.lineNumber+")":r&&(a=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+a}t+=r,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=be(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function _e(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Se(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ye(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Y(e,"checked",t,!1)}function we(e,t){Te(e,t);var r=ye(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,r):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Oe(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Pe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ce(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ye(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ye(r)}}function Ie(e,t){var r=ye(t.value),n=ye(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function ze(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ve={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},We={},$e={};function He(e){if(We[e])return We[e];if(!Ve[e])return e;var t,r=Ve[e];for(t in r)if(r.hasOwnProperty(t)&&t in $e)return We[e]=r[t];return e}O&&($e=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var Ke=He("animationend"),Ge=He("animationiteration"),Ze=He("animationstart"),qe=He("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=Ye.get(e);return void 0===t&&(t=new Map,Ye.set(e,t)),t}function Je(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(o(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return tt(i),e;if(a===n)return tt(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)v(e,t[n],r[n]);else t&&v(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(at=nt(at,e)),e=at,at=null,e){if(it(e,ot),at)throw Error(o(95));if(c)throw e=d,c=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,r,n){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function pt(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=xr(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=lt(e.nativeEvent);n=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===r&&(o|=64);for(var s=null,l=0;l<_.length;l++){var u=_[l];u&&(u=u.extractEvents(n,t,a,i,o))&&(s=nt(s,u))}st(s)}}function ht(e,t,r){if(!r.has(e)){switch(e){case"scroll":Zt(t,"scroll",!0);break;case"focus":case"blur":Zt(t,"focus",!0),Zt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":ut(e)&&Zt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Gt(e,t)}r.set(e,null)}}var gt,mt,vt,yt=!1,bt=[],kt=null,Et=null,_t=null,St=new Map,Tt=new Map,wt=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function Ct(e,t){switch(e){case"focus":case"blur":kt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function At(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e=Pt(t,r,n,i,a),null!==t&&(null!==(t=Or(t))&&mt(t)),e):(e.eventSystemFlags|=n,e)}function Mt(e){var t=xr(e.target);if(null!==t){var r=Je(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=et(r)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){vt(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Or(t);return null!==r&&mt(r),e.blockedOn=t,!1}return!0}function Rt(e,t,r){It(e)&&r.delete(t)}function Dt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Or(e.blockedOn))&&gt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==kt&&It(kt)&&(kt=null),null!==Et&&It(Et)&&(Et=null),null!==_t&&It(_t)&&(_t=null),St.forEach(Rt),Tt.forEach(Rt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Dt)))}function jt(e){function t(t){return Lt(t,e)}if(0<bt.length){Lt(bt[0],e);for(var r=1;r<bt.length;r++){var n=bt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==kt&&Lt(kt,e),null!==Et&&Lt(Et,e),null!==_t&&Lt(_t,e),St.forEach(t),Tt.forEach(t),r=0;r<wt.length;r++)(n=wt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<wt.length&&null===(r=wt[0]).blockedOn;)Mt(r),null===r.blockedOn&&wt.shift()}var Nt={},Ut=new Map,Bt=new Map,Ft=["abort","abort",Ke,"animationEnd",Ge,"animationIteration",Ze,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qe,"transitionEnd","waiting","waiting"];function zt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[n],eventPriority:t},Bt.set(n,t),Ut.set(n,a),Nt[i]=a}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Ft,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<Vt.length;Wt++)Bt.set(Vt[Wt],0);var $t=a.unstable_UserBlockingPriority,Ht=a.unstable_runWithPriority,Kt=!0;function Gt(e,t){Zt(t,e,!1)}function Zt(e,t,r){var n=Bt.get(t);switch(void 0===n?2:n){case 0:n=qt.bind(null,t,1,e);break;case 1:n=Xt.bind(null,t,1,e);break;default:n=Yt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function qt(e,t,r,n){U||j();var i=Yt,a=U;U=!0;try{L(i,e,t,r,n)}finally{(U=a)||F()}}function Xt(e,t,r,n){Ht($t,Yt.bind(null,e,t,r,n))}function Yt(e,t,r,n){if(Kt)if(0<bt.length&&-1<xt.indexOf(e))e=Pt(null,e,t,r,n),bt.push(e);else{var i=Qt(e,t,r,n);if(null===i)Ct(e,n);else if(-1<xt.indexOf(e))e=Pt(i,e,t,r,n),bt.push(e);else if(!function(e,t,r,n,i){switch(t){case"focus":return kt=At(kt,e,t,r,n,i),!0;case"dragenter":return Et=At(Et,e,t,r,n,i),!0;case"mouseover":return _t=At(_t,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,At(St.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Tt.set(a,At(Tt.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n)){Ct(e,n),e=ft(e,n,null,t);try{z(pt,e)}finally{dt(e)}}}}function Qt(e,t,r,n){if(null!==(r=xr(r=lt(n)))){var i=Je(r);if(null===i)r=null;else{var a=i.tag;if(13===a){if(null!==(r=et(i)))return r;r=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=ft(e,n,r,t);try{z(pt,e)}finally{dt(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function tr(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function rr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=tr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Jt).forEach((function(e){er.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var nr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function ar(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var or=De;function sr(e,t){var r=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var n=0;n<t.length;n++)ht(t[n],e,r)}function lr(){}function ur(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var r,n=cr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cr(n)}}function fr(){for(var e=window,t=ur();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ur((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=null,gr=null;function mr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"===typeof setTimeout?setTimeout:void 0,br="function"===typeof clearTimeout?clearTimeout:void 0;function kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Er(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var _r=Math.random().toString(36).slice(2),Sr="__reactInternalInstance$"+_r,Tr="__reactEventHandlers$"+_r,wr="__reactContainere$"+_r;function xr(e){var t=e[Sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wr]||r[Sr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Er(e);null!==e;){if(r=e[Sr])return r;e=Er(e)}return t}r=(e=r).parentNode}return null}function Or(e){return!(e=e[Sr]||e[wr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Cr(e){return e[Tr]||null}function Ar(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mr(e,t){var r=e.stateNode;if(!r)return null;var n=h(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}function Ir(e,t,r){(t=Mr(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Rr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Ar(t);for(t=r.length;0<t--;)Ir(r[t],"captured",e);for(t=0;t<r.length;t++)Ir(r[t],"bubbled",e)}}function Dr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Mr(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Lr(e){e&&e.dispatchConfig.registrationName&&Dr(e._targetInst,null,e)}function jr(e){it(e,Rr)}var Nr=null,Ur=null,Br=null;function Fr(){if(Br)return Br;var e,t,r=Ur,n=r.length,i="value"in Nr?Nr.value:Nr.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return Br=i.slice(e,1<t?1-t:void 0)}function zr(){return!0}function Vr(){return!1}function Wr(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?zr:Vr,this.isPropagationStopped=Vr,this}function $r(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Hr(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Kr(e){e.eventPool=[],e.getPooled=$r,e.release=Hr}i(Wr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){this.isPersistent=zr},isPersistent:Vr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vr,this._dispatchInstances=this._dispatchListeners=null}}),Wr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wr.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var a=new t;return i(a,r.prototype),r.prototype=a,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,Kr(r),r},Kr(Wr);var Gr=Wr.extend({data:null}),Zr=Wr.extend({data:null}),qr=[9,13,27,32],Xr=O&&"CompositionEvent"in window,Yr=null;O&&"documentMode"in document&&(Yr=document.documentMode);var Qr=O&&"TextEvent"in window&&!Yr,Jr=O&&(!Xr||Yr&&8<Yr&&11>=Yr),en=String.fromCharCode(32),tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(e,t){switch(e){case"keyup":return-1!==qr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function an(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var on=!1;var sn={eventTypes:tn,extractEvents:function(e,t,r,n){var i;if(Xr)e:{switch(e){case"compositionstart":var a=tn.compositionStart;break e;case"compositionend":a=tn.compositionEnd;break e;case"compositionupdate":a=tn.compositionUpdate;break e}a=void 0}else on?nn(e,r)&&(a=tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(a=tn.compositionStart);return a?(Jr&&"ko"!==r.locale&&(on||a!==tn.compositionStart?a===tn.compositionEnd&&on&&(i=Fr()):(Ur="value"in(Nr=n)?Nr.value:Nr.textContent,on=!0)),a=Gr.getPooled(a,t,r,n),i?a.data=i:null!==(i=an(r))&&(a.data=i),jr(a),i=a):i=null,(e=Qr?function(e,t){switch(e){case"compositionend":return an(t);case"keypress":return 32!==t.which?null:(rn=!0,en);case"textInput":return(e=t.data)===en&&rn?null:e;default:return null}}(e,r):function(e,t){if(on)return"compositionend"===e||!Xr&&nn(e,t)?(e=Fr(),Br=Ur=Nr=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Zr.getPooled(tn.beforeInput,t,r,n)).data=e,jr(t)):t=null,null===i?t:null===t?i:[i,t]}},ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ln[e.type]:"textarea"===t}var cn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dn(e,t,r){return(e=Wr.getPooled(cn.change,e,t,r)).type="change",I(r),jr(e),e}var fn=null,pn=null;function hn(e){st(e)}function gn(e){if(Ee(Pr(e)))return e}function mn(e,t){if("change"===e)return t}var vn=!1;function yn(){fn&&(fn.detachEvent("onpropertychange",bn),pn=fn=null)}function bn(e){if("value"===e.propertyName&&gn(pn))if(e=dn(pn,e,lt(e)),U)st(e);else{U=!0;try{D(hn,e)}finally{U=!1,F()}}}function kn(e,t,r){"focus"===e?(yn(),pn=r,(fn=t).attachEvent("onpropertychange",bn)):"blur"===e&&yn()}function En(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gn(pn)}function _n(e,t){if("click"===e)return gn(t)}function Sn(e,t){if("input"===e||"change"===e)return gn(t)}O&&(vn=ut("input")&&(!document.documentMode||9<document.documentMode));var Tn={eventTypes:cn,_isInputEventSupported:vn,extractEvents:function(e,t,r,n){var i=t?Pr(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=mn;else if(un(i))if(vn)o=Sn;else{o=En;var s=kn}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=_n);if(o&&(o=o(e,t)))return dn(o,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},wn=Wr.extend({view:null,detail:null}),xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Pn(){return On}var Cn=0,An=0,Mn=!1,In=!1,Rn=wn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Cn;return Cn=e.screenX,Mn?"mousemove"===e.type?e.screenX-t:0:(Mn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=An;return An=e.screenY,In?"mousemove"===e.type?e.screenY-t:0:(In=!0,0)}}),Dn=Rn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ln={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jn={eventTypes:Ln,extractEvents:function(e,t,r,n,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(r.relatedTarget||r.fromElement)||!o&&!a)return null;(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=r.relatedTarget||r.toElement)?xr(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Rn,l=Ln.mouseLeave,u=Ln.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Dn,l=Ln.pointerLeave,u=Ln.pointerEnter,c="pointer");if(e=null==o?a:Pr(o),a=null==t?a:Pr(t),(l=s.getPooled(l,o,r,n)).type=c+"leave",l.target=e,l.relatedTarget=a,(r=s.getPooled(u,t,r,n)).type=c+"enter",r.target=a,r.relatedTarget=e,c=t,(n=o)&&c)e:{for(u=c,o=0,e=s=n;e;e=Ar(e))o++;for(e=0,t=u;t;t=Ar(t))e++;for(;0<o-e;)s=Ar(s),o--;for(;0<e-o;)u=Ar(u),e--;for(;o--;){if(s===u||s===u.alternate)break e;s=Ar(s),u=Ar(u)}s=null}else s=null;for(u=s,s=[];n&&n!==u&&(null===(o=n.alternate)||o!==u);)s.push(n),n=Ar(n);for(n=[];c&&c!==u&&(null===(o=c.alternate)||o!==u);)n.push(c),c=Ar(c);for(c=0;c<s.length;c++)Dr(s[c],"bubbled",l);for(c=n.length;0<c--;)Dr(n[c],"captured",r);return 0===(64&i)?[l]:[l,r]}};var Nn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Un=Object.prototype.hasOwnProperty;function Bn(e,t){if(Nn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Un.call(t,r[n])||!Nn(e[r[n]],t[r[n]]))return!1;return!0}var Fn=O&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vn=null,Wn=null,$n=null,Hn=!1;function Kn(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hn||null==Vn||Vn!==ur(r)?null:("selectionStart"in(r=Vn)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},$n&&Bn($n,r)?null:($n=r,(e=Wr.getPooled(zn.select,Wn,e,t)).type="select",e.target=Vn,jr(e),e))}var Gn={eventTypes:zn,extractEvents:function(e,t,r,n,i,a){if(!(a=!(i=a||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{i=Qe(i),a=w.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Pr(t):window,e){case"focus":(un(i)||"true"===i.contentEditable)&&(Vn=i,Wn=t,$n=null);break;case"blur":$n=Wn=Vn=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hn=!1,Kn(r,n);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return Kn(r,n)}return null}},Zn=Wr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),qn=Wr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xn=wn.extend({relatedTarget:null});function Yn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=wn.extend({key:function(e){if(e.key){var t=Qn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?Yn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Rn.extend({dataTransfer:null}),ri=wn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pn}),ni=Wr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ai={eventTypes:Nt,extractEvents:function(e,t,r,n){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===Yn(r))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Xn;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ri;break;case Ke:case Ge:case Ze:e=Zn;break;case qe:e=ni;break;case"scroll":e=wn;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Dn;break;default:e=Wr}return jr(t=e.getPooled(i,t,r,n)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k(),h=Cr,g=Or,m=Pr,x({SimpleEventPlugin:ai,EnterLeaveEventPlugin:jn,ChangeEventPlugin:Tn,SelectEventPlugin:Gn,BeforeInputEventPlugin:sn});var oi=[],si=-1;function li(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function ui(e,t){si++,oi[si]=e.current,e.current=t}var ci={},di={current:ci},fi={current:!1},pi=ci;function hi(e,t){var r=e.type.contextTypes;if(!r)return ci;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(fi),li(di)}function vi(e,t,r){if(di.current!==ci)throw Error(o(168));ui(di,t),ui(fi,r)}function yi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},r,{},n)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,pi=di.current,ui(di,e),ui(fi,fi.current),!0}function ki(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=yi(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,li(fi),li(di),ui(di,e)):li(fi),ui(fi,r)}var Ei=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ti=a.unstable_requestPaint,wi=a.unstable_now,xi=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Ci=a.unstable_NormalPriority,Ai=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Ii={},Ri=a.unstable_shouldYield,Di=void 0!==Ti?Ti:function(){},Li=null,ji=null,Ni=!1,Ui=wi(),Bi=1e4>Ui?wi:function(){return wi()-Ui};function Fi(){switch(xi()){case Oi:return 99;case Pi:return 98;case Ci:return 97;case Ai:return 96;case Mi:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Ci;case 96:return Ai;case 95:return Mi;default:throw Error(o(332))}}function Vi(e,t){return e=zi(e),Ei(e,t)}function Wi(e,t,r){return e=zi(e),_i(e,t,r)}function $i(e){return null===Li?(Li=[e],ji=_i(Oi,Ki)):Li.push(e),Ii}function Hi(){if(null!==ji){var e=ji;ji=null,Si(e)}Ki()}function Ki(){if(!Ni&&null!==Li){Ni=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Li=null}catch(r){throw null!==Li&&(Li=Li.slice(e+1)),_i(Oi,Hi),r}finally{Ni=!1}}}function Gi(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Zi(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var qi={current:null},Xi=null,Yi=null,Qi=null;function Ji(){Qi=Yi=Xi=null}function ea(e){var t=qi.current;li(qi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ra(e,t){Xi=e,Qi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ao=!0),e.firstContext=null)}function na(e,t){if(Qi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Xi)throw Error(o(308));Yi=t,Xi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function sa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function la(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ua(e,t){var r=e.alternate;null!==r&&oa(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function ca(e,t,r,n){var a=e.updateQueue;ia=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next,s.next=l}o=s,a.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==o){l=o.next;var u=a.baseState,c=0,d=null,f=null,p=null;if(null!==l)for(var h=l;;){if((s=h.expirationTime)<n){var g={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(f=p=g,d=u):p=p.next=g,s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),al(s,h.suspenseConfig);e:{var m=e,v=h;switch(s=t,g=r,v.tag){case 1:if("function"===typeof(m=v.payload)){u=m.call(g,u,s);break e}u=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=v.payload)?m.call(g,u,s):m)||void 0===s)break e;u=i({},u,s);break e;case 2:ia=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[h]:s.push(h))}if(null===(h=h.next)||h===l){if(null===(s=a.shared.pending))break;h=o.next=s.next,s.next=l,a.baseQueue=o=s,a.shared.pending=null}}null===p?d=u:p.next=f,a.baseState=d,a.baseQueue=p,ol(c),e.expirationTime=c,e.memoizedState=u}}function da(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!==typeof n)throw Error(o(191,n));n.call(i)}}}var fa=X.ReactCurrentBatchConfig,pa=(new n.Component).refs;function ha(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var ga={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Ks(),i=fa.suspense;(i=sa(n=Gs(n,e,i),i)).payload=t,void 0!==r&&null!==r&&(i.callback=r),la(e,i),Zs(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Ks(),i=fa.suspense;(i=sa(n=Gs(n,e,i),i)).tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),la(e,i),Zs(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Ks(),n=fa.suspense;(n=sa(r=Gs(r,e,n),n)).tag=2,void 0!==t&&null!==t&&(n.callback=t),la(e,n),Zs(e,r)}};function ma(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Bn(r,n)||!Bn(i,a))}function va(e,t,r){var n=!1,i=ci,a=t.contextType;return"object"===typeof a&&null!==a?a=na(a):(i=gi(t)?pi:di.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?hi(e,i):ci),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ba(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=pa,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=na(a):(a=gi(t)?pi:di.current,i.context=hi(e,a)),ca(e,r,i,n),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),ca(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var ka=Array.isArray;function Ea(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===pa&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Sa(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xl(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Cl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Ea(e,t,r),n.return=e,n):((n=Ol(r.type,r.key,r.props,null,e.mode,n)).ref=Ea(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Al(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Pl(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Cl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=Ol(t.type,t.key,t.props,null,e.mode,r)).ref=Ea(e,null,t),r.return=e,r;case te:return(t=Al(t,e.mode,r)).return=e,t}if(ka(t)||ge(t))return(t=Pl(t,e.mode,r,null)).return=e,t;_a(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===i?r.type===re?d(e,t,r.props.children,n,i):u(e,t,r,n):null;case te:return r.key===i?c(e,t,r,n):null}if(ka(r)||ge(r))return null!==i?null:d(e,t,r,n,null);_a(e,r)}return null}function h(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?d(t,e,n.props.children,i,n.key):u(t,e,n,i);case te:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(ka(n)||ge(n))return d(t,e=e.get(r)||null,n,i,null);_a(t,n)}return null}function g(i,o,s,l){for(var u=null,c=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===s.length)return r(i,d),u;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(o=a(d,o,g),null===c?u=d:c.sibling=d,c=d);return u}for(d=n(i,d);g<s.length;g++)null!==(m=h(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=ge(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(i,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return r(i,g),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return c}for(g=n(i,g);!y.done;m++,y=l.next())null!==(y=h(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,n,a,l){var u="object"===typeof a&&null!==a&&a.type===re&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ee:e:{for(c=a.key,u=n;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===re){r(e,u.sibling),(n=i(u,a.props.children)).return=e,e=n;break e}break;default:if(u.elementType===a.type){r(e,u.sibling),(n=i(u,a.props)).ref=Ea(e,u,a),n.return=e,e=n;break e}}r(e,u);break}t(e,u),u=u.sibling}a.type===re?((n=Pl(a.props.children,e.mode,l,a.key)).return=e,e=n):((l=Ol(a.type,a.key,a.props,null,e.mode,l)).ref=Ea(e,n,a),l.return=e,e=l)}return s(e);case te:e:{for(u=a.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=i(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Al(a,e.mode,l)).return=e,e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,a)).return=e,e=n):(r(e,n),(n=Cl(a,e.mode,l)).return=e,e=n),s(e);if(ka(a))return g(e,n,a,l);if(ge(a))return m(e,n,a,l);if(c&&_a(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Ta=Sa(!0),wa=Sa(!1),xa={},Oa={current:xa},Pa={current:xa},Ca={current:xa};function Aa(e){if(e===xa)throw Error(o(174));return e}function Ma(e,t){switch(ui(Ca,t),ui(Pa,e),ui(Oa,xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Oa),ui(Oa,t)}function Ia(){li(Oa),li(Pa),li(Ca)}function Ra(e){Aa(Ca.current);var t=Aa(Oa.current),r=Ne(t,e.type);t!==r&&(ui(Pa,e),ui(Oa,r))}function Da(e){Pa.current===e&&(li(Oa),li(Pa))}var La={current:0};function ja(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Na(e,t){return{responder:e,props:t}}var Ua=X.ReactCurrentDispatcher,Ba=X.ReactCurrentBatchConfig,Fa=0,za=null,Va=null,Wa=null,$a=!1;function Ha(){throw Error(o(321))}function Ka(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Ga(e,t,r,n,i,a){if(Fa=a,za=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ua.current=null===e||null===e.memoizedState?vo:yo,e=r(n,i),t.expirationTime===Fa){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Wa=Va=null,t.updateQueue=null,Ua.current=bo,e=r(n,i)}while(t.expirationTime===Fa)}if(Ua.current=mo,t=null!==Va&&null!==Va.next,Fa=0,Wa=Va=za=null,$a=!1,t)throw Error(o(300));return e}function Za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?za.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function qa(){if(null===Va){var e=za.alternate;e=null!==e?e.memoizedState:null}else e=Va.next;var t=null===Wa?za.memoizedState:Wa.next;if(null!==t)Wa=t,Va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Va=e).memoizedState,baseState:Va.baseState,baseQueue:Va.baseQueue,queue:Va.queue,next:null},null===Wa?za.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function Xa(e,t){return"function"===typeof t?t(e):t}function Ya(e){var t=qa(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=Va,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=s=a=null,u=i;do{var c=u.expirationTime;if(c<Fa){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,a=n):l=l.next=d,c>za.expirationTime&&(za.expirationTime=c,ol(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),al(c,u.suspenseConfig),n=u.eagerReducer===e?u.eagerState:e(n,u.action);u=u.next}while(null!==u&&u!==i);null===l?a=n:l.next=s,Nn(n,t.memoizedState)||(Ao=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Qa(e){var t=qa(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Nn(a,t.memoizedState)||(Ao=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Ja(e){var t=Za();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e}).dispatch=go.bind(null,za,e),[t.memoizedState,e]}function eo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=za.updateQueue)?(t={lastEffect:null},za.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function to(){return qa().memoizedState}function ro(e,t,r,n){var i=Za();za.effectTag|=e,i.memoizedState=eo(1|t,r,void 0,void 0===n?null:n)}function no(e,t,r,n){var i=qa();n=void 0===n?null:n;var a=void 0;if(null!==Va){var o=Va.memoizedState;if(a=o.destroy,null!==n&&Ka(n,o.deps))return void eo(t,r,a,n)}za.effectTag|=e,i.memoizedState=eo(1|t,r,a,n)}function io(e,t){return ro(516,4,e,t)}function ao(e,t){return no(516,4,e,t)}function oo(e,t){return no(4,2,e,t)}function so(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function lo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,no(4,2,so.bind(null,t,e),r)}function uo(){}function co(e,t){return Za().memoizedState=[e,void 0===t?null:t],e}function fo(e,t){var r=qa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ka(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function po(e,t){var r=qa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ka(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ho(e,t,r){var n=Fi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Ba.suspense;Ba.suspense=void 0===t?null:t;try{e(!1),r()}finally{Ba.suspense=n}}))}function go(e,t,r){var n=Ks(),i=fa.suspense;i={expirationTime:n=Gs(n,e,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===za||null!==a&&a===za)$a=!0,i.expirationTime=Fa,za.expirationTime=Fa;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,r);if(i.eagerReducer=a,i.eagerState=s,Nn(s,o))return}catch(l){}Zs(e,n)}}var mo={readContext:na,useCallback:Ha,useContext:Ha,useEffect:Ha,useImperativeHandle:Ha,useLayoutEffect:Ha,useMemo:Ha,useReducer:Ha,useRef:Ha,useState:Ha,useDebugValue:Ha,useResponder:Ha,useDeferredValue:Ha,useTransition:Ha},vo={readContext:na,useCallback:co,useContext:na,useEffect:io,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,ro(4,2,so.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var r=Za();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Za();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=go.bind(null,za,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Za().memoizedState=e},useState:Ja,useDebugValue:uo,useResponder:Na,useDeferredValue:function(e,t){var r=Ja(e),n=r[0],i=r[1];return io((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{i(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Ja(!1),r=t[0];return t=t[1],[co(ho.bind(null,t,e),[t,e]),r]}},yo={readContext:na,useCallback:fo,useContext:na,useEffect:ao,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:po,useReducer:Ya,useRef:to,useState:function(){return Ya(Xa)},useDebugValue:uo,useResponder:Na,useDeferredValue:function(e,t){var r=Ya(Xa),n=r[0],i=r[1];return ao((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{i(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Ya(Xa),r=t[0];return t=t[1],[fo(ho.bind(null,t,e),[t,e]),r]}},bo={readContext:na,useCallback:fo,useContext:na,useEffect:ao,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:po,useReducer:Qa,useRef:to,useState:function(){return Qa(Xa)},useDebugValue:uo,useResponder:Na,useDeferredValue:function(e,t){var r=Qa(Xa),n=r[0],i=r[1];return ao((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{i(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Qa(Xa),r=t[0];return t=t[1],[fo(ho.bind(null,t,e),[t,e]),r]}},ko=null,Eo=null,_o=!1;function So(e,t){var r=Tl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function To(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function wo(e){if(_o){var t=Eo;if(t){var r=t;if(!To(e,t)){if(!(t=kr(r.nextSibling))||!To(e,t))return e.effectTag=-1025&e.effectTag|2,_o=!1,void(ko=e);So(ko,r)}ko=e,Eo=kr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,_o=!1,ko=e}}function xo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ko=e}function Oo(e){if(e!==ko)return!1;if(!_o)return xo(e),_o=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vr(t,e.memoizedProps))for(t=Eo;t;)So(e,t),t=kr(t.nextSibling);if(xo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Eo=kr(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Eo=null}}else Eo=ko?kr(e.stateNode.nextSibling):null;return!0}function Po(){Eo=ko=null,_o=!1}var Co=X.ReactCurrentOwner,Ao=!1;function Mo(e,t,r,n){t.child=null===e?wa(t,null,r,n):Ta(t,e.child,r,n)}function Io(e,t,r,n,i){r=r.render;var a=t.ref;return ra(t,i),n=Ga(e,t,r,n,a,i),null===e||Ao?(t.effectTag|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Zo(e,t,i))}function Ro(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!==typeof o||wl(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ol(r.type,null,n,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Do(e,t,o,n,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:Bn)(i,n)&&e.ref===t.ref)?Zo(e,t,a):(t.effectTag|=1,(e=xl(o,n)).ref=t.ref,e.return=t,t.child=e)}function Do(e,t,r,n,i,a){return null!==e&&Bn(e.memoizedProps,n)&&e.ref===t.ref&&(Ao=!1,i<a)?(t.expirationTime=e.expirationTime,Zo(e,t,a)):jo(e,t,r,n,a)}function Lo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function jo(e,t,r,n,i){var a=gi(r)?pi:di.current;return a=hi(t,a),ra(t,i),r=Ga(e,t,r,n,a,i),null===e||Ao?(t.effectTag|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Zo(e,t,i))}function No(e,t,r,n,i){if(gi(r)){var a=!0;bi(t)}else a=!1;if(ra(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),va(t,r,n),ba(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;"object"===typeof u&&null!==u?u=na(u):u=hi(t,u=gi(r)?pi:di.current);var c=r.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==u)&&ya(t,o,n,u),ia=!1;var f=t.memoizedState;o.state=f,ca(t,n,o,i),l=t.memoizedState,s!==n||f!==l||fi.current||ia?("function"===typeof c&&(ha(t,r,c,n),l=t.memoizedState),(s=ia||ma(t,r,s,n,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,oa(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Zi(t.type,s),l=o.context,"object"===typeof(u=r.contextType)&&null!==u?u=na(u):u=hi(t,u=gi(r)?pi:di.current),(d="function"===typeof(c=r.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==u)&&ya(t,o,n,u),ia=!1,l=t.memoizedState,o.state=l,ca(t,n,o,i),f=t.memoizedState,s!==n||l!==f||fi.current||ia?("function"===typeof c&&(ha(t,r,c,n),f=t.memoizedState),(c=ia||ma(t,r,s,n,l,f,u))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,u)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=u,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Uo(e,t,r,n,a,i)}function Uo(e,t,r,n,i,a){Lo(e,t);var o=0!==(64&t.effectTag);if(!n&&!o)return i&&ki(t,r,!1),Zo(e,t,a);n=t.stateNode,Co.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Mo(e,t,s,a),t.memoizedState=n.state,i&&ki(t,r,!0),t.child}function Bo(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ma(e,t.containerInfo)}var Fo,zo,Vo,Wo={dehydrated:null,retryTime:0};function $o(e,t,r){var n,i=t.mode,a=t.pendingProps,o=La.current,s=!1;if((n=0!==(64&t.effectTag))||(n=0!==(2&o)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),ui(La,1&o),null===e){if(void 0!==a.fallback&&wo(t),s){if(s=a.fallback,(a=Pl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=Pl(s,i,r,null)).return=t,a.sibling=r,t.memoizedState=Wo,t.child=a,r}return i=a.children,t.memoizedState=null,t.child=wa(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(r=xl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=xl(i,a)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=Wo,t.child=r,i}return r=Ta(t,e.child,a.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=a.fallback,(a=Pl(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=Pl(s,i,r,null)).return=t,a.sibling=r,r.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Wo,t.child=a,r}return t.memoizedState=null,t.child=Ta(t,e,a.children,r)}function Ho(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),ta(e.return,t)}function Ko(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Go(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Mo(e,t,n.children,r),0!==(2&(n=La.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,r);else if(19===e.tag)Ho(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ui(La,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===ja(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ko(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ko(t,!0,r,null,a,t.lastEffect);break;case"together":Ko(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zo(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&ol(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=xl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=xl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function qo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xo(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&mi(),null;case 3:return Ia(),li(fi),li(di),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Oo(t)||(t.effectTag|=4),null;case 5:Da(t),r=Aa(Ca.current);var a=t.type;if(null!==e&&null!=t.stateNode)zo(e,t,a,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}if(e=Aa(Oa.current),Oo(t)){n=t.stateNode,a=t.type;var s=t.memoizedProps;switch(n[Sr]=t,n[Tr]=s,a){case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Gt(Xe[e],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"form":Gt("reset",n),Gt("submit",n);break;case"details":Gt("toggle",n);break;case"input":Se(n,s),Gt("invalid",n),sr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",n),sr(r,"onChange");break;case"textarea":Me(n,s),Gt("invalid",n),sr(r,"onChange")}for(var l in ir(a,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?n.textContent!==u&&(e=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(e=["children",""+u]):T.hasOwnProperty(l)&&null!=u&&sr(r,l)}switch(a){case"input":ke(n),xe(n,s,!0);break;case"textarea":ke(n),Re(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=lr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,e===or&&(e=je(a)),e===or?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(a,{is:n.is}):(e=l.createElement(a),"select"===a&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,a),e[Sr]=t,e[Tr]=n,Fo(e,t),t.stateNode=e,l=ar(a,n),a){case"iframe":case"object":case"embed":Gt("load",e),u=n;break;case"video":case"audio":for(u=0;u<Xe.length;u++)Gt(Xe[u],e);u=n;break;case"source":Gt("error",e),u=n;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),u=n;break;case"form":Gt("reset",e),Gt("submit",e),u=n;break;case"details":Gt("toggle",e),u=n;break;case"input":Se(e,n),u=_e(e,n),Gt("invalid",e),sr(r,"onChange");break;case"option":u=Pe(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},u=i({},n,{value:void 0}),Gt("invalid",e),sr(r,"onChange");break;case"textarea":Me(e,n),u=Ae(e,n),Gt("invalid",e),sr(r,"onChange");break;default:u=n}ir(a,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?rr(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Be(e,d):"children"===s?"string"===typeof d?("textarea"!==a||""!==d)&&Fe(e,d):"number"===typeof d&&Fe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=d&&sr(r,s):null!=d&&Y(e,s,d,l))}switch(a){case"input":ke(e),xe(e,n,!1);break;case"textarea":ke(e),Re(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ye(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?Ce(e,!!n.multiple,r,!1):null!=n.defaultValue&&Ce(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=lr)}mr(a,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Vo(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=Aa(Ca.current),Aa(Oa.current),Oo(t)?(r=t.stateNode,n=t.memoizedProps,r[Sr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Sr]=t,t.stateNode=r)}return null;case 13:return li(La),n=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Oo(t):(n=null!==(a=e.memoizedState),r||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?Os===ks&&(Os=Es):(Os!==ks&&Os!==Es||(Os=_s),0!==Is&&null!==Ts&&(Rl(Ts,xs),Dl(Ts,Is)))),(r||n)&&(t.effectTag|=4),null);case 4:return Ia(),null;case 10:return ea(t),null;case 17:return gi(t.type)&&mi(),null;case 19:if(li(La),null===(n=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=n.rendering)){if(a)qo(n,!1);else if(Os!==ks||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=ja(s))){for(t.effectTag|=64,qo(n,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)s=r,(a=n).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return ui(La,1&La.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=ja(s))){if(t.effectTag|=64,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),qo(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,a=!0,qo(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=n.last)?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Bi()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Bi(),r.sibling=null,t=La.current,ui(La,a?1&t|2:1&t),r):null}throw Error(o(156,t.tag))}function Yo(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ia(),li(fi),li(di),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Da(e),null;case 13:return li(La),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(La),null;case 4:return Ia(),null;case 10:return ea(e),null;default:return null}}function Qo(e,t){return{value:e,source:t,stack:ve(t)}}Fo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},zo=function(e,t,r,n,a){var o=e.memoizedProps;if(o!==n){var s,l,u=t.stateNode;switch(Aa(Oa.current),e=null,r){case"input":o=_e(u,o),n=_e(u,n),e=[];break;case"option":o=Pe(u,o),n=Pe(u,n),e=[];break;case"select":o=i({},o,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":o=Ae(u,o),n=Ae(u,n),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(u.onclick=lr)}for(s in ir(r,n),r=null,o)if(!n.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in u=o[s])u.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var c=n[s];if(u=null!=o?o[s]:void 0,n.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(e||(e=[]),e.push(s,r)),r=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=c&&sr(a,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}r&&(e=e||[]).push("style",r),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Vo=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var Jo="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=ve(r)),null!==r&&me(r.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){yl(e,r)}else t.current=null}function rs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Zi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ns(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function as(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void is(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Zi(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&da(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}da(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&mr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&jt(r)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function os(e,t,r){switch("function"===typeof _l&&_l(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;Vi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(a){yl(i,a)}}e=e.next}while(e!==n)}))}break;case 1:ts(t),"function"===typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){yl(e,r)}}(t,r);break;case 5:ts(t);break;case 4:cs(e,t,r)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var r=t;break e}t=t.return}throw Error(o(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.effectTag&&(Fe(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ls(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?function e(t,r,n){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(8===n.nodeType?(r=n.parentNode).insertBefore(t,n):(r=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=lr));else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t):function e(t,r,n){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t)}function cs(e,t,r){for(var n,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,u=a,c=r,d=u;;)if(os(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=n,u=a.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(os(e,a,r),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ns(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[Tr]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Te(r,n),ar(e,i),t=ar(e,n),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?rr(r,l):"dangerouslySetInnerHTML"===s?Be(r,l):"children"===s?Fe(r,l):Y(r,s,l,t)}switch(e){case"input":we(r,n);break;case"textarea":Ie(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Ce(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Ce(r,!!n.multiple,n.defaultValue,!0):Ce(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Ds=Bi()),null!==r)e:for(e=r;;){if(5===e.tag)a=e.stateNode,n?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=tr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fs(t);case 19:return void fs(t);case 17:return}throw Error(o(163))}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Jo),t.forEach((function(t){var n=kl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=sa(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){js||(js=!0,Ns=n),es(e,t)},r}function gs(e,t,r){(r=sa(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return es(e,t),n(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Us?Us=new Set([this]):Us.add(this),es(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var ms,vs=Math.ceil,ys=X.ReactCurrentDispatcher,bs=X.ReactCurrentOwner,ks=0,Es=3,_s=4,Ss=0,Ts=null,ws=null,xs=0,Os=ks,Ps=null,Cs=1073741823,As=1073741823,Ms=null,Is=0,Rs=!1,Ds=0,Ls=null,js=!1,Ns=null,Us=null,Bs=!1,Fs=null,zs=90,Vs=null,Ws=0,$s=null,Hs=0;function Ks(){return 0!==(48&Ss)?1073741821-(Bi()/10|0):0!==Hs?Hs:Hs=1073741821-(Bi()/10|0)}function Gs(e,t,r){if(0===(2&(t=t.mode)))return 1073741823;var n=Fi();if(0===(4&t))return 99===n?1073741823:1073741822;if(0!==(16&Ss))return xs;if(null!==r)e=Gi(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Gi(e,150,100);break;case 97:case 96:e=Gi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ts&&e===xs&&--e,e}function Zs(e,t){if(50<Ws)throw Ws=0,$s=null,Error(o(185));if(null!==(e=qs(e,t))){var r=Fi();1073741823===t?0!==(8&Ss)&&0===(48&Ss)?Js(e):(Ys(e),0===Ss&&Hi()):Ys(e),0===(4&Ss)||98!==r&&99!==r||(null===Vs?Vs=new Map([[e,t]]):(void 0===(r=Vs.get(e))||r>t)&&Vs.set(e,t))}}function qs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Ts===i&&(ol(t),Os===_s&&Rl(i,xs)),Dl(i,t)),i}function Xs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Il(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function Ys(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=$i(Js.bind(null,e));else{var t=Xs(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Ks();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Ii&&Si(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?$i(Js.bind(null,e)):Wi(n,Qs.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function Qs(e,t){if(Hs=0,t)return Ll(e,t=Ks()),Ys(e),null;var r=Xs(e);if(0!==r){if(t=e.callbackNode,0!==(48&Ss))throw Error(o(327));if(gl(),e===Ts&&r===xs||rl(e,r),null!==ws){var n=Ss;Ss|=16;for(var i=il();;)try{ll();break}catch(l){nl(e,l)}if(Ji(),Ss=n,ys.current=i,1===Os)throw t=Ps,rl(e,r),Rl(e,r),Ys(e),t;if(null===ws)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Os,Ts=null,n){case ks:case 1:throw Error(o(345));case 2:Ll(e,2<r?2:r);break;case Es:if(Rl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),1073741823===Cs&&10<(i=Ds+500-Bi())){if(Rs){var a=e.lastPingedTime;if(0===a||a>=r){e.lastPingedTime=r,rl(e,r);break}}if(0!==(a=Xs(e))&&a!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=yr(fl.bind(null,e),i);break}fl(e);break;case _s:if(Rl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),Rs&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,rl(e,r);break}if(0!==(i=Xs(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==As?n=10*(1073741821-As)-Bi():1073741823===Cs?n=0:(n=10*(1073741821-Cs)-5e3,0>(n=(i=Bi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vs(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=yr(fl.bind(null,e),n);break}fl(e);break;case 5:if(1073741823!==Cs&&null!==Ms){a=Cs;var s=Ms;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(a=Bi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+n-a),10<n){Rl(e,r),e.timeoutHandle=yr(fl.bind(null,e),n);break}}fl(e);break;default:throw Error(o(329))}if(Ys(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ss))throw Error(o(327));if(gl(),e===Ts&&t===xs||rl(e,t),null!==ws){var r=Ss;Ss|=16;for(var n=il();;)try{sl();break}catch(i){nl(e,i)}if(Ji(),Ss=r,ys.current=n,1===Os)throw r=Ps,rl(e,t),Rl(e,t),Ys(e),r;if(null!==ws)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ts=null,fl(e),Ys(e)}return null}function el(e,t){var r=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=r)&&Hi()}}function tl(e,t){var r=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=r)&&Hi()}}function rl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,br(r)),null!==ws)for(r=ws.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mi();break;case 3:Ia(),li(fi),li(di);break;case 5:Da(n);break;case 4:Ia();break;case 13:case 19:li(La);break;case 10:ea(n)}r=r.return}Ts=e,ws=xl(e.current,null),xs=t,Os=ks,Ps=null,As=Cs=1073741823,Ms=null,Is=0,Rs=!1}function nl(e,t){for(;;){try{if(Ji(),Ua.current=mo,$a)for(var r=za.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(Fa=0,Wa=Va=za=null,$a=!1,null===ws||null===ws.return)return Os=1,Ps=t,ws=null;e:{var i=e,a=ws.return,o=ws,s=t;if(t=xs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&La.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var h=d.memoizedProps;f=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(f){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=sa(1073741823,null);v.tag=2,la(o,v)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ps,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(o)){s.add(o);var b=bl.bind(null,i,l,o);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(o))}5!==Os&&(Os=2),s=Qo(s,o),d=a;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,ua(d,hs(d,l,t));break e;case 1:l=s;var k=d.type,E=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof k.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Us||!Us.has(E)))){d.effectTag|=4096,d.expirationTime=t,ua(d,gs(d,l,t));break e}}d=d.return}while(null!==d)}ws=cl(ws)}catch(_){t=_;continue}break}}function il(){var e=ys.current;return ys.current=mo,null===e?mo:e}function al(e,t){e<Cs&&2<e&&(Cs=e),null!==t&&e<As&&2<e&&(As=e,Ms=t)}function ol(e){e>Is&&(Is=e)}function sl(){for(;null!==ws;)ws=ul(ws)}function ll(){for(;null!==ws&&!Ri();)ws=ul(ws)}function ul(e){var t=ms(e.alternate,e,xs);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){ws=e;do{var t=ws.alternate;if(e=ws.return,0===(2048&ws.effectTag)){if(t=Xo(t,ws,xs),1===xs||1!==ws.childExpirationTime){for(var r=0,n=ws.child;null!==n;){var i=n.expirationTime,a=n.childExpirationTime;i>r&&(r=i),a>r&&(r=a),n=n.sibling}ws.childExpirationTime=r}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ws.firstEffect),null!==ws.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ws.firstEffect),e.lastEffect=ws.lastEffect),1<ws.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ws:e.firstEffect=ws,e.lastEffect=ws))}else{if(null!==(t=Yo(ws)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ws.sibling))return t;ws=e}while(null!==ws);return Os===ks&&(Os=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fl(e){var t=Fi();return Vi(99,pl.bind(null,e,t)),null}function pl(e,t){do{gl()}while(null!==Fs);if(0!==(48&Ss))throw Error(o(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=dl(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ts&&(ws=Ts=null,xs=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var a=Ss;Ss|=32,bs.current=null,hr=Kt;var s=fr();if(pr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(x){l=null;break e}var f=0,p=-1,h=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==c&&3!==v.nodeType||(p=f+c),v!==d||0!==u&&3!==v.nodeType||(h=f+u),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++g===c&&(p=f),y===d&&++m===u&&(h=f),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===p||-1===h?null:{start:p,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;gr={activeElementDetached:null,focusedElem:s,selectionRange:l},Kt=!1,Ls=i;do{try{hl()}catch(x){if(null===Ls)throw Error(o(330));yl(Ls,x),Ls=Ls.nextEffect}}while(null!==Ls);Ls=i;do{try{for(s=e,l=t;null!==Ls;){var k=Ls.effectTag;if(16&k&&Fe(Ls.stateNode,""),128&k){var E=Ls.alternate;if(null!==E){var _=E.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&k){case 2:us(Ls),Ls.effectTag&=-3;break;case 6:us(Ls),Ls.effectTag&=-3,ds(Ls.alternate,Ls);break;case 1024:Ls.effectTag&=-1025;break;case 1028:Ls.effectTag&=-1025,ds(Ls.alternate,Ls);break;case 4:ds(Ls.alternate,Ls);break;case 8:cs(s,c=Ls,l),ss(c)}Ls=Ls.nextEffect}}catch(x){if(null===Ls)throw Error(o(330));yl(Ls,x),Ls=Ls.nextEffect}}while(null!==Ls);if(_=gr,E=fr(),k=_.focusedElem,l=_.selectionRange,E!==k&&k&&k.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(k.ownerDocument.documentElement,k)){null!==l&&pr(k)&&(E=l.start,void 0===(_=l.end)&&(_=E),"selectionStart"in k?(k.selectionStart=E,k.selectionEnd=Math.min(_,k.value.length)):(_=(E=k.ownerDocument||document)&&E.defaultView||window).getSelection&&(_=_.getSelection(),c=k.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!_.extend&&s>l&&(c=l,l=s,s=c),c=dr(k,s),d=dr(k,l),c&&d&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==d.node||_.focusOffset!==d.offset)&&((E=E.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),s>l?(_.addRange(E),_.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),_.addRange(E))))),E=[];for(_=k;_=_.parentNode;)1===_.nodeType&&E.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<E.length;k++)(_=E[k]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Kt=!!hr,gr=hr=null,e.current=r,Ls=i;do{try{for(k=e;null!==Ls;){var S=Ls.effectTag;if(36&S&&as(k,Ls.alternate,Ls),128&S){E=void 0;var T=Ls.ref;if(null!==T){var w=Ls.stateNode;switch(Ls.tag){case 5:E=w;break;default:E=w}"function"===typeof T?T(E):T.current=E}}Ls=Ls.nextEffect}}catch(x){if(null===Ls)throw Error(o(330));yl(Ls,x),Ls=Ls.nextEffect}}while(null!==Ls);Ls=null,Di(),Ss=a}else e.current=r;if(Bs)Bs=!1,Fs=e,zs=t;else for(Ls=i;null!==Ls;)t=Ls.nextEffect,Ls.nextEffect=null,Ls=t;if(0===(t=e.firstPendingTime)&&(Us=null),1073741823===t?e===$s?Ws++:(Ws=0,$s=e):Ws=0,"function"===typeof El&&El(r.stateNode,n),Ys(e),js)throw js=!1,e=Ns,Ns=null,e;return 0!==(8&Ss)||Hi(),null}function hl(){for(;null!==Ls;){var e=Ls.effectTag;0!==(256&e)&&rs(Ls.alternate,Ls),0===(512&e)||Bs||(Bs=!0,Wi(97,(function(){return gl(),null}))),Ls=Ls.nextEffect}}function gl(){if(90!==zs){var e=97<zs?97:zs;return zs=90,Vi(e,ml)}}function ml(){if(null===Fs)return!1;var e=Fs;if(Fs=null,0!==(48&Ss))throw Error(o(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ns(5,r),is(5,r)}}catch(n){if(null===e)throw Error(o(330));yl(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return Ss=t,Hi(),!0}function vl(e,t,r){la(e,t=hs(e,t=Qo(r,t),1073741823)),null!==(e=qs(e,1073741823))&&Ys(e)}function yl(e,t){if(3===e.tag)vl(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){vl(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Us||!Us.has(n))){la(r,e=gs(r,e=Qo(t,e),1073741823)),null!==(r=qs(r,1073741823))&&Ys(r);break}}r=r.return}}function bl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Ts===e&&xs===r?Os===_s||Os===Es&&1073741823===Cs&&Bi()-Ds<500?rl(e,xs):Rs=!0:Il(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,Ys(e)))}function kl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Gs(t=Ks(),e,null)),null!==(e=qs(e,t))&&Ys(e)}ms=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||fi.current)Ao=!0;else{if(n<r){switch(Ao=!1,t.tag){case 3:Bo(t),Po();break;case 5:if(Ra(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&bi(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,ui(qi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?$o(e,t,r):(ui(La,1&La.current),null!==(t=Zo(e,t,r))?t.sibling:null);ui(La,1&La.current);break;case 19:if(n=t.childExpirationTime>=r,0!==(64&e.effectTag)){if(n)return Go(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ui(La,La.current),!n)return null}return Zo(e,t,r)}Ao=!1}}else Ao=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=hi(t,di.current),ra(t,r),i=Ga(null,t,n,e,i,r),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(n)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&ha(t,n,s,e),i.updater=ga,t.stateNode=i,i._reactInternalFiber=t,ba(t,n,e,r),t=Uo(null,t,n,!0,a,r)}else t.tag=0,Mo(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(i),e=Zi(i,e),a){case 0:t=jo(null,t,i,e,r);break e;case 1:t=No(null,t,i,e,r);break e;case 11:t=Io(null,t,i,e,r);break e;case 14:t=Ro(null,t,i,Zi(i.type,e),n,r);break e}throw Error(o(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,jo(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 1:return n=t.type,i=t.pendingProps,No(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 3:if(Bo(t),n=t.updateQueue,null===e||null===n)throw Error(o(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ca(t,n,null,r),(n=t.memoizedState.element)===i)Po(),t=Zo(e,t,r);else{if((i=t.stateNode.hydrate)&&(Eo=kr(t.stateNode.containerInfo.firstChild),ko=t,i=_o=!0),i)for(r=wa(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Mo(e,t,n,r),Po();t=t.child}return t;case 5:return Ra(t),null===e&&wo(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,vr(n,i)?s=null:null!==a&&vr(n,a)&&(t.effectTag|=16),Lo(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Mo(e,t,s,r),t=t.child),t;case 6:return null===e&&wo(t),null;case 13:return $o(e,t,r);case 4:return Ma(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ta(t,null,n,r):Mo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Io(e,t,n,i=t.elementType===n?i:Zi(n,i),r);case 7:return Mo(e,t,t.pendingProps,r),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(ui(qi,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=Nn(l,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!fi.current){t=Zo(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&a)){1===l.tag&&((c=sa(r,null)).tag=2,la(l,c)),l.expirationTime<r&&(l.expirationTime=r),null!==(c=l.alternate)&&c.expirationTime<r&&(c.expirationTime=r),ta(l.return,r),u.expirationTime<r&&(u.expirationTime=r);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Mo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(a=t.pendingProps).children,ra(t,r),n=n(i=na(i,a.unstable_observedBits)),t.effectTag|=1,Mo(e,t,n,r),t.child;case 14:return a=Zi(i=t.type,t.pendingProps),Ro(e,t,i,a=Zi(i.type,a),n,r);case 15:return Do(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(n)?(e=!0,bi(t)):e=!1,ra(t,r),va(t,n,i),ba(t,n,i,r),Uo(null,t,n,!0,e,r);case 19:return Go(e,t,r)}throw Error(o(156,t.tag))};var El=null,_l=null;function Sl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tl(e,t,r,n){return new Sl(e,t,r,n)}function wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xl(e,t){var r=e.alternate;return null===r?((r=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ol(e,t,r,n,i,a){var s=2;if(n=e,"function"===typeof e)wl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case re:return Pl(r.children,i,a,t);case se:s=8,i|=7;break;case ne:s=8,i|=1;break;case ie:return(e=Tl(12,r,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ue:return(e=Tl(13,r,t,i)).type=ue,e.elementType=ue,e.expirationTime=a,e;case ce:return(e=Tl(19,r,t,i)).elementType=ce,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case le:s=11;break e;case de:s=14;break e;case fe:s=16,n=null;break e;case pe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Tl(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=a,t}function Pl(e,t,r,n){return(e=Tl(7,e,n,t)).expirationTime=r,e}function Cl(e,t,r){return(e=Tl(6,e,null,t)).expirationTime=r,e}function Al(e,t,r){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ml(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Il(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Rl(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Dl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ll(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function jl(e,t,r,n){var i=t.current,a=Ks(),s=fa.suspense;a=Gs(a,i,s);e:if(r){t:{if(Je(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(o(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===r.tag){var u=r.type;if(gi(u)){r=yi(r,u,l);break e}}r=l}else r=ci;return null===t.context?t.context=r:t.pendingContext=r,(t=sa(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),la(i,t),Zs(i,a),a}function Nl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ul(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Ul(e,t),(e=e.alternate)&&Ul(e,t)}function Fl(e,t,r){var n=new Ml(e,t,r=null!=r&&!0===r.hydrate),i=Tl(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,aa(i),e[wr]=n.current,r&&0!==t&&function(e,t){var r=Qe(t);xt.forEach((function(e){ht(e,t,r)})),Ot.forEach((function(e){ht(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Nl(o);s.call(e)}}jl(t,o,e,i)}else{if(a=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Fl(e,0,t?{hydrate:!0}:void 0)}(r,n),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Nl(o);l.call(e)}}tl((function(){jl(t,o,e,i)}))}return Nl(o)}function Wl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function $l(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zl(t))throw Error(o(200));return Wl(e,t,null,r)}Fl.prototype.render=function(e){jl(e,this._internalRoot,null,null)},Fl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;jl(null,e,null,(function(){t[wr]=null}))},gt=function(e){if(13===e.tag){var t=Gi(Ks(),150,100);Zs(e,t),Bl(e,t)}},mt=function(e){13===e.tag&&(Zs(e,3),Bl(e,3))},vt=function(e){if(13===e.tag){var t=Ks();Zs(e,t=Gs(t,e,null)),Bl(e,t)}},P=function(e,t,r){switch(t){case"input":if(we(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Cr(n);if(!i)throw Error(o(90));Ee(n),we(n,i)}}}break;case"textarea":Ie(e,r);break;case"select":null!=(t=r.value)&&Ce(e,!!r.multiple,t,!1)}},D=el,L=function(e,t,r,n,i){var a=Ss;Ss|=4;try{return Vi(98,e.bind(null,t,r,n,i))}finally{0===(Ss=a)&&Hi()}},j=function(){0===(49&Ss)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Ll(t,e),Ys(t)})),Hi()}}(),gl())},N=function(e,t){var r=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=r)&&Hi()}};var Hl={Events:[Or,Pr,Cr,x,S,jr,function(e){it(e,Lr)},I,R,Yt,st,gl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);El=function(e){try{t.onCommitFiberRoot(r,e,void 0,64===(64&e.current.effectTag))}catch(n){}},_l=function(e){try{t.onCommitFiberUnmount(r,e)}catch(n){}}}catch(n){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:xr,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hl,t.createPortal=$l,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ss))throw Error(o(187));var r=Ss;Ss|=1;try{return Vi(99,e.bind(null,t))}finally{Ss=r,Hi()}},t.hydrate=function(e,t,r){if(!zl(t))throw Error(o(200));return Vl(null,e,t,!0,r)},t.render=function(e,t,r){if(!zl(t))throw Error(o(200));return Vl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!zl(e))throw Error(o(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[wr]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return $l(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zl(r))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Vl(e,t,r,!1,n)},t.version="16.13.1"},function(e,t,r){"use strict";e.exports=r(210)},function(e,t,r){"use strict";var n,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var r=t.unstable_now();l(!0,r),l=null}catch(n){throw setTimeout(e,0),n}},d=Date.now();t.unstable_now=function(){return Date.now()-d},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,h=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var v=p.now();t.unstable_now=function(){return p.now()-v}}var y=!1,b=null,k=-1,E=5,_=0;o=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,T=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();_=e+E;try{b(!0,e)?T.postMessage(null):(y=!1,b=null)}catch(r){throw T.postMessage(null),r}}else y=!1},n=function(e){b=e,y||(y=!0,T.postMessage(null))},i=function(e,r){k=h((function(){e(t.unstable_now())}),r)},a=function(){g(k),k=-1}}function w(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<P(i,t)))break e;e[n]=t,e[r]=i,r=n}}function x(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var a=2*(n+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>P(o,r))void 0!==l&&0>P(l,o)?(e[n]=l,e[s]=r,n=s):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==l&&0>P(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function P(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var C=[],A=[],M=1,I=null,R=3,D=!1,L=!1,j=!1;function N(e){for(var t=x(A);null!==t;){if(null===t.callback)O(A);else{if(!(t.startTime<=e))break;O(A),t.sortIndex=t.expirationTime,w(C,t)}t=x(A)}}function U(e){if(j=!1,N(e),!L)if(null!==x(C))L=!0,n(B);else{var t=x(A);null!==t&&i(U,t.startTime-e)}}function B(e,r){L=!1,j&&(j=!1,a()),D=!0;var n=R;try{for(N(r),I=x(C);null!==I&&(!(I.expirationTime>r)||e&&!o());){var s=I.callback;if(null!==s){I.callback=null,R=I.priorityLevel;var l=s(I.expirationTime<=r);r=t.unstable_now(),"function"===typeof l?I.callback=l:I===x(C)&&O(C),N(r)}else O(C);I=x(C)}if(null!==I)var u=!0;else{var c=x(A);null!==c&&i(U,c.startTime-r),u=!1}return u}finally{I=null,R=n,D=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||D||(L=!0,n(B))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return x(C)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var r=R;R=t;try{return e()}finally{R=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=R;R=e;try{return t()}finally{R=r}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?s+l:s,o="number"===typeof o.timeout?o.timeout:F(e)}else o=F(e),l=s;return e={id:M++,callback:r,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,w(A,e),null===x(C)&&e===x(A)&&(j?a():j=!0,i(U,l-s))):(e.sortIndex=o,w(C,e),L||D||(L=!0,n(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var r=x(C);return r!==I&&null!==I&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<I.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=R;return function(){var r=R;R=t;try{return e.apply(this,arguments)}finally{R=r}}}},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case o:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case v:case m:case u:return e;default:return t}}case a:return t}}}function S(e){return _(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||_(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===l||e===s||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===k||e.$$typeof===E||e.$$typeof===y)},t.typeOf=_},function(e,t,r){"use strict";var n=r(215);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";r.r(t);var n=r(54),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=Object(n.a)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=a},function(e,t,r){},function(e,t,r){},function(e,t,r){!function(e){"use strict";var t="CodeMirror-lint-markers";function r(e){e.parentNode&&e.parentNode.removeChild(e)}function n(t,n,i,a){var o=function(t,r,n){var i=document.createElement("div");function a(t){if(!i.parentNode)return e.off(document,"mousemove",a);i.style.top=Math.max(0,t.clientY-i.offsetHeight-5)+"px",i.style.left=t.clientX+5+"px"}return i.className="CodeMirror-lint-tooltip cm-s-"+t.options.theme,i.appendChild(n.cloneNode(!0)),t.state.lint.options.selfContain?t.getWrapperElement().appendChild(i):document.body.appendChild(i),e.on(document,"mousemove",a),a(r),null!=i.style.opacity&&(i.style.opacity=1),i}(t,n,i);function s(){var t;e.off(a,"mouseout",s),o&&((t=o).parentNode&&(null==t.style.opacity&&r(t),t.style.opacity=0,setTimeout((function(){r(t)}),600)),o=null)}var l=setInterval((function(){if(o)for(var e=a;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){s();break}}if(!o)return clearInterval(l)}),400);e.on(a,"mouseout",s)}function i(e,t,r){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=r,this.onMouseOver=function(t){!function(e,t){var r=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(r.className)){for(var i=r.getBoundingClientRect(),a=(i.left+i.right)/2,o=(i.top+i.bottom)/2,l=e.findMarksAt(e.coordsChar({left:a,top:o},"client")),u=[],c=0;c<l.length;++c){var d=l[c].__annotation;d&&u.push(d)}u.length&&function(e,t,r){for(var i=r.target||r.srcElement,a=document.createDocumentFragment(),o=0;o<t.length;o++){var l=t[o];a.appendChild(s(l))}n(e,r,a,i)}(e,u,t)}}(e,t)},this.waitingFor=0}function a(e){var r=e.state.lint;r.hasGutter&&e.clearGutter(t);for(var n=0;n<r.marked.length;++n)r.marked[n].clear();r.marked.length=0}function o(t,r,i,a,o){var s=document.createElement("div"),l=s;return s.className="CodeMirror-lint-marker-"+i,a&&((l=s.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=o&&e.on(l,"mouseover",(function(e){n(t,e,r,l)})),s}function s(e){var t=e.severity;t||(t="error");var r=document.createElement("div");return r.className="CodeMirror-lint-message-"+t,"undefined"!=typeof e.messageHTML?r.innerHTML=e.messageHTML:r.appendChild(document.createTextNode(e.message)),r}function l(t){var r=t.state.lint.options,n=r.options||r,i=r.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(i)if(r.async||i.async)!function(t,r,n){var i=t.state.lint,a=++i.waitingFor;function o(){a=-1,t.off("change",o)}t.on("change",o),r(t.getValue(),(function(r,n){t.off("change",o),i.waitingFor==a&&(n&&r instanceof e&&(r=n),t.operation((function(){u(t,r)})))}),n,t)}(t,i,n);else{var a=i(t.getValue(),n,t);if(!a)return;a.then?a.then((function(e){t.operation((function(){u(t,e)}))})):t.operation((function(){u(t,a)}))}}function u(e,r){a(e);for(var n,i,l=e.state.lint,u=l.options,c=function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r],i=n.from.line;(t[i]||(t[i]=[])).push(n)}return t}(r),d=0;d<c.length;++d){var f=c[d];if(f){for(var p=null,h=l.hasGutter&&document.createDocumentFragment(),g=0;g<f.length;++g){var m=f[g],v=m.severity;v||(v="error"),i=v,p="error"==(n=p)?n:i,u.formatAnnotation&&(m=u.formatAnnotation(m)),l.hasGutter&&h.appendChild(s(m)),m.to&&l.marked.push(e.markText(m.from,m.to,{className:"CodeMirror-lint-mark-"+v,__annotation:m}))}l.hasGutter&&e.setGutterMarker(d,t,o(e,h,p,f.length>1,l.options.tooltips))}}u.onUpdateLinting&&u.onUpdateLinting(r,c,e)}function c(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout((function(){l(e)}),t.options.delay||500))}e.defineOption("lint",!1,(function(r,n,o){if(o&&o!=e.Init&&(a(r),!1!==r.state.lint.options.lintOnChange&&r.off("change",c),e.off(r.getWrapperElement(),"mouseover",r.state.lint.onMouseOver),clearTimeout(r.state.lint.timeout),delete r.state.lint),n){for(var s=r.getOption("gutters"),u=!1,d=0;d<s.length;++d)s[d]==t&&(u=!0);var f=r.state.lint=new i(r,(p=n)instanceof Function?{getAnnotations:p}:(p&&!0!==p||(p={}),p),u);!1!==f.options.lintOnChange&&r.on("change",c),0!=f.options.tooltips&&"gutter"!=f.options.tooltips&&e.on(r.getWrapperElement(),"mouseover",f.onMouseOver),l(r)}var p})),e.defineExtension("performLint",(function(){this.state.lint&&l(this)}))}(r(77))},function(e,t,r){!function(e){"use strict";e.registerHelper("lint","json",(function(t){var r=[];if(!window.jsonlint)return window.console&&window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run."),r;var n=window.jsonlint.parser||window.jsonlint;n.parseError=function(t,n){var i=n.loc;r.push({from:e.Pos(i.first_line-1,i.first_column),to:e.Pos(i.last_line-1,i.last_column),message:t})};try{n.parse(t)}catch(i){}return r}))}(r(77))},function(e,t,r){!function(e){"use strict";e.defineMode("javascript",(function(t,r){var n,i,a=t.indentUnit,o=r.statementIndent,s=r.jsonld,l=r.json||s,u=r.typescript,c=r.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("keyword d"),a=e("operator"),o={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:i,break:i,continue:i,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:a,typeof:a,instanceof:a,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),f=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e,t,r){return n=e,i=r,t}function g(e,t){var r,n=e.next();if('"'==n||"'"==n)return t.tokenize=(r=n,function(e,t){var n,i=!1;if(s&&"@"==e.peek()&&e.match(p))return t.tokenize=g,h("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||i);)i=!i&&"\\"==n;return i||(t.tokenize=g),h("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return h("number","number");if("."==n&&e.match(".."))return h("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return h(n);if("="==n&&e.eat(">"))return h("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return h("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),h("number","number");if("/"==n)return e.eat("*")?(t.tokenize=m,m(e,t)):e.eat("/")?(e.skipToEnd(),h("comment","comment")):Ge(e,t,1)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),h("regexp","string-2")):(e.eat("="),h("operator","operator",e.current()));if("`"==n)return t.tokenize=v,v(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),h("meta","meta");if("#"==n&&e.eatWhile(c))return h("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),h("comment","comment");if(f.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?h("."):h("operator","operator",e.current());if(c.test(n)){e.eatWhile(c);var i=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(i)){var a=d[i];return h(a.type,a.style,i)}if("async"==i&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return h("async","keyword",i)}return h("variable","variable",i)}}function m(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=g;break}n="*"==r}return h("comment","comment")}function v(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=g;break}n=!n&&"\\"==r}return h("quasi","string-2",e.current())}function y(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(u){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var i=0,a=!1,o=r-1;o>=0;--o){var s=e.string.charAt(o),l="([{}])".indexOf(s);if(l>=0&&l<3){if(!i){++o;break}if(0==--i){"("==s&&(a=!0);break}}else if(l>=3&&l<6)++i;else if(c.test(s))a=!0;else if(/["'\/`]/.test(s))for(;;--o){if(0==o)return;if(e.string.charAt(o-1)==s&&"\\"!=e.string.charAt(o-2)){o--;break}}else if(a&&!i){++o;break}}a&&!i&&(t.fatArrowAt=o)}}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function k(e,t,r,n,i,a){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=a,null!=n&&(this.align=n)}function E(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}var _={state:null,column:null,marked:null,cc:null};function S(){for(var e=arguments.length-1;e>=0;e--)_.cc.push(arguments[e])}function T(){return S.apply(null,arguments),!0}function w(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function x(e){var t=_.state;if(_.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,r){if(r){if(r.block){var n=e(t,r.prev);return n?n==r.prev?r:new P(n,r.vars,!0):null}return w(t,r.vars)?r:new P(r.prev,new C(t,r.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!w(e,t.localVars))return void(t.localVars=new C(e,t.localVars));r.globalVars&&!w(e,t.globalVars)&&(t.globalVars=new C(e,t.globalVars))}function O(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function P(e,t,r){this.prev=e,this.vars=t,this.block=r}function C(e,t){this.name=e,this.next=t}var A=new C("this",new C("arguments",null));function M(){_.state.context=new P(_.state.context,_.state.localVars,!1),_.state.localVars=A}function I(){_.state.context=new P(_.state.context,_.state.localVars,!0),_.state.localVars=null}function R(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}function D(e,t){var r=function(){var r=_.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new k(n,_.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function L(){var e=_.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function j(e){return function t(r){return r==e?T():";"==e||"}"==r||")"==r||"]"==r?S():T(t)}}function N(e,t){return"var"==e?T(D("vardef",t),ye,j(";"),L):"keyword a"==e?T(D("form"),z,N,L):"keyword b"==e?T(D("form"),N,L):"keyword d"==e?_.stream.match(/^\s*$/,!1)?T():T(D("stat"),W,j(";"),L):"debugger"==e?T(j(";")):"{"==e?T(D("}"),I,ae,L,R):";"==e?T():"if"==e?("else"==_.state.lexical.info&&_.state.cc[_.state.cc.length-1]==L&&_.state.cc.pop()(),T(D("form"),z,N,L,Te)):"function"==e?T(Pe):"for"==e?T(D("form"),we,N,L):"class"==e||u&&"interface"==t?(_.marked="keyword",T(D("form","class"==e?e:t),Re,L)):"variable"==e?u&&"declare"==t?(_.marked="keyword",T(N)):u&&("module"==t||"enum"==t||"type"==t)&&_.stream.match(/^\s*\w/,!1)?(_.marked="keyword","enum"==t?T(He):"type"==t?T(Ae,j("operator"),ce,j(";")):T(D("form"),be,j("{"),D("}"),ae,L,L)):u&&"namespace"==t?(_.marked="keyword",T(D("form"),B,N,L)):u&&"abstract"==t?(_.marked="keyword",T(N)):T(D("stat"),Q):"switch"==e?T(D("form"),z,j("{"),D("}","switch"),I,ae,L,L,R):"case"==e?T(B,j(":")):"default"==e?T(j(":")):"catch"==e?T(D("form"),M,U,N,L,R):"export"==e?T(D("stat"),Ne,L):"import"==e?T(D("stat"),Be,L):"async"==e?T(N):"@"==t?T(B,N):S(D("stat"),B,j(";"),L)}function U(e){if("("==e)return T(Me,j(")"))}function B(e,t){return V(e,t,!1)}function F(e,t){return V(e,t,!0)}function z(e){return"("!=e?S():T(D(")"),W,j(")"),L)}function V(e,t,r){if(_.state.fatArrowAt==_.stream.start){var n=r?q:Z;if("("==e)return T(M,D(")"),ne(Me,")"),L,j("=>"),n,R);if("variable"==e)return S(M,be,j("=>"),n,R)}var i=r?H:$;return b.hasOwnProperty(e)?T(i):"function"==e?T(Pe,i):"class"==e||u&&"interface"==t?(_.marked="keyword",T(D("form"),Ie,L)):"keyword c"==e||"async"==e?T(r?F:B):"("==e?T(D(")"),W,j(")"),L,i):"operator"==e||"spread"==e?T(r?F:B):"["==e?T(D("]"),$e,L,i):"{"==e?ie(ee,"}",null,i):"quasi"==e?S(K,i):"new"==e?T(function(e){return function(t){return"."==t?T(e?Y:X):"variable"==t&&u?T(ge,e?H:$):S(e?F:B)}}(r)):"import"==e?T(B):T()}function W(e){return e.match(/[;\}\)\],]/)?S():S(B)}function $(e,t){return","==e?T(W):H(e,t,!1)}function H(e,t,r){var n=0==r?$:H,i=0==r?B:F;return"=>"==e?T(M,r?q:Z,R):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?T(n):u&&"<"==t&&_.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?T(D(">"),ne(ce,">"),L,n):"?"==t?T(B,j(":"),i):T(i):"quasi"==e?S(K,n):";"!=e?"("==e?ie(F,")","call",n):"."==e?T(J,n):"["==e?T(D("]"),W,j("]"),L,n):u&&"as"==t?(_.marked="keyword",T(ce,n)):"regexp"==e?(_.state.lastType=_.marked="operator",_.stream.backUp(_.stream.pos-_.stream.start-1),T(i)):void 0:void 0}function K(e,t){return"quasi"!=e?S():"${"!=t.slice(t.length-2)?T(K):T(B,G)}function G(e){if("}"==e)return _.marked="string-2",_.state.tokenize=v,T(K)}function Z(e){return y(_.stream,_.state),S("{"==e?N:B)}function q(e){return y(_.stream,_.state),S("{"==e?N:F)}function X(e,t){if("target"==t)return _.marked="keyword",T($)}function Y(e,t){if("target"==t)return _.marked="keyword",T(H)}function Q(e){return":"==e?T(L,N):S($,j(";"),L)}function J(e){if("variable"==e)return _.marked="property",T()}function ee(e,t){return"async"==e?(_.marked="property",T(ee)):"variable"==e||"keyword"==_.style?(_.marked="property","get"==t||"set"==t?T(te):(u&&_.state.fatArrowAt==_.stream.start&&(r=_.stream.match(/^\s*:\s*/,!1))&&(_.state.fatArrowAt=_.stream.pos+r[0].length),T(re))):"number"==e||"string"==e?(_.marked=s?"property":_.style+" property",T(re)):"jsonld-keyword"==e?T(re):u&&O(t)?(_.marked="keyword",T(ee)):"["==e?T(B,oe,j("]"),re):"spread"==e?T(F,re):"*"==t?(_.marked="keyword",T(ee)):":"==e?S(re):void 0;var r}function te(e){return"variable"!=e?S(re):(_.marked="property",T(Pe))}function re(e){return":"==e?T(F):"("==e?S(Pe):void 0}function ne(e,t,r){function n(i,a){if(r?r.indexOf(i)>-1:","==i){var o=_.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),T((function(r,n){return r==t||n==t?S():S(e)}),n)}return i==t||a==t?T():r&&r.indexOf(";")>-1?S(e):T(j(t))}return function(r,i){return r==t||i==t?T():S(e,n)}}function ie(e,t,r){for(var n=3;n<arguments.length;n++)_.cc.push(arguments[n]);return T(D(t,r),ne(e,t),L)}function ae(e){return"}"==e?T():S(N,ae)}function oe(e,t){if(u){if(":"==e)return T(ce);if("?"==t)return T(oe)}}function se(e,t){if(u&&(":"==e||"in"==t))return T(ce)}function le(e){if(u&&":"==e)return _.stream.match(/^\s*\w+\s+is\b/,!1)?T(B,ue,ce):T(ce)}function ue(e,t){if("is"==t)return _.marked="keyword",T()}function ce(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(_.marked="keyword",T("typeof"==t?F:ce)):"variable"==e||"void"==t?(_.marked="type",T(he)):"|"==t||"&"==t?T(ce):"string"==e||"number"==e||"atom"==e?T(he):"["==e?T(D("]"),ne(ce,"]",","),L,he):"{"==e?T(D("}"),ne(fe,"}",",;"),L,he):"("==e?T(ne(pe,")"),de,he):"<"==e?T(ne(ce,">"),ce):void 0}function de(e){if("=>"==e)return T(ce)}function fe(e,t){return"variable"==e||"keyword"==_.style?(_.marked="property",T(fe)):"?"==t||"number"==e||"string"==e?T(fe):":"==e?T(ce):"["==e?T(j("variable"),se,j("]"),fe):"("==e?S(Ce,fe):void 0}function pe(e,t){return"variable"==e&&_.stream.match(/^\s*[?:]/,!1)||"?"==t?T(pe):":"==e?T(ce):"spread"==e?T(pe):S(ce)}function he(e,t){return"<"==t?T(D(">"),ne(ce,">"),L,he):"|"==t||"."==e||"&"==t?T(ce):"["==e?T(ce,j("]"),he):"extends"==t||"implements"==t?(_.marked="keyword",T(ce)):"?"==t?T(ce,j(":"),ce):void 0}function ge(e,t){if("<"==t)return T(D(">"),ne(ce,">"),L,he)}function me(){return S(ce,ve)}function ve(e,t){if("="==t)return T(ce)}function ye(e,t){return"enum"==t?(_.marked="keyword",T(He)):S(be,oe,_e,Se)}function be(e,t){return u&&O(t)?(_.marked="keyword",T(be)):"variable"==e?(x(t),T()):"spread"==e?T(be):"["==e?ie(Ee,"]"):"{"==e?ie(ke,"}"):void 0}function ke(e,t){return"variable"!=e||_.stream.match(/^\s*:/,!1)?("variable"==e&&(_.marked="property"),"spread"==e?T(be):"}"==e?S():"["==e?T(B,j("]"),j(":"),ke):T(j(":"),be,_e)):(x(t),T(_e))}function Ee(){return S(be,_e)}function _e(e,t){if("="==t)return T(F)}function Se(e){if(","==e)return T(ye)}function Te(e,t){if("keyword b"==e&&"else"==t)return T(D("form","else"),N,L)}function we(e,t){return"await"==t?T(we):"("==e?T(D(")"),xe,L):void 0}function xe(e){return"var"==e?T(ye,Oe):"variable"==e?T(Oe):S(Oe)}function Oe(e,t){return")"==e?T():";"==e?T(Oe):"in"==t||"of"==t?(_.marked="keyword",T(B,Oe)):S(B,Oe)}function Pe(e,t){return"*"==t?(_.marked="keyword",T(Pe)):"variable"==e?(x(t),T(Pe)):"("==e?T(M,D(")"),ne(Me,")"),L,le,N,R):u&&"<"==t?T(D(">"),ne(me,">"),L,Pe):void 0}function Ce(e,t){return"*"==t?(_.marked="keyword",T(Ce)):"variable"==e?(x(t),T(Ce)):"("==e?T(M,D(")"),ne(Me,")"),L,le,R):u&&"<"==t?T(D(">"),ne(me,">"),L,Ce):void 0}function Ae(e,t){return"keyword"==e||"variable"==e?(_.marked="type",T(Ae)):"<"==t?T(D(">"),ne(me,">"),L):void 0}function Me(e,t){return"@"==t&&T(B,Me),"spread"==e?T(Me):u&&O(t)?(_.marked="keyword",T(Me)):u&&"this"==e?T(oe,_e):S(be,oe,_e)}function Ie(e,t){return"variable"==e?Re(e,t):De(e,t)}function Re(e,t){if("variable"==e)return x(t),T(De)}function De(e,t){return"<"==t?T(D(">"),ne(me,">"),L,De):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(_.marked="keyword"),T(u?ce:B,De)):"{"==e?T(D("}"),Le,L):void 0}function Le(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&O(t))&&_.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(_.marked="keyword",T(Le)):"variable"==e||"keyword"==_.style?(_.marked="property",T(je,Le)):"number"==e||"string"==e?T(je,Le):"["==e?T(B,oe,j("]"),je,Le):"*"==t?(_.marked="keyword",T(Le)):u&&"("==e?S(Ce,Le):";"==e||","==e?T(Le):"}"==e?T():"@"==t?T(B,Le):void 0}function je(e,t){if("?"==t)return T(je);if(":"==e)return T(ce,_e);if("="==t)return T(F);var r=_.state.lexical.prev;return S(r&&"interface"==r.info?Ce:Pe)}function Ne(e,t){return"*"==t?(_.marked="keyword",T(We,j(";"))):"default"==t?(_.marked="keyword",T(B,j(";"))):"{"==e?T(ne(Ue,"}"),We,j(";")):S(N)}function Ue(e,t){return"as"==t?(_.marked="keyword",T(j("variable"))):"variable"==e?S(F,Ue):void 0}function Be(e){return"string"==e?T():"("==e?S(B):S(Fe,ze,We)}function Fe(e,t){return"{"==e?ie(Fe,"}"):("variable"==e&&x(t),"*"==t&&(_.marked="keyword"),T(Ve))}function ze(e){if(","==e)return T(Fe,ze)}function Ve(e,t){if("as"==t)return _.marked="keyword",T(Fe)}function We(e,t){if("from"==t)return _.marked="keyword",T(B)}function $e(e){return"]"==e?T():S(ne(F,"]"))}function He(){return S(D("form"),be,j("{"),D("}"),ne(Ke,"}"),L,L)}function Ke(){return S(be,_e)}function Ge(e,t,r){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return R.lex=!0,L.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new k((e||0)-a,0,"block",!1),localVars:r.localVars,context:r.localVars&&new P(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),y(e,t)),t.tokenize!=m&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=i&&"--"!=i?n:"incdec",function(e,t,r,n,i){var a=e.cc;for(_.state=e,_.stream=i,_.marked=null,_.cc=a,_.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((a.length?a.pop():l?B:N)(r,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return _.marked?_.marked:"variable"==r&&E(e,n)?"variable-2":t}}(t,r,n,i,e))},indent:function(t,n){if(t.tokenize==m)return e.Pass;if(t.tokenize!=g)return 0;var i,s=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==L)l=l.prev;else if(c!=Te)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==$||i==H)&&!/^[,\.=+\-*:?[\(]/.test(n));)l=l.prev;o&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,p=s==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+a:"stat"==d?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?o||a:0):"switch"!=l.info||p||0==r.doubleIndentSwitch?l.align?l.column+(p?0:1):l.indented+(p?0:a):l.indented+(/^(?:case|default)\b/.test(n)?a:2*a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Ge,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=B&&t!=F||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(r(77))},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(131),i=s(r(225)),a=s(r(252)),o=s(r(164));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,i.default)({name:"Replay",graphics:a.default,strings:o.default,configuration:n.baseConfiguration});t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=c(r(132)),a=r(131),o=c(r(234)),s=r(9),l=c(r(144)),u=c(r(80));function c(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var m=function(e,t,r,i){return t?n.cloneElement(t,{source:r,textTracks:i}):n.createElement(u.default,{source:r,textTracks:i})},v=function(e){var t=e.name,r=e.videoStreamerComponent,u=e.graphics,c=e.strings,d=e.uiRenderMethod,f=e.resolveVideoStreamerMethod,h=void 0===f?m:f,v=e.classNamePrefix,y=void 0===v?s.defaultClassNamePrefix:v,b=e.configuration,k=void 0===b?a.baseConfiguration:b,E=e.version,_=void 0===E?l.default:E,S=d||u&&c&&(0,o.default)(u,c,y);if(!S)throw new Error("Either a custom UI render method must be specified in the customization parameters, or graphics and strings must be specified for the default player UI renderer.");var T=function(e){var t=e.source,a=e.textTracks,o=e.options,s=e.onPlaybackActionsReady,l=e.onStreamStateChange,u=e.onExit,c=e.onError,d=e.initialPlaybackProps,f=e.children,m=g(e,["source","textTracks","options","onPlaybackActionsReady","onStreamStateChange","onExit","onError","initialPlaybackProps","children"]);return n.createElement(i.default,{render:S,configuration:k,options:o,onStreamerError:c,onPlaybackActionsReady:s,onStreamStateChange:l,initialPlaybackProps:d,externalProps:p({},m,{onExit:u,initialPlaybackProps:d})},h(r,f,t,a)||null)};return t&&(T.displayName=t),T.version=_,T};t.default=v},function(e,t,r){var n=r(227),i=r(17);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}},function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){var n=r(136);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),a=r(9),o=h(r(139)),s=h(r(141)),l=h(r(142)),u=h(r(143)),c=r(235),d=r(66),f=h(r(244)),p=h(r(245));function h(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=c.SettingsStorage.AudioSelector,E=c.SettingsStorage.SubtitlesSelector,_=c.SettingsStorage.Volume,S=function(e){return e&&e.controls&&e.controls.skipButtonOffset},T=function(e){return e&&e.controls&&e.controls.liveDisplayMode},w=function(e){return e&&e.controls&&e.controls.qualitySelectionStrategy},x=function(e,t){var r={};return Object.entries(e).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];r[i]=y({},r[i],{},a)})),Object.entries(t).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];r[i]=y({},r[i],{},a)})),r},O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.defaultClassNamePrefix,n=x(t,e),h=function(e){var t=e.configuration,a=e.externalProps,h={classNamePrefix:t&&t.classNamePrefix||r},g=t.controls&&t.controls.includeControls;return i.createElement(c.PlayerUIContainer,m({configuration:t},h,{render:function(e){var r=e.fullscreenState;return i.createElement(i.Fragment,null,i.createElement(d.ControlledVideoStreamer,h),i.createElement(f.default,{configuration:g},i.createElement(l.default,m({},n.exitButton,h,{onClick:a&&a.onExit})),i.createElement(u.default,m({},n.playbackMonitor,{configuration:t}))),i.createElement(o.default,h,i.createElement(f.default,{configuration:g},i.createElement(c.PlayPauseButton,m({},n.playPauseButton,h)),i.createElement(c.SkipButton,m({},n.skipButton,h,{offset:S(t)})),i.createElement(c.Timeline,m({},n.timeline,h),i.createElement(c.TimelineInformation,h)),i.createElement(c.TimeDisplay,m({},n.timeDisplay,h,{liveDisplayMode:T(t)})),i.createElement(c.GotoLiveButton,m({},n.gotoLiveButton,h)),i.createElement(_,m({},n.volume,h,{configuration:t})),i.createElement(k,m({},n.audioSelector,h,{configuration:t})),i.createElement(E,m({},n.subtitlesSelector,h,{configuration:t})),i.createElement(c.QualitySelector,m({},n.qualitySelector,h,{selectionStrategy:w(t)})),i.createElement(c.PipButton,m({},n.pipButton,h)),i.createElement(c.AirPlayButton,m({},n.airPlayButton,h)),i.createElement(s.default,m({},n.fullscreenButton,h,r)))),i.createElement(f.default,{configuration:g},i.createElement(c.BufferingIndicator,m({},n.bufferingIndicator,h))),i.createElement(p.default,m({configuration:t},a.initialPlaybackProps)))}}))};return h};t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsStorage=t.BufferingIndicator=t.QualitySelector=t.SubtitlesSelector=t.AudioSelector=t.Volume=t.AirPlayButton=t.PipButton=t.GotoLiveButton=t.TimelineInformation=t.TimeDisplay=t.Timeline=t.SkipButton=t.PlayPauseButton=t.PlayerUIContainer=void 0;var n=r(145),i=b(r(152)),a=b(r(153)),o=b(r(154)),s=b(r(155)),l=b(r(66)),u=b(r(156)),c=b(r(157)),d=b(r(158)),f=b(r(159)),p=b(r(160)),h=b(r(161)),g=b(r(240)),m=b(r(241)),v=b(r(242)),y=b(r(243));function b(e){return e&&e.__esModule?e:{default:e}}var k=(0,n.getConnectedPlayerUIContainer)(l.default);t.PlayerUIContainer=k;var E=(0,l.default)(c.default);t.PlayPauseButton=E;var _=(0,l.default)(i.default);t.SkipButton=_;var S=(0,l.default)(h.default);t.Timeline=S;var T=(0,l.default)(a.default);t.TimeDisplay=T;var w=(0,l.default)(v.default);t.TimelineInformation=w;var x=(0,l.default)(p.default);t.GotoLiveButton=x;var O=(0,l.default)(g.default);t.PipButton=O;var P=(0,l.default)(m.default);t.AirPlayButton=P;var C=(0,l.default)(f.default);t.Volume=C;var A=(0,l.default)(u.default);t.AudioSelector=A;var M=(0,l.default)(d.default);t.SubtitlesSelector=M;var I=(0,l.default)(o.default);t.QualitySelector=I;var R=(0,l.default)(s.default);t.BufferingIndicator=R;var D={AudioSelector:(0,l.default)((0,y.default)(u.default)),SubtitlesSelector:(0,l.default)((0,y.default)(d.default)),Volume:(0,l.default)((0,y.default)(f.default))};t.SettingsStorage=D},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFullscreenElement=function(){return document.fullScreenElement||document.fullscreenElement||document.webkitFullscreenElement||document.webkitFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement},t.enterFullscreen=function(e){if(e.requestFullscreen)return e.requestFullscreen(),!0;if(e.mozRequestFullScreen)return e.mozRequestFullScreen(),!0;if(e.msRequestFullscreen)return e.msRequestFullscreen(),!0;if(e.webkitRequestFullscreen)return e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),!0;if(e.webkitRequestFullScreen)return e.webkitRequestFullScreen(),!0;if(navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&(e=e.getElementsByTagName("video")[0]))return e.webkitEnterFullscreen(),!0;return!1},t.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitExitFullScreen?document.webkitExitFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},t.notifyFullscreenChange=function(e){var t=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"];return t.forEach((function(t){document.addEventListener(t,e)})),function(){t.forEach((function(t){document.removeEventListener(t,e)}))}}},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(238))&&l.__esModule?l:{default:l};function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),h(a(i),"resizeObserver",void 0),h(a(i),"onRef",(function(e){i.resizeObserver&&i.resizeObserver.disconnect(),e&&i.props.configuration&&Array.isArray(i.props.configuration.responsivenessRules)&&i.props.configuration.responsivenessRules.length>0&&(i.resizeObserver||(i.resizeObserver=new c.default((function(e){var t,r=f(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;i.onSizeChange(n.contentRect)}}catch(a){r.e(a)}finally{r.f()}}))),i.resizeObserver.observe(e)),i.props.onRef&&i.props.onRef(e)})),h(a(i),"onSizeChange",(function(e){var t=e.width,r=e.height;if(t>0&&r>0&&i.props.configuration&&Array.isArray(i.props.configuration.responsivenessRules)){var n=i.props.configuration.responsivenessRules.filter((function(e){var n=e.width,i=e.height;return(!n||!(n.min&&t<=n.min||n.max&&t>n.max))&&(!i||!(i.min&&r<=i.min||i.max&&r>i.max))})).map((function(e){return e.className}));i.setState({responsiveClassNames:n})}})),i.state={responsiveClassNames:[]},i}return i(r,[{key:"render",value:function(){return this.props.render({onRef:this.onRef,responsiveClassNames:this.state.responsiveClassNames})}}]),r}(u.Component);t.default=g},function(e,t,r){"use strict";r.r(t),function(e){var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&l()}function s(){a(o)}function l(){var e=Date.now();if(r){if(e-i<2)return;n=!0}else r=!0,n=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;o.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=v(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+f(e["border-"+r+"-width"])}),0)}function h(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return d;var n=c(e).getComputedStyle(e),i=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],a=e["padding-"+i];t[i]=f(a)}return t}(n),a=i.left+i.right,o=i.top+i.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==t&&(s-=p(n,"left","right")+a),Math.round(l+o)!==r&&(l-=p(n,"top","bottom")+o)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+a)-t,h=Math.round(l+o)-r;1!==Math.abs(u)&&(s-=u),1!==Math.abs(h)&&(l-=h)}return v(i.left,i.top,s,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return n?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):h(e):d}function v(e,t,r,n){return{x:e,y:t,width:r,height:n}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var r=function(e){var t=e.x,r=e.y,n=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return u(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}(t);u(this,{target:e,contentRect:r})},k=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),E="undefined"!==typeof WeakMap?new WeakMap:new r,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),n=new k(t,r,this);E.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){_.prototype[e]=function(){var t;return(t=E.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:_;t.default=S}.call(this,r(48))},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.focusElement=function(e,t,r,n){for(var i=(t?r.slice(0).reverse():r).concat(n),a=0;a<i.length;a++)if(i[a]===document.activeElement)if(e){if(a>0)for(var o=a-1;o>=0;o--){var s=i[o];if(s)return s.focus(),s}}else if(a<i.length-1)for(var l=a+1;l<i.length;l++){var u=i[l];if(u)return u.focus(),u}},t.SelectorItem=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=r(9);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return e.selectorItem},p=function(e){return e.selectorItemSelected||e.selectorItem},h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),d(a(e),"handleRef",(function(t){e.props.onRef(t,e.props.index)})),d(a(e),"handleClick",(function(){return e.props.onSelect&&e.props.onSelect(e.props.item.data)})),d(a(e),"handleKeyDown",(0,u.getKeyboardShortcutBlocker)(["Enter"," "])),d(a(e),"handleKeyUp",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.handleClick())})),e}return i(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.classNamePrefix,n=e.classes,i=e.defaultItemClassName,a=e.item,o=e.isSelected,s=e.canReceiveFocus,c=e.selectedClassName,d=a.label,h=(0,u.hydrateClassNames)({classes:n,classNamePrefix:r,selectClasses:o?p:f,classNames:[t,i,o?c:null]}),g=s?0:void 0;return l.createElement("div",{role:"option","aria-selected":o,className:h,ref:this.handleRef,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:g},l.createElement("div",{tabIndex:-1},d))}}]),r}(l.Component);t.SelectorItem=h},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(t){e.props.setProperties&&e.props.setProperties({isPipActive:t})})),e}return i(r,[{key:"render",value:function(){if(this.props.isPipAvailable){var e=this.props,t=e.isPipActive,r=e.pipActiveContent,n=e.pipInactiveContent,i=e.label,a=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:a,isOn:t,className:"pip-button",label:i,onToggle:this.handleToggle,toggledOnContent:r,toggledOffContent:n})}return null}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(h,"streamStateKeysForObservation",["isPipAvailable","isPipActive"]),h.displayName="PipButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=(l=r(49))&&l.__esModule?l:{default:l},d=r(9);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),p(a(e),"handleToggle",(function(){e.props.setProperties&&e.props.setProperties({isAirPlayTargetPickerVisible:!0})})),e}return i(r,[{key:"render",value:function(){if(this.props.isAirPlayAvailable){var e=this.props,t=e.isAirPlayActive,r=e.airPlayActiveContent,n=e.airPlayInactiveContent,i=e.label,a=e.classNamePrefix;return u.createElement(c.default,{classNamePrefix:a,isOn:t,className:"airplay-button",label:i,onToggle:this.handleToggle,toggledOnContent:r,toggledOffContent:n})}return null}}]),r}(u.Component);p(h,"defaultProps",{classNamePrefix:d.defaultClassNamePrefix}),p(h,"streamStateKeysForObservation",["isAirPlayAvailable","isAirPlayActive"]),h.displayName="AirPlayButton";var g=h;t.default=g},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),l=r(9);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"render",value:function(){var e=this.props,t=e.absoluteStartPosition,r=e.duration,n=e.playMode,i=e.previewValue,a=e.isDragging,o=e.isPointerInside,u=e.classNamePrefix,c=function(e,t,r){return null!=r?"livedvr"===e&&t instanceof Date&&t.getTime()>0?(0,l.formatClockTime)(new Date(t.getTime()+1e3*r)):(0,l.formatTime)(r):""}(n,t,i),d=((i||0)/(r||1)*100).toFixed(2),f=(0,l.prefixClassNames)(u,"timeline-information"),p=(0,l.prefixClassNames)(u,"timeline-tooltip",a||o?"timeline-tooltip-visible":null);return s.createElement("div",{className:f},s.createElement("div",{className:p,style:{left:"".concat(d,"%")}},c))}}]),r}(s.Component);c(d,"streamStateKeysForObservation",["absoluteStartPosition","duration","playMode"]),c(d,"defaultProps",{classNamePrefix:l.defaultClassNamePrefix}),d.displayName="TimelineInformation";var f=d;t.default=f},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return e&&e.userSettings&&e.userSettings.storageKey&&e.userSettings.settingsStoragePolicy},h=function(e,t){try{var r=e.getItem(t);return r?JSON.parse(r):{}}catch(n){return{}}},g=function(e,t,r,n,i){switch(e[t]){case"local":return void i(n);case"session":return void i(r);default:return}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.localStorage,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.sessionStorage,u=function(u){o(v,u);var m=s(v);function v(){var e;n(this,v);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=m.call.apply(m,[this].concat(o)),f(a(e),"setProperties",(function(n){e.props.setProperties&&e.props.setProperties(n);var i=e.props.configuration&&e.props.configuration.userSettings;if(i){var a=i.storageKey,o=i.settingsStoragePolicy;if(a&&o){var s=h(t,a),l=h(r,a);if("isMuted"in n&&g(o,"isMuted",l,s,(function(e){return e.isMuted=!!n.isMuted})),"number"===typeof n.volume&&g(o,"volume",l,s,(function(e){return e.volume=n.volume})),"selectedTextTrack"in n&&(g(o,"textTrackLanguage",l,s,(function(e){n.selectedTextTrack?n.selectedTextTrack.language&&(e.textTrackLanguage=n.selectedTextTrack.language):delete e.textTrackLanguage})),g(o,"textTrackKind",l,s,(function(e){n.selectedTextTrack?n.selectedTextTrack.kind&&(e.textTrackKind=n.selectedTextTrack.kind):delete e.textTrackKind}))),"selectedAudioTrack"in n&&(g(o,"audioTrackLanguage",l,s,(function(e){n.selectedAudioTrack&&n.selectedAudioTrack.language&&(e.audioTrackLanguage=n.selectedAudioTrack.language)})),g(o,"audioTrackKind",l,s,(function(e){n.selectedAudioTrack&&n.selectedAudioTrack.kind&&(e.audioTrackKind=n.selectedAudioTrack.kind)}))),Object.keys(s).length>0)try{t.setItem(a,JSON.stringify(s))}catch(u){}if(Object.keys(l).length>0)try{r.setItem(a,JSON.stringify(l))}catch(u){}}}})),e}return i(v,[{key:"render",value:function(){var t=this.props,r=(t.configuration,d(t,["configuration"]));return p(this.props.configuration)?l.createElement(e,c({},r,{setProperties:this.setProperties})):l.createElement(e,r)}}]),v}(l.Component);return f(u,"streamStateKeysForObservation",e.streamStateKeysForObservation),u.displayName="SettingsStorage"+(e.displayName||e.name),u};t.default=m},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0));function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"render",value:function(){var e=this;return this.props.configuration?s.Children.map(this.props.children,(function(t){var r=function(e){var t=e&&e.type&&(e.type.displayName||e.type.name);if(t){var r=0===t.indexOf("Connected")?9:0;return t.indexOf("SettingsStorage")===r&&(r+=15),t.charAt(r).toLowerCase()+t.substr(r+1)}}(t);if(!r||e.props.configuration&&e.props.configuration.indexOf(r)>=0)return t})):this.props.children}}]),r}(s.Component);t.default=u},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(12),o=r(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getPreferredSettingsApplicator=void 0;var s,l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=(s=r(66))&&s.__esModule?s:{default:s};function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){},g=function(e,t,r,n,i){if(r!==n&&Array.isArray(n)&&n.length>0)return function(e,t,r,n){if(Array.isArray(r)&&r.length>n)return r.filter((function(r){return r.language===e&&r.kind===t}))[0]||r.filter((function(t){return t.language===e}))[0]||r.filter((function(e){return e.kind===t}))[0]}(e,t,n,i)},m=function(e,t,r,n){var i=t.configuration,a=t.playState,o=t.audioTracks,s=t.textTracks,l=t.volume,u=t.isMuted,c=t.textTrackLanguage,d=t.textTrackKind,p=t.audioTrackLanguage,h=t.audioTrackKind,m=t.setProperties,v={};null!=l&&(v.volume=l),null!=u&&(v.isMuted=u),null!=c&&(v.textTrackLanguage=c),null!=d&&(v.textTrackKind=d),null!=p&&(v.audioTrackLanguage=p),null!=h&&(v.audioTrackKind=h);var y=function(e,t,r,n){var i=e&&e.userSettings,a=i&&i.storageKey;if(i&&a){var o={},s={};try{s=JSON.parse(n.getItem(a)||"{}")}catch(l){}try{o=JSON.parse(r.getItem(a)||"{}")}catch(l){}return i.hasPrecedence?f({},t,{},o,{},s):f({},o,{},s,{},t)}return t}(i,v,r,n),b=function(e,t,r,n,i,a,o){var s={};t!==e&&"starting"===t&&(null!=o.volume&&(s.volume=o.volume),null!=o.isMuted&&(s.isMuted=o.isMuted));var l=g(o.audioTrackLanguage,o.audioTrackKind,r,i,1);l&&(s.selectedAudioTrack=l);var u=g(o.textTrackLanguage,o.textTrackKind,n,a,0);return u&&(s.selectedTextTrack=u),s}(e.playState,a,e.audioTracks,e.textTracks,o,s,y);Object.keys(b).length>0&&m(b)},v=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.sessionStorage;return t=e=function(e){a(l,e);var t=o(l);function l(){return n(this,l),t.apply(this,arguments)}return i(l,[{key:"componentDidMount",value:function(){m({setProperties:h},this.props,r,s)}},{key:"componentDidUpdate",value:function(e){m(e,this.props,r,s)}},{key:"render",value:function(){return null}}]),l}(l.Component),p(e,"streamStateKeysForObservation",["playState","textTracks","audioTracks"]),t};t.getPreferredSettingsApplicator=v;var y=(0,u.default)(v());t.default=y},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,r){var n=r(95),i=r(134);function a(t,r,o){return i()?e.exports=a=Reflect.construct:e.exports=a=function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&n(a,r.prototype),a},a.apply(null,arguments)}e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Date(0);function i(e){return e.seekable.length>0?e.seekable.start(0):0}var a=function(e,t){var r=t&&t.liveEdgeMargin||10;return{adjustForDvrStartOffset:function(){if(e&&e.paused&&e.duration===1/0){var t=i(e);t!==1/0&&t>=e.currentTime&&(e.currentTime=t+10)}},calculateNewState:function(){var t=function(e){return e.seekable.length>0?e.seekable.end(0)-e.seekable.start(0):0}(e),a=e.duration===1/0,o=function(e){return e.currentTime-(e.seekable.length>0?e.seekable.start(0):0)}(e),s=function(e,t,r){return t?r:e.duration}(e,a,t),l=function(e,t,r){return r?t===1/0||0===t||t<100?"live":"livedvr":"ondemand"}(0,t,a),u=a&&o>s-r,c=function(e,t,r){if(t){var a=e.getStartDate&&e.getStartDate();if(isNaN(a)){var o=new Date,s=new Date(o.getTime()-1e3*r);return{absolutePosition:o,absoluteStartPosition:s}}return{absolutePosition:new Date(a.getTime()+1e3*e.currentTime),absoluteStartPosition:new Date(a.getTime()+1e3*i(e))}}return{absolutePosition:n,absoluteStartPosition:n}}(e,a,o);return{position:o,duration:s,playMode:l,isAtLiveEdge:u,absolutePosition:c.absolutePosition,absoluteStartPosition:c.absoluteStartPosition}},setPosition:function(t){isNaN(t)&&t===1/0||(e.currentTime=i(e)+t)},gotoLive:function(){e.duration===1/0&&e.seekable.length>0&&(e.currentTime=e.seekable.end(0))}}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(52),a=r(9),o=(n=r(50))&&n.__esModule?n:{default:n};var s=["disabled","hidden","showing"];function l(e){var t=e.mode;return"number"===typeof t?s[t]:t}function u(e,t){e.mode="number"===typeof e.mode?s.indexOf(t):t}function c(e,t){return Number.isNaN(e)&&Number.isNaN(t)||null==e&&null==t||e===t}function d(e,t,r){return{id:e,kind:r.kind||"",label:r.label||"",language:r.language||"",origin:t}}var f=function(e,t,r){var n=[],s=null,f=i.emptyTracks,p=0,h=window.VTTCue||window.TextTrackCue;function g(){s=n.filter((function(e){return null!=e.videoElementTrack&&"showing"===l(e.videoElementTrack)})).map((function(e){return e.selectableTrack}))[0];var e=n.filter((function(e){return e.selectableTrack})).map((function(e){return e.selectableTrack}));(0,a.isShallowEqual)(e,f)?t({currentTextTrack:s,textTracks:f}):(f=e,t({currentTextTrack:s,textTracks:e}))}function m(t){if(Array.isArray(t)){e.textTracks.removeEventListener("addtrack",b),e.textTracks.removeEventListener("removetrack",k);var i=t.filter((function(e){var t=n.filter((function(t){return function(e,t){if(e&&t){if(e.cues&&t.cues){var r=e.cues,n=t.cues;if(r.length===n.length)if(r.filter((function(e,t){return e.start===n[t].start&&e.end===n[t].end&&e.content===n[t].content})).length!==r.length)return!1}return c(e.language,t.language)&&c(e.kind,t.kind)&&c(e.label,t.label)&&c(e.src,t.src)}return c(e,t)}(t.sourceTrack,e)&&!t.isBlacklisted}));if(0===t.length)return!0;var r=t[0];return r.sourceTrack=e,r.isBlacklisted=!1,r.isLoaded=!0,!1})).map((function(t){var r=++p;if(Array.isArray(t.cues)){var n=t.cues,i=e.addTextTrack(t.kind||"subtitles",t.label,t.language);return n.forEach((function(e){i.addCue(new h(e.start,e.end,e.content))})),{id:r,sourceTrack:t,isBlacklisted:!1,videoElementTrack:i,selectableTrack:d(r,"side-loaded",i),loadPromise:Promise.resolve(i),isLoaded:!0}}var a={src:t.src,srclang:t.language,kind:t.kind||"subtitles",label:t.label},o=new Promise((function(e){a.onRef=function(t){var r=t;if(r){u(r.track,"hidden");var n=function t(){r.removeEventListener("load",t),r.removeEventListener("error",i),e(r.track)},i=function t(i){r.removeEventListener("load",n),r.removeEventListener("error",t),e()};r.addEventListener("load",n),r.addEventListener("error",i)}}})),s={id:r,sourceTrack:t,isBlacklisted:!1,videoElementTrack:void 0,selectableTrack:void 0,trackElementData:a,loadPromise:o,isLoaded:!1};return o.then((function(e){null!=e&&(s.videoElementTrack=e,s.selectableTrack=d(r,"side-loaded",e)),s.isLoaded=!0})),s}));return n=n.concat(i),r(n.filter((function(e){return e.trackElementData&&!e.isBlacklisted})).map((function(e){return e.trackElementData}))),Promise.all(i.map((function(e){return e.loadPromise}))).then((function(){e.textTracks.addEventListener("addtrack",b),e.textTracks.addEventListener("removetrack",k),g()}))}return Promise.resolve()}function v(e){if(0!==e.length||0!==n.length){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);var i=n.filter((function(e){return t.indexOf(e.videoElementTrack)>=0}));if(t.length>i.length){var a=t.filter((function(e){return("metadata"!==(t=e).kind&&!("inBandMetadataTrackDispatchType"in t)||t.cues&&t.cues.length||t.label||t.language)&&0===i.filter((function(t){return e===t.videoElementTrack})).length;var t})).map((function(e){var t=++p;return{id:t,sourceTrack:null,videoElementTrack:e,isBlacklisted:!1,selectableTrack:d(t,"in-stream",e),isLoaded:!0}}));n=i.concat(a)}else n=i}}function y(t){v(e.textTracks),n.forEach((function(e){if((t||null!=e.sourceTrack)&&(e.isBlacklisted=!0),null!=e.videoElementTrack&&t){var r=e.videoElementTrack;if(r.cues)for(;r.cues.length;)r.removeCue(r.cues[0]);u(r,"disabled")}e.selectableTrack=null})),f=i.emptyTracks,r([])}function b(){v(e.textTracks),g()}function k(){v(e.textTracks),g()}return e.textTracks.addEventListener("addtrack",b),e.textTracks.addEventListener("removetrack",k),{handleSelectedTextTrackChange:function(e){if(n.filter((function(e){return e.videoElementTrack&&"showing"===l(e.videoElementTrack)})).forEach((function(e){return e.videoElementTrack&&u(e.videoElementTrack,"hidden")})),e){var t=n.filter((function(t){return t.selectableTrack===e}))[0];t&&t.videoElementTrack&&u(t.videoElementTrack,"showing")}g()},handleTextTracksPropChange:function(e){y(!1),m(e.source&&Array.isArray(e.textTracks)?e.textTracks:[])},handleSourcePropChange:function(t){v(e.textTracks);var r=t.source&&Array.isArray(t.textTracks)?t.textTracks:[],n=(0,o.default)(t.source);n&&n.textTracks?m(r.concat(n.textTracks)):m(r)},clear:function(){y(!0)},cleanup:function(){e.textTracks.removeEventListener("addtrack",b),e.textTracks.removeEventListener("removetrack",k)}}};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=0,i=function(e){return{selectableTrack:{id:null==e.id?"audio-".concat(++n):e.id,language:e.language||"",kind:e.kind||"",label:e.label||"",origin:"in-stream"},videoElementTrack:e}},a=function(e,t){var r=[];function n(e){var n=e||r.filter((function(e){return e.videoElementTrack.enabled})).map((function(e){return e.selectableTrack}))[0]||null;t({audioTracks:r.map((function(e){return e.selectableTrack})),currentAudioTrack:n})}function a(){r=e.audioTracks?Array.from(e.audioTracks).map(i):[],n()}function o(){n()}function s(){a()}return e.audioTracks&&(e.audioTracks.addEventListener("addtrack",a),e.audioTracks.addEventListener("change",o),e.audioTracks.addEventListener("removetrack",a)),s(),{cleanup:function(){e.audioTracks&&(e.audioTracks.removeEventListener("addtrack",a),e.audioTracks.removeEventListener("change",o),e.audioTracks.removeEventListener("removetrack",a)),r=[]},handleSourceChange:s,handleSelectedAudioTrackChange:function(e){var t=r.filter((function(t){return t.selectableTrack===e}))[0];t&&(t.videoElementTrack.enabled=!0)}}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(35),i=["(unknown)","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],a=function(e){var t=navigator.userAgent.match(/Mac OS X.*Safari/)&&!navigator.userAgent.match(/(Chrome)/),r=navigator.userAgent.match(/(iPad|iPhone|iPod)/i),a="STREAM_ERROR",o=e.error||new Error("Unknown video element error."),s="number"===typeof o.code?i[o.code]:i[0];return"MEDIA_ERR_DECODE"===s||"MEDIA_ERR_SRC_NOT_SUPPORTED"===s?a=r||t?"STREAM_ERROR_DOWNLOAD":"STREAM_ERROR_DECODE":"MEDIA_ERR_NETWORK"===s&&(a="STREAM_ERROR_DOWNLOAD"),new n.PlaybackError(a,"html","".concat(s,": ").concat(o.message||""),"FATAL",o)};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(308),a=s(r(253)),o=s(r(164));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var u={playPauseButton:{playingContent:n.createElement(i.Pause,null),pausedContent:n.createElement(i.Play,null)},skipButton:{content:n.createElement(n.Fragment,null,n.createElement("span",null,n.createElement(i.RotateCcw,null)),n.createElement("span",null,o.default.skipButton.seconds))},timeline:{handleContent:"",trackContent:n.createElement("div",null)},gotoLiveButton:{isAtLiveEdgeContent:n.createElement("span",null,o.default.gotoLiveButton.isLive),isNotAtLiveEdgeContent:n.createElement("span",null,o.default.gotoLiveButton.gotoLive)},volume:{unmutedContent:n.createElement(i.Volume2,null),mutedContent:n.createElement(i.VolumeX,null),volumeSliderHandleContent:""},audioSelector:{toggleContent:n.createElement(i.MessageSquare,null)},subtitlesSelector:{toggleContent:n.createElement(i.Type,null)},qualitySelector:{toggleContent:n.createElement(i.Settings,null)},pipButton:{pipActiveContent:n.createElement(i.Square,null),pipInactiveContent:n.createElement(i.Copy,null)},airPlayButton:{airPlayActiveContent:n.createElement(i.Airplay,null),airPlayInactiveContent:n.createElement(i.Airplay,null)},fullscreenButton:{normalContent:n.createElement(i.Maximize,null),fullscreenContent:n.createElement(i.Minimize,null)},bufferingIndicator:{content:n.createElement(a.default,null),renderStrategy:"always"},playbackMonitor:{closeButtonContent:n.createElement(i.XCircle,null)},exitButton:{content:n.createElement(i.XCircle,null)}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(0));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var a=function(){return n.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 38 38",stroke:"currentColor"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},n.createElement("circle",{stroke:"currentColor",strokeOpacity:"0.5",cx:"18",cy:"18",r:"18"}),n.createElement("path",{className:"animated",d:"M36 18c0-9.94-8.06-18-18-18"}))))};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AudioSelector",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"BufferingIndicator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ControlsBar",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ExitButton",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"FullscreenButton",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"GotoLiveButton",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"PlaybackMonitor",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PlayPauseButton",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"QualitySelector",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"SkipButton",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"SubtitlesSelector",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"TimeDisplay",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"Timeline",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"Volume",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"Selector",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"Slider",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"ToggleButton",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"AspectRatio",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"Fullscreen",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"InteractionDetector",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"KeyboardShortcuts",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"PlayerStateClassNames",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"BasicVideoStreamer",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"MockVideoStreamer",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"PlayerController",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"ControlledVideoStreamer",{enumerable:!0,get:function(){return A.ControlledVideoStreamer}}),Object.defineProperty(t,"connectControl",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"PlayerUIContainer",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"getConnectedPlayerUIContainer",{enumerable:!0,get:function(){return M.getConnectedPlayerUIContainer}}),Object.defineProperty(t,"playerStateClassNameBuilder",{enumerable:!0,get:function(){return R.default}}),t.common=void 0;var n=j(r(156)),i=j(r(155)),a=j(r(139)),o=j(r(142)),s=j(r(141)),l=j(r(160)),u=j(r(143)),c=j(r(157)),d=j(r(154)),f=j(r(152)),p=j(r(158)),h=j(r(153)),g=j(r(161)),m=j(r(159)),v=j(r(78)),y=j(r(140)),b=j(r(79)),k=j(r(97)),E=j(r(49)),_=j(r(147)),S=j(r(146)),T=j(r(148)),w=j(r(149)),x=j(r(150)),O=j(r(80)),P=j(r(255)),C=j(r(132)),A=L(r(66)),M=L(r(145)),I=L(r(9));t.common=I;var R=j(r(151));function D(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return D=function(){return e},e}function L(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=D();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function j(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";var n=r(11),i=r(15),a=r(17),o=r(12),s=r(13),l=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=r(9);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=[{kind:"subtitles",label:"Finnish subtitles",language:"fi",origin:"side-loaded"},{kind:"subtitles",label:"Swedish subtitles",language:"sv",origin:"side-loaded"}],v=[{label:"Director's comments",language:"en"},{label:"Main audio",language:"en"}],y={playMode:"ondemand",playState:"playing",isPaused:!1,isBuffering:!1,isSeeking:!1,position:123,duration:456,absolutePosition:new Date(0),absoluteStartPosition:new Date(0),volume:.7,isMuted:!1,isPipAvailable:!0,isPipActive:!1,isAirPlayAvailable:!0,isAirPlayActive:!1,bufferedAhead:12,bitrates:[512,1024,2048,4096],currentBitrate:2048,bitrateFix:NaN,bitrateCap:1/0,textTracks:m,currentTextTrack:m[0],audioTracks:v,currentAudioTrack:v[0],isAtLiveEdge:!1,error:void 0},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&Object.entries(y).forEach((function(r){e(l({},r[0],r[0]in t?t[r[0]]:r[1]))}))},k=function(e){o(r,e);var t=s(r);function r(){var e;n(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),g(a(e),"modifiedStreamState",{}),g(a(e),"updateStreamState",(function(t){var r=t.selectedTextTrack,n=t.selectedAudioTrack,i=h(t,["selectedTextTrack","selectedAudioTrack"]);"selectedTextTrack"in t&&(i.currentTextTrack=r),"selectedAudioTrack"in t&&(i.currentAudioTrack=n),e.modifiedStreamState=p({},e.modifiedStreamState,{},i),null!=e.props.onStreamStateChange&&e.props.onStreamStateChange(i)})),e}return i(r,[{key:"componentDidMount",value:function(){var e=this;if(this.props.initialPlaybackProps){var t=this.props.initialPlaybackProps,r=t.isPaused,n=t.isMuted,i=t.volume,a=t.bitrateCap,o=t.bitrateFix;this.updateStreamState({isPaused:r,isMuted:n,volume:i,bitrateCap:a,bitrateFix:o})}window.updateVideoState=this.updateStreamState,this.props.onReady&&(this.props.onReady({setProperties:function(t){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;setTimeout((function(){return e&&e(t)}),r)}(e.updateStreamState,t,Math.round(1e3*Math.random()))},thirdPartyPlayer:null,play:function(){return e.updateStreamState({isPaused:!1}),Promise.resolve()}}),b(this.props.onStreamStateChange,this.props.initialMockState))}},{key:"componentDidUpdate",value:function(e){this.props.onStreamStateChange!==e.onStreamStateChange&&b(this.props.onStreamStateChange,this.modifiedStreamState)}},{key:"render",value:function(){return u.createElement("div",{className:(0,c.prefixClassNames)(this.props.classNamePrefix,"video-streamer","mock-video-streamer",this.props.className)},u.createElement("div",null,this.props.children||"Mock video player"))}}]),r}(u.Component);g(k,"defaultProps",{classNamePrefix:c.defaultClassNamePrefix});var E=k;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(257));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,i(r(258)).default)(n.default);window.shaka=n.default;var o=a;t.default=o},function(module,exports,__webpack_require__){(function(global){!function(){var innerGlobal="undefined"!=typeof window?window:global,exportTo={};for(var k in function(window,global,module){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,t){var r=$jscomp.propertyToPolyfillSymbol[t];return null==r?e[t]:void 0!==(r=e[r])?r:e[t]};$jscomp.polyfill=function(e,t,r,n){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,r,n):$jscomp.polyfillUnisolated(e,t,r,n))},$jscomp.polyfillUnisolated=function(e,t,r,n){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var i=e[n];if(!(i in r))return;r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})},$jscomp.polyfillIsolated=function(e,t,r,n){var i=e.split(".");e=1===i.length,n=i[0],n=!e&&n in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var a=0;a<i.length-1;a++){var o=i[a];if(!(o in n))return;n=n[o]}i=i[i.length-1],null!=(t=t(r=$jscomp.IS_SYMBOL_NATIVE&&"es6"===r?n[i]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,i,{configurable:!0,writable:!0,value:t}):t!==r&&(void 0===$jscomp.propertyToPolyfillSymbol[i]&&(r=1e9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[i]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(i):$jscomp.POLYFILL_PREFIX+r+"$"+i),$jscomp.defineProperty(n,$jscomp.propertyToPolyfillSymbol[i],{configurable:!0,writable:!0,value:t})))},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",(function(e){if(e)return e;var t=function(e,t){this.$jscomp$symbol$id_=e,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})};t.prototype.toString=function(){return this.$jscomp$symbol$id_};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",n=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(r+(i||"")+"_"+n++,i)}}),"es6","es3"),$jscomp.polyfill("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var n=$jscomp.global[t[r]];"function"===typeof n&&"function"!=typeof n.prototype[e]&&$jscomp.defineProperty(n.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return e}),"es6","es3"),$jscomp.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e},$jscomp.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},$jscomp.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.arrayFromIterator=function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},$jscomp.getConstructImplementation=function(){if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function e(){}return new e,Reflect.construct(e,[],(function(){})),new e instanceof e}())return Reflect.construct;var e=Reflect.construct;return function(t,r,n){return t=e(t,r),n&&Reflect.setPrototypeOf(t,n.prototype),t}}return function(e,t,r){return void 0===r&&(r=e),r=$jscomp.objectCreate(r.prototype||Object.prototype),Function.prototype.apply.call(e,r,t)||r}},$jscomp.construct=$jscomp.getConstructImplementation(),$jscomp.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(t){}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.inherits=function(e,t){if(e.prototype=$jscomp.objectCreate(t.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var r=$jscomp.setPrototypeOf;r(e,t)}else for(r in t)if("prototype"!=r)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}else e[r]=t[r];e.superClass_=t.prototype},$jscomp.generator={},$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1},$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e},$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},$jscomp.generator.Context.prototype.yieldAll=function(e,t){var r=$jscomp.makeIterator(e),n=r.next();if($jscomp.generator.ensureIteratorResultIsObject_(n),!n.done)return this.yieldAllIterator_=r,this.yield(n.value,t);this.yieldResult=n.value,this.nextAddress=t},$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,void 0!=t&&(this.finallyAddress_=t)},$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},$jscomp.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},$jscomp.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,t,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,t){var r=this.finallyContexts_.splice(t||0)[0];if(r=this.abruptCompletion_=this.abruptCompletion_||r){if(r.isException)return this.jumpToErrorHandler_();void 0!=r.jumpTo&&this.finallyAddress_<r.jumpTo?(this.nextAddress=r.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)},$jscomp.generator.Context.PropertyIterator=function(e){for(var t in this.object_=e,this.properties_=[],e)this.properties_.push(t);this.properties_.reverse()},$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context,this.program_=e},$jscomp.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(e){return{value:e,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,t,r){try{var n=e.call(this.context_.yieldAllIterator_,t);if($jscomp.generator.ensureIteratorResultIsObject_(n),!n.done)return this.context_.stop_(),n;var i=n.value}catch(a){return this.context_.yieldAllIterator_=null,this.context_.throw_(a),this.nextStep_()}return this.context_.yieldAllIterator_=null,r.call(this.context_,i),this.nextStep_()},$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},$jscomp.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},$jscomp.generator.createGenerator=function(e,t){var r=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(t));return $jscomp.setPrototypeOf&&e.prototype&&$jscomp.setPrototypeOf(r,e.prototype),r},$jscomp.asyncExecutePromiseGenerator=function(e){function t(t){return e.next(t)}function r(t){return e.throw(t)}return new Promise((function(n,i){!function e(a){a.done?n(a.value):Promise.resolve(a.value).then(t,r).then(e,i)}(e.next())}))},$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())},$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))},$jscomp.polyfill("Reflect",(function(e){return e||{}}),"es6","es3"),$jscomp.polyfill("Reflect.construct",(function(e){return $jscomp.construct}),"es6","es3"),$jscomp.polyfill("Reflect.setPrototypeOf",(function(e){if(e)return e;if($jscomp.setPrototypeOf){var t=$jscomp.setPrototypeOf;return function(e,r){try{return t(e,r),!0}catch(n){return!1}}}return null}),"es6","es5"),$jscomp.polyfill("Promise",(function(e){function t(){this.batch_=null}function r(e){return e instanceof i?e:new i((function(t,r){t(e)}))}if(e&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return e;t.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var t=this;this.asyncExecuteFunction((function(){t.executeBatch_()}))}this.batch_.push(e)};var n=$jscomp.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){n(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(n){this.asyncThrow_(n)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction((function(){throw e}))};var i=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(k){t.reject(k)}};i.prototype.createResolveAndReject_=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},i.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof i)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},i.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(k){return void this.reject_(k)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},i.prototype.reject_=function(e){this.settle_(2,e)},i.prototype.fulfill_=function(e){this.settle_(1,e)},i.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,2===this.state_&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},i.prototype.scheduleUnhandledRejectionCheck_=function(){var e=this;n((function(){if(e.notifyUnhandledRejection_()){var t=$jscomp.global.console;"undefined"!==typeof t&&t.error(e.result_)}}),1)},i.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var e=$jscomp.global.CustomEvent,t=$jscomp.global.Event,r=$jscomp.global.dispatchEvent;return"undefined"===typeof r||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=$jscomp.global.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.result_,r(e))},i.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)a.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var a=new t;return i.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},i.prototype.settleSameAsThenable_=function(e,t){var r=this.createResolveAndReject_();try{e.call(t,r.resolve,r.reject)}catch(n){r.reject(n)}},i.prototype.then=function(e,t){function r(e,t){return"function"==typeof e?function(t){try{n(e(t))}catch(r){a(r)}}:t}var n,a,o=new i((function(e,t){n=e,a=t}));return this.callWhenSettled_(r(e,n),r(t,a)),o},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.callWhenSettled_=function(e,t){function r(){switch(n.state_){case 1:e(n.result_);break;case 2:t(n.result_);break;default:throw Error("Unexpected state: "+n.state_)}}var n=this;null==this.onSettledCallbacks_?a.asyncExecute(r):this.onSettledCallbacks_.push(r),this.isRejectionHandled_=!0},i.resolve=r,i.reject=function(e){return new i((function(t,r){r(e)}))},i.race=function(e){return new i((function(t,n){for(var i=$jscomp.makeIterator(e),a=i.next();!a.done;a=i.next())r(a.value).callWhenSettled_(t,n)}))},i.all=function(e){var t=$jscomp.makeIterator(e),n=t.next();return n.done?r([]):new i((function(e,i){function a(t){return function(r){o[t]=r,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(n.value).callWhenSettled_(a(o.length-1),i),n=t.next()}while(!n.done)}))},i}),"es6","es3"),$jscomp.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new $jscomp.global.Proxy(e,{get:function(r,n,i){return r==e&&"q"==n&&i==t}}));return!0===t.q}catch(r){return!1}},$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy(),$jscomp.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},$jscomp.polyfill("WeakMap",(function(e){function t(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function n(e){if(!$jscomp.owns(e,a)){var r=new t;$jscomp.defineProperty(e,a,{value:r})}}function i(e){if(!$jscomp.ISOLATE_POLYFILLS){var r=Object[e];r&&(Object[e]=function(e){return e instanceof t?e:(Object.isExtensible(e)&&n(e),r(e))})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),r=Object.seal({}),n=new e([[t,2],[r,3]]);return 2==n.get(t)&&3==n.get(r)&&(n.delete(t),n.set(r,4),!n.has(t)&&4==n.get(r))}catch(i){return!1}}())return e;var a="$jscomp_hidden_"+Math.random();i("freeze"),i("preventExtensions"),i("seal");var o=0,s=function(e){if(this.id_=(o+=Math.random()+1).toString(),e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}};return s.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(n(e),!$jscomp.owns(e,a))throw Error("WeakMap key fail: "+e);return e[a][this.id_]=t,this},s.prototype.get=function(e){return r(e)&&$jscomp.owns(e,a)?e[a][this.id_]:void 0},s.prototype.has=function(e){return r(e)&&$jscomp.owns(e,a)&&$jscomp.owns(e[a],this.id_)},s.prototype.delete=function(e){return!!(r(e)&&$jscomp.owns(e,a)&&$jscomp.owns(e[a],this.id_))&&delete e[a][this.id_]},s}),"es6","es3"),$jscomp.MapEntry=function(){},$jscomp.polyfill("Map",(function(e){if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(function(){if($jscomp.ASSUME_NO_NATIVE_MAP||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e($jscomp.makeIterator([[t,"s"]]));if("s"!=r.get(t)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=n.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!n.next().done)}catch(a){return!1}}())return e;var t=new WeakMap,r=function(e){if(this.data_={},this.head_=a(),this.size=0,e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}};r.prototype.set=function(e,t){var r=n(this,e=0===e?0:e);return r.list||(r.list=this.data_[r.id]=[]),r.entry?r.entry.value=t:(r.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},r.list.push(r.entry),this.head_.previous.next=r.entry,this.head_.previous=r.entry,this.size++),this},r.prototype.delete=function(e){return!(!(e=n(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,!0)},r.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=a(),this.size=0},r.prototype.has=function(e){return!!n(this,e).entry},r.prototype.get=function(e){return(e=n(this,e).entry)&&e.value},r.prototype.entries=function(){return i(this,(function(e){return[e.key,e.value]}))},r.prototype.keys=function(){return i(this,(function(e){return e.key}))},r.prototype.values=function(){return i(this,(function(e){return e.value}))},r.prototype.forEach=function(e,t){for(var r,n=this.entries();!(r=n.next()).done;)r=r.value,e.call(t,r[1],r[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var n=function(e,r){var n=r&&typeof r;"object"==n||"function"==n?t.has(r)?n=t.get(r):(n=""+ ++o,t.set(r,n)):n="p_"+r;var i=e.data_[n];if(i&&$jscomp.owns(e.data_,n))for(var a=0;a<i.length;a++){var s=i[a];if(r!==r&&s.key!==s.key||r===s.key)return{id:n,list:i,index:a,entry:s}}return{id:n,list:i,index:-1,entry:void 0}},i=function(e,t){var r=e.head_;return $jscomp.iteratorPrototype((function(){if(r){for(;r.head!=e.head_;)r=r.previous;for(;r.next!=r.head;)return r=r.next,{done:!1,value:t(r)};r=null}return{done:!0,value:void 0}}))},a=function(){var e={};return e.previous=e.next=e.head=e},o=0;return r}),"es6","es3"),$jscomp.polyfill("Set",(function(e){if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(function(){if($jscomp.ASSUME_NO_NATIVE_SET||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e($jscomp.makeIterator([t]));if(!r.has(t)||1!=r.size||r.add(t)!=r||1!=r.size||r.add({x:4})!=r||2!=r.size)return!1;var n=r.entries(),i=n.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=n.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&n.next().done)}catch(a){return!1}}())return e;var t=function(e){if(this.map_=new Map,e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.map_.size};return t.prototype.add=function(e){return e=0===e?0:e,this.map_.set(e,e),this.size=this.map_.size,this},t.prototype.delete=function(e){return e=this.map_.delete(e),this.size=this.map_.size,e},t.prototype.clear=function(){this.map_.clear(),this.size=0},t.prototype.has=function(e){return this.map_.has(e)},t.prototype.entries=function(){return this.map_.entries()},t.prototype.values=function(){return this.map_.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var r=this;this.map_.forEach((function(n){return e.call(t,n,n,r)}))},t}),"es6","es3"),$jscomp.polyfill("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}}),"es6","es3"),$jscomp.polyfill("Array.prototype.includes",(function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length,i=t||0;for(0>i&&(i=Math.max(i+n,0));i<n;i++){var a=r[i];if(a===e||Object.is(a,e))return!0}return!1}}),"es7","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.includes",(function(e){return e||function(e,t){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,t||0)}}),"es6","es3"),$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var a=e[i];if(t.call(r,a,i,e))return{i:i,v:a}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var r=0,n=!1,i={next:function(){if(!n&&r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i},$jscomp.polyfill("Array.prototype.values",(function(e){return e||function(){return $jscomp.iteratorFromArray(this,(function(e,t){return t}))}}),"es8","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";for(var n=r.length,i=e.length,a=Math.max(0,Math.min(0|t,r.length)),o=0;o<i&&a<n;)if(r[a++]!=e[o++])return!1;return o>=i}}),"es6","es3"),$jscomp.polyfill("Array.prototype.keys",(function(e){return e||function(){return $jscomp.iteratorFromArray(this,(function(e){return e}))}}),"es6","es3"),$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)$jscomp.owns(n,i)&&(e[i]=n[i])}return e},$jscomp.polyfill("Object.assign",(function(e){return e||$jscomp.assign}),"es6","es3"),$jscomp.polyfill("Array.from",(function(e){return e||function(e,t,r){t=null!=t?t:function(e){return e};var n=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)n.push(t.call(r,i.value,a++))}else for(i=e.length,a=0;a<i;a++)n.push(t.call(r,e[a],a));return n}}),"es6","es3"),$jscomp.polyfill("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}}),"es9","es3"),$jscomp.polyfill("Array.prototype.entries",(function(e){return e||function(){return $jscomp.iteratorFromArray(this,(function(e,t){return[e,t]}))}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3"),$jscomp.polyfill("Object.values",(function(e){return e||function(e){var t,r=[];for(t in e)$jscomp.owns(e,t)&&r.push(e[t]);return r}}),"es8","es3"),$jscomp.polyfill("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}}),"es6","es3"),$jscomp.polyfill("Object.entries",(function(e){return e||function(e){var t,r=[];for(t in e)$jscomp.owns(e,t)&&r.push([t,e[t]]);return r}}),"es8","es3");var COMPILED=!0,goog=goog||{};if(goog.global=this||self,goog.exportPath_=function(e,t,r,n){e=e.split("."),n=n||goog.global,e[0]in n||"undefined"==typeof n.execScript||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)if(e.length||void 0===t)n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={};else if(!r&&goog.isObject(t)&&goog.isObject(n[i]))for(var a in t)t.hasOwnProperty(a)&&(n[i][a]=t[a]);else n[i]=t},goog.define=function(e,t){var r=t;if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,i=goog.global.CLOSURE_DEFINES;n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)?r=n[e]:i&&void 0===i.nodeType&&Object.prototype.hasOwnProperty.call(i,e)&&(r=i[e])}return r},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t,r){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t,r)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if("string"!==typeof e||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&null!=goog.getObjectByName(e)},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var r=e.split("."),n=t||goog.global,i=0;i<r.length;i++)if(null==(n=n[r[i]]))return null;return n},goog.addDependency=function(e,t,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,n)},goog.ENABLE_DEBUG_LOADER=!1,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.TRUSTED_TYPES_POLICY_NAME="goog",goog.hasBadLetScoping=null,goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var r={},n=r;if("function"===typeof e)n=e.call(void 0,n);else{if("string"!==typeof e)throw Error("Invalid module definition");n=goog.loadModuleFromSource_.call(void 0,n,e)}var i=goog.moduleLoaderState_.moduleName;if("string"!==typeof i||!i)throw Error('Invalid module name "'+i+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(i,n,r!==n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof n&&null!=n&&Object.seal(n),goog.loadedModules_[i]={exports:n,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a,b){return eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(b)),a},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(r){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var i=n.transpile;if(!i){var a=goog.basePath+goog.TRANSPILER,o=goog.loadFileSync_(a);if(o){if(function(){(0,eval)(o+"\n//# sourceURL="+a)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=(n=goog.global.$jscomp).transpile}}return i||(i=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),i(e,t,r)},goog.typeOf=function(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"===typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=function(){return Date.now()},goog.globalEval=function(e){(0,eval)(e)},goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},n=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),r&&r.unescapeHtmlEntities&&(e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,!0,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[r].apply(e,i)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],t}:e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,r=goog.global.trustedTypes;if(!r||!r.createPolicy)return t;try{t=r.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(n){goog.logToConsole_(n.message)}return t},!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.isEdge_=function(){return!!(goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"").match(/Edge\/(\d+)(\.\d)*/i)},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(void 0!=goog.global.CLOSURE_BASE_PATH&&"string"===typeof goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(t=(e=t?[t]:e.getElementsByTagName("SCRIPT")).length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(f){try{return!!eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(f))}catch(g){return!1}}var c="es3",d={es3:!1},e=!1;return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!goog.isEdge_()&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2**3==8")})),a("es8",(function(){return b("async()=>1,1")})),a("es9",(function(){return b("({...rest}={}),1")})),a("es_2019",(function(){return b('let r;try{throw 0}catch{r="\u2029"};r')})),a("es_2020",(function(){return b("null?.x??1")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){for(var i=[],a=0;a<e.length;a++){var o=this.getPathFromDeps_(e[a]);if(!o)throw Error("Unregonized namespace: "+e[a]);i.push(this.dependencies_[o])}o=goog.require;var s=0;for(a=0;a<e.length;a++)o(e[a]),i[a].onLoad((function(){++s==e.length&&r()}))}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){var r=this.getPathFromDeps_(e);if(r&&(t||this.areDepsLoaded_(this.dependencies_[r].requires))){var n=this.deferredCallbacks_[r];n&&(delete this.deferredCallbacks_[r],n())}},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(this.getPathFromDeps_(e)){var t=this,r=[];!function e(n){var i=t.getPathFromDeps_(n);if(!i)throw Error("Bad dependency path or symbol: "+n);if(!t.written_[i]){for(t.written_[i]=!0,n=t.dependencies_[i],i=0;i<n.requires.length;i++)goog.isProvided_(n.requires[i])||e(n.requires[i]);r.push(n)}}(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()}else goog.logToConsole_("goog.require could not find: "+e)},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,n=e.depsToLoad_.shift(),i=!1;e.loading_(n);var a={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(i)throw Error("Double call to loaded.");i=!0,e.loaded_(n)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(a)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_)&&!goog.isProvided_(e[t]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,n,i){this.path=e,this.relativePath=t,this.provides=r,this.requires=n,this.loadFlags=i,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(0<=(t=(e=e.substring(t+3)).indexOf("/"))&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);r.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}var r=goog.getScriptNonce();if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var n=goog.Dependency.registerCallback_((function t(r){r.readyState&&"complete"!=r.readyState?r.onload=t:(goog.Dependency.unregisterCallback_(n),e.loaded())}));r=r?' nonce="'+r+'"':"";var i='<script src="'+this.path+'"'+r+(goog.Dependency.defer_?" defer":"")+' id="script-'+n+'"><\/script>';i+="<script"+r+">",i=goog.Dependency.defer_?i+"document.getElementById('script-"+n+"').onload = function() {\n  goog.Dependency.callback_('"+n+"', this);\n};\n":i+"goog.Dependency.callback_('"+n+"', document.getElementById('script-"+n+"'));",i+="<\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(i):i)}else{var a=t.createElement("script");a.defer=goog.Dependency.defer_,a.async=!1,r&&(a.nonce=r),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(e.loaded(),e.resume())}):a.onload=function(){a.onload=null,e.loaded()},a.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(a)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document,r=this;if(goog.isDocumentLoading_()){var n=function(e,r){var n="",i=goog.getScriptNonce();i&&(n=' nonce="'+i+'"'),n=r?'<script type="module" crossorigin'+n+">"+r+"<\/script>":'<script type="module" crossorigin src="'+e+'"'+n+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)};goog.Dependency.defer_=!0}else n=function(e,r){var n=t.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var i=goog.getScriptNonce();i&&(n.nonce=i),r?n.text=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(r):r:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,t.head.appendChild(n)};var i=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(i),e.setModuleState(goog.ModuleType.ES6)}));n(void 0,'goog.Dependency.callback_("'+i+'")'),n(this.path,void 0);var a=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(a),e.registerEs6ModuleExports(r.path,t,goog.moduleLoaderState_.moduleName)}));n(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+a+'", m)');var o=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(o),e.clearModuleState(),e.loaded()}));n(void 0,'goog.Dependency.callback_("'+o+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){i&&e.setModuleState(goog.ModuleType.ES6);try{var r=n.contents_;if(n.contents_=null,goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(r)),i)var a=goog.moduleLoaderState_.moduleName}finally{i&&e.clearModuleState()}i&&goog.global.$jscomp.require.ensure([n.getPathName()],(function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),a)})),e.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var i=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var a=1<e.pending().length,o=a&&goog.DebugLoader_.IS_OLD_IE_;if(a=goog.Dependency.defer_&&(a||goog.isDocumentLoading_()),o||a)e.defer((function(){r()}));else{var s=goog.global.document;if(o=goog.inHtmlDocument_()&&("ActiveXObject"in goog.global||goog.isEdge_()),i&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!o){goog.Dependency.defer_=!0,e.pause();var l=s.onreadystatechange;s.onreadystatechange=function(){"interactive"==s.readyState&&(s.onreadystatechange=l,r(),e.resume()),"function"===typeof l&&l.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),r()})),n=goog.getScriptNonce();n="<script"+(n?' nonce="'+n+'"':"")+">"+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>",e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,n,i,a){goog.TransformedDependency.call(this,e,t,r,n,i),this.transpiler=a},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,n,i){goog.TransformedDependency.call(this,e,t,r,n,i)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,n,i,a,o){goog.TransformedDependency.call(this,e,t,r,n,i),this.needsTranspile_=a,this.transpiler_=o},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&void 0!==goog.global.JSON?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,n){t=t||[],e=e.replace(/\\/g,"/");var i=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!==typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(i,e,t,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[i]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=i;this.idToPath_[e]=i},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,n,i,a){return i.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,n,i,a,this.transpiler):a?new goog.TranspiledDependency(e,t,r,n,i,this.transpiler):i.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,n,i):new goog.Es6ModuleDependency(e,t,r,n,i):new goog.Dependency(e,t,r,n,i)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),!COMPILED){var isChrome87=!1;try{isChrome87=eval(goog.global.trustedTypes.emptyScript)!==goog.global.trustedTypes.emptyScript}catch(a){}goog.CLOSURE_EVAL_PREFILTER_=goog.global.trustedTypes&&isChrome87&&goog.createTrustedTypesPolicy("goog#base#devonly#eval")||{createScript:goog.identity_}}goog.asserts=function(){},goog.asserts.assert=function(e,t){},goog.asserts.ENABLE_ASSERTS=!0,goog.asserts.ENABLE_ASSERTS&&console.assert&&console.assert.bind&&(goog.asserts.assert=console.assert.bind(console));var shaka={abr:{}};if(shaka.abr.Ewma=function(e){goog.asserts.assert(0<e,"expected halfLife to be positive"),this.alpha_=Math.exp(Math.log(.5)/e),this.totalWeight_=this.estimate_=0},shaka.abr.Ewma.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);r=t*(1-r)+r*this.estimate_,isNaN(r)||(this.estimate_=r,this.totalWeight_+=e)},shaka.abr.Ewma.prototype.getEstimate=function(){return this.estimate_/(1-Math.pow(this.alpha_,this.totalWeight_))},shaka.abr.EwmaBandwidthEstimator=function(){this.fast_=new shaka.abr.Ewma(2),this.slow_=new shaka.abr.Ewma(5),this.bytesSampled_=0,this.minTotalBytes_=128e3,this.minBytes_=16e3},shaka.abr.EwmaBandwidthEstimator.prototype.sample=function(e,t){if(!(t<this.minBytes_)){var r=8e3*t/e,n=e/1e3;this.bytesSampled_+=t,this.fast_.sample(n,r),this.slow_.sample(n,r)}},shaka.abr.EwmaBandwidthEstimator.prototype.getBandwidthEstimate=function(e){return this.bytesSampled_<this.minTotalBytes_?e:Math.min(this.fast_.getEstimate(),this.slow_.getEstimate())},shaka.abr.EwmaBandwidthEstimator.prototype.hasGoodEstimate=function(){return this.bytesSampled_>=this.minTotalBytes_},shaka.log=function(){},shaka.log.alwaysError=function(e){},shaka.log.alwaysWarn=function(e){},shaka.log.warnOnce=function(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];shaka.log.oneTimeWarningIssued_.has(e)||(shaka.log.oneTimeWarningIssued_.add(e),shaka.log.alwaysWarn.apply(shaka.log,$jscomp.arrayFromIterable(r)))},shaka.log.error=function(e){},shaka.log.warning=function(e){},shaka.log.info=function(e){},shaka.log.debug=function(e){},shaka.log.v1=function(e){},shaka.log.v2=function(e){},shaka.log.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4,V1:5,V2:6},shaka.log.MAX_LOG_LEVEL=4,shaka.log.oneTimeWarningIssued_=new Set,window.console&&window.console.log.bind){var $jscomp$compprop0={};shaka.log.logMap_=($jscomp$compprop0[shaka.log.Level.ERROR]=console.error.bind(console),$jscomp$compprop0[shaka.log.Level.WARNING]=console.warn.bind(console),$jscomp$compprop0[shaka.log.Level.INFO]=console.info.bind(console),$jscomp$compprop0[shaka.log.Level.DEBUG]=console.log.bind(console),$jscomp$compprop0[shaka.log.Level.V1]=console.debug.bind(console),$jscomp$compprop0[shaka.log.Level.V2]=console.debug.bind(console),$jscomp$compprop0),shaka.log.alwaysWarn=shaka.log.logMap_[shaka.log.Level.WARNING],shaka.log.alwaysError=shaka.log.logMap_[shaka.log.Level.ERROR],goog.DEBUG?(goog.exportSymbol("shaka.log",shaka.log),shaka.log.setLevel=function(e){var t=function(t){return t<=e?(goog.asserts.assert(shaka.log.logMap_[t],"Unexpected log level"),shaka.log.logMap_[t]):function(){}};shaka.log.currentLevel=e,shaka.log.error=t(shaka.log.Level.ERROR),shaka.log.warning=t(shaka.log.Level.WARNING),shaka.log.info=t(shaka.log.Level.INFO),shaka.log.debug=t(shaka.log.Level.DEBUG),shaka.log.v1=t(shaka.log.Level.V1),shaka.log.v2=t(shaka.log.Level.V2)},shaka.log.setLevel(shaka.log.MAX_LOG_LEVEL)):(shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.ERROR&&(shaka.log.error=shaka.log.logMap_[shaka.log.Level.ERROR]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.WARNING&&(shaka.log.warning=shaka.log.logMap_[shaka.log.Level.WARNING]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.INFO&&(shaka.log.info=shaka.log.logMap_[shaka.log.Level.INFO]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.DEBUG&&(shaka.log.debug=shaka.log.logMap_[shaka.log.Level.DEBUG]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.V1&&(shaka.log.v1=shaka.log.logMap_[shaka.log.Level.V1]),shaka.log.MAX_LOG_LEVEL>=shaka.log.Level.V2&&(shaka.log.v2=shaka.log.logMap_[shaka.log.Level.V2]))}shaka.util={},shaka.util.Iterables=function(){},shaka.util.Iterables.map=function(e,t){for(var r=[],n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())r.push(t(i.value));return r},shaka.util.Iterables.every=function(e,t){for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next())if(!t(n.value))return!1;return!0},shaka.util.Iterables.some=function(e,t){for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next())if(t(n.value))return!0;return!1},shaka.util.Iterables.filter=function(e,t){for(var r=[],n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())t(i=i.value)&&r.push(i);return r},shaka.util.Iterables.range=function e(t){var r;return $jscomp.generator.createGenerator(e,(function(e){return 1==e.nextAddress&&(r=0),3!=e.nextAddress?r<t?e.yield(r,3):e.jumpTo(0):(r++,e.jumpTo(2))}))},shaka.util.Iterables.enumerate=function e(t){var r,n,i,a,o,s;return $jscomp.generator.createGenerator(e,(function(e){return 1==e.nextAddress&&(r=-1,i=n=void 0,a=$jscomp.makeIterator(t),o=a.next()),5!=e.nextAddress?o.done?-1==r?e.jumpTo(0):e.yield({i:r,prev:n,item:i,next:void 0},0):(s=o.value,0<=r?e.yield({i:r,item:i,prev:n,next:s},5):e.jumpTo(5)):(r++,n=i,i=s,o=a.next(),e.jumpTo(2))}))},shaka.util.BufferUtils=function(){},shaka.util.BufferUtils.equal=function(e,t){var r=shaka.util.BufferUtils;if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(r.unsafeGetArrayBuffer_(e)==r.unsafeGetArrayBuffer_(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;r=shaka.util.BufferUtils.toUint8(e);for(var n=shaka.util.BufferUtils.toUint8(t),i=$jscomp.makeIterator(shaka.util.Iterables.range(e.byteLength)),a=i.next();!a.done;a=i.next())if(r[a=a.value]!=n[a])return!1;return!0},shaka.util.BufferUtils.unsafeGetArrayBuffer_=function(e){return e instanceof ArrayBuffer?e:e.buffer},shaka.util.BufferUtils.toArrayBuffer=function(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer},shaka.util.BufferUtils.toUint8=function(e,t,r){return r=void 0===r?1/0:r,shaka.util.BufferUtils.view_(e,void 0===t?0:t,r,Uint8Array)},shaka.util.BufferUtils.toDataView=function(e,t,r){return r=void 0===r?1/0:r,shaka.util.BufferUtils.view_(e,void 0===t?0:t,r,DataView)},shaka.util.BufferUtils.view_=function(e,t,r,n){var i=shaka.util.BufferUtils.unsafeGetArrayBuffer_(e),a=(e.byteOffset||0)+e.byteLength;return new n(i,e=Math.max(0,Math.min((e.byteOffset||0)+t,a)),Math.min(e+Math.max(r,0),a)-e)},goog.exportSymbol("shaka.util.BufferUtils",shaka.util.BufferUtils),goog.exportProperty(shaka.util.BufferUtils,"toDataView",shaka.util.BufferUtils.toDataView),goog.exportProperty(shaka.util.BufferUtils,"toUint8",shaka.util.BufferUtils.toUint8),goog.exportProperty(shaka.util.BufferUtils,"toArrayBuffer",shaka.util.BufferUtils.toArrayBuffer),goog.exportProperty(shaka.util.BufferUtils,"equal",shaka.util.BufferUtils.equal),shaka.util.Error=function(e,t,r,n){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];if(this.severity=e,this.category=t,this.code=r,this.data=i,this.handled=!1,goog.DEBUG){for(var o in a=i="UNKNOWN",shaka.util.Error.Category)shaka.util.Error.Category[o]==this.category&&(i=o);for(var s in shaka.util.Error.Code)shaka.util.Error.Code[s]==this.code&&(a=s);if(this.message="Shaka Error "+i+"."+a+" ("+this.data.toString()+")",shaka.util.Error.createStack)try{throw Error(this.message)}catch(k){this.stack=k.stack}}},shaka.util.Error.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},goog.exportSymbol("shaka.util.Error",shaka.util.Error),goog.DEBUG&&(shaka.util.Error.createStack=!0),shaka.util.Error.Severity={RECOVERABLE:1,CRITICAL:2},goog.exportProperty(shaka.util.Error,"Severity",shaka.util.Error.Severity),shaka.util.Error.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},goog.exportProperty(shaka.util.Error,"Category",shaka.util.Error.Category),shaka.util.Error.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},goog.exportProperty(shaka.util.Error,"Code",shaka.util.Error.Code),shaka.util.Lazy=function(e){this.gen_=e,this.value_=void 0},shaka.util.Lazy.prototype.value=function(){return void 0==this.value_&&(this.value_=this.gen_(),goog.asserts.assert(void 0!=this.value_,"Unable to create lazy value")),this.value_},shaka.util.Lazy.prototype.reset=function(){this.value_=void 0},shaka.util.StringUtils=function(){},shaka.util.StringUtils.fromUTF8=function(e){return e?(239==(e=shaka.util.BufferUtils.toUint8(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),(e=(new TextDecoder).decode(e)).includes("\ufffd")&&shaka.log.alwaysError('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e):""},shaka.util.StringUtils.fromUTF16=function(e,t,r){if(!e)return"";if(!r&&0!=e.byteLength%2)throw shaka.log.error("Data has an incorrect length, must be even."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.BAD_ENCODING);var n=Math.floor(e.byteLength/2);r=new Uint16Array(n),e=shaka.util.BufferUtils.toDataView(e);for(var i=(n=$jscomp.makeIterator(shaka.util.Iterables.range(n))).next();!i.done;i=n.next())r[i=i.value]=e.getUint16(2*i,t);return shaka.util.StringUtils.fromCharCode(r)},shaka.util.StringUtils.fromBytesAutoDetect=function(e){var t=shaka.util.StringUtils;if(!e)return"";var r=shaka.util.BufferUtils.toUint8(e);if(239==r[0]&&187==r[1]&&191==r[2])return t.fromUTF8(r);if(254==r[0]&&255==r[1])return t.fromUTF16(r.subarray(2),!1);if(255==r[0]&&254==r[1])return t.fromUTF16(r.subarray(2),!0);var n=function(e){return r.byteLength<=e||32<=r[e]&&126>=r[e]};if(shaka.log.debug("Unable to find byte-order-mark, making an educated guess."),0==r[0]&&0==r[2])return t.fromUTF16(e,!1);if(0==r[1]&&0==r[3])return t.fromUTF16(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return t.fromUTF8(e);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.UNABLE_TO_DETECT_ENCODING)},shaka.util.StringUtils.toUTF8=function(e){var t=new TextEncoder;return shaka.util.BufferUtils.toArrayBuffer(t.encode(e))},shaka.util.StringUtils.toUTF16=function(e,t){for(var r=new ArrayBuffer(2*e.length),n=new DataView(r),i=$jscomp.makeIterator(shaka.util.Iterables.enumerate(e)),a=i.next();!a.done;a=i.next()){var o=a.value;a=o.i,o=o.item.charCodeAt(0),n.setUint16(2*a,o,t)}return r},shaka.util.StringUtils.fromCharCode=function(e){return shaka.util.StringUtils.fromCharCodeImpl_.value()(e)},shaka.util.StringUtils.resetFromCharCode=function(){shaka.util.StringUtils.fromCharCodeImpl_.reset()},goog.exportSymbol("shaka.util.StringUtils",shaka.util.StringUtils),goog.exportProperty(shaka.util.StringUtils,"resetFromCharCode",shaka.util.StringUtils.resetFromCharCode),goog.exportProperty(shaka.util.StringUtils,"toUTF16",shaka.util.StringUtils.toUTF16),goog.exportProperty(shaka.util.StringUtils,"toUTF8",shaka.util.StringUtils.toUTF8),goog.exportProperty(shaka.util.StringUtils,"fromBytesAutoDetect",shaka.util.StringUtils.fromBytesAutoDetect),goog.exportProperty(shaka.util.StringUtils,"fromUTF16",shaka.util.StringUtils.fromUTF16),goog.exportProperty(shaka.util.StringUtils,"fromUTF8",shaka.util.StringUtils.fromUTF8),shaka.util.StringUtils.fromCharCodeImpl_=new shaka.util.Lazy((function(){for(var e=function(e){try{var t=new Uint8Array(e),r=String.fromCharCode.apply(null,t);return goog.asserts.assert(r,"Should get value"),0<r.length}catch(n){return!1}},t={$jscomp$loop$prop$size$562:65536};0<t.$jscomp$loop$prop$size$562;(t={$jscomp$loop$prop$size$562:t.$jscomp$loop$prop$size$562}).$jscomp$loop$prop$size$562/=2)if(e(t.$jscomp$loop$prop$size$562))return function(e){return function(t){for(var r="",n=0;n<t.length;n+=e.$jscomp$loop$prop$size$562){var i=t.subarray(n,n+e.$jscomp$loop$prop$size$562);r+=String.fromCharCode.apply(null,i)}return r}}(t);return goog.asserts.assert(!1,"Unable to create a fromCharCode method"),null})),shaka.util.DataViewReader=function(e,t){this.dataView_=shaka.util.BufferUtils.toDataView(e),this.littleEndian_=t==shaka.util.DataViewReader.Endianness.LITTLE_ENDIAN,this.position_=0},shaka.util.DataViewReader.prototype.getDataView=function(){return this.dataView_},shaka.util.DataViewReader.prototype.hasMoreData=function(){return this.position_<this.dataView_.byteLength},shaka.util.DataViewReader.prototype.getPosition=function(){return this.position_},shaka.util.DataViewReader.prototype.getLength=function(){return this.dataView_.byteLength},shaka.util.DataViewReader.prototype.readUint8=function(){try{var e=this.dataView_.getUint8(this.position_);return this.position_+=1,e}catch(t){throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint16=function(){try{var e=this.dataView_.getUint16(this.position_,this.littleEndian_);return this.position_+=2,e}catch(t){throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint32=function(){try{var e=this.dataView_.getUint32(this.position_,this.littleEndian_);return this.position_+=4,e}catch(t){throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readInt32=function(){try{var e=this.dataView_.getInt32(this.position_,this.littleEndian_);return this.position_+=4,e}catch(t){throw this.outOfBounds_()}},shaka.util.DataViewReader.prototype.readUint64=function(){try{if(this.littleEndian_)var e=this.dataView_.getUint32(this.position_,!0),t=this.dataView_.getUint32(this.position_+4,!0);else t=this.dataView_.getUint32(this.position_,!1),e=this.dataView_.getUint32(this.position_+4,!1)}catch(r){throw this.outOfBounds_()}if(2097151<t)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);return this.position_+=8,t*Math.pow(2,32)+e},shaka.util.DataViewReader.prototype.readBytes=function(e){if(goog.asserts.assert(0<=e,"Bad call to DataViewReader.readBytes"),this.position_+e>this.dataView_.byteLength)throw this.outOfBounds_();var t=shaka.util.BufferUtils.toUint8(this.dataView_,this.position_,e);return this.position_+=e,t},shaka.util.DataViewReader.prototype.skip=function(e){if(goog.asserts.assert(0<=e,"Bad call to DataViewReader.skip"),this.position_+e>this.dataView_.byteLength)throw this.outOfBounds_();this.position_+=e},shaka.util.DataViewReader.prototype.rewind=function(e){if(goog.asserts.assert(0<=e,"Bad call to DataViewReader.rewind"),this.position_<e)throw this.outOfBounds_();this.position_-=e},shaka.util.DataViewReader.prototype.seek=function(e){if(goog.asserts.assert(0<=e,"Bad call to DataViewReader.seek"),0>e||e>this.dataView_.byteLength)throw this.outOfBounds_();this.position_=e},shaka.util.DataViewReader.prototype.readTerminatedString=function(){for(var e=this.position_;this.hasMoreData()&&0!=this.dataView_.getUint8(this.position_);)this.position_+=1;return e=shaka.util.BufferUtils.toUint8(this.dataView_,e,this.position_-e),this.position_+=1,shaka.util.StringUtils.fromUTF8(e)},shaka.util.DataViewReader.prototype.outOfBounds_=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS)},goog.exportSymbol("shaka.util.DataViewReader",shaka.util.DataViewReader),goog.exportProperty(shaka.util.DataViewReader.prototype,"readTerminatedString",shaka.util.DataViewReader.prototype.readTerminatedString),goog.exportProperty(shaka.util.DataViewReader.prototype,"seek",shaka.util.DataViewReader.prototype.seek),goog.exportProperty(shaka.util.DataViewReader.prototype,"rewind",shaka.util.DataViewReader.prototype.rewind),goog.exportProperty(shaka.util.DataViewReader.prototype,"skip",shaka.util.DataViewReader.prototype.skip),goog.exportProperty(shaka.util.DataViewReader.prototype,"readBytes",shaka.util.DataViewReader.prototype.readBytes),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint64",shaka.util.DataViewReader.prototype.readUint64),goog.exportProperty(shaka.util.DataViewReader.prototype,"readInt32",shaka.util.DataViewReader.prototype.readInt32),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint32",shaka.util.DataViewReader.prototype.readUint32),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint16",shaka.util.DataViewReader.prototype.readUint16),goog.exportProperty(shaka.util.DataViewReader.prototype,"readUint8",shaka.util.DataViewReader.prototype.readUint8),goog.exportProperty(shaka.util.DataViewReader.prototype,"getLength",shaka.util.DataViewReader.prototype.getLength),goog.exportProperty(shaka.util.DataViewReader.prototype,"getPosition",shaka.util.DataViewReader.prototype.getPosition),goog.exportProperty(shaka.util.DataViewReader.prototype,"hasMoreData",shaka.util.DataViewReader.prototype.hasMoreData),shaka.util.DataViewReader.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:1},goog.exportProperty(shaka.util.DataViewReader,"Endianness",shaka.util.DataViewReader.Endianness),shaka.deprecate={},shaka.deprecate.Version=function(e,t){this.major_=e,this.minor_=t},shaka.deprecate.Version.prototype.major=function(){return this.major_},shaka.deprecate.Version.prototype.minor=function(){return this.minor_},shaka.deprecate.Version.prototype.compareTo=function(e){var t=this.minor_-e.minor_;return this.major_-e.major_||t},shaka.deprecate.Version.prototype.toString=function(){return"v"+this.major_+"."+this.minor_},shaka.deprecate.Version.parse=function(e){return e=e.substring(1).split(".",2),new shaka.deprecate.Version(Number(e[0]),Number(e[1]))},shaka.deprecate.Enforcer=function(e,t,r){this.libraryVersion_=e,this.onPending_=t,this.onExpired_=r},shaka.deprecate.Enforcer.prototype.enforce=function(e,t,r){(0<e.compareTo(this.libraryVersion_)?this.onPending_:this.onExpired_)(this.libraryVersion_,e,t,r)},shaka.Deprecate=function(){},shaka.Deprecate.init=function(e){goog.asserts.assert(null==shaka.Deprecate.enforcer_,"Deprecate.init should only be called once."),shaka.Deprecate.enforcer_=new shaka.deprecate.Enforcer(shaka.deprecate.Version.parse(e),shaka.Deprecate.onPending_,shaka.Deprecate.onExpired_)},shaka.Deprecate.deprecateFeature=function(e,t,r){var n=shaka.Deprecate.enforcer_;goog.asserts.assert(n,"Missing deprecation enforcer. Was |init| called?"),e=new shaka.deprecate.Version(e,0),n.enforce(e,t,r)},shaka.Deprecate.onPending_=function(e,t,r,n){shaka.log.alwaysWarn([r,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",n].join(" "))},shaka.Deprecate.onExpired_=function(e,t,r,n){e=[r,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",n].join(""),shaka.log.alwaysError(e),goog.asserts.assert(!1,e)},shaka.Deprecate.enforcer_=null,shaka.util.Functional=function(){},shaka.util.Functional.createFallbackPromiseChain=function(e,t){return e.reduce((function(e,r){return e.catch((function(){return t(r)}))}),Promise.reject())},shaka.util.Functional.collapseArrays=function(e,t){return e.concat(t)},shaka.util.Functional.ignored=function(e){},shaka.util.Functional.noop=function(){},shaka.util.Functional.isNotNull=function(e){return null!=e},shaka.util.Functional.callFactory=function(e){var t=Object.create(e.prototype||Object.prototype);try{var r=e.call(t);r||(shaka.Deprecate.deprecateFeature(4,"Factories requiring new","Factories should be plain functions"),r=t)}catch(n){shaka.Deprecate.deprecateFeature(4,"Factories requiring new","Factories should be plain functions"),r=new e}return r},shaka.util.Mp4Parser=function(){this.headers_=[],this.boxDefinitions_=[],this.done_=!1},shaka.util.Mp4Parser.prototype.box=function(e,t){var r=shaka.util.Mp4Parser.typeFromString_(e);return this.headers_[r]=shaka.util.Mp4Parser.BoxType_.BASIC_BOX,this.boxDefinitions_[r]=t,this},shaka.util.Mp4Parser.prototype.fullBox=function(e,t){var r=shaka.util.Mp4Parser.typeFromString_(e);return this.headers_[r]=shaka.util.Mp4Parser.BoxType_.FULL_BOX,this.boxDefinitions_[r]=t,this},shaka.util.Mp4Parser.prototype.stop=function(){this.done_=!0},shaka.util.Mp4Parser.prototype.parse=function(e,t,r){for(e=new shaka.util.DataViewReader(e,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),this.done_=!1;e.hasMoreData()&&!this.done_;)this.parseNext(0,e,t,r)},shaka.util.Mp4Parser.prototype.parseNext=function(e,t,r,n){var i=t.getPosition();if(n&&i+8>t.getLength())this.done_=!0;else{var a=t.readUint32(),o=t.readUint32(),s=shaka.util.Mp4Parser.typeToString(o),l=!1;switch(shaka.log.v2("Parsing MP4 box",s),a){case 0:a=t.getLength()-i;break;case 1:if(n&&t.getPosition()+8>t.getLength())return void(this.done_=!0);a=t.readUint64(),l=!0}if(s=this.boxDefinitions_[o]){var u=null,c=null;if(this.headers_[o]==shaka.util.Mp4Parser.BoxType_.FULL_BOX){if(n&&t.getPosition()+4>t.getLength())return void(this.done_=!0);u=(c=t.readUint32())>>>24,c&=16777215}o=i+a,r&&o>t.getLength()&&(o=t.getLength()),n&&o>t.getLength()?this.done_=!0:(n=o-t.getPosition(),t=0<n?t.readBytes(n):new Uint8Array(0),s({parser:this,partialOkay:r||!1,version:u,flags:c,reader:t=new shaka.util.DataViewReader(t,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),size:a,start:i+e,has64BitSize:l}))}else e=Math.min(i+a-t.getPosition(),t.getLength()-t.getPosition()),t.skip(e)}},shaka.util.Mp4Parser.children=function(e){for(var t=shaka.util.Mp4Parser.headerSize(e);e.reader.hasMoreData()&&!e.parser.done_;)e.parser.parseNext(e.start+t,e.reader,e.partialOkay)},shaka.util.Mp4Parser.sampleDescription=function(e){for(var t=shaka.util.Mp4Parser.headerSize(e),r=e.reader.readUint32(),n=(r=$jscomp.makeIterator(shaka.util.Iterables.range(r))).next();!n.done&&(shaka.util.Functional.ignored(n.value),e.parser.parseNext(e.start+t,e.reader,e.partialOkay),!e.parser.done_);n=r.next());},shaka.util.Mp4Parser.allData=function(e){return function(t){var r=t.reader.getLength()-t.reader.getPosition();e(t.reader.readBytes(r))}},shaka.util.Mp4Parser.typeFromString_=function(e){goog.asserts.assert(4==e.length,"Mp4 box names must be 4 characters long");for(var t=0,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())t=t<<8|r.value.charCodeAt(0);return t},shaka.util.Mp4Parser.typeToString=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},shaka.util.Mp4Parser.headerSize=function(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)},goog.exportSymbol("shaka.util.Mp4Parser",shaka.util.Mp4Parser),goog.exportProperty(shaka.util.Mp4Parser,"headerSize",shaka.util.Mp4Parser.headerSize),goog.exportProperty(shaka.util.Mp4Parser,"typeToString",shaka.util.Mp4Parser.typeToString),goog.exportProperty(shaka.util.Mp4Parser,"allData",shaka.util.Mp4Parser.allData),goog.exportProperty(shaka.util.Mp4Parser,"sampleDescription",shaka.util.Mp4Parser.sampleDescription),goog.exportProperty(shaka.util.Mp4Parser,"children",shaka.util.Mp4Parser.children),goog.exportProperty(shaka.util.Mp4Parser.prototype,"parseNext",shaka.util.Mp4Parser.prototype.parseNext),goog.exportProperty(shaka.util.Mp4Parser.prototype,"parse",shaka.util.Mp4Parser.prototype.parse),goog.exportProperty(shaka.util.Mp4Parser.prototype,"stop",shaka.util.Mp4Parser.prototype.stop),goog.exportProperty(shaka.util.Mp4Parser.prototype,"fullBox",shaka.util.Mp4Parser.prototype.fullBox),goog.exportProperty(shaka.util.Mp4Parser.prototype,"box",shaka.util.Mp4Parser.prototype.box),shaka.util.Mp4Parser.BoxType_={BASIC_BOX:0,FULL_BOX:1},shaka.util.DelayedTick=function(e){this.onTick_=e,this.cancelPending_=null},shaka.util.DelayedTick.prototype.tickAfter=function(e){var t=this;this.stop();var r=!0,n=null;return this.cancelPending_=function(){window.clearTimeout(n),r=!1},n=window.setTimeout((function(){r&&t.onTick_()}),1e3*e),this},shaka.util.DelayedTick.prototype.stop=function(){this.cancelPending_&&(this.cancelPending_(),this.cancelPending_=null)},shaka.util.Timer=function(e){this.onTick_=e,this.ticker_=null},shaka.util.Timer.prototype.tickNow=function(){return this.stop(),this.onTick_(),this},shaka.util.Timer.prototype.tickAfter=function(e){var t=this;return this.stop(),this.ticker_=new shaka.util.DelayedTick((function(){t.onTick_()})).tickAfter(e),this},shaka.util.Timer.prototype.tickEvery=function(e){var t=this;return this.stop(),this.ticker_=new shaka.util.DelayedTick((function(){t.ticker_.tickAfter(e),t.onTick_()})).tickAfter(e),this},shaka.util.Timer.prototype.stop=function(){this.ticker_&&(this.ticker_.stop(),this.ticker_=null)},goog.exportSymbol("shaka.util.Timer",shaka.util.Timer),goog.exportProperty(shaka.util.Timer.prototype,"stop",shaka.util.Timer.prototype.stop),goog.exportProperty(shaka.util.Timer.prototype,"tickEvery",shaka.util.Timer.prototype.tickEvery),goog.exportProperty(shaka.util.Timer.prototype,"tickAfter",shaka.util.Timer.prototype.tickAfter),goog.exportProperty(shaka.util.Timer.prototype,"tickNow",shaka.util.Timer.prototype.tickNow),shaka.util.Platform=function(){},shaka.util.Platform.supportsMediaSource=function(){return!(!window.MediaSource||!MediaSource.isTypeSupported)},shaka.util.Platform.supportsMediaType=function(e){return""!=shaka.util.Platform.anyMediaElement().canPlayType(e)},shaka.util.Platform.isEdge=function(){return!!navigator.userAgent.match(/Edge?\//)},shaka.util.Platform.isLegacyEdge=function(){return!!navigator.userAgent.match(/Edge\//)},shaka.util.Platform.isIE=function(){return shaka.util.Platform.userAgentContains_("Trident/")},shaka.util.Platform.isXboxOne=function(){return shaka.util.Platform.userAgentContains_("Xbox One")},shaka.util.Platform.isTizen=function(){return shaka.util.Platform.userAgentContains_("Tizen")},shaka.util.Platform.isTizen4=function(){return shaka.util.Platform.userAgentContains_("Tizen 4")},shaka.util.Platform.isTizen3=function(){return shaka.util.Platform.userAgentContains_("Tizen 3")},shaka.util.Platform.isTizen2=function(){return shaka.util.Platform.userAgentContains_("Tizen 2")},shaka.util.Platform.isWebOS=function(){return shaka.util.Platform.userAgentContains_("Web0S")},shaka.util.Platform.isChromecast=function(){return shaka.util.Platform.userAgentContains_("CrKey")},shaka.util.Platform.isChrome=function(){return shaka.util.Platform.userAgentContains_("Chrome")&&!shaka.util.Platform.isEdge()},shaka.util.Platform.isApple=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!shaka.util.Platform.isTizen()},shaka.util.Platform.safariVersion=function(){if(!shaka.util.Platform.isApple())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null},shaka.util.Platform.isMobile=function(){return!!/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)||shaka.util.Platform.isApple()&&1<navigator.maxTouchPoints},shaka.util.Platform.userAgentContains_=function(e){return(navigator.userAgent||"").includes(e)},shaka.util.Platform.anyMediaElement=function(){var e=shaka.util.Platform;return e.cachedMediaElement_||(e.cacheExpirationTimer_||(e.cacheExpirationTimer_=new shaka.util.Timer((function(){e.cachedMediaElement_=null}))),e.cachedMediaElement_=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0],e.cachedMediaElement_||(e.cachedMediaElement_=document.createElement("video")),e.cacheExpirationTimer_.tickAfter(1)),e.cachedMediaElement_},shaka.util.Platform.requiresEncryptionInfoInAllInitSegments=function(){var e=shaka.util.Platform;return e.isTizen()||e.isXboxOne()},shaka.util.Platform.cacheExpirationTimer_=null,shaka.util.Platform.cachedMediaElement_=null,shaka.util.Uint8ArrayUtils=function(){},shaka.util.Uint8ArrayUtils.equal=function(e,t){return shaka.Deprecate.deprecateFeature(4,"shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),shaka.util.BufferUtils.equal(e,t)},shaka.util.Uint8ArrayUtils.toStandardBase64=function(e){return e=shaka.util.StringUtils.fromCharCode(shaka.util.BufferUtils.toUint8(e)),btoa(e)},shaka.util.Uint8ArrayUtils.toBase64=function(e,t){t=void 0==t||t;var r=shaka.util.Uint8ArrayUtils.toStandardBase64(e).replace(/\+/g,"-").replace(/\//g,"_");return t?r:r.replace(/[=]*$/,"")},shaka.util.Uint8ArrayUtils.fromBase64=function(e){var t=window.atob(e.replace(/-/g,"+").replace(/_/g,"/"));e=new Uint8Array(t.length);for(var r=(t=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t))).next();!r.done;r=t.next())e[(r=r.value).i]=r.item.charCodeAt(0);return e},shaka.util.Uint8ArrayUtils.fromHex=function(e){for(var t=e.length/2,r=new Uint8Array(t),n=(t=$jscomp.makeIterator(shaka.util.Iterables.range(t))).next();!n.done;n=t.next())r[n=n.value]=window.parseInt(e.substr(2*n,2),16);return r},shaka.util.Uint8ArrayUtils.toHex=function(e){var t=shaka.util.BufferUtils.toUint8(e);e="";for(var r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())1==(r=(r=r.value).toString(16)).length&&(r="0"+r),e+=r;return e},shaka.util.Uint8ArrayUtils.concat=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];var n=0,i=$jscomp.makeIterator(t);for(r=i.next();!r.done;r=i.next())n+=r.value.byteLength;for(n=new Uint8Array(n),i=0,r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())r=r.value,n.set(shaka.util.BufferUtils.toUint8(r),i),i+=r.byteLength;return n},goog.exportSymbol("shaka.util.Uint8ArrayUtils",shaka.util.Uint8ArrayUtils),goog.exportProperty(shaka.util.Uint8ArrayUtils,"concat",shaka.util.Uint8ArrayUtils.concat),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toHex",shaka.util.Uint8ArrayUtils.toHex),goog.exportProperty(shaka.util.Uint8ArrayUtils,"fromHex",shaka.util.Uint8ArrayUtils.fromHex),goog.exportProperty(shaka.util.Uint8ArrayUtils,"fromBase64",shaka.util.Uint8ArrayUtils.fromBase64),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toBase64",shaka.util.Uint8ArrayUtils.toBase64),goog.exportProperty(shaka.util.Uint8ArrayUtils,"toStandardBase64",shaka.util.Uint8ArrayUtils.toStandardBase64),goog.exportProperty(shaka.util.Uint8ArrayUtils,"equal",shaka.util.Uint8ArrayUtils.equal),shaka.media={},shaka.media.ContentWorkarounds=function(){},shaka.media.ContentWorkarounds.fakeEncryption=function(e){var t=shaka.media.ContentWorkarounds;e=shaka.util.BufferUtils.toUint8(e);var r,n=!1,i=[],a=function(e){i.push(e),shaka.util.Mp4Parser.children(e)},o=function(e){n=!0},s=[];if((new shaka.util.Mp4Parser).box("moov",a).box("trak",a).box("mdia",a).box("minf",a).box("stbl",a).fullBox("stsd",(function(e){r=e,i.push(e),shaka.util.Mp4Parser.sampleDescription(e)})).fullBox("encv",o).fullBox("enca",o).fullBox("avc1",(function(e){s.push({box:e,newType:t.BOX_TYPE_ENCV_})})).fullBox("ec-3",(function(e){s.push({box:e,newType:t.BOX_TYPE_ENCA_})})).fullBox("mp4a",(function(e){s.push({box:e,newType:t.BOX_TYPE_ENCA_})})).parse(e),n)return shaka.log.debug("Init segment already indicates encryption."),e;if(0==s.length||!r)throw shaka.log.error("Failed to find boxes needed to fake encryption!"),shaka.log.v2("Failed init segment (hex):",shaka.util.Uint8ArrayUtils.toHex(e)),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.CONTENT_TRANSFORMATION_FAILED);for(s.reverse(),o=(a=$jscomp.makeIterator(s)).next();!o.done;o=a.next()){o=o.value;var l=shaka.util.Mp4Parser.typeToString(o.newType);shaka.log.debug('Inserting "'+l+'" box into init segment.'),e=t.insertEncryptionMetadata_(e,r,o.box,i,o.newType)}return e},shaka.media.ContentWorkarounds.insertEncryptionMetadata_=function(e,t,r,n,i){var a=shaka.media.ContentWorkarounds,o=a.createEncryptionMetadata_(e,r,i);i=new Uint8Array(e.byteLength+o.byteLength),r=shaka.util.Platform.isXboxOne()?r.start:r.start+r.size;var s=e.subarray(0,r);for(e=e.subarray(r),i.set(s),i.set(o,r),i.set(e,r+o.byteLength),e=(n=$jscomp.makeIterator(n)).next();!e.done;e=n.next())e=e.value,goog.asserts.assert(e.start<r,"Ancestor MP4 box found in the wrong location!  Modified init segment will not make sense!"),a.updateBoxSize_(i,e.start,e.size+o.byteLength);return a=shaka.util.BufferUtils.toDataView(i,t.start),t=shaka.util.Mp4Parser.headerSize(t),o=a.getUint32(t),a.setUint32(t,o+1),i},shaka.media.ContentWorkarounds.createEncryptionMetadata_=function(e,t,r){var n=shaka.media.ContentWorkarounds,i=n.CANNED_SINF_BOX_.value(),a=e.subarray(t.start,t.start+t.size),o=shaka.util.BufferUtils.toDataView(a);return(e=new Uint8Array(t.size+i.byteLength)).set(a,0),(a=shaka.util.BufferUtils.toDataView(e)).setUint32(n.BOX_TYPE_OFFSET_,r),e.set(i,t.size),r=o.getUint32(n.BOX_TYPE_OFFSET_),a.setUint32(t.size+n.CANNED_SINF_BOX_FORMAT_OFFSET_,r),n.updateBoxSize_(e,0,e.byteLength),e},shaka.media.ContentWorkarounds.updateBoxSize_=function(e,t,r){var n=shaka.media.ContentWorkarounds;0!=(t=(e=shaka.util.BufferUtils.toDataView(e,t)).getUint32(n.BOX_SIZE_OFFSET_))&&(1==t?(e.setUint32(n.BOX_SIZE_64_OFFSET_,r>>32),e.setUint32(n.BOX_SIZE_64_OFFSET_+4,4294967295&r)):e.setUint32(n.BOX_SIZE_OFFSET_,r))},shaka.media.ContentWorkarounds.CANNED_SINF_BOX_=new shaka.util.Lazy((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),shaka.media.ContentWorkarounds.CANNED_SINF_BOX_FORMAT_OFFSET_=16,shaka.media.ContentWorkarounds.BOX_SIZE_OFFSET_=0,shaka.media.ContentWorkarounds.BOX_TYPE_OFFSET_=4,shaka.media.ContentWorkarounds.BOX_SIZE_64_OFFSET_=8,shaka.media.ContentWorkarounds.BOX_TYPE_ENCV_=1701733238,shaka.media.ContentWorkarounds.BOX_TYPE_ENCA_=1701733217,shaka.util.ArrayUtils=function(){},shaka.util.ArrayUtils.defaultEquals=function(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t},shaka.util.ArrayUtils.remove=function(e,t){var r=e.indexOf(t);-1<r&&e.splice(r,1)},shaka.util.ArrayUtils.count=function(e,t){for(var r=0,n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())r+=t(i.value)?1:0;return r},shaka.util.ArrayUtils.hasSameElements=function(e,t,r){if(r||(r=shaka.util.ArrayUtils.defaultEquals),e.length!=t.length)return!1;t=t.slice();for(var n={},i=(e=$jscomp.makeIterator(e)).next();!i.done;n={$jscomp$loop$prop$item$564:n.$jscomp$loop$prop$item$564},i=e.next()){if(n.$jscomp$loop$prop$item$564=i.value,-1==(i=t.findIndex(function(e){return function(t){return r(e.$jscomp$loop$prop$item$564,t)}}(n))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length},shaka.util.ArrayUtils.equal=function(e,t,r){if(r||(r=shaka.util.ArrayUtils.defaultEquals),e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0},shaka.text={},shaka.text.Cue=function(e,t,r){var n=shaka.text.Cue;this.startTime=e,this.direction=n.direction.HORIZONTAL_LEFT_TO_RIGHT,this.endTime=t,this.payload=r,this.region=new shaka.text.CueRegion,this.position=null,this.positionAlign=n.positionAlign.AUTO,this.size=0,this.textAlign=n.textAlign.CENTER,this.writingMode=n.writingMode.HORIZONTAL_TOP_TO_BOTTOM,this.lineInterpretation=n.lineInterpretation.LINE_NUMBER,this.line=null,this.lineHeight="",this.lineAlign=n.lineAlign.START,this.displayAlign=n.displayAlign.AFTER,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=n.fontWeight.NORMAL,this.fontStyle=n.fontStyle.NORMAL,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=this.lineBreak=!1,this.cellResolution={columns:32,rows:15}},shaka.text.Cue.prototype.clone=function(){var e,t=new shaka.text.Cue(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},shaka.text.Cue.equal=function(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var r in e)if("startTime"!=r&&"endTime"!=r&&"payload"!=r)if("nestedCues"==r){if(!shaka.util.ArrayUtils.equal(e.nestedCues,t.nestedCues,shaka.text.Cue.equal))return!1}else if("region"==r||"cellResolution"==r){for(var n in e[r])if(e[r][n]!=t[r][n])return!1}else if(Array.isArray(e[r])){if(!shaka.util.ArrayUtils.equal(e[r],t[r]))return!1}else if(e[r]!=t[r])return!1;return!0},goog.exportSymbol("shaka.text.Cue",shaka.text.Cue),shaka.text.Cue.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:"auto"},goog.exportProperty(shaka.text.Cue,"positionAlign",shaka.text.Cue.positionAlign),shaka.text.Cue.textAlign={LEFT:"left",RIGHT:"right",CENTER:"center",START:"start",END:"end"},goog.exportProperty(shaka.text.Cue,"textAlign",shaka.text.Cue.textAlign),shaka.text.Cue.displayAlign={BEFORE:"before",CENTER:"center",AFTER:"after"},goog.exportProperty(shaka.text.Cue,"displayAlign",shaka.text.Cue.displayAlign),shaka.text.Cue.direction={HORIZONTAL_LEFT_TO_RIGHT:"ltr",HORIZONTAL_RIGHT_TO_LEFT:"rtl"},goog.exportProperty(shaka.text.Cue,"direction",shaka.text.Cue.direction),shaka.text.Cue.writingMode={HORIZONTAL_TOP_TO_BOTTOM:"horizontal-tb",VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"},goog.exportProperty(shaka.text.Cue,"writingMode",shaka.text.Cue.writingMode),shaka.text.Cue.lineInterpretation={LINE_NUMBER:0,PERCENTAGE:1},goog.exportProperty(shaka.text.Cue,"lineInterpretation",shaka.text.Cue.lineInterpretation),shaka.text.Cue.lineAlign={CENTER:"center",START:"start",END:"end"},goog.exportProperty(shaka.text.Cue,"lineAlign",shaka.text.Cue.lineAlign),shaka.text.Cue.defaultTextColor={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"},goog.exportProperty(shaka.text.Cue,"defaultTextColor",shaka.text.Cue.defaultTextColor),shaka.text.Cue.defaultTextBackgroundColor={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"},goog.exportProperty(shaka.text.Cue,"defaultTextBackgroundColor",shaka.text.Cue.defaultTextBackgroundColor),shaka.text.Cue.fontWeight={NORMAL:400,BOLD:700},goog.exportProperty(shaka.text.Cue,"fontWeight",shaka.text.Cue.fontWeight),shaka.text.Cue.fontStyle={NORMAL:"normal",ITALIC:"italic",OBLIQUE:"oblique"},goog.exportProperty(shaka.text.Cue,"fontStyle",shaka.text.Cue.fontStyle),shaka.text.Cue.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},goog.exportProperty(shaka.text.Cue,"textDecoration",shaka.text.Cue.textDecoration),shaka.text.CueRegion=function(){var e=shaka.text.CueRegion;this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=e.units.PERCENTAGE,this.scroll=e.scrollMode.NONE},goog.exportSymbol("shaka.text.CueRegion",shaka.text.CueRegion),shaka.text.CueRegion.units={PX:0,PERCENTAGE:1,LINES:2},goog.exportProperty(shaka.text.CueRegion,"units",shaka.text.CueRegion.units),shaka.text.CueRegion.scrollMode={NONE:"",UP:"up"},goog.exportProperty(shaka.text.CueRegion,"scrollMode",shaka.text.CueRegion.scrollMode),shaka.cea={},shaka.cea.ICaptionDecoder=function(){},shaka.cea.ICaptionDecoder.prototype.extract=function(e,t){},shaka.cea.ICaptionDecoder.prototype.decode=function(){},shaka.cea.ICaptionDecoder.prototype.clear=function(){},shaka.cea.CeaUtils=function(){},shaka.cea.CeaUtils.getParsedCaption=function(e,t,r,n,i){if(n>=i)return null;for(var a=-1,o=-1,s=0;s<r.length;s++)if(r[s].some((function(e){return null!=e&&""!=e.getChar().trim()}))){a=s;break}for(s=r.length-1;0<=s;s--)if(r[s].some((function(e){return null!=e&&""!=e.getChar().trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var l=s=!1,u=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,c=shaka.cea.CeaUtils.DEFAULT_BG_COLOR,d=shaka.cea.CeaUtils.createStyledCue(n,i,s,l,u,c);a<=o;a++){for(var f=r[a],p=-1,h=-1,g=0;g<f.length;g++)if(null!=f[g]&&""!==f[g].getChar().trim()){p=g;break}for(g=f.length-1;0<=g;g--)if(null!=f[g]&&""!==f[g].getChar().trim()){h=g;break}if(-1===p||-1===h)f=shaka.cea.CeaUtils.createLineBreakCue(n,i),e.nestedCues.push(f);else{for(;p<=h;p++)if(g=f[p]){var m=g.isUnderlined(),v=g.isItalicized(),y=g.getTextColor(),b=g.getBackgroundColor();m==s&&v==l&&y==u&&b==c||(d.payload&&e.nestedCues.push(d),d=shaka.cea.CeaUtils.createStyledCue(n,i,m,v,y,b),s=m,l=v,u=y,c=b),d.payload+=g.getChar()}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=shaka.cea.CeaUtils.createLineBreakCue(n,i),e.nestedCues.push(d)),d=shaka.cea.CeaUtils.createStyledCue(n,i,s,l,u,c)}}return e.nestedCues.length?{cue:e,stream:t}:null},shaka.cea.CeaUtils.createStyledCue=function(e,t,r,n,i,a){return e=new shaka.text.Cue(e,t,""),r&&e.textDecoration.push(shaka.text.Cue.textDecoration.UNDERLINE),n&&(e.fontStyle=shaka.text.Cue.fontStyle.ITALIC),e.color=i,e.backgroundColor=a,e},shaka.cea.CeaUtils.createLineBreakCue=function(e,t){var r=new shaka.text.Cue(e,t,"");return r.lineBreak=!0,r},shaka.cea.CeaUtils.StyledChar=function(e,t,r,n,i){this.character_=e,this.underline_=t,this.italics_=r,this.backgroundColor_=n,this.textColor_=i},shaka.cea.CeaUtils.StyledChar.prototype.getChar=function(){return this.character_},shaka.cea.CeaUtils.StyledChar.prototype.isUnderlined=function(){return this.underline_},shaka.cea.CeaUtils.StyledChar.prototype.isItalicized=function(){return this.italics_},shaka.cea.CeaUtils.StyledChar.prototype.getBackgroundColor=function(){return this.backgroundColor_},shaka.cea.CeaUtils.StyledChar.prototype.getTextColor=function(){return this.textColor_},shaka.cea.CeaUtils.DEFAULT_BG_COLOR="black",shaka.cea.CeaUtils.DEFAULT_TXT_COLOR="white",shaka.cea.Cea708Window=function(e){this.windowNum_=e,this.relativeToggle_=this.visible_=!1,this.colCount_=this.rowCount_=this.anchorId_=this.verticalAnchor_=this.horizontalAnchor_=0,this.justification_=shaka.cea.Cea708Window.TextJustification.CENTER,this.memory_=[],this.col_=this.row_=this.startTime_=0,this.underline_=this.italics_=!1,this.textColor_=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,this.backgroundColor_=shaka.cea.CeaUtils.DEFAULT_BG_COLOR,this.resetMemory(),shaka.util.Functional.ignored(this.verticalAnchor_,this.relativeToggle_,this.horizontalAnchor_,this.anchorId_,this.windowNum_)},shaka.cea.Cea708Window.prototype.defineWindow=function(e,t,r,n,i,a,o){this.visible_=e,this.verticalAnchor_=t,this.horizontalAnchor_=r,this.anchorId_=n,this.relativeToggle_=i,this.rowCount_=a,this.colCount_=o},shaka.cea.Cea708Window.prototype.resetMemory=function(){this.memory_=[];for(var e=0;e<shaka.cea.Cea708Window.MAX_ROWS;e++)this.memory_.push(this.createNewRow_())},shaka.cea.Cea708Window.prototype.createNewRow_=function(){for(var e=[],t=0;t<shaka.cea.Cea708Window.MAX_COLS;t++)e.push(null);return e},shaka.cea.Cea708Window.prototype.setCharacter=function(e){this.isPenInBounds_()&&(e=new shaka.cea.CeaUtils.StyledChar(e,this.underline_,this.italics_,this.backgroundColor_,this.textColor_),this.memory_[this.row_][this.col_]=e,this.col_++)},shaka.cea.Cea708Window.prototype.backspace=function(){!this.isPenInBounds_()||0>=this.col_&&0>=this.row_||(0>=this.col_?(this.col_=this.colCount_-1,this.row_--):this.col_--,this.memory_[this.row_][this.col_]=null)},shaka.cea.Cea708Window.prototype.isPenInBounds_=function(){var e=this.col_<this.colCount_&&0<=this.col_;return this.row_<this.rowCount_&&0<=this.row_&&e},shaka.cea.Cea708Window.prototype.isVisible=function(){return this.visible_},shaka.cea.Cea708Window.prototype.moveUpRows_=function(e){for(var t=0,r=e;r<shaka.cea.Cea708Window.MAX_ROWS;r++,t++)this.memory_[t]=this.memory_[r];for(r=0;r<e;r++,t++)this.memory_[t]=this.createNewRow_()},shaka.cea.Cea708Window.prototype.carriageReturn=function(){this.row_+1>=this.rowCount_?this.moveUpRows_(1):this.row_++,this.col_=0},shaka.cea.Cea708Window.prototype.horizontalCarriageReturn=function(){this.memory_[this.row_]=this.createNewRow_(),this.col_=0},shaka.cea.Cea708Window.prototype.forceEmit=function(e,t){var r="svc"+t,n=shaka.cea.Cea708Window.TextJustification,i=new shaka.text.Cue(this.startTime_,e,"");return i.textAlign=this.justification_===n.LEFT?shaka.text.Cue.textAlign.LEFT:this.justification_===n.RIGHT?shaka.text.Cue.textAlign.RIGHT:shaka.text.Cue.textAlign.CENTER,(r=shaka.cea.CeaUtils.getParsedCaption(i,r,this.memory_,this.startTime_,e))&&this.setStartTime(e),r},shaka.cea.Cea708Window.prototype.setPenLocation=function(e,t){this.row_=e,this.col_=t},shaka.cea.Cea708Window.prototype.setPenBackgroundColor=function(e){this.backgroundColor_=e},shaka.cea.Cea708Window.prototype.setPenTextColor=function(e){this.textColor_=e},shaka.cea.Cea708Window.prototype.setPenUnderline=function(e){this.underline_=e},shaka.cea.Cea708Window.prototype.setPenItalics=function(e){this.italics_=e},shaka.cea.Cea708Window.prototype.resetPen=function(){this.col_=this.row_=0,this.italics_=this.underline_=!1,this.textColor_=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,this.backgroundColor_=shaka.cea.CeaUtils.DEFAULT_BG_COLOR},shaka.cea.Cea708Window.prototype.setJustification=function(e){this.justification_=e},shaka.cea.Cea708Window.prototype.display=function(){this.visible_=!0},shaka.cea.Cea708Window.prototype.hide=function(){this.visible_=!1},shaka.cea.Cea708Window.prototype.toggle=function(){this.visible_=!this.visible_},shaka.cea.Cea708Window.prototype.setStartTime=function(e){this.startTime_=e},shaka.cea.Cea708Window.TextJustification={LEFT:0,RIGHT:1,CENTER:2,FULL:3},shaka.cea.Cea708Window.MAX_COLS=42,shaka.cea.Cea708Window.MAX_ROWS=15,shaka.cea.DtvccPacketBuilder=function(){this.builtPackets_=[],this.currentPacketBeingBuilt_=null,this.bytesLeftToAddInCurrentPacket_=0},shaka.cea.DtvccPacketBuilder.prototype.addByte=function(e){e.type===shaka.cea.DtvccPacketBuilder.DTVCC_PACKET_START?(this.bytesLeftToAddInCurrentPacket_=2*(63&e.value)-1,this.currentPacketBeingBuilt_=[]):this.currentPacketBeingBuilt_&&(0<this.bytesLeftToAddInCurrentPacket_&&(this.currentPacketBeingBuilt_.push(e),this.bytesLeftToAddInCurrentPacket_--),0===this.bytesLeftToAddInCurrentPacket_&&(e=new shaka.cea.DtvccPacket(this.currentPacketBeingBuilt_),this.builtPackets_.push(e),this.currentPacketBeingBuilt_=null,this.bytesLeftToAddInCurrentPacket_=0))},shaka.cea.DtvccPacketBuilder.prototype.getBuiltPackets=function(){return this.builtPackets_},shaka.cea.DtvccPacketBuilder.prototype.clearBuiltPackets=function(){this.builtPackets_=[]},shaka.cea.DtvccPacketBuilder.prototype.clear=function(){this.builtPackets_=[],this.currentPacketBeingBuilt_=[],this.bytesLeftToAddInCurrentPacket_=0},shaka.cea.DtvccPacket=function(e){this.pos_=0,this.packetData_=e},shaka.cea.DtvccPacket.prototype.hasMoreData=function(){return this.pos_<this.packetData_.length},shaka.cea.DtvccPacket.prototype.getPosition=function(){return this.pos_},shaka.cea.DtvccPacket.prototype.readByte=function(){if(!this.hasMoreData())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS);return this.packetData_[this.pos_++]},shaka.cea.DtvccPacket.prototype.skip=function(e){if(this.pos_+e>this.packetData_.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS);this.pos_+=e},shaka.cea.DtvccPacketBuilder.DTVCC_PACKET_DATA=2,shaka.cea.DtvccPacketBuilder.DTVCC_PACKET_START=3,shaka.cea.Cea708Service=function(e){this.serviceNumber_=e,this.windows_=[null,null,null,null,null,null,null,null],this.currentWindow_=null},shaka.cea.Cea708Service.prototype.handleCea708ControlCode=function(e){var t=e.readByte(),r=t.value;(t=t.pts,r===shaka.cea.Cea708Service.EXT_CEA708_CTRL_CODE_BYTE1)&&(r=r<<16|e.readByte().value);return 0<=r&&31>=r?this.handleC0_(r,t):128<=r&&159>=r?this.handleC1_(e,r,t):(4096<=r&&4127>=r?this.handleC2_(e,255&r):4224<=r&&4255>=r?this.handleC3_(e,255&r):32<=r&&127>=r?this.handleG0_(r):160<=r&&255>=r?this.handleG1_(r):4128<=r&&4223>=r?this.handleG2_(255&r):4256<=r&&4351>=r&&this.handleG3_(255&r),null)},shaka.cea.Cea708Service.prototype.handleG0_=function(e){this.currentWindow_&&(127===e?this.currentWindow_.setCharacter("\u266a"):this.currentWindow_.setCharacter(String.fromCharCode(e)))},shaka.cea.Cea708Service.prototype.handleG1_=function(e){this.currentWindow_&&this.currentWindow_.setCharacter(String.fromCharCode(e))},shaka.cea.Cea708Service.prototype.handleG2_=function(e){this.currentWindow_&&(shaka.cea.Cea708Service.G2Charset.has(e)?(e=shaka.cea.Cea708Service.G2Charset.get(e),this.currentWindow_.setCharacter(e)):this.currentWindow_.setCharacter("_"))},shaka.cea.Cea708Service.prototype.handleG3_=function(e){this.currentWindow_&&(160!=e?this.currentWindow_.setCharacter("_"):this.currentWindow_.setCharacter("[CC]"))},shaka.cea.Cea708Service.prototype.handleC0_=function(e,t){if(!this.currentWindow_)return null;var r=this.currentWindow_,n=null;switch(e){case shaka.cea.Cea708Service.ASCII_BACKSPACE:r.backspace();break;case shaka.cea.Cea708Service.ASCII_CARRIAGE_RETURN:r.isVisible()&&(n=r.forceEmit(t,this.serviceNumber_)),r.carriageReturn();break;case shaka.cea.Cea708Service.ASCII_HOR_CARRIAGE_RETURN:r.isVisible()&&(n=r.forceEmit(t,this.serviceNumber_)),r.horizontalCarriageReturn();break;case shaka.cea.Cea708Service.ASCII_FORM_FEED:r.isVisible()&&(n=r.forceEmit(t,this.serviceNumber_)),r.resetMemory(),r.setPenLocation(0,0)}return n},shaka.cea.Cea708Service.prototype.handleC1_=function(e,t,r){if(128<=t&&135>=t)this.setCurrentWindow_(7&t);else{if(136===t)return e=e.readByte().value,this.clearWindows_(e,r);if(137===t)e=e.readByte().value,this.displayWindows_(e,r);else{if(138===t)return e=e.readByte().value,this.hideWindows_(e,r);if(139===t)return e=e.readByte().value,this.toggleWindows_(e,r);if(140===t)return e=e.readByte().value,this.deleteWindows_(e,r);if(143===t)return this.reset_(r);144===t?this.setPenAttributes_(e):145===t?this.setPenColor_(e):146===t?this.setPenLocation_(e):151===t?this.setWindowAttributes_(e):152<=t&&159>=t&&this.defineWindow_(e,(15&t)-8,r)}}return null},shaka.cea.Cea708Service.prototype.handleC2_=function(e,t){8<=t&&15>=t?e.skip(1):16<=t&&23>=t?e.skip(2):24<=t&&31>=t&&e.skip(3)},shaka.cea.Cea708Service.prototype.handleC3_=function(e,t){128<=t&&135>=t?e.skip(4):136<=t&&143>=t&&e.skip(5)},shaka.cea.Cea708Service.prototype.setCurrentWindow_=function(e){this.windows_[e]&&(this.currentWindow_=this.windows_[e])},shaka.cea.Cea708Service.prototype.getSpecifiedWindowIds_=function e(t){var r,n=this;return $jscomp.generator.createGenerator(e,(function(e){return 1==e.nextAddress&&(r=0),5!=e.nextAddress?8>r?1===(1&t)&&n.windows_[r]?e.yield(r,5):e.jumpTo(5):e.jumpTo(0):(t>>=1,r++,e.jumpTo(2))}))},shaka.cea.Cea708Service.prototype.clearWindows_=function(e,t){for(var r=null,n=$jscomp.makeIterator(this.getSpecifiedWindowIds_(e)),i=n.next();!i.done;i=n.next())(i=this.windows_[i.value]).isVisible()&&(r=i.forceEmit(t,this.serviceNumber_)),i.resetMemory();return r},shaka.cea.Cea708Service.prototype.displayWindows_=function(e,t){for(var r=$jscomp.makeIterator(this.getSpecifiedWindowIds_(e)),n=r.next();!n.done;n=r.next())(n=this.windows_[n.value]).isVisible()||n.setStartTime(t),n.display()},shaka.cea.Cea708Service.prototype.hideWindows_=function(e,t){for(var r=null,n=$jscomp.makeIterator(this.getSpecifiedWindowIds_(e)),i=n.next();!i.done;i=n.next())(i=this.windows_[i.value]).isVisible()&&(r=i.forceEmit(t,this.serviceNumber_)),i.hide();return r},shaka.cea.Cea708Service.prototype.toggleWindows_=function(e,t){for(var r=null,n=$jscomp.makeIterator(this.getSpecifiedWindowIds_(e)),i=n.next();!i.done;i=n.next())(i=this.windows_[i.value]).isVisible()?r=i.forceEmit(t,this.serviceNumber_):i.setStartTime(t),i.toggle();return r},shaka.cea.Cea708Service.prototype.deleteWindows_=function(e,t){for(var r=null,n=$jscomp.makeIterator(this.getSpecifiedWindowIds_(e)),i=n.next();!i.done;i=n.next()){i=i.value;var a=this.windows_[i];a.isVisible()&&(r=a.forceEmit(t,this.serviceNumber_)),this.windows_[i]=null}return r},shaka.cea.Cea708Service.prototype.reset_=function(e){return e=this.deleteWindows_(255,e),this.clear(),e},shaka.cea.Cea708Service.prototype.clear=function(){this.currentWindow_=null,this.windows_=[null,null,null,null,null,null,null,null]},shaka.cea.Cea708Service.prototype.setPenAttributes_=function(e){if(e.skip(1),e=e.readByte().value,this.currentWindow_){var t=0<(64&e);this.currentWindow_.setPenItalics(0<(128&e)),this.currentWindow_.setPenUnderline(t)}},shaka.cea.Cea708Service.prototype.setPenColor_=function(e){var t=e.readByte().value,r=e.readByte().value;if(e.skip(1),this.currentWindow_){e=3&r;var n=(12&r)>>2;r=(48&r)>>4,t=this.rgbColorToHex_((48&t)>>4,(12&t)>>2,3&t),e=this.rgbColorToHex_(r,n,e),this.currentWindow_.setPenTextColor(t),this.currentWindow_.setPenBackgroundColor(e)}},shaka.cea.Cea708Service.prototype.setPenLocation_=function(e){var t=e.readByte().value;e=e.readByte().value,this.currentWindow_&&this.currentWindow_.setPenLocation(15&t,63&e)},shaka.cea.Cea708Service.prototype.setWindowAttributes_=function(e){e.skip(1),e.skip(1);var t=e.readByte().value;e.skip(1),this.currentWindow_&&this.currentWindow_.setJustification(3&t)},shaka.cea.Cea708Service.prototype.defineWindow_=function(e,t,r){var n=null!==this.windows_[t];if(!n){var i=new shaka.cea.Cea708Window(t);i.setStartTime(r),this.windows_[t]=i}var a=e.readByte().value,o=e.readByte().value;r=e.readByte().value;var s=e.readByte().value;i=e.readByte().value,e=e.readByte().value,a=0<(32&a);var l=127&o;o=0<(128&o);var u=1+(15&s);s=(240&s)>>4,i=1+(63&i),n&&0===(7&e)||this.windows_[t].resetPen(),this.windows_[t].defineWindow(a,l,r,s,o,u,i),this.currentWindow_=this.windows_[t]},shaka.cea.Cea708Service.prototype.rgbColorToHex_=function(e,t,r){var n={0:0,1:0,2:1,3:1};return e=n[e],t=n[t],r=n[r],shaka.cea.Cea708Service.Colors[e<<2|t<<1|r]},shaka.cea.Cea708Service.ASCII_BACKSPACE=8,shaka.cea.Cea708Service.ASCII_FORM_FEED=12,shaka.cea.Cea708Service.ASCII_CARRIAGE_RETURN=13,shaka.cea.Cea708Service.ASCII_HOR_CARRIAGE_RETURN=14,shaka.cea.Cea708Service.EXT_CEA708_CTRL_CODE_BYTE1=16,shaka.cea.Cea708Service.G2Charset=new Map([[32," "],[33,"\xa0"],[37,"\u2026"],[42,"\u0160"],[44,"\u0152"],[48,"\u2588"],[49,"\u2018"],[50,"\u2019"],[51,"\u201c"],[52,"\u201d"],[53,"\u2022"],[57,"\u2122"],[58,"\u0161"],[60,"\u0153"],[61,"\u2120"],[63,"\u0178"],[118,"\u215b"],[119,"\u215c"],[120,"\u215d"],[121,"\u215e"],[122,"\u2502"],[123,"\u2510"],[124,"\u2514"],[125,"\u2500"],[126,"\u2518"],[127,"\u250c"]]),shaka.cea.Cea708Service.Colors="black blue green cyan red magenta yellow white".split(" "),shaka.cea.Cea608Memory=function(e,t){this.rows_=[],this.row_=1,this.scrollRows_=0,this.fieldNum_=e,this.channelNum_=t,this.italics_=this.underline_=!1,this.textColor_=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,this.backgroundColor_=shaka.cea.CeaUtils.DEFAULT_BG_COLOR,this.reset()},shaka.cea.Cea608Memory.prototype.forceEmit=function(e,t){var r="CC"+(this.fieldNum_<<1|this.channelNum_+1),n=new shaka.text.Cue(e,t,"");return shaka.cea.CeaUtils.getParsedCaption(n,r,this.rows_,e,t)},shaka.cea.Cea608Memory.prototype.reset=function(){this.resetAllRows(),this.row_=1},shaka.cea.Cea608Memory.prototype.getRow=function(){return this.row_},shaka.cea.Cea608Memory.prototype.setRow=function(e){this.row_=e},shaka.cea.Cea608Memory.prototype.getScrollSize=function(){return this.scrollRows_},shaka.cea.Cea608Memory.prototype.setScrollSize=function(e){this.scrollRows_=e},shaka.cea.Cea608Memory.prototype.addChar=function(e,t){if(!(32>t||127<t)){var r="";switch(e){case shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN:r=shaka.cea.Cea608Memory.CharSet.BasicNorthAmericanChars.has(t)?shaka.cea.Cea608Memory.CharSet.BasicNorthAmericanChars.get(t):String.fromCharCode(t);break;case shaka.cea.Cea608Memory.CharSet.SPECIAL_NORTH_AMERICAN:r=shaka.cea.Cea608Memory.CharSet.SpecialNorthAmericanChars.get(t);break;case shaka.cea.Cea608Memory.CharSet.SPANISH_FRENCH:this.eraseChar(),r=shaka.cea.Cea608Memory.CharSet.ExtendedSpanishFrench.get(t);break;case shaka.cea.Cea608Memory.CharSet.PORTUGUESE_GERMAN:this.eraseChar(),r=shaka.cea.Cea608Memory.CharSet.ExtendedPortugueseGerman.get(t)}r&&(r=new shaka.cea.CeaUtils.StyledChar(r,this.underline_,this.italics_,this.backgroundColor_,this.textColor_),this.rows_[this.row_].push(r))}},shaka.cea.Cea608Memory.prototype.eraseChar=function(){this.rows_[this.row_].pop()},shaka.cea.Cea608Memory.prototype.moveRows=function(e,t,r){if(e>=t)for(--r;0<=r;r--)this.rows_[e+r]=this.rows_[t+r].map((function(e){return e}));else for(var n=0;n<r;n++)this.rows_[e+n]=this.rows_[t+n].map((function(e){return e}))},shaka.cea.Cea608Memory.prototype.resetRows=function(e,t){for(var r=0;r<=t;r++)this.rows_[e+r]=[]},shaka.cea.Cea608Memory.prototype.resetAllRows=function(){this.resetRows(0,shaka.cea.Cea608Memory.CC_ROWS)},shaka.cea.Cea608Memory.prototype.eraseBuffer=function(){this.row_=0<this.scrollRows_?this.scrollRows_:0,this.resetAllRows()},shaka.cea.Cea608Memory.prototype.setUnderline=function(e){this.underline_=e},shaka.cea.Cea608Memory.prototype.setItalics=function(e){this.italics_=e},shaka.cea.Cea608Memory.prototype.setTextColor=function(e){this.textColor_=e},shaka.cea.Cea608Memory.prototype.setBackgroundColor=function(e){this.backgroundColor_=e},shaka.cea.Cea608Memory.CC_ROWS=15,shaka.cea.Cea608Memory.CharSet={BASIC_NORTH_AMERICAN:0,SPECIAL_NORTH_AMERICAN:1,SPANISH_FRENCH:2,PORTUGUESE_GERMAN:3},shaka.cea.Cea608Memory.CharSet.BasicNorthAmericanChars=new Map([[39,"\u2019"],[42,"\xe1"],[92,"\xe9"],[92,"\xe9"],[94,"\xed"],[95,"\xf3"],[96,"\xfa"],[123,"\xe7"],[124,"\xf7"],[125,"\xd1"],[126,"\xf1"],[127,"\u2588"]]),shaka.cea.Cea608Memory.CharSet.SpecialNorthAmericanChars=new Map([[48,"\xae"],[49,"\xb0"],[50,"\xbd"],[51,"\xbf"],[52,"\u2122"],[53,"\xa2"],[54,"\xa3"],[55,"\u266a"],[56,"\xe0"],[57,"\u2800"],[58,"\xe8"],[59,"\xe2"],[60,"\xea"],[61,"\xee"],[62,"\xf4"],[63,"\xfb"]]),shaka.cea.Cea608Memory.CharSet.ExtendedSpanishFrench=new Map([[32,"\xc1"],[33,"\xc9"],[34,"\xd3"],[35,"\xda"],[36,"\xdc"],[37,"\xfc"],[38,"\u2018"],[39,"\xa1"],[40,"*"],[41,"'"],[42,"\u2500"],[43,"\xa9"],[44,"\u2120"],[45,"\xb7"],[46,"\u201c"],[47,"\u201d"],[48,"\xc0"],[49,"\xc2"],[50,"\xc7"],[51,"\xc8"],[52,"\xca"],[53,"\xcb"],[54,"\xeb"],[55,"\xce"],[56,"\xcf"],[57,"\xef"],[58,"\xd4"],[59,"\xd9"],[60,"\xf9"],[61,"\xdb"],[62,"\xab"],[63,"\xbb"]]),shaka.cea.Cea608Memory.CharSet.ExtendedPortugueseGerman=new Map([[32,"\xc3"],[33,"\xe3"],[34,"\xcd"],[35,"\xcc"],[36,"\xec"],[37,"\xd2"],[38,"\xf2"],[39,"\xd5"],[40,"\xf5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xc4"],[49,"\xe4"],[50,"\xd6"],[51,"\xf6"],[52,"\xdf"],[53,"\xa5"],[54,"\xa4"],[55,"\u2502"],[56,"\xc5"],[57,"\xe5"],[58,"\xd8"],[59,"\xf8"],[60,"\u250c"],[61,"\u2510"],[62,"\u2514"],[63,"\u2518"]]),shaka.cea.Cea608DataChannel=function(e,t){this.type_=shaka.cea.Cea608DataChannel.CaptionType.NONE,this.text_=new shaka.cea.Cea608Memory(e,t),this.displayedMemory_=new shaka.cea.Cea608Memory(e,t),this.nonDisplayedMemory_=new shaka.cea.Cea608Memory(e,t),this.curbuf_=this.displayedMemory_,this.prevEndTime_=0,this.lastcp_=null},shaka.cea.Cea608DataChannel.prototype.reset=function(){this.type_=shaka.cea.Cea608DataChannel.CaptionType.PAINTON,this.curbuf_=this.displayedMemory_,this.lastcp_=null,this.displayedMemory_.reset(),this.nonDisplayedMemory_.reset(),this.text_.reset()},shaka.cea.Cea608DataChannel.prototype.pacToRow_=function(e,t){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&e)<<1|t>>5&1]},shaka.cea.Cea608DataChannel.prototype.controlPac_=function(e,t){var r=this.pacToRow_(e,t),n=(30&t)>>1,i=shaka.cea.CeaUtils.DEFAULT_TXT_COLOR,a=!1;if(7>n?i=shaka.cea.Cea608DataChannel.TEXT_COLORS[n]:7===n&&(a=!0),n=1===(1&t),this.type_!==shaka.cea.Cea608DataChannel.CaptionType.TEXT){var o=this.curbuf_;if(this.type_===shaka.cea.Cea608DataChannel.CaptionType.ROLLUP&&r!==o.getRow()){var s=1+o.getRow()-o.getScrollSize(),l=1+r-o.getScrollSize();o.moveRows(l,s,o.getScrollSize()),o.resetRows(0,l-1),o.resetRows(r+1,shaka.cea.Cea608Memory.CC_ROWS-r)}o.setRow(r),this.curbuf_.setUnderline(n),this.curbuf_.setItalics(a),this.curbuf_.setTextColor(i),this.curbuf_.setBackgroundColor(shaka.cea.CeaUtils.DEFAULT_BG_COLOR)}},shaka.cea.Cea608DataChannel.prototype.controlMidrow_=function(e){this.curbuf_.setUnderline(!1),this.curbuf_.setItalics(!1),this.curbuf_.setTextColor(shaka.cea.CeaUtils.DEFAULT_TXT_COLOR),this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN,32);var t=!1,r=shaka.cea.Cea608DataChannel.TEXT_COLORS[(14&e)>>1];"white_italics"===r&&(r="white",t=!0),this.curbuf_.setUnderline(1===(1&e)),this.curbuf_.setItalics(t),this.curbuf_.setTextColor(r)},shaka.cea.Cea608DataChannel.prototype.controlBackgroundAttribute_=function(e,t){var r=shaka.cea.CeaUtils.DEFAULT_BG_COLOR;0===(7&e)&&(r=shaka.cea.Cea608DataChannel.BG_COLORS[(14&t)>>1]),this.curbuf_.setBackgroundColor(r)},shaka.cea.Cea608DataChannel.prototype.controlMiscellaneous_=function(e){var t=shaka.cea.Cea608DataChannel.MiscCmd_,r=e.pts,n=null;switch(e.ccData2){case t.RCL:this.controlRcl_();break;case t.BS:this.controlBs_();break;case t.RU2:n=this.controlRu_(2,r);break;case t.RU3:n=this.controlRu_(3,r);break;case t.RU4:n=this.controlRu_(4,r);break;case t.FON:this.controlFon_();break;case t.RDC:this.controlRdc_(r);break;case t.TR:this.controlTr_();break;case t.RTD:this.controlRtd_();break;case t.EDM:n=this.controlEdm_(r);break;case t.CR:n=this.controlCr_(r);break;case t.ENM:this.controlEnm_();break;case t.EOC:n=this.controlEoc_(r)}return n},shaka.cea.Cea608DataChannel.prototype.controlCr_=function(e){var t=this.curbuf_;if(this.type_!==shaka.cea.Cea608DataChannel.CaptionType.ROLLUP)return null;var r=t.forceEmit(this.prevEndTime_,e),n=t.getRow()-t.getScrollSize()+1;return t.moveRows(n-1,n,t.getScrollSize()),t.resetRows(0,n-1),t.resetRows(t.getRow(),shaka.cea.Cea608Memory.CC_ROWS-t.getRow()),this.prevEndTime_=e,r},shaka.cea.Cea608DataChannel.prototype.controlRu_=function(e,t){var r=this.curbuf_=this.displayedMemory_,n=null;return this.type_!==shaka.cea.Cea608DataChannel.CaptionType.ROLLUP&&this.type_!==shaka.cea.Cea608DataChannel.CaptionType.TEXT&&(n=r.forceEmit(this.prevEndTime_,t),this.displayedMemory_.eraseBuffer(),this.nonDisplayedMemory_.eraseBuffer(),r.setRow(shaka.cea.Cea608Memory.CC_ROWS)),this.type_=shaka.cea.Cea608DataChannel.CaptionType.ROLLUP,r.setScrollSize(e),n},shaka.cea.Cea608DataChannel.prototype.controlFon_=function(){this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN,32)},shaka.cea.Cea608DataChannel.prototype.controlEdm_=function(e){var t=this.displayedMemory_,r=null;return this.type_!==shaka.cea.Cea608DataChannel.CaptionType.TEXT&&(r=t.forceEmit(this.prevEndTime_,e)),t.resetAllRows(),r},shaka.cea.Cea608DataChannel.prototype.controlRdc_=function(e){this.type_=shaka.cea.Cea608DataChannel.CaptionType.PAINTON,this.curbuf_=this.displayedMemory_,this.curbuf_.setScrollSize(0),this.prevEndTime_=e},shaka.cea.Cea608DataChannel.prototype.controlEnm_=function(){this.nonDisplayedMemory_.resetAllRows()},shaka.cea.Cea608DataChannel.prototype.controlEoc_=function(e){var t=null;this.type_!==shaka.cea.Cea608DataChannel.CaptionType.TEXT&&(t=this.displayedMemory_.forceEmit(this.prevEndTime_,e));var r=this.nonDisplayedMemory_;return this.nonDisplayedMemory_=this.displayedMemory_,this.displayedMemory_=r,this.controlRcl_(),this.prevEndTime_=e,t},shaka.cea.Cea608DataChannel.prototype.controlRcl_=function(){this.type_=shaka.cea.Cea608DataChannel.CaptionType.POPON,this.curbuf_=this.nonDisplayedMemory_,this.curbuf_.setScrollSize(0)},shaka.cea.Cea608DataChannel.prototype.controlBs_=function(){this.curbuf_.eraseChar()},shaka.cea.Cea608DataChannel.prototype.controlTr_=function(){this.text_.reset(),this.controlRtd_()},shaka.cea.Cea608DataChannel.prototype.controlRtd_=function(){shaka.log.warnOnce("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),this.curbuf_=this.text_,this.type_=shaka.cea.Cea608DataChannel.CaptionType.TEXT},shaka.cea.Cea608DataChannel.prototype.handleBasicNorthAmericanChar=function(e,t){this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN,e),this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.BASIC_NORTH_AMERICAN,t)},shaka.cea.Cea608DataChannel.prototype.handleExtendedWesternEuropeanChar_=function(e,t){this.curbuf_.addChar(1&e?shaka.cea.Cea608Memory.CharSet.PORTUGUESE_GERMAN:shaka.cea.Cea608Memory.CharSet.SPANISH_FRENCH,t)},shaka.cea.Cea608DataChannel.prototype.handleControlCode=function(e){var t=e.ccData1,r=e.ccData2;if(this.lastcp_===(t<<8|r))return this.lastcp_=null;if(this.lastcp_=t<<8|r,this.isPAC_(t,r))this.controlPac_(t,r);else if(this.isMidrowStyleChange_(t,r))this.controlMidrow_(r);else if(this.isBackgroundAttribute_(t,r))this.controlBackgroundAttribute_(t,r);else if(this.isSpecialNorthAmericanChar_(t,r))this.curbuf_.addChar(shaka.cea.Cea608Memory.CharSet.SPECIAL_NORTH_AMERICAN,r);else if(this.isExtendedWesternEuropeanChar_(t,r))this.handleExtendedWesternEuropeanChar_(t,r);else if(this.isMiscellaneous_(t,r))return this.controlMiscellaneous_(e);return null},shaka.cea.Cea608DataChannel.prototype.isMiscellaneous_=function(e,t){return 20===(246&e)&&32===(240&t)},shaka.cea.Cea608DataChannel.prototype.isPAC_=function(e,t){return 16===(240&e)&&64===(192&t)},shaka.cea.Cea608DataChannel.prototype.isMidrowStyleChange_=function(e,t){return 17===(247&e)&&32===(240&t)},shaka.cea.Cea608DataChannel.prototype.isBackgroundAttribute_=function(e,t){return 16===(247&e)&&32===(240&t)||23===(247&e)&&45===(255&t)},shaka.cea.Cea608DataChannel.prototype.isSpecialNorthAmericanChar_=function(e,t){return 17===(247&e)&&48===(240&t)},shaka.cea.Cea608DataChannel.prototype.isExtendedWesternEuropeanChar_=function(e,t){return 18===(246&e)&&32===(224&t)},shaka.cea.Cea608DataChannel.isControlCode=function(e){return 16===(112&e)},shaka.cea.Cea608DataChannel.MiscCmd_={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},shaka.cea.Cea608DataChannel.CaptionType={NONE:0,POPON:1,PAINTON:2,ROLLUP:3,TEXT:4},shaka.cea.Cea608DataChannel.BG_COLORS="black green blue cyan red yellow magenta black".split(" "),shaka.cea.Cea608DataChannel.TEXT_COLORS="white green blue cyan red yellow magenta white_italics".split(" "),shaka.cea.CeaDecoder=function(){this.cea608DataArray_=[],this.cea708DataArray_=[],this.dtvccPacketBuilder_=new shaka.cea.DtvccPacketBuilder,this.badFrames_=0,this.cea608ModeToStream_=new Map([["CC1",new shaka.cea.Cea608DataChannel(0,0)],["CC2",new shaka.cea.Cea608DataChannel(0,1)],["CC3",new shaka.cea.Cea608DataChannel(1,0)],["CC4",new shaka.cea.Cea608DataChannel(1,1)]]),this.currentField2Channel_=this.currentField1Channel_=0,this.serviceNumberToService_=new Map,this.reset()},shaka.cea.CeaDecoder.prototype.clear=function(){this.badFrames_=0,this.cea608DataArray_=[],this.cea708DataArray_=[],this.dtvccPacketBuilder_.clear(),this.reset();for(var e=$jscomp.makeIterator(this.serviceNumberToService_.values()),t=e.next();!t.done;t=e.next())t.value.clear()},shaka.cea.CeaDecoder.prototype.reset=function(){this.currentField2Channel_=this.currentField1Channel_=0;for(var e=$jscomp.makeIterator(this.cea608ModeToStream_.values()),t=e.next();!t.done;t=e.next())t.value.reset()},shaka.cea.CeaDecoder.prototype.extract=function(e,t){var r=new shaka.util.DataViewReader(e,shaka.util.DataViewReader.Endianness.BIG_ENDIAN);if(r.readUint8()===shaka.cea.CeaDecoder.USA_COUNTRY_CODE&&r.readUint16()===shaka.cea.CeaDecoder.ATSC_PROVIDER_CODE&&r.readUint32()===shaka.cea.CeaDecoder.ATSC1_USER_IDENTIFIER&&3===r.readUint8()){var n=r.readUint8();if(0!==(64&n)){n&=31,r.skip(1);for(var i=0;i<n;i++){var a=r.readUint8(),o=(4&a)>>2,s=r.readUint8(),l=r.readUint8();o&&((a&=3)===shaka.cea.CeaDecoder.NTSC_CC_FIELD_1||a===shaka.cea.CeaDecoder.NTSC_CC_FIELD_2?this.cea608DataArray_.push({pts:t,type:a,ccData1:s,ccData2:l,order:this.cea608DataArray_.length}):(this.cea708DataArray_.push({pts:t,type:a,value:s,order:this.cea708DataArray_.length}),this.cea708DataArray_.push({pts:t,type:shaka.cea.DtvccPacketBuilder.DTVCC_PACKET_DATA,value:l,order:this.cea708DataArray_.length})))}}}},shaka.cea.CeaDecoder.prototype.decode=function(){var e=[],t=function(e,t){return e.pts-t.pts||e.order-t.order};this.cea608DataArray_.sort(t),this.cea708DataArray_.sort(t);for(var r=(t=$jscomp.makeIterator(this.cea608DataArray_)).next();!r.done;r=t.next())(r=this.decodeCea608_(r.value))&&e.push(r);for(r=(t=$jscomp.makeIterator(this.cea708DataArray_)).next();!r.done;r=t.next())this.dtvccPacketBuilder_.addByte(r.value);for(t=this.dtvccPacketBuilder_.getBuiltPackets(),r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())r=this.decodeCea708_(r.value),e.push.apply(e,$jscomp.arrayFromIterable(r));return this.dtvccPacketBuilder_.clearBuiltPackets(),this.cea608DataArray_=[],this.cea708DataArray_=[],e},shaka.cea.CeaDecoder.prototype.decodeCea608_=function(e){var t=e.type;if(shaka.cea.Cea608DataChannel.isControlCode(e.ccData1)){var r=e.ccData1>>3&1;0===t?this.currentField1Channel_=r:this.currentField2Channel_=r}return t=this.cea608ModeToStream_.get("CC"+(t<<1|(t?this.currentField2Channel_:this.currentField1Channel_)+1)),255===e.ccData1&&255===e.ccData2||!e.ccData1&&!e.ccData2||!this.isOddParity_(e.ccData1)||!this.isOddParity_(e.ccData2)?(45<=++this.badFrames_&&this.reset(),null):(this.badFrames_=0,e.ccData1&=127,e.ccData2&=127,e.ccData1||e.ccData2?(r=null,shaka.cea.Cea608DataChannel.isControlCode(e.ccData1)?r=t.handleControlCode(e):t.handleBasicNorthAmericanChar(e.ccData1,e.ccData2),r):null)},shaka.cea.CeaDecoder.prototype.decodeCea708_=function(e){var t=[];try{for(;e.hasMoreData();){var r=e.readByte().value,n=(224&r)>>5,i=31&r;if(7===n&&0!=i&&(n=63&e.readByte().value),0!=n){if(!this.serviceNumberToService_.has(n)){var a=new shaka.cea.Cea708Service(n);this.serviceNumberToService_.set(n,a)}for(var o=this.serviceNumberToService_.get(n),s=e.getPosition();e.getPosition()-s<i;){var l=o.handleCea708ControlCode(e);l&&t.push(l)}}}}catch(u){if(!(u instanceof shaka.util.Error&&u.code===shaka.util.Error.Code.BUFFER_READ_OUT_OF_BOUNDS))throw u;shaka.log.warnOnce("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return t},shaka.cea.CeaDecoder.prototype.isOddParity_=function(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t},shaka.cea.CeaDecoder.ATSC_PROVIDER_CODE=49,shaka.cea.CeaDecoder.ATSC1_USER_IDENTIFIER=1195456820,shaka.cea.CeaDecoder.NTSC_CC_FIELD_1=0,shaka.cea.CeaDecoder.NTSC_CC_FIELD_2=1,shaka.cea.CeaDecoder.USA_COUNTRY_CODE=181,shaka.cea.ICeaParser=function(){},shaka.cea.ICeaParser.prototype.init=function(e){},shaka.cea.ICeaParser.prototype.parse=function(e){},shaka.cea.ICeaParser.NALU_TYPE_SEI=6,shaka.cea.ICeaParser.DEFAULT_TIMESCALE_VALUE=9e4,shaka.cea.SeiProcessor=function(){},shaka.cea.SeiProcessor.prototype.process=function e(t){var r,n,i,a,o=this;return $jscomp.generator.createGenerator(e,(function(e){if(1==e.nextAddress&&(r=o.removeEmu_(t),n=0),4!=e.nextAddress){if(!(n+r<t.length))return e.jumpTo(0);for(i=0;255==t[n];)i+=255,n++;for(i+=t[n++],a=0;255==t[n];)a+=255,n++;return a+=t[n++],4!=i?e.jumpTo(4):e.yield(t.subarray(n,n+a),4)}return n+=a,e.jumpTo(2)}))},shaka.cea.SeiProcessor.prototype.removeEmu_=function(e){for(var t=0,r=0,n=0;r<e.length;)2==t&&3==e[r]?t=0:(0==e[r]?t++:t=0,e[n]=e[r],n++),r++;return r-n},shaka.util.Mp4BoxParsers=function(){},shaka.util.Mp4BoxParsers.parseTFHD=function(e,t){var r=null,n=null,i=e.readUint32();return 1&t&&e.skip(8),2&t&&e.skip(4),8&t&&(r=e.readUint32()),16&t&&(n=e.readUint32()),{trackId:i,defaultSampleDuration:r,defaultSampleSize:n}},shaka.util.Mp4BoxParsers.parseTFDT=function(e,t){return{baseMediaDecodeTime:1==t?e.readUint64():e.readUint32()}},shaka.util.Mp4BoxParsers.parseMDHD=function(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),{timescale:e.readUint32()}},shaka.util.Mp4BoxParsers.parseTREX=function(e){return e.skip(4),e.skip(4),{defaultSampleDuration:e.readUint32(),defaultSampleSize:e=e.readUint32()}},shaka.util.Mp4BoxParsers.parseTRUN=function(e,t,r){var n=e.readUint32(),i=[];1&r&&e.skip(4),4&r&&e.skip(4);for(var a=$jscomp.makeIterator(shaka.util.Iterables.range(n)),o=a.next();!o.done;o=a.next())shaka.util.Functional.ignored(o.value),o={sampleDuration:null,sampleSize:null,sampleCompositionTimeOffset:null},256&r&&(o.sampleDuration=e.readUint32()),512&r&&(o.sampleSize=e.readUint32()),1024&r&&e.skip(4),2048&r&&(o.sampleCompositionTimeOffset=0==t?e.readUint32():e.readInt32()),i.push(o);return{sampleCount:n,sampleData:i}},shaka.util.Mp4BoxParsers.parseTKHD=function(e,t){if(1==t){e.skip(8),e.skip(8);var r=e.readUint64()}else e.skip(4),e.skip(4),r=e.readUint32();return{trackId:r}},shaka.cea.Mp4CeaParser=function(){this.seiProcessor_=new shaka.cea.SeiProcessor,this.trackIdToTimescale_=new Map,this.defaultSampleSize_=this.defaultSampleDuration_=0},shaka.cea.Mp4CeaParser.prototype.init=function(e){var t=this,r=shaka.util.Mp4Parser,n=[],i=[];if((new r).box("moov",r.children).box("mvex",r.children).fullBox("trex",(function(e){e=shaka.util.Mp4BoxParsers.parseTREX(e.reader),t.defaultSampleDuration_=e.defaultSampleDuration,t.defaultSampleSize_=e.defaultSampleSize})).box("trak",r.children).fullBox("tkhd",(function(e){goog.asserts.assert(null!=e.version,"TKHD is a full box and should have a valid version."),e=shaka.util.Mp4BoxParsers.parseTKHD(e.reader,e.version),n.push(e.trackId)})).box("mdia",r.children).fullBox("mdhd",(function(e){goog.asserts.assert(null!=e.version,"MDHD is a full box and should have a valid version."),e=shaka.util.Mp4BoxParsers.parseMDHD(e.reader,e.version),i.push(e.timescale)})).parse(e,!0),!n.length||!i.length||n.length!=i.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_CEA);n.forEach((function(e,r){t.trackIdToTimescale_.set(e,i[r])}))},shaka.cea.Mp4CeaParser.prototype.parse=function(e){var t=this,r=shaka.util.Mp4Parser,n=[],i=this.defaultSampleDuration_,a=this.defaultSampleSize_,o=[],s=null,l=shaka.cea.ICeaParser.DEFAULT_TIMESCALE_VALUE;return(new r).box("moof",r.children).box("traf",r.children).fullBox("trun",(function(e){goog.asserts.assert(null!=e.version&&null!=e.flags,"TRUN is a full box and should have a valid version & flags."),o=shaka.util.Mp4BoxParsers.parseTRUN(e.reader,e.version,e.flags).sampleData})).fullBox("tfhd",(function(e){goog.asserts.assert(null!=e.flags,"TFHD is a full box and should have valid flags."),e=shaka.util.Mp4BoxParsers.parseTFHD(e.reader,e.flags),i=e.defaultSampleDuration||t.defaultSampleDuration_,a=e.defaultSampleSize||t.defaultSampleSize_,e=e.trackId,t.trackIdToTimescale_.has(e)&&(l=t.trackIdToTimescale_.get(e))})).fullBox("tfdt",(function(e){goog.asserts.assert(null!=e.version,"TFDT is a full box and should have a valid version."),s=shaka.util.Mp4BoxParsers.parseTFDT(e.reader,e.version).baseMediaDecodeTime})).box("mdat",(function(e){if(null===s)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_CEA);t.parseMdat_(e.reader,s,l,i,a,o,n)})).parse(e,!1),n},shaka.cea.Mp4CeaParser.prototype.parseMdat_=function(e,t,r,n,i,a,o){var s=0,l=i;for(a.length&&(l=a[0].sampleSize||i);e.hasMoreData();){var u=e.readUint32();if((31&e.readUint8())==shaka.cea.ICeaParser.NALU_TYPE_SEI){var c=0;a.length>s&&(c=a[s].sampleCompositionTimeOffset||0),c=(t+c)/r;for(var d=$jscomp.makeIterator(this.seiProcessor_.process(e.readBytes(u-1))),f=d.next();!f.done;f=d.next())o.push({packet:f.value,pts:c})}else e.skip(u-1);0==(l-=u+4)&&(t=a.length>s?t+(a[s].sampleDuration||n):t+n,s++,l=a.length>s&&a[s].sampleSize||i)}},shaka.media.IClosedCaptionParser=function(){},shaka.media.IClosedCaptionParser.prototype.init=function(e){},shaka.media.IClosedCaptionParser.prototype.parseFrom=function(e){},shaka.media.IClosedCaptionParser.prototype.reset=function(){},shaka.media.ClosedCaptionParser=function(){this.ceaParser_=new shaka.cea.Mp4CeaParser,this.ceaDecoder_=new shaka.cea.CeaDecoder},shaka.media.ClosedCaptionParser.prototype.init=function(e){this.ceaParser_.init(e)},shaka.media.ClosedCaptionParser.prototype.parseFrom=function(e){e=this.ceaParser_.parse(e);for(var t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){t=t.value;var r=shaka.util.BufferUtils.toUint8(t.packet);this.ceaDecoder_.extract(r,t.pts)}return this.ceaDecoder_.decode()},shaka.media.ClosedCaptionParser.prototype.reset=function(){this.ceaDecoder_.clear()},shaka.media.TimeRangesUtils=function(){},shaka.media.TimeRangesUtils.bufferStart=function(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null},shaka.media.TimeRangesUtils.bufferEnd=function(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null},shaka.media.TimeRangesUtils.isBuffered=function(e,t,r){return r=void 0===r?0:r,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+r>=e.start(0)},shaka.media.TimeRangesUtils.bufferedAheadOf=function(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var r=0,n=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(e)),i=n.next();!i.done;i=n.next()){var a=i.value;i=a.start,(a=a.end)>t&&(r+=a-Math.max(i,t))}return r},shaka.media.TimeRangesUtils.getGapIndex=function(e,t,r){var n=shaka.media.TimeRangesUtils;return!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)?null:0<=(e=n.getBufferedInfo(e).findIndex((function(e,n,i){return e.start>t&&(0==n||i[n-1].end-t<=r)})))?e:null},shaka.media.TimeRangesUtils.getBufferedInfo=function(e){if(!e)return[];for(var t=[],r=$jscomp.makeIterator(shaka.util.Iterables.range(e.length)),n=r.next();!n.done;n=r.next())n=n.value,t.push({start:e.start(n),end:e.end(n)});return t},shaka.util.IDestroyable=function(){},shaka.util.IDestroyable.prototype.destroy=function(){},goog.uri={},goog.uri.utils={},goog.uri.utils.splitRe_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.split=function(e){return e.match(goog.uri.utils.splitRe_)},goog.Uri=function(e){var t;e instanceof goog.Uri?(this.setScheme(e.getScheme()),this.setUserInfo(e.getUserInfo()),this.setDomain(e.getDomain()),this.setPort(e.getPort()),this.setPath(e.getPath()),this.setQueryData(e.getQueryData().clone()),this.setFragment(e.getFragment())):e&&(t=goog.uri.utils.split(String(e)))?(this.setScheme(t[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(t[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(t[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(t[goog.uri.utils.ComponentIndex.PORT]),this.setPath(t[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(t[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(t[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):this.queryData_=new goog.Uri.QueryData(null,null)},goog.Uri.prototype.scheme_="",goog.Uri.prototype.userInfo_="",goog.Uri.prototype.domain_="",goog.Uri.prototype.port_=null,goog.Uri.prototype.path_="",goog.Uri.prototype.fragment_="",goog.Uri.prototype.toString=function(){var e=[],t=this.getScheme();if(t&&e.push(goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":"),t=this.getDomain()){e.push("//");var r=this.getUserInfo();r&&e.push(goog.Uri.encodeSpecialChars_(r,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),e.push(goog.Uri.removeDoubleEncoding_(encodeURIComponent(t))),null!=(t=this.getPort())&&e.push(":",String(t))}return(t=this.getPath())&&(this.hasDomain()&&"/"!=t.charAt(0)&&e.push("/"),e.push(goog.Uri.encodeSpecialChars_(t,"/"==t.charAt(0)?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0))),(t=this.getEncodedQuery())&&e.push("?",t),(t=this.getFragment())&&e.push("#",goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInFragment_)),e.join("")},goog.Uri.prototype.resolve=function(e){var t=this.clone();"data"===t.scheme_&&(t=new goog.Uri);var r=e.hasScheme();r?t.setScheme(e.getScheme()):r=e.hasUserInfo(),r?t.setUserInfo(e.getUserInfo()):r=e.hasDomain(),r?t.setDomain(e.getDomain()):r=e.hasPort();var n=e.getPath();if(r)t.setPort(e.getPort());else if(r=e.hasPath()){if("/"!=n.charAt(0))if(this.hasDomain()&&!this.hasPath())n="/"+n;else{var i=t.getPath().lastIndexOf("/");-1!=i&&(n=t.getPath().substr(0,i+1)+n)}n=goog.Uri.removeDotSegments(n)}return r?t.setPath(n):r=e.hasQuery(),r?t.setQueryData(e.getQueryData().clone()):r=e.hasFragment(),r&&t.setFragment(e.getFragment()),t},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(e,t){return(this.scheme_=t?goog.Uri.decodeOrEmpty_(e,!0):e)&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(e,t){return this.userInfo_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(e,t){return this.domain_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);this.port_=e}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return null!=this.port_},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(e,t){return this.path_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()},goog.Uri.prototype.setQueryData=function(e,t){return e instanceof goog.Uri.QueryData?this.queryData_=e:(t||(e=goog.Uri.encodeSpecialChars_(e,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(e,null)),this},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(e,t){return this.fragment_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.removeDotSegments=function(e){if(".."==e||"."==e)return"";if(-1==e.indexOf("./")&&-1==e.indexOf("/."))return e;var t=0==e.lastIndexOf("/",0);e=e.split("/");for(var r=[],n=0;n<e.length;){var i=e[n++];"."==i?t&&n==e.length&&r.push(""):".."==i?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),t&&n==e.length&&r.push("")):(r.push(i),t=!0)}return r.join("/")},goog.Uri.decodeOrEmpty_=function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""},goog.Uri.encodeSpecialChars_=function(e,t,r){return null!=e?(e=encodeURI(e).replace(t,goog.Uri.encodeChar_),r&&(e=goog.Uri.removeDoubleEncoding_(e)),e):null},goog.Uri.encodeChar_=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},goog.Uri.removeDoubleEncoding_=function(e){return e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[#\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[#\?]/g,goog.Uri.reDisallowedInQuery_=/[#\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.QueryData=function(e,t){this.encodedQuery_=e||null},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_={},this.count_=0,this.encodedQuery_))for(var e=this.encodedQuery_.split("&"),t=0;t<e.length;t++){var r=e[t].indexOf("="),n=null;if(0<=r){var i=e[t].substring(0,r);n=e[t].substring(r+1)}else i=e[t];i=decodeURIComponent(i.replace(/\+/g," ")),n=n||"",this.add(i,decodeURIComponent(n.replace(/\+/g," ")))}},goog.Uri.QueryData.prototype.keyMap_=null,goog.Uri.QueryData.prototype.count_=null,goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(e,t){this.ensureKeyMapInitialized_(),this.encodedQuery_=null;var r=this.keyMap_.hasOwnProperty(e)&&this.keyMap_[e];return r||(this.keyMap_[e]=r=[]),r.push(t),goog.asserts.assert(null!=this.count_,"Should not be null."),this.count_++,this},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";var e,t=[];for(e in this.keyMap_)for(var r=encodeURIComponent(e),n=this.keyMap_[e],i=0;i<n.length;i++){var a=r;""!==n[i]&&(a+="="+encodeURIComponent(n[i])),t.push(a)}return this.encodedQuery_=t.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.clone=function(){var e=new goog.Uri.QueryData;if(e.encodedQuery_=this.encodedQuery_,this.keyMap_){var t,r={};for(t in this.keyMap_)r[t]=this.keyMap_[t].concat();e.keyMap_=r,e.count_=this.count_}return e},shaka.util.ManifestParserUtils=function(){},shaka.util.ManifestParserUtils.resolveUris=function(e,t){var r=shaka.util.Functional;if(0==t.length)return e;var n=t.map((function(e){return new goog.Uri(e)}));return e.map((function(e){return new goog.Uri(e)})).map((function(e){return n.map((function(t){return e.resolve(t)}))})).reduce(r.collapseArrays,[]).map((function(e){return e.toString()}))},shaka.util.ManifestParserUtils.createDrmInfo=function(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,sessionType:"",initData:t||[],keyIds:new Set}},shaka.util.ManifestParserUtils.guessCodecs=function(e,t){if(1==t.length)return t[0];var r=shaka.util.ManifestParserUtils.guessCodecsSafe(e,t);if(null!=r)return r;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_GUESS_CODECS,t)},shaka.util.ManifestParserUtils.guessCodecsSafe=function(e,t){for(var r=$jscomp.makeIterator(shaka.util.ManifestParserUtils.CODEC_REGEXPS_BY_CONTENT_TYPE_[e]),n=r.next();!n.done;n=r.next()){n=n.value;for(var i=$jscomp.makeIterator(t),a=i.next();!a.done;a=i.next())if(a=a.value,n.test(a.trim()))return a.trim()}return e==shaka.util.ManifestParserUtils.ContentType.TEXT?"":null},shaka.util.ManifestParserUtils.ContentType={VIDEO:"video",AUDIO:"audio",TEXT:"text",IMAGE:"image",APPLICATION:"application"},shaka.util.ManifestParserUtils.TextStreamKind={SUBTITLE:"subtitle",CLOSED_CAPTION:"caption"},shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS=1/15,shaka.util.ManifestParserUtils.VIDEO_CODEC_REGEXPS_=[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],shaka.util.ManifestParserUtils.AUDIO_CODEC_REGEXPS_=[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],shaka.util.ManifestParserUtils.TEXT_CODEC_REGEXPS_=[/^vtt$/,/^wvtt/,/^stpp/],shaka.util.ManifestParserUtils.CODEC_REGEXPS_BY_CONTENT_TYPE_={audio:shaka.util.ManifestParserUtils.AUDIO_CODEC_REGEXPS_,video:shaka.util.ManifestParserUtils.VIDEO_CODEC_REGEXPS_,text:shaka.util.ManifestParserUtils.TEXT_CODEC_REGEXPS_},shaka.util.PublicPromise=function(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r},shaka.util.PublicPromise.prototype.resolve=function(e){},shaka.util.PublicPromise.prototype.reject=function(e){},shaka.dependencies=function(){},shaka.dependencies.add=function(e,t){if(!shaka.dependencies.Allowed[e])throw Error(e+" is not supported");shaka.dependencies.dependencies_.set(e,(function(){return t}))},shaka.dependencies.has=function(e){return shaka.dependencies.dependencies_.has(e)},shaka.dependencies.muxjs=function(){return shaka.dependencies.dependencies_.get(shaka.dependencies.Allowed.muxjs)()},goog.exportSymbol("shaka.dependencies",shaka.dependencies),goog.exportProperty(shaka.dependencies,"has",shaka.dependencies.has),goog.exportProperty(shaka.dependencies,"add",shaka.dependencies.add),shaka.dependencies.Allowed={muxjs:"muxjs"},goog.exportProperty(shaka.dependencies,"Allowed",shaka.dependencies.Allowed),shaka.dependencies.dependencies_=new Map([[shaka.dependencies.Allowed.muxjs,function(){return window.muxjs}]]),shaka.media.Transmuxer=function(){var e=this;this.muxjs_=shaka.dependencies.muxjs(),this.muxTransmuxer_=new this.muxjs_.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.transmuxPromise_=null,this.transmuxedData_=[],this.captions_=[],this.metadata_=[],this.isTransmuxing_=!1,this.muxTransmuxer_.on("data",(function(t){return e.onTransmuxed_(t)})),this.muxTransmuxer_.on("done",(function(){return e.onTransmuxDone_()}))},shaka.media.Transmuxer.prototype.destroy=function(){return this.muxTransmuxer_.dispose(),this.muxTransmuxer_=null,Promise.resolve()},shaka.media.Transmuxer.isSupported=function(e,t){var r=shaka.media.Transmuxer;if(!shaka.dependencies.muxjs()||!r.isTsContainer(e))return!1;if(t)return MediaSource.isTypeSupported(r.convertTsCodecs(t,e));var n=shaka.util.ManifestParserUtils.ContentType,i=r.convertTsCodecs(n.AUDIO,e);return r=r.convertTsCodecs(n.VIDEO,e),MediaSource.isTypeSupported(i)||MediaSource.isTypeSupported(r)},shaka.media.Transmuxer.isTsContainer=function(e){return"mp2t"==e.toLowerCase().split(";")[0].split("/")[1]},shaka.media.Transmuxer.convertTsCodecs=function(e,t){var r=shaka.util.ManifestParserUtils.ContentType,n=t.replace(/mp2t/i,"mp4");if(e==r.AUDIO&&(n=n.replace("video","audio")),r=/avc1\.(66|77|100)\.(\d+)/.exec(n)){var i="avc1.",a=r[1];"66"==a?i+="4200":"77"==a?i+="4d00":(goog.asserts.assert("100"==a,"Legacy avc1 parsing code out of sync with regex!"),i+="6400"),a=Number(r[2]),goog.asserts.assert(256>a,"Invalid legacy avc1 level number!"),i+=(a>>4).toString(16),i+=(15&a).toString(16),n=n.replace(r[0],i)}return n},shaka.media.Transmuxer.prototype.transmux=function(e){return goog.asserts.assert(!this.isTransmuxing_,"No transmuxing should be in progress."),this.isTransmuxing_=!0,this.transmuxPromise_=new shaka.util.PublicPromise,this.transmuxedData_=[],this.captions_=[],this.metadata_=[],e=shaka.util.BufferUtils.toUint8(e),this.muxTransmuxer_.push(e),this.muxTransmuxer_.flush(),this.isTransmuxing_&&this.transmuxPromise_.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.TRANSMUXING_FAILED)),this.transmuxPromise_},shaka.media.Transmuxer.prototype.onTransmuxed_=function(e){this.captions_=e.captions,this.metadata_=e.metadata,this.transmuxedData_.push(shaka.util.Uint8ArrayUtils.concat(e.initSegment,e.data))},shaka.media.Transmuxer.prototype.onTransmuxDone_=function(){var e={data:shaka.util.Uint8ArrayUtils.concat.apply(shaka.util.Uint8ArrayUtils,$jscomp.arrayFromIterable(this.transmuxedData_)),captions:this.captions_,metadata:this.metadata_};this.transmuxPromise_.resolve(e),this.isTransmuxing_=!1},shaka.util.MimeUtils=function(){},shaka.util.MimeUtils.getFullType=function(e,t){var r=e;return t&&(r+='; codecs="'+t+'"'),r},shaka.util.MimeUtils.getFullOrConvertedType=function(e,t,r){return e=shaka.util.MimeUtils.getFullType(e,t),shaka.dependencies.muxjs()&&shaka.media.Transmuxer.isTsContainer(e)?shaka.media.Transmuxer.convertTsCodecs(r,e):e},shaka.util.MimeUtils.getExtendedType=function(e){var t=[e.mimeType];return shaka.util.MimeUtils.EXTENDED_MIME_PARAMETERS_.forEach((function(r,n){var i=e[n];i&&t.push(r+'="'+i+'"')})),"PQ"==e.hdr&&t.push('eotf="smpte2084"'),t.join(";")},shaka.util.MimeUtils.getContainerType=function(e){return e.split(";")[0].split("/")[1]},shaka.util.MimeUtils.splitCodecs=function(e){return e.split(",")},shaka.util.MimeUtils.getCodecBase=function(e){return shaka.util.MimeUtils.getCodecParts_(e)[0]},shaka.util.MimeUtils.getBasicType=function(e){return e.split(";")[0]},shaka.util.MimeUtils.getCodecs=function(e){return(e=e.split(/ *; */)).shift(),(e=e.find((function(e){return e.startsWith("codecs=")})))?e.split("=")[1].replace(/^"|"$/g,""):""},shaka.util.MimeUtils.getCodecParts_=function(e){var t=e.split(".");return e=t[0],t.pop(),[e,t=t.join(".")]},shaka.util.MimeUtils.EXTENDED_MIME_PARAMETERS_=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE="application/cea-608",shaka.util.MimeUtils.CEA708_CLOSED_CAPTION_MIMETYPE="application/cea-708",shaka.text.TextEngine=function(e){this.parser_=null,this.displayer_=e,this.appendWindowStart_=this.timestampOffset_=0,this.appendWindowEnd_=1/0,this.bufferEnd_=this.bufferStart_=null,this.selectedClosedCaptionId_="",this.closedCaptionsMap_=new Map},shaka.text.TextEngine.registerParser=function(e,t){shaka.text.TextEngine.parserMap_[e]=t},shaka.text.TextEngine.unregisterParser=function(e){delete shaka.text.TextEngine.parserMap_[e]},shaka.text.TextEngine.findParser=function(e){return shaka.text.TextEngine.parserMap_[e]},shaka.text.TextEngine.isTypeSupported=function(e){return!(!shaka.text.TextEngine.parserMap_[e]&&e!=shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE&&e!=shaka.util.MimeUtils.CEA708_CLOSED_CAPTION_MIMETYPE)},shaka.text.TextEngine.prototype.destroy=function(){return this.displayer_=this.parser_=null,this.closedCaptionsMap_.clear(),Promise.resolve()},shaka.text.TextEngine.prototype.setDisplayer=function(e){this.displayer_=e},shaka.text.TextEngine.prototype.initParser=function(e){e!=shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE&&e!=shaka.util.MimeUtils.CEA708_CLOSED_CAPTION_MIMETYPE&&(e=shaka.text.TextEngine.parserMap_[e],goog.asserts.assert(e,"Text type negotiation should have happened already"),this.parser_=shaka.util.Functional.callFactory(e))},shaka.text.TextEngine.prototype.appendBuffer=function(e,t,r){var n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(goog.asserts.assert(o.parser_,"The parser should already be initialized"),s.yield(Promise.resolve(),2)):o.parser_&&o.displayer_?null==t||null==r?(o.parser_.parseInit(shaka.util.BufferUtils.toUint8(e)),s.return()):(n={periodStart:o.timestampOffset_,segmentStart:t,segmentEnd:r},i=o.parser_.parseMedia(shaka.util.BufferUtils.toUint8(e),n),a=i.filter((function(e){return e.startTime>=o.appendWindowStart_&&e.startTime<o.appendWindowEnd_})),o.displayer_.append(a),null==o.bufferStart_?o.bufferStart_=Math.max(t,o.appendWindowStart_):(goog.asserts.assert(null!=o.bufferEnd_,"There should already be a buffered range end."),goog.asserts.assert(1>=t-o.bufferEnd_,"There should not be a gap in text references >1s")),o.bufferEnd_=Math.min(r,o.appendWindowEnd_),void s.jumpToEnd()):s.return()}))},shaka.text.TextEngine.prototype.remove=function(e,t){var r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress)return n.yield(Promise.resolve(),2);r.displayer_&&r.displayer_.remove(e,t)&&(null==r.bufferStart_?goog.asserts.assert(null==r.bufferEnd_,"end must be null if startTime is null"):(goog.asserts.assert(null!=r.bufferEnd_,"end must be non-null if startTime is non-null"),t<=r.bufferStart_||e>=r.bufferEnd_||(e<=r.bufferStart_&&t>=r.bufferEnd_?r.bufferStart_=r.bufferEnd_=null:e<=r.bufferStart_&&t<r.bufferEnd_?r.bufferStart_=t:e>r.bufferStart_&&t>=r.bufferEnd_?r.bufferEnd_=e:goog.asserts.assert(!1,"removal from the middle is not supported by TextEngine")))),n.jumpToEnd()}))},shaka.text.TextEngine.prototype.setTimestampOffset=function(e){this.timestampOffset_=e},shaka.text.TextEngine.prototype.setAppendWindow=function(e,t){this.appendWindowStart_=e,this.appendWindowEnd_=t},shaka.text.TextEngine.prototype.bufferStart=function(){return this.bufferStart_},shaka.text.TextEngine.prototype.bufferEnd=function(){return this.bufferEnd_},shaka.text.TextEngine.prototype.isBuffered=function(e){return null!=this.bufferStart_&&null!=this.bufferEnd_&&(e>=this.bufferStart_&&e<this.bufferEnd_)},shaka.text.TextEngine.prototype.bufferedAheadOf=function(e){return null==this.bufferEnd_||this.bufferEnd_<e?0:(goog.asserts.assert(null!=this.bufferStart_,"start should not be null if end is not null"),this.bufferEnd_-Math.max(e,this.bufferStart_))},shaka.text.TextEngine.prototype.setSelectedClosedCaptionId=function(e,t){this.selectedClosedCaptionId_=e;var r=this.closedCaptionsMap_.get(e);if(r)for(var n=$jscomp.makeIterator(r.keys()),i=n.next();!i.done;i=n.next())(i=r.get(i.value).filter((function(e){return e.endTime<=t})))&&this.displayer_.append(i)},shaka.text.TextEngine.prototype.convertMuxjsCaptionsToShakaCaptions=function(e){for(var t=[],r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){r=r.value;var n=new shaka.text.Cue(r.startTime,r.endTime,r.text);t.push({stream:r.stream,cue:n})}return t},shaka.text.TextEngine.prototype.storeAndAppendClosedCaptions=function(e,t,r,n){for(var i=t+" "+r,a=new Map,o=(e=$jscomp.makeIterator(e)).next();!o.done;o=e.next()){var s=o.value;o=s.stream,s=s.cue,a.has(o)||a.set(o,new Map),a.get(o).has(i)||a.get(o).set(i,[]),s.startTime+=n,s.endTime+=n,s.startTime>=this.appendWindowStart_&&s.startTime<this.appendWindowEnd_&&(a.get(o).get(i).push(s),o==this.selectedClosedCaptionId_&&this.displayer_.append([s]))}for(i=(n=$jscomp.makeIterator(a.keys())).next();!i.done;i=n.next())for(i=i.value,this.closedCaptionsMap_.has(i)||this.closedCaptionsMap_.set(i,new Map),o=(e=$jscomp.makeIterator(a.get(i).keys())).next();!o.done;o=e.next())o=o.value,s=a.get(i).get(o),this.closedCaptionsMap_.get(i).set(o,s);this.bufferStart_=null==this.bufferStart_?Math.max(t,this.appendWindowStart_):Math.min(this.bufferStart_,Math.max(t,this.appendWindowStart_)),this.bufferEnd_=Math.max(this.bufferEnd_,Math.min(r,this.appendWindowEnd_))},shaka.text.TextEngine.prototype.getNumberOfClosedCaptionChannels=function(){return this.closedCaptionsMap_.size},shaka.text.TextEngine.prototype.getNumberOfClosedCaptionsInChannel=function(e){return(e=this.closedCaptionsMap_.get(e))?e.size:0},goog.exportSymbol("shaka.text.TextEngine",shaka.text.TextEngine),goog.exportProperty(shaka.text.TextEngine.prototype,"destroy",shaka.text.TextEngine.prototype.destroy),goog.exportProperty(shaka.text.TextEngine,"findParser",shaka.text.TextEngine.findParser),goog.exportProperty(shaka.text.TextEngine,"unregisterParser",shaka.text.TextEngine.unregisterParser),goog.exportProperty(shaka.text.TextEngine,"registerParser",shaka.text.TextEngine.registerParser),shaka.text.TextEngine.parserMap_={},shaka.util.Destroyer=function(e){this.destroyed_=!1,this.waitOnDestroy_=new shaka.util.PublicPromise,this.onDestroy_=e},shaka.util.Destroyer.prototype.destroyed=function(){return this.destroyed_},shaka.util.Destroyer.prototype.destroy=function(){var e=this;return this.destroyed_?this.waitOnDestroy_:(this.destroyed_=!0,this.onDestroy_().then((function(){e.waitOnDestroy_.resolve()}),(function(){e.waitOnDestroy_.resolve()})))},shaka.util.Destroyer.prototype.ensureNotDestroyed=function(e){if(this.destroyed_){if(e instanceof shaka.util.Error&&e.code==shaka.util.Error.Code.OBJECT_DESTROYED)throw e;throw shaka.util.Destroyer.destroyedError(e)}},shaka.util.Destroyer.destroyedError=function(e){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OBJECT_DESTROYED,e)},shaka.util.IReleasable=function(){},shaka.util.IReleasable.prototype.release=function(){},shaka.util.MultiMap=function(){this.map_={}},shaka.util.MultiMap.prototype.push=function(e,t){this.map_.hasOwnProperty(e)?this.map_[e].push(t):this.map_[e]=[t]},shaka.util.MultiMap.prototype.get=function(e){return(e=this.map_[e])?e.slice():null},shaka.util.MultiMap.prototype.getAll=function(){var e,t=[];for(e in this.map_)t.push.apply(t,$jscomp.arrayFromIterable(this.map_[e]));return t},shaka.util.MultiMap.prototype.remove=function(e,t){e in this.map_&&(this.map_[e]=this.map_[e].filter((function(e){return e!=t})),0==this.map_[e].length&&delete this.map_[e])},shaka.util.MultiMap.prototype.clear=function(){this.map_={}},shaka.util.MultiMap.prototype.forEach=function(e){for(var t in this.map_)e(t,this.map_[t])},shaka.util.MultiMap.prototype.size=function(){return Object.keys(this.map_).length},shaka.util.EventManager=function(){this.bindingMap_=new shaka.util.MultiMap},shaka.util.EventManager.prototype.release=function(){this.removeAll(),this.bindingMap_=null},shaka.util.EventManager.prototype.listen=function(e,t,r,n){this.bindingMap_&&(e=new shaka.util.EventManager.Binding_(e,t,r,n),this.bindingMap_.push(t,e))},shaka.util.EventManager.prototype.listenOnce=function(e,t,r,n){var i=this;this.listen(e,t,(function n(a){i.unlisten(e,t,n),r(a)}),n)},shaka.util.EventManager.prototype.unlisten=function(e,t,r){if(this.bindingMap_)for(var n=this.bindingMap_.get(t)||[],i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next())(i=i.value).target!=e||r!=i.listener&&r||(i.unlisten(),this.bindingMap_.remove(t,i))},shaka.util.EventManager.prototype.removeAll=function(){if(this.bindingMap_){for(var e=this.bindingMap_.getAll(),t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next())t.value.unlisten();this.bindingMap_.clear()}},goog.exportSymbol("shaka.util.EventManager",shaka.util.EventManager),goog.exportProperty(shaka.util.EventManager.prototype,"removeAll",shaka.util.EventManager.prototype.removeAll),goog.exportProperty(shaka.util.EventManager.prototype,"unlisten",shaka.util.EventManager.prototype.unlisten),goog.exportProperty(shaka.util.EventManager.prototype,"listenOnce",shaka.util.EventManager.prototype.listenOnce),goog.exportProperty(shaka.util.EventManager.prototype,"listen",shaka.util.EventManager.prototype.listen),goog.exportProperty(shaka.util.EventManager.prototype,"release",shaka.util.EventManager.prototype.release),shaka.util.EventManager.Binding_=function(e,t,r,n){this.target=e,this.type=t,this.listener=r,this.options=shaka.util.EventManager.Binding_.convertOptions_(e,n),this.target.addEventListener(t,r,this.options)},shaka.util.EventManager.Binding_.prototype.unlisten=function(){goog.asserts.assert(this.target,"Missing target"),this.target.removeEventListener(this.type,this.listener,this.options),this.listener=this.target=null,this.options=!1},shaka.util.EventManager.Binding_.convertOptions_=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var r=new Set(["passive","capture"]),n=Object.keys(t).filter((function(e){return!r.has(e)}));return goog.asserts.assert(0==n.length,"Unsupported flag(s) to addEventListener: "+n.join(",")),shaka.util.EventManager.Binding_.doesSupportObject_(e)?t:t.capture||!1},shaka.util.EventManager.Binding_.doesSupportObject_=function(e){var t=shaka.util.EventManager.Binding_.supportsObject_;if(void 0==t){t=!1;try{var r={},n={get:function(){return t=!0,!1}};Object.defineProperty(r,"passive",n),Object.defineProperty(r,"capture",n),n=function(){},e.addEventListener("test",n,r),e.removeEventListener("test",n,r)}catch(i){t=!1}shaka.util.EventManager.Binding_.supportsObject_=t}return t||!1},shaka.util.EventManager.Binding_.supportsObject_=void 0,shaka.media.MediaSourceEngine=function(e,t,r,n){var i=this;this.video_=e,this.textDisplayer_=r,this.sourceBuffers_={},this.sourceBufferTypes_={},this.textEngine_=null,e=function(e,t,r){},this.onMetadata_=n||e,this.queues_={},this.eventManager_=new shaka.util.EventManager,this.transmuxers_={},this.captionParser_=t,this.mediaSourceOpen_=new shaka.util.PublicPromise,this.mediaSource_=this.createMediaSource(this.mediaSourceOpen_),this.destroyer_=new shaka.util.Destroyer((function(){return i.doDestroy_()})),this.url_=""},shaka.media.MediaSourceEngine.prototype.createMediaSource=function(e){var t=this,r=new MediaSource;return this.eventManager_.listenOnce(r,"sourceopen",(function(){return t.onSourceOpen_(e)})),this.url_=shaka.media.MediaSourceEngine.createObjectURL(r),this.video_.src=this.url_,r},shaka.media.MediaSourceEngine.prototype.onSourceOpen_=function(e){URL.revokeObjectURL(this.url_),e.resolve()},shaka.media.MediaSourceEngine.isStreamSupported=function(e){var t=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs),r=shaka.util.MimeUtils.getExtendedType(e);return shaka.text.TextEngine.isTypeSupported(t)||MediaSource.isTypeSupported(r)||shaka.media.Transmuxer.isSupported(t,e.type)},shaka.media.MediaSourceEngine.probeSupport=function(){for(var e={},t=$jscomp.makeIterator('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),r=t.next();!r.done;r=t.next()){r=r.value,shaka.util.Platform.supportsMediaSource()?shaka.text.TextEngine.isTypeSupported(r)?e[r]=!0:e[r]=MediaSource.isTypeSupported(r)||shaka.media.Transmuxer.isSupported(r):e[r]=shaka.util.Platform.supportsMediaType(r);var n=r.split(";")[0];e[n]=e[n]||e[r]}return e},shaka.media.MediaSourceEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.MediaSourceEngine.prototype.doDestroy_=function(){var e,t,r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){if(1==c.nextAddress){for(r in e=shaka.util.Functional,t=[],u.queues_)for(n=u.queues_[r],i=n[0],u.queues_[r]=n.slice(0,1),i&&t.push(i.p.catch(e.noop)),a=$jscomp.makeIterator(n.slice(1)),o=a.next();!o.done;o=a.next())o.value.p.reject(shaka.util.Destroyer.destroyedError());for(s in u.textEngine_&&t.push(u.textEngine_.destroy()),u.textDisplayer_&&t.push(u.textDisplayer_.destroy()),u.transmuxers_)t.push(u.transmuxers_[s].destroy());return c.yield(Promise.all(t),2)}if(u.eventManager_&&(u.eventManager_.release(),u.eventManager_=null),u.video_&&(u.video_.removeAttribute("src"),u.video_.load(),u.video_=null),u.mediaSource_=null,u.textEngine_=null,u.textDisplayer_=null,u.sourceBuffers_={},u.transmuxers_={},u.captionParser_=null,goog.DEBUG)for(l in u.queues_)goog.asserts.assert(0==u.queues_[l].length,l+" queue should be empty after destroy!");u.queues_={},c.jumpToEnd()}))},shaka.media.MediaSourceEngine.prototype.open=function(){return this.mediaSourceOpen_},shaka.media.MediaSourceEngine.prototype.init=function(e,t){var r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){if(1==c.nextAddress)return r=shaka.util.ManifestParserUtils.ContentType,c.yield(u.mediaSourceOpen_,2);for(n={},i=$jscomp.makeIterator(e.keys()),a=i.next();!a.done;n={$jscomp$loop$prop$contentType$567:n.$jscomp$loop$prop$contentType$567},a=i.next())n.$jscomp$loop$prop$contentType$567=a.value,o=e.get(n.$jscomp$loop$prop$contentType$567),goog.asserts.assert(shaka.media.MediaSourceEngine.isStreamSupported(o),"Type negotiation should happen before MediaSourceEngine.init!"),s=shaka.util.MimeUtils.getFullType(o.mimeType,o.codecs),n.$jscomp$loop$prop$contentType$567==r.TEXT?u.reinitText(s):(!t&&MediaSource.isTypeSupported(s)||!shaka.media.Transmuxer.isSupported(s,n.$jscomp$loop$prop$contentType$567)||(u.transmuxers_[n.$jscomp$loop$prop$contentType$567]=new shaka.media.Transmuxer,s=shaka.media.Transmuxer.convertTsCodecs(n.$jscomp$loop$prop$contentType$567,s)),l=u.mediaSource_.addSourceBuffer(s),u.eventManager_.listen(l,"error",function(e){return function(){return u.onError_(e.$jscomp$loop$prop$contentType$567)}}(n)),u.eventManager_.listen(l,"updateend",function(e){return function(){return u.onUpdateEnd_(e.$jscomp$loop$prop$contentType$567)}}(n)),u.sourceBuffers_[n.$jscomp$loop$prop$contentType$567]=l,u.sourceBufferTypes_[n.$jscomp$loop$prop$contentType$567]=s,u.queues_[n.$jscomp$loop$prop$contentType$567]=[]);c.jumpToEnd()}))},shaka.media.MediaSourceEngine.prototype.reinitText=function(e){this.textEngine_||(this.textEngine_=new shaka.text.TextEngine(this.textDisplayer_)),this.textEngine_.initParser(e)},shaka.media.MediaSourceEngine.prototype.ended=function(){return!this.mediaSource_||"ended"==this.mediaSource_.readyState},shaka.media.MediaSourceEngine.prototype.bufferStart=function(e){return e==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.bufferStart():shaka.media.TimeRangesUtils.bufferStart(this.getBuffered_(e))},shaka.media.MediaSourceEngine.prototype.bufferEnd=function(e){return e==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.bufferEnd():shaka.media.TimeRangesUtils.bufferEnd(this.getBuffered_(e))},shaka.media.MediaSourceEngine.prototype.isBuffered=function(e,t,r){return e==shaka.util.ManifestParserUtils.ContentType.TEXT?this.textEngine_.isBuffered(t):(e=this.getBuffered_(e),shaka.media.TimeRangesUtils.isBuffered(e,t,r))},shaka.media.MediaSourceEngine.prototype.bufferedAheadOf=function(e,t){if(e==shaka.util.ManifestParserUtils.ContentType.TEXT)return this.textEngine_.bufferedAheadOf(t);var r=this.getBuffered_(e);return shaka.media.TimeRangesUtils.bufferedAheadOf(r,t)},shaka.media.MediaSourceEngine.prototype.getBufferedInfo=function(){var e=shaka.util.ManifestParserUtils.ContentType,t=shaka.media.TimeRangesUtils;if(e={total:t.getBufferedInfo(this.video_.buffered),audio:t.getBufferedInfo(this.getBuffered_(e.AUDIO)),video:t.getBufferedInfo(this.getBuffered_(e.VIDEO)),text:[]},this.textEngine_){t=this.textEngine_.bufferStart();var r=this.textEngine_.bufferEnd();null!=t&&null!=r&&e.text.push({start:t,end:r})}return e},shaka.media.MediaSourceEngine.prototype.getBuffered_=function(e){try{return this.sourceBuffers_[e].buffered}catch(t){return e in this.sourceBuffers_&&shaka.log.error("failed to get buffered range for "+e,t),null}},shaka.media.MediaSourceEngine.prototype.appendBuffer=function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(h){return 1==h.nextAddress?(a=shaka.util.ManifestParserUtils.ContentType,e==a.TEXT?h.yield(p.textEngine_.appendBuffer(t,r,n),0):p.transmuxers_[e]?h.yield(p.transmuxers_[e].transmux(t),10):i?(p.textEngine_||p.reinitText("text/vtt"),null==r&&null==n?p.captionParser_.init(t):(o=p.captionParser_.parseFrom(t)).length&&(s=p.sourceBuffers_[a.VIDEO].timestampOffset,p.textEngine_.storeAndAppendClosedCaptions(o,r,n,s)),t=p.workAroundBrokenPlatforms_(t,r,e),h.yield(p.enqueueOperation_(e,(function(){return p.append_(e,t)})),0)):(t=p.workAroundBrokenPlatforms_(t,r,e),h.yield(p.enqueueOperation_(e,(function(){return p.append_(e,t)})),0))):(l=h.yieldResult,p.textEngine_||p.reinitText("text/vtt"),l.metadata&&(u=p.sourceBuffers_[e].timestampOffset,p.onMetadata_(l.metadata,u,n)),l.captions&&l.captions.length&&(c=p.sourceBuffers_[a.VIDEO].timestampOffset,d=p.textEngine_.convertMuxjsCaptionsToShakaCaptions(l.captions),p.textEngine_.storeAndAppendClosedCaptions(d,r,n,c)),f=l.data,f=p.workAroundBrokenPlatforms_(f,r,e),h.yield(p.enqueueOperation_(e,(function(){return p.append_(e,f)})),0))}))},shaka.media.MediaSourceEngine.prototype.setSelectedClosedCaptionId=function(e){var t=this.bufferEnd(shaka.util.ManifestParserUtils.ContentType.VIDEO)||0;this.textEngine_.setSelectedClosedCaptionId(e,t)},shaka.media.MediaSourceEngine.prototype.clearSelectedClosedCaptionId=function(){this.textEngine_&&this.textEngine_.setSelectedClosedCaptionId("",0)},shaka.media.MediaSourceEngine.prototype.remove=function(e,t,r){var n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return n=shaka.util.ManifestParserUtils.ContentType,e==n.TEXT?a.yield(i.textEngine_.remove(t,r),0):a.yield(i.enqueueOperation_(e,(function(){return i.remove_(e,t,r)})),0)}))},shaka.media.MediaSourceEngine.prototype.clear=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return t=shaka.util.ManifestParserUtils.ContentType,e==t.TEXT?r.textEngine_?n.yield(r.textEngine_.remove(0,1/0),0):n.return():n.yield(r.enqueueOperation_(e,(function(){return r.remove_(e,0,r.mediaSource_.duration)})),0)}))},shaka.media.MediaSourceEngine.prototype.resetCaptionParser=function(){this.captionParser_.reset()},shaka.media.MediaSourceEngine.prototype.flush=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return t=shaka.util.ManifestParserUtils.ContentType,e==t.TEXT?n.return():n.yield(r.enqueueOperation_(e,(function(){return r.flush_(e)})),0)}))},shaka.media.MediaSourceEngine.prototype.setStreamProperties=function(e,t,r,n){var i,a=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return i=shaka.util.ManifestParserUtils.ContentType,e==i.TEXT?(a.textEngine_.setTimestampOffset(t),a.textEngine_.setAppendWindow(r,n),o.return()):o.yield(Promise.all([a.enqueueOperation_(e,(function(){return a.abort_(e)})),a.enqueueOperation_(e,(function(){return a.setTimestampOffset_(e,t)})),a.enqueueOperation_(e,(function(){return a.setAppendWindow_(e,r,n)}))]),0)}))},shaka.media.MediaSourceEngine.prototype.endOfStream=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return r.yield(t.enqueueBlockingOperation_((function(){t.ended()||(e?t.mediaSource_.endOfStream(e):t.mediaSource_.endOfStream())})),0)}))},shaka.media.MediaSourceEngine.prototype.setDuration=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return goog.asserts.assert(isNaN(t.mediaSource_.duration)||t.mediaSource_.duration<=e,"duration cannot decrease: "+t.mediaSource_.duration+" -> "+e),r.yield(t.enqueueBlockingOperation_((function(){t.mediaSource_.duration=e})),0)}))},shaka.media.MediaSourceEngine.prototype.getDuration=function(){return this.mediaSource_.duration},shaka.media.MediaSourceEngine.prototype.append_=function(e,t){this.sourceBuffers_[e].appendBuffer(t)},shaka.media.MediaSourceEngine.prototype.remove_=function(e,t,r){r<=t?this.onUpdateEnd_(e):this.sourceBuffers_[e].remove(t,r)},shaka.media.MediaSourceEngine.prototype.abort_=function(e){var t=this.sourceBuffers_[e].appendWindowStart,r=this.sourceBuffers_[e].appendWindowEnd;this.sourceBuffers_[e].abort(),this.sourceBuffers_[e].appendWindowStart=t,this.sourceBuffers_[e].appendWindowEnd=r,this.onUpdateEnd_(e)},shaka.media.MediaSourceEngine.prototype.flush_=function(e){goog.asserts.assert(0==this.video_.buffered.length,"MediaSourceEngine.flush_ should only be used after clearing all data!"),this.video_.currentTime-=.001,this.onUpdateEnd_(e)},shaka.media.MediaSourceEngine.prototype.setTimestampOffset_=function(e,t){0>t&&(t+=.001),this.sourceBuffers_[e].timestampOffset=t,this.onUpdateEnd_(e)},shaka.media.MediaSourceEngine.prototype.setAppendWindow_=function(e,t,r){this.sourceBuffers_[e].appendWindowStart=0,this.sourceBuffers_[e].appendWindowEnd=r,this.sourceBuffers_[e].appendWindowStart=t,this.onUpdateEnd_(e)},shaka.media.MediaSourceEngine.prototype.onError_=function(e){var t=this.queues_[e][0];goog.asserts.assert(t,"Spurious error event!"),goog.asserts.assert(!this.sourceBuffers_[e].updating,"SourceBuffer should not be updating on error!"),t.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_FAILED,this.video_.error?this.video_.error.code:0))},shaka.media.MediaSourceEngine.prototype.onUpdateEnd_=function(e){var t=this.queues_[e][0];goog.asserts.assert(t,"Spurious updateend event!"),t&&(goog.asserts.assert(!this.sourceBuffers_[e].updating,"SourceBuffer should not be updating on updateend!"),t.p.resolve(),this.popFromQueue_(e))},shaka.media.MediaSourceEngine.prototype.enqueueOperation_=function(e,t){this.destroyer_.ensureNotDestroyed();var r={start:t,p:new shaka.util.PublicPromise};return this.queues_[e].push(r),1==this.queues_[e].length&&this.startOperation_(e),r.p},shaka.media.MediaSourceEngine.prototype.enqueueBlockingOperation_=function(e){var t,r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){switch(c.nextAddress){case 1:for(n in u.destroyer_.ensureNotDestroyed(),t=[],r={},u.sourceBuffers_)r.$jscomp$loop$prop$ready$569=new shaka.util.PublicPromise,i={start:function(e){return function(){return e.$jscomp$loop$prop$ready$569.resolve()}}(r),p:r.$jscomp$loop$prop$ready$569},u.queues_[n].push(i),t.push(r.$jscomp$loop$prop$ready$569),1==u.queues_[n].length&&i.start(),r={$jscomp$loop$prop$ready$569:r.$jscomp$loop$prop$ready$569};return c.setCatchFinallyBlocks(2),c.yield(Promise.all(t),4);case 4:c.leaveTryBlock(3);break;case 2:if(a=c.enterCatchBlock(),goog.asserts.assert(u.destroyer_.destroyed(),"Should be destroyed by now"),goog.DEBUG)for(o in u.sourceBuffers_)u.queues_[o].length&&(goog.asserts.assert(1==u.queues_[o].length,"Should be at most one item in queue!"),goog.asserts.assert(t.includes(u.queues_[o][0].p),"The item in queue should be one of our waiters!"),u.queues_[o].shift());throw a;case 3:if(goog.DEBUG)for(s in u.sourceBuffers_)goog.asserts.assert(0==u.sourceBuffers_[s].updating,"SourceBuffers should not be updating after a blocking op!");try{e()}catch(d){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_THREW,d)}finally{for(l in u.sourceBuffers_)u.popFromQueue_(l)}c.jumpToEnd()}}))},shaka.media.MediaSourceEngine.prototype.popFromQueue_=function(e){this.queues_[e].shift(),this.startOperation_(e)},shaka.media.MediaSourceEngine.prototype.startOperation_=function(e){var t=this.queues_[e][0];if(t)try{t.start()}catch(r){"QuotaExceededError"==r.name?t.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.QUOTA_EXCEEDED_ERROR,e)):t.p.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MEDIA_SOURCE_OPERATION_THREW,r)),this.popFromQueue_(e)}},shaka.media.MediaSourceEngine.prototype.getTextDisplayer=function(){return goog.asserts.assert(this.textDisplayer_,"TextDisplayer should only be null when this is destroyed"),this.textDisplayer_},shaka.media.MediaSourceEngine.prototype.setTextDisplayer=function(e){var t=this.textDisplayer_;this.textDisplayer_=e,t&&(e.setTextVisibility(t.isTextVisible()),t.destroy()),this.textEngine_&&this.textEngine_.setDisplayer(e)},shaka.media.MediaSourceEngine.prototype.workAroundBrokenPlatforms_=function(e,t,r){var n=this.video_.mediaKeys;return null==t&&n&&shaka.util.Platform.requiresEncryptionInfoInAllInitSegments()&&"mp4"==shaka.util.MimeUtils.getContainerType(this.sourceBufferTypes_[r])&&(shaka.log.debug("Forcing fake encryption information in init segment."),e=shaka.media.ContentWorkarounds.fakeEncryption(e)),e},shaka.media.MediaSourceEngine.createObjectURL=window.URL.createObjectURL,shaka.util.LanguageUtils=function(){},shaka.util.LanguageUtils.areLocaleCompatible=function(e,t){var r=shaka.util.LanguageUtils;return(e=r.normalize(e))==(t=r.normalize(t))},shaka.util.LanguageUtils.areLanguageCompatible=function(e,t){var r=shaka.util.LanguageUtils;e=r.normalize(e),t=r.normalize(t);var n=r.disassembleLocale_(e);return r=r.disassembleLocale_(t),n[0]==r[0]},shaka.util.LanguageUtils.isParentOf=function(e,t){var r=shaka.util.LanguageUtils;e=r.normalize(e),t=r.normalize(t);var n=r.disassembleLocale_(e);return r=r.disassembleLocale_(t),n[0]==r[0]&&1==n.length&&2==r.length},shaka.util.LanguageUtils.isSiblingOf=function(e,t){var r=shaka.util.LanguageUtils;e=r.normalize(e),t=r.normalize(t);var n=r.disassembleLocale_(e);return r=r.disassembleLocale_(t),2==n.length&&2==r.length&&n[0]==r[0]},shaka.util.LanguageUtils.normalize=function(e){var t=shaka.util.LanguageUtils,r=e.split("-");return e=r[0]||"",r=r[1]||"",e=e.toLowerCase(),e=t.isoMap_.get(e)||e,(r=r.toUpperCase())?e+"-"+r:e},shaka.util.LanguageUtils.areSiblings=function(e,t){var r=shaka.util.LanguageUtils,n=r.getBase(e);return r=r.getBase(t),e!=n&&t!=r&&n==r},shaka.util.LanguageUtils.relatedness=function(e,t){var r=shaka.util.LanguageUtils;return e=r.normalize(e),(t=r.normalize(t))==e?4:r.isParentOf(t,e)?3:r.isSiblingOf(t,e)?2:r.isParentOf(e,t)?1:0},shaka.util.LanguageUtils.getBase=function(e){var t=shaka.util.LanguageUtils,r=e.indexOf("-");return e=(e=0<=r?e.substring(0,r):e).toLowerCase(),t.isoMap_.get(e)||e},shaka.util.LanguageUtils.getLocaleForText=function(e){var t=shaka.util.LanguageUtils;return goog.asserts.assert(e.type==shaka.util.ManifestParserUtils.ContentType.TEXT,"Can only get language from text streams"),t.normalize(e.language||"und")},shaka.util.LanguageUtils.getLocaleForVariant=function(e){var t=shaka.util.LanguageUtils;return e.language?t.normalize(e.language):e.audio&&e.audio.language?t.normalize(e.audio.language):e.video&&e.video.language?t.normalize(e.video.language):"und"},shaka.util.LanguageUtils.findClosestLocale=function(e,t){for(var r=shaka.util.LanguageUtils,n=r.normalize(e),i=new Set,a=$jscomp.makeIterator(t),o=a.next();!o.done;o=a.next())i.add(r.normalize(o.value));for(o=(a=$jscomp.makeIterator(i)).next();!o.done;o=a.next())if((o=o.value)==n)return o;for(o=(a=$jscomp.makeIterator(i)).next();!o.done;o=a.next())if(o=o.value,r.isParentOf(o,n))return o;for(o=(a=$jscomp.makeIterator(i)).next();!o.done;o=a.next())if(o=o.value,r.isSiblingOf(o,n))return o;for(o=(i=$jscomp.makeIterator(i)).next();!o.done;o=i.next())if(o=o.value,r.isParentOf(n,o))return o;return null},shaka.util.LanguageUtils.disassembleLocale_=function(e){var t=e.split("-");return goog.asserts.assert(2>=t.length,["Locales should not have more than 2 components. ",e," has too many components."].join()),t},shaka.util.LanguageUtils.isoMap_=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]),shaka.util.StreamUtils=function(){},shaka.util.StreamUtils.chooseCodecsAndFilterManifest=function(e,t){var r=shaka.util.StreamUtils,n=r.filterVariantsByAudioChannelCount(e.variants,t);n=r.getVariantsByCodecs_(n),n=r.filterVariantsByDensity_(n);var i=r.findBestCodecs_(n);e.variants=e.variants.filter((function(e){return r.getGroupVariantCodecs_(e)==i||(shaka.log.debug("Dropping Variant (better codec available)",e),!1)}))},shaka.util.StreamUtils.getVariantsByCodecs_=function(e){for(var t=new shaka.util.MultiMap,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){r=r.value;var n=shaka.util.StreamUtils.getGroupVariantCodecs_(r);t.push(n,r)}return t},shaka.util.StreamUtils.filterVariantsByDensity_=function(e){var t=0,r=new Map,n=e.size();return e.forEach((function(e,i){for(var a=$jscomp.makeIterator(i),o=a.next();!o.done;o=a.next()){var s=(o=o.value).video;if(s&&s.width&&s.height){s=s.width*s.height*(s.frameRate||1),r.has(s)||r.set(s,new shaka.util.MultiMap);var l=r.get(s);l.push(e,o),l.size()===n&&(t=Math.max(t,s))}}})),t?r.get(t):e},shaka.util.StreamUtils.findBestCodecs_=function(e){var t="",r=1/0;return e.forEach((function(e,n){for(var i=0,a=0,o=$jscomp.makeIterator(n),s=o.next();!s.done;s=o.next())i+=s.value.bandwidth||0,++a;i/=a,shaka.log.debug("codecs",e,"avg bandwidth",i),i<r&&(t=e,r=i)})),goog.asserts.assert(""!==t,"Should have chosen codecs!"),goog.asserts.assert(!isNaN(r),"Bandwidth should be a number!"),t},shaka.util.StreamUtils.getGroupVariantCodecs_=function(e){var t="";e.video&&(t=shaka.util.MimeUtils.getCodecBase(e.video.codecs));var r="";return e.audio&&(r=shaka.util.MimeUtils.getCodecBase(e.audio.codecs)),t+"-"+r},shaka.util.StreamUtils.filterByRestrictions=function(e,t,r){e.variants=e.variants.filter((function(e){return shaka.util.StreamUtils.meetsRestrictions(e,t,r)}))},shaka.util.StreamUtils.meetsRestrictions=function(e,t,r){var n=function(e,t,r){return e>=t&&e<=r},i=e.video;return!(i&&i.width&&i.height&&(!n(i.width,t.minWidth,Math.min(t.maxWidth,r.width))||!n(i.height,t.minHeight,Math.min(t.maxHeight,r.height))||!n(i.width*i.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!n(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!n(e.bandwidth,t.minBandwidth,t.maxBandwidth))},shaka.util.StreamUtils.applyRestrictions=function(e,t,r){for(var n=!1,i=(e=$jscomp.makeIterator(e)).next();!i.done;i=e.next()){var a=(i=i.value).allowedByApplication;i.allowedByApplication=shaka.util.StreamUtils.meetsRestrictions(i,t,r),a!=i.allowedByApplication&&(n=!0)}return n},shaka.util.StreamUtils.filterManifest=function(e,t,r,n){return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){if(1==i.nextAddress)return n?i.yield(shaka.util.StreamUtils.filterManifestByMediaCapabilities(r,0<r.offlineSessionIds.length),2):(shaka.util.StreamUtils.filterManifestByDrm(r,e),shaka.util.StreamUtils.filterManifestByMediaSource(r),i.jumpTo(2));shaka.util.StreamUtils.filterManifestByCurrentVariant(t,r),shaka.util.StreamUtils.filterTextStreams_(r),shaka.util.StreamUtils.filterImageStreams_(r),i.jumpToEnd()}))},shaka.util.StreamUtils.filterManifestByDrm=function(e,t){e.variants=e.variants.filter((function(e){return t&&t.initialized()&&!t.supportsVariant(e)?(shaka.log.debug("Dropping variant - not compatible with key system",e),!1):(shaka.log.debug("DrmEngine is not initialized yet."),!0)}))},shaka.util.StreamUtils.filterManifestByMediaCapabilities=function(e,t){return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return goog.asserts.assert(navigator.mediaCapabilities,"MediaCapabilities should be valid."),r.yield(shaka.util.StreamUtils.getDecodingInfosForVariants(e.variants,t),2);e.variants=e.variants.filter((function(e){var t=e.video;return shaka.util.Platform.isXboxOne()&&t&&(t.width&&1920<t.width||t.height&&1080<t.height)&&t.codecs.includes("avc1.")?(shaka.log.debug("Dropping variant - not compatible with platform",shaka.util.StreamUtils.getVariantSummaryString_(e)),!1):((t=e.decodingInfos.some((function(e){return e.supported})))||shaka.log.debug("Dropping variant - not compatible with platform",shaka.util.StreamUtils.getVariantSummaryString_(e)),t)})),r.jumpToEnd()}))},shaka.util.StreamUtils.filterManifestByMediaSource=function(e){var t=shaka.util.StreamUtils;e.variants=e.variants.filter((function(e){var r=e.audio;return e=e.video,r&&!shaka.media.MediaSourceEngine.isStreamSupported(r)?(shaka.log.debug("Dropping variant - audio not compatible with platform",t.getStreamSummaryString_(r)),!1):!(e&&!shaka.media.MediaSourceEngine.isStreamSupported(e)||shaka.util.Platform.isXboxOne()&&e&&(e.width&&1920<e.width||e.height&&1080<e.height)&&e.codecs.includes("avc1."))||(shaka.log.debug("Dropping variant - video not compatible with platform",t.getStreamSummaryString_(e)),!1)}))},shaka.util.StreamUtils.getDecodingInfosForVariants=function(e,t){var r,n,i,a,o,s,l,u,c,d;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){if(e.some((function(e){return e.decodingInfos.length})))return shaka.log.debug("Already got the variants' decodingInfo."),f.return();for(r=navigator.mediaCapabilities,n=[],i=function(e,t){var n,i;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(a.setCatchFinallyBlocks(2),a.yield(r.decodingInfo(t),4)):2!=a.nextAddress?(n=a.yieldResult,e.decodingInfos.push(n),a.leaveTryBlock(0)):(i=a.enterCatchBlock(),shaka.log.info("MediaCapabilities.decodingInfo() failed.",JSON.stringify(t),i),void a.jumpToEnd())}))},a=$jscomp.makeIterator(e),o=a.next();!o.done;o=a.next())for(s=o.value,l=shaka.util.StreamUtils.getDecodingConfigs_(s,t),u=$jscomp.makeIterator(l),c=u.next();!c.done;c=u.next())d=c.value,n.push(i(s,d));return f.yield(Promise.all(n),0)}))},shaka.util.StreamUtils.getDecodingConfigs_=function(e,t){var r=e.audio,n=e.video,i=shaka.util.ManifestParserUtils.ContentType,a={type:"media-source"};if(n){var o=n.codecs;if(n.codecs.includes(",")){var s=n.codecs.split(",");o=shaka.util.ManifestParserUtils.guessCodecs(i.VIDEO,s),o=shaka.util.StreamUtils.patchVp9(o),s=shaka.util.ManifestParserUtils.guessCodecs(i.AUDIO,s),s=shaka.util.MimeUtils.getFullOrConvertedType(n.mimeType,s,i.AUDIO),a.audio={contentType:s,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}o=shaka.util.StreamUtils.patchVp9(o),o=shaka.util.MimeUtils.getFullOrConvertedType(n.mimeType,o,i.VIDEO),a.video={contentType:o,width:n.width||1,height:n.height||1,bitrate:n.bandwidth||e.bandwidth||1,framerate:n.frameRate||1}}if(r&&(o="ac-3"==r.codecs.toLowerCase()&&shaka.util.Platform.isTizen()?"ec-3":r.codecs,i=shaka.util.MimeUtils.getFullOrConvertedType(r.mimeType,o,i.AUDIO),a.audio={contentType:i,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio}),!(s=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[a];i=[],o=new Map;for(var l=(s=$jscomp.makeIterator(s)).next();!l.done;l=s.next()){var u=l.value;o.get(u.keySystem)||o.set(u.keySystem,[]),o.get(u.keySystem).push(u)}s=t?"required":"optional",u=t?["persistent-license"]:["temporary"];for(var c=$jscomp.makeIterator(o.keys()),d=c.next();!d.done;d=c.next()){var f=d.value;d=Object.assign({},a);var p=o.get(f);for(f={keySystem:f,initDataType:"cenc",persistentState:s,distinctiveIdentifier:"optional",sessionTypes:u},l=(p=$jscomp.makeIterator(p)).next();!l.done;l=p.next()){if((l=l.value).initData&&l.initData.length){for(var h=new Set,g=$jscomp.makeIterator(l.initData),m=g.next();!m.done;m=g.next())h.add(m.value.initDataType);1<h.size&&shaka.log.v2("DrmInfo contains more than one initDataType,","and we use the initDataType of the first initData.",l),f.initDataType=l.initData[0].initDataType}l.distinctiveIdentifierRequired&&(f.distinctiveIdentifier="required"),l.persistentStateRequired&&(f.persistentState="required"),l.sessionType&&(f.sessionTypes=[l.sessionType]),r&&(f.audio?f.audio.robustness=f.audio.robustness||l.audioRobustness:f.audio={robustness:l.audioRobustness}),n&&(f.video?f.video.robustness=f.video.robustness||l.videoRobustness:f.video={robustness:l.videoRobustness})}d.keySystemConfiguration=f,i.push(d)}return i},shaka.util.StreamUtils.patchVp9=function(e){return"vp9"==e?"vp09.00.10.08":e},shaka.util.StreamUtils.filterManifestByCurrentVariant=function(e,t){var r=shaka.util.StreamUtils;t.variants=t.variants.filter((function(t){var n=t.audio;return t=t.video,n&&e&&e.audio&&!r.areStreamsCompatible_(n,e.audio)?(shaka.log.debug("Droping variant - not compatible with active audio","active audio",r.getStreamSummaryString_(e.audio),"variant.audio",r.getStreamSummaryString_(n)),!1):!(t&&e&&e.video&&!r.areStreamsCompatible_(t,e.video))||(shaka.log.debug("Droping variant - not compatible with active video","active video",r.getStreamSummaryString_(e.video),"variant.video",r.getStreamSummaryString_(t)),!1)}))},shaka.util.StreamUtils.filterTextStreams_=function(e){e.textStreams=e.textStreams.filter((function(e){var t=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs);return(t=shaka.text.TextEngine.isTypeSupported(t))||shaka.log.debug("Dropping text stream. Is not supported by the platform.",e),t}))},shaka.util.StreamUtils.filterImageStreams_=function(e){e.imageStreams=e.imageStreams.filter((function(e){var t=["image/svg+xml","image/png","image/jpeg"],r=shaka.util.Platform;return(r.isWebOS()||r.isTizen()||r.isChromecast())&&t.push("image/webp"),(t=t.includes(e.mimeType))||shaka.log.debug("Dropping image stream. Is not supported by the platform.",e),t}))},shaka.util.StreamUtils.areStreamsCompatible_=function(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]},shaka.util.StreamUtils.variantToTrack=function(e){var t=e.audio,r=e.video,n=t?t.codecs:null,i=r?r.codecs:null,a=[];i&&a.push(i),n&&a.push(n);var o=[];r&&o.push(r.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),r&&s.push(r.kind),s=s[0]||null;var l=new Set;if(t)for(var u=$jscomp.makeIterator(t.roles),c=u.next();!c.done;c=u.next())l.add(c.value);if(r)for(c=(u=$jscomp.makeIterator(r.roles)).next();!c.done;c=u.next())l.add(c.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:o,codecs:a.join(", "),audioCodec:n,videoCodec:i,primary:e.primary,roles:Array.from(l),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},r&&(e.videoId=r.id,e.originalVideoId=r.originalId,e.width=r.width||null,e.height=r.height||null,e.frameRate=r.frameRate||null,e.pixelAspectRatio=r.pixelAspectRatio||null,e.videoBandwidth=r.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e},shaka.util.StreamUtils.textStreamToTrack=function(e){return{id:e.id,active:!1,type:shaka.util.ManifestParserUtils.ContentType.TEXT,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null}},shaka.util.StreamUtils.imageStreamToTrack=function(e){return{id:e.id,active:!1,type:shaka.util.ManifestParserUtils.ContentType.IMAGE,bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:e.width||null,height:e.height||null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:e.tilesLayout||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId}},shaka.util.StreamUtils.html5TrackId=function(e){return e.__shaka_id||(e.__shaka_id=shaka.util.StreamUtils.nextTrackId_++),e.__shaka_id},shaka.util.StreamUtils.html5TextTrackToTrack=function(e){var t=shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE,r=shaka.util.StreamUtils.html5TrackToGenericShakaTrack_(e);return r.active="disabled"!=e.mode,r.type="text",r.originalTextId=e.id,"captions"==e.kind&&(r.mimeType=t),e.kind&&(r.roles=[e.kind]),"forced"==e.kind&&(r.forced=!0),r},shaka.util.StreamUtils.html5AudioTrackToTrack=function(e){var t=shaka.util.StreamUtils.html5TrackToGenericShakaTrack_(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t},shaka.util.StreamUtils.html5TrackToGenericShakaTrack_=function(e){return{id:shaka.util.StreamUtils.html5TrackId(e),active:!1,type:"",bandwidth:0,language:shaka.util.LanguageUtils.normalize(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}},shaka.util.StreamUtils.isPlayable=function(e){return e.allowedByApplication&&e.allowedByKeySystem},shaka.util.StreamUtils.getPlayableVariants=function(e){return e.filter((function(e){return shaka.util.StreamUtils.isPlayable(e)}))},shaka.util.StreamUtils.filterVariantsByAudioChannelCount=function(e,t){for(var r=e.filter((function(e){return e.audio&&e.audio.channelsCount})),n=new Map,i=(r=$jscomp.makeIterator(r)).next();!i.done;i=r.next()){var a=(i=i.value).audio.channelsCount;goog.asserts.assert(null!=a,"Must have count after filtering!"),n.has(a)||n.set(a,[]),n.get(a).push(i)}return 0==(r=Array.from(n.keys())).length?e:(i=r.filter((function(e){return e<=t}))).length?n.get(Math.max.apply(Math,$jscomp.arrayFromIterable(i))):n.get(Math.min.apply(Math,$jscomp.arrayFromIterable(r)))},shaka.util.StreamUtils.filterStreamsByLanguageAndRole=function(e,t,r,n){var i=shaka.util.LanguageUtils,a=e,o=e.filter((function(e){return e.primary}));o.length&&(a=o);var s=a.length?a[0].language:"";if(a=a.filter((function(e){return e.language==s})),t){var l=i.findClosestLocale(i.normalize(t),e.map((function(e){return e.language})));l&&(a=e.filter((function(e){return i.normalize(e.language)==l})))}if(a=a.filter((function(e){return e.forced==n})),r){if((e=shaka.util.StreamUtils.filterTextStreamsByRole_(a,r)).length)return e;shaka.log.warning("No exact match for the text role could be found.")}else if((e=a.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=a.map((function(e){return e.roles})).reduce(shaka.util.Functional.collapseArrays,[])).length?shaka.util.StreamUtils.filterTextStreamsByRole_(a,e[0]):a},shaka.util.StreamUtils.filterTextStreamsByRole_=function(e,t){return e.filter((function(e){return e.roles.includes(t)}))},shaka.util.StreamUtils.isAudio=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.AUDIO},shaka.util.StreamUtils.isVideo=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.VIDEO},shaka.util.StreamUtils.getVariantStreams=function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t},shaka.util.StreamUtils.getVariantSummaryString_=function(e){var t=[];return e.audio&&t.push(shaka.util.StreamUtils.getStreamSummaryString_(e.audio)),e.video&&t.push(shaka.util.StreamUtils.getStreamSummaryString_(e.video)),t.join(", ")},shaka.util.StreamUtils.getStreamSummaryString_=function(e){return shaka.util.StreamUtils.isAudio(e)?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:shaka.util.StreamUtils.isVideo(e)?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"},shaka.util.StreamUtils.nextTrackId_=0,shaka.abr.SimpleAbrManager=function(){var e=this;this.switch_=null,this.enabled_=!1,this.bandwidthEstimator_=new shaka.abr.EwmaBandwidthEstimator,navigator.connection&&navigator.connection.addEventListener("change",(function(){if(e.config_.useNetworkInformation&&e.enabled_){e.bandwidthEstimator_=new shaka.abr.EwmaBandwidthEstimator;var t=e.chooseVariant();t&&e.switch_(t)}})),this.variants_=[],this.playbackRate_=1,this.startupComplete_=!1,this.config_=this.lastTimeChosenMs_=null},shaka.abr.SimpleAbrManager.prototype.stop=function(){this.switch_=null,this.enabled_=!1,this.variants_=[],this.playbackRate_=1,this.lastTimeChosenMs_=null},shaka.abr.SimpleAbrManager.prototype.init=function(e){this.switch_=e},shaka.abr.SimpleAbrManager.prototype.chooseVariant=function(){var e=shaka.abr.SimpleAbrManager,t=e.filterAndSortVariants_(this.config_.restrictions,this.variants_),r=this.getDefaultBandwidth_();r=this.bandwidthEstimator_.getBandwidthEstimate(r),this.variants_.length&&!t.length&&(shaka.log.warning("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),t=[(t=e.filterAndSortVariants_(null,this.variants_))[0]]),e=t[0]||null;for(var n=(t=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t))).next();!n.done;n=t.next()){var i=n.value;n=i.item;var a=i.next,o=isNaN(this.playbackRate_)?1:Math.abs(this.playbackRate_),s=(i=o*n.bandwidth)/this.config_.bandwidthDowngradeTarget;a=o*(a||{bandwidth:1/0}).bandwidth/this.config_.bandwidthUpgradeTarget,shaka.log.v2("Bandwidth ranges:",(i/1e6).toFixed(3),(s/1e6).toFixed(3),(a/1e6).toFixed(3)),r>=s&&r<=a&&(e=n)}return this.lastTimeChosenMs_=Date.now(),e},shaka.abr.SimpleAbrManager.prototype.enable=function(){this.enabled_=!0},shaka.abr.SimpleAbrManager.prototype.disable=function(){this.enabled_=!1},shaka.abr.SimpleAbrManager.prototype.segmentDownloaded=function(e,t){shaka.log.v2("Segment downloaded:","deltaTimeMs="+e,"numBytes="+t,"lastTimeChosenMs="+this.lastTimeChosenMs_,"enabled="+this.enabled_),goog.asserts.assert(0<=e,"expected a non-negative duration"),this.bandwidthEstimator_.sample(e,t),null!=this.lastTimeChosenMs_&&this.enabled_&&this.suggestStreams_()},shaka.abr.SimpleAbrManager.prototype.getBandwidthEstimate=function(){return this.bandwidthEstimator_.getBandwidthEstimate(this.config_.defaultBandwidthEstimate)},shaka.abr.SimpleAbrManager.prototype.setVariants=function(e){this.variants_=e},shaka.abr.SimpleAbrManager.prototype.playbackRateChanged=function(e){this.playbackRate_=e},shaka.abr.SimpleAbrManager.prototype.configure=function(e){this.config_=e},shaka.abr.SimpleAbrManager.prototype.suggestStreams_=function(){if(shaka.log.v2("Suggesting Streams..."),goog.asserts.assert(null!=this.lastTimeChosenMs_,"lastTimeChosenMs_ should not be null"),this.startupComplete_){if(Date.now()-this.lastTimeChosenMs_<1e3*this.config_.switchInterval)return void shaka.log.v2("Still within switch interval...")}else{if(!this.bandwidthEstimator_.hasGoodEstimate())return void shaka.log.v2("Still waiting for a good estimate...");this.startupComplete_=!0}var e=this.chooseVariant(),t=this.getDefaultBandwidth_();t=this.bandwidthEstimator_.getBandwidthEstimate(t),t=Math.round(t/1e3),e&&(shaka.log.debug("Calling switch_(), bandwidth="+t+" kbps"),this.switch_(e))},shaka.abr.SimpleAbrManager.prototype.getDefaultBandwidth_=function(){var e=this.config_.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.config_.useNetworkInformation&&(e=1e6*navigator.connection.downlink),e},shaka.abr.SimpleAbrManager.filterAndSortVariants_=function(e,t){return e&&(t=t.filter((function(t){return goog.asserts.assert(e,"Restrictions should exist!"),shaka.util.StreamUtils.meetsRestrictions(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))},goog.exportSymbol("shaka.abr.SimpleAbrManager",shaka.abr.SimpleAbrManager),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"configure",shaka.abr.SimpleAbrManager.prototype.configure),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"playbackRateChanged",shaka.abr.SimpleAbrManager.prototype.playbackRateChanged),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"setVariants",shaka.abr.SimpleAbrManager.prototype.setVariants),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"getBandwidthEstimate",shaka.abr.SimpleAbrManager.prototype.getBandwidthEstimate),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"segmentDownloaded",shaka.abr.SimpleAbrManager.prototype.segmentDownloaded),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"disable",shaka.abr.SimpleAbrManager.prototype.disable),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"enable",shaka.abr.SimpleAbrManager.prototype.enable),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"chooseVariant",shaka.abr.SimpleAbrManager.prototype.chooseVariant),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"init",shaka.abr.SimpleAbrManager.prototype.init),goog.exportProperty(shaka.abr.SimpleAbrManager.prototype,"stop",shaka.abr.SimpleAbrManager.prototype.stop),shaka.media.AdaptationSet=function(e,t){this.root_=e,this.variants_=new Set([e]),t=t||[];for(var r=$jscomp.makeIterator(t),n=r.next();!n.done;n=r.next())this.add(n.value)},shaka.media.AdaptationSet.prototype.add=function(e){return this.canInclude(e)?(this.variants_.add(e),!0):(shaka.log.warning("Rejecting variant - not compatible with root."),!1)},shaka.media.AdaptationSet.prototype.canInclude=function(e){return shaka.media.AdaptationSet.areAdaptable(this.root_,e)},shaka.media.AdaptationSet.areAdaptable=function(e,t){var r=shaka.media.AdaptationSet;return!!e.audio==!!t.audio&&!!e.video==!!t.video&&e.language==t.language&&(goog.asserts.assert(!!e.audio==!!t.audio,"Both should either have audio or not have audio."),!(e.audio&&t.audio&&!r.areAudiosCompatible_(e.audio,t.audio))&&(goog.asserts.assert(!!e.video==!!t.video,"Both should either have video or not have video."),!(e.video&&t.video&&!r.areVideosCompatible_(e.video,t.video))))},shaka.media.AdaptationSet.prototype.values=function(){return this.variants_.values()},shaka.media.AdaptationSet.areAudiosCompatible_=function(e,t){var r=shaka.media.AdaptationSet;return!((!e.channelsCount||!t.channelsCount||2<e.channelsCount||2<t.channelsCount)&&e.channelsCount!=t.channelsCount||!r.canTransitionBetween_(e,t)||!r.areRolesEqual_(e.roles,t.roles))},shaka.media.AdaptationSet.areVideosCompatible_=function(e,t){var r=shaka.media.AdaptationSet;return!(!r.canTransitionBetween_(e,t)||!r.areRolesEqual_(e.roles,t.roles))},shaka.media.AdaptationSet.canTransitionBetween_=function(e,t){if(e.mimeType!=t.mimeType)return!1;var r=shaka.util.MimeUtils.splitCodecs(e.codecs).map((function(e){return shaka.util.MimeUtils.getCodecBase(e)})),n=shaka.util.MimeUtils.splitCodecs(t.codecs).map((function(e){return shaka.util.MimeUtils.getCodecBase(e)}));if(r.length!=n.length)return!1;r.sort(),n.sort();for(var i=$jscomp.makeIterator(shaka.util.Iterables.range(r.length)),a=i.next();!a.done;a=i.next())if(r[a=a.value]!=n[a])return!1;return!0},shaka.media.AdaptationSet.areRolesEqual_=function(e,t){var r=new Set(e),n=new Set(t);if(r.delete("main"),n.delete("main"),r.size!=n.size)return!1;for(var i=(r=$jscomp.makeIterator(r)).next();!i.done;i=r.next())if(!n.has(i.value))return!1;return!0},shaka.media.AdaptationSetCriteria=function(){},shaka.media.AdaptationSetCriteria.prototype.create=function(e){},shaka.media.ExampleBasedCriteria=function(e){this.example_=e,this.fallback_=new shaka.media.PreferenceBasedCriteria(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")},shaka.media.ExampleBasedCriteria.prototype.create=function(e){var t=this,r=e.filter((function(e){return shaka.media.AdaptationSet.areAdaptable(t.example_,e)}));return r.length?new shaka.media.AdaptationSet(r[0],r):this.fallback_.create(e)},shaka.media.PreferenceBasedCriteria=function(e,t,r,n){this.language_=e,this.role_=t,this.channelCount_=r,this.label_=void 0===n?"":n},shaka.media.PreferenceBasedCriteria.prototype.create=function(e){var t=shaka.media.PreferenceBasedCriteria,r=shaka.util.StreamUtils,n=[];n=t.filterByLanguage_(e,this.language_);var i=e.filter((function(e){return e.primary}));for(n=n.length?n:i.length?i:e,(e=t.filterVariantsByRole_(n,this.role_)).length?n=e:shaka.log.warning("No exact match for variant role could be found."),this.channelCount_&&((r=r.filterVariantsByAudioChannelCount(n,this.channelCount_)).length?n=r:shaka.log.warning("No exact match for the channel count could be found.")),this.label_&&((t=t.filterVariantsByLabel_(n,this.label_)).length?n=t:shaka.log.warning("No exact match for variant label could be found.")),t=new shaka.media.AdaptationSet(n[0]),r=(n=$jscomp.makeIterator(n)).next();!r.done;r=n.next())r=r.value,t.canInclude(r)&&t.add(r);return t},shaka.media.PreferenceBasedCriteria.filterByLanguage_=function(e,t){var r=shaka.util.LanguageUtils,n=r.normalize(t),i=r.findClosestLocale(n,e.map((function(e){return r.getLocaleForVariant(e)})));return i?e.filter((function(e){return i==r.getLocaleForVariant(e)})):[]},shaka.media.PreferenceBasedCriteria.filterVariantsByRole_=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))},shaka.media.PreferenceBasedCriteria.filterVariantsByLabel_=function(e,t){return e.filter((function(e){return!!e.audio&&(e=e.audio.label.toLowerCase())==t.toLowerCase()}))},shaka.media.BufferingObserver=function(e,t){var r=shaka.media.BufferingObserver.State;this.previousState_=r.SATISFIED,this.thresholds_=(new Map).set(r.SATISFIED,t).set(r.STARVING,e)},shaka.media.BufferingObserver.prototype.setThresholds=function(e,t){var r=shaka.media.BufferingObserver.State;this.thresholds_.set(r.SATISFIED,t).set(r.STARVING,e)},shaka.media.BufferingObserver.prototype.update=function(e,t){var r=shaka.media.BufferingObserver.State,n=this.thresholds_.get(this.previousState_),i=this.previousState_;return this.previousState_=r=t||e>=n?r.SATISFIED:r.STARVING,i!=r},shaka.media.BufferingObserver.prototype.setState=function(e){this.previousState_=e},shaka.media.BufferingObserver.prototype.getState=function(){return this.previousState_},shaka.media.BufferingObserver.State={STARVING:0,SATISFIED:1},shaka.net={},shaka.net.Backoff=function(e,t){t=void 0!==t&&t;var r=shaka.net.Backoff.defaultRetryParameters();this.maxAttempts_=null==e.maxAttempts?r.maxAttempts:e.maxAttempts,goog.asserts.assert(1<=this.maxAttempts_,"maxAttempts should be >= 1"),this.baseDelay_=null==e.baseDelay?r.baseDelay:e.baseDelay,goog.asserts.assert(0<=this.baseDelay_,"baseDelay should be >= 0"),this.fuzzFactor_=null==e.fuzzFactor?r.fuzzFactor:e.fuzzFactor,goog.asserts.assert(0<=this.fuzzFactor_,"fuzzFactor should be >= 0"),this.backoffFactor_=null==e.backoffFactor?r.backoffFactor:e.backoffFactor,goog.asserts.assert(0<=this.backoffFactor_,"backoffFactor should be >= 0"),this.numAttempts_=0,this.nextUnfuzzedDelay_=this.baseDelay_,(this.autoReset_=t)&&(goog.asserts.assert(2<=this.maxAttempts_,"maxAttempts must be >= 2 for autoReset == true"),this.numAttempts_=1)},shaka.net.Backoff.prototype.attempt=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress){if(r.numAttempts_>=r.maxAttempts_){if(!r.autoReset_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.ATTEMPTS_EXHAUSTED);r.reset_()}return e=r.numAttempts_,r.numAttempts_++,0==e?(goog.asserts.assert(!r.autoReset_,"Failed to delay with auto-reset!"),n.return()):(t=shaka.net.Backoff.fuzz_(r.nextUnfuzzedDelay_,r.fuzzFactor_),n.yield(new Promise((function(e){shaka.net.Backoff.defer(t,e)})),2))}r.nextUnfuzzedDelay_*=r.backoffFactor_,n.jumpToEnd()}))},shaka.net.Backoff.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},shaka.net.Backoff.fuzz_=function(e,t){return e*(1+(2*Math.random()-1)*t)},shaka.net.Backoff.prototype.reset_=function(){goog.asserts.assert(this.autoReset_,"Should only be used for auto-reset!"),this.numAttempts_=1,this.nextUnfuzzedDelay_=this.baseDelay_},shaka.net.Backoff.defer=function(e,t){new shaka.util.Timer(t).tickAfter(e/1e3)},shaka.util.AbortableOperation=function(e,t){this.promise=e,this.onAbort_=t,this.aborted_=!1},shaka.util.AbortableOperation.failed=function(e){return new shaka.util.AbortableOperation(Promise.reject(e),(function(){return Promise.resolve()}))},shaka.util.AbortableOperation.aborted=function(){var e=Promise.reject(shaka.util.AbortableOperation.abortError());return e.catch((function(){})),new shaka.util.AbortableOperation(e,(function(){return Promise.resolve()}))},shaka.util.AbortableOperation.abortError=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED)},shaka.util.AbortableOperation.completed=function(e){return new shaka.util.AbortableOperation(Promise.resolve(e),(function(){return Promise.resolve()}))},shaka.util.AbortableOperation.notAbortable=function(e){return new shaka.util.AbortableOperation(e,(function(){return e.catch((function(){}))}))},shaka.util.AbortableOperation.prototype.abort=function(){return this.aborted_=!0,this.onAbort_()},shaka.util.AbortableOperation.all=function(e){return new shaka.util.AbortableOperation(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))},shaka.util.AbortableOperation.prototype.finally=function(e){return this.promise.then((function(t){return e(!0)}),(function(t){return e(!1)})),this},shaka.util.AbortableOperation.prototype.chain=function(e,t){var r=this,n=new shaka.util.PublicPromise,i=shaka.util.AbortableOperation.abortError(),a=function(){return n.reject(i),r.abort()},o=function(o){return function(s){if(r.aborted_&&o)n.reject(i);else{var l=o?e:t;l?a=shaka.util.AbortableOperation.wrapChainCallback_(l,s,n):(o?n.resolve:n.reject)(s)}}};return this.promise.then(o(!0),o(!1)),new shaka.util.AbortableOperation(n,(function(){return a()}))},shaka.util.AbortableOperation.wrapChainCallback_=function(e,t,r){try{var n=e(t);return n&&n.promise&&n.abort?(r.resolve(n.promise),function(){return n.abort()}):(r.resolve(n),function(){return Promise.resolve(n).then((function(){}),(function(){}))})}catch(i){return r.reject(i),function(){return Promise.resolve()}}},goog.exportSymbol("shaka.util.AbortableOperation",shaka.util.AbortableOperation),goog.exportProperty(shaka.util.AbortableOperation.prototype,"chain",shaka.util.AbortableOperation.prototype.chain),goog.exportProperty(shaka.util.AbortableOperation.prototype,"finally",shaka.util.AbortableOperation.prototype.finally),goog.exportProperty(shaka.util.AbortableOperation,"all",shaka.util.AbortableOperation.all),goog.exportProperty(shaka.util.AbortableOperation.prototype,"abort",shaka.util.AbortableOperation.prototype.abort),goog.exportProperty(shaka.util.AbortableOperation,"notAbortable",shaka.util.AbortableOperation.notAbortable),goog.exportProperty(shaka.util.AbortableOperation,"completed",shaka.util.AbortableOperation.completed),goog.exportProperty(shaka.util.AbortableOperation,"aborted",shaka.util.AbortableOperation.aborted),goog.exportProperty(shaka.util.AbortableOperation,"failed",shaka.util.AbortableOperation.failed),shaka.util.FakeEvent=function(e,t){for(var r in t=void 0===t?{}:t)Object.defineProperty(this,r,{value:t[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.stopped=!1},shaka.util.FakeEvent.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},shaka.util.FakeEvent.prototype.stopImmediatePropagation=function(){this.stopped=!0},shaka.util.FakeEvent.prototype.stopPropagation=function(){},goog.exportSymbol("shaka.util.FakeEvent",shaka.util.FakeEvent),shaka.util.FakeEventTarget=function(){this.listeners_=new shaka.util.MultiMap,this.dispatchTarget=this},shaka.util.FakeEventTarget.prototype.addEventListener=function(e,t,r){this.listeners_.push(e,t)},shaka.util.FakeEventTarget.prototype.listenToAllEvents=function(e){this.addEventListener(shaka.util.FakeEventTarget.ALL_EVENTS_,e)},shaka.util.FakeEventTarget.prototype.removeEventListener=function(e,t,r){this.listeners_.remove(e,t)},shaka.util.FakeEventTarget.prototype.dispatchEvent=function(e){goog.asserts.assert(e instanceof shaka.util.FakeEvent,"FakeEventTarget can only dispatch FakeEvents!");var t=this.listeners_.get(e.type)||[],r=this.listeners_.get(shaka.util.FakeEventTarget.ALL_EVENTS_);for(r&&(t=t.concat(r)),r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next()){r=r.value,e.target=this.dispatchTarget,e.currentTarget=this.dispatchTarget;try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(n){shaka.log.error("Uncaught exception in event handler",n,n?n.message:null,n?n.stack:null)}if(e.stopped)break}return e.defaultPrevented},shaka.util.FakeEventTarget.ALL_EVENTS_="All",shaka.util.ObjectUtils=function(){},shaka.util.ObjectUtils.cloneObject=function(e){var t=new Set;return function e(r){switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return r;default:if(!r||r.buffer&&r.buffer.constructor==ArrayBuffer)return r;if(t.has(r))return null;var n=r.constructor==Array;if(r.constructor!=Object&&!n)return null;t.add(r);var i,a=n?[]:{};for(i in r)a[i]=e(r[i]);return n&&(a.length=r.length),a}}(e)},shaka.util.ObjectUtils.shallowCloneObject=function(e){var t,r={};for(t in e)r[t]=e[t];return r},shaka.util.OperationManager=function(){this.operations_=[]},shaka.util.OperationManager.prototype.manage=function(e){var t=this;this.operations_.push(e.finally((function(){shaka.util.ArrayUtils.remove(t.operations_,e)})))},shaka.util.OperationManager.prototype.destroy=function(){for(var e=[],t=$jscomp.makeIterator(this.operations_),r=t.next();!r.done;r=t.next())(r=r.value).promise.catch((function(){})),e.push(r.abort());return this.operations_=[],Promise.all(e)},shaka.net.NetworkingEngine=function(e){shaka.util.FakeEventTarget.call(this),this.destroyed_=!1,this.operationManager_=new shaka.util.OperationManager,this.requestFilters_=new Set,this.responseFilters_=new Set,this.onProgressUpdated_=e||null,this.forceHTTPS_=!1},$jscomp.inherits(shaka.net.NetworkingEngine,shaka.util.FakeEventTarget),shaka.net.NetworkingEngine.prototype.setForceHTTPS=function(e){this.forceHTTPS_=e},shaka.net.NetworkingEngine.registerScheme=function(e,t,r,n){n=void 0!==n&&n,goog.asserts.assert(void 0==r||0<r,"explicit priority must be > 0"),r=r||shaka.net.NetworkingEngine.PluginPriority.APPLICATION;var i=shaka.net.NetworkingEngine.schemes_[e];(!i||r>=i.priority)&&(shaka.net.NetworkingEngine.schemes_[e]={priority:r,plugin:t,progressSupport:n})},shaka.net.NetworkingEngine.unregisterScheme=function(e){delete shaka.net.NetworkingEngine.schemes_[e]},shaka.net.NetworkingEngine.prototype.registerRequestFilter=function(e){this.requestFilters_.add(e)},shaka.net.NetworkingEngine.prototype.unregisterRequestFilter=function(e){this.requestFilters_.delete(e)},shaka.net.NetworkingEngine.prototype.clearAllRequestFilters=function(){this.requestFilters_.clear()},shaka.net.NetworkingEngine.prototype.registerResponseFilter=function(e){this.responseFilters_.add(e)},shaka.net.NetworkingEngine.prototype.unregisterResponseFilter=function(e){this.responseFilters_.delete(e)},shaka.net.NetworkingEngine.prototype.clearAllResponseFilters=function(){this.responseFilters_.clear()},shaka.net.NetworkingEngine.defaultRetryParameters=function(){return shaka.net.Backoff.defaultRetryParameters()},shaka.net.NetworkingEngine.makeRequest=function(e,t,r){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,streamDataCallback:void 0===r?null:r}},shaka.net.NetworkingEngine.prototype.destroy=function(){return this.destroyed_=!0,this.requestFilters_.clear(),this.responseFilters_.clear(),this.operationManager_.destroy()},shaka.net.NetworkingEngine.prototype.request=function(e,t){var r=this,n=shaka.util.ObjectUtils,i=new shaka.net.NetworkingEngine.NumBytesRemainingClass;if(this.destroyed_)return(n=Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED))).catch((function(){})),new shaka.net.NetworkingEngine.PendingRequest(n,(function(){return Promise.resolve()}),i);goog.asserts.assert(t.uris&&t.uris.length,"Request without URIs!"),t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?n.cloneObject(t.retryParameters):shaka.net.NetworkingEngine.defaultRetryParameters(),t.uris=n.cloneObject(t.uris);var a=(n=this.filterRequest_(e,t)).chain((function(){return r.makeRequestWithRetry_(e,t,i)})),o=a.chain((function(t){return r.filterResponse_(e,t)})),s=Date.now(),l=0;n.promise.then((function(){l=Date.now()-s}),(function(){}));var u=0;a.promise.then((function(){u=Date.now()}),(function(){}));var c=o.chain((function(t){var n=Date.now()-u,i=t.response;return i.timeMs+=l,i.timeMs+=n,t.gotProgress||!r.onProgressUpdated_||i.fromCache||e!=shaka.net.NetworkingEngine.RequestType.SEGMENT||r.onProgressUpdated_(i.timeMs,i.data.byteLength),i}),(function(e){throw e&&(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type"),e.severity=shaka.util.Error.Severity.CRITICAL),e}));return n=new shaka.net.NetworkingEngine.PendingRequest(c.promise,(function(){return c.abort()}),i),this.operationManager_.manage(n),n},shaka.net.NetworkingEngine.prototype.filterRequest_=function(e,t){for(var r=shaka.util.AbortableOperation.completed(void 0),n={},i=$jscomp.makeIterator(this.requestFilters_),a=i.next();!a.done;n={$jscomp$loop$prop$requestFilter$571:n.$jscomp$loop$prop$requestFilter$571},a=i.next())n.$jscomp$loop$prop$requestFilter$571=a.value,r=r.chain(function(r){return function(){return t.body&&(t.body=shaka.util.BufferUtils.toArrayBuffer(t.body)),r.$jscomp$loop$prop$requestFilter$571(e,t)}}(n));return r.chain(void 0,(function(e){if(e instanceof shaka.util.Error&&e.code==shaka.util.Error.Code.OPERATION_ABORTED)throw e;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.REQUEST_FILTER_ERROR,e)}))},shaka.net.NetworkingEngine.prototype.makeRequestWithRetry_=function(e,t,r){var n=new shaka.net.Backoff(t.retryParameters,!1);return this.send_(e,t,n,0,null,r)},shaka.net.NetworkingEngine.prototype.send_=function(e,t,r,n,i,a){var o=this;this.forceHTTPS_&&(t.uris[n]=t.uris[n].replace("http://","https://"));var s=new goog.Uri(t.uris[n]),l=s.getScheme(),u=!1;l||(l=shaka.net.NetworkingEngine.getLocationProtocol_(),goog.asserts.assert(":"==l[l.length-1],"location.protocol expected to end with a colon!"),l=l.slice(0,-1),s.setScheme(l),t.uris[n]=s.toString()),l=l.toLowerCase();var c=(l=shaka.net.NetworkingEngine.schemes_[l])?l.plugin:null;if(!c)return shaka.util.AbortableOperation.failed(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.UNSUPPORTED_SCHEME,s));var d,f=l.progressSupport,p=null,h=null,g=!1;return shaka.util.AbortableOperation.notAbortable(r.attempt()).chain((function(){if(o.destroyed_)return shaka.util.AbortableOperation.aborted();d=Date.now();var r=shaka.net.NetworkingEngine.RequestType.SEGMENT,i=c(t.uris[n],t,e,(function(t,n,i){p&&p.stop(),h&&h.tickAfter(l/1e3),o.onProgressUpdated_&&e==r&&(o.onProgressUpdated_(t,n),u=!0,a.setBytes(i))}));if(!f)return i;var s=t.retryParameters.connectionTimeout;s&&(p=new shaka.util.Timer((function(){g=!0,i.abort()}))).tickAfter(s/1e3);var l=t.retryParameters.stallTimeout;return l&&(h=new shaka.util.Timer((function(){g=!0,i.abort()}))),i})).chain((function(e){return p&&p.stop(),h&&h.stop(),void 0==e.timeMs&&(e.timeMs=Date.now()-d),{response:e,gotProgress:u}}),(function(s){if(p&&p.stop(),h&&h.stop(),o.destroyed_)return shaka.util.AbortableOperation.aborted();if(g&&(s=new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.TIMEOUT,t.uris[n],e)),s instanceof shaka.util.Error){if(s.code==shaka.util.Error.Code.OPERATION_ABORTED)throw s;if(s.code==shaka.util.Error.Code.ATTEMPTS_EXHAUSTED)throw goog.asserts.assert(i,"Should have last error"),i;if(s.severity==shaka.util.Error.Severity.RECOVERABLE){var l=new shaka.util.FakeEvent("retry",{error:s});return o.dispatchEvent(l),n=(n+1)%t.uris.length,o.send_(e,t,r,n,s,a)}}throw s}))},shaka.net.NetworkingEngine.prototype.filterResponse_=function(e,t){for(var r=shaka.util.AbortableOperation.completed(void 0),n={},i=$jscomp.makeIterator(this.responseFilters_),a=i.next();!a.done;n={$jscomp$loop$prop$responseFilter$573:n.$jscomp$loop$prop$responseFilter$573},a=i.next())n.$jscomp$loop$prop$responseFilter$573=a.value,r=r.chain(function(r){return function(){var n=t.response;return n.data&&(n.data=shaka.util.BufferUtils.toArrayBuffer(n.data)),r.$jscomp$loop$prop$responseFilter$573(e,n)}}(n));return r.chain((function(){return t}),(function(e){var t=shaka.util.Error.Severity.CRITICAL;if(e instanceof shaka.util.Error){if(e.code==shaka.util.Error.Code.OPERATION_ABORTED)throw e;t=e.severity}throw new shaka.util.Error(t,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.RESPONSE_FILTER_ERROR,e)}))},shaka.net.NetworkingEngine.getLocationProtocol_=function(){return location.protocol},goog.exportSymbol("shaka.net.NetworkingEngine",shaka.net.NetworkingEngine),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"request",shaka.net.NetworkingEngine.prototype.request),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"destroy",shaka.net.NetworkingEngine.prototype.destroy),goog.exportProperty(shaka.net.NetworkingEngine,"makeRequest",shaka.net.NetworkingEngine.makeRequest),goog.exportProperty(shaka.net.NetworkingEngine,"defaultRetryParameters",shaka.net.NetworkingEngine.defaultRetryParameters),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"clearAllResponseFilters",shaka.net.NetworkingEngine.prototype.clearAllResponseFilters);goog.exportProperty(shaka.net.NetworkingEngine.prototype,"unregisterResponseFilter",shaka.net.NetworkingEngine.prototype.unregisterResponseFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"registerResponseFilter",shaka.net.NetworkingEngine.prototype.registerResponseFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"clearAllRequestFilters",shaka.net.NetworkingEngine.prototype.clearAllRequestFilters),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"unregisterRequestFilter",shaka.net.NetworkingEngine.prototype.unregisterRequestFilter),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"registerRequestFilter",shaka.net.NetworkingEngine.prototype.registerRequestFilter),goog.exportProperty(shaka.net.NetworkingEngine,"unregisterScheme",shaka.net.NetworkingEngine.unregisterScheme),goog.exportProperty(shaka.net.NetworkingEngine,"registerScheme",shaka.net.NetworkingEngine.registerScheme),goog.exportProperty(shaka.net.NetworkingEngine.prototype,"setForceHTTPS",shaka.net.NetworkingEngine.prototype.setForceHTTPS),shaka.net.NetworkingEngine.NumBytesRemainingClass=function(){this.bytesToLoad_=0},shaka.net.NetworkingEngine.NumBytesRemainingClass.prototype.setBytes=function(e){this.bytesToLoad_=e},shaka.net.NetworkingEngine.NumBytesRemainingClass.prototype.getBytes=function(){return this.bytesToLoad_},goog.exportProperty(shaka.net.NetworkingEngine,"NumBytesRemainingClass",shaka.net.NetworkingEngine.NumBytesRemainingClass),shaka.net.NetworkingEngine.PendingRequest=function(e,t,r){shaka.util.AbortableOperation.call(this,e,t),this.bytesRemaining_=r},$jscomp.inherits(shaka.net.NetworkingEngine.PendingRequest,shaka.util.AbortableOperation),shaka.net.NetworkingEngine.PendingRequest.prototype.getBytesRemaining=function(){return this.bytesRemaining_.getBytes()},goog.exportProperty(shaka.net.NetworkingEngine,"PendingRequest",shaka.net.NetworkingEngine.PendingRequest),shaka.net.NetworkingEngine.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4},goog.exportProperty(shaka.net.NetworkingEngine,"RequestType",shaka.net.NetworkingEngine.RequestType),shaka.net.NetworkingEngine.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3},goog.exportProperty(shaka.net.NetworkingEngine,"PluginPriority",shaka.net.NetworkingEngine.PluginPriority),shaka.net.NetworkingEngine.schemes_={},shaka.util.FairPlayUtils=function(){},shaka.util.FairPlayUtils.defaultGetContentId=function(e){return e=shaka.util.StringUtils.fromBytesAutoDetect(e),new goog.Uri(e).getDomain()},shaka.util.FairPlayUtils.initDataTransform=function(e,t,r){if(!r||!r.byteLength)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.SERVER_CERTIFICATE_REQUIRED);t="string"==typeof t?shaka.util.StringUtils.toUTF16(t,!0):t,e=shaka.util.StringUtils.fromBytesAutoDetect(e),e=shaka.util.StringUtils.toUTF16(e,!0);var n=new Uint8Array(12+e.byteLength+t.byteLength+r.byteLength),i=0,a=function(e){shaka.util.BufferUtils.toDataView(n).setUint32(i,e.byteLength,!0),i+=4,n.set(shaka.util.BufferUtils.toUint8(e),i),i+=e.byteLength};return a(e),a(t),a(r),goog.asserts.assert(i==n.length,"Inconsistent init data length"),n},goog.exportSymbol("shaka.util.FairPlayUtils",shaka.util.FairPlayUtils),goog.exportProperty(shaka.util.FairPlayUtils,"initDataTransform",shaka.util.FairPlayUtils.initDataTransform),goog.exportProperty(shaka.util.FairPlayUtils,"defaultGetContentId",shaka.util.FairPlayUtils.defaultGetContentId),shaka.util.MapUtils=function(){},shaka.util.MapUtils.asMap=function(e){for(var t=new Map,r=$jscomp.makeIterator(Object.keys(e)),n=r.next();!n.done;n=r.next())n=n.value,t.set(n,e[n]);return t},shaka.util.MapUtils.asObject=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},shaka.util.MapUtils.hasSameElements=function(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next()){var i=$jscomp.makeIterator(n.value);if(n=i.next().value,i=i.next().value,!t.has(n))return!1;if((n=t.get(n))!=i||void 0==n)return!1}return!0},shaka.media.DrmEngine=function(e,t){var r=this;t=void 0===t?1:t,this.playerInterface_=e,this.supportedTypes_=new Set,this.video_=this.mediaKeys_=null,this.initializedForStorage_=this.initialized_=!1,this.licenseTimeSeconds_=0,this.currentDrmInfo_=null,this.eventManager_=new shaka.util.EventManager,this.activeSessions_=new Map,this.offlineSessionIds_=[],this.allSessionsLoaded_=new shaka.util.PublicPromise,this.config_=null,this.onError_=function(t){r.allSessionsLoaded_.reject(t),e.onError(t)},this.keyStatusByKeyId_=new Map,this.announcedKeyStatusByKeyId_=new Map,this.keyStatusTimer_=new shaka.util.Timer((function(){return r.processKeyStatusChanges_()})),this.usePersistentLicenses_=!1,this.mediaKeyMessageEvents_=[],this.initialRequestsSent_=!1,this.expirationTimer_=new shaka.util.Timer((function(){r.pollExpiration_()})).tickEvery(t),this.allSessionsLoaded_.catch((function(){})),this.destroyer_=new shaka.util.Destroyer((function(){return r.destroyNow_()}))},shaka.media.DrmEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.DrmEngine.prototype.destroyNow_=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){switch(t.nextAddress){case 1:return e.eventManager_.release(),e.eventManager_=null,e.allSessionsLoaded_.reject(),e.expirationTimer_.stop(),e.expirationTimer_=null,e.keyStatusTimer_.stop(),e.keyStatusTimer_=null,t.yield(e.closeOpenSessions_(),2);case 2:if(!e.video_){t.jumpTo(3);break}return goog.asserts.assert(!e.video_.src,"video src must be removed first!"),t.setCatchFinallyBlocks(4),t.yield(e.video_.setMediaKeys(null),6);case 6:t.leaveTryBlock(5);break;case 4:t.enterCatchBlock();case 5:e.video_=null;case 3:e.currentDrmInfo_=null,e.supportedTypes_.clear(),e.mediaKeys_=null,e.offlineSessionIds_=[],e.config_=null,e.onError_=function(){},e.playerInterface_=null,t.jumpToEnd()}}))},shaka.media.DrmEngine.prototype.configure=function(e){this.config_=e},shaka.media.DrmEngine.prototype.initForStorage=function(e,t,r){return this.initializedForStorage_=!0,this.offlineSessionIds_=[],this.usePersistentLicenses_=t,this.init_(e,!!r)},shaka.media.DrmEngine.prototype.initForPlayback=function(e,t,r){return this.offlineSessionIds_=t,this.usePersistentLicenses_=0<t.length,this.init_(e,!!r)},shaka.media.DrmEngine.prototype.initForRemoval=function(e,t,r,n,i){var a=new Map;return(n={audioCapabilities:n,videoCapabilities:i,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:e}).drmInfos=[{keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}],a.set(e,n),this.queryMediaKeys_(a,[],!1)},shaka.media.DrmEngine.prototype.init_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p,h,g,m=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(v){if(1==v.nextAddress){if(goog.asserts.assert(m.config_,"DrmEngine configure() must be called before init()!"),r=m.configureClearKey_())for(n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())(a=i.value).video&&(a.video.drmInfos=[r]),a.audio&&(a.audio.drmInfos=[r]);for((o=e.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||(s=shaka.util.MapUtils.asMap(m.config_.servers),shaka.media.DrmEngine.replaceDrmInfo_(e,s)),l=$jscomp.makeIterator(e),i=l.next();!i.done;i=l.next())for(u=i.value,c=m.getVariantDrmInfos_(u),d=$jscomp.makeIterator(c),f=d.next();!f.done;f=d.next())p=f.value,shaka.media.DrmEngine.fillInDrmInfoDefaults_(p,shaka.util.MapUtils.asMap(m.config_.servers),shaka.util.MapUtils.asMap(m.config_.advanced||{}));return t?v.yield(shaka.util.StreamUtils.getDecodingInfosForVariants(e,m.usePersistentLicenses_),2):(h=m.prepareMediaKeyConfigsForVariants_(e),v.jumpTo(2))}return o||Object.keys(m.config_.servers).length?(g=m.queryMediaKeys_(h,e,t),v.return(o?g:g.catch((function(){})))):(m.initialized_=!0,v.return(Promise.resolve()))}))},shaka.media.DrmEngine.prototype.attach=function(e){var t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){if(1==i.nextAddress)return n.mediaKeys_?(n.video_=e,n.eventManager_.listenOnce(n.video_,"play",(function(){return n.onPlay_()})),"webkitCurrentPlaybackTargetIsWireless"in n.video_&&n.eventManager_.listen(n.video_,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return n.closeOpenSessions_()})),t=(t=n.video_.setMediaKeys(n.mediaKeys_)).catch((function(e){return goog.asserts.assert(e instanceof Error,"Wrong error type!"),Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_ATTACH_TO_VIDEO,e.message))})),i.yield(t,2)):(n.eventManager_.listenOnce(e,"encrypted",(function(e){n.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.ENCRYPTED_CONTENT_WITHOUT_DRM_INFO))})),i.return());n.destroyer_.ensureNotDestroyed(),n.createOrLoad(),n.currentDrmInfo_.initData.length||n.offlineSessionIds_.length||(r=function(e){return n.newInitData(e.initDataType,shaka.util.BufferUtils.toUint8(e.initData))},n.eventManager_.listen(n.video_,"encrypted",r)),i.jumpToEnd()}))},shaka.media.DrmEngine.prototype.setServerCertificate=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return goog.asserts.assert(t.initialized_,"Must call init() before setServerCertificate"),t.mediaKeys_&&t.currentDrmInfo_&&t.currentDrmInfo_.serverCertificate&&t.currentDrmInfo_.serverCertificate.length?(r.setCatchFinallyBlocks(3),r.yield(t.mediaKeys_.setServerCertificate(t.currentDrmInfo_.serverCertificate),5)):r.jumpTo(0);if(3!=r.nextAddress)return r.yieldResult||shaka.log.warning("Server certificates are not supported by the key system.  The server certificate has been ignored."),r.leaveTryBlock(0);throw e=r.enterCatchBlock(),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.INVALID_SERVER_CERTIFICATE,e.message)}))},shaka.media.DrmEngine.prototype.removeSession=function(e){var t,r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(goog.asserts.assert(i.mediaKeys_,"Must call init() before removeSession"),a.yield(i.loadOfflineSession_(e),2)):(t=a.yieldResult)?(r=[],(n=i.activeSessions_.get(t))&&(n.updatePromise=new shaka.util.PublicPromise,r.push(n.updatePromise)),shaka.log.v2("Attempting to remove session",e),r.push(t.remove()),a.yield(Promise.all(r),0)):(shaka.log.v2("Ignoring attempt to remove missing session",e),a.return())}))},shaka.media.DrmEngine.prototype.createOrLoad=function(){for(var e=(this.currentDrmInfo_?this.currentDrmInfo_.initData:[])||[],t=$jscomp.makeIterator(e),r=t.next();!r.done;r=t.next())r=r.value,this.newInitData(r.initDataType,r.initData);for(r=(t=$jscomp.makeIterator(this.offlineSessionIds_)).next();!r.done;r=t.next())this.loadOfflineSession_(r.value);return e.length||this.offlineSessionIds_.length||this.allSessionsLoaded_.resolve(),this.allSessionsLoaded_},shaka.media.DrmEngine.prototype.newInitData=function(e,t){for(var r=this.activeSessions_.values(),n=(r=$jscomp.makeIterator(r)).next();!n.done;n=r.next())if(shaka.util.BufferUtils.equal(t,n.value.initData)&&!shaka.util.Platform.isTizen2())return void shaka.log.debug("Ignoring duplicate init data.");this.createTemporarySession_(e,t)},shaka.media.DrmEngine.prototype.initialized=function(){return this.initialized_},shaka.media.DrmEngine.keySystem=function(e){return e?e.keySystem:""},shaka.media.DrmEngine.isPlayReadyKeySystem=function(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)},shaka.media.DrmEngine.prototype.willSupport=function(e){if(shaka.util.Platform.isLegacyEdge())return!0;if(e=e.toLowerCase(),shaka.util.Platform.isTizen()&&e.includes('codecs="ac-3"')){var t=e.replace("ac-3","ec-3");return this.supportedTypes_.has(e)||this.supportedTypes_.has(t)}return this.supportedTypes_.has(e)},shaka.media.DrmEngine.prototype.getSessionIds=function(){var e=this.activeSessions_.keys();return e=shaka.util.Iterables.map(e,(function(e){return e.sessionId})),Array.from(e)},shaka.media.DrmEngine.prototype.getExpiration=function(){for(var e=1/0,t=this.activeSessions_.keys(),r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())r=r.value,isNaN(r.expiration)||(e=Math.min(e,r.expiration));return e},shaka.media.DrmEngine.prototype.getLicenseTime=function(){return this.licenseTimeSeconds_?this.licenseTimeSeconds_:NaN},shaka.media.DrmEngine.prototype.getDrmInfo=function(){return this.currentDrmInfo_},shaka.media.DrmEngine.prototype.getMediaKeys=function(){return this.mediaKeys_},shaka.media.DrmEngine.prototype.getKeyStatuses=function(){return shaka.util.MapUtils.asObject(this.announcedKeyStatusByKeyId_)},shaka.media.DrmEngine.prototype.prepareMediaKeyConfigsForVariants_=function(e){for(var t=shaka.util.ManifestParserUtils.ContentType,r=new Set,n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next()){i=this.getVariantDrmInfos_(i.value);var a=$jscomp.makeIterator(i);for(i=a.next();!i.done;i=a.next())r.add(i.value)}for(i=(n=$jscomp.makeIterator(r)).next();!i.done;i=n.next())shaka.media.DrmEngine.fillInDrmInfoDefaults_(i.value,shaka.util.MapUtils.asMap(this.config_.servers),shaka.util.MapUtils.asMap(this.config_.advanced||{}));a=this.usePersistentLicenses_?"required":"optional";var o=this.usePersistentLicenses_?["persistent-license"]:["temporary"];for(n=new Map,i=(r=$jscomp.makeIterator(r)).next();!i.done;i=r.next())i=i.value,n.set(i.keySystem,{initDataTypes:["cenc"],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(i=(e=$jscomp.makeIterator(e)).next();!i.done;i=e.next())for(i=i.value,i=(r=$jscomp.makeIterator([i.audio,i.video])).next();!i.done;i=r.next())if(a=i.value){o=shaka.media.DrmEngine.computeMimeType_(a);var s=null;"ac-3"==a.codecs.toLowerCase()&&shaka.util.Platform.isTizen()&&(s=shaka.media.DrmEngine.computeMimeType_(a,"ec-3"));var l=$jscomp.makeIterator(a.drmInfos);for(i=l.next();!i.done;i=l.next()){var u=i.value;i=n.get(u.keySystem),goog.asserts.assert(i,"Any missing configs should have be filled in before."),i.drmInfos.push(u),u.initData&&u.initData.length&&(i.initDataTypes=[].concat($jscomp.arrayFromIterable(new Set(u.initData.map((function(e){return e.initDataType})))))),u.distinctiveIdentifierRequired&&(i.distinctiveIdentifier="required"),u.persistentStateRequired&&(i.persistentState="required"),u.sessionType&&(i.sessionTypes=[u.sessionType]);var c={robustness:(u=a.type==t.AUDIO?u.audioRobustness:u.videoRobustness)||"",contentType:o};a.type==t.AUDIO?i.audioCapabilities.push(c):i.videoCapabilities.push(c),s&&(u={robustness:u||"",contentType:s},a.type==t.AUDIO?i.audioCapabilities.push(u):i.videoCapabilities.push(u))}}return n},shaka.media.DrmEngine.computeMimeType_=function(e,t){var r=shaka.util.MimeUtils.getFullType(e.mimeType,t||e.codecs);return shaka.media.Transmuxer.isSupported(r)?shaka.media.Transmuxer.convertTsCodecs(e.type,r):r},shaka.media.DrmEngine.prototype.queryMediaKeys_=function(e,t,r){var n,i,a,o,s,l,u,c,d,f,p,h,g,m=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(v){switch(v.nextAddress){case 1:if(n=new Map,r){i=m.getKeySystemAccessFromVariants_(t,n),v.jumpTo(2);break}return v.yield(m.getKeySystemAccessByConfigs_(e),3);case 3:i=v.yieldResult;case 2:if(!(a=i))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE);for(m.destroyer_.ensureNotDestroyed(),v.setCatchFinallyBlocks(4),m.supportedTypes_.clear(),o=a.getConfiguration(),shaka.log.v2("Got MediaKeySystemAccess with configuration",o),s=o.audioCapabilities||[],l=o.videoCapabilities||[],u=$jscomp.makeIterator(s),c=u.next();!c.done;c=u.next())d=c.value,m.supportedTypes_.add(d.contentType.toLowerCase());for(f=$jscomp.makeIterator(l),c=f.next();!c.done;c=f.next())p=c.value,m.supportedTypes_.add(p.contentType.toLowerCase());if(goog.asserts.assert(m.supportedTypes_.size,"We should get at least one supported MIME type"),m.currentDrmInfo_=r?m.createDrmInfoByInfos_(a.keySystem,n.get(a.keySystem)):shaka.media.DrmEngine.createDrmInfoByConfigs_(a.keySystem,e.get(a.keySystem)),!m.currentDrmInfo_.licenseServerUri)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.NO_LICENSE_SERVER_GIVEN,m.currentDrmInfo_.keySystem);return v.yield(a.createMediaKeys(),6);case 6:return h=v.yieldResult,m.destroyer_.ensureNotDestroyed(),shaka.log.info("Created MediaKeys object for key system",m.currentDrmInfo_.keySystem),m.mediaKeys_=h,m.initialized_=!0,v.yield(m.setServerCertificate(),7);case 7:m.destroyer_.ensureNotDestroyed(),v.leaveTryBlock(0);break;case 4:if(g=v.enterCatchBlock(),m.destroyer_.ensureNotDestroyed(g),m.currentDrmInfo_=null,m.supportedTypes_.clear(),g instanceof shaka.util.Error)throw g;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_CDM,g.message)}}))},shaka.media.DrmEngine.prototype.getKeySystemAccessFromVariants_=function(e,t){for(var r=$jscomp.makeIterator(e),n=r.next();!n.done;n=r.next()){var i=this.getVariantDrmInfos_(n.value);for(n=(i=$jscomp.makeIterator(i)).next();!n.done;n=i.next()){var a=n.value;t.has(a.keySystem)||t.set(a.keySystem,[]),t.get(a.keySystem).push(a)}}if(1==t.size&&t.has(""))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.NO_RECOGNIZED_KEY_SYSTEMS);for(i=(r=$jscomp.makeIterator([!0,!1])).next();!i.done;i=r.next())for(i=i.value,n=(a=$jscomp.makeIterator(e)).next();!n.done;n=a.next()){var o=$jscomp.makeIterator(n.value.decodingInfos);for(n=o.next();!n.done;n=o.next()){var s=n.value;if(s.supported&&s.keySystemAccess){n=t.get(s.keySystemAccess.keySystem);var l=$jscomp.makeIterator(n);for(n=l.next();!n.done;n=l.next())if(!!n.value.licenseServerUri==i)return s.keySystemAccess}}}return null},shaka.media.DrmEngine.prototype.getKeySystemAccessByConfigs_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(h){switch(h.nextAddress){case 1:if(1==e.size&&e.has(""))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.NO_RECOGNIZED_KEY_SYSTEMS);for(r=$jscomp.makeIterator(e.values()),n=r.next();!n.done;n=r.next())0==(i=n.value).audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities;a=$jscomp.makeIterator([!0,!1]),o=a.next();case 2:if(o.done){h.jumpTo(4);break}s=o.value,l=$jscomp.makeIterator(e.keys()),u=l.next();case 5:if(u.done){o=a.next(),h.jumpTo(2);break}if(c=u.value,d=e.get(c),d.drmInfos.some((function(e){return!!e.licenseServerUri}))!=s){h.jumpTo(6);break}return h.setCatchFinallyBlocks(8),h.yield(navigator.requestMediaKeySystemAccess(c,[d]),10);case 10:return t=h.yieldResult,h.return(t);case 8:f=h.enterCatchBlock(),shaka.log.v2("Requesting",c,"failed with config",d,f);case 9:p.destroyer_.ensureNotDestroyed();case 6:u=l.next(),h.jumpTo(5);break;case 4:return h.return(t)}}))},shaka.media.DrmEngine.prototype.configureClearKey_=function(){var e=shaka.util.MapUtils.asMap(this.config_.clearKeys);if(0==e.size)return null;var t=shaka.util.StringUtils,r=shaka.util.Uint8ArrayUtils,n=[],i=[];e.forEach((function(e,t){var a=r.fromHex(t),o=r.fromHex(e);a={kty:"oct",kid:r.toBase64(a,!1),k:r.toBase64(o,!1)},n.push(a),i.push(a.kid)})),e=JSON.stringify({keys:n});var a=JSON.stringify({kids:i});return t=[{initData:shaka.util.BufferUtils.toUint8(t.toUTF8(a)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+window.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,sessionType:"",initData:t,keyIds:new Set(i)}},shaka.media.DrmEngine.prototype.loadOfflineSession_=function(e){var t,r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:try{shaka.log.v1("Attempting to load an offline session",e),t=o.mediaKeys_.createSession("persistent-license")}catch(k){return r=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,k.message),o.onError_(r),s.return(Promise.reject(r))}return o.eventManager_.listen(t,"message",(function(e){return o.onSessionMessage_(e)})),o.eventManager_.listen(t,"keystatuseschange",(function(e){return o.onKeyStatusesChange_(e)})),n={initData:null,loaded:!1,oldExpiration:1/0,updatePromise:null,type:"persistent-license"},o.activeSessions_.set(t,n),s.setCatchFinallyBlocks(2),s.yield(t.load(e),4);case 4:return i=s.yieldResult,o.destroyer_.ensureNotDestroyed(),shaka.log.v2("Loaded offline session",e,i),i?(n.loaded=!0,o.areAllSessionsLoaded_()&&o.allSessionsLoaded_.resolve(),s.return(t)):(o.activeSessions_.delete(t),o.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.OFFLINE_SESSION_REMOVED)),s.return(Promise.resolve()));case 2:a=s.enterCatchBlock(),o.destroyer_.ensureNotDestroyed(a),o.activeSessions_.delete(t),o.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,a.message));case 3:return s.return(Promise.resolve())}}))},shaka.media.DrmEngine.prototype.createTemporarySession_=function(e,t){var r=this;goog.asserts.assert(this.mediaKeys_,"mediaKeys_ should be valid when creating temporary session.");var n=this.currentDrmInfo_.sessionType;try{shaka.log.info("Creating new",n,"session");var i=this.mediaKeys_.createSession(n)}catch(a){return void this.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_CREATE_SESSION,a.message))}this.eventManager_.listen(i,"message",(function(e){return r.onSessionMessage_(e)})),this.eventManager_.listen(i,"keystatuseschange",(function(e){return r.onKeyStatusesChange_(e)})),this.activeSessions_.set(i,{initData:t,loaded:!1,oldExpiration:1/0,updatePromise:null,type:n});try{t=this.config_.initDataTransform(t,e,this.currentDrmInfo_)}catch(a){return n=a,a instanceof shaka.util.Error||(n=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.INIT_DATA_TRANSFORM_ERROR,a)),void this.onError_(n)}this.config_.logLicenseExchange&&(n=shaka.util.Uint8ArrayUtils.toBase64(t),shaka.log.info("EME init data: type=",e,"data=",n)),i.generateRequest(e,t).catch((function(e){if(!r.destroyer_.destroyed()){goog.asserts.assert(e instanceof Error,"Wrong error type!"),r.activeSessions_.delete(i);var t=e.errorCode;if(t&&t.systemCode){var n=t.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}r.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.FAILED_TO_GENERATE_LICENSE_REQUEST,e.message,e,n))}}))},shaka.media.DrmEngine.defaultInitDataTransform=function(e,t,r){return"skd"==t&&(t=r.serverCertificate,r=shaka.util.FairPlayUtils.defaultGetContentId(e),e=shaka.util.FairPlayUtils.initDataTransform(e,r,t)),e},shaka.media.DrmEngine.prototype.onSessionMessage_=function(e){this.delayLicenseRequest_()?this.mediaKeyMessageEvents_.push(e):this.sendLicenseRequest_(e)},shaka.media.DrmEngine.prototype.delayLicenseRequest_=function(){return!!this.video_&&(this.config_.delayLicenseRequestUntilPlayed&&this.video_.paused&&!this.initialRequestsSent_)},shaka.media.DrmEngine.prototype.sendLicenseRequest_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(y){switch(y.nextAddress){case 1:return t=e.target,shaka.log.v1("Sending license request for session",t.sessionId,"of type",e.messageType),v.config_.logLicenseExchange&&(r=shaka.util.Uint8ArrayUtils.toBase64(e.message),shaka.log.info("EME license request",r)),n=v.activeSessions_.get(t),i=v.currentDrmInfo_.licenseServerUri,a=v.config_.advanced[v.currentDrmInfo_.keySystem],"individualization-request"==e.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),o=shaka.net.NetworkingEngine.RequestType.LICENSE,(s=shaka.net.NetworkingEngine.makeRequest([i],v.config_.retryParameters)).body=e.message,s.method="POST",s.licenseRequestType=e.messageType,s.sessionId=t.sessionId,shaka.media.DrmEngine.isPlayReadyKeySystem(v.currentDrmInfo_.keySystem)&&v.unpackPlayReadyRequest_(s),l=Date.now(),y.setCatchFinallyBlocks(2),c=v.playerInterface_.netEngine.request(o,s),y.yield(c.promise,4);case 4:u=y.yieldResult,y.leaveTryBlock(3);break;case 2:return d=y.enterCatchBlock(),goog.asserts.assert(d instanceof shaka.util.Error,"Wrong NetworkingEngine error type!"),f=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.LICENSE_REQUEST_FAILED,d),v.onError_(f),n&&n.updatePromise&&n.updatePromise.reject(f),y.return();case 3:return v.destroyer_.destroyed()?y.return():(v.licenseTimeSeconds_+=(Date.now()-l)/1e3,v.config_.logLicenseExchange&&(p=shaka.util.Uint8ArrayUtils.toBase64(u.data),shaka.log.info("EME license response",p)),y.setCatchFinallyBlocks(5),shaka.log.v1("Updating session",t.sessionId),y.yield(t.update(u.data),7));case 7:y.leaveTryBlock(6);break;case 5:return h=y.enterCatchBlock(),g=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.LICENSE_RESPONSE_REJECTED,h.message),v.onError_(g),n&&n.updatePromise&&n.updatePromise.reject(g),y.return();case 6:m=new shaka.util.FakeEvent("drmsessionupdate"),v.playerInterface_.onEvent(m),n&&(n.updatePromise&&n.updatePromise.resolve(),new shaka.util.Timer((function(){n.loaded=!0,v.areAllSessionsLoaded_()&&v.allSessionsLoaded_.resolve()})).tickAfter(shaka.media.DrmEngine.SESSION_LOAD_TIMEOUT_)),y.jumpToEnd()}}))},shaka.media.DrmEngine.prototype.unpackPlayReadyRequest_=function(e){var t=shaka.util.StringUtils.fromUTF16(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){shaka.log.debug("Unwrapping PlayReady request.");for(var r=(t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader"),n=(r=$jscomp.makeIterator(r)).next();!n.done;n=r.next()){var i=n.value;n=i.getElementsByTagName("name")[0],i=i.getElementsByTagName("value")[0],goog.asserts.assert(n&&i,"Malformed PlayReady headers!"),e.headers[n.textContent]=i.textContent}t=t.getElementsByTagName("Challenge")[0],goog.asserts.assert(t,"Malformed PlayReady challenge!"),goog.asserts.assert("base64encoded"==t.getAttribute("encoding"),"Unexpected PlayReady challenge encoding!"),e.body=shaka.util.Uint8ArrayUtils.fromBase64(t.textContent)}else shaka.log.debug("PlayReady request is already unwrapped."),e.headers["Content-Type"]="text/xml; charset=utf-8"},shaka.media.DrmEngine.prototype.onKeyStatusesChange_=function(e){var t=this;e=e.target,shaka.log.v2("Key status changed for session",e.sessionId);var r=this.activeSessions_.get(e),n=!1;e.keyStatuses.forEach((function(e,i){if("string"==typeof i){var a=i;i=e,e=a}if(shaka.media.DrmEngine.isPlayReadyKeySystem(t.currentDrmInfo_.keySystem)&&16==i.byteLength&&shaka.util.Platform.isEdge()){var o=(a=shaka.util.BufferUtils.toDataView(i)).getUint32(0,!0),s=a.getUint16(4,!0),l=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,l,!1)}"status-pending"!=e&&(r.loaded=!0),r||goog.asserts.assert("usable"!=e,"Usable keys found in closed session"),"expired"==e&&(n=!0),a=shaka.util.Uint8ArrayUtils.toHex(i),t.keyStatusByKeyId_.set(a,e)}));var i=e.expiration-Date.now();(0>i||n&&1e3>i)&&r&&!r.updatePromise&&(shaka.log.debug("Session has expired",e.sessionId),this.activeSessions_.delete(e),e.close().catch((function(){}))),this.areAllSessionsLoaded_()&&(this.allSessionsLoaded_.resolve(),this.keyStatusTimer_.tickAfter(shaka.media.DrmEngine.KEY_STATUS_BATCH_TIME))},shaka.media.DrmEngine.prototype.processKeyStatusChanges_=function(){var e=this.keyStatusByKeyId_,t=this.announcedKeyStatusByKeyId_;t.clear(),e.forEach((function(e,r){return t.set(r,e)})),(e=Array.from(t.values())).length&&e.every((function(e){return"expired"==e}))&&this.onError_(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.DRM,shaka.util.Error.Code.EXPIRED)),this.playerInterface_.onKeyStatus(shaka.util.MapUtils.asObject(t))},shaka.media.DrmEngine.isBrowserSupported=function(){return!!window.MediaKeys&&!!window.navigator&&!!window.navigator.requestMediaKeySystemAccess&&!!window.MediaKeySystemAccess&&!!window.MediaKeySystemAccess.prototype.getConfiguration},shaka.media.DrmEngine.probeSupport=function(){var e,t,r,n,i,a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return 1==o.nextAddress?(goog.asserts.assert(shaka.media.DrmEngine.isBrowserSupported(),"Must have basic EME support"),e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),r=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:t}],n=new Map,i=function(e){var t,i,a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){switch(o.nextAddress){case 1:return o.setCatchFinallyBlocks(2),o.yield(navigator.requestMediaKeySystemAccess(e,r),4);case 4:return t=o.yieldResult,a=!!(i=t.getConfiguration().sessionTypes)&&i.includes("persistent-license"),shaka.util.Platform.isTizen3()&&(a=!1),n.set(e,{persistentState:a}),o.yield(t.createMediaKeys(),5);case 5:o.leaveTryBlock(0);break;case 2:o.enterCatchBlock(),n.set(e,null),o.jumpToEnd()}}))},a=e.map((function(e){return i(e)})),o.yield(Promise.all(a),2)):o.return(shaka.util.MapUtils.asObject(n))}))},shaka.media.DrmEngine.prototype.onPlay_=function(){for(var e=$jscomp.makeIterator(this.mediaKeyMessageEvents_),t=e.next();!t.done;t=e.next())this.sendLicenseRequest_(t.value);this.initialRequestsSent_=!0,this.mediaKeyMessageEvents_=[]},shaka.media.DrmEngine.prototype.closeSession_=function(e){var t,r;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(t=shaka.media.DrmEngine,r=new Promise((function(e,r){new shaka.util.Timer(r).tickAfter(t.CLOSE_TIMEOUT_)})),n.setCatchFinallyBlocks(2),n.yield(Promise.race([Promise.all([e.close(),e.closed]),r]),4)):2!=n.nextAddress?n.leaveTryBlock(0):(n.enterCatchBlock(),shaka.log.warning("Timeout waiting for session close"),void n.jumpToEnd())}))},shaka.media.DrmEngine.prototype.closeOpenSessions_=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return e=Array.from(t.activeSessions_.entries()),t.activeSessions_.clear(),r.yield(Promise.all(e.map((function(e){var r,n=(e=$jscomp.makeIterator(e)).next().value,i=e.next().value;return $jscomp.asyncExecutePromiseGeneratorProgram((function(e){return 1==e.nextAddress?(e.setCatchFinallyBlocks(2),t.initializedForStorage_||t.offlineSessionIds_.includes(n.sessionId)||"persistent-license"!==i.type?(shaka.log.v1("Closing session",n.sessionId,i),e.yield(t.closeSession_(n),5)):(shaka.log.v1("Removing session",n.sessionId),e.yield(n.remove(),5))):2!=e.nextAddress?e.leaveTryBlock(0):(r=e.enterCatchBlock(),shaka.log.error("Failed to close or remove the session",r),void e.jumpToEnd())}))}))),0)}))},shaka.media.DrmEngine.prototype.supportsVariant=function(e){var t=e.audio,r=e.video;if(t&&t.encrypted&&(t=shaka.media.DrmEngine.computeMimeType_(t),!this.willSupport(t))||r&&r.encrypted&&(r=shaka.media.DrmEngine.computeMimeType_(r),!this.willSupport(r)))return!1;var n=shaka.media.DrmEngine.keySystem(this.currentDrmInfo_);return 0==(e=this.getVariantDrmInfos_(e)).length||e.some((function(e){return e.keySystem==n}))},shaka.media.DrmEngine.areDrmCompatible=function(e,t){return!e.length||!t.length||0<shaka.media.DrmEngine.getCommonDrmInfos(e,t).length},shaka.media.DrmEngine.getCommonDrmInfos=function(e,t){if(!e.length)return t;if(!t.length)return e;for(var r=[],n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next()){i=i.value;for(var a=$jscomp.makeIterator(t),o=a.next();!o.done;o=a.next())if(o=o.value,i.keySystem==o.keySystem){a=(a=(a=[]).concat(i.initData||[])).concat(o.initData||[]);var s=i.keyIds&&o.keyIds?new Set([].concat($jscomp.arrayFromIterable(i.keyIds),$jscomp.arrayFromIterable(o.keyIds))):i.keyIds||o.keyIds;r.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,initData:a,keyIds:s});break}}return r},shaka.media.DrmEngine.prototype.getVariantDrmInfos_=function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])},shaka.media.DrmEngine.prototype.pollExpiration_=function(){var e=this;this.activeSessions_.forEach((function(t,r){var n=t.oldExpiration,i=r.expiration;isNaN(i)&&(i=1/0),i!=n&&(e.playerInterface_.onExpirationUpdated(r.sessionId,i),t.oldExpiration=i)}))},shaka.media.DrmEngine.prototype.areAllSessionsLoaded_=function(){var e=this.activeSessions_.values();return shaka.util.Iterables.every(e,(function(e){return e.loaded}))},shaka.media.DrmEngine.replaceDrmInfo_=function(e,t){var r=[];t.forEach((function(e,t){r.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())(i=i.value).video&&(i.video.drmInfos=r),i.audio&&(i.audio.drmInfos=r)},shaka.media.DrmEngine.prototype.createDrmInfoByInfos_=function(e,t){var r=[],n=[],i=[],a=new Set;shaka.media.DrmEngine.processDrmInfos_(t,r,n,i,a),1<n.length&&shaka.log.warning("Multiple unique server certificates found! Only the first will be used."),1<r.length&&shaka.log.warning("Multiple unique license server URIs found! Only the first will be used.");var o=this.usePersistentLicenses_?"persistent-license":"temporary";for(r={keySystem:e,licenseServerUri:r[0],distinctiveIdentifierRequired:t[0].distinctiveIdentifierRequired,persistentStateRequired:t[0].persistentStateRequired,sessionType:t[0].sessionType||o,audioRobustness:t[0].audioRobustness||"",videoRobustness:t[0].videoRobustness||"",serverCertificate:n[0],initData:i,keyIds:a},i=(n=$jscomp.makeIterator(t)).next();!i.done;i=n.next())(i=i.value).distinctiveIdentifierRequired&&(r.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),i.persistentStateRequired&&(r.persistentStateRequired=i.persistentStateRequired);return r},shaka.media.DrmEngine.createDrmInfoByConfigs_=function(e,t){var r=[],n=[],i=[],a=new Set;return shaka.media.DrmEngine.processDrmInfos_(t.drmInfos,r,n,i,a),1<n.length&&shaka.log.warning("Multiple unique server certificates found! Only the first will be used."),1<r.length&&shaka.log.warning("Multiple unique license server URIs found! Only the first will be used."),{keySystem:e,licenseServerUri:r[0],distinctiveIdentifierRequired:"required"==t.distinctiveIdentifier,persistentStateRequired:"required"==t.persistentState,sessionType:t.sessionTypes[0]||"temporary",audioRobustness:(t.audioCapabilities?t.audioCapabilities[0].robustness:"")||"",videoRobustness:(t.videoCapabilities?t.videoCapabilities[0].robustness:"")||"",serverCertificate:n[0],initData:i,keyIds:a}},shaka.media.DrmEngine.processDrmInfos_=function(e,t,r,n,i){for(var a={},o=(e=$jscomp.makeIterator(e)).next();!o.done;a={$jscomp$loop$prop$drmInfo$575:a.$jscomp$loop$prop$drmInfo$575},o=e.next()){if(a.$jscomp$loop$prop$drmInfo$575=o.value,t.includes(a.$jscomp$loop$prop$drmInfo$575.licenseServerUri)||t.push(a.$jscomp$loop$prop$drmInfo$575.licenseServerUri),a.$jscomp$loop$prop$drmInfo$575.serverCertificate&&(r.some(function(e){return function(t){return shaka.util.BufferUtils.equal(t,e.$jscomp$loop$prop$drmInfo$575.serverCertificate)}}(a))||r.push(a.$jscomp$loop$prop$drmInfo$575.serverCertificate)),a.$jscomp$loop$prop$drmInfo$575.initData){o={};for(var s=$jscomp.makeIterator(a.$jscomp$loop$prop$drmInfo$575.initData),l=s.next();!l.done;o={$jscomp$loop$prop$initDataOverride$577:o.$jscomp$loop$prop$initDataOverride$577},l=s.next())o.$jscomp$loop$prop$initDataOverride$577=l.value,n.some(function(e){return function(t){var r=e.$jscomp$loop$prop$initDataOverride$577;return t=!(!t.keyId||t.keyId!=r.keyId)||t.initDataType==r.initDataType&&shaka.util.BufferUtils.equal(t.initData,r.initData)}}(o))||n.push(o.$jscomp$loop$prop$initDataOverride$577)}if(a.$jscomp$loop$prop$drmInfo$575.keyIds)for(s=(o=$jscomp.makeIterator(a.$jscomp$loop$prop$drmInfo$575.keyIds)).next();!s.done;s=o.next())i.add(s.value)}},shaka.media.DrmEngine.fillInDrmInfoDefaults_=function(e,t,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(t.size&&(t=t.get(e.keySystem)||"",e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate),r.sessionType&&(e.sessionType=r.sessionType)),window.cast&&window.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))},shaka.media.DrmEngine.CLOSE_TIMEOUT_=1,shaka.media.DrmEngine.SESSION_LOAD_TIMEOUT_=5,shaka.media.DrmEngine.KEY_STATUS_BATCH_TIME=.5,shaka.media.DrmEngine.DUMMY_KEY_ID=new shaka.util.Lazy((function(){return shaka.util.BufferUtils.toArrayBuffer(new Uint8Array([0]))})),shaka.media.ManifestParser=function(){},shaka.media.ManifestParser.registerParserByExtension=function(e,t){shaka.media.ManifestParser.parsersByExtension[e]=t},shaka.media.ManifestParser.registerParserByMime=function(e,t){shaka.media.ManifestParser.parsersByMime[e]=t},shaka.media.ManifestParser.unregisterParserByMime=function(e){delete shaka.media.ManifestParser.parsersByMime[e]},shaka.media.ManifestParser.probeSupport=function(){var e=shaka.media.ManifestParser,t={};if(shaka.util.Platform.supportsMediaSource()){for(var r in e.parsersByMime)t[r]=!0;for(var n in e.parsersByExtension)t[n]=!0}r={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var i=(n=$jscomp.makeIterator(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!i.done;i=n.next())i=i.value,shaka.util.Platform.supportsMediaSource()?t[i]=!!e.parsersByMime[i]:t[i]=shaka.util.Platform.supportsMediaType(i);for(var a in r)shaka.util.Platform.supportsMediaSource()?t[a]=!!e.parsersByExtension[a]:t[a]=shaka.util.Platform.supportsMediaType(r[a]);return t},shaka.media.ManifestParser.getFactory=function(e,t,r,n){var i,a,o,s,l;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){if(1==u.nextAddress){if(i=shaka.media.ManifestParser,n){if(a=i.parsersByMime[n.toLowerCase()])return u.return(a);shaka.log.warning("Could not determine manifest type using MIME type ",n)}if(o=i.getExtension(e)){if(s=i.parsersByExtension[o])return u.return(s);shaka.log.warning("Could not determine manifest type for extension ",o)}else shaka.log.warning("Could not find extension for ",e);return n?u.jumpTo(2):u.yield(i.getMimeType(e,t,r),3)}if(2!=u.nextAddress&&(n=u.yieldResult)){if(l=shaka.media.ManifestParser.parsersByMime[n])return u.return(l);shaka.log.warning("Could not determine manifest type using MIME type",n)}throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.UNABLE_TO_GUESS_MANIFEST_TYPE,e)}))},shaka.media.ManifestParser.getMimeType=function(e,t,r){var n,i,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(n=shaka.net.NetworkingEngine.RequestType.MANIFEST,(i=shaka.net.NetworkingEngine.makeRequest([e],r)).method="HEAD",s.yield(t.request(n,i).promise,2)):(a=s.yieldResult,o=a.headers["content-type"],s.return(o?o.toLowerCase().split(";").shift():""))}))},shaka.media.ManifestParser.getExtension=function(e){return 1==(e=new goog.Uri(e).getPath().split("/").pop().split(".")).length?"":e.pop().toLowerCase()},shaka.media.ManifestParser.isSupported=function(e,t){return!!shaka.util.Platform.supportsMediaSource()&&(t in shaka.media.ManifestParser.parsersByMime||shaka.media.ManifestParser.getExtension(e)in shaka.media.ManifestParser.parsersByExtension)},goog.exportSymbol("shaka.media.ManifestParser",shaka.media.ManifestParser),goog.exportProperty(shaka.media.ManifestParser,"unregisterParserByMime",shaka.media.ManifestParser.unregisterParserByMime),goog.exportProperty(shaka.media.ManifestParser,"registerParserByMime",shaka.media.ManifestParser.registerParserByMime),goog.exportProperty(shaka.media.ManifestParser,"registerParserByExtension",shaka.media.ManifestParser.registerParserByExtension),shaka.media.ManifestParser.parsersByMime={},shaka.media.ManifestParser.parsersByExtension={},shaka.media.InitSegmentReference=function(e,t,r){this.getUris=e,this.startByte=t,this.endByte=r},shaka.media.InitSegmentReference.prototype.getStartByte=function(){return this.startByte},shaka.media.InitSegmentReference.prototype.getEndByte=function(){return this.endByte},shaka.media.InitSegmentReference.prototype.getSize=function(){return this.endByte?this.endByte-this.startByte:null},shaka.media.InitSegmentReference.equal=function(e,t){var r=shaka.util.ArrayUtils;return e&&t?e.getStartByte()==t.getStartByte()&&e.getEndByte()==t.getEndByte()&&r.equal(e.getUris(),t.getUris()):e==t},goog.exportSymbol("shaka.media.InitSegmentReference",shaka.media.InitSegmentReference),goog.exportProperty(shaka.media.InitSegmentReference.prototype,"getEndByte",shaka.media.InitSegmentReference.prototype.getEndByte),goog.exportProperty(shaka.media.InitSegmentReference.prototype,"getStartByte",shaka.media.InitSegmentReference.prototype.getStartByte),shaka.media.SegmentReference=function(e,t,r,n,i,a,o,s,l,u){u=void 0===u?[]:u,goog.asserts.assert(e<=t,"startTime must be less than or equal to endTime"),goog.asserts.assert(null==i||n<i,"startByte must be < endByte"),this.startTime=e,this.endTime=t,this.getUrisInner=r,this.startByte=n,this.endByte=i,this.initSegmentReference=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=l,this.partialReferences=u},shaka.media.SegmentReference.prototype.getUris=function(){return this.getUrisInner()},shaka.media.SegmentReference.prototype.getStartTime=function(){return this.startTime},shaka.media.SegmentReference.prototype.getEndTime=function(){return this.endTime},shaka.media.SegmentReference.prototype.getStartByte=function(){return this.startByte},shaka.media.SegmentReference.prototype.getEndByte=function(){return this.endByte},shaka.media.SegmentReference.prototype.getSize=function(){return this.endByte?this.endByte-this.startByte:null},shaka.media.SegmentReference.prototype.hasPartialSegments=function(){return 0<this.partialReferences.length},goog.exportSymbol("shaka.media.SegmentReference",shaka.media.SegmentReference),goog.exportProperty(shaka.media.SegmentReference.prototype,"getEndByte",shaka.media.SegmentReference.prototype.getEndByte),goog.exportProperty(shaka.media.SegmentReference.prototype,"getStartByte",shaka.media.SegmentReference.prototype.getStartByte),goog.exportProperty(shaka.media.SegmentReference.prototype,"getEndTime",shaka.media.SegmentReference.prototype.getEndTime),goog.exportProperty(shaka.media.SegmentReference.prototype,"getStartTime",shaka.media.SegmentReference.prototype.getStartTime),goog.exportProperty(shaka.media.SegmentReference.prototype,"getUris",shaka.media.SegmentReference.prototype.getUris),shaka.media.PresentationTimeline=function(e,t,r){this.presentationStartTime_=e,this.presentationDelay_=t,this.segmentAvailabilityDuration_=this.duration_=1/0,this.maxSegmentDuration_=1,this.maxSegmentEndTime_=this.minSegmentStartTime_=null,this.clockOffset_=0,this.static_=!0,this.userSeekStart_=0,this.autoCorrectDrift_=void 0===r||r,this.availabilityTimeOffset_=0},shaka.media.PresentationTimeline.prototype.getDuration=function(){return this.duration_},shaka.media.PresentationTimeline.prototype.getMaxSegmentDuration=function(){return this.maxSegmentDuration_},shaka.media.PresentationTimeline.prototype.setDuration=function(e){goog.asserts.assert(0<e,"duration must be > 0"),this.duration_=e},shaka.media.PresentationTimeline.prototype.getPresentationStartTime=function(){return this.presentationStartTime_},shaka.media.PresentationTimeline.prototype.setClockOffset=function(e){this.clockOffset_=e},shaka.media.PresentationTimeline.prototype.setStatic=function(e){this.static_=e},shaka.media.PresentationTimeline.prototype.setSegmentAvailabilityDuration=function(e){goog.asserts.assert(0<=e,"segmentAvailabilityDuration must be >= 0"),this.segmentAvailabilityDuration_=e},shaka.media.PresentationTimeline.prototype.setDelay=function(e){goog.asserts.assert(0<=e,"delay must be >= 0"),this.presentationDelay_=e},shaka.media.PresentationTimeline.prototype.getDelay=function(){return this.presentationDelay_},shaka.media.PresentationTimeline.prototype.notifySegments=function(e){if(0!=e.length){var t=e[e.length-1].endTime;this.notifyMinSegmentStartTime(e[0].startTime),this.maxSegmentDuration_=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.maxSegmentDuration_),this.maxSegmentEndTime_=Math.max(this.maxSegmentEndTime_,t),null!=this.presentationStartTime_&&this.autoCorrectDrift_&&(this.presentationStartTime_=(Date.now()+this.clockOffset_)/1e3-this.maxSegmentEndTime_-this.maxSegmentDuration_),shaka.log.v1("notifySegments:","maxSegmentDuration="+this.maxSegmentDuration_)}},shaka.media.PresentationTimeline.prototype.notifyMinSegmentStartTime=function(e){this.minSegmentStartTime_=null==this.minSegmentStartTime_?e:Math.min(this.minSegmentStartTime_,e)},shaka.media.PresentationTimeline.prototype.notifyMaxSegmentDuration=function(e){this.maxSegmentDuration_=Math.max(this.maxSegmentDuration_,e),shaka.log.v1("notifyNewSegmentDuration:","maxSegmentDuration="+this.maxSegmentDuration_)},shaka.media.PresentationTimeline.prototype.offset=function(e){null!=this.minSegmentStartTime_&&(this.minSegmentStartTime_+=e),null!=this.maxSegmentEndTime_&&(this.maxSegmentEndTime_+=e)},shaka.media.PresentationTimeline.prototype.isLive=function(){return 1/0==this.duration_&&!this.static_},shaka.media.PresentationTimeline.prototype.isInProgress=function(){return 1/0!=this.duration_&&!this.static_},shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityStart=function(){goog.asserts.assert(0<=this.segmentAvailabilityDuration_,"The availability duration should be positive");var e=this.getSegmentAvailabilityEnd()-this.segmentAvailabilityDuration_;return Math.max(this.userSeekStart_,e)},shaka.media.PresentationTimeline.prototype.setUserSeekStart=function(e){this.userSeekStart_=e},shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityEnd=function(){return this.isLive()||this.isInProgress()?Math.min(this.getLiveEdge_()+this.availabilityTimeOffset_,this.duration_):this.duration_},shaka.media.PresentationTimeline.prototype.getSafeSeekRangeStart=function(e){var t=Math.max(this.minSegmentStartTime_,this.userSeekStart_);if(1/0==this.segmentAvailabilityDuration_)return Math.ceil(1e3*t)/1e3;var r=this.getSegmentAvailabilityEnd()-this.segmentAvailabilityDuration_;return e=Math.min(r+e,this.getSeekRangeEnd()),Math.max(t,e)},shaka.media.PresentationTimeline.prototype.getSeekRangeStart=function(){return this.getSafeSeekRangeStart(0)},shaka.media.PresentationTimeline.prototype.getSeekRangeEnd=function(){var e=this.isLive()||this.isInProgress()?this.presentationDelay_:0;return Math.max(0,this.getSegmentAvailabilityEnd()-e)},shaka.media.PresentationTimeline.prototype.usingPresentationStartTime=function(){return!(null==this.presentationStartTime_||null!=this.maxSegmentEndTime_&&this.autoCorrectDrift_)},shaka.media.PresentationTimeline.prototype.getLiveEdge_=function(){goog.asserts.assert(null!=this.presentationStartTime_,"Cannot compute timeline live edge without start time");var e=(Date.now()+this.clockOffset_)/1e3;return Math.max(0,e-this.maxSegmentDuration_-this.presentationStartTime_)},shaka.media.PresentationTimeline.prototype.setAvailabilityTimeOffset=function(e){this.availabilityTimeOffset_=e},shaka.media.PresentationTimeline.prototype.assertIsValid=function(){goog.DEBUG&&(this.isLive()?goog.asserts.assert(null!=this.presentationStartTime_,"Detected as live stream, but does not match our model of live!"):this.isInProgress()?goog.asserts.assert(null!=this.presentationStartTime_&&1/0==this.segmentAvailabilityDuration_,"Detected as IPR stream, but does not match our model of IPR!"):goog.asserts.assert(1/0==this.segmentAvailabilityDuration_&&1/0!=this.duration_&&this.static_,"Detected as VOD stream, but does not match our model of VOD!"))},goog.exportSymbol("shaka.media.PresentationTimeline",shaka.media.PresentationTimeline),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setAvailabilityTimeOffset",shaka.media.PresentationTimeline.prototype.setAvailabilityTimeOffset),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"usingPresentationStartTime",shaka.media.PresentationTimeline.prototype.usingPresentationStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSeekRangeEnd",shaka.media.PresentationTimeline.prototype.getSeekRangeEnd),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSeekRangeStart",shaka.media.PresentationTimeline.prototype.getSeekRangeStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSafeSeekRangeStart",shaka.media.PresentationTimeline.prototype.getSafeSeekRangeStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSegmentAvailabilityEnd",shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityEnd),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setUserSeekStart",shaka.media.PresentationTimeline.prototype.setUserSeekStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getSegmentAvailabilityStart",shaka.media.PresentationTimeline.prototype.getSegmentAvailabilityStart),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"isInProgress",shaka.media.PresentationTimeline.prototype.isInProgress),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"isLive",shaka.media.PresentationTimeline.prototype.isLive),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"offset",shaka.media.PresentationTimeline.prototype.offset),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifyMaxSegmentDuration",shaka.media.PresentationTimeline.prototype.notifyMaxSegmentDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifyMinSegmentStartTime",shaka.media.PresentationTimeline.prototype.notifyMinSegmentStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"notifySegments",shaka.media.PresentationTimeline.prototype.notifySegments),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getDelay",shaka.media.PresentationTimeline.prototype.getDelay),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setDelay",shaka.media.PresentationTimeline.prototype.setDelay),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setSegmentAvailabilityDuration",shaka.media.PresentationTimeline.prototype.setSegmentAvailabilityDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setStatic",shaka.media.PresentationTimeline.prototype.setStatic),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setClockOffset",shaka.media.PresentationTimeline.prototype.setClockOffset),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getPresentationStartTime",shaka.media.PresentationTimeline.prototype.getPresentationStartTime),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"setDuration",shaka.media.PresentationTimeline.prototype.setDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getMaxSegmentDuration",shaka.media.PresentationTimeline.prototype.getMaxSegmentDuration),goog.exportProperty(shaka.media.PresentationTimeline.prototype,"getDuration",shaka.media.PresentationTimeline.prototype.getDuration),shaka.media.StallDetector=function(e,t){this.implementation_=e,this.wasMakingProgress_=e.shouldBeMakingProgress(),this.value_=e.getPresentationSeconds(),this.lastUpdateSeconds_=e.getWallSeconds(),this.didJump_=!1,this.stallThresholdSeconds_=t,this.onStall_=function(){}},shaka.media.StallDetector.prototype.release=function(){this.implementation_=null,this.onStall_=function(){}},shaka.media.StallDetector.prototype.onStall=function(e){this.onStall_=e},shaka.media.StallDetector.prototype.poll=function(){var e=this.implementation_,t=e.shouldBeMakingProgress(),r=e.getPresentationSeconds(),n=e.getWallSeconds();return this.value_==r&&this.wasMakingProgress_==t||(this.lastUpdateSeconds_=n,this.value_=r,this.wasMakingProgress_=t,this.didJump_=!1),(t=(r=n-this.lastUpdateSeconds_)>=this.stallThresholdSeconds_&&t&&!this.didJump_)&&(this.onStall_(this.value_,r),this.didJump_=!0,this.value_=e.getPresentationSeconds()),t},shaka.media.StallDetector.Implementation=function(){},shaka.media.StallDetector.Implementation.prototype.shouldBeMakingProgress=function(){},shaka.media.StallDetector.Implementation.prototype.getPresentationSeconds=function(){},shaka.media.StallDetector.Implementation.prototype.getWallSeconds=function(){},shaka.media.StallDetector.MediaElementImplementation=function(e){this.mediaElement_=e},shaka.media.StallDetector.MediaElementImplementation.prototype.shouldBeMakingProgress=function(){return!this.mediaElement_.paused&&0!=this.mediaElement_.playbackRate&&0!=this.mediaElement_.buffered.length&&shaka.media.StallDetector.MediaElementImplementation.hasContentFor_(this.mediaElement_.buffered,this.mediaElement_.currentTime)},shaka.media.StallDetector.MediaElementImplementation.prototype.getPresentationSeconds=function(){return this.mediaElement_.currentTime},shaka.media.StallDetector.MediaElementImplementation.prototype.getWallSeconds=function(){return Date.now()/1e3},shaka.media.StallDetector.MediaElementImplementation.hasContentFor_=function(e,t){for(var r=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(e)),n=r.next();!n.done;n=r.next())if(!(t<(n=n.value).start-.1||t>n.end-.5))return!0;return!1},shaka.media.GapJumpingController=function(e,t,r,n,i){var a=this;this.video_=e,this.timeline_=t,this.config_=r,this.onEvent_=i,this.eventManager_=new shaka.util.EventManager,this.seekingEventReceived_=!1,this.prevReadyState_=e.readyState,this.didFireLargeGap_=!1,this.stallDetector_=n,this.hadSegmentAppended_=!1,this.eventManager_.listen(e,"waiting",(function(){return a.onPollGapJump_()})),this.gapJumpTimer_=new shaka.util.Timer((function(){a.onPollGapJump_()})).tickEvery(.25)},shaka.media.GapJumpingController.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),null!=this.gapJumpTimer_&&(this.gapJumpTimer_.stop(),this.gapJumpTimer_=null),this.stallDetector_&&(this.stallDetector_.release(),this.stallDetector_=null),this.video_=this.timeline_=this.onEvent_=null},shaka.media.GapJumpingController.prototype.onSegmentAppended=function(){this.hadSegmentAppended_=!0,this.onPollGapJump_()},shaka.media.GapJumpingController.prototype.onSeeking=function(){this.seekingEventReceived_=!0,this.didFireLargeGap_=this.hadSegmentAppended_=!1},shaka.media.GapJumpingController.prototype.onPollGapJump_=function(){if(0!=this.video_.readyState){if(this.video_.seeking){if(!this.seekingEventReceived_)return}else this.seekingEventReceived_=!1;if((!this.video_.paused||0==this.video_.currentTime)&&(this.video_.readyState!=this.prevReadyState_&&(this.didFireLargeGap_=!1,this.prevReadyState_=this.video_.readyState),!this.stallDetector_||!this.stallDetector_.poll())){var e=this.config_.smallGapLimit,t=this.video_.currentTime,r=this.video_.buffered,n=shaka.media.TimeRangesUtils.getGapIndex(r,t,this.config_.gapDetectionThreshold);if(null!=n&&(0!=n||this.hadSegmentAppended_)){var i=r.start(n),a=this.timeline_.getSeekRangeEnd();if(!(i>=a)){e=(a=i-t)<=e;var o=!1;if(!(a<shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE)){if(!e&&!this.didFireLargeGap_){this.didFireLargeGap_=!0;var s=new shaka.util.FakeEvent("largegap",{currentTime:t,gapSize:a});s.cancelable=!0,this.onEvent_(s),this.config_.jumpLargeGaps&&!s.defaultPrevented?o=!0:shaka.log.info("Ignoring large gap at",t,"size",a)}(e||o)&&(0==n?shaka.log.info("Jumping forward",a,"seconds because of gap before start time of",i):shaka.log.info("Jumping forward",a,"seconds because of gap starting at",r.end(n-1),"and ending at",i),this.video_.currentTime=i)}}}}}},shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE=.001,shaka.util.MediaReadyState=function(){},shaka.util.MediaReadyState.waitForReadyState=function(e,t,r,n){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?n():(t=shaka.util.MediaReadyState.READY_STATES_TO_EVENT_NAMES_.value().get(t),r.listenOnce(e,t,n))},shaka.util.MediaReadyState.READY_STATES_TO_EVENT_NAMES_=new shaka.util.Lazy((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])})),shaka.media.VideoWrapper=function(e,t,r){var n=this;this.video_=e,this.onSeek_=t,this.startTime_=r,this.started_=!1,this.eventManager_=new shaka.util.EventManager,this.mover_=new shaka.media.VideoWrapper.PlayheadMover(e,10),shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){n.setStartTime_(n.startTime_)}))},shaka.media.VideoWrapper.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),null!=this.mover_&&(this.mover_.release(),this.mover_=null),this.onSeek_=function(){},this.video_=null},shaka.media.VideoWrapper.prototype.getTime=function(){return this.started_?this.video_.currentTime:this.startTime_},shaka.media.VideoWrapper.prototype.setTime=function(e){var t=this;0<this.video_.readyState?this.mover_.moveTo(e):shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){t.setStartTime_(t.startTime_)}))},shaka.media.VideoWrapper.prototype.setStartTime_=function(e){var t=this;.001>Math.abs(this.video_.currentTime-e)?this.startListeningToSeeks_():(this.eventManager_.listenOnce(this.video_,"seeking",(function(){t.startListeningToSeeks_()})),this.mover_.moveTo(0==this.video_.currentTime?e:this.video_.currentTime))},shaka.media.VideoWrapper.prototype.startListeningToSeeks_=function(){var e=this;goog.asserts.assert(0<this.video_.readyState,"The media element should be ready before we listen for seeking."),this.started_=!0,this.eventManager_.listen(this.video_,"seeking",(function(){return e.onSeek_()}))},shaka.media.VideoWrapper.PlayheadMover=function(e,t){var r=this;this.mediaElement_=e,this.maxAttempts_=t,this.targetTime_=this.originTime_=this.remainingAttempts_=0,this.timer_=new shaka.util.Timer((function(){return r.onTick_()}))},shaka.media.VideoWrapper.PlayheadMover.prototype.release=function(){this.timer_&&(this.timer_.stop(),this.timer_=null),this.mediaElement_=null},shaka.media.VideoWrapper.PlayheadMover.prototype.moveTo=function(e){this.originTime_=this.mediaElement_.currentTime,this.targetTime_=e,this.remainingAttempts_=this.maxAttempts_,this.mediaElement_.currentTime=e,this.timer_.tickEvery(.1)},shaka.media.VideoWrapper.PlayheadMover.prototype.onTick_=function(){0>=this.remainingAttempts_?(shaka.log.warning(["Failed to move playhead from",this.originTime_,"to",this.targetTime_].join(" ")),this.timer_.stop()):this.mediaElement_.currentTime!=this.originTime_?this.timer_.stop():(this.mediaElement_.currentTime=this.targetTime_,this.remainingAttempts_--)},shaka.media.Playhead=function(){},shaka.media.Playhead.prototype.setStartTime=function(e){},shaka.media.Playhead.prototype.getTime=function(){},shaka.media.Playhead.prototype.notifyOfBufferingChange=function(){},shaka.media.SrcEqualsPlayhead=function(e){var t=this;this.mediaElement_=e,this.started_=!1,this.startTime_=null,this.eventManager_=new shaka.util.EventManager;shaka.util.MediaReadyState.waitForReadyState(this.mediaElement_,HTMLMediaElement.HAVE_CURRENT_DATA,this.eventManager_,(function(){null==t.startTime_?t.started_=!0:(t.eventManager_.listenOnce(t.mediaElement_,"seeking",(function(){t.started_=!0})),t.mediaElement_.currentTime=Math.max(0,t.mediaElement_.currentTime+t.startTime_))}))},shaka.media.SrcEqualsPlayhead.prototype.release=function(){this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),this.mediaElement_=null},shaka.media.SrcEqualsPlayhead.prototype.setStartTime=function(e){this.startTime_=this.started_?this.startTime_:e},shaka.media.SrcEqualsPlayhead.prototype.getTime=function(){return(this.started_?this.mediaElement_.currentTime:this.startTime_)||0},shaka.media.SrcEqualsPlayhead.prototype.notifyOfBufferingChange=function(){},shaka.media.MediaSourcePlayhead=function(e,t,r,n,i,a){var o=this;this.minSeekRange_=3,this.mediaElement_=e,this.timeline_=t.presentationTimeline,this.minBufferTime_=t.minBufferTime||0,this.config_=r,this.onSeek_=i,this.lastCorrectiveSeek_=null,this.gapController_=new shaka.media.GapJumpingController(e,t.presentationTimeline,r,this.createStallDetector_(e,r),a),this.videoWrapper_=new shaka.media.VideoWrapper(e,(function(){return o.onSeeking_()}),this.getStartTime_(n)),this.checkWindowTimer_=new shaka.util.Timer((function(){o.onPollWindow_()})).tickEvery(.25)},shaka.media.MediaSourcePlayhead.prototype.release=function(){this.videoWrapper_&&(this.videoWrapper_.release(),this.videoWrapper_=null),this.gapController_&&(this.gapController_.release(),this.gapController_=null),this.checkWindowTimer_&&(this.checkWindowTimer_.stop(),this.checkWindowTimer_=null),this.mediaElement_=this.videoWrapper_=this.timeline_=this.config_=null,this.onSeek_=function(){}},shaka.media.MediaSourcePlayhead.prototype.setStartTime=function(e){this.videoWrapper_.setTime(e)},shaka.media.MediaSourcePlayhead.prototype.getTime=function(){var e=this.videoWrapper_.getTime();return 0<this.mediaElement_.readyState&&!this.mediaElement_.paused?this.clampTime_(e):e},shaka.media.MediaSourcePlayhead.prototype.getStartTime_=function(e){return null==e?e=1/0>this.timeline_.getDuration()?this.timeline_.getSeekRangeStart():this.timeline_.getSeekRangeEnd():0>e&&(e=this.timeline_.getSeekRangeEnd()+e),this.clampSeekToDuration_(this.clampTime_(e))},shaka.media.MediaSourcePlayhead.prototype.notifyOfBufferingChange=function(){this.gapController_.onSegmentAppended()},shaka.media.MediaSourcePlayhead.prototype.onPollWindow_=function(){if(0!=this.mediaElement_.readyState&&!this.mediaElement_.paused){var e=this.videoWrapper_.getTime(),t=this.timeline_.getSeekRangeStart(),r=this.timeline_.getSeekRangeEnd();r-t<this.minSeekRange_&&(t=r-this.minSeekRange_),e<t&&(t=this.reposition_(e),shaka.log.info("Jumping forward "+(t-e)+" seconds to catch up with the seek range."),this.mediaElement_.currentTime=t)}},shaka.media.MediaSourcePlayhead.prototype.onSeeking_=function(){this.gapController_.onSeeking();var e=this.videoWrapper_.getTime(),t=this.reposition_(e);if(Math.abs(t-e)>shaka.media.GapJumpingController.BROWSER_GAP_TOLERANCE){var r=Date.now()/1e3;if(!this.lastCorrectiveSeek_||this.lastCorrectiveSeek_<r-1)return this.lastCorrectiveSeek_=r,void this.videoWrapper_.setTime(t)}shaka.log.v1("Seek to "+e),this.onSeek_()},shaka.media.MediaSourcePlayhead.prototype.clampSeekToDuration_=function(e){var t=this.timeline_.getDuration();return e>=t?(goog.asserts.assert(0<=this.config_.durationBackoff,"Duration backoff must be non-negative!"),t-this.config_.durationBackoff):e},shaka.media.MediaSourcePlayhead.prototype.reposition_=function(e){goog.asserts.assert(this.config_,"Cannot reposition playhead when it has beeen destroyed");var t=Math.max(this.minBufferTime_,this.config_.rebufferingGoal),r=this.config_.safeSeekOffset,n=this.timeline_.getSeekRangeStart(),i=this.timeline_.getSeekRangeEnd(),a=this.timeline_.getDuration();i-n<this.minSeekRange_&&(n=i-this.minSeekRange_);var o=this.timeline_.getSafeSeekRangeStart(t),s=this.timeline_.getSafeSeekRangeStart(r);return t=this.timeline_.getSafeSeekRangeStart(t+r),e>=a?(shaka.log.v1("Playhead past duration."),this.clampSeekToDuration_(e)):e>i?(shaka.log.v1("Playhead past end."),i):e<n?shaka.media.TimeRangesUtils.isBuffered(this.mediaElement_.buffered,s)?(shaka.log.v1("Playhead before start & start is buffered"),s):(shaka.log.v1("Playhead before start & start is unbuffered"),t):e>=o||shaka.media.TimeRangesUtils.isBuffered(this.mediaElement_.buffered,e)?(shaka.log.v1("Playhead in safe region or in buffered region."),e):(shaka.log.v1("Playhead outside safe region & in unbuffered region."),t)},shaka.media.MediaSourcePlayhead.prototype.clampTime_=function(e){var t=this.timeline_.getSeekRangeStart();return e<t||e>(t=this.timeline_.getSeekRangeEnd())?t:e},shaka.media.MediaSourcePlayhead.prototype.createStallDetector_=function(e,t){if(!t.stallEnabled)return null;var r=t.stallThreshold,n=t.stallSkip;return(r=new shaka.media.StallDetector(new shaka.media.StallDetector.MediaElementImplementation(e),r)).onStall((function(t,r){shaka.log.debug("Stall detected at "+t+" for "+r+" seconds."),n?(shaka.log.debug("Seeking forward "+n+" seconds to break stall."),e.currentTime+=n):(shaka.log.debug("Pausing and unpausing to break stall."),e.pause(),e.play())})),r},shaka.media.SegmentIndex=function(e){goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(e),this.references=e,this.timer_=null,this.numEvicted=0,this.immutable_=!1},shaka.media.SegmentIndex.prototype.destroy=function(){return shaka.Deprecate.deprecateFeature(4,"shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},shaka.media.SegmentIndex.prototype.release=function(){this.immutable_||(this.references=[],this.timer_&&this.timer_.stop(),this.timer_=null)},shaka.media.SegmentIndex.prototype.markImmutable=function(){this.immutable_=!0},shaka.media.SegmentIndex.prototype.find=function(e){for(var t=this.references.length-1,r=t;0<=r;--r){var n=this.references[r],i=r<t?this.references[r+1].startTime:n.endTime;if(e>=n.startTime&&e<i)return r+this.numEvicted}return this.references.length&&e<this.references[0].startTime?this.numEvicted:null},shaka.media.SegmentIndex.prototype.get=function(e){return 0==this.references.length||0>(e-=this.numEvicted)||e>=this.references.length?null:this.references[e]},shaka.media.SegmentIndex.prototype.offset=function(e){if(!this.immutable_)for(var t=$jscomp.makeIterator(this.references),r=t.next();!r.done;r=t.next())(r=r.value).startTime+=e,r.endTime+=e,r.timestampOffset+=e},shaka.media.SegmentIndex.prototype.merge=function(e){goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(e),!this.immutable_&&e.length&&(this.references=this.references.filter((function(t){return t.startTime<e[0].startTime})),this.references.push.apply(this.references,$jscomp.arrayFromIterable(e)),goog.DEBUG&&shaka.media.SegmentIndex.assertCorrectReferences_(this.references))},shaka.media.SegmentIndex.prototype.mergeAndEvict=function(e,t){var r=this;e=e.filter((function(e){return e.endTime>t&&(0==r.references.length||e.endTime>r.references[0].startTime)}));var n=this.references[0];this.merge(e);var i=this.references[0];n&&goog.asserts.assert(n.startTime==i.startTime,"SegmentIndex.merge should not change the first reference time!"),this.evict(t)},shaka.media.SegmentIndex.prototype.evict=function(e){if(!this.immutable_){var t=this.references.length;this.references=this.references.filter((function(t){return t.endTime>e})),this.numEvicted+=t-this.references.length}},shaka.media.SegmentIndex.prototype.fit=function(e,t,r){if(r=void 0!==r&&r,goog.asserts.assert(null!=t,"Content duration must be known for static content!"),goog.asserts.assert(1/0!=t,"Content duration must be finite for static content!"),!this.immutable_){for(;this.references.length&&this.references[this.references.length-1].startTime>=t;)this.references.pop();for(;this.references.length&&this.references[0].endTime<=e;)this.references.shift(),r||this.numEvicted++;0!=this.references.length&&(e=this.references[this.references.length-1],this.references[this.references.length-1]=new shaka.media.SegmentReference(e.startTime,t,e.getUrisInner,e.startByte,e.endByte,e.initSegmentReference,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd))}},shaka.media.SegmentIndex.prototype.updateEvery=function(e,t){var r=this;goog.asserts.assert(!this.timer_,"SegmentIndex timer already started!"),this.immutable_||(this.timer_&&this.timer_.stop(),this.timer_=new shaka.util.Timer((function(){var e=t();e?r.references.push.apply(r.references,$jscomp.arrayFromIterable(e)):(r.timer_.stop(),r.timer_=null)})),this.timer_.tickEvery(e))},shaka.media.SegmentIndex.prototype[Symbol.iterator]=function(){var e=this.getIteratorForTime(0);return goog.asserts.assert(null!=e,"Iterator for 0 should never be null!"),e},shaka.media.SegmentIndex.prototype.getIteratorForTime=function(e){var t=this.find(e);if(null==t)return null;t--;var r=this.get(t+1),n=-1;if(r&&r.hasPartialSegments())for(var i=r.partialReferences.length-1;0<=i;--i){var a=r.partialReferences[i];if(e>=a.startTime&&e<a.endTime){t++,n=i-1;break}}return new shaka.media.SegmentIterator(this,t,n)},shaka.media.SegmentIndex.forSingleSegment=function(e,t,r){return e=new shaka.media.SegmentReference(e,e+t,(function(){return r}),0,null,null,e,e,e+t),new shaka.media.SegmentIndex([e])},goog.exportSymbol("shaka.media.SegmentIndex",shaka.media.SegmentIndex),goog.exportProperty(shaka.media.SegmentIndex,"forSingleSegment",shaka.media.SegmentIndex.forSingleSegment),goog.exportProperty(shaka.media.SegmentIndex.prototype,"getIteratorForTime",shaka.media.SegmentIndex.prototype.getIteratorForTime),goog.exportProperty(shaka.media.SegmentIndex.prototype,"updateEvery",shaka.media.SegmentIndex.prototype.updateEvery),goog.exportProperty(shaka.media.SegmentIndex.prototype,"fit",shaka.media.SegmentIndex.prototype.fit),goog.exportProperty(shaka.media.SegmentIndex.prototype,"evict",shaka.media.SegmentIndex.prototype.evict),goog.exportProperty(shaka.media.SegmentIndex.prototype,"mergeAndEvict",shaka.media.SegmentIndex.prototype.mergeAndEvict),goog.exportProperty(shaka.media.SegmentIndex.prototype,"merge",shaka.media.SegmentIndex.prototype.merge),goog.exportProperty(shaka.media.SegmentIndex.prototype,"offset",shaka.media.SegmentIndex.prototype.offset),goog.exportProperty(shaka.media.SegmentIndex.prototype,"get",shaka.media.SegmentIndex.prototype.get),goog.exportProperty(shaka.media.SegmentIndex.prototype,"find",shaka.media.SegmentIndex.prototype.find),goog.exportProperty(shaka.media.SegmentIndex.prototype,"markImmutable",shaka.media.SegmentIndex.prototype.markImmutable),goog.exportProperty(shaka.media.SegmentIndex.prototype,"release",shaka.media.SegmentIndex.prototype.release),goog.exportProperty(shaka.media.SegmentIndex.prototype,"destroy",shaka.media.SegmentIndex.prototype.destroy),goog.DEBUG&&(shaka.media.SegmentIndex.assertCorrectReferences_=function(e){goog.asserts.assert(e.every((function(t,r){if(0==r)return!0;var n=e[r-1];return n.startTime<t.startTime||!(n.startTime>t.startTime)&&n.endTime<=t.endTime})),"SegmentReferences are incorrect")}),shaka.media.SegmentIterator=function(e,t,r){this.segmentIndex_=e,this.currentPosition_=t,this.currentPartialPosition_=r},shaka.media.SegmentIterator.prototype.seek=function(e){return shaka.Deprecate.deprecateFeature(4,"shaka.media.SegmentIterator","Please use SegmentIndex.getIteratorForTime instead of seek()."),(e=this.segmentIndex_.getIteratorForTime(e))?(this.currentPosition_=e.currentPosition_,this.currentPartialPosition_=e.currentPartialPosition_):(this.currentPosition_=Number.MAX_VALUE,this.currentPartialPosition_=0),this.next().value},shaka.media.SegmentIterator.prototype.current=function(){var e=this.segmentIndex_.get(this.currentPosition_);return e&&e.hasPartialSegments()&&e.getUris().length&&this.currentPartialPosition_>=e.partialReferences.length&&(this.currentPosition_++,this.currentPartialPosition_=0,e=this.segmentIndex_.get(this.currentPosition_)),e&&e.hasPartialSegments()?e.partialReferences[this.currentPartialPosition_]:e},shaka.media.SegmentIterator.prototype.next=function(){var e=this.segmentIndex_.get(this.currentPosition_);return e&&e.hasPartialSegments()?(this.currentPartialPosition_++,e.getUris().length&&this.currentPartialPosition_==e.partialReferences.length&&(this.currentPosition_++,this.currentPartialPosition_=0)):(this.currentPosition_++,this.currentPartialPosition_=0),{value:e=this.current(),done:!e}},goog.exportSymbol("shaka.media.SegmentIterator",shaka.media.SegmentIterator),goog.exportProperty(shaka.media.SegmentIterator.prototype,"next",shaka.media.SegmentIterator.prototype.next),goog.exportProperty(shaka.media.SegmentIterator.prototype,"current",shaka.media.SegmentIterator.prototype.current),goog.exportProperty(shaka.media.SegmentIterator.prototype,"seek",shaka.media.SegmentIterator.prototype.seek),shaka.media.MetaSegmentIndex=function(){shaka.media.SegmentIndex.call(this,[]),this.indexes_=[]},$jscomp.inherits(shaka.media.MetaSegmentIndex,shaka.media.SegmentIndex),shaka.media.MetaSegmentIndex.prototype.appendSegmentIndex=function(e){goog.asserts.assert(0==this.indexes_.length||0==e.numEvicted,"Should not append a new segment index with already-evicted segments"),this.indexes_.push(e)},shaka.media.MetaSegmentIndex.prototype.clone=function(){var e=new shaka.media.MetaSegmentIndex;return e.indexes_=this.indexes_.slice(),e},shaka.media.MetaSegmentIndex.prototype.release=function(){for(var e=$jscomp.makeIterator(this.indexes_),t=e.next();!t.done;t=e.next())t.value.release();this.indexes_=[]},shaka.media.MetaSegmentIndex.prototype.find=function(e){for(var t=0,r=$jscomp.makeIterator(this.indexes_),n=r.next();!n.done;n=r.next()){var i=(n=n.value).find(e);if(null!=i)return i+t;t+=n.numEvicted+n.references.length}return null},shaka.media.MetaSegmentIndex.prototype.get=function(e){for(var t=0,r=!1,n=$jscomp.makeIterator(this.indexes_),i=n.next();!i.done;i=n.next()){i=i.value,goog.asserts.assert(!r||0==i.numEvicted,"Should not see evicted segments after available segments");var a=i.get(e-t);if(a)return a;t+=i.numEvicted+i.references.length,r=r||0!=i.references.length}return null},shaka.media.MetaSegmentIndex.prototype.offset=function(e){goog.asserts.assert(!1,"offset() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.merge=function(e){goog.asserts.assert(!1,"merge() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.evict=function(e){goog.asserts.assert(!1,"evict() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.mergeAndEvict=function(e,t){goog.asserts.assert(!1,"mergeAndEvict() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.fit=function(e,t){goog.asserts.assert(!1,"fit() should not be used in MetaSegmentIndex!")},shaka.media.MetaSegmentIndex.prototype.updateEvery=function(e,t){goog.asserts.assert(!1,"updateEvery() should not be used in MetaSegmentIndex!")},goog.exportSymbol("shaka.media.MetaSegmentIndex",shaka.media.MetaSegmentIndex),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"updateEvery",shaka.media.MetaSegmentIndex.prototype.updateEvery),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"fit",shaka.media.MetaSegmentIndex.prototype.fit),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"mergeAndEvict",shaka.media.MetaSegmentIndex.prototype.mergeAndEvict),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"evict",shaka.media.MetaSegmentIndex.prototype.evict),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"merge",shaka.media.MetaSegmentIndex.prototype.merge),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"offset",shaka.media.MetaSegmentIndex.prototype.offset),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"get",shaka.media.MetaSegmentIndex.prototype.get),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"find",shaka.media.MetaSegmentIndex.prototype.find),goog.exportProperty(shaka.media.MetaSegmentIndex.prototype,"release",shaka.media.MetaSegmentIndex.prototype.release),shaka.media.PlayRateController=function(e){var t=this;this.harness_=e,this.isBuffering_=!1,this.rate_=this.harness_.getRate(),this.pollRate_=.25,this.timer_=new shaka.util.Timer((function(){t.harness_.movePlayhead(t.rate_*t.pollRate_)}))},shaka.media.PlayRateController.prototype.release=function(){this.timer_&&(this.timer_.stop(),this.timer_=null),this.harness_=null},shaka.media.PlayRateController.prototype.setBuffering=function(e){this.isBuffering_=e,this.apply_()},shaka.media.PlayRateController.prototype.set=function(e){goog.asserts.assert(0!=e,"Should never set rate of 0 explicitly!"),this.rate_=e,this.apply_()},shaka.media.PlayRateController.prototype.getRealRate=function(){return this.rate_},shaka.media.PlayRateController.prototype.getDefaultRate=function(){return this.harness_.getDefaultRate()},shaka.media.PlayRateController.prototype.apply_=function(){this.timer_.stop();var e=this.calculateCurrentRate_();if(shaka.log.v1("Changing effective playback rate to",e),0<=e)try{return void this.applyRate_(e)}catch(t){}this.timer_.tickEvery(this.pollRate_),this.applyRate_(0)},shaka.media.PlayRateController.prototype.calculateCurrentRate_=function(){return this.isBuffering_?0:this.rate_},shaka.media.PlayRateController.prototype.applyRate_=function(e){var t=this.harness_.getRate();return t!=e&&this.harness_.setRate(e),t!=e},shaka.media.IPlayheadObserver=function(){},shaka.media.IPlayheadObserver.prototype.poll=function(e,t){},shaka.media.PlayheadObserverManager=function(e){var t=this;this.mediaElement_=e,this.observers_=new Set,this.pollingLoop_=new shaka.util.Timer((function(){t.pollAllObservers_(!1)})).tickEvery(.25)},shaka.media.PlayheadObserverManager.prototype.release=function(){this.pollingLoop_.stop();for(var e=$jscomp.makeIterator(this.observers_),t=e.next();!t.done;t=e.next())t.value.release();this.observers_.clear()},shaka.media.PlayheadObserverManager.prototype.manage=function(e){this.observers_.add(e)},shaka.media.PlayheadObserverManager.prototype.notifyOfSeek=function(){this.pollAllObservers_(!0)},shaka.media.PlayheadObserverManager.prototype.pollAllObservers_=function(e){for(var t=$jscomp.makeIterator(this.observers_),r=t.next();!r.done;r=t.next())r.value.poll(this.mediaElement_.currentTime,e)},shaka.media.RegionTimeline=function(e){var t=this;this.onAddRegion_=function(e){},this.regions_=new Set,this.getSeekRange_=e,this.filterTimer_=new shaka.util.Timer((function(){t.filterBySeekRange_()})).tickEvery(shaka.media.RegionTimeline.REGION_FILTER_INTERVAL)},shaka.media.RegionTimeline.prototype.release=function(){this.onAddRegion_=function(e){},this.regions_.clear(),this.filterTimer_.stop()},shaka.media.RegionTimeline.prototype.setListeners=function(e){this.onAddRegion_=e},shaka.media.RegionTimeline.prototype.addRegion=function(e){null==this.findSimilarRegion_(e)&&(this.regions_.add(e),this.onAddRegion_(e))},shaka.media.RegionTimeline.prototype.filterBySeekRange_=function(){for(var e=this.getSeekRange_(),t=$jscomp.makeIterator(this.regions_),r=t.next();!r.done;r=t.next())(r=r.value).endTime<e.start&&this.regions_.delete(r)},shaka.media.RegionTimeline.prototype.findSimilarRegion_=function(e){for(var t=$jscomp.makeIterator(this.regions_),r=t.next();!r.done;r=t.next())if((r=r.value).schemeIdUri==e.schemeIdUri&&r.id==e.id&&r.startTime==e.startTime&&r.endTime==e.endTime)return r;return null},shaka.media.RegionTimeline.prototype.regions=function(){return this.regions_},shaka.media.RegionTimeline.REGION_FILTER_INTERVAL=2,shaka.media.RegionObserver=function(e){var t=this;this.timeline_=e,this.oldPosition_=new Map,this.onEnter_=function(e,t){},this.onExit_=function(e,t){},this.onSkip_=function(e,t){};var r=shaka.media.RegionObserver.RelativePosition_;e=r.BEFORE_THE_REGION;var n=r.IN_THE_REGION;r=r.AFTER_THE_REGION,this.rules_=[{weWere:null,weAre:n,invoke:function(e,r){return t.onEnter_(e,r)}},{weWere:e,weAre:n,invoke:function(e,r){return t.onEnter_(e,r)}},{weWere:r,weAre:n,invoke:function(e,r){return t.onEnter_(e,r)}},{weWere:n,weAre:e,invoke:function(e,r){return t.onExit_(e,r)}},{weWere:n,weAre:r,invoke:function(e,r){return t.onExit_(e,r)}},{weWere:e,weAre:r,invoke:function(e,r){return t.onSkip_(e,r)}},{weWere:r,weAre:e,invoke:function(e,r){return t.onSkip_(e,r)}}]},shaka.media.RegionObserver.prototype.release=function(){this.timeline_=null,this.oldPosition_.clear(),this.onEnter_=function(e,t){},this.onExit_=function(e,t){},this.onSkip_=function(e,t){}},shaka.media.RegionObserver.prototype.poll=function(e,t){for(var r=shaka.media.RegionObserver,n=$jscomp.makeIterator(this.timeline_.regions()),i=n.next();!i.done;i=n.next()){i=i.value;var a=this.oldPosition_.get(i),o=r.determinePositionRelativeTo_(i,e);this.oldPosition_.set(i,o);for(var s=$jscomp.makeIterator(this.rules_),l=s.next();!l.done;l=s.next())(l=l.value).weWere==a&&l.weAre==o&&l.invoke(i,t)}},shaka.media.RegionObserver.prototype.setListeners=function(e,t,r){this.onEnter_=e,this.onExit_=t,this.onSkip_=r},shaka.media.RegionObserver.determinePositionRelativeTo_=function(e,t){var r=shaka.media.RegionObserver.RelativePosition_;return t<e.startTime?r.BEFORE_THE_REGION:t>e.endTime?r.AFTER_THE_REGION:r.IN_THE_REGION},shaka.media.RegionObserver.RelativePosition_={BEFORE_THE_REGION:1,IN_THE_REGION:2,AFTER_THE_REGION:3},shaka.util.Networking=function(){},shaka.util.Networking.createSegmentRequest=function(e,t,r,n,i){return e=shaka.net.NetworkingEngine.makeRequest(e,n,i),0==t&&null==r||(e.headers.Range=r?"bytes="+t+"-"+r:"bytes="+t+"-"),e},shaka.media.StreamingEngine=function(e,t){var r=this;this.playerInterface_=t,this.manifest_=e,this.config_=null,this.bufferingGoalScale_=1,this.currentTextStream_=this.currentVariant_=null,this.mediaStates_=new Map,this.startupComplete_=!1,this.failureCallbackBackoff_=null,this.fatalError_=!1,this.destroyer_=new shaka.util.Destroyer((function(){return r.doDestroy_()}))},shaka.media.StreamingEngine.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.media.StreamingEngine.prototype.doDestroy_=function(){var e,t,r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){if(1==a.nextAddress){for(e=[],t=$jscomp.makeIterator(i.mediaStates_.values()),r=t.next();!r.done;r=t.next())n=r.value,i.cancelUpdate_(n),e.push(i.abortOperations_(n));return a.yield(Promise.all(e),2)}i.mediaStates_.clear(),i.playerInterface_=null,i.manifest_=null,i.config_=null,a.jumpToEnd()}))},shaka.media.StreamingEngine.prototype.configure=function(e){this.config_=e,this.failureCallbackBackoff_=new shaka.net.Backoff({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},shaka.media.StreamingEngine.prototype.start=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress)return goog.asserts.assert(e.config_,"StreamingEngine configure() must be called before init()!"),t.yield(e.initStreams_(),2);e.destroyer_.ensureNotDestroyed(),shaka.log.debug("init: completed initial Stream setup"),e.startupComplete_=!0,t.jumpToEnd()}))},shaka.media.StreamingEngine.prototype.getCurrentVariant=function(){return this.currentVariant_},shaka.media.StreamingEngine.prototype.getCurrentTextStream=function(){return this.currentTextStream_},shaka.media.StreamingEngine.prototype.loadNewTextStream_=function(e){var t,r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:return t=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(!o.mediaStates_.has(t.TEXT),"Should not call loadNewTextStream_ while streaming text!"),s.setCatchFinallyBlocks(2),s.yield(o.playerInterface_.mediaSourceEngine.clear(t.TEXT),4);case 4:s.leaveTryBlock(3);break;case 2:r=s.enterCatchBlock(),o.playerInterface_&&o.playerInterface_.onError(r);case 3:n=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs),o.playerInterface_.mediaSourceEngine.reinitText(n),i=o.playerInterface_.mediaSourceEngine.getTextDisplayer(),(i.isTextVisible()||o.config_.alwaysStreamText)&&(a=o.createMediaState_(e),o.mediaStates_.set(t.TEXT,a),o.scheduleUpdate_(a,0)),s.jumpToEnd()}}))},shaka.media.StreamingEngine.prototype.unloadTextStream=function(){var e=shaka.util.ManifestParserUtils.ContentType,t=this.mediaStates_.get(e.TEXT);t&&(this.cancelUpdate_(t),this.abortOperations_(t).catch((function(){})),this.mediaStates_.delete(e.TEXT)),this.currentTextStream_=null},shaka.media.StreamingEngine.prototype.setTrickPlay=function(e){var t=this.mediaStates_.get(shaka.util.ManifestParserUtils.ContentType.VIDEO);if(t){var r=t.stream;r&&(shaka.log.debug("setTrickPlay",e),e?(e=r.trickModeVideo)&&!t.restoreStreamAfterTrickPlay&&(shaka.log.debug("Engaging trick mode stream",e),this.switchInternal_(e,!1,0,!1),t.restoreStreamAfterTrickPlay=r):(r=t.restoreStreamAfterTrickPlay)&&(shaka.log.debug("Restoring non-trick-mode stream",r),t.restoreStreamAfterTrickPlay=null,this.switchInternal_(r,!0,0,!1)))}},shaka.media.StreamingEngine.prototype.switchVariant=function(e,t,r){t=void 0!==t&&t,r=void 0===r?0:r,this.currentVariant_=e,this.startupComplete_&&(e.video&&this.switchInternal_(e.video,t,r,!1),e.audio&&this.switchInternal_(e.audio,t,r,!1))},shaka.media.StreamingEngine.prototype.switchTextStream=function(e){if(this.currentTextStream_=e,this.startupComplete_){var t=shaka.util.ManifestParserUtils.ContentType;goog.asserts.assert(e&&e.type==t.TEXT,"Wrong stream type passed to switchTextStream!"),this.switchInternal_(e,!0,0,!1)}},shaka.media.StreamingEngine.prototype.reloadTextStream=function(){var e=this.mediaStates_.get(shaka.util.ManifestParserUtils.ContentType.TEXT);e&&this.switchInternal_(e.stream,!0,0,!0)},shaka.media.StreamingEngine.prototype.switchInternal_=function(e,t,r,n){var i=this,a=shaka.util.ManifestParserUtils.ContentType,o=this.mediaStates_.get(e.type);o||e.type!=a.TEXT?(goog.asserts.assert(o,"switch: expected mediaState to exist"),o&&(o.restoreStreamAfterTrickPlay&&(shaka.log.debug("switch during trick play mode",e),e.trickModeVideo?(o.restoreStreamAfterTrickPlay=e,e=e.trickModeVideo,shaka.log.debug("switch found trick play stream",e)):(o.restoreStreamAfterTrickPlay=null,shaka.log.debug("switch found no special trick play stream"))),o.stream!=e||n?(e.type==a.TEXT&&(n=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs),this.playerInterface_.mediaSourceEngine.reinitText(n)),o.stream=e,o.segmentIterator=null,e=shaka.media.StreamingEngine.logPrefix_(o),shaka.log.debug("switch: switching to Stream "+e),t&&(o.clearingBuffer?o.waitingToFlushBuffer=!0:o.performingUpdate?(o.waitingToClearBuffer=!0,o.clearBufferSafeMargin=r,o.waitingToFlushBuffer=!0):(this.cancelUpdate_(o),this.clearBuffer_(o,!0,r).catch((function(e){i.playerInterface_&&(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!"),i.playerInterface_.onError(e))})))),this.makeAbortDecision_(o).catch((function(e){i.playerInterface_&&(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!"),i.playerInterface_.onError(e))}))):(t=shaka.media.StreamingEngine.logPrefix_(o),shaka.log.debug("switch: Stream "+t+" already active")))):this.loadNewTextStream_(e)},shaka.media.StreamingEngine.prototype.makeAbortDecision_=function(e){var t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){return 1==i.nextAddress?e.operation?(t=e.stream,r=e.operation,t.segmentIndex?i.jumpTo(2):i.yield(t.createSegmentIndex(),2)):i.return():e.operation!=r||e.stream!=t?i.return():(goog.asserts.assert(e.stream.segmentIndex,"Segment index should exist by now!"),n.shouldAbortCurrentRequest_(e)&&(shaka.log.info("Aborting current segment request."),e.operation.abort()),void i.jumpToEnd())}))},shaka.media.StreamingEngine.prototype.shouldAbortCurrentRequest_=function(e){goog.asserts.assert(e.operation,"Abort logic requires an ongoing operation!"),goog.asserts.assert(e.stream&&e.stream.segmentIndex,"Abort logic requires a segment index");var t=this.playerInterface_.getPresentationTime(),r=this.playerInterface_.mediaSourceEngine.bufferEnd(e.type),n=this.getTimeNeeded_(e,t),i=null==(n=e.stream.segmentIndex.find(n))?null:e.stream.segmentIndex.get(n);return n=i?i.getSize():null,i&&!n&&(n=(i.getEndTime()-i.getStartTime())*(e.stream.bandwidth||0)/8),!!n&&((i=i.initSegmentReference)&&(n+=i.getSize()||0),8*n/(i=this.playerInterface_.getBandwidthEstimate())<(r||0)-t-Math.max(this.manifest_.minBufferTime||0,this.config_.rebufferingGoal)||e.operation.getBytesRemaining()>n)},shaka.media.StreamingEngine.prototype.seeked=function(){for(var e=this.playerInterface_.getPresentationTime(),t=this.config_.smallGapLimit,r=shaka.util.ManifestParserUtils.ContentType,n=!1,i=$jscomp.makeIterator(this.mediaStates_.keys()),a=i.next();!a.done;a=i.next()){a=a.value;var o=this.mediaStates_.get(a),s=shaka.media.StreamingEngine.logPrefix_(o);o.segmentIterator=null,this.playerInterface_.mediaSourceEngine.isBuffered(a,e,t)||(null!=this.playerInterface_.mediaSourceEngine.bufferEnd(a)&&(this.forceClearBuffer_(o),n=!0),o.operation&&(o.operation.abort(),shaka.log.debug(s,"Aborting operation due to seek"),o.operation=null),a===r.TEXT&&this.playerInterface_.mediaSourceEngine.resetCaptionParser())}n||shaka.log.debug("(all): seeked: buffered seek: presentationTime="+e)},shaka.media.StreamingEngine.prototype.forceClearBuffer_=function(e){var t=this,r=shaka.media.StreamingEngine.logPrefix_(e);e.clearingBuffer?shaka.log.debug(r,"clear: already clearing the buffer"):e.waitingToClearBuffer?shaka.log.debug(r,"clear: already waiting"):e.performingUpdate?(shaka.log.debug(r,"clear: currently updating"),e.waitingToClearBuffer=!0,e.clearBufferSafeMargin=0):null==this.playerInterface_.mediaSourceEngine.bufferStart(e.type)?(shaka.log.debug(r,"clear: nothing buffered"),null==e.updateTimer&&this.scheduleUpdate_(e,0)):(shaka.log.debug(r,"clear: handling right now"),this.cancelUpdate_(e),this.clearBuffer_(e,!1,0).catch((function(e){t.playerInterface_&&(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!"),t.playerInterface_.onError(e))})))},shaka.media.StreamingEngine.prototype.initStreams_=function(){var e,t,r,n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){if(1==d.nextAddress){if(e=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(c.config_,"StreamingEngine configure() must be called before init()!"),!c.currentVariant_)throw shaka.log.error("init: no Streams chosen"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STREAMING,shaka.util.Error.Code.STREAMING_ENGINE_STARTUP_INVALID_STATE);return t=new Map,r=new Set,c.currentVariant_.audio&&(t.set(e.AUDIO,c.currentVariant_.audio),r.add(c.currentVariant_.audio)),c.currentVariant_.video&&(t.set(e.VIDEO,c.currentVariant_.video),r.add(c.currentVariant_.video)),c.currentTextStream_&&(t.set(e.TEXT,c.currentTextStream_),r.add(c.currentTextStream_)),n=c.playerInterface_.mediaSourceEngine,i=c.config_.forceTransmuxTS,d.yield(n.init(t,i),2)}for(c.destroyer_.ensureNotDestroyed(),c.setDuration_(),a=$jscomp.makeIterator(t.keys()),o=a.next();!o.done;o=a.next())s=o.value,l=t.get(s),c.mediaStates_.has(s)||(u=c.createMediaState_(l),c.mediaStates_.set(s,u),c.scheduleUpdate_(u,0));d.jumpToEnd()}))},shaka.media.StreamingEngine.prototype.createMediaState_=function(e){return{stream:e,type:e.type,segmentIterator:null,lastSegmentReference:null,lastInitSegmentReference:null,lastTimestampOffset:null,lastAppendWindowStart:null,lastAppendWindowEnd:null,restoreStreamAfterTrickPlay:null,endOfStream:!1,performingUpdate:!1,updateTimer:null,waitingToClearBuffer:!1,clearBufferSafeMargin:0,waitingToFlushBuffer:!1,clearingBuffer:!1,recovering:!1,hasError:!1,operation:null}},shaka.media.StreamingEngine.prototype.setDuration_=function(){var e=this.manifest_.presentationTimeline.getDuration();1/0>e?this.playerInterface_.mediaSourceEngine.setDuration(e):this.playerInterface_.mediaSourceEngine.setDuration(Math.pow(2,32))},shaka.media.StreamingEngine.prototype.onUpdate_=function(e){var t,r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){switch(l.nextAddress){case 1:if(s.destroyer_.ensureNotDestroyed(),t=shaka.media.StreamingEngine.logPrefix_(e),goog.asserts.assert(!e.performingUpdate&&null!=e.updateTimer,t+" unexpected call to onUpdate_()"),e.performingUpdate||null==e.updateTimer)return l.return();if(goog.asserts.assert(!e.clearingBuffer,t+" onUpdate_() should not be called when clearing the buffer"),e.clearingBuffer)return l.return();if(e.updateTimer=null,!e.waitingToClearBuffer){l.jumpTo(2);break}return shaka.log.debug(t,"skipping update and clearing the buffer"),l.yield(s.clearBuffer_(e,e.waitingToFlushBuffer,e.clearBufferSafeMargin),3);case 3:return l.return();case 2:if(e.stream.segmentIndex){l.jumpTo(4);break}return r=e.stream,l.yield(e.stream.createSegmentIndex(),5);case 5:if(r!=e.stream)return null==e.updateTimer&&s.scheduleUpdate_(e,0),l.return();case 4:l.setCatchFinallyBlocks(6),null!=(n=s.update_(e))&&(s.scheduleUpdate_(e,n),e.hasError=!1),l.leaveTryBlock(7);break;case 6:return i=l.enterCatchBlock(),l.yield(s.handleStreamingError_(i),8);case 8:return l.return();case 7:if(a=Array.from(s.mediaStates_.values()),!s.startupComplete_||!a.every((function(e){return e.endOfStream}))){l.jumpTo(0);break}return shaka.log.v1(t,"calling endOfStream()..."),l.yield(s.playerInterface_.mediaSourceEngine.endOfStream(),10);case 10:s.destroyer_.ensureNotDestroyed(),0!=(o=s.playerInterface_.mediaSourceEngine.getDuration())&&o<s.manifest_.presentationTimeline.getDuration()&&s.manifest_.presentationTimeline.setDuration(o),l.jumpToEnd()}}))},shaka.media.StreamingEngine.prototype.update_=function(e){goog.asserts.assert(this.manifest_,"manifest_ should not be null"),goog.asserts.assert(this.config_,"config_ should not be null");var t=shaka.util.ManifestParserUtils.ContentType;if(shaka.media.StreamingEngine.isEmbeddedText_(e))return this.playerInterface_.mediaSourceEngine.setSelectedClosedCaptionId(e.stream.originalId||""),null;e.type==t.TEXT&&this.playerInterface_.mediaSourceEngine.clearSelectedClosedCaptionId();var r=shaka.media.StreamingEngine.logPrefix_(e),n=this.playerInterface_.getPresentationTime(),i=this.getTimeNeeded_(e,n);shaka.log.v2(r,"timeNeeded="+i);var a=this.playerInterface_.mediaSourceEngine.bufferedAheadOf(e.type,n);shaka.log.v2(r,"update_:","presentationTime="+n,"bufferedAhead="+a);var o=Math.max(this.manifest_.minBufferTime||0,this.config_.rebufferingGoal,this.config_.bufferingGoal)*this.bufferingGoalScale_;if(i>=this.manifest_.presentationTimeline.getDuration())return shaka.log.debug(r,"buffered to end of presentation"),e.endOfStream=!0,e.type==t.VIDEO&&(e=this.mediaStates_.get(t.TEXT))&&shaka.media.StreamingEngine.isEmbeddedText_(e)&&(e.endOfStream=!0),null;if(e.endOfStream=!1,a>=o)return shaka.log.v2(r,"buffering goal met"),.5;if(t=this.playerInterface_.mediaSourceEngine.bufferEnd(e.type),!(t=this.getSegmentReferenceNeeded_(e,n,t)))return 1;a=1/0,o=Array.from(this.mediaStates_.values());for(var s=(o=$jscomp.makeIterator(o)).next();!s.done;s=o.next())s=s.value,shaka.media.StreamingEngine.isEmbeddedText_(s)||s.segmentIterator&&!s.segmentIterator.current()||(s=this.getTimeNeeded_(s,n),a=Math.min(a,s));return i>=a+(o=this.manifest_.presentationTimeline.getMaxSegmentDuration()*shaka.media.StreamingEngine.MAX_RUN_AHEAD_SEGMENTS_)?(shaka.log.v2(r,"waiting for other streams to buffer"),1):(this.fetchAndAppend_(e,n,t).catch((function(){})),null)},shaka.media.StreamingEngine.prototype.getTimeNeeded_=function(e,t){return e.lastSegmentReference?e.lastSegmentReference.endTime:t},shaka.media.StreamingEngine.prototype.getSegmentReferenceNeeded_=function(e,t,r){var n=shaka.media.StreamingEngine.logPrefix_(e);if(goog.asserts.assert(e.stream.segmentIndex,"segment index should have been generated already"),e.segmentIterator)return e.segmentIterator.current();if(e.lastSegmentReference||r)return t=e.lastSegmentReference?e.lastSegmentReference.endTime:r,goog.asserts.assert(null!=t,"Should have a time to search"),shaka.log.v1(n,"looking up segment from new stream endTime:",t),e.segmentIterator=e.stream.segmentIndex.getIteratorForTime(t),null==(e=e.segmentIterator&&e.segmentIterator.next().value)&&shaka.log.warning(n,"cannot find segment","endTime:",t),e;r=this.config_.inaccurateManifestTolerance;var i=Math.max(t-r,0);shaka.log.v1(n,"looking up segment","lookupTime:",i,"presentationTime:",t);var a=null;return r&&(e.segmentIterator=e.stream.segmentIndex.getIteratorForTime(i),a=e.segmentIterator&&e.segmentIterator.next().value),a||(e.segmentIterator=e.stream.segmentIndex.getIteratorForTime(t),a=e.segmentIterator&&e.segmentIterator.next().value),null==a&&shaka.log.warning(n,"cannot find segment","lookupTime:",i,"presentationTime:",t),a},shaka.media.StreamingEngine.prototype.fetchAndAppend_=function(e,t,r){var n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(k){switch(k.nextAddress){case 1:return n=shaka.util.ManifestParserUtils.ContentType,i=shaka.media.StreamingEngine,a=i.logPrefix_(e),shaka.log.v1(a,"fetchAndAppend_:","presentationTime="+t,"reference.startTime="+r.startTime,"reference.endTime="+r.endTime),o=e.stream,s=e.segmentIterator,e.performingUpdate=!0,l=b.initSourceBuffer_(e,r),shaka.log.v2(a,"fetching segment"),k.setCatchFinallyBlocks(2),u="video/mp4"==o.mimeType||"audio/mp4"==o.mimeType,c=window.ReadableStream,b.config_.lowLatencyMode&&c&&u?(p=new Uint8Array(0),h=function(n){var i,a,s;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){return 1==u.nextAddress?u.yield(l,2):(b.destroyer_.ensureNotDestroyed(),b.fatalError_?u.return():(p=b.concatArray_(p,n),i=!1,a=0,(new shaka.util.Mp4Parser).box("mdat",(function(e){a=e.size+e.start,i=!0})).parse(p,!1,!0),i?(s=p.subarray(0,a),p=p.subarray(a),u.yield(b.append_(e,t,o,r,s),0)):u.jumpTo(0)))}))},k.yield(b.fetch_(e,r,h),5)):(b.config_.lowLatencyMode&&!c&&shaka.log.warning("Low latency streaming mode is enabled, but ReadableStream is not supported by the browser."),d=b.fetch_(e,r),k.yield(Promise.all([l,d]),6));case 6:return f=k.yieldResult,b.destroyer_.ensureNotDestroyed(),b.fatalError_?k.return():e.waitingToClearBuffer?(shaka.log.info(a,"waitingToClearBuffer, skip append"),e.performingUpdate=!1,b.scheduleUpdate_(e,0),k.return()):k.yield(b.append_(e,t,o,r,f[1]),5);case 5:if(b.destroyer_.ensureNotDestroyed(),b.fatalError_)return k.return();e.lastSegmentReference=r,g=s.next().value,shaka.log.v2(a,"advancing to next segment",g),e.performingUpdate=!1,e.recovering=!1,m=b.playerInterface_.mediaSourceEngine.getBufferedInfo(),v=m[e.type],shaka.log.v1(a,"finished fetch and append",JSON.stringify(v)),e.waitingToClearBuffer||b.playerInterface_.onSegmentAppended(),b.scheduleUpdate_(e,0),k.leaveTryBlock(0);break;case 2:if(y=k.enterCatchBlock(),b.destroyer_.ensureNotDestroyed(y),b.fatalError_)return k.return();if(goog.asserts.assert(y instanceof shaka.util.Error,"Should only receive a Shaka error"),e.performingUpdate=!1,e.type==n.TEXT&&b.config_.ignoreTextStreamFailures)y.code==shaka.util.Error.Code.BAD_HTTP_STATUS?shaka.log.warning(a,"Text stream failed to download. Proceeding without it."):shaka.log.warning(a,"Text stream failed to parse. Proceeding without it."),b.mediaStates_.delete(n.TEXT),k.jumpTo(0);else if(y.code==shaka.util.Error.Code.OPERATION_ABORTED)e.performingUpdate=!1,e.updateTimer=null,b.scheduleUpdate_(e,0),k.jumpTo(0);else if(y.code==shaka.util.Error.Code.QUOTA_EXCEEDED_ERROR)b.handleQuotaExceeded_(e,y),k.jumpTo(0);else{if(y.code!=shaka.util.Error.Code.BAD_HTTP_STATUS||!y.data||404!=y.data[1])return shaka.log.error(a,"failed fetch and append: code="+y.code),e.hasError=!0,y.severity=shaka.util.Error.Severity.CRITICAL,k.yield(b.handleStreamingError_(y),0);shaka.log.v2(a,"segment not available."),e.performingUpdate=!1,e.updateTimer=null,b.scheduleUpdate_(e,1),k.jumpTo(0)}}}))},shaka.media.StreamingEngine.prototype.retry=function(){if(this.destroyer_.destroyed())return shaka.log.error("Unable to retry after StreamingEngine is destroyed!"),!1;if(this.fatalError_)return shaka.log.error("Unable to retry after StreamingEngine encountered a fatal error!"),!1;for(var e=$jscomp.makeIterator(this.mediaStates_.values()),t=e.next();!t.done;t=e.next()){t=t.value;var r=shaka.media.StreamingEngine.logPrefix_(t);t.hasError&&(shaka.log.info(r,"Retrying after failure..."),t.hasError=!1,this.scheduleUpdate_(t,.1))}return!0},shaka.media.StreamingEngine.prototype.concatArray_=function(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r},shaka.media.StreamingEngine.prototype.handleQuotaExceeded_=function(e,t){var r=shaka.media.StreamingEngine.logPrefix_(e);if(Array.from(this.mediaStates_.values()).some((function(t){return t!=e&&t.recovering})))shaka.log.debug(r,"MediaSource threw QuotaExceededError:","waiting for another stream to recover...");else{var n=Math.round(100*this.bufferingGoalScale_);if(20<n)this.bufferingGoalScale_-=.2;else{if(!(4<n))return shaka.log.error(r,"MediaSource threw QuotaExceededError too many times"),this.fatalError_=e.hasError=!0,void this.playerInterface_.onError(t);this.bufferingGoalScale_-=.04}shaka.log.warning(r,"MediaSource threw QuotaExceededError:","reducing buffering goals by "+(100-Math.round(100*this.bufferingGoalScale_))+"%"),e.recovering=!0}this.scheduleUpdate_(e,4)},shaka.media.StreamingEngine.prototype.initSourceBuffer_=function(e,t){var r,n,i,a,o,s,l,u,c,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){return r=shaka.media.StreamingEngine,n=r.logPrefix_(e),i=[],a=Math.max(0,t.appendWindowStart-r.APPEND_WINDOW_START_FUDGE_),o=t.appendWindowEnd+r.APPEND_WINDOW_END_FUDGE_,goog.asserts.assert(t.startTime<=o,n+" segment should start before append window end"),(s=t.timestampOffset)==e.lastTimestampOffset&&a==e.lastAppendWindowStart&&o==e.lastAppendWindowEnd||(shaka.log.v1(n,"setting timestamp offset to "+s),shaka.log.v1(n,"setting append window start to "+a),shaka.log.v1(n,"setting append window end to "+o),l=function(){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.setCatchFinallyBlocks(2),e.lastAppendWindowStart=a,e.lastAppendWindowEnd=o,e.lastTimestampOffset=s,r.yield(d.playerInterface_.mediaSourceEngine.setStreamProperties(e.type,s,a,o),4);if(2!=r.nextAddress)return r.leaveTryBlock(0);throw t=r.enterCatchBlock(),e.lastAppendWindowStart=null,e.lastAppendWindowEnd=null,e.lastTimestampOffset=null,t}))},i.push(l())),!shaka.media.InitSegmentReference.equal(t.initSegmentReference,e.lastInitSegmentReference)&&(e.lastInitSegmentReference=t.initSegmentReference)&&(shaka.log.v1(n,"fetching init segment"),u=d.fetch_(e,t.initSegmentReference),c=function(){var t,r,i;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){switch(a.nextAddress){case 1:return a.setCatchFinallyBlocks(2),a.yield(u,4);case 4:return t=a.yieldResult,d.destroyer_.ensureNotDestroyed(),shaka.log.v1(n,"appending init segment"),r=e.stream.closedCaptions&&0<e.stream.closedCaptions.size,a.yield(d.playerInterface_.mediaSourceEngine.appendBuffer(e.type,t,null,null,r),5);case 5:a.leaveTryBlock(0);break;case 2:throw i=a.enterCatchBlock(),e.lastInitSegmentReference=null,i}}))},i.push(c())),f.yield(Promise.all(i),0)}))},shaka.media.StreamingEngine.prototype.append_=function(e,t,r,n,i){var a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){return 1==l.nextAddress?(a=shaka.media.StreamingEngine.logPrefix_(e),o=r.closedCaptions&&0<r.closedCaptions.size,null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length&&(new shaka.util.Mp4Parser).fullBox("emsg",(function(e){return s.parseEMSG_(n,r.emsgSchemeIdUris,e)})).parse(i),l.yield(s.evict_(e,t),2)):3!=l.nextAddress?(s.destroyer_.ensureNotDestroyed(),shaka.log.v1(a,"appending media segment"),l.yield(s.playerInterface_.mediaSourceEngine.appendBuffer(e.type,i,n.startTime,n.endTime,o),3)):(s.destroyer_.ensureNotDestroyed(),shaka.log.v2(a,"appended media segment"),void l.jumpToEnd())}))},shaka.media.StreamingEngine.prototype.parseEMSG_=function(e,t,r){if(0===r.version)var n=r.reader.readTerminatedString(),i=r.reader.readTerminatedString(),a=r.reader.readUint32(),o=r.reader.readUint32(),s=r.reader.readUint32(),l=r.reader.readUint32(),u=e.startTime+o/a;else a=r.reader.readUint32(),o=(u=r.reader.readUint64()/a+e.timestampOffset)-e.startTime,s=r.reader.readUint32(),l=r.reader.readUint32(),n=r.reader.readTerminatedString(),i=r.reader.readTerminatedString();e=r.reader.readBytes(r.reader.getLength()-r.reader.getPosition()),t.includes(n)&&("urn:mpeg:dash:event:2012"==n?this.playerInterface_.onManifestUpdate():(t=new shaka.util.FakeEvent(shaka.Player.EventName.Emsg,{detail:{startTime:u,endTime:u+s/a,schemeIdUri:n,value:i,timescale:a,presentationTimeDelta:o,eventDuration:s,id:l,messageData:e}}),this.playerInterface_.onEvent(t)))},shaka.media.StreamingEngine.prototype.evict_=function(e,t){var r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){if(1==l.nextAddress)return r=shaka.media.StreamingEngine.logPrefix_(e),shaka.log.v2(r,"checking buffer length"),n=Math.max(s.config_.bufferBehind,s.manifest_.presentationTimeline.getMaxSegmentDuration()),null==(i=s.playerInterface_.mediaSourceEngine.bufferStart(e.type))?(shaka.log.v2(r,"buffer behind okay because nothing buffered:","presentationTime="+t,"bufferBehind="+n),l.return()):.01>=(o=(a=t-i)-n)?(shaka.log.v2(r,"buffer behind okay:","presentationTime="+t,"bufferedBehind="+a,"bufferBehind="+n,"underflow="+Math.abs(o)),l.return()):(shaka.log.v1(r,"buffer behind too large:","presentationTime="+t,"bufferedBehind="+a,"bufferBehind="+n,"overflow="+o),l.yield(s.playerInterface_.mediaSourceEngine.remove(e.type,i,i+o),2));s.destroyer_.ensureNotDestroyed(),shaka.log.v1(r,"evicted "+o+" seconds"),l.jumpToEnd()}))},shaka.media.StreamingEngine.isEmbeddedText_=function(e){var t=shaka.util.MimeUtils,r=t.CEA608_CLOSED_CAPTION_MIMETYPE;return t=t.CEA708_CLOSED_CAPTION_MIMETYPE,e&&e.type==shaka.util.ManifestParserUtils.ContentType.TEXT&&(e.stream.mimeType==r||e.stream.mimeType==t)},shaka.media.StreamingEngine.prototype.fetch_=function(e,t,r){var n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){return 1==l.nextAddress?(n=shaka.net.NetworkingEngine.RequestType.SEGMENT,i=shaka.util.Networking.createSegmentRequest(t.getUris(),t.startByte,t.endByte,s.config_.retryParameters,r),shaka.log.v2("fetching: reference=",t),a=s.playerInterface_.netEngine.request(n,i),e.operation=a,l.yield(a.promise,2)):(o=l.yieldResult,e.operation=null,l.return(o.data))}))},shaka.media.StreamingEngine.prototype.clearBuffer_=function(e,t,r){var n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(n=shaka.media.StreamingEngine.logPrefix_(e),goog.asserts.assert(!e.performingUpdate&&null==e.updateTimer,n+" unexpected call to clearBuffer_()"),e.waitingToClearBuffer=!1,e.waitingToFlushBuffer=!1,e.clearBufferSafeMargin=0,e.clearingBuffer=!0,e.lastSegmentReference=null,e.lastInitSegmentReference=null,e.segmentIterator=null,shaka.log.debug(n,"clearing buffer"),r?(i=o.playerInterface_.getPresentationTime(),a=o.playerInterface_.mediaSourceEngine.getDuration(),s.yield(o.playerInterface_.mediaSourceEngine.remove(e.type,i+r,a),3)):s.yield(o.playerInterface_.mediaSourceEngine.clear(e.type),4)):3!=s.nextAddress?(o.destroyer_.ensureNotDestroyed(),t?s.yield(o.playerInterface_.mediaSourceEngine.flush(e.type),3):s.jumpTo(3)):(o.destroyer_.ensureNotDestroyed(),shaka.log.debug(n,"cleared buffer"),e.clearingBuffer=!1,e.endOfStream=!1,o.scheduleUpdate_(e,0),void s.jumpToEnd())}))},shaka.media.StreamingEngine.prototype.scheduleUpdate_=function(e,t){var r=this,n=shaka.media.StreamingEngine.logPrefix_(e),i=e.type;i!=shaka.util.ManifestParserUtils.ContentType.TEXT||this.mediaStates_.has(i)?(shaka.log.v2(n,"updating in "+t+" seconds"),goog.asserts.assert(null==e.updateTimer,n+" did not expect update to be scheduled"),e.updateTimer=new shaka.util.DelayedTick((function(){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(n.setCatchFinallyBlocks(2),n.yield(r.onUpdate_(e),4)):2!=n.nextAddress?n.leaveTryBlock(0):(t=n.enterCatchBlock(),r.playerInterface_&&r.playerInterface_.onError(t),void n.jumpToEnd())}))})).tickAfter(t)):shaka.log.v1(n,"Text stream is unloaded. No update is needed.")},shaka.media.StreamingEngine.prototype.cancelUpdate_=function(e){null!=e.updateTimer&&(e.updateTimer.stop(),e.updateTimer=null)},shaka.media.StreamingEngine.prototype.abortOperations_=function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return e.operation?t.yield(e.operation.abort(),0):t.jumpTo(0)}))},shaka.media.StreamingEngine.prototype.handleStreamingError_=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.yield(t.failureCallbackBackoff_.attempt(),2);t.destroyer_.ensureNotDestroyed(),t.playerInterface_.onError(e),e.handled||t.config_.failureCallback(e),r.jumpToEnd()}))},shaka.media.StreamingEngine.logPrefix_=function(e){return"("+e.type+":"+e.stream.id+")"},shaka.media.StreamingEngine.APPEND_WINDOW_START_FUDGE_=.1,shaka.media.StreamingEngine.APPEND_WINDOW_END_FUDGE_=.01,shaka.media.StreamingEngine.MAX_RUN_AHEAD_SEGMENTS_=1,shaka.routing={},shaka.routing.Walker=function(e,t,r){var n=this;this.implementation_=r,this.currentlyAt_=e,this.currentlyWith_=t,this.waitForWork_=null,this.requests_=[],this.currentStep_=this.currentRoute_=null,this.mainLoopPromise_=Promise.resolve().then((function(){return n.mainLoop_()})),this.destroyer_=new shaka.util.Destroyer((function(){return n.doDestroy_()}))},shaka.routing.Walker.prototype.getCurrentPayload=function(){return this.currentlyWith_},shaka.routing.Walker.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.routing.Walker.prototype.doDestroy_=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress)return r.currentStep_&&r.currentStep_.abort(),r.unblockMainLoop_(),n.yield(r.mainLoopPromise_,2);for(r.currentRoute_&&r.currentRoute_.listeners.onCancel(),e=$jscomp.makeIterator(r.requests_),t=e.next();!t.done;t=e.next())t.value.listeners.onCancel();r.currentRoute_=null,r.requests_=[],r.implementation_=null,n.jumpToEnd()}))},shaka.routing.Walker.prototype.startNewRoute=function(e){var t={onStart:function(){},onEnd:function(){},onCancel:function(){},onError:function(e){},onSkip:function(){},onEnter:function(){}};return this.requests_.push({create:e,listeners:t}),this.currentStep_&&this.currentStep_.abort(),this.unblockMainLoop_(),t},shaka.routing.Walker.prototype.mainLoop_=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return e.destroyer_.destroyed()?t.jumpTo(0):t.yield(e.doOneThing_(),1)}))},shaka.routing.Walker.prototype.doOneThing_=function(){return this.tryNewRoute_()?Promise.resolve():this.currentRoute_?this.takeNextStep_():(goog.asserts.assert(null==this.waitForWork_,"We should not have a promise yet."),this.implementation_.onIdle(this.currentlyAt_),this.waitForWork_=new shaka.util.PublicPromise)},shaka.routing.Walker.prototype.tryNewRoute_=function(){if(goog.asserts.assert(null==this.currentStep_,"We should never have a current step between taking steps."),0==this.requests_.length||this.currentRoute_&&!this.currentRoute_.interruptible)return!1;this.currentRoute_&&(this.currentRoute_.listeners.onCancel(),this.currentRoute_=null);var e=this.requests_.shift(),t=e.create(this.currentlyWith_);return t?(e.listeners.onStart(),this.currentRoute_={node:t.node,payload:t.payload,interruptible:t.interruptible,listeners:e.listeners}):e.listeners.onSkip(),!0},shaka.routing.Walker.prototype.takeNextStep_=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){switch(n.nextAddress){case 1:return goog.asserts.assert(r.currentRoute_,"We need a current route to take the next step."),r.currentlyAt_=r.implementation_.getNext(r.currentlyAt_,r.currentlyWith_,r.currentRoute_.node,r.currentRoute_.payload),r.currentRoute_.listeners.onEnter(r.currentlyAt_),n.setCatchFinallyBlocks(2),r.currentStep_=r.implementation_.enterNode(r.currentlyAt_,r.currentlyWith_,r.currentRoute_.payload),n.yield(r.currentStep_.promise,4);case 4:r.currentStep_=null,r.currentlyAt_==r.currentRoute_.node&&(r.currentRoute_.listeners.onEnd(),r.currentRoute_=null),n.leaveTryBlock(0);break;case 2:return(e=n.enterCatchBlock()).code==shaka.util.Error.Code.OPERATION_ABORTED?(goog.asserts.assert(r.currentRoute_.interruptible,"Do not put abortable steps in non-interruptible routes!"),r.currentRoute_.listeners.onCancel()):r.currentRoute_.listeners.onError(e),r.currentRoute_=null,r.currentStep_=null,t=r,n.yield(r.implementation_.handleError(r.currentlyWith_,e),5);case 5:t.currentlyAt_=n.yieldResult,n.jumpToEnd()}}))},shaka.routing.Walker.prototype.unblockMainLoop_=function(){this.waitForWork_&&(this.waitForWork_.resolve(),this.waitForWork_=null)},shaka.text.SimpleTextDisplayer=function(e){this.textTrack_=null;for(var t=$jscomp.makeIterator(Array.from(e.textTracks)),r=t.next();!r.done;r=t.next())(r=r.value).mode="disabled",r.label==shaka.Player.TextTrackLabel&&(this.textTrack_=r);this.textTrack_||(this.textTrack_=e.addTextTrack("subtitles",shaka.Player.TextTrackLabel)),this.textTrack_.mode="hidden"},shaka.text.SimpleTextDisplayer.prototype.remove=function(e,t){return!!this.textTrack_&&(shaka.text.SimpleTextDisplayer.removeWhere_(this.textTrack_,(function(r){return r.startTime<t&&r.endTime>e})),!0)},shaka.text.SimpleTextDisplayer.prototype.append=function(e){var t=e.map((function(e){if(e.nestedCues.length){var t=e.clone();return t.nestedCues=[],t.payload=function e(t){var r=[],n=t.fontWeight>=shaka.text.Cue.fontWeight.BOLD,i=t.fontStyle==shaka.text.Cue.fontStyle.ITALIC,a=t.textDecoration.includes(shaka.text.Cue.textDecoration.UNDERLINE);return n&&r.push("b"),i&&r.push("i"),a&&r.push("u"),n=r.reduce((function(e,t){return e+"<"+t+">"}),""),r=r.reduceRight((function(e,t){return e+"</"+t+">"}),""),t.lineBreak||t.spacer?(t.spacer&&shaka.Deprecate.deprecateFeature(4,"shaka.extern.Cue","Please use lineBreak instead of spacer."),"\n"):t.nestedCues.length?t.nestedCues.map(e).join(""):n+t.payload+r}(e),t}return e})),r=[];e=this.textTrack_.cues?Array.from(this.textTrack_.cues):[];for(var n={},i=(t=$jscomp.makeIterator(t)).next();!i.done;n={$jscomp$loop$prop$inCue$579:n.$jscomp$loop$prop$inCue$579},i=t.next())n.$jscomp$loop$prop$inCue$579=i.value,e.some(function(e){return function(t){return t.startTime==e.$jscomp$loop$prop$inCue$579.startTime&&t.endTime==e.$jscomp$loop$prop$inCue$579.endTime&&t.text==e.$jscomp$loop$prop$inCue$579.payload}}(n))||(i=shaka.text.SimpleTextDisplayer.convertToTextTrackCue_(n.$jscomp$loop$prop$inCue$579))&&r.push(i);for(e=r.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?r.indexOf(t)-r.indexOf(e):r.indexOf(e)-r.indexOf(t)})),n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())this.textTrack_.addCue(n.value)},shaka.text.SimpleTextDisplayer.prototype.destroy=function(){return this.textTrack_&&(shaka.text.SimpleTextDisplayer.removeWhere_(this.textTrack_,(function(e){return!0})),this.textTrack_.mode="disabled"),this.textTrack_=null,Promise.resolve()},shaka.text.SimpleTextDisplayer.prototype.isTextVisible=function(){return"showing"==this.textTrack_.mode},shaka.text.SimpleTextDisplayer.prototype.setTextVisibility=function(e){this.textTrack_.mode=e?"showing":"hidden"},shaka.text.SimpleTextDisplayer.convertToTextTrackCue_=function(e){if(e.startTime>=e.endTime)return shaka.log.warning("Invalid cue times: "+e.startTime+" - "+e.endTime),null;var t=shaka.text.Cue,r=new VTTCue(e.startTime,e.endTime,e.payload);r.lineAlign=e.lineAlign,r.positionAlign=e.positionAlign,e.size&&(r.size=e.size);try{r.align=e.textAlign}catch(n){}return"center"==e.textAlign&&"center"!=r.align&&(r.align="middle"),e.writingMode==t.writingMode.VERTICAL_LEFT_TO_RIGHT?r.vertical="lr":e.writingMode==t.writingMode.VERTICAL_RIGHT_TO_LEFT&&(r.vertical="rl"),e.lineInterpretation==t.lineInterpretation.PERCENTAGE&&(r.snapToLines=!1),null!=e.line&&(r.line=e.line),null!=e.position&&(r.position=e.position),r},shaka.text.SimpleTextDisplayer.removeWhere_=function(e,t){var r=e.mode,n="showing"==r?"showing":"hidden";e.mode=n,goog.asserts.assert(e.cues,'Cues should be accessible when mode is set to "'+n+'".');for(var i=(n=$jscomp.makeIterator(Array.from(e.cues))).next();!i.done;i=n.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=r},goog.exportSymbol("shaka.text.SimpleTextDisplayer",shaka.text.SimpleTextDisplayer),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"setTextVisibility",shaka.text.SimpleTextDisplayer.prototype.setTextVisibility),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"isTextVisible",shaka.text.SimpleTextDisplayer.prototype.isTextVisible),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"destroy",shaka.text.SimpleTextDisplayer.prototype.destroy),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"append",shaka.text.SimpleTextDisplayer.prototype.append),goog.exportProperty(shaka.text.SimpleTextDisplayer.prototype,"remove",shaka.text.SimpleTextDisplayer.prototype.remove),shaka.util.Dom=function(){},shaka.util.Dom.createHTMLElement=function(e){return document.createElement(e)},shaka.util.Dom.createButton=function(){return document.createElement("button")},shaka.util.Dom.asHTMLElement=function(e){return e},shaka.util.Dom.asHTMLMediaElement=function(e){return e},shaka.util.Dom.getElementByClassName=function(e,t){var r=t.getElementsByClassName(e);return goog.asserts.assert(1==r.length,"Should only be one element with class name "+e),shaka.util.Dom.asHTMLElement(r[0])},shaka.util.Dom.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},goog.exportSymbol("shaka.util.Dom",shaka.util.Dom),goog.exportProperty(shaka.util.Dom,"removeAllChildren",shaka.util.Dom.removeAllChildren),shaka.text.UITextDisplayer=function(e,t){var r=this;goog.asserts.assert(t,"videoContainer should be valid."),this.isTextVisible_=!1,this.cues_=[],this.video_=e,this.videoContainer_=t,this.textContainer_=shaka.util.Dom.createHTMLElement("div"),this.textContainer_.classList.add("shaka-text-container"),this.textContainer_.style.textAlign="center",this.textContainer_.style.display="flex",this.textContainer_.style.flexDirection="column",this.textContainer_.style.alignItems="center",this.textContainer_.style.justifyContent="flex-end",this.videoContainer_.appendChild(this.textContainer_),this.captionsTimer_=new shaka.util.Timer((function(){r.updateCaptions_()})).tickEvery(.25),this.currentCuesMap_=new Map,this.eventManager_=new shaka.util.EventManager,this.eventManager_.listen(document,"fullscreenchange",(function(){r.updateCaptions_(!0)})),this.resizeObserver_=null,"ResizeObserver"in window&&(this.resizeObserver_=new ResizeObserver((function(){r.updateCaptions_(!0)})),this.resizeObserver_.observe(this.textContainer_))},shaka.text.UITextDisplayer.prototype.append=function(e){for(var t=[].concat($jscomp.arrayFromIterable(this.cues_)),r={},n=(e=$jscomp.makeIterator(e)).next();!n.done;r={$jscomp$loop$prop$cue$581:r.$jscomp$loop$prop$cue$581},n=e.next())r.$jscomp$loop$prop$cue$581=n.value,t.some(function(e){return function(t){return shaka.text.Cue.equal(t,e.$jscomp$loop$prop$cue$581)}}(r))||this.cues_.push(r.$jscomp$loop$prop$cue$581);this.updateCaptions_()},shaka.text.UITextDisplayer.prototype.destroy=function(){this.videoContainer_.removeChild(this.textContainer_),this.textContainer_=null,this.isTextVisible_=!1,this.cues_=[],this.captionsTimer_&&this.captionsTimer_.stop(),this.currentCuesMap_.clear(),this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),this.resizeObserver_&&(this.resizeObserver_.disconnect(),this.resizeObserver_=null)},shaka.text.UITextDisplayer.prototype.remove=function(e,t){return!!this.textContainer_&&(this.cues_=this.cues_.filter((function(r){return r.startTime<e||r.endTime>=t})),this.updateCaptions_(),!0)},shaka.text.UITextDisplayer.prototype.isTextVisible=function(){return this.isTextVisible_},shaka.text.UITextDisplayer.prototype.setTextVisibility=function(e){this.isTextVisible_=e},shaka.text.UITextDisplayer.prototype.updateCaptions_=function(e){var t=this;e=void 0!==e&&e;for(var r=this.video_.currentTime,n=function(e){return t.cues_.includes(e)&&t.isTextVisible_&&e.startTime<=r&&e.endTime>r},i=$jscomp.makeIterator(this.currentCuesMap_.keys()),a=i.next();!a.done;a=i.next())if(a=a.value,!n(a)||e){var o=this.currentCuesMap_.get(a);this.textContainer_.removeChild(o),this.currentCuesMap_.delete(a)}for(e=new Set(this.currentCuesMap_.values()),a=(i=$jscomp.makeIterator(Array.from(this.textContainer_.childNodes))).next();!a.done;a=i.next())a=a.value,e.has(a)||this.textContainer_.removeChild(a);for(e=this.cues_.filter((function(e){return n(e)&&!t.currentCuesMap_.has(e)})).sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),a=(e=$jscomp.makeIterator(e)).next();!a.done;a=e.next())i=a.value,a=this.displayCue_(this.textContainer_,i,!1),this.currentCuesMap_.set(i,a)},shaka.text.UITextDisplayer.prototype.displayCue_=function(e,t,r){var n=r?"span":"div";(t.lineBreak||t.spacer)&&(t.spacer&&shaka.Deprecate.deprecateFeature(4,"shaka.extern.Cue","Please use lineBreak instead of spacer."),n="br");var i=shaka.util.Dom.createHTMLElement(n);if("br"!=n)for(this.setCaptionStyles_(i,t,r),r=(t=$jscomp.makeIterator(t.nestedCues)).next();!r.done;r=t.next())this.displayCue_(i,r.value,!0);return e.appendChild(i),i},shaka.text.UITextDisplayer.prototype.setCaptionStyles_=function(e,t,r){var n=shaka.text.Cue,i=e.style,a=0==t.nestedCues.length;i.whiteSpace="pre-wrap";var o=t.payload.replace(/\s+$/g,(function(e){return"\xa0".repeat(e.length)}));r?e.textContent=o:o.length&&((i=shaka.util.Dom.createHTMLElement("span")).textContent=o,e.appendChild(i),i=i.style),i.backgroundColor=t.backgroundColor,i.border=t.border,i.color=t.color,i.direction=t.direction,i.opacity=t.opacity,i.paddingLeft=shaka.text.UITextDisplayer.convertLengthValue_(t.linePadding,t,this.videoContainer_),i.paddingRight=shaka.text.UITextDisplayer.convertLengthValue_(t.linePadding,t,this.videoContainer_),t.backgroundImage&&(i.backgroundImage="url('"+t.backgroundImage+"')",i.backgroundRepeat="no-repeat",i.backgroundSize="contain",i.backgroundPosition="center",""==t.backgroundColor&&(i.backgroundColor="transparent")),i.verticalAlign=t.displayAlign==n.displayAlign.BEFORE?"top":t.displayAlign==n.displayAlign.CENTER?"middle":"bottom",a||(i.margin="0"),i.fontFamily=t.fontFamily,i.fontWeight=t.fontWeight.toString(),i.fontStyle=t.fontStyle,i.letterSpacing=t.letterSpacing,i.fontSize=shaka.text.UITextDisplayer.convertLengthValue_(t.fontSize,t,this.videoContainer_),t.line?t.lineInterpretation==n.lineInterpretation.PERCENTAGE&&(i.position="absolute",t.writingMode==n.writingMode.HORIZONTAL_TOP_TO_BOTTOM?t.lineAlign==n.lineAlign.START?i.top=t.line+"%":t.lineAlign==n.lineAlign.END&&(i.bottom=t.line+"%"):t.writingMode==n.writingMode.VERTICAL_LEFT_TO_RIGHT?t.lineAlign==n.lineAlign.START?i.left=t.line+"%":t.lineAlign==n.lineAlign.END&&(i.right=t.line+"%"):t.lineAlign==n.lineAlign.START?i.right=t.line+"%":t.lineAlign==n.lineAlign.END&&(i.left=t.line+"%")):t.region&&t.region.id&&(!r&&!a||t.backgroundImage)&&(e=shaka.text.CueRegion.units.PERCENTAGE,r=t.region.widthUnits==e?"%":"px",a=t.region.viewportAnchorUnits==e?"%":"px",i.height=t.region.height+(t.region.heightUnits==e?"%":"px"),i.width=t.region.width+r,i.position="absolute",i.top=t.region.viewportAnchorY+a,i.left=t.region.viewportAnchorX+a),i.lineHeight=t.lineHeight,t.position&&(t.writingMode==n.writingMode.HORIZONTAL_TOP_TO_BOTTOM?i.paddingLeft=t.position:i.paddingTop=t.position),t.positionAlign==n.positionAlign.LEFT?i.cssFloat="left":t.positionAlign==n.positionAlign.RIGHT&&(i.cssFloat="right"),i.textAlign=t.textAlign,i.textDecoration=t.textDecoration.join(" "),i.writingMode=t.writingMode,"writingMode"in document.documentElement.style&&i.writingMode==t.writingMode||(i.webkitWritingMode=t.writingMode),t.size&&(t.writingMode==n.writingMode.HORIZONTAL_TOP_TO_BOTTOM?i.width=t.size+"%":i.height=t.size+"%")},shaka.text.UITextDisplayer.getLengthValueInfo_=function(e){return(e=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(e[1]),unit:e[2]}:null},shaka.text.UITextDisplayer.convertLengthValue_=function(e,t,r){var n=shaka.text.UITextDisplayer.getLengthValueInfo_(e);if(!n)return e;var i=n.value;switch(n.unit){case"%":return shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_(i/100,t,r);case"c":return shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_(i,t,r);default:return e}},shaka.text.UITextDisplayer.getAbsoluteLengthInPixels_=function(e,t,r){return r.clientHeight*e/t.cellResolution.rows+"px"},goog.exportSymbol("shaka.text.UITextDisplayer",shaka.text.UITextDisplayer),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"setTextVisibility",shaka.text.UITextDisplayer.prototype.setTextVisibility),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"isTextVisible",shaka.text.UITextDisplayer.prototype.isTextVisible),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"remove",shaka.text.UITextDisplayer.prototype.remove),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"destroy",shaka.text.UITextDisplayer.prototype.destroy),goog.exportProperty(shaka.text.UITextDisplayer.prototype,"append",shaka.text.UITextDisplayer.prototype.append),shaka.text.WebVttGenerator=function(){},shaka.text.WebVttGenerator.convert=function(e){var t=e.map((function(e){if(e.nestedCues.length){var t=e.clone();return t.nestedCues=[],t.payload=function e(t){var r=[],n=t.fontWeight>=shaka.text.Cue.fontWeight.BOLD,i=t.fontStyle==shaka.text.Cue.fontStyle.ITALIC,a=t.textDecoration.includes(shaka.text.Cue.textDecoration.UNDERLINE);return n&&r.push("b"),i&&r.push("i"),a&&r.push("u"),n=r.reduce((function(e,t){return e+"<"+t+">"}),""),r=r.reduceRight((function(e,t){return e+"</"+t+">"}),""),t.lineBreak||t.spacer?(t.spacer&&shaka.Deprecate.deprecateFeature(4,"shaka.text.Cue","Please use lineBreak instead of spacer."),"\n"):t.nestedCues.length?t.nestedCues.map(e).join(""):n+t.payload+r}(e),t}return e}));e="WEBVTT\n\n";for(var r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next()){var n=function(e){var t=Math.floor(e/3600),r=Math.floor(e/60%60),n=Math.floor(e%60);return(10>t?"0":"")+t+":"+(10>r?"0":"")+r+":"+(10>n?"0":"")+n+"."+(100>(e=Math.floor(1e3*e%1e3))?10>e?"00":"0":"")+e};e+=n((r=r.value).startTime)+" --\x3e "+n(r.endTime)+"\n",e+=r.payload+"\n\n"}return e},goog.exportSymbol("shaka.text.WebVttGenerator",shaka.text.WebVttGenerator),shaka.util.ConfigUtils=function(){},shaka.util.ConfigUtils.mergeConfigObjects=function(e,t,r,n,i){goog.asserts.assert(e,"Destination config must not be null!");var a,o=i in n,s=!0;for(a in t){var l=i+"."+a,u=o?n[i]:r[a];o||a in r?void 0===t[a]?void 0===u||o?delete e[a]:e[a]=shaka.util.ObjectUtils.cloneObject(u):u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=shaka.util.ObjectUtils.cloneObject(u)),l=shaka.util.ConfigUtils.mergeConfigObjects(e[a],t[a],u,n,l),s=s&&l):typeof t[a]!=typeof u||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=u.constructor?(shaka.log.alwaysError("Invalid config, wrong type for "+l),s=!1):("function"==typeof r[a]&&r[a].length!=t[a].length&&shaka.log.alwaysWarn("Unexpected number of arguments for "+l),e[a]=t[a]):(shaka.log.alwaysError("Invalid config, unrecognized key "+l),s=!1)}return s},shaka.util.ConfigUtils.convertToConfigObject=function(e,t){for(var r={},n=r,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(n[a=e.substring(a,i).replace(/\\\./g,".")]={},n=n[a],a=i+1),i+=1;return n[e.substring(a).replace(/\\\./g,".")]=t,r},goog.exportSymbol("shaka.util.ConfigUtils",shaka.util.ConfigUtils),goog.exportProperty(shaka.util.ConfigUtils,"convertToConfigObject",shaka.util.ConfigUtils.convertToConfigObject),goog.exportProperty(shaka.util.ConfigUtils,"mergeConfigObjects",shaka.util.ConfigUtils.mergeConfigObjects),shaka.util.PlayerConfiguration=function(){},shaka.util.PlayerConfiguration.createDefault=function(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:shaka.media.DrmEngine.defaultInitDataTransform,logLicenseExchange:!1,updateExpirationTime:1},r={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"}},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},n={retryParameters:shaka.net.NetworkingEngine.defaultRetryParameters(),failureCallback:function(e){return shaka.log.error("Unhandled streaming error",e),[e]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1};(shaka.util.Platform.isLegacyEdge()||shaka.util.Platform.isTizen()||shaka.util.Platform.isChromecast())&&(n.gapDetectionThreshold=.5),(shaka.util.Platform.isWebOS()||shaka.util.Platform.isTizen()||shaka.util.Platform.isChromecast())&&(n.stallSkip=0);var i={trackSelectionCallback:function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return t.return(e)}))},downloadSizeCallback:function(e){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?navigator.storage&&navigator.storage.estimate?r.yield(navigator.storage.estimate(),3):r.return(!0):(t=r.yieldResult,r.return(t.usage+e<.95*t.quota))}))},progressCallback:function(e,t){return[e,t]},usePersistentLicense:!0},a={drm:t,manifest:r,streaming:n,offline:i,abrFactory:function(){return new shaka.abr.SimpleAbrManager},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferForcedSubs:!1,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,useMediaCapabilities:!1,textDisplayFactory:function(){return null}};return i.trackSelectionCallback=function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return t.return(shaka.util.PlayerConfiguration.defaultTrackSelect(e,a.preferredAudioLanguage))}))},a},shaka.util.PlayerConfiguration.mergeConfigObjects=function(e,t,r){var n={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return shaka.util.ConfigUtils.mergeConfigObjects(e,t,r||shaka.util.PlayerConfiguration.createDefault(),n,"")},shaka.util.PlayerConfiguration.defaultTrackSelect=function(e,t){var r=shaka.util.ManifestParserUtils.ContentType,n=shaka.util.LanguageUtils,i=e.filter((function(e){return"variant"==e.type})),a=[],o=n.findClosestLocale(t,i.map((function(e){return e.language})));o&&(a=i.filter((function(e){return n.normalize(e.language)==o}))),0==a.length&&(a=i.filter((function(e){return e.primary}))),0==a.length&&(1<new Set(i.map((function(e){return e.language}))).size&&shaka.log.warning("Could not choose a good audio track based on language preferences or primary tracks.  An arbitrary language will be stored!"),a=i);var s=a.filter((function(e){return e.height&&480>=e.height}));if(s.length&&(s.sort((function(e,t){return goog.asserts.assert(null!=e.height,"Null height"),goog.asserts.assert(null!=t.height,"Null height"),t.height-e.height})),a=s.filter((function(e){return e.height==s[0].height}))),i=[],a.length){var l=Math.floor(a.length/2);a.sort((function(e,t){return e.bandwidth-t.bandwidth})),i.push(a[l])}for(l=(a=$jscomp.makeIterator(e)).next();!l.done;l=a.next())(l=l.value).type!=r.TEXT&&l.type!=r.IMAGE||i.push(l);return i},goog.exportSymbol("shaka.util.PlayerConfiguration",shaka.util.PlayerConfiguration),goog.exportProperty(shaka.util.PlayerConfiguration,"mergeConfigObjects",shaka.util.PlayerConfiguration.mergeConfigObjects),shaka.util.StateHistory=function(){this.open_=null,this.closed_=[]},shaka.util.StateHistory.prototype.update=function(e){null==this.open_?this.start_(e):this.update_(e)},shaka.util.StateHistory.prototype.getTimeSpentIn=function(e){var t=0;this.open_&&this.open_.state==e&&(t+=this.open_.duration);for(var r=$jscomp.makeIterator(this.closed_),n=r.next();!n.done;n=r.next())t+=(n=n.value).state==e?n.duration:0;return t},shaka.util.StateHistory.prototype.getCopy=function(){for(var e=function(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}},t=[],r=$jscomp.makeIterator(this.closed_),n=r.next();!n.done;n=r.next())t.push(e(n.value));return this.open_&&t.push(e(this.open_)),t},shaka.util.StateHistory.prototype.start_=function(e){goog.asserts.assert(null==this.open_,"There must be no open entry in order when we start"),shaka.log.v1("Changing Player state to",e),this.open_={timestamp:this.getNowInSeconds_(),state:e,duration:0}},shaka.util.StateHistory.prototype.update_=function(e){goog.asserts.assert(this.open_,"There must be an open entry in order to update it");var t=this.getNowInSeconds_();this.open_.duration=t-this.open_.timestamp,this.open_.state!=e&&(shaka.log.v1("Changing Player state to",e),this.closed_.push(this.open_),this.open_={timestamp:t,state:e,duration:0})},shaka.util.StateHistory.prototype.getNowInSeconds_=function(){return Date.now()/1e3},shaka.util.SwitchHistory=function(){this.currentText_=this.currentVariant_=null,this.history_=[]},shaka.util.SwitchHistory.prototype.updateCurrentVariant=function(e,t){this.currentVariant_!=e&&(this.currentVariant_=e,this.history_.push({timestamp:this.getNowInSeconds_(),id:e.id,type:"variant",fromAdaptation:t,bandwidth:e.bandwidth}))},shaka.util.SwitchHistory.prototype.updateCurrentText=function(e,t){this.currentText_!=e&&(this.currentText_=e,this.history_.push({timestamp:this.getNowInSeconds_(),id:e.id,type:"text",fromAdaptation:t,bandwidth:null}))},shaka.util.SwitchHistory.prototype.getCopy=function(){for(var e=[],t=$jscomp.makeIterator(this.history_),r=t.next();!r.done;r=t.next())e.push(this.clone_(r.value));return e},shaka.util.SwitchHistory.prototype.getNowInSeconds_=function(){return Date.now()/1e3},shaka.util.SwitchHistory.prototype.clone_=function(e){return{timestamp:e.timestamp,id:e.id,type:e.type,fromAdaptation:e.fromAdaptation,bandwidth:e.bandwidth}},shaka.util.Stats=function(){this.bandwidthEstimate_=this.currentStreamBandwidth_=this.maxSegmentDurationSeconds_=this.liveLatencySeconds_=this.licenseTimeSeconds_=this.drmTimeSeconds_=this.manifestTimeSeconds_=this.loadLatencySeconds_=this.completionPercent_=this.totalCorruptedFrames_=this.totalDecodedFrames_=this.totalDroppedFrames_=this.height_=this.width_=NaN,this.stateHistory_=new shaka.util.StateHistory,this.switchHistory_=new shaka.util.SwitchHistory},shaka.util.Stats.prototype.setDroppedFrames=function(e,t){this.totalDroppedFrames_=e,this.totalDecodedFrames_=t},shaka.util.Stats.prototype.setCorruptedFrames=function(e){this.totalCorruptedFrames_=e},shaka.util.Stats.prototype.setResolution=function(e,t){this.width_=e,this.height_=t},shaka.util.Stats.prototype.setLoadLatency=function(e){this.loadLatencySeconds_=e},shaka.util.Stats.prototype.setManifestTime=function(e){this.manifestTimeSeconds_=e},shaka.util.Stats.prototype.setCompletionPercent=function(e){isNaN(this.completionPercent_)?this.completionPercent_=e:this.completionPercent_=Math.max(this.completionPercent_,e)},shaka.util.Stats.prototype.setDrmTime=function(e){this.drmTimeSeconds_=e},shaka.util.Stats.prototype.setLicenseTime=function(e){this.licenseTimeSeconds_=e},shaka.util.Stats.prototype.setLiveLatency=function(e){this.liveLatencySeconds_=e},shaka.util.Stats.prototype.setMaxSegmentDuration=function(e){this.maxSegmentDurationSeconds_=e},shaka.util.Stats.prototype.setCurrentStreamBandwidth=function(e){this.currentStreamBandwidth_=e},shaka.util.Stats.prototype.setBandwidthEstimate=function(e){this.bandwidthEstimate_=e},shaka.util.Stats.prototype.getStateHistory=function(){return this.stateHistory_},shaka.util.Stats.prototype.getSwitchHistory=function(){return this.switchHistory_},shaka.util.Stats.prototype.getBlob=function(){return{width:this.width_,height:this.height_,streamBandwidth:this.currentStreamBandwidth_,decodedFrames:this.totalDecodedFrames_,droppedFrames:this.totalDroppedFrames_,corruptedFrames:this.totalCorruptedFrames_,estimatedBandwidth:this.bandwidthEstimate_,completionPercent:this.completionPercent_,loadLatency:this.loadLatencySeconds_,manifestTimeSeconds:this.manifestTimeSeconds_,drmTimeSeconds:this.drmTimeSeconds_,playTime:this.stateHistory_.getTimeSpentIn("playing"),pauseTime:this.stateHistory_.getTimeSpentIn("paused"),bufferingTime:this.stateHistory_.getTimeSpentIn("buffering"),licenseTime:this.licenseTimeSeconds_,liveLatency:this.liveLatencySeconds_,maxSegmentDuration:this.maxSegmentDurationSeconds_,stateHistory:this.stateHistory_.getCopy(),switchHistory:this.switchHistory_.getCopy()}},shaka.util.Stats.getEmptyBlob=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]}},shaka.Player=function(e,t){shaka.util.FakeEventTarget.call(this);var r=this;this.loadMode_=shaka.Player.LoadMode.NOT_LOADED,this.videoContainer_=this.video_=null,this.isTextVisible_=!1,this.eventManager_=new shaka.util.EventManager,this.abrManagerFactory_=this.abrManager_=this.assetUri_=this.manifest_=this.parserFactory_=this.parser_=this.streamingEngine_=this.regionTimeline_=this.bufferObserver_=this.bufferPoller_=this.playRateController_=this.playheadObservers_=this.playhead_=this.mediaSourceEngine_=this.drmEngine_=this.networkingEngine_=null,this.nextExternalStreamId_=1e9,this.config_=this.defaultConfig_(),this.maxHwRes_={width:1/0,height:1/0},this.stats_=null,this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(this.config_.preferredAudioLanguage,this.config_.preferredVariantRole,this.config_.preferredAudioChannelCount),this.currentTextLanguage_=this.config_.preferredTextLanguage,this.currentTextRole_=this.config_.preferredTextRole,this.currentTextForced_=this.config_.preferForcedSubs,this.cleanupOnUnload_=[],t&&t(this),this.networkingEngine_=this.createNetworkingEngine(),this.networkingEngine_.setForceHTTPS(this.config_.streaming.forceHTTPS),this.adManager_=null,shaka.Player.adManagerFactory_&&(this.adManager_=shaka.util.Functional.callFactory(shaka.Player.adManagerFactory_)),this.eventManager_.listen(window,"online",(function(){r.retryStreaming()})),this.detachNode_={name:"detach"},this.attachNode_={name:"attach"},this.unloadNode_={name:"unload"},this.parserNode_={name:"manifest-parser"},this.manifestNode_={name:"manifest"},this.mediaSourceNode_={name:"media-source"},this.drmNode_={name:"drm-engine"},this.loadNode_={name:"load"},this.srcEqualsDrmNode_={name:"src-equals-drm-engine"},this.srcEqualsNode_={name:"src-equals"};var n=shaka.util.AbortableOperation,i=new Map;i.set(this.attachNode_,(function(e,t){return n.notAbortable(r.onAttach_(e,t))})),i.set(this.detachNode_,(function(e,t){return n.notAbortable(r.onDetach_(e,t))})),i.set(this.unloadNode_,(function(e,t){return n.notAbortable(r.onUnload_(e,t))})),i.set(this.mediaSourceNode_,(function(e,t){var i=r.onInitializeMediaSourceEngine_(e,t);return n.notAbortable(i)})),i.set(this.parserNode_,(function(e,t){var i=r.onInitializeParser_(e,t);return n.notAbortable(i)})),i.set(this.manifestNode_,(function(e,t){return r.onParseManifest_(e,t)})),i.set(this.drmNode_,(function(e,t){var i=r.onInitializeDrm_(e,t);return n.notAbortable(i)})),i.set(this.loadNode_,(function(e,t){return n.notAbortable(r.onLoad_(e,t))})),i.set(this.srcEqualsDrmNode_,(function(e,t){var i=r.onInitializeSrcEqualsDrm_(e,t);return n.notAbortable(i)})),i.set(this.srcEqualsNode_,(function(e,t){return r.onSrcEquals_(e,t)})),this.walker_=new shaka.routing.Walker(this.detachNode_,shaka.Player.createEmptyPayload_(),{getNext:function(e,t,n,i){return r.getNextStep_(e,t,n,i)},enterNode:function(e,t,n){return r.dispatchEvent(r.makeEvent_(shaka.Player.EventName.OnStateChange,{state:e.name})),i.get(e)(t,n)},handleError:function(e,t){return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(shaka.log.warning("The walker saw an error:"),t instanceof shaka.util.Error?shaka.log.warning("Error Code:",t.code):(shaka.log.warning("Error Message:",t.message),shaka.log.warning("Error Stack:",t.stack)),n.yield(r.onUnload_(e,shaka.Player.createEmptyPayload_()),2)):n.return(e.mediaElement?r.attachNode_:r.detachNode_)}))},onIdle:function(e){r.dispatchEvent(r.makeEvent_(shaka.Player.EventName.OnStateIdle,{state:e.name}))}}),e&&this.attach(e,!0)},$jscomp.inherits(shaka.Player,shaka.util.FakeEventTarget),shaka.Player.prototype.makeEvent_=function(e,t){return new shaka.util.FakeEvent(e,t)},shaka.Player.prototype.destroy=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){switch(r.nextAddress){case 1:return t.loadMode_==shaka.Player.LoadMode.DESTROYED?r.return():(t.loadMode_=shaka.Player.LoadMode.DESTROYED,e=t.walker_.startNewRoute((function(e){return{node:t.detachNode_,payload:shaka.Player.createEmptyPayload_(),interruptible:!1}})),r.yield(new Promise((function(t){e.onStart=function(){shaka.log.info("Preparing to destroy walker...")},e.onEnd=function(){t()},e.onCancel=function(){goog.asserts.assert(!1,"Our final detach call should never be cancelled."),t()},e.onError=function(){goog.asserts.assert(!1,"Our final detach call should never see an error"),t()},e.onSkip=function(){goog.asserts.assert(!1,"Our final detach call should never be skipped"),t()}})),2));case 2:return r.yield(t.walker_.destroy(),3);case 3:if(t.eventManager_&&(t.eventManager_.release(),t.eventManager_=null),t.abrManagerFactory_=null,t.abrManager_=null,t.config_=null,t.stats_=null,t.videoContainer_=null,!t.networkingEngine_){r.jumpTo(0);break}return r.yield(t.networkingEngine_.destroy(),5);case 5:t.networkingEngine_=null,r.jumpToEnd()}}))},shaka.Player.registerSupportPlugin=function(e,t){shaka.Player.supportPlugins_[e]=t},shaka.Player.setAdManagerFactory=function(e){shaka.Player.adManagerFactory_=e},shaka.Player.isBrowserSupported=function(){if(window.Promise||shaka.log.alwaysWarn("A Promise implementation or polyfill is required"),window.TextDecoder&&window.TextEncoder||shaka.log.alwaysWarn("A TextDecoder/TextEncoder implementation or polyfill is required"),!(window.Promise&&window.Uint8Array&&window.TextDecoder&&window.TextEncoder&&Array.prototype.forEach)||shaka.util.Platform.isIE())return!1;var e=shaka.util.Platform.safariVersion();return!(e&&12>e||!shaka.media.DrmEngine.isBrowserSupported())&&(!!shaka.util.Platform.supportsMediaSource()||shaka.util.Platform.supportsMediaType("application/x-mpegurl"))},shaka.Player.probeSupport=function(e){var t,r,n,i,a,o;return e=void 0===e||e,$jscomp.asyncExecutePromiseGeneratorProgram((function(s){if(1==s.nextAddress)return goog.asserts.assert(shaka.Player.isBrowserSupported(),"Must have basic support"),t={},e?s.yield(shaka.media.DrmEngine.probeSupport(),3):s.jumpTo(2);for(o in 2!=s.nextAddress&&(t=s.yieldResult),r=shaka.media.ManifestParser.probeSupport(),n=shaka.media.MediaSourceEngine.probeSupport(),i={manifest:r,media:n,drm:t},a=shaka.Player.supportPlugins_)i[o]=a[o]();return s.return(i)}))},shaka.Player.prototype.attach=function(e,t){if(t=void 0===t||t,this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());var r=shaka.Player.createEmptyPayload_();r.mediaElement=e,shaka.util.Platform.supportsMediaSource()||(t=!1);var n=t?this.mediaSourceNode_:this.attachNode_,i=this.walker_.startNewRoute((function(e){return{node:n,payload:r,interruptible:!1}}));return i.onStart=function(){return shaka.log.info("Starting attach...")},this.wrapWalkerListenersWithPromise_(i)},shaka.Player.prototype.detach=function(){var e=this;if(this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());var t=this.walker_.startNewRoute((function(t){return{node:e.detachNode_,payload:shaka.Player.createEmptyPayload_(),interruptible:!1}}));return t.onStart=function(){return shaka.log.info("Starting detach...")},this.wrapWalkerListenersWithPromise_(t)},shaka.Player.prototype.unload=function(e){var t=this;if(e=void 0===e||e,this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());shaka.util.Platform.supportsMediaSource()||(e=!1);var r=shaka.Player.createEmptyPayload_(),n=this.walker_.startNewRoute((function(n){var i=n.mediaElement&&e?t.mediaSourceNode_:n.mediaElement?t.attachNode_:t.detachNode_;return goog.asserts.assert(i,"We should have picked a destination."),r.mediaElement=n.mediaElement,{node:i,payload:r,interruptible:!1}}));return n.onStart=function(){return shaka.log.info("Starting unload...")},this.wrapWalkerListenersWithPromise_(n)},shaka.Player.prototype.load=function(e,t,r){var n=this;if(this.loadMode_==shaka.Player.LoadMode.DESTROYED)return Promise.reject(this.createAbortLoadError_());this.dispatchEvent(this.makeEvent_(shaka.Player.EventName.Loading));var i=shaka.Player.createEmptyPayload_();i.uri=e,i.startTimeOfLoad=Date.now()/1e3,r&&(i.mimeType=r),void 0!==t&&(i.startTime=t);var a=this.shouldUseSrcEquals_(i)?this.srcEqualsNode_:this.loadNode_,o=this.walker_.startNewRoute((function(e){return null==e.mediaElement?null:(i.mediaElement=e.mediaElement,{node:a,payload:i,interruptible:!0})}));return this.stats_=new shaka.util.Stats,o.onStart=function(){return shaka.log.info("Starting load of "+e+"...")},new Promise((function(e,t){o.onSkip=function(){return t(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.NO_VIDEO_ELEMENT))},o.onEnd=function(){e(),n.dispatchEvent(n.makeEvent_(shaka.Player.EventName.Loaded))},o.onCancel=function(){return t(n.createAbortLoadError_())},o.onError=function(e){return t(e)}}))},shaka.Player.prototype.shouldUseSrcEquals_=function(e){var t=shaka.util.Platform;if(!t.supportsMediaSource())return!0;var r=e.mimeType,n=e.uri||"";if(r||(r={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[shaka.media.ManifestParser.getExtension(n)]),r){if(!(e=""!=(e.mediaElement||t.anyMediaElement()).canPlayType(r)))return!1;if(!(r=shaka.media.ManifestParser.isSupported(n,r)))return!0;if(goog.asserts.assert(e&&r,"Both native and MSE playback should be possible!"),this.config_.streaming.preferNativeHls)return!0;if(t.isApple())return this.config_.streaming.useNativeHlsOnSafari}return!1},shaka.Player.prototype.onAttach_=function(e,t){var r=this;return goog.asserts.assert(null==e.mediaElement||e.mediaElement==t.mediaElement,"The routing logic failed. MediaElement requirement failed."),null==e.mediaElement&&(e.mediaElement=t.mediaElement,this.eventManager_.listen(e.mediaElement,"error",(function(e){return r.onVideoError_(e)}))),this.video_=e.mediaElement,Promise.resolve()},shaka.Player.prototype.onDetach_=function(e,t){return e.mediaElement&&(this.eventManager_.unlisten(e.mediaElement,"error"),e.mediaElement=null),this.video_=null,Promise.resolve()},shaka.Player.prototype.onUnload_=function(e,t){var r,n,i,a,o,s,l,u,c,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){switch(t.nextAddress){case 1:return d.loadMode_!=shaka.Player.LoadMode.DESTROYED&&(d.loadMode_=shaka.Player.LoadMode.NOT_LOADED),r=d.cleanupOnUnload_.map((function(e){return e()})),d.cleanupOnUnload_=[],t.yield(Promise.all(r),2);case 2:if(d.dispatchEvent(d.makeEvent_(shaka.Player.EventName.Unloading)),e.mimeType=null,e.startTime=null,e.uri=null,e.mediaElement&&(d.eventManager_.unlisten(e.mediaElement,"loadedmetadata"),d.eventManager_.unlisten(e.mediaElement,"playing"),d.eventManager_.unlisten(e.mediaElement,"pause"),d.eventManager_.unlisten(e.mediaElement,"ended"),d.eventManager_.unlisten(e.mediaElement,"ratechange")),d.playheadObservers_&&(d.playheadObservers_.release(),d.playheadObservers_=null),d.bufferPoller_&&(d.bufferPoller_.stop(),d.bufferPoller_=null),!d.parser_){t.jumpTo(3);break}return t.yield(d.parser_.stop(),4);case 4:d.parser_=null,d.parserFactory_=null;case 3:if(!d.abrManager_){t.jumpTo(5);break}return t.yield(d.abrManager_.stop(),5);case 5:if(!d.streamingEngine_){t.jumpTo(7);break}return t.yield(d.streamingEngine_.destroy(),8);case 8:d.streamingEngine_=null;case 7:if(d.playRateController_&&(d.playRateController_.release(),d.playRateController_=null),d.playhead_&&(d.playhead_.release(),d.playhead_=null),!d.mediaSourceEngine_){t.jumpTo(9);break}return t.yield(d.mediaSourceEngine_.destroy(),10);case 10:d.mediaSourceEngine_=null;case 9:if(d.adManager_&&d.adManager_.onAssetUnload(),!e.mediaElement||!e.mediaElement.src){t.jumpTo(11);break}return t.yield(new Promise((function(e){return new shaka.util.Timer(e).tickAfter(.1)})),12);case 12:for(e.mediaElement.removeAttribute("src"),e.mediaElement.load();e.mediaElement.lastChild;)e.mediaElement.removeChild(e.mediaElement.firstChild);case 11:if(!d.drmEngine_){t.jumpTo(13);break}return t.yield(d.drmEngine_.destroy(),14);case 14:d.drmEngine_=null;case 13:if(d.assetUri_=null,d.bufferObserver_=null,d.manifest_){for(n=$jscomp.makeIterator(d.manifest_.variants),i=n.next();!i.done;i=n.next())for(a=i.value,o=$jscomp.makeIterator([a.audio,a.video]),s=o.next();!s.done;s=o.next())(l=s.value)&&l.segmentIndex&&l.segmentIndex.release();for(u=$jscomp.makeIterator(d.manifest_.textStreams),s=u.next();!s.done;s=u.next())(c=s.value).segmentIndex&&c.segmentIndex.release()}d.manifest_=null,d.stats_=new shaka.util.Stats,d.lastTextFactory_=null,d.updateBufferState_(),t.jumpToEnd()}}))},shaka.Player.prototype.onInitializeMediaSourceEngine_=function(e,t){var r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){if(1==s.nextAddress)return goog.asserts.assert(shaka.util.Platform.supportsMediaSource(),"We should not be initializing media source on a platform that does not support media source."),goog.asserts.assert(e.mediaElement,"We should have a media element when initializing media source."),goog.asserts.assert(e.mediaElement==t.mediaElement,"|has| and |wants| should have the same media element when initializing media source."),goog.asserts.assert(null==o.mediaSourceEngine_,"We should not have a media source engine yet."),r=new shaka.media.ClosedCaptionParser,n=o.config_.textDisplayFactory,i=shaka.util.Functional.callFactory(n),o.lastTextFactory_=n,a=o.createMediaSourceEngine(e.mediaElement,r,i,(function(e,t,r){o.processTimedMetadataMediaSrc_(e,t,r)})),s.yield(a.open(),2);o.mediaSourceEngine_=a,s.jumpToEnd()}))},shaka.Player.prototype.onInitializeParser_=function(e,t){var r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){if(1==s.nextAddress)return goog.asserts.assert(e.mediaElement,"We should have a media element when initializing the parser."),goog.asserts.assert(e.mediaElement==t.mediaElement,"|has| and |wants| should have the same media element when initializing the parser."),goog.asserts.assert(o.networkingEngine_,"Need networking engine when initializing the parser."),goog.asserts.assert(o.config_,"Need player config when initializing the parser."),e.mimeType=t.mimeType,e.uri=t.uri,goog.asserts.assert(e.uri,"We should have an asset uri when initializing the parsing."),r=e.uri,n=o.networkingEngine_,o.assetUri_=r,i=o,s.yield(shaka.media.ManifestParser.getFactory(r,n,o.config_.manifest.retryParameters,e.mimeType),2);i.parserFactory_=s.yieldResult,goog.asserts.assert(o.parserFactory_,"Must have manifest parser"),o.parser_=shaka.util.Functional.callFactory(o.parserFactory_),a=shaka.util.ObjectUtils.cloneObject(o.config_.manifest),t.mediaElement&&"AUDIO"===t.mediaElement.nodeName&&(a.disableVideo=!0),o.parser_.configure(a),s.jumpToEnd()}))},shaka.Player.prototype.onParseManifest_=function(e,t){var r=this;goog.asserts.assert(e.mimeType==t.mimeType,"|has| and |wants| should have the same mime type when parsing."),goog.asserts.assert(e.uri==t.uri,"|has| and |wants| should have the same uri when parsing."),goog.asserts.assert(e.uri,"|has| should have a valid uri when parsing."),goog.asserts.assert(e.uri==this.assetUri_,"|has.uri| should match the cached asset uri."),goog.asserts.assert(this.networkingEngine_,"Need networking engine to parse manifest."),goog.asserts.assert(this.config_,"Need player config to parse manifest."),goog.asserts.assert(this.parser_,"|this.parser_| should have been set in an earlier step.");var n=e.uri,i=this.networkingEngine_;this.regionTimeline_=new shaka.media.RegionTimeline((function(){return r.seekRange()})),this.regionTimeline_.setListeners((function(e){r.onRegionEvent_(shaka.Player.EventName.TimelineRegionAdded,e),r.adManager_&&r.adManager_.onDashTimedMetadata(e)}));var a={networkingEngine:i,filter:function(e){return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return t.return(r.filterManifest_(e))}))},makeTextStreamsForClosedCaptions:function(e){return r.makeTextStreamsForClosedCaptions_(e)},onTimelineRegionAdded:function(e){return r.regionTimeline_.addRegion(e)},onEvent:function(e){return r.dispatchEvent(e)},onError:function(e){return r.onError_(e)},isLowLatencyMode:function(){return r.isLowLatencyMode_()},isAutoLowLatencyMode:function(){return r.isAutoLowLatencyMode_()},enableLowLatencyMode:function(){r.configure("streaming.lowLatencyMode",!0)}},o=Date.now()/1e3;return new shaka.util.AbortableOperation(function(){var e,t,i,s;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){if(1==l.nextAddress)return e=r,l.yield(r.parser_.start(n,a),2);if(e.manifest_=l.yieldResult,t=r.makeEvent_(shaka.Player.EventName.ManifestParsed),r.dispatchEvent(t),0==r.manifest_.variants.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.NO_VARIANTS);shaka.Player.filterForAVVariants_(r.manifest_),i=Date.now()/1e3,s=i-o,r.stats_.setManifestTime(s),l.jumpToEnd()}))}(),(function(){return shaka.log.info("Aborting parser step..."),r.parser_.stop()}))},shaka.Player.prototype.onInitializeDrm_=function(e,t){var r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(goog.asserts.assert(e.mimeType==t.mimeType,"The load graph should have ensured the mime types matched."),goog.asserts.assert(e.uri==t.uri,"The load graph should have ensured the uris matched"),goog.asserts.assert(i.networkingEngine_,"|onInitializeDrm_| should never be called after |destroy|"),goog.asserts.assert(i.config_,"|onInitializeDrm_| should never be called after |destroy|"),goog.asserts.assert(i.manifest_,"|this.manifest_| should have been set in an earlier step."),goog.asserts.assert(e.mediaElement,"We should have a media element when initializing the DRM Engine."),r=Date.now()/1e3,n=!0,i.drmEngine_=i.createDrmEngine({netEngine:i.networkingEngine_,onError:function(e){i.onError_(e)},onKeyStatus:function(e){i.onKeyStatus_(e)},onExpirationUpdated:function(e,t){i.onExpirationUpdated_(e,t)},onEvent:function(e){i.dispatchEvent(e),e.type==shaka.Player.EventName.DrmSessionUpdate&&n&&(n=!1,e=Date.now()/1e3-r,i.stats_.setDrmTime(e))}}),i.config_.useMediaCapabilities||shaka.util.StreamUtils.filterManifestByMediaSource(i.manifest_),i.drmEngine_.configure(i.config_.drm),a.yield(i.drmEngine_.initForPlayback(i.manifest_.variants,i.manifest_.offlineSessionIds,i.config_.useMediaCapabilities),2)):3!=a.nextAddress?a.yield(i.drmEngine_.attach(e.mediaElement),3):a.yield(i.filterManifest_(i.manifest_),0)}))},shaka.Player.prototype.onLoad_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(h){switch(h.nextAddress){case 1:if(goog.asserts.assert(e.mimeType==t.mimeType,"|has| and |wants| should have the same mime type when loading."),goog.asserts.assert(e.uri==t.uri,"|has| and |wants| should have the same uri when loading."),goog.asserts.assert(e.mediaElement,"We should have a media element when loading."),goog.asserts.assert(!isNaN(t.startTimeOfLoad),"|wants| should tell us when the load was originally requested"),e.startTime=t.startTime,r=e.mediaElement,n=e.uri,p.assetUri_=n,p.playRateController_=new shaka.media.PlayRateController({getRate:function(){return e.mediaElement.playbackRate},getDefaultRate:function(){return e.mediaElement.defaultPlaybackRate},setRate:function(t){e.mediaElement.playbackRate=t},movePlayhead:function(t){e.mediaElement.currentTime+=t}}),i=function(){return p.updateStateHistory_()},a=function(){return p.onRateChange_()},p.eventManager_.listen(r,"playing",i),p.eventManager_.listen(r,"pause",i),p.eventManager_.listen(r,"ended",i),p.eventManager_.listen(r,"ratechange",a),o=p.config_.abrFactory,p.abrManager_&&p.abrManagerFactory_==o||(p.abrManagerFactory_=o,p.abrManager_=shaka.util.Functional.callFactory(o),"function"!=typeof p.abrManager_.playbackRateChanged&&(shaka.Deprecate.deprecateFeature(4,"AbrManager","Please use an AbrManager with playbackRateChanged function."),p.abrManager_.playbackRateChanged=function(e){}),p.abrManager_.configure(p.config_.abr)),p.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(p.config_.preferredAudioLanguage,p.config_.preferredVariantRole,p.config_.preferredAudioChannelCount),p.currentTextLanguage_=p.config_.preferredTextLanguage,p.currentTextRole_=p.config_.preferredTextRole,shaka.Player.applyPlayRange_(p.manifest_.presentationTimeline,p.config_.playRangeStart,p.config_.playRangeEnd),p.abrManager_.init((function(e,t,r){return p.switch_(e,t,r)})),p.playhead_=p.createPlayhead(e.startTime),p.playheadObservers_=p.createPlayheadObserversForMSE_(),s=Math.max(p.manifest_.minBufferTime,p.config_.streaming.rebufferingGoal),p.startBufferManagement_(s),shaka.util.StreamUtils.chooseCodecsAndFilterManifest(p.manifest_,p.config_.preferredAudioChannelCount),p.streamingEngine_=p.createStreamingEngine(),p.streamingEngine_.configure(p.config_.streaming),p.loadMode_=shaka.Player.LoadMode.MEDIA_SOURCE,p.dispatchEvent(p.makeEvent_(shaka.Player.EventName.Streaming)),l=p.chooseVariant_(),goog.asserts.assert(l,"Must choose an initial variant!"),p.addVariantToSwitchHistory_(l,!0),p.streamingEngine_.switchVariant(l,!1,0),(u=p.chooseTextStream_())&&p.addTextStreamToSwitchHistory_(u,!0),p.setInitialTextState_(l,u),u&&p.shouldStreamText_()&&p.streamingEngine_.switchTextStream(u),!p.config_.streaming.startAtSegmentBoundary){h.jumpTo(2);break}return c=p.playhead_.getTime(),h.yield(p.adjustStartTime_(l,c),3);case 3:d=h.yieldResult,p.playhead_.setStartTime(d);case 2:return h.yield(p.streamingEngine_.start(),4);case 4:p.config_.abr.enabled&&(p.abrManager_.enable(),p.onAbrStatusChanged_()),p.filterManifestByCurrentVariant_(),p.onTracksChanged_(),p.onAdaptation_(),p.updateAbrManagerVariants_(),f=p.manifest_.variants.some((function(e){return e.primary})),p.config_.preferredAudioLanguage||f||shaka.log.warning("No preferred audio language set.  We have chosen an arbitrary language initially"),p.eventManager_.listenOnce(r,"loadedmetadata",(function(){var e=Date.now()/1e3-t.startTimeOfLoad;p.stats_.setLoadLatency(e)})),h.jumpToEnd()}}))},shaka.Player.prototype.onInitializeSrcEqualsDrm_=function(e,t){var r,n,i,a,o=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(r=shaka.util.ManifestParserUtils.ContentType,goog.asserts.assert(o.networkingEngine_,"|onInitializeSrcEqualsDrm_| should never be called after |destroy|"),goog.asserts.assert(o.config_,"|onInitializeSrcEqualsDrm_| should never be called after |destroy|"),n=Date.now()/1e3,i=!0,o.drmEngine_=o.createDrmEngine({netEngine:o.networkingEngine_,onError:function(e){o.onError_(e)},onKeyStatus:function(e){o.onKeyStatus_(e)},onExpirationUpdated:function(e,t){o.onExpirationUpdated_(e,t)},onEvent:function(e){o.dispatchEvent(e),e.type==shaka.Player.EventName.DrmSessionUpdate&&i&&(i=!1,e=Date.now()/1e3-n,o.stats_.setDrmTime(e))}}),o.drmEngine_.configure(o.config_.drm),a={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t.mimeType?shaka.util.MimeUtils.getBasicType(t.mimeType):"video/mp4",codecs:t.mimeType?shaka.util.MimeUtils.getCodecs(t.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:r.VIDEO,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},s.yield(o.drmEngine_.initForPlayback([a],[]),2)):s.yield(o.drmEngine_.attach(e.mediaElement),0)}))},shaka.Player.prototype.onSrcEquals_=function(e,t){var r=this;goog.asserts.assert(e.mediaElement,"We should have a media element when loading."),goog.asserts.assert(t.uri,"|has| should have a valid uri when loading."),goog.asserts.assert(!isNaN(t.startTimeOfLoad),"|wants| should tell us when the load was originally requested"),goog.asserts.assert(this.video_==e.mediaElement,"The video element should match our media element"),e.uri=t.uri,e.startTime=t.startTime,this.assetUri_=e.uri,this.playhead_=new shaka.media.SrcEqualsPlayhead(e.mediaElement),null!=e.startTime&&this.playhead_.setStartTime(e.startTime),this.playRateController_=new shaka.media.PlayRateController({getRate:function(){return e.mediaElement.playbackRate},getDefaultRate:function(){return e.mediaElement.defaultPlaybackRate},setRate:function(t){e.mediaElement.playbackRate=t},movePlayhead:function(t){e.mediaElement.currentTime+=t}}),this.startBufferManagement_(this.config_.streaming.rebufferingGoal);var n=function(){return r.updateStateHistory_()};this.eventManager_.listen(e.mediaElement,"playing",n),this.eventManager_.listen(e.mediaElement,"pause",n),this.eventManager_.listen(e.mediaElement,"ended",n),this.eventManager_.listen(e.mediaElement,"ratechange",(function(){return r.onRateChange_()})),"none"!=this.video_.preload&&this.eventManager_.listenOnce(this.video_,"loadedmetadata",(function(){var e=Date.now()/1e3-t.startTimeOfLoad;r.stats_.setLoadLatency(e)})),this.video_.audioTracks&&(this.eventManager_.listen(this.video_.audioTracks,"addtrack",(function(){return r.onTracksChanged_()})),this.eventManager_.listen(this.video_.audioTracks,"removetrack",(function(){return r.onTracksChanged_()})),this.eventManager_.listen(this.video_.audioTracks,"change",(function(){return r.onTracksChanged_()}))),this.video_.textTracks&&(this.eventManager_.listen(this.video_.textTracks,"addtrack",(function(e){r.onTracksChanged_(),r.processTimedMetadataSrcEqls_(e)})),this.eventManager_.listen(this.video_.textTracks,"removetrack",(function(){return r.onTracksChanged_()})),this.eventManager_.listen(this.video_.textTracks,"change",(function(){return r.onTracksChanged_()}))),e.mediaElement.src=e.uri,(shaka.util.Platform.isTizen()||shaka.util.Platform.isWebOS())&&e.mediaElement.load(),this.loadMode_=shaka.Player.LoadMode.SRC_EQUALS,this.dispatchEvent(this.makeEvent_(shaka.Player.EventName.Streaming));var i=new shaka.util.PublicPromise;shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){i.resolve()}));var a=!1;return this.cleanupOnUnload_.push((function(){a=!0})),shaka.util.MediaReadyState.waitForReadyState(this.video_,HTMLMediaElement.HAVE_CURRENT_DATA,this.eventManager_,(function(){return $jscomp.asyncExecutePromiseGeneratorProgram((function(e){return 1==e.nextAddress?a?e.return():(r.setupPreferredAudioOnSrc_(),r.getFilteredTextTracks_().find((function(e){return"disabled"!=e.mode}))?e.jumpTo(2):e.yield(new Promise((function(e){r.eventManager_.listenOnce(r.video_.textTracks,"change",e),new shaka.util.Timer(e).tickAfter(1)})),2)):a?e.return():(r.setupPreferredTextOnSrc_(),void e.jumpToEnd())}))})),this.video_.error?i.reject(this.videoErrorToShakaError_()):"none"==this.video_.preload&&(shaka.log.alwaysWarn('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),i.resolve()),this.eventManager_.listenOnce(this.video_,"error",(function(){i.reject(r.videoErrorToShakaError_())})),new shaka.util.AbortableOperation(i,(function(){var e=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);return i.reject(e),Promise.resolve()}))},shaka.Player.prototype.setupPreferredAudioOnSrc_=function(){var e=this.config_.preferredAudioLanguage;if(""!=e){this.selectAudioLanguage(e);var t=this.config_.preferredVariantRole;""!=t&&this.selectAudioLanguage(e,t)}},shaka.Player.prototype.setupPreferredTextOnSrc_=function(){var e=this.config_.preferredTextLanguage,t=this.config_.preferForcedSubs;if(""!=e){this.selectTextLanguage(e,"",t);var r=this.config_.preferredTextRole;""!=r&&this.selectTextLanguage(e,r,t)}},shaka.Player.prototype.processTimedMetadataSrcEqls_=function(e){var t=this,r=e.track;goog.asserts.assert(r instanceof TextTrack,"Wrong track type!"),"metadata"==r.kind&&(r.mode="hidden",this.eventManager_.listen(r,"cuechange",(function(){if(r.activeCues)for(var e=$jscomp.makeIterator(r.activeCues),n=e.next();!n.done;n=e.next())n=n.value,t.dispatchMetadataEvent_(n.startTime,n.endTime,n.type,n.value),t.adManager_&&t.adManager_.onCueMetadataChange(n.value)})),new shaka.util.Timer((function(){for(var e=t.getMetadataTracks_(),r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())r.value.mode="hidden"})).tickNow().tickAfter(.5))},shaka.Player.prototype.processTimedMetadataMediaSrc_=function(e,t,r){for(var n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())if((n=n.value).data&&n.cueTime&&n.frames){for(var i=n.cueTime+t,a=r,o=$jscomp.makeIterator(n.frames),s=o.next();!s.done;s=o.next())this.dispatchMetadataEvent_(i,a,"ID3",s.value);this.adManager_&&this.adManager_.onHlsTimedMetadata(n,i)}},shaka.Player.prototype.dispatchMetadataEvent_=function(e,t,r,n){goog.asserts.assert(!t||e<=t,"Metadata start time should be less or equal to the end time!"),this.dispatchEvent(this.makeEvent_(shaka.Player.EventName.Metadata,{startTime:e,endTime:t,metadataType:r,payload:n}))},shaka.Player.filterForAVVariants_=function(e){var t=function(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")};e.variants.some(t)&&(shaka.log.debug("Found variant with audio and video content, so filtering out audio-only content."),e.variants=e.variants.filter(t))},shaka.Player.prototype.createDrmEngine=function(e){return new shaka.media.DrmEngine(e,this.config_.drm.updateExpirationTime)},shaka.Player.prototype.createNetworkingEngine=function(){var e=this;return new shaka.net.NetworkingEngine((function(t,r){e.abrManager_&&e.abrManager_.segmentDownloaded(t,r)}))},shaka.Player.prototype.createPlayhead=function(e){var t=this;return goog.asserts.assert(this.manifest_,"Must have manifest"),goog.asserts.assert(this.video_,"Must have video"),new shaka.media.MediaSourcePlayhead(this.video_,this.manifest_,this.config_.streaming,e,(function(){return t.onSeek_()}),(function(e){return t.dispatchEvent(e)}))},shaka.Player.prototype.createPlayheadObserversForMSE_=function(){var e=this;goog.asserts.assert(this.manifest_,"Must have manifest"),goog.asserts.assert(this.regionTimeline_,"Must have region timeline"),goog.asserts.assert(this.video_,"Must have video element");var t=new shaka.media.RegionObserver(this.regionTimeline_);t.setListeners((function(t,r){e.onRegionEvent_(shaka.Player.EventName.TimelineRegionEnter,t)}),(function(t,r){e.onRegionEvent_(shaka.Player.EventName.TimelineRegionExit,t)}),(function(t,r){r||(e.onRegionEvent_(shaka.Player.EventName.TimelineRegionEnter,t),e.onRegionEvent_(shaka.Player.EventName.TimelineRegionExit,t))}));var r=new shaka.media.PlayheadObserverManager(this.video_);return r.manage(t),r},shaka.Player.prototype.startBufferManagement_=function(e){var t=this;goog.asserts.assert(!this.bufferObserver_,"No buffering observer should exist before initialization."),goog.asserts.assert(!this.bufferPoller_,"No buffer timer should exist before initialization."),this.bufferObserver_=new shaka.media.BufferingObserver(1,2),this.bufferObserver_.setState(shaka.media.BufferingObserver.State.STARVING),this.updateBufferingSettings_(e),this.updateBufferState_(),this.bufferPoller_=new shaka.util.Timer((function(){t.pollBufferState_()})).tickEvery(.25)},shaka.Player.prototype.updateBufferingSettings_=function(e){this.bufferObserver_.setThresholds(e,Math.min(shaka.Player.TYPICAL_BUFFERING_THRESHOLD_,e/2))},shaka.Player.prototype.pollBufferState_=function(){switch(goog.asserts.assert(this.video_,"Need a media element to update the buffering observer"),goog.asserts.assert(this.bufferObserver_,"Need a buffering observer to update"),this.loadMode_){case shaka.Player.LoadMode.SRC_EQUALS:var e=this.isBufferedToEndSrc_();break;case shaka.Player.LoadMode.MEDIA_SOURCE:e=this.isBufferedToEndMS_();break;default:e=!1}var t=shaka.media.TimeRangesUtils.bufferedAheadOf(this.video_.buffered,this.video_.currentTime);this.bufferObserver_.update(t,e)&&this.updateBufferState_()},shaka.Player.prototype.createMediaSourceEngine=function(e,t,r,n){return new shaka.media.MediaSourceEngine(e,t,r,n)},shaka.Player.prototype.createStreamingEngine=function(){var e=this;return goog.asserts.assert(this.playhead_&&this.abrManager_&&this.mediaSourceEngine_&&this.manifest_,"Must not be destroyed"),new shaka.media.StreamingEngine(this.manifest_,{getPresentationTime:function(){return e.playhead_.getTime()},getBandwidthEstimate:function(){return e.abrManager_.getBandwidthEstimate()},mediaSourceEngine:this.mediaSourceEngine_,netEngine:this.networkingEngine_,onError:function(t){return e.onError_(t)},onEvent:function(t){return e.dispatchEvent(t)},onManifestUpdate:function(){return e.onManifestUpdate_()},onSegmentAppended:function(){return e.onSegmentAppended_()}})},shaka.Player.prototype.configure=function(e,t){goog.asserts.assert(this.config_,"Config must not be null!"),goog.asserts.assert("object"==typeof e||2==arguments.length,"String configs should have values!"),2==arguments.length&&"string"==typeof e&&(e=shaka.util.ConfigUtils.convertToConfigObject(e,t)),goog.asserts.assert("object"==typeof e,"Should be an object!"),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(shaka.Deprecate.deprecateFeature(4,"manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),e.streaming&&e.streaming.lowLatencyMode&&(void 0==e.streaming.inaccurateManifestTolerance&&(e.streaming.inaccurateManifestTolerance=0),void 0==e.streaming.rebufferingGoal&&(e.streaming.rebufferingGoal=.01));var r=shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,e,this.defaultConfig_());return this.applyConfig_(),r},shaka.Player.prototype.applyConfig_=function(){if(this.parser_){var e=shaka.util.ObjectUtils.cloneObject(this.config_.manifest);this.video_&&"AUDIO"===this.video_.nodeName&&(e.disableVideo=!0),this.parser_.configure(e)}if(this.drmEngine_&&this.drmEngine_.configure(this.config_.drm),this.streamingEngine_){this.streamingEngine_.configure(this.config_.streaming);try{this.filterManifestWithRestrictions_(this.manifest_)}catch(r){this.onError_(r)}this.abrManager_&&this.updateAbrManagerVariants_(),!(e=this.streamingEngine_.getCurrentVariant())||e.allowedByApplication&&e.allowedByKeySystem||(shaka.log.debug("Choosing new variant after changing configuration"),this.chooseVariantAndSwitch_())}if(this.networkingEngine_&&this.networkingEngine_.setForceHTTPS(this.config_.streaming.forceHTTPS),this.mediaSourceEngine_&&(e=this.config_.textDisplayFactory,this.lastTextFactory_!=e)){var t=shaka.util.Functional.callFactory(e);this.mediaSourceEngine_.setTextDisplayer(t),this.lastTextFactory_=e,this.streamingEngine_&&this.streamingEngine_.reloadTextStream()}this.abrManager_&&(this.abrManager_.configure(this.config_.abr),this.config_.abr.enabled?this.abrManager_.enable():this.abrManager_.disable(),this.onAbrStatusChanged_()),this.bufferObserver_&&(e=this.config_.streaming.rebufferingGoal,this.manifest_&&(e=Math.max(e,this.manifest_.minBufferTime)),this.updateBufferingSettings_(e)),this.manifest_&&shaka.Player.applyPlayRange_(this.manifest_.presentationTimeline,this.config_.playRangeStart,this.config_.playRangeEnd)},shaka.Player.prototype.getConfiguration=function(){goog.asserts.assert(this.config_,"Config must not be null!");var e=this.defaultConfig_();return shaka.util.PlayerConfiguration.mergeConfigObjects(e,this.config_,this.defaultConfig_()),e},shaka.Player.prototype.getSharedConfiguration=function(){return goog.asserts.assert(this.config_,"Cannot call getSharedConfiguration after call destroy!"),this.config_},shaka.Player.prototype.resetConfiguration=function(){for(var e in goog.asserts.assert(this.config_,"Cannot be destroyed"),this.config_)delete this.config_[e];shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,this.defaultConfig_(),this.defaultConfig_()),this.applyConfig_()},shaka.Player.prototype.getLoadMode=function(){return this.loadMode_},shaka.Player.prototype.getMediaElement=function(){return this.video_},shaka.Player.prototype.getNetworkingEngine=function(){return this.networkingEngine_},shaka.Player.prototype.getAssetUri=function(){return this.assetUri_},shaka.Player.prototype.getAdManager=function(){return this.adManager_?this.adManager_:null},shaka.Player.prototype.isLive=function(){return this.manifest_?this.manifest_.presentationTimeline.isLive():!(!this.video_||!this.video_.src)&&1/0==this.video_.duration},shaka.Player.prototype.isInProgress=function(){return!!this.manifest_&&this.manifest_.presentationTimeline.isInProgress()},shaka.Player.prototype.isAudioOnly=function(){if(this.manifest_){var e=this.manifest_.variants;return!!e.length&&!e[0].video}return!(!this.video_||!this.video_.src)&&(this.video_.videoTracks?0==this.video_.videoTracks.length:0==this.video_.videoHeight)},shaka.Player.prototype.isLowLatencyMode_=function(){return this.config_.streaming.lowLatencyMode},shaka.Player.prototype.isAutoLowLatencyMode_=function(){return this.config_.streaming.autoLowLatencyMode},shaka.Player.prototype.seekRange=function(){if(this.manifest_){var e=this.manifest_.presentationTimeline;return{start:e.getSeekRangeStart(),end:e.getSeekRangeEnd()}}return this.video_&&this.video_.src&&(e=this.video_.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},shaka.Player.prototype.keySystem=function(){return shaka.media.DrmEngine.keySystem(this.drmInfo())},shaka.Player.prototype.drmInfo=function(){return this.drmEngine_?this.drmEngine_.getDrmInfo():null},shaka.Player.prototype.getExpiration=function(){return this.drmEngine_?this.drmEngine_.getExpiration():1/0},shaka.Player.prototype.getKeyStatuses=function(){return this.drmEngine_?this.drmEngine_.getKeyStatuses():{}},shaka.Player.prototype.isBuffering=function(){var e=shaka.media.BufferingObserver.State;return!!this.bufferObserver_&&this.bufferObserver_.getState()==e.STARVING},shaka.Player.prototype.getPlaybackRate=function(){return this.video_?this.playRateController_?this.playRateController_.getRealRate():1:0},shaka.Player.prototype.trickPlay=function(e){goog.asserts.assert(0!=e,"Should never set a trick play rate of 0!"),0==e?shaka.log.alwaysWarn("A trick play rate of 0 is unsupported!"):(this.video_.paused&&this.video_.play(),this.playRateController_.set(e),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&(this.abrManager_.playbackRateChanged(e),this.streamingEngine_.setTrickPlay(1<Math.abs(e))))},shaka.Player.prototype.cancelTrickPlay=function(){var e=this.playRateController_.getDefaultRate();this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS&&this.playRateController_.set(e),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&(this.playRateController_.set(e),this.abrManager_.playbackRateChanged(e),this.streamingEngine_.setTrickPlay(!1))},shaka.Player.prototype.getVariantTracks=function(){if(this.manifest_){for(var e=this.streamingEngine_?this.streamingEngine_.getCurrentVariant():null,t=[],r=$jscomp.makeIterator(this.manifest_.variants),n=r.next();!n.done;n=r.next())if(n=n.value,shaka.util.StreamUtils.isPlayable(n)){var i=shaka.util.StreamUtils.variantToTrack(n);i.active=n==e,t.push(i)}return t}return this.video_&&this.video_.audioTracks?Array.from(this.video_.audioTracks).map((function(e){return shaka.util.StreamUtils.html5AudioTrackToTrack(e)})):[]},shaka.Player.prototype.getTextTracks=function(){if(this.manifest_){for(var e=this.streamingEngine_?this.streamingEngine_.getCurrentTextStream():null,t=[],r=$jscomp.makeIterator(this.manifest_.textStreams),n=r.next();!n.done;n=r.next()){n=n.value;var i=shaka.util.StreamUtils.textStreamToTrack(n);i.active=n==e,t.push(i)}return t}if(this.video_&&this.video_.src&&this.video_.textTracks){e=this.getFilteredTextTracks_();var a=shaka.util.StreamUtils;return e.map((function(e){return a.html5TextTrackToTrack(e)}))}return[]},shaka.Player.prototype.getImageTracks=function(){if(this.manifest_){var e=shaka.util.StreamUtils;return this.manifest_.imageStreams.map((function(t){return e.imageStreamToTrack(t)}))}return[]},shaka.Player.prototype.getThumbnails=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(b){return 1==b.nextAddress?y.manifest_?(r=y.manifest_.imageStreams.find((function(t){return t.id==e})))?r.segmentIndex?b.jumpTo(3):b.yield(r.createSegmentIndex(),3):b.return(null):b.jumpTo(2):2!=b.nextAddress?null==(n=r.segmentIndex.find(t))?b.return(null):(i=r.segmentIndex.get(n),(a=/(\d+)x(\d+)/.exec(r.tilesLayout))?(o=r.width||0,s=r.height||0,l=parseInt(a[1],10),u=parseInt(a[2],10),c=o/l,d=s/u,p=f=0,1<(h=l*u)&&(g=t-i.startTime,m=i.endTime-i.startTime,v=Math.floor(g*h/m),f=v%l/l*o,p=v%u/u*s),b.return({height:d,positionX:f,positionY:p,uris:i.getUris(),width:c})):(shaka.log.warning("Tiles layout does not contain a valid format  (columns x rows)"),b.return(null))):b.return(null)}))},shaka.Player.prototype.selectTextTrack=function(e){if(this.manifest_&&this.streamingEngine_){var t=this.manifest_.textStreams.find((function(t){return t.id==e.id}));t?t==this.streamingEngine_.getCurrentTextStream()?shaka.log.debug("Text track already selected."):(this.addTextStreamToSwitchHistory_(t,!1),this.streamingEngine_.switchTextStream(t),this.onTextChanged_(),this.currentTextLanguage_=t.language):shaka.log.error("No stream with id",e.id)}else if(this.video_&&this.video_.src&&this.video_.textTracks){t=this.getFilteredTextTracks_();for(var r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())r=r.value,shaka.util.StreamUtils.html5TrackId(r)==e.id?r.mode=this.isTextVisible_?"showing":"hidden":r.mode="disabled";this.onTextChanged_()}},shaka.Player.prototype.selectVariantTrack=function(e,t,r){if(t=void 0!==t&&t,r=void 0===r?0:r,this.manifest_&&this.streamingEngine_){this.config_.abr.enabled&&shaka.log.alwaysWarn("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var n=this.manifest_.variants.find((function(t){return t.id==e.id}));n?shaka.util.StreamUtils.isPlayable(n)?(this.switchVariant_(n,!1,t,r),this.currentAdaptationSetCriteria_=new shaka.media.ExampleBasedCriteria(n),this.updateAbrManagerVariants_()):shaka.log.error("Unable to switch to restricted track",e.id):shaka.log.error("No variant with id",e.id)}else if(this.video_&&this.video_.audioTracks)for(t=Array.from(this.video_.audioTracks),r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())if(r=r.value,shaka.util.StreamUtils.html5TrackId(r)==e.id){this.switchHtml5Track_(r);break}},shaka.Player.prototype.getAudioLanguagesAndRoles=function(){return shaka.Player.getLanguageAndRolesFrom_(this.getVariantTracks())},shaka.Player.prototype.getTextLanguagesAndRoles=function(){return shaka.Player.getLanguageAndRolesFrom_(this.getTextTracks())},shaka.Player.prototype.getAudioLanguages=function(){return Array.from(shaka.Player.getLanguagesFrom_(this.getVariantTracks()))},shaka.Player.prototype.getTextLanguages=function(){return Array.from(shaka.Player.getLanguagesFrom_(this.getTextTracks()))},shaka.Player.prototype.selectAudioLanguage=function(e,t){var r=shaka.util.LanguageUtils;if(this.manifest_&&this.playhead_){if(this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(e,t||"",0,""),!this.config_.abr.enabled){r=function(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0};for(var n=this.streamingEngine_.getCurrentVariant(),i=this.currentAdaptationSetCriteria_.create(this.manifest_.variants),a=null,o=(i=$jscomp.makeIterator(i.values())).next();!o.done;o=i.next())o=o.value,(!a||r(a,n)>r(o,n))&&(a=o);if(a)return r=shaka.util.StreamUtils.variantToTrack(a),void this.selectVariantTrack(r,!0)}this.chooseVariantAndSwitch_()}else if(this.video_&&this.video_.audioTracks){o=Array.from(this.video_.audioTracks),n=r.normalize(e),i=a=null;for(var s=(o=$jscomp.makeIterator(o)).next();!s.done;s=o.next()){s=s.value;var l=shaka.util.StreamUtils.html5AudioTrackToTrack(s);r.normalize(l.language)==n&&(a=s,t?l.roles.includes(t)&&(i=s):0==l.roles.length&&(i=s))}i?this.switchHtml5Track_(i):a&&this.switchHtml5Track_(a)}},shaka.Player.prototype.selectTextLanguage=function(e,t,r){r=void 0!==r&&r;var n=shaka.util.LanguageUtils;if(this.manifest_&&this.playhead_)this.currentTextLanguage_=e,this.currentTextRole_=t||"",this.currentTextForced_=r,(e=this.chooseTextStream_())&&(e==this.streamingEngine_.getCurrentTextStream()?shaka.log.debug("Text track already selected."):(this.addTextStreamToSwitchHistory_(e,!1),this.shouldStreamText_()&&(this.streamingEngine_.switchTextStream(e),this.onTextChanged_())));else{var i=n.normalize(e);(e=this.getTextTracks().find((function(e){return n.normalize(e.language)==i&&(!t||e.roles.includes(t))&&e.forced==r})))&&this.selectTextTrack(e)}},shaka.Player.prototype.selectVariantsByLabel=function(e){if(this.manifest_&&this.playhead_){for(var t=null,r=$jscomp.makeIterator(this.manifest_.variants),n=r.next();!n.done;n=r.next())if((n=n.value).audio.label==e){t=n;break}null==t?shaka.log.warning("No variants were found with label: "+e+". Ignoring the request to switch."):(this.currentAdaptationSetCriteria_=new shaka.media.PreferenceBasedCriteria(t.language,"",0,e),this.chooseVariantAndSwitch_())}},shaka.Player.prototype.isTextTrackVisible=function(){var e=this.isTextVisible_;if(this.mediaSourceEngine_){var t=this.mediaSourceEngine_.getTextDisplayer().isTextVisible();return goog.asserts.assert(t==e,"text visibility has fallen out of sync"),t}return this.video_&&this.video_.src&&this.video_.textTracks?this.getFilteredTextTracks_().some((function(e){return"showing"==e.mode})):e},shaka.Player.prototype.getFilteredTextTracks_=function(){return goog.asserts.assert(this.video_.textTracks,"TextTracks should be valid."),Array.from(this.video_.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&e.label!=shaka.Player.TextTrackLabel}))},shaka.Player.prototype.getMetadataTracks_=function(){return goog.asserts.assert(this.video_.textTracks,"TextTracks should be valid."),Array.from(this.video_.textTracks).filter((function(e){return"metadata"==e.kind}))},shaka.Player.prototype.setTextTrackVisibility=function(e){if(e=!!e,this.isTextVisible_!=e){if(this.isTextVisible_=e,this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE)this.mediaSourceEngine_.getTextDisplayer().setTextVisibility(e),this.config_.streaming.alwaysStreamText||(e?this.streamingEngine_.getCurrentTextStream()||0<(e=shaka.util.StreamUtils.filterStreamsByLanguageAndRole(this.manifest_.textStreams,this.currentTextLanguage_,this.currentTextRole_,this.currentTextForced_)).length&&(this.streamingEngine_.switchTextStream(e[0]),this.onTextChanged_()):this.streamingEngine_.unloadTextStream());else if(this.video_&&this.video_.src&&this.video_.textTracks)for(var t=this.getFilteredTextTracks_(),r=(t=$jscomp.makeIterator(t)).next();!r.done;r=t.next())"disabled"!=(r=r.value).mode&&(r.mode=e?"showing":"hidden");this.onTextTrackVisibility_()}},shaka.Player.prototype.getPlayheadTimeAsDate=function(){if(!this.isLive())return shaka.log.warning("getPlayheadTimeAsDate is for live streams!"),null;var e=this.walker_.getCurrentPayload(),t=0;if(this.playhead_)t=this.playhead_.getTime();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.manifest_?(e=this.manifest_.presentationTimeline.getPresentationStartTime(),new Date(1e3*(e+t))):this.video_&&this.video_.getStartDate?(e=this.video_.getStartDate(),isNaN(e.getTime())?(shaka.log.warning("EXT-X-PROGRAM-DATETIME required to get playhead time as Date!"),null):new Date(e.getTime()+1e3*t)):(shaka.log.warning("No way to get playhead time as Date!"),null)},shaka.Player.prototype.getPresentationStartTimeAsDate=function(){if(!this.isLive())return shaka.log.warning("getPresentationStartTimeAsDate is for live streams!"),null;if(this.manifest_){var e=this.manifest_.presentationTimeline.getPresentationStartTime();return goog.asserts.assert(null!=e,"Presentation start time should not be null!"),new Date(1e3*e)}return this.video_&&this.video_.getStartDate?(e=this.video_.getStartDate(),isNaN(e.getTime())?(shaka.log.warning("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),null):e):(shaka.log.warning("No way to get presentation start time as Date!"),null)},shaka.Player.prototype.getBufferedInfo=function(){if(this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE)return this.mediaSourceEngine_.getBufferedInfo();var e={total:[],audio:[],video:[],text:[]};return this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS&&(e.total=shaka.media.TimeRangesUtils.getBufferedInfo(this.video_.buffered)),e},shaka.Player.prototype.getStats=function(){if(this.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE&&this.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS)return shaka.util.Stats.getEmptyBlob();this.updateStateHistory_(),goog.asserts.assert(this.video_,"If we have stats, we should have video_");var e=this.video_,t=e.currentTime/e.duration;return isNaN(t)||this.stats_.setCompletionPercent(Math.round(100*t)),e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),this.stats_.setDroppedFrames(Number(e.droppedVideoFrames),Number(e.totalVideoFrames)),this.stats_.setCorruptedFrames(Number(e.corruptedVideoFrames))),e=this.drmEngine_?this.drmEngine_.getLicenseTime():NaN,this.stats_.setLicenseTime(e),this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&((e=this.streamingEngine_.getCurrentVariant())&&(t=(this.playRateController_?this.playRateController_.getRealRate():1)*e.bandwidth,this.stats_.setCurrentStreamBandwidth(t)),e&&e.video&&this.stats_.setResolution(e.video.width||NaN,e.video.height||NaN),this.isLive()&&(e=this.getPresentationStartTimeAsDate().valueOf()+1e3*this.seekRange().end,e=(Date.now()-e)/1e3,this.stats_.setLiveLatency(e)),this.manifest_&&this.manifest_.presentationTimeline&&(e=this.manifest_.presentationTimeline.getMaxSegmentDuration(),this.stats_.setMaxSegmentDuration(e)),e=this.abrManager_.getBandwidthEstimate(),this.stats_.setBandwidthEstimate(e)),this.stats_.getBlob()},shaka.Player.prototype.addTextTrack=function(e,t,r,n,i,a,o){if(o=void 0!==o&&o,shaka.Deprecate.deprecateFeature(4,"addTextTrack","Please use an addTextTrackAsync."),this.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE&&this.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS)throw shaka.log.error("Must call load() and wait for it to resolve before adding text tracks."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.CONTENT_NOT_LOADED);if(!n){var s=shaka.media.ManifestParser.getExtension(e);if(!(n={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"}[s]))throw shaka.log.error("The mimeType has not been provided and it could not be deduced from its extension."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.TEXT_COULD_NOT_GUESS_MIME_TYPE,s)}if(this.loadMode_==shaka.Player.LoadMode.SRC_EQUALS){if("text/vtt"!=n)throw shaka.log.error("Only WebVTT is supported when using src="),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.TEXT_ONLY_WEBVTT_SRC_EQUALS,n);if(o&&(r="forced"),(n=document.createElement("track")).src=e,n.label=a||"",n.kind=r,n.srclang=t,this.video_.getAttribute("crossorigin")||this.video_.setAttribute("crossorigin","anonymous"),this.video_.appendChild(n),n=this.getTextTracks().find((function(e){return e.language==t&&e.label==(a||"")&&e.kind==r})))return this.onTracksChanged_(),n;throw shaka.log.error("Cannot add this text when loaded with src="),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS)}s=shaka.util.ManifestParserUtils.ContentType;var l=this.manifest_.presentationTimeline.getDuration();if(1/0==l)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM);if(e={id:this.nextExternalStreamId_++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:shaka.media.SegmentIndex.forSingleSegment(0,l,[e]),mimeType:n||"",codecs:i||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:s.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},i=shaka.util.MimeUtils.getFullType(e.mimeType,e.codecs),!shaka.text.TextEngine.isTypeSupported(i))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.MISSING_TEXT_PLUGIN,n);return this.manifest_.textStreams.push(e),this.onTracksChanged_(),shaka.util.StreamUtils.textStreamToTrack(e)},shaka.Player.prototype.addTextTrackAsync=function(e,t,r,n,i,a,o){o=void 0!==o&&o;var s,l,u,c,d,f,p,h,g,m,v,y=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(b){switch(b.nextAddress){case 1:if(y.loadMode_!=shaka.Player.LoadMode.MEDIA_SOURCE&&y.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS)throw shaka.log.error("Must call load() and wait for it to resolve before adding text tracks."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.CONTENT_NOT_LOADED);if(n){b.jumpTo(2);break}if(s=shaka.media.ManifestParser.getExtension(e),n={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"}[s]){b.jumpTo(3);break}return b.setCatchFinallyBlocks(4),goog.asserts.assert(y.networkingEngine_,"Need networking engine."),b.yield(shaka.media.ManifestParser.getMimeType(e,y.networkingEngine_,y.config_.streaming.retryParameters),6);case 6:n=b.yieldResult,b.leaveTryBlock(3);break;case 4:b.enterCatchBlock();case 3:if(!n)throw shaka.log.error("The mimeType has not been provided and it could not be deduced from its extension."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.TEXT_COULD_NOT_GUESS_MIME_TYPE,s);case 2:if(y.loadMode_!=shaka.Player.LoadMode.SRC_EQUALS){b.jumpTo(7);break}if("text/vtt"==n){b.jumpTo(8);break}return goog.asserts.assert(y.networkingEngine_,"Need networking engine."),b.yield(y.getTextData_(e,y.networkingEngine_,y.config_.streaming.retryParameters),9);case 9:l=b.yieldResult,u=y.convertToWebVTT_(l,n),c=new Blob([u],{type:"text/vtt"}),e=shaka.media.MediaSourceEngine.createObjectURL(c),n="text/vtt";case 8:if(o&&(r="forced"),(d=document.createElement("track")).src=e,d.label=a||"",d.kind=r,d.srclang=t,y.video_.getAttribute("crossorigin")||y.video_.setAttribute("crossorigin","anonymous"),y.video_.appendChild(d),f=y.getTextTracks(),p=f.find((function(e){return e.language==t&&e.label==(a||"")&&e.kind==r})))return y.onTracksChanged_(),b.return(p);throw shaka.log.error("Cannot add this text when loaded with src="),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS);case 7:if(h=shaka.util.ManifestParserUtils.ContentType,1/0==(g=y.manifest_.presentationTimeline.getDuration()))throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM);if(m={id:y.nextExternalStreamId_++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:shaka.media.SegmentIndex.forSingleSegment(0,g,[e]),mimeType:n||"",codecs:i||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:h.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},v=shaka.util.MimeUtils.getFullType(m.mimeType,m.codecs),!shaka.text.TextEngine.isTypeSupported(v))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.MISSING_TEXT_PLUGIN,n);return y.manifest_.textStreams.push(m),y.onTracksChanged_(),b.return(shaka.util.StreamUtils.textStreamToTrack(m))}}))},shaka.Player.prototype.getTextData_=function(e,t,r){var n,i,a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return 1==o.nextAddress?(n=shaka.net.NetworkingEngine.RequestType.SEGMENT,(i=shaka.net.NetworkingEngine.makeRequest([e],r)).method="GET",o.yield(t.request(n,i).promise,2)):(a=o.yieldResult,o.return(a.data))}))},shaka.Player.prototype.convertToWebVTT_=function(e,t){var r=shaka.text.TextEngine.findParser(t);if(r){r=r();var n={periodStart:0,segmentStart:0,segmentEnd:this.video_.duration},i=shaka.util.BufferUtils.toUint8(e);return r=r.parseMedia(i,n),shaka.text.WebVttGenerator.convert(r)}throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.MISSING_TEXT_PLUGIN,t)},shaka.Player.prototype.setMaxHardwareResolution=function(e,t){this.maxHwRes_.width=e,this.maxHwRes_.height=t},shaka.Player.prototype.retryStreaming=function(){return this.loadMode_==shaka.Player.LoadMode.MEDIA_SOURCE&&this.streamingEngine_.retry()},shaka.Player.prototype.getManifest=function(){return shaka.log.alwaysWarn("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.manifest_},shaka.Player.prototype.getManifestParserFactory=function(){return this.parserFactory_},shaka.Player.prototype.addVariantToSwitchHistory_=function(e,t){this.stats_.getSwitchHistory().updateCurrentVariant(e,t)},shaka.Player.prototype.addTextStreamToSwitchHistory_=function(e,t){this.stats_.getSwitchHistory().updateCurrentText(e,t)},shaka.Player.prototype.defaultConfig_=function(){var e=this,t=shaka.util.PlayerConfiguration.createDefault();return t.streaming.failureCallback=function(t){e.defaultStreamingFailureCallback_(t)},t.textDisplayFactory=function(){return e.videoContainer_?new shaka.text.UITextDisplayer(e.video_,e.videoContainer_):new shaka.text.SimpleTextDisplayer(e.video_)},t},shaka.Player.prototype.setVideoContainer=function(e){this.videoContainer_=e},shaka.Player.prototype.defaultStreamingFailureCallback_=function(e){var t=[shaka.util.Error.Code.BAD_HTTP_STATUS,shaka.util.Error.Code.HTTP_ERROR,shaka.util.Error.Code.TIMEOUT];this.isLive()&&t.includes(e.code)&&(e.severity=shaka.util.Error.Severity.RECOVERABLE,shaka.log.warning("Live streaming error.  Retrying automatically..."),this.retryStreaming())},shaka.Player.prototype.makeTextStreamsForClosedCaptions_=function(e){for(var t=shaka.util.ManifestParserUtils.ContentType,r=shaka.util.ManifestParserUtils.TextStreamKind,n=shaka.util.MimeUtils.CEA608_CLOSED_CAPTION_MIMETYPE,i=shaka.util.MimeUtils.CEA708_CLOSED_CAPTION_MIMETYPE,a=new Set,o=$jscomp.makeIterator(e.textStreams),s=o.next();!s.done;s=o.next())(s=s.value).mimeType!=n&&s.mimeType!=i||a.add(s.originalId);for(s=(o=$jscomp.makeIterator(e.variants)).next();!s.done;s=o.next())if((s=s.value.video)&&s.closedCaptions)for(var l=$jscomp.makeIterator(s.closedCaptions.keys()),u=l.next();!u.done;u=l.next())if(u=u.value,!a.has(u)){var c=u.startsWith("CC")?n:i,d=new shaka.media.MetaSegmentIndex;c={id:this.nextExternalStreamId_++,originalId:u,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:d,mimeType:c,codecs:"",kind:r.CLOSED_CAPTION,encrypted:!1,drmInfos:[],keyIds:new Set,language:s.closedCaptions.get(u),label:null,type:t.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:s.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},e.textStreams.push(c),a.add(u)}},shaka.Player.prototype.filterManifest_=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.yield(t.filterManifestWithStreamUtils_(e),2);t.filterManifestWithRestrictions_(e),r.jumpToEnd()}))},shaka.Player.prototype.filterManifestWithStreamUtils_=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress)return goog.asserts.assert(e,"Manifest should exist!"),goog.asserts.assert(r.video_,"Must not be destroyed"),t=r.streamingEngine_?r.streamingEngine_.getCurrentVariant():null,n.yield(shaka.util.StreamUtils.filterManifest(r.drmEngine_,t,e,r.config_.useMediaCapabilities),2);r.checkPlayableVariants_(e),n.jumpToEnd()}))},shaka.Player.prototype.filterManifestWithRestrictions_=function(e){if(this.loadMode_!=shaka.Player.LoadMode.DESTROYED){shaka.util.StreamUtils.applyRestrictions(e.variants,this.config_.restrictions,this.maxHwRes_)&&this.streamingEngine_&&this.onTracksChanged_();var t=this.drmEngine_?this.drmEngine_.getDrmInfo():null;if(t&&this.drmEngine_.getMediaKeys())for(var r=$jscomp.makeIterator(e.variants),n=r.next();!n.done;n=r.next()){n=((n=n.value).video?n.video.drmInfos:[]).concat(n.audio?n.audio.drmInfos:[]);for(var i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next())if((i=i.value).keySystem==t.keySystem)for(var a=(i=$jscomp.makeIterator(i.initData||[])).next();!a.done;a=i.next())a=a.value,this.drmEngine_.newInitData(a.initDataType,a.initData)}this.checkRestrictedVariants_(e)}},shaka.Player.prototype.filterManifestByCurrentVariant_=function(){goog.asserts.assert(this.manifest_,"Manifest should be valid"),goog.asserts.assert(this.streamingEngine_,"StreamingEngine should be valid");var e=this.streamingEngine_?this.streamingEngine_.getCurrentVariant():null;shaka.util.StreamUtils.filterManifestByCurrentVariant(e,this.manifest_),this.checkPlayableVariants_(this.manifest_)},shaka.Player.prototype.adjustStartTime_=function(e,t){var r,n,i,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(r=e.audio,n=e.video,i=function(e,t){var r,n;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){return 1==i.nextAddress?e?i.yield(e.createSegmentIndex(),2):i.return(null):(r=e.segmentIndex[Symbol.iterator]().seek(t))?(n=r.startTime,goog.asserts.assert(n<=t,"Segment should start before target time!"),i.return(n)):i.return(null)}))},s.yield(i(r,t),2)):3!=s.nextAddress?(a=s.yieldResult,s.yield(i(n,t),3)):null!=(o=s.yieldResult)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))},shaka.Player.prototype.updateBufferState_=function(){var e=this.isBuffering();shaka.log.v2("Player changing buffering state to",e),this.stats_&&this.bufferObserver_&&this.playhead_&&(this.playRateController_.setBuffering(e),this.updateStateHistory_()),this.dispatchEvent(this.makeEvent_(shaka.Player.EventName.Buffering,{buffering:e}))},shaka.Player.prototype.onRateChange_=function(){var e=this.video_.playbackRate;0!=e&&(this.playRateController_&&this.playRateController_.set(e),e=this.makeEvent_(shaka.Player.EventName.RateChange),this.dispatchEvent(e))},shaka.Player.prototype.updateStateHistory_=function(){if(this.stats_&&this.bufferObserver_){var e=shaka.media.BufferingObserver.State,t=this.stats_.getStateHistory();this.bufferObserver_.getState()==e.STARVING?t.update("buffering"):this.video_.paused?t.update("paused"):this.video_.ended?t.update("ended"):t.update("playing")}},shaka.Player.prototype.onSeek_=function(){this.playheadObservers_&&this.playheadObservers_.notifyOfSeek(),this.streamingEngine_&&this.streamingEngine_.seeked(),this.bufferObserver_&&this.pollBufferState_()},shaka.Player.prototype.updateAbrManagerVariants_=function(){try{goog.asserts.assert(this.manifest_,"Manifest should exist by now!"),this.checkRestrictedVariants_(this.manifest_)}catch(t){return this.onError_(t),!1}var e=this.manifest_.variants.filter((function(e){return shaka.util.StreamUtils.isPlayable(e)}));return e=this.currentAdaptationSetCriteria_.create(e),this.abrManager_.setVariants(Array.from(e.values())),!0},shaka.Player.prototype.chooseVariant_=function(){return this.updateAbrManagerVariants_()?this.abrManager_.chooseVariant():null},shaka.Player.prototype.chooseTextStream_=function(){return shaka.util.StreamUtils.filterStreamsByLanguageAndRole(this.manifest_.textStreams,this.currentTextLanguage_,this.currentTextRole_,this.currentTextForced_)[0]||null},shaka.Player.prototype.chooseVariantAndSwitch_=function(){goog.asserts.assert(this.config_,"Must not be destroyed");var e=this.chooseVariant_();e&&(this.switchVariant_(e,!0,!0,0),this.onAdaptation_())},shaka.Player.prototype.switchVariant_=function(e,t,r,n){var i=this.streamingEngine_.getCurrentVariant();e==i?shaka.log.debug("Variant already selected."):(this.addVariantToSwitchHistory_(e,t),this.streamingEngine_.switchVariant(e,r,n),t=null,i&&(t=shaka.util.StreamUtils.variantToTrack(i)),e=shaka.util.StreamUtils.variantToTrack(e),this.onVariantChanged_(t,e))},shaka.Player.prototype.switchHtml5Track_=function(e){goog.asserts.assert(this.video_&&this.video_.audioTracks,"Video and video.audioTracks should not be null!");var t=Array.from(this.video_.audioTracks).find((function(e){return e.enabled}));e.enabled=!0,t=shaka.util.StreamUtils.html5AudioTrackToTrack(t),e=shaka.util.StreamUtils.html5AudioTrackToTrack(e),this.onVariantChanged_(t,e)},shaka.Player.prototype.setInitialTextState_=function(e,t){t?(e.audio&&this.shouldInitiallyShowText_(e.audio,t)&&(this.isTextVisible_=!0),this.isTextVisible_&&(this.mediaSourceEngine_.getTextDisplayer().setTextVisibility(!0),goog.asserts.assert(this.shouldStreamText_(),"Should be streaming text")),this.onTextTrackVisibility_()):this.isTextVisible_=!1},shaka.Player.prototype.shouldInitiallyShowText_=function(e,t){var r=shaka.util.LanguageUtils,n=r.normalize(this.config_.preferredTextLanguage),i=r.normalize(e.language),a=r.normalize(t.language);return r.areLanguageCompatible(a,n)&&!r.areLanguageCompatible(i,a)},shaka.Player.prototype.onManifestUpdate_=function(){this.parser_&&this.parser_.update&&this.parser_.update()},shaka.Player.prototype.onSegmentAppended_=function(){this.playhead_&&this.playhead_.notifyOfBufferingChange(),this.pollBufferState_()},shaka.Player.prototype.switch_=function(e,t,r){t=void 0!==t&&t,r=void 0===r?0:r,shaka.log.debug("switch_"),goog.asserts.assert(this.config_.abr.enabled,"AbrManager should not call switch while disabled!"),goog.asserts.assert(this.manifest_,"We need a manifest to switch variants."),this.streamingEngine_&&e!=this.streamingEngine_.getCurrentVariant()&&(this.addVariantToSwitchHistory_(e,!0),this.streamingEngine_.switchVariant(e,t,r),this.onAdaptation_())},shaka.Player.prototype.onAdaptation_=function(){var e=this.makeEvent_(shaka.Player.EventName.Adaptation);this.delayDispatchEvent_(e)},shaka.Player.prototype.onTracksChanged_=function(){var e=this.makeEvent_(shaka.Player.EventName.TracksChanged);this.delayDispatchEvent_(e)},shaka.Player.prototype.onVariantChanged_=function(e,t){var r=this.makeEvent_(shaka.Player.EventName.VariantChanged,{oldTrack:e,newTrack:t});this.delayDispatchEvent_(r)},shaka.Player.prototype.onTextChanged_=function(){var e=this.makeEvent_(shaka.Player.EventName.TextChanged);this.delayDispatchEvent_(e)},shaka.Player.prototype.onTextTrackVisibility_=function(){var e=this.makeEvent_(shaka.Player.EventName.TextTrackVisibility);this.delayDispatchEvent_(e)},shaka.Player.prototype.onAbrStatusChanged_=function(){var e=this.makeEvent_(shaka.Player.EventName.AbrStatusChanged,{newStatus:this.config_.abr.enabled});this.delayDispatchEvent_(e)},shaka.Player.prototype.onError_=function(e){if(goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!"),this.loadMode_!=shaka.Player.LoadMode.DESTROYED){var t=this.makeEvent_(shaka.Player.EventName.Error,{detail:e});this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)}},shaka.Player.prototype.onRegionEvent_=function(e,t){this.dispatchEvent(this.makeEvent_(e,{detail:{schemeIdUri:t.schemeIdUri,value:t.value,startTime:t.startTime,endTime:t.endTime,id:t.id,eventElement:t.eventElement}}))},shaka.Player.prototype.videoErrorToShakaError_=function(){if(goog.asserts.assert(this.video_.error,"Video error expected, but missing!"),!this.video_.error)return null;var e=this.video_.error.code;if(1==e)return null;var t=this.video_.error.msExtendedCode;return t&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.VIDEO_ERROR,e,t,this.video_.error.message)},shaka.Player.prototype.onVideoError_=function(e){(e=this.videoErrorToShakaError_())&&this.onError_(e)},shaka.Player.prototype.onKeyStatus_=function(e){if(this.streamingEngine_){var t=Object.keys(e);0==t.length&&shaka.log.warning("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var r=1==t.length&&"00"==t[0];r&&shaka.log.warning("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var n=shaka.Player.restrictedStatuses_,i=!1;if(t.length)for(var a=(t=$jscomp.makeIterator(this.manifest_.variants)).next();!a.done;a=t.next()){a=a.value;for(var o=shaka.util.StreamUtils.getVariantStreams(a),s=(o=$jscomp.makeIterator(o)).next();!s.done;s=o.next()){var l=s.value;if(s=a.allowedByKeySystem,l.keyIds.size){a.allowedByKeySystem=!0;for(var u=(l=$jscomp.makeIterator(l.keyIds)).next();!u.done;u=l.next())u=u.value,u=e[r?"00":u],a.allowedByKeySystem=a.allowedByKeySystem&&!!u&&!n.includes(u)}s!=a.allowedByKeySystem&&(i=!0)}}i&&this.updateAbrManagerVariants_(),(e=this.streamingEngine_.getCurrentVariant())&&!e.allowedByKeySystem&&(shaka.log.debug("Choosing new streams after key status changed"),this.chooseVariantAndSwitch_()),i&&this.onTracksChanged_()}},shaka.Player.prototype.onExpirationUpdated_=function(e,t){this.parser_&&this.parser_.onExpirationUpdated&&this.parser_.onExpirationUpdated(e,t);var r=this.makeEvent_(shaka.Player.EventName.ExpirationUpdated);this.dispatchEvent(r)},shaka.Player.prototype.shouldStreamText_=function(){return this.config_.streaming.alwaysStreamText||this.isTextTrackVisible()},shaka.Player.applyPlayRange_=function(e,t,r){0<t&&(e.isLive()?shaka.log.warning("|playRangeStart| has been configured for live content. Ignoring the setting."):e.setUserSeekStart(t)),r<(t=e.getDuration())&&(e.isLive()?shaka.log.warning("|playRangeEnd| has been configured for live content. Ignoring the setting."):e.setDuration(r))},shaka.Player.prototype.checkRestrictedVariants_=function(e){var t=shaka.Player.restrictedStatuses_,r=this.drmEngine_?this.drmEngine_.getKeyStatuses():{},n=Object.keys(r);n=n.length&&"00"==n[0];for(var i=!1,a=!1,o=new Set,s=new Set,l=(e=$jscomp.makeIterator(e.variants)).next();!l.done;l=e.next()){var u=[];(l=l.value).audio&&u.push(l.audio),l.video&&u.push(l.video);for(var c=(u=$jscomp.makeIterator(u)).next();!c.done;c=u.next())if((c=c.value).keyIds.size)for(var d=(c=$jscomp.makeIterator(c.keyIds)).next();!d.done;d=c.next()){d=d.value;var f=r[n?"00":d];f?t.includes(f)&&s.add(f):o.add(d)}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw t={hasAppRestrictions:a,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)},new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.RESTRICTIONS_CANNOT_BE_MET,t)},shaka.Player.prototype.checkPlayableVariants_=function(e){if(!e.variants.some(shaka.util.StreamUtils.isPlayable))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.CONTENT_UNSUPPORTED_BY_BROWSER)},shaka.Player.prototype.delayDispatchEvent_=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.yield(Promise.resolve(),2);t.loadMode_!=shaka.Player.LoadMode.DESTROYED&&t.dispatchEvent(e),r.jumpToEnd()}))},shaka.Player.getLanguagesFrom_=function(e){for(var t=new Set,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())(r=r.value).language?t.add(shaka.util.LanguageUtils.normalize(r.language)):t.add("und");return t},shaka.Player.getLanguageAndRolesFrom_=function(e){for(var t=new Map,r=new Map,n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next()){var i="und",a=[];(n=n.value).language&&(i=shaka.util.LanguageUtils.normalize(n.language)),(a="variant"==n.type?n.audioRoles:n.roles)&&a.length||(a=[""]),t.has(i)||t.set(i,new Set);for(var o=(a=$jscomp.makeIterator(a)).next();!o.done;o=a.next())o=o.value,t.get(i).add(o),n.label&&(r.has(i)||r.set(i,new Map),r.get(i).set(o,n.label))}var s=[];return t.forEach((function(e,t){for(var n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next()){i=i.value;var a=null;r.has(t)&&r.get(t).has(i)&&(a=r.get(t).get(i)),s.push({language:t,role:i,label:a})}})),s},shaka.Player.prototype.isBufferedToEndMS_=function(){if(goog.asserts.assert(this.video_,"We need a video element to get buffering information"),goog.asserts.assert(this.mediaSourceEngine_,"We need a media source engine to get buffering information"),goog.asserts.assert(this.manifest_,"We need a manifest to get buffering information"),this.video_.ended||this.mediaSourceEngine_.ended())return!0;if(this.manifest_.presentationTimeline.isLive()){var e=this.manifest_.presentationTimeline.getSegmentAvailabilityEnd(),t=shaka.media.TimeRangesUtils.bufferEnd(this.video_.buffered);if(null!=t&&t>=e)return!0}return!1},shaka.Player.prototype.isBufferedToEndSrc_=function(){if(goog.asserts.assert(this.video_,"We need a video element to get buffering information"),this.video_.ended)return!0;var e=shaka.media.TimeRangesUtils.bufferEnd(this.video_.buffered);return null!=e&&e>=this.video_.duration-1},shaka.Player.prototype.createAbortLoadError_=function(){return new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.LOAD_INTERRUPTED)},shaka.Player.prototype.getNextStep_=function(e,t,r,n){var i=null;return e==this.detachNode_&&(i=r==this.detachNode_?this.detachNode_:this.attachNode_),e==this.attachNode_&&(i=this.getNextAfterAttach_(r,t,n)),e==this.mediaSourceNode_&&(i=this.getNextAfterMediaSource_(r,t,n)),e==this.parserNode_&&(i=this.getNextMatchingAllDependencies_(this.loadNode_,this.manifestNode_,this.unloadNode_,r,t,n)),e==this.manifestNode_&&(i=this.getNextMatchingAllDependencies_(this.loadNode_,this.drmNode_,this.unloadNode_,r,t,n)),e==this.drmNode_&&(i=this.getNextMatchingAllDependencies_(this.loadNode_,this.loadNode_,this.unloadNode_,r,t,n)),e==this.srcEqualsDrmNode_&&(i=r==this.srcEqualsNode_&&t.mediaElement==n.mediaElement?this.srcEqualsNode_:this.unloadNode_),e!=this.loadNode_&&e!=this.srcEqualsNode_||(i=this.unloadNode_),e==this.unloadNode_&&(i=this.getNextAfterUnload_(r,t,n)),goog.asserts.assert(i,"Missing next step!"),i},shaka.Player.prototype.getNextAfterAttach_=function(e,t,r){return e==this.detachNode_||t.mediaElement!=r.mediaElement?this.detachNode_:e==this.attachNode_?this.attachNode_:e==this.mediaSourceNode_||e==this.loadNode_?this.mediaSourceNode_:e==this.srcEqualsNode_?this.srcEqualsDrmNode_:null},shaka.Player.prototype.getNextAfterMediaSource_=function(e,t,r){return e==this.loadNode_&&t.mediaElement==r.mediaElement?this.parserNode_:this.unloadNode_},shaka.Player.prototype.getNextAfterUnload_=function(e,t,r){return r.mediaElement&&t.mediaElement==r.mediaElement?this.attachNode_:this.detachNode_},shaka.Player.prototype.getNextMatchingAllDependencies_=function(e,t,r,n,i,a){return n==e&&i.mediaElement==a.mediaElement&&i.uri==a.uri&&i.mimeType==a.mimeType?t:r},shaka.Player.createEmptyPayload_=function(){return{mediaElement:null,mimeType:null,startTime:null,startTimeOfLoad:NaN,uri:null}},shaka.Player.prototype.wrapWalkerListenersWithPromise_=function(e){var t=this;return new Promise((function(r,n){e.onCancel=function(){return n(t.createAbortLoadError_())},e.onEnd=function(){return r()},e.onError=function(e){return n(e)},e.onSkip=function(){return n(t.createAbortLoadError_())}}))},goog.exportSymbol("shaka.Player",shaka.Player),goog.exportProperty(shaka.Player.prototype,"setVideoContainer",shaka.Player.prototype.setVideoContainer),goog.exportProperty(shaka.Player.prototype,"getManifestParserFactory",shaka.Player.prototype.getManifestParserFactory),goog.exportProperty(shaka.Player.prototype,"getManifest",shaka.Player.prototype.getManifest),goog.exportProperty(shaka.Player.prototype,"retryStreaming",shaka.Player.prototype.retryStreaming),goog.exportProperty(shaka.Player.prototype,"setMaxHardwareResolution",shaka.Player.prototype.setMaxHardwareResolution),goog.exportProperty(shaka.Player.prototype,"addTextTrackAsync",shaka.Player.prototype.addTextTrackAsync),goog.exportProperty(shaka.Player.prototype,"addTextTrack",shaka.Player.prototype.addTextTrack),goog.exportProperty(shaka.Player.prototype,"getStats",shaka.Player.prototype.getStats),goog.exportProperty(shaka.Player.prototype,"getBufferedInfo",shaka.Player.prototype.getBufferedInfo),goog.exportProperty(shaka.Player.prototype,"getPresentationStartTimeAsDate",shaka.Player.prototype.getPresentationStartTimeAsDate),goog.exportProperty(shaka.Player.prototype,"getPlayheadTimeAsDate",shaka.Player.prototype.getPlayheadTimeAsDate),goog.exportProperty(shaka.Player.prototype,"setTextTrackVisibility",shaka.Player.prototype.setTextTrackVisibility),goog.exportProperty(shaka.Player.prototype,"isTextTrackVisible",shaka.Player.prototype.isTextTrackVisible),goog.exportProperty(shaka.Player.prototype,"selectVariantsByLabel",shaka.Player.prototype.selectVariantsByLabel),goog.exportProperty(shaka.Player.prototype,"selectTextLanguage",shaka.Player.prototype.selectTextLanguage),goog.exportProperty(shaka.Player.prototype,"selectAudioLanguage",shaka.Player.prototype.selectAudioLanguage),goog.exportProperty(shaka.Player.prototype,"getTextLanguages",shaka.Player.prototype.getTextLanguages),goog.exportProperty(shaka.Player.prototype,"getAudioLanguages",shaka.Player.prototype.getAudioLanguages),goog.exportProperty(shaka.Player.prototype,"getTextLanguagesAndRoles",shaka.Player.prototype.getTextLanguagesAndRoles),goog.exportProperty(shaka.Player.prototype,"getAudioLanguagesAndRoles",shaka.Player.prototype.getAudioLanguagesAndRoles),goog.exportProperty(shaka.Player.prototype,"selectVariantTrack",shaka.Player.prototype.selectVariantTrack),goog.exportProperty(shaka.Player.prototype,"selectTextTrack",shaka.Player.prototype.selectTextTrack),goog.exportProperty(shaka.Player.prototype,"getThumbnails",shaka.Player.prototype.getThumbnails),goog.exportProperty(shaka.Player.prototype,"getImageTracks",shaka.Player.prototype.getImageTracks),goog.exportProperty(shaka.Player.prototype,"getTextTracks",shaka.Player.prototype.getTextTracks),goog.exportProperty(shaka.Player.prototype,"getVariantTracks",shaka.Player.prototype.getVariantTracks),goog.exportProperty(shaka.Player.prototype,"cancelTrickPlay",shaka.Player.prototype.cancelTrickPlay),goog.exportProperty(shaka.Player.prototype,"trickPlay",shaka.Player.prototype.trickPlay),goog.exportProperty(shaka.Player.prototype,"getPlaybackRate",shaka.Player.prototype.getPlaybackRate),goog.exportProperty(shaka.Player.prototype,"isBuffering",shaka.Player.prototype.isBuffering),goog.exportProperty(shaka.Player.prototype,"getKeyStatuses",shaka.Player.prototype.getKeyStatuses),goog.exportProperty(shaka.Player.prototype,"getExpiration",shaka.Player.prototype.getExpiration),goog.exportProperty(shaka.Player.prototype,"drmInfo",shaka.Player.prototype.drmInfo),goog.exportProperty(shaka.Player.prototype,"keySystem",shaka.Player.prototype.keySystem),goog.exportProperty(shaka.Player.prototype,"seekRange",shaka.Player.prototype.seekRange),goog.exportProperty(shaka.Player.prototype,"isAudioOnly",shaka.Player.prototype.isAudioOnly),goog.exportProperty(shaka.Player.prototype,"isInProgress",shaka.Player.prototype.isInProgress),goog.exportProperty(shaka.Player.prototype,"isLive",shaka.Player.prototype.isLive),goog.exportProperty(shaka.Player.prototype,"getAdManager",shaka.Player.prototype.getAdManager),goog.exportProperty(shaka.Player.prototype,"getAssetUri",shaka.Player.prototype.getAssetUri),goog.exportProperty(shaka.Player.prototype,"getNetworkingEngine",shaka.Player.prototype.getNetworkingEngine),goog.exportProperty(shaka.Player.prototype,"getMediaElement",shaka.Player.prototype.getMediaElement),goog.exportProperty(shaka.Player.prototype,"getLoadMode",shaka.Player.prototype.getLoadMode),goog.exportProperty(shaka.Player.prototype,"resetConfiguration",shaka.Player.prototype.resetConfiguration),goog.exportProperty(shaka.Player.prototype,"getConfiguration",shaka.Player.prototype.getConfiguration),goog.exportProperty(shaka.Player.prototype,"configure",shaka.Player.prototype.configure),goog.exportProperty(shaka.Player.prototype,"load",shaka.Player.prototype.load),goog.exportProperty(shaka.Player.prototype,"unload",shaka.Player.prototype.unload),goog.exportProperty(shaka.Player.prototype,"detach",shaka.Player.prototype.detach),goog.exportProperty(shaka.Player.prototype,"attach",shaka.Player.prototype.attach),goog.exportProperty(shaka.Player,"probeSupport",shaka.Player.probeSupport),goog.exportProperty(shaka.Player,"isBrowserSupported",shaka.Player.isBrowserSupported),goog.exportProperty(shaka.Player,"setAdManagerFactory",shaka.Player.setAdManagerFactory),goog.exportProperty(shaka.Player,"registerSupportPlugin",shaka.Player.registerSupportPlugin),goog.exportProperty(shaka.Player.prototype,"destroy",shaka.Player.prototype.destroy),shaka.Player.EventName={AbrStatusChanged:"abrstatuschanged",Adaptation:"adaptation",Buffering:"buffering",DrmSessionUpdate:"drmsessionupdate",Emsg:"emsg",Error:"error",ExpirationUpdated:"expirationupdated",LargeGap:"largegap",Loaded:"loaded",Loading:"loading",ManifestParsed:"manifestparsed",Metadata:"metadata",OnStateChange:"onstatechange",OnStateIdle:"onstateidle",RateChange:"ratechange",SessionDataEvent:"sessiondata",Streaming:"streaming",TextChanged:"textchanged",TextTrackVisibility:"texttrackvisibility",TimelineRegionAdded:"timelineregionadded",TimelineRegionEnter:"timelineregionenter",TimelineRegionExit:"timelineregionexit",TracksChanged:"trackschanged",Unloading:"unloading",VariantChanged:"variantchanged"},shaka.Player.LoadMode={DESTROYED:0,NOT_LOADED:1,MEDIA_SOURCE:2,SRC_EQUALS:3},goog.exportProperty(shaka.Player,"LoadMode",shaka.Player.LoadMode),shaka.Player.TYPICAL_BUFFERING_THRESHOLD_=.5,shaka.Player.version="v3.1.1-debug",goog.exportProperty(shaka.Player,"version",shaka.Player.version),shaka.Deprecate.init(shaka.Player.version),shaka.Player.restrictedStatuses_=["output-restricted","internal-error"],shaka.Player.supportPlugins_={},shaka.Player.adManagerFactory_=null,shaka.Player.TextTrackLabel="Shaka Player TextTrack",shaka.ads={},shaka.ads.AdsStats=function(){this.loadTimes_=[],this.skipped_=this.playedCompletely_=this.started_=0},shaka.ads.AdsStats.prototype.addLoadTime=function(e){this.loadTimes_.push(e)},shaka.ads.AdsStats.prototype.incrementStarted=function(){this.started_++},shaka.ads.AdsStats.prototype.incrementPlayedCompletely=function(){this.playedCompletely_++},shaka.ads.AdsStats.prototype.incrementSkipped=function(){this.skipped_++},shaka.ads.AdsStats.prototype.getBlob=function(){return{loadTimes:this.loadTimes_,started:this.started_,playedCompletely:this.playedCompletely_,skipped:this.skipped_}},shaka.ads.ClientSideAd=function(e,t){var r=this;this.ad_=e,this.manager_=t,this.isPaused_=!1,this.volume_=this.manager_.getVolume(),this.eventManager_=new shaka.util.EventManager,this.eventManager_.listen(this.manager_,google.ima.AdEvent.Type.PAUSED,(function(){r.isPaused_=!0})),this.eventManager_.listen(this.manager_,google.ima.AdEvent.Type.RESUMED,(function(){r.isPaused_=!1}))},shaka.ads.ClientSideAd.prototype.getDuration=function(){return this.ad_.getDuration()},shaka.ads.ClientSideAd.prototype.getMinSuggestedDuration=function(){return this.ad_.getMinSuggestedDuration()},shaka.ads.ClientSideAd.prototype.getRemainingTime=function(){return this.manager_.getRemainingTime()},shaka.ads.ClientSideAd.prototype.isPaused=function(){return this.isPaused_},shaka.ads.ClientSideAd.prototype.isSkippable=function(){return 0<=this.ad_.getSkipTimeOffset()},shaka.ads.ClientSideAd.prototype.getTimeUntilSkippable=function(){var e=this.ad_.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},shaka.ads.ClientSideAd.prototype.canSkipNow=function(){return this.manager_.getAdSkippableState()},shaka.ads.ClientSideAd.prototype.skip=function(){return this.manager_.skip()},shaka.ads.ClientSideAd.prototype.setPaused=function(e){this.isPaused_=e},shaka.ads.ClientSideAd.prototype.pause=function(){return this.manager_.pause()},shaka.ads.ClientSideAd.prototype.play=function(){return this.manager_.resume()},shaka.ads.ClientSideAd.prototype.getVolume=function(){return this.manager_.getVolume()},shaka.ads.ClientSideAd.prototype.setVolume=function(e){return this.manager_.setVolume(e)},shaka.ads.ClientSideAd.prototype.isMuted=function(){return 0==this.manager_.getVolume()},shaka.ads.ClientSideAd.prototype.resize=function(e,t){this.manager_.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},shaka.ads.ClientSideAd.prototype.setMuted=function(e){e?(this.volume_=this.getVolume(),this.setVolume(0)):this.setVolume(this.volume_)},shaka.ads.ClientSideAd.prototype.getSequenceLength=function(){var e=this.ad_.getAdPodInfo();return null==e?1:e.getTotalAds()},shaka.ads.ClientSideAd.prototype.getPositionInSequence=function(){var e=this.ad_.getAdPodInfo();return null==e?1:e.getAdPosition()},shaka.ads.ClientSideAd.prototype.release=function(){this.manager_=this.ad_=null},goog.exportSymbol("shaka.ads.ClientSideAd",shaka.ads.ClientSideAd),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"release",shaka.ads.ClientSideAd.prototype.release),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getPositionInSequence",shaka.ads.ClientSideAd.prototype.getPositionInSequence),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getSequenceLength",shaka.ads.ClientSideAd.prototype.getSequenceLength),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"setMuted",shaka.ads.ClientSideAd.prototype.setMuted),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"resize",shaka.ads.ClientSideAd.prototype.resize),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isMuted",shaka.ads.ClientSideAd.prototype.isMuted),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"setVolume",shaka.ads.ClientSideAd.prototype.setVolume),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getVolume",shaka.ads.ClientSideAd.prototype.getVolume),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"play",shaka.ads.ClientSideAd.prototype.play),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"pause",shaka.ads.ClientSideAd.prototype.pause),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"skip",shaka.ads.ClientSideAd.prototype.skip),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"canSkipNow",shaka.ads.ClientSideAd.prototype.canSkipNow),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getTimeUntilSkippable",shaka.ads.ClientSideAd.prototype.getTimeUntilSkippable),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isSkippable",shaka.ads.ClientSideAd.prototype.isSkippable),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"isPaused",shaka.ads.ClientSideAd.prototype.isPaused),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getRemainingTime",shaka.ads.ClientSideAd.prototype.getRemainingTime),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getMinSuggestedDuration",shaka.ads.ClientSideAd.prototype.getMinSuggestedDuration),goog.exportProperty(shaka.ads.ClientSideAd.prototype,"getDuration",shaka.ads.ClientSideAd.prototype.getDuration),shaka.ads.ClientSideAdManager=function(e,t,r,n){var i=this;this.adContainer_=e,this.video_=t,this.requestAdsStartTime_=NaN,this.onEvent_=n,this.ad_=null,this.eventManager_=new shaka.util.EventManager,google.ima.settings.setLocale(r),(e=new google.ima.AdDisplayContainer(this.adContainer_,this.video_)).initialize(),this.adsLoader_=new google.ima.AdsLoader(e),this.adsLoader_.getSettings().setPlayerType("shaka-player"),this.adsLoader_.getSettings().setPlayerVersion(shaka.Player.version),this.imaAdsManager_=null,this.eventManager_.listenOnce(this.adsLoader_,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){i.onAdsManagerLoaded_(e)})),this.eventManager_.listen(this.adsLoader_,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){i.onAdError_(e)})),this.video_.onended=function(){i.adsLoader_.contentComplete()}},shaka.ads.ClientSideAdManager.prototype.requestAds=function(e){goog.asserts.assert(e.adTagUrl||e.adsResponse,"The ad tag needs to be set up before requesting ads, or adsResponse must be filled."),this.requestAdsStartTime_=Date.now()/1e3,this.adsLoader_.requestAds(e)},shaka.ads.ClientSideAdManager.prototype.stop=function(){this.imaAdsManager_&&this.imaAdsManager_.stop(),this.adContainer_&&shaka.util.Dom.removeAllChildren(this.adContainer_)},shaka.ads.ClientSideAdManager.prototype.onAdError_=function(e){shaka.log.warning("There was an ad error from the IMA SDK: "+e.getError()),shaka.log.warning("Resuming playback."),this.onAdComplete_(null),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,{cuepoints:[]}))},shaka.ads.ClientSideAdManager.prototype.onAdsManagerLoaded_=function(e){var t=this;goog.asserts.assert(null!=this.video_,"Video should not be null!");var r=Date.now()/1e3-this.requestAdsStartTime_;if(this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.ADS_LOADED,{loadTime:r})),this.imaAdsManager_=e.getAdsManager(this.video_),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.IMA_AD_MANAGER_LOADED,{imaAdManager:this.imaAdsManager_})),(r=this.imaAdsManager_.getCuePoints()).length){e=[];for(var n=(r=$jscomp.makeIterator(r)).next();!n.done;n=r.next())n=new shaka.ads.CuePoint(n.value),e.push(n);this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,{cuepoints:e}))}this.addImaEventListeners_();try{this.imaAdsManager_.init(this.video_.offsetWidth,this.video_.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),this.eventManager_.listen(this.video_,"loadeddata",(function(){t.imaAdsManager_.resize(t.video_.offsetWidth,t.video_.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),this.imaAdsManager_.start()}catch(i){this.onAdComplete_(null)}},shaka.ads.ClientSideAdManager.prototype.addImaEventListeners_=function(){var e=this;this.eventManager_.listen(this.imaAdsManager_,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){e.onAdError_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){e.onAdStart_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.STARTED,(function(t){e.onAdStart_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_FIRST_QUARTILE,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.MIDPOINT,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_MIDPOINT,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_THIRD_QUARTILE,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.COMPLETE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_COMPLETE,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){e.onAdComplete_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.onAdComplete_(t)})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.SKIPPED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_SKIPPED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_VOLUME_CHANGED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_MUTED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.PAUSED,(function(t){goog.asserts.assert(null!=e.ad_,"Ad should not be null!"),e.ad_.setPaused(!0),e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_PAUSED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.RESUMED,(function(t){goog.asserts.assert(null!=e.ad_,"Ad should not be null!"),e.ad_.setPaused(!1),e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_RESUMED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){goog.asserts.assert(null!=e.ad_,"Ad should not be null!"),e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_SKIP_STATE_CHANGED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.CLICK,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_CLICKED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_PROGRESS,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_BUFFERING,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.IMPRESSION,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_IMPRESSION,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_DURATION_CHANGED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_CLOSED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LOADED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_LOADED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.ALL_ADS_COMPLETED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_LINEAR_CHANGED,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_METADATA,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_METADATA,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.LOG,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_RECOVERABLE_ERROR,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_BREAK_READY,{originalEvent:t}))})),this.eventManager_.listen(this.imaAdsManager_,google.ima.AdEvent.Type.INTERACTION,(function(t){e.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_INTERACTION,{originalEvent:t}))}))},shaka.ads.ClientSideAdManager.prototype.onAdStart_=function(e){goog.asserts.assert(this.imaAdsManager_,"Should have an ads manager at this point!");var t=e.getAd();this.ad_=new shaka.ads.ClientSideAd(t,this.imaAdsManager_),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STARTED,{ad:this.ad_,sdkAdObject:t,originalEvent:e})),this.adContainer_.setAttribute("ad-active","true"),this.video_.pause()},shaka.ads.ClientSideAdManager.prototype.onAdComplete_=function(e){this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED,{originalEvent:e})),this.adContainer_.removeAttribute("ad-active"),this.video_.play()},shaka.ads.ServerSideAd=function(e,t){this.ad_=e,this.adProgressData_=null,this.video_=t},shaka.ads.ServerSideAd.prototype.setProgressData=function(e){this.adProgressData_=e},shaka.ads.ServerSideAd.prototype.getDuration=function(){return this.adProgressData_?this.adProgressData_.duration:-1},shaka.ads.ServerSideAd.prototype.getMinSuggestedDuration=function(){return this.getDuration()},shaka.ads.ServerSideAd.prototype.getRemainingTime=function(){return this.adProgressData_?this.adProgressData_.duration-this.adProgressData_.currentTime:-1},shaka.ads.ServerSideAd.prototype.isPaused=function(){return this.video_.paused},shaka.ads.ServerSideAd.prototype.isSkippable=function(){return this.ad_.isSkippable()},shaka.ads.ServerSideAd.prototype.getTimeUntilSkippable=function(){var e=this.ad_.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},shaka.ads.ServerSideAd.prototype.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},shaka.ads.ServerSideAd.prototype.skip=function(){this.video_.currentTime+=this.getRemainingTime()},shaka.ads.ServerSideAd.prototype.pause=function(){return this.video_.pause()},shaka.ads.ServerSideAd.prototype.play=function(){return this.video_.play()},shaka.ads.ServerSideAd.prototype.getVolume=function(){return this.video_.volume},shaka.ads.ServerSideAd.prototype.setVolume=function(e){this.video_.volume=e},shaka.ads.ServerSideAd.prototype.isMuted=function(){return this.video_.muted},shaka.ads.ServerSideAd.prototype.resize=function(e,t){},shaka.ads.ServerSideAd.prototype.setMuted=function(e){this.video_.muted=e},shaka.ads.ServerSideAd.prototype.getSequenceLength=function(){var e=this.ad_.getAdPodInfo();return null==e?1:e.getTotalAds()},shaka.ads.ServerSideAd.prototype.getPositionInSequence=function(){var e=this.ad_.getAdPodInfo();return null==e?1:e.getAdPosition()},shaka.ads.ServerSideAd.prototype.release=function(){this.video_=this.adProgressData_=this.ad_=null},goog.exportSymbol("shaka.ads.ServerSideAd",shaka.ads.ServerSideAd),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"release",shaka.ads.ServerSideAd.prototype.release),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getPositionInSequence",shaka.ads.ServerSideAd.prototype.getPositionInSequence),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getSequenceLength",shaka.ads.ServerSideAd.prototype.getSequenceLength),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"setMuted",shaka.ads.ServerSideAd.prototype.setMuted),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"resize",shaka.ads.ServerSideAd.prototype.resize),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isMuted",shaka.ads.ServerSideAd.prototype.isMuted),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"setVolume",shaka.ads.ServerSideAd.prototype.setVolume),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getVolume",shaka.ads.ServerSideAd.prototype.getVolume),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"play",shaka.ads.ServerSideAd.prototype.play),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"pause",shaka.ads.ServerSideAd.prototype.pause),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"skip",shaka.ads.ServerSideAd.prototype.skip),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"canSkipNow",shaka.ads.ServerSideAd.prototype.canSkipNow),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getTimeUntilSkippable",shaka.ads.ServerSideAd.prototype.getTimeUntilSkippable),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isSkippable",shaka.ads.ServerSideAd.prototype.isSkippable),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"isPaused",shaka.ads.ServerSideAd.prototype.isPaused),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getRemainingTime",shaka.ads.ServerSideAd.prototype.getRemainingTime),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getMinSuggestedDuration",shaka.ads.ServerSideAd.prototype.getMinSuggestedDuration),goog.exportProperty(shaka.ads.ServerSideAd.prototype,"getDuration",shaka.ads.ServerSideAd.prototype.getDuration),shaka.ads.ServerSideAdManager=function(e,t,r,n){var i=this;this.adContainer_=e,this.video_=t,this.streamPromise_=null,this.streamRequestStartTime_=NaN,this.onEvent_=n,this.isLiveContent_=!1,this.adProgressData_=this.ad_=this.snapForwardTime_=null,this.backupUrl_="",this.eventManager_=new shaka.util.EventManager,(e=new google.ima.dai.api.UiSettings).setLocale(r),this.streamManager_=new google.ima.dai.api.StreamManager(this.video_,this.adContainer_,e),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.IMA_STREAM_MANAGER_LOADED,{imaStreamManager:this.streamManager_})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){shaka.log.info("Ad SS Loaded"),i.onLoaded_(e)})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){shaka.log.info("Ad SS Error"),i.onError_()})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){shaka.log.info("Ad Break Started")})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){shaka.log.info("Ad Started"),i.onAdStart_(e)})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){shaka.log.info("Ad Break Ended"),i.onAdBreakEnded_()})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.onAdProgress_(e)})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){shaka.log.info("Ad event: First Quartile"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_FIRST_QUARTILE))})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){shaka.log.info("Ad event: Midpoint"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_MIDPOINT))})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){shaka.log.info("Ad event: Third Quartile"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_THIRD_QUARTILE))})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){shaka.log.info("Ad event: Complete"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_COMPLETE)),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED)),i.adContainer_.removeAttribute("ad-active"),i.ad_=null})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){shaka.log.info("Ad event: Skipped"),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_SKIPPED)),i.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED))})),this.eventManager_.listen(this.streamManager_,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){shaka.log.info("Ad event: Cue points changed"),i.onCuePointsChanged_(e)}))},shaka.ads.ServerSideAdManager.prototype.streamRequest=function(e,t){return this.streamPromise_?Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CURRENT_DAI_REQUEST_NOT_FINISHED)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(this.isLiveContent_=!0),this.streamPromise_=new shaka.util.PublicPromise,this.streamManager_.requestStream(e),this.backupUrl_=t||"",this.streamRequestStartTime_=Date.now()/1e3,this.streamPromise_)},shaka.ads.ServerSideAdManager.prototype.replaceAdTagParameters=function(e){this.streamManager_.replaceAdTagParameters(e)},shaka.ads.ServerSideAdManager.prototype.stop=function(){this.streamManager_.reset(),this.backupUrl_="",this.snapForwardTime_=null},shaka.ads.ServerSideAdManager.prototype.onTimedMetadata=function(e,t,r){this.streamManager_.processMetadata(e,t,r)},shaka.ads.ServerSideAdManager.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.streamManager_.onTimedMetadata(t)}},shaka.ads.ServerSideAdManager.prototype.checkForSnapback_=function(){var e=this.video_.currentTime;if(0!=e){this.streamManager_.streamTimeForContentTime(e);var t=this.streamManager_.previousCuePointForStreamTime(e);t&&!t.played&&(shaka.log.info("Seeking back to the start of the ad break at "+t.start+" and will return to "+e),this.snapForwardTime_=e,this.video_.currentTime=t.start)}},shaka.ads.ServerSideAdManager.prototype.onAdStart_=function(e){goog.asserts.assert(this.streamManager_,"Should have a stream manager at this point!"),e=e.getAd(),this.ad_=new shaka.ads.ServerSideAd(e,this.video_),this.adProgressData_&&this.ad_.setProgressData(this.adProgressData_),this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STARTED,{ad:this.ad_})),this.adContainer_.setAttribute("ad-active","true")},shaka.ads.ServerSideAdManager.prototype.onAdBreakEnded_=function(){this.adContainer_.removeAttribute("ad-active");var e=this.video_.currentTime;this.snapForwardTime_&&this.snapForwardTime_>e&&(this.video_.currentTime=this.snapForwardTime_,this.snapForwardTime_=null)},shaka.ads.ServerSideAdManager.prototype.onLoaded_=function(e){var t=this,r=Date.now()/1e3-this.streamRequestStartTime_;this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.ADS_LOADED,{loadTime:r})),e=e.getStreamData().url,this.streamPromise_.resolve(e),this.streamPromise_=null,this.isLiveContent_||this.eventManager_.listen(this.video_,"seeked",(function(){t.checkForSnapback_()}))},shaka.ads.ServerSideAdManager.prototype.onError_=function(){this.backupUrl_.length?(shaka.log.warning("IMA stream request returned an error. Falling back to the backup asset uri."),this.streamPromise_.resolve(this.backupUrl_)):this.streamPromise_.reject("IMA Stream request returned an error and there was no backup asset uri provided."),this.streamPromise_=null},shaka.ads.ServerSideAdManager.prototype.onAdProgress_=function(e){this.adProgressData_=e.getStreamData().adProgressData,this.ad_&&this.ad_.setProgressData(this.adProgressData_)},shaka.ads.ServerSideAdManager.prototype.onCuePointsChanged_=function(e){var t=e.getStreamData();e=[];for(var r=(t=$jscomp.makeIterator(t.cuepoints)).next();!r.done;r=t.next())r=r.value,r=new shaka.ads.CuePoint(r.start,r.end),e.push(r);this.onEvent_(new shaka.util.FakeEvent(shaka.ads.AdManager.CUEPOINTS_CHANGED,{cuepoints:e}))},shaka.ads.AdManager=function(){shaka.util.FakeEventTarget.call(this),this.ssAdManager_=this.csAdManager_=null,this.stats_=new shaka.ads.AdsStats,this.locale_=navigator.language},$jscomp.inherits(shaka.ads.AdManager,shaka.util.FakeEventTarget),shaka.ads.AdManager.prototype.setLocale=function(e){this.locale_=e},shaka.ads.AdManager.prototype.initClientSide=function(e,t){var r=this;if(!window.google||!google.ima||!google.ima.AdsLoader)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CS_IMA_SDK_MISSING);this.csAdManager_=new shaka.ads.ClientSideAdManager(e,t,this.locale_,(function(e){if(e&&e.type)switch(e.type){case shaka.ads.AdManager.ADS_LOADED:r.stats_.addLoadTime(e.loadTime);break;case shaka.ads.AdManager.AD_STARTED:r.stats_.incrementStarted();break;case shaka.ads.AdManager.AD_COMPLETE:r.stats_.incrementPlayedCompletely();break;case shaka.ads.AdManager.AD_SKIPPED:r.stats_.incrementSkipped()}r.dispatchEvent(e)}))},shaka.ads.AdManager.prototype.onAssetUnload=function(){this.csAdManager_&&this.csAdManager_.stop(),this.dispatchEvent(new shaka.util.FakeEvent(shaka.ads.AdManager.AD_STOPPED)),this.stats_=new shaka.ads.AdsStats},shaka.ads.AdManager.prototype.requestClientSideAds=function(e){if(!this.csAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.CS_AD_MANAGER_NOT_INITIALIZED);this.csAdManager_.requestAds(e)},shaka.ads.AdManager.prototype.initServerSide=function(e,t){var r=this;if(!window.google||!google.ima||!google.ima.dai)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_IMA_SDK_MISSING);this.ssAdManager_=new shaka.ads.ServerSideAdManager(e,t,this.locale_,(function(e){if(e&&e.type)switch(e.type){case shaka.ads.AdManager.ADS_LOADED:r.stats_.addLoadTime(e.loadTime);break;case shaka.ads.AdManager.AD_STARTED:r.stats_.incrementStarted();break;case shaka.ads.AdManager.AD_COMPLETE:r.stats_.incrementPlayedCompletely();break;case shaka.ads.AdManager.AD_SKIPPED:r.stats_.incrementSkipped()}r.dispatchEvent(e)}))},shaka.ads.AdManager.prototype.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.ssAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_AD_MANAGER_NOT_INITIALIZED);e.adTagParameters||(e.adTagParameters={});var r=e.adTagParameters;return(r.mpt||r.mpv)&&shaka.log.alwaysWarn('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv=shaka.Player.version,this.ssAdManager_.streamRequest(e,t)},shaka.ads.AdManager.prototype.replaceServerSideAdTagParameters=function(e){if(!this.ssAdManager_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.ADS,shaka.util.Error.Code.SS_AD_MANAGER_NOT_INITIALIZED);(e.mpt||e.mpv)&&shaka.log.alwaysWarn('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv=shaka.Player.version,this.ssAdManager_.replaceAdTagParameters(e)},shaka.ads.AdManager.prototype.getStats=function(){return this.stats_.getBlob()},shaka.ads.AdManager.prototype.onDashTimedMetadata=function(e){if(this.ssAdManager_&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,r=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.ssAdManager_.onTimedMetadata(t,r,e.startTime)}},shaka.ads.AdManager.prototype.onHlsTimedMetadata=function(e,t){this.ssAdManager_?this.ssAdManager_.onTimedMetadata("ID3",e.data,t):shaka.log.warning("ID3 metadata processing was called without initializing server side ad logic. Ad-related metadata will not take effect")},shaka.ads.AdManager.prototype.onCueMetadataChange=function(e){this.ssAdManager_?this.ssAdManager_.onCueMetadataChange(e):shaka.log.warning("ID3 metadata processing was called without initializing server side ad logic. Ad-related metadata will not take effect")},goog.exportSymbol("shaka.ads.AdManager",shaka.ads.AdManager),goog.exportProperty(shaka.ads.AdManager.prototype,"onCueMetadataChange",shaka.ads.AdManager.prototype.onCueMetadataChange),goog.exportProperty(shaka.ads.AdManager.prototype,"onHlsTimedMetadata",shaka.ads.AdManager.prototype.onHlsTimedMetadata),goog.exportProperty(shaka.ads.AdManager.prototype,"onDashTimedMetadata",shaka.ads.AdManager.prototype.onDashTimedMetadata),goog.exportProperty(shaka.ads.AdManager.prototype,"getStats",shaka.ads.AdManager.prototype.getStats);goog.exportProperty(shaka.ads.AdManager.prototype,"replaceServerSideAdTagParameters",shaka.ads.AdManager.prototype.replaceServerSideAdTagParameters),goog.exportProperty(shaka.ads.AdManager.prototype,"requestServerSideStream",shaka.ads.AdManager.prototype.requestServerSideStream),goog.exportProperty(shaka.ads.AdManager.prototype,"initServerSide",shaka.ads.AdManager.prototype.initServerSide),goog.exportProperty(shaka.ads.AdManager.prototype,"requestClientSideAds",shaka.ads.AdManager.prototype.requestClientSideAds),goog.exportProperty(shaka.ads.AdManager.prototype,"onAssetUnload",shaka.ads.AdManager.prototype.onAssetUnload),goog.exportProperty(shaka.ads.AdManager.prototype,"initClientSide",shaka.ads.AdManager.prototype.initClientSide),goog.exportProperty(shaka.ads.AdManager.prototype,"setLocale",shaka.ads.AdManager.prototype.setLocale),shaka.ads.CuePoint=function(e,t){this.start=e,this.end=void 0===t?null:t},shaka.ads.AdManager.ADS_LOADED="ads-loaded",goog.exportProperty(shaka.ads.AdManager,"ADS_LOADED",shaka.ads.AdManager.ADS_LOADED),shaka.ads.AdManager.AD_STARTED="ad-started",goog.exportProperty(shaka.ads.AdManager,"AD_STARTED",shaka.ads.AdManager.AD_STARTED),shaka.ads.AdManager.AD_FIRST_QUARTILE="ad-first-quartile",goog.exportProperty(shaka.ads.AdManager,"AD_FIRST_QUARTILE",shaka.ads.AdManager.AD_FIRST_QUARTILE),shaka.ads.AdManager.AD_MIDPOINT="ad-midpoint",goog.exportProperty(shaka.ads.AdManager,"AD_MIDPOINT",shaka.ads.AdManager.AD_MIDPOINT),shaka.ads.AdManager.AD_THIRD_QUARTILE="ad-third-quartile",goog.exportProperty(shaka.ads.AdManager,"AD_THIRD_QUARTILE",shaka.ads.AdManager.AD_THIRD_QUARTILE),shaka.ads.AdManager.AD_COMPLETE="ad-complete",goog.exportProperty(shaka.ads.AdManager,"AD_COMPLETE",shaka.ads.AdManager.AD_COMPLETE),shaka.ads.AdManager.AD_STOPPED="ad-stopped",goog.exportProperty(shaka.ads.AdManager,"AD_STOPPED",shaka.ads.AdManager.AD_STOPPED),shaka.ads.AdManager.AD_SKIPPED="ad-skipped",goog.exportProperty(shaka.ads.AdManager,"AD_SKIPPED",shaka.ads.AdManager.AD_SKIPPED),shaka.ads.AdManager.AD_VOLUME_CHANGED="ad-volume-changed",goog.exportProperty(shaka.ads.AdManager,"AD_VOLUME_CHANGED",shaka.ads.AdManager.AD_VOLUME_CHANGED),shaka.ads.AdManager.AD_MUTED="ad-muted",goog.exportProperty(shaka.ads.AdManager,"AD_MUTED",shaka.ads.AdManager.AD_MUTED),shaka.ads.AdManager.AD_PAUSED="ad-paused",goog.exportProperty(shaka.ads.AdManager,"AD_PAUSED",shaka.ads.AdManager.AD_PAUSED),shaka.ads.AdManager.AD_RESUMED="ad-resumed",goog.exportProperty(shaka.ads.AdManager,"AD_RESUMED",shaka.ads.AdManager.AD_RESUMED),shaka.ads.AdManager.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",goog.exportProperty(shaka.ads.AdManager,"AD_SKIP_STATE_CHANGED",shaka.ads.AdManager.AD_SKIP_STATE_CHANGED),shaka.ads.AdManager.CUEPOINTS_CHANGED="ad-cue-points-changed",goog.exportProperty(shaka.ads.AdManager,"CUEPOINTS_CHANGED",shaka.ads.AdManager.CUEPOINTS_CHANGED),shaka.ads.AdManager.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",goog.exportProperty(shaka.ads.AdManager,"IMA_AD_MANAGER_LOADED",shaka.ads.AdManager.IMA_AD_MANAGER_LOADED),shaka.ads.AdManager.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",goog.exportProperty(shaka.ads.AdManager,"IMA_STREAM_MANAGER_LOADED",shaka.ads.AdManager.IMA_STREAM_MANAGER_LOADED),shaka.ads.AdManager.AD_CLICKED="ad-clicked",goog.exportProperty(shaka.ads.AdManager,"AD_CLICKED",shaka.ads.AdManager.AD_CLICKED),shaka.ads.AdManager.AD_PROGRESS="ad-progress",goog.exportProperty(shaka.ads.AdManager,"AD_PROGRESS",shaka.ads.AdManager.AD_PROGRESS),shaka.ads.AdManager.AD_BUFFERING="ad-buffering",goog.exportProperty(shaka.ads.AdManager,"AD_BUFFERING",shaka.ads.AdManager.AD_BUFFERING),shaka.ads.AdManager.AD_IMPRESSION="ad-impression",goog.exportProperty(shaka.ads.AdManager,"AD_IMPRESSION",shaka.ads.AdManager.AD_IMPRESSION),shaka.ads.AdManager.AD_DURATION_CHANGED="ad-duration-changed",goog.exportProperty(shaka.ads.AdManager,"AD_DURATION_CHANGED",shaka.ads.AdManager.AD_DURATION_CHANGED),shaka.ads.AdManager.AD_CLOSED="ad-closed",goog.exportProperty(shaka.ads.AdManager,"AD_CLOSED",shaka.ads.AdManager.AD_CLOSED),shaka.ads.AdManager.AD_LOADED="ad-loaded",goog.exportProperty(shaka.ads.AdManager,"AD_LOADED",shaka.ads.AdManager.AD_LOADED),shaka.ads.AdManager.ALL_ADS_COMPLETED="all-ads-completed",goog.exportProperty(shaka.ads.AdManager,"ALL_ADS_COMPLETED",shaka.ads.AdManager.ALL_ADS_COMPLETED),shaka.ads.AdManager.AD_LINEAR_CHANGED="ad-linear-changed",goog.exportProperty(shaka.ads.AdManager,"AD_LINEAR_CHANGED",shaka.ads.AdManager.AD_LINEAR_CHANGED),shaka.ads.AdManager.AD_METADATA="ad-metadata",goog.exportProperty(shaka.ads.AdManager,"AD_METADATA",shaka.ads.AdManager.AD_METADATA),shaka.ads.AdManager.AD_RECOVERABLE_ERROR="ad-recoverable-error",goog.exportProperty(shaka.ads.AdManager,"AD_RECOVERABLE_ERROR",shaka.ads.AdManager.AD_RECOVERABLE_ERROR),shaka.ads.AdManager.AD_BREAK_READY="ad-break-ready",goog.exportProperty(shaka.ads.AdManager,"AD_BREAK_READY",shaka.ads.AdManager.AD_BREAK_READY),shaka.ads.AdManager.AD_INTERACTION="ad-interaction",goog.exportProperty(shaka.ads.AdManager,"AD_INTERACTION",shaka.ads.AdManager.AD_INTERACTION),shaka.Player.setAdManagerFactory((function(){return new shaka.ads.AdManager})),shaka.cast={},shaka.cast.CastUtils=function(){},shaka.cast.CastUtils.serialize=function(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof shaka.util.FakeEvent){var r,n={};for(r in t){var i=t[r];i&&"object"==typeof i?"detail"==r&&(n[r]=i):r in Event||(n[r]=i)}return n}return t instanceof Error?shaka.cast.CastUtils.unpackError_(t):t instanceof TimeRanges?shaka.cast.CastUtils.unpackTimeRanges_(t):t instanceof Uint8Array?shaka.cast.CastUtils.unpackUint8Array_(t):"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t}}))},shaka.cast.CastUtils.deserialize=function(e){return JSON.parse(e,(function(e,t){return"NaN"==t?NaN:"-Infinity"==t?-1/0:"Infinity"==t?1/0:t&&"object"==typeof t&&"TimeRanges"==t.__type__?shaka.cast.CastUtils.simulateTimeRanges_(t):t&&"object"==typeof t&&"Uint8Array"==t.__type__?shaka.cast.CastUtils.makeUint8Array_(t):t&&"object"==typeof t&&"Error"==t.__type__?shaka.cast.CastUtils.makeError_(t):t}))},shaka.cast.CastUtils.unpackTimeRanges_=function(e){for(var t={__type__:"TimeRanges",length:e.length,start:[],end:[]},r=(e=$jscomp.makeIterator(shaka.media.TimeRangesUtils.getBufferedInfo(e))).next();!r.done;r=e.next()){var n=(r=r.value).end;t.start.push(r.start),t.end.push(n)}return t},shaka.cast.CastUtils.simulateTimeRanges_=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}},shaka.cast.CastUtils.unpackUint8Array_=function(e){return{__type__:"Uint8Array",entries:Array.from(e)}},shaka.cast.CastUtils.makeUint8Array_=function(e){return new Uint8Array(e.entries)},shaka.cast.CastUtils.unpackError_=function(e){var t,r=new Set(["name","message","stack"]);for(t in e)r.add(t);var n=$jscomp.makeIterator(Object.getOwnPropertyNames(e));for(t=n.next();!t.done;t=n.next())r.add(t.value);for(n={},t=(r=$jscomp.makeIterator(r)).next();!t.done;t=r.next())n[t=t.value]=e[t];return{__type__:"Error",contents:n}},shaka.cast.CastUtils.makeError_=function(e){e=e.contents;var t,r=Error(e.message);for(t in e)r[t]=e[t];return r},shaka.cast.CastUtils.VideoEvents="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),shaka.cast.CastUtils.VideoAttributes="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),shaka.cast.CastUtils.VideoInitStateAttributes=["loop","playbackRate"],shaka.cast.CastUtils.VideoVoidMethods=["pause","play"],shaka.cast.CastUtils.PlayerGetterMethods={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getTextTracks:2,getStats:5,getVariantTracks:2,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},shaka.cast.CastUtils.PlayerGetterMethodsThatRequireLive={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},shaka.cast.CastUtils.PlayerInitState=[["getConfiguration","configure"]],shaka.cast.CastUtils.PlayerInitAfterLoadState=[["isTextTrackVisible","setTextTrackVisibility"]],shaka.cast.CastUtils.PlayerVoidMethods="addTextTrack addTextTrackAsync cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),shaka.cast.CastUtils.PlayerPromiseMethods=["attach","detach","load","unload"],shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE="urn:x-cast:com.google.shaka.v2",shaka.cast.CastUtils.GENERIC_MESSAGE_NAMESPACE="urn:x-cast:com.google.cast.media",shaka.cast.CastSender=function(e,t,r,n,i,a){var o=this;this.receiverAppId_=e,this.statusChangeTimer_=new shaka.util.Timer(t),this.onFirstCastStateUpdate_=r,this.hasJoinedExistingSession_=!1,this.onRemoteEvent_=n,this.onResumeLocal_=i,this.onInitStateRequired_=a,this.isCasting_=this.apiReady_=!1,this.receiverName_="",this.appData_=null,this.onConnectionStatusChangedBound_=function(){return o.onConnectionStatusChanged_()},this.onMessageReceivedBound_=function(e,t){return o.onMessageReceived_(e,t)},this.cachedProperties_={video:{},player:{}},this.nextAsyncCallId_=0,this.asyncCallPromises_={},this.castPromise_=null,shaka.cast.CastSender.instances_.add(this)},shaka.cast.CastSender.prototype.destroy=function(){return shaka.cast.CastSender.instances_.delete(this),this.rejectAllPromises_(),shaka.cast.CastSender.session_&&this.removeListeners_(),this.statusChangeTimer_&&(this.statusChangeTimer_.stop(),this.statusChangeTimer_=null),this.onResumeLocal_=this.onRemoteEvent_=null,this.isCasting_=this.apiReady_=!1,this.onMessageReceivedBound_=this.onConnectionStatusChangedBound_=this.castPromise_=this.asyncCallPromises_=this.cachedProperties_=this.appData_=null,Promise.resolve()},shaka.cast.CastSender.prototype.apiReady=function(){return this.apiReady_},shaka.cast.CastSender.prototype.hasReceivers=function(){return shaka.cast.CastSender.hasReceivers_},shaka.cast.CastSender.prototype.isCasting=function(){return this.isCasting_},shaka.cast.CastSender.prototype.receiverName=function(){return this.receiverName_},shaka.cast.CastSender.prototype.hasRemoteProperties=function(){return 0!=Object.keys(this.cachedProperties_.video).length},shaka.cast.CastSender.prototype.init=function(){var e=shaka.cast.CastSender;if(this.receiverAppId_.length)if(window.chrome&&chrome.cast&&chrome.cast.isAvailable){this.apiReady_=!0,this.statusChangeTimer_.tickNow();var t=new chrome.cast.SessionRequest(this.receiverAppId_);t=new chrome.cast.ApiConfig(t,(function(t){return e.onExistingSessionJoined_(t)}),(function(t){return e.onReceiverStatusChanged_(t)}),"origin_scoped"),chrome.cast.initialize(t,(function(){shaka.log.debug("CastSender: init")}),(function(e){shaka.log.error("CastSender: init error",e)})),shaka.cast.CastSender.hasReceivers_&&this.statusChangeTimer_.tickAfter(shaka.cast.CastSender.STATUS_DELAY),(t=shaka.cast.CastSender.session_)&&t.status!=chrome.cast.SessionStatus.STOPPED?(shaka.log.debug("CastSender: re-using existing connection"),this.onExistingSessionJoined_(t)):shaka.cast.CastSender.session_=null}else window.__onGCastApiAvailable||(window.__onGCastApiAvailable=shaka.cast.CastSender.onSdkLoaded_),window.__onGCastApiAvailable!=shaka.cast.CastSender.onSdkLoaded_&&shaka.log.alwaysWarn("A global Cast SDK hook is already installed! Shaka Player will be unable to receive a notification when the Cast SDK is ready.")},shaka.cast.CastSender.prototype.setAppData=function(e){this.appData_=e,this.isCasting_&&this.sendMessage_({type:"appData",appData:this.appData_})},shaka.cast.CastSender.prototype.cast=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(!t.apiReady_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.CAST_API_UNAVAILABLE);if(!shaka.cast.CastSender.hasReceivers_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.NO_CAST_RECEIVERS);if(t.isCasting_)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.CAST,shaka.util.Error.Code.ALREADY_CASTING);return t.castPromise_=new shaka.util.PublicPromise,chrome.cast.requestSession((function(r){return t.onSessionInitiated_(e,r)}),(function(e){return t.onConnectionError_(e)})),r.yield(t.castPromise_,0)}))},shaka.cast.CastSender.prototype.showDisconnectDialog=function(){var e=this;if(this.isCasting_){var t=this.onInitStateRequired_();chrome.cast.requestSession((function(r){return e.onSessionInitiated_(t,r)}),(function(t){return e.onConnectionError_(t)}))}},shaka.cast.CastSender.prototype.forceDisconnect=function(){if(this.isCasting_){if(this.rejectAllPromises_(),shaka.cast.CastSender.session_){this.removeListeners_();try{shaka.cast.CastSender.session_.stop((function(){}),(function(){}))}catch(a){}shaka.cast.CastSender.session_=null}this.onConnectionStatusChanged_()}},shaka.cast.CastSender.prototype.get=function(e,t){var r=this;goog.asserts.assert("video"==e||"player"==e,"Unexpected target name");var n=shaka.cast.CastUtils;if("video"==e){if(n.VideoVoidMethods.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];return r.remoteCall_.apply(r,[e,t].concat($jscomp.arrayFromIterable(i)))}}else if("player"==e){if(n.PlayerGetterMethodsThatRequireLive[t]){var i=this.get("player","isLive")();if(goog.asserts.assert(i,t+" should be called on a live stream!"),!i)return function(){}}if(n.PlayerVoidMethods.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];return r.remoteCall_.apply(r,[e,t].concat($jscomp.arrayFromIterable(i)))};if(n.PlayerPromiseMethods.includes(t))return function(n){for(var i=[],a=0;a<arguments.length;++a)i[a-0]=arguments[a];return r.remoteAsyncCall_.apply(r,[e,t].concat($jscomp.arrayFromIterable(i)))};if(n.PlayerGetterMethods[t])return function(){return r.propertyGetter_(e,t)}}return this.propertyGetter_(e,t)},shaka.cast.CastSender.prototype.set=function(e,t,r){goog.asserts.assert("video"==e||"player"==e,"Unexpected target name"),this.cachedProperties_[e][t]=r,this.sendMessage_({type:"set",targetName:e,property:t,value:r})},shaka.cast.CastSender.prototype.onSessionInitiated_=function(e,t){shaka.log.debug("CastSender: onSessionInitiated"),this.onSessionCreated_(t),this.sendMessage_({type:"init",initState:e,appData:this.appData_}),this.castPromise_.resolve()},shaka.cast.CastSender.prototype.onConnectionError_=function(e){var t=shaka.util.Error.Code.UNEXPECTED_CAST_ERROR;switch(e.code){case"cancel":t=shaka.util.Error.Code.CAST_CANCELED_BY_USER;break;case"timeout":t=shaka.util.Error.Code.CAST_CONNECTION_TIMED_OUT;break;case"receiver_unavailable":t=shaka.util.Error.Code.CAST_RECEIVER_APP_UNAVAILABLE}this.castPromise_.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.CAST,t,e))},shaka.cast.CastSender.prototype.propertyGetter_=function(e,t){return goog.asserts.assert("video"==e||"player"==e,"Unexpected target name"),this.cachedProperties_[e][t]},shaka.cast.CastSender.prototype.remoteCall_=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];goog.asserts.assert("video"==e||"player"==e,"Unexpected target name"),this.sendMessage_({type:"call",targetName:e,methodName:t,args:n})},shaka.cast.CastSender.prototype.remoteAsyncCall_=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];goog.asserts.assert("video"==e||"player"==e,"Unexpected target name"),i=new shaka.util.PublicPromise;var a=this.nextAsyncCallId_.toString();this.nextAsyncCallId_++,this.asyncCallPromises_[a]=i;try{this.sendMessage_({type:"asyncCall",targetName:e,methodName:t,args:n,id:a})}catch(o){i.reject(o)}return i},shaka.cast.CastSender.onExistingSessionJoined_=function(e){for(var t=$jscomp.makeIterator(shaka.cast.CastSender.instances_),r=t.next();!r.done;r=t.next())r.value.onExistingSessionJoined_(e)},shaka.cast.CastSender.prototype.onExistingSessionJoined_=function(e){shaka.log.debug("CastSender: onExistingSessionJoined");var t=this.onInitStateRequired_();this.castPromise_=new shaka.util.PublicPromise,this.hasJoinedExistingSession_=!0,this.onSessionInitiated_(t,e)},shaka.cast.CastSender.onReceiverStatusChanged_=function(e){for(var t=$jscomp.makeIterator(shaka.cast.CastSender.instances_),r=t.next();!r.done;r=t.next())r.value.onReceiverStatusChanged_(e)},shaka.cast.CastSender.prototype.onReceiverStatusChanged_=function(e){shaka.log.debug("CastSender: receiver status",e),shaka.cast.CastSender.hasReceivers_="available"==e,this.statusChangeTimer_.tickNow()},shaka.cast.CastSender.prototype.onSessionCreated_=function(e){shaka.cast.CastSender.session_=e,e.addUpdateListener(this.onConnectionStatusChangedBound_),e.addMessageListener(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,this.onMessageReceivedBound_),this.onConnectionStatusChanged_()},shaka.cast.CastSender.prototype.removeListeners_=function(){var e=shaka.cast.CastSender.session_;e.removeUpdateListener(this.onConnectionStatusChangedBound_),e.removeMessageListener(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,this.onMessageReceivedBound_)},shaka.cast.CastSender.prototype.onConnectionStatusChanged_=function(){var e=!!shaka.cast.CastSender.session_&&"connected"==shaka.cast.CastSender.session_.status;if(shaka.log.debug("CastSender: connection status",e),this.isCasting_&&!e){for(var t in this.onResumeLocal_(),this.cachedProperties_)this.cachedProperties_[t]={};this.rejectAllPromises_()}this.receiverName_=(this.isCasting_=e)?shaka.cast.CastSender.session_.receiver.friendlyName:"",this.statusChangeTimer_.tickNow()},shaka.cast.CastSender.prototype.rejectAllPromises_=function(){for(var e in this.asyncCallPromises_){var t=this.asyncCallPromises_[e];delete this.asyncCallPromises_[e],t.reject(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.LOAD_INTERRUPTED))}},shaka.cast.CastSender.prototype.onMessageReceived_=function(e,t){var r=shaka.cast.CastUtils.deserialize(t);switch(shaka.log.v2("CastSender: message",r),r.type){case"event":var n=r.targetName;r=r.event,r=new shaka.util.FakeEvent(r.type,r),this.onRemoteEvent_(n,r);break;case"update":for(var i in n=r.update)for(var a in r=this.cachedProperties_[i]||{},n[i])r[a]=n[i][a];this.hasJoinedExistingSession_&&(this.onFirstCastStateUpdate_(),this.hasJoinedExistingSession_=!1);break;case"asyncComplete":if(i=r.id,r=r.error,a=this.asyncCallPromises_[i],delete this.asyncCallPromises_[i],goog.asserts.assert(a,"Unexpected async id"),a)if(r){for(n in i=new shaka.util.Error(r.severity,r.category,r.code),r)i[n]=r[n];a.reject(i)}else a.resolve()}},shaka.cast.CastSender.prototype.sendMessage_=function(e){e=shaka.cast.CastUtils.serialize(e);var t=shaka.cast.CastSender.session_;try{t.sendMessage(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE,e,(function(){}),shaka.log.error)}catch(r){throw shaka.log.error("Cast session sendMessage threw",r),e=new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.CAST,shaka.util.Error.Code.CAST_CONNECTION_TIMED_OUT,r),t=new shaka.util.FakeEvent("error",{detail:e}),this.onRemoteEvent_("player",t),this.forceDisconnect(),e}},shaka.cast.CastSender.STATUS_DELAY=.02,shaka.cast.CastSender.hasReceivers_=!1,shaka.cast.CastSender.session_=null,shaka.cast.CastSender.instances_=new Set,shaka.cast.CastSender.onSdkLoaded_=function(e){if(e)for(var t=(e=$jscomp.makeIterator(shaka.cast.CastSender.instances_)).next();!t.done;t=e.next())t.value.init()},shaka.cast.CastProxy=function(e,t,r){shaka.util.FakeEventTarget.call(this);var n=this;this.localVideo_=e,this.localPlayer_=t,this.eventManager_=this.playerEventTarget_=this.videoEventTarget_=this.playerProxy_=this.videoProxy_=null,this.receiverAppId_=r,this.compiledToExternNames_=new Map,this.sender_=new shaka.cast.CastSender(r,(function(){return n.onCastStatusChanged_()}),(function(){return n.onFirstCastStateUpdate_()}),(function(e,t){return n.onRemoteEvent_(e,t)}),(function(){return n.onResumeLocal_()}),(function(){return n.getInitState_()})),this.init_()},$jscomp.inherits(shaka.cast.CastProxy,shaka.util.FakeEventTarget),shaka.cast.CastProxy.prototype.destroy=function(e){return e&&this.sender_.forceDisconnect(),this.eventManager_&&(this.eventManager_.release(),this.eventManager_=null),e=[],this.localPlayer_&&(e.push(this.localPlayer_.destroy()),this.localPlayer_=null),this.sender_&&(e.push(this.sender_.destroy()),this.sender_=null),this.playerProxy_=this.videoProxy_=this.localVideo_=null,Promise.all(e)},shaka.cast.CastProxy.prototype.getVideo=function(){return this.videoProxy_},shaka.cast.CastProxy.prototype.getPlayer=function(){return this.playerProxy_},shaka.cast.CastProxy.prototype.canCast=function(){return this.sender_.apiReady()&&this.sender_.hasReceivers()},shaka.cast.CastProxy.prototype.isCasting=function(){return this.sender_.isCasting()},shaka.cast.CastProxy.prototype.receiverName=function(){return this.sender_.receiverName()},shaka.cast.CastProxy.prototype.cast=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(e=t.getInitState_(),r.yield(t.sender_.cast(e),2)):t.localPlayer_?r.yield(t.localPlayer_.unload(),0):r.return()}))},shaka.cast.CastProxy.prototype.setAppData=function(e){this.sender_.setAppData(e)},shaka.cast.CastProxy.prototype.suggestDisconnect=function(){this.sender_.showDisconnectDialog()},shaka.cast.CastProxy.prototype.forceDisconnect=function(){this.sender_.forceDisconnect()},shaka.cast.CastProxy.prototype.changeReceiverId=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return e==t.receiverAppId_?r.return():(t.receiverAppId_=e,t.sender_.forceDisconnect(),r.yield(t.sender_.destroy(),2));t.sender_=null,t.sender_=new shaka.cast.CastSender(e,(function(){return t.onCastStatusChanged_()}),(function(){return t.onFirstCastStateUpdate_()}),(function(e,r){return t.onRemoteEvent_(e,r)}),(function(){return t.onResumeLocal_()}),(function(){return t.getInitState_()})),t.sender_.init(),r.jumpToEnd()}))},shaka.cast.CastProxy.prototype.init_=function(){var e=this;this.sender_.init(),this.eventManager_=new shaka.util.EventManager;for(var t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoEvents),r=t.next();!r.done;r=t.next())this.eventManager_.listen(this.localVideo_,r.value,(function(t){return e.videoProxyLocalEvent_(t)}));for(var n in shaka.Player.EventName)this.eventManager_.listen(this.localPlayer_,shaka.Player.EventName[n],(function(t){return e.playerProxyLocalEvent_(t)}));for(var i in this.videoProxy_={},t={},this.localVideo_)t.$jscomp$loop$prop$k$584=i,Object.defineProperty(this.videoProxy_,t.$jscomp$loop$prop$k$584,{configurable:!1,enumerable:!0,get:function(t){return function(){return e.videoProxyGet_(t.$jscomp$loop$prop$k$584)}}(t),set:function(t){return function(r){e.videoProxySet_(t.$jscomp$loop$prop$k$584,r)}}(t)}),t={$jscomp$loop$prop$k$584:t.$jscomp$loop$prop$k$584};this.playerProxy_={},this.iterateOverPlayerMethods_((function(t,r){goog.asserts.assert(e.playerProxy_,"Must have player proxy!"),Object.defineProperty(e.playerProxy_,t,{configurable:!1,enumerable:!0,get:function(){return e.playerProxyGet_(t)}})})),COMPILED&&this.mapCompiledToUncompiledPlayerMethodNames_(),this.videoEventTarget_=new shaka.util.FakeEventTarget,this.videoEventTarget_.dispatchTarget=this.videoProxy_,this.playerEventTarget_=new shaka.util.FakeEventTarget,this.playerEventTarget_.dispatchTarget=this.playerProxy_},shaka.cast.CastProxy.prototype.mapCompiledToUncompiledPlayerMethodNames_=function(){var e=this,t=new Map;this.iterateOverPlayerMethods_((function(r,n){if(t.has(n)){var i=t.get(n);r.length<i.length?e.compiledToExternNames_.set(r,i):e.compiledToExternNames_.set(i,r)}else t.set(n,r)}))},shaka.cast.CastProxy.prototype.iterateOverPlayerMethods_=function(e){function t(e){return"constructor"!=e&&"function"==typeof r[e]&&!n.has(e)}goog.asserts.assert(this.localPlayer_,"Must have player!");var r=this.localPlayer_,n=new Set;for(i in r)t(i)&&(n.add(i),e(i,r[i]));for(var i=Object.getPrototypeOf(r),a=Object.getPrototypeOf({});i&&i!=a;){for(var o=$jscomp.makeIterator(Object.getOwnPropertyNames(i)),s=o.next();!s.done;s=o.next())t(s=s.value)&&(n.add(s),e(s,r[s]));i=Object.getPrototypeOf(i)}},shaka.cast.CastProxy.prototype.getInitState_=function(){var e={video:{},player:{},playerAfterLoad:{},manifest:this.localPlayer_.getAssetUri(),startTime:null};this.localVideo_.pause();for(var t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes),r=t.next();!r.done;r=t.next())r=r.value,e.video[r]=this.localVideo_[r];for(this.localVideo_.ended||(e.startTime=this.localVideo_.currentTime),r=(t=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitState)).next();!r.done;r=t.next()){var n=r.value;r=n[1],n=this.localPlayer_[n[0]](),e.player[r]=n}for(r=(t=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitAfterLoadState)).next();!r.done;r=t.next())r=(n=r.value)[1],n=this.localPlayer_[n[0]](),e.playerAfterLoad[r]=n;return e},shaka.cast.CastProxy.prototype.onCastStatusChanged_=function(){var e=new shaka.util.FakeEvent("caststatuschanged");this.dispatchEvent(e)},shaka.cast.CastProxy.prototype.onFirstCastStateUpdate_=function(){var e=new shaka.util.FakeEvent(this.videoProxy_.paused?"pause":"play");this.videoEventTarget_.dispatchEvent(e)},shaka.cast.CastProxy.prototype.onResumeLocal_=function(){for(var e=this,t=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitState),r=t.next();!r.done;r=t.next()){var n=r.value;r=n[1],n=this.sender_.get("player",n[0])(),this.localPlayer_[r](n)}var i=this.sender_.get("player","getAssetUri")();r=this.sender_.get("video","ended"),t=Promise.resolve();var a=this.localVideo_.autoplay;n=null,r||(n=this.sender_.get("video","currentTime")),i&&(this.localVideo_.autoplay=!1,t=this.localPlayer_.load(i,n));var o={};for(n=(r=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes)).next();!n.done;n=r.next())n=n.value,o[n]=this.sender_.get("video",n);t.then((function(){if(e.localVideo_){for(var t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoInitStateAttributes),r=t.next();!r.done;r=t.next())r=r.value,e.localVideo_[r]=o[r];for(r=(t=$jscomp.makeIterator(shaka.cast.CastUtils.PlayerInitAfterLoadState)).next();!r.done;r=t.next()){var n=r.value;r=n[1],n=e.sender_.get("player",n[0])(),e.localPlayer_[r](n)}e.localVideo_.autoplay=a,i&&e.localVideo_.play()}}),(function(t){goog.asserts.assert(t instanceof shaka.util.Error,"Wrong error type!"),t=new shaka.util.FakeEvent(shaka.Player.EventName.Error,{detail:t}),e.localPlayer_.dispatchEvent(t)}))},shaka.cast.CastProxy.prototype.videoProxyGet_=function(e){var t=this;if("addEventListener"==e)return function(e,r,n){return t.videoEventTarget_.addEventListener(e,r,n)};if("removeEventListener"==e)return function(e,r,n){return t.videoEventTarget_.removeEventListener(e,r,n)};if(this.sender_.isCasting()&&!this.sender_.hasRemoteProperties()){var r=this.localVideo_[e];if("function"!=typeof r)return r}return this.sender_.isCasting()?this.sender_.get("video",e):("function"==typeof(e=this.localVideo_[e])&&(e=e.bind(this.localVideo_)),e)},shaka.cast.CastProxy.prototype.videoProxySet_=function(e,t){this.sender_.isCasting()?this.sender_.set("video",e,t):this.localVideo_[e]=t},shaka.cast.CastProxy.prototype.videoProxyLocalEvent_=function(e){this.sender_.isCasting()||(e=new shaka.util.FakeEvent(e.type,e),this.videoEventTarget_.dispatchEvent(e))},shaka.cast.CastProxy.prototype.playerProxyGet_=function(e){var t=this;if(this.compiledToExternNames_.has(e)&&(e=this.compiledToExternNames_.get(e)),"addEventListener"==e)return function(e,r,n){return t.playerEventTarget_.addEventListener(e,r,n)};if("removeEventListener"==e)return function(e,r,n){return t.playerEventTarget_.removeEventListener(e,r,n)};if("getMediaElement"==e)return function(){return t.videoProxy_};if("getSharedConfiguration"==e)return shaka.log.warning("Can't share configuration across a network. Returning copy."),this.sender_.get("player","getConfiguration");if("getNetworkingEngine"==e)return this.sender_.isCasting()&&shaka.log.warning("NOTE: getNetworkingEngine() is always local!"),function(){return t.localPlayer_.getNetworkingEngine()};if("getAdManager"==e)return this.sender_.isCasting()&&shaka.log.warning("NOTE: getAdManager() is always local!"),function(){return t.localPlayer_.getAdManager()};if("setVideoContainer"==e)return this.sender_.isCasting()&&shaka.log.warning("NOTE: setVideoContainer() is always local!"),function(e){return t.localPlayer_.setVideoContainer(e)};if(this.sender_.isCasting()){if("getManifest"==e||"drmInfo"==e)return function(){return shaka.log.alwaysWarn(e+"() does not work while casting!"),null};if("attach"==e||"detach"==e)return function(){return shaka.log.alwaysWarn(e+"() does not work while casting!"),Promise.resolve()}}if(this.sender_.isCasting()&&!this.sender_.hasRemoteProperties()&&shaka.cast.CastUtils.PlayerGetterMethods[e]){var r=this.localPlayer_[e];return goog.asserts.assert("function"==typeof r,"only methods on Player"),r.bind(this.localPlayer_)}return this.sender_.isCasting()?this.sender_.get("player",e):(r=this.localPlayer_[e],goog.asserts.assert("function"==typeof r,"only methods on Player"),r.bind(this.localPlayer_))},shaka.cast.CastProxy.prototype.playerProxyLocalEvent_=function(e){this.sender_.isCasting()||this.playerEventTarget_.dispatchEvent(e)},shaka.cast.CastProxy.prototype.onRemoteEvent_=function(e,t){goog.asserts.assert(this.sender_.isCasting(),"Should only receive remote events while casting"),this.sender_.isCasting()&&("video"==e?this.videoEventTarget_.dispatchEvent(t):"player"==e&&this.playerEventTarget_.dispatchEvent(t))},goog.exportSymbol("shaka.cast.CastProxy",shaka.cast.CastProxy),goog.exportProperty(shaka.cast.CastProxy.prototype,"changeReceiverId",shaka.cast.CastProxy.prototype.changeReceiverId),goog.exportProperty(shaka.cast.CastProxy.prototype,"forceDisconnect",shaka.cast.CastProxy.prototype.forceDisconnect),goog.exportProperty(shaka.cast.CastProxy.prototype,"suggestDisconnect",shaka.cast.CastProxy.prototype.suggestDisconnect),goog.exportProperty(shaka.cast.CastProxy.prototype,"setAppData",shaka.cast.CastProxy.prototype.setAppData),goog.exportProperty(shaka.cast.CastProxy.prototype,"cast",shaka.cast.CastProxy.prototype.cast),goog.exportProperty(shaka.cast.CastProxy.prototype,"receiverName",shaka.cast.CastProxy.prototype.receiverName),goog.exportProperty(shaka.cast.CastProxy.prototype,"isCasting",shaka.cast.CastProxy.prototype.isCasting),goog.exportProperty(shaka.cast.CastProxy.prototype,"canCast",shaka.cast.CastProxy.prototype.canCast),goog.exportProperty(shaka.cast.CastProxy.prototype,"getPlayer",shaka.cast.CastProxy.prototype.getPlayer),goog.exportProperty(shaka.cast.CastProxy.prototype,"getVideo",shaka.cast.CastProxy.prototype.getVideo),goog.exportProperty(shaka.cast.CastProxy.prototype,"destroy",shaka.cast.CastProxy.prototype.destroy),shaka.cast.CastReceiver=function(e,t,r,n){shaka.util.FakeEventTarget.call(this);var i=this;this.video_=e,this.player_=t,this.eventManager_=new shaka.util.EventManager,this.targets_={video:e,player:t},this.appDataCallback_=r||function(){},this.contentIdCallback_=n||function(e){return e},this.metadata_=null,this.isConnected_=!1,this.isIdle_=!0,this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1,this.initialStatusUpdatePending_=!0,this.genericBus_=this.shakaBus_=null,this.pollTimer_=new shaka.util.Timer((function(){i.pollAttributes_()})),this.init_()},$jscomp.inherits(shaka.cast.CastReceiver,shaka.util.FakeEventTarget),shaka.cast.CastReceiver.prototype.isConnected=function(){return this.isConnected_},shaka.cast.CastReceiver.prototype.isIdle=function(){return this.isIdle_},shaka.cast.CastReceiver.prototype.setContentMetadata=function(e){this.metadata_=e},shaka.cast.CastReceiver.prototype.clearContentMetadata=function(){this.metadata_=null},shaka.cast.CastReceiver.prototype.setContentTitle=function(e){this.metadata_||(this.metadata_={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.metadata_.title=e},shaka.cast.CastReceiver.prototype.setContentImage=function(e){this.metadata_||(this.metadata_={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.metadata_.images=[{url:e}]},shaka.cast.CastReceiver.prototype.setContentArtist=function(e){this.metadata_||(this.metadata_={}),this.metadata_.artist=e,this.metadata_.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},shaka.cast.CastReceiver.prototype.destroy=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return t.eventManager_&&(t.eventManager_.release(),t.eventManager_=null),e=[],t.player_&&(e.push(t.player_.destroy()),t.player_=null),t.pollTimer_&&(t.pollTimer_.stop(),t.pollTimer_=null),t.video_=null,t.targets_=null,t.appDataCallback_=null,t.isConnected_=!1,t.isIdle_=!0,t.shakaBus_=null,t.genericBus_=null,r.yield(Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),r.jumpToEnd()}))},shaka.cast.CastReceiver.prototype.init_=function(){var e=this,t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return e.onSendersChanged_()},t.onSenderDisconnected=function(){return e.onSendersChanged_()},t.onSystemVolumeChanged=function(){return e.fakeVolumeChangeEvent_()},this.genericBus_=t.getCastMessageBus(shaka.cast.CastUtils.GENERIC_MESSAGE_NAMESPACE),this.genericBus_.onMessage=function(t){return e.onGenericMessage_(t)},this.shakaBus_=t.getCastMessageBus(shaka.cast.CastUtils.SHAKA_MESSAGE_NAMESPACE),this.shakaBus_.onMessage=function(t){return e.onShakaMessage_(t)},goog.DEBUG?shaka.util.Platform.isChromecast()&&t.start():t.start();for(var r=(t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoEvents)).next();!r.done;r=t.next())this.eventManager_.listen(this.video_,r.value,(function(t){return e.proxyEvent_("video",t)}));for(var n in shaka.Player.EventName)this.eventManager_.listen(this.player_,shaka.Player.EventName[n],(function(t){return e.proxyEvent_("player",t)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?this.player_.setMaxHardwareResolution(3840,2160):this.player_.setMaxHardwareResolution(1920,1080),this.eventManager_.listen(this.video_,"loadeddata",(function(){e.startUpdatingUpdateNumber_=!0})),this.eventManager_.listen(this.player_,"loading",(function(){e.isIdle_=!1,e.onCastStatusChanged_()})),this.eventManager_.listen(this.video_,"playing",(function(){e.isIdle_=!1,e.onCastStatusChanged_()})),this.eventManager_.listen(this.video_,"pause",(function(){e.onCastStatusChanged_()})),this.eventManager_.listen(this.player_,"unloading",(function(){e.isIdle_=!0,e.onCastStatusChanged_()})),this.eventManager_.listen(this.video_,"ended",(function(){new shaka.util.Timer((function(){e.video_&&e.video_.ended&&(e.isIdle_=!0,e.onCastStatusChanged_())})).tickAfter(shaka.cast.CastReceiver.IDLE_INTERVAL)}))},shaka.cast.CastReceiver.prototype.onSendersChanged_=function(){this.updateNumber_=0,this.initialStatusUpdatePending_=!0,this.isConnected_=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,this.onCastStatusChanged_()},shaka.cast.CastReceiver.prototype.onCastStatusChanged_=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?r.yield(Promise.resolve(),2):t.player_?(e=new shaka.util.FakeEvent("caststatuschanged"),t.dispatchEvent(e),t.maybeSendMediaInfoMessage_()||t.sendMediaStatus_(),void r.jumpToEnd()):r.return()}))},shaka.cast.CastReceiver.prototype.initState_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(p){switch(p.nextAddress){case 1:for(r in e.player)n=e.player[r],f.player_[r](n);return f.appDataCallback_(t),i=f.video_.autoplay,e.manifest?(f.video_.autoplay=!1,p.setCatchFinallyBlocks(5),p.yield(f.player_.load(e.manifest,e.startTime),7)):p.yield(Promise.resolve(),3);case 7:p.leaveTryBlock(3);break;case 5:return a=p.enterCatchBlock(),goog.asserts.assert(a instanceof shaka.util.Error,"Wrong error type!"),o=shaka.Player.EventName.Error,s=new shaka.util.FakeEvent(o,{detail:a}),f.player_&&f.player_.dispatchEvent(s),p.return();case 3:if(!f.player_)return p.return();for(l in e.video)u=e.video[l],f.video_[l]=u;for(c in e.playerAfterLoad)d=e.playerAfterLoad[c],f.player_[c](d);f.video_.autoplay=i,e.manifest&&(f.video_.play(),f.sendMediaStatus_()),p.jumpToEnd()}}))},shaka.cast.CastReceiver.prototype.proxyEvent_=function(e,t){this.player_&&(this.pollAttributes_(),this.sendMessage_({type:"event",targetName:e,event:t},this.shakaBus_))},shaka.cast.CastReceiver.prototype.pollAttributes_=function(){this.pollTimer_.tickAfter(shaka.cast.CastReceiver.POLL_INTERVAL);for(var e={video:{},player:{}},t=$jscomp.makeIterator(shaka.cast.CastUtils.VideoAttributes),r=t.next();!r.done;r=t.next())r=r.value,e.video[r]=this.video_[r];if(this.player_.isLive())for(var n in t=shaka.cast.CastUtils.PlayerGetterMethodsThatRequireLive)0==this.updateNumber_%t[n]&&(e.player[n]=this.player_[n]());for(var i in shaka.cast.CastUtils.PlayerGetterMethods)0==this.updateNumber_%shaka.cast.CastUtils.PlayerGetterMethods[i]&&(e.player[i]=this.player_[i]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),this.startUpdatingUpdateNumber_&&(this.updateNumber_+=1),this.sendMessage_({type:"update",update:e},this.shakaBus_),this.maybeSendMediaInfoMessage_()},shaka.cast.CastReceiver.prototype.maybeSendMediaInfoMessage_=function(){return!(!this.initialStatusUpdatePending_||!this.video_.duration&&!this.player_.isLive())&&(this.sendMediaInfoMessage_(),this.initialStatusUpdatePending_=!1,!0)},shaka.cast.CastReceiver.prototype.sendMediaInfoMessage_=function(e){e=void 0===e?0:e;var t={contentId:this.player_.getAssetUri(),streamType:this.player_.isLive()?"LIVE":"BUFFERED",contentType:""};this.player_.isLive()||(t.duration=this.video_.duration),this.metadata_&&(t.metadata=this.metadata_),this.sendMediaStatus_(e,t)},shaka.cast.CastReceiver.prototype.fakeVolumeChangeEvent_=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();goog.asserts.assert(e,"System volume should not be null!"),e&&this.sendMessage_({type:"update",update:{video:{volume:e.level,muted:e.muted}}},this.shakaBus_),this.sendMessage_({type:"event",targetName:"video",event:{type:"volumechange"}},this.shakaBus_)},shaka.cast.CastReceiver.prototype.onShakaMessage_=function(e){var t=this,r=shaka.cast.CastUtils.deserialize(e.data);switch(shaka.log.debug("CastReceiver: message",r),r.type){case"init":this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1,this.initialStatusUpdatePending_=!0,this.initState_(r.initState,r.appData),this.pollAttributes_();break;case"appData":this.appDataCallback_(r.appData);break;case"set":var n=r.targetName,i=r.property;if(r=r.value,"video"==n){if(e=cast.receiver.CastReceiverManager.getInstance(),"volume"==i){e.setSystemVolumeLevel(r);break}if("muted"==i){e.setSystemVolumeMuted(r);break}}this.targets_[n][i]=r;break;case"call":(n=this.targets_[r.targetName])[r.methodName].apply(n,r.args);break;case"asyncCall":n=r.targetName,i=r.methodName,"player"==n&&"load"==i&&(this.updateNumber_=0,this.startUpdatingUpdateNumber_=!1);var a=r.id,o=e.senderId;r=(e=this.targets_[n])[i].apply(e,r.args),"player"==n&&"load"==i&&(r=r.then((function(){t.initialStatusUpdatePending_=!0}))),r.then((function(){return t.sendAsyncComplete_(o,a,null)}),(function(e){return t.sendAsyncComplete_(o,a,e)}))}},shaka.cast.CastReceiver.prototype.onGenericMessage_=function(e){var t=this,r=shaka.cast.CastUtils.deserialize(e.data);switch(shaka.log.debug("CastReceiver: message",r),r.type){case"PLAY":this.video_.play(),this.sendMediaStatus_();break;case"PAUSE":this.video_.pause(),this.sendMediaStatus_();break;case"SEEK":e=r.currentTime;var n=r.resumeState;null!=e&&(this.video_.currentTime=Number(e)),n&&"PLAYBACK_START"==n?(this.video_.play(),this.sendMediaStatus_()):n&&"PLAYBACK_PAUSE"==n&&(this.video_.pause(),this.sendMediaStatus_());break;case"STOP":this.player_.unload().then((function(){t.player_&&t.sendMediaStatus_()}));break;case"GET_STATUS":this.sendMediaInfoMessage_(Number(r.requestId));break;case"VOLUME":e=(n=r.volume).level,n=n.muted;var i=this.video_.volume,a=this.video_.muted;null!=e&&(this.video_.volume=Number(e)),null!=n&&(this.video_.muted=n),i==this.video_.volume&&a==this.video_.muted||this.sendMediaStatus_();break;case"LOAD":this.updateNumber_=0,this.initialStatusUpdatePending_=this.startUpdatingUpdateNumber_=!1,e=r.media,n=r.currentTime,i=this.contentIdCallback_(e.contentId),a=r.autoplay||!0,this.appDataCallback_(e.customData),a&&(this.video_.autoplay=!0),this.player_.load(i,n).then((function(){t.player_&&t.sendMediaInfoMessage_()})).catch((function(e){goog.asserts.assert(e instanceof shaka.util.Error,"Wrong error type!");var n="LOAD_FAILED";e.category==shaka.util.Error.Category.PLAYER&&e.code==shaka.util.Error.Code.LOAD_INTERRUPTED&&(n="LOAD_CANCELLED"),t.sendMessage_({requestId:Number(r.requestId),type:n},t.genericBus_)}));break;default:shaka.log.warning("Unrecognized message type from the generic Chromecast controller!",r.type),this.sendMessage_({requestId:Number(r.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.genericBus_)}},shaka.cast.CastReceiver.prototype.sendAsyncComplete_=function(e,t,r){this.player_&&this.sendMessage_({type:"asyncComplete",id:t,error:r},this.shakaBus_,e)},shaka.cast.CastReceiver.prototype.sendMessage_=function(e,t,r){this.isConnected_&&(e=shaka.cast.CastUtils.serialize(e),r?t.getCastChannel(r).send(e):t.broadcast(e))},shaka.cast.CastReceiver.prototype.getPlayState_=function(){var e=shaka.cast.CastReceiver.PLAY_STATE;return this.isIdle_?e.IDLE:this.player_.isBuffering()?e.BUFFERING:this.video_.paused?e.PAUSED:e.PLAYING},shaka.cast.CastReceiver.prototype.sendMediaStatus_=function(e,t){e=void 0===e?0:e,t=void 0===t?null:t;var r={mediaSessionId:0,playbackRate:this.video_.playbackRate,playerState:this.getPlayState_(),currentTime:this.video_.currentTime,supportedMediaCommands:63,volume:{level:this.video_.volume,muted:this.video_.muted}};t&&(r.media=t),this.sendMessage_({requestId:e,type:"MEDIA_STATUS",status:[r]},this.genericBus_)},goog.exportSymbol("shaka.cast.CastReceiver",shaka.cast.CastReceiver),goog.exportProperty(shaka.cast.CastReceiver.prototype,"destroy",shaka.cast.CastReceiver.prototype.destroy),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentArtist",shaka.cast.CastReceiver.prototype.setContentArtist),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentImage",shaka.cast.CastReceiver.prototype.setContentImage),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentTitle",shaka.cast.CastReceiver.prototype.setContentTitle),goog.exportProperty(shaka.cast.CastReceiver.prototype,"clearContentMetadata",shaka.cast.CastReceiver.prototype.clearContentMetadata),goog.exportProperty(shaka.cast.CastReceiver.prototype,"setContentMetadata",shaka.cast.CastReceiver.prototype.setContentMetadata),goog.exportProperty(shaka.cast.CastReceiver.prototype,"isIdle",shaka.cast.CastReceiver.prototype.isIdle),goog.exportProperty(shaka.cast.CastReceiver.prototype,"isConnected",shaka.cast.CastReceiver.prototype.isConnected),shaka.cast.CastReceiver.POLL_INTERVAL=.5,shaka.cast.CastReceiver.IDLE_INTERVAL=5,shaka.cast.CastReceiver.PLAY_STATE={IDLE:"IDLE",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED"},shaka.util.Pssh=function(e){var t=this;this.systemIds=[],this.cencKeyIds=[],this.data=[],(new shaka.util.Mp4Parser).box("moov",shaka.util.Mp4Parser.children).fullBox("pssh",(function(e){return t.parsePsshBox_(e)})).parse(e),0==this.data.length&&shaka.log.warning("No pssh box found!")},shaka.util.Pssh.prototype.parsePsshBox_=function(e){if(goog.asserts.assert(null!=e.version,"PSSH boxes are full boxes and must have a valid version"),goog.asserts.assert(null!=e.flags,"PSSH boxes are full boxes and must have a valid flag"),1<e.version)shaka.log.warning("Unrecognized PSSH version found!");else{var t=e.reader.getDataView();if(goog.asserts.assert(12<=t.byteOffset,"DataView at incorrect position"),t=shaka.util.BufferUtils.toUint8(t,-12,e.size),this.data.push(t),this.systemIds.push(shaka.util.Uint8ArrayUtils.toHex(e.reader.readBytes(16))),0<e.version){t=e.reader.readUint32();for(var r=(t=$jscomp.makeIterator(shaka.util.Iterables.range(t))).next();!r.done;r=t.next())shaka.util.Functional.ignored(r.value),r=shaka.util.Uint8ArrayUtils.toHex(e.reader.readBytes(16)),this.cencKeyIds.push(r)}}},shaka.util.Pssh.createPssh=function(e,t){goog.asserts.assert(16==t.byteLength,"Invalid system ID length");var r=e.length,n=12+t.length+4+r,i=new Uint8Array(n),a=shaka.util.BufferUtils.toDataView(i),o=0;return a.setUint32(o,n),o+=4,a.setUint32(o,1886614376),o+=4,a.setUint32(o,0),o+=4,i.set(t,o),o+=t.length,a.setUint32(o,r),o+=4,i.set(e,o),goog.asserts.assert(o+r===n,"PSSH invalid length."),i},shaka.util.Pssh.normaliseInitData=function(e){if(!e)return e;var t=new shaka.util.Pssh(e);if(1>=t.data.length)return e;e=[];for(var r={},n=(t=$jscomp.makeIterator(t.data)).next();!n.done;r={$jscomp$loop$prop$initData$491$586:r.$jscomp$loop$prop$initData$491$586},n=t.next())r.$jscomp$loop$prop$initData$491$586=n.value,e.some(function(e){return function(t){return shaka.util.BufferUtils.equal(t,e.$jscomp$loop$prop$initData$491$586)}}(r))||e.push(r.$jscomp$loop$prop$initData$491$586);return shaka.util.Uint8ArrayUtils.concat.apply(shaka.util.Uint8ArrayUtils,$jscomp.arrayFromIterable(e))},shaka.util.XmlUtils=function(){},shaka.util.XmlUtils.findChild=function(e,t){var r=shaka.util.XmlUtils.findChildren(e,t);return 1!=r.length?null:r[0]},shaka.util.XmlUtils.findChildNS=function(e,t,r){return 1!=(e=shaka.util.XmlUtils.findChildrenNS(e,t,r)).length?null:e[0]},shaka.util.XmlUtils.findChildren=function(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName==t}))},shaka.util.XmlUtils.getChildren=function(e){return Array.from(e.childNodes).filter((function(e){return e instanceof Element}))},shaka.util.XmlUtils.findChildrenNS=function(e,t,r){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.localName==r&&e.namespaceURI==t}))},shaka.util.XmlUtils.getAttributeNS=function(e,t,r){return e.hasAttributeNS(t,r)?e.getAttributeNS(t,r):null},shaka.util.XmlUtils.getContents=function(e){var t=shaka.util.XmlUtils;return Array.from(e.childNodes).every(t.isText)?e.textContent.trim():null},shaka.util.XmlUtils.isText=function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE},shaka.util.XmlUtils.parseAttr=function(e,t,r,n){n=void 0===n?null:n;var i=null;return null!=(e=e.getAttribute(t))&&(i=r(e)),null==i?n:i},shaka.util.XmlUtils.parseDate=function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},shaka.util.XmlUtils.parseDuration=function(e){if(!e)return null;var t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e);return t?(e=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(e)?e:null):(shaka.log.warning("Invalid duration string:",e),null)},shaka.util.XmlUtils.parseRange=function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},shaka.util.XmlUtils.parseInt=function(e){return 0===(e=Number(e))%1?e:null},shaka.util.XmlUtils.parsePositiveInt=function(e){return 0===(e=Number(e))%1&&0<e?e:null},shaka.util.XmlUtils.parseNonNegativeInt=function(e){return 0===(e=Number(e))%1&&0<=e?e:null},shaka.util.XmlUtils.parseFloat=function(e){return e=Number(e),isNaN(e)?null:e},shaka.util.XmlUtils.evalDivision=function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e},shaka.util.XmlUtils.parseXmlString=function(e,t){var r=new DOMParser,n=null,i=null;try{i=r.parseFromString(e,"text/xml")}catch(a){}return i&&i.documentElement.tagName==t&&(n=i.documentElement),n&&0<n.getElementsByTagName("parsererror").length?null:n},shaka.util.XmlUtils.parseXml=function(e,t){try{var r=shaka.util.StringUtils.fromUTF8(e);return shaka.util.XmlUtils.parseXmlString(r,t)}catch(n){return null}},shaka.dash={},shaka.dash.ContentProtection=function(){},shaka.dash.ContentProtection.parseFromAdaptationSet=function(e,t,r){var n=shaka.dash.ContentProtection,i=shaka.util.ManifestParserUtils,a=n.parseElements_(e),o=null;e=[];var s=[],l=new Set(a.map((function(e){return e.keyId})));if(l.delete(null),1<l.size)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_CONFLICTING_KEY_IDS);if(t||(s=a.filter((function(e){return e.schemeUri!=n.MP4Protection_||(goog.asserts.assert(!e.init||e.init.length,"Init data must be null or non-empty."),o=e.init||o,!1)}))).length&&(0==(e=n.convertElements_(o,s,r)).length&&(e=[i.createDrmInfo("",o)])),a.length&&(t||!s.length))for(e=[],r=(t=$jscomp.makeIterator(Object.values(r))).next();!r.done;r=t.next())"org.w3.clearkey"!=(r=r.value)&&(r=i.createDrmInfo(r,o),e.push(r));if(i=Array.from(l)[0]||null)for(t=(l=$jscomp.makeIterator(e)).next();!t.done;t=l.next())for(r=(t=$jscomp.makeIterator(t.value.initData)).next();!r.done;r=t.next())r.value.keyId=i;return{defaultKeyId:i,defaultInit:o,drmInfos:e,firstRepresentation:!0}},shaka.dash.ContentProtection.parseFromRepresentation=function(e,t,r,n){var i=shaka.dash.ContentProtection.parseFromAdaptationSet(e,r,n);if(t.firstRepresentation)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,r=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!r)&&(t.drmInfos=i.drmInfos),t.firstRepresentation=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_COMMON_KEY_SYSTEM);return i.defaultKeyId||t.defaultKeyId},shaka.dash.ContentProtection.getWidevineLicenseUrl=function(e){return(e=shaka.util.XmlUtils.findChildNS(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""},shaka.dash.ContentProtection.parseMsProRecords_=function(e,t){for(var r=[];t<e.byteLength-1;){var n=e.getUint16(t,!0);t+=2;var i=e.getUint16(t,!0);if(t+=2,0!=(1&i)||i+t>e.byteLength)return shaka.log.warning("Malformed MS PRO object"),[];var a=shaka.util.BufferUtils.toUint8(e,t,i);r.push({type:n,value:a}),t+=i}return r},shaka.dash.ContentProtection.parseMsPro_=function(e){var t=0,r=shaka.util.BufferUtils.toDataView(e),n=r.getUint32(t,!0);return t+=4,n!=e.byteLength?(shaka.log.warning("PlayReady Object with invalid length encountered."),[]):shaka.dash.ContentProtection.parseMsProRecords_(r,t+2)},shaka.dash.ContentProtection.getLaurl_=function(e){for(var t=(e=$jscomp.makeIterator(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var r=(t=$jscomp.makeIterator(t.value.childNodes)).next();!r.done;r=t.next())if((r=r.value)instanceof Element&&"LA_URL"==r.tagName)return r.textContent;return""},shaka.dash.ContentProtection.getPlayReadyLicenseUrl=function(e){var t=shaka.util.XmlUtils.findChildNS(e.node,"urn:microsoft:playready","pro");if(!t)return"";var r=(e=shaka.dash.ContentProtection).PLAYREADY_RECORD_TYPES;return t=shaka.util.Uint8ArrayUtils.fromBase64(t.textContent),(t=e.parseMsPro_(t).filter((function(e){return e.type===r.RIGHTS_MANAGEMENT}))[0])?(t=shaka.util.StringUtils.fromUTF16(t.value,!0),(t=shaka.util.XmlUtils.parseXmlString(t,"WRMHEADER"))?e.getLaurl_(t):""):""},shaka.dash.ContentProtection.getInitDataFromPro_=function(e){var t=shaka.util.XmlUtils.findChildNS(e.node,"urn:microsoft:playready","pro");if(!t)return null;t=shaka.util.Uint8ArrayUtils.fromBase64(t.textContent);var r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);return[{initData:shaka.util.Pssh.createPssh(t,r),initDataType:"cenc",keyId:e.keyId}]},shaka.dash.ContentProtection.convertElements_=function(e,t,r){for(var n=shaka.dash.ContentProtection,i=shaka.util.ManifestParserUtils,a=n.licenseUrlParsers_,o=[],s=(t=$jscomp.makeIterator(t)).next();!s.done;s=t.next()){var l=r[(s=s.value).schemeUri];if(l){goog.asserts.assert(!s.init||s.init.length,"Init data must be null or non-empty.");var u=n.getInitDataFromPro_(s);u=i.createDrmInfo(l,s.init||e||u),(l=a.get(l))&&(u.licenseServerUri=l(s)),o.push(u)}}return o},shaka.dash.ContentProtection.parseElements_=function(e){for(var t=[],r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())(r=shaka.dash.ContentProtection.parseElement_(r.value))&&t.push(r);return t},shaka.dash.ContentProtection.parseElement_=function(e){var t=shaka.dash.ContentProtection.CencNamespaceUri_,r=e.getAttribute("schemeIdUri"),n=shaka.util.XmlUtils.getAttributeNS(e,t,"default_KID");if(t=shaka.util.XmlUtils.findChildrenNS(e,t,"pssh").map(shaka.util.XmlUtils.getContents),!r)return shaka.log.error("Missing required schemeIdUri attribute on","ContentProtection element",e),null;if(r=r.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED);var i=[];try{i=t.map((function(e){return{initDataType:"cenc",initData:shaka.util.Uint8ArrayUtils.fromBase64(e),keyId:null}}))}catch(a){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_PSSH_BAD_ENCODING)}return{node:e,schemeUri:r,keyId:n,init:0<i.length?i:null}},shaka.dash.ContentProtection.PLAYREADY_RECORD_TYPES={RIGHTS_MANAGEMENT:1,RESERVED:2,EMBEDDED_LICENSE:3},shaka.dash.ContentProtection.licenseUrlParsers_=(new Map).set("com.widevine.alpha",shaka.dash.ContentProtection.getWidevineLicenseUrl).set("com.microsoft.playready",shaka.dash.ContentProtection.getPlayReadyLicenseUrl).set("com.microsoft.playready.recommendation",shaka.dash.ContentProtection.getPlayReadyLicenseUrl).set("com.microsoft.playready.software",shaka.dash.ContentProtection.getPlayReadyLicenseUrl).set("com.microsoft.playready.hardware",shaka.dash.ContentProtection.getPlayReadyLicenseUrl),shaka.dash.ContentProtection.MP4Protection_="urn:mpeg:dash:mp4protection:2011",shaka.dash.ContentProtection.CencNamespaceUri_="urn:mpeg:cenc:2013",shaka.dash.MpdUtils=function(){},shaka.dash.MpdUtils.fillUriTemplate=function(e,t,r,n,i){var a={RepresentationID:t,Number:r,Bandwidth:n,Time:i};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,r,n,i){if("$$"==t)return"$";var o=a[r];if(goog.asserts.assert(void 0!==o,"Unrecognized identifier"),null==o)return shaka.log.warning("URL template does not have an available substitution for ",'identifier "'+r+'":',e),t;switch("RepresentationID"==r&&n&&(shaka.log.warning("URL template should not contain a width specifier for identifier",'"RepresentationID":',e),n=void 0),"Time"==r&&(goog.asserts.assert("number"==typeof o,"Time value should be a number!"),goog.asserts.assert(.2>Math.abs(o-Math.round(o)),"Calculated $Time$ values must be close to integers"),o=Math.round(o)),i){case void 0:case"d":case"i":case"u":t=o.toString();break;case"o":t=o.toString(8);break;case"x":t=o.toString(16);break;case"X":t=o.toString(16).toUpperCase();break;default:goog.asserts.assert(!1,"Unhandled format specifier"),t=o.toString()}return n=window.parseInt(n,10)||1,Array(Math.max(0,n-t.length)+1).join("0")+t}))},shaka.dash.MpdUtils.createTimeline=function(e,t,r,n){goog.asserts.assert(0<t&&1/0>t,"timescale must be a positive, finite integer"),goog.asserts.assert(0<n,"period duration must be a positive integer");var i=shaka.util.XmlUtils,a=i.findChildren(e,"S");e=[];for(var o=-r,s=(a=$jscomp.makeIterator(shaka.util.Iterables.enumerate(a))).next();!s.done;s=a.next()){var l=(s=s.value).item,u=s.next,c=i.parseAttr(l,"t",i.parseNonNegativeInt);s=i.parseAttr(l,"d",i.parseNonNegativeInt);var d=i.parseAttr(l,"r",i.parseInt);if(null!=c&&(c-=r),!s){shaka.log.warning('"S" element must have a duration:','ignoring the remaining "S" elements.',l);break}if(c=null!=c?c:o,0>(d=d||0))if(u){if(null==(u=i.parseAttr(u,"t",i.parseNonNegativeInt))){shaka.log.warning('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:','ignoring the remaining "S" elements.',l);break}if(c>=u){shaka.log.warning('An "S" element cannot have a negative repeatif its start ','time exceeds the next "S" element\'s start time:','ignoring the remaining "S" elements.',l);break}d=Math.ceil((u-c)/s)-1}else{if(1/0==n){shaka.log.warning('The last "S" element cannot have a negative repeat',"if the Period has an infinite duration:",'ignoring the last "S" element.',l);break}if(c/t>=n){shaka.log.warning('The last "S" element cannot have a negative repeat',"if its start time exceeds the Period's duration:",'igoring the last "S" element.',l);break}d=Math.ceil((n*t-c)/s)-1}for(0<e.length&&c!=o&&(Math.abs((c-o)/t)>=shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS&&shaka.log.warning("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",l),e[e.length-1].end=c/t),u=(l=$jscomp.makeIterator(shaka.util.Iterables.range(d+1))).next();!u.done;u=l.next())shaka.util.Functional.ignored(u.value),o=c+s,e.push({start:c/t,end:o/t,unscaledStart:c}),c=o}return e},shaka.dash.MpdUtils.parseSegmentInfo=function(e,t){goog.asserts.assert(t(e.representation),"There must be at least one element of the given type.");var r=shaka.dash.MpdUtils,n=shaka.util.XmlUtils,i=r.inheritAttribute(e,t,"timescale"),a=1;i&&(a=n.parsePositiveInt(i)||1);var o=r.inheritAttribute(e,t,"duration");i=n.parsePositiveInt(o||""),e.representation.contentType==shaka.util.ManifestParserUtils.ContentType.IMAGE&&(i=n.parseFloat(o||"")),i&&(i/=a);var s=r.inheritAttribute(e,t,"startNumber");o=Number(r.inheritAttribute(e,t,"presentationTimeOffset"))||0,n=n.parseNonNegativeInt(s||""),null!=s&&null!=n||(n=1);var l=null;return(s=r.inheritChild(e,t,"SegmentTimeline"))&&(l=r.createTimeline(s,a,o,e.periodInfo.duration||1/0)),{timescale:a,segmentDuration:i,startNumber:n,scaledPresentationTimeOffset:o/a||0,unscaledPresentationTimeOffset:o,timeline:l}},shaka.dash.MpdUtils.inheritAttribute=function(e,t,r){var n=shaka.util.Functional;return goog.asserts.assert(t(e.representation),"There must be at least one element of the given type"),[t(e.representation),t(e.adaptationSet),t(e.period)].filter(n.isNotNull).map((function(e){return e.getAttribute(r)})).reduce((function(e,t){return e||t}))},shaka.dash.MpdUtils.inheritChild=function(e,t,r){var n=shaka.util.Functional;goog.asserts.assert(t(e.representation),"There must be at least one element of the given type"),e=[t(e.representation),t(e.adaptationSet),t(e.period)].filter(n.isNotNull);var i=shaka.util.XmlUtils;return e.map((function(e){return i.findChild(e,r)})).reduce((function(e,t){return e||t}))},shaka.dash.MpdUtils.handleXlinkInElement_=function(e,t,r,n,i,a){var o=shaka.util.XmlUtils,s=shaka.util.Error,l=shaka.util.ManifestParserUtils,u=shaka.dash.MpdUtils.XlinkNamespaceUri_,c=o.getAttributeNS(e,u,"href");o=o.getAttributeNS(e,u,"actuate")||"onRequest";for(var d=$jscomp.makeIterator(Array.from(e.attributes)),f=d.next();!f.done;f=d.next())(f=f.value).namespaceURI==u&&e.removeAttributeNS(f.namespaceURI,f.localName);if(5<=a)return shaka.util.AbortableOperation.failed(new s(s.Severity.CRITICAL,s.Category.MANIFEST,s.Code.DASH_XLINK_DEPTH_LIMIT));if("onLoad"!=o)return shaka.util.AbortableOperation.failed(new s(s.Severity.CRITICAL,s.Category.MANIFEST,s.Code.DASH_UNSUPPORTED_XLINK_ACTUATE));var p=l.resolveUris([n],[c]);return n=shaka.net.NetworkingEngine.RequestType.MANIFEST,l=shaka.net.NetworkingEngine.makeRequest(p,t),n=i.request(n,l),goog.asserts.assert(n instanceof shaka.util.AbortableOperation,"Unexpected implementation of IAbortableOperation!"),n.chain((function(n){if(!(n=shaka.util.XmlUtils.parseXml(n.data,e.tagName)))return shaka.util.AbortableOperation.failed(new s(s.Severity.CRITICAL,s.Category.MANIFEST,s.Code.DASH_INVALID_XML,c));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;n.childNodes.length;){var o=n.childNodes[0];n.removeChild(o),e.appendChild(o)}for(o=(n=$jscomp.makeIterator(Array.from(n.attributes))).next();!o.done;o=n.next())e.setAttributeNode(o.value.cloneNode(!1));return shaka.dash.MpdUtils.processXlinks(e,t,r,p[0],i,a+1)}))},shaka.dash.MpdUtils.processXlinks=function(e,t,r,n,i,a){a=void 0===a?0:a;var o=shaka.dash.MpdUtils,s=shaka.util.XmlUtils,l=o.XlinkNamespaceUri_;if(s.getAttributeNS(e,l,"href"))return s=o.handleXlinkInElement_(e,t,r,n,i,a),r&&(s=s.chain(void 0,(function(s){return o.processXlinks(e,t,r,n,i,a)}))),s;for(var u=[],c=$jscomp.makeIterator(Array.from(e.childNodes)),d=c.next();!d.done;d=c.next())(d=d.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==s.getAttributeNS(d,l,"href")?e.removeChild(d):"SegmentTimeline"!=d.tagName&&u.push(shaka.dash.MpdUtils.processXlinks(d,t,r,n,i,a)));return shaka.util.AbortableOperation.all(u).chain((function(){return e}))},shaka.dash.MpdUtils.XlinkNamespaceUri_="http://www.w3.org/1999/xlink",shaka.media.Mp4SegmentIndexParser=function(){},shaka.media.Mp4SegmentIndexParser.parse=function(e,t,r,n,i,a,o){var s,l=shaka.media.Mp4SegmentIndexParser,u=(new shaka.util.Mp4Parser).fullBox("sidx",(function(e){s=l.parseSIDX_(t,n,i,a,o,r,e)}));if(e&&u.parse(e),s)return s;throw shaka.log.error('Invalid box type, expected "sidx".'),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_WRONG_BOX_TYPE)},shaka.media.Mp4SegmentIndexParser.parseSIDX_=function(e,t,r,n,i,a,o){goog.asserts.assert(null!=o.version,"SIDX is a full box and should have a valid version.");var s=[];o.reader.skip(4);var l=o.reader.readUint32();if(0==l)throw shaka.log.error("Invalid timescale."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_INVALID_TIMESCALE);if(0==o.version)var u=o.reader.readUint32(),c=o.reader.readUint32();else u=o.reader.readUint64(),c=o.reader.readUint64();o.reader.skip(2);var d=o.reader.readUint16();for(e=e+o.size+c,c=(d=$jscomp.makeIterator(shaka.util.Iterables.range(d))).next();!c.done;c=d.next()){shaka.util.Functional.ignored(c.value);var f=o.reader.readUint32();c=(2147483648&f)>>>31,f&=2147483647;var p=o.reader.readUint32();if(o.reader.skip(4),1==c)throw shaka.log.error("Heirarchical SIDXs are not supported."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.MP4_SIDX_TYPE_NOT_SUPPORTED);s.push(new shaka.media.SegmentReference(u/l+r,(u+p)/l+r,(function(){return a}),e,e+f-1,t,r,n,i)),u+=p,e+=f}return o.parser.stop(),s},shaka.util.EbmlParser=function(e){this.dataView_=shaka.util.BufferUtils.toDataView(e),this.reader_=new shaka.util.DataViewReader(this.dataView_,shaka.util.DataViewReader.Endianness.BIG_ENDIAN)},shaka.util.EbmlParser.prototype.hasMoreData=function(){return this.reader_.hasMoreData()},shaka.util.EbmlParser.prototype.parseElement=function(){var e=this.parseId_(),t=this.parseVint_();t=shaka.util.EbmlParser.isDynamicSizeValue_(t)?this.dataView_.byteLength-this.reader_.getPosition():shaka.util.EbmlParser.getVintValue_(t),t=this.reader_.getPosition()+t<=this.dataView_.byteLength?t:this.dataView_.byteLength-this.reader_.getPosition();var r=shaka.util.BufferUtils.toDataView(this.dataView_,this.reader_.getPosition(),t);return this.reader_.skip(t),new shaka.util.EbmlElement(e,r)},shaka.util.EbmlParser.prototype.parseId_=function(){var e=this.parseVint_();if(7<e.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);for(var t=0,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())t=256*t+r.value;return t},shaka.util.EbmlParser.prototype.parseVint_=function(){var e=this.reader_.getPosition(),t=this.reader_.readUint8();if(0==t)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);return t=8-Math.floor(Math.log2(t)),goog.asserts.assert(8>=t&&1<=t,"Incorrect log2 value"),this.reader_.skip(t-1),shaka.util.BufferUtils.toUint8(this.dataView_,e,t)},shaka.util.EbmlParser.getVintValue_=function(e){if(8==e.length&&224&e[1])throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);for(var t=0,r=$jscomp.makeIterator(shaka.util.Iterables.enumerate(e)),n=r.next();!n.done;n=r.next()){var i=(n=n.value).item;t=0==n.i?i&(1<<8-e.length)-1:256*t+i}return t},shaka.util.EbmlParser.isDynamicSizeValue_=function(e){for(var t=shaka.util.BufferUtils,r=$jscomp.makeIterator(shaka.util.EbmlParser.DYNAMIC_SIZES),n=r.next();!n.done;n=r.next())if(t.equal(e,new Uint8Array(n.value)))return!0;return!1},shaka.util.EbmlParser.DYNAMIC_SIZES=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],shaka.util.EbmlElement=function(e,t){this.id=e,this.dataView_=t},shaka.util.EbmlElement.prototype.getOffset=function(){return this.dataView_.byteOffset},shaka.util.EbmlElement.prototype.createParser=function(){return new shaka.util.EbmlParser(this.dataView_)},shaka.util.EbmlElement.prototype.getUint=function(){if(8<this.dataView_.byteLength)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_OVERFLOW);if(8==this.dataView_.byteLength&&224&this.dataView_.getUint8(0))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.JS_INTEGER_OVERFLOW);for(var e=0,t=$jscomp.makeIterator(shaka.util.Iterables.range(this.dataView_.byteLength)),r=t.next();!r.done;r=t.next())e=256*e+(r=this.dataView_.getUint8(r.value));return e},shaka.util.EbmlElement.prototype.getFloat=function(){if(4==this.dataView_.byteLength)return this.dataView_.getFloat32(0);if(8==this.dataView_.byteLength)return this.dataView_.getFloat64(0);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.EBML_BAD_FLOATING_POINT_SIZE)},shaka.media.WebmSegmentIndexParser=function(){},shaka.media.WebmSegmentIndexParser.parse=function(e,t,r,n,i,a,o){if(t=shaka.media.WebmSegmentIndexParser.parseWebmContainer_(t),(e=new shaka.util.EbmlParser(e).parseElement()).id!=shaka.media.WebmSegmentIndexParser.CUES_ID)throw shaka.log.error("Not a Cues element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUES_ELEMENT_MISSING);return shaka.media.WebmSegmentIndexParser.parseCues_(e,t.segmentOffset,t.timecodeScale,t.duration,r,n,i,a,o)},shaka.media.WebmSegmentIndexParser.parseWebmContainer_=function(e){if((e=new shaka.util.EbmlParser(e)).parseElement().id!=shaka.media.WebmSegmentIndexParser.EBML_ID)throw shaka.log.error("Not an EBML element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_EBML_HEADER_ELEMENT_MISSING);var t=e.parseElement();if(t.id!=shaka.media.WebmSegmentIndexParser.SEGMENT_ID)throw shaka.log.error("Not a Segment element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_SEGMENT_ELEMENT_MISSING);return{segmentOffset:e=t.getOffset(),timecodeScale:(t=shaka.media.WebmSegmentIndexParser.parseSegment_(t)).timecodeScale,duration:t.duration}},shaka.media.WebmSegmentIndexParser.parseSegment_=function(e){e=e.createParser();for(var t=null;e.hasMoreData();){var r=e.parseElement();if(r.id==shaka.media.WebmSegmentIndexParser.INFO_ID){t=r;break}}if(!t)throw shaka.log.error("Not an Info element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_INFO_ELEMENT_MISSING);return shaka.media.WebmSegmentIndexParser.parseInfo_(t)},shaka.media.WebmSegmentIndexParser.parseInfo_=function(e){var t=e.createParser(),r=1e6;for(e=null;t.hasMoreData();){var n=t.parseElement();n.id==shaka.media.WebmSegmentIndexParser.TIMECODE_SCALE_ID?r=n.getUint():n.id==shaka.media.WebmSegmentIndexParser.DURATION_ID&&(e=n.getFloat())}if(null==e)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_DURATION_ELEMENT_MISSING);return{timecodeScale:t=r/1e9,duration:e*t}},shaka.media.WebmSegmentIndexParser.parseCues_=function(e,t,r,n,i,a,o,s,l){var u=[],c=function(){return i};e=e.createParser();for(var d=null,f=null;e.hasMoreData();){var p=e.parseElement();if(p.id==shaka.media.WebmSegmentIndexParser.CUE_POINT_ID){var h=shaka.media.WebmSegmentIndexParser.parseCuePoint_(p);h&&(p=r*h.unscaledTime,h=t+h.relativeOffset,null!=d&&(goog.asserts.assert(null!=f,"last offset cannot be null"),u.push(new shaka.media.SegmentReference(d+o,p+o,c,f,h-1,a,o,s,l))),d=p,f=h)}}return null!=d&&(goog.asserts.assert(null!=f,"last offset cannot be null"),u.push(new shaka.media.SegmentReference(d+o,n+o,c,f,null,a,o,s,l))),u},shaka.media.WebmSegmentIndexParser.parseCuePoint_=function(e){var t=e.createParser();if((e=t.parseElement()).id!=shaka.media.WebmSegmentIndexParser.CUE_TIME_ID)throw shaka.log.warning("Not a CueTime element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUE_TIME_ELEMENT_MISSING);if(e=e.getUint(),(t=t.parseElement()).id!=shaka.media.WebmSegmentIndexParser.CUE_TRACK_POSITIONS_ID)throw shaka.log.warning("Not a CueTrackPositions element."),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MEDIA,shaka.util.Error.Code.WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING);t=t.createParser();for(var r=0;t.hasMoreData();){var n=t.parseElement();if(n.id==shaka.media.WebmSegmentIndexParser.CUE_CLUSTER_POSITION){r=n.getUint();break}}return{unscaledTime:e,relativeOffset:r}},shaka.media.WebmSegmentIndexParser.EBML_ID=440786851,shaka.media.WebmSegmentIndexParser.SEGMENT_ID=408125543,shaka.media.WebmSegmentIndexParser.INFO_ID=357149030,shaka.media.WebmSegmentIndexParser.TIMECODE_SCALE_ID=2807729,shaka.media.WebmSegmentIndexParser.DURATION_ID=17545,shaka.media.WebmSegmentIndexParser.CUES_ID=475249515,shaka.media.WebmSegmentIndexParser.CUE_POINT_ID=187,shaka.media.WebmSegmentIndexParser.CUE_TIME_ID=179,shaka.media.WebmSegmentIndexParser.CUE_TRACK_POSITIONS_ID=183,shaka.media.WebmSegmentIndexParser.CUE_CLUSTER_POSITION=241,shaka.dash.SegmentBase=function(){},shaka.dash.SegmentBase.createInitSegment=function(e,t){var r=shaka.util.XmlUtils,n=shaka.util.ManifestParserUtils,i=shaka.dash.MpdUtils.inheritChild(e,t,"Initialization");if(!i)return null;var a=e.representation.baseUris,o=i.getAttribute("sourceURL");return o&&(a=n.resolveUris(e.representation.baseUris,[o])),n=0,o=null,(r=r.parseAttr(i,"range",r.parseRange))&&(n=r.start,o=r.end),new shaka.media.InitSegmentReference((function(){return a}),n,o)},shaka.dash.SegmentBase.createStreamInfo=function(e,t){goog.asserts.assert(e.representation.segmentBase,"Should only be called with SegmentBase");var r=shaka.dash.MpdUtils,n=shaka.dash.SegmentBase,i=shaka.util.XmlUtils,a=Number(r.inheritAttribute(e,n.fromInheritance_,"presentationTimeOffset"))||0,o=1;(r=r.inheritAttribute(e,n.fromInheritance_,"timescale"))&&(o=i.parsePositiveInt(r)||1);var s=a/o||0,l=n.createInitSegment(e,n.fromInheritance_);n.checkSegmentIndexRangeSupport_(e,l);var u=shaka.util.ObjectUtils.shallowCloneObject(e);return{generateSegmentIndex:function(){return n.generateSegmentIndex_(u,t,l,s)}}},shaka.dash.SegmentBase.generateSegmentIndexFromUris=function(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g,m,v,y,b,k,E;return $jscomp.asyncExecutePromiseGeneratorProgram((function(_){return 1==_.nextAddress?(s=e.presentationTimeline,l=!e.dynamic||!e.periodInfo.isLastPeriod,u=e.periodInfo.start,c=e.periodInfo.duration,d=e.representation.mimeType.split("/")[1],p=null,h=[(f=t)(n,i,a),"webm"==d?f(r.getUris(),r.startByte,r.endByte):null],f=null,_.yield(Promise.all(h),2)):(g=_.yieldResult,m=g[0],v=g[1]||null,y=null,b=u-o,k=u,E=c?u+c:1/0,"mp4"==d?y=shaka.media.Mp4SegmentIndexParser.parse(m,i,n,r,b,k,E):(goog.asserts.assert(v,"WebM requires init data"),y=shaka.media.WebmSegmentIndexParser.parse(m,v,n,r,b,k,E)),s.notifySegments(y),goog.asserts.assert(!p,"Should not call generateSegmentIndex twice"),p=new shaka.media.SegmentIndex(y),l&&p.fit(k,E,!0),_.return(p))}))},shaka.dash.SegmentBase.fromInheritance_=function(e){return e.segmentBase},shaka.dash.SegmentBase.computeIndexRange_=function(e){var t=shaka.dash.MpdUtils,r=shaka.dash.SegmentBase,n=shaka.util.XmlUtils,i=t.inheritChild(e,r.fromInheritance_,"RepresentationIndex");return e=t.inheritAttribute(e,r.fromInheritance_,"indexRange"),e=n.parseRange(e||""),i&&(e=n.parseAttr(i,"range",n.parseRange,e)),e},shaka.dash.SegmentBase.computeIndexUris_=function(e){var t=shaka.util.ManifestParserUtils,r=shaka.dash.MpdUtils.inheritChild(e,shaka.dash.SegmentBase.fromInheritance_,"RepresentationIndex"),n=e.representation.baseUris;return r&&(r=r.getAttribute("sourceURL"))&&(n=t.resolveUris(e.representation.baseUris,[r])),n},shaka.dash.SegmentBase.checkSegmentIndexRangeSupport_=function(e,t){var r=shaka.dash.SegmentBase;if(r.checkSegmentIndexSupport(e,t),!r.computeIndexRange_(e))throw shaka.log.error("SegmentBase does not contain sufficient segment information:","the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentBase.checkSegmentIndexSupport=function(e,t){var r=shaka.util.ManifestParserUtils.ContentType,n=e.representation.contentType,i=e.representation.mimeType.split("/")[1];if(n!=r.TEXT&&"mp4"!=i&&"webm"!=i)throw shaka.log.error("SegmentBase specifies an unsupported container type.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_UNSUPPORTED_CONTAINER);if("webm"==i&&!t)throw shaka.log.error("SegmentBase does not contain sufficient segment information:","the SegmentBase uses a WebM container,","but does not contain an Initialization element.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_WEBM_MISSING_INIT)},shaka.dash.SegmentBase.generateSegmentIndex_=function(e,t,r,n){var i=shaka.dash.SegmentBase,a=i.computeIndexUris_(e);return i=i.computeIndexRange_(e),goog.asserts.assert(i,"Index range should not be null!"),shaka.dash.SegmentBase.generateSegmentIndexFromUris(e,t,r,a,i.start,i.end,n)},shaka.dash.SegmentList=function(){},shaka.dash.SegmentList.createStreamInfo=function(e,t){goog.asserts.assert(e.representation.segmentList,"Should only be called with SegmentList");var r=shaka.dash.SegmentList,n=shaka.dash.SegmentBase.createInitSegment(e,r.fromInheritance_),i=r.parseSegmentListInfo_(e);r.checkSegmentListInfo_(e,i);var a=null,o=null;return e.period.id&&e.representation.id&&(o=e.period.id+","+e.representation.id,a=t[o]),r=r.createSegmentReferences_(e.periodInfo.start,e.periodInfo.duration,i.startNumber,e.representation.baseUris,i,n),n=!a,a?(o=e.presentationTimeline.getSegmentAvailabilityStart(),a.mergeAndEvict(r,o)):(e.presentationTimeline.notifySegments(r),a=new shaka.media.SegmentIndex(r),o&&e.dynamic&&(t[o]=a)),e.dynamic&&e.periodInfo.isLastPeriod||a.fit(e.periodInfo.start,e.periodInfo.duration?e.periodInfo.start+e.periodInfo.duration:1/0,n),{generateSegmentIndex:function(){return Promise.resolve(a)}}},shaka.dash.SegmentList.fromInheritance_=function(e){return e.segmentList},shaka.dash.SegmentList.parseSegmentListInfo_=function(e){var t=shaka.dash.SegmentList,r=shaka.dash.MpdUtils,n=t.parseMediaSegments_(e);return 0==(t=(e=r.parseSegmentInfo(e,t.fromInheritance_)).startNumber)&&(shaka.log.warning("SegmentList@startNumber must be > 0"),t=1),r=0,e.segmentDuration?r=e.segmentDuration*(t-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{segmentDuration:e.segmentDuration,startTime:r,startNumber:t,scaledPresentationTimeOffset:e.scaledPresentationTimeOffset,timeline:e.timeline,mediaSegments:n}},shaka.dash.SegmentList.checkSegmentListInfo_=function(e,t){if(!t.segmentDuration&&!t.timeline&&1<t.mediaSegments.length)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(!t.segmentDuration&&!e.periodInfo.duration&&!t.timeline&&1==t.mediaSegments.length)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(t.timeline&&0==t.timeline.length)throw shaka.log.warning("SegmentList does not contain sufficient segment information:","the SegmentList has an empty timeline.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentList.createSegmentReferences_=function(e,t,r,n,i,a){r=shaka.util.ManifestParserUtils;var o=i.mediaSegments.length;i.timeline&&i.timeline.length!=i.mediaSegments.length&&(o=Math.min(i.timeline.length,i.mediaSegments.length),shaka.log.warning("The number of items in the segment timeline and the number of ","segment URLs do not match, truncating",i.mediaSegments.length,"to",o));for(var s=e-i.scaledPresentationTimeOffset,l=t?e+t:1/0,u=[],c=i.startTime,d={},f=(o=$jscomp.makeIterator(shaka.util.Iterables.range(o))).next();!f.done;d={$jscomp$loop$prop$mediaUri$588:d.$jscomp$loop$prop$mediaUri$588},f=o.next()){var p=f.value;f=i.mediaSegments[p],d.$jscomp$loop$prop$mediaUri$588=r.resolveUris(n,[f.mediaUri]);var h=void 0;null!=i.segmentDuration?h=c+i.segmentDuration:i.timeline?h=i.timeline[p].end:(goog.asserts.assert(1==i.mediaSegments.length&&t,"There should be exactly one segment with a Period duration."),h=c+t),p=function(e){return function(){return e.$jscomp$loop$prop$mediaUri$588}}(d),u.push(new shaka.media.SegmentReference(e+c,e+h,p,f.start,f.end,a,s,e,l)),c=h}return u},shaka.dash.SegmentList.parseMediaSegments_=function(e){var t=[e.representation.segmentList,e.adaptationSet.segmentList,e.period.segmentList].filter(shaka.util.Functional.isNotNull),r=shaka.util.XmlUtils;return t.map((function(e){return r.findChildren(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.indexRangeWarningGiven&&(e.indexRangeWarningGiven=!0,shaka.log.warning("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate.")),{mediaUri:t.getAttribute("media"),start:(t=r.parseAttr(t,"mediaRange",r.parseRange,{start:0,end:null})).start,end:t.end}}))},shaka.dash.SegmentTemplate=function(){},shaka.dash.SegmentTemplate.createStreamInfo=function(e,t,r,n,i,a){goog.asserts.assert(e.representation.segmentTemplate,"Should only be called with SegmentTemplate");var o=shaka.dash.SegmentTemplate,s=o.createInitSegment_(e),l=o.parseSegmentTemplateInfo_(e);o.checkSegmentTemplateInfo_(e,l);var u=shaka.util.ObjectUtils.shallowCloneObject(e);if(l.indexTemplate)return shaka.dash.SegmentBase.checkSegmentIndexSupport(e,s),{generateSegmentIndex:function(){return o.generateSegmentIndexFromIndexTemplate_(u,t,s,l)}};if(l.segmentDuration)return n||(e.presentationTimeline.notifyMaxSegmentDuration(l.segmentDuration),e.presentationTimeline.notifyMinSegmentStartTime(e.periodInfo.start)),{generateSegmentIndex:function(){return o.generateSegmentIndexFromDuration_(u,l,i,s,a)}};var c=null;n=null,e.period.id&&e.representation.id&&(n=e.period.id+","+e.representation.id,c=r[n]);var d=o.createFromTimeline_(u,l,s),f=e.periodInfo.start,p=e.periodInfo.duration?e.periodInfo.start+e.periodInfo.duration:1/0,h=1/0!=p;return c?(h&&new shaka.media.SegmentIndex(d).fit(f,p,!0),c.mergeAndEvict(d,e.presentationTimeline.getSegmentAvailabilityStart())):(e.presentationTimeline.notifySegments(d),c=new shaka.media.SegmentIndex(d),n&&e.dynamic&&(r[n]=c)),h&&c.fit(f,p),{generateSegmentIndex:function(){return Promise.resolve(c)}}},shaka.dash.SegmentTemplate.fromInheritance_=function(e){return e.segmentTemplate},shaka.dash.SegmentTemplate.parseSegmentTemplateInfo_=function(e){var t=shaka.dash.SegmentTemplate,r=shaka.dash.MpdUtils,n=r.parseSegmentInfo(e,t.fromInheritance_),i=r.inheritAttribute(e,t.fromInheritance_,"media");return e=r.inheritAttribute(e,t.fromInheritance_,"index"),{segmentDuration:n.segmentDuration,timescale:n.timescale,startNumber:n.startNumber,scaledPresentationTimeOffset:n.scaledPresentationTimeOffset,unscaledPresentationTimeOffset:n.unscaledPresentationTimeOffset,timeline:n.timeline,mediaTemplate:i,indexTemplate:e}},shaka.dash.SegmentTemplate.checkSegmentTemplateInfo_=function(e,t){var r=t.indexTemplate?1:0;if(r+=t.timeline?1:0,0==(r+=t.segmentDuration?1:0))throw shaka.log.error("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO);if(1!=r&&(shaka.log.warning("SegmentTemplate containes multiple segment information sources:","the SegmentTemplate should only contain an index URL template,","a SegmentTimeline or a segment duration.",e.representation),t.indexTemplate?(shaka.log.info("Using the index URL template by default."),t.timeline=null):(goog.asserts.assert(t.timeline,"There should be a timeline"),shaka.log.info("Using the SegmentTimeline by default.")),t.segmentDuration=null),!t.indexTemplate&&!t.mediaTemplate)throw shaka.log.error("SegmentTemplate does not contain sufficient segment information:","the SegmentTemplate's media URL template is missing.",e.representation),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)},shaka.dash.SegmentTemplate.generateSegmentIndexFromIndexTemplate_=function(e,t,r,n){var i=shaka.dash.MpdUtils,a=shaka.util.ManifestParserUtils;return goog.asserts.assert(n.indexTemplate,"must be using index template"),i=i.fillUriTemplate(n.indexTemplate,e.representation.id,null,e.bandwidth||null,null),a=a.resolveUris(e.representation.baseUris,[i]),shaka.dash.SegmentBase.generateSegmentIndexFromUris(e,t,r,a,0,null,n.scaledPresentationTimeOffset)},shaka.dash.SegmentTemplate.generateSegmentIndexFromDuration_=function(e,t,r,n,i){goog.asserts.assert(t.mediaTemplate,"There should be a media template with duration");var a=shaka.dash.MpdUtils,o=shaka.util.ManifestParserUtils,s=e.presentationTimeline,l=e.periodInfo.start,u=e.period.id,c=e.periodInfo.duration,d=function(){var e=null!=u&&i[u]||c;return e?l+e:1/0},f=t.segmentDuration;goog.asserts.assert(null!=f,"Segment duration must not be null!");var p=t.startNumber,h=t.timescale,g=t.mediaTemplate,m=e.bandwidth||null,v=e.representation.id,y=e.representation.baseUris,b=l-t.scaledPresentationTimeOffset,k=function(){var e=[Math.max(s.getSegmentAvailabilityStart(),l),Math.min(s.getSegmentAvailabilityEnd(),d())];return goog.asserts.assert(e.every(isFinite),"Available presentation times must be finite!"),goog.asserts.assert(e.every((function(e){return 0<=e})),"Available presentation times must be positive!"),goog.asserts.assert(null!=f,"Segment duration must not be null!"),e=e.map((function(e){return e-l})),[Math.ceil(e[0]/f),Math.ceil(e[1]/f)-1].map((function(e){return e+p}))},E=k();e=e.dynamic?Math.max(E[0],E[1]-r+1):E[0],E=E[1],r=[];for(var _=function(e){goog.asserts.assert(null!=f,"Segment duration must not be null!");var r=(e-p)*f,i=r+t.scaledPresentationTimeOffset;r+=l;var s=Math.min(r+f,d());return goog.asserts.assert(r<s,"Generated a segment outside of the period!"),new shaka.media.SegmentReference(r,s,(function(){var t=a.fillUriTemplate(g,v,e,m,i*h);return o.resolveUris(y,[t])}),0,null,n,b,l,d())},S=e;S<=E;++S){var T=_(S);r.push(T)}var w=new shaka.media.SegmentIndex(r);if(r=s.getSegmentAvailabilityEnd()<d(),S=s.isLive(),r||S){var x=Math.max(e,E+1);w.updateEvery(f,(function(){var e=s.getSegmentAvailabilityStart();w.evict(e);var t=$jscomp.makeIterator(k());t.next(),t=t.next().value;for(var r=[];x<=t;){var n=_(x);r.push(n),x++}return e>d()&&!r.length?null:r}))}return Promise.resolve(w)},shaka.dash.SegmentTemplate.createFromTimeline_=function(e,t,r){var n=shaka.dash.MpdUtils,i=shaka.util.ManifestParserUtils,a=e.periodInfo.start,o=e.periodInfo.duration,s=a-t.scaledPresentationTimeOffset;o=o?a+o:1/0;for(var l=[],u={},c=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t.timeline)),d=c.next();!d.done;u={$jscomp$loop$prop$mediaTemplate$590:u.$jscomp$loop$prop$mediaTemplate$590,$jscomp$loop$prop$repId$591:u.$jscomp$loop$prop$repId$591,$jscomp$loop$prop$segmentReplacement$592:u.$jscomp$loop$prop$segmentReplacement$592,$jscomp$loop$prop$bandwidth$593:u.$jscomp$loop$prop$bandwidth$593,$jscomp$loop$prop$timeReplacement$594:u.$jscomp$loop$prop$timeReplacement$594,$jscomp$loop$prop$baseUris$595:u.$jscomp$loop$prop$baseUris$595},d=c.next()){var f=d.value,p=f.item;d=p.start;var h=p.unscaledStart;p=p.end,u.$jscomp$loop$prop$segmentReplacement$592=f.i+t.startNumber,u.$jscomp$loop$prop$timeReplacement$594=h+t.unscaledPresentationTimeOffset,u.$jscomp$loop$prop$repId$591=e.representation.id,u.$jscomp$loop$prop$bandwidth$593=e.bandwidth||null,u.$jscomp$loop$prop$mediaTemplate$590=t.mediaTemplate,u.$jscomp$loop$prop$baseUris$595=e.representation.baseUris,f=function(e){return function(){goog.asserts.assert(e.$jscomp$loop$prop$mediaTemplate$590,"There should be a media template with a timeline");var t=n.fillUriTemplate(e.$jscomp$loop$prop$mediaTemplate$590,e.$jscomp$loop$prop$repId$591,e.$jscomp$loop$prop$segmentReplacement$592,e.$jscomp$loop$prop$bandwidth$593||null,e.$jscomp$loop$prop$timeReplacement$594);return i.resolveUris(e.$jscomp$loop$prop$baseUris$595,[t]).map((function(e){return e.toString()}))}}(u),l.push(new shaka.media.SegmentReference(a+d,a+p,f,0,null,r,s,a,o))}return l},shaka.dash.SegmentTemplate.createInitSegment_=function(e){var t=shaka.dash.MpdUtils,r=shaka.util.ManifestParserUtils,n=t.inheritAttribute(e,shaka.dash.SegmentTemplate.fromInheritance_,"initialization");if(!n)return null;var i=e.representation.id,a=e.bandwidth||null,o=e.representation.baseUris;return new shaka.media.InitSegmentReference((function(){goog.asserts.assert(n,"Should have returned earler");var e=t.fillUriTemplate(n,i,null,a,null);return r.resolveUris(o,[e])}),0,null)},shaka.util.PeriodCombiner=function(){this.variants_=[],this.audioStreams_=[],this.videoStreams_=[],this.textStreams_=[],this.imageStreams_=[],this.usedPeriodIds_=new Set},shaka.util.PeriodCombiner.prototype.release=function(){for(var e=this.audioStreams_.concat(this.videoStreams_,this.textStreams_,this.imageStreams_),t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.audioStreams_=[],this.videoStreams_=[],this.textStreams_=[],this.imageStreams_=[],this.variants_=[]},shaka.util.PeriodCombiner.prototype.getVariants=function(){return this.variants_},shaka.util.PeriodCombiner.prototype.getTextStreams=function(){return this.textStreams_},shaka.util.PeriodCombiner.prototype.getImageStreams=function(){return this.imageStreams_},shaka.util.PeriodCombiner.prototype.combinePeriods=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,E,_,S,T,w,x,O,P,C,A,M,I=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(R){switch(R.nextAddress){case 1:if(r=shaka.util.ManifestParserUtils.ContentType,n=shaka.util.Iterables,shaka.util.PeriodCombiner.filterOutAudioStreamDuplicates_(e),shaka.util.PeriodCombiner.filterOutVideoStreamDuplicates_(e),shaka.util.PeriodCombiner.filterOutTextStreamDuplicates_(e),!t&&1==e.length){i=e[0],I.audioStreams_=i.audioStreams,I.videoStreams_=i.videoStreams,I.textStreams_=i.textStreams,I.imageStreams_=i.imageStreams,R.jumpTo(2);break}for(a=-1,o=$jscomp.makeIterator(n.enumerate(e)),s=o.next();!s.done;s=o.next())l=s.value,u=l.i,c=l.item,I.usedPeriodIds_.has(c.id)||(I.usedPeriodIds_.add(c.id),-1==a&&(a=u));if(-1==a)return R.return();for(d=e.map((function(e){return e.audioStreams})),f=e.map((function(e){return e.videoStreams})),p=e.map((function(e){return e.textStreams})),h=e.map((function(e){return e.imageStreams})),g=$jscomp.makeIterator(p),m=g.next();!m.done;m=g.next())m.value.push(shaka.util.PeriodCombiner.dummyTextStream_());return R.yield(shaka.util.PeriodCombiner.combine_(I.audioStreams_,d,a,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),3);case 3:return R.yield(shaka.util.PeriodCombiner.combine_(I.videoStreams_,f,a,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),4);case 4:return R.yield(shaka.util.PeriodCombiner.combine_(I.textStreams_,p,a,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),5);case 5:return R.yield(shaka.util.PeriodCombiner.combine_(I.imageStreams_,h,a,shaka.util.PeriodCombiner.cloneStream_,shaka.util.PeriodCombiner.concatenateStreams_),2);case 2:if(v=0,y=[],I.videoStreams_.length&&I.audioStreams_.length)for(T=$jscomp.makeIterator(I.audioStreams_),w=T.next();!w.done;w=T.next())for(x=w.value,O=$jscomp.makeIterator(I.videoStreams_),P=O.next();!P.done;P=O.next())C=P.value,A=shaka.media.DrmEngine.getCommonDrmInfos(x.drmInfos,C.drmInfos),x.drmInfos.length&&C.drmInfos.length&&!A.length?shaka.log.warning("Incompatible DRM in audio & video, skipping variant creation.",x,C):(M=v++,y.push({id:M,language:x.language,primary:x.primary,audio:x,video:C,bandwidth:(x.bandwidth||0)+(C.bandwidth||0),drmInfos:A,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(b=I.videoStreams_.concat(I.audioStreams_),k=$jscomp.makeIterator(b),E=k.next();!E.done;E=k.next())_=E.value,S=v++,y.push({id:S,language:_.language,primary:_.primary,audio:_.type==r.AUDIO?_:null,video:_.type==r.VIDEO?_:null,bandwidth:_.bandwidth||0,drmInfos:_.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});I.variants_=y,R.jumpToEnd()}}))},shaka.util.PeriodCombiner.filterOutAudioStreamDuplicates_=function(e){for(var t=shaka.util.ArrayUtils,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){r=r.value;for(var n=[],i=$jscomp.makeIterator(r.audioStreams),a=i.next();!a.done;a=i.next()){a=a.value;for(var o=!1,s=$jscomp.makeIterator(n),l=s.next();!l.done;l=s.next())l=l.value,a.id!=l.id&&a.channelsCount==l.channelsCount&&a.language==l.language&&a.bandwidth==l.bandwidth&&a.label==l.label&&a.codecs==l.codecs&&a.mimeType==l.mimeType&&t.hasSameElements(a.roles,l.roles)&&a.audioSamplingRate==l.audioSamplingRate&&a.primary==l.primary&&(o=!0);o||n.push(a)}r.audioStreams=n}},shaka.util.PeriodCombiner.filterOutTextStreamDuplicates_=function(e){for(var t=shaka.util.ArrayUtils,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){r=r.value;for(var n=[],i=$jscomp.makeIterator(r.textStreams),a=i.next();!a.done;a=i.next()){a=a.value;for(var o=!1,s=$jscomp.makeIterator(n),l=s.next();!l.done;l=s.next())l=l.value,a.id!=l.id&&a.language==l.language&&a.label==l.label&&a.codecs==l.codecs&&a.mimeType==l.mimeType&&t.hasSameElements(a.roles,l.roles)&&(o=!0);o||n.push(a)}r.textStreams=n}},shaka.util.PeriodCombiner.filterOutVideoStreamDuplicates_=function(e){for(var t=shaka.util.ArrayUtils,r=shaka.util.MapUtils,n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next()){n=n.value;for(var i=[],a=$jscomp.makeIterator(n.videoStreams),o=a.next();!o.done;o=a.next()){o=o.value;for(var s=!1,l=$jscomp.makeIterator(i),u=l.next();!u.done;u=l.next())u=u.value,o.id!=u.id&&o.width==u.width&&o.frameRate==u.frameRate&&o.codecs==u.codecs&&o.mimeType==u.mimeType&&o.label==u.label&&t.hasSameElements(o.roles,u.roles)&&r.hasSameElements(o.closedCaptions,u.closedCaptions)&&o.bandwidth==u.bandwidth&&(s=!0);s||i.push(o)}n.videoStreams=i}},shaka.util.PeriodCombiner.combineDbStreams=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k;return $jscomp.asyncExecutePromiseGeneratorProgram((function(E){switch(E.nextAddress){case 1:if(t=shaka.util.ManifestParserUtils.ContentType,1==e.length)return E.return(e[0]);for(r=e.map((function(e){return e.filter((function(e){return e.type==t.AUDIO}))})),n=e.map((function(e){return e.filter((function(e){return e.type==t.VIDEO}))})),i=e.map((function(e){return e.filter((function(e){return e.type==t.TEXT}))})),a=$jscomp.makeIterator(i),o=a.next();!o.done;o=a.next())o.value.push(shaka.util.PeriodCombiner.dummyTextStreamDB_());return E.yield(shaka.util.PeriodCombiner.combine_([],r,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),2);case 2:return s=E.yieldResult,E.yield(shaka.util.PeriodCombiner.combine_([],n,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),3);case 3:return l=E.yieldResult,E.yield(shaka.util.PeriodCombiner.combine_([],i,0,shaka.util.PeriodCombiner.cloneStreamDB_,shaka.util.PeriodCombiner.concatenateStreamDBs_),4);case 4:if(u=E.yieldResult,c=0,l.length&&s.length)for(h=$jscomp.makeIterator(s),g=h.next();!g.done;g=h.next())for(m=g.value,v=$jscomp.makeIterator(l),y=v.next();!y.done;y=v.next())b=y.value,k=c++,b.variantIds.push(k),m.variantIds.push(k);else for(d=l.concat(s),f=$jscomp.makeIterator(d),p=f.next();!p.done;p=f.next())p.value.variantIds=[c++];return E.return(l.concat(s).concat(u))}}))},shaka.util.PeriodCombiner.combine_=function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,E,_,S,T,w,x;return $jscomp.asyncExecutePromiseGeneratorProgram((function(O){switch(O.nextAddress){case 1:for(a=shaka.util.ManifestParserUtils.ContentType,o=shaka.util.Iterables,s=[],l=$jscomp.makeIterator(o.enumerate(t)),u=l.next();!u.done;u=l.next())c=u.value,d=c.i,f=c.item,d>=r?s.push(new Set(f)):s.push(new Set);p=$jscomp.makeIterator(e),h=p.next();case 2:if(h.done){O.jumpTo(4);break}return g=h.value,O.yield(shaka.util.PeriodCombiner.extendExistingOutputStream_(g,t,r,i,s),5);case 5:if(!O.yieldResult)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.PERIOD_FLATTENING_FAILED);h=p.next(),O.jumpTo(2);break;case 4:m=$jscomp.makeIterator(s),v=m.next();case 6:if(v.done){O.jumpTo(8);break}y=v.value,b=$jscomp.makeIterator(y),k=b.next();case 9:if(k.done){v=m.next(),O.jumpTo(6);break}return E=k.value,O.yield(shaka.util.PeriodCombiner.createNewOutputStream_(E,t,n,i,s),12);case 12:(_=O.yieldResult)&&e.push(_),k=b.next(),O.jumpTo(9);break;case 8:for(S=$jscomp.makeIterator(s),v=S.next();!v.done;v=S.next())for(T=v.value,w={},x=$jscomp.makeIterator(T),k=x.next();!k.done;w={$jscomp$loop$prop$stream$498$597:w.$jscomp$loop$prop$stream$498$597},k=x.next())if(w.$jscomp$loop$prop$stream$498$597=k.value,(w.$jscomp$loop$prop$stream$498$597.type!=a.TEXT||w.$jscomp$loop$prop$stream$498$597.language)&&e.some(function(e){return function(t){return t.mimeType==e.$jscomp$loop$prop$stream$498$597.mimeType&&shaka.util.MimeUtils.getCodecBase(t.codecs)==shaka.util.MimeUtils.getCodecBase(e.$jscomp$loop$prop$stream$498$597.codecs)}}(w)))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.PERIOD_FLATTENING_FAILED);return O.return(e)}}))},shaka.util.PeriodCombiner.extendExistingOutputStream_=function(e,t,r,n,i){var a;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return 1==o.nextAddress?(a=shaka.util.PeriodCombiner.findMatchesInAllPeriods_(t,e))?(goog.asserts.assert(e.createSegmentIndex,"outputStream should be a Stream type!"),o.yield(shaka.util.PeriodCombiner.createSegmentIndexes_(a),2)):o.return(!1):(goog.asserts.assert(a,"Matches should be non-null"),shaka.util.PeriodCombiner.extendOutputStream_(e,a,r,n,i),o.return(!0))}))},shaka.util.PeriodCombiner.createSegmentIndexes_=function(e){for(var t=[],r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next())r=r.value,t.push(r.createSegmentIndex()),r.trickModeVideo&&!r.trickModeVideo.segmentIndex&&t.push(r.trickModeVideo.createSegmentIndex());return Promise.all(t)},shaka.util.PeriodCombiner.createNewOutputStream_=function(e,t,r,n,i){var a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){return 1==s.nextAddress?(a=r(e),(o=shaka.util.PeriodCombiner.findMatchesInAllPeriods_(t,a))?a.createSegmentIndex?s.yield(shaka.util.PeriodCombiner.createSegmentIndexes_(o),2):s.jumpTo(2):s.return(null)):(goog.asserts.assert(o,"Matches should be non-null"),shaka.util.PeriodCombiner.extendOutputStream_(a,o,0,n,i),s.return(a))}))},shaka.util.PeriodCombiner.extendOutputStream_=function(e,t,r,n,i){for(var a=shaka.util.ManifestParserUtils.ContentType,o=shaka.util.LanguageUtils,s=(t=$jscomp.makeIterator(shaka.util.Iterables.enumerate(t))).next();!s.done;s=t.next()){var l=s.value;if(s=l.i,l=l.item,s>=r){n(e,l);var u=!0;e.type==a.AUDIO&&0==o.relatedness(e.language,l.language)&&(u=!1),u&&i[s].delete(l)}}},shaka.util.PeriodCombiner.cloneStream_=function(e){return(e=Object.assign({},e)).originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.segmentIndex=new shaka.media.MetaSegmentIndex,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e},shaka.util.PeriodCombiner.cloneStreamDB_=function(e){return(e=Object.assign({},e)).keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e},shaka.util.PeriodCombiner.concatenateStreams_=function(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))));var r=t.keyIds;if(r=new Set([].concat($jscomp.arrayFromIterable(e.keyIds),$jscomp.arrayFromIterable(r))),e.keyIds=r,e.originalId=null==e.originalId?t.originalId:e.originalId+","+(t.originalId||""),r=shaka.media.DrmEngine.getCommonDrmInfos(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.INCONSISTENT_DRM_ACROSS_PERIODS);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var n=(r=$jscomp.makeIterator(t.closedCaptions)).next();!n.done;n=r.next()){var i=$jscomp.makeIterator(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}goog.asserts.assert(e.segmentIndex instanceof shaka.media.MetaSegmentIndex,"Output streams should have a MetaSegmentIndex!"),goog.asserts.assert(t.segmentIndex,"Input segment index should have been created by now!"),e.segmentIndex.appendSegmentIndex(t.segmentIndex),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=shaka.util.PeriodCombiner.cloneStream_(t.trickModeVideo),e.trickModeVideo.segmentIndex=e.segmentIndex.clone()),shaka.util.PeriodCombiner.concatenateStreams_(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&shaka.util.PeriodCombiner.concatenateStreams_(e.trickModeVideo,t)},shaka.util.PeriodCombiner.concatenateStreamDBs_=function(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var r=t.keyIds;if(r=new Set([].concat($jscomp.arrayFromIterable(e.keyIds),$jscomp.arrayFromIterable(r))),e.keyIds=r,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,$jscomp.arrayFromIterable(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var n=(r=$jscomp.makeIterator(t.closedCaptions)).next();!n.done;n=r.next()){var i=$jscomp.makeIterator(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}},shaka.util.PeriodCombiner.findMatchesInAllPeriods_=function(e,t){for(var r=[],n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next()){if(!(i=shaka.util.PeriodCombiner.findBestMatchInPeriod_(i.value,t)))return null;r.push(i)}return r},shaka.util.PeriodCombiner.findBestMatchInPeriod_=function(e,t){for(var r={audio:shaka.util.PeriodCombiner.areAVStreamsCompatible_,video:shaka.util.PeriodCombiner.areAVStreamsCompatible_,text:shaka.util.PeriodCombiner.areTextStreamsCompatible_,image:shaka.util.PeriodCombiner.areImageStreamsCompatible_}[t.type],n={audio:shaka.util.PeriodCombiner.isAudioStreamBetterMatch_,video:shaka.util.PeriodCombiner.isVideoStreamBetterMatch_,text:shaka.util.PeriodCombiner.isTextStreamBetterMatch_,image:shaka.util.PeriodCombiner.isImageStreamBetterMatch_}[t.type],i=null,a=$jscomp.makeIterator(e),o=a.next();!o.done;o=a.next())!r(t,o=o.value)||i&&!n(t,i,o)||(i=o);return i},shaka.util.PeriodCombiner.areAVStreamsCompatible_=function(e,t){return!(t.mimeType!=e.mimeType||shaka.util.MimeUtils.getCodecBase(t.codecs)!=shaka.util.MimeUtils.getCodecBase(e.codecs)||e.drmInfos&&!shaka.media.DrmEngine.areDrmCompatible(e.drmInfos,t.drmInfos))},shaka.util.PeriodCombiner.areTextStreamsCompatible_=function(e,t){return!!e.language&&(!t.language||0!=shaka.util.LanguageUtils.relatedness(e.language,t.language)&&t.kind==e.kind)},shaka.util.PeriodCombiner.areImageStreamsCompatible_=function(e,t){return!!e.tilesLayout},shaka.util.PeriodCombiner.isAudioStreamBetterMatch_=function(e,t,r){var n=shaka.util.LanguageUtils,i=shaka.util.PeriodCombiner.BetterOrWorse,a=i.BETTER;if(i=i.WORSE,e.id==r.id)return!0;var o=n.relatedness(e.language,t.language);return(n=n.relatedness(e.language,r.language))>o||!(n<o)&&(!(t.primary||!r.primary)||!(t.primary&&!r.primary)&&(e.roles.length?(a=t.roles.filter((function(t){return e.roles.includes(t)})),(i=r.roles.filter((function(t){return e.roles.includes(t)}))).length>a.length||!(i.length<a.length)&&r.roles.length<t.roles.length):!(r.roles.length||!t.roles.length)||!(r.roles.length&&!t.roles.length)&&((n=shaka.util.PeriodCombiner.compareClosestPreferLower(e.channelsCount,t.channelsCount,r.channelsCount))==a||n!=i&&((n=shaka.util.PeriodCombiner.compareClosestPreferLower(e.audioSamplingRate,t.audioSamplingRate,r.audioSamplingRate))==a||n!=i&&!(!e.bandwidth||shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_(e.bandwidth,t.bandwidth,r.bandwidth)!=a)))))},shaka.util.PeriodCombiner.isVideoStreamBetterMatch_=function(e,t,r){var n=shaka.util.PeriodCombiner.BetterOrWorse,i=n.BETTER;if(n=n.WORSE,e.id==r.id)return!0;var a=shaka.util.PeriodCombiner.compareClosestPreferLower(e.width*e.height,t.width*t.height,r.width*r.height);if(a==i)return!0;if(a==n)return!1;if(e.frameRate){if((a=shaka.util.PeriodCombiner.compareClosestPreferLower(e.frameRate,t.frameRate,r.frameRate))==i)return!0;if(a==n)return!1}return!(!e.bandwidth||shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_(e.bandwidth,t.bandwidth,r.bandwidth)!=i)},shaka.util.PeriodCombiner.isTextStreamBetterMatch_=function(e,t,r){var n=shaka.util.LanguageUtils;if(e.id==r.id)return!0;var i=n.relatedness(e.language,t.language);if((n=n.relatedness(e.language,r.language))>i)return!0;if(n<i)return!1;if(!t.primary&&r.primary)return!0;if(t.primary&&!r.primary)return!1;if(e.roles.length){if(i=t.roles.filter((function(t){return e.roles.includes(t)})),(n=r.roles.filter((function(t){return e.roles.includes(t)}))).length>i.length)return!0;if(n.length<i.length)return!1}else{if(!r.roles.length&&t.roles.length)return!0;if(r.roles.length&&!t.roles.length)return!1}return r.mimeType==e.mimeType&&r.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)},shaka.util.PeriodCombiner.isImageStreamBetterMatch_=function(e,t,r){return e.id==r.id||r.mimeType==e.mimeType},shaka.util.PeriodCombiner.dummyTextStreamDB_=function(){return{id:0,originalId:"",primary:!1,type:shaka.util.ManifestParserUtils.ContentType.TEXT,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}},shaka.util.PeriodCombiner.dummyTextStream_=function(){var e=shaka.util.ManifestParserUtils.ContentType;return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new shaka.media.SegmentIndex([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:e.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}},shaka.util.PeriodCombiner.compareClosestPreferLower=function(e,t,r){var n=shaka.util.PeriodCombiner.BetterOrWorse,i=n.BETTER,a=n.WORSE;if(t==e&&e!=r)return a;if(r==e&&e!=t)return i;if(t>e){if(r<=e||r-e<t-e)return i;if(r-e>t-e)return a}else{if(r>e)return a;if(e-r<e-t)return i;if(e-r>e-t)return a}return n.EQUAL},shaka.util.PeriodCombiner.compareClosestPreferMinimalAbsDiff_=function(e,t,r){var n=shaka.util.PeriodCombiner.BetterOrWorse,i=n.BETTER,a=n.WORSE;return t=Math.abs(e-t),(e=Math.abs(e-r))<t?i:t<e?a:n.EQUAL},shaka.util.PeriodCombiner.BetterOrWorse={BETTER:1,EQUAL:0,WORSE:-1},shaka.dash.DashParser=function(){var e=this;this.playerInterface_=this.config_=null,this.manifestUris_=[],this.manifest_=null,this.globalId_=1,this.segmentIndexMap_={},this.periodDurations_={},this.periodCombiner_=new shaka.util.PeriodCombiner,this.updatePeriod_=0,this.averageUpdateDuration_=new shaka.abr.Ewma(5),this.updateTimer_=new shaka.util.Timer((function(){e.onUpdate_()})),this.operationManager_=new shaka.util.OperationManager,this.minTotalAvailabilityTimeOffset_=1/0,this.lowLatencyMode_=!1},shaka.dash.DashParser.prototype.configure=function(e){goog.asserts.assert(null!=e.dash,"DashManifestConfiguration should not be null!"),this.config_=e},shaka.dash.DashParser.prototype.start=function(e,t){var r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){if(1==i.nextAddress)return goog.asserts.assert(n.config_,"Must call configure() before start()!"),n.lowLatencyMode_=t.isLowLatencyMode(),n.manifestUris_=[e],n.playerInterface_=t,i.yield(n.requestManifest_(),2);if(r=i.yieldResult,n.playerInterface_&&n.setUpdateTimer_(r),!n.playerInterface_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);return goog.asserts.assert(n.manifest_,"Manifest should be non-null!"),i.return(n.manifest_)}))},shaka.dash.DashParser.prototype.stop=function(){for(var e=$jscomp.makeIterator(Object.values(this.segmentIndexMap_)),t=e.next();!t.done;t=e.next())t.value.release();return this.periodCombiner_&&this.periodCombiner_.release(),this.config_=this.playerInterface_=null,this.manifestUris_=[],this.manifest_=null,this.segmentIndexMap_={},this.periodCombiner_=null,null!=this.updateTimer_&&(this.updateTimer_.stop(),this.updateTimer_=null),this.operationManager_.destroy()},shaka.dash.DashParser.prototype.update=function(){var e,t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(r.setCatchFinallyBlocks(2),r.yield(t.requestManifest_(),4)):2!=r.nextAddress?r.leaveTryBlock(0):(e=r.enterCatchBlock(),t.playerInterface_&&e?(goog.asserts.assert(e instanceof shaka.util.Error,"Bad error type"),t.playerInterface_.onError(e),void r.jumpToEnd()):r.return())}))},shaka.dash.DashParser.prototype.onExpirationUpdated=function(e,t){},shaka.dash.DashParser.prototype.requestManifest_=function(){var e,t,r,n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){return 1==u.nextAddress?(e=shaka.net.NetworkingEngine.RequestType.MANIFEST,t=shaka.net.NetworkingEngine.makeRequest(l.manifestUris_,l.config_.retryParameters),r=l.playerInterface_.networkingEngine,n=Date.now(),i=r.request(e,t),l.operationManager_.manage(i),u.yield(i.promise,2)):3!=u.nextAddress?(a=u.yieldResult,l.playerInterface_?(a.uri&&!l.manifestUris_.includes(a.uri)&&l.manifestUris_.unshift(a.uri),u.yield(l.parseManifest_(a.data,a.uri),3)):u.return(0)):(o=Date.now(),s=(o-n)/1e3,l.averageUpdateDuration_.sample(1,s),u.return(s))}))},shaka.dash.DashParser.prototype.parseManifest_=function(e,t){var r,n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){if(1==u.nextAddress){if(r=shaka.util.Error,n=shaka.dash.MpdUtils,!(i=shaka.util.XmlUtils.parseXml(e,"MPD")))throw new r(r.Severity.CRITICAL,r.Category.MANIFEST,r.Code.DASH_INVALID_XML,t);return l.config_.dash.disableXlinkProcessing?u.return(l.processManifest_(i,t)):(a=l.config_.dash.xlinkFailGracefully,o=n.processXlinks(i,l.config_.retryParameters,a,t,l.playerInterface_.networkingEngine),l.operationManager_.manage(o),u.yield(o.promise,2))}return s=u.yieldResult,u.return(l.processManifest_(s,t))}))},shaka.dash.DashParser.prototype.processManifest_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,E,_,S,T,w,x,O,P,C,A,M,I,R=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(D){switch(D.nextAddress){case 1:if(r=shaka.util.Functional,n=shaka.util.XmlUtils,i=[t],0<(a=n.findChildren(e,"Location").map(n.getContents).filter(r.isNotNull)).length&&(o=shaka.util.ManifestParserUtils.resolveUris(i,a),i=R.manifestUris_=o),s=n.findChildren(e,"BaseURL"),l=s.map(n.getContents),u=shaka.util.ManifestParserUtils.resolveUris(i,l),c=0,s&&s.length&&(c=n.parseAttr(s[0],"availabilityTimeOffset",n.parseFloat)||0),d=R.config_.dash.ignoreMinBufferTime,f=0,d||(f=n.parseAttr(e,"minBufferTime",n.parseDuration)||0),R.updatePeriod_=n.parseAttr(e,"minimumUpdatePeriod",n.parseDuration,-1),p=n.parseAttr(e,"availabilityStartTime",n.parseDate),h=n.parseAttr(e,"timeShiftBufferDepth",n.parseDuration),g=R.config_.dash.ignoreSuggestedPresentationDelay,m=null,g||(m=n.parseAttr(e,"suggestedPresentationDelay",n.parseDuration)),v=R.config_.dash.ignoreMaxSegmentDuration,y=null,v||(y=n.parseAttr(e,"maxSegmentDuration",n.parseDuration)),b=e.getAttribute("type")||"static",R.manifest_)for(k=R.manifest_.presentationTimeline,E=$jscomp.makeIterator(Object.values(R.segmentIndexMap_)),_=E.next();!_.done;_=E.next())_.value.evict(k.getSegmentAvailabilityStart());else S=R.config_.defaultPresentationDelay||1.5*f,T=null!=m?m:S,k=new shaka.media.PresentationTimeline(p,T,R.config_.dash.autoCorrectDrift);return w=e.getAttribute("profiles")||"",x={dynamic:"static"!=b,presentationTimeline:k,period:null,periodInfo:null,adaptationSet:null,representation:null,bandwidth:0,indexRangeWarningGiven:!1,availabilityTimeOffset:c,profiles:w.split(",")},O=R.parsePeriods_(x,u,e),P=O.duration,C=O.periods,k.setStatic("static"==b),"static"!=b&&O.durationDerivedFromPeriods||k.setDuration(P||1/0),R.minTotalAvailabilityTimeOffset_&&!R.lowLatencyMode_&&R.playerInterface_.isAutoLowLatencyMode()&&(R.playerInterface_.enableLowLatencyMode(),R.lowLatencyMode_=R.playerInterface_.isLowLatencyMode()),R.lowLatencyMode_?k.setAvailabilityTimeOffset(R.minTotalAvailabilityTimeOffset_):R.minTotalAvailabilityTimeOffset_&&shaka.log.alwaysWarn("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),k.isLive()&&!isNaN(R.config_.availabilityWindowOverride)&&(h=R.config_.availabilityWindowOverride),null==h&&(h=1/0),k.setSegmentAvailabilityDuration(h),k.notifyMaxSegmentDuration(y||1),goog.DEBUG&&k.assertIsValid(),D.yield(R.periodCombiner_.combinePeriods(C,x.dynamic),2);case 2:if(R.manifest_){R.manifest_.variants=R.periodCombiner_.getVariants(),R.manifest_.textStreams=R.periodCombiner_.getTextStreams(),R.manifest_.imageStreams=R.periodCombiner_.getImageStreams(),R.playerInterface_.filter(R.manifest_),D.jumpTo(3);break}if(R.manifest_={presentationTimeline:k,variants:R.periodCombiner_.getVariants(),textStreams:R.periodCombiner_.getTextStreams(),imageStreams:R.periodCombiner_.getImageStreams(),offlineSessionIds:[],minBufferTime:f||0},!k.usingPresentationStartTime()){D.jumpTo(3);break}return A=shaka.util.XmlUtils,M=A.findChildren(e,"UTCTiming"),D.yield(R.parseUtcTiming_(u,M),5);case 5:if(I=D.yieldResult,!R.playerInterface_)return D.return();k.setClockOffset(I);case 3:R.playerInterface_.makeTextStreamsForClosedCaptions(R.manifest_),D.jumpToEnd()}}))},shaka.dash.DashParser.prototype.parsePeriods_=function(e,t,r){var n=shaka.util.XmlUtils,i=n.parseAttr(r,"mediaPresentationDuration",n.parseDuration),a=[],o=0;r=n.findChildren(r,"Period");for(var s=(r=$jscomp.makeIterator(shaka.util.Iterables.enumerate(r))).next();!s.done;s=r.next()){var l=s.value;s=l.i;var u=l.item;l=l.next,o=n.parseAttr(u,"start",n.parseDuration,o);var c=n.parseAttr(u,"duration",n.parseDuration),d=null;if(l){var f=n.parseAttr(l,"start",n.parseDuration);null!=f&&(d=f-o)}else null!=i&&(d=i-o);if(f=shaka.util.ManifestParserUtils.GAP_OVERLAP_TOLERANCE_SECONDS,d&&c&&Math.abs(d-c)>f&&shaka.log.warning("There is a gap/overlap between Periods",u),null==d&&(d=c),u=this.parsePeriod_(e,t,{start:o,duration:d,node:u,isLastPeriod:null==d||!l}),a.push(u),e.period.id&&d&&(this.periodDurations_[e.period.id]=d),null==d){l&&shaka.log.warning("Skipping Period",s+1,"and any subsequent Periods:","Period",s+1,"does not have a valid start time.",l),o=null;break}o+=d}return null!=i?(o!=i&&shaka.log.warning("@mediaPresentationDuration does not match the total duration of ","all Periods."),{periods:a,duration:i,durationDerivedFromPeriods:!1}):{periods:a,duration:o,durationDerivedFromPeriods:!0}},shaka.dash.DashParser.prototype.parsePeriod_=function(e,t,r){var n=this,i=shaka.util.Functional,a=shaka.util.XmlUtils,o=shaka.util.ManifestParserUtils.ContentType;e.period=this.createFrame_(r.node,null,t),e.periodInfo=r,e.period.availabilityTimeOffset=e.availabilityTimeOffset,e.period.id||(shaka.log.info("No Period ID given for Period with start time "+r.start+",  Assigning a default"),e.period.id="__shaka_period_"+r.start),t=a.findChildren(r.node,"EventStream");for(var s=(t=$jscomp.makeIterator(t)).next();!s.done;s=t.next())this.parseEventStream_(r.start,r.duration,s.value);if(i=a.findChildren(r.node,"AdaptationSet").map((function(t){return n.parseAdaptationSet_(e,t)})).filter(i.isNotNull),e.dynamic){for(r=[],t=(a=$jscomp.makeIterator(i)).next();!t.done;t=a.next())for(s=(t=$jscomp.makeIterator(t.value.representationIds)).next();!s.done;s=t.next())r.push(s.value);if(a=new Set(r),r.length!=a.size)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_DUPLICATE_REPRESENTATION_ID)}for(r=i.filter((function(e){return!e.trickModeFor})),i=i.filter((function(e){return e.trickModeFor})),a=(i=$jscomp.makeIterator(i)).next();!a.done;a=i.next()){t=(a=a.value).trickModeFor.split(" ");for(var l=(s=$jscomp.makeIterator(r)).next();!l.done;l=s.next()){var u=l.value;if(t.includes(u.id)){l={};for(var c=(u=$jscomp.makeIterator(u.streams)).next();!c.done;l={$jscomp$loop$prop$stream$599:l.$jscomp$loop$prop$stream$599},c=u.next())l.$jscomp$loop$prop$stream$599=c.value,l.$jscomp$loop$prop$stream$599.trickModeVideo=a.streams.find(function(e){return function(t){return shaka.util.MimeUtils.getCodecBase(e.$jscomp$loop$prop$stream$599.codecs)==shaka.util.MimeUtils.getCodecBase(t.codecs)}}(l))}}}if(a=this.config_.disableAudio?[]:this.getSetsOfType_(r,o.AUDIO),t=this.config_.disableVideo?[]:this.getSetsOfType_(r,o.VIDEO),i=this.config_.disableText?[]:this.getSetsOfType_(r,o.TEXT),r=this.config_.disableThumbnails?[]:this.getSetsOfType_(r,o.IMAGE),!t.length&&!a.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_EMPTY_PERIOD);for(o=[],s=(a=$jscomp.makeIterator(a)).next();!s.done;s=a.next())o.push.apply(o,$jscomp.arrayFromIterable(s.value.streams));for(a=[],s=(t=$jscomp.makeIterator(t)).next();!s.done;s=t.next())a.push.apply(a,$jscomp.arrayFromIterable(s.value.streams));for(t=[],s=(i=$jscomp.makeIterator(i)).next();!s.done;s=i.next())t.push.apply(t,$jscomp.arrayFromIterable(s.value.streams));for(i=[],s=(r=$jscomp.makeIterator(r)).next();!s.done;s=r.next())i.push.apply(i,$jscomp.arrayFromIterable(s.value.streams));return{id:e.period.id,audioStreams:o,videoStreams:a,textStreams:t,imageStreams:i}},shaka.dash.DashParser.prototype.getSetsOfType_=function(e,t){return e.filter((function(e){return e.contentType==t}))},shaka.dash.DashParser.prototype.parseAdaptationSet_=function(e,t){var r=this,n=shaka.util.XmlUtils,i=shaka.util.Functional,a=shaka.util.ManifestParserUtils,o=a.ContentType,s=shaka.dash.ContentProtection;e.adaptationSet=this.createFrame_(t,e.period,null);var l=!1,u=n.findChildren(t,"Role"),c=u.map((function(e){return e.getAttribute("value")})).filter(i.isNotNull),d=void 0;(i=e.adaptationSet.contentType==o.TEXT)&&(d=a.TextStreamKind.SUBTITLE);for(var f=(u=$jscomp.makeIterator(u)).next();!f.done;f=u.next()){var p=(f=f.value).getAttribute("schemeIdUri");if(null==p||"urn:mpeg:dash:role:2011"==p)switch(f=f.getAttribute("value"),f){case"main":l=!0;break;case"caption":case"subtitle":d=f}}p=n.findChildren(t,"EssentialProperty"),u=null,f=!1;for(var h=(p=$jscomp.makeIterator(p)).next();!h.done;h=p.next()){var g=h.value;"http://dashif.org/guidelines/trickmode"==g.getAttribute("schemeIdUri")?u=g.getAttribute("value"):f=!0}g=n.findChildren(t,"Accessibility"),p=shaka.util.LanguageUtils;var m=new Map;for(h=(g=$jscomp.makeIterator(g)).next();!h.done;h=g.next()){var v=h.value;if(h=v.getAttribute("schemeIdUri"),v=v.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==h)if(h=1,null!=v){v=v.split(";");for(var y=$jscomp.makeIterator(v),b=y.next();!b.done;b=y.next()){var k=b.value,E=b=void 0;k.includes("=")?(b=(k=k.split("="))[0].startsWith("CC")?k[0]:"CC"+k[0],E=k[1]):(b="CC"+h,2==v.length?h+=2:h++,E=k),m.set(b,p.normalize(E))}}else m.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==h)if(h=1,null!=v)for(b=(v=$jscomp.makeIterator(v.split(";"))).next();!b.done;b=v.next())k=y=void 0,(b=b.value).includes("=")?(y="svc"+(b=b.split("="))[0],k=b[1].split(",")[0].split(":").pop()):(y="svc"+h,h++,k=b),m.set(y,p.normalize(k));else m.set("svc1","und");else"urn:mpeg:dash:role:2011"==h&&null!=v&&(c.push(v),"captions"==v&&(d=a.TextStreamKind.CLOSED_CAPTION))}if(f)return null;a=n.findChildren(t,"ContentProtection");var _=s.parseFromAdaptationSet(a,this.config_.dash.ignoreDrmInfo,this.config_.dash.keySystemsByURI),S=shaka.util.LanguageUtils.normalize(t.getAttribute("lang")||"und"),T=t.getAttribute("label");if((s=n.findChildren(t,"Label"))&&s.length&&((s=s[0]).textContent&&(T=s.textContent)),s=n.findChildren(t,"Representation"),0==(n=s.map((function(t){return r.parseRepresentation_(e,_,d,S,T,l,c,m,t)})).filter((function(e){return!!e}))).length){if(u=e.adaptationSet.contentType==o.IMAGE,this.config_.dash.ignoreEmptyAdaptationSet||i||u)return null;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.DASH_EMPTY_ADAPTATION_SET)}if(!e.adaptationSet.contentType||e.adaptationSet.contentType==o.APPLICATION)for(e.adaptationSet.contentType=shaka.dash.DashParser.guessContentType_(n[0].mimeType,n[0].codecs),i=(o=$jscomp.makeIterator(n)).next();!i.done;i=o.next())i.value.type=e.adaptationSet.contentType;for(i=(o=$jscomp.makeIterator(n)).next();!i.done;i=o.next())for(i=i.value,f=(a=$jscomp.makeIterator(_.drmInfos)).next();!f.done;f=a.next())(f=f.value).keyIds=f.keyIds&&i.keyIds?new Set([].concat($jscomp.arrayFromIterable(f.keyIds),$jscomp.arrayFromIterable(i.keyIds))):f.keyIds||i.keyIds;return o=s.map((function(e){return e.getAttribute("id")})).filter(shaka.util.Functional.isNotNull),{id:e.adaptationSet.id||"__fake__"+this.globalId_++,contentType:e.adaptationSet.contentType,language:S,main:l,streams:n,drmInfos:_.drmInfos,trickModeFor:u,representationIds:o}},shaka.dash.DashParser.prototype.parseRepresentation_=function(e,t,r,n,i,a,o,s,l){var u=this,c=shaka.util.XmlUtils,d=shaka.util.ManifestParserUtils.ContentType;if(e.representation=this.createFrame_(l,e.adaptationSet,null),this.minTotalAvailabilityTimeOffset_=Math.min(this.minTotalAvailabilityTimeOffset_,e.representation.availabilityTimeOffset),!this.verifyRepresentation_(e.representation))return shaka.log.warning("Skipping Representation",e.representation),null;var f=e.periodInfo.start;e.bandwidth=c.parseAttr(l,"bandwidth",c.parsePositiveInt)||0;var p=e.representation.contentType,h=p==d.TEXT||p==d.APPLICATION;d=p==d.IMAGE;try{if(p=function(e,t,r){return u.requestInitSegment_(e,t,r)},e.representation.segmentBase)var g=shaka.dash.SegmentBase.createStreamInfo(e,p);else if(e.representation.segmentList)g=shaka.dash.SegmentList.createStreamInfo(e,this.segmentIndexMap_);else if(e.representation.segmentTemplate)g=shaka.dash.SegmentTemplate.createStreamInfo(e,p,this.segmentIndexMap_,!!this.manifest_,this.config_.dash.initialSegmentLimit,this.periodDurations_);else{goog.asserts.assert(h,"Must have Segment* with non-text streams.");var m=e.representation.baseUris,v=e.periodInfo.duration||0;g={generateSegmentIndex:function(){return Promise.resolve(shaka.media.SegmentIndex.forSingleSegment(f,v,m))}}}}catch(S){if((h||d)&&S.code==shaka.util.Error.Code.DASH_NO_SEGMENT_INFO)return null;throw S}p=c.findChildren(l,"ContentProtection"),p=shaka.dash.ContentProtection.parseFromRepresentation(p,t,this.config_.dash.ignoreDrmInfo,this.config_.dash.keySystemsByURI),p=new Set(p?[p]:[]);var y=!1;c.findChildren(l,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(e.representation.mimeType="audio/eac3-joc",y=!0);var b,k,E=!1;if(h&&(E=o.includes("forced_subtitle")),d&&((l=c.findChildren(l,"EssentialProperty").find((function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.getAttribute("schemeIdUri"))})))&&(b=l.getAttribute("value")),!b))return null;l=e.representation.codecs,e.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(l.includes("hvc1.2.4.L153.B0")||l.includes("hev1.2.4.L153.B0"))&&(k="PQ");var _={id:this.globalId_++,originalId:e.representation.id,createSegmentIndex:function(){var e;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress)return _.segmentIndex?t.jumpTo(0):(e=_,t.yield(g.generateSegmentIndex(),3));e.segmentIndex=t.yieldResult,t.jumpToEnd()}))},segmentIndex:null,mimeType:e.representation.mimeType,codecs:e.representation.codecs,frameRate:e.representation.frameRate,pixelAspectRatio:e.representation.pixelAspectRatio,bandwidth:e.bandwidth,width:e.representation.width,height:e.representation.height,kind:r,encrypted:0<t.drmInfos.length,drmInfos:t.drmInfos,keyIds:p,language:n,label:i,type:e.adaptationSet.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:e.representation.emsgSchemeIdUris,roles:o,forced:E,channelsCount:e.representation.numChannels,audioSamplingRate:e.representation.audioSamplingRate,spatialAudio:y,closedCaptions:s,hdr:k,tilesLayout:b};return _},shaka.dash.DashParser.prototype.onUpdate_=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){switch(n.nextAddress){case 1:return goog.asserts.assert(0<=r.updatePeriod_,"There should be an update period"),shaka.log.info("Updating manifest..."),e=0,n.setCatchFinallyBlocks(2),n.yield(r.requestManifest_(),4);case 4:e=n.yieldResult,n.leaveTryBlock(3);break;case 2:t=n.enterCatchBlock(),goog.asserts.assert(t instanceof shaka.util.Error,"Should only receive a Shaka error"),r.playerInterface_&&(t.severity=shaka.util.Error.Severity.RECOVERABLE,r.playerInterface_.onError(t));case 3:if(!r.playerInterface_)return n.return();r.setUpdateTimer_(e),n.jumpToEnd()}}))},shaka.dash.DashParser.prototype.setUpdateTimer_=function(e){0>this.updatePeriod_||(e=Math.max(shaka.dash.DashParser.MIN_UPDATE_PERIOD_,this.updatePeriod_-e,this.averageUpdateDuration_.getEstimate()),this.updateTimer_.tickAfter(e))},shaka.dash.DashParser.prototype.createFrame_=function(e,t,r){goog.asserts.assert(t||r,"Must provide either parent or baseUris");var n=shaka.util.ManifestParserUtils,i=shaka.util.XmlUtils;t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,numChannels:null,audioSamplingRate:null,availabilityTimeOffset:0},r=r||t.baseUris;var a=i.parseNonNegativeInt,o=i.evalDivision,s=i.findChildren(e,"BaseURL"),l=s.map(i.getContents),u=e.getAttribute("contentType")||t.contentType,c=e.getAttribute("mimeType")||t.mimeType,d=e.getAttribute("codecs")||t.codecs;o=i.parseAttr(e,"frameRate",o)||t.frameRate;var f=e.getAttribute("sar")||t.pixelAspectRatio,p=this.emsgSchemeIdUris_(i.findChildren(e,"InbandEventStream"),t.emsgSchemeIdUris),h=i.findChildren(e,"AudioChannelConfiguration");h=this.parseAudioChannels_(h)||t.numChannels;var g=i.parseAttr(e,"audioSamplingRate",a)||t.audioSamplingRate;u||(u=shaka.dash.DashParser.guessContentType_(c,d));var m=i.findChild(e,"SegmentBase"),v=i.findChild(e,"SegmentTemplate"),y=m&&i.parseAttr(m,"availabilityTimeOffset",i.parseFloat)||0,b=v&&i.parseAttr(v,"availabilityTimeOffset",i.parseFloat)||0;return s=s&&s.length&&i.parseAttr(s[0],"availabilityTimeOffset",i.parseFloat)||0,s=t.availabilityTimeOffset+s+y+b,{baseUris:n.resolveUris(r,l),segmentBase:m||t.segmentBase,segmentList:i.findChild(e,"SegmentList")||t.segmentList,segmentTemplate:v||t.segmentTemplate,width:i.parseAttr(e,"width",a)||t.width,height:i.parseAttr(e,"height",a)||t.height,contentType:u,mimeType:c,codecs:d,frameRate:o,pixelAspectRatio:f,emsgSchemeIdUris:p,id:e.getAttribute("id"),numChannels:h,audioSamplingRate:g,availabilityTimeOffset:s}},shaka.dash.DashParser.prototype.emsgSchemeIdUris_=function(e,t){for(var r=t.slice(),n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())i=i.value.getAttribute("schemeIdUri"),r.includes(i)||r.push(i);return r},shaka.dash.DashParser.prototype.parseAudioChannels_=function(e){for(var t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){var r=t.value;if((t=r.getAttribute("schemeIdUri"))&&(r=r.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return r.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var n=parseInt(r,10);if(!n){shaka.log.warning("Channel parsing failure! Ignoring scheme and value",t,r);continue}return n;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(n=parseInt(r,16))){shaka.log.warning("Channel parsing failure! Ignoring scheme and value",t,r);continue}for(e=0;n;)1&n&&++e,n>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14];var i=parseInt(r,10);if(!i){shaka.log.warning("Channel parsing failure! Ignoring scheme and value",t,r);continue}if(0<i&&i<n.length)return n[i];continue;default:shaka.log.warning("Unrecognized audio channel scheme:",t,r)}}return null},shaka.dash.DashParser.prototype.verifyRepresentation_=function(e){var t=shaka.util.ManifestParserUtils.ContentType,r=e.segmentBase?1:0;return r+=e.segmentList?1:0,0==(r+=e.segmentTemplate?1:0)?e.contentType==t.TEXT||e.contentType==t.APPLICATION||(shaka.log.warning("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',e),!1):(1!=r&&(shaka.log.warning("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",e),e.segmentBase?(shaka.log.info("Using SegmentBase by default."),e.segmentList=null):(goog.asserts.assert(e.segmentList,"There should be a SegmentList"),shaka.log.info("Using SegmentList by default.")),e.segmentTemplate=null),!0)},shaka.dash.DashParser.prototype.requestForTiming_=function(e,t,r){var n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){if(1==d.nextAddress)return n=shaka.util.ManifestParserUtils.resolveUris(e,[t]),(i=shaka.net.NetworkingEngine.makeRequest(n,c.config_.retryParameters)).method=r,a=shaka.net.NetworkingEngine.RequestType.TIMING,o=c.playerInterface_.networkingEngine.request(a,i),c.operationManager_.manage(o),d.yield(o.promise,2);if(s=d.yieldResult,"HEAD"==r){if(!s.headers||!s.headers.date)return shaka.log.warning("UTC timing response is missing","expected date header"),d.return(0);l=s.headers.date}else l=shaka.util.StringUtils.fromUTF8(s.data);return u=Date.parse(l),isNaN(u)?(shaka.log.warning("Unable to parse date from UTC timing response"),d.return(0)):d.return(u-Date.now())}))},shaka.dash.DashParser.prototype.parseUtcTiming_=function(e,t){var r,n,i,a,o,s,l,u,c,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){switch(f.nextAddress){case 1:r=t.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),n=d.config_.dash.clockSyncUri,!r.length&&n&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:n}),i=$jscomp.makeIterator(r),a=i.next();case 2:if(a.done){f.jumpTo(4);break}switch(o=a.value,f.setCatchFinallyBlocks(5),s=o.scheme,l=o.value,s){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.jumpTo(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.jumpTo(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return u=Date.parse(l),f.return(isNaN(u)?0:u-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":shaka.log.alwaysWarn("NTP UTCTiming scheme is not supported");break;default:shaka.log.alwaysWarn("Unrecognized scheme in UTCTiming element",s)}f.jumpTo(9);break;case 7:return f.yield(d.requestForTiming_(e,l,"HEAD"),10);case 10:return f.return(f.yieldResult);case 8:return f.yield(d.requestForTiming_(e,l,"GET"),11);case 11:return f.return(f.yieldResult);case 9:f.leaveTryBlock(3);break;case 5:c=f.enterCatchBlock(),shaka.log.warning("Error fetching time from UTCTiming elem",c.message);case 3:a=i.next(),f.jumpTo(2);break;case 4:return shaka.log.alwaysWarn("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))},shaka.dash.DashParser.prototype.parseEventStream_=function(e,t,r){for(var n=shaka.util.XmlUtils,i=n.parseNonNegativeInt,a=r.getAttribute("schemeIdUri")||"",o=r.getAttribute("value")||"",s=n.parseAttr(r,"timescale",i)||1,l=(r=$jscomp.makeIterator(n.findChildren(r,"Event"))).next();!l.done;l=r.next()){l=l.value;var u=n.parseAttr(l,"presentationTime",i)||0,c=n.parseAttr(l,"duration",i)||0;c=(u=u/s+e)+c/s,null!=t&&(u=Math.min(u,e+t),c=Math.min(c,e+t)),l={schemeIdUri:a,value:o,startTime:u,endTime:c,id:l.getAttribute("id")||"",eventElement:l},this.playerInterface_.onTimelineRegionAdded(l)}},shaka.dash.DashParser.prototype.requestInitSegment_=function(e,t,r){var n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){return 1==u.nextAddress?(n=shaka.net.NetworkingEngine.RequestType.SEGMENT,i=shaka.util.Networking.createSegmentRequest(e,t,r,l.config_.retryParameters),a=l.playerInterface_.networkingEngine,o=a.request(n,i),l.operationManager_.manage(o),u.yield(o.promise,2)):(s=u.yieldResult,u.return(s.data))}))},shaka.dash.DashParser.guessContentType_=function(e,t){var r=shaka.util.MimeUtils.getFullType(e,t);return shaka.text.TextEngine.isTypeSupported(r)?shaka.util.ManifestParserUtils.ContentType.TEXT:e.split("/")[0]},goog.exportSymbol("shaka.dash.DashParser",shaka.dash.DashParser),shaka.dash.DashParser.MIN_UPDATE_PERIOD_=3,shaka.media.ManifestParser.registerParserByExtension("mpd",(function(){return new shaka.dash.DashParser})),shaka.media.ManifestParser.registerParserByMime("application/dash+xml",(function(){return new shaka.dash.DashParser})),shaka.media.ManifestParser.registerParserByMime("video/vnd.mpeg.dash.mpd",(function(){return new shaka.dash.DashParser})),shaka.hls={},shaka.hls.Playlist=function(e,t,r,n){this.absoluteUri=e,this.type=t,this.tags=r,this.segments=n||null},shaka.hls.PlaylistType={MASTER:0,MEDIA:1},shaka.hls.Tag=function(e,t,r,n){this.id=e,this.name=t,this.attributes=r,this.value=void 0===n?null:n},shaka.hls.Tag.prototype.toString=function(){var e=function(e){var t=isNaN(Number(e.value))?'"'+e.value+'"':e.value;return e.name+"="+t},t="#"+this.name;return e=this.attributes?this.attributes.map(e):[],this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t},shaka.hls.Tag.prototype.addAttribute=function(e){this.attributes.push(e)},shaka.hls.Tag.prototype.getAttribute=function(e){var t=this.attributes.filter((function(t){return t.name==e}));return goog.asserts.assert(2>t.length,"A tag should not have multiple attributes with the same name!"),t.length?t[0]:null},shaka.hls.Tag.prototype.getAttributeValue=function(e,t){var r=this.getAttribute(e);return r?r.value:t||null},shaka.hls.Tag.prototype.getRequiredAttrValue=function(e){var t=this.getAttribute(e);if(!t)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_REQUIRED_ATTRIBUTE_MISSING,e);return t.value},shaka.hls.Tag.prototype.setName=function(e){this.name=e},shaka.hls.Segment=function(e,t,r){r=void 0===r?[]:r,this.tags=t,this.absoluteUri=e,this.partialSegments=r},shaka.hls.Attribute=function(e,t){this.name=e,this.value=t},shaka.hls.Utils=function(){},shaka.hls.Utils.filterTagsByName=function(e,t){return e.filter((function(e){return e.name==t}))},shaka.hls.Utils.filterTagsByType=function(e,t){return e.filter((function(e){return e.getRequiredAttrValue("TYPE")==t}))},shaka.hls.Utils.getFirstTagWithName=function(e,t){var r=shaka.hls.Utils.filterTagsByName(e,t);return r.length?r[0]:null},shaka.hls.Utils.getFirstTagWithNameAsNumber=function(e,t,r){return r=void 0===r?0:r,(e=shaka.hls.Utils.getFirstTagWithName(e,t))?Number(e.value):r},shaka.hls.Utils.constructAbsoluteUri=function(e,t){return shaka.util.ManifestParserUtils.resolveUris([e],[t])[0]},shaka.hls.Utils.isComment=function(e){return/^#(?!EXT)/m.test(e)},shaka.util.TextParser=function(e){this.data_=e,this.position_=0},shaka.util.TextParser.prototype.atEnd=function(){return this.position_==this.data_.length},shaka.util.TextParser.prototype.readLine=function(){return this.readRegexReturnCapture_(/(.*?)(\n|$)/gm,1)},shaka.util.TextParser.prototype.readWord=function(){return this.readRegexReturnCapture_(/[^ \t\n]*/gm,0)},shaka.util.TextParser.prototype.skipWhitespace=function(){this.readRegex(/[ \t]+/gm)},shaka.util.TextParser.prototype.readRegex=function(e){return e=this.indexOf_(e),this.atEnd()||null==e||e.position!=this.position_?null:(this.position_+=e.length,e.results)},shaka.util.TextParser.prototype.readRegexReturnCapture_=function(e,t){if(this.atEnd())return null;var r=this.readRegex(e);return r?r[t]:null},shaka.util.TextParser.prototype.indexOf_=function(e){return goog.asserts.assert(e.global,"global flag should be set"),e.lastIndex=this.position_,null==(e=e.exec(this.data_))?null:{position:e.index,length:e[0].length,results:e}},shaka.hls.ManifestTextParser=function(){this.globalId_=0},shaka.hls.ManifestTextParser.prototype.parsePlaylist=function(e,t){var r=shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS,n=shaka.hls.ManifestTextParser.SEGMENT_TAGS,i=shaka.util.StringUtils.fromUTF8(e),a=(i=i.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(a[0]))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_PLAYLIST_HEADER_MISSING);i=shaka.hls.PlaylistType.MASTER;for(var o=!0,s=$jscomp.makeIterator(a),l=s.next();!l.done;l=s.next())if(l=l.value,shaka.hls.Utils.isComment(l)||o)o=!1;else{if(l=this.parseTag_(l),--this.globalId_,r.includes(l.name)){i=shaka.hls.PlaylistType.MEDIA;break}"EXT-X-STREAM-INF"==l.name&&(o=!0)}for(r=[],o=!0,l=(s=$jscomp.makeIterator(shaka.util.Iterables.enumerate(a))).next();!l.done;l=s.next()){var u=l.value;l=u.i;var c=u.item;if(u=u.next,shaka.hls.Utils.isComment(c)||o)o=!1;else{if(c=this.parseTag_(c),n.includes(c.name)){if(i!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);return n=a.splice(l,a.length-l),n=this.parseSegments_(t,n,r),new shaka.hls.Playlist(t,i,r,n)}r.push(c),"EXT-X-STREAM-INF"==c.name&&(o=new shaka.hls.Attribute("URI",u),c.addAttribute(o),o=!0)}}return new shaka.hls.Playlist(t,i,r)},shaka.hls.ManifestTextParser.prototype.parseSegments_=function(e,t,r){for(var n=[],i=[],a=[],o=null,s=(t=$jscomp.makeIterator(t)).next();!s.done;s=t.next())s=s.value,/^(#EXT)/.test(s)?(s=this.parseTag_(s),shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS.includes(s.name)?r.push(s):"EXT-X-MAP"==s.name?o=s:"EXT-X-PART"==s.name?a.push(s):"EXT-X-PRELOAD-HINT"==s.name?"PART"==s.getAttributeValue("TYPE")?a.push(s):"MAP"==s.getAttributeValue("TYPE")&&(s.setName("EXT-X-MAP"),o=s):i.push(s)):shaka.hls.Utils.isComment(s)||(s=s.trim(),s=shaka.hls.Utils.constructAbsoluteUri(e,s),o&&i.push(o),i=new shaka.hls.Segment(s,i,a),n.push(i),i=[],a=[]);return a.length&&(o&&i.push(o),e=new shaka.hls.Segment("",i,a),n.push(e)),n},shaka.hls.ManifestTextParser.prototype.parseTag_=function(e){return shaka.hls.ManifestTextParser.parseTag(this.globalId_++,e)},shaka.hls.ManifestTextParser.parseTag=function(e,t){var r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.INVALID_HLS_TAG,t);var n,i=r[1],a=r[2];if(r=[],a){var o,s=(a=new shaka.util.TextParser(a)).readRegex(/^([^,=]+)(?:,|$)/g);for(s&&(n=s[1]),s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=a.readRegex(s);)o=new shaka.hls.Attribute(o[1],o[2]||o[3]),r.push(o)}return new shaka.hls.Tag(e,i,r,n)},shaka.hls.ManifestTextParser.MEDIA_PLAYLIST_TAGS="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),shaka.hls.ManifestTextParser.SEGMENT_TAGS="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" "),shaka.net.DataUriPlugin=function(){},shaka.net.DataUriPlugin.parse=function(e,t,r,n){try{var i=shaka.net.DataUriPlugin.parseRaw(e);return shaka.util.AbortableOperation.completed({uri:e,originalUri:e,data:i.data,headers:{"content-type":i.contentType}})}catch(a){return shaka.util.AbortableOperation.failed(a)}},shaka.net.DataUriPlugin.parseRaw=function(e){var t=e.split(":");if(2>t.length||"data"!=t[0])throw shaka.log.error("Bad data URI, failed to parse scheme"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_DATA_URI,e);if(2>(t=t.slice(1).join(":").split(",")).length)throw shaka.log.error("Bad data URI, failed to extract encoding and MIME type"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_DATA_URI,e);var r=t[0];e=window.decodeURIComponent(t.slice(1).join(",")),t=r.split(";"),r=t[0];var n=!1;return 1<t.length&&"base64"==t[t.length-1]&&(n=!0,t.pop()),{data:n?shaka.util.Uint8ArrayUtils.fromBase64(e):shaka.util.StringUtils.toUTF8(e),contentType:r}},goog.exportSymbol("shaka.net.DataUriPlugin",shaka.net.DataUriPlugin),goog.exportProperty(shaka.net.DataUriPlugin,"parse",shaka.net.DataUriPlugin.parse),shaka.net.NetworkingEngine.registerScheme("data",shaka.net.DataUriPlugin.parse),shaka.hls.HlsParser=function(){var e=this;this.config_=this.playerInterface_=null,this.globalId_=1,this.globalVariables_=new Map,this.groupIdToStreamInfosMap_=new Map,this.variantUriSet_=new Set,this.uriToStreamInfosMap_=new Map,this.presentationTimeline_=null,this.masterPlaylistUri_="",this.manifestTextParser_=new shaka.hls.ManifestTextParser,this.updatePlaylistDelay_=0,this.updatePlaylistTimer_=new shaka.util.Timer((function(){e.onUpdate_()})),this.presentationType_=shaka.hls.HlsParser.PresentationType_.VOD,this.manifest_=null,this.maxTargetDuration_=0,this.minTargetDuration_=1/0,this.lowLatencyPresentationDelay_=this.partialTargetDuration_=0,this.operationManager_=new shaka.util.OperationManager,this.segmentsToNotifyByStream_=[],this.groupIdToClosedCaptionsMap_=new Map,this.aesEncrypted_=!1,this.groupIdToCodecsMap_=new Map,this.playlistStartTime_=null,this.mapTagToInitSegmentRefMap_=new Map,this.discontinuityToTso_=new Map,this.lowLatencyMode_=!1},shaka.hls.HlsParser.prototype.configure=function(e){this.config_=e},shaka.hls.HlsParser.prototype.start=function(e,t){var r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(goog.asserts.assert(i.config_,"Must call configure() before start()!"),i.playerInterface_=t,i.lowLatencyMode_=t.isLowLatencyMode(),a.yield(i.requestManifest_(e),2)):3!=a.nextAddress?(r=a.yieldResult,i.masterPlaylistUri_=r.uri,goog.asserts.assert(r.data,"Response data should be non-null!"),a.yield(i.parseManifest_(r.data),3)):(0<(n=i.updatePlaylistDelay_)&&i.updatePlaylistTimer_.tickAfter(n),goog.asserts.assert(i.manifest_,"Manifest should be non-null"),a.return(i.manifest_))}))},shaka.hls.HlsParser.prototype.stop=function(){this.updatePlaylistTimer_&&(this.updatePlaylistTimer_.stop(),this.updatePlaylistTimer_=null);var e=[];return this.operationManager_&&(e.push(this.operationManager_.destroy()),this.operationManager_=null),this.config_=this.playerInterface_=null,this.variantUriSet_.clear(),this.manifest_=null,this.uriToStreamInfosMap_.clear(),this.groupIdToStreamInfosMap_.clear(),this.groupIdToCodecsMap_.clear(),this.globalVariables_.clear(),Promise.all(e)},shaka.hls.HlsParser.prototype.update=function(){var e,t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){if(1==i.nextAddress)return n.isLive_()?(e=[],n.playlistStartTime_=null,(t=Array.from(n.uriToStreamInfosMap_.values())).length?i.yield(n.updateStream_(t[0]),2):i.jumpTo(2)):i.return();for(r=1;r<t.length;r++)e.push(n.updateStream_(t[r]));return i.yield(Promise.all(e),0)}))},shaka.hls.HlsParser.prototype.updateStream_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(h){if(1==h.nextAddress)return t=shaka.hls.HlsParser.PresentationType_,r=e.absoluteMediaPlaylistUri,n=new goog.Uri(r),p.lowLatencyMode_&&e.canSkipSegments&&n.setQueryData(new goog.Uri.QueryData("_HLS_skip=YES")),h.yield(p.requestManifest_(n.toString()),2);if(3!=h.nextAddress){if(i=h.yieldResult,(a=p.manifestTextParser_.parsePlaylist(i.data,i.uri)).type!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);return o=shaka.hls.Utils.filterTagsByName(a.tags,"EXT-X-DEFINE"),s=p.parseMediaVariables_(o),l=e.stream,h.yield(p.createSegments_(e.verbatimMediaPlaylistUri,a,l.type,l.mimeType,e.mediaSequenceToStartTime,s,e.discontinuityToMediaSequence),3)}u=h.yieldResult,l.segmentIndex.mergeAndEvict(u,p.presentationTimeline_.getSegmentAvailabilityStart()),u.length&&(c=shaka.hls.Utils.getFirstTagWithNameAsNumber(a.tags,"EXT-X-MEDIA-SEQUENCE",0),d=e.mediaSequenceToStartTime.get(c),l.segmentIndex.evict(d)),f=u[u.length-1],goog.asserts.assert(f,"Should have segments!"),shaka.hls.Utils.getFirstTagWithName(a.tags,"EXT-X-ENDLIST")&&(p.setPresentationType_(t.VOD),p.presentationTimeline_.setDuration(f.endTime)),h.jumpToEnd()}))},shaka.hls.HlsParser.prototype.onExpirationUpdated=function(e,t){},shaka.hls.HlsParser.prototype.parseManifest_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,E,_,S,T,w,x,O=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(P){switch(P.nextAddress){case 1:if(t=shaka.hls.Utils,goog.asserts.assert(O.masterPlaylistUri_,"Master playlist URI must be set before calling parseManifest_!"),(r=O.manifestTextParser_.parsePlaylist(e,O.masterPlaylistUri_)).type!=shaka.hls.PlaylistType.MASTER)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_MASTER_PLAYLIST_NOT_PROVIDED);for(n=t.filterTagsByName(r.tags,"EXT-X-DEFINE"),O.parseMasterVariables_(n),i=t.filterTagsByName(r.tags,"EXT-X-MEDIA"),a=t.filterTagsByName(r.tags,"EXT-X-STREAM-INF"),O.parseCodecs_(a),o=t.filterTagsByName(r.tags,"EXT-X-SESSION-DATA"),s=$jscomp.makeIterator(o),l=s.next();!l.done;l=s.next())u=l.value,c=u.getAttributeValue("DATA-ID"),d=u.getAttributeValue("URI"),f=u.getAttributeValue("LANGUAGE"),p=u.getAttributeValue("VALUE"),h={id:c},d&&(h.uri=shaka.hls.Utils.constructAbsoluteUri(O.masterPlaylistUri_,d)),f&&(h.language=f),p&&(h.value=p),g=new shaka.util.FakeEvent("sessiondata",h),O.playerInterface_&&O.playerInterface_.onEvent(g);return P.yield(O.createStreamInfosFromMediaTags_(i),2);case 2:return O.parseClosedCaptions_(i),P.yield(O.createVariantsForTags_(a),3);case 3:return m=P.yieldResult,P.yield(O.parseTexts_(i),4);case 4:if(v=P.yieldResult,!O.playerInterface_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);if(O.aesEncrypted_&&0==m.length)throw shaka.log.info("No stream is created, because we don't support AES-128","encryption yet"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_AES_128_ENCRYPTION_NOT_SUPPORTED);for(b=y=1/0,k=$jscomp.makeIterator(O.uriToStreamInfosMap_.values()),E=k.next();!E.done;E=k.next())_=E.value,y=Math.min(y,_.minTimestamp),"text"!=_.stream.type&&(b=Math.min(b,_.maxTimestamp-_.minTimestamp));if(goog.asserts.assert(null==O.presentationTimeline_,"Presentation timeline created early!"),O.createPresentationTimeline_(),goog.asserts.assert(O.presentationTimeline_,"Presentation timeline not created!"),O.isLive_())O.updatePlaylistDelay_=O.minTargetDuration_,S=shaka.hls.HlsParser.PresentationType_,O.presentationType_==S.LIVE&&(T=O.presentationTimeline_.getDelay(),isNaN(O.config_.availabilityWindowOverride)||(T=O.config_.availabilityWindowOverride),O.presentationTimeline_.setSegmentAvailabilityDuration(T));else for(O.presentationTimeline_.setDuration(b),O.presentationTimeline_.offset(-y),w=$jscomp.makeIterator(O.uriToStreamInfosMap_.values()),E=w.next();!E.done;E=w.next())(x=E.value).stream.segmentIndex.offset(-y),x.stream.segmentIndex.fit(0,b);O.manifest_={presentationTimeline:O.presentationTimeline_,variants:m,textStreams:v,imageStreams:[],offlineSessionIds:[],minBufferTime:0},O.playerInterface_.makeTextStreamsForClosedCaptions(O.manifest_),P.jumpToEnd()}}))},shaka.hls.HlsParser.prototype.parseMasterVariables_=function(e){for(var t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){var r=t.value;t=r.getAttributeValue("NAME"),r=r.getAttributeValue("VALUE"),t&&r&&(this.globalVariables_.has(t)||this.globalVariables_.set(t,r))}},shaka.hls.HlsParser.prototype.parseMediaVariables_=function(e){for(var t=new Map,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){var n=r.value;r=n.getAttributeValue("NAME");var i=n.getAttributeValue("VALUE");n=n.getAttributeValue("IMPORT"),r&&i&&t.set(r,i),n&&(r=this.globalVariables_.get(n))&&t.set(n,r)}return t},shaka.hls.HlsParser.prototype.parseCodecs_=function(e){for(var t=shaka.util.ManifestParserUtils.ContentType,r=(e=$jscomp.makeIterator(e)).next();!r.done;r=e.next()){var n=r.value,i=n.getAttributeValue("AUDIO");r=n.getAttributeValue("VIDEO");var a=n.getAttributeValue("SUBTITLES");if(n=this.getCodecsForVariantTag_(n),a){var o=shaka.util.ManifestParserUtils.guessCodecsSafe(t.TEXT,n);goog.asserts.assert(null!=o,"Text codecs should be valid."),this.groupIdToCodecsMap_.set(a,o),shaka.util.ArrayUtils.remove(n,o)}i&&(a=shaka.util.ManifestParserUtils.guessCodecs(t.AUDIO,n),this.groupIdToCodecsMap_.set(i,a)),r&&(i=shaka.util.ManifestParserUtils.guessCodecs(t.VIDEO,n),this.groupIdToCodecsMap_.set(r,i))}},shaka.hls.HlsParser.prototype.parseTexts_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(p){if(1==p.nextAddress)return t=shaka.hls.Utils.filterTagsByType(e,"SUBTITLES"),r=t.map((function(e){var t,r;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){if(1==n.nextAddress)return f.config_.disableText?n.return(null):(n.setCatchFinallyBlocks(2),n.yield(f.createStreamInfoFromMediaTag_(e),4));if(2!=n.nextAddress)return t=n.yieldResult,goog.asserts.assert(t,"Should always have a streamInfo for text"),n.return(t.stream);if(r=n.enterCatchBlock(),f.config_.hls.ignoreTextStreamFailures)return n.return(null);throw r}))})),p.yield(Promise.all(r),2);for(n=p.yieldResult,i=$jscomp.makeIterator(t),a=i.next();!a.done;a=i.next())if(o=a.value,s=o.getRequiredAttrValue("GROUP-ID"),(l=f.groupIdToCodecsMap_.get(s))&&(u=f.groupIdToStreamInfosMap_.get(s)))for(c=$jscomp.makeIterator(u),d=c.next();!d.done;d=c.next())d.value.stream.codecs=l;return p.return(n.filter((function(e){return e})))}))},shaka.hls.HlsParser.prototype.createStreamInfosFromMediaTags_=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(e=e.filter((function(e){var t=e.getAttributeValue("URI")||"";return"SUBTITLES"!=e.getAttributeValue("TYPE")&&""!=t}))).length?n.yield(r.createStreamInfoFromMediaTag_(e[0]),2):n.jumpTo(2):(t=e.slice(1).map((function(e){return r.createStreamInfoFromMediaTag_(e)})),n.yield(Promise.all(t),0))}))},shaka.hls.HlsParser.prototype.createVariantsForTags_=function(e){var t,r,n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(t=e.map((function(e){var t,r,n,a,o,s,l,u;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){return 1==c.nextAddress?(t=e.getAttributeValue("FRAME-RATE"),r=Number(e.getAttributeValue("AVERAGE-BANDWIDTH"))||Number(e.getRequiredAttrValue("BANDWIDTH")),n=e.getAttributeValue("RESOLUTION"),a=$jscomp.makeIterator(n?n.split("x"):[null,null]),o=a.next().value,s=a.next().value,l=e.getAttributeValue("VIDEO-RANGE"),c.yield(i.createStreamInfosForVariantTag_(e,n,t),2)):(u=c.yieldResult)?(goog.asserts.assert(u.audio.length||u.video.length,"We should have created a stream!"),c.return(i.createVariants_(u.audio,u.video,r,o,s,t,l))):c.return([])}))})),a.yield(Promise.all(t),2)):(r=a.yieldResult,n=(n=r.reduce(shaka.util.Functional.collapseArrays,[])).filter((function(e){return null!=e})),a.return(n))}))},shaka.hls.HlsParser.prototype.createStreamInfosForVariantTag_=function(e,t,r){var n,i,a,o,s,l,u,c,d,f,p,h,g,m,v=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress)return n=shaka.util.ManifestParserUtils.ContentType,i=v.getCodecsForVariantTag_(e),a=e.getAttributeValue("AUDIO"),o=e.getAttributeValue("VIDEO"),goog.asserts.assert(null==a||null==o,"Unexpected: both video and audio described by media tags!"),l=(s=a||o)&&v.groupIdToStreamInfosMap_.has(s)?v.groupIdToStreamInfosMap_.get(s):[],u={audio:a?l:[],video:o?l:[]},shaka.log.debug("Guessing stream type for",e.toString()),d=!1,f=e.getRequiredAttrValue("URI"),p=u.audio.find((function(e){return e&&e.verbatimMediaPlaylistUri==f})),h=shaka.util.ManifestParserUtils.guessCodecsSafe(n.VIDEO,i),(g=shaka.util.ManifestParserUtils.guessCodecsSafe(n.AUDIO,i))&&!h?(c=n.AUDIO,shaka.log.debug("Guessing audio-only.")):!l.length&&g&&h?(shaka.log.debug("Guessing multiplexed audio+video."),c=n.VIDEO,i=[[h,g].join()]):u.audio.length&&p?(shaka.log.debug("Guessing audio-only."),c=n.AUDIO,d=!0):u.video.length?(shaka.log.debug("Guessing audio-only."),c=n.AUDIO):(shaka.log.debug("Guessing video-only."),c=n.VIDEO),d?t.jumpTo(2):t.yield(v.createStreamInfoFromVariantTag_(e,i,c),3);if(2!=t.nextAddress&&(m=t.yieldResult),m)u[m.stream.type]=[m];else if(null===m)return shaka.log.debug("streamInfo is null"),t.return(null);return v.filterLegacyCodecs_(u),t.return(u)}))},shaka.hls.HlsParser.prototype.getCodecsForVariantTag_=function(e){var t=[];this.config_.disableVideo||t.push("avc1.42E01E"),this.config_.disableAudio||t.push("mp4a.40.2"),t=t.join(",");var r=e.getAttributeValue("CODECS",t).split(/\s*,\s*/);e=new Set,t=[];for(var n=(r=$jscomp.makeIterator(r)).next();!n.done;n=r.next()){n=n.value;var i=shaka.util.MimeUtils.getCodecBase(n);e.has(i)?shaka.log.debug("Ignoring duplicate codec"):(t.push(n),e.add(i))}return t},shaka.hls.HlsParser.prototype.getChannelsCount_=function(e){return(e=e.getAttributeValue("CHANNELS"))?(e=e.split("/")[0],parseInt(e,10)):null},shaka.hls.HlsParser.prototype.isSpatialAudio_=function(e){return!!(e=e.getAttributeValue("CHANNELS"))&&e.includes("/JOC")},shaka.hls.HlsParser.prototype.getClosedCaptions_=function(e,t){var r=shaka.util.ManifestParserUtils.ContentType,n=e.getAttributeValue("CLOSED-CAPTIONS");return t==r.VIDEO&&n&&"NONE"!=n?this.groupIdToClosedCaptionsMap_.get(n):null},shaka.hls.HlsParser.prototype.getLanguage_=function(e){var t=shaka.util.LanguageUtils;return e=e.getAttributeValue("LANGUAGE")||"und",t.normalize(e)},shaka.hls.HlsParser.prototype.getType_=function(e){return"subtitles"==(e=e.getRequiredAttrValue("TYPE").toLowerCase())&&(e=shaka.util.ManifestParserUtils.ContentType.TEXT),e},shaka.hls.HlsParser.prototype.filterLegacyCodecs_=function(e){for(var t=(e=$jscomp.makeIterator(e.audio.concat(e.video))).next();!t.done;t=e.next())if(t=t.value){var r=t.stream.codecs.split(",");r=r.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=r.join(",")}},shaka.hls.HlsParser.prototype.createVariants_=function(e,t,r,n,i,a,o){for(var s=shaka.util.ManifestParserUtils.ContentType,l=shaka.media.DrmEngine,u=$jscomp.makeIterator(t),c=u.next();!c.done;c=u.next())this.addVideoAttributes_(c.value.stream,n,i,a,o);for(n=this.config_.disableAudio,e.length&&!n||(e=[null]),n=this.config_.disableVideo,t.length&&!n||(t=[null]),n=[],i=(e=$jscomp.makeIterator(e)).next();!i.done;i=e.next())for(i=i.value,o=(a=$jscomp.makeIterator(t)).next();!o.done;o=a.next()){var d=o.value;o=i?i.stream:null,u=d?d.stream:null,c=i?i.stream.drmInfos:null;var f=d?d.stream.drmInfos:null;d=(d?d.verbatimMediaPlaylistUri:"")+" - "+(i?i.verbatimMediaPlaylistUri:""),o&&u&&!l.areDrmCompatible(c,f)?shaka.log.warning("Incompatible DRM info in HLS variant.  Skipping."):this.variantUriSet_.has(d)?shaka.log.debug("Skipping variant which only differs in text streams."):(goog.asserts.assert(!o||o.type==s.AUDIO,"Audio parameter mismatch!"),goog.asserts.assert(!u||u.type==s.VIDEO,"Video parameter mismatch!"),o={id:this.globalId_++,language:o?o.language:"und",primary:!!o&&o.primary||!!u&&u.primary,audio:o,video:u,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},n.push(o),this.variantUriSet_.add(d))}return n},shaka.hls.HlsParser.prototype.parseClosedCaptions_=function(e){e=shaka.hls.Utils.filterTagsByType(e,"CLOSED-CAPTIONS");for(var t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){var r=t.value;goog.asserts.assert("EXT-X-MEDIA"==r.name,"Should only be called on media tags!"),t=this.getLanguage_(r);var n=r.getRequiredAttrValue("GROUP-ID");r=r.getRequiredAttrValue("INSTREAM-ID"),this.groupIdToClosedCaptionsMap_.get(n)||this.groupIdToClosedCaptionsMap_.set(n,new Map),this.groupIdToClosedCaptionsMap_.get(n).set(r,t)}},shaka.hls.HlsParser.prototype.createStreamInfoFromMediaTag_=function(e){var t,r,n,i,a,o,s,l,u,c,d,f,p,h,g=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(m){return 1==m.nextAddress?(goog.asserts.assert("EXT-X-MEDIA"==e.name,"Should only be called on media tags!"),t=e.getRequiredAttrValue("GROUP-ID"),r="",(n=g.getType_(e))!=shaka.util.ManifestParserUtils.ContentType.TEXT&&t&&g.groupIdToCodecsMap_.has(t)&&(r=g.groupIdToCodecsMap_.get(t)),i=g.variableSubstitution_(e.getRequiredAttrValue("URI"),g.globalVariables_),g.uriToStreamInfosMap_.has(i)?m.return(g.uriToStreamInfosMap_.get(i)):(a=g.getLanguage_(e),o=e.getAttributeValue("NAME"),s=e.getAttribute("DEFAULT"),l="YES"==s,u="audio"==n?g.getChannelsCount_(e):null,c="audio"==n&&g.isSpatialAudio_(e),d=e.getAttributeValue("CHARACTERISTICS"),f=e.getAttributeValue("FORCED"),p="YES"==f,m.yield(g.createStreamInfo_(i,r,n,a,l,o,u,null,d,p,c),2))):(h=m.yieldResult,g.groupIdToStreamInfosMap_.has(t)?g.groupIdToStreamInfosMap_.get(t).push(h):g.groupIdToStreamInfosMap_.set(t,[h]),null==h?m.return(null):g.uriToStreamInfosMap_.has(i)?m.return(g.uriToStreamInfosMap_.get(i)):(g.uriToStreamInfosMap_.set(i,h),m.return(h)))}))},shaka.hls.HlsParser.prototype.createStreamInfoFromVariantTag_=function(e,t,r){var n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){return 1==l.nextAddress?(goog.asserts.assert("EXT-X-STREAM-INF"==e.name,"Should only be called on variant tags!"),n=s.variableSubstitution_(e.getRequiredAttrValue("URI"),s.globalVariables_),s.uriToStreamInfosMap_.has(n)?l.return(s.uriToStreamInfosMap_.get(n)):(i=s.getClosedCaptions_(e,r),a=shaka.util.ManifestParserUtils.guessCodecs(r,t),l.yield(s.createStreamInfo_(n,a,r,"und",!1,null,null,i,null,!1,!1),2))):null==(o=l.yieldResult)?l.return(null):s.uriToStreamInfosMap_.has(n)?l.return(s.uriToStreamInfosMap_.get(n)):(s.uriToStreamInfosMap_.set(n,o),l.return(o))}))},shaka.hls.HlsParser.prototype.createStreamInfo_=function(e,t,r,n,i,a,o,s,l,u,c){var d,f,p,h,g,m,v,y,b,k,E,_,S,T,w,x,O,P,C,A,M,I,R,D,L,j,N,U,B,F,z,V,W,$,H,K,G,Z,q,X=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(Y){switch(Y.nextAddress){case 1:return d=shaka.hls.Utils.constructAbsoluteUri(X.masterPlaylistUri_,e),Y.yield(X.requestManifest_(d),2);case 2:if(f=Y.yieldResult,d=f.uri,(p=X.manifestTextParser_.parsePlaylist(f.data,d)).type!=shaka.hls.PlaylistType.MEDIA)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INVALID_PLAYLIST_HIERARCHY);if(h=[],p.segments)for(g=$jscomp.makeIterator(p.segments),m=g.next();!m.done;m=g.next())v=m.value,y=shaka.hls.Utils.filterTagsByName(v.tags,"EXT-X-KEY"),h.push.apply(h,$jscomp.arrayFromIterable(y));for(b=!1,k=[],E=new Set,_=$jscomp.makeIterator(h),S=_.next();!S.done;S=_.next())if(T=S.value,"NONE"!=(w=T.getRequiredAttrValue("METHOD"))){if(b=!0,"AES-128"==w)return shaka.log.warning("Unsupported HLS Encryption",w),X.aesEncrypted_=!0,Y.return(null);if(x=T.getRequiredAttrValue("KEYFORMAT"),P=(O=shaka.hls.HlsParser.KEYFORMATS_TO_DRM_PARSERS_[x])?O(T):null){if(P.keyIds)for(C=$jscomp.makeIterator(P.keyIds),A=C.next();!A.done;A=C.next())M=A.value,E.add(M);k.push(P)}else shaka.log.warning("Unsupported HLS KEYFORMAT",x)}if(b&&!k.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_KEYFORMATS_NOT_SUPPORTED);return I=shaka.hls.Utils.filterTagsByName(p.tags,"EXT-X-DEFINE"),R=X.parseMediaVariables_(I),goog.asserts.assert(null!=p.segments,"Media playlist should have segments!"),X.determinePresentationType_(p),Y.yield(X.guessMimeType_(r,t,p,R),3);case 3:return D=Y.yieldResult,shaka.hls.HlsParser.RAW_FORMATS_.includes(D)&&(t=""),L=new Map,j=new Map,Y.setCatchFinallyBlocks(4),Y.yield(X.createSegments_(e,p,r,D,L,R,j),6);case 6:N=Y.yieldResult,Y.leaveTryBlock(5);break;case 4:if((U=Y.enterCatchBlock()).code==shaka.util.Error.Code.HLS_INTERNAL_SKIP_STREAM)return shaka.log.alwaysWarn("Skipping unsupported HLS stream",D,e),Y.return(null);throw U;case 5:if(B=N[0].startTime,F=N[N.length-1].endTime,z=new shaka.media.SegmentIndex(N),V=r==shaka.util.ManifestParserUtils.ContentType.TEXT?shaka.util.ManifestParserUtils.TextStreamKind.SUBTITLE:void 0,W=[],l)for($=$jscomp.makeIterator(l.split(",")),H=$.next();!H.done;H=$.next())K=H.value,W.push(K);return Z=!!(G=shaka.hls.Utils.getFirstTagWithName(p.tags,"EXT-X-SERVER-CONTROL"))&&null!=G.getAttribute("CAN-SKIP-UNTIL"),q={id:X.globalId_++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:z,mimeType:D,codecs:t,kind:V,encrypted:b,drmInfos:k,keyIds:E,language:n,label:a,type:r,primary:i,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:W,forced:u,channelsCount:o,audioSamplingRate:null,spatialAudio:c,closedCaptions:s,hdr:void 0,tilesLayout:void 0},Y.return({stream:q,verbatimMediaPlaylistUri:e,absoluteMediaPlaylistUri:d,minTimestamp:B,maxTimestamp:F,mediaSequenceToStartTime:L,discontinuityToMediaSequence:j,canSkipSegments:Z})}}))},shaka.hls.HlsParser.prototype.determinePresentationType_=function(e){var t=shaka.hls.HlsParser.PresentationType_,r=shaka.hls.Utils.getFirstTagWithName(e.tags,"EXT-X-PLAYLIST-TYPE"),n=shaka.hls.Utils.getFirstTagWithName(e.tags,"EXT-X-ENDLIST");n=r&&"VOD"==r.value||n,r=r&&"EVENT"==r.value&&!n,r=!n&&!r,n?this.setPresentationType_(t.VOD):(r?this.setPresentationType_(t.LIVE):this.setPresentationType_(t.EVENT),t=this.getRequiredTag_(e.tags,"EXT-X-TARGETDURATION"),t=Number(t.value),n=shaka.hls.Utils.getFirstTagWithName(e.tags,"EXT-X-PART-INF"),this.lowLatencyMode_&&n?(this.partialTargetDuration_=Number(n.getRequiredAttrValue("PART-TARGET")),this.minTargetDuration_=Math.min(this.partialTargetDuration_,this.minTargetDuration_),this.lowLatencyPresentationDelay_=(e=shaka.hls.Utils.getFirstTagWithName(e.tags,"EXT-X-SERVER-CONTROL"))?Number(e.getRequiredAttrValue("PART-HOLD-BACK")):0):this.minTargetDuration_=Math.min(t,this.minTargetDuration_),this.maxTargetDuration_=Math.max(t,this.maxTargetDuration_))},shaka.hls.HlsParser.prototype.createPresentationTimeline_=function(){this.isLive_()?(this.presentationTimeline_=new shaka.media.PresentationTimeline(0,this.config_.defaultPresentationDelay?this.config_.defaultPresentationDelay:this.lowLatencyPresentationDelay_?this.lowLatencyPresentationDelay_:3*this.maxTargetDuration_),this.presentationTimeline_.setStatic(!1)):(this.presentationTimeline_=new shaka.media.PresentationTimeline(null,0),this.presentationTimeline_.setStatic(!0)),this.notifySegments_(),goog.asserts.assert(!this.presentationTimeline_.usingPresentationStartTime(),"We should not be using the presentation start time in HLS!")},shaka.hls.HlsParser.prototype.getInitSegmentReference_=function(e,t,r){if(!(t=shaka.hls.Utils.getFirstTagWithName(t,"EXT-X-MAP")))return null;var n=t.getRequiredAttrValue("URI");return e=[r=this.variableSubstitution_(shaka.hls.Utils.constructAbsoluteUri(e,n),r),t.getAttributeValue("BYTERANGE","")].join("-"),this.mapTagToInitSegmentRefMap_.has(e)||(t=this.createInitSegmentReference_(r,t),this.mapTagToInitSegmentRefMap_.set(e,t)),this.mapTagToInitSegmentRefMap_.get(e)},shaka.hls.HlsParser.prototype.createInitSegmentReference_=function(e,t){var r=0,n=null,i=t.getAttributeValue("BYTERANGE");return i&&(r=i.split("@"),n=Number(r[0]),n=(r=Number(r[1]))+n-1),new shaka.media.InitSegmentReference((function(){return[e]}),r,n)},shaka.hls.HlsParser.prototype.createSegmentReference_=function(e,t,r,n,i,a,o){var s=r.tags,l=this.variableSubstitution_(r.absoluteUri,a),u=shaka.hls.Utils.getFirstTagWithName(s,"EXTINF"),c=0;a=0;var d=null,f=[];if(this.lowLatencyMode_&&r.partialSegments.length){c={};for(var p=(r=$jscomp.makeIterator(shaka.util.Iterables.enumerate(r.partialSegments))).next();!p.done;c={$jscomp$loop$prop$pAbsoluteUri$601:c.$jscomp$loop$prop$pAbsoluteUri$601},p=r.next()){var h=(p=p.value).i;p=p.item;var g=0==h?t:f[f.length-1];h=0==h?n:g.endTime;var m=Number(p.getAttributeValue("DURATION"));m=h+m;var v=0,y=null;"EXT-X-PRELOAD-HINT"==p.name?v=(g=p.getAttributeValue("BYTERANGE-START"))?Number(g):0:(v=p.getAttributeValue("BYTERANGE"),v=(g=$jscomp.makeIterator(this.parseByteRange_(g,v))).next().value,y=g.next().value),p=p.getAttributeValue("URI"),c.$jscomp$loop$prop$pAbsoluteUri$601=shaka.hls.Utils.constructAbsoluteUri(o,p),p=new shaka.media.SegmentReference(h,m,function(e){return function(){return[e.$jscomp$loop$prop$pAbsoluteUri$601]}}(c),v,y,e,i,0,1/0),f.push(p)}}else if(!u)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_REQUIRED_TAG_MISSING,"EXTINF");return u?(o=u.value.split(","),c=n+Number(o[0])):c=f[f.length-1].endTime,(s=shaka.hls.Utils.getFirstTagWithName(s,"EXT-X-BYTERANGE"))?(a=(t=$jscomp.makeIterator(this.parseByteRange_(t,s.value))).next().value,d=t.next().value):f.length&&(a=f[0].startByte,d=f[f.length-1].endByte),new shaka.media.SegmentReference(n,c,(function(){return l.length?[l]:[]}),a,d,e,i,0,1/0,f)},shaka.hls.HlsParser.prototype.parseByteRange_=function(e,t){var r=0,n=null;return t&&(r=t.split("@"),n=Number(r[0]),r[1]?r=Number(r[1]):(goog.asserts.assert(e,"Cannot refer back to previous HLS segment!"),r=e.endByte+1),n=r+n-1),[r,n]},shaka.hls.HlsParser.prototype.notifySegments_=function(){if(this.presentationTimeline_){for(var e=$jscomp.makeIterator(this.segmentsToNotifyByStream_),t=e.next();!t.done;t=e.next())this.presentationTimeline_.notifySegments(t.value);this.segmentsToNotifyByStream_=[]}},shaka.hls.HlsParser.prototype.createSegments_=function(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g,m,v,y,b,k,E,_,S,T,w,x,O,P,C=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(A){switch(A.nextAddress){case 1:if(s=t.segments,goog.asserts.assert(s.length,"Playlist should have segments!"),u=shaka.hls.Utils.getFirstTagWithNameAsNumber(t.tags,"EXT-X-MEDIA-SEQUENCE",0),d=(c=shaka.hls.Utils.getFirstTagWithName(t.tags,"EXT-X-SKIP"))?Number(c.getAttributeValue("SKIPPED-SEGMENTS")):0,f=u+d,C.isLive_()&&i.has(f)){p=i.get(f),A.jumpTo(2);break}if(null!=C.playlistStartTime_){A.jumpTo(3);break}return l=C.getInitSegmentReference_(t.absoluteUri,s[0].tags,a),goog.asserts.assert(r!=shaka.util.ManifestParserUtils.ContentType.TEXT,"Should only get start time from audio or video streams"),h=C,A.yield(C.getStartTime_(e,l,n,f,!1,s[0],a),4);case 4:h.playlistStartTime_=A.yieldResult;case 3:p=C.playlistStartTime_;case 2:if(g=s[0].absoluteUri,shaka.log.debug("First segment",g.split("/").pop(),"starts at",p),m=shaka.hls.Utils.getFirstTagWithNameAsNumber(t.tags,"EXT-X-DISCONTINUITY-SEQUENCE"),C.lowLatencyMode_&&(o.has(m)||o.set(m,f),d))for(;o.has(m+1)&&o.get(m+1)<f;)m++;v=C.discontinuityToTso_.get(m)||0,y=[],b=function(e){return shaka.util.Iterables.enumerate(e)},k=$jscomp.makeIterator(b(s)),E=k.next();case 5:if(E.done){A.jumpTo(7);break}if(_=E.value,S=_.i,T=_.item,w=y[y.length-1],x=0==S?p:w.endTime,f=u+d+S,i.set(f,x),l=C.getInitSegmentReference_(t.absoluteUri,T.tags,a),!shaka.hls.Utils.getFirstTagWithName(T.tags,"EXT-X-DISCONTINUITY")){A.jumpTo(8);break}return m++,o.set(m,f),A.yield(C.getTimestampOffset_(m,e,l,n,f,T,a,x),9);case 9:v=A.yieldResult;case 8:!C.lowLatencyMode_&&C.playerInterface_.isAutoLowLatencyMode()&&(C.playerInterface_.enableLowLatencyMode(),C.lowLatencyMode_=C.playerInterface_.isLowLatencyMode()),O=shaka.hls.Utils.getFirstTagWithName(T.tags,"EXTINF"),C.lowLatencyMode_||O?(P=C.createSegmentReference_(l,w,T,x,v,a,t.absoluteUri),y.push(P)):C.lowLatencyMode_||shaka.log.alwaysWarn("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),E=k.next(),A.jumpTo(5);break;case 7:return C.segmentsToNotifyByStream_.push(y),C.notifySegments_(),A.return(y)}}))},shaka.hls.HlsParser.prototype.getTimestampOffset_=function(e,t,r,n,i,a,o,s){var l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){return 1==d.nextAddress?(l=0,c.discontinuityToTso_.has(e)?(l=c.discontinuityToTso_.get(e),d.jumpTo(2)):d.yield(c.getStartTime_(t,r,n,i,!0,a,o),3)):(2!=d.nextAddress&&(u=d.yieldResult,l=s-u,shaka.log.v1("Segment timestampOffset =",l),c.discontinuityToTso_.set(e,l)),d.return(l))}))},shaka.hls.HlsParser.prototype.fetchStartOfSegment_=function(e){var t,r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){switch(l.nextAddress){case 1:return t=shaka.net.NetworkingEngine.RequestType.SEGMENT,r=shaka.util.Networking.createSegmentRequest(e.getUris(),e.startByte,e.endByte,s.config_.retryParameters),s.config_.hls.useFullSegmentsForStartTime?l.return(s.makeNetworkRequest_(r,t)):(n=shaka.util.Networking.createSegmentRequest(e.getUris(),e.startByte,e.startByte+shaka.hls.HlsParser.START_OF_SEGMENT_SIZE_-1,s.config_.retryParameters),l.setCatchFinallyBlocks(2),l.yield(s.makeNetworkRequest_(n,t),4));case 4:return i=l.yieldResult,l.return(i);case 2:if((a=l.enterCatchBlock()).code==shaka.util.Error.Code.OPERATION_ABORTED)throw a;return shaka.log.alwaysWarn("Unable to fetch the starting part of HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",n.uris[0]),l.yield(s.makeNetworkRequest_(r,t),5);case 5:return o=l.yieldResult,l.return(o)}}))},shaka.hls.HlsParser.prototype.getStartTime_=function(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(m){switch(m.nextAddress){case 1:if(s=g.createSegmentReference_(t,null,a,0,0,o,""),g.manifest_&&!i){if(l=g.uriToStreamInfosMap_.get(e),void 0!=(u=l.mediaSequenceToStartTime.get(n)))return shaka.log.v1("Found segment start time in previous manifest",u),m.return(u);shaka.log.debug("Unable to find segment start time in previous manifest!")}if(shaka.log.v1("Fetching segment to find start time"),r=r.toLowerCase(),shaka.hls.HlsParser.RAW_FORMATS_.includes(r))throw shaka.log.alwaysWarn("Raw formats are not yet supported.  Skipping "+r),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INTERNAL_SKIP_STREAM);if("video/webm"==r)throw shaka.log.alwaysWarn("WebM in HLS is not yet supported.  Skipping."),new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_INTERNAL_SKIP_STREAM);if("video/mp4"!=r&&"audio/mp4"!=r){m.jumpTo(2);break}return c=[g.fetchStartOfSegment_(s)],t&&c.push(g.fetchStartOfSegment_(t)),m.yield(Promise.all(c),3);case 3:return d=m.yieldResult,f=d[0],p=d[1]||d[0],m.return(g.getStartTimeFromMp4Segment_(e,f.uri,f.data,p.data));case 2:if("video/mp2t"!=r){m.jumpTo(4);break}return m.yield(g.fetchStartOfSegment_(s),5);case 5:return h=m.yieldResult,goog.asserts.assert(h.data,"Should have a response body!"),m.return(g.getStartTimeFromTsSegment_(e,h.uri,h.data));case 4:throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME,e)}}))},shaka.hls.HlsParser.prototype.getStartTimeFromMp4Segment_=function(e,t,r,n){var i=shaka.util.Mp4Parser,a=0;if((new i).box("moov",i.children).box("trak",i.children).box("mdia",i.children).fullBox("mdhd",(function(e){goog.asserts.assert(0==e.version||1==e.version,"MDHD version can only be 0 or 1"),a=shaka.util.Mp4BoxParsers.parseMDHD(e.reader,e.version).timescale,e.parser.stop()})).parse(n,!0),!a)throw shaka.log.error("Unable to find timescale in init segment!"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME,e,t);var o=0,s=!1;if((new i).box("moof",i.children).box("traf",i.children).fullBox("tfdt",(function(e){goog.asserts.assert(0==e.version||1==e.version,"TFDT version can only be 0 or 1"),o=shaka.util.Mp4BoxParsers.parseTFDT(e.reader,e.version).baseMediaDecodeTime/a,s=!0,e.parser.stop()})).parse(r,!0),!s)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME,e,t);return o},shaka.hls.HlsParser.prototype.getStartTimeFromTsSegment_=function(e,t,r){var n=new shaka.util.DataViewReader(r,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),i=function(){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME,e,t)},a=0,o=0;for(r=function(){n.seek(a+188),71!=(o=n.readUint8())&&(n.seek(a+192),o=n.readUint8()),71!=o&&(n.seek(a+204),o=n.readUint8()),71!=o&&i(),n.rewind(1)};;){a=n.getPosition(),71!=(o=n.readUint8())&&i();var s=n.readUint16();if(8191==(8191&s))r();else if(16384&s){if(0!=(s=(48&n.readUint8())>>4)&&2!=s||i(),3==s&&(s=n.readUint8(),n.skip(s)),1==n.readUint32()>>8)return n.skip(3),0!=(r=n.readUint8()>>6)&&1!=r||i(),0==(s=n.readUint8())&&i(),2==r?goog.asserts.assert(5==s,"Bad PES header?"):3==r&&goog.asserts.assert(10==s,"Bad PES header?"),(1073741824*((14&(r=n.readUint8()))>>1)+((65534&(s=n.readUint16()))<<14|(65534&n.readUint16())>>1))/shaka.hls.HlsParser.TS_TIMESCALE_;r()}else r()}},shaka.hls.HlsParser.prototype.variableSubstitution_=function(e,t){var r=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),n=r.match(/{\$\w*}/g);if(n)for(var i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next()){var a=(i=i.value).slice(2,i.length-1),o=t.get(a);if(!o)throw shaka.log.error("A variable has been found that is not declared",a),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_VARIABLE_NOT_FOUND,a);r=r.replace(i,o)}return r},shaka.hls.HlsParser.prototype.guessMimeType_=function(e,t,r,n){var i,a,o,s,l,u,c,d,f,p,h,g,m=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(v){return 1==v.nextAddress?(i=shaka.hls.HlsParser,a=shaka.util.ManifestParserUtils.ContentType,o=shaka.net.NetworkingEngine.RequestType.SEGMENT,goog.asserts.assert(r.segments.length,"Playlist should have segments!"),s=m.variableSubstitution_(r.segments[0].absoluteUri,n),l=new goog.Uri(s),u=l.getPath().split(".").pop(),c=i.EXTENSION_MAP_BY_CONTENT_TYPE_[e],(d=c[u])?v.return(d):e==a.TEXT?t&&"vtt"!=t&&"wvtt"!=t?v.return("application/mp4"):v.return("text/vtt"):((f=shaka.net.NetworkingEngine.makeRequest([s],m.config_.retryParameters)).method="HEAD",v.yield(m.makeNetworkRequest_(f,o),2))):(p=v.yieldResult,(h=p.headers["content-type"])?v.return(h.split(";")[0]):(g=c.mp4,v.return(g)))}))},shaka.hls.HlsParser.prototype.getRequiredTag_=function(e,t){var r=shaka.hls.Utils.getFirstTagWithName(e,t);if(!r)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.MANIFEST,shaka.util.Error.Code.HLS_REQUIRED_TAG_MISSING,t);return r},shaka.hls.HlsParser.prototype.addVideoAttributes_=function(e,t,r,n,i){e&&(e.width=Number(t)||void 0,e.height=Number(r)||void 0,e.frameRate=Number(n)||void 0,e.hdr=i||void 0)},shaka.hls.HlsParser.prototype.requestManifest_=function(e){var t=shaka.net.NetworkingEngine.RequestType.MANIFEST;return e=shaka.net.NetworkingEngine.makeRequest([e],this.config_.retryParameters),this.makeNetworkRequest_(e,t)},shaka.hls.HlsParser.prototype.onUpdate_=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(shaka.log.info("Updating manifest..."),goog.asserts.assert(0<r.updatePlaylistDelay_,"We should only call |onUpdate_| when we are suppose to be updating."),r.playerInterface_?(n.setCatchFinallyBlocks(2),n.yield(r.update(),4)):n.return()):2!=n.nextAddress?(e=r.updatePlaylistDelay_,r.updatePlaylistTimer_.tickAfter(e),n.leaveTryBlock(0)):(t=n.enterCatchBlock(),r.playerInterface_?(goog.asserts.assert(t instanceof shaka.util.Error,"Should only receive a Shaka error"),t.severity=shaka.util.Error.Severity.RECOVERABLE,r.playerInterface_.onError(t),r.updatePlaylistTimer_.tickAfter(.1),void n.jumpToEnd()):n.return())}))},shaka.hls.HlsParser.prototype.isLive_=function(){return this.presentationType_!=shaka.hls.HlsParser.PresentationType_.VOD},shaka.hls.HlsParser.prototype.setPresentationType_=function(e){this.presentationType_=e,this.presentationTimeline_&&this.presentationTimeline_.setStatic(!this.isLive_()),this.isLive_()||this.updatePlaylistTimer_.stop()},shaka.hls.HlsParser.prototype.makeNetworkRequest_=function(e,t){if(!this.operationManager_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.PLAYER,shaka.util.Error.Code.OPERATION_ABORTED);var r=this.playerInterface_.networkingEngine.request(t,e);return this.operationManager_.manage(r),r.promise},shaka.hls.HlsParser.widevineDrmParser_=function(e){var t=e.getRequiredAttrValue("METHOD"),r=["SAMPLE-AES","SAMPLE-AES-CTR"];return r.includes(t)?(t=e.getRequiredAttrValue("URI"),t=shaka.net.DataUriPlugin.parseRaw(t),t=shaka.util.BufferUtils.toUint8(t.data),t=shaka.util.ManifestParserUtils.createDrmInfo("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=e.getAttributeValue("KEYID"))&&(e=e.toLowerCase(),goog.asserts.assert(e.startsWith("0x"),"Incorrect KEYID format!"),t.keyIds=new Set([e.substr(2)])),t):(shaka.log.error("Widevine in HLS is only supported with [",r.join(", "),"], not",t),null)},shaka.hls.HlsParser.playreadyDrmParser_=function(e){var t=e.getRequiredAttrValue("METHOD"),r=["SAMPLE-AES","SAMPLE-AES-CTR"];return r.includes(t)?(e=e.getRequiredAttrValue("URI"),e=shaka.net.DataUriPlugin.parseRaw(e),e=shaka.util.BufferUtils.toUint8(e.data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=shaka.util.Pssh.createPssh(e,t),shaka.util.ManifestParserUtils.createDrmInfo("com.microsoft.playready",[{initDataType:"cenc",initData:e}])):(shaka.log.error("PlayReady in HLS is only supported with [",r.join(", "),"], not",t),null)},goog.exportSymbol("shaka.hls.HlsParser",shaka.hls.HlsParser),shaka.hls.HlsParser.AUDIO_EXTENSIONS_TO_MIME_TYPES_={mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},shaka.hls.HlsParser.RAW_FORMATS_=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],shaka.hls.HlsParser.VIDEO_EXTENSIONS_TO_MIME_TYPES_={mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},shaka.hls.HlsParser.TEXT_EXTENSIONS_TO_MIME_TYPES_={mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"},shaka.hls.HlsParser.EXTENSION_MAP_BY_CONTENT_TYPE_={audio:shaka.hls.HlsParser.AUDIO_EXTENSIONS_TO_MIME_TYPES_,video:shaka.hls.HlsParser.VIDEO_EXTENSIONS_TO_MIME_TYPES_,text:shaka.hls.HlsParser.TEXT_EXTENSIONS_TO_MIME_TYPES_},shaka.hls.HlsParser.KEYFORMATS_TO_DRM_PARSERS_={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":shaka.hls.HlsParser.widevineDrmParser_,"com.microsoft.playready":shaka.hls.HlsParser.playreadyDrmParser_},shaka.hls.HlsParser.PresentationType_={VOD:"VOD",EVENT:"EVENT",LIVE:"LIVE"},shaka.hls.HlsParser.TS_TIMESCALE_=9e4,shaka.hls.HlsParser.START_OF_SEGMENT_SIZE_=2048,shaka.media.ManifestParser.registerParserByExtension("m3u8",(function(){return new shaka.hls.HlsParser})),shaka.media.ManifestParser.registerParserByMime("application/x-mpegurl",(function(){return new shaka.hls.HlsParser})),shaka.media.ManifestParser.registerParserByMime("application/vnd.apple.mpegurl",(function(){return new shaka.hls.HlsParser})),shaka.net.HttpPluginUtils=function(){},shaka.net.HttpPluginUtils.makeResponse=function(e,t,r,n,i,a){if(200<=r&&299>=r&&202!=r)return{uri:i||n,originalUri:n,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=shaka.util.StringUtils.fromBytesAutoDetect(t)}catch(o){}throw shaka.log.debug("HTTP error text:",i),new shaka.util.Error(401==r||403==r?shaka.util.Error.Severity.CRITICAL:shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.BAD_HTTP_STATUS,n,r,i,e,a)},shaka.net.HttpFetchPlugin=function(){},shaka.net.HttpFetchPlugin.parse=function(e,t,r,n){var i=new shaka.net.HttpFetchPlugin.Headers_;shaka.util.MapUtils.asMap(t.headers).forEach((function(e,t){i.append(t,e)}));var a=new shaka.net.HttpFetchPlugin.AbortController_,o={canceled:!1,timedOut:!1};if(e=shaka.net.HttpFetchPlugin.request_(e,r,{body:t.body||void 0,headers:i,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,n,t.streamDataCallback),e=new shaka.util.AbortableOperation(e,(function(){return o.canceled=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new shaka.util.Timer((function(){o.timedOut=!0,a.abort()}));s.tickAfter(t/1e3),e.finally((function(){s.stop()}))}return e},shaka.net.HttpFetchPlugin.request_=function(e,t,r,n,i,a){var o,s,l,u,c,d,f,p,h,g,m,v;return $jscomp.asyncExecutePromiseGeneratorProgram((function(y){switch(y.nextAddress){case 1:return o=shaka.net.HttpFetchPlugin.fetch_,s=shaka.net.HttpFetchPlugin.ReadableStream_,d=c=0,f=Date.now(),y.setCatchFinallyBlocks(2),y.yield(o(e,r),4);case 4:return l=y.yieldResult,p=l.clone().body.getReader(),g=(h=l.headers.get("Content-Length"))?parseInt(h,10):0,new s({start:function(e){!function t(){var r,n,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:return s.setCatchFinallyBlocks(2),s.yield(p.read(),4);case 4:r=s.yieldResult,s.leaveTryBlock(3);break;case 2:return n=s.enterCatchBlock(),shaka.log.v1("error reading from stream",n.message),s.return();case 3:if(r.done){s.jumpTo(5);break}if(c+=r.value.byteLength,!a){s.jumpTo(5);break}return s.yield(a(r.value),5);case 5:(100<(o=Date.now())-f||r.done)&&(i(o-f,c-d,g-c),d=c,f=o),r.done?(goog.asserts.assert(!r.value,'readObj should be unset when "done" is true.'),e.close()):(e.enqueue(r.value),t()),s.jumpToEnd()}}))}()}}),y.yield(l.arrayBuffer(),5);case 5:u=y.yieldResult,y.leaveTryBlock(3);break;case 2:if(m=y.enterCatchBlock(),n.canceled)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.OPERATION_ABORTED,e,t);if(n.timedOut)throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.TIMEOUT,e,t);throw new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.HTTP_ERROR,e,m,t);case 3:return v={},l.headers.forEach((function(e,t){v[t.trim()]=e})),y.return(shaka.net.HttpPluginUtils.makeResponse(v,u,l.status,e,l.url,t))}}))},shaka.net.HttpFetchPlugin.isSupported=function(){if(!window.ReadableStream)return!1;try{new ReadableStream({})}catch(a){return!1}return!(!window.fetch||!window.AbortController)},goog.exportSymbol("shaka.net.HttpFetchPlugin",shaka.net.HttpFetchPlugin),goog.exportProperty(shaka.net.HttpFetchPlugin,"isSupported",shaka.net.HttpFetchPlugin.isSupported),goog.exportProperty(shaka.net.HttpFetchPlugin,"parse",shaka.net.HttpFetchPlugin.parse),shaka.net.HttpFetchPlugin.fetch_=window.fetch,shaka.net.HttpFetchPlugin.AbortController_=window.AbortController,shaka.net.HttpFetchPlugin.ReadableStream_=window.ReadableStream,shaka.net.HttpFetchPlugin.Headers_=window.Headers,shaka.net.HttpFetchPlugin.isSupported()&&(shaka.net.NetworkingEngine.registerScheme("http",shaka.net.HttpFetchPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.PREFERRED,!0),shaka.net.NetworkingEngine.registerScheme("https",shaka.net.HttpFetchPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.PREFERRED,!0)),shaka.net.HttpXHRPlugin=function(){},shaka.net.HttpXHRPlugin.parse=function(e,t,r,n){var i=new shaka.net.HttpXHRPlugin.Xhr_,a=Date.now(),o=0,s=new Promise((function(s,l){for(var u in i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){l(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.OPERATION_ABORTED,e,r))},i.onload=function(t){t=t.target,goog.asserts.assert(t,"XHR onload has no target!");for(var n=t.getAllResponseHeaders().trim().split("\r\n"),i={},a=(n=$jscomp.makeIterator(n)).next();!a.done;a=n.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=shaka.net.HttpPluginUtils.makeResponse(i,t.response,t.status,e,t.responseURL,r);s(o)}catch(u){goog.asserts.assert(u instanceof shaka.util.Error,"Wrong error type!"),l(u)}},i.onerror=function(t){l(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.HTTP_ERROR,e,t,r))},i.ontimeout=function(t){l(new shaka.util.Error(shaka.util.Error.Severity.RECOVERABLE,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.TIMEOUT,e,r))},i.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(n(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers){var c=u.toLowerCase();i.setRequestHeader(c,t.headers[u])}i.send(t.body)}));return new shaka.util.AbortableOperation(s,(function(){return i.abort(),Promise.resolve()}))},goog.exportSymbol("shaka.net.HttpXHRPlugin",shaka.net.HttpXHRPlugin),goog.exportProperty(shaka.net.HttpXHRPlugin,"parse",shaka.net.HttpXHRPlugin.parse),shaka.net.HttpXHRPlugin.Xhr_=window.XMLHttpRequest,shaka.net.NetworkingEngine.registerScheme("http",shaka.net.HttpXHRPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.FALLBACK,!0),shaka.net.NetworkingEngine.registerScheme("https",shaka.net.HttpXHRPlugin.parse,shaka.net.NetworkingEngine.PluginPriority.FALLBACK,!0),shaka.offline={},shaka.offline.DownloadProgressEstimator=function(){this.actualDownloaded_=this.estimatedDownloaded_=this.estimatedTotal_=0,this.pending_=new Map,this.nextId_=0},shaka.offline.DownloadProgressEstimator.prototype.open=function(e){this.estimatedTotal_+=e;var t=this.nextId_;return this.nextId_++,this.pending_.set(t,e),t},shaka.offline.DownloadProgressEstimator.prototype.close=function(e,t){if(this.pending_.has(e)){var r=this.pending_.get(e);this.pending_.delete(e),this.estimatedDownloaded_+=r,this.actualDownloaded_+=t}},shaka.offline.DownloadProgressEstimator.prototype.getEstimatedProgress=function(){return 0==this.estimatedTotal_?0:this.estimatedDownloaded_/this.estimatedTotal_},shaka.offline.DownloadProgressEstimator.prototype.getTotalDownloaded=function(){return this.actualDownloaded_},shaka.offline.DownloadManager=function(e){var t=this;this.networkingEngine_=e,this.groups_=new Map,this.destroyer_=new shaka.util.Destroyer((function(){var e=Array.from(t.groups_.values());return Promise.all(e.map((function(e){return e.catch((function(){}))})))})),this.abortCallbacks_=[],this.onProgress_=function(e,t){},this.onInitData_=function(e,t){},this.estimator_=new shaka.offline.DownloadProgressEstimator},shaka.offline.DownloadManager.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.offline.DownloadManager.prototype.setCallbacks=function(e,t){this.onProgress_=e,this.onInitData_=t},shaka.offline.DownloadManager.prototype.abortAll=function(){var e=this.abortCallbacks_.map((function(e){return e()}));return this.abortCallbacks_=[],Promise.all(e)},shaka.offline.DownloadManager.prototype.queue=function(e,t,r,n,i){var a=this;this.destroyer_.ensureNotDestroyed();var o=this.estimator_.open(r);return r=(this.groups_.get(e)||Promise.resolve()).then((function(){var e,r,s,l,u,c,d;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){if(1==f.nextAddress)return f.yield(a.fetchSegment_(t),2);if(e=f.yieldResult,a.destroyer_.destroyed())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.OPERATION_ABORTED);if(n)for(l in r=shaka.util.BufferUtils.toUint8(e),(s=new shaka.util.Pssh(r)).data)u=Number(l),c=s.data[u],d=s.systemIds[u],a.onInitData_(c,d);return a.estimator_.close(o,e.byteLength),a.onProgress_(a.estimator_.getEstimatedProgress(),a.estimator_.getTotalDownloaded()),f.return(i(e))}))})),this.groups_.set(e,r),r},shaka.offline.DownloadManager.prototype.queueWork=function(e,t){this.destroyer_.ensureNotDestroyed();var r=(this.groups_.get(e)||Promise.resolve()).then((function(){return $jscomp.asyncExecutePromiseGeneratorProgram((function(e){return e.yield(t(),0)}))}));return this.groups_.set(e,r),r},shaka.offline.DownloadManager.prototype.waitToFinish=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return 1==t.nextAddress?t.yield(Promise.all(e.groups_.values()),2):t.return(e.estimator_.getTotalDownloaded())}))},shaka.offline.DownloadManager.prototype.fetchSegment_=function(e){var t,r,n,i,a=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return 1==o.nextAddress?(t=shaka.net.NetworkingEngine.RequestType.SEGMENT,r=a.networkingEngine_.request(t,e),n=function(){return r.abort()},a.abortCallbacks_.push(n),o.yield(r.promise,2)):(i=o.yieldResult,shaka.util.ArrayUtils.remove(a.abortCallbacks_,n),o.return(i.data))}))},shaka.offline.indexeddb={},shaka.offline.indexeddb.DBOperation=function(e,t){var r=this;this.transaction_=e,this.store_=e.objectStore(t),this.promise_=new shaka.util.PublicPromise,e.onabort=function(e){e.preventDefault(),r.promise_.reject()},e.onerror=function(e){e.preventDefault(),r.promise_.reject()},e.oncomplete=function(e){r.promise_.resolve()}},shaka.offline.indexeddb.DBOperation.prototype.abort=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress){try{e.transaction_.abort()}catch(r){}return t.setCatchFinallyBlocks(2),t.yield(e.promise_,4)}if(2!=t.nextAddress)return t.leaveTryBlock(0);t.enterCatchBlock(),t.jumpToEnd()}))},shaka.offline.indexeddb.DBOperation.prototype.forEachEntry=function(e){var t=this;return new Promise((function(r,n){var i=t.store_.openCursor();i.onerror=n,i.onsuccess=function(t){var n;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){if(1==t.nextAddress)return null==i.result?(r(),t.return()):(n=i.result,t.yield(e(n.key,n.value,n),2));n.continue(),t.jumpToEnd()}))}}))},shaka.offline.indexeddb.DBOperation.prototype.store=function(){return this.store_},shaka.offline.indexeddb.DBOperation.prototype.promise=function(){return this.promise_},shaka.offline.indexeddb.DBConnection=function(e){this.connection_=e,this.pending_=[]},shaka.offline.indexeddb.DBConnection.prototype.destroy=function(){return Promise.all(this.pending_.map((function(e){return e.abort()})))},shaka.offline.indexeddb.DBConnection.prototype.startReadOnlyOperation=function(e){return this.startOperation_(e,"readonly")},shaka.offline.indexeddb.DBConnection.prototype.startReadWriteOperation=function(e){return this.startOperation_(e,"readwrite")},shaka.offline.indexeddb.DBConnection.prototype.startOperation_=function(e,t){var r=this,n=this.connection_.transaction([e],t),i=new shaka.offline.indexeddb.DBOperation(n,e);return this.pending_.push(i),i.promise().then((function(){return r.stopTracking_(i)}),(function(){return r.stopTracking_(i)})),i},shaka.offline.indexeddb.DBConnection.prototype.stopTracking_=function(e){shaka.util.ArrayUtils.remove(this.pending_,e)},shaka.offline.indexeddb.BaseStorageCell=function(e,t,r){this.connection_=new shaka.offline.indexeddb.DBConnection(e),this.segmentStore_=t,this.manifestStore_=r},shaka.offline.indexeddb.BaseStorageCell.prototype.destroy=function(){return this.connection_.destroy()},shaka.offline.indexeddb.BaseStorageCell.prototype.hasFixedKeySpace=function(){return!0},shaka.offline.indexeddb.BaseStorageCell.prototype.addSegments=function(e){return this.rejectAdd(this.segmentStore_)},shaka.offline.indexeddb.BaseStorageCell.prototype.removeSegments=function(e,t){return this.remove_(this.segmentStore_,e,t)},shaka.offline.indexeddb.BaseStorageCell.prototype.getSegments=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?n.yield(r.get_(r.segmentStore_,e),2):(t=n.yieldResult,n.return(t.map((function(e){return r.convertSegmentData(e)}))))}))},shaka.offline.indexeddb.BaseStorageCell.prototype.addManifests=function(e){return this.rejectAdd(this.manifestStore_)},shaka.offline.indexeddb.BaseStorageCell.prototype.updateManifestExpiration=function(e,t){var r=this.connection_.startReadWriteOperation(this.manifestStore_),n=r.store();return n.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,n.put(r,e))},r.promise()},shaka.offline.indexeddb.BaseStorageCell.prototype.removeManifests=function(e,t){return this.remove_(this.manifestStore_,e,t)},shaka.offline.indexeddb.BaseStorageCell.prototype.getManifests=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?n.yield(r.get_(r.manifestStore_,e),2):(t=n.yieldResult,n.return(Promise.all(t.map((function(e){return r.convertManifest(e)})))))}))},shaka.offline.indexeddb.BaseStorageCell.prototype.getAllManifests=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(e=r.connection_.startReadOnlyOperation(r.manifestStore_),t=new Map,n.yield(e.forEachEntry((function(e,n){var i;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){if(1==a.nextAddress)return a.yield(r.convertManifest(n),2);i=a.yieldResult,t.set(e,i),a.jumpToEnd()}))})),2)):3!=n.nextAddress?n.yield(e.promise(),3):n.return(t)}))},shaka.offline.indexeddb.BaseStorageCell.prototype.convertSegmentData=function(e){return e},shaka.offline.indexeddb.BaseStorageCell.prototype.convertManifest=function(e){return Promise.resolve(e)},shaka.offline.indexeddb.BaseStorageCell.prototype.rejectAdd=function(e){return Promise.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.NEW_KEY_OPERATION_NOT_SUPPORTED,"Cannot add new value to "+e))},shaka.offline.indexeddb.BaseStorageCell.prototype.add=function(e,t){var r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){if(1==c.nextAddress){for(r=u.connection_.startReadWriteOperation(e),n=r.store(),i=[],a={},o=$jscomp.makeIterator(t),s=o.next();!s.done;a={$jscomp$loop$prop$request$603:a.$jscomp$loop$prop$request$603},s=o.next())l=s.value,a.$jscomp$loop$prop$request$603=n.add(l),a.$jscomp$loop$prop$request$603.onsuccess=function(e){return function(t){i.push(e.$jscomp$loop$prop$request$603.result)}}(a);return c.yield(r.promise(),2)}return c.return(i)}))},shaka.offline.indexeddb.BaseStorageCell.prototype.remove_=function(e,t,r){for(var n=(e=this.connection_.startReadWriteOperation(e)).store(),i={},a=(t=$jscomp.makeIterator(t)).next();!a.done;i={$jscomp$loop$prop$key$605:i.$jscomp$loop$prop$key$605},a=t.next())i.$jscomp$loop$prop$key$605=a.value,n.delete(i.$jscomp$loop$prop$key$605).onsuccess=function(e){return function(){return r(e.$jscomp$loop$prop$key$605)}}(i);return e.promise()},shaka.offline.indexeddb.BaseStorageCell.prototype.get_=function(e,t){var r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){if(1==c.nextAddress){for(r=u.connection_.startReadOnlyOperation(e),n=r.store(),i={},a=[],o={},s=$jscomp.makeIterator(t),l=s.next();!l.done;o={$jscomp$loop$prop$request$607:o.$jscomp$loop$prop$request$607,$jscomp$loop$prop$key$608:o.$jscomp$loop$prop$key$608},l=s.next())o.$jscomp$loop$prop$key$608=l.value,o.$jscomp$loop$prop$request$607=n.get(o.$jscomp$loop$prop$key$608),o.$jscomp$loop$prop$request$607.onsuccess=function(e){return function(){void 0==e.$jscomp$loop$prop$request$607.result&&a.push(e.$jscomp$loop$prop$key$608),i[e.$jscomp$loop$prop$key$608]=e.$jscomp$loop$prop$request$607.result}}(o);return c.yield(r.promise(),2)}if(a.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.KEY_NOT_FOUND,"Could not find values for "+a);return c.return(t.map((function(e){return i[e]})))}))},shaka.offline.indexeddb.EmeSessionStorageCell=function(e,t){this.connection_=new shaka.offline.indexeddb.DBConnection(e),this.store_=t},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.destroy=function(){return this.connection_.destroy()},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.getAll=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(e=r.connection_.startReadOnlyOperation(r.store_),t=[],n.yield(e.forEachEntry((function(e,r){t.push(r)})),2)):3!=n.nextAddress?n.yield(e.promise(),3):n.return(t)}))},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.add=function(e){for(var t=this.connection_.startReadWriteOperation(this.store_),r=t.store(),n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())r.add(n.value);return t.promise()},shaka.offline.indexeddb.EmeSessionStorageCell.prototype.remove=function(e){var t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(t=r.connection_.startReadWriteOperation(r.store_),n.yield(t.forEachEntry((function(t,r,n){e.includes(r.sessionId)&&n.delete()})),2)):n.yield(t.promise(),0)}))},shaka.offline.StorageMuxer=function(){this.mechanisms_=new Map},shaka.offline.StorageMuxer.prototype.destroy=function(){for(var e=[],t=$jscomp.makeIterator(this.mechanisms_.values()),r=t.next();!r.done;r=t.next())e.push(r.value.destroy());return this.mechanisms_.clear(),Promise.all(e)},shaka.offline.StorageMuxer.prototype.init=function(){var e=this;shaka.offline.StorageMuxer.getRegistry_().forEach((function(t,r){var n=t();n?e.mechanisms_.set(r,n):shaka.log.info("Skipping "+r+" as it is not supported on this platform")}));for(var t=[],r=$jscomp.makeIterator(this.mechanisms_.values()),n=r.next();!n.done;n=r.next())t.push(n.value.init());return Promise.all(t)},shaka.offline.StorageMuxer.prototype.getActive=function(){var e=null;if(this.mechanisms_.forEach((function(t,r){t.getCells().forEach((function(t,n){t.hasFixedKeySpace()||e||(e={path:{mechanism:r,cell:n},cell:t})}))})),e)return e;throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find a cell that supports add-operations")},shaka.offline.StorageMuxer.prototype.forEachCell=function(e){this.mechanisms_.forEach((function(t,r){t.getCells().forEach((function(t,n){e({mechanism:r,cell:n},t)}))}))},shaka.offline.StorageMuxer.prototype.getCell=function(e,t){var r=this.mechanisms_.get(e);if(!r)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find mechanism with name "+e);if(!(r=r.getCells().get(t)))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MISSING_STORAGE_CELL,"Could not find cell with name "+t);return r},shaka.offline.StorageMuxer.prototype.forEachEmeSessionCell=function(e){this.mechanisms_.forEach((function(t,r){e(t.getEmeSessionCell())}))},shaka.offline.StorageMuxer.prototype.getEmeSessionCell=function(){var e=Array.from(this.mechanisms_.keys());if(!e.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.STORAGE_NOT_SUPPORTED,"No supported storage mechanisms found");return this.mechanisms_.get(e[0]).getEmeSessionCell()},shaka.offline.StorageMuxer.prototype.resolvePath=function(e){var t=this.mechanisms_.get(e.mechanism);return t?t.getCells().get(e.cell):null},shaka.offline.StorageMuxer.prototype.erase=function(){var e,t,r=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(n){return 1==n.nextAddress?(e=Array.from(r.mechanisms_.values()),(t=0<e.length)||shaka.offline.StorageMuxer.getRegistry_().forEach((function(t,r){var n=t();n&&e.push(n)})),n.yield(Promise.all(e.map((function(e){return e.erase()}))),2)):t?n.jumpTo(0):n.yield(Promise.all(e.map((function(e){return e.destroy()}))),0)}))},shaka.offline.StorageMuxer.register=function(e,t){shaka.offline.StorageMuxer.registry_.set(e,t)},shaka.offline.StorageMuxer.unregister=function(e){shaka.offline.StorageMuxer.registry_.delete(e)},shaka.offline.StorageMuxer.support=function(){for(var e=shaka.offline.StorageMuxer.getRegistry_(),t=(e=$jscomp.makeIterator(e.values())).next();!t.done;t=e.next())if(t=(t=t.value)())return t.destroy(),!0;return!1},shaka.offline.StorageMuxer.overrideSupport=function(e){shaka.offline.StorageMuxer.override_=e},shaka.offline.StorageMuxer.clearOverride=function(){shaka.offline.StorageMuxer.override_=null},shaka.offline.StorageMuxer.getRegistry_=function(){var e=shaka.offline.StorageMuxer.override_,t=shaka.offline.StorageMuxer.registry_;return COMPILED?t:e||t},goog.exportSymbol("shaka.offline.StorageMuxer",shaka.offline.StorageMuxer),goog.exportProperty(shaka.offline.StorageMuxer,"unregister",shaka.offline.StorageMuxer.unregister),goog.exportProperty(shaka.offline.StorageMuxer,"register",shaka.offline.StorageMuxer.register),goog.exportProperty(shaka.offline.StorageMuxer.prototype,"destroy",shaka.offline.StorageMuxer.prototype.destroy),shaka.offline.StorageMuxer.override_=null,shaka.offline.StorageMuxer.registry_=new Map,shaka.offline.indexeddb.V1StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V1StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V1StorageCell.prototype.updateManifestExpiration=function(e,t){var r,n,i,a=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(o){return r=a.connection_.startReadWriteOperation(a.manifestStore_),n=r.store(),i=new shaka.util.PublicPromise,n.get(e).onsuccess=function(r){(r=r.target.result)?(goog.asserts.assert(r.key==e,"With in-line keys, the keys should match"),r.expiration=t,n.put(r),i.resolve()):i.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.KEY_NOT_FOUND,"Could not find values for "+e))},o.yield(Promise.all([r.promise(),i]),0)}))},shaka.offline.indexeddb.V1StorageCell.prototype.convertManifest=function(e){var t,r,n,i,a,o,s;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){if(1==l.nextAddress){for(t=shaka.offline.indexeddb.V1StorageCell,r=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,a=i-e.periods[n].startTime,o=t.convertPeriod_(e.periods[n],a),r.push(o);return l.yield(shaka.util.PeriodCombiner.combineDbStreams(r),2)}return s=l.yieldResult,l.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:s,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})}))},shaka.offline.indexeddb.V1StorageCell.convertPeriod_=function(e,t){var r=shaka.offline.indexeddb.V1StorageCell;r.fillMissingVariants_(e);for(var n=$jscomp.makeIterator(e.streams),i=n.next();!i.done;i=n.next())goog.asserts.assert(i.value.variantIds,"After filling in missing variants, each stream should have variant ids");return e.streams.map((function(n){return r.convertStream_(n,e.startTime,t)}))},shaka.offline.indexeddb.V1StorageCell.convertStream_=function(e,t,r){var n=shaka.offline.indexeddb.V1StorageCell,i=e.initSegmentUri?n.getKeyFromSegmentUri_(e.initSegmentUri):null,a=t+e.presentationTimeOffset,o=t+r;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){return n.convertSegment_(e,i,t,o,a)})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}},shaka.offline.indexeddb.V1StorageCell.convertSegment_=function(e,t,r,n,i){var a=shaka.offline.indexeddb.V1StorageCell.getKeyFromSegmentUri_(e.uri);return{startTime:r+e.startTime,endTime:r+e.endTime,dataKey:a,initSegmentKey:t,appendWindowStart:r,appendWindowEnd:n,timestampOffset:i}},shaka.offline.indexeddb.V1StorageCell.prototype.convertSegmentData=function(e){return{data:e.data}},shaka.offline.indexeddb.V1StorageCell.getKeyFromSegmentUri_=function(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,"Could not parse uri "+e)},shaka.offline.indexeddb.V1StorageCell.fillMissingVariants_=function(e){var t=shaka.util.ManifestParserUtils.ContentType.AUDIO,r=shaka.util.ManifestParserUtils.ContentType.VIDEO,n=e.streams.filter((function(e){return e.contentType==t}));if(e=e.streams.filter((function(e){return e.contentType==r})),!n.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){goog.asserts.assert(n.every((function(e){return!e.variantIds})),"Some audio streams have variant ids and some do not."),goog.asserts.assert(e.every((function(e){return!e.variantIds})),"Some video streams have variant ids and some do not.");for(var i=$jscomp.makeIterator(n),a=i.next();!a.done;a=i.next())a.value.variantIds=[];for(a=(i=$jscomp.makeIterator(e)).next();!a.done;a=i.next())a.value.variantIds=[];if(i=0,e.length&&!n.length){shaka.log.debug("Found video-only content. Creating variants for video.");var o=i++,s=$jscomp.makeIterator(e);for(a=s.next();!a.done;a=s.next())a.value.variantIds.push(o)}if(!e.length&&n.length)for(shaka.log.debug("Found audio-only content. Creating variants for audio."),o=i++,a=(s=$jscomp.makeIterator(n)).next();!a.done;a=s.next())a.value.variantIds.push(o);if(e.length&&n.length)for(shaka.log.debug("Found audio-video content. Creating variants."),a=(n=$jscomp.makeIterator(n)).next();!a.done;a=n.next())for(a=a.value,s=(o=$jscomp.makeIterator(e)).next();!s.done;s=o.next()){s=s.value;var l=i++;a.variantIds.push(l),s.variantIds.push(l)}}},shaka.offline.indexeddb.V2StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V2StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V2StorageCell.prototype.convertManifest=function(e){var t,r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){if(1==l.nextAddress){for(t=[],r=0;r<e.periods.length;++r)n=r==e.periods.length-1?e.duration:e.periods[r+1].startTime,i=n-e.periods[r].startTime,a=s.convertPeriod_(e.periods[r],i),t.push(a);return l.yield(shaka.util.PeriodCombiner.combineDbStreams(t),2)}return o=l.yieldResult,l.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o})}))},shaka.offline.indexeddb.V2StorageCell.prototype.convertPeriod_=function(e,t){for(var r=[],n=$jscomp.makeIterator(e.streams),i=n.next();!i.done;i=n.next())0!=(i=i.value).variantIds.length&&r.push(this.convertStream_(i,e.startTime,e.startTime+t));return r},shaka.offline.indexeddb.V2StorageCell.prototype.convertStream_=function(e,t,r){var n=this;return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(i){return n.convertSegment_(i,e.initSegmentKey,t,r,e.presentationTimeOffset)})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}},shaka.offline.indexeddb.V2StorageCell.prototype.convertSegment_=function(e,t,r,n,i){return{startTime:r+e.startTime,endTime:r+e.endTime,initSegmentKey:t,appendWindowStart:r,appendWindowEnd:n,timestampOffset:r-i,dataKey:e.dataKey}},shaka.offline.indexeddb.V5StorageCell=function(){shaka.offline.indexeddb.BaseStorageCell.apply(this,arguments)},$jscomp.inherits(shaka.offline.indexeddb.V5StorageCell,shaka.offline.indexeddb.BaseStorageCell),shaka.offline.indexeddb.V5StorageCell.prototype.hasFixedKeySpace=function(){return!1},shaka.offline.indexeddb.V5StorageCell.prototype.addSegments=function(e){return this.add(this.segmentStore_,e)},shaka.offline.indexeddb.V5StorageCell.prototype.addManifests=function(e){return this.add(this.manifestStore_,e)},shaka.offline.indexeddb.V5StorageCell.prototype.convertManifest=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},shaka.offline.indexeddb.StorageMechanism=function(){this.sessions_=this.v5_=this.v3_=this.v2_=this.v1_=this.db_=null},shaka.offline.indexeddb.StorageMechanism.prototype.init=function(){var e=this,t=shaka.offline.indexeddb.StorageMechanism.DB_NAME,r=shaka.offline.indexeddb.StorageMechanism.VERSION,n=new shaka.util.PublicPromise,i=window.indexedDB.open(t,r);return i.onsuccess=function(t){t=i.result,e.db_=t,e.v1_=shaka.offline.indexeddb.StorageMechanism.createV1_(t),e.v2_=shaka.offline.indexeddb.StorageMechanism.createV2_(t),e.v3_=shaka.offline.indexeddb.StorageMechanism.createV3_(t),e.v5_=shaka.offline.indexeddb.StorageMechanism.createV5_(t),e.sessions_=shaka.offline.indexeddb.StorageMechanism.createEmeSessionCell_(t),n.resolve()},i.onupgradeneeded=function(t){e.createStores_(i.result)},i.onerror=function(e){n.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.INDEXED_DB_ERROR,i.error)),e.preventDefault()},n},shaka.offline.indexeddb.StorageMechanism.prototype.destroy=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){switch(t.nextAddress){case 1:if(!e.v1_){t.jumpTo(2);break}return t.yield(e.v1_.destroy(),2);case 2:if(!e.v2_){t.jumpTo(4);break}return t.yield(e.v2_.destroy(),4);case 4:if(!e.v3_){t.jumpTo(6);break}return t.yield(e.v3_.destroy(),6);case 6:if(!e.v5_){t.jumpTo(8);break}return t.yield(e.v5_.destroy(),8);case 8:if(!e.sessions_){t.jumpTo(10);break}return t.yield(e.sessions_.destroy(),10);case 10:e.db_&&e.db_.close(),t.jumpToEnd()}}))},shaka.offline.indexeddb.StorageMechanism.prototype.getCells=function(){var e=new Map;return this.v1_&&e.set("v1",this.v1_),this.v2_&&e.set("v2",this.v2_),this.v3_&&e.set("v3",this.v3_),this.v5_&&e.set("v5",this.v5_),e},shaka.offline.indexeddb.StorageMechanism.prototype.getEmeSessionCell=function(){return goog.asserts.assert(this.sessions_,"Cannot be destroyed."),this.sessions_},shaka.offline.indexeddb.StorageMechanism.prototype.erase=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){switch(t.nextAddress){case 1:if(!e.v1_){t.jumpTo(2);break}return t.yield(e.v1_.destroy(),2);case 2:if(!e.v2_){t.jumpTo(4);break}return t.yield(e.v2_.destroy(),4);case 4:if(!e.v3_){t.jumpTo(6);break}return t.yield(e.v3_.destroy(),6);case 6:if(!e.v5_){t.jumpTo(8);break}return t.yield(e.v5_.destroy(),8);case 8:return e.db_&&e.db_.close(),t.yield(shaka.offline.indexeddb.StorageMechanism.deleteAll_(),10);case 10:return e.db_=null,e.v1_=null,e.v2_=null,e.v3_=null,e.v5_=null,t.yield(e.init(),0)}}))},shaka.offline.indexeddb.StorageMechanism.createV1_=function(e){var t=shaka.offline.indexeddb.StorageMechanism,r=t.V1_SEGMENT_STORE;t=t.V1_MANIFEST_STORE;var n=e.objectStoreNames;return n.contains(t)&&n.contains(r)?(shaka.log.debug("Mounting v1 idb storage cell"),new shaka.offline.indexeddb.V1StorageCell(e,r,t)):null},shaka.offline.indexeddb.StorageMechanism.createV2_=function(e){var t=shaka.offline.indexeddb.StorageMechanism,r=t.V2_SEGMENT_STORE;t=t.V2_MANIFEST_STORE;var n=e.objectStoreNames;return n.contains(t)&&n.contains(r)?(shaka.log.debug("Mounting v2 idb storage cell"),new shaka.offline.indexeddb.V2StorageCell(e,r,t)):null},shaka.offline.indexeddb.StorageMechanism.createV3_=function(e){var t=shaka.offline.indexeddb.StorageMechanism,r=t.V3_SEGMENT_STORE;t=t.V3_MANIFEST_STORE;var n=e.objectStoreNames;return n.contains(t)&&n.contains(r)?(shaka.log.debug("Mounting v3 idb storage cell"),new shaka.offline.indexeddb.V2StorageCell(e,r,t)):null},shaka.offline.indexeddb.StorageMechanism.createV5_=function(e){var t=shaka.offline.indexeddb.StorageMechanism,r=t.V5_SEGMENT_STORE;t=t.V5_MANIFEST_STORE;var n=e.objectStoreNames;return n.contains(t)&&n.contains(r)?(shaka.log.debug("Mounting v5 idb storage cell"),new shaka.offline.indexeddb.V5StorageCell(e,r,t)):null},shaka.offline.indexeddb.StorageMechanism.createEmeSessionCell_=function(e){var t=shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE;return e.objectStoreNames.contains(t)?(shaka.log.debug("Mounting session ID idb storage cell"),new shaka.offline.indexeddb.EmeSessionStorageCell(e,t)):null},shaka.offline.indexeddb.StorageMechanism.prototype.createStores_=function(e){for(var t=$jscomp.makeIterator([shaka.offline.indexeddb.StorageMechanism.V5_SEGMENT_STORE,shaka.offline.indexeddb.StorageMechanism.V5_MANIFEST_STORE,shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE]),r=t.next();!r.done;r=t.next())r=r.value,e.objectStoreNames.contains(r)||e.createObjectStore(r,{autoIncrement:!0})},shaka.offline.indexeddb.StorageMechanism.deleteAll_=function(){var e=shaka.offline.indexeddb.StorageMechanism.DB_NAME,t=new shaka.util.PublicPromise,r=window.indexedDB.deleteDatabase(e);return r.onblocked=function(t){shaka.log.warning("Deleting",e,"is being blocked")},r.onsuccess=function(e){t.resolve()},r.onerror=function(e){t.reject(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.INDEXED_DB_ERROR,r.error)),e.preventDefault()},t},shaka.offline.indexeddb.StorageMechanism.DB_NAME="shaka_offline_db",shaka.offline.indexeddb.StorageMechanism.VERSION=5,shaka.offline.indexeddb.StorageMechanism.V1_SEGMENT_STORE="segment",shaka.offline.indexeddb.StorageMechanism.V2_SEGMENT_STORE="segment-v2",shaka.offline.indexeddb.StorageMechanism.V3_SEGMENT_STORE="segment-v3",shaka.offline.indexeddb.StorageMechanism.V5_SEGMENT_STORE="segment-v5",shaka.offline.indexeddb.StorageMechanism.V1_MANIFEST_STORE="manifest",shaka.offline.indexeddb.StorageMechanism.V2_MANIFEST_STORE="manifest-v2",shaka.offline.indexeddb.StorageMechanism.V3_MANIFEST_STORE="manifest-v3",shaka.offline.indexeddb.StorageMechanism.V5_MANIFEST_STORE="manifest-v5",shaka.offline.indexeddb.StorageMechanism.SESSION_ID_STORE="session-ids",shaka.offline.StorageMuxer.register("idb",(function(){return shaka.util.Platform.isChromecast()||!window.indexedDB?null:new shaka.offline.indexeddb.StorageMechanism})),shaka.offline.OfflineUri=function(e,t,r,n){this.type_=e,this.mechanism_=t,this.cell_=r,this.key_=n,this.asString_=["offline:",e,"/",t,"/",r,"/",n].join("")},shaka.offline.OfflineUri.prototype.isManifest=function(){return"manifest"==this.type_},shaka.offline.OfflineUri.prototype.isSegment=function(){return"segment"==this.type_},shaka.offline.OfflineUri.prototype.mechanism=function(){return this.mechanism_},shaka.offline.OfflineUri.prototype.cell=function(){return this.cell_},shaka.offline.OfflineUri.prototype.key=function(){return this.key_},shaka.offline.OfflineUri.prototype.toString=function(){return this.asString_},shaka.offline.OfflineUri.parse=function(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var r=e[2];if(!r)return null;var n=e[3];return n&&null!=t?new shaka.offline.OfflineUri(t,r,n,Number(e[4])):null},shaka.offline.OfflineUri.manifest=function(e,t,r){return new shaka.offline.OfflineUri("manifest",e,t,r)},shaka.offline.OfflineUri.segment=function(e,t,r){return new shaka.offline.OfflineUri("segment",e,t,r)},shaka.offline.ManifestConverter=function(e,t){this.mechanism_=e,this.cell_=t},shaka.offline.ManifestConverter.prototype.fromManifestDB=function(e){var t=this,r=new shaka.media.PresentationTimeline(null,0);r.setDuration(e.duration);var n=e.streams.filter((function(e){return t.isAudio_(e)})),i=e.streams.filter((function(e){return t.isVideo_(e)}));n=this.createVariants(n,i,r),i=e.streams.filter((function(e){return t.isText_(e)})).map((function(e){return t.fromStreamDB_(e,r)}));var a=e.streams.filter((function(e){return t.isImage_(e)})).map((function(e){return t.fromStreamDB_(e,r)})),o=e.drmInfo?[e.drmInfo]:[];if(e.drmInfo)for(var s=$jscomp.makeIterator(n.values()),l=s.next();!l.done;l=s.next())(l=l.value).audio&&l.audio.encrypted&&(l.audio.drmInfos=o),l.video&&l.video.encrypted&&(l.video.drmInfos=o);return{presentationTimeline:r,minBufferTime:2,offlineSessionIds:e.sessionIds,variants:Array.from(n.values()),textStreams:i,imageStreams:a}},shaka.offline.ManifestConverter.prototype.createVariants=function(e,t,r){for(var n=new Set,i=$jscomp.makeIterator(e),a=i.next();!a.done;a=i.next()){var o=$jscomp.makeIterator(a.value.variantIds);for(a=o.next();!a.done;a=o.next())n.add(a.value)}for(a=(i=$jscomp.makeIterator(t)).next();!a.done;a=i.next())for(a=(o=$jscomp.makeIterator(a.value.variantIds)).next();!a.done;a=o.next())n.add(a.value);for(i=new Map,a=(n=$jscomp.makeIterator(n)).next();!a.done;a=n.next())a=a.value,i.set(a,this.createEmptyVariant_(a));for(n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())for(n=n.value,a=this.fromStreamDB_(n,r),n=(o=$jscomp.makeIterator(n.variantIds)).next();!n.done;n=o.next())n=i.get(n.value),goog.asserts.assert(!n.audio,"A variant should only have one audio stream"),n.language=a.language,n.primary=n.primary||a.primary,n.audio=a;for(e=(t=$jscomp.makeIterator(t)).next();!e.done;e=t.next())for(n=e.value,e=this.fromStreamDB_(n,r),n=(a=$jscomp.makeIterator(n.variantIds)).next();!n.done;n=a.next())n=i.get(n.value),goog.asserts.assert(!n.video,"A variant should only have one video stream"),n.primary=n.primary||e.primary,n.video=e;return i},shaka.offline.ManifestConverter.prototype.fromStreamDB_=function(e,t){var r=this,n=e.segments.map((function(e,t){return r.fromSegmentDB_(t,e)}));return t.notifySegments(n),n=new shaka.media.SegmentIndex(n),{id:e.id,originalId:e.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:n,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:e.hdr,kind:e.kind,encrypted:e.encrypted,drmInfos:[],keyIds:e.keyIds,language:e.language,label:e.label,type:e.type,primary:e.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:e.roles,forced:e.forced,channelsCount:e.channelsCount,audioSamplingRate:e.audioSamplingRate,spatialAudio:e.spatialAudio,closedCaptions:e.closedCaptions,tilesLayout:e.tilesLayout}},shaka.offline.ManifestConverter.prototype.fromSegmentDB_=function(e,t){var r=shaka.offline.OfflineUri.segment(this.mechanism_,this.cell_,t.dataKey),n=null!=t.initSegmentKey?this.fromInitSegmentDB_(t.initSegmentKey):null;return new shaka.media.SegmentReference(t.startTime,t.endTime,(function(){return[r.toString()]}),0,null,n,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd)},shaka.offline.ManifestConverter.prototype.fromInitSegmentDB_=function(e){var t=shaka.offline.OfflineUri.segment(this.mechanism_,this.cell_,e);return new shaka.media.InitSegmentReference((function(){return[t.toString()]}),0,null)},shaka.offline.ManifestConverter.prototype.isAudio_=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.AUDIO},shaka.offline.ManifestConverter.prototype.isVideo_=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.VIDEO},shaka.offline.ManifestConverter.prototype.isText_=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.TEXT},shaka.offline.ManifestConverter.prototype.isImage_=function(e){return e.type==shaka.util.ManifestParserUtils.ContentType.IMAGE},shaka.offline.ManifestConverter.prototype.createEmptyVariant_=function(e){return{id:e,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}},shaka.offline.OfflineManifestParser=function(){this.uri_=null},shaka.offline.OfflineManifestParser.prototype.configure=function(e){},shaka.offline.OfflineManifestParser.prototype.start=function(e,t){var r,n,i,a,o,s,l,u=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(c){switch(c.nextAddress){case 1:if(r=shaka.offline.OfflineUri.parse(e),u.uri_=r,null==r||!r.isManifest())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,e);return n=new shaka.offline.StorageMuxer,c.setFinallyBlock(2),c.yield(n.init(),4);case 4:return c.yield(n.getCell(r.mechanism(),r.cell()),5);case 5:return i=c.yieldResult,c.yield(i.getManifests([r.key()]),6);case 6:return a=c.yieldResult,o=a[0],s=new shaka.offline.ManifestConverter(r.mechanism(),r.cell()),l=s.fromManifestDB(o),t.makeTextStreamsForClosedCaptions(l),c.return(l);case 2:return c.enterFinallyBlock(),c.yield(n.destroy(),7);case 7:c.leaveFinallyBlock(0)}}))},shaka.offline.OfflineManifestParser.prototype.stop=function(){return Promise.resolve()},shaka.offline.OfflineManifestParser.prototype.update=function(){},shaka.offline.OfflineManifestParser.prototype.onExpirationUpdated=function(e,t){var r,n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){switch(d.nextAddress){case 1:return goog.asserts.assert(c.uri_,"Should not get update event before start has been called"),r=c.uri_,n=new shaka.offline.StorageMuxer,d.setCatchFinallyBlocks(2,3),d.yield(n.init(),5);case 5:return d.yield(n.getCell(r.mechanism(),r.cell()),6);case 6:return i=d.yieldResult,d.yield(i.getManifests([r.key()]),7);case 7:if(a=d.yieldResult,o=a[0],s=o.sessionIds.includes(e),l=void 0==o.expiration||o.expiration>t,!s||!l){d.jumpTo(3);break}return shaka.log.debug("Updating expiration for stored content"),d.yield(i.updateManifestExpiration(r.key(),t),3);case 3:return d.enterFinallyBlock(),d.yield(n.destroy(),10);case 10:d.leaveFinallyBlock(0);break;case 2:u=d.enterCatchBlock(),shaka.log.error("There was an error updating",r,u),d.jumpTo(3)}}))},shaka.media.ManifestParser.registerParserByMime("application/x-offline-manifest",(function(){return new shaka.offline.OfflineManifestParser})),shaka.offline.OfflineScheme=function(){},shaka.offline.OfflineScheme.plugin=function(e,t,r,n){return(t=shaka.offline.OfflineUri.parse(e))&&t.isManifest()?shaka.offline.OfflineScheme.getManifest_(e):t&&t.isSegment()?shaka.offline.OfflineScheme.getSegment_(t.key(),t):shaka.util.AbortableOperation.failed(new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.NETWORK,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,e))},shaka.offline.OfflineScheme.getManifest_=function(e){return e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},shaka.util.AbortableOperation.completed(e)},shaka.offline.OfflineScheme.getSegment_=function(e,t){goog.asserts.assert(t.isSegment(),"Only segment uri's should be given to getSegment");var r=new shaka.offline.StorageMuxer;return shaka.util.AbortableOperation.completed(void 0).chain((function(){return r.init()})).chain((function(){return r.getCell(t.mechanism(),t.cell())})).chain((function(e){return e.getSegments([t.key()])})).chain((function(e){return{uri:t,data:e[0].data,headers:{}}})).finally((function(){return r.destroy()}))},goog.exportSymbol("shaka.offline.OfflineScheme",shaka.offline.OfflineScheme),goog.exportProperty(shaka.offline.OfflineScheme,"plugin",shaka.offline.OfflineScheme.plugin),shaka.net.NetworkingEngine.registerScheme("offline",shaka.offline.OfflineScheme.plugin),shaka.offline.SessionDeleter=function(){},shaka.offline.SessionDeleter.prototype.delete=function(e,t,r){var n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){switch(d.nextAddress){case 1:n=shaka.offline.SessionDeleter,i=[],a=$jscomp.makeIterator(n.createBuckets_(r)),o=a.next();case 2:if(o.done){d.jumpTo(4);break}return s=o.value,l=c.doDelete_(e,t,s),d.yield(l,5);case 5:u=d.yieldResult,i=i.concat(u),o=a.next(),d.jumpTo(2);break;case 4:return d.return(i)}}))},shaka.offline.SessionDeleter.prototype.doDelete_=function(e,t,r){var n,i,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:return n=new shaka.media.DrmEngine({netEngine:t,onError:function(){},onKeyStatus:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),s.setCatchFinallyBlocks(2),n.configure(e),s.yield(n.initForRemoval(r.info.keySystem,r.info.licenseUri,r.info.serverCertificate,r.info.audioCapabilities,r.info.videoCapabilities),4);case 4:s.leaveTryBlock(3);break;case 2:return i=s.enterCatchBlock(),shaka.log.warning("Error initializing EME",i),s.yield(n.destroy(),5);case 5:return s.return([]);case 3:return s.setCatchFinallyBlocks(6),s.yield(n.setServerCertificate(),8);case 8:s.leaveTryBlock(7);break;case 6:return a=s.enterCatchBlock(),shaka.log.warning("Error setting server certificate",a),s.yield(n.destroy(),9);case 9:return s.return([]);case 7:return o=[],s.yield(Promise.all(r.sessionIds.map((function(e){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(r.setCatchFinallyBlocks(2),r.yield(n.removeSession(e),4)):2!=r.nextAddress?(o.push(e),r.leaveTryBlock(0)):(t=r.enterCatchBlock(),shaka.log.warning("Error deleting offline session",t),void r.jumpToEnd())}))}))),10);case 10:return s.yield(n.destroy(),11);case 11:return s.return(o)}}))},shaka.offline.SessionDeleter.createBuckets_=function(e){for(var t=shaka.offline.SessionDeleter,r=[],n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next()){n=n.value;for(var i=!1,a=$jscomp.makeIterator(r),o=a.next();!o.done;o=a.next())if(o=o.value,t.isCompatible_(o.info,n)){o.sessionIds.push(n.sessionId),i=!0;break}i||r.push({info:n,sessionIds:[n.sessionId]})}return r},shaka.offline.SessionDeleter.isCompatible_=function(e,t){var r=shaka.util.ArrayUtils,n=function(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType};return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&r.hasSameElements(e.audioCapabilities,t.audioCapabilities,n)&&r.hasSameElements(e.videoCapabilities,t.videoCapabilities,n)},shaka.offline.StoredContentUtils=function(){},shaka.offline.StoredContentUtils.fromManifest=function(e,t,r,n){return goog.asserts.assert(t.variants.length,"Cannot create stored content from manifest with no variants."),{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:r,expiration:1/0,tracks:t=shaka.offline.StoredContentUtils.getTracks_(t),appMetadata:n}},shaka.offline.StoredContentUtils.fromManifestDB=function(e,t){goog.asserts.assert(t.streams.length,"Cannot create stored content from manifestDB with no streams.");var r=new shaka.offline.ManifestConverter(e.mechanism(),e.cell()).fromManifestDB(t),n=t.appMetadata||{};return r=shaka.offline.StoredContentUtils.getTracks_(r),goog.asserts.assert(null!=t.expiration,"Manifest expiration must be set by now!"),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:r,appMetadata:n}},shaka.offline.StoredContentUtils.getTracks_=function(e){for(var t=shaka.util.StreamUtils,r=[],n=t.getPlayableVariants(e.variants),i=(n=$jscomp.makeIterator(n)).next();!i.done;i=n.next())r.push(t.variantToTrack(i.value));for(n=(e=$jscomp.makeIterator(e.textStreams)).next();!n.done;n=e.next())r.push(t.textStreamToTrack(n.value));return r},shaka.offline.StreamBandwidthEstimator=function(){this.estimateByStreamId_={}},shaka.offline.StreamBandwidthEstimator.prototype.addVariant=function(e){var t=e.audio,r=e.video;if(t&&!r&&this.setBitrate_(t.id,t.bandwidth||e.bandwidth),!t&&r&&this.setBitrate_(r.id,r.bandwidth||e.bandwidth),t&&r){var n=t.bandwidth||shaka.offline.StreamBandwidthEstimator.DEFAULT_AUDIO_BITRATE_,i=r.bandwidth||e.bandwidth-n;0>=i&&(shaka.log.warning("Audio bit rate consumes variants bandwidth. Setting video bandwidth to match variant's bandwidth."),i=e.bandwidth),this.setBitrate_(t.id,n),this.setBitrate_(r.id,i)}},shaka.offline.StreamBandwidthEstimator.prototype.setBitrate_=function(e,t){this.estimateByStreamId_[e]=t},shaka.offline.StreamBandwidthEstimator.prototype.addText=function(e){this.estimateByStreamId_[e.id]=shaka.offline.StreamBandwidthEstimator.DEFAULT_TEXT_BITRATE_},shaka.offline.StreamBandwidthEstimator.prototype.addImage=function(e){this.estimateByStreamId_[e.id]=e.bandwidth||shaka.offline.StreamBandwidthEstimator.DEFAULT_IMAGE_BITRATE_},shaka.offline.StreamBandwidthEstimator.prototype.getSegmentEstimate=function(e,t){var r=t.endTime-t.startTime;return this.getEstimate_(e)*r},shaka.offline.StreamBandwidthEstimator.prototype.getInitSegmentEstimate=function(e){return.5*this.getEstimate_(e)},shaka.offline.StreamBandwidthEstimator.prototype.getEstimate_=function(e){return null==(e=this.estimateByStreamId_[e])&&(e=0,shaka.log.error("Asking for bitrate of stream not given to the estimator")),0==e&&shaka.log.warning("Using bitrate of 0, this stream won't affect progress"),e},shaka.offline.StreamBandwidthEstimator.DEFAULT_AUDIO_BITRATE_=393216,shaka.offline.StreamBandwidthEstimator.DEFAULT_TEXT_BITRATE_=52,shaka.offline.StreamBandwidthEstimator.DEFAULT_IMAGE_BITRATE_=2048,shaka.offline.Storage=function(e){var t=this;if(e&&e.constructor!=shaka.Player)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.LOCAL_PLAYER_INSTANCE_REQUIRED);this.networkingEngine_=this.config_=null,e?(this.config_=e.getSharedConfiguration(),this.networkingEngine_=e.getNetworkingEngine(),goog.asserts.assert(this.networkingEngine_,"Storage should not be initialized with a player that had |destroy| called on it.")):(this.config_=shaka.util.PlayerConfiguration.createDefault(),this.networkingEngine_=new shaka.net.NetworkingEngine),this.segmentsFromStore_=[],this.openOperations_=[],this.openDownloadManagers_=[];var r=!e;this.destroyer_=new shaka.util.Destroyer((function(){var e,n,i,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram((function(s){switch(s.nextAddress){case 1:return s.yield(Promise.all(t.openDownloadManagers_.map((function(e){return e.abortAll()}))),2);case 2:for(e=function(){},n=[],i=$jscomp.makeIterator(t.openOperations_),a=i.next();!a.done;a=i.next())o=a.value,n.push(o.then(e,e));return s.yield(Promise.all(n),3);case 3:if(!r){s.jumpTo(4);break}return s.yield(t.networkingEngine_.destroy(),4);case 4:t.config_=null,t.networkingEngine_=null,s.jumpToEnd()}}))}))},shaka.offline.Storage.support=function(){return!!shaka.util.Platform.supportsMediaSource()&&shaka.offline.StorageMuxer.support()},shaka.offline.Storage.prototype.destroy=function(){return this.destroyer_.destroy()},shaka.offline.Storage.prototype.configure=function(e,t){return goog.asserts.assert("object"==typeof e||2==arguments.length,"String configs should have values!"),2==arguments.length&&"string"==typeof e&&(e=shaka.util.ConfigUtils.convertToConfigObject(e,t)),goog.asserts.assert("object"==typeof e,"Should be an object!"),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(shaka.Deprecate.deprecateFeature(4,"manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),goog.asserts.assert(this.config_,"Cannot reconfigure stroage after calling destroy."),shaka.util.PlayerConfiguration.mergeConfigObjects(this.config_,e)},shaka.offline.Storage.prototype.getConfiguration=function(){goog.asserts.assert(this.config_,"Config must not be null!");var e=shaka.util.PlayerConfiguration.createDefault();return shaka.util.PlayerConfiguration.mergeConfigObjects(e,this.config_,shaka.util.PlayerConfiguration.createDefault()),e},shaka.offline.Storage.prototype.getNetworkingEngine=function(){return this.networkingEngine_},shaka.offline.Storage.prototype.store=function(e,t,r){var n=this;goog.asserts.assert(this.networkingEngine_,"Cannot call |downloadManifest_| after calling |destroy|.");var i=this.getConfiguration(),a=new shaka.offline.DownloadManager(this.networkingEngine_);this.openDownloadManagers_.push(a),t=this.store_(e,t||{},(function(){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){return 1==a.nextAddress?(goog.asserts.assert(n.networkingEngine_,"Should not call |store| after |destroy|"),a.yield(shaka.media.ManifestParser.getFactory(e,n.networkingEngine_,i.manifest.retryParameters,r||null),2)):(t=a.yieldResult,a.return(shaka.util.Functional.callFactory(t)))}))}),i,a);var o=new shaka.util.AbortableOperation(t,(function(){return a.abortAll()}));return o.finally((function(){shaka.util.ArrayUtils.remove(n.openDownloadManagers_,a)})),o.then=function(e){return shaka.Deprecate.deprecateFeature(4,"shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),o.promise.then(e)},this.startAbortableOperation_(o)},shaka.offline.Storage.prototype.getStoreInProgress=function(){return shaka.Deprecate.deprecateFeature(4,"shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},shaka.offline.Storage.prototype.store_=function(e,t,r,n,i){var a,o,s,l,u,c,d,f,p,h,g=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(m){switch(m.nextAddress){case 1:return g.requireSupport_(),o=a=null,s=new shaka.offline.StorageMuxer,u=l=null,m.setCatchFinallyBlocks(2,3),m.yield(r(),5);case 5:return a=m.yieldResult,m.yield(g.parseManifest(e,a,n),6);case 6:if(c=m.yieldResult,g.ensureNotDestroyed_(),!(!c.presentationTimeline.isLive()&&!c.presentationTimeline.isInProgress()))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.CANNOT_STORE_LIVE_OFFLINE,e);return m.yield(g.createDrmEngine(c,(function(e){u=u||e}),n),7);case 7:if(o=m.yieldResult,g.ensureNotDestroyed_(),u)throw u;return m.yield(g.filterManifest_(c,o,n),8);case 8:return m.yield(s.init(),9);case 9:return g.ensureNotDestroyed_(),m.yield(s.getActive(),10);case 10:return l=m.yieldResult,g.ensureNotDestroyed_(),goog.asserts.assert(o,"drmEngine should be non-null here."),m.yield(g.downloadManifest_(l.cell,o,c,e,t,n,i),11);case 11:if(d=m.yieldResult,g.ensureNotDestroyed_(),u)throw u;return m.yield(l.cell.addManifests([d]),12);case 12:return f=m.yieldResult,g.ensureNotDestroyed_(),p=shaka.offline.OfflineUri.manifest(l.path.mechanism,l.path.cell,f[0]),m.return(shaka.offline.StoredContentUtils.fromManifestDB(p,d));case 3:return m.enterFinallyBlock(),g.segmentsFromStore_=[],m.yield(s.destroy(),13);case 13:if(!a){m.jumpTo(14);break}return m.yield(a.stop(),14);case 14:if(!o){m.jumpTo(16);break}return m.yield(o.destroy(),16);case 16:m.leaveFinallyBlock(0);break;case 2:if(h=m.enterCatchBlock(),!l){m.jumpTo(18);break}return m.yield(l.cell.removeSegments(g.segmentsFromStore_,(function(){})),18);case 18:throw u||h}}))},shaka.offline.Storage.prototype.filterManifest_=function(e,t,r){var n,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,k,E,_,S,T,w,x,O,P;return $jscomp.asyncExecutePromiseGeneratorProgram((function(C){switch(C.nextAddress){case 1:for(n=shaka.util.StreamUtils,i={width:1/0,height:1/0},n.filterByRestrictions(e,r.restrictions,i),r.useMediaCapabilities?n.filterManifestByMediaCapabilities(e,r.offline.usePersistentLicense):(n.filterManifestByMediaSource(e),n.filterManifestByDrm(e,t)),a=[],o=r.preferredAudioChannelCount,n.chooseCodecsAndFilterManifest(e,o),s=$jscomp.makeIterator(e.variants),l=s.next();!l.done;l=s.next())u=l.value,goog.asserts.assert(n.isPlayable(u),'We should have already filtered by "is playable"'),a.push(n.variantToTrack(u));for(c=$jscomp.makeIterator(e.textStreams),d=c.next();!d.done;d=c.next())f=d.value,a.push(n.textStreamToTrack(f));for(p=$jscomp.makeIterator(e.imageStreams),h=p.next();!h.done;h=p.next())g=h.value,a.push(n.imageStreamToTrack(g));return C.yield(r.offline.trackSelectionCallback(a),2);case 2:for(m=C.yieldResult,v=e.presentationTimeline.getDuration(),y=0,b=$jscomp.makeIterator(m),k=b.next();!k.done;k=b.next())E=k.value,_=E.bandwidth*v/8,y+=_;return C.setCatchFinallyBlocks(3),C.yield(r.offline.downloadSizeCallback(y),5);case 5:if(!C.yieldResult)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.STORAGE_LIMIT_REACHED);C.leaveTryBlock(4);break;case 3:if((S=C.enterCatchBlock())instanceof shaka.util.Error)throw S;throw shaka.log.warning("downloadSizeCallback has produced an unexpected error",S),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.DOWNLOAD_SIZE_CALLBACK_ERROR);case 4:for(T=new Set,w=new Set,x=new Set,O=$jscomp.makeIterator(m),k=O.next();!k.done;k=O.next())"variant"==(P=k.value).type&&T.add(P.id),"text"==P.type&&w.add(P.id),"image"==P.type&&x.add(P.id);e.variants=e.variants.filter((function(e){return T.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return w.has(e.id)})),e.imageStreams=e.imageStreams.filter((function(e){return x.has(e.id)})),shaka.offline.Storage.validateManifest_(e),C.jumpToEnd()}}))},shaka.offline.Storage.prototype.downloadManifest_=function(e,t,r,n,i,a,o){var s,l,u,c,d,f,p,h,g,m,v,y,b=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(k){switch(k.nextAddress){case 1:return s=shaka.offline.StoredContentUtils.fromManifest(n,r,0,i),l=a.offline.progressCallback,u=function(e,t){s.size=t,l(s,e)},c=function(e,r){p&&a.offline.usePersistentLicense&&h==r&&t.newInitData("cenc",e)},o.setCallbacks(u,c),d=r.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})),f=r.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))})),h=null,(p=d&&!f)&&(g=t.getDrmInfo(),h=shaka.offline.Storage.defaultSystemIds_.get(g.keySystem)),k.setFinallyBlock(2),v=m=b.createOfflineManifest_(o,e,t,r,n,i,a),k.yield(o.waitToFinish(),4);case 4:if(v.size=k.yieldResult,m.expiration=t.getExpiration(),y=t.getSessionIds(),m.sessionIds=a.offline.usePersistentLicense?y:[],d&&a.offline.usePersistentLicense&&!y.length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.NO_INIT_DATA_FOR_OFFLINE);return k.return(m);case 2:return k.enterFinallyBlock(),k.yield(o.destroy(),5);case 5:k.leaveFinallyBlock(0)}}))},shaka.offline.Storage.prototype.remove=function(e){return this.startOperation_(this.remove_(e))},shaka.offline.Storage.prototype.remove_=function(e){var t,r,n,i,a,o,s=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){switch(l.nextAddress){case 1:if(s.requireSupport_(),null==(t=shaka.offline.OfflineUri.parse(e))||!t.isManifest())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.MALFORMED_OFFLINE_URI,e);return r=t,n=new shaka.offline.StorageMuxer,l.setFinallyBlock(2),l.yield(n.init(),4);case 4:return l.yield(n.getCell(r.mechanism(),r.cell()),5);case 5:return i=l.yieldResult,l.yield(i.getManifests([r.key()]),6);case 6:return a=l.yieldResult,o=a[0],l.yield(Promise.all([s.removeFromDRM_(r,o,n),s.removeFromStorage_(i,r,o)]),2);case 2:return l.enterFinallyBlock(),l.yield(n.destroy(),8);case 8:l.leaveFinallyBlock(0)}}))},shaka.offline.Storage.getCapabilities_=function(e,t){for(var r=shaka.util.MimeUtils,n=[],i=$jscomp.makeIterator(e.streams),a=i.next();!a.done;a=i.next())a=a.value,t&&"video"==a.type?n.push({contentType:r.getFullType(a.mimeType,a.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=a.type||n.push({contentType:r.getFullType(a.mimeType,a.codecs),robustness:e.drmInfo.audioRobustness});return n},shaka.offline.Storage.prototype.removeFromDRM_=function(e,t,r){var n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(e){return goog.asserts.assert(n.networkingEngine_,"Cannot be destroyed"),e.yield(shaka.offline.Storage.deleteLicenseFor_(n.networkingEngine_,n.config_.drm,r,t),0)}))},shaka.offline.Storage.prototype.removeFromStorage_=function(e,t,r){var n=this,i=shaka.offline.Storage.getAllSegmentIds_(r),a=i.length+1,o=0,s=shaka.offline.StoredContentUtils.fromManifestDB(t,r);return r=function(e){o+=1,n.config_.offline.progressCallback(s,o/a)},Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])},shaka.offline.Storage.prototype.removeEmeSessions=function(){return this.startOperation_(this.removeEmeSessions_())},shaka.offline.Storage.prototype.removeEmeSessions_=function(){var e,t,r,n,i,a,o,s,l,u,c,d=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(f){switch(f.nextAddress){case 1:return d.requireSupport_(),goog.asserts.assert(d.networkingEngine_,"Cannot be destroyed"),e=d.networkingEngine_,t=d.config_.drm,r=new shaka.offline.StorageMuxer,n=new shaka.offline.SessionDeleter,i=!1,f.setFinallyBlock(2),f.yield(r.init(),4);case 4:a=[],r.forEachEmeSessionCell((function(e){return a.push(e)})),o=$jscomp.makeIterator(a),s=o.next();case 5:if(s.done){f.jumpTo(2);break}return l=s.value,f.yield(l.getAll(),8);case 8:return u=f.yieldResult,f.yield(n.delete(t,e,u),9);case 9:return c=f.yieldResult,f.yield(l.remove(c),10);case 10:c.length!=u.length&&(i=!0),s=o.next(),f.jumpTo(5);break;case 2:return f.enterFinallyBlock(),f.yield(r.destroy(),11);case 11:f.leaveFinallyBlock(3);break;case 3:return f.return(!i)}}))},shaka.offline.Storage.prototype.list=function(){return this.startOperation_(this.list_())},shaka.offline.Storage.prototype.list_=function(){var e,t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){switch(i.nextAddress){case 1:return n.requireSupport_(),e=[],t=new shaka.offline.StorageMuxer,i.setFinallyBlock(2),i.yield(t.init(),4);case 4:return r=Promise.resolve(),t.forEachCell((function(t,n){r=r.then((function(){return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){if(1==r.nextAddress)return r.yield(n.getAllManifests(),2);r.yieldResult.forEach((function(r,n){var i=shaka.offline.OfflineUri.manifest(t.mechanism,t.cell,n);i=shaka.offline.StoredContentUtils.fromManifestDB(i,r),e.push(i)})),r.jumpToEnd()}))}))})),i.yield(r,2);case 2:return i.enterFinallyBlock(),i.yield(t.destroy(),6);case 6:i.leaveFinallyBlock(3);break;case 3:return i.return(e)}}))},shaka.offline.Storage.prototype.parseManifest=function(e,t,r){var n,i,a,o,s,l=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(u){if(1==u.nextAddress)return n=null,i=l.networkingEngine_,goog.asserts.assert(i,"Should be initialized!"),a={networkingEngine:i,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(e){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){n=e},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){}},t.configure(r.manifest),l.ensureNotDestroyed_(),u.yield(t.start(e,a),2);if(3!=u.nextAddress)return o=u.yieldResult,l.ensureNotDestroyed_(),s=shaka.offline.Storage.getAllStreamsFromManifest_(o),u.yield(Promise.all(shaka.util.Iterables.map(s,(function(e){return e.createSegmentIndex()}))),3);if(l.ensureNotDestroyed_(),n)throw n;return u.return(o)}))},shaka.offline.Storage.prototype.createDrmEngine=function(e,t,r){var n,i=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(a){switch(a.nextAddress){case 1:return goog.asserts.assert(i.networkingEngine_,"Cannot call |createDrmEngine| after |destroy|"),(n=new shaka.media.DrmEngine({netEngine:i.networkingEngine_,onError:t,onKeyStatus:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(r.drm),a.yield(n.initForStorage(e.variants,r.offline.usePersistentLicense,r.useMediaCapabilities),2);case 2:return a.yield(n.setServerCertificate(),3);case 3:return a.yield(n.createOrLoad(),4);case 4:return a.return(n)}}))},shaka.offline.Storage.prototype.createOfflineManifest_=function(e,t,r,n,i,a,o){var s=new shaka.offline.StreamBandwidthEstimator;return e=this.createStreams_(e,t,s,r,n,o),o=o.offline.usePersistentLicense,(t=r.getDrmInfo())&&o&&(t.initData=[]),{creationTime:Date.now(),originalManifestUri:i,duration:n.presentationTimeline.getDuration(),size:0,expiration:r.getExpiration(),streams:e,sessionIds:o?r.getSessionIds():[],drmInfo:t,appMetadata:a}},shaka.offline.Storage.prototype.createStreams_=function(e,t,r,n,i,a){for(var o=(n=$jscomp.makeIterator(i.variants)).next();!o.done;o=n.next())r.addVariant(o.value);for(o=(n=$jscomp.makeIterator(i.textStreams)).next();!o.done;o=n.next())r.addText(o.value);for(o=(n=$jscomp.makeIterator(i.imageStreams)).next();!o.done;o=n.next())r.addImage(o.value);(o=new Map).set(null,Promise.resolve(null));var s=new Map,l=shaka.offline.Storage.getAllStreamsFromManifest_(i);n=new Map;for(var u=(l=$jscomp.makeIterator(l)).next();!u.done;u=l.next()){u=u.value;var c=this.createStream_(e,t,r,i,u,a,o,s);n.set(u.id,c)}for(o=(e=$jscomp.makeIterator(i.variants)).next();!o.done;o=e.next())(t=o.value).audio&&n.get(t.audio.id).variantIds.push(t.id),t.video&&n.get(t.video.id).variantIds.push(t.id);return Array.from(n.values())},shaka.offline.Storage.prototype.createStream_=function(e,t,r,n,i,a,o,s){var l=this,u={id:i.id,originalId:i.originalId,primary:i.primary,type:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,kind:i.kind,language:i.language,label:i.label,width:i.width||null,height:i.height||null,encrypted:i.encrypted,keyIds:i.keyIds,segments:[],variantIds:[],roles:i.roles,forced:i.forced,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,closedCaptions:i.closedCaptions,tilesLayout:i.tilesLayout},c=i.id;return n=n.presentationTimeline.getSegmentAvailabilityStart(),shaka.offline.Storage.forEachSegment_(i,n,(function(n){var d=l.getInitSegmentDbKey_(e,c,i.id,t,r,n.initSegmentReference,a,o),f=l.getSegmentDbKey_(e,c,i.id,t,r,n,a,s);e.queueWork(c,(function(){var e,t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?r.yield(d,2):3!=r.nextAddress?(e=r.yieldResult,r.yield(f,3)):(t=r.yieldResult,u.segments.push({initSegmentKey:e,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,dataKey:t}),void r.jumpToEnd())}))}))})),u},shaka.offline.Storage.prototype.getInitSegmentDbKey_=function(e,t,r,n,i,a,o,s){var l=this;return s.has(a)?s.get(a):(o=shaka.util.Networking.createSegmentRequest(a.getUris(),a.startByte,a.endByte,o.streaming.retryParameters),e=e.queue(t,o,i.getInitSegmentEstimate(r),!0,(function(e){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?r.yield(n.addSegments([{data:e}]),2):(t=r.yieldResult,l.segmentsFromStore_.push(t[0]),r.return(t[0]))}))})),s.set(a,e),e)},shaka.offline.Storage.prototype.getSegmentDbKey_=function(e,t,r,n,i,a,o,s){var l=this,u=[a.getUris()[0],a.startByte,a.endByte].join("-");return s.has(u)?s.get(u):(o=shaka.util.Networking.createSegmentRequest(a.getUris(),a.startByte,a.endByte,o.streaming.retryParameters),e=e.queue(t,o,i.getSegmentEstimate(r,a),!1,(function(e){var t;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?r.yield(n.addSegments([{data:e}]),2):(t=r.yieldResult,l.segmentsFromStore_.push(t[0]),r.return(t[0]))}))})),s.set(u,e),e)},shaka.offline.Storage.forEachSegment_=function(e,t,r){if(null!=(t=e.segmentIndex.find(t)))for(var n=e.segmentIndex.get(t);n;)r(n),n=e.segmentIndex.get(++t)},shaka.offline.Storage.prototype.ensureNotDestroyed_=function(){if(this.destroyer_.destroyed())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.OPERATION_ABORTED)},shaka.offline.Storage.prototype.requireSupport_=function(){if(!shaka.offline.Storage.support())throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.STORAGE,shaka.util.Error.Code.STORAGE_NOT_SUPPORTED)},shaka.offline.Storage.prototype.startOperation_=function(e){var t=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(r){return 1==r.nextAddress?(t.openOperations_.push(e),r.setFinallyBlock(2),r.yield(e,4)):2!=r.nextAddress?r.return(r.yieldResult):(r.enterFinallyBlock(),shaka.util.ArrayUtils.remove(t.openOperations_,e),r.leaveFinallyBlock(0))}))},shaka.offline.Storage.prototype.startAbortableOperation_=function(e){var t=this,r=e.promise;return this.openOperations_.push(r),e.finally((function(){shaka.util.ArrayUtils.remove(t.openOperations_,r)}))},shaka.offline.Storage.getAllSegmentIds_=function(e){for(var t=[],r=(e=$jscomp.makeIterator(e.streams)).next();!r.done;r=e.next())for(var n=(r=$jscomp.makeIterator(r.value.segments)).next();!n.done;n=r.next())null!=(n=n.value).initSegmentKey&&t.push(n.initSegmentKey),t.push(n.dataKey);return t},shaka.offline.Storage.deleteAll=function(){var e;return $jscomp.asyncExecutePromiseGeneratorProgram((function(t){return 1==t.nextAddress?(e=new shaka.offline.StorageMuxer,t.setFinallyBlock(2),t.yield(e.erase(),2)):5!=t.nextAddress?(t.enterFinallyBlock(),t.yield(e.destroy(),5)):t.leaveFinallyBlock(0)}))},shaka.offline.Storage.deleteLicenseFor_=function(e,t,r,n){var i,a,o,s;return $jscomp.asyncExecutePromiseGeneratorProgram((function(l){return 1==l.nextAddress?n.drmInfo?(i=r.getEmeSessionCell(),a=n.sessionIds.map((function(e){return{sessionId:e,keySystem:n.drmInfo.keySystem,licenseUri:n.drmInfo.licenseServerUri,serverCertificate:n.drmInfo.serverCertificate,audioCapabilities:shaka.offline.Storage.getCapabilities_(n,!1),videoCapabilities:shaka.offline.Storage.getCapabilities_(n,!0)}})),o=new shaka.offline.SessionDeleter,l.yield(o.delete(t,e,a),2)):l.return():3!=l.nextAddress?(s=l.yieldResult,l.yield(i.remove(s),3)):l.yield(i.add(a.filter((function(e){return!s.includes(e.sessionId)}))),0)}))},shaka.offline.Storage.getAllStreamsFromManifest_=function(e){for(var t=new Set,r=$jscomp.makeIterator(e.textStreams),n=r.next();!n.done;n=r.next())t.add(n.value);for(n=(r=$jscomp.makeIterator(e.imageStreams)).next();!n.done;n=r.next())t.add(n.value);for(r=(e=$jscomp.makeIterator(e.variants)).next();!r.done;r=e.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video);return t},shaka.offline.Storage.validateManifest_=function(e){var t=new Set(e.variants.map((function(e){return e.video}))),r=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams,1<t.size&&shaka.log.warning("Multiple video tracks selected to be stored");for(var n=(t=$jscomp.makeIterator(r)).next();!n.done;n=t.next()){n=n.value;for(var i=$jscomp.makeIterator(r),a=i.next();!a.done;a=i.next())n!=(a=a.value)&&n.language==a.language&&shaka.log.warning("Similar audio tracks were selected to be stored",n.id,a.id)}for(t=(r=$jscomp.makeIterator(e)).next();!t.done;t=r.next())for(t=t.value,i=(n=$jscomp.makeIterator(e)).next();!i.done;i=n.next())t!=(i=i.value)&&t.language==i.language&&shaka.log.warning("Similar text tracks were selected to be stored",t.id,i.id)},goog.exportSymbol("shaka.offline.Storage",shaka.offline.Storage),goog.exportProperty(shaka.offline.Storage,"deleteAll",shaka.offline.Storage.deleteAll),goog.exportProperty(shaka.offline.Storage.prototype,"list",shaka.offline.Storage.prototype.list),goog.exportProperty(shaka.offline.Storage.prototype,"removeEmeSessions",shaka.offline.Storage.prototype.removeEmeSessions),goog.exportProperty(shaka.offline.Storage.prototype,"remove",shaka.offline.Storage.prototype.remove),goog.exportProperty(shaka.offline.Storage.prototype,"getStoreInProgress",shaka.offline.Storage.prototype.getStoreInProgress),goog.exportProperty(shaka.offline.Storage.prototype,"store",shaka.offline.Storage.prototype.store),goog.exportProperty(shaka.offline.Storage.prototype,"getNetworkingEngine",shaka.offline.Storage.prototype.getNetworkingEngine),goog.exportProperty(shaka.offline.Storage.prototype,"getConfiguration",shaka.offline.Storage.prototype.getConfiguration),goog.exportProperty(shaka.offline.Storage.prototype,"configure",shaka.offline.Storage.prototype.configure),goog.exportProperty(shaka.offline.Storage.prototype,"destroy",shaka.offline.Storage.prototype.destroy),goog.exportProperty(shaka.offline.Storage,"support",shaka.offline.Storage.support),shaka.offline.Storage.defaultSystemIds_=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb"),shaka.Player.registerSupportPlugin("offline",shaka.offline.Storage.support),shaka.polyfill=function(){},shaka.polyfill.installAll=function(){for(var e=$jscomp.makeIterator(shaka.polyfill.polyfills_),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(r){shaka.log.alwaysWarn("Error installing polyfill!",r)}}},shaka.polyfill.register=function(e,t){for(var r={priority:t||0,callback:e},n=$jscomp.makeIterator(shaka.util.Iterables.enumerate(shaka.polyfill.polyfills_)),i=n.next();!i.done;i=n.next()){var a=(i=i.value).i;if(i.item.priority<r.priority)return void shaka.polyfill.polyfills_.splice(a,0,r)}shaka.polyfill.polyfills_.push(r)},goog.exportSymbol("shaka.polyfill",shaka.polyfill),goog.exportProperty(shaka.polyfill,"register",shaka.polyfill.register),goog.exportProperty(shaka.polyfill,"installAll",shaka.polyfill.installAll),shaka.polyfill.polyfills_=[],shaka.polyfill.EncryptionScheme=function(){},shaka.polyfill.EncryptionScheme.install=function(){EncryptionSchemePolyfills.install()},shaka.polyfill.register(shaka.polyfill.EncryptionScheme.install,-2),shaka.polyfill.Fullscreen=function(){},shaka.polyfill.Fullscreen.install=function(){if(window.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),e=shaka.polyfill.Fullscreen.proxyEvent_,document.addEventListener("webkitfullscreenchange",e),document.addEventListener("webkitfullscreenerror",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("mozfullscreenerror",e),document.addEventListener("MSFullscreenChange",e),document.addEventListener("MSFullscreenError",e)}},shaka.polyfill.Fullscreen.proxyEvent_=function(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),r=document.createEvent("Event");r.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(r)},shaka.polyfill.register(shaka.polyfill.Fullscreen.install),shaka.polyfill.MathRound=function(){},shaka.polyfill.MathRound.install=function(){shaka.log.debug("mathRound.install");var e=shaka.polyfill.MathRound.MAX_ACCURATE_INPUT_+1;if(Math.round(e)!=e){shaka.log.debug("polyfill Math.round");var t=Math.round;Math.round=function(e){var r=e;return e<=shaka.polyfill.MathRound.MAX_ACCURATE_INPUT_&&(r=t(e)),r}}},shaka.polyfill.MathRound.MAX_ACCURATE_INPUT_=4503599627370496,shaka.polyfill.register(shaka.polyfill.MathRound.install),shaka.polyfill.MediaCapabilities=function(){},shaka.polyfill.MediaCapabilities.install=function(){shaka.log.debug("MediaCapabilities: install"),!shaka.util.Platform.isChromecast()&&navigator.mediaCapabilities?shaka.log.debug("MediaCapabilities: Native mediaCapabilities support found."):window.MediaSource?(navigator.mediaCapabilities={},navigator.mediaCapabilities.decodingInfo=shaka.polyfill.MediaCapabilities.decodingInfo_):shaka.log.debug("MediaSource must be available to install mediaCapabilities ","polyfill.")},shaka.polyfill.MediaCapabilities.decodingInfo_=function(e){var t,r,n,i,a,o,s,l,u,c;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){switch(d.nextAddress){case 1:return t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},e&&(!e.video||(r=e.video.contentType,MediaSource.isTypeSupported(r)))&&(!e.audio||(n=e.audio.contentType,MediaSource.isTypeSupported(n)))?e.keySystemConfiguration?(i=e.keySystemConfiguration,a=[],o=[],i.audio&&(s={robustness:i.audio.robustness||"",contentType:e.audio.contentType},a.push(s)),i.video&&(l={robustness:i.video.robustness||"",contentType:e.video.contentType},o.push(l)),u={initDataTypes:[i.initDataType],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(u.audioCapabilities=a),o.length&&(u.videoCapabilities=o),d.setCatchFinallyBlocks(3),d.yield(navigator.requestMediaKeySystemAccess(i.keySystem,[u]),5)):(t.supported=!0,d.return(Promise.resolve(t))):d.return(t);case 5:c=d.yieldResult,d.leaveTryBlock(4);break;case 3:d.enterCatchBlock(),shaka.log.info("navigator.requestMediaKeySystemAccess failed.");case 4:c&&(t.supported=!0,t.keySystemAccess=c);case 2:return d.return(t)}}))},shaka.polyfill.register(shaka.polyfill.MediaCapabilities.install,-1),shaka.polyfill.MediaSource=function(){},shaka.polyfill.MediaSource.install=function(){shaka.log.debug("MediaSource.install");var e=shaka.util.Platform.safariVersion();window.MediaSource?window.cast&&cast.__platform__&&cast.__platform__.canDisplayType?(shaka.log.info("Patching Chromecast MSE bugs."),shaka.polyfill.MediaSource.patchCastIsTypeSupported_()):e?(shaka.polyfill.MediaSource.rejectTsContent_(),12>=e?(shaka.log.info("Patching Safari 11 & 12 MSE bugs."),shaka.polyfill.MediaSource.stubAbort_(),shaka.polyfill.MediaSource.patchRemovalRange_()):(shaka.log.info("Patching Safari 13 MSE bugs."),shaka.polyfill.MediaSource.stubAbort_())):shaka.util.Platform.isTizen2()||shaka.util.Platform.isTizen3()||shaka.util.Platform.isTizen4()?(shaka.log.info("Rejecting Opus."),shaka.polyfill.MediaSource.rejectCodec_("opus")):shaka.log.info("Using native MSE as-is."):shaka.log.info("No MSE implementation available."),window.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&(shaka.log.info("Patching vp09 support queries."),shaka.polyfill.MediaSource.patchVp09_())},shaka.polyfill.MediaSource.stubAbort_=function(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var r=[],n=0;n<arguments.length;++n)r[n-0]=arguments[n];return(r=e.apply(this,r)).abort=function(){},r}},shaka.polyfill.MediaSource.patchRemovalRange_=function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,r){return e.call(this,t,r-.001)}},shaka.polyfill.MediaSource.rejectTsContent_=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}},shaka.polyfill.MediaSource.rejectCodec_=function(e){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(r){return shaka.util.MimeUtils.getCodecBase(r)!=e&&t(r)}},shaka.polyfill.MediaSource.patchCastIsTypeSupported_=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var r=t.split(/ *; */);return r.shift(),r.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}},shaka.polyfill.MediaSource.patchVp09_=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var r=t.split(/ *; */),n=r.findIndex((function(e){return e.startsWith("codecs=")}));if(0>n)return e(t);var i=r[n].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex((function(e){return e.startsWith("vp09")}));return 0<=a&&(i[a]="vp9",r[n]='codecs="'+i.join(",")+'"',t=r.join("; ")),e(t)}},shaka.polyfill.register(shaka.polyfill.MediaSource.install),shaka.polyfill.Orientation=function(){},shaka.polyfill.Orientation.install=function(){screen.orientation||void 0!=window.orientation&&shaka.polyfill.Orientation.installBasedOnWindowMethods_()},shaka.polyfill.Orientation.installBasedOnWindowMethods_=function(){var e=new shaka.polyfill.Orientation.FakeOrientation;screen.orientation=e;var t=function(){switch(window.orientation){case-90:e.type="landscape-secondary",e.angle=270;break;case 0:e.type="portrait-primary",e.angle=0;break;case 90:e.type="landscape-primary",e.angle=90;break;case 180:e.type="portrait-secondary",e.angle=180}};t(),window.addEventListener("orientationchange",(function(){t(),e.dispatchChangeEvent()}))},shaka.polyfill.Orientation.FakeOrientation=function(){shaka.util.FakeEventTarget.call(this),this.type="",this.angle=0},$jscomp.inherits(shaka.polyfill.Orientation.FakeOrientation,shaka.util.FakeEventTarget),shaka.polyfill.Orientation.FakeOrientation.prototype.dispatchChangeEvent=function(){var e=new shaka.util.FakeEvent("change",{});this.dispatchEvent(e)},shaka.polyfill.Orientation.FakeOrientation.prototype.lock=function(e){var t=function(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)},r=!1;switch(e){case"natural":r=t("default");break;case"any":r=!0,this.unlock();break;default:r=t(e)}return r?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},shaka.polyfill.Orientation.FakeOrientation.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},shaka.polyfill.register(shaka.polyfill.Orientation.install),shaka.polyfill.PatchedMediaKeysApple=function(){},shaka.polyfill.PatchedMediaKeysApple.install=function(){if(window.HTMLVideoElement&&window.WebKitMediaKeys){shaka.log.info("Using Apple-prefixed EME");var e=shaka.polyfill.PatchedMediaKeysApple;delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e.setMediaKeys,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess,navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess}},shaka.polyfill.PatchedMediaKeysApple.requestMediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysApple.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess');var r=shaka.polyfill.PatchedMediaKeysApple;try{var n=new r.MediaKeySystemAccess(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},shaka.polyfill.PatchedMediaKeysApple.setMediaKeys=function(e){shaka.log.debug("PatchedMediaKeysApple.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys');var t=shaka.polyfill.PatchedMediaKeysApple,r=this.mediaKeys;return r&&r!=e&&(goog.asserts.assert(r instanceof t.MediaKeys,"non-polyfill instance of oldMediaKeys"),r.setMedia(null)),delete this.mediaKeys,(this.mediaKeys=e)?(goog.asserts.assert(e instanceof t.MediaKeys,"non-polyfill instance of newMediaKeys"),e.setMedia(this)):Promise.resolve()},shaka.polyfill.PatchedMediaKeysApple.onWebkitNeedKey_=function(e){if(shaka.log.debug("PatchedMediaKeysApple.onWebkitNeedKey_",e),goog.asserts.assert(this.mediaKeys instanceof shaka.polyfill.PatchedMediaKeysApple.MediaKeys,"non-polyfill instance of newMediaKeys"),goog.asserts.assert(null!=e.initData,"missing init data!"),e=shaka.util.BufferUtils.toUint8(e.initData),shaka.util.BufferUtils.toDataView(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=shaka.util.StringUtils.fromUTF16(e.subarray(4),!0),e=shaka.util.StringUtils.toUTF8(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=shaka.util.BufferUtils.toArrayBuffer(e),this.dispatchEvent(t)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess=function(e,t){if(shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess"),this.keySystem=e,e.startsWith("com.apple.fps"))for(var r=$jscomp.makeIterator(t),n=r.next();!n.done;n=r.next())if(n=this.checkConfig_(n.value))return void(this.configuration_=n);throw(r=Error("Unsupported keySystem")).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.checkConfig_=function(e){if("required"==e.persistentState)return null;var t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label},r=!1,n=!1;if(e.audioCapabilities)for(var i=$jscomp.makeIterator(e.audioCapabilities),a=i.next();!a.done;a=i.next())if((a=a.value).contentType){r=!0;var o=a.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,o)&&(t.audioCapabilities.push(a),n=!0)}if(e.videoCapabilities)for(a=(e=$jscomp.makeIterator(e.videoCapabilities)).next();!a.done;a=e.next())(i=a.value).contentType&&(r=!0,a=i.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,a)&&(t.videoCapabilities.push(i),n=!0));return r||(n=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),n?t:null},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.createMediaKeys=function(){shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var e=new shaka.polyfill.PatchedMediaKeysApple.MediaKeys(this.keySystem);return Promise.resolve(e)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySystemAccess.prototype.getConfiguration=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration"),this.configuration_},shaka.polyfill.PatchedMediaKeysApple.MediaKeys=function(e){shaka.log.debug("PatchedMediaKeysApple.MediaKeys"),this.nativeMediaKeys_=new WebKitMediaKeys(e),this.eventManager_=new shaka.util.EventManager},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.createSession=function(e){if(shaka.log.debug("PatchedMediaKeysApple.MediaKeys.createSession"),"temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new shaka.polyfill.PatchedMediaKeysApple.MediaKeySession(this.nativeMediaKeys_,e)},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.setServerCertificate=function(e){return shaka.log.debug("PatchedMediaKeysApple.MediaKeys.setServerCertificate"),Promise.resolve(!1)},shaka.polyfill.PatchedMediaKeysApple.MediaKeys.prototype.setMedia=function(e){var t=this,r=shaka.polyfill.PatchedMediaKeysApple;if(this.eventManager_.removeAll(),!e)return Promise.resolve();this.eventManager_.listen(e,"webkitneedkey",r.onWebkitNeedKey_);try{return shaka.util.MediaReadyState.waitForReadyState(e,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){e.webkitSetMediaKeys(t.nativeMediaKeys_)})),Promise.resolve()}catch(n){return Promise.reject(n)}},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession=function(e,t){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession"),shaka.util.FakeEventTarget.call(this),this.nativeMediaKeySession_=null,this.nativeMediaKeys_=e,this.updatePromise_=this.generateRequestPromise_=null,this.eventManager_=new shaka.util.EventManager,this.sessionId="",this.expiration=NaN,this.closed=new shaka.util.PublicPromise,this.keyStatuses=new shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap},$jscomp.inherits(shaka.polyfill.PatchedMediaKeysApple.MediaKeySession,shaka.util.FakeEventTarget),shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.generateRequest=function(e,t){var r=this;shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.generateRequest"),this.generateRequestPromise_=new shaka.util.PublicPromise;try{var n=this.nativeMediaKeys_.createSession("video/mp4",shaka.util.BufferUtils.toUint8(t));this.nativeMediaKeySession_=n,this.sessionId=n.sessionId||"",this.eventManager_.listen(this.nativeMediaKeySession_,"webkitkeymessage",(function(e){return r.onWebkitKeyMessage_(e)})),this.eventManager_.listen(n,"webkitkeyadded",(function(e){return r.onWebkitKeyAdded_(e)})),this.eventManager_.listen(n,"webkitkeyerror",(function(e){return r.onWebkitKeyError_(e)})),this.updateKeyStatus_("status-pending")}catch(i){this.generateRequestPromise_.reject(i)}return this.generateRequestPromise_},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.load=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.load"),Promise.reject(Error("MediaKeySession.load not yet supported"))},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.update=function(e){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.update"),this.updatePromise_=new shaka.util.PublicPromise;try{this.nativeMediaKeySession_.update(shaka.util.BufferUtils.toUint8(e))}catch(t){this.updatePromise_.reject(t)}return this.updatePromise_},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.close=function(){shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.close");try{this.nativeMediaKeySession_.close(),this.closed.resolve(),this.eventManager_.removeAll()}catch(a){this.closed.reject(a)}return this.closed},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.remove=function(){return shaka.log.debug("PatchedMediaKeysApple.MediaKeySession.remove"),Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyMessage_=function(e){shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyMessage_",e),goog.asserts.assert(this.generateRequestPromise_,"generateRequestPromise_ should be set before now!"),this.generateRequestPromise_&&(this.generateRequestPromise_.resolve(),this.generateRequestPromise_=null);var t=void 0==this.keyStatuses.getStatus();e=new shaka.util.FakeEvent("message",{messageType:t?"license-request":"license-renewal",message:shaka.util.BufferUtils.toArrayBuffer(e.message)}),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyAdded_=function(e){shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyAdded_",e),goog.asserts.assert(!this.generateRequestPromise_,"Key added during generate!"),goog.asserts.assert(this.updatePromise_,"updatePromise_ should be set before now!"),this.updatePromise_&&(this.updateKeyStatus_("usable"),this.updatePromise_.resolve(),this.updatePromise_=null)},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.onWebkitKeyError_=function(e){if(shaka.log.debug("PatchedMediaKeysApple.onWebkitKeyError_",e),(e=Error("EME PatchedMediaKeysApple key error")).errorCode=this.nativeMediaKeySession_.error,null!=this.generateRequestPromise_)this.generateRequestPromise_.reject(e),this.generateRequestPromise_=null;else if(null!=this.updatePromise_)this.updatePromise_.reject(e),this.updatePromise_=null;else switch(this.nativeMediaKeySession_.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:this.updateKeyStatus_("output-not-allowed");break;default:this.updateKeyStatus_("internal-error")}},shaka.polyfill.PatchedMediaKeysApple.MediaKeySession.prototype.updateKeyStatus_=function(e){this.keyStatuses.setStatus(e),e=new shaka.util.FakeEvent("keystatuseschange"),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap=function(){this.size=0,this.status_=void 0},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.setStatus=function(e){this.size=void 0==e?0:1,this.status_=e},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.getStatus=function(){return this.status_},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.forEach=function(e){this.status_&&e(this.status_,shaka.media.DrmEngine.DUMMY_KEY_ID.value())},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.get=function(e){if(this.has(e))return this.status_},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.has=function(e){var t=shaka.media.DrmEngine.DUMMY_KEY_ID.value();return!(!this.status_||!shaka.util.BufferUtils.equal(e,t))},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.entries=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.keys=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysApple.MediaKeyStatusMap.prototype.values=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysApple.install),shaka.polyfill.PatchedMediaKeysMs=function(){},shaka.polyfill.PatchedMediaKeysMs.install=function(){if(window.HTMLVideoElement&&window.MSMediaKeys&&(!navigator.requestMediaKeySystemAccess||!MediaKeySystemAccess.prototype.getConfiguration)){shaka.log.info("Using ms-prefixed EME v20140218");var e=shaka.polyfill.PatchedMediaKeysMs;delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess,navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess,HTMLMediaElement.prototype.setMediaKeys=e.MediaKeySystemAccess.setMediaKeys}},shaka.polyfill.PatchedMediaKeysMs.requestMediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysMs.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess');var r=shaka.polyfill.PatchedMediaKeysMs;try{var n=new r.MediaKeySystemAccess(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},shaka.polyfill.PatchedMediaKeysMs.onMsNeedKey_=function(e){if(shaka.log.debug("PatchedMediaKeysMs.onMsNeedKey_",e),e.initData){var t=new CustomEvent("encrypted");t.initDataType="cenc",t.initData=shaka.util.BufferUtils.toArrayBuffer(shaka.util.Pssh.normaliseInitData(e.initData)),this.dispatchEvent(t)}},shaka.polyfill.PatchedMediaKeysMs.MediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysMs.MediaKeySystemAccess"),this.keySystem=e;for(var r=!1,n=$jscomp.makeIterator(t),i=n.next();!i.done;i=n.next()){var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(i=i.value).initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=$jscomp.makeIterator(i.audioCapabilities),l=s.next();!l.done;l=s.next())if((l=l.value).contentType){o=!0;var u=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.audioCapabilities.push(l),r=!0)}if(i.videoCapabilities)for(l=(s=$jscomp.makeIterator(i.videoCapabilities)).next();!l.done;l=s.next())(l=l.value).contentType&&(o=!0,u=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.videoCapabilities.push(l),r=!0));if(o||(r=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(r=!1),r)return void(this.configuration_=a)}throw(r=Error("Unsupported keySystem")).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r},shaka.polyfill.PatchedMediaKeysMs.MediaKeySystemAccess.prototype.createMediaKeys=function(){shaka.log.debug("PatchedMediaKeysMs.MediaKeySystemAccess.createMediaKeys");var e=new shaka.polyfill.PatchedMediaKeysMs.MediaKeys(this.keySystem);return Promise.resolve(e)},shaka.polyfill.PatchedMediaKeysMs.MediaKeySystemAccess.prototype.getConfiguration=function(){return shaka.log.debug("PatchedMediaKeysMs.MediaKeySystemAccess.getConfiguration"),this.configuration_},shaka.polyfill.PatchedMediaKeysMs.MediaKeySystemAccess.setMediaKeys=function(e){shaka.log.debug("PatchedMediaKeysMs.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys');var t=shaka.polyfill.PatchedMediaKeysMs,r=this.mediaKeys;return r&&r!=e&&(goog.asserts.assert(r instanceof t.MediaKeys,"non-polyfill instance of oldMediaKeys"),r.setMedia(null)),delete this.mediaKeys,(this.mediaKeys=e)?(goog.asserts.assert(e instanceof t.MediaKeys,"non-polyfill instance of newMediaKeys"),e.setMedia(this)):Promise.resolve()};shaka.polyfill.PatchedMediaKeysMs.MediaKeys=function(e){shaka.log.debug("PatchedMediaKeysMs.MediaKeys"),this.nativeMediaKeys_=new MSMediaKeys(e),this.eventManager_=new shaka.util.EventManager},shaka.polyfill.PatchedMediaKeysMs.MediaKeys.prototype.createSession=function(e){if(shaka.log.debug("PatchedMediaKeysMs.MediaKeys.createSession"),"temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new shaka.polyfill.PatchedMediaKeysMs.MediaKeySession(this.nativeMediaKeys_,e)},shaka.polyfill.PatchedMediaKeysMs.MediaKeys.prototype.setServerCertificate=function(e){return shaka.log.debug("PatchedMediaKeysMs.MediaKeys.setServerCertificate"),Promise.resolve(!1)},shaka.polyfill.PatchedMediaKeysMs.MediaKeys.prototype.setMedia=function(e){var t=this,r=shaka.polyfill.PatchedMediaKeysMs;if(this.eventManager_.removeAll(),!e)return Promise.resolve();this.eventManager_.listen(e,"msneedkey",r.onMsNeedKey_);try{return shaka.util.MediaReadyState.waitForReadyState(e,HTMLMediaElement.HAVE_METADATA,this.eventManager_,(function(){e.msSetMediaKeys(t.nativeMediaKeys_)})),Promise.resolve()}catch(n){return Promise.reject(n)}},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession=function(e,t){shaka.log.debug("PatchedMediaKeysMs.MediaKeySession"),shaka.util.FakeEventTarget.call(this),this.nativeMediaKeySession_=null,this.nativeMediaKeys_=e,this.updatePromise_=this.generateRequestPromise_=null,this.eventManager_=new shaka.util.EventManager,this.sessionId="",this.expiration=NaN,this.closed=new shaka.util.PublicPromise,this.keyStatuses=new shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap},$jscomp.inherits(shaka.polyfill.PatchedMediaKeysMs.MediaKeySession,shaka.util.FakeEventTarget),shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.generateRequest=function(e,t){var r=this;shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.generateRequest"),this.generateRequestPromise_=new shaka.util.PublicPromise;try{this.nativeMediaKeySession_=this.nativeMediaKeys_.createSession("video/mp4",shaka.util.BufferUtils.toUint8(t),null),this.eventManager_.listen(this.nativeMediaKeySession_,"mskeymessage",(function(e){return r.onMsKeyMessage_(e)})),this.eventManager_.listen(this.nativeMediaKeySession_,"mskeyadded",(function(e){return r.onMsKeyAdded_(e)})),this.eventManager_.listen(this.nativeMediaKeySession_,"mskeyerror",(function(e){return r.onMsKeyError_(e)})),this.updateKeyStatus_("status-pending")}catch(n){this.generateRequestPromise_.reject(n)}return this.generateRequestPromise_},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.load=function(){return shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.load"),Promise.reject(Error("MediaKeySession.load not yet supported"))},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.update=function(e){shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.update"),this.updatePromise_=new shaka.util.PublicPromise;try{this.nativeMediaKeySession_.update(shaka.util.BufferUtils.toUint8(e))}catch(t){this.updatePromise_.reject(t)}return this.updatePromise_},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.close=function(){shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.close");try{this.nativeMediaKeySession_.close(),this.closed.resolve(),this.eventManager_.removeAll()}catch(a){this.closed.reject(a)}return this.closed},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.remove=function(){return shaka.log.debug("PatchedMediaKeysMs.MediaKeySession.remove"),Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.onMsKeyMessage_=function(e){shaka.log.debug("PatchedMediaKeysMs.onMsKeyMessage_",e),goog.asserts.assert(this.generateRequestPromise_,"generateRequestPromise_ not set in onMsKeyMessage_"),this.generateRequestPromise_&&(this.generateRequestPromise_.resolve(),this.generateRequestPromise_=null);var t=void 0==this.keyStatuses.getStatus();e=new shaka.util.FakeEvent("message",{messageType:t?"license-request":"license-renewal",message:shaka.util.BufferUtils.toArrayBuffer(e.message)}),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.onMsKeyAdded_=function(e){shaka.log.debug("PatchedMediaKeysMs.onMsKeyAdded_",e),this.generateRequestPromise_?(shaka.log.debug("Simulating completion for a PR persistent license."),goog.asserts.assert(!this.updatePromise_,"updatePromise_ and generateRequestPromise_ set in onMsKeyAdded_"),this.updateKeyStatus_("usable"),this.generateRequestPromise_.resolve(),this.generateRequestPromise_=null):(goog.asserts.assert(this.updatePromise_,"updatePromise_ not set in onMsKeyAdded_"),this.updatePromise_&&(this.updateKeyStatus_("usable"),this.updatePromise_.resolve(),this.updatePromise_=null))},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.onMsKeyError_=function(e){if(shaka.log.debug("PatchedMediaKeysMs.onMsKeyError_",e),(e=Error("EME PatchedMediaKeysMs key error")).errorCode=this.nativeMediaKeySession_.error,null!=this.generateRequestPromise_)this.generateRequestPromise_.reject(e),this.generateRequestPromise_=null;else if(null!=this.updatePromise_)this.updatePromise_.reject(e),this.updatePromise_=null;else switch(this.nativeMediaKeySession_.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:this.updateKeyStatus_("output-not-allowed");break;default:this.updateKeyStatus_("internal-error")}},shaka.polyfill.PatchedMediaKeysMs.MediaKeySession.prototype.updateKeyStatus_=function(e){this.keyStatuses.setStatus(e),e=new shaka.util.FakeEvent("keystatuseschange"),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap=function(){this.size=0,this.status_=void 0},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.setStatus=function(e){this.size=void 0==e?0:1,this.status_=e},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.getStatus=function(){return this.status_},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.forEach=function(e){this.status_&&e(this.status_,shaka.media.DrmEngine.DUMMY_KEY_ID.value())},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.get=function(e){if(this.has(e))return this.status_},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.has=function(e){var t=shaka.media.DrmEngine.DUMMY_KEY_ID.value();return!(!this.status_||!shaka.util.BufferUtils.equal(e,t))},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.entries=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.keys=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.PatchedMediaKeysMs.MediaKeyStatusMap.prototype.values=function(){goog.asserts.assert(!1,"Not used!  Provided only for the compiler.")},shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysMs.install),shaka.polyfill.PatchedMediaKeysNop=function(){},shaka.polyfill.PatchedMediaKeysNop.install=function(){if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){shaka.log.info("EME not available.");var e=shaka.polyfill.PatchedMediaKeysNop;navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e.setMediaKeys,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess}},shaka.polyfill.PatchedMediaKeysNop.requestMediaKeySystemAccess=function(e,t){return shaka.log.debug("PatchedMediaKeysNop.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess'),Promise.reject(Error("The key system specified is not supported."))},shaka.polyfill.PatchedMediaKeysNop.setMediaKeys=function(e){return shaka.log.debug("PatchedMediaKeysNop.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys'),null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))},shaka.polyfill.PatchedMediaKeysNop.MediaKeys=function(){throw new TypeError("Illegal constructor.")},shaka.polyfill.PatchedMediaKeysNop.MediaKeys.prototype.createSession=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeys.prototype.setServerCertificate=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess=function(){throw this.keySystem="",new TypeError("Illegal constructor.")},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess.prototype.getConfiguration=function(){},shaka.polyfill.PatchedMediaKeysNop.MediaKeySystemAccess.prototype.createMediaKeys=function(){},shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysNop.install,-10),shaka.polyfill.PatchedMediaKeysWebkit=function(){},shaka.polyfill.PatchedMediaKeysWebkit.install=function(){var e=shaka.polyfill.PatchedMediaKeysWebkit;if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)shaka.log.info("Using webkit-prefixed EME v0.1b"),e.prefix_="webkit";else{if(!HTMLMediaElement.prototype.generateKeyRequest)return;shaka.log.info("Using nonprefixed EME v0.1b")}goog.asserts.assert(HTMLMediaElement.prototype[e.prefixApi_("generateKeyRequest")],"PatchedMediaKeysWebkit APIs not available!"),navigator.requestMediaKeySystemAccess=e.requestMediaKeySystemAccess,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e.setMediaKeys,window.MediaKeys=e.MediaKeys,window.MediaKeySystemAccess=e.MediaKeySystemAccess}},shaka.polyfill.PatchedMediaKeysWebkit.prefixApi_=function(e){var t=shaka.polyfill.PatchedMediaKeysWebkit.prefix_;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e},shaka.polyfill.PatchedMediaKeysWebkit.requestMediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysWebkit.requestMediaKeySystemAccess"),goog.asserts.assert(this==navigator,'bad "this" for requestMediaKeySystemAccess');var r=shaka.polyfill.PatchedMediaKeysWebkit;try{var n=new r.MediaKeySystemAccess(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},shaka.polyfill.PatchedMediaKeysWebkit.setMediaKeys=function(e){shaka.log.debug("PatchedMediaKeysWebkit.setMediaKeys"),goog.asserts.assert(this instanceof HTMLMediaElement,'bad "this" for setMediaKeys');var t=shaka.polyfill.PatchedMediaKeysWebkit,r=this.mediaKeys;return r&&r!=e&&(goog.asserts.assert(r instanceof t.MediaKeys,"non-polyfill instance of oldMediaKeys"),r.setMedia(null)),delete this.mediaKeys,(this.mediaKeys=e)&&(goog.asserts.assert(e instanceof t.MediaKeys,"non-polyfill instance of newMediaKeys"),e.setMedia(this)),Promise.resolve()},shaka.polyfill.PatchedMediaKeysWebkit.getVideoElement_=function(){var e=document.getElementsByTagName("video");return e.length?e[0]:document.createElement("video")},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess=function(e,t){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess"),this.internalKeySystem_=this.keySystem=e;var r=!1;"org.w3.clearkey"==e&&(this.internalKeySystem_="webkit-org.w3.clearkey",r=!1);for(var n=!1,i=shaka.polyfill.PatchedMediaKeysWebkit.getVideoElement_(),a=$jscomp.makeIterator(t),o=a.next();!o.done;o=a.next()){var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(o=o.value).initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var u=$jscomp.makeIterator(o.audioCapabilities),c=u.next();!c.done;c=u.next())if((c=c.value).contentType){l=!0;var d=c.contentType.split(";")[0];i.canPlayType(d,this.internalKeySystem_)&&(s.audioCapabilities.push(c),n=!0)}if(o.videoCapabilities)for(c=(u=$jscomp.makeIterator(o.videoCapabilities)).next();!c.done;c=u.next())(c=c.value).contentType&&(l=!0,i.canPlayType(c.contentType,this.internalKeySystem_)&&(s.videoCapabilities.push(c),n=!0));if(l||(n=i.canPlayType("video/mp4",this.internalKeySystem_)||i.canPlayType("video/webm",this.internalKeySystem_)),"required"==o.persistentState&&(r?(s.persistentState="required",s.sessionTypes=["persistent-license"]):n=!1),n)return void(this.configuration_=s)}throw r="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(r="None of the requested configurations were supported."),(r=Error(r)).name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess.prototype.createMediaKeys=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.createMediaKeys");var e=new shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys(this.internalKeySystem_);return Promise.resolve(e)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySystemAccess.prototype.getConfiguration=function(){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.getConfiguration"),this.configuration_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys=function(e){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys"),this.keySystem_=e,this.media_=null,this.eventManager_=new shaka.util.EventManager,this.newSessions_=[],this.sessionMap_=new Map},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.setMedia=function(e){var t=this;this.media_=e,this.eventManager_.removeAll();var r=shaka.polyfill.PatchedMediaKeysWebkit.prefix_;e&&(this.eventManager_.listen(e,r+"needkey",(function(e){return t.onWebkitNeedKey_(e)})),this.eventManager_.listen(e,r+"keymessage",(function(e){return t.onWebkitKeyMessage_(e)})),this.eventManager_.listen(e,r+"keyadded",(function(e){return t.onWebkitKeyAdded_(e)})),this.eventManager_.listen(e,r+"keyerror",(function(e){return t.onWebkitKeyError_(e)})))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.createSession=function(e){if(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.createSession"),"temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=shaka.polyfill.PatchedMediaKeysWebkit,r=this.media_||document.createElement("video");return r.src||(r.src="about:blank"),e=new t.MediaKeySession(r,this.keySystem_,e),this.newSessions_.push(e),e},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.setServerCertificate=function(e){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.setServerCertificate"),Promise.resolve(!1)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitNeedKey_=function(e){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitNeedKey_",e),goog.asserts.assert(this.media_,"media_ not set in onWebkitNeedKey_");var t=new CustomEvent("encrypted");t.initDataType="cenc",t.initData=shaka.util.BufferUtils.toArrayBuffer(e.initData),this.media_.dispatchEvent(t)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyMessage_=function(e){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyMessage_",e);var t=this.findSession_(e.sessionId);if(t){var r=void 0==t.keyStatuses.getStatus();e=new shaka.util.FakeEvent("message",{messageType:r?"licenserequest":"licenserenewal",message:e.message}),t.generated(),t.dispatchEvent(e)}else shaka.log.error("Session not found",e.sessionId)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyAdded_=function(e){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyAdded_",e),e=this.findSession_(e.sessionId),goog.asserts.assert(e,"unable to find session in onWebkitKeyAdded_"),e&&e.ready()},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.onWebkitKeyError_=function(e){shaka.log.debug("PatchedMediaKeysWebkit.onWebkitKeyError_",e);var t=this.findSession_(e.sessionId);goog.asserts.assert(t,"unable to find session in onWebkitKeyError_"),t&&t.handleError(e)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeys.prototype.findSession_=function(e){var t=this.sessionMap_.get(e);return t?(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",t),t):(t=this.newSessions_.shift())?(t.sessionId=e,this.sessionMap_.set(e,t),shaka.log.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",t),t):null},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession=function(e,t,r){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession"),shaka.util.FakeEventTarget.call(this),this.media_=e,this.initialized_=!1,this.updatePromise_=this.generatePromise_=null,this.keySystem_=t,this.type_=r,this.sessionId="",this.expiration=NaN,this.closed=new shaka.util.PublicPromise,this.keyStatuses=new shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap},$jscomp.inherits(shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession,shaka.util.FakeEventTarget),shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generated=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.generated"),this.generatePromise_&&(this.generatePromise_.resolve(),this.generatePromise_=null)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.ready=function(){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.ready"),this.updateKeyStatus_("usable"),this.updatePromise_&&this.updatePromise_.resolve(),this.updatePromise_=null},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.handleError=function(e){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.handleError",e);var t=Error("EME v0.1b key error"),r=e.errorCode;r.systemCode=e.systemCode,t.errorCode=r,!e.sessionId&&this.generatePromise_?(45==e.systemCode&&(t.message="Unsupported session type."),this.generatePromise_.reject(t),this.generatePromise_=null):e.sessionId&&this.updatePromise_?(this.updatePromise_.reject(t),this.updatePromise_=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?this.updateKeyStatus_("output-restricted"):1==t?this.updateKeyStatus_("expired"):this.updateKeyStatus_("internal-error"))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generate_=function(e,t){var r=this,n=shaka.polyfill.PatchedMediaKeysWebkit;if(this.initialized_)return Promise.reject(Error("The session is already initialized."));this.initialized_=!0;try{if("persistent-license"==this.type_){var i=shaka.util.StringUtils;if(t)var a=shaka.util.BufferUtils.toUint8(i.toUTF8("LOAD_SESSION|"+t));else{goog.asserts.assert(e,"expecting init data");var o=i.toUTF8("PERSISTENT|");a=shaka.util.Uint8ArrayUtils.concat(o,e)}}else goog.asserts.assert("temporary"==this.type_,"expected temporary session"),goog.asserts.assert(!t,"unexpected offline session ID"),goog.asserts.assert(e,"expecting init data"),a=shaka.util.BufferUtils.toUint8(e);goog.asserts.assert(a,"init data not set!")}catch(k){return Promise.reject(k)}goog.asserts.assert(null==this.generatePromise_,"generatePromise_ should be null"),this.generatePromise_=new shaka.util.PublicPromise;var s=n.prefixApi_("generateKeyRequest");try{this.media_[s](this.keySystem_,a)}catch(k){if("InvalidStateError"!=k.name)return this.generatePromise_=null,Promise.reject(k);new shaka.util.Timer((function(){try{r.media_[s](r.keySystem_,a)}catch(e){r.generatePromise_.reject(e),r.generatePromise_=null}})).tickAfter(.01)}return this.generatePromise_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.update_=function(e,t){var r=this,n=shaka.polyfill.PatchedMediaKeysWebkit;if(this.updatePromise_)this.updatePromise_.then((function(){return r.update_(e,t)})).catch((function(){return r.update_(e,t)}));else{if(this.updatePromise_=e,"webkit-org.w3.clearkey"==this.keySystem_){var i=shaka.util.Uint8ArrayUtils,a=shaka.util.StringUtils.fromUTF8(t),o=JSON.parse(a);"oct"!=o.keys[0].kty&&(this.updatePromise_.reject(Error("Response is not a valid JSON Web Key Set.")),this.updatePromise_=null),a=i.fromBase64(o.keys[0].k),i=i.fromBase64(o.keys[0].kid)}else a=shaka.util.BufferUtils.toUint8(t),i=null;n=n.prefixApi_("addKey");try{this.media_[n](this.keySystem_,a,i,this.sessionId)}catch(s){this.updatePromise_.reject(s),this.updatePromise_=null}}},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.updateKeyStatus_=function(e){this.keyStatuses.setStatus(e),e=new shaka.util.FakeEvent("keystatuseschange"),this.dispatchEvent(e)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.generateRequest=function(e,t){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.generateRequest"),this.generate_(t,null)},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.load=function(e){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.load"),"persistent-license"==this.type_?this.generate_(null,e):Promise.reject(Error("Not a persistent session."))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.update=function(e){shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.update",e),goog.asserts.assert(this.sessionId,"update without session ID");var t=new shaka.util.PublicPromise;return this.update_(t,e),t},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.close=function(){var e=shaka.polyfill.PatchedMediaKeysWebkit;if(shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.close"),"persistent-license"!=this.type_){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;e=e.prefixApi_("cancelKeyRequest");try{this.media_[e](this.keySystem_,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeySession.prototype.remove=function(){return shaka.log.debug("PatchedMediaKeysWebkit.MediaKeySession.remove"),"persistent-license"!=this.type_?Promise.reject(Error("Not a persistent session.")):this.close()},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap=function(){this.size=0,this.status_=void 0},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.setStatus=function(e){this.size=void 0==e?0:1,this.status_=e},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.getStatus=function(){return this.status_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.forEach=function(e){this.status_&&e(this.status_,shaka.media.DrmEngine.DUMMY_KEY_ID.value())},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.get=function(e){if(this.has(e))return this.status_},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.has=function(e){var t=shaka.media.DrmEngine.DUMMY_KEY_ID.value();return!(!this.status_||!shaka.util.BufferUtils.equal(e,t))},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.entries=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.keys=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.MediaKeyStatusMap.prototype.values=function(){goog.asserts.assert(!1,"Not used!  Provided only for compiler.")},shaka.polyfill.PatchedMediaKeysWebkit.prefix_="",shaka.polyfill.register(shaka.polyfill.PatchedMediaKeysWebkit.install),shaka.polyfill.PiPWebkit=function(){},shaka.polyfill.PiPWebkit.install=function(){if(window.HTMLVideoElement){var e=HTMLVideoElement.prototype;if((!e.requestPictureInPicture||!document.exitPictureInPicture)&&e.webkitSupportsPresentationMode){var t=shaka.polyfill.PiPWebkit;shaka.log.debug("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=t.requestPictureInPicture_,Object.defineProperty(e,"disablePictureInPicture",{get:t.getDisablePictureInPicture_,set:t.setDisablePictureInPicture_,enumerable:!0,configurable:!0}),document.exitPictureInPicture=t.exitPictureInPicture_,document.addEventListener("webkitpresentationmodechanged",t.proxyEvent_,!0)}}},shaka.polyfill.PiPWebkit.proxyEvent_=function(e){if((e=e.target).webkitPresentationMode==shaka.polyfill.PiPWebkit.PIP_MODE_){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)},shaka.polyfill.PiPWebkit.requestPictureInPicture_=function(){var e=shaka.polyfill.PiPWebkit;return this.webkitSupportsPresentationMode(e.PIP_MODE_)?(this.webkitSetPresentationMode(e.PIP_MODE_),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))},shaka.polyfill.PiPWebkit.exitPictureInPicture_=function(){var e=shaka.polyfill.PiPWebkit,t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode(e.INLINE_MODE_),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))},shaka.polyfill.PiPWebkit.getDisablePictureInPicture_=function(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode(shaka.polyfill.PiPWebkit.PIP_MODE_)},shaka.polyfill.PiPWebkit.setDisablePictureInPicture_=function(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")},shaka.polyfill.PiPWebkit.PIP_MODE_="picture-in-picture",shaka.polyfill.PiPWebkit.INLINE_MODE_="inline",shaka.polyfill.register(shaka.polyfill.PiPWebkit.install),shaka.polyfill.StorageEstimate=function(){},shaka.polyfill.StorageEstimate.install=function(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=shaka.polyfill.StorageEstimate.storageEstimate_)},shaka.polyfill.StorageEstimate.storageEstimate_=function(){return new Promise((function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,r){e({usage:t,quota:r})}),t)}))},shaka.polyfill.register(shaka.polyfill.StorageEstimate.install),shaka.polyfill.VideoPlayPromise=function(){},shaka.polyfill.VideoPlayPromise.install=function(){if(shaka.log.debug("VideoPlayPromise.install"),window.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}},shaka.polyfill.register(shaka.polyfill.VideoPlayPromise.install),shaka.polyfill.VideoPlaybackQuality=function(){},shaka.polyfill.VideoPlaybackQuality.install=function(){if(window.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=shaka.polyfill.VideoPlaybackQuality.webkit_)}},shaka.polyfill.VideoPlaybackQuality.webkit_=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}},shaka.polyfill.register(shaka.polyfill.VideoPlaybackQuality.install),shaka.polyfill.VTTCue=function(){},shaka.polyfill.VTTCue.install=function(){if(window.VTTCue)shaka.log.info("Using native VTTCue.");else if(window.TextTrackCue){var e=null,t=TextTrackCue.length;3==t?(shaka.log.info("Using VTTCue polyfill from 3 argument TextTrackCue."),e=shaka.polyfill.VTTCue.from3ArgsTextTrackCue_):6==t?(shaka.log.info("Using VTTCue polyfill from 6 argument TextTrackCue."),e=shaka.polyfill.VTTCue.from6ArgsTextTrackCue_):shaka.polyfill.VTTCue.canUse3ArgsTextTrackCue_()&&(shaka.log.info("Using VTTCue polyfill from 3 argument TextTrackCue."),e=shaka.polyfill.VTTCue.from3ArgsTextTrackCue_),e?window.VTTCue=function(t,r,n){return e(t,r,n)}:shaka.log.error("No recognized signature for TextTrackCue found!")}else shaka.log.error("VTTCue not available.")},shaka.polyfill.VTTCue.from3ArgsTextTrackCue_=function(e,t,r){return new window.TextTrackCue(e,t,r)},shaka.polyfill.VTTCue.from6ArgsTextTrackCue_=function(e,t,r){return new window.TextTrackCue(e+"-"+t+"-"+r,e,t,r)},shaka.polyfill.VTTCue.canUse3ArgsTextTrackCue_=function(){try{return!!shaka.polyfill.VTTCue.from3ArgsTextTrackCue_(1,2,"")}catch(a){return!1}},shaka.polyfill.register(shaka.polyfill.VTTCue.install),shaka.text.LrcTextParser=function(){},shaka.text.LrcTextParser.prototype.parseInit=function(e){goog.asserts.assert(!1,"LRC does not have init segments")},shaka.text.LrcTextParser.prototype.parseMedia=function(e,t){for(var r=shaka.text.LrcTextParser,n=null,i=[],a=shaka.util.StringUtils.fromUTF8(e).split(/\r?\n/),o=(a=$jscomp.makeIterator(a)).next();!o.done;o=a.next()){var s=o.value;s&&!/^\s+$/.test(s)&&((o=r.lyricLine_.exec(s))?(s=r.parseTime_(o[1]),o=new shaka.text.Cue(s,t.segmentEnd?t.segmentEnd:s+2,o[2]),n&&(n.endTime=s,i.push(n)),n=o):shaka.log.warning("LrcTextParser encountered an unknown line.",s))}return n&&i.push(n),i},shaka.text.LrcTextParser.parseTime_=function(e){var t=shaka.text.LrcTextParser.timeFormat_.exec(e);return 60*(e=parseInt(t[1],10))+(t=parseFloat(t[2].replace(",",".")))},goog.exportSymbol("shaka.text.LrcTextParser",shaka.text.LrcTextParser),goog.exportProperty(shaka.text.LrcTextParser.prototype,"parseMedia",shaka.text.LrcTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.LrcTextParser.prototype,"parseInit",shaka.text.LrcTextParser.prototype.parseInit),shaka.text.LrcTextParser.lyricLine_=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,shaka.text.LrcTextParser.timeFormat_=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/,shaka.text.TextEngine.registerParser("application/x-subtitle-lrc",(function(){return new shaka.text.LrcTextParser})),shaka.text.TtmlTextParser=function(){},shaka.text.TtmlTextParser.prototype.parseInit=function(e){goog.asserts.assert(!1,"TTML does not have init segments")},shaka.text.TtmlTextParser.prototype.parseMedia=function(e,t){var r=shaka.text.TtmlTextParser,n=shaka.util.XmlUtils,i=r.parameterNs_,a=r.styleNs_,o=shaka.util.StringUtils.fromUTF8(e),s=[],l=new DOMParser,u=null;if(""==o)return s;try{u=l.parseFromString(o,"text/xml")}catch(m){throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,"Failed to parse TTML.")}if(u){if(o=u.getElementsByTagName("parsererror")[0])throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,o.textContent);var c=u.getElementsByTagName("tt")[0];if(!c)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,"TTML does not contain <tt> tag.");if(!(u=c.getElementsByTagName("body")[0]))return[];o=n.getAttributeNS(c,i,"frameRate"),l=n.getAttributeNS(c,i,"subFrameRate");var d=n.getAttributeNS(c,i,"frameRateMultiplier"),f=n.getAttributeNS(c,i,"tickRate"),p=n.getAttributeNS(c,i,"cellResolution");i=c.getAttribute("xml:space")||"default";var h=n.getAttributeNS(c,a,"extent");if("default"!=i&&"preserve"!=i)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_XML,"Invalid xml:space value: "+i);a="default"==i,i=new r.RateInfo_(o,l,d,f),o=r.getCellResolution_(p),l=(l=c.getElementsByTagName("metadata")[0])?n.getChildren(l):[],d=Array.from(c.getElementsByTagName("style")),c=Array.from(c.getElementsByTagName("region")),f=[];for(var g=(p=$jscomp.makeIterator(c)).next();!g.done;g=p.next())(g=r.parseCueRegion_(g.value,d,h))&&f.push(g);if(n.findChildren(u,"p").length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"<p> can only be inside <div> in TTML");for(h=(u=$jscomp.makeIterator(n.findChildren(u,"div"))).next();!h.done;h=u.next()){if(h=h.value,n.findChildren(h,"span").length)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"<span> can only be inside <p> in TTML");if((p=n.findChildren(h,"p"))&&p.length)for(p=(h=$jscomp.makeIterator(p)).next();!p.done;p=h.next())(p=r.parseCue_(p.value,t.periodStart,i,l,d,c,f,a,!1,o))&&s.push(p);else(h=r.parseCue_(h,t.periodStart,i,l,d,c,f,a,!1,o))&&s.push(h)}}return s},shaka.text.TtmlTextParser.parseCue_=function(e,t,r,n,i,a,o,s,l,u){var c=e.parentNode;if(e.nodeType==Node.TEXT_NODE){var d=document.createElement("span");d.textContent=e.textContent,e=d}else goog.asserts.assert(e.nodeType==Node.ELEMENT_NODE,"nodeType should be ELEMENT_NODE!");if(goog.asserts.assert(e,"cueElement should be non-null!"),s="default"==(e.getAttribute("xml:space")||(s?"default":"preserve")),d=/\S/.test(e.textContent),!(e.hasAttribute("begin")||e.hasAttribute("end")||e.hasAttribute("dur")||d||"br"==e.tagName||l&&!s))return null;var f=shaka.text.TtmlTextParser.parseTime_(e,r);for(d=f.start,f=f.end;c&&c.nodeType==Node.ELEMENT_NODE&&"tt"!=c.tagName;)d=(f=shaka.text.TtmlTextParser.resolveTime_(c,r,d,f)).start,f=f.end,c=c.parentNode;if(null==d&&(d=0),d+=t,f=null==f?1/0:f+t,"br"==e.tagName)return(n=new shaka.text.Cue(d,f,"")).lineBreak=!0,n;var p="";if(c=[],Array.from(e.childNodes).every((function(e){return e.nodeType==Node.TEXT_NODE})))p=e.textContent,s&&(p=(p=p.trim()).replace(/\s+/g," "));else for(var h=$jscomp.makeIterator(e.childNodes),g=h.next();!g.done;g=h.next())(g=shaka.text.TtmlTextParser.parseCue_(g.value,t,r,n,i,a,o,s,!0,u))&&c.push(g);if((t=new shaka.text.Cue(d,f,p)).nestedCues=c,u&&(t.cellResolution=u),(a=shaka.text.TtmlTextParser.getElementsFromCollection_(e,"region",a,"")[0])&&a.getAttribute("xml:id")){var m=a.getAttribute("xml:id");t.region=o.filter((function(e){return e.id==m}))[0]}for(o=null,r=(u=$jscomp.makeIterator(shaka.text.TtmlTextParser.smpteNsList_)).next();!r.done&&!(o=shaka.text.TtmlTextParser.getElementsFromCollection_(e,"backgroundImage",n,"#",r.value)[0]);r=u.next());return shaka.text.TtmlTextParser.addStyle_(t,e,a,o,i,l,0==c.length),t},shaka.text.TtmlTextParser.parseCueRegion_=function(e,t,r){var n,i,a=shaka.text.TtmlTextParser,o=new shaka.text.CueRegion,s=e.getAttribute("xml:id");return s?(o.id=s,s=null,r&&(s=a.percentValues_.exec(r)||a.pixelValues_.exec(r)),r=s?Number(s[1]):null,s=s?Number(s[2]):null,(n=a.getStyleAttributeFromRegion_(e,t,"extent"))&&(null!=(n=(i=a.percentValues_.exec(n))||a.pixelValues_.exec(n))&&(o.width=Number(n[1]),o.height=Number(n[2]),i||(null!=r&&(o.width=100*o.width/r),null!=s&&(o.height=100*o.height/s)),o.widthUnits=i||null!=r?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX,o.heightUnits=i||null!=s?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX)),(e=a.getStyleAttributeFromRegion_(e,t,"origin"))&&(null!=(n=(i=a.percentValues_.exec(e))||a.pixelValues_.exec(e))&&(o.viewportAnchorX=Number(n[1]),o.viewportAnchorY=Number(n[2]),i||(null!=s&&(o.viewportAnchorY=100*o.viewportAnchorY/s),null!=r&&(o.viewportAnchorX=100*o.viewportAnchorX/r)),o.viewportAnchorUnits=i||null!=r?shaka.text.CueRegion.units.PERCENTAGE:shaka.text.CueRegion.units.PX)),o):(shaka.log.warning("TtmlTextParser parser encountered a region with no id. Region will be ignored."),null)},shaka.text.TtmlTextParser.addStyle_=function(e,t,r,n,i,a,o){var s=shaka.text.TtmlTextParser,l=shaka.text.Cue;a=a||o,"rtl"==s.getStyleAttribute_(t,r,i,"direction",a)&&(e.direction=l.direction.HORIZONTAL_RIGHT_TO_LEFT),"tb"==(o=s.getStyleAttribute_(t,r,i,"writingMode",a))||"tblr"==o?e.writingMode=l.writingMode.VERTICAL_LEFT_TO_RIGHT:"tbrl"==o?e.writingMode=l.writingMode.VERTICAL_RIGHT_TO_LEFT:"rltb"==o||"rl"==o?e.direction=l.direction.HORIZONTAL_RIGHT_TO_LEFT:o&&(e.direction=l.direction.HORIZONTAL_LEFT_TO_RIGHT),(o=s.getStyleAttribute_(t,r,i,"textAlign",a))?(e.positionAlign=s.textAlignToPositionAlign_[o],e.lineAlign=s.textAlignToLineAlign_[o],goog.asserts.assert(o.toUpperCase()in l.textAlign,o.toUpperCase()+" Should be in Cue.textAlign values!"),e.textAlign=l.textAlign[o.toUpperCase()]):e.textAlign=l.textAlign.START,(o=s.getStyleAttribute_(t,r,i,"displayAlign",a))&&(goog.asserts.assert(o.toUpperCase()in l.displayAlign,o.toUpperCase()+" Should be in Cue.displayAlign values!"),e.displayAlign=l.displayAlign[o.toUpperCase()]),(o=s.getStyleAttribute_(t,r,i,"color",a))&&(e.color=o),(o=s.getStyleAttribute_(t,r,i,"backgroundColor",a))&&(e.backgroundColor=o),(o=s.getStyleAttribute_(t,r,i,"border",a))&&(e.border=o),(o=s.getStyleAttribute_(t,r,i,"fontFamily",a))&&(e.fontFamily=o),(o=s.getStyleAttribute_(t,r,i,"fontWeight",a))&&"bold"==o&&(e.fontWeight=l.fontWeight.BOLD),o=s.getStyleAttribute_(t,r,i,"wrapOption",a),e.wrapLine=!o||"noWrap"!=o,(o=s.getStyleAttribute_(t,r,i,"lineHeight",a))&&o.match(s.unitValues_)&&(e.lineHeight=o),(o=s.getStyleAttribute_(t,r,i,"fontSize",a))&&(o.match(s.unitValues_)||o.match(s.percentValue_))&&(e.fontSize=o),(o=s.getStyleAttribute_(t,r,i,"fontStyle",a))&&(goog.asserts.assert(o.toUpperCase()in l.fontStyle,o.toUpperCase()+" Should be in Cue.fontStyle values!"),e.fontStyle=l.fontStyle[o.toUpperCase()]),n&&(l=n.getAttribute("imageType")||n.getAttribute("imagetype"),o=n.getAttribute("encoding"),n=n.textContent.trim(),"PNG"==l&&"Base64"==o&&n&&(e.backgroundImage="data:image/png;base64,"+n)),(n=s.getStyleAttribute_(t,r,i,"letterSpacing",a))&&n.match(s.unitValues_)&&(e.letterSpacing=n),(n=s.getStyleAttribute_(t,r,i,"linePadding",a))&&n.match(s.unitValues_)&&(e.linePadding=n),(a=s.getStyleAttribute_(t,r,i,"opacity",a))&&(e.opacity=parseFloat(a)),(r=s.getStyleAttributeFromRegion_(r,i,"textDecoration"))&&s.addTextDecoration_(e,r),(t=s.getStyleAttributeFromElement_(t,i,"textDecoration"))&&s.addTextDecoration_(e,t)},shaka.text.TtmlTextParser.addTextDecoration_=function(e,t){for(var r=shaka.text.Cue,n=$jscomp.makeIterator(t.split(" ")),i=n.next();!i.done;i=n.next())switch(i.value){case"underline":e.textDecoration.includes(r.textDecoration.UNDERLINE)||e.textDecoration.push(r.textDecoration.UNDERLINE);break;case"noUnderline":e.textDecoration.includes(r.textDecoration.UNDERLINE)&&shaka.util.ArrayUtils.remove(e.textDecoration,r.textDecoration.UNDERLINE);break;case"lineThrough":e.textDecoration.includes(r.textDecoration.LINE_THROUGH)||e.textDecoration.push(r.textDecoration.LINE_THROUGH);break;case"noLineThrough":e.textDecoration.includes(r.textDecoration.LINE_THROUGH)&&shaka.util.ArrayUtils.remove(e.textDecoration,r.textDecoration.LINE_THROUGH);break;case"overline":e.textDecoration.includes(r.textDecoration.OVERLINE)||e.textDecoration.push(r.textDecoration.OVERLINE);break;case"noOverline":e.textDecoration.includes(r.textDecoration.OVERLINE)&&shaka.util.ArrayUtils.remove(e.textDecoration,r.textDecoration.OVERLINE)}},shaka.text.TtmlTextParser.getStyleAttribute_=function(e,t,r,n,i){i=void 0===i||i;var a=shaka.text.TtmlTextParser;return(e=a.getStyleAttributeFromElement_(e,r,n))?e:i?a.getStyleAttributeFromRegion_(t,r,n):null},shaka.text.TtmlTextParser.getStyleAttributeFromRegion_=function(e,t,r){if(!e)return null;var n=shaka.util.XmlUtils.getAttributeNS(e,shaka.text.TtmlTextParser.styleNs_,r);return n||shaka.text.TtmlTextParser.getInheritedStyleAttribute_(e,t,r)},shaka.text.TtmlTextParser.getStyleAttributeFromElement_=function(e,t,r){var n=shaka.util.XmlUtils.getAttributeNS(e,shaka.text.TtmlTextParser.styleNs_,r);return n||shaka.text.TtmlTextParser.getInheritedStyleAttribute_(e,t,r)},shaka.text.TtmlTextParser.getInheritedStyleAttribute_=function(e,t,r){var n=shaka.util.XmlUtils,i=shaka.text.TtmlTextParser.styleNs_,a=shaka.text.TtmlTextParser.styleEbuttsNs_;e=shaka.text.TtmlTextParser.getElementsFromCollection_(e,"style",t,"");for(var o=null,s=0;s<e.length;s++){var l=n.getAttributeNS(e[s],a,r);l||(l=n.getAttributeNS(e[s],i,r)),l||(l=shaka.text.TtmlTextParser.getStyleAttributeFromElement_(e[s],t,r)),l&&(o=l)}return o},shaka.text.TtmlTextParser.getElementsFromCollection_=function(e,t,r,n,i){var a=[];if(!e||1>r.length)return a;if(e=shaka.text.TtmlTextParser.getInheritedAttribute_(e,t,i))for(e=e.split(" "),t=(e=$jscomp.makeIterator(e)).next();!t.done;t=e.next()){t=t.value;for(var o=(i=$jscomp.makeIterator(r)).next();!o.done;o=i.next())if(n+(o=o.value).getAttribute("xml:id")==t){a.push(o);break}}return a},shaka.text.TtmlTextParser.getInheritedAttribute_=function(e,t,r){for(var n=null,i=shaka.util.XmlUtils;e&&!(n=r?i.getAttributeNS(e,r,t):e.getAttribute(t))&&(e=e.parentNode)instanceof Element;);return n},shaka.text.TtmlTextParser.resolveTime_=function(e,t,r,n){return e=shaka.text.TtmlTextParser.parseTime_(e,t),null==r?r=e.start:null!=e.start&&(r+=e.start),null==n?n=e.end:null!=e.start&&(n+=e.start),{start:r,end:n}},shaka.text.TtmlTextParser.parseTime_=function(e,t){var r=shaka.text.TtmlTextParser.parseTimeAttribute_(e.getAttribute("begin"),t),n=shaka.text.TtmlTextParser.parseTimeAttribute_(e.getAttribute("end"),t),i=shaka.text.TtmlTextParser.parseTimeAttribute_(e.getAttribute("dur"),t);return null==n&&null!=i&&(n=r+i),{start:r,end:n}},shaka.text.TtmlTextParser.parseTimeAttribute_=function(e,t){var r=null,n=shaka.text.TtmlTextParser;if(n.timeColonFormatFrames_.test(e))r=n.parseColonTimeWithFrames_(t,e);else if(n.timeColonFormat_.test(e))r=n.parseTimeFromRegex_(n.timeColonFormat_,e);else if(n.timeColonFormatMilliseconds_.test(e))r=n.parseTimeFromRegex_(n.timeColonFormatMilliseconds_,e);else if(n.timeFramesFormat_.test(e))r=n.parseFramesTime_(t,e);else if(n.timeTickFormat_.test(e))r=n.parseTickTime_(t,e);else if(n.timeHMSFormat_.test(e))r=n.parseTimeFromRegex_(n.timeHMSFormat_,e);else if(e)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"Could not parse cue time range in TTML");return r},shaka.text.TtmlTextParser.parseFramesTime_=function(e,t){var r=shaka.text.TtmlTextParser.timeFramesFormat_.exec(t);return Number(r[1])/e.frameRate},shaka.text.TtmlTextParser.parseTickTime_=function(e,t){var r=shaka.text.TtmlTextParser.timeTickFormat_.exec(t);return Number(r[1])/e.tickRate},shaka.text.TtmlTextParser.parseColonTimeWithFrames_=function(e,t){var r=shaka.text.TtmlTextParser.timeColonFormatFrames_.exec(t),n=Number(r[1]),i=Number(r[2]),a=Number(r[3]),o=Number(r[4]);return(a+=(o+=(Number(r[5])||0)/e.subFrameRate)/e.frameRate)+60*i+3600*n},shaka.text.TtmlTextParser.parseTimeFromRegex_=function(e,t){var r=e.exec(t);return null==r||""==r[0]?null:(Number(r[4])||0)/1e3+(Number(r[3])||0)+60*(Number(r[2])||0)+3600*(Number(r[1])||0)},shaka.text.TtmlTextParser.getCellResolution_=function(e){if(!e)return null;var t=/^(\d+) (\d+)$/.exec(e);return t?{columns:e=parseInt(t[1],10),rows:t=parseInt(t[2],10)}:null},goog.exportSymbol("shaka.text.TtmlTextParser",shaka.text.TtmlTextParser),goog.exportProperty(shaka.text.TtmlTextParser.prototype,"parseMedia",shaka.text.TtmlTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.TtmlTextParser.prototype,"parseInit",shaka.text.TtmlTextParser.prototype.parseInit),shaka.text.TtmlTextParser.RateInfo_=function(e,t,r,n){this.frameRate=Number(e)||30,this.subFrameRate=Number(t)||1,this.tickRate=Number(n),0==this.tickRate&&(this.tickRate=e?this.frameRate*this.subFrameRate:1),r&&(e=/^(\d+) (\d+)$/g.exec(r))&&(this.frameRate*=Number(e[1])/Number(e[2]))},shaka.text.TtmlTextParser.percentValues_=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,shaka.text.TtmlTextParser.percentValue_=/^(\d{1,2}(?:\.\d+)?|100)%$/,shaka.text.TtmlTextParser.unitValues_=/^(\d+px|\d+em|\d*\.?\d+c)$/,shaka.text.TtmlTextParser.pixelValues_=/^(\d+)px (\d+)px$/,shaka.text.TtmlTextParser.timeColonFormatFrames_=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,shaka.text.TtmlTextParser.timeColonFormat_=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,shaka.text.TtmlTextParser.timeColonFormatMilliseconds_=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,shaka.text.TtmlTextParser.timeFramesFormat_=/^(\d*(?:\.\d*)?)f$/,shaka.text.TtmlTextParser.timeTickFormat_=/^(\d*(?:\.\d*)?)t$/,shaka.text.TtmlTextParser.timeHMSFormat_=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,shaka.text.TtmlTextParser.textAlignToLineAlign_={left:shaka.text.Cue.lineAlign.START,center:shaka.text.Cue.lineAlign.CENTER,right:shaka.text.Cue.lineAlign.END,start:shaka.text.Cue.lineAlign.START,end:shaka.text.Cue.lineAlign.END},shaka.text.TtmlTextParser.textAlignToPositionAlign_={left:shaka.text.Cue.positionAlign.LEFT,center:shaka.text.Cue.positionAlign.CENTER,right:shaka.text.Cue.positionAlign.RIGHT},shaka.text.TtmlTextParser.parameterNs_="http://www.w3.org/ns/ttml#parameter",shaka.text.TtmlTextParser.styleNs_="http://www.w3.org/ns/ttml#styling",shaka.text.TtmlTextParser.styleEbuttsNs_="urn:ebu:tt:style",shaka.text.TtmlTextParser.smpteNsList_=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"],shaka.text.TextEngine.registerParser("application/ttml+xml",(function(){return new shaka.text.TtmlTextParser})),shaka.text.Mp4TtmlParser=function(){this.parser_=new shaka.text.TtmlTextParser},shaka.text.Mp4TtmlParser.prototype.parseInit=function(e){var t=shaka.util.Mp4Parser,r=!1;if((new t).box("moov",t.children).box("trak",t.children).box("mdia",t.children).box("minf",t.children).box("stbl",t.children).fullBox("stsd",t.sampleDescription).box("stpp",(function(e){r=!0,e.parser.stop()})).parse(e),!r)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_TTML)},shaka.text.Mp4TtmlParser.prototype.parseMedia=function(e,t){var r=this,n=shaka.util.Mp4Parser,i=!1,a=[];if((new n).box("mdat",n.allData((function(e){i=!0,a=a.concat(r.parser_.parseMedia(e,t))}))).parse(e,!1),!i)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_TTML);return a},goog.exportSymbol("shaka.text.Mp4TtmlParser",shaka.text.Mp4TtmlParser),goog.exportProperty(shaka.text.Mp4TtmlParser.prototype,"parseMedia",shaka.text.Mp4TtmlParser.prototype.parseMedia),goog.exportProperty(shaka.text.Mp4TtmlParser.prototype,"parseInit",shaka.text.Mp4TtmlParser.prototype.parseInit),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp"',(function(){return new shaka.text.Mp4TtmlParser})),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp.ttml.im1t"',(function(){return new shaka.text.Mp4TtmlParser})),shaka.text.TextEngine.registerParser('application/mp4; codecs="stpp.TTML.im1t"',(function(){return new shaka.text.Mp4TtmlParser})),shaka.text.VttTextParser=function(){},shaka.text.VttTextParser.prototype.parseInit=function(e){goog.asserts.assert(!1,"VTT does not have init segments")},shaka.text.VttTextParser.prototype.parseMedia=function(e,t){var r=shaka.text.VttTextParser,n=shaka.util.StringUtils.fromUTF8(e);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_HEADER);var i=t.periodStart;if(n[0].includes("X-TIMESTAMP-MAP")){var a=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=n[0].match(/MPEGTS:(\d+)/m);if(a&&o){if(i=new shaka.util.TextParser(a[1]),null==(i=shaka.text.VttTextParser.parseTime_(i)))throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_HEADER);o=Number(o[1]),a=shaka.text.VttTextParser.MPEG_TIMESCALE_;for(var s=shaka.text.VttTextParser.TS_ROLLOVER_/a,l=t.segmentStart;l>=s;)l-=s,o+=shaka.text.VttTextParser.TS_ROLLOVER_;i=t.periodStart+o/a-i}}for(o=[],s=(a=$jscomp.makeIterator(n[0].split("\n"))).next();!s.done;s=a.next())s=s.value,/^Region:/.test(s)&&(s=r.parseRegion_(s),o.push(s));for(a=new Map,r.addDefaultTextColor_(a),s=[],l=(n=$jscomp.makeIterator(n.slice(1))).next();!l.done;l=n.next())l=l.value.split("\n"),r.parseStyle_(l,a),(l=r.parseCue_(l,i,o,a))&&s.push(l);return s},shaka.text.VttTextParser.addDefaultTextColor_=function(e){for(var t=$jscomp.makeIterator(Object.entries(shaka.text.Cue.defaultTextColor)),r=t.next();!r.done;r=t.next()){var n=$jscomp.makeIterator(r.value);r=n.next().value,n=n.next().value;var i=new shaka.text.Cue(0,0,"");i.color=n,e.set(r,i)}for(r=(t=$jscomp.makeIterator(Object.entries(shaka.text.Cue.defaultTextBackgroundColor))).next();!r.done;r=t.next())r=(n=$jscomp.makeIterator(r.value)).next().value,n=n.next().value,(i=new shaka.text.Cue(0,0,"")).backgroundColor=n,e.set(r,i)},shaka.text.VttTextParser.parseRegion_=function(e){var t=shaka.text.VttTextParser;e=new shaka.util.TextParser(e);var r=new shaka.text.CueRegion;e.readWord(),e.skipWhitespace();for(var n=e.readWord();n;)t.parseRegionSetting_(r,n)||shaka.log.warning("VTT parser encountered an invalid VTTRegion setting: ",n," The setting will be ignored."),e.skipWhitespace(),n=e.readWord();return r},shaka.text.VttTextParser.parseStyle_=function(e,t){if((1!=e.length||e[0])&&!/^NOTE($|[ \t])/.test(e[0])&&"STYLE"==e[0]&&e[1].includes("::cue")){var r="global",n=e[1].match(/\((.*)\)/);if(n&&(r=n.pop()),n=e.slice(2,-1),e[1].includes("}")){var i=/\{(.*?)\}/.exec(e[1]);i&&(n=i[1].split(";"))}i=new shaka.text.Cue(0,0,"");for(var a=!1,o=0;o<n.length;o++){var s=/^\s*([^:]+):\s*(.*)/.exec(n[o]);if(s){var l=s[1].trim(),u=s[2].trim().replace(";","");switch(l){case"background-color":a=!0,i.backgroundColor=u;break;case"color":a=!0,i.color=u;break;case"font-family":a=!0,i.fontFamily=u;break;case"font-size":a=!0,i.fontSize=u;break;case"font-weight":700<=parseInt(u,10)&&(a=!0,i.fontWeight=shaka.text.Cue.fontWeight.BOLD);break;case"font-style":switch(u){case"normal":a=!0,i.fontStyle=shaka.text.Cue.fontStyle.NORMAL;break;case"italic":a=!0,i.fontStyle=shaka.text.Cue.fontStyle.ITALIC;break;case"oblique":a=!0,i.fontStyle=shaka.text.Cue.fontStyle.OBLIQUE}break;case"opacity":a=!0,i.opacity=parseFloat(u);break;case"white-space":a=!0,i.wrapLine="noWrap"!=u;break;default:shaka.log.warning("VTT parser encountered an unsupported style: ",s)}}}a&&t.set(r,i)}},shaka.text.VttTextParser.parseCue_=function(e,t,r,n){var i=shaka.text.VttTextParser;if(1==e.length&&!e[0]||/^NOTE($|[ \t])/.test(e[0])||"STYLE"==e[0])return null;var a=null;e[0].includes("--\x3e")||(a=e[0],e.splice(0,1));var o=new shaka.util.TextParser(e[0]),s=i.parseTime_(o),l=o.readRegex(/[ \t]+--\x3e[ \t]+/g),u=i.parseTime_(o);if(null==s||null==l||null==u)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"Could not parse cue time range in WebVTT");for(s+=t,u+=t,t=e.slice(1).join("\n").trim(),n.has("global")?((e=n.get("global").clone()).startTime=s,e.endTime=u,e.payload=""):e=new shaka.text.Cue(s,u,""),i.parseCueStyles(t,e,n),o.skipWhitespace(),n=o.readWord();n;)i.parseCueSetting(e,n,r)||shaka.log.warning("VTT parser encountered an invalid VTT setting: ",n," The setting will be ignored."),o.skipWhitespace(),n=o.readWord();return null!=a&&(e.id=a),e},shaka.text.VttTextParser.parseCueStyles=function(e,t,r){var n=shaka.text.VttTextParser;0===r.size&&n.addDefaultTextColor_(r),e=n.replaceColorPayload_(e);var i=shaka.util.XmlUtils.parseXmlString("<span>"+e+"</span>","span");if(i){var a=[];if(1==(i=i.childNodes).length){var o=i[0];if(o.nodeType==Node.TEXT_NODE||o.nodeType==Node.CDATA_SECTION_NODE)return void(t.payload=e)}for(i=(e=$jscomp.makeIterator(i)).next();!i.done;i=e.next())n.generateCueFromElement_(i.value,t,a,r);t.nestedCues=a}else shaka.log.warning("The cue's markup could not be parsed: ",e),t.payload=e},shaka.text.VttTextParser.replaceColorPayload_=function(e){for(var t=[],r=-1,n="",i=0;i<e.length;i++)if("/"===e[i]){var a=e.indexOf(">",i);if(a<=i)return e;a=e.substring(i+1,a);var o=t.pop();if(o===a)n+="/"+a+">";else{if(!o.startsWith("c.")||"c"!==a)return e;n+="/"+o+">"}i+=a.length+1}else"<"===e[i]?r=i+1:">"===e[i]&&0<r&&(t.push(e.substr(r,i-r)),r=-1),n+=e[i];return n},shaka.text.VttTextParser.getOrDefault_=function(e,t){return e&&0<e.length?e:t},shaka.text.VttTextParser.mergeStyle_=function(e,t){if(t){var r=shaka.text.VttTextParser;e.backgroundColor=r.getOrDefault_(t.backgroundColor,e.backgroundColor),e.color=r.getOrDefault_(t.color,e.color),e.fontFamily=r.getOrDefault_(t.fontFamily,e.fontFamily),e.fontSize=r.getOrDefault_(t.fontSize,e.fontSize),e.fontWeight=t.fontWeight,e.fontStyle=t.fontStyle,e.opacity=t.opacity,e.wrapLine=t.wrapLine}},shaka.text.VttTextParser.generateCueFromElement_=function(e,t,r,n){var i=shaka.text.VttTextParser,a=t.clone();if(e.nodeType===Node.ELEMENT_NODE&&e.nodeName)for(var o=shaka.text.Cue.fontWeight.BOLD,s=shaka.text.Cue.fontStyle.ITALIC,l=shaka.text.Cue.textDecoration.UNDERLINE,u=e.nodeName.split(/[ .]+/),c=(u=$jscomp.makeIterator(u)).next();!c.done;c=u.next())switch(c=c.value,n.has(c)&&i.mergeStyle_(a,n.get(c)),c){case"b":a.fontWeight=o;break;case"i":a.fontStyle=s;break;case"u":a.textDecoration.push(l)}if(shaka.util.XmlUtils.isText(e))for(n=e.textContent.split("\n"),i=!0,e=(n=$jscomp.makeIterator(n)).next();!e.done;e=n.next())e=e.value,i||((i=t.clone()).lineBreak=!0,r.push(i)),0<e.length&&((i=a.clone()).payload=e,r.push(i)),i=!1;else for(e=(t=$jscomp.makeIterator(e.childNodes)).next();!e.done;e=t.next())i.generateCueFromElement_(e.value,a,r,n)},shaka.text.VttTextParser.parseCueSetting=function(e,t,r){var n,i=shaka.text.VttTextParser;if(n=/^align:(start|middle|center|end|left|right)$/.exec(t))i.setTextAlign_(e,n[1]);else if(n=/^vertical:(lr|rl)$/.exec(t))i.setVerticalWritingMode_(e,n[1]);else if(n=/^size:([\d.]+)%$/.exec(t))e.size=Number(n[1]);else if(n=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))e.position=Number(n[1]),n[2]&&i.setPositionAlign_(e,n[2]);else{if(!(n=/^region:(.*)$/.exec(t)))return i.parsedLineValueAndInterpretation_(e,t);(t=i.getRegionById_(r,n[1]))&&(e.region=t)}return!0},shaka.text.VttTextParser.getRegionById_=function(e,t){var r=e.filter((function(e){return e.id==t}));return r.length?(goog.asserts.assert(1==r.length,"VTTRegion ids should be unique!"),r[0]):(shaka.log.warning("VTT parser could not find a region with id: ",t," The region will be ignored."),null)},shaka.text.VttTextParser.parseRegionSetting_=function(e,t){var r;if(r=/^id=(.*)$/.exec(t))e.id=r[1];else if(r=/^width=(\d{1,2}|100)%$/.exec(t))e.width=Number(r[1]);else if(r=/^lines=(\d+)$/.exec(t))e.height=Number(r[1]),e.heightUnits=shaka.text.CueRegion.units.LINES;else if(r=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))e.regionAnchorX=Number(r[1]),e.regionAnchorY=Number(r[2]);else if(r=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))e.viewportAnchorX=Number(r[1]),e.viewportAnchorY=Number(r[2]);else{if(!/^scroll=up$/.exec(t))return!1;e.scroll=shaka.text.CueRegion.scrollMode.UP}return!0},shaka.text.VttTextParser.setTextAlign_=function(e,t){var r=shaka.text.Cue;"middle"==t?e.textAlign=r.textAlign.CENTER:(goog.asserts.assert(t.toUpperCase()in r.textAlign,t.toUpperCase()+" Should be in Cue.textAlign values!"),e.textAlign=r.textAlign[t.toUpperCase()])},shaka.text.VttTextParser.setPositionAlign_=function(e,t){var r=shaka.text.Cue;e.positionAlign="line-left"==t||"start"==t?r.positionAlign.LEFT:"line-right"==t||"end"==t?r.positionAlign.RIGHT:r.positionAlign.CENTER},shaka.text.VttTextParser.setVerticalWritingMode_=function(e,t){var r=shaka.text.Cue;e.writingMode="lr"==t?r.writingMode.VERTICAL_LEFT_TO_RIGHT:r.writingMode.VERTICAL_RIGHT_TO_LEFT},shaka.text.VttTextParser.parsedLineValueAndInterpretation_=function(e,t){var r,n=shaka.text.Cue;if(r=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))e.lineInterpretation=n.lineInterpretation.PERCENTAGE,e.line=Number(r[1]),r[2]&&(goog.asserts.assert(r[2].toUpperCase()in n.lineAlign,r[2].toUpperCase()+" Should be in Cue.lineAlign values!"),e.lineAlign=n.lineAlign[r[2].toUpperCase()]);else{if(!(r=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t)))return!1;e.lineInterpretation=n.lineInterpretation.LINE_NUMBER,e.line=Number(r[1]),r[2]&&(goog.asserts.assert(r[2].toUpperCase()in n.lineAlign,r[2].toUpperCase()+" Should be in Cue.lineAlign values!"),e.lineAlign=n.lineAlign[r[2].toUpperCase()])}return!0},shaka.text.VttTextParser.parseTime_=function(e){if(null==(e=e.readRegex(/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),r=Number(e[3]);return 59<t||59<r?null:Number(e[4])/1e3+r+60*t+3600*(Number(e[1])||0)},goog.exportSymbol("shaka.text.VttTextParser",shaka.text.VttTextParser),goog.exportProperty(shaka.text.VttTextParser.prototype,"parseMedia",shaka.text.VttTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.VttTextParser.prototype,"parseInit",shaka.text.VttTextParser.prototype.parseInit),shaka.text.VttTextParser.MPEG_TIMESCALE_=9e4,shaka.text.VttTextParser.TS_ROLLOVER_=8589934592,shaka.text.TextEngine.registerParser("text/vtt",(function(){return new shaka.text.VttTextParser})),shaka.text.TextEngine.registerParser('text/vtt; codecs="vtt"',(function(){return new shaka.text.VttTextParser})),shaka.text.TextEngine.registerParser('text/vtt; codecs="wvtt"',(function(){return new shaka.text.VttTextParser})),shaka.text.Mp4VttParser=function(){this.timescale_=null},shaka.text.Mp4VttParser.prototype.parseInit=function(e){var t=this,r=shaka.util.Mp4Parser,n=!1;if((new r).box("moov",r.children).box("trak",r.children).box("mdia",r.children).fullBox("mdhd",(function(e){goog.asserts.assert(0==e.version||1==e.version,"MDHD version can only be 0 or 1"),e=shaka.util.Mp4BoxParsers.parseMDHD(e.reader,e.version),t.timescale_=e.timescale})).box("minf",r.children).box("stbl",r.children).fullBox("stsd",r.sampleDescription).box("wvtt",(function(e){n=!0})).parse(e),!this.timescale_)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);if(!n)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT)},shaka.text.Mp4VttParser.prototype.parseMedia=function(e,t){if(!this.timescale_)throw shaka.log.error("No init segment for MP4+VTT!"),new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);var r,n=shaka.util.Mp4Parser,i=0,a=[],o=[],s=!1,l=!1,u=!1,c=null;if((new n).box("moof",n.children).box("traf",n.children).fullBox("tfdt",(function(e){s=!0,goog.asserts.assert(0==e.version||1==e.version,"TFDT version can only be 0 or 1"),i=shaka.util.Mp4BoxParsers.parseTFDT(e.reader,e.version).baseMediaDecodeTime})).fullBox("tfhd",(function(e){goog.asserts.assert(null!=e.flags,"A TFHD box should have a valid flags value"),c=shaka.util.Mp4BoxParsers.parseTFHD(e.reader,e.flags).defaultSampleDuration})).fullBox("trun",(function(e){l=!0,goog.asserts.assert(null!=e.version,"A TRUN box should have a valid version value"),goog.asserts.assert(null!=e.flags,"A TRUN box should have a valid flags value"),a=shaka.util.Mp4BoxParsers.parseTRUN(e.reader,e.version,e.flags).sampleData})).box("mdat",n.allData((function(e){goog.asserts.assert(!u,"VTT cues in mp4 with multiple MDAT are not currently supported"),u=!0,r=e}))).parse(e,!1),!u&&!s&&!l)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_MP4_VTT);n=i;for(var d=new shaka.util.DataViewReader(r,shaka.util.DataViewReader.Endianness.BIG_ENDIAN),f=$jscomp.makeIterator(a),p=f.next();!p.done;p=f.next()){var h=(p=p.value).sampleDuration||c,g=p.sampleCompositionTimeOffset?i+p.sampleCompositionTimeOffset:n;n=g+(h||0);var m=0;do{var v=d.readUint32();m+=v;var y=d.readUint32(),b=null;"vttc"==(y=shaka.util.Mp4Parser.typeToString(y))?8<v&&(b=d.readBytes(v-8)):("vtte"!=y&&shaka.log.error("Unknown box "+y+"! Skipping!"),d.skip(v-8)),h?b&&(goog.asserts.assert(null!=this.timescale_,"Timescale should not be null!"),v=shaka.text.Mp4VttParser.parseVTTC_(b,t.periodStart+g/this.timescale_,t.periodStart+n/this.timescale_),o.push(v)):shaka.log.error("WVTT sample duration unknown, and no default found!"),goog.asserts.assert(!p.sampleSize||m<=p.sampleSize,"The samples do not fit evenly into the sample sizes given in the TRUN box!")}while(p.sampleSize&&m<p.sampleSize)}return goog.asserts.assert(!d.hasMoreData(),"MDAT which contain VTT cues and non-VTT data are not currently supported!"),o.filter(shaka.util.Functional.isNotNull)},shaka.text.Mp4VttParser.parseVTTC_=function(e,t,r){var n,i,a;return(new shaka.util.Mp4Parser).box("payl",shaka.util.Mp4Parser.allData((function(e){n=shaka.util.StringUtils.fromUTF8(e)}))).box("iden",shaka.util.Mp4Parser.allData((function(e){i=shaka.util.StringUtils.fromUTF8(e)}))).box("sttg",shaka.util.Mp4Parser.allData((function(e){a=shaka.util.StringUtils.fromUTF8(e)}))).parse(e),n?shaka.text.Mp4VttParser.assembleCue_(n,i,a,t,r):null},shaka.text.Mp4VttParser.assembleCue_=function(e,t,r,n,i){if(n=new shaka.text.Cue(n,i,""),i=new Map,shaka.text.VttTextParser.parseCueStyles(e,n,i),t&&(n.id=t),r)for(t=(e=new shaka.util.TextParser(r)).readWord();t;)shaka.text.VttTextParser.parseCueSetting(n,t,[])||shaka.log.warning("VTT parser encountered an invalid VTT setting: ",t," The setting will be ignored."),e.skipWhitespace(),t=e.readWord();return n},goog.exportSymbol("shaka.text.Mp4VttParser",shaka.text.Mp4VttParser),goog.exportProperty(shaka.text.Mp4VttParser.prototype,"parseMedia",shaka.text.Mp4VttParser.prototype.parseMedia),goog.exportProperty(shaka.text.Mp4VttParser.prototype,"parseInit",shaka.text.Mp4VttParser.prototype.parseInit),shaka.text.TextEngine.registerParser('application/mp4; codecs="wvtt"',(function(){return new shaka.text.Mp4VttParser})),shaka.text.SbvTextParser=function(){},shaka.text.SbvTextParser.prototype.parseInit=function(e){goog.asserts.assert(!1,"SubViewer does not have init segments")},shaka.text.SbvTextParser.prototype.parseMedia=function(e,t){var r=shaka.text.SbvTextParser,n=shaka.util.StringUtils.fromUTF8(e).replace(/\r+/g,""),i=[];if(""==(n=n.trim()))return i;n=n.split("\n\n");for(var a=(n=$jscomp.makeIterator(n)).next();!a.done;a=n.next()){var o=a.value.split("\n"),s=new shaka.util.TextParser(o[0]);a=r.parseTime_(s);var l=s.readRegex(/,/g);if(s=r.parseTime_(s),null==a||null==l||null==s)throw new shaka.util.Error(shaka.util.Error.Severity.CRITICAL,shaka.util.Error.Category.TEXT,shaka.util.Error.Code.INVALID_TEXT_CUE,"Could not parse cue time range in SubViewer");o=o.slice(1).join("\n").trim(),a=new shaka.text.Cue(a,s,o),i.push(a)}return i},shaka.text.SbvTextParser.parseTime_=function(e){if(null==(e=e.readRegex(/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),r=Number(e[3]);return 59<t||59<r?null:Number(e[4])/1e3+r+60*t+3600*(Number(e[1])||0)},goog.exportSymbol("shaka.text.SbvTextParser",shaka.text.SbvTextParser),goog.exportProperty(shaka.text.SbvTextParser.prototype,"parseMedia",shaka.text.SbvTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.SbvTextParser.prototype,"parseInit",shaka.text.SbvTextParser.prototype.parseInit),shaka.text.TextEngine.registerParser("text/x-subviewer",(function(){return new shaka.text.SbvTextParser})),shaka.text.SrtTextParser=function(){this.parser_=new shaka.text.VttTextParser},shaka.text.SrtTextParser.prototype.parseInit=function(e){goog.asserts.assert(!1,"SRT does not have init segments")},shaka.text.SrtTextParser.prototype.parseMedia=function(e,t){var r=shaka.text.SrtTextParser,n=shaka.util.BufferUtils,i=shaka.util.StringUtils,a=i.fromUTF8(e);return r=r.srt2webvtt(a),n=n.toUint8(i.toUTF8(r)),this.parser_.parseMedia(n,t)},shaka.text.SrtTextParser.srt2webvtt=function(e){var t=shaka.text.SrtTextParser,r="WEBVTT\n\n";if(""==e)return r;e=(e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n");for(var n=(e=$jscomp.makeIterator(e)).next();!n.done;n=e.next())r+=t.convertSrtCue_(n.value);return r},shaka.text.SrtTextParser.convertSrtCue_=function(e){return(e=e.split(/\n/))[0].match(/\d+/)&&e.shift(),e[0]=e[0].replace(/,/g,"."),e.join("\n")+"\n\n"},goog.exportSymbol("shaka.text.SrtTextParser",shaka.text.SrtTextParser),goog.exportProperty(shaka.text.SrtTextParser,"srt2webvtt",shaka.text.SrtTextParser.srt2webvtt),goog.exportProperty(shaka.text.SrtTextParser.prototype,"parseMedia",shaka.text.SrtTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.SrtTextParser.prototype,"parseInit",shaka.text.SrtTextParser.prototype.parseInit),shaka.text.TextEngine.registerParser("text/srt",(function(){return new shaka.text.SrtTextParser})),shaka.text.SsaTextParser=function(){},shaka.text.SsaTextParser.prototype.parseInit=function(e){goog.asserts.assert(!1,"SSA does not have init segments")},shaka.text.SsaTextParser.prototype.parseMedia=function(e,t){for(var r=shaka.text.SsaTextParser,n="",i="",a=shaka.util.StringUtils.fromUTF8(e).split(/\r?\n\s*\r?\n/),o=(a=$jscomp.makeIterator(a)).next();!o.done;o=a.next()){o=o.value;var s=r.ssaContent_.exec(o);if(s){var l=s[1];if(s=s[2],"V4 Styles"==l||"V4+ Styles"==l){n=s;continue}if("Events"==l){i=s;continue}}shaka.log.warning("SsaTextParser parser encountered an unknown part.",o)}for(a=[],o=null,n=n.split(/\r?\n/),s=(n=$jscomp.makeIterator(n)).next();!s.done;s=n.next())if(l=s.value,!/^\s*;/.test(l)&&(s=r.lineParts_.exec(l)))if(l=s[1].trim(),s=s[2].trim(),"Format"==l)o=s.split(r.valuesFormat_);else if("Style"==l){l=s.split(r.valuesFormat_),s={};for(var u=0;u<o.length&&u<l.length;u++)s[o[u]]=l[u];a.push(s)}for(o=[],n=null,l=i.split(/\r?\n/),i={},s=(l=$jscomp.makeIterator(l)).next();!s.done;i={$jscomp$loop$prop$styleName$610:i.$jscomp$loop$prop$styleName$610},s=l.next())if(s=s.value,!/^\s*;/.test(s)&&(u=r.lineParts_.exec(s)))if(s=u[1].trim(),u=u[2].trim(),"Format"==s)n=u.split(r.valuesFormat_);else if("Dialogue"==s){u=u.split(r.valuesFormat_),s={};for(var c=0;c<n.length&&c<u.length;c++)s[n[c]]=u[c];c=r.parseTime_(s.Start);var d=r.parseTime_(s.End);u=u.slice(n.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,""),u=new shaka.text.Cue(c,d,u),i.$jscomp$loop$prop$styleName$610=s.Style,(s=a.find(function(e){return function(t){return t.Name==e.$jscomp$loop$prop$styleName$610}}(i)))&&r.addStyle_(u,s),o.push(u)}return o},shaka.text.SsaTextParser.addStyle_=function(e,t){var r=shaka.text.Cue,n=shaka.text.SsaTextParser,i=t.Fontname;if(i&&(e.fontFamily=i),(i=t.Fontsize)&&(e.fontSize=i+"px"),(i=t.PrimaryColour)&&(i=n.parseSsaColor_(i))&&(e.color=i),(i=t.BackColour)&&(n=n.parseSsaColor_(i))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=r.fontWeight.BOLD),t.Italic&&(e.fontStyle=r.fontStyle.ITALIC),t.Underline&&e.textDecoration.push(r.textDecoration.UNDERLINE),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=r.displayAlign.AFTER,e.textAlign=r.textAlign.START;break;case 2:e.displayAlign=r.displayAlign.AFTER,e.textAlign=r.textAlign.CENTER;break;case 3:e.displayAlign=r.displayAlign.AFTER,e.textAlign=r.textAlign.END;break;case 5:e.displayAlign=r.displayAlign.BEFORE,e.textAlign=r.textAlign.START;break;case 6:e.displayAlign=r.displayAlign.BEFORE,e.textAlign=r.textAlign.CENTER;break;case 7:e.displayAlign=r.displayAlign.BEFORE,e.textAlign=r.textAlign.END;break;case 9:e.displayAlign=r.displayAlign.CENTER,e.textAlign=r.textAlign.START;break;case 10:e.displayAlign=r.displayAlign.CENTER,e.textAlign=r.textAlign.CENTER;break;case 11:e.displayAlign=r.displayAlign.CENTER,e.textAlign=r.textAlign.END}(r=t.AlphaLevel)&&(e.opacity=parseFloat(r))},shaka.text.SsaTextParser.parseSsaColor_=function(e){return 0<=(e=parseInt(e.replace("&H",""),16))?"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null},shaka.text.SsaTextParser.parseTime_=function(e){var t=shaka.text.SsaTextParser.timeFormat_.exec(e);return 3600*(e=t[1]?parseInt(t[1].replace(":",""),10):0)+60*parseInt(t[2],10)+(t=parseFloat(t[3]))},goog.exportSymbol("shaka.text.SsaTextParser",shaka.text.SsaTextParser),goog.exportProperty(shaka.text.SsaTextParser.prototype,"parseMedia",shaka.text.SsaTextParser.prototype.parseMedia),goog.exportProperty(shaka.text.SsaTextParser.prototype,"parseInit",shaka.text.SsaTextParser.prototype.parseInit),shaka.text.SsaTextParser.ssaContent_=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,shaka.text.SsaTextParser.lineParts_=/^\s*([^:]+):\s*(.*)/,shaka.text.SsaTextParser.valuesFormat_=/\s*,\s*/,shaka.text.SsaTextParser.timeFormat_=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/,shaka.text.TextEngine.registerParser("text/x-ssa",(function(){return new shaka.text.SsaTextParser}));var EmeEncryptionSchemePolyfill=function(){};EmeEncryptionSchemePolyfill.install=function(){EmeEncryptionSchemePolyfill.originalRMKSA_?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(EmeEncryptionSchemePolyfill.originalRMKSA_=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.probeRMKSA_):console.debug("EmeEncryptionSchemePolyfill: EME not found")},EmeEncryptionSchemePolyfill.probeRMKSA_=function(e,t){var r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){return 1==i.nextAddress?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i.yield(EmeEncryptionSchemePolyfill.originalRMKSA_.call(n,e,t),2)):hasEncryptionScheme(r=i.yieldResult)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.originalRMKSA_,i.return(r)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=EmeEncryptionSchemePolyfill.polyfillRMKSA_,i.return(EmeEncryptionSchemePolyfill.polyfillRMKSA_.call(n,e,t)))}))},EmeEncryptionSchemePolyfill.polyfillRMKSA_=function(e,t){var r,n,i,a,o,s,l,u,c,d,f=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(p){if(1==p.nextAddress){for(console.assert(f==navigator,'bad "this" for requestMediaKeySystemAccess'),r=guessSupportedScheme(e),n=[],i=$jscomp.makeIterator(t),a=i.next();!a.done;a=i.next())o=a.value,s=EmeEncryptionSchemePolyfill.filterCapabilities_(o.videoCapabilities,r),l=EmeEncryptionSchemePolyfill.filterCapabilities_(o.audioCapabilities,r),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!l.length||((u=Object.assign({},o)).videoCapabilities=s,u.audioCapabilities=l,n.push(u));if(!n.length)throw(c=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",c.code=DOMException.NOT_SUPPORTED_ERR,c;return p.yield(EmeEncryptionSchemePolyfill.originalRMKSA_.call(f,e,n),2)}return d=p.yieldResult,p.return(new EmeEncryptionSchemePolyfillMediaKeySystemAccess(d,r))}))},EmeEncryptionSchemePolyfill.filterCapabilities_=function(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e},goog.exportSymbol("EmeEncryptionSchemePolyfill",EmeEncryptionSchemePolyfill),goog.exportProperty(EmeEncryptionSchemePolyfill,"install",EmeEncryptionSchemePolyfill.install);var McEncryptionSchemePolyfill=function(){};McEncryptionSchemePolyfill.install=function(){McEncryptionSchemePolyfill.originalDecodingInfo_?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(McEncryptionSchemePolyfill.originalDecodingInfo_=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.probeDecodingInfo_):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")},McEncryptionSchemePolyfill.probeDecodingInfo_=function(e){var t,r,n=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(i){return 1==i.nextAddress?(console.assert(n==navigator.mediaCapabilities,'bad "this" for decodingInfo'),i.yield(McEncryptionSchemePolyfill.originalDecodingInfo_.call(n,e),2)):(t=i.yieldResult,e.keySystemConfiguration?(r=t.keySystemAccess)&&hasEncryptionScheme(r)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.originalDecodingInfo_,i.return(t)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=McEncryptionSchemePolyfill.polyfillDecodingInfo_,i.return(McEncryptionSchemePolyfill.polyfillDecodingInfo_.call(n,e))):i.return(t))}))},McEncryptionSchemePolyfill.polyfillDecodingInfo_=function(e){var t,r,n,i,a,o,s,l,u,c=this;return $jscomp.asyncExecutePromiseGeneratorProgram((function(d){switch(d.nextAddress){case 1:return console.assert(c==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(r=e.keySystemConfiguration,n=r.keySystem,i=r.audio&&r.audio.encryptionScheme,a=r.video&&r.video.encryptionScheme,t=guessSupportedScheme(n),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},i&&i!=t||a&&a!=t)?d.return(o):d.yield(McEncryptionSchemePolyfill.originalDecodingInfo_.call(c,e),2);case 2:if((s=d.yieldResult).keySystemAccess){s.keySystemAccess=new EmeEncryptionSchemePolyfillMediaKeySystemAccess(s.keySystemAccess,t),d.jumpTo(3);break}if(!e.keySystemConfiguration){d.jumpTo(3);break}return l=McEncryptionSchemePolyfill.convertToMediaKeySystemConfig_(e),u=s,d.yield(navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[l]),5);case 5:u.keySystemAccess=d.yieldResult;case 3:return d.return(s)}}))},McEncryptionSchemePolyfill.convertToMediaKeySystemConfig_=function(e){var t=e.keySystemConfiguration,r=[],n=[];return t.audio&&r.push({robustness:t.audio.robustness||"",contentType:e.audio.contentType}),t.video&&n.push({robustness:t.video.robustness||"",contentType:e.video.contentType}),e={initDataTypes:t.initDataType?[t.initDataType]:[],distinctiveIdentifier:t.distinctiveIdentifier,persistentState:t.persistentState,sessionTypes:t.sessionTypes},r.length&&(e.audioCapabilities=r),n.length&&(e.videoCapabilities=n),e},goog.exportSymbol("McEncryptionSchemePolyfill",McEncryptionSchemePolyfill),goog.exportProperty(McEncryptionSchemePolyfill,"install",McEncryptionSchemePolyfill.install);var EmeEncryptionSchemePolyfillMediaKeySystemAccess=function(e,t){this.mksa_=e,this.scheme_=t,this.keySystem=e.keySystem};function guessSupportedScheme(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function hasEncryptionScheme(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}EmeEncryptionSchemePolyfillMediaKeySystemAccess.prototype.getConfiguration=function(){var e=this.mksa_.getConfiguration();if(e.videoCapabilities)for(var t=$jscomp.makeIterator(e.videoCapabilities),r=t.next();!r.done;r=t.next())r.value.encryptionScheme=this.scheme_;if(e.audioCapabilities)for(r=(t=$jscomp.makeIterator(e.audioCapabilities)).next();!r.done;r=t.next())r.value.encryptionScheme=this.scheme_;return e},EmeEncryptionSchemePolyfillMediaKeySystemAccess.prototype.createMediaKeys=function(){return this.mksa_.createMediaKeys()};var EncryptionSchemePolyfills=function(){};EncryptionSchemePolyfills.install=function(){EmeEncryptionSchemePolyfill.install(),McEncryptionSchemePolyfill.install()},goog.exportSymbol("EncryptionSchemePolyfills",EncryptionSchemePolyfills),goog.exportProperty(EncryptionSchemePolyfills,"install",EncryptionSchemePolyfills.install),"undefined"!==typeof module&&module.exports&&(module.exports=EncryptionSchemePolyfills)}.call(exportTo,innerGlobal,innerGlobal,void 0),exportTo.shaka)exports[k]=exportTo.shaka[k]}()}).call(this,__webpack_require__(48))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(r(67)),i=r(259),a=v(r(260)),o=v(r(261)),s=v(r(81)),l=r(82),u=v(r(52)),c=v(r(262)),d=r(68),f=r(84),p=v(r(263)),h=v(r(264)),g=v(r(265)),m=v(r(98));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){return(0,n.default)("ShakaVideoStreamer",(t=e,function(e,r,n){var v;try{v=(0,i.shakaSetup)(t,n,r)}catch(D){return Promise.reject((0,m.default)(t,!1,D))}var y=(0,a.default)(n,v,r),b=(0,o.default)(t,v),k=(0,s.default)(e),E=(0,h.default)(v,k),_=(0,g.default)(v,k),S=(0,p.default)(e,v,k,(0,f.getArrayLogger)(window,"bitrateManager").log),T=(0,l.getPropertyApplier)(n,y,E,_,S),w=(0,f.getArrayLogger)(window,"videoEvents").log,x=(0,c.default)({shakaLib:t,streamer:e,videoElement:n,shakaPlayer:v,streamRangeHelper:y,configuration:r,applyProperties:T,updateStreamState:k,log:w}),O=x.videoElementEventHandlers,P=x.setLifeCycleManager,C=(0,u.default)(k,x.pauseStreamRangeUpdater,(0,f.getArrayLogger)(window,"lifecycle").log);P(C);var A=C.startPlaybackSession,M=C.endPlaybackSession,I=v,R=d.renderWithoutSource;return Promise.resolve({cleanup:function(){return E.cleanup(),_.cleanup(),C.cleanup(),x.cleanup(),S.cleanup(),(0,i.shakaCleanup)(v)},render:R,textTrackManager:E,audioTrackManager:_,thirdPartyPlayer:I,applyProperties:T,handleSourceChange:b,startPlaybackSession:A,endPlaybackSession:M,videoElementEventHandlers:O})}));var t};t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shakaSetup=function(e,t,r){if(window.MediaSource&&MediaSource.isTypeSupported){var i=new e.Player(t);if(r&&r.shakaPlayer){var a=r.shakaPlayer;a.installPolyfills&&e.polyfill.installAll(),a.customConfiguration&&i.configure(a.customConfiguration)}var o=e.log&&e.log,s=r&&r.logLevel;return null!=s&&o&&("VERBOSE"===s?o.setLevel(o.Level.V2):o.setLevel(o.Level[s])),i}throw new n.PlaybackError("STREAM_ERROR_TECHNOLOGY_UNSUPPORTED","shaka","MPEG-DASH playback with Shaka Player is not supported in this browser.")},t.shakaCleanup=function(e){return Promise.resolve(e&&e.destroy())};var n=r(35)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Date(0);var i=function(e,t,r){var i=r&&r.liveEdgeMargin||10;return{adjustForDvrStartOffset:function(){if(e&&e.paused&&t.isLive()){var r=t.seekRange().start||0;r>=e.currentTime&&(e.currentTime=r+10)}},calculateNewState:function(){var r=t.seekRange(),a=t.isLive(),o=a?t.getPresentationStartTimeAsDate():new Date,s=e.currentTime-r.start,l=0!==r.end||0!==r.start?r.end-r.start:e.duration===1/0||isNaN(e.duration)?0:e.duration,u=function(e,t){return t?e===1/0||0===e||e<100?"live":"livedvr":"ondemand"}(l,a),c=a&&s>l-i,d=function(e,t,r,i){if(e){if(isNaN(t)){var a=new Date,o=new Date(a.getTime()-1e3*i);return{absolutePosition:a,absoluteStartPosition:o}}return{absolutePosition:new Date(t.getTime()+1e3*(i+r.start)),absoluteStartPosition:new Date(t.getTime()+1e3*r.start)}}return{absolutePosition:n,absoluteStartPosition:n}}(a,o,r,s);return{position:s,duration:l,playMode:u,isAtLiveEdge:c,absolutePosition:d.absolutePosition,absoluteStartPosition:d.absoluteStartPosition}},setPosition:function(r){isNaN(r)&&r===1/0||(e.currentTime=t.seekRange().start+r)},gotoLive:function(){t.isLive()&&(e.currentTime=t.seekRange().end)}}};t.default=i},function(e,t,r){"use strict";var n=r(42),i=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(r(98)),o=s(r(50));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d="com.widevine.alpha",f="com.microsoft.playready";function p(e,t,r,a){var o,s=r.licenseUrl,l=r.drmType,c=r.licenseAcquisitionDetails||{},p=a&&a.licenseAcquisition||{},h=c.widevineServiceCertificateUrl||p.widevine&&p.widevine.serviceCertificateUrl,g=function(e,t){return/Android(.*)Chrome/.test(e)?{audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:"SW_SECURE_CRYPTO",serviceCertificate:t,_classification:"Android Chrome 58 and newer"}:{audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:"SW_SECURE_DECODE",serviceCertificate:t,_classification:"Desktop"}}(navigator.userAgent,h),m=c.licenseRequestHeaders,v=c.robustness,y=v&&v[d]?{audioRobustness:v[d].audio,videoRobustness:v[d].video}:p.widevine&&p.widevine.robustness?{audioRobustness:p.widevine.robustness.audio,videoRobustness:p.widevine.robustness.video}:{audioRobustness:g.audioRobustness,videoRobustness:g.videoRobustness},b=v&&v[f]?{audioRobustness:v[f].audio,videoRobustness:v[f].video}:p.playReady&&p.playReady.robustness?{audioRobustness:p.playReady.robustness.audio,videoRobustness:p.playReady.robustness.video}:{videoRobustness:"SW_SECURE_DECODE",audioRobustness:"SW_SECURE_CRYPTO"};m&&Object.keys(m).length>0&&function(e,t,r){t.getNetworkingEngine().registerRequestFilter((function(t,n){t===e.net.NetworkingEngine.RequestType.LICENSE&&Object.entries(r).forEach((function(e){var t=i(e,2),r=t[0],a=t[1];n.headers[r]=a}))}))}(e,t,m);var k=l?n({},l,s):(n(o={},d,s),n(o,f,s),o);return t.configure({drm:{servers:k,advanced:{"com.widevine.alpha":u({},y,{serverCertificate:g.serviceCertificate}),"com.microsoft.playready":b}}}),Promise.resolve()}var h=function(e,t){return function(r,n){var i=(0,o.default)(r.source);if(i){var s=r.configuration&&r.configuration.shakaPlayer||{},l=s.requestFilter,u=void 0===l?r.shakaRequestFilter:l,c=s.responseFilter,d=void 0===c?r.shakaResponseFilter:c;return function(e,t,r){var n=e.getNetworkingEngine();return n&&(n.clearAllRequestFilters(),n.clearAllResponseFilters(),t&&n.registerRequestFilter(t),r&&n.registerResponseFilter(r)),Promise.resolve()}(t,u,d).then((function(){return p(e,t,i,r.configuration)})).then((function(){return t.load(i.streamUrl,i.startPosition)})).catch((function(t){if(t&&t.code!==e.util.Error.Code.LOAD_INTERRUPTED)throw(0,a.default)(e,!1,t,navigator.userAgent,document.location)}))}if(n&&n.source){var f=t.getNetworkingEngine();return f.clearAllRequestFilters(),f.clearAllResponseFilters(),t.unload()}return Promise.resolve()}};t.default=h},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(83)),a=o(r(98));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var t=e.streamer,r=e.videoElement,o=e.shakaPlayer,u=e.shakaLib,c=e.streamRangeHelper,d=e.configuration,f=e.applyProperties,p=e.updateStreamState,h=e.log,g=(0,i.default)({streamer:t,videoElement:r,thirdPartyPlayer:o,streamRangeHelper:c,configuration:d,log:h,applyProperties:f,updateStreamState:p}),m=g.videoElementEventHandlers,v=g.pauseStreamRangeUpdater,y={setStage:function(e){},getStage:function(){}},b={error:function(e){var n=e.detail;h&&h("shaka.error");var i=(0,a.default)(u,"started"===y.getStage(),n,navigator.userAgent,document.location);t.props.onPlaybackError&&t.props.onPlaybackError(i),r.error&&p({error:r.error}),"FATAL"===i.severity&&(y.setStage("dead"),p({playState:"inactive",isBuffering:!1,isSeeking:!1})),v.stop()},loading:function(){if(h&&h("shaka.loading"),"new"===y.getStage()){if(y.setStage("starting"),t.props.initialPlaybackProps){var e=t.props.initialPlaybackProps,n=e.isMuted,i=e.volume;f({isMuted:n,volume:i})}p({playState:"starting",isBuffering:!0,volume:r.volume,isMuted:r.muted,isPipAvailable:g.isPipAvailable()})}},streaming:function(){if(h&&h("shaka.streaming"),t.props.initialPlaybackProps){var e=t.props.initialPlaybackProps,n=e.isPaused,i=e.bitrateFix,a=e.bitrateCap;f({bitrateFix:i,bitrateCap:a}),n&&r.pause(),null==i&&p({bitrateFix:null}),null==a&&p({bitrateCap:null})}else p({bitrateFix:null,bitrateCap:null});p(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isMuted:r.muted,volume:r.volume},c.calculateNewState()))},buffering:function(e){var t=e.buffering;h&&h("shaka.buffering."+t.toString()),"started"===y.getStage()?p({isBuffering:t,playState:t?"buffering":r.paused?"playing":"paused"}):p({isBuffering:t})}};return Object.entries(b).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];o.addEventListener(r,i)})),{videoElementEventHandlers:{onCanPlay:m.onCanPlay,onPlaying:m.onPlaying,onPause:m.onPause,onSeeking:m.onSeeking,onSeeked:m.onSeeked,onDurationChange:m.onDurationChange,onTimeUpdate:m.onTimeUpdate,onVolumeChange:m.onVolumeChange,onProgress:m.onProgress,onEnded:m.onEnded},pauseStreamRangeUpdater:v,setLifeCycleManager:function(e){y=e,g.setLifeCycleManager(e)},cleanup:function(){g.cleanup(),Object.entries(b).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];o.removeEventListener(r,i)}))}}};t.default=u},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(9);function a(e){return e&&e.bandwidth||0}function o(e,t){return e-t}function s(e,t){return e.bandwidth-t.bandwidth}function l(e){return e&&Math.ceil(e.bandwidth/1e3)||0}function u(e){return e&&e.active&&"variant"===e.type}function c(e,t,r){return r.indexOf(e)===t}var d={abr:{enabled:!0,restrictions:{maxBandwidth:1/0}}},f=function(e,t,r,f){var p=[];function h(){var e=t.getVariantTracks(),n=l(e.filter(u)[0]),a=e.map(l).filter(c).sort(o),s={};n&&(s.currentBitrate=l(e.filter(u)[0])),(0,i.isShallowEqual)(p,a)||(p=a,s.bitrates=a),Object.keys(s).length>0&&r(s)}var g={loading:function(){p=[]},streaming:h,adaptation:h,trackschanged:h};return Object.entries(g).forEach((function(e){var r=n(e,2),i=r[0],a=r[1];t.addEventListener(i,a)})),{cleanup:function(){Object.entries(g).forEach((function(e){var r=n(e,2),i=r[0],a=r[1];t.removeEventListener(i,a)}))},fixBitrate:function(e){if("string"===typeof e)try{var n=t.getVariantTracks().slice(0).sort(s),i="min"===e?n[0]:"max"===e?n[n.length-1]:null;i?(t.configure({abr:{enabled:!1,restrictions:{maxBandwidth:1/0}}}),t.selectVariantTrack(i),r({bitrateFix:l(i)})):(t.configure(d),r({bitrateFix:null}),f&&f("Unknown string specified for bitrate lock. Please use a value of type number if a bitrate specified by kbps is intended.",e))}catch(o){t.configure(d),r({bitrateFix:null}),f&&f("Attempting to set "+e+"imum bitrate, but no tracks found. A bit too early, maybe?",t.getVariantTracks())}else if(isNaN(e)||null==e||e<0||!e)t.configure(d),r({bitrateFix:null}),f&&f("Resetting bitrate locking.");else{var a=t.getVariantTracks().filter((function(t){return l(t)===e}))[0];a?(t.configure({abr:{enabled:!1,restrictions:{maxBandwidth:1/0}}}),t.selectVariantTrack(a),r({bitrateFix:l(a)}),f&&f("Locking at bitrate "+e+".",a)):(t.configure(d),r({bitrateFix:null}),f&&f("Could not finding matching track for specified lock bitrate "+e+".",t.getVariantTracks()))}},capBitrate:function(e){if(isNaN(e)||e===1/0||null==e||e<0)f&&f("Resetting restrictions for bitrate."),t.configure(d),r({bitrateCap:null});else{var n=t.getVariantTracks().map(a).sort(o)[0];if(n){var i=Math.max(1e3*e,n),s={maxBandwidth:i};t.configure({abr:{enabled:!0,restrictions:s}}),r({bitrateCap:Math.ceil(i/1e3)}),s.maxBandwidth===n?f&&f("Applying restrictions for bitrate, but aligning to lowest available bitrate.",s):f&&f("Applying restrictions for bitrate.",s)}else f&&f("Bitrate range not found. Not safe to applying restrictions for bitrate.",t.getVariantTracks())}}}};t.default=f},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=r(52),o=r(9),s=(i=r(50))&&i.__esModule?i:{default:i};var l=["id","language","kind","label"];function u(e,t){return e&&t&&l.filter((function(r){return function(e,t){return e===t||null==e&&null==t||Number.isNaN(e)&&Number.isNaN(t)}(e[r],t[r])})).length===l.length||!e&&!t}function c(e,t,r){return{id:e,kind:"subtitle"===r.kind?"subtitles":r.kind||"",label:r.label||"",language:r.language||"",origin:t}}var d=["text/vtt","application/ttml+xml"];function f(e){var t=e.contentType;return t&&d.filter((function(e){return 0===t.indexOf(e)})).length>0}var p=function(e,t){var r=[],i=a.emptyTracks;function l(){return(e.getTextTracks()||[]).filter((function(e){return e.active}))[0]}function d(n){var a=null,s=null;try{s=e.isTextTrackVisible()?l():null}catch(f){}if(s){var c=r.filter((function(e){return!e.isBlacklisted&&null!=e.selectableTrack&&u(e.shakaTrack,s)}))[0];a=c?c.selectableTrack:null}if(n){var d=r.filter((function(e){return e.selectableTrack})).map((function(e){return e.selectableTrack}));(0,o.isShallowEqual)(d,i)?t({textTracks:i,currentTextTrack:a}):(i=d,t({textTracks:d,currentTextTrack:a}))}else t({currentTextTrack:a})}function p(){r.length=0,d(!0)}function h(t){var n=t.filter(f);return e.removeEventListener("trackschanged",m.trackschanged),function(e){var t=e.map((function(e){var t={id:null,sourceTrack:e.sourceTrack,shakaTrack:null,isBlacklisted:!1,isLoaded:!1,error:null,selectableTrack:null,shakaLoadPromise:e.addPromise.then((function(e){return t.isLoaded=!0,t.shakaTrack=e,t.selectableTrack=c(e.id,"side-loaded",e),e}),(function(r){return t.error=r||new Error("Shaka rejected adding a track with the URL "+e.sourceTrack.src),t.isBlacklisted=!0,t.isLoaded=!0,null}))};return t}));return r=r.concat(t),Promise.all(t.map((function(e){return e.shakaLoadPromise})))}(n.filter((function(e){var t=r.filter((function(t){return t.sourceTrack&&t.sourceTrack.src===e.src&&t.shakaTrack}));if(0===t.length)return!0;var n=t[0];return!!n.shakaTrack&&(n.sourceTrack=e,n.isBlacklisted=!1,n.isLoaded=!0,n.shakaTrack&&(n.selectableTrack=c(n.shakaTrack.id,"side-loaded",n.shakaTrack)),n.error=null,n.loadPromise=Promise.resolve(),!1)})).map((function(t){var r=t.contentType,n=r?r.indexOf(";charset"):-1;return n>0&&(r=r&&r.substr(0,n)),{addPromise:Promise.resolve(e.addTextTrack(t.src,t.language,t.kind,r,null,t.label)),sourceTrack:t}}))).then((function(){e.addEventListener("trackschanged",m.trackschanged),d(!0)}))}function g(){var t=e.isTextTrackVisible()?l():null;r.filter((function(e){return null!=e.sourceTrack})).forEach((function(r){r.selectableTrack&&(r.selectableTrack=null),t&&r.shakaTrack&&r.shakaTrack.active&&u(t,r.shakaTrack)&&e.setTextTrackVisibility(!1),r.isBlacklisted=!0}))}var m={loading:p,trackschanged:function(){var t=e.getTextTracks()||[];if(0===t.length)p();else{var n=r.filter((function(e){return 1===t.filter((function(t){return u(t,e.shakaTrack)})).length})),i=n.length<r.length;if(t.length>n.length){var a=t.filter((function(e){return 0===n.filter((function(t){return u(e,t.shakaTrack)})).length})).map((function(e){return{sourceTrack:null,shakaTrack:e,isBlacklisted:!1,selectableTrack:c(e.id,"in-stream",e),isLoaded:!0,error:null}}));r=n.concat(a),d(!0)}else i&&(r=n,d(!0))}},texttrackvisibility:function(){return d(!1)}};return Object.entries(m).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];e.addEventListener(i,a)})),{handleSelectedTextTrackChange:function(t){var n,i=t&&r.filter((function(e){return e.selectableTrack===t}))[0];(n=i&&i.shakaTrack)?(e.removeEventListener("texttrackvisibility",m.texttrackvisibility),e.isTextTrackVisible()||e.setTextTrackVisibility(!0),window.setTimeout((function(){var t=(e.getTextTracks()||[]).filter((function(e){return u(e,n)}))[0];t?e.selectTextTrack(t):n&&e.selectTextTrack(n),d(!1),e.addEventListener("texttrackvisibility",m.texttrackvisibility)}),1)):e.isTextTrackVisible()&&e.setTextTrackVisibility(!1)},handleTextTracksPropChange:function(e){g(),h(Array.isArray(e.textTracks)?e.textTracks:[])},handleSourcePropChange:function(e){var t=Array.isArray(e.textTracks)?e.textTracks:[],r=(0,s.default)(e.source);r&&r.textTracks?h(t.concat(r.textTracks)):h(t)},clear:function(){g()},cleanup:function(){p(),Object.entries(m).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];e.removeEventListener(i,a)}))}}};t.default=p},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){var r=e.language,n=e.role;return{selectableTrack:{id:r+n||t,kind:n,label:"",language:r,origin:"in-stream"},language:r,role:n}},a=function(e,t){var r=[];function a(){var n=e.getVariantTracks().filter((function(e){return e.active}))[0],i=n&&r.filter((function(e){return function(e,t){var r=t.language,n=t.role;return e.language===r&&(!n||e.roles&&e.roles.indexOf(n)>=0)}(n,e)})).map((function(e){return e.selectableTrack}))[0];t({currentAudioTrack:i})}function o(){var n=(r=e.getAudioLanguagesAndRoles().map(i)).map((function(e){return e.selectableTrack}));t({audioTracks:n}),a()}var s={loading:o,trackschanged:o,adaptation:a};return Object.entries(s).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];e.addEventListener(i,a)})),{cleanup:function(){Object.entries(s).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];e.removeEventListener(i,a)}))},handleSourceChange:function(){},handleSelectedAudioTrackChange:function(t){var n=r.filter((function(e){return e.selectableTrack===t}))[0];n&&(e.selectAudioLanguage(n.language,n.role),a())}}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(67)),i=r(80),a=o(r(267));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("HtmlVideoStreamer",(0,i.getImplementationResolver)(a.default));t.default=s},function(e,t,r){"use strict";var n=r(28),i=r(11),a=r(17),o=r(12),s=r(13),l=r(162);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(35),c=f(r(163)),d=f(r(50));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=function(e){o(r,e);var t=s(r);function r(e,n,o,s){var l;return i(this,r),l=t.call(this,o),p(a(l),"status",void 0),p(a(l),"url",void 0),p(a(l),"method",void 0),l.status=e,l.url=n,l.method=s,l}return r}(l(Error));function m(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";return new u.PlaybackError("STREAM_ERROR_DOWNLOAD","html",r,"FATAL",new g(e.status,t,r,n))}function v(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return r}function y(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))}function b(e){for(var t,r,n,i,a,o,s,l="",u=0;u<e.length;)i=(t=e[u++])>>2,a=(3&t)<<4|(r=u<e.length?e[u++]:Number.NaN)>>4,o=(15&r)<<2|(n=u<e.length?e[u++]:Number.NaN)>>6,s=63&n,isNaN(r)?o=s=64:isNaN(n)&&(s=64),l+=h.charAt(i)+h.charAt(a)+h.charAt(o)+h.charAt(s);return l}function k(e,t,r,n){"string"===typeof r?r=v(r):"number"===typeof r&&(r=v(""+r));var i=0,a=new ArrayBuffer(t.byteLength+4+r.byteLength+4+n.byteLength),o=new DataView(a);new Uint8Array(a,i,t.byteLength).set(t),i+=t.byteLength,o.setUint32(i,r.byteLength,!0),i+=4;var s=e?new Uint8Array(a,i,r.byteLength):new Uint16Array(a,i,r.length);return s.set(r),i+=s.byteLength,o.setUint32(i,n.byteLength,!0),i+=4,new Uint8Array(a,i,n.byteLength).set(n),new Uint8Array(a,0,a.byteLength)}var E=function(e,t,r,i){if(t&&"WebKitMediaKeys"in window){var a=t.contentIdExtractMatch,o=t.fairPlayCertificateUrl,s=t.licenseRequestHeaders&&Object.entries(t.licenseRequestHeaders).map((function(e){var t=n(e,2);return{name:t[0],value:t[1]}}))||[],l="binary"===t.requestFormat,c="base64"===t.requestFormat,d=null,f=t.contentId,p=t.licenseUrl;return e.addEventListener("webkitneedkey",h,!1),{cleanup:S}}function h(t){var r=t.initData,n=l?y(r).replace(/^.*:\/\//,""):f||function(e,t){var r=y(e),n=t?"string"===typeof t?new RegExp(t):t:/([0-9]+)$/;if(n.exec){var i=n.exec(r);return i&&i[0]}}(r,a);if(l?i&&i("Content ID extracted from initData.",f):f||i&&i("Content ID extracted from initData.",f),e.webkitKeys||e.webkitSetMediaKeys(new window.WebKitMediaKeys("com.apple.fps.1_0")),e.webkitKeys){if(!p){var s=y(r).substring(1);p=s.substring(s.indexOf("/",s.indexOf("://")+3))}if(n)if(d){if(!g(n,k(c,r,n,d)))return void T(new u.PlaybackError("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE","html","Could not create key session."))}else{var h=new XMLHttpRequest;h.responseType="arraybuffer",h.addEventListener("load",(function(){h.status&&h.status<400?(d=new Uint8Array(h.response),g(n,k(c,r,n,d))&&T(new u.PlaybackError("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE","html","Could not create key session."))):T(m(h,o,"Download of FairPlay certificate failed."))})),h.addEventListener("error",(function(){return T(m(h,o,"Download of FairPlay certificate was blocked."))}),!1),h.addEventListener("timeout",(function(){return T(m(h,o,"Download of FairPlay certificate timed out."))}),!1),h.open("GET",o,!0),h.send()}else T(new u.PlaybackError("STREAM_ERROR","html","No content ID available. Cannot complete FairPlay license acquisition.","FATAL"))}else T(new u.PlaybackError("STREAM_ERROR_DRM_CLIENT_UNAVAILABLE","html","Safari EME API not available."))}function g(t,r){var n=e.webkitKeys.createSession("video/mp4",r);if(!n)return!1;n.contentId=t,n.addEventListener("webkitkeymessage",v,!1),n.addEventListener("webkitkeyadded",E,!1),n.addEventListener("webkitkeyerror",_,!1)}function v(e){i&&i("Key session ready for license request.");var t=e.target,r=e.message,n=new XMLHttpRequest;n.responseType=l?"arraybuffer":"text",n.addEventListener("load",(function(){if(n.status&&n.status<400)if(l){var e=n.response;t.update(new Uint8Array(e))}else{var r=n.responseText.trim();"<ckc>"===r.substr(0,5)&&"</ckc>"===r.substr(-6)&&(r=r.slice(5,-6)),t.update(function(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(new ArrayBuffer(r)),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}(r))}else T(m(n,p,"Acquisition of FairPlay license failed.","POST"))})),n.addEventListener("error",(function(){return T(m(n,o,"Acquisition of FairPlay license was blocked."))}),!1),n.addEventListener("timeout",(function(){return T(m(n,o,"Acquisition of FairPlay license timed out."))}),!1),n.open("POST",p,!0),s.forEach((function(e){var t=e.name,r=e.value;n.setRequestHeader(t,r)})),l?(n.setRequestHeader("Content-type","application/octet-stream"),n.send(r)):c?n.send(b(r)):(n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(function(e,t){return t?"contentId="+encodeURIComponent(t.toString())+"spc="+encodeURIComponent(b(e)):"spc="+encodeURIComponent(b(e))}(r,f)))}function E(e){i&&i("Decryption key added",e)}function _(e){var t=e.target&&e.target.error&&e.target.error.code||0;if(6===t||4===t){T(new u.PlaybackError("STREAM_ERROR_DRM_OUTPUT_BLOCKED","html","FairPlay blocked the playback because of non-secure output path, e.g. external VGA screen connected.","FATAL",e.target&&e.target.error))}else T(new u.PlaybackError("STREAM_ERROR_DECODE","html","Could not decrypt FairPlay stream.","FATAL",e.target&&e.target.error));S()}function S(){e.removeEventListener("webkitneedkey",h,!1)}function T(e){r&&r(e),S()}};var _=function(e){var t,r=(0,c.default)(e);return function(n,i){t&&t.cleanup();var a=function(e,t){var r=(0,d.default)(e);if(r&&r.licenseUrl){var n=r.licenseUrl,i=t&&t.licenseAcquisition&&t.licenseAcquisition.fairPlay||{},a=r.licenseAcquisitionDetails||{},o=a.fairPlayCertificateUrl||i.serviceCertificateUrl,s=a.contentIdExtractMatch||i.contentIdExtractMatch,l=a.fairPlayRequestFormat||i.requestFormat||"formdata",u=a.licenseRequestHeaders,c=a.contentId;return o?{licenseUrl:n,licenseRequestHeaders:u,fairPlayCertificateUrl:o,requestFormat:l,contentId:c,contentIdExtractMatch:s}:null}return null}(n.source,n.configuration);return a&&(t=E(e,a,n.onPlaybackError)),r(n,i)}};t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(67)),i=r(165),a=m(r(269)),o=m(r(270)),s=m(r(81)),l=r(82),u=m(r(52)),c=r(68),d=r(84),f=m(r(271)),p=(m(r(40)),m(r(272))),h=m(r(273)),g=m(r(274));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,n.default)("HlsjsVideoStreamer",(function(e,t,r,n){var m={videoElement:r,subscribers:[]},v=(0,a.default)(r,m,t),y=(0,o.default)(m),b=(0,s.default)(e),k=(0,p.default)(r,m,b,n),E=(0,f.default)(m,b),_=(0,h.default)(e,m,b,(0,d.getArrayLogger)(window,"bitrateManager").log),S=(0,l.getPropertyApplier)(r,v,k,E,_),T=(0,d.getArrayLogger)(window,"videoEvents").log,w=(0,g.default)({streamer:e,videoElement:r,instanceKeeper:m,streamRangeHelper:v,configuration:t,applyProperties:S,updateStreamState:b,log:T}),x=w.videoElementEventHandlers,O=w.setLifeCycleManager,P=(0,u.default)(b,w.pauseStreamRangeUpdater,(0,d.getArrayLogger)(window,"lifecycle").log);O(P);var C=P.startPlaybackSession,A=P.endPlaybackSession,M=m,I=c.renderWithoutSource;return Promise.resolve({cleanup:function(){return k.cleanup(),P.cleanup(),(0,i.hlsjsCleanup)(m)},render:I,textTrackManager:k,audioTrackManager:E,thirdPartyPlayer:M,applyProperties:S,handleSourceChange:y,startPlaybackSession:C,endPlaybackSession:A,videoElementEventHandlers:x})}));t.default=v},function(e,t,r){"use strict";var n=r(28),i=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=r(40))&&a.__esModule?a:{default:a};var s=new Date(0);var l=function(e,t,r){var a,l,u,c=r&&r.liveEdgeMargin||10,d=0,f=!1;function p(){l=null,d=0,f=!1}var h=(i(a={},o.default.Events.MANIFEST_LOADING,(function(){return p})),i(a,o.default.Events.LEVEL_LOADED,(function(e,t){f=t.details.live,d=t.details.totalduration;var r=t.details&&t.details.fragments&&t.details.fragments[0]&&t.details.fragments[0].programDateTime;r&&(l=new Date(r))})),a);return t.subscribers.push((function(e,t){Object.entries(h).forEach((function(r){var i=n(r,2),a=i[0],o=i[1];e[t](a,o),"on"===t&&(u=e)}))})),{adjustForDvrStartOffset:function(){},calculateNewState:function(){var t;t=d&&f?Math.max((e.currentTime||0)-Math.max(e.duration-d,0),0):e.currentTime||0;var r=f&&d||e.duration,n=function(e,t,r){if(t instanceof Date&&!isNaN(t))return{absolutePosition:new Date(t.getTime()+1e3*r),absoluteStartPosition:t};if(e){var n=new Date,i=new Date(n.getTime()-1e3*r);return{absolutePosition:n,absoluteStartPosition:i}}return{absolutePosition:s,absoluteStartPosition:s}}(f,l,t),i=n.absolutePosition,a=n.absoluteStartPosition;return{position:t,duration:r,playMode:function(e,t){return t?e===1/0||0===e||e<100?"live":"livedvr":"ondemand"}(r,f),isAtLiveEdge:u&&function(e,t,r,n){return!!r&&(e.liveSyncPosition?t.currentTime>e.liveSyncPosition-n:e.config&&e.config.liveSyncDuration?t.currentTime>t.duration-(e.config.liveSyncDuration+n):!(!e.config||!e.config.liveSyncDurationCount)&&t.currentTime>t.duration-(10*e.config.liveSyncDurationCount+n))}(u,e,f,c),absolutePosition:i,absoluteStartPosition:a}},setPosition:function(t){isNaN(t)||t===1/0||isNaN(e.duration)||e.duration===1/0||(e.currentTime=d&&f?t+e.duration-d:t)},gotoLive:function(){f&&u&&(u.liveSyncPosition?e.currentTime=u.liveSyncPosition:u.config&&u.config.liveSyncDuration?e.currentTime=e.duration-(u.config.liveSyncDuration+c):u.config&&u.config.liveSyncDurationCount?e.currentTime=e.duration-(10*u.config.liveSyncDurationCount+c):e.currentTime=e.duration-c)}}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(40)),i=r(35),a=r(165),o=s(r(50));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return function(t,r){var s=e.videoElement;(0,a.hlsjsCleanup)(e);var l=(0,o.default)(t.source);return l?(0,a.hlsjsSetup)(s,l,t.configuration).then((function(t){return e.hls=t,(0,a.broadcastHlsInstance)(e,"on"),new Promise((function(e,r){try{t.on(n.default.Events.MANIFEST_PARSED,(function a(){t.off(n.default.Events.MANIFEST_PARSED,a);try{l.startPosition?t.startLoad(l.startPosition):t.startLoad(),e()}catch(o){r(new i.PlaybackError("STREAM_ERROR","hlsjs","Stream load start failed.","FATAL",o))}})),t.loadSource(l.streamUrl)}catch(a){r(new i.PlaybackError("STREAM_ERROR","hlsjs","Stream load failed.","FATAL",a))}}))})):Promise.resolve()}};t.default=l},function(e,t,r){"use strict";var n=r(28),i=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=r(40))&&a.__esModule?a:{default:a};var s=function(e,t){return!e&&!t||e===t},l=function(e,t){return!e||!t||e===t},u=function(e,t){var r,a,u=[];function c(){if(a){var e=function(e){var t=[];return e?e.filter((function(e){var r="".concat(e.lang||"","!").concat(e.name||""),n=t.indexOf(r)<0;return n&&t.push(r),n})).map((function(e){return{id:e.id,language:e.lang||"unknown",kind:"",label:e.name||"unknown",origin:"in-stream"}})):[]}(a.audioTracks);(function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(!s(e[r].id,t[r].id)||!s(e[r].language,t[r].language)||!s(e[r].label,t[r].label))return!0;return!1}return!0})(e,u)&&(u=e)}}function d(){var e=null;if(a){var r=a.audioTracks.filter((function(e){return e.id===a.audioTrack}))[0];if(r){var n=r.name,i=r.lang;e=u.filter((function(e){var t=e.label,r=e.language;return t===n&&r===i}))[0]}}t({audioTracks:u,currentAudioTrack:e})}function f(){c(),d()}function p(){u=[]}var h=(i(r={},o.default.Events.MANIFEST_LOADING,(function(){return p})),i(r,o.default.Events.MANIFEST_PARSED,f),i(r,o.default.Events.AUDIO_TRACK_SWITCHED,(function(){c(),d()})),r);return e.subscribers.push((function(e,t){Object.entries(h).forEach((function(r){var i=n(r,2),o=i[0],s=i[1];e[t](o,s),"on"===t&&(a=e)}))})),{cleanup:function(){},handleSourceChange:function(){f()},handleSelectedAudioTrackChange:function(e){var t=e;if(a&&a.audioTracks&&t){var r=(a.audioTracks[a.audioTrack]||{}).groupId,n=a.audioTracks.filter((function(e){return l(e.groupId,r)&&l(e.name,t.label)&&l(e.lang,t.language)}))[0];n&&(a.audioTrack=n.id)}}}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(52),a=r(9),o=(n=r(50))&&n.__esModule?n:{default:n};var s=["disabled","hidden","showing"];function l(e){var t=e.mode;return"number"===typeof t?s[t]:t}function u(e,t){e.mode="number"===typeof e.mode?s.indexOf(t):t}function c(e,t){return Number.isNaN(e)&&Number.isNaN(t)||null==e&&null==t||e===t}function d(e,t,r){return{id:e,kind:r.kind||"",label:r.label||"",language:r.language||"",origin:t}}var f=function(e,t,r,n){var s=[],f=null,p=i.emptyTracks,h=0,g=window.VTTCue||window.TextTrackCue;function m(){f=s.filter((function(e){return null!=e.videoElementTrack&&"showing"===l(e.videoElementTrack)})).map((function(e){return e.selectableTrack}))[0];var e=s.filter((function(e){return e.selectableTrack})).map((function(e){return e.selectableTrack}));(0,a.isShallowEqual)(e,p)?r({currentTextTrack:f,textTracks:p}):(p=e,r({currentTextTrack:f,textTracks:e}))}function v(t){if(Array.isArray(t)){e.textTracks.removeEventListener("addtrack",k),e.textTracks.removeEventListener("removetrack",E);var r=t.filter((function(e){var t=s.filter((function(t){return function(e,t){if(e&&t){if(e.cues&&t.cues){var r=e.cues,n=t.cues;if(r.length===n.length)if(r.filter((function(e,t){return e.start===n[t].start&&e.end===n[t].end&&e.content===n[t].content})).length!==r.length)return!1}return c(e.language,t.language)&&c(e.kind,t.kind)&&c(e.label,t.label)&&c(e.src,t.src)}return c(e,t)}(t.sourceTrack,e)&&!t.isBlacklisted}));if(0===t.length)return!0;var r=t[0];return r.sourceTrack=e,r.isBlacklisted=!1,r.isLoaded=!0,!1})).map((function(t){var r=++h;if(Array.isArray(t.cues)){var n=t.cues,i=e.addTextTrack("subtitles",t.label,t.language);return n.forEach((function(e){i.addCue(new g(e.start,e.end,e.content))})),{id:r,sourceTrack:t,isBlacklisted:!1,videoElementTrack:i,selectableTrack:d(r,"side-loaded",i),loadPromise:Promise.resolve(i),isLoaded:!0}}var a={src:t.src,srclang:t.language,kind:t.kind||"subtitles",label:t.label},o=new Promise((function(e){a.onRef=function(t){var r=t;if(r){u(r.track,"hidden");var n=function t(){r.removeEventListener("load",t),r.removeEventListener("error",i),e(r.track)},i=function t(i){r.removeEventListener("load",n),r.removeEventListener("error",t),e()};r.addEventListener("load",n),r.addEventListener("error",i)}}})),s={id:r,sourceTrack:t,isBlacklisted:!1,videoElementTrack:void 0,selectableTrack:void 0,trackElementData:a,loadPromise:o,isLoaded:!1};return o.then((function(e){null!=e&&(s.videoElementTrack=e,s.selectableTrack=d(r,"side-loaded",e)),s.isLoaded=!0})),s}));return s=s.concat(r),n(s.filter((function(e){return e.trackElementData&&!e.isBlacklisted})).map((function(e){return e.trackElementData}))),Promise.all(r.map((function(e){return e.loadPromise}))).then((function(){e.textTracks.addEventListener("addtrack",k),e.textTracks.addEventListener("removetrack",E),m()}))}return Promise.resolve()}function y(e){if(0!==e.length||0!==s.length){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);var n=s.filter((function(e){return t.indexOf(e.videoElementTrack)>=0}));if(t.length>n.length){var i=t.filter((function(e){return("metadata"!==(t=e).kind&&!("inBandMetadataTrackDispatchType"in t)||t.cues&&t.cues.length||t.label||t.language)&&0===n.filter((function(t){return e===t.videoElementTrack})).length;var t})).map((function(e){var t=++h;return{id:t,sourceTrack:null,videoElementTrack:e,isBlacklisted:!1,selectableTrack:d(t,"in-stream",e),isLoaded:!0}}));s=n.concat(i)}else s=n}}function b(t){y(e.textTracks),s.forEach((function(e){if((t||null!=e.sourceTrack)&&(e.isBlacklisted=!0),null!=e.videoElementTrack&&t){var r=e.videoElementTrack;if(r.cues)for(;r.cues.length;)r.removeCue(r.cues[0]);u(r,"disabled")}e.selectableTrack=null})),p=i.emptyTracks,n([])}function k(){y(e.textTracks),m()}function E(){y(e.textTracks),m()}return e.textTracks.addEventListener("addtrack",k),e.textTracks.addEventListener("removetrack",E),{handleSelectedTextTrackChange:function(e){if(s.filter((function(e){return e.videoElementTrack&&"showing"===l(e.videoElementTrack)})).forEach((function(e){return e.videoElementTrack&&u(e.videoElementTrack,"hidden")})),e){t.hls&&(t.hls.subtitleDisplay=!0);var r=s.filter((function(t){return t.selectableTrack===e}))[0];r&&r.videoElementTrack&&u(r.videoElementTrack,"showing")}else t.hls&&(t.hls.subtitleDisplay=!1);m()},handleTextTracksPropChange:function(e){b(!1),v(e.source&&Array.isArray(e.textTracks)?e.textTracks:[])},handleSourcePropChange:function(t){y(e.textTracks);var r=t.source&&Array.isArray(t.textTracks)?t.textTracks:[],n=(0,o.default)(t.source);n&&n.textTracks?v(r.concat(n.textTracks)):v(r)},clear:function(){b(!0)},cleanup:function(){e.textTracks.removeEventListener("addtrack",k),e.textTracks.removeEventListener("removetrack",E)}}};t.default=f},function(e,t,r){"use strict";var n=r(28),i=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=r(9),s=(a=r(40))&&a.__esModule?a:{default:a};function l(e){return e&&Math.ceil(e.bitrate/1e3)||0}var u=function(e,t,r,a){var u,c,d=[];function f(e,t){if(c){var n=Array.isArray(c.levels)?c.levels.map(l):[];(0,o.isShallowEqual)(d,n)&&(n=d);var i=e===s.default.Events.LEVEL_SWITCHED?t.level:-1===c.currentLevel?c.startLevel:c.currentLevel;if(-1===i)a&&a("No hls.js level reported currently or selected for start."),r({bitrates:n});else{var u=l(c.levels[i]);r({currentBitrate:u,bitrates:n})}}}var p=(i(u={},s.default.Events.MANIFEST_LOADING,(function(){d=[]})),i(u,s.default.Events.MANIFEST_PARSED,f),i(u,s.default.Events.LEVEL_SWITCHED,f),i(u,s.default.Events.LEVEL_UPDATED,f),u);return t.subscribers.push((function(e,t){Object.entries(p).forEach((function(r){var i=n(r,2),a=i[0],o=i[1];e[t](a,o),"on"===t&&(c=e)}))})),{fixBitrate:function(e){if(c)if("min"===e)Array.isArray(c.levels)&&c.levels.length>0&&(c.nextLevel=0,r({bitrateFix:l(c.levels[0])}),a&&a("Fixing bitrate to lowest level out of "+c.levels.length));else if("max"===e)Array.isArray(c.levels)&&c.levels.length>0&&(c.nextLevel=c.levels.length-1,r({bitrateFix:l(c.levels[c.levels.length-1])}),a&&a("Fixing bitrate to highest level out of "+c.levels.length));else if(null==e||isNaN(e)||e<0||!e)a&&a("Resetting fixing of bitrate."),c.nextLevel=-1,r({bitrateFix:null});else if("string"===typeof e)a&&a("Unknown string specified for bitrate lock. Please use a value of type number if a bitrate specified by kbps is intended.",e);else if(Array.isArray(c.levels)){for(var t=0;t<c.levels.length;t++)if(l(c.levels[t])===e)return c.nextLevel=t,a&&a("Fixing bitrate to HLS level "+t,c.levels),void r({bitrateFix:e});a&&a("Desired bitrate lock didn't match any bitrates specified in the hls.levels list. Not applied.",c.levels)}else a&&a("Found no HLS levels from where bitrate fixing can be applied.",c.levels)},capBitrate:function(e){if(c)if(isNaN(e)||e===1/0||null==e||e<0)a&&a("Resetting restrictions for bitrate."),c.autoLevelCapping=-1,r({bitrateCap:null});else if(Array.isArray(c.levels)){for(var t=!1,n=0;n<c.levels.length;n++){var i=l(c.levels[n]);if(i===e){c.autoLevelCapping=n,r({bitrateCap:l(c.levels[n])}),a&&a("Desired bitrate cap "+e+" is equal to level on index "+n+" in hls.js.",c.levels),t=!0;break}if(i>e){n>0?(c.autoLevelCapping=n-1,r({bitrateCap:l(c.levels[n-1])}),a&&a("Desired bitrate cap "+e+" is closest to level on index "+(n-1)+" in hls.js.",c.levels)):(c.autoLevelCapping=0,a&&a("Desired bitrate cap "+e+" appears to be lower than the lowest HLS level. Aligning to lowest level.",c.levels),r({bitrateCap:l(c.levels[0])})),t=!0;break}}t||a&&a("Desired bitrate cap appears to be higher than the higher HLS level. Not applicable.",c.levels)}else a&&a("Found no HLS levels from where bitrate capping can be applied.",c.levels)}}};t.default=u},function(e,t,r){"use strict";var n=r(28),i=r(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(r(83)),o=l(r(40)),s=r(275);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,r,l=e.streamer,u=e.videoElement,c=e.instanceKeeper,d=e.streamRangeHelper,f=e.configuration,p=e.applyProperties,h=e.updateStreamState,g=e.log,m=(0,a.default)({streamer:l,videoElement:u,streamRangeHelper:d,configuration:f,log:g,applyProperties:p,updateStreamState:h}),v=m.videoElementEventHandlers,y=m.pauseStreamRangeUpdater,b={setStage:function(e){},getStage:function(){}};function k(e){g&&g("hlsjs.error");var t=(0,s.mapHlsjsError)("started"===b.getStage(),e),n=c.hls,i=f&&f.hlsjs&&f.hlsjs.autoRecoverStreamErrors;n&&"FATAL"===t.severity&&(l.props.onPlaybackError&&l.props.onPlaybackError(t),u.error&&h({error:u.error}),i&&e.type===o.default.ErrorTypes.NETWORK_ERROR?n.startLoad():i&&e.type===o.default.ErrorTypes.MEDIA_ERROR?(r&&Date.now()-1e3<r?(r=void 0,n.swapAudioCodec()):r=Date.now(),n.recoverMediaError()):(b.setStage("dead"),h({playState:"inactive",isBuffering:!1,isSeeking:!1}))),y.stop()}var E=(i(t={},o.default.Events.ERROR,(function(e,t){switch(t.details){case o.default.ErrorDetails.BUFFER_STALLED_ERROR:h({isBuffering:!0}),"started"===b.getStage()&&h({playState:"buffering"});break;case o.default.ErrorDetails.BUFFER_SEEK_OVER_HOLE:case o.default.ErrorDetails.BUFFER_NUDGE_ON_STALL:break;case o.default.ErrorDetails.MANIFEST_PARSING_ERROR:t.url&&!t.url.endsWith("undefined")&&k(t);break;default:k(t)}})),i(t,o.default.Events.MANIFEST_LOADING,(function(){if(g&&g("hlsjs.loading"),r=void 0,"new"===b.getStage()){if(b.setStage("starting"),l.props.initialPlaybackProps){var e=l.props.initialPlaybackProps,t=e.isMuted,n=e.volume;p({isMuted:t,volume:n})}h({playState:"starting",isBuffering:!0,volume:u.volume,isMuted:u.muted,isPipAvailable:m.isPipAvailable()})}})),i(t,o.default.Events.FRAG_BUFFERED,(function(){h({isBuffering:!1})})),i(t,o.default.Events.MANIFEST_PARSED,(function(){if(g&&g("hlsjs.parsed"),l.props.initialPlaybackProps){var e=l.props.initialPlaybackProps,t=e.isPaused,r=e.bitrateFix,n=e.bitrateCap;t&&u.pause(),p({bitrateFix:r,bitrateCap:n}),null==r&&h({bitrateFix:null}),null==n&&h({bitrateCap:null})}else h({bitrateFix:null,bitrateCap:null});h(d.calculateNewState())})),t);return c.subscribers.push((function(e,t){Object.entries(E).forEach((function(r){var i=n(r,2),a=i[0],o=i[1];e[t](a,o)}))})),{videoElementEventHandlers:{onCanPlay:v.onCanPlay,onPlaying:v.onPlaying,onPause:v.onPause,onSeeking:v.onSeeking,onSeeked:v.onSeeked,onDurationChange:v.onDurationChange,onTimeUpdate:v.onTimeUpdate,onVolumeChange:v.onVolumeChange,onProgress:v.onProgress,onEnded:v.onEnded},pauseStreamRangeUpdater:y,setLifeCycleManager:function(e){b=e,m.setLifeCycleManager(e)}}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapHlsjsError=function(e,t){var r=t.fatal?"FATAL":"WARNING",n=(t&&t.details&&s.indexOf(t.details)>=0?"STREAM_ERROR_DOWNLOAD":l.indexOf(t.details)>=0&&"STREAM_ERROR_DECODE")||"STREAM_ERROR";return new a.PlaybackError(n,"hlsjs",function(e){var t=(e.type?e.type+"/":"")+(e.details||"");return"string"===typeof e.reason?t+": "+e.reason:t}(t),r,t)};var n,i=(n=r(40))&&n.__esModule?n:{default:n},a=r(35);var o=i.default.ErrorDetails,s=[o.MANIFEST_LOAD_ERROR,o.MANIFEST_LOAD_TIMEOUT,o.LEVEL_LOAD_ERROR,o.LEVEL_LOAD_TIMEOUT,o.AUDIO_TRACK_LOAD_ERROR,o.AUDIO_TRACK_LOAD_TIMEOUT,o.FRAG_LOAD_ERROR,o.FRAG_LOOP_LOADING_ERROR,o.FRAG_LOAD_TIMEOUT,o.KEY_LOAD_ERROR,o.KEY_LOAD_TIMEOUT],l=[o.MANIFEST_PARSING_ERROR,o.MANIFEST_INCOMPATIBLE_CODECS_ERROR,o.FRAG_DECRYPT_ERROR,o.BUFFER_ADD_CODEC_ERROR,o.FRAG_PARSING_ERROR]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(67)),i=p(r(277)),a=p(r(278)),o=p(r(81)),s=r(82),l=p(r(52)),u=p(r(279)),c=r(68),d=r(84),f=p(r(108));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=(0,n.default)("RxVideoStreamer",(function(e,t,r){var n=t&&t.rxPlayer&&t.rxPlayer.customConfiguration,p=t&&t.logLevel;p&&(f.default.LogLevel="VERBOSE"===p?"DEBUG":p);var m=new f.default(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({stopAtEnd:!0},n,{videoElement:r}));r.autoplay=!1;var v=(0,i.default)(m,t),y=(0,a.default)(m),b=(0,o.default)(e),k=(0,s.getPropertyApplier)(r,v),E=(0,d.getArrayLogger)(window,"videoEvents").log,_=(0,u.default)({streamer:e,videoElement:r,rxPlayer:m,streamRangeHelper:v,configuration:t,applyProperties:k,updateStreamState:b,log:E}),S=_.videoElementEventHandlers,T=_.setLifeCycleManager,w=(0,l.default)(b,_.pauseStreamRangeUpdater,(0,d.getArrayLogger)(window,"lifecycle").log);T(w);var x=w.startPlaybackSession,O=w.endPlaybackSession,P=m,C=c.renderWithoutSource;return Promise.resolve({cleanup:function(){return w.cleanup(),_.cleanup(),m.stop(),m.dispose(),Promise.resolve()},render:C,thirdPartyPlayer:P,applyProperties:k,handleSourceChange:y,startPlaybackSession:x,endPlaybackSession:O,videoElementEventHandlers:S,textTrackManager:{handleSourcePropChange:function(){},cleanup:function(){},handleSelectedTextTrackChange:function(){},handleTextTracksPropChange:function(){},clear:function(){}},audioTrackManager:{handleSourceChange:function(){},cleanup:function(){},handleSelectedAudioTrackChange:function(){}}})}));t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Date(0),i=function(e,t){var r=t&&t.liveEdgeMargin||10;return{adjustForDvrStartOffset:function(){e.isLive()&&"PAUSED"===e.getPlayerState()&&e.getMinimumPosition()>=e.getPosition()&&e.seekTo(e.getMinimumPosition()+10)},calculateNewState:function(){var t=e.isLive(),i=t?e.getPosition()-e.getMinimumPosition():e.getPosition(),a=t?e.getMaximumPosition()-e.getMinimumPosition():e.getVideoDuration();return{position:i,duration:a,playMode:t?a>100?"livedvr":"live":"ondemand",isAtLiveEdge:t&&e.getPosition()>e.getMaximumPosition()-r,absolutePosition:t?new Date(1e3*e.getWallClockTime()):n,absoluteStartPosition:t?new Date(1e3*(e.getWallClockTime()-i)):n}},setPosition:function(t){"RELOADING"===e.getPlayerState()||isNaN(t)&&t===1/0||e.seekTo((e.getMinimumPosition()||0)+t)},gotoLive:function(){e.isLive()&&e.seekTo(e.getMaximumPosition())}}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){var n,o=t.source,s=t.initialPlaybackProps,l=(0,a.default)(o);if(l){var u=l.licenseUrl,c=l.startPosition,d=!(s&&s.isPaused),f={url:l.streamUrl,autoPlay:d};if(u){var p=l.licenseAcquisitionDetails&&l.licenseAcquisitionDetails.licenseRequestHeaders,h=function(e,t){if("license-release"!==t)return function(e,t,r){return fetch(e,t?{method:"POST",headers:t,body:r}:{method:"POST",body:r}).then((function(e){return e.ok&&e.arrayBuffer()}))}(u,p,e)};f.keySystems=[{type:"playready",getLicense:h},{type:"widevine",getLicense:h}]}switch(c&&(f.startAt={position:c}),l.contentType){case"application/vnd.ms-sstr+xml":f.transport="smooth";break;case"application/dash+xml":f.transport="dash";break;default:return Promise.reject(new i.PlaybackError("STREAM_ERROR_TECHNOLOGY_UNSUPPORTED","rxplayer","Unspecified source contentType. Cannot decide if the source is a smooth stream or MPEG-DASH stream."))}return f.keySystems&&l.licenseAcquisitionDetails&&l.licenseAcquisitionDetails.widevineServiceCertificateUrl&&navigator.userAgent.indexOf("Edge")<0&&(navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Firefox")>=0)?(n=l.licenseAcquisitionDetails.widevineServiceCertificateUrl,fetch(n).then((function(e){return e.ok&&e.arrayBuffer()}))).then((function(t){f.keySystems[1].serverCertificate=t,e.loadVideo(f)})):(e.loadVideo(f),Promise.resolve())}return e.stop(),Promise.resolve()}};var n,i=r(35),a=(n=r(50))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=r(35),o=(i=r(83))&&i.__esModule?i:{default:i};var s=function(e,t){return new a.PlaybackError("STREAM_ERROR","rxplayer","Rx-player error: "+e.message,t,e)},l=function(e){var t=e.streamer,r=e.rxPlayer,i=e.videoElement,a=e.streamRangeHelper,l=e.configuration,u=e.applyProperties,c=e.updateStreamState,d=e.log,f={setStage:function(e){},getStage:function(){}},p=(0,o.default)({streamer:t,videoElement:i,thirdPartyPlayer:r,streamRangeHelper:a,configuration:l,log:d,applyProperties:u,updateStreamState:c}),h=p.videoElementEventHandlers,g=p.pauseStreamRangeUpdater,m={playerStateChange:function(e){switch(d&&d(e),e){case"LOADING":f.setStage("starting"),c({playState:"starting",isBuffering:!0,volume:i.volume,isMuted:i.muted,isPipAvailable:p.isPipAvailable()});break;case"LOADED":if(t.props.initialPlaybackProps){var r=t.props.initialPlaybackProps,n=r.isMuted,o=r.volume,s=r.bitrateFix,l=r.bitrateCap;u({isMuted:n,volume:o,bitrateFix:s,bitrateCap:l}),null!=o&&v()}f.setStage("started"),i.paused&&(c({playState:"paused",isPaused:!0,isBuffering:!1,isSeeking:!1}),g.start()),c(a.calculateNewState());break;case"PLAYING":c({playState:"playing",isBuffering:!1,isPaused:!1,isSeeking:!1}),g.stop();break;case"PAUSED":c({playState:"paused",isPaused:!0,isBuffering:!1,isSeeking:!1}),g.start();break;case"BUFFERING":case"RELOADING":c({playState:"buffering",isBuffering:!0});break;case"SEEKING":c({playState:"seeking",isBuffering:!0,isSeeking:!0});break;case"ENDED":case"STOPPED":c({playState:"inactive",isBuffering:!1,isSeeking:!1}),g.stop();break;default:d&&d("Unrecognised player state.")}},positionUpdate:function(){c(a.calculateNewState())},warning:function(e){var r=s(e,"WARNING");t.props.onPlaybackError&&t.props.onPlaybackError(r)},error:function(e){var r=s(e,"FATAL");t.props.onPlaybackError&&t.props.onPlaybackError(r),f.setStage("dead"),c({playState:"inactive",isBuffering:!1,isSeeking:!1}),g.stop()}};Object.entries(m).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];r.addEventListener(i,a)}));var v=h.onVolumeChange,y=h.onProgress;return{videoElementEventHandlers:{onVolumeChange:v,onProgress:y},pauseStreamRangeUpdater:g,setLifeCycleManager:function(e){f=e,p.setLifeCycleManager(e)},cleanup:function(){p.cleanup(),Object.entries(m).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];r.removeEventListener(i,a)}))}}};t.default=l},function(e,t,r){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(281),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(48))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,a={},o=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&c(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){c(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(c,0,e)},l.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return a[i]=o,n(i),i++},l.clearImmediate=u}function u(e){delete a[e]}function c(e){if(o)setTimeout(c,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{u(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r(48),r(94))},function(e,t,r){"use strict";var n;n=function(e){var t=e.byteLength,r=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var i=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");a.set(e.subarray(i,i+o)),r=new DataView(a.buffer).getUint32(0),n=8*o,t-=o},this.skipBits=function(e){var i;n>e?(r<<=e,n-=e):(e-=n,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),r<<=e,n-=e)},this.readBits=function(e){var i=Math.min(n,e),a=r>>>32-i;return(n-=i)>0?r<<=i:t>0&&this.loadWord(),(i=e-i)>0?a<<i|this.readBits(i):a},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!==(r&2147483648>>>e))return r<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=n},function(e,t,r){e.exports={generator:r(86),probe:r(284),Transmuxer:r(105).Transmuxer,AudioSegmentStream:r(105).AudioSegmentStream,VideoSegmentStream:r(105).VideoSegmentStream,CaptionParser:r(288)}},function(e,t,r){"use strict";var n,i,a,o,s,l,u=r(87).toUnsigned,c=r(87).toHexString,d=r(100),f=r(101),p=r(102),h=r(103),g=r(104);n=function(e){return d(e,["moov","trak"]).reduce((function(e,t){var r,n,i,a,o;return(r=d(t,["tkhd"])[0])?(n=r[0],a=u(r[i=0===n?12:20]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),(o=d(t,["mdia","mdhd"])[0])?(i=0===(n=o[0])?12:20,e[a]=u(o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3]),e):null):null}),{})},i=function(e,t){var r,n,i;return r=d(t,["moof","traf"]),n=[].concat.apply([],r.map((function(t){return d(t,["tfhd"]).map((function(r){var n,i,a;return n=u(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),i=e[n]||9e4,(a="number"!==typeof(a=d(t,["tfdt"]).map((function(e){var t,r;return t=e[0],r=u(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(r*=Math.pow(2,32),r+=u(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),r}))[0])||isNaN(a)?1/0:a)/i}))}))),i=Math.min.apply(null,n),isFinite(i)?i:0},a=function(e,t){var r,n=d(t,["moof","traf"]),i=0,a=0;if(n&&n.length){var o=d(n[0],["tfhd"])[0],s=d(n[0],["trun"])[0],l=d(n[0],["tfdt"])[0];if(o)r=p(o).trackId;if(l)i=g(l).baseMediaDecodeTime;if(s){var u=h(s);u.samples&&u.samples.length&&(a=u.samples[0].compositionTimeOffset||0)}}return(i+a)/(e[r]||9e4)},o=function(e){var t=d(e,["moov","trak"]),r=[];return t.forEach((function(e){var t=d(e,["mdia","hdlr"]),n=d(e,["tkhd"]);t.forEach((function(e,t){var i,a,o=f(e.subarray(8,12)),s=n[t];"vide"===o&&(a=0===(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),r.push(a))}))})),r},l=function(e){var t=0===e[0]?12:20;return u(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},s=function(e){var t=d(e,["moov","trak"]),r=[];return t.forEach((function(e){var t,n,i={},a=d(e,["tkhd"])[0];a&&(n=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),i.id=0===n?t.getUint32(12):t.getUint32(20));var o=d(e,["mdia","hdlr"])[0];if(o){var s=f(o.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var u=d(e,["mdia","minf","stbl","stsd"])[0];if(u){var p=u.subarray(8);i.codec=f(p.subarray(4,8));var h,g=d(p,[i.codec])[0];g&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(h=g.subarray(78),"avcC"===f(h.subarray(4,8))&&h.length>11?(i.codec+=".",i.codec+=c(h[9]),i.codec+=c(h[10]),i.codec+=c(h[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(h=g.subarray(28),"esds"===f(h.subarray(4,8))&&h.length>20&&0!==h[19]?(i.codec+="."+c(h[19]),i.codec+="."+c(h[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var m=d(e,["mdia","mdhd"])[0];m&&(i.timescale=l(m)),r.push(i)})),r},e.exports={findBox:d,parseType:f,timescale:n,startTime:i,compositionStartTime:a,videoTrackIds:o,tracks:s,getTimescaleFromMediaHeader:l}},function(e,t){e.exports=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}},function(e,t){var r,n=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(e){for(var t=[];e--;)t.push(0);return t};e.exports=function(){if(!r){var e={96e3:[n,[227,64],a(154),[56]],88200:[n,[231],a(170),[56]],64e3:[n,[248,192],a(240),[56]],48e3:[n,[255,192],a(268),[55,148,128],a(54),[112]],44100:[n,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[n,[255,192],a(268),[55,234],a(226),[112]],24e3:[n,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[n,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[i,a(268),[3,121,16],a(47),[7]]};t=e,r=Object.keys(t).reduce((function(e,r){return e[r]=new Uint8Array(t[r].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return r}},function(e,t,r){"use strict";var n,i=r(30),a=r(90),o=function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},s=function(e,t,r){return decodeURIComponent(o(e,t,r))},l=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},u={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,r;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(r=e.data,unescape(o(r,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(n=function(e){var t,r={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,o=[],s=0;if(n.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(t=0;t<r.descriptor.length;t++)this.dispatchType+=("00"+r.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,a,c,d;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))r.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(e),s+=e.data.byteLength,1===o.length&&(i=l(e.data.subarray(6,10)),i+=10),!(s<i)){for(t={data:new Uint8Array(i),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;d<i;)t.data.set(o[0].data.subarray(0,i-d),d),d+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();n=10,64&t.data[5]&&(n+=4,n+=l(t.data.subarray(10,14)),i-=l(t.data.subarray(16,20)));do{if((a=l(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((c={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+a+10)}).key=c.id,u[c.id]&&(u[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var f=c.data,p=(1&f[3])<<30|f[4]<<22|f[5]<<14|f[6]<<6|f[7]>>>2;p*=4,p+=3&f[7],c.timeStamp=p,void 0===t.pts&&void 0===t.dts&&(t.pts=c.timeStamp,t.dts=c.timeStamp),this.trigger("timestamp",c)}t.frames.push(c),n+=10,n+=a}while(n<i);this.trigger("data",t)}}}).prototype=new i,e.exports=n},function(e,t,r){"use strict";var n=r(170).discardEmulationPreventionBytes,i=r(169).CaptionStream,a=r(100),o=r(104),s=r(103),l=r(102),u=function(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(r<i.size)return i;r-=i.size}return null},c=function(e,t){var r=a(e,["moof","traf"]),i=a(e,["mdat"]),c={},d=[];return i.forEach((function(e,t){var n=r[t];d.push({mdat:e,traf:n})})),d.forEach((function(e){var r,i=e.mdat,d=e.traf,f=a(d,["tfhd"]),p=l(f[0]),h=p.trackId,g=a(d,["tfdt"]),m=g.length>0?o(g[0]).baseMediaDecodeTime:0,v=a(d,["trun"]);t===h&&v.length>0&&(r=function(e,t,r){var i,a,o,s,l=new DataView(e.buffer,e.byteOffset,e.byteLength),c=[];for(a=0;a+4<e.length;a+=o)if(o=l.getUint32(a),a+=4,!(o<=0))switch(31&e[a]){case 6:var d=e.subarray(a+1,a+1+o),f=u(a,t);if(i={nalUnitType:"sei_rbsp",size:o,data:d,escapedRBSP:n(d),trackId:r},f)i.pts=f.pts,i.dts=f.dts,s=f;else{if(!s){console.log("We've encountered a nal unit without data. See mux.js#233.");break}i.pts=s.pts,i.dts=s.dts}c.push(i)}return c}(i,function(e,t,r){var n=t,i=r.defaultSampleDuration||0,a=r.defaultSampleSize||0,o=r.trackId,l=[];return e.forEach((function(e){var t=s(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=a),e.trackId=o,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration})),l=l.concat(t)})),l}(v,m,p),h),c[h]||(c[h]=[]),c[h]=c[h].concat(r))})),c};e.exports=function(){var e,t,r,n,a,o,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new i,s=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,a.captions.push(e),a.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===typeof t&&0===Object.keys(t).length)&&(r!==e[0]||n!==t[r])},this.parse=function(e,i,o){var s;if(!this.isInitialized())return null;if(!i||!o)return null;if(this.isNewInit(i,o))r=i[0],n=o[r];else if(null===r||!n)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,i,o)}return null!==(s=function(e,t,r){return null===t?null:{seiNals:c(e,t)[t],timescale:r}}(e,r,n))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),a):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],r=null,n=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(e,t,r){e.exports={tag:r(106),Transmuxer:r(290),getFlvHeader:r(293)}},function(e,t,r){"use strict";var n,i,a,o,s,l,u=r(30),c=r(106),d=r(89),f=r(85),p=r(99).H264Stream,h=r(291),g=r(292);o=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var r=new c(c.METADATA_TAG);return r.dts=t,r.pts=t,r.writeMetaDataDouble("videocodecid",7),r.writeMetaDataDouble("width",e.width),r.writeMetaDataDouble("height",e.height),r},l=function(e,t){var r,n=new c(c.VIDEO_TAG,!0);for(n.dts=t,n.pts=t,n.writeByte(1),n.writeByte(e.profileIdc),n.writeByte(e.profileCompatibility),n.writeByte(e.levelIdc),n.writeByte(255),n.writeByte(225),n.writeShort(e.sps[0].length),n.writeBytes(e.sps[0]),n.writeByte(e.pps.length),r=0;r<e.pps.length;++r)n.writeShort(e.pps[r].length),n.writeBytes(e.pps[r]);return n},(a=function(e){var t,r=[],n=[];a.prototype.init.call(this),this.push=function(t){o(e,t),e&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),r.push(t)},this.flush=function(){var i,a,o,s=new g;if(0!==r.length){for(o=-1/0;r.length;)i=r.shift(),n.length&&i.pts>=n[0]&&(o=n.shift(),this.writeMetaDataTags(s,o)),(e.extraData!==t||i.pts-o>=1e3)&&(this.writeMetaDataTags(s,i.pts),t=e.extraData,o=i.pts),(a=new c(c.AUDIO_TAG)).pts=i.pts,a.dts=i.dts,a.writeBytes(i.data),s.push(a.finalize());n.length=0,t=null,this.trigger("data",{track:e,tags:s.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(t,r){var n;(n=new c(c.METADATA_TAG)).pts=r,n.dts=r,n.writeMetaDataDouble("audiocodecid",10),n.writeMetaDataBoolean("stereo",2===e.channelcount),n.writeMetaDataDouble("audiosamplerate",e.samplerate),n.writeMetaDataDouble("audiosamplesize",16),t.push(n.finalize()),(n=new c(c.AUDIO_TAG,!0)).pts=r,n.dts=r,n.view.setUint16(n.position,e.extraData),n.position+=2,n.length=Math.max(n.length,n.position),t.push(n.finalize())},this.onVideoKeyFrame=function(e){n.push(e)}}).prototype=new u,(i=function(e){var t,r,n=[];i.prototype.init.call(this),this.finishFrame=function(n,i){if(i){if(t&&e&&e.newMetadata&&(i.keyFrame||0===n.length)){var a=s(t,i.dts).finalize(),o=l(e,i.dts).finalize();a.metaDataTag=o.metaDataTag=!0,n.push(a),n.push(o),e.newMetadata=!1,this.trigger("keyframe",i.dts)}i.endNalUnit(),n.push(i.finalize()),r=null}},this.push=function(t){o(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){for(var i,a=new g;n.length&&"access_unit_delimiter_rbsp"!==n[0].nalUnitType;)n.shift();if(0!==n.length){for(;n.length;)"seq_parameter_set_rbsp"===(i=n.shift()).nalUnitType?(e.newMetadata=!0,t=i.config,e.width=t.width,e.height=t.height,e.sps=[i.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,r.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,e.pps=[i.data],r.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(r&&this.finishFrame(a,r),(r=new c(c.VIDEO_TAG)).pts=i.pts,r.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(r.keyFrame=!0),r.endNalUnit()),r.startNalUnit(),r.writeBytes(i.data);r&&this.finishFrame(a,r),this.trigger("data",{track:e,tags:a.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new u,(n=function(e){var t,r,o,s,l,u,c,g,m,v,y,b,k=this;n.prototype.init.call(this),e=e||{},this.metadataStream=new d.MetadataStream,e.metadataStream=this.metadataStream,t=new d.TransportPacketStream,r=new d.TransportParseStream,o=new d.ElementaryStream,s=new d.TimestampRolloverStream("video"),l=new d.TimestampRolloverStream("audio"),u=new d.TimestampRolloverStream("timed-metadata"),c=new f,g=new p,b=new h(e),t.pipe(r).pipe(o),o.pipe(s).pipe(g),o.pipe(l).pipe(c),o.pipe(u).pipe(this.metadataStream).pipe(b),y=new d.CaptionStream,g.pipe(y).pipe(b),o.on("data",(function(e){var t,r,n;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?r=e.tracks[t]:"audio"===e.tracks[t].type&&(n=e.tracks[t]);r&&!m&&(b.numberOfTracks++,m=new i(r),g.pipe(m).pipe(b)),n&&!v&&(b.numberOfTracks++,v=new a(n),c.pipe(v).pipe(b),m&&m.on("keyframe",v.onVideoKeyFrame))}})),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){y.reset()},b.on("data",(function(e){k.trigger("data",e)})),b.on("done",(function(){k.trigger("done")}))}).prototype=new u,e.exports=n},function(e,t,r){"use strict";var n=r(30),i=function e(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,e.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};(i.prototype=new n).flush=function(e){var t,r,n,i,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)(r=this.pendingCaptions[n]).startTime=r.startPts-i,r.startTime/=9e4,r.endTime=r.endPts-i,r.endTime/=9e4,a.captionStreams[r.stream]=!0,a.captions.push(r);for(n=0;n<this.pendingMetadata.length;n++)(t=this.pendingMetadata[n]).cueTime=t.pts-i,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},e.exports=i},function(e,t,r){"use strict";e.exports=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})}},function(e,t,r){"use strict";var n=r(106);e.exports=function(e,t,r){var i,a,o,s=new Uint8Array(9),l=new DataView(s.buffer);return e=e||0,t=void 0===t||t,r=void 0===r||r,l.setUint8(0,70),l.setUint8(1,76),l.setUint8(2,86),l.setUint8(3,1),l.setUint8(4,(t?4:0)|(r?1:0)),l.setUint32(5,s.byteLength),e<=0?((a=new Uint8Array(s.byteLength+4)).set(s),a.set([0,0,0,0],s.byteLength),a):((i=new n(n.METADATA_TAG)).pts=i.dts=0,i.writeMetaDataDouble("duration",e),o=i.finalize().length,(a=new Uint8Array(s.byteLength+o)).set(s),a.set(l.byteLength,o),a)}},function(e,t,r){e.exports=r(89)},function(e,t,r){e.exports={Transmuxer:r(296)}},function(e,t,r){var n=r(30),i=r(89),a=r(166),o=r(297),s=r(298),l=r(88),u=r(91).isLikelyAacData,c=r(85),d=r(172),f=r(51),p=function(e){return e.prototype=new n,e.prototype.init.call(e),e},h=function(e,t){e.on("data",t.trigger.bind(t,"data")),e.on("done",t.trigger.bind(t,"done")),e.on("partialdone",t.trigger.bind(t,"partialdone")),e.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),e.on("audioTimingInfo",t.trigger.bind(t,"audioTimingInfo")),e.on("videoTimingInfo",t.trigger.bind(t,"videoTimingInfo")),e.on("trackinfo",t.trigger.bind(t,"trackinfo")),e.on("id3Frame",(function(r){r.dispatchType=e.metadataStream.dispatchType,r.cueTime=f.videoTsToSeconds(r.pts),t.trigger("id3Frame",r)})),e.on("caption",(function(e){t.trigger("caption",e)}))},g=function e(t){var r=null,n=!0;t=t||{},e.prototype.init.call(this),t.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.push=function(e){if(n){var l=u(e);!l||r&&"aac"===r.type?l||r&&"ts"===r.type||(r=function(e){var t={type:"ts",tracks:{audio:null,video:null},packet:new i.TransportPacketStream,parse:new i.TransportParseStream,elementary:new i.ElementaryStream,timestampRollover:new i.TimestampRolloverStream,adts:new a.Adts,h264:new a.h264.H264Stream,captionStream:new i.CaptionStream,metadataStream:new i.MetadataStream};return t.headOfPipeline=t.packet,t.packet.pipe(t.parse).pipe(t.elementary).pipe(t.timestampRollover),t.timestampRollover.pipe(t.h264),t.h264.pipe(t.captionStream),t.timestampRollover.pipe(t.metadataStream),t.timestampRollover.pipe(t.adts),t.elementary.on("data",(function(r){if("metadata"===r.type){for(var n=0;n<r.tracks.length;n++)t.tracks[r.tracks[n].type]||(t.tracks[r.tracks[n].type]=r.tracks[n],t.tracks[r.tracks[n].type].timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime);t.tracks.video&&!t.videoSegmentStream&&(t.videoSegmentStream=new s(t.tracks.video,e),t.videoSegmentStream.on("timelineStartInfo",(function(r){t.tracks.audio&&!e.keepOriginalTimestamps&&t.audioSegmentStream.setEarliestDts(r.dts-e.baseMediaDecodeTime)})),t.videoSegmentStream.on("timingInfo",t.trigger.bind(t,"videoTimingInfo")),t.videoSegmentStream.on("data",(function(e){t.trigger("data",{type:"video",data:e})})),t.videoSegmentStream.on("done",t.trigger.bind(t,"done")),t.videoSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.videoSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.h264.pipe(t.videoSegmentStream)),t.tracks.audio&&!t.audioSegmentStream&&(t.audioSegmentStream=new o(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adts.pipe(t.audioSegmentStream)),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video})}})),t.captionStream.on("data",(function(r){var n;n=t.tracks.video&&t.tracks.video.timelineStartInfo.pts||0,r.startTime=f.metadataTsToSeconds(r.startPts,n,e.keepOriginalTimestamps),r.endTime=f.metadataTsToSeconds(r.endPts,n,e.keepOriginalTimestamps),t.trigger("caption",r)})),(t=p(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),h(r,this)):(r=function(e){var t={type:"aac",tracks:{audio:null},metadataStream:new i.MetadataStream,aacStream:new d,audioRollover:new i.TimestampRolloverStream("audio"),timedMetadataRollover:new i.TimestampRolloverStream("timed-metadata"),adtsStream:new c(!0)};return t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioRollover).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataRollover).pipe(t.metadataStream),t.metadataStream.on("timestamp",(function(e){t.aacStream.setTimestamp(e.timeStamp)})),t.aacStream.on("data",(function(r){"timed-metadata"!==r.type&&"audio"!==r.type||t.audioSegmentStream||(t.tracks.audio=t.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:e.baseMediaDecodeTime},codec:"adts",type:"audio"},t.audioSegmentStream=new o(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video}))})),(t=p(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),h(r,this)),n=!1}r.headOfPipeline.push(e)},this.flush=function(){r&&(n=!0,r.headOfPipeline.flush())},this.partialFlush=function(){r&&r.headOfPipeline.partialFlush()},this.endTimeline=function(){r&&r.headOfPipeline.endTimeline()},this.reset=function(){r&&r.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(e){t.keepOriginalTimestamps||(t.baseMediaDecodeTime=e),r&&(r.tracks.audio&&(r.tracks.audio.timelineStartInfo.dts=void 0,r.tracks.audio.timelineStartInfo.pts=void 0,l.clearDtsInfo(r.tracks.audio),r.audioRollover&&r.audioRollover.discontinuity()),r.tracks.video&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),r.tracks.video.timelineStartInfo.dts=void 0,r.tracks.video.timelineStartInfo.pts=void 0,l.clearDtsInfo(r.tracks.video)),r.timestampRollover&&r.timestampRollover.discontinuity())},this.setRemux=function(e){t.remux=e,r&&r.coalesceStream&&r.coalesceStream.setRemux(e)},this.setAudioAppendStart=function(e){r&&r.tracks.audio&&r.audioSegmentStream&&r.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){}};g.prototype=new n,e.exports=g},function(e,t,r){"use strict";var n=r(30),i=r(86),a=r(168),o=r(88),s=r(51).ONE_SECOND_IN_TS,l=r(173),u=function e(t,r){var n=[],u=0,c=0,d=0,f=1/0,p=null,h=null;r=r||{},e.prototype.init.call(this),this.push=function(e){o.collectDtsInfo(t,e),t&&l.forEach((function(r){t[r]=e[r]})),n.push(e)},this.setEarliestDts=function(e){c=e},this.setVideoBaseMediaDecodeTime=function(e){f=e},this.setAudioAppendStart=function(e){d=e},this.processFrames_=function(){var e,l,g,m,v;0!==n.length&&0!==(e=a.trimAdtsFramesByEarliestDts(n,t,c)).length&&(t.baseMediaDecodeTime=o.calculateTrackBaseMediaDecodeTime(t,r.keepOriginalTimestamps),a.prefixWithSilence(t,e,d,f),t.samples=a.generateSampleTable(e),g=i.mdat(a.concatenateFrameData(e)),n=[],l=i.moof(u,[t]),u++,t.initSegment=i.initSegment([t]),(m=new Uint8Array(l.byteLength+g.byteLength)).set(l),m.set(g,l.byteLength),o.clearDtsInfo(t),null===p&&(h=p=e[0].pts),h+=e.length*(1024*s/t.samplerate),v={start:p},this.trigger("timingInfo",v),this.trigger("data",{track:t,boxes:m}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:p,end:h}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){o.clearDtsInfo(t),p=null,h=null},this.reset=function(){this.resetTiming_(),n=[],this.trigger("reset")}};u.prototype=new n,e.exports=u},function(e,t,r){"use strict";var n=r(30),i=r(86),a=r(88),o=r(167),s=r(174),l=function e(t,r){var n,l,u,c=0,d=[],f=[],p=null,h=null,g=!0;r=r||{},e.prototype.init.call(this),this.push=function(e){a.collectDtsInfo(t,e),"undefined"===typeof t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],s.forEach((function(e){t[e]=n[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||l||(l=e.data,t.pps=[e.data]),d.push(e)},this.processNals_=function(e){var n;for(d=f.concat(d);d.length&&"access_unit_delimiter_rbsp"!==d[0].nalUnitType;)d.shift();if(0!==d.length){var s=o.groupNalsIntoFrames(d);if(s.length)if(f=s[s.length-1],e&&(s.pop(),s.duration-=f.duration,s.nalCount-=f.length,s.byteLength-=f.byteLength),s.length){if(this.trigger("timelineStartInfo",t.timelineStartInfo),g){if(!(u=o.groupFramesIntoGops(s))[0][0].keyFrame){if(!(u=o.extendFirstKeyFrame(u))[0][0].keyFrame)return d=[].concat.apply([],s).concat(f),void(f=[]);(s=[].concat.apply([],u)).duration=u.duration}g=!1}for(null===p&&(p=s[0].pts,h=p),h+=s.duration,this.trigger("timingInfo",{start:p,end:h}),n=0;n<s.length;n++){var l=s[n];t.samples=o.generateSampleTableForFrame(l);var m=i.mdat(o.concatenateNalDataForFrame(l));a.clearDtsInfo(t),a.collectDtsInfo(t,l),t.baseMediaDecodeTime=a.calculateTrackBaseMediaDecodeTime(t,r.keepOriginalTimestamps);var v=i.moof(c,[t]);c++,t.initSegment=i.initSegment([t]);var y=new Uint8Array(v.byteLength+m.byteLength);y.set(v),y.set(m,v.byteLength),this.trigger("data",{track:t,boxes:y,sequence:c,videoFrameDts:l.dts,videoFramePts:l.pts})}d=[]}else d=[]}},this.resetTimingAndConfig_=function(){n=void 0,l=void 0,p=null,h=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),f=[],d=[],g=!0,this.trigger("reset")}};l.prototype=new n,e.exports=l},function(e,t,r){"use strict";var n,i,a=function(e){return new Date(1e3*e-20828448e5)},o=r(101),s=r(100),l=function(e){var t,r,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[];for(t=0;t+4<e.length;t+=r)if(r=n.getUint32(t),t+=4,r<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[t]&31)}return i},u={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:n(e.subarray(78,e.byteLength))}},avcC:function(e){var t,r,n,i,a=new DataView(e.buffer,e.byteOffset,e.byteLength),o={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(n=6,i=0;i<s;i++)r=a.getUint16(n),n+=2,o.sps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;for(t=e[n],n++,i=0;i<t;i++)r=a.getUint16(n),n+=2,o.pps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;return o},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={majorBrand:o(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)r.compatibleBrands.push(o(e.subarray(n,n+4))),n+=4;return r},dinf:function(e){return{boxes:n(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:n(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:o(e.subarray(8,12)),name:""},r=8;for(r=24;r<e.byteLength;r++){if(0===e[r]){r++;break}t.name+=String.fromCharCode(e[r])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:l(e)}},mdhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:r.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===i.version?(n+=4,i.creationTime=a(r.getUint32(n)),n+=8,i.modificationTime=a(r.getUint32(n)),n+=4,i.timescale=r.getUint32(n),n+=8,i.duration=r.getUint32(n)):(i.creationTime=a(r.getUint32(n)),n+=4,i.modificationTime=a(r.getUint32(n)),n+=4,i.timescale=r.getUint32(n),n+=4,i.duration=r.getUint32(n)),n+=4,t=r.getUint16(n),i.language+=String.fromCharCode(96+(t>>10)),i.language+=String.fromCharCode(96+((992&t)>>5)),i.language+=String.fromCharCode(96+(31&t)),i},mdia:function(e){return{boxes:n(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:n(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(r.streamDescriptor=n(e.subarray(28))[0]),r},moof:function(e){return{boxes:n(e)}},moov:function(e){return{boxes:n(e)}},mvex:function(e){return{boxes:n(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=a(t.getUint32(r)),r+=8,n.modificationTime=a(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=8,n.duration=t.getUint32(r)):(n.creationTime=a(t.getUint32(r)),r+=4,n.modificationTime=a(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=4,n.duration=t.getUint32(r)),r+=4,n.rate=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,r+=8,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,r+=24,n.nextTrackId=t.getUint32(r),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)r.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return r},sidx:r(300),smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:n(e)}},stco:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=r.getUint32(4);for(t=8;i;t+=4,i--)n.chunkOffsets.push(r.getUint32(t));return n},stsc:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=r.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)i.sampleToChunks.push({firstChunk:r.getUint32(t),samplesPerChunk:r.getUint32(t+4),sampleDescriptionIndex:r.getUint32(t+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:n(e.subarray(8))}},stsz:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:r.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(r.getUint32(t));return n},stts:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=r.getUint32(4);for(t=8;i;t+=8,i--)n.timeToSamples.push({sampleCount:r.getUint32(t),sampleDelta:r.getUint32(t+4)});return n},styp:function(e){return u.ftyp(e)},tfdt:r(104),tfhd:r(102),tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=a(t.getUint32(r)),r+=8,n.modificationTime=a(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=8,n.duration=t.getUint32(r)):(n.creationTime=a(t.getUint32(r)),r+=4,n.modificationTime=a(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=4,n.duration=t.getUint32(r)),r+=4,r+=8,n.layer=t.getUint16(r),r+=2,n.alternateGroup=t.getUint16(r),r+=2,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,n.width=t.getUint16(r)+t.getUint16(r+2)/65536,r+=4,n.height=t.getUint16(r)+t.getUint16(r+2)/65536,n},traf:function(e){return{boxes:n(e)}},trak:function(e){return{boxes:n(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:r(103),"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};n=function(e){for(var t,r,n,i,a,s=0,l=[],c=new ArrayBuffer(e.length),d=new Uint8Array(c),f=0;f<e.length;++f)d[f]=e[f];for(t=new DataView(c);s<e.byteLength;)r=t.getUint32(s),n=o(e.subarray(s+4,s+8)),i=r>1?s+r:e.byteLength,(a=(u[n]||function(e){return{data:e}})(e.subarray(s+8,i))).size=r,a.type=n,l.push(a),s=i;return l},i=function(e,t){var r;return t=t||0,r=new Array(2*t+1).join(" "),e.map((function(e,n){return r+e.type+"\n"+Object.keys(e).filter((function(e){return"type"!==e&&"boxes"!==e})).map((function(t){var n=r+"  "+t+": ",i=e[t];if(i instanceof Uint8Array||i instanceof Uint32Array){var a=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map((function(e){return" "+("00"+e.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return a?1===a.length?n+"<"+a.join("").slice(1)+">":n+"<\n"+a.map((function(e){return r+"  "+e})).join("\n")+"\n"+r+"  >":n+"<>"}return n+JSON.stringify(i,null,2).split("\n").map((function(e,t){return 0===t?e:r+"  "+e})).join("\n")})).join("\n")+(e.boxes?"\n"+i(e.boxes,t+1):"")})).join("\n")},e.exports={inspect:n,textify:i,parseType:o,findBox:s,parseTraf:u.traf,parseTfdt:u.tfdt,parseHdlr:u.hdlr,parseTfhd:u.tfhd,parseTrun:u.trun,parseSidx:u.sidx}},function(e,t){var r=Math.pow(2,32);e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=t.getUint32(i),n.firstOffset=t.getUint32(i+4),i+=8):(n.earliestPresentationTime=t.getUint32(i)*r+t.getUint32(i+4),n.firstOffset=t.getUint32(i+8)*r+t.getUint32(i+12),i+=16),i+=2;var a=t.getUint16(i);for(i+=2;a>0;i+=12,a--)n.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return n}},function(e,t,r){"use strict";var n={8:"audio",9:"video",18:"metadata"},i=function(e){for(var t,r=[];e.byteLength>0;)t=0,r.push("0x"+("00"+e[t++].toString(16)).slice(-2).toUpperCase()),e=e.subarray(1);return r.join(" ")},a=function(e,t){var r=e[0]&parseInt("00001111",2);return(t=t||{}).frameType=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"][(e[0]&parseInt("11110000",2))>>>4],t.codecID=r,7===r?function(e,t){var r=e[1]&parseInt("01111111",2)<<16|e[2]<<8|e[3];return(t=t||{}).avcPacketType=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"][e[0]],t.CompositionTime=e[1]&parseInt("10000000",2)?-r:r,1===e[0]?t.nalUnitTypeRaw=i(e.subarray(4,100)):t.data=i(e.subarray(4)),t}(e.subarray(1),t):t},o=function(e,t){var r=(e[0]&parseInt("11110000",2))>>>4;return(t=t||{}).soundFormat=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"][r],t.soundRate=["5.5-kHz","11-kHz","22-kHz","44-kHz"][(e[0]&parseInt("00001100",2))>>>2],t.soundSize=(e[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",t.soundType=e[0]&parseInt("00000001",2)?"Stereo":"Mono",10===r?function(e,t){return(t=t||{}).aacPacketType=["AAC Sequence Header","AAC Raw"][e[0]],t.data=i(e.subarray(1)),t}(e.subarray(1),t):t},s=function(e){var t=function(e){return{tagType:n[e[0]],dataSize:e[1]<<16|e[2]<<8|e[3],timestamp:e[7]<<24|e[4]<<16|e[5]<<8|e[6],streamID:e[8]<<16|e[9]<<8|e[10]}}(e);switch(e[0]){case 8:o(e.subarray(11),t);break;case 9:a(e.subarray(11),t)}return t};e.exports={inspectTag:s,inspect:function(e){var t,r,n=9,i=[];for(n+=4;n<e.byteLength;)t=e[n+1]<<16,t|=e[n+2]<<8,t|=e[n+3],t+=11,r=e.subarray(n,n+t),i.push(s(r)),n+=t+4;return i},textify:function(e){return JSON.stringify(e,null,2)}}},function(e,t,r){"use strict";var n=r(90),i=r(171).handleRollover,a={};a.ts=r(303),a.aac=r(91);var o=r(51).ONE_SECOND_IN_TS,s=function(e,t,r){for(var n,i,o,s,l=0,u=188,c=!1;u<=e.byteLength;)if(71!==e[l]||71!==e[u]&&u!==e.byteLength)l++,u++;else{switch(n=e.subarray(l,u),a.ts.parseType(n,t.pid)){case"pes":i=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"audio"===i&&o&&(s=a.ts.parsePesTime(n))&&(s.type="audio",r.audio.push(s),c=!0)}if(c)break;l+=188,u+=188}for(l=(u=e.byteLength)-188,c=!1;l>=0;)if(71!==e[l]||71!==e[u]&&u!==e.byteLength)l--,u--;else{switch(n=e.subarray(l,u),a.ts.parseType(n,t.pid)){case"pes":i=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"audio"===i&&o&&(s=a.ts.parsePesTime(n))&&(s.type="audio",r.audio.push(s),c=!0)}if(c)break;l-=188,u-=188}},l=function(e,t,r){for(var n,i,o,s,l,u,c,d=0,f=188,p=!1,h={data:[],size:0};f<e.byteLength;)if(71!==e[d]||71!==e[f])d++,f++;else{switch(n=e.subarray(d,f),a.ts.parseType(n,t.pid)){case"pes":if(i=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"video"===i&&(o&&!p&&(s=a.ts.parsePesTime(n))&&(s.type="video",r.video.push(s),p=!0),!r.firstKeyFrame)){if(o&&0!==h.size){for(l=new Uint8Array(h.size),u=0;h.data.length;)c=h.data.shift(),l.set(c,u),u+=c.byteLength;if(a.ts.videoPacketContainsKeyFrame(l)){var g=a.ts.parsePesTime(l);g?(r.firstKeyFrame=g,r.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}h.size=0}h.data.push(n),h.size+=n.byteLength}}if(p&&r.firstKeyFrame)break;d+=188,f+=188}for(d=(f=e.byteLength)-188,p=!1;d>=0;)if(71!==e[d]||71!==e[f])d--,f--;else{switch(n=e.subarray(d,f),a.ts.parseType(n,t.pid)){case"pes":i=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"video"===i&&o&&(s=a.ts.parsePesTime(n))&&(s.type="video",r.video.push(s),p=!0)}if(p)break;d-=188,f-=188}},u=function(e){var t={pid:null,table:null},r={};for(var i in function(e,t){for(var r,n=0,i=188;i<e.byteLength;)if(71!==e[n]||71!==e[i])n++,i++;else{switch(r=e.subarray(n,i),a.ts.parseType(r,t.pid)){case"pat":t.pid||(t.pid=a.ts.parsePat(r));break;case"pmt":t.table||(t.table=a.ts.parsePmt(r))}if(t.pid&&t.table)return;n+=188,i+=188}}(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case n.H264_STREAM_TYPE:r.video=[],l(e,t,r),0===r.video.length&&delete r.video;break;case n.ADTS_STREAM_TYPE:r.audio=[],s(e,t,r),0===r.audio.length&&delete r.audio}}return r};e.exports={inspect:function(e,t){var r;return(r=a.aac.isLikelyAacData(e)?function(e){for(var t,r=!1,n=0,i=null,s=null,l=0,u=0;e.length-u>=3;){switch(a.aac.parseType(e,u)){case"timed-metadata":if(e.length-u<10){r=!0;break}if((l=a.aac.parseId3TagSize(e,u))>e.length){r=!0;break}null===s&&(t=e.subarray(u,u+l),s=a.aac.parseAacTimestamp(t)),u+=l;break;case"audio":if(e.length-u<7){r=!0;break}if((l=a.aac.parseAdtsSize(e,u))>e.length){r=!0;break}null===i&&(t=e.subarray(u,u+l),i=a.aac.parseSampleRate(t)),n++,u+=l;break;default:u++}if(r)return null}if(null===i||null===s)return null;var c=o/i;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*n*c,pts:s+1024*n*c}]}}(e):u(e))&&(r.audio||r.video)?(function(e,t){if(e.audio&&e.audio.length){var r=t;"undefined"===typeof r&&(r=e.audio[0].dts),e.audio.forEach((function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o}))}if(e.video&&e.video.length){var n=t;if("undefined"===typeof n&&(n=e.video[0].dts),e.video.forEach((function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o})),e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=i(a.dts,n),a.pts=i(a.pts,n),a.dtsTime=a.dts/o,a.ptsTime=a.dts/o}}}(r,t),r):null},parseAudioPes_:s}},function(e,t,r){"use strict";var n=r(90),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},a=function(e){return!!(64&e[1])},o=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var r=i(e);return 0===r?"pat":r===t?"pmt":t?"pes":null},parsePat:function(e){var t=a(e),r=4+o(e);return t&&(r+=e[r]+1),(31&e[r+10])<<8|e[r+11]},parsePmt:function(e){var t={},r=a(e),n=4+o(e);if(r&&(n+=e[n]+1),1&e[n+5]){var i;i=3+((15&e[n+1])<<8|e[n+2])-4;for(var s=12+((15&e[n+10])<<8|e[n+11]);s<i;){var l=n+s;t[(31&e[l+1])<<8|e[l+2]]=e[l],s+=5+((15&e[l+3])<<8|e[l+4])}return t}},parsePayloadUnitStartIndicator:a,parsePesType:function(e,t){switch(t[i(e)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!a(e))return null;var t=4+o(e);if(t>=e.byteLength)return null;var r,n=null;return 192&(r=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&r&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+o(e),r=e.subarray(t),n=0,i=0,a=!1;i<r.byteLength-3;i++)if(1===r[i+2]){n=i+5;break}for(;n<r.byteLength;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}i+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&r[i+3])&&(a=!0);do{n++}while(1!==r[n]&&n<r.length);i=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&r[i+3])&&(a=!0),i=n-2,n+=3;break;default:n+=3}return r=r.subarray(i),n-=i,i=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&r[i+3])&&(a=!0),a}}},function(e,t,r){},,function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(r,n){r(t.getItem(e))}))},setItem:function(e,r){return new Promise((function(n,i){n(t.setItem(e,r))}))},removeItem:function(e){return new Promise((function(r,n){r(t.removeItem(e))}))}}};var n,i=(n=r(307))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:a};var a={getItem:i,setItem:i,removeItem:i}},function(e,t,r){"use strict";r.r(t),r.d(t,"Activity",(function(){return c})),r.d(t,"Airplay",(function(){return h})),r.d(t,"AlertCircle",(function(){return y})),r.d(t,"AlertOctagon",(function(){return _})),r.d(t,"AlertTriangle",(function(){return x})),r.d(t,"AlignCenter",(function(){return A})),r.d(t,"AlignJustify",(function(){return D})),r.d(t,"AlignLeft",(function(){return U})),r.d(t,"AlignRight",(function(){return V})),r.d(t,"Anchor",(function(){return K})),r.d(t,"Aperture",(function(){return X})),r.d(t,"Archive",(function(){return ee})),r.d(t,"ArrowDownCircle",(function(){return ie})),r.d(t,"ArrowDownLeft",(function(){return le})),r.d(t,"ArrowDownRight",(function(){return fe})),r.d(t,"ArrowDown",(function(){return me})),r.d(t,"ArrowLeftCircle",(function(){return ke})),r.d(t,"ArrowLeft",(function(){return Te})),r.d(t,"ArrowRightCircle",(function(){return Pe})),r.d(t,"ArrowRight",(function(){return Ie})),r.d(t,"ArrowUpCircle",(function(){return je})),r.d(t,"ArrowUpLeft",(function(){return Fe})),r.d(t,"ArrowUpRight",(function(){return $e})),r.d(t,"ArrowUp",(function(){return Ze})),r.d(t,"AtSign",(function(){return Qe})),r.d(t,"Award",(function(){return rt})),r.d(t,"BarChart2",(function(){return ot})),r.d(t,"BarChart",(function(){return ct})),r.d(t,"BatteryCharging",(function(){return ht})),r.d(t,"Battery",(function(){return yt})),r.d(t,"BellOff",(function(){return _t})),r.d(t,"Bell",(function(){return xt})),r.d(t,"Bluetooth",(function(){return At})),r.d(t,"Bold",(function(){return Dt})),r.d(t,"BookOpen",(function(){return Ut})),r.d(t,"Book",(function(){return Vt})),r.d(t,"Bookmark",(function(){return Kt})),r.d(t,"Box",(function(){return Xt})),r.d(t,"Briefcase",(function(){return er})),r.d(t,"Calendar",(function(){return ir})),r.d(t,"CameraOff",(function(){return lr})),r.d(t,"Camera",(function(){return fr})),r.d(t,"Cast",(function(){return mr})),r.d(t,"CheckCircle",(function(){return kr})),r.d(t,"CheckSquare",(function(){return Tr})),r.d(t,"Check",(function(){return Pr})),r.d(t,"ChevronDown",(function(){return Ir})),r.d(t,"ChevronLeft",(function(){return jr})),r.d(t,"ChevronRight",(function(){return Fr})),r.d(t,"ChevronUp",(function(){return $r})),r.d(t,"ChevronsDown",(function(){return Zr})),r.d(t,"ChevronsLeft",(function(){return Qr})),r.d(t,"ChevronsRight",(function(){return rn})),r.d(t,"ChevronsUp",(function(){return sn})),r.d(t,"Chrome",(function(){return dn})),r.d(t,"Circle",(function(){return gn})),r.d(t,"Clipboard",(function(){return bn})),r.d(t,"Clock",(function(){return Sn})),r.d(t,"CloudDrizzle",(function(){return On})),r.d(t,"CloudLightning",(function(){return Mn})),r.d(t,"CloudOff",(function(){return Ln})),r.d(t,"CloudRain",(function(){return Bn})),r.d(t,"CloudSnow",(function(){return Wn})),r.d(t,"Cloud",(function(){return Gn})),r.d(t,"Code",(function(){return Yn})),r.d(t,"Codepen",(function(){return ti})),r.d(t,"Codesandbox",(function(){return ai})),r.d(t,"Coffee",(function(){return ui})),r.d(t,"Columns",(function(){return pi})),r.d(t,"Command",(function(){return vi})),r.d(t,"Compass",(function(){return Ei})),r.d(t,"Copy",(function(){return wi})),r.d(t,"CornerDownLeft",(function(){return Ci})),r.d(t,"CornerDownRight",(function(){return Ri})),r.d(t,"CornerLeftDown",(function(){return Ni})),r.d(t,"CornerLeftUp",(function(){return zi})),r.d(t,"CornerRightDown",(function(){return Hi})),r.d(t,"CornerRightUp",(function(){return qi})),r.d(t,"CornerUpLeft",(function(){return Ji})),r.d(t,"CornerUpRight",(function(){return na})),r.d(t,"Cpu",(function(){return sa})),r.d(t,"CreditCard",(function(){return da})),r.d(t,"Crop",(function(){return ga})),r.d(t,"Crosshair",(function(){return ba})),r.d(t,"Database",(function(){return Sa})),r.d(t,"Delete",(function(){return Oa})),r.d(t,"Disc",(function(){return Ma})),r.d(t,"DivideCircle",(function(){return La})),r.d(t,"DivideSquare",(function(){return Ba})),r.d(t,"Divide",(function(){return Wa})),r.d(t,"DollarSign",(function(){return Ga})),r.d(t,"DownloadCloud",(function(){return Ya})),r.d(t,"Download",(function(){return to})),r.d(t,"Dribbble",(function(){return ao})),r.d(t,"Droplet",(function(){return uo})),r.d(t,"Edit2",(function(){return ho})),r.d(t,"Edit3",(function(){return yo})),r.d(t,"Edit",(function(){return _o})),r.d(t,"ExternalLink",(function(){return xo})),r.d(t,"EyeOff",(function(){return Ao})),r.d(t,"Eye",(function(){return Do})),r.d(t,"Facebook",(function(){return Uo})),r.d(t,"FastForward",(function(){return Vo})),r.d(t,"Feather",(function(){return Ko})),r.d(t,"Figma",(function(){return Xo})),r.d(t,"FileMinus",(function(){return es})),r.d(t,"FilePlus",(function(){return is})),r.d(t,"FileText",(function(){return ls})),r.d(t,"File",(function(){return fs})),r.d(t,"Film",(function(){return ms})),r.d(t,"Filter",(function(){return ks})),r.d(t,"Flag",(function(){return Ts})),r.d(t,"FolderMinus",(function(){return Ps})),r.d(t,"FolderPlus",(function(){return Is})),r.d(t,"Folder",(function(){return js})),r.d(t,"Framer",(function(){return Fs})),r.d(t,"Frown",(function(){return $s})),r.d(t,"Gift",(function(){return Zs})),r.d(t,"GitBranch",(function(){return Qs})),r.d(t,"GitCommit",(function(){return rl})),r.d(t,"GitMerge",(function(){return ol})),r.d(t,"GitPullRequest",(function(){return cl})),r.d(t,"GitHub",(function(){return hl})),r.d(t,"Gitlab",(function(){return yl})),r.d(t,"Globe",(function(){return _l})),r.d(t,"Grid",(function(){return xl})),r.d(t,"HardDrive",(function(){return Al})),r.d(t,"Hash",(function(){return Dl})),r.d(t,"Headphones",(function(){return Ul})),r.d(t,"Heart",(function(){return Vl})),r.d(t,"HelpCircle",(function(){return Kl})),r.d(t,"Hexagon",(function(){return Xl})),r.d(t,"Home",(function(){return eu})),r.d(t,"Image",(function(){return iu})),r.d(t,"Inbox",(function(){return lu})),r.d(t,"Info",(function(){return fu})),r.d(t,"Instagram",(function(){return mu})),r.d(t,"Italic",(function(){return ku})),r.d(t,"Key",(function(){return Tu})),r.d(t,"Layers",(function(){return Pu})),r.d(t,"Layout",(function(){return Iu})),r.d(t,"LifeBuoy",(function(){return ju})),r.d(t,"Link2",(function(){return Fu})),r.d(t,"Link",(function(){return $u})),r.d(t,"Linkedin",(function(){return Zu})),r.d(t,"List",(function(){return Qu})),r.d(t,"Loader",(function(){return rc})),r.d(t,"Lock",(function(){return oc})),r.d(t,"LogIn",(function(){return cc})),r.d(t,"LogOut",(function(){return hc})),r.d(t,"Mail",(function(){return yc})),r.d(t,"MapPin",(function(){return _c})),r.d(t,"Map",(function(){return xc})),r.d(t,"Maximize2",(function(){return Ac})),r.d(t,"Maximize",(function(){return Dc})),r.d(t,"Meh",(function(){return Uc})),r.d(t,"Menu",(function(){return Vc})),r.d(t,"MessageCircle",(function(){return Kc})),r.d(t,"MessageSquare",(function(){return Xc})),r.d(t,"MicOff",(function(){return ed})),r.d(t,"Mic",(function(){return id})),r.d(t,"Minimize2",(function(){return ld})),r.d(t,"Minimize",(function(){return fd})),r.d(t,"MinusCircle",(function(){return md})),r.d(t,"MinusSquare",(function(){return kd})),r.d(t,"Minus",(function(){return Td})),r.d(t,"Monitor",(function(){return Pd})),r.d(t,"Moon",(function(){return Id})),r.d(t,"MoreHorizontal",(function(){return jd})),r.d(t,"MoreVertical",(function(){return Fd})),r.d(t,"MousePointer",(function(){return $d})),r.d(t,"Move",(function(){return Zd})),r.d(t,"Music",(function(){return Qd})),r.d(t,"Navigation2",(function(){return rf})),r.d(t,"Navigation",(function(){return sf})),r.d(t,"Octagon",(function(){return df})),r.d(t,"Package",(function(){return gf})),r.d(t,"Paperclip",(function(){return bf})),r.d(t,"PauseCircle",(function(){return Sf})),r.d(t,"Pause",(function(){return Of})),r.d(t,"PenTool",(function(){return Mf})),r.d(t,"Percent",(function(){return Lf})),r.d(t,"PhoneCall",(function(){return Bf})),r.d(t,"PhoneForwarded",(function(){return Wf})),r.d(t,"PhoneIncoming",(function(){return Gf})),r.d(t,"PhoneMissed",(function(){return Yf})),r.d(t,"PhoneOff",(function(){return tp})),r.d(t,"PhoneOutgoing",(function(){return ap})),r.d(t,"Phone",(function(){return up})),r.d(t,"PieChart",(function(){return pp})),r.d(t,"PlayCircle",(function(){return vp})),r.d(t,"Play",(function(){return Ep})),r.d(t,"PlusCircle",(function(){return wp})),r.d(t,"PlusSquare",(function(){return Cp})),r.d(t,"Plus",(function(){return Rp})),r.d(t,"Pocket",(function(){return Np})),r.d(t,"Power",(function(){return zp})),r.d(t,"Printer",(function(){return Hp})),r.d(t,"Radio",(function(){return qp})),r.d(t,"RefreshCcw",(function(){return Jp})),r.d(t,"RefreshCw",(function(){return nh})),r.d(t,"Repeat",(function(){return sh})),r.d(t,"Rewind",(function(){return dh})),r.d(t,"RotateCcw",(function(){return gh})),r.d(t,"RotateCw",(function(){return bh})),r.d(t,"Rss",(function(){return Sh})),r.d(t,"Save",(function(){return Oh})),r.d(t,"Scissors",(function(){return Mh})),r.d(t,"Search",(function(){return Lh})),r.d(t,"Send",(function(){return Bh})),r.d(t,"Server",(function(){return Wh})),r.d(t,"Settings",(function(){return Gh})),r.d(t,"Share2",(function(){return Yh})),r.d(t,"Share",(function(){return tg})),r.d(t,"ShieldOff",(function(){return ag})),r.d(t,"Shield",(function(){return ug})),r.d(t,"ShoppingBag",(function(){return pg})),r.d(t,"ShoppingCart",(function(){return vg})),r.d(t,"Shuffle",(function(){return Eg})),r.d(t,"Sidebar",(function(){return wg})),r.d(t,"SkipBack",(function(){return Cg})),r.d(t,"SkipForward",(function(){return Rg})),r.d(t,"Slack",(function(){return Ng})),r.d(t,"Slash",(function(){return zg})),r.d(t,"Sliders",(function(){return Hg})),r.d(t,"Smartphone",(function(){return qg})),r.d(t,"Smile",(function(){return Jg})),r.d(t,"Speaker",(function(){return nm})),r.d(t,"Square",(function(){return sm})),r.d(t,"Star",(function(){return dm})),r.d(t,"StopCircle",(function(){return gm})),r.d(t,"Sun",(function(){return bm})),r.d(t,"Sunrise",(function(){return Sm})),r.d(t,"Sunset",(function(){return Om})),r.d(t,"Tablet",(function(){return Mm})),r.d(t,"Tag",(function(){return Lm})),r.d(t,"Target",(function(){return Bm})),r.d(t,"Terminal",(function(){return Wm})),r.d(t,"Thermometer",(function(){return Gm})),r.d(t,"ThumbsDown",(function(){return Ym})),r.d(t,"ThumbsUp",(function(){return tv})),r.d(t,"ToggleLeft",(function(){return av})),r.d(t,"ToggleRight",(function(){return uv})),r.d(t,"Tool",(function(){return pv})),r.d(t,"Trash2",(function(){return vv})),r.d(t,"Trash",(function(){return Ev})),r.d(t,"Trello",(function(){return wv})),r.d(t,"TrendingDown",(function(){return Cv})),r.d(t,"TrendingUp",(function(){return Rv})),r.d(t,"Triangle",(function(){return Nv})),r.d(t,"Truck",(function(){return zv})),r.d(t,"Tv",(function(){return Hv})),r.d(t,"Twitch",(function(){return qv})),r.d(t,"Twitter",(function(){return Jv})),r.d(t,"Type",(function(){return ny})),r.d(t,"Umbrella",(function(){return sy})),r.d(t,"Underline",(function(){return dy})),r.d(t,"Unlock",(function(){return gy})),r.d(t,"UploadCloud",(function(){return by})),r.d(t,"Upload",(function(){return Sy})),r.d(t,"UserCheck",(function(){return Oy})),r.d(t,"UserMinus",(function(){return My})),r.d(t,"UserPlus",(function(){return Ly})),r.d(t,"UserX",(function(){return By})),r.d(t,"User",(function(){return Wy})),r.d(t,"Users",(function(){return Gy})),r.d(t,"VideoOff",(function(){return Yy})),r.d(t,"Video",(function(){return tb})),r.d(t,"Voicemail",(function(){return ab})),r.d(t,"Volume1",(function(){return ub})),r.d(t,"Volume2",(function(){return pb})),r.d(t,"VolumeX",(function(){return vb})),r.d(t,"Volume",(function(){return Eb})),r.d(t,"Watch",(function(){return wb})),r.d(t,"WifiOff",(function(){return Cb})),r.d(t,"Wifi",(function(){return Rb})),r.d(t,"Wind",(function(){return Nb})),r.d(t,"XCircle",(function(){return zb})),r.d(t,"XOctagon",(function(){return Hb})),r.d(t,"XSquare",(function(){return qb})),r.d(t,"X",(function(){return Jb})),r.d(t,"Youtube",(function(){return nk})),r.d(t,"ZapOff",(function(){return sk})),r.d(t,"Zap",(function(){return dk})),r.d(t,"ZoomIn",(function(){return gk})),r.d(t,"ZoomOut",(function(){return bk}));var n=r(0),i=r.n(n),a=r(1),o=r.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var u=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,u=l(e,["color","size"]);return i.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"}))}));u.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},u.displayName="Activity";var c=u;function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=f(e,["color","size"]);return i.a.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),i.a.createElement("polygon",{points:"12 15 17 21 7 21 12 15"}))}));p.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},p.displayName="Airplay";var h=p;function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var v=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=m(e,["color","size"]);return i.a.createElement("svg",g({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))}));v.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},v.displayName="AlertCircle";var y=v;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var E=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=k(e,["color","size"]);return i.a.createElement("svg",b({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))}));E.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},E.displayName="AlertOctagon";var _=E;function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var w=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=T(e,["color","size"]);return i.a.createElement("svg",S({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),i.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),i.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));w.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},w.displayName="AlertTriangle";var x=w;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var C=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=P(e,["color","size"]);return i.a.createElement("svg",O({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"18",y1:"10",x2:"6",y2:"10"}),i.a.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),i.a.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),i.a.createElement("line",{x1:"18",y1:"18",x2:"6",y2:"18"}))}));C.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},C.displayName="AlignCenter";var A=C;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var R=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=I(e,["color","size"]);return i.a.createElement("svg",M({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),i.a.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),i.a.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),i.a.createElement("line",{x1:"21",y1:"18",x2:"3",y2:"18"}))}));R.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},R.displayName="AlignJustify";var D=R;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var N=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=j(e,["color","size"]);return i.a.createElement("svg",L({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"17",y1:"10",x2:"3",y2:"10"}),i.a.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),i.a.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),i.a.createElement("line",{x1:"17",y1:"18",x2:"3",y2:"18"}))}));N.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},N.displayName="AlignLeft";var U=N;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var z=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=F(e,["color","size"]);return i.a.createElement("svg",B({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"21",y1:"10",x2:"7",y2:"10"}),i.a.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),i.a.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),i.a.createElement("line",{x1:"21",y1:"18",x2:"7",y2:"18"}))}));z.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},z.displayName="AlignRight";var V=z;function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var H=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$(e,["color","size"]);return i.a.createElement("svg",W({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"5",r:"3"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"8"}),i.a.createElement("path",{d:"M5 12H2a10 10 0 0 0 20 0h-3"}))}));H.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},H.displayName="Anchor";var K=H;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var q=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Z(e,["color","size"]);return i.a.createElement("svg",G({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"14.31",y1:"8",x2:"20.05",y2:"17.94"}),i.a.createElement("line",{x1:"9.69",y1:"8",x2:"21.17",y2:"8"}),i.a.createElement("line",{x1:"7.38",y1:"12",x2:"13.12",y2:"2.06"}),i.a.createElement("line",{x1:"9.69",y1:"16",x2:"3.95",y2:"6.06"}),i.a.createElement("line",{x1:"14.31",y1:"16",x2:"2.83",y2:"16"}),i.a.createElement("line",{x1:"16.62",y1:"12",x2:"10.88",y2:"21.94"}))}));q.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},q.displayName="Aperture";var X=q;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var J=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Q(e,["color","size"]);return i.a.createElement("svg",Y({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"21 8 21 21 3 21 3 8"}),i.a.createElement("rect",{x:"1",y:"3",width:"22",height:"5"}),i.a.createElement("line",{x1:"10",y1:"12",x2:"14",y2:"12"}))}));J.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},J.displayName="Archive";var ee=J;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function re(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ne=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=re(e,["color","size"]);return i.a.createElement("svg",te({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"8 12 12 16 16 12"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}))}));ne.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ne.displayName="ArrowDownCircle";var ie=ne;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var se=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=oe(e,["color","size"]);return i.a.createElement("svg",ae({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"17",y1:"7",x2:"7",y2:"17"}),i.a.createElement("polyline",{points:"17 17 7 17 7 7"}))}));se.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},se.displayName="ArrowDownLeft";var le=se;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var de=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ce(e,["color","size"]);return i.a.createElement("svg",ue({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"7",y1:"7",x2:"17",y2:"17"}),i.a.createElement("polyline",{points:"17 7 17 17 7 17"}))}));de.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},de.displayName="ArrowDownRight";var fe=de;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ge=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=he(e,["color","size"]);return i.a.createElement("svg",pe({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.a.createElement("polyline",{points:"19 12 12 19 5 12"}))}));ge.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ge.displayName="ArrowDown";var me=ge;function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var be=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ye(e,["color","size"]);return i.a.createElement("svg",ve({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 8 8 12 12 16"}),i.a.createElement("line",{x1:"16",y1:"12",x2:"8",y2:"12"}))}));be.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},be.displayName="ArrowLeftCircle";var ke=be;function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _e(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Se=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_e(e,["color","size"]);return i.a.createElement("svg",Ee({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),i.a.createElement("polyline",{points:"12 19 5 12 12 5"}))}));Se.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Se.displayName="ArrowLeft";var Te=Se;function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Oe=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xe(e,["color","size"]);return i.a.createElement("svg",we({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 16 16 12 12 8"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));Oe.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Oe.displayName="ArrowRightCircle";var Pe=Oe;function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Me=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ae(e,["color","size"]);return i.a.createElement("svg",Ce({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),i.a.createElement("polyline",{points:"12 5 19 12 12 19"}))}));Me.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Me.displayName="ArrowRight";var Ie=Me;function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Le=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=De(e,["color","size"]);return i.a.createElement("svg",Re({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"16 12 12 8 8 12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"8"}))}));Le.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Le.displayName="ArrowUpCircle";var je=Le;function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ue(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Be=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ue(e,["color","size"]);return i.a.createElement("svg",Ne({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"17",y1:"17",x2:"7",y2:"7"}),i.a.createElement("polyline",{points:"7 17 7 7 17 7"}))}));Be.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Be.displayName="ArrowUpLeft";var Fe=Be;function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var We=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ve(e,["color","size"]);return i.a.createElement("svg",ze({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"7",y1:"17",x2:"17",y2:"7"}),i.a.createElement("polyline",{points:"7 7 17 7 17 17"}))}));We.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},We.displayName="ArrowUpRight";var $e=We;function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ge=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ke(e,["color","size"]);return i.a.createElement("svg",He({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),i.a.createElement("polyline",{points:"5 12 12 5 19 12"}))}));Ge.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ge.displayName="ArrowUp";var Ze=Ge;function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ye=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xe(e,["color","size"]);return i.a.createElement("svg",qe({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"}))}));Ye.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ye.displayName="AtSign";var Qe=Ye;function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=et(e,["color","size"]);return i.a.createElement("svg",Je({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"8",r:"7"}),i.a.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}))}));tt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tt.displayName="Award";var rt=tt;function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function it(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var at=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=it(e,["color","size"]);return i.a.createElement("svg",nt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),i.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),i.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}))}));at.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},at.displayName="BarChart2";var ot=at;function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ut=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=lt(e,["color","size"]);return i.a.createElement("svg",st({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),i.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),i.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"16"}))}));ut.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ut.displayName="BarChart";var ct=ut;function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ft(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var pt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ft(e,["color","size"]);return i.a.createElement("svg",dt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"}),i.a.createElement("line",{x1:"23",y1:"13",x2:"23",y2:"11"}),i.a.createElement("polyline",{points:"11 6 7 12 13 12 9 18"}))}));pt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},pt.displayName="BatteryCharging";var ht=pt;function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=mt(e,["color","size"]);return i.a.createElement("svg",gt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"6",width:"18",height:"12",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"23",y1:"13",x2:"23",y2:"11"}))}));vt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},vt.displayName="Battery";var yt=vt;function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Et=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=kt(e,["color","size"]);return i.a.createElement("svg",bt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}),i.a.createElement("path",{d:"M18.63 13A17.89 17.89 0 0 1 18 8"}),i.a.createElement("path",{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"}),i.a.createElement("path",{d:"M18 8a6 6 0 0 0-9.33-5"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));Et.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Et.displayName="BellOff";var _t=Et;function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var wt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Tt(e,["color","size"]);return i.a.createElement("svg",St({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),i.a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))}));wt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},wt.displayName="Bell";var xt=wt;function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ct=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Pt(e,["color","size"]);return i.a.createElement("svg",Ot({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"}))}));Ct.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ct.displayName="Bluetooth";var At=Ct;function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Rt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=It(e,["color","size"]);return i.a.createElement("svg",Mt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),i.a.createElement("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}))}));Rt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Rt.displayName="Bold";var Dt=Rt;function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Nt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=jt(e,["color","size"]);return i.a.createElement("svg",Lt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),i.a.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))}));Nt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Nt.displayName="BookOpen";var Ut=Nt;function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ft(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var zt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ft(e,["color","size"]);return i.a.createElement("svg",Bt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),i.a.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))}));zt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},zt.displayName="Book";var Vt=zt;function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $t(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ht=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$t(e,["color","size"]);return i.a.createElement("svg",Wt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}))}));Ht.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ht.displayName="Bookmark";var Kt=Ht;function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var qt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Zt(e,["color","size"]);return i.a.createElement("svg",Gt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),i.a.createElement("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),i.a.createElement("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"}))}));qt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},qt.displayName="Box";var Xt=qt;function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Jt=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Qt(e,["color","size"]);return i.a.createElement("svg",Yt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}))}));Jt.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Jt.displayName="Briefcase";var er=Jt;function tr(){return(tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var nr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=rr(e,["color","size"]);return i.a.createElement("svg",tr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),i.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),i.a.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}))}));nr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},nr.displayName="Calendar";var ir=nr;function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function or(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var sr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=or(e,["color","size"]);return i.a.createElement("svg",ar({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),i.a.createElement("path",{d:"M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"}))}));sr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},sr.displayName="CameraOff";var lr=sr;function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var dr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=cr(e,["color","size"]);return i.a.createElement("svg",ur({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),i.a.createElement("circle",{cx:"12",cy:"13",r:"4"}))}));dr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},dr.displayName="Camera";var fr=dr;function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=hr(e,["color","size"]);return i.a.createElement("svg",pr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"}),i.a.createElement("line",{x1:"2",y1:"20",x2:"2.01",y2:"20"}))}));gr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},gr.displayName="Cast";var mr=gr;function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var br=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=yr(e,["color","size"]);return i.a.createElement("svg",vr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))}));br.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},br.displayName="CheckCircle";var kr=br;function Er(){return(Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _r(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Sr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_r(e,["color","size"]);return i.a.createElement("svg",Er({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"9 11 12 14 22 4"}),i.a.createElement("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}))}));Sr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Sr.displayName="CheckSquare";var Tr=Sr;function wr(){return(wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Or=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xr(e,["color","size"]);return i.a.createElement("svg",wr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"20 6 9 17 4 12"}))}));Or.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Or.displayName="Check";var Pr=Or;function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ar(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Mr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ar(e,["color","size"]);return i.a.createElement("svg",Cr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"6 9 12 15 18 9"}))}));Mr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Mr.displayName="ChevronDown";var Ir=Mr;function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Dr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Lr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Dr(e,["color","size"]);return i.a.createElement("svg",Rr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"15 18 9 12 15 6"}))}));Lr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Lr.displayName="ChevronLeft";var jr=Lr;function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ur(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Br=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ur(e,["color","size"]);return i.a.createElement("svg",Nr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"9 18 15 12 9 6"}))}));Br.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Br.displayName="ChevronRight";var Fr=Br;function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Vr(e,["color","size"]);return i.a.createElement("svg",zr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"18 15 12 9 6 15"}))}));Wr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Wr.displayName="ChevronUp";var $r=Wr;function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Kr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Gr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Kr(e,["color","size"]);return i.a.createElement("svg",Hr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"7 13 12 18 17 13"}),i.a.createElement("polyline",{points:"7 6 12 11 17 6"}))}));Gr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Gr.displayName="ChevronsDown";var Zr=Gr;function qr(){return(qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Yr=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xr(e,["color","size"]);return i.a.createElement("svg",qr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"11 17 6 12 11 7"}),i.a.createElement("polyline",{points:"18 17 13 12 18 7"}))}));Yr.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Yr.displayName="ChevronsLeft";var Qr=Yr;function Jr(){return(Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function en(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=en(e,["color","size"]);return i.a.createElement("svg",Jr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"13 17 18 12 13 7"}),i.a.createElement("polyline",{points:"6 17 11 12 6 7"}))}));tn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tn.displayName="ChevronsRight";var rn=tn;function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function an(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var on=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=an(e,["color","size"]);return i.a.createElement("svg",nn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"17 11 12 6 7 11"}),i.a.createElement("polyline",{points:"17 18 12 13 7 18"}))}));on.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},on.displayName="ChevronsUp";var sn=on;function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function un(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var cn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=un(e,["color","size"]);return i.a.createElement("svg",ln({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("line",{x1:"21.17",y1:"8",x2:"12",y2:"8"}),i.a.createElement("line",{x1:"3.95",y1:"6.06",x2:"8.54",y2:"14"}),i.a.createElement("line",{x1:"10.88",y1:"21.94",x2:"15.46",y2:"14"}))}));cn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},cn.displayName="Chrome";var dn=cn;function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pn(e,["color","size"]);return i.a.createElement("svg",fn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}))}));hn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hn.displayName="Circle";var gn=hn;function mn(){return(mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vn(e,["color","size"]);return i.a.createElement("svg",mn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),i.a.createElement("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}))}));yn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yn.displayName="Clipboard";var bn=yn;function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function En(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _n=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=En(e,["color","size"]);return i.a.createElement("svg",kn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 6 12 12 16 14"}))}));_n.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_n.displayName="Clock";var Sn=_n;function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wn(e,["color","size"]);return i.a.createElement("svg",Tn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),i.a.createElement("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),i.a.createElement("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),i.a.createElement("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),i.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),i.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"17"}),i.a.createElement("path",{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}))}));xn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xn.displayName="CloudDrizzle";var On=xn;function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var An=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Cn(e,["color","size"]);return i.a.createElement("svg",Pn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),i.a.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))}));An.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},An.displayName="CloudLightning";var Mn=An;function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Dn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Rn(e,["color","size"]);return i.a.createElement("svg",In({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));Dn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Dn.displayName="CloudOff";var Ln=Dn;function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Un=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Nn(e,["color","size"]);return i.a.createElement("svg",jn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"16",y1:"13",x2:"16",y2:"21"}),i.a.createElement("line",{x1:"8",y1:"13",x2:"8",y2:"21"}),i.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"23"}),i.a.createElement("path",{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}))}));Un.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Un.displayName="CloudRain";var Bn=Un;function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zn(e,["color","size"]);return i.a.createElement("svg",Fn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),i.a.createElement("line",{x1:"8",y1:"16",x2:"8.01",y2:"16"}),i.a.createElement("line",{x1:"8",y1:"20",x2:"8.01",y2:"20"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12.01",y2:"22"}),i.a.createElement("line",{x1:"16",y1:"16",x2:"16.01",y2:"16"}),i.a.createElement("line",{x1:"16",y1:"20",x2:"16.01",y2:"20"}))}));Vn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vn.displayName="CloudSnow";var Wn=Vn;function $n(){return($n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Kn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hn(e,["color","size"]);return i.a.createElement("svg",$n({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"}))}));Kn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Kn.displayName="Cloud";var Gn=Kn;function Zn(){return(Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xn=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qn(e,["color","size"]);return i.a.createElement("svg",Zn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"16 18 22 12 16 6"}),i.a.createElement("polyline",{points:"8 6 2 12 8 18"}))}));Xn.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xn.displayName="Code";var Yn=Xn;function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ei=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jn(e,["color","size"]);return i.a.createElement("svg",Qn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"15.5"}),i.a.createElement("polyline",{points:"22 8.5 12 15.5 2 8.5"}),i.a.createElement("polyline",{points:"2 15.5 12 8.5 22 15.5"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"8.5"}))}));ei.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ei.displayName="Codepen";var ti=ei;function ri(){return(ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ni(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ii=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ni(e,["color","size"]);return i.a.createElement("svg",ri({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),i.a.createElement("polyline",{points:"7.5 4.21 12 6.81 16.5 4.21"}),i.a.createElement("polyline",{points:"7.5 19.79 7.5 14.6 3 12"}),i.a.createElement("polyline",{points:"21 12 16.5 14.6 16.5 19.79"}),i.a.createElement("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),i.a.createElement("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"}))}));ii.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ii.displayName="Codesandbox";var ai=ii;function oi(){return(oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function si(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var li=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=si(e,["color","size"]);return i.a.createElement("svg",oi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),i.a.createElement("path",{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),i.a.createElement("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),i.a.createElement("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),i.a.createElement("line",{x1:"14",y1:"1",x2:"14",y2:"4"}))}));li.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},li.displayName="Coffee";var ui=li;function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function di(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=di(e,["color","size"]);return i.a.createElement("svg",ci({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"}))}));fi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fi.displayName="Columns";var pi=fi;function hi(){return(hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gi(e,["color","size"]);return i.a.createElement("svg",hi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}))}));mi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mi.displayName="Command";var vi=mi;function yi(){return(yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ki=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bi(e,["color","size"]);return i.a.createElement("svg",yi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}))}));ki.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ki.displayName="Compass";var Ei=ki;function _i(){return(_i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Si(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ti=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Si(e,["color","size"]);return i.a.createElement("svg",_i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))}));Ti.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ti.displayName="Copy";var wi=Ti;function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Oi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Oi(e,["color","size"]);return i.a.createElement("svg",xi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"9 10 4 15 9 20"}),i.a.createElement("path",{d:"M20 4v7a4 4 0 0 1-4 4H4"}))}));Pi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pi.displayName="CornerDownLeft";var Ci=Pi;function Ai(){return(Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ii=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mi(e,["color","size"]);return i.a.createElement("svg",Ai({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"15 10 20 15 15 20"}),i.a.createElement("path",{d:"M4 4v7a4 4 0 0 0 4 4h12"}))}));Ii.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ii.displayName="CornerDownRight";var Ri=Ii;function Di(){return(Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Li(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ji=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Li(e,["color","size"]);return i.a.createElement("svg",Di({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"14 15 9 20 4 15"}),i.a.createElement("path",{d:"M20 4h-7a4 4 0 0 0-4 4v12"}))}));ji.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ji.displayName="CornerLeftDown";var Ni=ji;function Ui(){return(Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bi(e,["color","size"]);return i.a.createElement("svg",Ui({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"14 9 9 4 4 9"}),i.a.createElement("path",{d:"M20 20h-7a4 4 0 0 1-4-4V4"}))}));Fi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fi.displayName="CornerLeftUp";var zi=Fi;function Vi(){return(Vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $i=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wi(e,["color","size"]);return i.a.createElement("svg",Vi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"10 15 15 20 20 15"}),i.a.createElement("path",{d:"M4 4h7a4 4 0 0 1 4 4v12"}))}));$i.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$i.displayName="CornerRightDown";var Hi=$i;function Ki(){return(Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gi(e,["color","size"]);return i.a.createElement("svg",Ki({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"10 9 15 4 20 9"}),i.a.createElement("path",{d:"M4 20h7a4 4 0 0 0 4-4V4"}))}));Zi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zi.displayName="CornerRightUp";var qi=Zi;function Xi(){return(Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qi=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yi(e,["color","size"]);return i.a.createElement("svg",Xi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"9 14 4 9 9 4"}),i.a.createElement("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"}))}));Qi.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qi.displayName="CornerUpLeft";var Ji=Qi;function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ta(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ra=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ta(e,["color","size"]);return i.a.createElement("svg",ea({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"15 14 20 9 15 4"}),i.a.createElement("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"}))}));ra.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ra.displayName="CornerUpRight";var na=ra;function ia(){return(ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function aa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var oa=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=aa(e,["color","size"]);return i.a.createElement("svg",ia({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),i.a.createElement("rect",{x:"9",y:"9",width:"6",height:"6"}),i.a.createElement("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),i.a.createElement("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),i.a.createElement("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),i.a.createElement("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),i.a.createElement("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),i.a.createElement("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),i.a.createElement("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),i.a.createElement("line",{x1:"1",y1:"14",x2:"4",y2:"14"}))}));oa.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},oa.displayName="Cpu";var sa=oa;function la(){return(la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ua(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ca=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ua(e,["color","size"]);return i.a.createElement("svg",la({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"1",y1:"10",x2:"23",y2:"10"}))}));ca.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ca.displayName="CreditCard";var da=ca;function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ha=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pa(e,["color","size"]);return i.a.createElement("svg",fa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M6.13 1L6 16a2 2 0 0 0 2 2h15"}),i.a.createElement("path",{d:"M1 6.13L16 6a2 2 0 0 1 2 2v15"}))}));ha.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ha.displayName="Crop";var ga=ha;function ma(){return(ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function va(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ya=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=va(e,["color","size"]);return i.a.createElement("svg",ma({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),i.a.createElement("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"18"}))}));ya.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ya.displayName="Crosshair";var ba=ya;function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ea(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _a=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ea(e,["color","size"]);return i.a.createElement("svg",ka({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),i.a.createElement("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),i.a.createElement("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}))}));_a.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_a.displayName="Database";var Sa=_a;function Ta(){return(Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xa=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wa(e,["color","size"]);return i.a.createElement("svg",Ta({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),i.a.createElement("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),i.a.createElement("line",{x1:"12",y1:"9",x2:"18",y2:"15"}))}));xa.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xa.displayName="Delete";var Oa=xa;function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ca(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Aa=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ca(e,["color","size"]);return i.a.createElement("svg",Pa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));Aa.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Aa.displayName="Disc";var Ma=Aa;function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ra(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Da=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ra(e,["color","size"]);return i.a.createElement("svg",Ia({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}))}));Da.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Da.displayName="DivideCircle";var La=Da;function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Na(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ua=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Na(e,["color","size"]);return i.a.createElement("svg",ja({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}))}));Ua.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ua.displayName="DivideSquare";var Ba=Ua;function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function za(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Va=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=za(e,["color","size"]);return i.a.createElement("svg",Fa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"6",r:"2"}),i.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),i.a.createElement("circle",{cx:"12",cy:"18",r:"2"}))}));Va.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Va.displayName="Divide";var Wa=Va;function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ha(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ka=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ha(e,["color","size"]);return i.a.createElement("svg",$a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),i.a.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}))}));Ka.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ka.displayName="DollarSign";var Ga=Ka;function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xa=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qa(e,["color","size"]);return i.a.createElement("svg",Za({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"8 17 12 21 16 17"}),i.a.createElement("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),i.a.createElement("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"}))}));Xa.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xa.displayName="DownloadCloud";var Ya=Xa;function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ja(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var eo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ja(e,["color","size"]);return i.a.createElement("svg",Qa({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.a.createElement("polyline",{points:"7 10 12 15 17 10"}),i.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))}));eo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},eo.displayName="Download";var to=eo;function ro(){return(ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function no(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var io=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=no(e,["color","size"]);return i.a.createElement("svg",ro({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("path",{d:"M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"}))}));io.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},io.displayName="Dribbble";var ao=io;function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function so(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=so(e,["color","size"]);return i.a.createElement("svg",oo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}))}));lo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lo.displayName="Droplet";var uo=lo;function co(){return(co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var po=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=fo(e,["color","size"]);return i.a.createElement("svg",co({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));po.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},po.displayName="Edit2";var ho=po;function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=mo(e,["color","size"]);return i.a.createElement("svg",go({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 20h9"}),i.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))}));vo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},vo.displayName="Edit3";var yo=vo;function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ko(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Eo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ko(e,["color","size"]);return i.a.createElement("svg",bo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),i.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));Eo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Eo.displayName="Edit";var _o=Eo;function So(){return(So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function To(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var wo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=To(e,["color","size"]);return i.a.createElement("svg",So({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.a.createElement("polyline",{points:"15 3 21 3 21 9"}),i.a.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));wo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},wo.displayName="ExternalLink";var xo=wo;function Oo(){return(Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Po(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Co=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Po(e,["color","size"]);return i.a.createElement("svg",Oo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));Co.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Co.displayName="EyeOff";var Ao=Co;function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Io(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ro=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Io(e,["color","size"]);return i.a.createElement("svg",Mo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));Ro.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ro.displayName="Eye";var Do=Ro;function Lo(){return(Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var No=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=jo(e,["color","size"]);return i.a.createElement("svg",Lo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"}))}));No.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},No.displayName="Facebook";var Uo=No;function Bo(){return(Bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var zo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Fo(e,["color","size"]);return i.a.createElement("svg",Bo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"13 19 22 12 13 5 13 19"}),i.a.createElement("polygon",{points:"2 19 11 12 2 5 2 19"}))}));zo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},zo.displayName="FastForward";var Vo=zo;function Wo(){return(Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $o(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ho=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$o(e,["color","size"]);return i.a.createElement("svg",Wo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"}),i.a.createElement("line",{x1:"16",y1:"8",x2:"2",y2:"22"}),i.a.createElement("line",{x1:"17.5",y1:"15",x2:"9",y2:"15"}))}));Ho.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ho.displayName="Feather";var Ko=Ho;function Go(){return(Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var qo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Zo(e,["color","size"]);return i.a.createElement("svg",Go({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"}),i.a.createElement("path",{d:"M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"}),i.a.createElement("path",{d:"M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"}),i.a.createElement("path",{d:"M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"}),i.a.createElement("path",{d:"M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"}))}));qo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},qo.displayName="Figma";var Xo=qo;function Yo(){return(Yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Jo=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Qo(e,["color","size"]);return i.a.createElement("svg",Yo({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.a.createElement("polyline",{points:"14 2 14 8 20 8"}),i.a.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))}));Jo.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Jo.displayName="FileMinus";var es=Jo;function ts(){return(ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ns=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=rs(e,["color","size"]);return i.a.createElement("svg",ts({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.a.createElement("polyline",{points:"14 2 14 8 20 8"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))}));ns.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ns.displayName="FilePlus";var is=ns;function as(){return(as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function os(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ss=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=os(e,["color","size"]);return i.a.createElement("svg",as({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.a.createElement("polyline",{points:"14 2 14 8 20 8"}),i.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.a.createElement("polyline",{points:"10 9 9 9 8 9"}))}));ss.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ss.displayName="FileText";var ls=ss;function us(){return(us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ds=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=cs(e,["color","size"]);return i.a.createElement("svg",us({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),i.a.createElement("polyline",{points:"13 2 13 9 20 9"}))}));ds.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ds.displayName="File";var fs=ds;function ps(){return(ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gs=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=hs(e,["color","size"]);return i.a.createElement("svg",ps({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}),i.a.createElement("line",{x1:"7",y1:"2",x2:"7",y2:"22"}),i.a.createElement("line",{x1:"17",y1:"2",x2:"17",y2:"22"}),i.a.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),i.a.createElement("line",{x1:"2",y1:"7",x2:"7",y2:"7"}),i.a.createElement("line",{x1:"2",y1:"17",x2:"7",y2:"17"}),i.a.createElement("line",{x1:"17",y1:"17",x2:"22",y2:"17"}),i.a.createElement("line",{x1:"17",y1:"7",x2:"22",y2:"7"}))}));gs.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},gs.displayName="Film";var ms=gs;function vs(){return(vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ys(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var bs=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ys(e,["color","size"]);return i.a.createElement("svg",vs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}))}));bs.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},bs.displayName="Filter";var ks=bs;function Es(){return(Es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ss=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_s(e,["color","size"]);return i.a.createElement("svg",Es({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),i.a.createElement("line",{x1:"4",y1:"22",x2:"4",y2:"15"}))}));Ss.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ss.displayName="Flag";var Ts=Ss;function ws(){return(ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Os=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xs(e,["color","size"]);return i.a.createElement("svg",ws({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),i.a.createElement("line",{x1:"9",y1:"14",x2:"15",y2:"14"}))}));Os.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Os.displayName="FolderMinus";var Ps=Os;function Cs(){return(Cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function As(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ms=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=As(e,["color","size"]);return i.a.createElement("svg",Cs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),i.a.createElement("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),i.a.createElement("line",{x1:"9",y1:"14",x2:"15",y2:"14"}))}));Ms.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ms.displayName="FolderPlus";var Is=Ms;function Rs(){return(Rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ds(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ls=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ds(e,["color","size"]);return i.a.createElement("svg",Rs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}))}));Ls.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ls.displayName="Folder";var js=Ls;function Ns(){return(Ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Us(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Bs=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Us(e,["color","size"]);return i.a.createElement("svg",Ns({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"}))}));Bs.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Bs.displayName="Framer";var Fs=Bs;function zs(){return(zs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ws=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Vs(e,["color","size"]);return i.a.createElement("svg",zs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("path",{d:"M16 16s-1.5-2-4-2-4 2-4 2"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));Ws.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ws.displayName="Frown";var $s=Ws;function Hs(){return(Hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ks(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Gs=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ks(e,["color","size"]);return i.a.createElement("svg",Hs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"20 12 20 22 4 22 4 12"}),i.a.createElement("rect",{x:"2",y:"7",width:"20",height:"5"}),i.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),i.a.createElement("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),i.a.createElement("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"}))}));Gs.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Gs.displayName="Gift";var Zs=Gs;function qs(){return(qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ys=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xs(e,["color","size"]);return i.a.createElement("svg",qs({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"6",y1:"3",x2:"6",y2:"15"}),i.a.createElement("circle",{cx:"18",cy:"6",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"18",r:"3"}),i.a.createElement("path",{d:"M18 9a9 9 0 0 1-9 9"}))}));Ys.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ys.displayName="GitBranch";var Qs=Ys;function Js(){return(Js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function el(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=el(e,["color","size"]);return i.a.createElement("svg",Js({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("line",{x1:"1.05",y1:"12",x2:"7",y2:"12"}),i.a.createElement("line",{x1:"17.01",y1:"12",x2:"22.96",y2:"12"}))}));tl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tl.displayName="GitCommit";var rl=tl;function nl(){return(nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function il(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var al=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=il(e,["color","size"]);return i.a.createElement("svg",nl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"18",cy:"18",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"6",r:"3"}),i.a.createElement("path",{d:"M6 21V9a9 9 0 0 0 9 9"}))}));al.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},al.displayName="GitMerge";var ol=al;function sl(){return(sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ll(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ul=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ll(e,["color","size"]);return i.a.createElement("svg",sl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"18",cy:"18",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"6",r:"3"}),i.a.createElement("path",{d:"M13 6h3a2 2 0 0 1 2 2v7"}),i.a.createElement("line",{x1:"6",y1:"9",x2:"6",y2:"21"}))}));ul.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ul.displayName="GitPullRequest";var cl=ul;function dl(){return(dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var pl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=fl(e,["color","size"]);return i.a.createElement("svg",dl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}));pl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},pl.displayName="GitHub";var hl=pl;function gl(){return(gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ml(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ml(e,["color","size"]);return i.a.createElement("svg",gl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"}))}));vl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},vl.displayName="Gitlab";var yl=vl;function bl(){return(bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var El=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=kl(e,["color","size"]);return i.a.createElement("svg",bl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),i.a.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));El.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},El.displayName="Globe";var _l=El;function Sl(){return(Sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var wl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Tl(e,["color","size"]);return i.a.createElement("svg",Sl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),i.a.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),i.a.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),i.a.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))}));wl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},wl.displayName="Grid";var xl=wl;function Ol(){return(Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Cl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Pl(e,["color","size"]);return i.a.createElement("svg",Ol({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"22",y1:"12",x2:"2",y2:"12"}),i.a.createElement("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}),i.a.createElement("line",{x1:"6",y1:"16",x2:"6.01",y2:"16"}),i.a.createElement("line",{x1:"10",y1:"16",x2:"10.01",y2:"16"}))}));Cl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Cl.displayName="HardDrive";var Al=Cl;function Ml(){return(Ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Il(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Rl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Il(e,["color","size"]);return i.a.createElement("svg",Ml({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),i.a.createElement("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),i.a.createElement("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),i.a.createElement("line",{x1:"16",y1:"3",x2:"14",y2:"21"}))}));Rl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Rl.displayName="Hash";var Dl=Rl;function Ll(){return(Ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Nl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=jl(e,["color","size"]);return i.a.createElement("svg",Ll({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M3 18v-6a9 9 0 0 1 18 0v6"}),i.a.createElement("path",{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"}))}));Nl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Nl.displayName="Headphones";var Ul=Nl;function Bl(){return(Bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var zl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Fl(e,["color","size"]);return i.a.createElement("svg",Bl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}));zl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},zl.displayName="Heart";var Vl=zl;function Wl(){return(Wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Hl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$l(e,["color","size"]);return i.a.createElement("svg",Wl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),i.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));Hl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Hl.displayName="HelpCircle";var Kl=Hl;function Gl(){return(Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ql=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Zl(e,["color","size"]);return i.a.createElement("svg",Gl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}))}));ql.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ql.displayName="Hexagon";var Xl=ql;function Yl(){return(Yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ql(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Jl=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ql(e,["color","size"]);return i.a.createElement("svg",Yl({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),i.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))}));Jl.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Jl.displayName="Home";var eu=Jl;function tu(){return(tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ru(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var nu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ru(e,["color","size"]);return i.a.createElement("svg",tu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),i.a.createElement("polyline",{points:"21 15 16 10 5 21"}))}));nu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},nu.displayName="Image";var iu=nu;function au(){return(au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ou(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var su=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ou(e,["color","size"]);return i.a.createElement("svg",au({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),i.a.createElement("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}))}));su.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},su.displayName="Inbox";var lu=su;function uu(){return(uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var du=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=cu(e,["color","size"]);return i.a.createElement("svg",uu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))}));du.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},du.displayName="Info";var fu=du;function pu(){return(pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=hu(e,["color","size"]);return i.a.createElement("svg",pu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),i.a.createElement("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),i.a.createElement("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"}))}));gu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},gu.displayName="Instagram";var mu=gu;function vu(){return(vu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var bu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=yu(e,["color","size"]);return i.a.createElement("svg",vu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),i.a.createElement("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),i.a.createElement("line",{x1:"15",y1:"4",x2:"9",y2:"20"}))}));bu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},bu.displayName="Italic";var ku=bu;function Eu(){return(Eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _u(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Su=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_u(e,["color","size"]);return i.a.createElement("svg",Eu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))}));Su.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Su.displayName="Key";var Tu=Su;function wu(){return(wu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ou=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xu(e,["color","size"]);return i.a.createElement("svg",wu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),i.a.createElement("polyline",{points:"2 17 12 22 22 17"}),i.a.createElement("polyline",{points:"2 12 12 17 22 12"}))}));Ou.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ou.displayName="Layers";var Pu=Ou;function Cu(){return(Cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Au(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Mu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Au(e,["color","size"]);return i.a.createElement("svg",Cu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),i.a.createElement("line",{x1:"9",y1:"21",x2:"9",y2:"9"}))}));Mu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Mu.displayName="Layout";var Iu=Mu;function Ru(){return(Ru=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Du(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Lu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Du(e,["color","size"]);return i.a.createElement("svg",Ru({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"}),i.a.createElement("line",{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"}),i.a.createElement("line",{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"}),i.a.createElement("line",{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"}),i.a.createElement("line",{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"}))}));Lu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Lu.displayName="LifeBuoy";var ju=Lu;function Nu(){return(Nu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Uu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Bu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Uu(e,["color","size"]);return i.a.createElement("svg",Nu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));Bu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Bu.displayName="Link2";var Fu=Bu;function zu(){return(zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Vu(e,["color","size"]);return i.a.createElement("svg",zu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),i.a.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}))}));Wu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Wu.displayName="Link";var $u=Wu;function Hu(){return(Hu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ku(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Gu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ku(e,["color","size"]);return i.a.createElement("svg",Hu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),i.a.createElement("rect",{x:"2",y:"9",width:"4",height:"12"}),i.a.createElement("circle",{cx:"4",cy:"4",r:"2"}))}));Gu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Gu.displayName="Linkedin";var Zu=Gu;function qu(){return(qu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Yu=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xu(e,["color","size"]);return i.a.createElement("svg",qu({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),i.a.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),i.a.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),i.a.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),i.a.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))}));Yu.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Yu.displayName="List";var Qu=Yu;function Ju(){return(Ju=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ec(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ec(e,["color","size"]);return i.a.createElement("svg",Ju({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),i.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),i.a.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),i.a.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),i.a.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),i.a.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),i.a.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}))}));tc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tc.displayName="Loader";var rc=tc;function nc(){return(nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ic(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ac=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ic(e,["color","size"]);return i.a.createElement("svg",nc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))}));ac.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ac.displayName="Lock";var oc=ac;function sc(){return(sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function lc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var uc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=lc(e,["color","size"]);return i.a.createElement("svg",sc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),i.a.createElement("polyline",{points:"10 17 15 12 10 7"}),i.a.createElement("line",{x1:"15",y1:"12",x2:"3",y2:"12"}))}));uc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},uc.displayName="LogIn";var cc=uc;function dc(){return(dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var pc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=fc(e,["color","size"]);return i.a.createElement("svg",dc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),i.a.createElement("polyline",{points:"16 17 21 12 16 7"}),i.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))}));pc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},pc.displayName="LogOut";var hc=pc;function gc(){return(gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=mc(e,["color","size"]);return i.a.createElement("svg",gc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),i.a.createElement("polyline",{points:"22,6 12,13 2,6"}))}));vc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},vc.displayName="Mail";var yc=vc;function bc(){return(bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ec=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=kc(e,["color","size"]);return i.a.createElement("svg",bc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),i.a.createElement("circle",{cx:"12",cy:"10",r:"3"}))}));Ec.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ec.displayName="MapPin";var _c=Ec;function Sc(){return(Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var wc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Tc(e,["color","size"]);return i.a.createElement("svg",Sc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),i.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),i.a.createElement("line",{x1:"16",y1:"6",x2:"16",y2:"22"}))}));wc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},wc.displayName="Map";var xc=wc;function Oc(){return(Oc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Cc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Pc(e,["color","size"]);return i.a.createElement("svg",Oc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"15 3 21 3 21 9"}),i.a.createElement("polyline",{points:"9 21 3 21 3 15"}),i.a.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),i.a.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))}));Cc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Cc.displayName="Maximize2";var Ac=Cc;function Mc(){return(Mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ic(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Rc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ic(e,["color","size"]);return i.a.createElement("svg",Mc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))}));Rc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Rc.displayName="Maximize";var Dc=Rc;function Lc(){return(Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function jc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Nc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=jc(e,["color","size"]);return i.a.createElement("svg",Lc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"8",y1:"15",x2:"16",y2:"15"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));Nc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Nc.displayName="Meh";var Uc=Nc;function Bc(){return(Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var zc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Fc(e,["color","size"]);return i.a.createElement("svg",Bc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),i.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),i.a.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}))}));zc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},zc.displayName="Menu";var Vc=zc;function Wc(){return(Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Hc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=$c(e,["color","size"]);return i.a.createElement("svg",Wc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}))}));Hc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Hc.displayName="MessageCircle";var Kc=Hc;function Gc(){return(Gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var qc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Zc(e,["color","size"]);return i.a.createElement("svg",Gc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));qc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},qc.displayName="MessageSquare";var Xc=qc;function Yc(){return(Yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qc(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Jc=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Qc(e,["color","size"]);return i.a.createElement("svg",Yc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),i.a.createElement("path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"}),i.a.createElement("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"}),i.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),i.a.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"}))}));Jc.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Jc.displayName="MicOff";var ed=Jc;function td(){return(td=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var nd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=rd(e,["color","size"]);return i.a.createElement("svg",td({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),i.a.createElement("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),i.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),i.a.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"}))}));nd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},nd.displayName="Mic";var id=nd;function ad(){return(ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function od(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var sd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=od(e,["color","size"]);return i.a.createElement("svg",ad({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"4 14 10 14 10 20"}),i.a.createElement("polyline",{points:"20 10 14 10 14 4"}),i.a.createElement("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),i.a.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))}));sd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},sd.displayName="Minimize2";var ld=sd;function ud(){return(ud=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var dd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=cd(e,["color","size"]);return i.a.createElement("svg",ud({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}))}));dd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},dd.displayName="Minimize";var fd=dd;function pd(){return(pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var gd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=hd(e,["color","size"]);return i.a.createElement("svg",pd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));gd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},gd.displayName="MinusCircle";var md=gd;function vd(){return(vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var bd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=yd(e,["color","size"]);return i.a.createElement("svg",vd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));bd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},bd.displayName="MinusSquare";var kd=bd;function Ed(){return(Ed=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Sd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=_d(e,["color","size"]);return i.a.createElement("svg",Ed({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));Sd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Sd.displayName="Minus";var Td=Sd;function wd(){return(wd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Od=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=xd(e,["color","size"]);return i.a.createElement("svg",wd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),i.a.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"21"}))}));Od.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Od.displayName="Monitor";var Pd=Od;function Cd(){return(Cd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ad(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Md=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ad(e,["color","size"]);return i.a.createElement("svg",Cd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))}));Md.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Md.displayName="Moon";var Id=Md;function Rd(){return(Rd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Dd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ld=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Dd(e,["color","size"]);return i.a.createElement("svg",Rd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),i.a.createElement("circle",{cx:"19",cy:"12",r:"1"}),i.a.createElement("circle",{cx:"5",cy:"12",r:"1"}))}));Ld.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ld.displayName="MoreHorizontal";var jd=Ld;function Nd(){return(Nd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ud(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Bd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ud(e,["color","size"]);return i.a.createElement("svg",Nd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),i.a.createElement("circle",{cx:"12",cy:"5",r:"1"}),i.a.createElement("circle",{cx:"12",cy:"19",r:"1"}))}));Bd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Bd.displayName="MoreVertical";var Fd=Bd;function zd(){return(zd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Vd(e,["color","size"]);return i.a.createElement("svg",zd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}),i.a.createElement("path",{d:"M13 13l6 6"}))}));Wd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Wd.displayName="MousePointer";var $d=Wd;function Hd(){return(Hd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Kd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Gd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Kd(e,["color","size"]);return i.a.createElement("svg",Hd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"5 9 2 12 5 15"}),i.a.createElement("polyline",{points:"9 5 12 2 15 5"}),i.a.createElement("polyline",{points:"15 19 12 22 9 19"}),i.a.createElement("polyline",{points:"19 9 22 12 19 15"}),i.a.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"22"}))}));Gd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Gd.displayName="Move";var Zd=Gd;function qd(){return(qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xd(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Yd=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Xd(e,["color","size"]);return i.a.createElement("svg",qd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M9 18V5l12-2v13"}),i.a.createElement("circle",{cx:"6",cy:"18",r:"3"}),i.a.createElement("circle",{cx:"18",cy:"16",r:"3"}))}));Yd.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Yd.displayName="Music";var Qd=Yd;function Jd(){return(Jd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ef(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var tf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ef(e,["color","size"]);return i.a.createElement("svg",Jd({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"12 2 19 21 12 17 5 21 12 2"}))}));tf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},tf.displayName="Navigation2";var rf=tf;function nf(){return(nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function af(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var of=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=af(e,["color","size"]);return i.a.createElement("svg",nf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"3 11 22 2 13 21 11 13 3 11"}))}));of.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},of.displayName="Navigation";var sf=of;function lf(){return(lf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var cf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=uf(e,["color","size"]);return i.a.createElement("svg",lf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}))}));cf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},cf.displayName="Octagon";var df=cf;function ff(){return(ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pf(e,["color","size"]);return i.a.createElement("svg",ff({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}),i.a.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),i.a.createElement("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),i.a.createElement("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"}))}));hf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hf.displayName="Package";var gf=hf;function mf(){return(mf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vf(e,["color","size"]);return i.a.createElement("svg",mf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}))}));yf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yf.displayName="Paperclip";var bf=yf;function kf(){return(kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ef(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _f=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ef(e,["color","size"]);return i.a.createElement("svg",kf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"10",y1:"15",x2:"10",y2:"9"}),i.a.createElement("line",{x1:"14",y1:"15",x2:"14",y2:"9"}))}));_f.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_f.displayName="PauseCircle";var Sf=_f;function Tf(){return(Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wf(e,["color","size"]);return i.a.createElement("svg",Tf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),i.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))}));xf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xf.displayName="Pause";var Of=xf;function Pf(){return(Pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Af=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Cf(e,["color","size"]);return i.a.createElement("svg",Pf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 19l7-7 3 3-7 7-3-3z"}),i.a.createElement("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),i.a.createElement("path",{d:"M2 2l7.586 7.586"}),i.a.createElement("circle",{cx:"11",cy:"11",r:"2"}))}));Af.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Af.displayName="PenTool";var Mf=Af;function If(){return(If=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Df=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Rf(e,["color","size"]);return i.a.createElement("svg",If({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"19",y1:"5",x2:"5",y2:"19"}),i.a.createElement("circle",{cx:"6.5",cy:"6.5",r:"2.5"}),i.a.createElement("circle",{cx:"17.5",cy:"17.5",r:"2.5"}))}));Df.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Df.displayName="Percent";var Lf=Df;function jf(){return(jf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Uf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Nf(e,["color","size"]);return i.a.createElement("svg",jf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));Uf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Uf.displayName="PhoneCall";var Bf=Uf;function Ff(){return(Ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zf(e,["color","size"]);return i.a.createElement("svg",Ff({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"19 1 23 5 19 9"}),i.a.createElement("line",{x1:"15",y1:"5",x2:"23",y2:"5"}),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));Vf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vf.displayName="PhoneForwarded";var Wf=Vf;function $f(){return($f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Kf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hf(e,["color","size"]);return i.a.createElement("svg",$f({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"16 2 16 8 22 8"}),i.a.createElement("line",{x1:"23",y1:"1",x2:"16",y2:"8"}),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));Kf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Kf.displayName="PhoneIncoming";var Gf=Kf;function Zf(){return(Zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xf=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qf(e,["color","size"]);return i.a.createElement("svg",Zf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"23",y1:"1",x2:"17",y2:"7"}),i.a.createElement("line",{x1:"17",y1:"1",x2:"23",y2:"7"}),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));Xf.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xf.displayName="PhoneMissed";var Yf=Xf;function Qf(){return(Qf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ep=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jf(e,["color","size"]);return i.a.createElement("svg",Qf({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}),i.a.createElement("line",{x1:"23",y1:"1",x2:"1",y2:"23"}))}));ep.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ep.displayName="PhoneOff";var tp=ep;function rp(){return(rp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function np(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ip=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=np(e,["color","size"]);return i.a.createElement("svg",rp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 7 23 1 17 1"}),i.a.createElement("line",{x1:"16",y1:"8",x2:"23",y2:"1"}),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));ip.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ip.displayName="PhoneOutgoing";var ap=ip;function op(){return(op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=sp(e,["color","size"]);return i.a.createElement("svg",op({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));lp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lp.displayName="Phone";var up=lp;function cp(){return(cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=dp(e,["color","size"]);return i.a.createElement("svg",cp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),i.a.createElement("path",{d:"M22 12A10 10 0 0 0 12 2v10z"}))}));fp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fp.displayName="PieChart";var pp=fp;function hp(){return(hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gp(e,["color","size"]);return i.a.createElement("svg",hp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polygon",{points:"10 8 16 12 10 16 10 8"}))}));mp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mp.displayName="PlayCircle";var vp=mp;function yp(){return(yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bp(e,["color","size"]);return i.a.createElement("svg",yp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))}));kp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},kp.displayName="Play";var Ep=kp;function _p(){return(_p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Tp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Sp(e,["color","size"]);return i.a.createElement("svg",_p({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));Tp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Tp.displayName="PlusCircle";var wp=Tp;function xp(){return(xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Op(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Op(e,["color","size"]);return i.a.createElement("svg",xp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));Pp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pp.displayName="PlusSquare";var Cp=Pp;function Ap(){return(Ap=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ip=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mp(e,["color","size"]);return i.a.createElement("svg",Ap({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));Ip.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ip.displayName="Plus";var Rp=Ip;function Dp(){return(Dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var jp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Lp(e,["color","size"]);return i.a.createElement("svg",Dp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"}),i.a.createElement("polyline",{points:"8 10 12 14 16 10"}))}));jp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},jp.displayName="Pocket";var Np=jp;function Up(){return(Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bp(e,["color","size"]);return i.a.createElement("svg",Up({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"12"}))}));Fp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fp.displayName="Power";var zp=Fp;function Vp(){return(Vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $p=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wp(e,["color","size"]);return i.a.createElement("svg",Vp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"6 9 6 2 18 2 18 9"}),i.a.createElement("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),i.a.createElement("rect",{x:"6",y:"14",width:"12",height:"8"}))}));$p.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$p.displayName="Printer";var Hp=$p;function Kp(){return(Kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gp(e,["color","size"]);return i.a.createElement("svg",Kp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"2"}),i.a.createElement("path",{d:"M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"}))}));Zp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zp.displayName="Radio";var qp=Zp;function Xp(){return(Xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yp(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qp=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yp(e,["color","size"]);return i.a.createElement("svg",Xp({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"1 4 1 10 7 10"}),i.a.createElement("polyline",{points:"23 20 23 14 17 14"}),i.a.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))}));Qp.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qp.displayName="RefreshCcw";var Jp=Qp;function eh(){return(eh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function th(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=th(e,["color","size"]);return i.a.createElement("svg",eh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 4 23 10 17 10"}),i.a.createElement("polyline",{points:"1 20 1 14 7 14"}),i.a.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))}));rh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},rh.displayName="RefreshCw";var nh=rh;function ih(){return(ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ah(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var oh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ah(e,["color","size"]);return i.a.createElement("svg",ih({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"17 1 21 5 17 9"}),i.a.createElement("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),i.a.createElement("polyline",{points:"7 23 3 19 7 15"}),i.a.createElement("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"}))}));oh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},oh.displayName="Repeat";var sh=oh;function lh(){return(lh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ch=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=uh(e,["color","size"]);return i.a.createElement("svg",lh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 19 2 12 11 5 11 19"}),i.a.createElement("polygon",{points:"22 19 13 12 22 5 22 19"}))}));ch.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ch.displayName="Rewind";var dh=ch;function fh(){return(fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ph(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ph(e,["color","size"]);return i.a.createElement("svg",fh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"1 4 1 10 7 10"}),i.a.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))}));hh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hh.displayName="RotateCcw";var gh=hh;function mh(){return(mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vh(e,["color","size"]);return i.a.createElement("svg",mh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 4 23 10 17 10"}),i.a.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))}));yh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yh.displayName="RotateCw";var bh=yh;function kh(){return(kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Eh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _h=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Eh(e,["color","size"]);return i.a.createElement("svg",kh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 11a9 9 0 0 1 9 9"}),i.a.createElement("path",{d:"M4 4a16 16 0 0 1 16 16"}),i.a.createElement("circle",{cx:"5",cy:"19",r:"1"}))}));_h.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_h.displayName="Rss";var Sh=_h;function Th(){return(Th=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wh(e,["color","size"]);return i.a.createElement("svg",Th({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),i.a.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),i.a.createElement("polyline",{points:"7 3 7 8 15 8"}))}));xh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xh.displayName="Save";var Oh=xh;function Ph(){return(Ph=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ch(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ah=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ch(e,["color","size"]);return i.a.createElement("svg",Ph({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"6",cy:"6",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"18",r:"3"}),i.a.createElement("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),i.a.createElement("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),i.a.createElement("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"}))}));Ah.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ah.displayName="Scissors";var Mh=Ah;function Ih(){return(Ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Dh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Rh(e,["color","size"]);return i.a.createElement("svg",Ih({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),i.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));Dh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Dh.displayName="Search";var Lh=Dh;function jh(){return(jh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Uh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Nh(e,["color","size"]);return i.a.createElement("svg",jh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),i.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))}));Uh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Uh.displayName="Send";var Bh=Uh;function Fh(){return(Fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zh(e,["color","size"]);return i.a.createElement("svg",Fh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}),i.a.createElement("rect",{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"6",y1:"6",x2:"6.01",y2:"6"}),i.a.createElement("line",{x1:"6",y1:"18",x2:"6.01",y2:"18"}))}));Vh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vh.displayName="Server";var Wh=Vh;function $h(){return($h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Kh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hh(e,["color","size"]);return i.a.createElement("svg",$h({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),i.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))}));Kh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Kh.displayName="Settings";var Gh=Kh;function Zh(){return(Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xh=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qh(e,["color","size"]);return i.a.createElement("svg",Zh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"18",cy:"5",r:"3"}),i.a.createElement("circle",{cx:"6",cy:"12",r:"3"}),i.a.createElement("circle",{cx:"18",cy:"19",r:"3"}),i.a.createElement("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),i.a.createElement("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}))}));Xh.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xh.displayName="Share2";var Yh=Xh;function Qh(){return(Qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jh(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var eg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jh(e,["color","size"]);return i.a.createElement("svg",Qh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),i.a.createElement("polyline",{points:"16 6 12 2 8 6"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))}));eg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},eg.displayName="Share";var tg=eg;function rg(){return(rg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ng(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ig=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ng(e,["color","size"]);return i.a.createElement("svg",rg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"}),i.a.createElement("path",{d:"M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));ig.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ig.displayName="ShieldOff";var ag=ig;function og(){return(og=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=sg(e,["color","size"]);return i.a.createElement("svg",og({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))}));lg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lg.displayName="Shield";var ug=lg;function cg(){return(cg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=dg(e,["color","size"]);return i.a.createElement("svg",cg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),i.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),i.a.createElement("path",{d:"M16 10a4 4 0 0 1-8 0"}))}));fg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fg.displayName="ShoppingBag";var pg=fg;function hg(){return(hg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gg(e,["color","size"]);return i.a.createElement("svg",hg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"9",cy:"21",r:"1"}),i.a.createElement("circle",{cx:"20",cy:"21",r:"1"}),i.a.createElement("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}))}));mg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mg.displayName="ShoppingCart";var vg=mg;function yg(){return(yg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bg(e,["color","size"]);return i.a.createElement("svg",yg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"16 3 21 3 21 8"}),i.a.createElement("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),i.a.createElement("polyline",{points:"21 16 21 21 16 21"}),i.a.createElement("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),i.a.createElement("line",{x1:"4",y1:"4",x2:"9",y2:"9"}))}));kg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},kg.displayName="Shuffle";var Eg=kg;function _g(){return(_g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Tg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Sg(e,["color","size"]);return i.a.createElement("svg",_g({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"9",y1:"3",x2:"9",y2:"21"}))}));Tg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Tg.displayName="Sidebar";var wg=Tg;function xg(){return(xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Og(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Og(e,["color","size"]);return i.a.createElement("svg",xg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"19 20 9 12 19 4 19 20"}),i.a.createElement("line",{x1:"5",y1:"19",x2:"5",y2:"5"}))}));Pg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pg.displayName="SkipBack";var Cg=Pg;function Ag(){return(Ag=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ig=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mg(e,["color","size"]);return i.a.createElement("svg",Ag({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"5 4 15 12 5 20 5 4"}),i.a.createElement("line",{x1:"19",y1:"5",x2:"19",y2:"19"}))}));Ig.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ig.displayName="SkipForward";var Rg=Ig;function Dg(){return(Dg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var jg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Lg(e,["color","size"]);return i.a.createElement("svg",Dg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"}),i.a.createElement("path",{d:"M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),i.a.createElement("path",{d:"M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"}),i.a.createElement("path",{d:"M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"}),i.a.createElement("path",{d:"M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"}),i.a.createElement("path",{d:"M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"}),i.a.createElement("path",{d:"M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"}),i.a.createElement("path",{d:"M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"}))}));jg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},jg.displayName="Slack";var Ng=jg;function Ug(){return(Ug=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bg(e,["color","size"]);return i.a.createElement("svg",Ug({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}))}));Fg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fg.displayName="Slash";var zg=Fg;function Vg(){return(Vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $g=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wg(e,["color","size"]);return i.a.createElement("svg",Vg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),i.a.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),i.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),i.a.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),i.a.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),i.a.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),i.a.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),i.a.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))}));$g.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$g.displayName="Sliders";var Hg=$g;function Kg(){return(Kg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gg(e,["color","size"]);return i.a.createElement("svg",Kg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}))}));Zg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zg.displayName="Smartphone";var qg=Zg;function Xg(){return(Xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yg(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qg=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yg(e,["color","size"]);return i.a.createElement("svg",Xg({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));Qg.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qg.displayName="Smile";var Jg=Qg;function em(){return(em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=tm(e,["color","size"]);return i.a.createElement("svg",em({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),i.a.createElement("circle",{cx:"12",cy:"14",r:"4"}),i.a.createElement("line",{x1:"12",y1:"6",x2:"12.01",y2:"6"}))}));rm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},rm.displayName="Speaker";var nm=rm;function im(){return(im=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function am(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var om=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=am(e,["color","size"]);return i.a.createElement("svg",im({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}))}));om.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},om.displayName="Square";var sm=om;function lm(){return(lm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function um(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var cm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=um(e,["color","size"]);return i.a.createElement("svg",lm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}))}));cm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},cm.displayName="Star";var dm=cm;function fm(){return(fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pm(e,["color","size"]);return i.a.createElement("svg",fm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("rect",{x:"9",y:"9",width:"6",height:"6"}))}));hm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hm.displayName="StopCircle";var gm=hm;function mm(){return(mm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ym=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vm(e,["color","size"]);return i.a.createElement("svg",mm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"5"}),i.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),i.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),i.a.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),i.a.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),i.a.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),i.a.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),i.a.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),i.a.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))}));ym.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ym.displayName="Sun";var bm=ym;function km(){return(km=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Em(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _m=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Em(e,["color","size"]);return i.a.createElement("svg",km({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17 18a5 5 0 0 0-10 0"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"9"}),i.a.createElement("line",{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"}),i.a.createElement("line",{x1:"1",y1:"18",x2:"3",y2:"18"}),i.a.createElement("line",{x1:"21",y1:"18",x2:"23",y2:"18"}),i.a.createElement("line",{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"}),i.a.createElement("line",{x1:"23",y1:"22",x2:"1",y2:"22"}),i.a.createElement("polyline",{points:"8 6 12 2 16 6"}))}));_m.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_m.displayName="Sunrise";var Sm=_m;function Tm(){return(Tm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wm(e,["color","size"]);return i.a.createElement("svg",Tm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17 18a5 5 0 0 0-10 0"}),i.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"2"}),i.a.createElement("line",{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"}),i.a.createElement("line",{x1:"1",y1:"18",x2:"3",y2:"18"}),i.a.createElement("line",{x1:"21",y1:"18",x2:"23",y2:"18"}),i.a.createElement("line",{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"}),i.a.createElement("line",{x1:"23",y1:"22",x2:"1",y2:"22"}),i.a.createElement("polyline",{points:"16 5 12 9 8 5"}))}));xm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xm.displayName="Sunset";var Om=xm;function Pm(){return(Pm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Am=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Cm(e,["color","size"]);return i.a.createElement("svg",Pm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}))}));Am.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Am.displayName="Tablet";var Mm=Am;function Im(){return(Im=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Dm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Rm(e,["color","size"]);return i.a.createElement("svg",Im({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),i.a.createElement("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"}))}));Dm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Dm.displayName="Tag";var Lm=Dm;function jm(){return(jm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Um=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Nm(e,["color","size"]);return i.a.createElement("svg",jm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"6"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"2"}))}));Um.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Um.displayName="Target";var Bm=Um;function Fm(){return(Fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zm(e,["color","size"]);return i.a.createElement("svg",Fm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"4 17 10 11 4 5"}),i.a.createElement("line",{x1:"12",y1:"19",x2:"20",y2:"19"}))}));Vm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vm.displayName="Terminal";var Wm=Vm;function $m(){return($m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Km=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hm(e,["color","size"]);return i.a.createElement("svg",$m({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"}))}));Km.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Km.displayName="Thermometer";var Gm=Km;function Zm(){return(Zm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xm=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qm(e,["color","size"]);return i.a.createElement("svg",Zm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}))}));Xm.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xm.displayName="ThumbsDown";var Ym=Xm;function Qm(){return(Qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ev=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jm(e,["color","size"]);return i.a.createElement("svg",Qm({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}))}));ev.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ev.displayName="ThumbsUp";var tv=ev;function rv(){return(rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var iv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=nv(e,["color","size"]);return i.a.createElement("svg",rv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}),i.a.createElement("circle",{cx:"8",cy:"12",r:"3"}))}));iv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},iv.displayName="ToggleLeft";var av=iv;function ov(){return(ov=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=sv(e,["color","size"]);return i.a.createElement("svg",ov({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}),i.a.createElement("circle",{cx:"16",cy:"12",r:"3"}))}));lv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lv.displayName="ToggleRight";var uv=lv;function cv(){return(cv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=dv(e,["color","size"]);return i.a.createElement("svg",cv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}))}));fv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fv.displayName="Tool";var pv=fv;function hv(){return(hv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gv(e,["color","size"]);return i.a.createElement("svg",hv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"3 6 5 6 21 6"}),i.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),i.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),i.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))}));mv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mv.displayName="Trash2";var vv=mv;function yv(){return(yv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bv(e,["color","size"]);return i.a.createElement("svg",yv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"3 6 5 6 21 6"}),i.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));kv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},kv.displayName="Trash";var Ev=kv;function _v(){return(_v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Tv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Sv(e,["color","size"]);return i.a.createElement("svg",_v({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("rect",{x:"7",y:"7",width:"3",height:"9"}),i.a.createElement("rect",{x:"14",y:"7",width:"3",height:"5"}))}));Tv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Tv.displayName="Trello";var wv=Tv;function xv(){return(xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ov(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ov(e,["color","size"]);return i.a.createElement("svg",xv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"}),i.a.createElement("polyline",{points:"17 18 23 18 23 12"}))}));Pv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pv.displayName="TrendingDown";var Cv=Pv;function Av(){return(Av=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Iv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mv(e,["color","size"]);return i.a.createElement("svg",Av({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),i.a.createElement("polyline",{points:"17 6 23 6 23 12"}))}));Iv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Iv.displayName="TrendingUp";var Rv=Iv;function Dv(){return(Dv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var jv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Lv(e,["color","size"]);return i.a.createElement("svg",Dv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}))}));jv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},jv.displayName="Triangle";var Nv=jv;function Uv(){return(Uv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bv(e,["color","size"]);return i.a.createElement("svg",Uv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"1",y:"3",width:"15",height:"13"}),i.a.createElement("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),i.a.createElement("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),i.a.createElement("circle",{cx:"18.5",cy:"18.5",r:"2.5"}))}));Fv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fv.displayName="Truck";var zv=Fv;function Vv(){return(Vv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $v=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wv(e,["color","size"]);return i.a.createElement("svg",Vv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}),i.a.createElement("polyline",{points:"17 2 12 7 7 2"}))}));$v.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$v.displayName="Tv";var Hv=$v;function Kv(){return(Kv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gv(e,["color","size"]);return i.a.createElement("svg",Kv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"}))}));Zv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zv.displayName="Twitch";var qv=Zv;function Xv(){return(Xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qv=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yv(e,["color","size"]);return i.a.createElement("svg",Xv({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}))}));Qv.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qv.displayName="Twitter";var Jv=Qv;function ey(){return(ey=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ty(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ry=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ty(e,["color","size"]);return i.a.createElement("svg",ey({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"4 7 4 4 20 4 20 7"}),i.a.createElement("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),i.a.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"20"}))}));ry.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ry.displayName="Type";var ny=ry;function iy(){return(iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ay(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var oy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ay(e,["color","size"]);return i.a.createElement("svg",iy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"}))}));oy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},oy.displayName="Umbrella";var sy=oy;function ly(){return(ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var cy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=uy(e,["color","size"]);return i.a.createElement("svg",ly({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"}),i.a.createElement("line",{x1:"4",y1:"21",x2:"20",y2:"21"}))}));cy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},cy.displayName="Underline";var dy=cy;function fy(){return(fy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function py(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=py(e,["color","size"]);return i.a.createElement("svg",fy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}))}));hy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hy.displayName="Unlock";var gy=hy;function my(){return(my=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vy(e,["color","size"]);return i.a.createElement("svg",my({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"16 16 12 12 8 16"}),i.a.createElement("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),i.a.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),i.a.createElement("polyline",{points:"16 16 12 12 8 16"}))}));yy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yy.displayName="UploadCloud";var by=yy;function ky(){return(ky=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ey(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _y=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ey(e,["color","size"]);return i.a.createElement("svg",ky({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.a.createElement("polyline",{points:"17 8 12 3 7 8"}),i.a.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"}))}));_y.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},_y.displayName="Upload";var Sy=_y;function Ty(){return(Ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=wy(e,["color","size"]);return i.a.createElement("svg",Ty({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.a.createElement("polyline",{points:"17 11 19 13 23 9"}))}));xy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},xy.displayName="UserCheck";var Oy=xy;function Py(){return(Py=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ay=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Cy(e,["color","size"]);return i.a.createElement("svg",Py({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));Ay.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ay.displayName="UserMinus";var My=Ay;function Iy(){return(Iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ry(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Dy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ry(e,["color","size"]);return i.a.createElement("svg",Iy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.a.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),i.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));Dy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Dy.displayName="UserPlus";var Ly=Dy;function jy(){return(jy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ny(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Uy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ny(e,["color","size"]);return i.a.createElement("svg",jy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),i.a.createElement("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),i.a.createElement("line",{x1:"23",y1:"8",x2:"18",y2:"13"}))}));Uy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Uy.displayName="UserX";var By=Uy;function Fy(){return(Fy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Vy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=zy(e,["color","size"]);return i.a.createElement("svg",Fy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));Vy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Vy.displayName="User";var Wy=Vy;function $y(){return($y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ky=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Hy(e,["color","size"]);return i.a.createElement("svg",$y({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),i.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),i.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))}));Ky.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ky.displayName="Users";var Gy=Ky;function Zy(){return(Zy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Xy=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=qy(e,["color","size"]);return i.a.createElement("svg",Zy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));Xy.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Xy.displayName="VideoOff";var Yy=Xy;function Qy(){return(Qy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var eb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Jy(e,["color","size"]);return i.a.createElement("svg",Qy({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),i.a.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))}));eb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},eb.displayName="Video";var tb=eb;function rb(){return(rb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ib=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=nb(e,["color","size"]);return i.a.createElement("svg",rb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"5.5",cy:"11.5",r:"4.5"}),i.a.createElement("circle",{cx:"18.5",cy:"11.5",r:"4.5"}),i.a.createElement("line",{x1:"5.5",y1:"16",x2:"18.5",y2:"16"}))}));ib.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ib.displayName="Voicemail";var ab=ib;function ob(){return(ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var lb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=sb(e,["color","size"]);return i.a.createElement("svg",ob({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),i.a.createElement("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}))}));lb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},lb.displayName="Volume1";var ub=lb;function cb(){return(cb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function db(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=db(e,["color","size"]);return i.a.createElement("svg",cb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),i.a.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}))}));fb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},fb.displayName="Volume2";var pb=fb;function hb(){return(hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=gb(e,["color","size"]);return i.a.createElement("svg",hb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),i.a.createElement("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),i.a.createElement("line",{x1:"17",y1:"9",x2:"23",y2:"15"}))}));mb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},mb.displayName="VolumeX";var vb=mb;function yb(){return(yb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=bb(e,["color","size"]);return i.a.createElement("svg",yb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}))}));kb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},kb.displayName="Volume";var Eb=kb;function _b(){return(_b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Tb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Sb(e,["color","size"]);return i.a.createElement("svg",_b({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"7"}),i.a.createElement("polyline",{points:"12 9 12 12 13.5 13.5"}),i.a.createElement("path",{d:"M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"}))}));Tb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Tb.displayName="Watch";var wb=Tb;function xb(){return(xb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ob(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Pb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Ob(e,["color","size"]);return i.a.createElement("svg",xb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),i.a.createElement("path",{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"}),i.a.createElement("path",{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"}),i.a.createElement("path",{d:"M10.71 5.05A16 16 0 0 1 22.58 9"}),i.a.createElement("path",{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"}),i.a.createElement("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),i.a.createElement("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"}))}));Pb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Pb.displayName="WifiOff";var Cb=Pb;function Ab(){return(Ab=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ib=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Mb(e,["color","size"]);return i.a.createElement("svg",Ab({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M5 12.55a11 11 0 0 1 14.08 0"}),i.a.createElement("path",{d:"M1.42 9a16 16 0 0 1 21.16 0"}),i.a.createElement("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),i.a.createElement("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"}))}));Ib.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Ib.displayName="Wifi";var Rb=Ib;function Db(){return(Db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var jb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Lb(e,["color","size"]);return i.a.createElement("svg",Db({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"}))}));jb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},jb.displayName="Wind";var Nb=jb;function Ub(){return(Ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Fb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Bb(e,["color","size"]);return i.a.createElement("svg",Ub({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))}));Fb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Fb.displayName="XCircle";var zb=Fb;function Vb(){return(Vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $b=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Wb(e,["color","size"]);return i.a.createElement("svg",Vb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))}));$b.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},$b.displayName="XOctagon";var Hb=$b;function Kb(){return(Kb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Gb(e,["color","size"]);return i.a.createElement("svg",Kb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}))}));Zb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Zb.displayName="XSquare";var qb=Zb;function Xb(){return(Xb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qb=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=Yb(e,["color","size"]);return i.a.createElement("svg",Xb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));Qb.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},Qb.displayName="X";var Jb=Qb;function ek(){return(ek=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rk=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=tk(e,["color","size"]);return i.a.createElement("svg",ek({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),i.a.createElement("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"}))}));rk.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},rk.displayName="Youtube";var nk=rk;function ik(){return(ik=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ak(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ok=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=ak(e,["color","size"]);return i.a.createElement("svg",ik({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polyline",{points:"12.41 6.75 13 2 10.57 4.92"}),i.a.createElement("polyline",{points:"18.57 12.91 21 10 15.66 10"}),i.a.createElement("polyline",{points:"8 8 3 14 12 14 11 22 16 16"}),i.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));ok.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ok.displayName="ZapOff";var sk=ok;function lk(){return(lk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ck=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=uk(e,["color","size"]);return i.a.createElement("svg",lk({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))}));ck.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},ck.displayName="Zap";var dk=ck;function fk(){return(fk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var hk=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=pk(e,["color","size"]);return i.a.createElement("svg",fk({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),i.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),i.a.createElement("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),i.a.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))}));hk.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},hk.displayName="ZoomIn";var gk=hk;function mk(){return(mk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yk=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,s=vk(e,["color","size"]);return i.a.createElement("svg",mk({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),i.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),i.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),i.a.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))}));yk.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},yk.displayName="ZoomOut";var bk=yk},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(22),i=r(7),a={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},o=Object(n.a)("span",{baseStyle:a});i.a&&(o.displayName="VisuallyHidden");var s=Object(n.a)("input",{baseStyle:a});i.a&&(s.displayName="VisuallyHiddenInput")},function(e,t,r){"use strict";r.d(t,"b",(function(){return k})),r.d(t,"a",(function(){return E}));var n=r(4),i=r(7),a=r(18),o=r(27),s=r(0),l="chakra-ui-light",u="chakra-ui-dark",c={classList:{add:o.c,remove:o.c}};function d(e){var t=a.f?document.body:c;t.classList.add(e?u:l),t.classList.remove(e?l:u)}var f="(prefers-color-scheme: dark)";function p(e){var t;return(null!=(t=function(e){var t=null==window.matchMedia?void 0:window.matchMedia(e);if(t)return!!t.media===t.matches}(f))?t:"dark"===e)?"dark":"light"}var h=function(){return document.documentElement.style.getPropertyValue("--chakra-ui-color-mode")},g=function(e){a.f&&document.documentElement.style.setProperty("--chakra-ui-color-mode",e)},m="undefined"!==typeof Storage,v="chakra-ui-color-mode",y={get:function(e){if(!m)return e;var t=window.localStorage.getItem(v);return null!=t?t:e},set:function(e){m&&window.localStorage.setItem(v,e)},type:"localStorage"};var b=s.createContext({});i.a&&(b.displayName="ColorModeContext");var k=function(){var e=s.useContext(b);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e};function E(e){var t=e.value,r=e.children,i=e.options,l=i.useSystemColorMode,u=i.initialColorMode,c=e.colorModeManager,m=void 0===c?y:c,v=s.useState("cookie"===m.type?m.get(u):u),k=Object(n.a)(v,2),E=k[0],_=k[1];s.useEffect((function(){if(a.f&&"localStorage"===m.type){var e=l?p(u):h()||m.get();e&&_(e)}}),[m,l,u]),s.useEffect((function(){var e="dark"===E;d(e),g(e?"dark":"light")}),[E]);var S=s.useCallback((function(e){m.set(e),_(e)}),[m]),T=s.useCallback((function(){S("light"===E?"dark":"light")}),[E,S]);s.useEffect((function(){var e;return l&&(e=function(e){if(!("matchMedia"in window))return o.c;var t=window.matchMedia(f),r=function(){e(t.matches?"dark":"light")};return r(),t.addListener(r),function(){t.removeListener(r)}}(S)),function(){e&&l&&e()}}),[S,l]);var w={colorMode:null!=t?t:E,toggleColorMode:t?o.c:T,setColorMode:t?o.c:S};return s.createElement(b.Provider,{value:w},r)}i.a&&(E.displayName="ColorModeProvider");i.a;i.a},,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(18),l=r(7),u=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=Object(n.a)((function(e,t){var r=Object(i.b)("Heading",e),n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(Object(a.b)(e),["className"]);return u.createElement(o.a.h2,c({ref:t,className:Object(s.c)("chakra-heading",e.className)},n,{__css:r}))}));l.a&&(d.displayName="Heading")},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(4),i=r(71),a=r(27),o=r(18),s=r(7),l=r(19),u=r(0),c=r(29);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){return null!=e&&parseInt(e.toString(),10)>0},p={exit:function(e){return d({},e.animateOpacity&&{opacity:f(e.startingHeight)?1:0},{height:e.startingHeight,transition:{height:{duration:.2,ease:c.a.ease},opacity:{duration:.3,ease:c.a.ease}}})},enter:function(e){return d({},e.animateOpacity&&{opacity:1},{height:e.endingHeight,transition:{height:{duration:.3,ease:c.a.ease},opacity:{duration:.4,ease:c.a.ease}}})}},h=u.forwardRef((function(e,t){var r=e.in,s=e.unmountOnExit,c=e.animateOpacity,h=void 0===c||c,g=e.startingHeight,m=void 0===g?0:g,v=e.endingHeight,y=void 0===v?"auto":v,b=e.style,k=e.className,E=e.onAnimationComplete,_=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["in","unmountOnExit","animateOpacity","startingHeight","endingHeight","style","className","onAnimationComplete"]),S=0===m,T=u.useState(!!r),w=Object(n.a)(T,2),x=w[0],O=w[1],P=u.useState((function(){return S?!r&&!f(m)?"block":"none":"block"})),C=Object(n.a)(P,2),A=C[0],M=C[1];Object(i.a)((function(){M("block"),O(!!r)}),[r]),m>0&&s&&Object(a.e)("startingHeight and unmountOnExit are mutually exclusive. You can't use them together");var I={startingHeight:m,endingHeight:y,animateOpacity:h},R=d({ref:t,onAnimationComplete:function(){!x&&S&&M("none"),null==E||E()},className:Object(o.c)("chakra-collapse",k)},_,{variants:p,style:d({overflow:"hidden"},b),custom:I});return s?u.createElement(l.a,{initial:!1,custom:I},r&&u.createElement(l.b.div,d({},R,{initial:"exit",animate:"enter",exit:"exit"}))):u.createElement(l.b.div,d({},R,{style:d({},R.style,{display:A}),initial:!1,animate:x?"enter":"exit"}))}));s.a&&(h.displayName="Collapse")},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(20),i=r(22),a=r(7),o=r(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=Object(n.a)((function(e,t){var r=e.direction,n=e.align,a=e.justify,l=e.wrap,u=e.basis,c=e.grow,d=e.shrink,f=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["direction","align","justify","wrap","basis","grow","shrink"]),p={display:"flex",flexDirection:r,alignItems:n,justifyContent:a,flexWrap:l,flexBasis:u,flexGrow:c,flexShrink:d};return o.createElement(i.a.div,s({ref:t,__css:p},f))}));a.a&&(l.displayName="Flex")},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(20),i=r(7),a=r(0),o=r(196);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=Object(n.a)((function(e,t){var r=e.icon,n=e.children,i=e.isRound,l=e["aria-label"],u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["icon","children","isRound","aria-label"]),c=r||n,d=a.isValidElement(c)?a.cloneElement(c,{"aria-hidden":!0,focusable:!1}):null;return a.createElement(o.a,s({padding:"0",borderRadius:i?"full":"md",ref:t,"aria-label":l},u),d)}));i.a&&(l.displayName="IconButton")},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(76),i=r(0),a=Object(n.a)({displayName:"DeleteIcon",path:i.createElement("g",{fill:"currentColor"},i.createElement("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"}))})},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(22),i=r(20),a=r(7),o=r(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var u=Object(n.a)("div");a.a&&(u.displayName="Box");var c=Object(i.a)((function(e,t){var r=e.size,n=e.centerContent,i=void 0===n||n,a=l(e,["size","centerContent"]),c=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return o.createElement(u,s({ref:t,boxSize:r,__css:s({},c,{flexShrink:0,flexGrow:0})},a))}));a.a&&(c.displayName="Square");var d=Object(i.a)((function(e,t){var r=e.size,n=l(e,["size"]);return o.createElement(c,s({size:r,ref:t,borderRadius:"9999px"},n))}));a.a&&(d.displayName="Circle")},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return d}));var n=r(4),i=r(25),a=r(0),o=r(198),s=r(75);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function c(e){var t=e.context,r=e.element,n=e.index,a=e.disabled,c=e.focusable,d=u(e,["context","element","index","disabled","focusable"]),f=Object(o.a)(),p=t.register,h=t.unregister,g=t.descendants;return Object(s.a)((function(){if(r||f(),!a||c)return p(l({element:r,disabled:a,focusable:c},d)),function(){r&&h(r)}}),[r,a,c].concat(Object(i.a)(Object.values(d)))),null!=n?n:g.findIndex((function(e){return e.element===r}))}function d(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),r=t[0],o=t[1],s=Object(a.useCallback)((function(e){var t=e.element,r=u(e,["element"]);t&&o((function(e){if(null==e.find((function(e){return e.element===t}))){var n=e.findIndex((function(e){return!(!e.element||!t)&&Boolean(e.element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)})),a=l({element:t},r);return-1===n?[].concat(Object(i.a)(e),[a]):[].concat(Object(i.a)(e.slice(0,n)),[a],Object(i.a)(e.slice(n)))}return e}))}),[]),c=Object(a.useCallback)((function(e){e&&o((function(t){return t.filter((function(t){return e!==t.element}))}))}),[]);return Object(a.useMemo)((function(){return{descendants:r,register:s,unregister:c}}),[r,s,c])}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));r(4);var n=r(41),i=["input:not([disabled])","select:not([disabled])","textarea:not([disabled])","embed","iframe","object","a[href]","area[href]","button:not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"].join(),a=function(e){return 0!==e.button};function o(e){var t=Array.from(e.querySelectorAll(i));return t.unshift(e),t.filter(n.c).filter((function(e){return"none"!==window.getComputedStyle(e).display}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(76),i=Object(n.a)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(112),i=r(20),a=r(56),o=r(39),s=r(22),l=r(18),u=r(7),c=r(0);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=Object(i.a)((function(e,t){var r=Object(a.a)("Switch",e),i=Object(o.b)(e),u=Object(n.a)(i),f=u.state,p=u.getInputProps,h=u.getCheckboxProps,g=u.htmlProps,m=p({},t),v=h(),y=d({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer"},r.track);return c.createElement(s.a.label,d({},g,{className:Object(l.c)("chakra-switch",e.className),__css:{display:"inline-block",verticalAlign:"middle",lineHeight:"normal"}}),c.createElement("input",d({className:"chakra-switch__input"},m)),c.createElement(s.a.span,d({},v,{className:"chakra-switch__track",__css:y}),c.createElement(s.a.span,{__css:r.thumb,className:"chakra-switch__thumb","data-checked":Object(l.d)(f.isChecked),"data-hover":Object(l.d)(f.isHovered)})))}));u.a&&(f.displayName="Switch")},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(62),l=r(18),u=r(7),c=r(0),d=r(61);function f(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=Object(n.a)((function(e,t){var r=Object(i.b)("FormLabel",e),n=Object(a.b)(e),s=n.children,u=n.requiredIndicator,h=void 0===u?c.createElement(g,null):u,m=function(e){var t,r,n=Object(d.c)();return p({},e,{"data-focus":Object(l.d)(null==n?void 0:n.isFocused),"data-disabled":Object(l.d)(null==n?void 0:n.isDisabled),"data-invalid":Object(l.d)(null==n?void 0:n.isInvalid),"data-loading":Object(l.d)(null==n?void 0:n.isLoading),"data-readonly":Object(l.d)(null==n?void 0:n.isReadOnly),id:null!=(t=e.id)?t:null==n?void 0:n.labelId,htmlFor:null!=(r=e.htmlFor)?r:null==n?void 0:n.id})}(f(n,["className","children","requiredIndicator"])),v=Object(d.c)();return c.createElement(o.a.label,p({ref:t,className:Object(l.c)("chakra-form__label",n.className),__css:p({display:"block",textAlign:"left"},r)},m),s,(null==v?void 0:v.isRequired)?h:null)}));u.a&&(h.displayName="FormLabel");var g=Object(n.a)((function(e,t){var r=e.children,n=e.className,i=f(e,["children","className"]),a=Object(d.c)(),u=Object(s.c)();if(!(null==a?void 0:a.isRequired))return null;var h=Object(l.c)("chakra-form__required-indicator",n);return c.createElement(o.a.span,p({role:"presentation","aria-hidden":!0,ref:t},i,{__css:u.requiredIndicator,className:h}),r||"*")}));u.a&&(g.displayName="RequiredIndicator")},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(20),i=r(22),a=r(7),o=(r(63),r(46),r(0));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var u=Object(n.a)((function(e,t){var r=e.area,n=e.templateAreas,a=e.gap,u=e.rowGap,c=e.columnGap,d=e.column,f=e.row,p=e.autoFlow,h=e.autoRows,g=e.templateRows,m=e.autoColumns,v=e.templateColumns,y=l(e,["area","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"]),b={display:"grid",gridArea:r,gridTemplateAreas:n,gridGap:a,gridRowGap:u,gridColumnGap:c,gridAutoColumns:m,gridColumn:d,gridRow:f,gridAutoFlow:p,gridAutoRows:h,gridTemplateRows:g,gridTemplateColumns:v};return o.createElement(i.a.div,s({ref:t,__css:b},y))}));a.a&&(u.displayName="Grid")},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(46),l=r(18),u=r(7),c=r(0);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=Object(n.a)((function(e,t){var r=Object(i.b)("Text",e),n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(Object(a.b)(e),["className","align","decoration","casing"]),u=Object(s.a)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return c.createElement(o.a.p,d({ref:t,className:Object(l.c)("chakra-text",e.className)},u,n,{__css:r}))}));u.a&&(f.displayName="Text")},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(18),l=r(7),u=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=Object(n.a)((function(e,t){var r=Object(i.b)("Link",e),n=Object(a.b)(e),l=n.className,d=n.isExternal,f=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(n,["className","isExternal"]);return u.createElement(o.a.a,c({target:d?"_blank":void 0,rel:d?"noopener noreferrer":void 0,ref:t,className:Object(s.c)("chakra-link",l)},f,{__css:r}))}));l.a&&(d.displayName="Link")},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(14),i=r(22),a=r(20),o=r(63),s=r(64),l=r(18),u=r(7),c=r(0);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){return c.createElement(i.a.div,d({className:"chakra-stack__item"},e,{__css:d({display:"inline-block",flex:"0 0 auto",minWidth:0},e.__css)}))},p="& > *:not(style) ~ *:not(style)",h=Object(a.a)((function(e,t){var r=e.isInline,a=e.direction,u=e.align,h=e.justify,g=e.spacing,m=void 0===g?"0.5rem":g,v=e.wrap,y=e.children,b=e.divider,k=e.className,E=e.shouldWrapChildren,_=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"]),S=r?"row":null!=a?a:"column",T=c.useMemo((function(){var e={column:{mt:m,ml:0},row:{ml:m,mt:0},"column-reverse":{mb:m,mr:0},"row-reverse":{mr:m,mb:0}};return Object(n.a)({flexDirection:S},p,Object(o.b)(S,(function(t){return e[t]})))}),[S,m]),w={marginX:Object(o.b)(S,(function(e){return e.includes("row")?m:0})),marginY:Object(o.b)(S,(function(e){return e.includes("row")?0:m})),borderLeftWidth:Object(o.b)(S,(function(e){return e.includes("row")?"1px":0})),borderBottomWidth:Object(o.b)(S,(function(e){return e.includes("row")?0:"1px"}))},x=!!b,O=!E&&!x,P=Object(s.b)(y),C=O?P:P.map((function(e,t){var r=t+1===P.length,n=E?c.createElement(f,{key:t},e):e;if(!x)return n;var i=r?null:c.cloneElement(b,w);return c.createElement(c.Fragment,{key:t},[n,i])})),A=Object(l.c)("chakra-stack",k);return c.createElement(i.a.div,d({ref:t,display:"flex",alignItems:u,justifyContent:h,flexDirection:T.flexDirection,flexWrap:v,className:A,__css:x?{}:Object(n.a)({},p,T[p])},_),C)}));u.a&&(h.displayName="Stack");var g=Object(a.a)((function(e,t){return c.createElement(h,d({align:"center"},e,{direction:"row",ref:t}))}));u.a&&(g.displayName="HStack");var m=Object(a.a)((function(e,t){return c.createElement(h,d({align:"center"},e,{direction:"column",ref:t}))}));u.a&&(m.displayName="VStack")},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var n=r(20),i=r(0),a=r(43);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e){var t=e.leastDestructiveRef,r=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["leastDestructiveRef"]);return i.createElement(a.a,o({},r,{initialFocusRef:t}))}var l=Object(n.a)((function(e,t){return i.createElement(a.c,o({ref:t,role:"alertdialog"},e))}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return g}));var n=r(14),i=r(110),a=r(20),o=r(22),s=r(64),l=r(7),u=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var f=Object(a.a)((function(e,t){var r=e.children,i=e.styleType,a=void 0===i?"none":i,l=e.stylePosition,f=e.spacing,p=d(e,["children","styleType","stylePosition","spacing"]),h=Object(s.b)(r);return u.createElement(o.a.ul,c({ref:t,listStyleType:a,listStylePosition:l,role:"list",__css:f?Object(n.a)({},"& > *:not(style) ~ *:not(style)",{mt:f}):{}},p),h)}));l.a&&(f.displayName="List");var p=Object(a.a)((function(e,t){var r=d(e,["as"]);return u.createElement(f,c({ref:t,as:"ol",styleType:"decimal",marginLeft:"1em"},r))}));l.a&&(p.displayName="OrderedList");var h=Object(a.a)((function(e,t){var r=d(e,["as"]);return u.createElement(f,c({ref:t,as:"ul",styleType:"initial",marginLeft:"1em"},r))}));l.a&&(h.displayName="UnorderedList");var g=Object(o.a)("li");l.a&&(g.displayName="ListItem");var m=Object(a.a)((function(e,t){return u.createElement(i.a,c({ref:t,role:"presentation",marginRight:"0.5rem",display:"inline",verticalAlign:"text-bottom"},e))}));l.a&&(m.displayName="ListIcon")},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(76),i=r(0),a=Object(n.a)({displayName:"ExternalLinkIcon",path:i.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},i.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.createElement("path",{d:"M15 3h6v6"}),i.createElement("path",{d:"M10 14L21 3"}))})},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(20),i=r(56),a=r(39),o=r(22),s=r(18),l=r(7),u=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=Object(n.a)((function(e,t){var r=Object(i.b)("Badge",e),n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(Object(a.b)(e),["className"]);return u.createElement(o.a.span,c({ref:t,className:Object(s.c)("chakra-badge",e.className)},n,{__css:c({display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},r)}))}));l.a&&(d.displayName="Badge")},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(4),i=r(0),a=r(184),o=r.n(a);function s(e,t){void 0===t&&(t=1500);var r=Object(i.useState)(!1),a=Object(n.a)(r,2),s=a[0],l=a[1],u=Object(i.useCallback)((function(){var t=o()(e);l(t)}),[e]);return Object(i.useEffect)((function(){var e=null;return s&&(e=window.setTimeout((function(){l(!1)}),t)),function(){e&&window.clearTimeout(e)}}),[t,s]),{value:e,onCopy:u,hasCopied:s}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(76),i=r(0),a=Object(n.a)({viewBox:"0 0 14 14",path:i.createElement("g",{fill:"currentColor"},i.createElement("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))})},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(76),i=Object(n.a)({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(93),i=r(7),a=r(46);function o(e){return Object(a.d)({},n.a,e,(function e(t,r){if(Object(i.d)(t))return function(){var n=t.apply(void 0,arguments),o=Object(i.d)(r)?r.apply(void 0,arguments):r;return Object(a.d)({},n,o,e)}}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Xe})),r.d(t,"b",(function(){return Qe})),r.d(t,"d",(function(){return tt})),r.d(t,"c",(function(){return nt}));var n=r(56),i=r(39),a=r(62),o=r(20),s=r(22),l=r(27),u=r(7),c=r(18),d=r(19),f=r(0),p=r(4),h=r(352),g=r(327),m=r(111),v=r(117);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e){var t=e.ref,r=e.handler,n=function(e){var t=f.useRef(e);return f.useEffect((function(){t.current=e}),[e]),t}(r),i=Object(f.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;Object(f.useEffect)((function(){var e=function(e){k(e,t)&&(i.isPointerDown=!0)},a=function(e){i.ignoreEmulatedMouseEvents?i.ignoreEmulatedMouseEvents=!1:i.isPointerDown&&r&&k(e,t)&&(i.isPointerDown=!1,null==n.current||n.current(e))},o=function(e){i.ignoreEmulatedMouseEvents=!0,r&&i.isPointerDown&&k(e,t)&&(i.isPointerDown=!1,null==n.current||n.current(e))};return document.addEventListener("mousedown",e,!0),document.addEventListener("mouseup",a,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",o,!0),function(){document.removeEventListener("mousedown",e,!0),document.removeEventListener("mouseup",a,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",o,!0)}}),[r,t,i.ignoreEmulatedMouseEvents,i.isPointerDown])}function k(e,t){var r=e.target;if(e.button>0)return!1;if(r){var n=r.ownerDocument;if(!n||!n.body.contains(r))return!1}return t.current&&!t.current.contains(r)}var E=r(71),_=r(41);function S(e,t){var r=t.shouldFocus,n=t.visible,i=t.focusRef,a=r&&!n;Object(E.a)((function(){if(a&&!function(e){var t=e.current;if(!t)return!1;var r=Object(c.e)(t);return!!r&&(!Object(c.b)(t,r)&&!!Object(_.e)(r))}(e)){var t=(null==i?void 0:i.current)||e.current;t&&Object(_.a)(t)}}),[a,e,i])}var T=r(25);function w(e){void 0===e&&(e={});var t=e,r=t.timeout,n=void 0===r?300:r,i=t.preventDefault,a=void 0===i?function(){return!0}:i,o=f.useState([]),s=Object(p.a)(o,2),l=s[0],u=s[1],c=f.useRef(),d=function(){c.current&&(clearTimeout(c.current),c.current=null)};return f.useEffect((function(){return d}),[]),function(e){return function(t){if("Backspace"===t.key){var r=Object(T.a)(l);return r.pop(),void u(r)}if(function(e){var t=e.key;return 1===t.length||t.length>1&&/[^a-zA-Z0-9]/.test(t)}(t)){var i=l.concat(t.key);a(t)&&(t.preventDefault(),t.stopPropagation()),u(i),e(i.join("")),d(),c.current=setTimeout((function(){u([]),c.current=null}),n)}}}}var x=r(64);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){if(t)return e.includes("top")?"2px 2px 2px 0 "+t:e.includes("bottom")?"-1px -1px 1px 0 "+t:e.includes("right")?"-1px 1px 1px 0 "+t:e.includes("left")?"1px -1px 1px 0 "+t:void 0}var C={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},A=function(e){return C[e]},M=r(75),I=r(46);function R(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function D(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function L(e){var t=D(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function j(e){return e instanceof D(e).Element||e instanceof Element}function N(e){return e instanceof D(e).HTMLElement||e instanceof HTMLElement}function U(e){return e?(e.nodeName||"").toLowerCase():null}function B(e){return(j(e)?e.ownerDocument:e.document).documentElement}function F(e){return R(B(e)).left+L(e).scrollLeft}function z(e){return D(e).getComputedStyle(e)}function V(e){var t=z(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function W(e,t,r){void 0===r&&(r=!1);var n=B(t),i=R(e),a=N(t),o={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(a||!a&&!r)&&(("body"!==U(t)||V(n))&&(o=function(e){return e!==D(e)&&N(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:L(e);var t}(t)),N(t)?((s=R(t)).x+=t.clientLeft,s.y+=t.clientTop):n&&(s.x=F(n))),{x:i.left+o.scrollLeft-s.x,y:i.top+o.scrollTop-s.y,width:i.width,height:i.height}}function $(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function H(e){return"html"===U(e)?e:e.assignedSlot||e.parentNode||e.host||B(e)}function K(e,t){void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(U(t))>=0?t.ownerDocument.body:N(t)&&V(t)?t:e(H(t))}(e),n="body"===U(r),i=D(r),a=n?[i].concat(i.visualViewport||[],V(r)?r:[]):r,o=t.concat(a);return n?o:o.concat(K(H(a)))}function G(e){return["table","td","th"].indexOf(U(e))>=0}function Z(e){if(!N(e)||"fixed"===z(e).position)return null;var t=e.offsetParent;if(t){var r=B(t);if("body"===U(t)&&"static"===z(t).position&&"static"!==z(r).position)return r}return t}function q(e){for(var t=D(e),r=Z(e);r&&G(r)&&"static"===z(r).position;)r=Z(r);return r&&"body"===U(r)&&"static"===z(r).position?t:r||function(e){for(var t=H(e);N(t)&&["html","body"].indexOf(U(t))<0;){var r=z(t);if("none"!==r.transform||"none"!==r.perspective||r.willChange&&"auto"!==r.willChange)return t;t=t.parentNode}return null}(e)||t}var X="top",Y="bottom",Q="right",J="left",ee=[X,Y,Q,J],te=ee.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),re=[].concat(ee,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),ne=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ie(e){var t=new Map,r=new Set,n=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||function e(i){r.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(n){if(!r.has(n)){var i=t.get(n);i&&e(i)}})),n.push(i)}(e)})),n}function ae(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var oe={placement:"bottom",modifiers:[],strategy:"absolute"};function se(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function le(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,a=void 0===i?oe:i;return function(e,t,r){void 0===r&&(r=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},oe),a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,l={state:i,setOptions:function(r){u(),i.options=Object.assign(Object.assign(Object.assign({},a),i.options),r),i.scrollParents={reference:j(e)?K(e):e.contextElement?K(e.contextElement):[],popper:K(t)};var s=function(e){var t=ie(e);return ne.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign(Object.assign(Object.assign({},r),t),{},{options:Object.assign(Object.assign({},r.options),t.options),data:Object.assign(Object.assign({},r.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,i.options.modifiers)));return i.orderedModifiers=s.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:l,options:n});o.push(s||function(){})}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,r=e.popper;if(se(t,r)){i.rects={reference:W(t,q(r),"fixed"===i.options.strategy),popper:$(r)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<i.orderedModifiers.length;n++)if(!0!==i.reset){var a=i.orderedModifiers[n],o=a.fn,u=a.options,c=void 0===u?{}:u,d=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:d,instance:l})||i)}else i.reset=!1,n=-1}}},update:ae((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!se(e,t))return l;function u(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var ue={passive:!0};function ce(e){return e.split("-")[0]}function de(e){return e.split("-")[1]}function fe(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pe(e){var t,r=e.reference,n=e.element,i=e.placement,a=i?ce(i):null,o=i?de(i):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(a){case X:t={x:s,y:r.y-n.height};break;case Y:t={x:s,y:r.y+r.height};break;case Q:t={x:r.x+r.width,y:l};break;case J:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var u=a?fe(a):null;if(null!=u){var c="y"===u?"height":"width";switch(o){case"start":t[u]=Math.floor(t[u])-Math.floor(r[c]/2-n[c]/2);break;case"end":t[u]=Math.floor(t[u])+Math.ceil(r[c]/2-n[c]/2)}}return t}var he={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ge(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.offsets,o=e.position,s=e.gpuAcceleration,l=e.adaptive,u=function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:Math.round(t*n)/n||0,y:Math.round(r*n)/n||0}}(a),c=u.x,d=u.y,f=a.hasOwnProperty("x"),p=a.hasOwnProperty("y"),h=J,g=X,m=window;if(l){var v=q(r);v===D(r)&&(v=B(r)),i===X&&(g=Y,d-=v.clientHeight-n.height,d*=s?1:-1),i===J&&(h=Q,c-=v.clientWidth-n.width,c*=s?1:-1)}var y,b=Object.assign({position:o},l&&he);return s?Object.assign(Object.assign({},b),{},((y={})[g]=p?"0":"",y[h]=f?"0":"",y.transform=(m.devicePixelRatio||1)<2?"translate("+c+"px, "+d+"px)":"translate3d("+c+"px, "+d+"px, 0)",y)):Object.assign(Object.assign({},b),{},((t={})[g]=p?d+"px":"",t[h]=f?c+"px":"",t.transform="",t))}var me={left:"right",right:"left",bottom:"top",top:"bottom"};function ve(e){return e.replace(/left|right|bottom|top/g,(function(e){return me[e]}))}var ye={start:"end",end:"start"};function be(e){return e.replace(/start|end/g,(function(e){return ye[e]}))}function ke(e,t){var r=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(r){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ee(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _e(e,t){return"viewport"===t?Ee(function(e){var t=D(e),r=B(e),n=t.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+F(e),y:s}}(e)):N(t)?function(e){var t=R(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Ee(function(e){var t=B(e),r=L(e),n=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=Math.max(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-r.scrollLeft+F(e),s=-r.scrollTop;return"rtl"===z(n||t).direction&&(o+=Math.max(t.clientWidth,n?n.clientWidth:0)-i),{width:i,height:a,x:o,y:s}}(B(e)))}function Se(e,t,r){var n="clippingParents"===t?function(e){var t=K(H(e)),r=["absolute","fixed"].indexOf(z(e).position)>=0&&N(e)?q(e):e;return j(r)?t.filter((function(e){return j(e)&&ke(e,r)&&"body"!==U(e)})):[]}(e):[].concat(t),i=[].concat(n,[r]),a=i[0],o=i.reduce((function(t,r){var n=_e(e,r);return t.top=Math.max(n.top,t.top),t.right=Math.min(n.right,t.right),t.bottom=Math.min(n.bottom,t.bottom),t.left=Math.max(n.left,t.left),t}),_e(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Te(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function we(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function xe(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,a=r.boundary,o=void 0===a?"clippingParents":a,s=r.rootBoundary,l=void 0===s?"viewport":s,u=r.elementContext,c=void 0===u?"popper":u,d=r.altBoundary,f=void 0!==d&&d,p=r.padding,h=void 0===p?0:p,g=Te("number"!==typeof h?h:we(h,ee)),m="popper"===c?"reference":"popper",v=e.elements.reference,y=e.rects.popper,b=e.elements[f?m:c],k=Se(j(b)?b:b.contextElement||B(e.elements.popper),o,l),E=R(v),_=pe({reference:E,element:y,strategy:"absolute",placement:i}),S=Ee(Object.assign(Object.assign({},y),_)),T="popper"===c?S:E,w={top:k.top-T.top+g.top,bottom:T.bottom-k.bottom+g.bottom,left:k.left-T.left+g.left,right:T.right-k.right+g.right},x=e.modifiersData.offset;if("popper"===c&&x){var O=x[i];Object.keys(w).forEach((function(e){var t=[Q,Y].indexOf(e)>=0?1:-1,r=[X,Y].indexOf(e)>=0?"y":"x";w[e]+=O[r]*t}))}return w}function Oe(e,t,r){return Math.max(e,Math.min(t,r))}function Pe(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Ce(e){return[X,Q,Y,J].some((function(t){return e[t]>=0}))}var Ae=le({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=void 0===i||i,o=n.resize,s=void 0===o||o,l=D(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",r.update,ue)})),s&&l.addEventListener("resize",r.update,ue),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",r.update,ue)})),s&&l.removeEventListener("resize",r.update,ue)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=pe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,a=r.adaptive,o=void 0===a||a,s={placement:ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),ge(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),ge(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];N(i)&&U(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});N(n)&&U(n)&&(Object.assign(n.style,a),Object.keys(i).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=void 0===i?[0,0]:i,o=re.reduce((function(e,r){return e[r]=function(e,t,r){var n=ce(e),i=[J,X].indexOf(n)>=0?-1:1,a="function"===typeof r?r(Object.assign(Object.assign({},t),{},{placement:e})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[J,Q].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}(r,t.rects,a),e}),{}),s=o[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0===o||o,l=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,f=r.altBoundary,p=r.flipVariations,h=void 0===p||p,g=r.allowedAutoPlacements,m=t.options.placement,v=ce(m),y=l||(v===m||!h?[ve(m)]:function(e){if("auto"===ce(e))return[];var t=ve(e);return[be(e),t,be(t)]}(m)),b=[m].concat(y).reduce((function(e,r){return e.concat("auto"===ce(r)?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=void 0===l?re:l,c=de(n),d=c?s?te:te.filter((function(e){return de(e)===c})):ee,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,r){return t[r]=xe(e,{placement:r,boundary:i,rootBoundary:a,padding:o})[ce(r)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:r,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:g}):r)}),[]),k=t.rects.reference,E=t.rects.popper,_=new Map,S=!0,T=b[0],w=0;w<b.length;w++){var x=b[w],O=ce(x),P="start"===de(x),C=[X,Y].indexOf(O)>=0,A=C?"width":"height",M=xe(t,{placement:x,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),I=C?P?Q:J:P?Y:X;k[A]>E[A]&&(I=ve(I));var R=ve(I),D=[];if(a&&D.push(M[O]<=0),s&&D.push(M[I]<=0,M[R]<=0),D.every((function(e){return e}))){T=x,S=!1;break}_.set(x,D)}if(S)for(var L=function(e){var t=b.find((function(t){var r=_.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},j=h?3:1;j>0;j--){if("break"===L(j))break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0!==o&&o,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,f=r.tether,p=void 0===f||f,h=r.tetherOffset,g=void 0===h?0:h,m=xe(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=ce(t.placement),y=de(t.placement),b=!y,k=fe(v),E="x"===k?"y":"x",_=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,w="function"===typeof g?g(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):g,x={x:0,y:0};if(_){if(a){var O="y"===k?X:J,P="y"===k?Y:Q,C="y"===k?"height":"width",A=_[k],M=_[k]+m[O],I=_[k]-m[P],R=p?-T[C]/2:0,D="start"===y?S[C]:T[C],L="start"===y?-T[C]:-S[C],j=t.elements.arrow,N=p&&j?$(j):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=U[O],F=U[P],z=Oe(0,S[C],N[C]),V=b?S[C]/2-R-z-B-w:D-z-B-w,W=b?-S[C]/2+R+z+F+w:L+z+F+w,H=t.elements.arrow&&q(t.elements.arrow),K=H?"y"===k?H.clientTop||0:H.clientLeft||0:0,G=t.modifiersData.offset?t.modifiersData.offset[t.placement][k]:0,Z=_[k]+V-G-K,ee=_[k]+W-G,te=Oe(p?Math.min(M,Z):M,A,p?Math.max(I,ee):I);_[k]=te,x[k]=te-A}if(s){var re="x"===k?X:J,ne="x"===k?Y:Q,ie=_[E],ae=Oe(ie+m[re],ie,ie-m[ne]);_[E]=ae,x[E]=ae-ie}t.modifiersData[n]=x}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=r.elements.arrow,a=r.modifiersData.popperOffsets,o=ce(r.placement),s=fe(o),l=[J,Q].indexOf(o)>=0?"height":"width";if(i&&a){var u=r.modifiersData[n+"#persistent"].padding,c=$(i),d="y"===s?X:J,f="y"===s?Y:Q,p=r.rects.reference[l]+r.rects.reference[s]-a[s]-r.rects.popper[l],h=a[s]-r.rects.reference[s],g=q(i),m=g?"y"===s?g.clientHeight||0:g.clientWidth||0:0,v=p/2-h/2,y=u[d],b=m-c[l]-u[f],k=m/2-c[l]/2+v,E=Oe(y,k,b),_=s;r.modifiersData[n]=((t={})[_]=E,t.centerOffset=E-k,t)}},effect:function(e){var t=e.state,r=e.options,n=e.name,i=r.element,a=void 0===i?"[data-popper-arrow]":i,o=r.padding,s=void 0===o?0:o;null!=a&&("string"!==typeof a||(a=t.elements.popper.querySelector(a)))&&ke(t.elements.popper,a)&&(t.elements.arrow=a,t.modifiersData[n+"#persistent"]={padding:Te("number"!==typeof s?s:we(s,ee))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=xe(t,{elementContext:"reference"}),s=xe(t,{altBoundary:!0}),l=Pe(o,n),u=Pe(s,i,a),c=Ce(l),d=Ce(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),Me=r(60),Ie=Object.prototype.hasOwnProperty;function Re(e,t,r){var n,i=Object(Me.a)(e.keys());try{for(i.s();!(n=i.n()).done;)if(De(r=n.value,t))return r}catch(a){i.e(a)}finally{i.f()}}function De(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&De(e[n],t[n]););return-1===n}if(r===Set){if(e.size!==t.size)return!1;var a,o=Object(Me.a)(e);try{for(o.s();!(a=o.n()).done;){if((i=n=a.value)&&"object"===typeof i&&!(i=Re(t,i)))return!1;if(!t.has(i))return!1}}catch(u){o.e(u)}finally{o.f()}return!0}if(r===Map){if(e.size!==t.size)return!1;var s,l=Object(Me.a)(e);try{for(l.s();!(s=l.n()).done;){if((i=(n=s.value)[0])&&"object"===typeof i&&!(i=Re(t,i)))return!1;if(!De(n[1],t.get(i)))return!1}}catch(u){l.e(u)}finally{l.f()}return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!r||"object"===typeof e){for(r in n=0,e){if(Ie.call(e,r)&&++n&&!Ie.call(t,r))return!1;if(!(r in t)||!De(e[r],t[r]))return!1}return Object.keys(t).length===n}}return e!==e&&t!==t}function Le(e,t){return function(r){var n=Object(I.b)(t.map((function(t){return[t,e[t]]}))),i=De(r.popper,n.popper);return De(r.arrow,n.arrow)&&i?r:n}}var je=[];function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ue(e){var t,r;void 0===e&&(e={});var n=e,i=n.placement,a=void 0===i?"bottom":i,o=n.preventOverflow,s=void 0===o||o,l=n.fixed,u=void 0!==l&&l,c=n.flip,d=void 0===c||c,h=n.arrowSize,g=void 0===h?8:h,m=n.arrowShadowColor,v=n.gutter,y=void 0===v?8:v,b=n.arrowPadding,k=void 0===b?4:b,E=n.offset,_=n.matchWidth,S=n.modifiers,w=void 0===S?[]:S,C=f.useState(null),I=Object(p.a)(C,2),R=I[0],D=I[1],L=f.useState(null),j=Object(p.a)(L,2),N=j[0],U=j[1],B=f.useState(null),F=Object(p.a)(B,2),z=F[0],V=F[1],W=null!=E?E:[0,y],$=function(e,t,r){void 0===r&&(r={});var n=f.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||je},a=f.useState({popper:{position:i.strategy,left:"0",top:"0"}}),o=Object(p.a)(a,2),s=o[0],l=o[1],u=f.useState({}),c=Object(p.a)(u,2),d=c[0],h=c[1],g=f.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);l(Le(t.styles,r)),h(Le(t.attributes,r))},requires:["computeStyles"]}}),[]),m=f.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(Object(T.a)(i.modifiers),[g,{name:"applyStyles",enabled:!1}])};return De(n.current,e)?n.current||e:(n.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,g]),v=f.useRef();return Object(M.a)((function(){v.current&&v.current.setOptions(m)}),[m]),Object(M.a)((function(){if(null!=e&&null!=t){var n=(r.createPopper||Ae)(e,t,m);return v.current=n,function(){n.destroy(),v.current=null}}}),[e,t,r.createPopper]),f.useEffect((function(){var e=requestAnimationFrame((function(){var e;null==(e=v.current)||e.forceUpdate()}));return function(){cancelAnimationFrame(e)}}),[]),{state:v.current?v.current.state:null,styles:s,attributes:d,update:v.current?v.current.update:null,forceUpdate:v.current?v.current.forceUpdate:null}}(R,N,{placement:a,strategy:u?"fixed":"absolute",modifiers:f.useMemo((function(){return[{name:"offset",options:{offset:null!=W?W:[0,y]},phase:"main"},{name:"preventOverflow",enabled:!!s,phase:"main"},{name:"arrow",enabled:!!z,options:{element:z,padding:k},phase:"main"},{name:"flip",enabled:d,options:{padding:8},phase:"main"},{name:"matchWidth",enabled:!!_,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width=t.rects.reference.width+"px"},effect:function(e){var t=e.state;return function(){var e=t.elements.reference;t.elements.popper.style.width=e.offsetWidth+"px"}}},{name:"applyArrowHide",enabled:!0,phase:"write",fn:function(e){var t,r=e.state,n=r.elements.arrow;n&&(0!==(null==(t=r.modifiersData.arrow)?void 0:t.centerOffset)?n.setAttribute("data-hide",""):n.removeAttribute("data-hide"))}}]}),[z,k,d,s,W,y,_]).concat(w)});f.useEffect((function(){null==$.forceUpdate||$.forceUpdate()}));var H=null!=(t=null==(r=$.state)?void 0:r.placement)?t:a,K=function(e){var t=e.arrowSize,r=e.popperArrowStyles,n=void 0===r?{}:r,i=e.placement,a=O({},n,{width:t,height:t,zIndex:-1}),o=-t/2;return i.startsWith("top")&&(a.bottom=o),i.startsWith("bottom")&&(a.top=o),i.startsWith("left")&&(a.right=o),i.startsWith("right")&&(a.left=o),a}({placement:H,popperArrowStyles:$.styles.arrow,arrowSize:g}),G=f.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Ne({},e,{ref:Object(x.c)(D,t)})}),[]),Z=f.useCallback((function(e,t){var r;return void 0===e&&(e={}),void 0===t&&(t=null),Ne({},e,$.attributes.popper,{ref:Object(x.c)(U,t),style:Ne({},e.style,null==(r=$.styles)?void 0:r.popper)})}),[$.attributes,$.styles]),q=f.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Ne({},e,$.attributes.arrow,{ref:Object(x.c)(V,t),style:Ne({},e.style,K)})}),[$.attributes,K]),X=f.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),Ne({},e,{ref:t,style:Ne({boxShadow:P(H,m)},e.style,{position:"absolute",zIndex:-1,width:"100%",height:"100%",transform:"rotate(45deg)"})})}),[H,m]);return{transformOrigin:A(H),getReferenceProps:G,getPopperProps:Z,getArrowWrapperProps:q,getArrowProps:X,state:$.state,forceUpdate:$.forceUpdate,update:$.update,placement:H}}var Be=r(177);function Fe(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ve=Object(x.a)({strict:!1,name:"MenuContext"}),We=Object(p.a)(Ve,2),$e=We[0],He=We[1];function Ke(e){var t=e.id,r=e.closeOnSelect,n=void 0===r||r,i=e.closeOnBlur,a=void 0===i||i,o=e.autoSelect,s=void 0===o||o,u=e.isLazy,c=e.placement,d=void 0===c?"bottom-start":c,h=e.fixed,k=function(e){void 0===e&&(e={});var t=e,r=t.onClose,n=t.onOpen,i=t.isOpen,a=t.id,o=f.useState(e.defaultIsOpen||!1),s=Object(p.a)(o,2),u=s[0],c=s[1],d=Object(m.a)(i,u),h=Object(p.a)(d,2),g=h[0],b=h[1],k=Object(v.a)(a,"disclosure"),E=f.useCallback((function(){g||c(!1),null==r||r()}),[g,r]),_=f.useCallback((function(){g||c(!0),null==n||n()}),[g,n]),S=f.useCallback((function(){(b?E:_)()}),[b,_,E]);return{isOpen:!!b,onOpen:_,onClose:E,onToggle:S,isControlled:g,getButtonProps:function(e){return void 0===e&&(e={}),y({},e,{"aria-expanded":"true","aria-controls":k,onClick:Object(l.b)(e.onClick,S)})},getDisclosureProps:function(e){return void 0===e&&(e={}),y({},e,{hidden:!b,id:k})}}}(e),T=k.isOpen,w=k.onOpen,x=k.onClose,O=k.onToggle,P=f.useRef(null),C=f.useRef(null);b({ref:P,handler:function(e){var t;T&&a&&!(null==(t=C.current)?void 0:t.contains(e.target))&&x()}});var A=Ue({placement:d,fixed:h}),M=f.useState(-1),I=Object(p.a)(M,2),R=I[0],D=I[1],L=Object(g.b)();Object(E.a)((function(){T||D(-1)}),[T]),S(P,{focusRef:C,visible:T,shouldFocus:!0});var j=Object(v.b)(t,"menu-button","menu-list"),N=Object(p.a)(j,2),U=N[0],B=N[1];return{openAndFocusMenu:f.useCallback((function(){w(),P.current&&Object(_.a)(P.current)}),[w,P]),openAndFocusFirstItem:f.useCallback((function(){w(),D(0)}),[w,D]),openAndFocusLastItem:f.useCallback((function(){w(),D(L.descendants.length-1)}),[w,D,L.descendants]),onTransitionEnd:f.useCallback((function(){var e,t,r=null==(e=P.current)?void 0:e.contains(document.activeElement);if(T&&!r){var n=null==(t=L.descendants[R])?void 0:t.element;null==n||n.focus({preventScroll:!0})}}),[T,_.b,R,L.descendants]),domContext:L,popper:A,buttonId:U,menuId:B,forceUpdate:A.forceUpdate,orientation:"vertical",isOpen:T,onToggle:O,onOpen:w,onClose:x,menuRef:P,buttonRef:C,focusedIndex:R,closeOnSelect:n,closeOnBlur:a,autoSelect:s,setFocusedIndex:D,isLazy:u}}function Ge(e,t){void 0===t&&(t=null);var r=e.onMouseEnter,n=e.onMouseMove,i=e.onMouseLeave,a=e.onClick,o=e.isDisabled,s=e.isFocusable,l=Fe(e,["onMouseEnter","onMouseMove","onMouseLeave","onClick","isDisabled","isFocusable"]),u=He(),c=u.domContext,d=u.setFocusedIndex,p=u.focusedIndex,m=u.closeOnSelect,y=u.onClose,b=u.menuRef,k=u.isOpen,S=f.useRef(null),T="menuitem-"+Object(v.a)(),w=Object(g.a)({element:S.current,context:c,disabled:o,focusable:s}),O=f.useCallback((function(e){null==r||r(e),o||d(w)}),[d,w,o]),P=f.useCallback((function(e){null==n||n(e),document.activeElement!==S.current&&O(e)}),[O]),C=f.useCallback((function(e){null==i||i(e),o||d(-1)}),[d,o]),A=f.useCallback((function(e){null==a||a(e),m&&y()}),[y,a,m]),M=w===p,I=o&&!s;return Object(E.a)((function(){if(k)if(M&&!I&&S.current)Object(_.a)(S.current);else if(document.activeElement!==b.current){var e;null==(e=b.current)||e.focus()}}),[M,I,b,k]),ze({},l,Object(h.a)({onClick:A,onMouseEnter:O,onMouseMove:P,onMouseLeave:C,ref:Object(x.c)(S,t),isDisabled:o,isFocusable:s}),{id:T,role:"menuitem",tabIndex:M?0:-1})}function Ze(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Xe=function(e){var t=e.children,r=Object(n.a)("Menu",e),o=Ke(Object(i.b)(e)),s=f.useMemo((function(){return o}),[o]),u=s.isOpen,c=s.onClose,d=s.forceUpdate;return f.createElement($e,{value:s},f.createElement(a.b,{value:r},Object(l.d)(t,{isOpen:u,onClose:c,forceUpdate:d})))};u.a&&(Xe.displayName="Menu");var Ye=Object(o.a)((function(e,t){var r=Object(a.c)();return f.createElement(s.a.button,qe({ref:t},e,{__css:qe({display:"inline-flex",appearance:"none",alignItems:"center",outline:0,transition:"all 250ms"},r.button)}))})),Qe=Object(o.a)((function(e,t){var r=e.as,n=function(e,t){void 0===t&&(t=null);var r=He(),n=r.isOpen,i=r.onClose,a=r.autoSelect,o=r.popper,s=r.openAndFocusFirstItem,u=r.openAndFocusLastItem,d=r.openAndFocusMenu,p=f.useCallback((function(){n?i():(a?s:d)()}),[a,n,i,s,d]),h=f.useCallback((function(e){var t=Object(c.g)(e),r={Enter:s,ArrowDown:s,ArrowUp:u}[t];r&&(e.preventDefault(),e.stopPropagation(),r(e))}),[s,u]),g=ze({},e,{id:r.buttonId,"data-active":Object(c.d)(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:Object(l.b)(e.onClick,p),onKeyDown:Object(l.b)(e.onKeyDown,h)});return o.getReferenceProps(g,Object(x.c)(r.buttonRef,t))}(Ze(e,["children","as"]),t),i=r||Ye;return f.createElement(i,qe({},n,{className:Object(c.c)("chakra-menu__menu-button",e.className)}),f.createElement(s.a.span,{__css:{pointerEvents:"none",flex:"1 1 auto"}},e.children))}));u.a&&(Qe.displayName="MenuButton");var Je={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},et=Object(s.a)(d.b.div),tt=Object(o.a)((function(e,t){var r,n=He(),i=n.isOpen,o=n.onTransitionEnd,u=function(e,t){void 0===t&&(t=null);var r=He();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");var n=r.focusedIndex,i=r.setFocusedIndex,a=r.menuRef,o=r.isOpen,s=r.onClose,u=r.menuId,d=r.popper,p=r.domContext.descendants,h=r.isLazy,g=w({preventDefault:function(e){return" "!==e.key}}),m=f.useCallback((function(e){var t=Object(c.g)(e),r={Tab:function(e){e.preventDefault()},Escape:s,ArrowDown:function(){var e=Object(Be.c)(n,p.length);i(e)},ArrowUp:function(){var e=Object(Be.e)(n,p.length);i(e)}}[t];if(r)return e.preventDefault(),void r(e);g((function(e){var t=Object(Be.d)(p,e,(function(e){var t;return(null==(t=e.element)?void 0:t.textContent)||""}),p[n]);if(t){var r=p.indexOf(t);i(r)}}))(e)}),[p,n,g,s,i]);return ze({},e,{ref:Object(x.c)(a,t),children:!h||o?e.children:null,tabIndex:-1,role:"menu",id:u,style:ze({},e.style,{transformOrigin:d.transformOrigin}),"aria-orientation":"vertical",onKeyDown:Object(l.b)(e.onKeyDown,m)})}(e,t),d=function(e){void 0===e&&(e={});var t=He(),r=t.popper,n=t.isOpen;return Object(I.d)(r.getPopperProps(e),{style:{visibility:n?"visible":"hidden"}})}(),p=Object(a.c)();return f.createElement(s.a.div,qe({},d,{__css:{zIndex:null==(r=p.list)?void 0:r.zIndex}}),f.createElement(et,qe({},u,{onUpdate:o,className:Object(c.c)("chakra-menu__menu-list",u.className),variants:Je,initial:!1,animate:i?"enter":"exit",__css:qe({outline:0},p.list)})))}));u.a&&(tt.displayName="MenuList");var rt=Object(o.a)((function(e,t){var r=e.type,n=Ze(e,["type"]),i=Object(a.c)(),o=n.as?null!=r?r:void 0:"button",l=qe({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"left",flex:"0 0 auto",outline:0},i.item);return f.createElement(s.a.button,qe({ref:t,type:o},n,{__css:l}))})),nt=Object(o.a)((function(e,t){var r=e.icon,n=e.iconSpacing,i=void 0===n?"0.75rem":n,a=e.command,o=e.children,l=Ge(Ze(e,["icon","iconSpacing","command","children"]),t),u=r||a?f.createElement(s.a.span,{pointerEvents:"none",flex:"1"},o):o;return f.createElement(rt,qe({},l,{className:Object(c.c)("chakra-menu__menuitem",l.className)}),r&&f.createElement(lt,{fontSize:"0.8em",mr:i},r),u,a&&f.createElement(st,null,a))}));u.a&&(nt.displayName="MenuItem");var it=function(e){return f.createElement("svg",qe({viewBox:"0 0 14 14",width:"1em",height:"1em"},e),f.createElement("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))},at=Object(o.a)((function(e,t){var r=e.icon,n=e.iconSpacing,i=void 0===n?"0.75rem":n,a=Ze(e,["icon","iconSpacing"]),o=function(e,t){void 0===t&&(t=null);var r=e.onClick,n=e.isDisabled,i=e.isFocusable,a=e.type,o=void 0===a?"radio":a,s=e.isChecked;return ze({},Fe(e,["onClick","isDisabled","isFocusable","type","isChecked"]),Ge({isDisabled:n,isFocusable:i,onClick:r},t),{role:"menuitem"+o,"aria-checked":s})}(a,t);return f.createElement(rt,qe({},o,{className:Object(c.c)("chakra-menu__menuitem-option",a.className)}),f.createElement(lt,{fontSize:"0.8em",mr:i,opacity:e.isChecked?1:0},r||f.createElement(it,null)),f.createElement(s.a.span,{flex:"1"},o.children))}));at.id="MenuItemOption",u.a&&(at.displayName="MenuItemOption");u.a&&(function(e){var t=e.className,r=e.title,n=function(e){var t=e.children,r=e.type,n=void 0===r?"radio":r,i=e.value,a=e.defaultValue,o=e.onChange,s=Fe(e,["children","type","value","defaultValue","onChange"]),l="radio"===n?"":[],c=Object(m.b)({defaultValue:null!=a?a:l,value:i,onChange:o}),d=Object(p.a)(c,2),h=d[0],g=d[1],v=f.useCallback((function(e){if("radio"===n&&Object(u.h)(h)&&g(e),"checkbox"===n&&Object(u.b)(h)){var t=h.includes(e)?Object(Be.g)(h,e):Object(Be.a)(h,e);g(t)}}),[h,g,n]);return ze({},s,{children:Object(x.b)(t).map((function(e){if("MenuItemOption"!==e.type.id)return e;var t="radio"===n?e.props.value===h:h.includes(e.props.value);return f.cloneElement(e,{type:n,onClick:function(t){v(e.props.value),null==e.props.onClick||e.props.onClick(t)},isChecked:t})}))})}(Ze(e,["className","title"]));return f.createElement(ot,qe({title:r,className:Object(c.c)("chakra-menu__option-group",t)},n))}.displayName="MenuOptionGroup");var ot=Object(o.a)((function(e,t){var r=e.title,n=e.children,i=e.className,o=Ze(e,["title","children","className"]),l=Object(c.c)("chakra-menu__group__title",i),u=Object(a.c)();return f.createElement(s.a.div,{ref:t,className:"chakra-menu__group",role:"group"},r&&f.createElement(s.a.p,qe({className:l},o,{__css:u.groupTitle}),r),n)}));u.a&&(ot.displayName="MenuGroup");var st=Object(o.a)((function(e,t){var r=Object(a.c)();return f.createElement(s.a.span,qe({ref:t},e,{__css:r.command,className:"chakra-menu__command"}))}));u.a&&(st.displayName="MenuCommand");var lt=function(e){var t=e.className,r=e.children,n=Ze(e,["className","children"]),i=f.Children.only(r),a=f.isValidElement(i)?f.cloneElement(i,{focusable:"false","aria-hidden":!0,className:Object(c.c)("chakra-menu__icon",i.props.className)}):null,o=Object(c.c)("chakra-menu__icon-wrapper",t);return f.createElement(s.a.span,qe({className:o},n,{__css:{flexShrink:0}}),a)};u.a&&(lt.displayName="MenuIcon");u.a},function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r(22),i=r(20),a=r(56),o=r(39),s=r(27),l=r(18),u=r(7),c=r(0),d=r(4),f=r(64),p=r(14),h=r(111),g=r(177);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=Object(f.a)({name:"CheckboxGroupContext",strict:!1}),y=Object(d.a)(v,2),b=y[0],k=y[1];u.a&&(function(e){var t=e.colorScheme,r=e.size,n=e.variant,i=e.children,a=function(e){void 0===e&&(e={});var t=e,r=t.defaultValue,n=t.value,i=t.onChange,a=t.isNative,o=Object(c.useState)(r||[]),s=Object(d.a)(o,2),l=s[0],f=s[1],v=Object(h.a)(n,l),y=Object(d.a)(v,2),b=y[0],k=y[1],E=Object(c.useCallback)((function(e){b||f(e),null==i||i(e)}),[b,i]),_=Object(c.useCallback)((function(e){if(k){var t=Object(u.e)(e)?e.target.checked:!k.includes(e),r=Object(u.e)(e)?e.target.value:e,n=t?Object(g.a)(k,r):Object(g.g)(k,r);E(n)}}),[E,k]);return{value:k,onChange:_,setValue:E,getCheckboxProps:function(e){var t;void 0===e&&(e={});var r=a?"checked":"isChecked";return m({},e,(t={},Object(p.a)(t,r,k.includes(e.value)),Object(p.a)(t,"onChange",_),t))}}}(e),o=a.value,s=a.onChange,l=c.useMemo((function(){return{size:r,onChange:s,colorScheme:t,value:o,variant:n}}),[r,s,t,o,n]);return c.createElement(b,{value:l},i)}.displayName="CheckboxGroup");var E=r(19);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=E.b.custom(n.a.svg),T=function(e){return c.createElement(S,_({width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16}},e),c.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1"}))},w=function(e){return c.createElement(S,_({width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4}},e),c.createElement("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))},x=function(e){var t=e.open,r=e.children;return c.createElement(E.a,{initial:!1},t&&c.createElement(E.b.div,{variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},r))},O=function(e){var t=e.isIndeterminate,r=e.isChecked,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["isIndeterminate","isChecked"]);return c.createElement(x,{open:r||t},t?c.createElement(w,n):c.createElement(T,n))},P=r(112);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var A=Object(n.a)("div",{baseStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0}}),M=Object(n.a)("label",{baseStyle:{cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative",_disabled:{cursor:"not-allowed"}}}),I=Object(i.a)((function(e,t){var r=k(),i=C({},r,e),u=Object(a.a)("Checkbox",i),d=Object(o.b)(i),f=d.spacing,p=void 0===f?"0.5rem":f,h=d.className,g=d.children,m=d.iconColor,v=d.iconSize,y=d.icon,b=void 0===y?c.createElement(O,null):y,E=d.isChecked,_=d.onChange,S=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(d,["spacing","className","children","iconColor","iconSize","icon","isChecked","onChange"]),T=E;(null==r?void 0:r.value)&&d.value&&(T=r.value.includes(d.value));var w=_;(null==r?void 0:r.onChange)&&d.value&&(w=Object(s.a)(r.onChange,_));var x=Object(P.a)(C({},S,{isChecked:T,onChange:w})),I=x.state,R=x.getInputProps,D=x.getCheckboxProps,L=x.getLabelProps,j=x.htmlProps,N=Object(l.c)("chakra-checkbox",h),U=R({},t),B=L(),F=D(),z=C({opacity:I.isChecked||I.isIndeterminate?1:0,transform:I.isChecked||I.isIndeterminate?"scale(1)":"scale(0.95)",transition:"transform 200ms",fontSize:v,color:m},u.icon),V=c.cloneElement(b,{__css:z,isIndeterminate:I.isIndeterminate,isChecked:I.isChecked});return c.createElement(M,C({__css:u.container,"data-disabled":Object(l.d)(I.isDisabled),className:N},j),c.createElement("input",C({className:"chakra-checkbox__input"},U)),c.createElement(A,C({__css:u.control,className:"chakra-checkbox__control"},F),V),g&&c.createElement(n.a.div,C({className:"chakra-checkbox__label"},B,{__css:C({ml:p},u.label)}),g))}));u.a&&(I.displayName="Checkbox")},function(e,t,r){"use strict";r.d(t,"a",(function(){return R})),r.d(t,"d",(function(){return U})),r.d(t,"b",(function(){return B})),r.d(t,"e",(function(){return F})),r.d(t,"c",(function(){return z}));var n=r(4),i=r(110),a=r(20),o=r(56),s=r(39),l=r(62),u=r(22),c=r(322),d=r(18),f=r(7),p=r(64),h=r(27),g=r(0),m=r(327),v=r(180),y=r(111),b=r(117),k=r(41),E=r(71);var _=r(177);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function w(e){var t=e.onChange,r=e.defaultIndex,i=e.index,a=e.allowMultiple,o=e.allowToggle,s=T(e,["onChange","defaultIndex","index","allowMultiple","allowToggle"]);!function(e){var t=e.index||e.defaultIndex,r=!Object(f.i)(t)&&!Object(f.b)(t)&&e.allowMultiple;Object(h.e)({condition:!!r,message:"If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: "+typeof t+","})}(e),function(e){Object(h.e)({condition:!(!e.allowMultiple||!e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}(e);var l=Object(m.b)(),u=Object(g.useState)(-1),c=Object(n.a)(u,2),d=c[0],p=c[1];Object(v.a)((function(){p(-1)}),[l.descendants]);var b=Object(y.b)({value:i,defaultValue:function(){return a?null!=r?r:[]:null!=r?r:-1},onChange:t,propsMap:{value:"index",defaultValue:"defaultIndex",onChange:"onChange"}}),k=Object(n.a)(b,2),E=k[0],S=k[1];return{index:E,setIndex:S,htmlProps:s,getAccordionItemProps:function(e){var t=!1;null!==e&&(t=Object(f.b)(E)?E.includes(e):E===e);return{isOpen:t,onChange:function(t){if(null!==e)if(a&&Object(f.b)(E)){var r=t?Object(_.a)(E,e):Object(_.g)(E,e);S(r)}else t?S(e):o&&S(-1)}}},focusedIndex:d,setFocusedIndex:p,domContext:l}}var x=Object(p.a)({name:"AccordionContext",errorMessage:"useAccordionContext: `context` is undefined. Seems you forgot to wrap the accordion components in `<Accordion />`"}),O=Object(n.a)(x,2),P=O[0],C=O[1];function A(e){var t=e.isDisabled,r=e.isFocusable,i=e.id,a=T(e,["isDisabled","isFocusable","id"]),o=C(),s=o.getAccordionItemProps,l=o.domContext,u=o.focusedIndex,c=o.setFocusedIndex,f=l.descendants,v=Object(g.useRef)(null),y=Object(b.b)(i,"accordion-button","accordion-panel"),w=Object(n.a)(y,2),x=w[0],O=w[1];!function(e){Object(h.e)({condition:!(!e.isFocusable||e.isDisabled),message:"Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\n    "})}(e);var P=Object(m.a)({element:v.current,context:l,disabled:t,focusable:r}),A=s(-1===P?null:P),M=A.isOpen,I=A.onChange;!function(e,t){var r=t.shouldFocus,n=t.preventScroll;Object(E.a)((function(){var t=e.current;t&&r&&(Object(k.b)(t)||Object(k.a)(t,{preventScroll:n}))}),[r,e,n])}(v,{shouldFocus:P===u});var R=Object(g.useCallback)((function(){null==I||I(!M),c(P)}),[P,M,I,c]),D=Object(g.useCallback)((function(e){var t={ArrowDown:function(){var e,t=Object(_.c)(P,f.length),r=f[t];null==r||null==(e=r.element)||e.focus()},ArrowUp:function(){var e,t=Object(_.e)(P,f.length),r=f[t];null==r||null==(e=r.element)||e.focus()},Home:function(){var e,t=f[0];null==t||null==(e=t.element)||e.focus()},End:function(){var e,t=f[f.length-1];null==t||null==(e=t.element)||e.focus()}}[Object(d.g)(e)];t&&(e.preventDefault(),t(e))}),[f,P]),L=Object(g.useCallback)((function(){return c(P)}),[P,c]),j=Object(g.useCallback)((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),S({},e,{type:"button",ref:Object(p.c)(v,r),id:x,disabled:!!t,"aria-expanded":!!M,"aria-controls":O,onClick:Object(h.b)(e.onClick,R),onFocus:Object(h.b)(e.onFocus,L),onKeyDown:Object(h.b)(e.onKeyDown,D)})}),[x,t,M,R,L,D,O]),N=Object(g.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),S({},e,{ref:t,role:"region",id:O,"aria-labelledby":x,hidden:!M})}),[x,M,O]);return{isOpen:M,isDisabled:t,isFocusable:r,onOpen:function(){null==I||I(!0)},onClose:function(){null==I||I(!1)},getButtonProps:j,getPanelProps:N,htmlProps:a}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var R=Object(a.a)((function(e,t){var r=e.children,n=e.reduceMotion,i=I(e,["children","reduceMotion"]),a=Object(o.a)("Accordion",i),c=w(Object(s.b)(i)),f=c.htmlProps,p=I(c,["htmlProps"]),h=g.useMemo((function(){return M({},p,{reduceMotion:!!n})}),[p,n]);return g.createElement(P,{value:h},g.createElement(l.b,{value:a},g.createElement(u.a.div,M({ref:t},f,{className:Object(d.c)("chakra-accordion",i.className)}),r)))}));f.a&&(R.displayName="Accordion");var D=Object(p.a)({name:"AccordionItemContext",errorMessage:"useAccordionItemContext: `context` is undefined. Seems you forgot to wrap the accordion item parts in `<AccordionItem />` "}),L=Object(n.a)(D,2),j=L[0],N=L[1],U=Object(a.a)((function(e,t){var r=e.children,n=e.className,i=A(e),a=i.htmlProps,o=I(i,["htmlProps"]),s=M({},Object(l.c)().container,{overflowAnchor:"none"}),c=g.useMemo((function(){return o}),[o]);return g.createElement(j,{value:c},g.createElement(u.a.div,M({ref:t},a,{className:Object(d.c)("chakra-accordion__item",n),__css:s}),Object(h.d)(r,{isExpanded:!!o.isOpen,isDisabled:!!o.isDisabled})))}));f.a&&(U.displayName="AccordionItem");var B=Object(a.a)((function(e,t){var r=(0,N().getButtonProps)(e,t),n=M({display:"flex",alignItems:"center",width:"100%",transition:"all 0.2s",outline:0},Object(l.c)().button);return g.createElement(u.a.button,M({},r,{className:Object(d.c)("chakra-accordion__button",e.className),__css:n}))}));f.a&&(B.displayName="AccordionButton");var F=Object(a.a)((function(e,t){var r=C().reduceMotion,n=N(),i=n.getPanelProps,a=n.isOpen,o=i(e,t),s=Object(d.c)("chakra-accordion__panel",e.className),f=Object(l.c)();r||delete o.hidden;var p=g.createElement(u.a.div,M({},o,{__css:f.panel,className:s}));return r?p:g.createElement(c.a,{in:a},p)}));f.a&&(F.displayName="AccordionPanel");var z=function(e){var t=N(),r=t.isOpen,n={fontSize:"1.25em",opacity:t.isDisabled?.4:1,transform:r?"rotate(-180deg)":void 0,transition:C().reduceMotion?void 0:"transform 0.2s",transformOrigin:"center"};return g.createElement(i.a,M({viewBox:"0 0 24 24","aria-hidden":!0,__css:n},e),g.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))};f.a&&(z.displayName="AccordionIcon")},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(36),i=r(0),a=function(){return i.createElement(n.a,{styles:'\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;      \n        -moz-osx-font-smoothing: grayscale; \n        touch-action: manipulation; \n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: \'kern\';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type="button"]::-moz-focus-inner,\n      [type="reset"]::-moz-focus-inner,\n      [type="submit"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type="checkbox"],\n      [type="radio"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type="number"]::-webkit-inner-spin-button,\n      [type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      [type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role="button"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n        vertical-align: middle;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n    '})},o=r(183),s=r(311),l=r(62),u=r(93),c=function(e){var t=e.children,r=e.colorModeManager,c=e.portalZIndex,d=e.resetCSS,f=void 0===d||d,p=e.theme,h=void 0===p?u.a:p;return i.createElement(n.c,{theme:h},i.createElement(s.a,{colorModeManager:r,options:h.config},f&&i.createElement(a,null),i.createElement(l.a,null),c?i.createElement(o.a,{zIndex:c},t):t))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(46),i=r(18),a=r(27),o=r(61);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=r(20),u=r(56),c=r(39),d=r(22),f=r(7),p=r(0);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=Object(l.a)((function(e,t){var r=Object(u.a)("Input",e),l=function(e){var t,r=Object(o.c)(),l=[];(null==r?void 0:r.isInvalid)&&(l.length>0?l.unshift(r.feedbackId):l.push(r.feedbackId)),(null==r?void 0:r.hasHelpText)&&l.push(r.helpTextId);var u=l.join(" ");return s({},Object(n.h)(e,["isInvalid","isDisabled","isReadOnly","isRequired"]),{id:null!=(t=e.id)?t:null==r?void 0:r.id,disabled:e.disabled||e.isDisabled||(null==r?void 0:r.isDisabled),readOnly:e.readOnly||e.isReadOnly||(null==r?void 0:r.isReadOnly),required:e.required||e.isRequired||(null==r?void 0:r.isRequired),"aria-invalid":Object(i.a)(e.isInvalid||(null==r?void 0:r.isInvalid)),"aria-required":Object(i.a)(e.isRequired||(null==r?void 0:r.isRequired)),"aria-readonly":Object(i.a)(e.isReadOnly||(null==r?void 0:r.isReadOnly)),"aria-describedby":u||void 0,onFocus:Object(a.b)(null==r?void 0:r.onFocus,e.onFocus),onBlur:Object(a.b)(null==r?void 0:r.onBlur,e.onBlur)})}(Object(c.b)(e)),f=Object(i.c)("chakra-input",e.className);return p.createElement(d.a.input,h({},l,{__css:r.field,ref:t,className:f}))}));f.a&&(g.displayName="Input"),g.id="Input"},function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"b",(function(){return _}));var n=r(4),i=r(20),a=r(39),o=r(56),s=r(62),l=r(22),u=r(64),c=r(18),d=r(0),f=r(110);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e){return d.createElement(f.a,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))};function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m={info:{icon:function(e){return d.createElement(f.a,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}))},colorScheme:"blue"},warning:{icon:h,colorScheme:"orange"},success:{icon:function(e){return d.createElement(f.a,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}))},colorScheme:"green"},error:{icon:h,colorScheme:"red"}},v=Object(u.a)({name:"AlertContext",errorMessage:"useAlertContext: `context` is undefined. Seems you forgot to wrap alert components in `<Alert />`"}),y=Object(n.a)(v,2),b=y[0],k=y[1],E=Object(i.a)((function(e,t){var r=Object(a.b)(e),n=r.status,i=void 0===n?"info":n,u=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(r,["status"]),f=m[i].colorScheme,p=Object(o.a)("Alert",g({},e,{colorScheme:f})),h=g({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},p.container);return d.createElement(b,{value:{status:i}},d.createElement(s.b,{value:p},d.createElement(l.a.div,g({role:"alert",ref:t},u,{className:Object(c.c)("chakra-alert",e.className),__css:h}))))})),_=function(e){var t=k().status,r=m[t].icon,n=Object(s.c)();return d.createElement(l.a.span,g({display:"inherit"},e,{className:Object(c.c)("chakra-alert__icon",e.className),__css:n.icon}),d.createElement(r,{w:"100%",h:"100%"}))}},function(e,t,r){"use strict";r.d(t,"e",(function(){return A})),r.d(t,"a",(function(){return M})),r.d(t,"b",(function(){return I})),r.d(t,"c",(function(){return R})),r.d(t,"d",(function(){return D}));var n=r(20),i=r(56),a=r(39),o=r(62),s=r(22),l=r(46),u=r(18),c=r(7),d=r(0),f=r(4),p=r(352),h=r(327),g=r(111),m=r(117),v=r(75),y=r(64),b=r(27);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var _=Object(y.a)({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),S=Object(f.a)(_,2),T=S[0],w=S[1];function x(e,t){return e+"--tab-"+t}function O(e,t){return e+"--tabpanel-"+t}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var A=Object(n.a)((function(e,t){var r=Object(i.a)("Tabs",e),n=Object(a.b)(e),p=n.children,v=n.className,y=function(e){var t=e.defaultIndex,r=e.onChange,n=e.index,i=e.isManual,a=e.isLazy,o=e.orientation,s=void 0===o?"horizontal":o,l=E(e,["defaultIndex","onChange","index","isManual","isLazy","orientation"]),u=d.useState(null!=t?t:0),p=Object(f.a)(u,2),v=p[0],y=p[1],b=Object(g.b)({defaultValue:null!=t?t:0,value:n,onChange:r,propsMap:{value:"index",defaultValue:"defaultIndex",onChange:"onChange"}}),k=Object(f.a)(b,2),_=k[0],S=k[1];d.useEffect((function(){Object(c.i)(n)||y(n)}),[n]);var T=Object(h.b)(),w=Object(h.b)();return{id:Object(m.a)(e.id,"tabs"),selectedIndex:_,focusedIndex:v,setSelectedIndex:S,setFocusedIndex:y,isManual:i,isLazy:a,orientation:s,enabledDomContext:T,domContext:w,htmlProps:l}}(C(n,["children","className"])),b=y.htmlProps,k=C(y,["htmlProps"]),_=d.useMemo((function(){return k}),[k]),S=Object(l.h)(b,["isFitted"]);return d.createElement(T,{value:_},d.createElement(o.b,{value:r},d.createElement(s.a.div,P({className:Object(u.c)("chakra-tabs",v),ref:t},S),p)))}));c.a&&(A.displayName="Tabs");var M=Object(n.a)((function(e,t){var r=Object(o.c)(),n=function(e){var t=e.isDisabled,r=e.isFocusable,n=E(e,["isDisabled","isFocusable"]),i=w(),a=i.setSelectedIndex,o=i.isManual,s=i.id,l=i.setFocusedIndex,c=i.enabledDomContext,f=i.domContext,g=i.selectedIndex,m=d.useRef(null),v=Object(h.a)({disabled:Boolean(t),focusable:Boolean(r),context:c,element:m.current}),_=Object(h.a)({context:f,element:m.current}),S=_===g,T=Object(p.a)(k({},n,{ref:Object(y.c)(m,e.ref),isDisabled:t,isFocusable:r,onClick:Object(b.b)(e.onClick,(function(){l(v),a(_)}))}));return k({},T,{id:x(s,_),role:"tab",tabIndex:S?0:-1,type:"button","aria-selected":Object(u.a)(S),"aria-controls":O(s,_),onFocus:t?void 0:Object(b.b)(e.onFocus,(function(){!o&&!(t&&r)&&a(_)}))})}(P({},e,{ref:t})),i=P({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},r.tab);return d.createElement(s.a.button,P({},n,{className:Object(u.c)("chakra-tabs__tab",e.className),__css:i}))}));c.a&&(M.displayName="Tab");var I=Object(n.a)((function(e,t){var r=function(e){var t=w(),r=t.setFocusedIndex,n=t.focusedIndex,i=t.orientation,a=t.enabledDomContext,o=a.descendants.length,s=d.useCallback((function(e){var t=a.descendants[e];(null==t?void 0:t.element)&&(t.element.focus(),r(e))}),[a.descendants,r]),l=d.useCallback((function(e){var t=function(){return s((n+1)%o)},r=function(){return s((n-1+o)%o)},a="horizontal"===i,l="vertical"===i,c={ArrowRight:function(){return a&&t()},ArrowLeft:function(){return a&&r()},ArrowDown:function(){return l&&t()},ArrowUp:function(){return l&&r()},Home:function(){return s(0)},End:function(){return s(o-1)}}[Object(u.g)(e)];c&&(e.preventDefault(),c(e))}),[o,n,i,s]);return k({},e,{role:"tablist","aria-orientation":i,onKeyDown:Object(b.b)(e.onKeyDown,l)})}(P({},e,{ref:t})),n=P({display:"flex"},Object(o.c)().tablist);return d.createElement(s.a.div,P({},r,{className:Object(u.c)("chakra-tabs__tablist",e.className),__css:n}))}));c.a&&(I.displayName="TabList");var R=Object(n.a)((function(e,t){var r=function(e){var t=e.isSelected,r=e.id;return k({},E(e,["isSelected","id"]),{children:!w().isLazy||t?e.children:null,role:"tabpanel",hidden:!t,id:r})}(P({},e,{ref:t})),n=Object(o.c)();return d.createElement(s.a.div,P({},r,{className:Object(u.c)("chakra-tabs__tab-panel",e.className),__css:n.tabpanel}))}));c.a&&(R.displayName="TabPanel");var D=Object(n.a)((function(e,t){var r=function(e){var t=w(),r=t.id,n=t.selectedIndex;return k({},e,{children:Object(y.b)(e.children).map((function(e,t){return d.cloneElement(e,{isSelected:t===n,id:O(r,t)})}))})}(e);return d.createElement(s.a.div,P({},r,{ref:t,className:Object(u.c)("chakra-tabs__tab-panels",e.className)}))}));c.a&&(D.displayName="TabPanels");var L=Object(n.a)((function(e,t){var r=function(){var e=w(),t=e.selectedIndex,r=e.orientation,n=e.domContext,i="horizontal"===r,a="vertical"===r,o=d.useState((function(){return i?{left:0,width:0}:a?{top:0,height:0}:void 0})),s=Object(f.a)(o,2),l=s[0],u=s[1],p=d.useState(!1),h=Object(f.a)(p,2),g=h[0],m=h[1];return Object(v.a)((function(){var e;if(!Object(c.i)(t)){var r=n.descendants[t],o=null==r||null==(e=r.element)?void 0:e.getBoundingClientRect();if(i&&o){var s=o.left,l=o.width;u({left:s,width:l})}if(a&&o){var d=o.top,f=o.height;u({top:d,height:f})}var p=requestAnimationFrame((function(){m(!0)}));return function(){p&&cancelAnimationFrame(p)}}}),[t,i,a,n.descendants]),k({position:"absolute",transition:g?"all 200ms cubic-bezier(0, 0, 0.2, 1)":"none"},l)}(),n=P({},e.style,r),i=Object(o.c)();return d.createElement(s.a.div,P({ref:t},e,{className:Object(u.c)("chakra-tabs__tab-indicator",e.className),style:n,__css:i.indicator}))}));c.a&&(L.displayName="TabIndicator")},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(20),i=r(22),a=r(46),o=r(7),s=r(0),l=r(4),u=r(75);function c(e){var t=e.src,r=e.srcSet,n=e.onLoad,i=e.onError,a=e.crossOrigin,o=e.sizes,c=e.ignoreFallback,d=Object(s.useState)("pending"),f=Object(l.a)(d,2),p=f[0],h=f[1];Object(s.useEffect)((function(){h(t?"loading":"pending")}),[t]);var g=Object(s.useRef)(),m=Object(s.useCallback)((function(){if(t){v();var e=new Image;e.src=t,a&&(e.crossOrigin=a),r&&(e.srcset=r),o&&(e.sizes=o),e.onload=function(e){v(),h("loaded"),null==n||n(e)},e.onerror=function(e){v(),h("failed"),null==i||i(e)},g.current=e}}),[t,a,r,o,n,i]),v=function(){g.current&&(g.current.onload=null,g.current.onerror=null,g.current=null)};return Object(u.a)((function(){if(!c)return"loading"===p&&m(),function(){v()}}),[p,m,c]),c?"loaded":p}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var p=s.forwardRef((function(e,t){var r=e.htmlWidth,n=e.htmlHeight,i=e.alt,a=f(e,["htmlWidth","htmlHeight","alt"]);return s.createElement("img",d({width:r,height:n,ref:t,alt:i},a))})),h=Object(n.a)((function(e,t){var r=e.fallbackSrc,n=e.fallback,o=e.src,l=e.align,u=e.fit,h=e.loading,g=e.ignoreFallback,m=e.crossOrigin,v=f(e,["fallbackSrc","fallback","src","align","fit","loading","ignoreFallback","crossOrigin"]),y=null!=h||g,b=c(d({},e,{ignoreFallback:y})),k=d({ref:t,objectFit:u,objectPosition:l},y?v:Object(a.h)(v,["onError","onLoad"]));return"loaded"!==b?n||s.createElement(i.a.img,d({as:p,className:"chakra-image__placeholder",src:r},k)):s.createElement(i.a.img,d({as:p,src:o,crossOrigin:m,loading:h,className:"chakra-image"},k))}));o.a&&(h.displayName="Image")},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(4),i=r(328),a=r(64),o=r(18),s=r(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){var t=e.target,r=t.tagName,n=t.isContentEditable;return"INPUT"!==r&&"TEXTAREA"!==r&&!0!==n}function c(e){void 0===e&&(e={});var t=e,r=t.ref,c=t.isDisabled,d=t.isFocusable,f=t.clickOnEnter,p=void 0===f||f,h=t.clickOnSpace,g=void 0===h||h,m=t.onMouseDown,v=t.onMouseUp,y=t.onClick,b=t.onKeyDown,k=t.onKeyUp,E=t.tabIndex,_=t.onMouseOver,S=t.onMouseLeave,T=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"]),w=s.useState(!0),x=Object(n.a)(w,2),O=x[0],P=x[1],C=s.useState(!1),A=Object(n.a)(C,2),M=A[0],I=A[1],R=function(){var e=s.useRef(new Map),t=s.useCallback((function(t,r,n,i){e.current.set(n,{type:r,el:t,options:i}),t.addEventListener(r,n,i)}),[]),r=s.useCallback((function(t,r,n,i){t.removeEventListener(r,n,i),e.current.delete(n)}),[]);return s.useEffect((function(){return function(){e.current.forEach((function(e,t){r(e.el,e.type,t,e.options)}))}}),[r]),{add:t,remove:r}}(),D=O?E:E||0,L=c&&!d,j=s.useCallback((function(e){if(c)return e.stopPropagation(),void e.preventDefault();e.currentTarget.focus(),null==y||y(e)}),[c,y]),N=function e(t){M&&u(t)&&(t.preventDefault(),t.stopPropagation(),I(!1),R.remove(document,"keyup",e,!1))},U=s.useCallback((function(e){if(null==b||b(e),!(c||e.defaultPrevented||e.metaKey)&&u(e.nativeEvent)&&!O){var t=p&&"Enter"===e.key;if(g&&" "===e.key&&(e.preventDefault(),I(!0)),t)e.preventDefault(),e.currentTarget.click();R.add(document,"keyup",N,!1)}}),[c,O,b,p,g]),B=s.useCallback((function(e){(null==k||k(e),c||e.defaultPrevented||e.metaKey)||u(e.nativeEvent)&&!O&&g&&" "===e.key&&(e.preventDefault(),I(!1),e.currentTarget.click())}),[g,O,c,k]),F=function e(t){0===t.button&&(I(!1),R.remove(document,"mouseup",e,!1))},z=s.useCallback((function(e){if(!Object(i.b)(e)){if(c)return e.stopPropagation(),void e.preventDefault();O||I(!0),e.currentTarget.focus({preventScroll:!0}),R.add(document,"mouseup",F,!1),null==m||m(e)}}),[c,O,m]),V=s.useCallback((function(e){Object(i.b)(e)||(O||I(!1),null==v||v(e))}),[v,O]),W=s.useCallback((function(e){c?e.preventDefault():null==_||_(e)}),[c,_]),$=s.useCallback((function(e){M&&(e.preventDefault(),I(!1)),null==S||S(e)}),[M]),H=Object(a.c)(r,(function(e){e&&"BUTTON"!==e.tagName&&P(!1)}));return l({},T,O?{ref:H,type:"button","aria-disabled":L?void 0:c,disabled:L,onClick:j,onMouseDown:m,onMouseUp:v,onKeyUp:k,onKeyDown:b,onMouseOver:_,onMouseLeave:S}:{ref:H,role:"button","data-active":Object(o.d)(M),"aria-disabled":c?"true":void 0,tabIndex:L?void 0:D,onClick:j,onMouseDown:z,onMouseUp:V,onKeyUp:B,onKeyDown:U,onMouseOver:W,onMouseLeave:$})}}]]);
//# sourceMappingURL=2.672ac5e9.chunk.js.map