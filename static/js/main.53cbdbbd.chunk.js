(this.webpackJsonpstreamlab=this.webpackJsonpstreamlab||[]).push([[0],{186:function(e,t,a){e.exports=a.p+"static/media/replay-logo.db4d89bd.svg"},189:function(e,t,a){e.exports=a.p+"static/media/streamlab-logo.6081168a.svg"},206:function(e,t,a){e.exports=a(309)},211:function(e,t,a){},305:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),l=a(57),i=a.n(l),c=(a(211),a(343)),s=a(347),u=a(323),m=a(326),d=a(4),f=a(346),p=a(333),y=a(335),h=a(196),b=a(336),E=a(43),O=a(2),v=a(61),g=a(348),R=a(344),S=a(330),j=a(331),A=a(329),D=a(38),C=a(321);!function(e){e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6"}(r||(r={}));var L,T,x,I,w,k,_,P,N=function(e){var t=e.level,a=e.children,n=Object(D.a)(e,["level","children"]);return o.a.createElement(C.a,Object.assign({as:t},function(e){switch(e){case r.H1:return{size:"md",my:1,mx:4,px:1};case r.H2:return{size:"sm",m:0,p:1,textAlign:"left"};case r.H3:return{size:"md",my:4};case r.H4:return{size:"sm",my:4};case r.H6:return{size:"sm",fontWeight:"normal",justifySelf:"center"};default:return{size:"sm"}}}(t),n),a)},H=a(14),M=a(73);!function(e){e[e.AUTO=0]="AUTO"}(I||(I={})),function(e){e[e.DASH=1]="DASH",e[e.HLS=2]="HLS",e[e.PROGRESSIVE=3]="PROGRESSIVE",e[e.MSS=4]="MSS"}(w||(w={})),function(e){e[e.WIDEVINE=1]="WIDEVINE",e[e.PLAYREADY=2]="PLAYREADY",e[e.FAIRPLAY=3]="FAIRPLAY"}(k||(k={})),function(e){e[e.WEBVTT=1]="WEBVTT",e[e.TTML=2]="TTML",e[e.SRT=3]="SRT"}(_||(_={})),function(e){e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e[e.VERBOSE=5]="VERBOSE"}(P||(P={}));var Y={AUTO:"Automatic selection",SHAKA_PLAYER:"Shaka Player",HLS_JS:"HLS.js",RX_PLAYER:"RxPlayer",HTML:"Native browser playback through HTML <video> element"},F=P.WARNING,U=(L={},Object(H.a)(L,w.DASH,"application/dash+xml"),Object(H.a)(L,w.HLS,"application/x-mpegurl"),Object(H.a)(L,w.PROGRESSIVE,"video/mp4"),Object(H.a)(L,w.MSS,"application/vnd.ms-sstr+xml"),L),G=Object.entries(U).map((function(e){return e.reverse()})).reduce((function(e,t){var a=Object(d.a)(t,2),r=a[0],n=a[1];return e[r]=Number(n),e}),{}),W=(T={},Object(H.a)(T,k.WIDEVINE,"com.widevine.alpha"),Object(H.a)(T,k.PLAYREADY,"com.microsoft.playready"),Object(H.a)(T,k.FAIRPLAY,"com.apple.fps.1_0"),T),V=(x={},Object(H.a)(x,_.WEBVTT,"text/vtt"),Object(H.a)(x,_.TTML,"application/ttml+xml"),Object(H.a)(x,_.SRT,"text/srt"),x),B=[{key:I.AUTO,label:"Auto"},{key:w.DASH,label:"MPEG-DASH"},{key:w.HLS,label:"HLS"},{key:w.MSS,label:"Smooth stream"},{key:w.PROGRESSIVE,label:"Progressive video"}],q=[{key:k.WIDEVINE,label:"Widevine"},{key:k.PLAYREADY,label:"PlayReady"},{key:k.FAIRPLAY,label:"FairPlay"}],z=[{key:I.AUTO,label:"Auto"},{key:_.WEBVTT,label:"WebVTT"},{key:_.TTML,label:"TTML (DXFP)"}],J=function(e){return M.streamTypes.find((function(t){var a=t.urlMatch,r=t.urlNotMatch;return r?a.test(e)&&!r.test(e):a.test(e)}))},K=function(e){var t=J(e);if(t)return G[t.contentTypes[0]]},X=function(e){return/\.vtt/.test(e)?_.WEBVTT:/(\.ttml|\.dxfp|\.xml)/.test(e)?_.TTML:/\.srt/.test(e)?_.SRT:void 0},Z=function(e,t){return(t.find((function(t){return t.key===e}))||t[0]||{label:""}).label},$=function(e){var t=e.streamResource,a=e.drmLicenseResource,r=e.drmCertificateResource,n=e.subtitlesResource,o=e.startOffset,l=t.url,i=""===o?void 0:o;if(l){var c=t.technology===I.AUTO?function(e){if(e)return e.contentTypes[0]}(J(l)):U[t.technology];if(c){var s={streamUrl:l,contentType:c,startPosition:i};if(a){var u=a.url;if(u){if(s.licenseUrl=u,s.drmType=a.technology!==I.AUTO?W[a.technology]:void 0,s.licenseAcquisitionDetails={},a&&a.headers.length){var m={};a.headers.forEach((function(e){return m[e.name]=e.value})),s.licenseAcquisitionDetails.licenseRequestHeaders=m}var d=r&&r.url;d&&(a.technology===k.WIDEVINE?s.licenseAcquisitionDetails.widevineServiceCertificateUrl=d:a.technology===k.FAIRPLAY&&(s.licenseAcquisitionDetails.fairPlayCertificateUrl=d))}}if(n){var f=n.url;if(f){var p=n.technology===I.AUTO?X(f):n.technology;if(p){var y=V[p],h=f.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i),b=h&&h[2],E="Subtitles file from ".concat(b);s.textTracks=[{contentType:y,src:f,label:E}]}}}return s}}},Q=function(e){var t=Object.entries(P).find((function(t){var a=Object(d.a)(t,2),r=(a[0],a[1]);return e===r}));return t&&t[0]},ee=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"&";if(e.length>1){var r=e.substr(1).split("&").filter((function(e){return 0!==e.indexOf(t)})).join("&");if(r.length>1)return a+r}return""},te=function(e){try{var t=function(e,t){return e.length&&e.substr(1).split("&").find((function(e){return e.startsWith(t)}))}(e,"s=");if(t){var a=t.substr("s=".length);if(a.length)return JSON.parse(decodeURIComponent(a))}}catch(r){console.error('Bad format/encoding of setup parameter ("'.concat("s=",'").'))}},ae=function(e,t){var a,r=t.origin,n=t.pathname,o=t.search;return"".concat(r).concat(n,"?").concat("s=").concat((a=JSON.stringify(e),encodeURIComponent(a).replace(/%7B/g,"{").replace(/%7D/g,"}").replace(/%2C/g,",").replace(/%3A/g,":").replace(/%5B/g,"[").replace(/%5D/g,"]"))).concat(ee(o,"s="))},re=function(){return window.history.pushState({},document.title,function(e){var t=e.pathname,a=e.search;return t+ee(a,"s=","?")}(document.location))},ne=function(e){return"streamResource"in e?{type:"STREAM_RESOURCE_FIELD_CHANGE",value:e.streamResource}:"drmLicenseResource"in e?{type:"DRM_LICENSE_RESOURCE_FIELD_CHANGE",value:e.drmLicenseResource}:"drmCertificateResource"in e?{type:"DRM_CERTIFICATE_RESOURCE_FIELD_CHANGE",value:e.drmCertificateResource}:"subtitlesResource"in e?{type:"SUBTITLES_RESOURCE_FIELD_CHANGE",value:e.subtitlesResource}:{type:"START_OFFSET_FIELD_CHANGE",value:e.startOffset}},oe=function(e,t){return{type:"APPLY_BROWSER_ENVIRONMENT",value:{supportedDrmTechnologies:function(e){return Object(M.isLegacyMicrosoft)(e)?[k.PLAYREADY]:Object(M.isChromiumEdgeOnWindows)(e)?[k.PLAYREADY,k.WIDEVINE]:Object(M.isSafari)(e)?[k.FAIRPLAY]:[k.WIDEVINE]}(e),urlSetup:te(t)}}},le=a(8),ie=a(322),ce=a(324),se=a(325),ue=function(e){var t=e.header,a=e.onChange,r=e.onDelete,l=t.id,i=t.name,c=t.value,s=Object(n.useState)(!1),m=Object(d.a)(s,2),f=m[0],p=m[1];return Object(n.useEffect)((function(){p(!0)}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(ie.a,{key:l,in:f,onAnimationComplete:function(){f||r(t)}},o.a.createElement(u.a,{direction:"row",py:2},o.a.createElement(g.a,{flex:"1 2 auto",placeholder:"Header name",mr:2,value:i,onChange:function(e){return a({name:e.target.value,value:c,id:l})}}),o.a.createElement(g.a,{flex:"2 1 auto",placeholder:"Header value",mr:2,value:c,onChange:function(e){return a({name:i,value:e.target.value,id:l})}}),o.a.createElement(ce.a,{flex:"0","aria-label":"Remove header",icon:o.a.createElement(se.a,null),onClick:function(){p(!1)},mr:2}))))},me=function(e){var t=e.headers,a=void 0===t?[]:t,r=e.onHeadersChange,n=Object(D.a)(e,["headers","onHeadersChange"]),l=function(e){var t=a.slice(0),n=a.findIndex((function(t){return t.id===e.id}));n>=0&&(t[n]=e,r(t))},i=function(e){var t=e.id,n=a.slice(0),o=a.findIndex((function(e){return e.id===t}));o>=0&&(n.splice(o,1),r(n))};return o.a.createElement(m.a,Object.assign({mb:a.length?4:0},n),a.map&&a.map((function(e){return o.a.createElement(ue,{key:e.id,header:e,onChange:l,onDelete:i})})))},de=function(e){return q.filter((function(t){var a=t.key;return e.indexOf(a)>=0}))},fe=function(e){e.id;var t=e.url,a=e.label,r=(e.useProxy,e.headers),n=e.technology,l=e.techOptions,i=e.onChange,c=e.isHeadersEnabled;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{gridColumn:c?1:"1/span 2"},o.a.createElement(g.a,{onChange:function(e){return i({url:e.target.value})},placeholder:a+" URL",type:"url",value:t})),c&&o.a.createElement(h.a,{title:"Add headers to be included in ".concat(a.toLowerCase()," requests"),onClick:function(){return i({headers:r.concat({name:"",value:"",id:Date.now()})})}},"Add header"),l.length>1?o.a.createElement(R.a,{"aria-label":a+" technology menu"},o.a.createElement(R.b,{as:h.a,rightIcon:o.a.createElement(A.a,null)},Z(n,l)),o.a.createElement(R.d,null,l.map((function(e,t){var a=e.key,r=e.label;return o.a.createElement(R.c,{key:t,onClick:function(){return i({technology:a})}},r)})))):o.a.createElement(h.a,{isDisabled:!0},Z(n,l)),!1,o.a.createElement(m.a,{gridColumn:"1/span 4"},o.a.createElement(me,{onHeadersChange:function(e){return i({headers:e})},headers:r})))},pe=function(){var e=Object(le.c)((function(e){return Object(O.a)({},e.streamDetails)})),t=e.streamResource,a=e.drmLicenseResource,n=e.drmCertificateResource,l=e.subtitlesResource,i=e.startOffset,c=e.supportedDrmTechnologies,s=void 0===c?[k.WIDEVINE]:c,u=e.isDrmCertificateApplicable,d=Object(le.b)(),f=function(e){return re(),d(ne(e))};return o.a.createElement("form",{"aria-label":"Stream details form"},o.a.createElement(m.a,{display:"grid",gridTemplateColumns:"1fr auto auto",gridAutoRows:"auto",gridGap:2,alignItems:"center"},o.a.createElement(N,{level:r.H6,justifySelf:"left",gridColumn:"1/span 2"},"URLs"),o.a.createElement(N,{level:r.H6},"Technology"),!1,o.a.createElement(fe,Object.assign({id:"stream",label:"Stream",techOptions:B,isHeadersEnabled:!0,onChange:function(e){return f({streamResource:e})}},t)),o.a.createElement(fe,Object.assign({label:"DRM license",id:"license",techOptions:de(s),isHeadersEnabled:!0,onChange:function(e){return f({drmLicenseResource:e})}},a)),u&&o.a.createElement(fe,Object.assign({id:"certificate",label:"DRM certificate",techOptions:de([a.technology]),isHeadersEnabled:!1,onChange:function(e){return f({drmCertificateResource:e})}},n)),o.a.createElement(fe,Object.assign({id:"subtitles",label:"Subtitles",techOptions:z,isHeadersEnabled:!1,onChange:function(e){return f({subtitlesResource:e})}},l))),o.a.createElement(v.a,{display:"flex",alignItems:"center",mt:2},o.a.createElement(j.a,{htmlFor:"startOffsetField"},"Start offset:"),o.a.createElement(g.a,{id:"startOffsetField",type:"number",step:.001,value:i,width:24,textAlign:"right",min:0,onChange:function(e){return f({startOffset:""===e.target.value?"":Number(e.target.value)})}}),o.a.createElement(v.b,{mx:2,mb:3},"seconds")))},ye=a(332),he=a(334),be=a(181),Ee=(a(218),a(219),a(220),a(221),a(222),a(182)),Oe=a.n(Ee);window.jsonlint=Oe.a;var ve,ge=function(e){var t=e.value,a=e.onChange;return o.a.createElement(be.Controlled,{value:t,options:{mode:"application/json",theme:"default",lineNumbers:!0,tabSize:2,gutters:["CodeMirror-lint-markers"],lint:t&&t.trim()},onBeforeChange:function(e,t,r){return a(r)}})},Re=function(){var e=Object(le.c)((function(e){return Object(O.a)({},e.playerOptions)})),t=e.logLevel,a=e.showPlaybackMonitor,r=e.customConfiguration,n=e.playerLibrary,l=Object(le.b)();return o.a.createElement("form",{"aria-label":"Player options form"},o.a.createElement(ye.a,{templateColumns:"auto 1fr",gap:4,my:2,alignItems:"center"},o.a.createElement(R.a,{"aria-label":"Player library menu"},o.a.createElement(R.b,{as:h.a,rightIcon:o.a.createElement(A.a,null),style:{justifySelf:"end"}},Y[n]),o.a.createElement(R.d,null,Object.entries(Y).map((function(e){var t=Object(d.a)(e,2),a=t[0],r=t[1];return o.a.createElement(R.c,{key:a,onClick:function(){return function(e){re(),l(function(e){return{type:"SET_PLAYER_LIBRARY",value:e}}(e))}(a)}},r)})))),o.a.createElement(j.a,null,"Player library to use for playback"),o.a.createElement(S.a,{id:"playback-monitor-switch",style:{justifySelf:"end"},isChecked:a,onChange:function(e){return re(),l({type:"TOGGLE_PLAYBACK_MONITOR",value:e.target.checked})}}),o.a.createElement(j.a,{htmlFor:"playback-monitor-switch"},"Display playback monitor overlay at startup"),o.a.createElement(R.a,{"aria-label":"Log level menu"},o.a.createElement(R.b,{as:h.a,rightIcon:o.a.createElement(A.a,null),style:{justifySelf:"end"}},Q(t)),o.a.createElement(R.d,null,Object.entries(P).filter((function(e){var t=Object(d.a)(e,1)[0];return!isNaN(Number(P[t]))})).map((function(e){var t=Object(d.a)(e,2),a=t[0],r=t[1];return o.a.createElement(R.c,{key:r,onClick:function(){return function(e){re(),l(function(e){return{type:"SET_LOG_LEVEL",value:e}}(e))}(Number(r))}},a)})))),o.a.createElement(j.a,null,"Player log level (for messages to the JS console)")),o.a.createElement(p.a,{mt:4,mb:1},"Player configuration overrides according to"," ",o.a.createElement(he.a,{href:"https://vimond.github.io/replay/#/custom-replay/configuration",isExternal:!0,style:{textDecoration:"underline"}},"Replay documentation"),":"),o.a.createElement(ge,{value:r,onChange:function(e){return re(),l(function(e){return{type:"SET_PLAYER_CONFIGURATION",value:e}}(e))}}))},Se=function(e){return{timestamp:(new Date).toISOString(),name:"",formData:{streamDetails:{streamResource:{url:e.streamResource.url,technology:e.streamResource.technology}}}}},je=function(e){e.supportedDrmTechnologies;return Object(D.a)(e,["supportedDrmTechnologies"])},Ae=function(e,t){return{timestamp:(new Date).toISOString(),name:"",formData:{streamDetails:je(e),playerOptions:t}}},De=function(e,t){var a=t().streamDetails,r=a.streamResource,n=$({streamResource:r});n&&e({type:"PLAY",value:{source:n,historyEntry:Se(a)}})},Ce=function(e,t){var a=t(),r=a.streamDetails,n=a.playerOptions,o=$(r),l=function(e){var t=e.logLevel,a=e.showPlaybackMonitor,r=e.customConfiguration.trim(),n={};if(r)try{n=JSON.parse(r)}catch(o){}return n.videoStreamer=n.videoStreamer||{},n.videoStreamer.logLevel=Q(t),n.playbackMonitor=n.playbackMonitor||{},n.playbackMonitor.visibleAtStart=a,n}(n),i=function(e){var t=e.streamResource;if(t.headers&&t.headers.length){var a={headers:t.headers};return t.headers.some((function(e){return e.name&&"authorization"===e.name.toLowerCase()}))&&(a.withCredentials=!0),a}}(r),c=n.playerLibrary;o&&e({type:"PLAY",value:{source:o,options:l,playerLibraryOverride:c,additionalRequestData:i,historyEntry:Ae(Object(O.a)(Object(O.a)({},r),{},{startOffset:""}),n)}})},Le=function(e){return e({type:"STOP"})},Te=function(e){var t=e.header,a=e.isRequired;return o.a.createElement(f.b,{backgroundColor:"gray.100"},o.a.createElement(N,{level:r.H2,flex:"1",lineHeight:1},t,!a&&o.a.createElement(p.a,{as:"em",fontStyle:"normal",color:"gray.500",fontWeight:"normal",ml:"4"}," ","optional")),o.a.createElement(f.c,null))},xe=function(){var e=Object(le.c)((function(e){return e.ui.expandedAdvancedAccordionIndices})),t=Object(le.c)((function(e){return!!e.player.source})),a=Object(le.c)((function(e){return!!e.streamDetails.streamResource.url})),r=Object(le.c)((function(e){return e.playerOptions.isModified})),n=o.a.useState(!1),l=Object(d.a)(n,2),i=l[0],c=l[1],s=Object(le.b)(),m=function(){return c(!1)},p=o.a.useRef(null);return o.a.createElement(y.a,{"aria-label":"Advanced forms"},o.a.createElement(f.a,{defaultIndex:e,allowMultiple:!0,onChange:function(e){return s({type:"ADVANCED_ACCORDION_CHANGE",value:e})}},o.a.createElement(f.d,null,o.a.createElement(Te,{header:"Stream details",isRequired:!0}),o.a.createElement(f.e,{ml:2,mt:1,backgroundColor:"White"},o.a.createElement(pe,null))),o.a.createElement(f.d,null,o.a.createElement(Te,{header:"Player options".concat(r?" *":"")}),o.a.createElement(f.e,{ml:2,mt:1,backgroundColor:"White"},o.a.createElement(Re,null)))),o.a.createElement(u.a,{justify:"center",py:4},o.a.createElement(h.a,{colorScheme:"green",onClick:function(e){e.currentTarget.blur(),s(Ce)},mx:4,isDisabled:!a},"Play"),o.a.createElement(h.a,{colorScheme:"red",onClick:function(){return s(Le)},isDisabled:!t},"Stop"),o.a.createElement(h.a,{colorScheme:"red",variant:"outline",onClick:function(){return c(!0)},mx:4},"Clear all forms"),o.a.createElement(b.a,{leastDestructiveRef:p,isOpen:i,onClose:m},o.a.createElement(E.f,null),o.a.createElement(b.b,null,o.a.createElement(E.e,{fontSize:"lg",fontWeight:"bold"},"Clear forms"),o.a.createElement(E.b,null,"Are you sure you want to empty all form fields? You cannot undo this action afterwards."),o.a.createElement(E.d,null,o.a.createElement(h.a,{ref:p,onClick:m},"Cancel"),o.a.createElement(h.a,{colorScheme:"red",onClick:function(){c(!1),re(),s({type:"CLEAR_FORMS"})},ml:3},"Clear forms"))))))},Ie=a(350),we=a(339),ke=a(337),_e=a(349),Pe=a(338),Ne=function(e,t){var a=e.text,r=e.level,n=e.link;return o.a.createElement(ke.b,{key:t},o.a.createElement(_e.a,{status:r,alignItems:"flex-start",style:{overflowX:"auto"}},o.a.createElement(_e.b,{flex:"0 0 1rem"}),n?o.a.createElement(o.a.Fragment,null,o.a.createElement(he.a,{href:n,isExternal:!0},a),o.a.createElement(he.a,{alignSelf:"center",mx:2,href:n,isExternal:!0},o.a.createElement(Pe.a,null))):a))},He=function(){var e=Object(le.c)((function(e){return e.information.messages}));return o.a.createElement(m.a,{display:"flex",flex:"1",position:"relative"},o.a.createElement(ke.a,{styleType:"none"},e.map(Ne)),o.a.createElement(p.a,{position:"absolute",bottom:3,left:1,right:1,align:"center"},"An"," ",o.a.createElement(he.a,{href:"https://github.com/vimond/streamlab/",isExternal:!0,textDecoration:"underline"},"open source project")," ","from"," ",o.a.createElement(he.a,{href:"https://www.vimond.com/vimond-tools",isExternal:!0,textDecoration:"underline"},"Vimond developers"),"."))},Me=a(345);!function(e){e[e.BOTH=0]="BOTH",e[e.NAMED=1]="NAMED",e[e.UNNAMED=2]="UNNAMED"}(ve||(ve={}));var Ye,Fe=function(e){return e.replace(/T/," ").substr(0,16)},Ue=function(e){if(e.name)return e.name;var t=e.formData.streamDetails.streamResource,a=t.url.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i),r=a&&a[2],n=function(e){var t=e.url,a=e.technology;return Z(a===I.AUTO?K(t):a,B)}(t),o=n.indexOf("stream")<0?" stream":"";return"".concat(n).concat(o," on ").concat(r||"[unknown host]")},Ge=function(e){var t=e.entry,a=e.isSelected,r=e.handleClick;return o.a.createElement(m.a,{as:"li",p:2,cursor:"pointer",backgroundColor:a?"gray.200":void 0,_hover:{backgroundColor:"gray.100"},style:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},color:t.name?void 0:"gray.500",onClick:r,title:Fe(t.timestamp)+" "+Ue(t)},t.error&&o.a.createElement(we.a,{colorScheme:"red",mt:"-0.2em",title:"This playback attempt failed with an error: ".concat(t.error.message)},"Err")," ",Ue(t)+(t.name?"":", "+Fe(t.timestamp)))},We=function(e){return!(!e.url&&!e.headers.length)},Ve={userSelect:"text",backgroundColor:"#F7FAFC",padding:"0.2rem",border:"none",height:"auto",marginBottom:"0.2rem"},Be=function(e){var t=e.id,a=e.name,r=e.value;return o.a.createElement(o.a.Fragment,{key:t},o.a.createElement(g.a,{type:"text",value:a,isReadOnly:!0,style:Ve}),o.a.createElement(g.a,{type:"text",value:r,isReadOnly:!0,style:Ve}))},qe=function(e){var t=e.label,a=e.resource,r=e.techLabels;return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{justifySelf:"right"},t," URL"),o.a.createElement(g.a,{type:"url",value:a.url,isReadOnly:!0,style:Ve}),"useProxy"in a&&a.useProxy&&o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{justifySelf:"right"},"Use proxy"),o.a.createElement(Me.a,{isChecked:!0,isReadOnly:!0})),a.technology!==I.AUTO&&o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{justifySelf:"right"},t," technology"),o.a.createElement(g.a,{type:"text",value:Z(a.technology,r),isReadOnly:!0,style:Ve})),"headers"in a&&a.headers.some((function(e){var t=e.name,a=e.value;return t||a}))?o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{alignSelf:"start",justifySelf:"right"},t," headers"),o.a.createElement(ye.a,{templateColumns:"1fr 3fr",gap:2,alignItems:"center"},a.headers.map(Be))):"")},ze=function(){var e=Object(le.b)(),t=Object(le.c)((function(e){return e.history.history})),a=Object(le.c)((function(e){return e.history.selectedEntry})),n=o.a.useState(!1),l=Object(d.a)(n,2),i=l[0],c=l[1],s=o.a.useState(!1),f=Object(d.a)(s,2),y=f[0],v=f[1],R=function(){c(!1),v(!1)},S=function(){return e({type:"DELETE_HISTORY"})},A=function(){return e({type:"DELETE_UNNAMED_HISTORY_ENTRIES"})},D=o.a.useRef(null),C=o.a.useRef(null);return o.a.createElement(m.a,{mx:4},o.a.createElement(m.a,null,o.a.createElement(N,{level:r.H4},"Form history"),o.a.createElement(p.a,null,"The form data from each playback attempt is registered in the entries below. Duplicates are listed once with their last playback time. Select for inspection and restoration back into the forms:"),!!t.length&&o.a.createElement(ke.a,{overflowY:"scroll",backgroundColor:"white",minHeight:32,maxHeight:64,my:2,borderWidth:"1px",rounded:"md",borderColor:"gray.400"},t.slice(0).reverse().map((function(t){return o.a.createElement(Ge,{key:t.timestamp,entry:t,handleClick:function(){return function(t){return e({type:"SELECT_HISTORY_ENTRY",value:t})}(t)},isSelected:!(!a||t.timestamp!==a.timestamp)})})))),a&&o.a.createElement(m.a,{mt:4,p:2,backgroundColor:"gray.200",rounded:"md","aria-label":"Form history entry"},o.a.createElement(ye.a,{templateColumns:a.error?"auto auto 1fr":"auto 1fr",gap:4,alignItems:"center",title:a.error?"Unsuccessful playback attempt: ".concat(a.error.message||a.error.code||a.error):void 0},a.error&&o.a.createElement(we.a,{colorScheme:"red",mt:"-0.2em",title:"This playback attempt failed with an error: ".concat(a.error.message)},"Err"),o.a.createElement(N,{level:r.H4},Fe(a.timestamp)),o.a.createElement(g.a,{type:"text",placeholder:"Enter a name for this entry",value:a.name,onChange:function(t){return e({type:"UPDATE_HISTORY_ENTRY_NAME",value:t.target.value})},backgroundColor:"White"})),o.a.createElement(p.a,null,"The details below can be reapplied to the form fields by pressing Restore. Note that fields not included in the stored data will be cleared."),o.a.createElement(ye.a,{mt:2,templateColumns:"auto 1fr",rowGap:1,columnGap:0,alignItems:"center"},o.a.createElement(qe,{label:"Stream",resource:a.formData.streamDetails.streamResource,techLabels:B}),"drmLicenseResource"in a.formData.streamDetails&&We(a.formData.streamDetails.drmLicenseResource)&&o.a.createElement(qe,{label:"DRM license",resource:Object(O.a)(Object(O.a)({},a.formData.streamDetails.drmLicenseResource),{},{technology:I.AUTO}),techLabels:q}),"drmCertificateResource"in a.formData.streamDetails&&We(a.formData.streamDetails.drmCertificateResource)&&o.a.createElement(qe,{label:"DRM certificate",resource:Object(O.a)(Object(O.a)({},a.formData.streamDetails.drmCertificateResource),{},{technology:I.AUTO}),techLabels:q}),"subtitlesResource"in a.formData.streamDetails&&We(a.formData.streamDetails.subtitlesResource)&&o.a.createElement(qe,{label:"Subtitles",resource:a.formData.streamDetails.subtitlesResource,techLabels:z}),"playerOptions"in a.formData&&a.formData.playerOptions&&a.formData.playerOptions.showPlaybackMonitor&&o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{justifySelf:"right"},"Show playback monitor"),o.a.createElement(Me.a,{isChecked:!0,isReadOnly:!0})),"playerOptions"in a.formData&&a.formData.playerOptions&&"AUTO"!==a.formData.playerOptions.playerLibrary&&o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{justifySelf:"right"},"Player library"),o.a.createElement(g.a,{type:"text",value:Y[a.formData.playerOptions.playerLibrary],isReadOnly:!0,style:Ve})),"playerOptions"in a.formData&&a.formData.playerOptions&&a.formData.playerOptions.logLevel!==F&&o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{justifySelf:"right"},"Player log level"),o.a.createElement(g.a,{type:"text",value:Q(a.formData.playerOptions.logLevel),isReadOnly:!0,style:Ve})),"playerOptions"in a.formData&&a.formData.playerOptions&&a.formData.playerOptions.customConfiguration&&a.formData.playerOptions.customConfiguration.trim()&&o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{justifySelf:"right"},"Custom configuration"),o.a.createElement(g.a,{type:"text",value:a.formData.playerOptions.customConfiguration.trim(),isReadOnly:!0,style:Ve}))),o.a.createElement(u.a,{justify:"center",pt:4},o.a.createElement(h.a,{m:2,colorScheme:"blue",onClick:function(){return t=a,re(),e({type:"RESTORE_HISTORY_ENTRY",value:t});var t}},"Restore into forms"),o.a.createElement(h.a,{m:2,colorScheme:"red",onClick:function(){return e({type:"DELETE_HISTORY_ENTRY",value:a})}},"Delete from history"))),!!t.length&&o.a.createElement(u.a,{justify:"center",py:1},o.a.createElement(h.a,{m:2,colorScheme:"red",variant:"outline",onClick:function(){return v(!0)}},"Clear unnamed entries"),o.a.createElement(h.a,{m:2,colorScheme:"red",variant:"outline",onClick:function(){return c(!0)}},"Clear history"),o.a.createElement(b.a,{isOpen:y,leastDestructiveRef:C,onClose:R},o.a.createElement(E.f,null),o.a.createElement(b.b,null,o.a.createElement(E.e,{fontSize:"lg",fontWeight:"bold"},"Clear unnamed entries"),o.a.createElement(E.b,null,o.a.createElement(p.a,null,"Are you sure you want to clear all history entries you haven't given a name? You cannot undo this action afterwards."," "),o.a.createElement(p.a,{mt:2},"If you want to keep some entries, give them a name before proceeding with this operation.")),o.a.createElement(E.d,null,o.a.createElement(h.a,{ref:C,onClick:R},"Cancel"),o.a.createElement(h.a,{colorScheme:"red",onClick:function(){A(),R()},ml:3},"Clear history entries with no name")))),o.a.createElement(b.a,{isOpen:i,leastDestructiveRef:D,onClose:R},o.a.createElement(E.f,null),o.a.createElement(b.b,null,o.a.createElement(E.e,{fontSize:"lg",fontWeight:"bold"},"Clear forms"),o.a.createElement(E.b,null,"Are you sure you want to clear all history entries? You cannot undo this action afterwards."),o.a.createElement(E.d,null,o.a.createElement(h.a,{ref:D,onClick:R},"Cancel"),o.a.createElement(h.a,{colorScheme:"red",onClick:function(){S(),R()},ml:3},"Clear history completely"))))))},Je=a(340),Ke=a(341),Xe=a(342),Ze=function(){var e=Object(le.c)((function(e){return function(e){if(function(e){var t=e.streamDetails,a=e.playerOptions;return e.ui.advancedMode?a.isModified||[t.streamResource,t.drmLicenseResource,t.drmCertificateResource,t.subtitlesResource].some((function(e){return e.url||e.headers.some((function(e){return e.name||e.value}))||e.useProxy})):!!t.streamResource.url}(e)){if(e.ui.advancedMode){var t=e.streamDetails,a=(t.supportedDrmTechnologies,Object(D.a)(t,["supportedDrmTechnologies"])),r=e.playerOptions;r.isModified;return{streamDetails:a,playerOptions:Object(D.a)(r,["isModified"])}}var n=e.streamDetails.streamResource;n.headers,n.useProxy;return{streamDetails:{streamResource:Object(D.a)(n,["headers","useProxy"])}}}}(e)})),t=e?ae(e,document.location):"",a=Object(Je.a)(t),n=a.onCopy,l=a.hasCopied;return e?o.a.createElement(m.a,{mx:4},o.a.createElement(N,{level:r.H4},"Share your stream setup"),o.a.createElement(p.a,{userSelect:"none",mb:2},"This Streamlab page, with the"," ","playerOptions"in e?"stream details and player options":"stream specified"," to the left pre-filled and ready to be played, can be shared through the following link:"),o.a.createElement(p.a,{backgroundColor:"white",borderRadius:"md",cursor:"text",p:2,wordBreak:"break-all","aria-label":"Copyable share URL","aria-readonly":!0,role:"textbox"},t),o.a.createElement(h.a,{colorScheme:"blue",my:4,mx:"auto",display:"block",leftIcon:l?o.a.createElement(Ke.a,null):o.a.createElement(Xe.a,null),onClick:n},"Copy to clipboard"),o.a.createElement(p.a,{userSelect:"none",mt:2},"NOTE: URLs are often tracked/collected by sharing tools and search bots. Be cautious of using this share URL if it contains form details (keys, resource URLs) not meant to be disclosed to other parties.")):o.a.createElement(m.a,{mx:4},o.a.createElement(N,{level:r.H4},"Share your stream setup"),o.a.createElement(p.a,{userSelect:"none",mb:2},"When you have filled in stream details and/or set some player options, you can share this page with the full setup in a link appearing here."))};!function(e){e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(Ye||(Ye={}));var $e=function(){var e=Object(le.b)(),t=Object(le.c)((function(e){return e.ui.rightPaneActiveTabIndex})),a=Object(le.c)((function(e){return e.information.messages.filter((function(e){return e.level===Ye.ERROR})).length}));return o.a.createElement(Ie.e,{flex:"1 1 auto",display:"flex",flexDirection:"column",alignContent:"stretch",isFitted:!0,backgroundColor:"gray.100",height:"100vh",index:t,onChange:function(t){return e({type:"RIGHT_PANE_TAB_CHANGE",value:t})}},o.a.createElement(Ie.b,{flex:"0 0 auto",backgroundColor:"white"},o.a.createElement(Ie.a,null,"Info"," ",t>0&&a>0&&o.a.createElement(we.a,{ml:2,colorScheme:"red",variant:"solid"},a)),o.a.createElement(Ie.a,null,"History"),o.a.createElement(Ie.a,null,"Sharing")),o.a.createElement(Ie.d,{flex:"1 1 auto",display:"flex",overflowY:"auto",outline:"none"},o.a.createElement(Ie.c,{p:0,"aria-label":"Information panel",display:"flex",flex:"1"},o.a.createElement(He,null)),o.a.createElement(Ie.c,{p:0,"aria-label":"Form history panel",width:"100%"},o.a.createElement(ze,null)),o.a.createElement(Ie.c,{p:0,"aria-label":"Sharing panel"},o.a.createElement(Ze,null))))},Qe=[{key:I.AUTO,label:"Autodetect stream technology"},{key:w.DASH,label:"MPEG-DASH"},{key:w.HLS,label:"HLS"},{key:w.PROGRESSIVE,label:"Progressive video"}],et=function(){var e,t=Object(le.c)((function(e){return e.streamDetails.streamResource})),a=Object(le.b)();return o.a.createElement(m.a,{as:"form",my:8,onSubmit:function(e){e.preventDefault(),a(De)},"aria-label":"Basic form"},o.a.createElement(N,{level:r.H3,fontSize:"md",textAlign:"center"},"Test progressive, HLS, MPEG-DASH, or smooth streams:"),o.a.createElement(v.a,{isRequired:!0,m:4,width:"auto"},o.a.createElement(g.a,{placeholder:"Stream URL",type:"url",textAlign:"center",value:t.url,onChange:function(e){re(),a(ne({streamResource:{url:e.target.value}}))}})),o.a.createElement(u.a,{justify:"center",mx:4},o.a.createElement(R.a,{"aria-label":"Stream technology menu"},o.a.createElement(R.b,{as:h.a,rightIcon:o.a.createElement(A.a,null),flex:"0 0 none",ml:2},(e=t.technology,(Qe.find((function(t){return t.key===e}))||Qe[0]).label)),o.a.createElement(R.d,null,Qe.map((function(e){var t=e.key,r=e.label;return o.a.createElement(R.c,{key:t,onClick:function(){return e=t,re(),void a(ne({streamResource:{technology:e}}));var e}},r)})))),o.a.createElement(h.a,{colorScheme:"green",mx:4,onClick:function(e){return e.currentTarget.blur(),a(De)},isDisabled:!t.url},"Play")))},tt=a(197),at=a(185),rt=a(351),nt=a(186),ot=a.n(nt),lt=a(187),it=a.n(lt),ct=a(113),st=a.n(ct),ut=a(114),mt=a.n(ut),dt=a(115),ft=a.n(dt),pt=a(116),yt=a.n(pt),ht=a(188),bt=a.n(ht),Et=function(e){var t=e.configuration&&e.configuration.shakaPlayer&&e.configuration.shakaPlayer.shakaRequestFilter;return t?Object(O.a)(Object(O.a)({},e),{},{shakaRequestFilter:t}):e},Ot=function(e){return function(e,t,a,r){switch(a){case"HTML":return o.a.createElement(mt.a,r);case"SHAKA_PLAYER":return window.muxjs=bt.a,o.a.createElement(st.a,Et(r));case"HLS_JS":return o.a.createElement(ft.a,r);case"RX_PLAYER":return o.a.createElement(yt.a,r);default:switch(e&&"string"!==typeof e&&"contentType"in e?e.contentType:""){case U[w.DASH]:return o.a.createElement(st.a,Object.assign({},r,Et(r)));case U[w.MSS]:return o.a.createElement(yt.a,r);case U[w.HLS]:return function(e){return e.indexOf("Safari")>0&&e.indexOf("Chrome")<0&&e.indexOf("Firefox")<0}(t)?o.a.createElement(mt.a,r):o.a.createElement(ft.a,r);default:return o.a.createElement(it.a,r)}}}(e.source,navigator.userAgent,e.playerLibraryOverride,e)},vt=function(e,t,a){var r={};return t&&(r.licenseXhrSetup=function(e){Object.keys(t).filter((function(e){return"authorization"===e.toLowerCase()}))&&(e.withCredentials=!0),Object.entries(t).forEach((function(t){var a=Object(d.a)(t,2),r=a[0],n=a[1];return e.setRequestHeader(r,n)}))}),(a||e)&&(r.xhrSetup=function(t){(e||a&&a.withCredentials)&&(t.withCredentials=!0),a&&a.headers.forEach((function(e){var a=e.name,r=e.value;return t.setRequestHeader(a,r)}))}),{hlsjs:{customConfiguration:r}}},gt=function(e,t,a){if(e){var r=t&&t.videoStreamer||{},n=function(e){if("object"===typeof e&&"licenseAcquisitionDetails"in e){var t=e.licenseAcquisitionDetails&&"licenseRequestHeaders"in e.licenseAcquisitionDetails&&e.licenseAcquisitionDetails.licenseRequestHeaders;if(t&&Object.keys(t).length)return t}}(e),o=!(!r.manifestRequests||!r.manifestRequests.withCredentials);if(a||o){var l=Object(O.a)(Object(O.a)(Object(O.a)({},r),vt(o,n,a)),function(e,t){return{shakaPlayer:{shakaRequestFilter:function(a,r){1!==a&&0!==a||((e||t&&t.withCredentials)&&(r.allowCrossSiteCredentials=!0),t&&t.headers.forEach((function(e){var t=e.name,a=e.value;return r.headers[t]=a})))}}}}(o,a));return Object(O.a)(Object(O.a)({},t),{},{videoStreamer:l})}if(n){var i=Object(O.a)(Object(O.a)({},r),vt(!1,n,void 0));return Object(O.a)(Object(O.a)({},t),{},{videoStreamer:i})}}return t},Rt={interactionDetector:{inactivityDelay:-1}},St=function(e){window.player||(window.player={}),window.player.state||(window.player.state={});for(var t=0,a=Object.entries(e);t<a.length;t++){var r=Object(d.a)(a[t],2),n=r[0],o=r[1];window.player.state[n]=o}},jt=function(e){window.player=e,window.player.state={},console.log("Streamlab v".concat("3.5.0")),console.info("Playback methods and playback state is exposed to a global %cplayer %cobject. Expand for details:","font-weight: bold; color: orange;","font-weight: normal; color: inherit"),console.dir(window.player),console.info("Start playing a stream. then type e.g. %cplayer.setPosition(123), %cto seek to 02:03, or %cplayer.state.position %cto get the current playback position.","font-weight: bold; color: orange;","font-weight: normal; color: inherit","font-weight: bold; color: orange;","font-weight: normal; color: inherit")},At=function(){var e=Object(le.c)((function(e){return Object(O.a)({},e.player)})),t=e.source,a=e.options,r=e.playerLibraryOverride,n=e.additionalRequestData,l=Object(le.b)(),i=gt(t,a,n);return o.a.createElement(m.a,{my:1,p:4,position:"relative"},o.a.createElement(at.Replay,{source:t,options:t?i:Object(O.a)(Object(O.a)({},i),Rt),onError:function(e){return l((t=e,function(e){if(t instanceof Error){if(t.sourceError&&(t.sourceError.loader||t.sourceError.frag&&t.sourceError.frag.loader)){var a=t.sourceError,r=(a.loader,a.context,a.frag,Object(D.a)(a,["loader","context","frag"]));t.sourceError=r,e({type:"PLAYER_ERROR",error:t})}else e({type:"PLAYER_ERROR",error:t});console.error("Playback error: %s",t.message)}else e({type:"PLAYER_ERROR",error:new Error(t)}),console.error("Playback error:",t);console.dir(t)}));var t},onExit:t?function(){return l(Le)}:void 0,onStreamStateChange:St,onPlaybackActionsReady:jt},o.a.createElement(Ot,{playerLibraryOverride:r})),!t&&o.a.createElement(u.a,{position:"absolute",left:0,right:0,top:0,direction:"column",pt:12,alignItems:"center",opacity:.7},o.a.createElement(p.a,{width:"20%",mt:6},o.a.createElement(he.a,{href:"https://vimond.github.io/replay/",isExternal:!0},o.a.createElement(rt.a,{src:ot.a,alt:"Replay",width:"8rem",margin:"0 auto"}))),o.a.createElement(p.a,{color:"white",mt:6},"The"," ",o.a.createElement(he.a,{href:"https://vimond.github.io/replay/",isExternal:!0,style:{textDecoration:"underline"}},"open source")," ","React video player from"," ",o.a.createElement(he.a,{href:"https://vimond.com",isExternal:!0,style:{textDecoration:"underline"}},"Vimond"),".")))},Dt=a(189),Ct=a.n(Dt),Lt=function(){var e=Object(le.c)((function(e){return e.ui.advancedMode})),t=Object(le.c)((function(e){return e.ui.isRightPaneExpanded})),a=Object(le.b)();return o.a.createElement(u.a,{direction:"row",align:"center",backgroundColor:"gray.200",flex:"0 0 auto"},o.a.createElement(N,{level:r.H1,flex:"1 1 auto",display:"flex",flexDirection:"row",alignItems:"center"},o.a.createElement(he.a,{href:"https://github.com/vimond/streamlab",isExternal:!0},o.a.createElement(rt.a,{src:Ct.a,alt:"Streamlab",width:"10rem",opacity:.8}))),o.a.createElement(v.a,{flex:"0",p:1,mt:1,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},o.a.createElement(S.a,{id:"advanced-switch",isChecked:e,onChange:function(e){re(),a({type:"TOGGLE_ADVANCED_MODE",value:e.target.checked})}}),o.a.createElement(j.a,{ml:2,mt:1,fontSize:"sm",htmlFor:"advanced-switch"},"Advanced")),o.a.createElement(h.a,{width:"auto",minWidth:"auto",height:"auto",flex:"0",ml:4,p:1,title:"".concat(t?"Collapse":"Expand"," sidebar"),onClick:function(e){return a({type:"TOGGLE_RIGHT_PANE",value:"\u2039"===e.currentTarget.textContent})}},t?"\u203a":"\u2039"))},Tt=(a(304),a(305),Object(c.a)({components:{Menu:{baseStyle:{list:{zIndex:5}}}}})),xt=function(){return{backgroundColor:"#E2E8F0",width:"4px"}},It=function(){var e=Object(le.c)((function(e){return e.ui.advancedMode})),t=Object(le.c)((function(e){return e.ui.rightPaneWidth||33})),a=Object(le.c)((function(e){return e.ui.isRightPaneExpanded})),r=Object(le.b)();return Object(n.useEffect)((function(){r(oe(navigator.userAgent,document.location.search))}),[r]),o.a.createElement(s.a,{theme:Tt},o.a.createElement(tt.a,{onDragEnd:function(e){return r({type:"PANE_RESIZE",value:e[1]})},sizes:[100-t,t],direction:"horizontal",cursor:"col-resize",gutterAlign:"end",gutterSize:4,gutterStyle:xt,collapsed:a?void 0:1,minSize:a?300:0,style:{display:"flex"}},o.a.createElement(u.a,{height:"100vh",direction:"column"},o.a.createElement(Lt,null),o.a.createElement(m.a,{flex:"1 1 auto",overflowY:"auto"},e?o.a.createElement(xe,null):o.a.createElement(et,null),o.a.createElement(At,null))),o.a.createElement($e,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wt,kt=a(190),_t=a(33),Pt=a(191),Nt=a(192),Ht=a(72),Mt=a(193),Yt=a.n(Mt),Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{advancedMode:!1,expandedAdvancedAccordionIndices:[0],rightPaneActiveTabIndex:0,isRightPaneExpanded:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLY_BROWSER_ENVIRONMENT":if(t.value.urlSetup){var a="playerOptions"in t.value.urlSetup,r=a?[0,1]:e.expandedAdvancedAccordionIndices,n=0,o=!0;return Object(O.a)(Object(O.a)({},e),{},{advancedMode:a,expandedAdvancedAccordionIndices:r,rightPaneActiveTabIndex:n,isRightPaneExpanded:o})}return e;case"TOGGLE_ADVANCED_MODE":return Object(O.a)(Object(O.a)({},e),{},{advancedMode:t.value});case"RESTORE_HISTORY_ENTRY":return"drmLicenseResource"in t.value.formData.streamDetails?Object(O.a)(Object(O.a)({},e),{},{advancedMode:!0}):e;case"PANE_RESIZE":return Object(O.a)(Object(O.a)({},e),{},{rightPaneWidth:t.value});case"TOGGLE_RIGHT_PANE":return Object(O.a)(Object(O.a)({},e),{},{isRightPaneExpanded:t.value});case"ADVANCED_ACCORDION_CHANGE":return Object(O.a)(Object(O.a)({},e),{},{expandedAdvancedAccordionIndices:t.value});case"RIGHT_PANE_TAB_CHANGE":return Object(O.a)(Object(O.a)({},e),{},{rightPaneActiveTabIndex:t.value});default:return e}},Ut=function(){return{url:"",headers:[],useProxy:!1,technology:I.AUTO}},Gt=function(){return{streamResource:Ut(),drmLicenseResource:Ut(),drmCertificateResource:Ut(),subtitlesResource:Ut(),supportedDrmTechnologies:[],isDrmCertificateApplicable:!0,startOffset:""}},Wt=function(e){return e!==k.PLAYREADY},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLY_BROWSER_ENVIRONMENT":var a=t.value,r=a.supportedDrmTechnologies,n=a.urlSetup,o=r[0],l=Wt(o);if(n){var i=Gt();return Object(O.a)(Object(O.a)(Object(O.a)({},i),{},{isDrmCertificateApplicable:l},n.streamDetails),{},{streamResource:Object(O.a)(Object(O.a)({},i.streamResource),n.streamDetails.streamResource),supportedDrmTechnologies:r})}return Object(O.a)(Object(O.a)({},e),{},{supportedDrmTechnologies:r,isDrmCertificateApplicable:l,drmLicenseResource:Object(O.a)(Object(O.a)({},e.drmLicenseResource),{},{technology:o}),drmCertificateResource:Object(O.a)(Object(O.a)({},e.drmCertificateResource),{},{technology:o})});case"STREAM_RESOURCE_FIELD_CHANGE":return Object(O.a)(Object(O.a)({},e),{},{streamResource:Object(O.a)(Object(O.a)({},e.streamResource),t.value)});case"DRM_LICENSE_RESOURCE_FIELD_CHANGE":var c=Object(O.a)(Object(O.a)({},e),{},{isDrmCertificateApplicable:Wt(t.value.technology),drmLicenseResource:Object(O.a)(Object(O.a)({},e.drmLicenseResource),t.value)});return"technology"in t.value&&t.value.technology?Object(O.a)(Object(O.a)({},c),{},{drmCertificateResource:Object(O.a)(Object(O.a)({},e.drmCertificateResource),{},{technology:t.value.technology})}):c;case"DRM_CERTIFICATE_RESOURCE_FIELD_CHANGE":var s=Object(O.a)(Object(O.a)({},e),{},{isDrmCertificateApplicable:Wt(t.value.technology),drmCertificateResource:Object(O.a)(Object(O.a)({},e.drmCertificateResource),t.value)});return"technology"in t.value&&null!=t.value.technology?Object(O.a)(Object(O.a)({},s),{},{drmLicenseResource:Object(O.a)(Object(O.a)({},e.drmLicenseResource),{},{technology:t.value.technology})}):s;case"SUBTITLES_RESOURCE_FIELD_CHANGE":return Object(O.a)(Object(O.a)({},e),{},{subtitlesResource:Object(O.a)(Object(O.a)({},e.subtitlesResource),t.value)});case"START_OFFSET_FIELD_CHANGE":return Object(O.a)(Object(O.a)({},e),{},{startOffset:t.value});case"RESTORE_HISTORY_ENTRY":var u=Gt(),m=e.supportedDrmTechnologies;return Object(O.a)(Object(O.a)(Object(O.a)({},u),t.value.formData.streamDetails),{},{streamResource:Object(O.a)(Object(O.a)({},u.streamResource),t.value.formData.streamDetails.streamResource),supportedDrmTechnologies:m});case"CLEAR_FORMS":return{isDrmCertificateApplicable:e.isDrmCertificateApplicable,supportedDrmTechnologies:e.supportedDrmTechnologies,streamResource:Ut(),drmLicenseResource:Object(O.a)(Object(O.a)({},Ut()),{},{technology:e.drmLicenseResource.technology}),drmCertificateResource:Object(O.a)(Object(O.a)({},Ut()),{},{technology:e.drmCertificateResource.technology}),subtitlesResource:Ut(),startOffset:""};default:return e}},Bt={source:void 0,options:{interactionDetector:{inactivityDelay:-1}},additionalRequestData:void 0,playerLibraryOverride:void 0},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAY":var a=t.value,r=a.source,n=a.options,o=a.playerLibraryOverride,l=a.additionalRequestData;return{source:r,options:n,playerLibraryOverride:o,additionalRequestData:l};case"STOP":case"CLEAR_FORMS":return Bt;case"PLAYER_ERROR":return Object(O.a)(Object(O.a)({},Bt),{},{error:t.error})}return e},zt={logLevel:F,showPlaybackMonitor:!1,customConfiguration:"",playerLibrary:"AUTO",isModified:!1},Jt=function(e){var t=e.logLevel,a=e.showPlaybackMonitor,r=e.customConfiguration,n=e.playerLibrary;return t===zt.logLevel&&a===zt.showPlaybackMonitor&&r===zt.customConfiguration&&n===zt.playerLibrary},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLY_BROWSER_ENVIRONMENT":return t.value.urlSetup&&"playerOptions"in t.value.urlSetup&&t.value.urlSetup.playerOptions&&Object.keys(t.value.urlSetup.playerOptions).length>=0?Object(O.a)(Object(O.a)(Object(O.a)({},e),t.value.urlSetup.playerOptions),{},{isModified:!Jt(Object(O.a)(Object(O.a)({},e),t.value.urlSetup.playerOptions))}):e;case"SET_LOG_LEVEL":return Object(O.a)(Object(O.a)({},e),{},{logLevel:t.value,isModified:!Jt(Object(O.a)(Object(O.a)({},e),{},{logLevel:t.value}))});case"SET_PLAYER_LIBRARY":return Object(O.a)(Object(O.a)({},e),{},{playerLibrary:t.value,isModified:!Jt(Object(O.a)(Object(O.a)({},e),{},{playerLibrary:t.value}))});case"TOGGLE_PLAYBACK_MONITOR":return Object(O.a)(Object(O.a)({},e),{},{showPlaybackMonitor:t.value,isModified:!Jt(Object(O.a)(Object(O.a)({},e),{},{showPlaybackMonitor:t.value}))});case"SET_PLAYER_CONFIGURATION":return Object(O.a)(Object(O.a)({},e),{},{customConfiguration:t.value,isModified:!Jt(Object(O.a)(Object(O.a)({},e),{},{customConfiguration:t.value}))});case"CLEAR_FORMS":return zt;case"RESTORE_HISTORY_ENTRY":if("playerOptions"in t.value.formData){var a=t.value.formData.playerOptions;if(a)return Object(O.a)(Object(O.a)({},a),{},{isModified:!Jt(Object(O.a)(Object(O.a)({},a),{},{isModified:!1}))})}default:return e}},Xt=function(e){var t=Object(d.a)(e,2),a=(t[0],t[1]);return!(null==a||""===a||Array.isArray(a)&&0===a.length||"number"===typeof a&&Number.isNaN(a))},Zt=function(e,t){var a=Object(d.a)(e,1)[0],r=Object(d.a)(t,1)[0];return a.localeCompare(r,"en-US")},$t=function(e){return null!=e&&e.constructor==={}.constructor},Qt=function e(t,a){if(t===a)return!0;if(Array.isArray(t)&&Array.isArray(a)){if(t.length===a.length){for(var r=t.length;r--;)if(!e(t[r],a[r]))return!1;return!0}return!1}if($t(t)&&$t(a)){var n=Object.entries(t).filter(Xt).sort(Zt),o=Object.entries(a).filter(Xt).sort(Zt);if(n.length!==o.length)return!1;for(var l=n.length;l--;)if(n[l][0]!==o[l][0]||!e(n[l][1],o[l][1]))return!1;return!0}return!1},ea=function(e,t){var a=e.findIndex((function(e){return Qt(e.formData,t.formData)}));if(-1!==a){var r=e[a].name,n=e.slice(0);return n.splice(a,1),n.concat(Object(O.a)(Object(O.a)({},t),{},{name:r}))}return e.concat(t)},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{history:[],historyListFilter:ve.BOTH},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_HISTORY_ENTRY":return e.selectedEntry&&e.selectedEntry.timestamp===t.value.timestamp?Object(O.a)(Object(O.a)({},e),{},{selectedEntry:void 0}):Object(O.a)(Object(O.a)({},e),{},{selectedEntry:t.value});case"UPDATE_HISTORY_ENTRY_NAME":if(e.selectedEntry){var a=e.history.slice(0),r=a.findIndex((function(t){return t.timestamp===(e.selectedEntry&&e.selectedEntry.timestamp)}));return-1!==r&&(a[r]=Object(O.a)(Object(O.a)({},a[r]),{},{name:t.value})),Object(O.a)(Object(O.a)({},e),{},{history:a,selectedEntry:Object(O.a)(Object(O.a)({},e.selectedEntry),{},{name:t.value})})}return e;case"DELETE_HISTORY_ENTRY":var n=e.history.findIndex((function(e){return e.timestamp===t.value.timestamp})),o=e.history.slice(0);return o.splice(n,1),Object(O.a)(Object(O.a)({},e),{},{selectedEntry:void 0,history:o});case"DELETE_HISTORY":return{history:[],historyListFilter:e.historyListFilter};case"DELETE_UNNAMED_HISTORY_ENTRIES":return Object(O.a)(Object(O.a)({},e),{},{selectedEntry:e.selectedEntry&&e.selectedEntry.name?e.selectedEntry:void 0,history:e.history.filter((function(e){return e.name}))});case"SET_HISTORY_LIST_FILTER":return Object(O.a)(Object(O.a)({},e),{},{historyListFilter:t.value});case"PLAY":var l=ea(e.history,t.value.historyEntry),i=e.selectedEntry&&Qt(e.selectedEntry.formData,t.value.historyEntry.formData)?Object(O.a)(Object(O.a)({},t.value.historyEntry),{},{name:e.selectedEntry.name}):e.selectedEntry;return Object(O.a)(Object(O.a)({},e),{},{history:l,selectedEntry:i});case"PLAYER_ERROR":var c=e.history,s=c.slice(0,c.length-1),u=c[c.length-1];return s.push(Object(O.a)(Object(O.a)({},u),{},{error:t.error})),Object(O.a)(Object(O.a)({},e),{},{history:s});default:return e}},aa=a(194),ra=function(e,t){return function(a,r,n){return r.type===aa.REHYDRATE?Object(O.a)(Object(O.a)(Object(O.a)({},n),r.payload),{},{information:{messages:t(e,a,r,Object(O.a)(Object(O.a)({},n),r.payload))}}):Object(O.a)(Object(O.a)({},n),{},{information:{messages:t(e,a,r,n)}})}},na=a(40),oa=a.n(na),la=a(195),ia=a.n(la),ca=a(108),sa=a.n(ca),ua={AUTO:{label:"",link:void 0},SHAKA_PLAYER:{label:"the Shaka Player ".concat(ia.a.Player.version," library"),link:"https://github.com/google/shaka-player"},HLS_JS:{label:"the HLS.js v".concat(oa.a.version," library"),link:"https://github.com/video-dev/hls.js"},RX_PLAYER:{label:"the RxPlayer v".concat(sa.a.version," library"),link:"https://github.com/canalplus/rx-player"},HTML:{label:"the browser's native support through the HTML <video> element",link:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video"},HLS_SAFARI:{label:"Safari's native HLS support through HTML video element",link:"https://developer.apple.com/documentation/webkit/delivering_video_content_for_safari"}},ma=(wt={},Object(H.a)(wt,I.AUTO,"AUTO"),Object(H.a)(wt,w.DASH,"SHAKA_PLAYER"),Object(H.a)(wt,w.HLS,"HLS_JS"),Object(H.a)(wt,w.MSS,"RX_PLAYER"),Object(H.a)(wt,w.PROGRESSIVE,"HTML"),wt),da={SHAKA_PLAYER:[w.DASH,w.HLS],HLS_JS:[w.HLS],RX_PLAYER:[w.DASH,w.MSS],HTML:[w.PROGRESSIVE],SAFARI:[w.HLS,w.PROGRESSIVE]},fa=function(e){var t=e.url,a=e.technology;return a===I.AUTO?K(t):a},pa=function(e){var t=e.streamDetails.streamResource.technology,a=e.ui.advancedMode?e.playerOptions.playerLibrary:"AUTO",r=e.streamDetails.supportedDrmTechnologies&&e.streamDetails.supportedDrmTechnologies[0]===k.FAIRPLAY;return{technology:t===I.AUTO?K(e.streamDetails.streamResource.url):t,playerLibrary:a,isSafari:r}},ya=function(e){var t=pa(e),a=t.technology,r=t.playerLibrary;return r&&"AUTO"!==r?r:a?ma[a]:void 0},ha=function(e){var t=e.headers;return Array.isArray(t)&&t.some((function(e){return e.name}))},ba=[{id:"welcome-1",displayCondition:function(e){var t=e.nextState;return""===t.streamDetails.streamResource.url&&0===t.history.history.length},message:{level:Ye.INFO,text:"Welcome to Streamlab, created by Vimond developers.",link:"https://github.com/vimond/streamlab"}},{id:"share",displayCondition:function(e){var t=e.action;return"APPLY_BROWSER_ENVIRONMENT"===t.type&&!!t.value.urlSetup},message:{level:Ye.SUCCESS,text:"The shared stream setup found in the URL is now applied to the form to the left. Press Play to try it out."}},{id:"start-basic",displayCondition:function(e){var t=e.nextState;return""===t.streamDetails.streamResource.url&&!t.ui.advancedMode},message:{level:Ye.INFO,text:"Fill in an URL to the stream you want to test, and press Play. Flip the Advanced switch for more options."}},{id:"start-advanced",displayCondition:function(e){var t=e.nextState;return""===t.streamDetails.streamResource.url&&t.ui.advancedMode},message:{level:Ye.INFO,text:"Fill in an URL to the stream you want to test. Supplement with DRM information if required, or subtitles file URLs if desired. License requests can have headers added for e.g. authorization."}},{id:"pane-resize",displayCondition:function(e){var t=e.nextState;return t.history.history.length>0&&t.history.history.length<3&&!t.ui.rightPaneWidth},message:{level:Ye.INFO,text:"This pane can be resized by dragging the gutter to the left. Also note the expand/collapse button next to the Advanced toggle."}},{id:"basic-play",displayCondition:function(e){var t=e.nextState;return t.streamDetails.streamResource.technology!==I.AUTO&&""!==t.streamDetails.streamResource.url&&!t.player.source},message:{level:Ye.INFO,text:"Press Play to load the specified stream URL in the player."}},{id:"stream-autodetect",displayCondition:function(e){var t=e.nextState;return t.streamDetails.streamResource.technology===I.AUTO&&""!==t.streamDetails.streamResource.url},message:function(e,t){var a=J(e.streamDetails.streamResource.url),r="PLAYER_ERROR"===t.type||e.player.source;return a?{level:Ye.SUCCESS,text:"Auto detected stream type is ".concat(a.label,". ").concat(r?"":"Press Play to load it into the player.")}:{level:Ye.ERROR,text:"Unable to detect stream type based on URL content. Please select the technology from the dropdown."}}},{id:"player-lib-support",displayCondition:function(e){var t=e.nextState;return(!("error"in t.player)||!t.player.error)&&""!==t.streamDetails.streamResource.url&&!!fa(t.streamDetails.streamResource)},message:function(e,t){var a=pa(e),r=a.technology,n=a.playerLibrary;return function(e,t,a){var r=a&&"AUTO"!==a;if(e){if(r){var n=ua[a],o=n.label,l=n.link;return{level:Ye.INFO,text:"In Player options, ".concat(o," is selected for playing this stream."),link:l}}var i=t&&e===w.HLS?ua.HLS_SAFARI:ua[ma[e]],c=i.label,s=i.link;return{level:Ye.INFO,text:"The player will use ".concat(c," for playing this stream."),link:s}}return{level:Ye.ERROR,text:r?"Undetected stream technology. However ".concat(ua[a].label," is selected for playing this stream."):"Undecided stream technology. Unable to select a playback technology."}}(r,a.isSafari,n)}},{id:"player-lib-unsupported",displayCondition:function(e){return function(e){var t=pa(e),a=t.playerLibrary,r=t.technology,n=t.isSafari;return!(!a||"AUTO"===a||!r)&&(n&&"HTML"===a?!da.SAFARI.includes(r):!da[a].includes(r))}(e.nextState)},message:function(e){var t=pa(e),a=t.technology,r=t.playerLibrary,n=a===w.MSS?"smooth":(B.find((function(e){return e.key===a}))||{key:I.AUTO,label:"unknown"}).label,o="HTML"===r?"this browser":Y[r];return{level:Ye.WARNING,text:"However, ".concat(o," is not known to be capable of playing ").concat(n," streams.")}}},{id:"limited-rx-player-support",displayCondition:function(e){var t=e.nextState;return(!("error"in t.player)||!t.player.error)&&""!==t.streamDetails.streamResource.url&&"RX_PLAYER"===ya(t)},message:{level:Ye.WARNING,text:"Note that the integration with the RxPlayer library is not complete, and lacks support for subtitles and controls for bitrate + multiple audio tracks."}},{id:"stream-headers",displayCondition:function(e){var t=e.nextState;return(!("error"in t.player)||!t.player.error)&&ha(t.streamDetails.streamResource)&&("SHAKA_PLAYER"===ya(t)||"HLS_JS"===ya(t))},message:{level:Ye.INFO,text:"The specified headers will be included in manifest/playlist and segment requests."}},{id:"limited-header-support",displayCondition:function(e){var t=e.nextState;return(!("error"in t.player)||!t.player.error)&&ha(t.streamDetails.streamResource)&&"SHAKA_PLAYER"!==ya(t)&&"HLS_JS"!==ya(t)},message:{level:Ye.WARNING,text:"Including custom headers in stream requests (manifests, segments) is not supported for this player technology."}},{id:"subtitles-autodetect",displayCondition:function(e){var t=e.nextState;return t.streamDetails.subtitlesResource.technology===I.AUTO&&""!==t.streamDetails.subtitlesResource.url},message:function(e,t){var a=X(e.streamDetails.subtitlesResource.url);return a?{level:Ye.INFO,text:"Auto detected subtitles type is ".concat(Z(a,z),".")}:{level:Ye.WARNING,text:"Unable to detect subtitles type based on URL content. Please select the technology from the dropdown."}}},{id:"subtitles-incompatible",displayCondition:function(e){var t=e.nextState;return""!==t.streamDetails.subtitlesResource.url&&(t.streamDetails.subtitlesResource.technology===_.TTML||t.streamDetails.subtitlesResource.technology===I.AUTO&&X(t.streamDetails.subtitlesResource.url)===_.TTML)&&fa(t.streamDetails.streamResource)!==w.DASH},message:{level:Ye.WARNING,text:"The subtitles format, TTML, is only supported for DASH streams through Shaka Player."}},{id:"player-error",displayCondition:function(e){return"error"in e.nextState.player},message:function(e,t){return{level:Ye.ERROR,text:"Player error: ".concat("error"in e.player&&e.player.error&&e.player.error.message,". The full error object is logged to the browser console.")}}},{id:"monitor",displayCondition:function(e){var t=e.nextState;return!!t.player.source&&!t.playerOptions.showPlaybackMonitor},message:{level:Ye.INFO,text:"Press Ctrl+Alt+M to reveal a panel with all properties of the playback state."}},{id:"share-incompatible-drm",displayCondition:function(e){var t=e.nextState,a=e.action;return!!("APPLY_BROWSER_ENVIRONMENT"===a.type&&a.value.urlSetup&&"drmLicenseResource"in a.value.urlSetup.streamDetails&&""!==a.value.urlSetup.streamDetails.drmLicenseResource.url&&a.value.urlSetup.streamDetails.drmLicenseResource.technology&&t.streamDetails.supportedDrmTechnologies.indexOf(a.value.urlSetup.streamDetails.drmLicenseResource.technology)<0)},message:{level:Ye.ERROR,text:"The shared link specified an unsupported DRM technology, and can perhaps not be used for playback in this browser. Consider testing it in a different browser."}},{id:"drm-auto-detect",displayCondition:function(e){return e.nextState.ui.advancedMode},message:function(e,t){return{level:Ye.INFO,text:"This browser supports ".concat((e.streamDetails.supportedDrmTechnologies||[]).map((function(e){return Z(e,q)})).join(" and ")," for DRM playback.")}}},{id:"drm-fairplay-certificate",displayCondition:function(e){var t=e.nextState;return t.ui.advancedMode&&!!t.streamDetails.drmLicenseResource.url&&!t.streamDetails.drmCertificateResource.url&&t.streamDetails.drmLicenseResource.technology===k.FAIRPLAY},message:{level:Ye.WARNING,text:"When playing a stream with FairPlay DRM encryption, a certificate URL for the content provider needs to be specified."}},{id:"player-options-invalid-json",displayCondition:function(e){var t=e.nextState;if(!(t.ui.advancedMode&&t.playerOptions.customConfiguration&&t.playerOptions.customConfiguration.trim()))return!1;try{return JSON.parse(t.playerOptions.customConfiguration),!1}catch(a){return!0}},message:{level:Ye.WARNING,text:"The player configuration overrides are not specified as valid JSON, and will be ignored."}}],Ea=Object(_t.combineReducers)({ui:Ft,streamDetails:Vt,player:qt,playerOptions:Kt,history:ta,information:function(){return{}}}),Oa=ra(ba,(function(e,t,a,r){return e.filter((function(e){return e.displayCondition({action:a,prevState:t,nextState:r})})).map((function(e){return"function"===typeof e.message?e.message(r,a):e.message}))})),va=function(e){return Object(O.a)(Object(O.a)({},e),{},{playerLibrary:e&&e.playerLibrary||"AUTO"})},ga={1:function(e){return e?Object(O.a)(Object(O.a)({},e),{},{history:(t=e.history,t&&t.history?Object(O.a)(Object(O.a)({},t),{},{history:t.history.map((function(e){return"playerOptions"in e.formData?Object(O.a)(Object(O.a)({},e),{},{formData:Object(O.a)(Object(O.a)({},e.formData),{},{playerOptions:va(e.formData.playerOptions)})}):e}))}):t),playerOptions:va(e.playerOptions)}):e;var t}},Ra={version:1,migrate:Object(Ht.a)(ga,{debug:!0})},Sa=Object(O.a)(Object(O.a)({},Ra),{},{key:"root",storage:Yt.a,blacklist:["player","information"]}),ja=Object(Ht.b)(Sa,(function(e,t){return Oa(e,t,Ea(e,t))})),Aa=function(){var e=Object(_t.createStore)(ja,Object(Pt.composeWithDevTools)(Object(_t.applyMiddleware)(Nt.a)));return{store:e,persistor:Object(Ht.c)(e)}}(),Da=Aa.store,Ca=Aa.persistor;i.a.render(o.a.createElement(le.a,{store:Da},o.a.createElement(kt.a,{persistor:Ca},o.a.createElement(It,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[206,1,2]]]);
//# sourceMappingURL=main.53cbdbbd.chunk.js.map